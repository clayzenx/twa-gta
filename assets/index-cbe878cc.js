(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const ot of document.querySelectorAll('link[rel="modulepreload"]'))nt(ot);new MutationObserver(ot=>{for(const it of ot)if(it.type==="childList")for(const at of it.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&nt(at)}).observe(document,{childList:!0,subtree:!0});function tt(ot){const it={};return ot.integrity&&(it.integrity=ot.integrity),ot.referrerPolicy&&(it.referrerPolicy=ot.referrerPolicy),ot.crossOrigin==="use-credentials"?it.credentials="include":ot.crossOrigin==="anonymous"?it.credentials="omit":it.credentials="same-origin",it}function nt(ot){if(ot.ep)return;ot.ep=!0;const it=tt(ot);fetch(ot.href,it)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(rt){return rt&&rt.__esModule&&Object.prototype.hasOwnProperty.call(rt,"default")?rt.default:rt}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$2=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(rt){return rt===null||typeof rt!="object"?null:(rt=z$3&&rt[z$3]||rt["@@iterator"],typeof rt=="function"?rt:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(rt,et,tt){this.props=rt,this.context=et,this.refs=D$3,this.updater=tt||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(rt,et){if(typeof rt!="object"&&typeof rt!="function"&&rt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,rt,et,"setState")};E$3.prototype.forceUpdate=function(rt){this.updater.enqueueForceUpdate(this,rt,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$2(rt,et,tt){this.props=rt,this.context=et,this.refs=D$3,this.updater=tt||B$2}var H$2=G$2.prototype=new F$1;H$2.constructor=G$2;C$2(H$2,E$3.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(rt,et,tt){var nt,ot={},it=null,at=null;if(et!=null)for(nt in et.ref!==void 0&&(at=et.ref),et.key!==void 0&&(it=""+et.key),et)J$1.call(et,nt)&&!L$2.hasOwnProperty(nt)&&(ot[nt]=et[nt]);var st=arguments.length-2;if(st===1)ot.children=tt;else if(1<st){for(var ut=Array(st),ft=0;ft<st;ft++)ut[ft]=arguments[ft+2];ot.children=ut}if(rt&&rt.defaultProps)for(nt in st=rt.defaultProps,st)ot[nt]===void 0&&(ot[nt]=st[nt]);return{$$typeof:l$3,type:rt,key:it,ref:at,props:ot,_owner:K$2.current}}function N$2(rt,et){return{$$typeof:l$3,type:rt.type,key:et,ref:rt.ref,props:rt.props,_owner:rt._owner}}function O$1(rt){return typeof rt=="object"&&rt!==null&&rt.$$typeof===l$3}function escape$1(rt){var et={"=":"=0",":":"=2"};return"$"+rt.replace(/[=:]/g,function(tt){return et[tt]})}var P$2=/\/+/g;function Q$2(rt,et){return typeof rt=="object"&&rt!==null&&rt.key!=null?escape$1(""+rt.key):et.toString(36)}function R$1(rt,et,tt,nt,ot){var it=typeof rt;(it==="undefined"||it==="boolean")&&(rt=null);var at=!1;if(rt===null)at=!0;else switch(it){case"string":case"number":at=!0;break;case"object":switch(rt.$$typeof){case l$3:case n$3:at=!0}}if(at)return at=rt,ot=ot(at),rt=nt===""?"."+Q$2(at,0):nt,I$2(ot)?(tt="",rt!=null&&(tt=rt.replace(P$2,"$&/")+"/"),R$1(ot,et,tt,"",function(ft){return ft})):ot!=null&&(O$1(ot)&&(ot=N$2(ot,tt+(!ot.key||at&&at.key===ot.key?"":(""+ot.key).replace(P$2,"$&/")+"/")+rt)),et.push(ot)),1;if(at=0,nt=nt===""?".":nt+":",I$2(rt))for(var st=0;st<rt.length;st++){it=rt[st];var ut=nt+Q$2(it,st);at+=R$1(it,et,tt,ut,ot)}else if(ut=A$2(rt),typeof ut=="function")for(rt=ut.call(rt),st=0;!(it=rt.next()).done;)it=it.value,ut=nt+Q$2(it,st++),at+=R$1(it,et,tt,ut,ot);else if(it==="object")throw et=String(rt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(rt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return at}function S$2(rt,et,tt){if(rt==null)return rt;var nt=[],ot=0;return R$1(rt,nt,"","",function(it){return et.call(tt,it,ot++)}),nt}function T$2(rt){if(rt._status===-1){var et=rt._result;et=et(),et.then(function(tt){(rt._status===0||rt._status===-1)&&(rt._status=1,rt._result=tt)},function(tt){(rt._status===0||rt._status===-1)&&(rt._status=2,rt._result=tt)}),rt._status===-1&&(rt._status=0,rt._result=et)}if(rt._status===1)return rt._result.default;throw rt._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(rt,et,tt){S$2(rt,function(){et.apply(this,arguments)},tt)},count:function(rt){var et=0;return S$2(rt,function(){et++}),et},toArray:function(rt){return S$2(rt,function(et){return et})||[]},only:function(rt){if(!O$1(rt))throw Error("React.Children.only expected to receive a single React element child.");return rt}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(rt,et,tt){if(rt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+rt+".");var nt=C$2({},rt.props),ot=rt.key,it=rt.ref,at=rt._owner;if(et!=null){if(et.ref!==void 0&&(it=et.ref,at=K$2.current),et.key!==void 0&&(ot=""+et.key),rt.type&&rt.type.defaultProps)var st=rt.type.defaultProps;for(ut in et)J$1.call(et,ut)&&!L$2.hasOwnProperty(ut)&&(nt[ut]=et[ut]===void 0&&st!==void 0?st[ut]:et[ut])}var ut=arguments.length-2;if(ut===1)nt.children=tt;else if(1<ut){st=Array(ut);for(var ft=0;ft<ut;ft++)st[ft]=arguments[ft+2];nt.children=st}return{$$typeof:l$3,type:rt.type,key:ot,ref:it,props:nt,_owner:at}};react_production_min.createContext=function(rt){return rt={$$typeof:u$2,_currentValue:rt,_currentValue2:rt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},rt.Provider={$$typeof:t$2,_context:rt},rt.Consumer=rt};react_production_min.createElement=M$2;react_production_min.createFactory=function(rt){var et=M$2.bind(null,rt);return et.type=rt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(rt){return{$$typeof:v$3,render:rt}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(rt){return{$$typeof:y$2,_payload:{_status:-1,_result:rt},_init:T$2}};react_production_min.memo=function(rt,et){return{$$typeof:x$2,type:rt,compare:et===void 0?null:et}};react_production_min.startTransition=function(rt){var et=V$2.transition;V$2.transition={};try{rt()}finally{V$2.transition=et}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(rt,et){return U$2.current.useCallback(rt,et)};react_production_min.useContext=function(rt){return U$2.current.useContext(rt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(rt){return U$2.current.useDeferredValue(rt)};react_production_min.useEffect=function(rt,et){return U$2.current.useEffect(rt,et)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(rt,et,tt){return U$2.current.useImperativeHandle(rt,et,tt)};react_production_min.useInsertionEffect=function(rt,et){return U$2.current.useInsertionEffect(rt,et)};react_production_min.useLayoutEffect=function(rt,et){return U$2.current.useLayoutEffect(rt,et)};react_production_min.useMemo=function(rt,et){return U$2.current.useMemo(rt,et)};react_production_min.useReducer=function(rt,et,tt){return U$2.current.useReducer(rt,et,tt)};react_production_min.useRef=function(rt){return U$2.current.useRef(rt)};react_production_min.useState=function(rt){return U$2.current.useState(rt)};react_production_min.useSyncExternalStore=function(rt,et,tt){return U$2.current.useSyncExternalStore(rt,et,tt)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const r$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(rt,et,tt){var nt,ot={},it=null,at=null;tt!==void 0&&(it=""+tt),et.key!==void 0&&(it=""+et.key),et.ref!==void 0&&(at=et.ref);for(nt in et)m$3.call(et,nt)&&!p$3.hasOwnProperty(nt)&&(ot[nt]=et[nt]);if(rt&&rt.defaultProps)for(nt in et=rt.defaultProps,et)ot[nt]===void 0&&(ot[nt]=et[nt]);return{$$typeof:k$3,type:rt,key:it,ref:at,props:ot,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(et){const tt={listener:et};return this.listeners.add(tt),this.onSubscribe(),()=>{this.listeners.delete(tt),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$3(){}function functionalUpdate(rt,et){return typeof rt=="function"?rt(et):rt}function isValidTimeout(rt){return typeof rt=="number"&&rt>=0&&rt!==1/0}function timeUntilStale(rt,et){return Math.max(rt+(et||0)-Date.now(),0)}function parseQueryArgs(rt,et,tt){return isQueryKey(rt)?typeof et=="function"?{...tt,queryKey:rt,queryFn:et}:{...et,queryKey:rt}:rt}function parseFilterArgs(rt,et,tt){return isQueryKey(rt)?[{...et,queryKey:rt},tt]:[rt||{},et]}function matchQuery(rt,et){const{type:tt="all",exact:nt,fetchStatus:ot,predicate:it,queryKey:at,stale:st}=rt;if(isQueryKey(at)){if(nt){if(et.queryHash!==hashQueryKeyByOptions(at,et.options))return!1}else if(!partialMatchKey(et.queryKey,at))return!1}if(tt!=="all"){const ut=et.isActive();if(tt==="active"&&!ut||tt==="inactive"&&ut)return!1}return!(typeof st=="boolean"&&et.isStale()!==st||typeof ot<"u"&&ot!==et.state.fetchStatus||it&&!it(et))}function matchMutation(rt,et){const{exact:tt,fetching:nt,predicate:ot,mutationKey:it}=rt;if(isQueryKey(it)){if(!et.options.mutationKey)return!1;if(tt){if(hashQueryKey(et.options.mutationKey)!==hashQueryKey(it))return!1}else if(!partialMatchKey(et.options.mutationKey,it))return!1}return!(typeof nt=="boolean"&&et.state.status==="loading"!==nt||ot&&!ot(et))}function hashQueryKeyByOptions(rt,et){return((et==null?void 0:et.queryKeyHashFn)||hashQueryKey)(rt)}function hashQueryKey(rt){return JSON.stringify(rt,(et,tt)=>isPlainObject$2(tt)?Object.keys(tt).sort().reduce((nt,ot)=>(nt[ot]=tt[ot],nt),{}):tt)}function partialMatchKey(rt,et){return partialDeepEqual(rt,et)}function partialDeepEqual(rt,et){return rt===et?!0:typeof rt!=typeof et?!1:rt&&et&&typeof rt=="object"&&typeof et=="object"?!Object.keys(et).some(tt=>!partialDeepEqual(rt[tt],et[tt])):!1}function replaceEqualDeep(rt,et){if(rt===et)return rt;const tt=isPlainArray(rt)&&isPlainArray(et);if(tt||isPlainObject$2(rt)&&isPlainObject$2(et)){const nt=tt?rt.length:Object.keys(rt).length,ot=tt?et:Object.keys(et),it=ot.length,at=tt?[]:{};let st=0;for(let ut=0;ut<it;ut++){const ft=tt?ut:ot[ut];at[ft]=replaceEqualDeep(rt[ft],et[ft]),at[ft]===rt[ft]&&st++}return nt===it&&st===nt?rt:at}return et}function isPlainArray(rt){return Array.isArray(rt)&&rt.length===Object.keys(rt).length}function isPlainObject$2(rt){if(!hasObjectPrototype(rt))return!1;const et=rt.constructor;if(typeof et>"u")return!0;const tt=et.prototype;return!(!hasObjectPrototype(tt)||!tt.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(rt){return Object.prototype.toString.call(rt)==="[object Object]"}function isQueryKey(rt){return Array.isArray(rt)}function sleep(rt){return new Promise(et=>{setTimeout(et,rt)})}function scheduleMicrotask(rt){sleep(0).then(rt)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(rt,et,tt){return tt.isDataEqual!=null&&tt.isDataEqual(rt,et)?rt:typeof tt.structuralSharing=="function"?tt.structuralSharing(rt,et):tt.structuralSharing!==!1?replaceEqualDeep(rt,et):et}class FocusManager extends Subscribable{constructor(){super(),this.setup=et=>{if(!isServer&&window.addEventListener){const tt=()=>et();return window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1),()=>{window.removeEventListener("visibilitychange",tt),window.removeEventListener("focus",tt)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var et;(et=this.cleanup)==null||et.call(this),this.cleanup=void 0}}setEventListener(et){var tt;this.setup=et,(tt=this.cleanup)==null||tt.call(this),this.cleanup=et(nt=>{typeof nt=="boolean"?this.setFocused(nt):this.onFocus()})}setFocused(et){this.focused!==et&&(this.focused=et,this.onFocus())}onFocus(){this.listeners.forEach(({listener:et})=>{et()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=et=>{if(!isServer&&window.addEventListener){const tt=()=>et();return onlineEvents.forEach(nt=>{window.addEventListener(nt,tt,!1)}),()=>{onlineEvents.forEach(nt=>{window.removeEventListener(nt,tt)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var et;(et=this.cleanup)==null||et.call(this),this.cleanup=void 0}}setEventListener(et){var tt;this.setup=et,(tt=this.cleanup)==null||tt.call(this),this.cleanup=et(nt=>{typeof nt=="boolean"?this.setOnline(nt):this.onOnline()})}setOnline(et){this.online!==et&&(this.online=et,this.onOnline())}onOnline(){this.listeners.forEach(({listener:et})=>{et()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(rt){return Math.min(1e3*2**rt,3e4)}function canFetch(rt){return(rt??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(et){this.revert=et==null?void 0:et.revert,this.silent=et==null?void 0:et.silent}}function isCancelledError(rt){return rt instanceof CancelledError}function createRetryer(rt){let et=!1,tt=0,nt=!1,ot,it,at;const st=new Promise((Tt,Mt)=>{it=Tt,at=Mt}),ut=Tt=>{nt||(yt(new CancelledError(Tt)),rt.abort==null||rt.abort())},ft=()=>{et=!0},ht=()=>{et=!1},mt=()=>!focusManager.isFocused()||rt.networkMode!=="always"&&!onlineManager.isOnline(),gt=Tt=>{nt||(nt=!0,rt.onSuccess==null||rt.onSuccess(Tt),ot==null||ot(),it(Tt))},yt=Tt=>{nt||(nt=!0,rt.onError==null||rt.onError(Tt),ot==null||ot(),at(Tt))},xt=()=>new Promise(Tt=>{ot=Mt=>{const Pt=nt||!mt();return Pt&&Tt(Mt),Pt},rt.onPause==null||rt.onPause()}).then(()=>{ot=void 0,nt||rt.onContinue==null||rt.onContinue()}),St=()=>{if(nt)return;let Tt;try{Tt=rt.fn()}catch(Mt){Tt=Promise.reject(Mt)}Promise.resolve(Tt).then(gt).catch(Mt=>{var Pt,It;if(nt)return;const kt=(Pt=rt.retry)!=null?Pt:3,Dt=(It=rt.retryDelay)!=null?It:defaultRetryDelay,Nt=typeof Dt=="function"?Dt(tt,Mt):Dt,Gt=kt===!0||typeof kt=="number"&&tt<kt||typeof kt=="function"&&kt(tt,Mt);if(et||!Gt){yt(Mt);return}tt++,rt.onFail==null||rt.onFail(tt,Mt),sleep(Nt).then(()=>{if(mt())return xt()}).then(()=>{et?yt(Mt):St()})})};return canFetch(rt.networkMode)?St():xt().then(St),{promise:st,cancel:ut,continue:()=>(ot==null?void 0:ot())?st:Promise.resolve(),cancelRetry:ft,continueRetry:ht}}const defaultLogger=console;function createNotifyManager(){let rt=[],et=0,tt=ht=>{ht()},nt=ht=>{ht()};const ot=ht=>{let mt;et++;try{mt=ht()}finally{et--,et||st()}return mt},it=ht=>{et?rt.push(ht):scheduleMicrotask(()=>{tt(ht)})},at=ht=>(...mt)=>{it(()=>{ht(...mt)})},st=()=>{const ht=rt;rt=[],ht.length&&scheduleMicrotask(()=>{nt(()=>{ht.forEach(mt=>{tt(mt)})})})};return{batch:ot,batchCalls:at,schedule:it,setNotifyFunction:ht=>{tt=ht},setBatchNotifyFunction:ht=>{nt=ht}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(et){this.cacheTime=Math.max(this.cacheTime||0,et??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(et){super(),this.abortSignalConsumed=!1,this.defaultOptions=et.defaultOptions,this.setOptions(et.options),this.observers=[],this.cache=et.cache,this.logger=et.logger||defaultLogger,this.queryKey=et.queryKey,this.queryHash=et.queryHash,this.initialState=et.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(et){this.options={...this.defaultOptions,...et},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(et,tt){const nt=replaceData(this.state.data,et,this.options);return this.dispatch({data:nt,type:"success",dataUpdatedAt:tt==null?void 0:tt.updatedAt,manual:tt==null?void 0:tt.manual}),nt}setState(et,tt){this.dispatch({type:"setState",state:et,setStateOptions:tt})}cancel(et){var tt;const nt=this.promise;return(tt=this.retryer)==null||tt.cancel(et),nt?nt.then(noop$3).catch(noop$3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(et=>et.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(et=>et.getCurrentResult().isStale)}isStaleByTime(et=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,et)}onFocus(){var et;const tt=this.observers.find(nt=>nt.shouldFetchOnWindowFocus());tt&&tt.refetch({cancelRefetch:!1}),(et=this.retryer)==null||et.continue()}onOnline(){var et;const tt=this.observers.find(nt=>nt.shouldFetchOnReconnect());tt&&tt.refetch({cancelRefetch:!1}),(et=this.retryer)==null||et.continue()}addObserver(et){this.observers.includes(et)||(this.observers.push(et),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:et}))}removeObserver(et){this.observers.includes(et)&&(this.observers=this.observers.filter(tt=>tt!==et),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:et}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(et,tt){var nt,ot;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&tt!=null&&tt.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var it;return(it=this.retryer)==null||it.continueRetry(),this.promise}}if(et&&this.setOptions(et),!this.options.queryFn){const yt=this.observers.find(xt=>xt.options.queryFn);yt&&this.setOptions(yt.options)}const at=getAbortController(),st={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},ut=yt=>{Object.defineProperty(yt,"signal",{enumerable:!0,get:()=>{if(at)return this.abortSignalConsumed=!0,at.signal}})};ut(st);const ft=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(st)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),ht={fetchOptions:tt,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:ft};if(ut(ht),(nt=this.options.behavior)==null||nt.onFetch(ht),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((ot=ht.fetchOptions)==null?void 0:ot.meta)){var mt;this.dispatch({type:"fetch",meta:(mt=ht.fetchOptions)==null?void 0:mt.meta})}const gt=yt=>{if(isCancelledError(yt)&&yt.silent||this.dispatch({type:"error",error:yt}),!isCancelledError(yt)){var xt,St,Tt,Mt;(xt=(St=this.cache.config).onError)==null||xt.call(St,yt,this),(Tt=(Mt=this.cache.config).onSettled)==null||Tt.call(Mt,this.state.data,yt,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:ht.fetchFn,abort:at==null?void 0:at.abort.bind(at),onSuccess:yt=>{var xt,St,Tt,Mt;if(typeof yt>"u"){gt(new Error(this.queryHash+" data is undefined"));return}this.setData(yt),(xt=(St=this.cache.config).onSuccess)==null||xt.call(St,yt,this),(Tt=(Mt=this.cache.config).onSettled)==null||Tt.call(Mt,yt,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:gt,onFail:(yt,xt)=>{this.dispatch({type:"failed",failureCount:yt,error:xt})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:ht.options.retry,retryDelay:ht.options.retryDelay,networkMode:ht.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(et){const tt=nt=>{var ot,it;switch(et.type){case"failed":return{...nt,fetchFailureCount:et.failureCount,fetchFailureReason:et.error};case"pause":return{...nt,fetchStatus:"paused"};case"continue":return{...nt,fetchStatus:"fetching"};case"fetch":return{...nt,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(ot=et.meta)!=null?ot:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!nt.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...nt,data:et.data,dataUpdateCount:nt.dataUpdateCount+1,dataUpdatedAt:(it=et.dataUpdatedAt)!=null?it:Date.now(),error:null,isInvalidated:!1,status:"success",...!et.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const at=et.error;return isCancelledError(at)&&at.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...nt,error:at,errorUpdateCount:nt.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:nt.fetchFailureCount+1,fetchFailureReason:at,fetchStatus:"idle",status:"error"};case"invalidate":return{...nt,isInvalidated:!0};case"setState":return{...nt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onQueryUpdate(et)}),this.cache.notify({query:this,type:"updated",action:et})})}}function getDefaultState$1(rt){const et=typeof rt.initialData=="function"?rt.initialData():rt.initialData,tt=typeof et<"u",nt=tt?typeof rt.initialDataUpdatedAt=="function"?rt.initialDataUpdatedAt():rt.initialDataUpdatedAt:0;return{data:et,dataUpdateCount:0,dataUpdatedAt:tt?nt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:tt?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(et){super(),this.config=et||{},this.queries=[],this.queriesMap={}}build(et,tt,nt){var ot;const it=tt.queryKey,at=(ot=tt.queryHash)!=null?ot:hashQueryKeyByOptions(it,tt);let st=this.get(at);return st||(st=new Query({cache:this,logger:et.getLogger(),queryKey:it,queryHash:at,options:et.defaultQueryOptions(tt),state:nt,defaultOptions:et.getQueryDefaults(it)}),this.add(st)),st}add(et){this.queriesMap[et.queryHash]||(this.queriesMap[et.queryHash]=et,this.queries.push(et),this.notify({type:"added",query:et}))}remove(et){const tt=this.queriesMap[et.queryHash];tt&&(et.destroy(),this.queries=this.queries.filter(nt=>nt!==et),tt===et&&delete this.queriesMap[et.queryHash],this.notify({type:"removed",query:et}))}clear(){notifyManager.batch(()=>{this.queries.forEach(et=>{this.remove(et)})})}get(et){return this.queriesMap[et]}getAll(){return this.queries}find(et,tt){const[nt]=parseFilterArgs(et,tt);return typeof nt.exact>"u"&&(nt.exact=!0),this.queries.find(ot=>matchQuery(nt,ot))}findAll(et,tt){const[nt]=parseFilterArgs(et,tt);return Object.keys(nt).length>0?this.queries.filter(ot=>matchQuery(nt,ot)):this.queries}notify(et){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(et)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(et=>{et.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(et=>{et.onOnline()})})}}class Mutation extends Removable{constructor(et){super(),this.defaultOptions=et.defaultOptions,this.mutationId=et.mutationId,this.mutationCache=et.mutationCache,this.logger=et.logger||defaultLogger,this.observers=[],this.state=et.state||getDefaultState(),this.setOptions(et.options),this.scheduleGc()}setOptions(et){this.options={...this.defaultOptions,...et},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(et){this.dispatch({type:"setState",state:et})}addObserver(et){this.observers.includes(et)||(this.observers.push(et),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:et}))}removeObserver(et){this.observers=this.observers.filter(tt=>tt!==et),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:et})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var et,tt;return(et=(tt=this.retryer)==null?void 0:tt.continue())!=null?et:this.execute()}async execute(){const et=()=>{var Gt;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(Wt,Ot)=>{this.dispatch({type:"failed",failureCount:Wt,error:Ot})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(Gt=this.options.retry)!=null?Gt:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},tt=this.state.status==="loading";try{var nt,ot,it,at,st,ut,ft,ht;if(!tt){var mt,gt,yt,xt;this.dispatch({type:"loading",variables:this.options.variables}),await((mt=(gt=this.mutationCache.config).onMutate)==null?void 0:mt.call(gt,this.state.variables,this));const Wt=await((yt=(xt=this.options).onMutate)==null?void 0:yt.call(xt,this.state.variables));Wt!==this.state.context&&this.dispatch({type:"loading",context:Wt,variables:this.state.variables})}const Gt=await et();return await((nt=(ot=this.mutationCache.config).onSuccess)==null?void 0:nt.call(ot,Gt,this.state.variables,this.state.context,this)),await((it=(at=this.options).onSuccess)==null?void 0:it.call(at,Gt,this.state.variables,this.state.context)),await((st=(ut=this.mutationCache.config).onSettled)==null?void 0:st.call(ut,Gt,null,this.state.variables,this.state.context,this)),await((ft=(ht=this.options).onSettled)==null?void 0:ft.call(ht,Gt,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:Gt}),Gt}catch(Gt){try{var St,Tt,Mt,Pt,It,kt,Dt,Nt;throw await((St=(Tt=this.mutationCache.config).onError)==null?void 0:St.call(Tt,Gt,this.state.variables,this.state.context,this)),await((Mt=(Pt=this.options).onError)==null?void 0:Mt.call(Pt,Gt,this.state.variables,this.state.context)),await((It=(kt=this.mutationCache.config).onSettled)==null?void 0:It.call(kt,void 0,Gt,this.state.variables,this.state.context,this)),await((Dt=(Nt=this.options).onSettled)==null?void 0:Dt.call(Nt,void 0,Gt,this.state.variables,this.state.context)),Gt}finally{this.dispatch({type:"error",error:Gt})}}}dispatch(et){const tt=nt=>{switch(et.type){case"failed":return{...nt,failureCount:et.failureCount,failureReason:et.error};case"pause":return{...nt,isPaused:!0};case"continue":return{...nt,isPaused:!1};case"loading":return{...nt,context:et.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:et.variables};case"success":return{...nt,data:et.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...nt,data:void 0,error:et.error,failureCount:nt.failureCount+1,failureReason:et.error,isPaused:!1,status:"error"};case"setState":return{...nt,...et.state}}};this.state=tt(this.state),notifyManager.batch(()=>{this.observers.forEach(nt=>{nt.onMutationUpdate(et)}),this.mutationCache.notify({mutation:this,type:"updated",action:et})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(et){super(),this.config=et||{},this.mutations=[],this.mutationId=0}build(et,tt,nt){const ot=new Mutation({mutationCache:this,logger:et.getLogger(),mutationId:++this.mutationId,options:et.defaultMutationOptions(tt),state:nt,defaultOptions:tt.mutationKey?et.getMutationDefaults(tt.mutationKey):void 0});return this.add(ot),ot}add(et){this.mutations.push(et),this.notify({type:"added",mutation:et})}remove(et){this.mutations=this.mutations.filter(tt=>tt!==et),this.notify({type:"removed",mutation:et})}clear(){notifyManager.batch(()=>{this.mutations.forEach(et=>{this.remove(et)})})}getAll(){return this.mutations}find(et){return typeof et.exact>"u"&&(et.exact=!0),this.mutations.find(tt=>matchMutation(et,tt))}findAll(et){return this.mutations.filter(tt=>matchMutation(et,tt))}notify(et){notifyManager.batch(()=>{this.listeners.forEach(({listener:tt})=>{tt(et)})})}resumePausedMutations(){var et;return this.resuming=((et=this.resuming)!=null?et:Promise.resolve()).then(()=>{const tt=this.mutations.filter(nt=>nt.state.isPaused);return notifyManager.batch(()=>tt.reduce((nt,ot)=>nt.then(()=>ot.continue().catch(noop$3)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:rt=>{rt.fetchFn=()=>{var et,tt,nt,ot,it,at;const st=(et=rt.fetchOptions)==null||(tt=et.meta)==null?void 0:tt.refetchPage,ut=(nt=rt.fetchOptions)==null||(ot=nt.meta)==null?void 0:ot.fetchMore,ft=ut==null?void 0:ut.pageParam,ht=(ut==null?void 0:ut.direction)==="forward",mt=(ut==null?void 0:ut.direction)==="backward",gt=((it=rt.state.data)==null?void 0:it.pages)||[],yt=((at=rt.state.data)==null?void 0:at.pageParams)||[];let xt=yt,St=!1;const Tt=Nt=>{Object.defineProperty(Nt,"signal",{enumerable:!0,get:()=>{var Gt;if((Gt=rt.signal)!=null&&Gt.aborted)St=!0;else{var Wt;(Wt=rt.signal)==null||Wt.addEventListener("abort",()=>{St=!0})}return rt.signal}})},Mt=rt.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+rt.options.queryHash+"'")),Pt=(Nt,Gt,Wt,Ot)=>(xt=Ot?[Gt,...xt]:[...xt,Gt],Ot?[Wt,...Nt]:[...Nt,Wt]),It=(Nt,Gt,Wt,Ot)=>{if(St)return Promise.reject("Cancelled");if(typeof Wt>"u"&&!Gt&&Nt.length)return Promise.resolve(Nt);const Xt={queryKey:rt.queryKey,pageParam:Wt,meta:rt.options.meta};Tt(Xt);const Et=Mt(Xt);return Promise.resolve(Et).then(dt=>Pt(Nt,Wt,dt,Ot))};let kt;if(!gt.length)kt=It([]);else if(ht){const Nt=typeof ft<"u",Gt=Nt?ft:getNextPageParam(rt.options,gt);kt=It(gt,Nt,Gt)}else if(mt){const Nt=typeof ft<"u",Gt=Nt?ft:getPreviousPageParam(rt.options,gt);kt=It(gt,Nt,Gt,!0)}else{xt=[];const Nt=typeof rt.options.getNextPageParam>"u";kt=(st&&gt[0]?st(gt[0],0,gt):!0)?It([],Nt,yt[0]):Promise.resolve(Pt([],yt[0],gt[0]));for(let Wt=1;Wt<gt.length;Wt++)kt=kt.then(Ot=>{if(st&&gt[Wt]?st(gt[Wt],Wt,gt):!0){const Et=Nt?yt[Wt]:getNextPageParam(rt.options,Ot);return It(Ot,Nt,Et)}return Promise.resolve(Pt(Ot,yt[Wt],gt[Wt]))})}return kt.then(Nt=>({pages:Nt,pageParams:xt}))}}}}function getNextPageParam(rt,et){return rt.getNextPageParam==null?void 0:rt.getNextPageParam(et[et.length-1],et)}function getPreviousPageParam(rt,et){return rt.getPreviousPageParam==null?void 0:rt.getPreviousPageParam(et[0],et)}class QueryClient{constructor(et={}){this.queryCache=et.queryCache||new QueryCache,this.mutationCache=et.mutationCache||new MutationCache,this.logger=et.logger||defaultLogger,this.defaultOptions=et.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var et,tt;this.mountCount--,this.mountCount===0&&((et=this.unsubscribeFocus)==null||et.call(this),this.unsubscribeFocus=void 0,(tt=this.unsubscribeOnline)==null||tt.call(this),this.unsubscribeOnline=void 0)}isFetching(et,tt){const[nt]=parseFilterArgs(et,tt);return nt.fetchStatus="fetching",this.queryCache.findAll(nt).length}isMutating(et){return this.mutationCache.findAll({...et,fetching:!0}).length}getQueryData(et,tt){var nt;return(nt=this.queryCache.find(et,tt))==null?void 0:nt.state.data}ensureQueryData(et,tt,nt){const ot=parseQueryArgs(et,tt,nt),it=this.getQueryData(ot.queryKey);return it?Promise.resolve(it):this.fetchQuery(ot)}getQueriesData(et){return this.getQueryCache().findAll(et).map(({queryKey:tt,state:nt})=>{const ot=nt.data;return[tt,ot]})}setQueryData(et,tt,nt){const ot=this.queryCache.find(et),it=ot==null?void 0:ot.state.data,at=functionalUpdate(tt,it);if(typeof at>"u")return;const st=parseQueryArgs(et),ut=this.defaultQueryOptions(st);return this.queryCache.build(this,ut).setData(at,{...nt,manual:!0})}setQueriesData(et,tt,nt){return notifyManager.batch(()=>this.getQueryCache().findAll(et).map(({queryKey:ot})=>[ot,this.setQueryData(ot,tt,nt)]))}getQueryState(et,tt){var nt;return(nt=this.queryCache.find(et,tt))==null?void 0:nt.state}removeQueries(et,tt){const[nt]=parseFilterArgs(et,tt),ot=this.queryCache;notifyManager.batch(()=>{ot.findAll(nt).forEach(it=>{ot.remove(it)})})}resetQueries(et,tt,nt){const[ot,it]=parseFilterArgs(et,tt,nt),at=this.queryCache,st={type:"active",...ot};return notifyManager.batch(()=>(at.findAll(ot).forEach(ut=>{ut.reset()}),this.refetchQueries(st,it)))}cancelQueries(et,tt,nt){const[ot,it={}]=parseFilterArgs(et,tt,nt);typeof it.revert>"u"&&(it.revert=!0);const at=notifyManager.batch(()=>this.queryCache.findAll(ot).map(st=>st.cancel(it)));return Promise.all(at).then(noop$3).catch(noop$3)}invalidateQueries(et,tt,nt){const[ot,it]=parseFilterArgs(et,tt,nt);return notifyManager.batch(()=>{var at,st;if(this.queryCache.findAll(ot).forEach(ft=>{ft.invalidate()}),ot.refetchType==="none")return Promise.resolve();const ut={...ot,type:(at=(st=ot.refetchType)!=null?st:ot.type)!=null?at:"active"};return this.refetchQueries(ut,it)})}refetchQueries(et,tt,nt){const[ot,it]=parseFilterArgs(et,tt,nt),at=notifyManager.batch(()=>this.queryCache.findAll(ot).filter(ut=>!ut.isDisabled()).map(ut=>{var ft;return ut.fetch(void 0,{...it,cancelRefetch:(ft=it==null?void 0:it.cancelRefetch)!=null?ft:!0,meta:{refetchPage:ot.refetchPage}})}));let st=Promise.all(at).then(noop$3);return it!=null&&it.throwOnError||(st=st.catch(noop$3)),st}fetchQuery(et,tt,nt){const ot=parseQueryArgs(et,tt,nt),it=this.defaultQueryOptions(ot);typeof it.retry>"u"&&(it.retry=!1);const at=this.queryCache.build(this,it);return at.isStaleByTime(it.staleTime)?at.fetch(it):Promise.resolve(at.state.data)}prefetchQuery(et,tt,nt){return this.fetchQuery(et,tt,nt).then(noop$3).catch(noop$3)}fetchInfiniteQuery(et,tt,nt){const ot=parseQueryArgs(et,tt,nt);return ot.behavior=infiniteQueryBehavior(),this.fetchQuery(ot)}prefetchInfiniteQuery(et,tt,nt){return this.fetchInfiniteQuery(et,tt,nt).then(noop$3).catch(noop$3)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(et){this.defaultOptions=et}setQueryDefaults(et,tt){const nt=this.queryDefaults.find(ot=>hashQueryKey(et)===hashQueryKey(ot.queryKey));nt?nt.defaultOptions=tt:this.queryDefaults.push({queryKey:et,defaultOptions:tt})}getQueryDefaults(et){if(!et)return;const tt=this.queryDefaults.find(nt=>partialMatchKey(et,nt.queryKey));return tt==null?void 0:tt.defaultOptions}setMutationDefaults(et,tt){const nt=this.mutationDefaults.find(ot=>hashQueryKey(et)===hashQueryKey(ot.mutationKey));nt?nt.defaultOptions=tt:this.mutationDefaults.push({mutationKey:et,defaultOptions:tt})}getMutationDefaults(et){if(!et)return;const tt=this.mutationDefaults.find(nt=>partialMatchKey(et,nt.mutationKey));return tt==null?void 0:tt.defaultOptions}defaultQueryOptions(et){if(et!=null&&et._defaulted)return et;const tt={...this.defaultOptions.queries,...this.getQueryDefaults(et==null?void 0:et.queryKey),...et,_defaulted:!0};return!tt.queryHash&&tt.queryKey&&(tt.queryHash=hashQueryKeyByOptions(tt.queryKey,tt)),typeof tt.refetchOnReconnect>"u"&&(tt.refetchOnReconnect=tt.networkMode!=="always"),typeof tt.useErrorBoundary>"u"&&(tt.useErrorBoundary=!!tt.suspense),tt}defaultMutationOptions(et){return et!=null&&et._defaulted?et:{...this.defaultOptions.mutations,...this.getMutationDefaults(et==null?void 0:et.mutationKey),...et,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(rt){function et(Rt,bt){var ct=Rt.length;Rt.push(bt);e:for(;0<ct;){var _t=ct-1>>>1,Lt=Rt[_t];if(0<ot(Lt,bt))Rt[_t]=bt,Rt[ct]=Lt,ct=_t;else break e}}function tt(Rt){return Rt.length===0?null:Rt[0]}function nt(Rt){if(Rt.length===0)return null;var bt=Rt[0],ct=Rt.pop();if(ct!==bt){Rt[0]=ct;e:for(var _t=0,Lt=Rt.length,Ft=Lt>>>1;_t<Ft;){var jt=2*(_t+1)-1,Zt=Rt[jt],Kt=jt+1,zt=Rt[Kt];if(0>ot(Zt,ct))Kt<Lt&&0>ot(zt,Zt)?(Rt[_t]=zt,Rt[Kt]=ct,_t=Kt):(Rt[_t]=Zt,Rt[jt]=ct,_t=jt);else if(Kt<Lt&&0>ot(zt,ct))Rt[_t]=zt,Rt[Kt]=ct,_t=Kt;else break e}}return bt}function ot(Rt,bt){var ct=Rt.sortIndex-bt.sortIndex;return ct!==0?ct:Rt.id-bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;rt.unstable_now=function(){return it.now()}}else{var at=Date,st=at.now();rt.unstable_now=function(){return at.now()-st}}var ut=[],ft=[],ht=1,mt=null,gt=3,yt=!1,xt=!1,St=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,Pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function It(Rt){for(var bt=tt(ft);bt!==null;){if(bt.callback===null)nt(ft);else if(bt.startTime<=Rt)nt(ft),bt.sortIndex=bt.expirationTime,et(ut,bt);else break;bt=tt(ft)}}function kt(Rt){if(St=!1,It(Rt),!xt)if(tt(ut)!==null)xt=!0,wt(Dt);else{var bt=tt(ft);bt!==null&&At(kt,bt.startTime-Rt)}}function Dt(Rt,bt){xt=!1,St&&(St=!1,Mt(Wt),Wt=-1),yt=!0;var ct=gt;try{for(It(bt),mt=tt(ut);mt!==null&&(!(mt.expirationTime>bt)||Rt&&!Et());){var _t=mt.callback;if(typeof _t=="function"){mt.callback=null,gt=mt.priorityLevel;var Lt=_t(mt.expirationTime<=bt);bt=rt.unstable_now(),typeof Lt=="function"?mt.callback=Lt:mt===tt(ut)&&nt(ut),It(bt)}else nt(ut);mt=tt(ut)}if(mt!==null)var Ft=!0;else{var jt=tt(ft);jt!==null&&At(kt,jt.startTime-bt),Ft=!1}return Ft}finally{mt=null,gt=ct,yt=!1}}var Nt=!1,Gt=null,Wt=-1,Ot=5,Xt=-1;function Et(){return!(rt.unstable_now()-Xt<Ot)}function lt(){if(Gt!==null){var Rt=rt.unstable_now();Xt=Rt;var bt=!0;try{bt=Gt(!0,Rt)}finally{bt?dt():(Nt=!1,Gt=null)}}else Nt=!1}var dt;if(typeof Pt=="function")dt=function(){Pt(lt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,vt=pt.port2;pt.port1.onmessage=lt,dt=function(){vt.postMessage(null)}}else dt=function(){Tt(lt,0)};function wt(Rt){Gt=Rt,Nt||(Nt=!0,dt())}function At(Rt,bt){Wt=Tt(function(){Rt(rt.unstable_now())},bt)}rt.unstable_IdlePriority=5,rt.unstable_ImmediatePriority=1,rt.unstable_LowPriority=4,rt.unstable_NormalPriority=3,rt.unstable_Profiling=null,rt.unstable_UserBlockingPriority=2,rt.unstable_cancelCallback=function(Rt){Rt.callback=null},rt.unstable_continueExecution=function(){xt||yt||(xt=!0,wt(Dt))},rt.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<Rt?Math.floor(1e3/Rt):5},rt.unstable_getCurrentPriorityLevel=function(){return gt},rt.unstable_getFirstCallbackNode=function(){return tt(ut)},rt.unstable_next=function(Rt){switch(gt){case 1:case 2:case 3:var bt=3;break;default:bt=gt}var ct=gt;gt=bt;try{return Rt()}finally{gt=ct}},rt.unstable_pauseExecution=function(){},rt.unstable_requestPaint=function(){},rt.unstable_runWithPriority=function(Rt,bt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var ct=gt;gt=Rt;try{return bt()}finally{gt=ct}},rt.unstable_scheduleCallback=function(Rt,bt,ct){var _t=rt.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?_t+ct:_t):ct=_t,Rt){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=ct+Lt,Rt={id:ht++,callback:bt,priorityLevel:Rt,startTime:ct,expirationTime:Lt,sortIndex:-1},ct>_t?(Rt.sortIndex=ct,et(ft,Rt),tt(ut)===null&&Rt===tt(ft)&&(St?(Mt(Wt),Wt=-1):St=!0,At(kt,ct-_t))):(Rt.sortIndex=Lt,et(ut,Rt),xt||yt||(xt=!0,wt(Dt))),Rt},rt.unstable_shouldYield=Et,rt.unstable_wrapCallback=function(Rt){var bt=gt;return function(){var ct=gt;gt=bt;try{return Rt.apply(this,arguments)}finally{gt=ct}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$2(rt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+rt,tt=1;tt<arguments.length;tt++)et+="&args[]="+encodeURIComponent(arguments[tt]);return"Minified React error #"+rt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(rt,et){ha(rt,et),ha(rt+"Capture",et)}function ha(rt,et){for(ea[rt]=et,rt=0;rt<et.length;rt++)da.add(et[rt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(rt){return ja.call(ma,rt)?!0:ja.call(la,rt)?!1:ka.test(rt)?ma[rt]=!0:(la[rt]=!0,!1)}function pa(rt,et,tt,nt){if(tt!==null&&tt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:tt!==null?!tt.acceptsBooleans:(rt=rt.toLowerCase().slice(0,5),rt!=="data-"&&rt!=="aria-");default:return!1}}function qa(rt,et,tt,nt){if(et===null||typeof et>"u"||pa(rt,et,tt,nt))return!0;if(nt)return!1;if(tt!==null)switch(tt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$2(rt,et,tt,nt,ot,it,at){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=ot,this.mustUseProperty=tt,this.propertyName=rt,this.type=et,this.sanitizeURL=it,this.removeEmptyString=at}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(rt){z$2[rt]=new v$2(rt,0,!1,rt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(rt){var et=rt[0];z$2[et]=new v$2(et,1,!1,rt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(rt){z$2[rt]=new v$2(rt,2,!1,rt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(rt){z$2[rt]=new v$2(rt,2,!1,rt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(rt){z$2[rt]=new v$2(rt,3,!1,rt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(rt){z$2[rt]=new v$2(rt,3,!0,rt,null,!1,!1)});["capture","download"].forEach(function(rt){z$2[rt]=new v$2(rt,4,!1,rt,null,!1,!1)});["cols","rows","size","span"].forEach(function(rt){z$2[rt]=new v$2(rt,6,!1,rt,null,!1,!1)});["rowSpan","start"].forEach(function(rt){z$2[rt]=new v$2(rt,5,!1,rt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(rt){return rt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(rt){var et=rt.replace(ra,sa);z$2[et]=new v$2(et,1,!1,rt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(rt){var et=rt.replace(ra,sa);z$2[et]=new v$2(et,1,!1,rt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(rt){var et=rt.replace(ra,sa);z$2[et]=new v$2(et,1,!1,rt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(rt){z$2[rt]=new v$2(rt,1,!1,rt.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(rt){z$2[rt]=new v$2(rt,1,!1,rt.toLowerCase(),null,!0,!0)});function ta(rt,et,tt,nt){var ot=z$2.hasOwnProperty(et)?z$2[et]:null;(ot!==null?ot.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,tt,ot,nt)&&(tt=null),nt||ot===null?oa(et)&&(tt===null?rt.removeAttribute(et):rt.setAttribute(et,""+tt)):ot.mustUseProperty?rt[ot.propertyName]=tt===null?ot.type===3?!1:"":tt:(et=ot.attributeName,nt=ot.attributeNamespace,tt===null?rt.removeAttribute(et):(ot=ot.type,tt=ot===3||ot===4&&tt===!0?"":""+tt,nt?rt.setAttributeNS(nt,et,tt):rt.setAttribute(et,tt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(rt){return rt===null||typeof rt!="object"?null:(rt=Ja&&rt[Ja]||rt["@@iterator"],typeof rt=="function"?rt:null)}var A$1=Object.assign,La;function Ma(rt){if(La===void 0)try{throw Error()}catch(tt){var et=tt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+rt}var Na=!1;function Oa(rt,et){if(!rt||Na)return"";Na=!0;var tt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ft){var nt=ft}Reflect.construct(rt,[],et)}else{try{et.call()}catch(ft){nt=ft}rt.call(et.prototype)}else{try{throw Error()}catch(ft){nt=ft}rt()}}catch(ft){if(ft&&nt&&typeof ft.stack=="string"){for(var ot=ft.stack.split(`
`),it=nt.stack.split(`
`),at=ot.length-1,st=it.length-1;1<=at&&0<=st&&ot[at]!==it[st];)st--;for(;1<=at&&0<=st;at--,st--)if(ot[at]!==it[st]){if(at!==1||st!==1)do if(at--,st--,0>st||ot[at]!==it[st]){var ut=`
`+ot[at].replace(" at new "," at ");return rt.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",rt.displayName)),ut}while(1<=at&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=tt}return(rt=rt?rt.displayName||rt.name:"")?Ma(rt):""}function Pa(rt){switch(rt.tag){case 5:return Ma(rt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return rt=Oa(rt.type,!1),rt;case 11:return rt=Oa(rt.type.render,!1),rt;case 1:return rt=Oa(rt.type,!0),rt;default:return""}}function Qa(rt){if(rt==null)return null;if(typeof rt=="function")return rt.displayName||rt.name||null;if(typeof rt=="string")return rt;switch(rt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof rt=="object")switch(rt.$$typeof){case Ca:return(rt.displayName||"Context")+".Consumer";case Ba:return(rt._context.displayName||"Context")+".Provider";case Da:var et=rt.render;return rt=rt.displayName,rt||(rt=et.displayName||et.name||"",rt=rt!==""?"ForwardRef("+rt+")":"ForwardRef"),rt;case Ga:return et=rt.displayName||null,et!==null?et:Qa(rt.type)||"Memo";case Ha:et=rt._payload,rt=rt._init;try{return Qa(rt(et))}catch{}}return null}function Ra(rt){var et=rt.type;switch(rt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return rt=et.render,rt=rt.displayName||rt.name||"",et.displayName||(rt!==""?"ForwardRef("+rt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(rt){switch(typeof rt){case"boolean":case"number":case"string":case"undefined":return rt;case"object":return rt;default:return""}}function Ta(rt){var et=rt.type;return(rt=rt.nodeName)&&rt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(rt){var et=Ta(rt)?"checked":"value",tt=Object.getOwnPropertyDescriptor(rt.constructor.prototype,et),nt=""+rt[et];if(!rt.hasOwnProperty(et)&&typeof tt<"u"&&typeof tt.get=="function"&&typeof tt.set=="function"){var ot=tt.get,it=tt.set;return Object.defineProperty(rt,et,{configurable:!0,get:function(){return ot.call(this)},set:function(at){nt=""+at,it.call(this,at)}}),Object.defineProperty(rt,et,{enumerable:tt.enumerable}),{getValue:function(){return nt},setValue:function(at){nt=""+at},stopTracking:function(){rt._valueTracker=null,delete rt[et]}}}}function Va(rt){rt._valueTracker||(rt._valueTracker=Ua(rt))}function Wa(rt){if(!rt)return!1;var et=rt._valueTracker;if(!et)return!0;var tt=et.getValue(),nt="";return rt&&(nt=Ta(rt)?rt.checked?"true":"false":rt.value),rt=nt,rt!==tt?(et.setValue(rt),!0):!1}function Xa(rt){if(rt=rt||(typeof document<"u"?document:void 0),typeof rt>"u")return null;try{return rt.activeElement||rt.body}catch{return rt.body}}function Ya(rt,et){var tt=et.checked;return A$1({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tt??rt._wrapperState.initialChecked})}function Za(rt,et){var tt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;tt=Sa(et.value!=null?et.value:tt),rt._wrapperState={initialChecked:nt,initialValue:tt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab(rt,et){et=et.checked,et!=null&&ta(rt,"checked",et,!1)}function bb(rt,et){ab(rt,et);var tt=Sa(et.value),nt=et.type;if(tt!=null)nt==="number"?(tt===0&&rt.value===""||rt.value!=tt)&&(rt.value=""+tt):rt.value!==""+tt&&(rt.value=""+tt);else if(nt==="submit"||nt==="reset"){rt.removeAttribute("value");return}et.hasOwnProperty("value")?cb(rt,et.type,tt):et.hasOwnProperty("defaultValue")&&cb(rt,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(rt.defaultChecked=!!et.defaultChecked)}function db(rt,et,tt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+rt._wrapperState.initialValue,tt||et===rt.value||(rt.value=et),rt.defaultValue=et}tt=rt.name,tt!==""&&(rt.name=""),rt.defaultChecked=!!rt._wrapperState.initialChecked,tt!==""&&(rt.name=tt)}function cb(rt,et,tt){(et!=="number"||Xa(rt.ownerDocument)!==rt)&&(tt==null?rt.defaultValue=""+rt._wrapperState.initialValue:rt.defaultValue!==""+tt&&(rt.defaultValue=""+tt))}var eb=Array.isArray;function fb(rt,et,tt,nt){if(rt=rt.options,et){et={};for(var ot=0;ot<tt.length;ot++)et["$"+tt[ot]]=!0;for(tt=0;tt<rt.length;tt++)ot=et.hasOwnProperty("$"+rt[tt].value),rt[tt].selected!==ot&&(rt[tt].selected=ot),ot&&nt&&(rt[tt].defaultSelected=!0)}else{for(tt=""+Sa(tt),et=null,ot=0;ot<rt.length;ot++){if(rt[ot].value===tt){rt[ot].selected=!0,nt&&(rt[ot].defaultSelected=!0);return}et!==null||rt[ot].disabled||(et=rt[ot])}et!==null&&(et.selected=!0)}}function gb(rt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},et,{value:void 0,defaultValue:void 0,children:""+rt._wrapperState.initialValue})}function hb(rt,et){var tt=et.value;if(tt==null){if(tt=et.children,et=et.defaultValue,tt!=null){if(et!=null)throw Error(p$2(92));if(eb(tt)){if(1<tt.length)throw Error(p$2(93));tt=tt[0]}et=tt}et==null&&(et=""),tt=et}rt._wrapperState={initialValue:Sa(tt)}}function ib(rt,et){var tt=Sa(et.value),nt=Sa(et.defaultValue);tt!=null&&(tt=""+tt,tt!==rt.value&&(rt.value=tt),et.defaultValue==null&&rt.defaultValue!==tt&&(rt.defaultValue=tt)),nt!=null&&(rt.defaultValue=""+nt)}function jb(rt){var et=rt.textContent;et===rt._wrapperState.initialValue&&et!==""&&et!==null&&(rt.value=et)}function kb(rt){switch(rt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(rt,et){return rt==null||rt==="http://www.w3.org/1999/xhtml"?kb(et):rt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":rt}var mb,nb=function(rt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,tt,nt,ot){MSApp.execUnsafeLocalFunction(function(){return rt(et,tt,nt,ot)})}:rt}(function(rt,et){if(rt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in rt)rt.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;rt.firstChild;)rt.removeChild(rt.firstChild);for(;et.firstChild;)rt.appendChild(et.firstChild)}});function ob(rt,et){if(et){var tt=rt.firstChild;if(tt&&tt===rt.lastChild&&tt.nodeType===3){tt.nodeValue=et;return}}rt.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(rt){qb.forEach(function(et){et=et+rt.charAt(0).toUpperCase()+rt.substring(1),pb[et]=pb[rt]})});function rb(rt,et,tt){return et==null||typeof et=="boolean"||et===""?"":tt||typeof et!="number"||et===0||pb.hasOwnProperty(rt)&&pb[rt]?(""+et).trim():et+"px"}function sb(rt,et){rt=rt.style;for(var tt in et)if(et.hasOwnProperty(tt)){var nt=tt.indexOf("--")===0,ot=rb(tt,et[tt],nt);tt==="float"&&(tt="cssFloat"),nt?rt.setProperty(tt,ot):rt[tt]=ot}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(rt,et){if(et){if(tb[rt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$2(137,rt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$2(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$2(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$2(62))}}function vb(rt,et){if(rt.indexOf("-")===-1)return typeof et.is=="string";switch(rt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(rt){return rt=rt.target||rt.srcElement||window,rt.correspondingUseElement&&(rt=rt.correspondingUseElement),rt.nodeType===3?rt.parentNode:rt}var yb=null,zb=null,Ab=null;function Bb(rt){if(rt=Cb(rt)){if(typeof yb!="function")throw Error(p$2(280));var et=rt.stateNode;et&&(et=Db(et),yb(rt.stateNode,rt.type,et))}}function Eb(rt){zb?Ab?Ab.push(rt):Ab=[rt]:zb=rt}function Fb(){if(zb){var rt=zb,et=Ab;if(Ab=zb=null,Bb(rt),et)for(rt=0;rt<et.length;rt++)Bb(et[rt])}}function Gb(rt,et){return rt(et)}function Hb(){}var Ib=!1;function Jb(rt,et,tt){if(Ib)return rt(et,tt);Ib=!0;try{return Gb(rt,et,tt)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(rt,et){var tt=rt.stateNode;if(tt===null)return null;var nt=Db(tt);if(nt===null)return null;tt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(rt=rt.type,nt=!(rt==="button"||rt==="input"||rt==="select"||rt==="textarea")),rt=!nt;break e;default:rt=!1}if(rt)return null;if(tt&&typeof tt!="function")throw Error(p$2(231,et,typeof tt));return tt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(rt,et,tt,nt,ot,it,at,st,ut){var ft=Array.prototype.slice.call(arguments,3);try{et.apply(tt,ft)}catch(ht){this.onError(ht)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(rt){Ob=!0,Pb=rt}};function Tb(rt,et,tt,nt,ot,it,at,st,ut){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(rt,et,tt,nt,ot,it,at,st,ut){if(Tb.apply(this,arguments),Ob){if(Ob){var ft=Pb;Ob=!1,Pb=null}else throw Error(p$2(198));Qb||(Qb=!0,Rb=ft)}}function Vb(rt){var et=rt,tt=rt;if(rt.alternate)for(;et.return;)et=et.return;else{rt=et;do et=rt,et.flags&4098&&(tt=et.return),rt=et.return;while(rt)}return et.tag===3?tt:null}function Wb(rt){if(rt.tag===13){var et=rt.memoizedState;if(et===null&&(rt=rt.alternate,rt!==null&&(et=rt.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(rt){if(Vb(rt)!==rt)throw Error(p$2(188))}function Yb(rt){var et=rt.alternate;if(!et){if(et=Vb(rt),et===null)throw Error(p$2(188));return et!==rt?null:rt}for(var tt=rt,nt=et;;){var ot=tt.return;if(ot===null)break;var it=ot.alternate;if(it===null){if(nt=ot.return,nt!==null){tt=nt;continue}break}if(ot.child===it.child){for(it=ot.child;it;){if(it===tt)return Xb(ot),rt;if(it===nt)return Xb(ot),et;it=it.sibling}throw Error(p$2(188))}if(tt.return!==nt.return)tt=ot,nt=it;else{for(var at=!1,st=ot.child;st;){if(st===tt){at=!0,tt=ot,nt=it;break}if(st===nt){at=!0,nt=ot,tt=it;break}st=st.sibling}if(!at){for(st=it.child;st;){if(st===tt){at=!0,tt=it,nt=ot;break}if(st===nt){at=!0,nt=it,tt=ot;break}st=st.sibling}if(!at)throw Error(p$2(189))}}if(tt.alternate!==nt)throw Error(p$2(190))}if(tt.tag!==3)throw Error(p$2(188));return tt.stateNode.current===tt?rt:et}function Zb(rt){return rt=Yb(rt),rt!==null?$b(rt):null}function $b(rt){if(rt.tag===5||rt.tag===6)return rt;for(rt=rt.child;rt!==null;){var et=$b(rt);if(et!==null)return et;rt=rt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$1=ca.unstable_now,ec$1=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(rt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,rt,void 0,(rt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(rt){return rt>>>=0,rt===0?32:31-(pc(rt)/qc|0)|0}var rc=64,sc=4194304;function tc(rt){switch(rt&-rt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return rt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return rt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return rt}}function uc(rt,et){var tt=rt.pendingLanes;if(tt===0)return 0;var nt=0,ot=rt.suspendedLanes,it=rt.pingedLanes,at=tt&268435455;if(at!==0){var st=at&~ot;st!==0?nt=tc(st):(it&=at,it!==0&&(nt=tc(it)))}else at=tt&~ot,at!==0?nt=tc(at):it!==0&&(nt=tc(it));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&ot)&&(ot=nt&-nt,it=et&-et,ot>=it||ot===16&&(it&4194240)!==0))return et;if(nt&4&&(nt|=tt&16),et=rt.entangledLanes,et!==0)for(rt=rt.entanglements,et&=nt;0<et;)tt=31-oc(et),ot=1<<tt,nt|=rt[tt],et&=~ot;return nt}function vc(rt,et){switch(rt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(rt,et){for(var tt=rt.suspendedLanes,nt=rt.pingedLanes,ot=rt.expirationTimes,it=rt.pendingLanes;0<it;){var at=31-oc(it),st=1<<at,ut=ot[at];ut===-1?(!(st&tt)||st&nt)&&(ot[at]=vc(st,et)):ut<=et&&(rt.expiredLanes|=st),it&=~st}}function xc(rt){return rt=rt.pendingLanes&-1073741825,rt!==0?rt:rt&1073741824?1073741824:0}function yc(){var rt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),rt}function zc(rt){for(var et=[],tt=0;31>tt;tt++)et.push(rt);return et}function Ac(rt,et,tt){rt.pendingLanes|=et,et!==536870912&&(rt.suspendedLanes=0,rt.pingedLanes=0),rt=rt.eventTimes,et=31-oc(et),rt[et]=tt}function Bc(rt,et){var tt=rt.pendingLanes&~et;rt.pendingLanes=et,rt.suspendedLanes=0,rt.pingedLanes=0,rt.expiredLanes&=et,rt.mutableReadLanes&=et,rt.entangledLanes&=et,et=rt.entanglements;var nt=rt.eventTimes;for(rt=rt.expirationTimes;0<tt;){var ot=31-oc(tt),it=1<<ot;et[ot]=0,nt[ot]=-1,rt[ot]=-1,tt&=~it}}function Cc(rt,et){var tt=rt.entangledLanes|=et;for(rt=rt.entanglements;tt;){var nt=31-oc(tt),ot=1<<nt;ot&et|rt[nt]&et&&(rt[nt]|=et),tt&=~ot}}var C$1=0;function Dc(rt){return rt&=-rt,1<rt?4<rt?rt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(rt,et){switch(rt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(rt,et,tt,nt,ot,it){return rt===null||rt.nativeEvent!==it?(rt={blockedOn:et,domEventName:tt,eventSystemFlags:nt,nativeEvent:it,targetContainers:[ot]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),rt):(rt.eventSystemFlags|=nt,et=rt.targetContainers,ot!==null&&et.indexOf(ot)===-1&&et.push(ot),rt)}function Uc(rt,et,tt,nt,ot){switch(et){case"focusin":return Lc=Tc(Lc,rt,et,tt,nt,ot),!0;case"dragenter":return Mc=Tc(Mc,rt,et,tt,nt,ot),!0;case"mouseover":return Nc=Tc(Nc,rt,et,tt,nt,ot),!0;case"pointerover":var it=ot.pointerId;return Oc.set(it,Tc(Oc.get(it)||null,rt,et,tt,nt,ot)),!0;case"gotpointercapture":return it=ot.pointerId,Pc.set(it,Tc(Pc.get(it)||null,rt,et,tt,nt,ot)),!0}return!1}function Vc(rt){var et=Wc(rt.target);if(et!==null){var tt=Vb(et);if(tt!==null){if(et=tt.tag,et===13){if(et=Wb(tt),et!==null){rt.blockedOn=et,Ic(rt.priority,function(){Gc(tt)});return}}else if(et===3&&tt.stateNode.current.memoizedState.isDehydrated){rt.blockedOn=tt.tag===3?tt.stateNode.containerInfo:null;return}}}rt.blockedOn=null}function Xc(rt){if(rt.blockedOn!==null)return!1;for(var et=rt.targetContainers;0<et.length;){var tt=Yc(rt.domEventName,rt.eventSystemFlags,et[0],rt.nativeEvent);if(tt===null){tt=rt.nativeEvent;var nt=new tt.constructor(tt.type,tt);wb=nt,tt.target.dispatchEvent(nt),wb=null}else return et=Cb(tt),et!==null&&Fc(et),rt.blockedOn=tt,!1;et.shift()}return!0}function Zc(rt,et,tt){Xc(rt)&&tt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(rt,et){rt.blockedOn===et&&(rt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(rt){function et(ot){return ad(ot,rt)}if(0<Kc.length){ad(Kc[0],rt);for(var tt=1;tt<Kc.length;tt++){var nt=Kc[tt];nt.blockedOn===rt&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,rt),Mc!==null&&ad(Mc,rt),Nc!==null&&ad(Nc,rt),Oc.forEach(et),Pc.forEach(et),tt=0;tt<Qc.length;tt++)nt=Qc[tt],nt.blockedOn===rt&&(nt.blockedOn=null);for(;0<Qc.length&&(tt=Qc[0],tt.blockedOn===null);)Vc(tt),tt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(rt,et,tt,nt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=1,fd(rt,et,tt,nt)}finally{C$1=ot,cd.transition=it}}function gd(rt,et,tt,nt){var ot=C$1,it=cd.transition;cd.transition=null;try{C$1=4,fd(rt,et,tt,nt)}finally{C$1=ot,cd.transition=it}}function fd(rt,et,tt,nt){if(dd){var ot=Yc(rt,et,tt,nt);if(ot===null)hd(rt,et,nt,id,tt),Sc(rt,nt);else if(Uc(ot,rt,et,tt,nt))nt.stopPropagation();else if(Sc(rt,nt),et&4&&-1<Rc.indexOf(rt)){for(;ot!==null;){var it=Cb(ot);if(it!==null&&Ec(it),it=Yc(rt,et,tt,nt),it===null&&hd(rt,et,nt,id,tt),it===ot)break;ot=it}ot!==null&&nt.stopPropagation()}else hd(rt,et,nt,null,tt)}}var id=null;function Yc(rt,et,tt,nt){if(id=null,rt=xb(nt),rt=Wc(rt),rt!==null)if(et=Vb(rt),et===null)rt=null;else if(tt=et.tag,tt===13){if(rt=Wb(et),rt!==null)return rt;rt=null}else if(tt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;rt=null}else et!==rt&&(rt=null);return id=rt,null}function jd(rt){switch(rt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var rt,et=ld,tt=et.length,nt,ot="value"in kd?kd.value:kd.textContent,it=ot.length;for(rt=0;rt<tt&&et[rt]===ot[rt];rt++);var at=tt-rt;for(nt=1;nt<=at&&et[tt-nt]===ot[it-nt];nt++);return md=ot.slice(rt,1<nt?1-nt:void 0)}function od(rt){var et=rt.keyCode;return"charCode"in rt?(rt=rt.charCode,rt===0&&et===13&&(rt=13)):rt=et,rt===10&&(rt=13),32<=rt||rt===13?rt:0}function pd(){return!0}function qd(){return!1}function rd(rt){function et(tt,nt,ot,it,at){this._reactName=tt,this._targetInst=ot,this.type=nt,this.nativeEvent=it,this.target=at,this.currentTarget=null;for(var st in rt)rt.hasOwnProperty(st)&&(tt=rt[st],this[st]=tt?tt(it):it[st]);return this.isDefaultPrevented=(it.defaultPrevented!=null?it.defaultPrevented:it.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tt=this.nativeEvent;tt&&(tt.preventDefault?tt.preventDefault():typeof tt.returnValue!="unknown"&&(tt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tt=this.nativeEvent;tt&&(tt.stopPropagation?tt.stopPropagation():typeof tt.cancelBubble!="unknown"&&(tt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(rt){return rt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(rt){return rt.relatedTarget===void 0?rt.fromElement===rt.srcElement?rt.toElement:rt.fromElement:rt.relatedTarget},movementX:function(rt){return"movementX"in rt?rt.movementX:(rt!==yd&&(yd&&rt.type==="mousemove"?(wd=rt.screenX-yd.screenX,xd=rt.screenY-yd.screenY):xd=wd=0,yd=rt),wd)},movementY:function(rt){return"movementY"in rt?rt.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(rt){return"clipboardData"in rt?rt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(rt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(rt):(rt=Od[rt])?!!et[rt]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(rt){if(rt.key){var et=Md[rt.key]||rt.key;if(et!=="Unidentified")return et}return rt.type==="keypress"?(rt=od(rt),rt===13?"Enter":String.fromCharCode(rt)):rt.type==="keydown"||rt.type==="keyup"?Nd[rt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(rt){return rt.type==="keypress"?od(rt):0},keyCode:function(rt){return rt.type==="keydown"||rt.type==="keyup"?rt.keyCode:0},which:function(rt){return rt.type==="keypress"?od(rt):rt.type==="keydown"||rt.type==="keyup"?rt.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(rt){return"deltaX"in rt?rt.deltaX:"wheelDeltaX"in rt?-rt.wheelDeltaX:0},deltaY:function(rt){return"deltaY"in rt?rt.deltaY:"wheelDeltaY"in rt?-rt.wheelDeltaY:"wheelDelta"in rt?-rt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(rt,et){switch(rt){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(rt){return rt=rt.detail,typeof rt=="object"&&"data"in rt?rt.data:null}var ie$1=!1;function je$1(rt,et){switch(rt){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee$1);case"textInput":return rt=et.data,rt===ee$1&&fe$1?null:rt;default:return null}}function ke$1(rt,et){if(ie$1)return rt==="compositionend"||!ae$1&&ge$1(rt,et)?(rt=nd(),md=ld=kd=null,ie$1=!1,rt):null;switch(rt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$1&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(rt){var et=rt&&rt.nodeName&&rt.nodeName.toLowerCase();return et==="input"?!!le$1[rt.type]:et==="textarea"}function ne$1(rt,et,tt,nt){Eb(nt),et=oe$1(et,"onChange"),0<et.length&&(tt=new td("onChange","change",null,tt,nt),rt.push({event:tt,listeners:et}))}var pe$1=null,qe$1=null;function re$1(rt){se$1(rt,0)}function te$1(rt){var et=ue(rt);if(Wa(et))return rt}function ve$1(rt,et){if(rt==="change")return et}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye$1=typeof ze$1.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$1),qe$1=pe$1=null)}function Be$1(rt){if(rt.propertyName==="value"&&te$1(qe$1)){var et=[];ne$1(et,qe$1,rt,xb(rt)),Jb(re$1,et)}}function Ce(rt,et,tt){rt==="focusin"?(Ae$1(),pe$1=et,qe$1=tt,pe$1.attachEvent("onpropertychange",Be$1)):rt==="focusout"&&Ae$1()}function De$1(rt){if(rt==="selectionchange"||rt==="keyup"||rt==="keydown")return te$1(qe$1)}function Ee$1(rt,et){if(rt==="click")return te$1(et)}function Fe$1(rt,et){if(rt==="input"||rt==="change")return te$1(et)}function Ge(rt,et){return rt===et&&(rt!==0||1/rt===1/et)||rt!==rt&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(rt,et){if(He(rt,et))return!0;if(typeof rt!="object"||rt===null||typeof et!="object"||et===null)return!1;var tt=Object.keys(rt),nt=Object.keys(et);if(tt.length!==nt.length)return!1;for(nt=0;nt<tt.length;nt++){var ot=tt[nt];if(!ja.call(et,ot)||!He(rt[ot],et[ot]))return!1}return!0}function Je(rt){for(;rt&&rt.firstChild;)rt=rt.firstChild;return rt}function Ke(rt,et){var tt=Je(rt);rt=0;for(var nt;tt;){if(tt.nodeType===3){if(nt=rt+tt.textContent.length,rt<=et&&nt>=et)return{node:tt,offset:et-rt};rt=nt}e:{for(;tt;){if(tt.nextSibling){tt=tt.nextSibling;break e}tt=tt.parentNode}tt=void 0}tt=Je(tt)}}function Le(rt,et){return rt&&et?rt===et?!0:rt&&rt.nodeType===3?!1:et&&et.nodeType===3?Le(rt,et.parentNode):"contains"in rt?rt.contains(et):rt.compareDocumentPosition?!!(rt.compareDocumentPosition(et)&16):!1:!1}function Me$1(){for(var rt=window,et=Xa();et instanceof rt.HTMLIFrameElement;){try{var tt=typeof et.contentWindow.location.href=="string"}catch{tt=!1}if(tt)rt=et.contentWindow;else break;et=Xa(rt.document)}return et}function Ne$1(rt){var et=rt&&rt.nodeName&&rt.nodeName.toLowerCase();return et&&(et==="input"&&(rt.type==="text"||rt.type==="search"||rt.type==="tel"||rt.type==="url"||rt.type==="password")||et==="textarea"||rt.contentEditable==="true")}function Oe$1(rt){var et=Me$1(),tt=rt.focusedElem,nt=rt.selectionRange;if(et!==tt&&tt&&tt.ownerDocument&&Le(tt.ownerDocument.documentElement,tt)){if(nt!==null&&Ne$1(tt)){if(et=nt.start,rt=nt.end,rt===void 0&&(rt=et),"selectionStart"in tt)tt.selectionStart=et,tt.selectionEnd=Math.min(rt,tt.value.length);else if(rt=(et=tt.ownerDocument||document)&&et.defaultView||window,rt.getSelection){rt=rt.getSelection();var ot=tt.textContent.length,it=Math.min(nt.start,ot);nt=nt.end===void 0?it:Math.min(nt.end,ot),!rt.extend&&it>nt&&(ot=nt,nt=it,it=ot),ot=Ke(tt,it);var at=Ke(tt,nt);ot&&at&&(rt.rangeCount!==1||rt.anchorNode!==ot.node||rt.anchorOffset!==ot.offset||rt.focusNode!==at.node||rt.focusOffset!==at.offset)&&(et=et.createRange(),et.setStart(ot.node,ot.offset),rt.removeAllRanges(),it>nt?(rt.addRange(et),rt.extend(at.node,at.offset)):(et.setEnd(at.node,at.offset),rt.addRange(et)))}}for(et=[],rt=tt;rt=rt.parentNode;)rt.nodeType===1&&et.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof tt.focus=="function"&&tt.focus(),tt=0;tt<et.length;tt++)rt=et[tt],rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(rt,et,tt){var nt=tt.window===tt?tt.document:tt.nodeType===9?tt:tt.ownerDocument;Te$1||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne$1(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie(Se$1,nt)||(Se$1=nt,nt=oe$1(Re$1,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,tt),rt.push({event:et,listeners:nt}),et.target=Qe)))}function Ve$1(rt,et){var tt={};return tt[rt.toLowerCase()]=et.toLowerCase(),tt["Webkit"+rt]="webkit"+et,tt["Moz"+rt]="moz"+et,tt}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye$1={};ia&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(rt){if(Xe[rt])return Xe[rt];if(!We[rt])return rt;var et=We[rt],tt;for(tt in et)if(et.hasOwnProperty(tt)&&tt in Ye$1)return Xe[rt]=et[tt];return rt}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(rt,et){df.set(rt,et),fa(et,[rt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(rt,et,tt){var nt=rt.type||"unknown-event";rt.currentTarget=tt,Ub(nt,et,void 0,rt),rt.currentTarget=null}function se$1(rt,et){et=(et&4)!==0;for(var tt=0;tt<rt.length;tt++){var nt=rt[tt],ot=nt.event;nt=nt.listeners;e:{var it=void 0;if(et)for(var at=nt.length-1;0<=at;at--){var st=nt[at],ut=st.instance,ft=st.currentTarget;if(st=st.listener,ut!==it&&ot.isPropagationStopped())break e;nf(ot,st,ft),it=ut}else for(at=0;at<nt.length;at++){if(st=nt[at],ut=st.instance,ft=st.currentTarget,st=st.listener,ut!==it&&ot.isPropagationStopped())break e;nf(ot,st,ft),it=ut}}}if(Qb)throw rt=Rb,Qb=!1,Rb=null,rt}function D$2(rt,et){var tt=et[of];tt===void 0&&(tt=et[of]=new Set);var nt=rt+"__bubble";tt.has(nt)||(pf(et,rt,2,!1),tt.add(nt))}function qf(rt,et,tt){var nt=0;et&&(nt|=4),pf(tt,rt,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(rt){if(!rt[rf]){rt[rf]=!0,da.forEach(function(tt){tt!=="selectionchange"&&(mf.has(tt)||qf(tt,!1,rt),qf(tt,!0,rt))});var et=rt.nodeType===9?rt:rt.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(rt,et,tt,nt){switch(jd(et)){case 1:var ot=ed;break;case 4:ot=gd;break;default:ot=fd}tt=ot.bind(null,et,tt,rt),ot=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(ot=!0),nt?ot!==void 0?rt.addEventListener(et,tt,{capture:!0,passive:ot}):rt.addEventListener(et,tt,!0):ot!==void 0?rt.addEventListener(et,tt,{passive:ot}):rt.addEventListener(et,tt,!1)}function hd(rt,et,tt,nt,ot){var it=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var at=nt.tag;if(at===3||at===4){var st=nt.stateNode.containerInfo;if(st===ot||st.nodeType===8&&st.parentNode===ot)break;if(at===4)for(at=nt.return;at!==null;){var ut=at.tag;if((ut===3||ut===4)&&(ut=at.stateNode.containerInfo,ut===ot||ut.nodeType===8&&ut.parentNode===ot))return;at=at.return}for(;st!==null;){if(at=Wc(st),at===null)return;if(ut=at.tag,ut===5||ut===6){nt=it=at;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ft=it,ht=xb(tt),mt=[];e:{var gt=df.get(rt);if(gt!==void 0){var yt=td,xt=rt;switch(rt){case"keypress":if(od(tt)===0)break e;case"keydown":case"keyup":yt=Rd;break;case"focusin":xt="focus",yt=Fd;break;case"focusout":xt="blur",yt=Fd;break;case"beforeblur":case"afterblur":yt=Fd;break;case"click":if(tt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Vd;break;case $e:case af:case bf:yt=Hd;break;case cf:yt=Xd;break;case"scroll":yt=vd;break;case"wheel":yt=Zd;break;case"copy":case"cut":case"paste":yt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Td}var St=(et&4)!==0,Tt=!St&&rt==="scroll",Mt=St?gt!==null?gt+"Capture":null:gt;St=[];for(var Pt=ft,It;Pt!==null;){It=Pt;var kt=It.stateNode;if(It.tag===5&&kt!==null&&(It=kt,Mt!==null&&(kt=Kb(Pt,Mt),kt!=null&&St.push(tf(Pt,kt,It)))),Tt)break;Pt=Pt.return}0<St.length&&(gt=new yt(gt,xt,null,tt,ht),mt.push({event:gt,listeners:St}))}}if(!(et&7)){e:{if(gt=rt==="mouseover"||rt==="pointerover",yt=rt==="mouseout"||rt==="pointerout",gt&&tt!==wb&&(xt=tt.relatedTarget||tt.fromElement)&&(Wc(xt)||xt[uf]))break e;if((yt||gt)&&(gt=ht.window===ht?ht:(gt=ht.ownerDocument)?gt.defaultView||gt.parentWindow:window,yt?(xt=tt.relatedTarget||tt.toElement,yt=ft,xt=xt?Wc(xt):null,xt!==null&&(Tt=Vb(xt),xt!==Tt||xt.tag!==5&&xt.tag!==6)&&(xt=null)):(yt=null,xt=ft),yt!==xt)){if(St=Bd,kt="onMouseLeave",Mt="onMouseEnter",Pt="mouse",(rt==="pointerout"||rt==="pointerover")&&(St=Td,kt="onPointerLeave",Mt="onPointerEnter",Pt="pointer"),Tt=yt==null?gt:ue(yt),It=xt==null?gt:ue(xt),gt=new St(kt,Pt+"leave",yt,tt,ht),gt.target=Tt,gt.relatedTarget=It,kt=null,Wc(ht)===ft&&(St=new St(Mt,Pt+"enter",xt,tt,ht),St.target=It,St.relatedTarget=Tt,kt=St),Tt=kt,yt&&xt)t:{for(St=yt,Mt=xt,Pt=0,It=St;It;It=vf(It))Pt++;for(It=0,kt=Mt;kt;kt=vf(kt))It++;for(;0<Pt-It;)St=vf(St),Pt--;for(;0<It-Pt;)Mt=vf(Mt),It--;for(;Pt--;){if(St===Mt||Mt!==null&&St===Mt.alternate)break t;St=vf(St),Mt=vf(Mt)}St=null}else St=null;yt!==null&&wf(mt,gt,yt,St,!1),xt!==null&&Tt!==null&&wf(mt,Tt,xt,St,!0)}}e:{if(gt=ft?ue(ft):window,yt=gt.nodeName&&gt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&gt.type==="file")var Dt=ve$1;else if(me(gt))if(we$1)Dt=Fe$1;else{Dt=De$1;var Nt=Ce}else(yt=gt.nodeName)&&yt.toLowerCase()==="input"&&(gt.type==="checkbox"||gt.type==="radio")&&(Dt=Ee$1);if(Dt&&(Dt=Dt(rt,ft))){ne$1(mt,Dt,tt,ht);break e}Nt&&Nt(rt,gt,ft),rt==="focusout"&&(Nt=gt._wrapperState)&&Nt.controlled&&gt.type==="number"&&cb(gt,"number",gt.value)}switch(Nt=ft?ue(ft):window,rt){case"focusin":(me(Nt)||Nt.contentEditable==="true")&&(Qe=Nt,Re$1=ft,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(mt,tt,ht);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(mt,tt,ht)}var Gt;if(ae$1)e:{switch(rt){case"compositionstart":var Wt="onCompositionStart";break e;case"compositionend":Wt="onCompositionEnd";break e;case"compositionupdate":Wt="onCompositionUpdate";break e}Wt=void 0}else ie$1?ge$1(rt,tt)&&(Wt="onCompositionEnd"):rt==="keydown"&&tt.keyCode===229&&(Wt="onCompositionStart");Wt&&(de$1&&tt.locale!=="ko"&&(ie$1||Wt!=="onCompositionStart"?Wt==="onCompositionEnd"&&ie$1&&(Gt=nd()):(kd=ht,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Nt=oe$1(ft,Wt),0<Nt.length&&(Wt=new Ld(Wt,rt,null,tt,ht),mt.push({event:Wt,listeners:Nt}),Gt?Wt.data=Gt:(Gt=he$1(tt),Gt!==null&&(Wt.data=Gt)))),(Gt=ce$1?je$1(rt,tt):ke$1(rt,tt))&&(ft=oe$1(ft,"onBeforeInput"),0<ft.length&&(ht=new Ld("onBeforeInput","beforeinput",null,tt,ht),mt.push({event:ht,listeners:ft}),ht.data=Gt))}se$1(mt,et)})}function tf(rt,et,tt){return{instance:rt,listener:et,currentTarget:tt}}function oe$1(rt,et){for(var tt=et+"Capture",nt=[];rt!==null;){var ot=rt,it=ot.stateNode;ot.tag===5&&it!==null&&(ot=it,it=Kb(rt,tt),it!=null&&nt.unshift(tf(rt,it,ot)),it=Kb(rt,et),it!=null&&nt.push(tf(rt,it,ot))),rt=rt.return}return nt}function vf(rt){if(rt===null)return null;do rt=rt.return;while(rt&&rt.tag!==5);return rt||null}function wf(rt,et,tt,nt,ot){for(var it=et._reactName,at=[];tt!==null&&tt!==nt;){var st=tt,ut=st.alternate,ft=st.stateNode;if(ut!==null&&ut===nt)break;st.tag===5&&ft!==null&&(st=ft,ot?(ut=Kb(tt,it),ut!=null&&at.unshift(tf(tt,ut,st))):ot||(ut=Kb(tt,it),ut!=null&&at.push(tf(tt,ut,st)))),tt=tt.return}at.length!==0&&rt.push({event:et,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(rt){return(typeof rt=="string"?rt:""+rt).replace(xf,`
`).replace(yf,"")}function Af(rt,et,tt){if(et=zf(et),zf(rt)!==et&&tt)throw Error(p$2(425))}function Bf(){}var Cf=null,Df=null;function Ef(rt,et){return rt==="textarea"||rt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(rt){return Hf.resolve(null).then(rt).catch(If)}:Ff;function If(rt){setTimeout(function(){throw rt})}function Kf(rt,et){var tt=et,nt=0;do{var ot=tt.nextSibling;if(rt.removeChild(tt),ot&&ot.nodeType===8)if(tt=ot.data,tt==="/$"){if(nt===0){rt.removeChild(ot),bd(et);return}nt--}else tt!=="$"&&tt!=="$?"&&tt!=="$!"||nt++;tt=ot}while(tt);bd(et)}function Lf(rt){for(;rt!=null;rt=rt.nextSibling){var et=rt.nodeType;if(et===1||et===3)break;if(et===8){if(et=rt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return rt}function Mf(rt){rt=rt.previousSibling;for(var et=0;rt;){if(rt.nodeType===8){var tt=rt.data;if(tt==="$"||tt==="$!"||tt==="$?"){if(et===0)return rt;et--}else tt==="/$"&&et++}rt=rt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(rt){var et=rt[Of];if(et)return et;for(var tt=rt.parentNode;tt;){if(et=tt[uf]||tt[Of]){if(tt=et.alternate,et.child!==null||tt!==null&&tt.child!==null)for(rt=Mf(rt);rt!==null;){if(tt=rt[Of])return tt;rt=Mf(rt)}return et}rt=tt,tt=rt.parentNode}return null}function Cb(rt){return rt=rt[Of]||rt[uf],!rt||rt.tag!==5&&rt.tag!==6&&rt.tag!==13&&rt.tag!==3?null:rt}function ue(rt){if(rt.tag===5||rt.tag===6)return rt.stateNode;throw Error(p$2(33))}function Db(rt){return rt[Pf]||null}var Sf=[],Tf=-1;function Uf(rt){return{current:rt}}function E$2(rt){0>Tf||(rt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$1(rt,et){Tf++,Sf[Tf]=rt.current,rt.current=et}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(rt,et){var tt=rt.type.contextTypes;if(!tt)return Vf;var nt=rt.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var ot={},it;for(it in tt)ot[it]=et[it];return nt&&(rt=rt.stateNode,rt.__reactInternalMemoizedUnmaskedChildContext=et,rt.__reactInternalMemoizedMaskedChildContext=ot),ot}function Zf(rt){return rt=rt.childContextTypes,rt!=null}function $f(){E$2(Wf),E$2(H$1)}function ag(rt,et,tt){if(H$1.current!==Vf)throw Error(p$2(168));G$1(H$1,et),G$1(Wf,tt)}function bg(rt,et,tt){var nt=rt.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return tt;nt=nt.getChildContext();for(var ot in nt)if(!(ot in et))throw Error(p$2(108,Ra(rt)||"Unknown",ot));return A$1({},tt,nt)}function cg(rt){return rt=(rt=rt.stateNode)&&rt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$1(H$1,rt),G$1(Wf,Wf.current),!0}function dg(rt,et,tt){var nt=rt.stateNode;if(!nt)throw Error(p$2(169));tt?(rt=bg(rt,et,Xf),nt.__reactInternalMemoizedMergedChildContext=rt,E$2(Wf),E$2(H$1),G$1(H$1,rt)):E$2(Wf),G$1(Wf,tt)}var eg=null,fg=!1,gg=!1;function hg(rt){eg===null?eg=[rt]:eg.push(rt)}function ig(rt){fg=!0,hg(rt)}function jg(){if(!gg&&eg!==null){gg=!0;var rt=0,et=C$1;try{var tt=eg;for(C$1=1;rt<tt.length;rt++){var nt=tt[rt];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(ot){throw eg!==null&&(eg=eg.slice(rt+1)),ac(fc,jg),ot}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(rt,et){kg[lg++]=ng,kg[lg++]=mg,mg=rt,ng=et}function ug(rt,et,tt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=rt;var nt=rg;rt=sg;var ot=32-oc(nt)-1;nt&=~(1<<ot),tt+=1;var it=32-oc(et)+ot;if(30<it){var at=ot-ot%5;it=(nt&(1<<at)-1).toString(32),nt>>=at,ot-=at,rg=1<<32-oc(et)+ot|tt<<ot|nt,sg=it+rt}else rg=1<<it|tt<<ot|nt,sg=rt}function vg(rt){rt.return!==null&&(tg(rt,1),ug(rt,1,0))}function wg(rt){for(;rt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;rt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(rt,et){var tt=Bg(5,null,null,0);tt.elementType="DELETED",tt.stateNode=et,tt.return=rt,et=rt.deletions,et===null?(rt.deletions=[tt],rt.flags|=16):et.push(tt)}function Cg(rt,et){switch(rt.tag){case 5:var tt=rt.type;return et=et.nodeType!==1||tt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(rt.stateNode=et,xg=rt,yg=Lf(et.firstChild),!0):!1;case 6:return et=rt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(rt.stateNode=et,xg=rt,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(tt=qg!==null?{id:rg,overflow:sg}:null,rt.memoizedState={dehydrated:et,treeContext:tt,retryLane:1073741824},tt=Bg(18,null,null,0),tt.stateNode=et,tt.return=rt,rt.child=tt,xg=rt,yg=null,!0):!1;default:return!1}}function Dg(rt){return(rt.mode&1)!==0&&(rt.flags&128)===0}function Eg(rt){if(I$1){var et=yg;if(et){var tt=et;if(!Cg(rt,et)){if(Dg(rt))throw Error(p$2(418));et=Lf(tt.nextSibling);var nt=xg;et&&Cg(rt,et)?Ag(nt,tt):(rt.flags=rt.flags&-4097|2,I$1=!1,xg=rt)}}else{if(Dg(rt))throw Error(p$2(418));rt.flags=rt.flags&-4097|2,I$1=!1,xg=rt}}}function Fg(rt){for(rt=rt.return;rt!==null&&rt.tag!==5&&rt.tag!==3&&rt.tag!==13;)rt=rt.return;xg=rt}function Gg(rt){if(rt!==xg)return!1;if(!I$1)return Fg(rt),I$1=!0,!1;var et;if((et=rt.tag!==3)&&!(et=rt.tag!==5)&&(et=rt.type,et=et!=="head"&&et!=="body"&&!Ef(rt.type,rt.memoizedProps)),et&&(et=yg)){if(Dg(rt))throw Hg(),Error(p$2(418));for(;et;)Ag(rt,et),et=Lf(et.nextSibling)}if(Fg(rt),rt.tag===13){if(rt=rt.memoizedState,rt=rt!==null?rt.dehydrated:null,!rt)throw Error(p$2(317));e:{for(rt=rt.nextSibling,et=0;rt;){if(rt.nodeType===8){var tt=rt.data;if(tt==="/$"){if(et===0){yg=Lf(rt.nextSibling);break e}et--}else tt!=="$"&&tt!=="$!"&&tt!=="$?"||et++}rt=rt.nextSibling}yg=null}}else yg=xg?Lf(rt.stateNode.nextSibling):null;return!0}function Hg(){for(var rt=yg;rt;)rt=Lf(rt.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(rt){zg===null?zg=[rt]:zg.push(rt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(rt,et,tt){if(rt=tt.ref,rt!==null&&typeof rt!="function"&&typeof rt!="object"){if(tt._owner){if(tt=tt._owner,tt){if(tt.tag!==1)throw Error(p$2(309));var nt=tt.stateNode}if(!nt)throw Error(p$2(147,rt));var ot=nt,it=""+rt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===it?et.ref:(et=function(at){var st=ot.refs;at===null?delete st[it]:st[it]=at},et._stringRef=it,et)}if(typeof rt!="string")throw Error(p$2(284));if(!tt._owner)throw Error(p$2(290,rt))}return rt}function Mg(rt,et){throw rt=Object.prototype.toString.call(et),Error(p$2(31,rt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":rt))}function Ng(rt){var et=rt._init;return et(rt._payload)}function Og(rt){function et(Mt,Pt){if(rt){var It=Mt.deletions;It===null?(Mt.deletions=[Pt],Mt.flags|=16):It.push(Pt)}}function tt(Mt,Pt){if(!rt)return null;for(;Pt!==null;)et(Mt,Pt),Pt=Pt.sibling;return null}function nt(Mt,Pt){for(Mt=new Map;Pt!==null;)Pt.key!==null?Mt.set(Pt.key,Pt):Mt.set(Pt.index,Pt),Pt=Pt.sibling;return Mt}function ot(Mt,Pt){return Mt=Pg(Mt,Pt),Mt.index=0,Mt.sibling=null,Mt}function it(Mt,Pt,It){return Mt.index=It,rt?(It=Mt.alternate,It!==null?(It=It.index,It<Pt?(Mt.flags|=2,Pt):It):(Mt.flags|=2,Pt)):(Mt.flags|=1048576,Pt)}function at(Mt){return rt&&Mt.alternate===null&&(Mt.flags|=2),Mt}function st(Mt,Pt,It,kt){return Pt===null||Pt.tag!==6?(Pt=Qg(It,Mt.mode,kt),Pt.return=Mt,Pt):(Pt=ot(Pt,It),Pt.return=Mt,Pt)}function ut(Mt,Pt,It,kt){var Dt=It.type;return Dt===ya?ht(Mt,Pt,It.props.children,kt,It.key):Pt!==null&&(Pt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha&&Ng(Dt)===Pt.type)?(kt=ot(Pt,It.props),kt.ref=Lg(Mt,Pt,It),kt.return=Mt,kt):(kt=Rg(It.type,It.key,It.props,null,Mt.mode,kt),kt.ref=Lg(Mt,Pt,It),kt.return=Mt,kt)}function ft(Mt,Pt,It,kt){return Pt===null||Pt.tag!==4||Pt.stateNode.containerInfo!==It.containerInfo||Pt.stateNode.implementation!==It.implementation?(Pt=Sg(It,Mt.mode,kt),Pt.return=Mt,Pt):(Pt=ot(Pt,It.children||[]),Pt.return=Mt,Pt)}function ht(Mt,Pt,It,kt,Dt){return Pt===null||Pt.tag!==7?(Pt=Tg(It,Mt.mode,kt,Dt),Pt.return=Mt,Pt):(Pt=ot(Pt,It),Pt.return=Mt,Pt)}function mt(Mt,Pt,It){if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Pt=Qg(""+Pt,Mt.mode,It),Pt.return=Mt,Pt;if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case va:return It=Rg(Pt.type,Pt.key,Pt.props,null,Mt.mode,It),It.ref=Lg(Mt,null,Pt),It.return=Mt,It;case wa:return Pt=Sg(Pt,Mt.mode,It),Pt.return=Mt,Pt;case Ha:var kt=Pt._init;return mt(Mt,kt(Pt._payload),It)}if(eb(Pt)||Ka(Pt))return Pt=Tg(Pt,Mt.mode,It,null),Pt.return=Mt,Pt;Mg(Mt,Pt)}return null}function gt(Mt,Pt,It,kt){var Dt=Pt!==null?Pt.key:null;if(typeof It=="string"&&It!==""||typeof It=="number")return Dt!==null?null:st(Mt,Pt,""+It,kt);if(typeof It=="object"&&It!==null){switch(It.$$typeof){case va:return It.key===Dt?ut(Mt,Pt,It,kt):null;case wa:return It.key===Dt?ft(Mt,Pt,It,kt):null;case Ha:return Dt=It._init,gt(Mt,Pt,Dt(It._payload),kt)}if(eb(It)||Ka(It))return Dt!==null?null:ht(Mt,Pt,It,kt,null);Mg(Mt,It)}return null}function yt(Mt,Pt,It,kt,Dt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return Mt=Mt.get(It)||null,st(Pt,Mt,""+kt,Dt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return Mt=Mt.get(kt.key===null?It:kt.key)||null,ut(Pt,Mt,kt,Dt);case wa:return Mt=Mt.get(kt.key===null?It:kt.key)||null,ft(Pt,Mt,kt,Dt);case Ha:var Nt=kt._init;return yt(Mt,Pt,It,Nt(kt._payload),Dt)}if(eb(kt)||Ka(kt))return Mt=Mt.get(It)||null,ht(Pt,Mt,kt,Dt,null);Mg(Pt,kt)}return null}function xt(Mt,Pt,It,kt){for(var Dt=null,Nt=null,Gt=Pt,Wt=Pt=0,Ot=null;Gt!==null&&Wt<It.length;Wt++){Gt.index>Wt?(Ot=Gt,Gt=null):Ot=Gt.sibling;var Xt=gt(Mt,Gt,It[Wt],kt);if(Xt===null){Gt===null&&(Gt=Ot);break}rt&&Gt&&Xt.alternate===null&&et(Mt,Gt),Pt=it(Xt,Pt,Wt),Nt===null?Dt=Xt:Nt.sibling=Xt,Nt=Xt,Gt=Ot}if(Wt===It.length)return tt(Mt,Gt),I$1&&tg(Mt,Wt),Dt;if(Gt===null){for(;Wt<It.length;Wt++)Gt=mt(Mt,It[Wt],kt),Gt!==null&&(Pt=it(Gt,Pt,Wt),Nt===null?Dt=Gt:Nt.sibling=Gt,Nt=Gt);return I$1&&tg(Mt,Wt),Dt}for(Gt=nt(Mt,Gt);Wt<It.length;Wt++)Ot=yt(Gt,Mt,Wt,It[Wt],kt),Ot!==null&&(rt&&Ot.alternate!==null&&Gt.delete(Ot.key===null?Wt:Ot.key),Pt=it(Ot,Pt,Wt),Nt===null?Dt=Ot:Nt.sibling=Ot,Nt=Ot);return rt&&Gt.forEach(function(Et){return et(Mt,Et)}),I$1&&tg(Mt,Wt),Dt}function St(Mt,Pt,It,kt){var Dt=Ka(It);if(typeof Dt!="function")throw Error(p$2(150));if(It=Dt.call(It),It==null)throw Error(p$2(151));for(var Nt=Dt=null,Gt=Pt,Wt=Pt=0,Ot=null,Xt=It.next();Gt!==null&&!Xt.done;Wt++,Xt=It.next()){Gt.index>Wt?(Ot=Gt,Gt=null):Ot=Gt.sibling;var Et=gt(Mt,Gt,Xt.value,kt);if(Et===null){Gt===null&&(Gt=Ot);break}rt&&Gt&&Et.alternate===null&&et(Mt,Gt),Pt=it(Et,Pt,Wt),Nt===null?Dt=Et:Nt.sibling=Et,Nt=Et,Gt=Ot}if(Xt.done)return tt(Mt,Gt),I$1&&tg(Mt,Wt),Dt;if(Gt===null){for(;!Xt.done;Wt++,Xt=It.next())Xt=mt(Mt,Xt.value,kt),Xt!==null&&(Pt=it(Xt,Pt,Wt),Nt===null?Dt=Xt:Nt.sibling=Xt,Nt=Xt);return I$1&&tg(Mt,Wt),Dt}for(Gt=nt(Mt,Gt);!Xt.done;Wt++,Xt=It.next())Xt=yt(Gt,Mt,Wt,Xt.value,kt),Xt!==null&&(rt&&Xt.alternate!==null&&Gt.delete(Xt.key===null?Wt:Xt.key),Pt=it(Xt,Pt,Wt),Nt===null?Dt=Xt:Nt.sibling=Xt,Nt=Xt);return rt&&Gt.forEach(function(lt){return et(Mt,lt)}),I$1&&tg(Mt,Wt),Dt}function Tt(Mt,Pt,It,kt){if(typeof It=="object"&&It!==null&&It.type===ya&&It.key===null&&(It=It.props.children),typeof It=="object"&&It!==null){switch(It.$$typeof){case va:e:{for(var Dt=It.key,Nt=Pt;Nt!==null;){if(Nt.key===Dt){if(Dt=It.type,Dt===ya){if(Nt.tag===7){tt(Mt,Nt.sibling),Pt=ot(Nt,It.props.children),Pt.return=Mt,Mt=Pt;break e}}else if(Nt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ha&&Ng(Dt)===Nt.type){tt(Mt,Nt.sibling),Pt=ot(Nt,It.props),Pt.ref=Lg(Mt,Nt,It),Pt.return=Mt,Mt=Pt;break e}tt(Mt,Nt);break}else et(Mt,Nt);Nt=Nt.sibling}It.type===ya?(Pt=Tg(It.props.children,Mt.mode,kt,It.key),Pt.return=Mt,Mt=Pt):(kt=Rg(It.type,It.key,It.props,null,Mt.mode,kt),kt.ref=Lg(Mt,Pt,It),kt.return=Mt,Mt=kt)}return at(Mt);case wa:e:{for(Nt=It.key;Pt!==null;){if(Pt.key===Nt)if(Pt.tag===4&&Pt.stateNode.containerInfo===It.containerInfo&&Pt.stateNode.implementation===It.implementation){tt(Mt,Pt.sibling),Pt=ot(Pt,It.children||[]),Pt.return=Mt,Mt=Pt;break e}else{tt(Mt,Pt);break}else et(Mt,Pt);Pt=Pt.sibling}Pt=Sg(It,Mt.mode,kt),Pt.return=Mt,Mt=Pt}return at(Mt);case Ha:return Nt=It._init,Tt(Mt,Pt,Nt(It._payload),kt)}if(eb(It))return xt(Mt,Pt,It,kt);if(Ka(It))return St(Mt,Pt,It,kt);Mg(Mt,It)}return typeof It=="string"&&It!==""||typeof It=="number"?(It=""+It,Pt!==null&&Pt.tag===6?(tt(Mt,Pt.sibling),Pt=ot(Pt,It),Pt.return=Mt,Mt=Pt):(tt(Mt,Pt),Pt=Qg(It,Mt.mode,kt),Pt.return=Mt,Mt=Pt),at(Mt)):tt(Mt,Pt)}return Tt}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(rt){var et=Wg.current;E$2(Wg),rt._currentValue=et}function bh(rt,et,tt){for(;rt!==null;){var nt=rt.alternate;if((rt.childLanes&et)!==et?(rt.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),rt===tt)break;rt=rt.return}}function ch(rt,et){Xg=rt,Zg=Yg=null,rt=rt.dependencies,rt!==null&&rt.firstContext!==null&&(rt.lanes&et&&(dh$1=!0),rt.firstContext=null)}function eh(rt){var et=rt._currentValue;if(Zg!==rt)if(rt={context:rt,memoizedValue:et,next:null},Yg===null){if(Xg===null)throw Error(p$2(308));Yg=rt,Xg.dependencies={lanes:0,firstContext:rt}}else Yg=Yg.next=rt;return et}var fh=null;function gh(rt){fh===null?fh=[rt]:fh.push(rt)}function hh(rt,et,tt,nt){var ot=et.interleaved;return ot===null?(tt.next=tt,gh(et)):(tt.next=ot.next,ot.next=tt),et.interleaved=tt,ih(rt,nt)}function ih(rt,et){rt.lanes|=et;var tt=rt.alternate;for(tt!==null&&(tt.lanes|=et),tt=rt,rt=rt.return;rt!==null;)rt.childLanes|=et,tt=rt.alternate,tt!==null&&(tt.childLanes|=et),tt=rt,rt=rt.return;return tt.tag===3?tt.stateNode:null}var jh=!1;function kh(rt){rt.updateQueue={baseState:rt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(rt,et){rt=rt.updateQueue,et.updateQueue===rt&&(et.updateQueue={baseState:rt.baseState,firstBaseUpdate:rt.firstBaseUpdate,lastBaseUpdate:rt.lastBaseUpdate,shared:rt.shared,effects:rt.effects})}function mh(rt,et){return{eventTime:rt,lane:et,tag:0,payload:null,callback:null,next:null}}function nh(rt,et,tt){var nt=rt.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var ot=nt.pending;return ot===null?et.next=et:(et.next=ot.next,ot.next=et),nt.pending=et,ih(rt,tt)}return ot=nt.interleaved,ot===null?(et.next=et,gh(nt)):(et.next=ot.next,ot.next=et),nt.interleaved=et,ih(rt,tt)}function oh(rt,et,tt){if(et=et.updateQueue,et!==null&&(et=et.shared,(tt&4194240)!==0)){var nt=et.lanes;nt&=rt.pendingLanes,tt|=nt,et.lanes=tt,Cc(rt,tt)}}function ph(rt,et){var tt=rt.updateQueue,nt=rt.alternate;if(nt!==null&&(nt=nt.updateQueue,tt===nt)){var ot=null,it=null;if(tt=tt.firstBaseUpdate,tt!==null){do{var at={eventTime:tt.eventTime,lane:tt.lane,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null};it===null?ot=it=at:it=it.next=at,tt=tt.next}while(tt!==null);it===null?ot=it=et:it=it.next=et}else ot=it=et;tt={baseState:nt.baseState,firstBaseUpdate:ot,lastBaseUpdate:it,shared:nt.shared,effects:nt.effects},rt.updateQueue=tt;return}rt=tt.lastBaseUpdate,rt===null?tt.firstBaseUpdate=et:rt.next=et,tt.lastBaseUpdate=et}function qh(rt,et,tt,nt){var ot=rt.updateQueue;jh=!1;var it=ot.firstBaseUpdate,at=ot.lastBaseUpdate,st=ot.shared.pending;if(st!==null){ot.shared.pending=null;var ut=st,ft=ut.next;ut.next=null,at===null?it=ft:at.next=ft,at=ut;var ht=rt.alternate;ht!==null&&(ht=ht.updateQueue,st=ht.lastBaseUpdate,st!==at&&(st===null?ht.firstBaseUpdate=ft:st.next=ft,ht.lastBaseUpdate=ut))}if(it!==null){var mt=ot.baseState;at=0,ht=ft=ut=null,st=it;do{var gt=st.lane,yt=st.eventTime;if((nt&gt)===gt){ht!==null&&(ht=ht.next={eventTime:yt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var xt=rt,St=st;switch(gt=et,yt=tt,St.tag){case 1:if(xt=St.payload,typeof xt=="function"){mt=xt.call(yt,mt,gt);break e}mt=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=St.payload,gt=typeof xt=="function"?xt.call(yt,mt,gt):xt,gt==null)break e;mt=A$1({},mt,gt);break e;case 2:jh=!0}}st.callback!==null&&st.lane!==0&&(rt.flags|=64,gt=ot.effects,gt===null?ot.effects=[st]:gt.push(st))}else yt={eventTime:yt,lane:gt,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ht===null?(ft=ht=yt,ut=mt):ht=ht.next=yt,at|=gt;if(st=st.next,st===null){if(st=ot.shared.pending,st===null)break;gt=st,st=gt.next,gt.next=null,ot.lastBaseUpdate=gt,ot.shared.pending=null}}while(1);if(ht===null&&(ut=mt),ot.baseState=ut,ot.firstBaseUpdate=ft,ot.lastBaseUpdate=ht,et=ot.shared.interleaved,et!==null){ot=et;do at|=ot.lane,ot=ot.next;while(ot!==et)}else it===null&&(ot.shared.lanes=0);rh|=at,rt.lanes=at,rt.memoizedState=mt}}function sh(rt,et,tt){if(rt=et.effects,et.effects=null,rt!==null)for(et=0;et<rt.length;et++){var nt=rt[et],ot=nt.callback;if(ot!==null){if(nt.callback=null,nt=tt,typeof ot!="function")throw Error(p$2(191,ot));ot.call(nt)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(rt){if(rt===th)throw Error(p$2(174));return rt}function yh(rt,et){switch(G$1(wh,et),G$1(vh,rt),G$1(uh,th),rt=et.nodeType,rt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:rt=rt===8?et.parentNode:et,et=rt.namespaceURI||null,rt=rt.tagName,et=lb(et,rt)}E$2(uh),G$1(uh,et)}function zh(){E$2(uh),E$2(vh),E$2(wh)}function Ah(rt){xh(wh.current);var et=xh(uh.current),tt=lb(et,rt.type);et!==tt&&(G$1(vh,rt),G$1(uh,tt))}function Bh(rt){vh.current===rt&&(E$2(uh),E$2(vh))}var L$1=Uf(0);function Ch(rt){for(var et=rt;et!==null;){if(et.tag===13){var tt=et.memoizedState;if(tt!==null&&(tt=tt.dehydrated,tt===null||tt.data==="$?"||tt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===rt)break;for(;et.sibling===null;){if(et.return===null||et.return===rt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Dh=[];function Eh(){for(var rt=0;rt<Dh.length;rt++)Dh[rt]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$1=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$1(){throw Error(p$2(321))}function Mh(rt,et){if(et===null)return!1;for(var tt=0;tt<et.length&&tt<rt.length;tt++)if(!He(rt[tt],et[tt]))return!1;return!0}function Nh(rt,et,tt,nt,ot,it){if(Hh=it,M$1=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Fh.current=rt===null||rt.memoizedState===null?Oh:Ph,rt=tt(nt,ot),Jh){it=0;do{if(Jh=!1,Kh=0,25<=it)throw Error(p$2(301));it+=1,O=N$1=null,et.updateQueue=null,Fh.current=Qh,rt=tt(nt,ot)}while(Jh)}if(Fh.current=Rh,et=N$1!==null&&N$1.next!==null,Hh=0,O=N$1=M$1=null,Ih=!1,et)throw Error(p$2(300));return rt}function Sh(){var rt=Kh!==0;return Kh=0,rt}function Th(){var rt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=rt:O=O.next=rt,O}function Uh(){if(N$1===null){var rt=M$1.alternate;rt=rt!==null?rt.memoizedState:null}else rt=N$1.next;var et=O===null?M$1.memoizedState:O.next;if(et!==null)O=et,N$1=rt;else{if(rt===null)throw Error(p$2(310));N$1=rt,rt={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$1.memoizedState=O=rt:O=O.next=rt}return O}function Vh(rt,et){return typeof et=="function"?et(rt):et}function Wh(rt){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$2(311));tt.lastRenderedReducer=rt;var nt=N$1,ot=nt.baseQueue,it=tt.pending;if(it!==null){if(ot!==null){var at=ot.next;ot.next=it.next,it.next=at}nt.baseQueue=ot=it,tt.pending=null}if(ot!==null){it=ot.next,nt=nt.baseState;var st=at=null,ut=null,ft=it;do{var ht=ft.lane;if((Hh&ht)===ht)ut!==null&&(ut=ut.next={lane:0,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null}),nt=ft.hasEagerState?ft.eagerState:rt(nt,ft.action);else{var mt={lane:ht,action:ft.action,hasEagerState:ft.hasEagerState,eagerState:ft.eagerState,next:null};ut===null?(st=ut=mt,at=nt):ut=ut.next=mt,M$1.lanes|=ht,rh|=ht}ft=ft.next}while(ft!==null&&ft!==it);ut===null?at=nt:ut.next=st,He(nt,et.memoizedState)||(dh$1=!0),et.memoizedState=nt,et.baseState=at,et.baseQueue=ut,tt.lastRenderedState=nt}if(rt=tt.interleaved,rt!==null){ot=rt;do it=ot.lane,M$1.lanes|=it,rh|=it,ot=ot.next;while(ot!==rt)}else ot===null&&(tt.lanes=0);return[et.memoizedState,tt.dispatch]}function Xh(rt){var et=Uh(),tt=et.queue;if(tt===null)throw Error(p$2(311));tt.lastRenderedReducer=rt;var nt=tt.dispatch,ot=tt.pending,it=et.memoizedState;if(ot!==null){tt.pending=null;var at=ot=ot.next;do it=rt(it,at.action),at=at.next;while(at!==ot);He(it,et.memoizedState)||(dh$1=!0),et.memoizedState=it,et.baseQueue===null&&(et.baseState=it),tt.lastRenderedState=it}return[it,nt]}function Yh(){}function Zh(rt,et){var tt=M$1,nt=Uh(),ot=et(),it=!He(nt.memoizedState,ot);if(it&&(nt.memoizedState=ot,dh$1=!0),nt=nt.queue,$h(ai.bind(null,tt,nt,rt),[rt]),nt.getSnapshot!==et||it||O!==null&&O.memoizedState.tag&1){if(tt.flags|=2048,bi(9,ci.bind(null,tt,nt,ot,et),void 0,null),Q$1===null)throw Error(p$2(349));Hh&30||di(tt,et,ot)}return ot}function di(rt,et,tt){rt.flags|=16384,rt={getSnapshot:et,value:tt},et=M$1.updateQueue,et===null?(et={lastEffect:null,stores:null},M$1.updateQueue=et,et.stores=[rt]):(tt=et.stores,tt===null?et.stores=[rt]:tt.push(rt))}function ci(rt,et,tt,nt){et.value=tt,et.getSnapshot=nt,ei(et)&&fi(rt)}function ai(rt,et,tt){return tt(function(){ei(et)&&fi(rt)})}function ei(rt){var et=rt.getSnapshot;rt=rt.value;try{var tt=et();return!He(rt,tt)}catch{return!0}}function fi(rt){var et=ih(rt,1);et!==null&&gi(et,rt,1,-1)}function hi(rt){var et=Th();return typeof rt=="function"&&(rt=rt()),et.memoizedState=et.baseState=rt,rt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:rt},et.queue=rt,rt=rt.dispatch=ii.bind(null,M$1,rt),[et.memoizedState,rt]}function bi(rt,et,tt,nt){return rt={tag:rt,create:et,destroy:tt,deps:nt,next:null},et=M$1.updateQueue,et===null?(et={lastEffect:null,stores:null},M$1.updateQueue=et,et.lastEffect=rt.next=rt):(tt=et.lastEffect,tt===null?et.lastEffect=rt.next=rt:(nt=tt.next,tt.next=rt,rt.next=nt,et.lastEffect=rt)),rt}function ji(){return Uh().memoizedState}function ki(rt,et,tt,nt){var ot=Th();M$1.flags|=rt,ot.memoizedState=bi(1|et,tt,void 0,nt===void 0?null:nt)}function li(rt,et,tt,nt){var ot=Uh();nt=nt===void 0?null:nt;var it=void 0;if(N$1!==null){var at=N$1.memoizedState;if(it=at.destroy,nt!==null&&Mh(nt,at.deps)){ot.memoizedState=bi(et,tt,it,nt);return}}M$1.flags|=rt,ot.memoizedState=bi(1|et,tt,it,nt)}function mi(rt,et){return ki(8390656,8,rt,et)}function $h(rt,et){return li(2048,8,rt,et)}function ni(rt,et){return li(4,2,rt,et)}function oi(rt,et){return li(4,4,rt,et)}function pi(rt,et){if(typeof et=="function")return rt=rt(),et(rt),function(){et(null)};if(et!=null)return rt=rt(),et.current=rt,function(){et.current=null}}function qi(rt,et,tt){return tt=tt!=null?tt.concat([rt]):null,li(4,4,pi.bind(null,et,rt),tt)}function ri(){}function si(rt,et){var tt=Uh();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(tt.memoizedState=[rt,et],rt)}function ti(rt,et){var tt=Uh();et=et===void 0?null:et;var nt=tt.memoizedState;return nt!==null&&et!==null&&Mh(et,nt[1])?nt[0]:(rt=rt(),tt.memoizedState=[rt,et],rt)}function ui(rt,et,tt){return Hh&21?(He(tt,et)||(tt=yc(),M$1.lanes|=tt,rh|=tt,rt.baseState=!0),et):(rt.baseState&&(rt.baseState=!1,dh$1=!0),rt.memoizedState=tt)}function vi(rt,et){var tt=C$1;C$1=tt!==0&&4>tt?tt:4,rt(!0);var nt=Gh.transition;Gh.transition={};try{rt(!1),et()}finally{C$1=tt,Gh.transition=nt}}function wi(){return Uh().memoizedState}function xi(rt,et,tt){var nt=yi(rt);if(tt={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null},zi(rt))Ai(et,tt);else if(tt=hh(rt,et,tt,nt),tt!==null){var ot=R();gi(tt,rt,nt,ot),Bi(tt,et,nt)}}function ii(rt,et,tt){var nt=yi(rt),ot={lane:nt,action:tt,hasEagerState:!1,eagerState:null,next:null};if(zi(rt))Ai(et,ot);else{var it=rt.alternate;if(rt.lanes===0&&(it===null||it.lanes===0)&&(it=et.lastRenderedReducer,it!==null))try{var at=et.lastRenderedState,st=it(at,tt);if(ot.hasEagerState=!0,ot.eagerState=st,He(st,at)){var ut=et.interleaved;ut===null?(ot.next=ot,gh(et)):(ot.next=ut.next,ut.next=ot),et.interleaved=ot;return}}catch{}finally{}tt=hh(rt,et,ot,nt),tt!==null&&(ot=R(),gi(tt,rt,nt,ot),Bi(tt,et,nt))}}function zi(rt){var et=rt.alternate;return rt===M$1||et!==null&&et===M$1}function Ai(rt,et){Jh=Ih=!0;var tt=rt.pending;tt===null?et.next=et:(et.next=tt.next,tt.next=et),rt.pending=et}function Bi(rt,et,tt){if(tt&4194240){var nt=et.lanes;nt&=rt.pendingLanes,tt|=nt,et.lanes=tt,Cc(rt,tt)}}var Rh={readContext:eh,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(rt,et){return Th().memoizedState=[rt,et===void 0?null:et],rt},useContext:eh,useEffect:mi,useImperativeHandle:function(rt,et,tt){return tt=tt!=null?tt.concat([rt]):null,ki(4194308,4,pi.bind(null,et,rt),tt)},useLayoutEffect:function(rt,et){return ki(4194308,4,rt,et)},useInsertionEffect:function(rt,et){return ki(4,2,rt,et)},useMemo:function(rt,et){var tt=Th();return et=et===void 0?null:et,rt=rt(),tt.memoizedState=[rt,et],rt},useReducer:function(rt,et,tt){var nt=Th();return et=tt!==void 0?tt(et):et,nt.memoizedState=nt.baseState=et,rt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rt,lastRenderedState:et},nt.queue=rt,rt=rt.dispatch=xi.bind(null,M$1,rt),[nt.memoizedState,rt]},useRef:function(rt){var et=Th();return rt={current:rt},et.memoizedState=rt},useState:hi,useDebugValue:ri,useDeferredValue:function(rt){return Th().memoizedState=rt},useTransition:function(){var rt=hi(!1),et=rt[0];return rt=vi.bind(null,rt[1]),Th().memoizedState=rt,[et,rt]},useMutableSource:function(){},useSyncExternalStore:function(rt,et,tt){var nt=M$1,ot=Th();if(I$1){if(tt===void 0)throw Error(p$2(407));tt=tt()}else{if(tt=et(),Q$1===null)throw Error(p$2(349));Hh&30||di(nt,et,tt)}ot.memoizedState=tt;var it={value:tt,getSnapshot:et};return ot.queue=it,mi(ai.bind(null,nt,it,rt),[rt]),nt.flags|=2048,bi(9,ci.bind(null,nt,it,tt,et),void 0,null),tt},useId:function(){var rt=Th(),et=Q$1.identifierPrefix;if(I$1){var tt=sg,nt=rg;tt=(nt&~(1<<32-oc(nt)-1)).toString(32)+tt,et=":"+et+"R"+tt,tt=Kh++,0<tt&&(et+="H"+tt.toString(32)),et+=":"}else tt=Lh++,et=":"+et+"r"+tt.toString(32)+":";return rt.memoizedState=et},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:function(){return Wh(Vh)},useDebugValue:ri,useDeferredValue:function(rt){var et=Uh();return ui(et,N$1.memoizedState,rt)},useTransition:function(){var rt=Wh(Vh)[0],et=Uh().memoizedState;return[rt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:function(){return Xh(Vh)},useDebugValue:ri,useDeferredValue:function(rt){var et=Uh();return N$1===null?et.memoizedState=rt:ui(et,N$1.memoizedState,rt)},useTransition:function(){var rt=Xh(Vh)[0],et=Uh().memoizedState;return[rt,et]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(rt,et){if(rt&&rt.defaultProps){et=A$1({},et),rt=rt.defaultProps;for(var tt in rt)et[tt]===void 0&&(et[tt]=rt[tt]);return et}return et}function Di(rt,et,tt,nt){et=rt.memoizedState,tt=tt(nt,et),tt=tt==null?et:A$1({},et,tt),rt.memoizedState=tt,rt.lanes===0&&(rt.updateQueue.baseState=tt)}var Ei={isMounted:function(rt){return(rt=rt._reactInternals)?Vb(rt)===rt:!1},enqueueSetState:function(rt,et,tt){rt=rt._reactInternals;var nt=R(),ot=yi(rt),it=mh(nt,ot);it.payload=et,tt!=null&&(it.callback=tt),et=nh(rt,it,ot),et!==null&&(gi(et,rt,ot,nt),oh(et,rt,ot))},enqueueReplaceState:function(rt,et,tt){rt=rt._reactInternals;var nt=R(),ot=yi(rt),it=mh(nt,ot);it.tag=1,it.payload=et,tt!=null&&(it.callback=tt),et=nh(rt,it,ot),et!==null&&(gi(et,rt,ot,nt),oh(et,rt,ot))},enqueueForceUpdate:function(rt,et){rt=rt._reactInternals;var tt=R(),nt=yi(rt),ot=mh(tt,nt);ot.tag=2,et!=null&&(ot.callback=et),et=nh(rt,ot,nt),et!==null&&(gi(et,rt,nt,tt),oh(et,rt,nt))}};function Fi(rt,et,tt,nt,ot,it,at){return rt=rt.stateNode,typeof rt.shouldComponentUpdate=="function"?rt.shouldComponentUpdate(nt,it,at):et.prototype&&et.prototype.isPureReactComponent?!Ie(tt,nt)||!Ie(ot,it):!0}function Gi(rt,et,tt){var nt=!1,ot=Vf,it=et.contextType;return typeof it=="object"&&it!==null?it=eh(it):(ot=Zf(et)?Xf:H$1.current,nt=et.contextTypes,it=(nt=nt!=null)?Yf(rt,ot):Vf),et=new et(tt,it),rt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=Ei,rt.stateNode=et,et._reactInternals=rt,nt&&(rt=rt.stateNode,rt.__reactInternalMemoizedUnmaskedChildContext=ot,rt.__reactInternalMemoizedMaskedChildContext=it),et}function Hi(rt,et,tt,nt){rt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(tt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(tt,nt),et.state!==rt&&Ei.enqueueReplaceState(et,et.state,null)}function Ii(rt,et,tt,nt){var ot=rt.stateNode;ot.props=tt,ot.state=rt.memoizedState,ot.refs={},kh(rt);var it=et.contextType;typeof it=="object"&&it!==null?ot.context=eh(it):(it=Zf(et)?Xf:H$1.current,ot.context=Yf(rt,it)),ot.state=rt.memoizedState,it=et.getDerivedStateFromProps,typeof it=="function"&&(Di(rt,et,it,tt),ot.state=rt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof ot.getSnapshotBeforeUpdate=="function"||typeof ot.UNSAFE_componentWillMount!="function"&&typeof ot.componentWillMount!="function"||(et=ot.state,typeof ot.componentWillMount=="function"&&ot.componentWillMount(),typeof ot.UNSAFE_componentWillMount=="function"&&ot.UNSAFE_componentWillMount(),et!==ot.state&&Ei.enqueueReplaceState(ot,ot.state,null),qh(rt,tt,ot,nt),ot.state=rt.memoizedState),typeof ot.componentDidMount=="function"&&(rt.flags|=4194308)}function Ji(rt,et){try{var tt="",nt=et;do tt+=Pa(nt),nt=nt.return;while(nt);var ot=tt}catch(it){ot=`
Error generating stack: `+it.message+`
`+it.stack}return{value:rt,source:et,stack:ot,digest:null}}function Ki(rt,et,tt){return{value:rt,source:null,stack:tt??null,digest:et??null}}function Li(rt,et){try{console.error(et.value)}catch(tt){setTimeout(function(){throw tt})}}var Mi=typeof WeakMap=="function"?WeakMap:Map;function Ni(rt,et,tt){tt=mh(-1,tt),tt.tag=3,tt.payload={element:null};var nt=et.value;return tt.callback=function(){Oi||(Oi=!0,Pi=nt),Li(rt,et)},tt}function Qi(rt,et,tt){tt=mh(-1,tt),tt.tag=3;var nt=rt.type.getDerivedStateFromError;if(typeof nt=="function"){var ot=et.value;tt.payload=function(){return nt(ot)},tt.callback=function(){Li(rt,et)}}var it=rt.stateNode;return it!==null&&typeof it.componentDidCatch=="function"&&(tt.callback=function(){Li(rt,et),typeof nt!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var at=et.stack;this.componentDidCatch(et.value,{componentStack:at!==null?at:""})}),tt}function Si(rt,et,tt){var nt=rt.pingCache;if(nt===null){nt=rt.pingCache=new Mi;var ot=new Set;nt.set(et,ot)}else ot=nt.get(et),ot===void 0&&(ot=new Set,nt.set(et,ot));ot.has(tt)||(ot.add(tt),rt=Ti.bind(null,rt,et,tt),et.then(rt,rt))}function Ui(rt){do{var et;if((et=rt.tag===13)&&(et=rt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return rt;rt=rt.return}while(rt!==null);return null}function Vi(rt,et,tt,nt,ot){return rt.mode&1?(rt.flags|=65536,rt.lanes=ot,rt):(rt===et?rt.flags|=65536:(rt.flags|=128,tt.flags|=131072,tt.flags&=-52805,tt.tag===1&&(tt.alternate===null?tt.tag=17:(et=mh(-1,1),et.tag=2,nh(tt,et,1))),tt.lanes|=1),rt)}var Wi=ua.ReactCurrentOwner,dh$1=!1;function Xi(rt,et,tt,nt){et.child=rt===null?Vg(et,null,tt,nt):Ug(et,rt.child,tt,nt)}function Yi(rt,et,tt,nt,ot){tt=tt.render;var it=et.ref;return ch(et,ot),nt=Nh(rt,et,tt,nt,it,ot),tt=Sh(),rt!==null&&!dh$1?(et.updateQueue=rt.updateQueue,et.flags&=-2053,rt.lanes&=~ot,Zi(rt,et,ot)):(I$1&&tt&&vg(et),et.flags|=1,Xi(rt,et,nt,ot),et.child)}function $i(rt,et,tt,nt,ot){if(rt===null){var it=tt.type;return typeof it=="function"&&!aj(it)&&it.defaultProps===void 0&&tt.compare===null&&tt.defaultProps===void 0?(et.tag=15,et.type=it,bj(rt,et,it,nt,ot)):(rt=Rg(tt.type,null,nt,et,et.mode,ot),rt.ref=et.ref,rt.return=et,et.child=rt)}if(it=rt.child,!(rt.lanes&ot)){var at=it.memoizedProps;if(tt=tt.compare,tt=tt!==null?tt:Ie,tt(at,nt)&&rt.ref===et.ref)return Zi(rt,et,ot)}return et.flags|=1,rt=Pg(it,nt),rt.ref=et.ref,rt.return=et,et.child=rt}function bj(rt,et,tt,nt,ot){if(rt!==null){var it=rt.memoizedProps;if(Ie(it,nt)&&rt.ref===et.ref)if(dh$1=!1,et.pendingProps=nt=it,(rt.lanes&ot)!==0)rt.flags&131072&&(dh$1=!0);else return et.lanes=rt.lanes,Zi(rt,et,ot)}return cj(rt,et,tt,nt,ot)}function dj(rt,et,tt){var nt=et.pendingProps,ot=nt.children,it=rt!==null?rt.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=tt;else{if(!(tt&1073741824))return rt=it!==null?it.baseLanes|tt:tt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:rt,cachePool:null,transitions:null},et.updateQueue=null,G$1(ej,fj),fj|=rt,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=it!==null?it.baseLanes:tt,G$1(ej,fj),fj|=nt}else it!==null?(nt=it.baseLanes|tt,et.memoizedState=null):nt=tt,G$1(ej,fj),fj|=nt;return Xi(rt,et,ot,tt),et.child}function gj(rt,et){var tt=et.ref;(rt===null&&tt!==null||rt!==null&&rt.ref!==tt)&&(et.flags|=512,et.flags|=2097152)}function cj(rt,et,tt,nt,ot){var it=Zf(tt)?Xf:H$1.current;return it=Yf(et,it),ch(et,ot),tt=Nh(rt,et,tt,nt,it,ot),nt=Sh(),rt!==null&&!dh$1?(et.updateQueue=rt.updateQueue,et.flags&=-2053,rt.lanes&=~ot,Zi(rt,et,ot)):(I$1&&nt&&vg(et),et.flags|=1,Xi(rt,et,tt,ot),et.child)}function hj(rt,et,tt,nt,ot){if(Zf(tt)){var it=!0;cg(et)}else it=!1;if(ch(et,ot),et.stateNode===null)ij(rt,et),Gi(et,tt,nt),Ii(et,tt,nt,ot),nt=!0;else if(rt===null){var at=et.stateNode,st=et.memoizedProps;at.props=st;var ut=at.context,ft=tt.contextType;typeof ft=="object"&&ft!==null?ft=eh(ft):(ft=Zf(tt)?Xf:H$1.current,ft=Yf(et,ft));var ht=tt.getDerivedStateFromProps,mt=typeof ht=="function"||typeof at.getSnapshotBeforeUpdate=="function";mt||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==nt||ut!==ft)&&Hi(et,at,nt,ft),jh=!1;var gt=et.memoizedState;at.state=gt,qh(et,nt,at,ot),ut=et.memoizedState,st!==nt||gt!==ut||Wf.current||jh?(typeof ht=="function"&&(Di(et,tt,ht,nt),ut=et.memoizedState),(st=jh||Fi(et,tt,st,nt,gt,ut,ft))?(mt||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(et.flags|=4194308)):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=ut),at.props=nt,at.state=ut,at.context=ft,nt=st):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{at=et.stateNode,lh(rt,et),st=et.memoizedProps,ft=et.type===et.elementType?st:Ci(et.type,st),at.props=ft,mt=et.pendingProps,gt=at.context,ut=tt.contextType,typeof ut=="object"&&ut!==null?ut=eh(ut):(ut=Zf(tt)?Xf:H$1.current,ut=Yf(et,ut));var yt=tt.getDerivedStateFromProps;(ht=typeof yt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==mt||gt!==ut)&&Hi(et,at,nt,ut),jh=!1,gt=et.memoizedState,at.state=gt,qh(et,nt,at,ot);var xt=et.memoizedState;st!==mt||gt!==xt||Wf.current||jh?(typeof yt=="function"&&(Di(et,tt,yt,nt),xt=et.memoizedState),(ft=jh||Fi(et,tt,ft,nt,gt,xt,ut)||!1)?(ht||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(nt,xt,ut),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(nt,xt,ut)),typeof at.componentDidUpdate=="function"&&(et.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof at.componentDidUpdate!="function"||st===rt.memoizedProps&&gt===rt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===rt.memoizedProps&&gt===rt.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=xt),at.props=nt,at.state=xt,at.context=ut,nt=ft):(typeof at.componentDidUpdate!="function"||st===rt.memoizedProps&&gt===rt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===rt.memoizedProps&&gt===rt.memoizedState||(et.flags|=1024),nt=!1)}return jj(rt,et,tt,nt,it,ot)}function jj(rt,et,tt,nt,ot,it){gj(rt,et);var at=(et.flags&128)!==0;if(!nt&&!at)return ot&&dg(et,tt,!1),Zi(rt,et,it);nt=et.stateNode,Wi.current=et;var st=at&&typeof tt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,rt!==null&&at?(et.child=Ug(et,rt.child,null,it),et.child=Ug(et,null,st,it)):Xi(rt,et,st,it),et.memoizedState=nt.state,ot&&dg(et,tt,!0),et.child}function kj(rt){var et=rt.stateNode;et.pendingContext?ag(rt,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(rt,et.context,!1),yh(rt,et.containerInfo)}function lj(rt,et,tt,nt,ot){return Ig(),Jg(ot),et.flags|=256,Xi(rt,et,tt,nt),et.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(rt){return{baseLanes:rt,cachePool:null,transitions:null}}function oj(rt,et,tt){var nt=et.pendingProps,ot=L$1.current,it=!1,at=(et.flags&128)!==0,st;if((st=at)||(st=rt!==null&&rt.memoizedState===null?!1:(ot&2)!==0),st?(it=!0,et.flags&=-129):(rt===null||rt.memoizedState!==null)&&(ot|=1),G$1(L$1,ot&1),rt===null)return Eg(et),rt=et.memoizedState,rt!==null&&(rt=rt.dehydrated,rt!==null)?(et.mode&1?rt.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(at=nt.children,rt=nt.fallback,it?(nt=et.mode,it=et.child,at={mode:"hidden",children:at},!(nt&1)&&it!==null?(it.childLanes=0,it.pendingProps=at):it=pj(at,nt,0,null),rt=Tg(rt,nt,tt,null),it.return=et,rt.return=et,it.sibling=rt,et.child=it,et.child.memoizedState=nj(tt),et.memoizedState=mj,rt):qj(et,at));if(ot=rt.memoizedState,ot!==null&&(st=ot.dehydrated,st!==null))return rj(rt,et,at,nt,st,ot,tt);if(it){it=nt.fallback,at=et.mode,ot=rt.child,st=ot.sibling;var ut={mode:"hidden",children:nt.children};return!(at&1)&&et.child!==ot?(nt=et.child,nt.childLanes=0,nt.pendingProps=ut,et.deletions=null):(nt=Pg(ot,ut),nt.subtreeFlags=ot.subtreeFlags&14680064),st!==null?it=Pg(st,it):(it=Tg(it,at,tt,null),it.flags|=2),it.return=et,nt.return=et,nt.sibling=it,et.child=nt,nt=it,it=et.child,at=rt.child.memoizedState,at=at===null?nj(tt):{baseLanes:at.baseLanes|tt,cachePool:null,transitions:at.transitions},it.memoizedState=at,it.childLanes=rt.childLanes&~tt,et.memoizedState=mj,nt}return it=rt.child,rt=it.sibling,nt=Pg(it,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=tt),nt.return=et,nt.sibling=null,rt!==null&&(tt=et.deletions,tt===null?(et.deletions=[rt],et.flags|=16):tt.push(rt)),et.child=nt,et.memoizedState=null,nt}function qj(rt,et){return et=pj({mode:"visible",children:et},rt.mode,0,null),et.return=rt,rt.child=et}function sj(rt,et,tt,nt){return nt!==null&&Jg(nt),Ug(et,rt.child,null,tt),rt=qj(et,et.pendingProps.children),rt.flags|=2,et.memoizedState=null,rt}function rj(rt,et,tt,nt,ot,it,at){if(tt)return et.flags&256?(et.flags&=-257,nt=Ki(Error(p$2(422))),sj(rt,et,at,nt)):et.memoizedState!==null?(et.child=rt.child,et.flags|=128,null):(it=nt.fallback,ot=et.mode,nt=pj({mode:"visible",children:nt.children},ot,0,null),it=Tg(it,ot,at,null),it.flags|=2,nt.return=et,it.return=et,nt.sibling=it,et.child=nt,et.mode&1&&Ug(et,rt.child,null,at),et.child.memoizedState=nj(at),et.memoizedState=mj,it);if(!(et.mode&1))return sj(rt,et,at,null);if(ot.data==="$!"){if(nt=ot.nextSibling&&ot.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,it=Error(p$2(419)),nt=Ki(it,nt,void 0),sj(rt,et,at,nt)}if(st=(at&rt.childLanes)!==0,dh$1||st){if(nt=Q$1,nt!==null){switch(at&-at){case 4:ot=2;break;case 16:ot=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ot=32;break;case 536870912:ot=268435456;break;default:ot=0}ot=ot&(nt.suspendedLanes|at)?0:ot,ot!==0&&ot!==it.retryLane&&(it.retryLane=ot,ih(rt,ot),gi(nt,rt,ot,-1))}return tj(),nt=Ki(Error(p$2(421))),sj(rt,et,at,nt)}return ot.data==="$?"?(et.flags|=128,et.child=rt.child,et=uj.bind(null,rt),ot._reactRetry=et,null):(rt=it.treeContext,yg=Lf(ot.nextSibling),xg=et,I$1=!0,zg=null,rt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=rt.id,sg=rt.overflow,qg=et),et=qj(et,nt.children),et.flags|=4096,et)}function vj(rt,et,tt){rt.lanes|=et;var nt=rt.alternate;nt!==null&&(nt.lanes|=et),bh(rt.return,et,tt)}function wj(rt,et,tt,nt,ot){var it=rt.memoizedState;it===null?rt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:tt,tailMode:ot}:(it.isBackwards=et,it.rendering=null,it.renderingStartTime=0,it.last=nt,it.tail=tt,it.tailMode=ot)}function xj(rt,et,tt){var nt=et.pendingProps,ot=nt.revealOrder,it=nt.tail;if(Xi(rt,et,nt.children,tt),nt=L$1.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(rt!==null&&rt.flags&128)e:for(rt=et.child;rt!==null;){if(rt.tag===13)rt.memoizedState!==null&&vj(rt,tt,et);else if(rt.tag===19)vj(rt,tt,et);else if(rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===et)break e;for(;rt.sibling===null;){if(rt.return===null||rt.return===et)break e;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}nt&=1}if(G$1(L$1,nt),!(et.mode&1))et.memoizedState=null;else switch(ot){case"forwards":for(tt=et.child,ot=null;tt!==null;)rt=tt.alternate,rt!==null&&Ch(rt)===null&&(ot=tt),tt=tt.sibling;tt=ot,tt===null?(ot=et.child,et.child=null):(ot=tt.sibling,tt.sibling=null),wj(et,!1,ot,tt,it);break;case"backwards":for(tt=null,ot=et.child,et.child=null;ot!==null;){if(rt=ot.alternate,rt!==null&&Ch(rt)===null){et.child=ot;break}rt=ot.sibling,ot.sibling=tt,tt=ot,ot=rt}wj(et,!0,tt,null,it);break;case"together":wj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function ij(rt,et){!(et.mode&1)&&rt!==null&&(rt.alternate=null,et.alternate=null,et.flags|=2)}function Zi(rt,et,tt){if(rt!==null&&(et.dependencies=rt.dependencies),rh|=et.lanes,!(tt&et.childLanes))return null;if(rt!==null&&et.child!==rt.child)throw Error(p$2(153));if(et.child!==null){for(rt=et.child,tt=Pg(rt,rt.pendingProps),et.child=tt,tt.return=et;rt.sibling!==null;)rt=rt.sibling,tt=tt.sibling=Pg(rt,rt.pendingProps),tt.return=et;tt.sibling=null}return et.child}function yj(rt,et,tt){switch(et.tag){case 3:kj(et),Ig();break;case 5:Ah(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:yh(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,ot=et.memoizedProps.value;G$1(Wg,nt._currentValue),nt._currentValue=ot;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$1(L$1,L$1.current&1),et.flags|=128,null):tt&et.child.childLanes?oj(rt,et,tt):(G$1(L$1,L$1.current&1),rt=Zi(rt,et,tt),rt!==null?rt.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(nt=(tt&et.childLanes)!==0,rt.flags&128){if(nt)return xj(rt,et,tt);et.flags|=128}if(ot=et.memoizedState,ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),G$1(L$1,L$1.current),nt)break;return null;case 22:case 23:return et.lanes=0,dj(rt,et,tt)}return Zi(rt,et,tt)}var zj,Aj,Bj,Cj;zj=function(rt,et){for(var tt=et.child;tt!==null;){if(tt.tag===5||tt.tag===6)rt.appendChild(tt.stateNode);else if(tt.tag!==4&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)return;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}};Aj=function(){};Bj=function(rt,et,tt,nt){var ot=rt.memoizedProps;if(ot!==nt){rt=et.stateNode,xh(uh.current);var it=null;switch(tt){case"input":ot=Ya(rt,ot),nt=Ya(rt,nt),it=[];break;case"select":ot=A$1({},ot,{value:void 0}),nt=A$1({},nt,{value:void 0}),it=[];break;case"textarea":ot=gb(rt,ot),nt=gb(rt,nt),it=[];break;default:typeof ot.onClick!="function"&&typeof nt.onClick=="function"&&(rt.onclick=Bf)}ub(tt,nt);var at;tt=null;for(ft in ot)if(!nt.hasOwnProperty(ft)&&ot.hasOwnProperty(ft)&&ot[ft]!=null)if(ft==="style"){var st=ot[ft];for(at in st)st.hasOwnProperty(at)&&(tt||(tt={}),tt[at]="")}else ft!=="dangerouslySetInnerHTML"&&ft!=="children"&&ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&ft!=="autoFocus"&&(ea.hasOwnProperty(ft)?it||(it=[]):(it=it||[]).push(ft,null));for(ft in nt){var ut=nt[ft];if(st=ot!=null?ot[ft]:void 0,nt.hasOwnProperty(ft)&&ut!==st&&(ut!=null||st!=null))if(ft==="style")if(st){for(at in st)!st.hasOwnProperty(at)||ut&&ut.hasOwnProperty(at)||(tt||(tt={}),tt[at]="");for(at in ut)ut.hasOwnProperty(at)&&st[at]!==ut[at]&&(tt||(tt={}),tt[at]=ut[at])}else tt||(it||(it=[]),it.push(ft,tt)),tt=ut;else ft==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,st=st?st.__html:void 0,ut!=null&&st!==ut&&(it=it||[]).push(ft,ut)):ft==="children"?typeof ut!="string"&&typeof ut!="number"||(it=it||[]).push(ft,""+ut):ft!=="suppressContentEditableWarning"&&ft!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ft)?(ut!=null&&ft==="onScroll"&&D$2("scroll",rt),it||st===ut||(it=[])):(it=it||[]).push(ft,ut))}tt&&(it=it||[]).push("style",tt);var ft=it;(et.updateQueue=ft)&&(et.flags|=4)}};Cj=function(rt,et,tt,nt){tt!==nt&&(et.flags|=4)};function Dj(rt,et){if(!I$1)switch(rt.tailMode){case"hidden":et=rt.tail;for(var tt=null;et!==null;)et.alternate!==null&&(tt=et),et=et.sibling;tt===null?rt.tail=null:tt.sibling=null;break;case"collapsed":tt=rt.tail;for(var nt=null;tt!==null;)tt.alternate!==null&&(nt=tt),tt=tt.sibling;nt===null?et||rt.tail===null?rt.tail=null:rt.tail.sibling=null:nt.sibling=null}}function S$1(rt){var et=rt.alternate!==null&&rt.alternate.child===rt.child,tt=0,nt=0;if(et)for(var ot=rt.child;ot!==null;)tt|=ot.lanes|ot.childLanes,nt|=ot.subtreeFlags&14680064,nt|=ot.flags&14680064,ot.return=rt,ot=ot.sibling;else for(ot=rt.child;ot!==null;)tt|=ot.lanes|ot.childLanes,nt|=ot.subtreeFlags,nt|=ot.flags,ot.return=rt,ot=ot.sibling;return rt.subtreeFlags|=nt,rt.childLanes=tt,et}function Ej(rt,et,tt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(et),null;case 1:return Zf(et.type)&&$f(),S$1(et),null;case 3:return nt=et.stateNode,zh(),E$2(Wf),E$2(H$1),Eh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(rt===null||rt.child===null)&&(Gg(et)?et.flags|=4:rt===null||rt.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(rt,et),S$1(et),null;case 5:Bh(et);var ot=xh(wh.current);if(tt=et.type,rt!==null&&et.stateNode!=null)Bj(rt,et,tt,nt,ot),rt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$2(166));return S$1(et),null}if(rt=xh(uh.current),Gg(et)){nt=et.stateNode,tt=et.type;var it=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=it,rt=(et.mode&1)!==0,tt){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,it),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!it.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,it),D$2("invalid",nt)}ub(tt,it),ot=null;for(var at in it)if(it.hasOwnProperty(at)){var st=it[at];at==="children"?typeof st=="string"?nt.textContent!==st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,rt),ot=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(it.suppressHydrationWarning!==!0&&Af(nt.textContent,st,rt),ot=["children",""+st]):ea.hasOwnProperty(at)&&st!=null&&at==="onScroll"&&D$2("scroll",nt)}switch(tt){case"input":Va(nt),db(nt,it,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof it.onClick=="function"&&(nt.onclick=Bf)}nt=ot,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{at=ot.nodeType===9?ot:ot.ownerDocument,rt==="http://www.w3.org/1999/xhtml"&&(rt=kb(tt)),rt==="http://www.w3.org/1999/xhtml"?tt==="script"?(rt=at.createElement("div"),rt.innerHTML="<script><\/script>",rt=rt.removeChild(rt.firstChild)):typeof nt.is=="string"?rt=at.createElement(tt,{is:nt.is}):(rt=at.createElement(tt),tt==="select"&&(at=rt,nt.multiple?at.multiple=!0:nt.size&&(at.size=nt.size))):rt=at.createElementNS(rt,tt),rt[Of]=et,rt[Pf]=nt,zj(rt,et,!1,!1),et.stateNode=rt;e:{switch(at=vb(tt,nt),tt){case"dialog":D$2("cancel",rt),D$2("close",rt),ot=nt;break;case"iframe":case"object":case"embed":D$2("load",rt),ot=nt;break;case"video":case"audio":for(ot=0;ot<lf.length;ot++)D$2(lf[ot],rt);ot=nt;break;case"source":D$2("error",rt),ot=nt;break;case"img":case"image":case"link":D$2("error",rt),D$2("load",rt),ot=nt;break;case"details":D$2("toggle",rt),ot=nt;break;case"input":Za(rt,nt),ot=Ya(rt,nt),D$2("invalid",rt);break;case"option":ot=nt;break;case"select":rt._wrapperState={wasMultiple:!!nt.multiple},ot=A$1({},nt,{value:void 0}),D$2("invalid",rt);break;case"textarea":hb(rt,nt),ot=gb(rt,nt),D$2("invalid",rt);break;default:ot=nt}ub(tt,ot),st=ot;for(it in st)if(st.hasOwnProperty(it)){var ut=st[it];it==="style"?sb(rt,ut):it==="dangerouslySetInnerHTML"?(ut=ut?ut.__html:void 0,ut!=null&&nb(rt,ut)):it==="children"?typeof ut=="string"?(tt!=="textarea"||ut!=="")&&ob(rt,ut):typeof ut=="number"&&ob(rt,""+ut):it!=="suppressContentEditableWarning"&&it!=="suppressHydrationWarning"&&it!=="autoFocus"&&(ea.hasOwnProperty(it)?ut!=null&&it==="onScroll"&&D$2("scroll",rt):ut!=null&&ta(rt,it,ut,at))}switch(tt){case"input":Va(rt),db(rt,nt,!1);break;case"textarea":Va(rt),jb(rt);break;case"option":nt.value!=null&&rt.setAttribute("value",""+Sa(nt.value));break;case"select":rt.multiple=!!nt.multiple,it=nt.value,it!=null?fb(rt,!!nt.multiple,it,!1):nt.defaultValue!=null&&fb(rt,!!nt.multiple,nt.defaultValue,!0);break;default:typeof ot.onClick=="function"&&(rt.onclick=Bf)}switch(tt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$1(et),null;case 6:if(rt&&et.stateNode!=null)Cj(rt,et,rt.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$2(166));if(tt=xh(wh.current),xh(uh.current),Gg(et)){if(nt=et.stateNode,tt=et.memoizedProps,nt[Of]=et,(it=nt.nodeValue!==tt)&&(rt=xg,rt!==null))switch(rt.tag){case 3:Af(nt.nodeValue,tt,(rt.mode&1)!==0);break;case 5:rt.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,tt,(rt.mode&1)!==0)}it&&(et.flags|=4)}else nt=(tt.nodeType===9?tt:tt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$1(et),null;case 13:if(E$2(L$1),nt=et.memoizedState,rt===null||rt.memoizedState!==null&&rt.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,it=!1;else if(it=Gg(et),nt!==null&&nt.dehydrated!==null){if(rt===null){if(!it)throw Error(p$2(318));if(it=et.memoizedState,it=it!==null?it.dehydrated:null,!it)throw Error(p$2(317));it[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$1(et),it=!1}else zg!==null&&(Fj(zg),zg=null),it=!0;if(!it)return et.flags&65536?et:null}return et.flags&128?(et.lanes=tt,et):(nt=nt!==null,nt!==(rt!==null&&rt.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(rt===null||L$1.current&1?T$1===0&&(T$1=3):tj())),et.updateQueue!==null&&(et.flags|=4),S$1(et),null);case 4:return zh(),Aj(rt,et),rt===null&&sf(et.stateNode.containerInfo),S$1(et),null;case 10:return ah(et.type._context),S$1(et),null;case 17:return Zf(et.type)&&$f(),S$1(et),null;case 19:if(E$2(L$1),it=et.memoizedState,it===null)return S$1(et),null;if(nt=(et.flags&128)!==0,at=it.rendering,at===null)if(nt)Dj(it,!1);else{if(T$1!==0||rt!==null&&rt.flags&128)for(rt=et.child;rt!==null;){if(at=Ch(rt),at!==null){for(et.flags|=128,Dj(it,!1),nt=at.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=tt,tt=et.child;tt!==null;)it=tt,rt=nt,it.flags&=14680066,at=it.alternate,at===null?(it.childLanes=0,it.lanes=rt,it.child=null,it.subtreeFlags=0,it.memoizedProps=null,it.memoizedState=null,it.updateQueue=null,it.dependencies=null,it.stateNode=null):(it.childLanes=at.childLanes,it.lanes=at.lanes,it.child=at.child,it.subtreeFlags=0,it.deletions=null,it.memoizedProps=at.memoizedProps,it.memoizedState=at.memoizedState,it.updateQueue=at.updateQueue,it.type=at.type,rt=at.dependencies,it.dependencies=rt===null?null:{lanes:rt.lanes,firstContext:rt.firstContext}),tt=tt.sibling;return G$1(L$1,L$1.current&1|2),et.child}rt=rt.sibling}it.tail!==null&&B$1()>Gj&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304)}else{if(!nt)if(rt=Ch(at),rt!==null){if(et.flags|=128,nt=!0,tt=rt.updateQueue,tt!==null&&(et.updateQueue=tt,et.flags|=4),Dj(it,!0),it.tail===null&&it.tailMode==="hidden"&&!at.alternate&&!I$1)return S$1(et),null}else 2*B$1()-it.renderingStartTime>Gj&&tt!==1073741824&&(et.flags|=128,nt=!0,Dj(it,!1),et.lanes=4194304);it.isBackwards?(at.sibling=et.child,et.child=at):(tt=it.last,tt!==null?tt.sibling=at:et.child=at,it.last=at)}return it.tail!==null?(et=it.tail,it.rendering=et,it.tail=et.sibling,it.renderingStartTime=B$1(),et.sibling=null,tt=L$1.current,G$1(L$1,nt?tt&1|2:tt&1),et):(S$1(et),null);case 22:case 23:return Hj(),nt=et.memoizedState!==null,rt!==null&&rt.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?fj&1073741824&&(S$1(et),et.subtreeFlags&6&&(et.flags|=8192)):S$1(et),null;case 24:return null;case 25:return null}throw Error(p$2(156,et.tag))}function Ij(rt,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),rt=et.flags,rt&65536?(et.flags=rt&-65537|128,et):null;case 3:return zh(),E$2(Wf),E$2(H$1),Eh(),rt=et.flags,rt&65536&&!(rt&128)?(et.flags=rt&-65537|128,et):null;case 5:return Bh(et),null;case 13:if(E$2(L$1),rt=et.memoizedState,rt!==null&&rt.dehydrated!==null){if(et.alternate===null)throw Error(p$2(340));Ig()}return rt=et.flags,rt&65536?(et.flags=rt&-65537|128,et):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah(et.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(rt,et){var tt=rt.ref;if(tt!==null)if(typeof tt=="function")try{tt(null)}catch(nt){W$2(rt,et,nt)}else tt.current=null}function Mj(rt,et,tt){try{tt()}catch(nt){W$2(rt,et,nt)}}var Nj=!1;function Oj(rt,et){if(Cf=dd,rt=Me$1(),Ne$1(rt)){if("selectionStart"in rt)var tt={start:rt.selectionStart,end:rt.selectionEnd};else e:{tt=(tt=rt.ownerDocument)&&tt.defaultView||window;var nt=tt.getSelection&&tt.getSelection();if(nt&&nt.rangeCount!==0){tt=nt.anchorNode;var ot=nt.anchorOffset,it=nt.focusNode;nt=nt.focusOffset;try{tt.nodeType,it.nodeType}catch{tt=null;break e}var at=0,st=-1,ut=-1,ft=0,ht=0,mt=rt,gt=null;t:for(;;){for(var yt;mt!==tt||ot!==0&&mt.nodeType!==3||(st=at+ot),mt!==it||nt!==0&&mt.nodeType!==3||(ut=at+nt),mt.nodeType===3&&(at+=mt.nodeValue.length),(yt=mt.firstChild)!==null;)gt=mt,mt=yt;for(;;){if(mt===rt)break t;if(gt===tt&&++ft===ot&&(st=at),gt===it&&++ht===nt&&(ut=at),(yt=mt.nextSibling)!==null)break;mt=gt,gt=mt.parentNode}mt=yt}tt=st===-1||ut===-1?null:{start:st,end:ut}}else tt=null}tt=tt||{start:0,end:0}}else tt=null;for(Df={focusedElem:rt,selectionRange:tt},dd=!1,V$1=et;V$1!==null;)if(et=V$1,rt=et.child,(et.subtreeFlags&1028)!==0&&rt!==null)rt.return=et,V$1=rt;else for(;V$1!==null;){et=V$1;try{var xt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(xt!==null){var St=xt.memoizedProps,Tt=xt.memoizedState,Mt=et.stateNode,Pt=Mt.getSnapshotBeforeUpdate(et.elementType===et.type?St:Ci(et.type,St),Tt);Mt.__reactInternalSnapshotBeforeUpdate=Pt}break;case 3:var It=et.stateNode.containerInfo;It.nodeType===1?It.textContent="":It.nodeType===9&&It.documentElement&&It.removeChild(It.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(kt){W$2(et,et.return,kt)}if(rt=et.sibling,rt!==null){rt.return=et.return,V$1=rt;break}V$1=et.return}return xt=Nj,Nj=!1,xt}function Pj(rt,et,tt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var ot=nt=nt.next;do{if((ot.tag&rt)===rt){var it=ot.destroy;ot.destroy=void 0,it!==void 0&&Mj(et,tt,it)}ot=ot.next}while(ot!==nt)}}function Qj(rt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var tt=et=et.next;do{if((tt.tag&rt)===rt){var nt=tt.create;tt.destroy=nt()}tt=tt.next}while(tt!==et)}}function Rj(rt){var et=rt.ref;if(et!==null){var tt=rt.stateNode;switch(rt.tag){case 5:rt=tt;break;default:rt=tt}typeof et=="function"?et(rt):et.current=rt}}function Sj(rt){var et=rt.alternate;et!==null&&(rt.alternate=null,Sj(et)),rt.child=null,rt.deletions=null,rt.sibling=null,rt.tag===5&&(et=rt.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),rt.stateNode=null,rt.return=null,rt.dependencies=null,rt.memoizedProps=null,rt.memoizedState=null,rt.pendingProps=null,rt.stateNode=null,rt.updateQueue=null}function Tj(rt){return rt.tag===5||rt.tag===3||rt.tag===4}function Uj(rt){e:for(;;){for(;rt.sibling===null;){if(rt.return===null||Tj(rt.return))return null;rt=rt.return}for(rt.sibling.return=rt.return,rt=rt.sibling;rt.tag!==5&&rt.tag!==6&&rt.tag!==18;){if(rt.flags&2||rt.child===null||rt.tag===4)continue e;rt.child.return=rt,rt=rt.child}if(!(rt.flags&2))return rt.stateNode}}function Vj(rt,et,tt){var nt=rt.tag;if(nt===5||nt===6)rt=rt.stateNode,et?tt.nodeType===8?tt.parentNode.insertBefore(rt,et):tt.insertBefore(rt,et):(tt.nodeType===8?(et=tt.parentNode,et.insertBefore(rt,tt)):(et=tt,et.appendChild(rt)),tt=tt._reactRootContainer,tt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(rt=rt.child,rt!==null))for(Vj(rt,et,tt),rt=rt.sibling;rt!==null;)Vj(rt,et,tt),rt=rt.sibling}function Wj(rt,et,tt){var nt=rt.tag;if(nt===5||nt===6)rt=rt.stateNode,et?tt.insertBefore(rt,et):tt.appendChild(rt);else if(nt!==4&&(rt=rt.child,rt!==null))for(Wj(rt,et,tt),rt=rt.sibling;rt!==null;)Wj(rt,et,tt),rt=rt.sibling}var X$2=null,Xj=!1;function Yj(rt,et,tt){for(tt=tt.child;tt!==null;)Zj(rt,et,tt),tt=tt.sibling}function Zj(rt,et,tt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tt)}catch{}switch(tt.tag){case 5:U$1||Lj(tt,et);case 6:var nt=X$2,ot=Xj;X$2=null,Yj(rt,et,tt),X$2=nt,Xj=ot,X$2!==null&&(Xj?(rt=X$2,tt=tt.stateNode,rt.nodeType===8?rt.parentNode.removeChild(tt):rt.removeChild(tt)):X$2.removeChild(tt.stateNode));break;case 18:X$2!==null&&(Xj?(rt=X$2,tt=tt.stateNode,rt.nodeType===8?Kf(rt.parentNode,tt):rt.nodeType===1&&Kf(rt,tt),bd(rt)):Kf(X$2,tt.stateNode));break;case 4:nt=X$2,ot=Xj,X$2=tt.stateNode.containerInfo,Xj=!0,Yj(rt,et,tt),X$2=nt,Xj=ot;break;case 0:case 11:case 14:case 15:if(!U$1&&(nt=tt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){ot=nt=nt.next;do{var it=ot,at=it.destroy;it=it.tag,at!==void 0&&(it&2||it&4)&&Mj(tt,et,at),ot=ot.next}while(ot!==nt)}Yj(rt,et,tt);break;case 1:if(!U$1&&(Lj(tt,et),nt=tt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=tt.memoizedProps,nt.state=tt.memoizedState,nt.componentWillUnmount()}catch(st){W$2(tt,et,st)}Yj(rt,et,tt);break;case 21:Yj(rt,et,tt);break;case 22:tt.mode&1?(U$1=(nt=U$1)||tt.memoizedState!==null,Yj(rt,et,tt),U$1=nt):Yj(rt,et,tt);break;default:Yj(rt,et,tt)}}function ak(rt){var et=rt.updateQueue;if(et!==null){rt.updateQueue=null;var tt=rt.stateNode;tt===null&&(tt=rt.stateNode=new Kj),et.forEach(function(nt){var ot=bk.bind(null,rt,nt);tt.has(nt)||(tt.add(nt),nt.then(ot,ot))})}}function ck(rt,et){var tt=et.deletions;if(tt!==null)for(var nt=0;nt<tt.length;nt++){var ot=tt[nt];try{var it=rt,at=et,st=at;e:for(;st!==null;){switch(st.tag){case 5:X$2=st.stateNode,Xj=!1;break e;case 3:X$2=st.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=st.stateNode.containerInfo,Xj=!0;break e}st=st.return}if(X$2===null)throw Error(p$2(160));Zj(it,at,ot),X$2=null,Xj=!1;var ut=ot.alternate;ut!==null&&(ut.return=null),ot.return=null}catch(ft){W$2(ot,et,ft)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)dk(et,rt),et=et.sibling}function dk(rt,et){var tt=rt.alternate,nt=rt.flags;switch(rt.tag){case 0:case 11:case 14:case 15:if(ck(et,rt),ek(rt),nt&4){try{Pj(3,rt,rt.return),Qj(3,rt)}catch(St){W$2(rt,rt.return,St)}try{Pj(5,rt,rt.return)}catch(St){W$2(rt,rt.return,St)}}break;case 1:ck(et,rt),ek(rt),nt&512&&tt!==null&&Lj(tt,tt.return);break;case 5:if(ck(et,rt),ek(rt),nt&512&&tt!==null&&Lj(tt,tt.return),rt.flags&32){var ot=rt.stateNode;try{ob(ot,"")}catch(St){W$2(rt,rt.return,St)}}if(nt&4&&(ot=rt.stateNode,ot!=null)){var it=rt.memoizedProps,at=tt!==null?tt.memoizedProps:it,st=rt.type,ut=rt.updateQueue;if(rt.updateQueue=null,ut!==null)try{st==="input"&&it.type==="radio"&&it.name!=null&&ab(ot,it),vb(st,at);var ft=vb(st,it);for(at=0;at<ut.length;at+=2){var ht=ut[at],mt=ut[at+1];ht==="style"?sb(ot,mt):ht==="dangerouslySetInnerHTML"?nb(ot,mt):ht==="children"?ob(ot,mt):ta(ot,ht,mt,ft)}switch(st){case"input":bb(ot,it);break;case"textarea":ib(ot,it);break;case"select":var gt=ot._wrapperState.wasMultiple;ot._wrapperState.wasMultiple=!!it.multiple;var yt=it.value;yt!=null?fb(ot,!!it.multiple,yt,!1):gt!==!!it.multiple&&(it.defaultValue!=null?fb(ot,!!it.multiple,it.defaultValue,!0):fb(ot,!!it.multiple,it.multiple?[]:"",!1))}ot[Pf]=it}catch(St){W$2(rt,rt.return,St)}}break;case 6:if(ck(et,rt),ek(rt),nt&4){if(rt.stateNode===null)throw Error(p$2(162));ot=rt.stateNode,it=rt.memoizedProps;try{ot.nodeValue=it}catch(St){W$2(rt,rt.return,St)}}break;case 3:if(ck(et,rt),ek(rt),nt&4&&tt!==null&&tt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(St){W$2(rt,rt.return,St)}break;case 4:ck(et,rt),ek(rt);break;case 13:ck(et,rt),ek(rt),ot=rt.child,ot.flags&8192&&(it=ot.memoizedState!==null,ot.stateNode.isHidden=it,!it||ot.alternate!==null&&ot.alternate.memoizedState!==null||(fk=B$1())),nt&4&&ak(rt);break;case 22:if(ht=tt!==null&&tt.memoizedState!==null,rt.mode&1?(U$1=(ft=U$1)||ht,ck(et,rt),U$1=ft):ck(et,rt),ek(rt),nt&8192){if(ft=rt.memoizedState!==null,(rt.stateNode.isHidden=ft)&&!ht&&rt.mode&1)for(V$1=rt,ht=rt.child;ht!==null;){for(mt=V$1=ht;V$1!==null;){switch(gt=V$1,yt=gt.child,gt.tag){case 0:case 11:case 14:case 15:Pj(4,gt,gt.return);break;case 1:Lj(gt,gt.return);var xt=gt.stateNode;if(typeof xt.componentWillUnmount=="function"){nt=gt,tt=gt.return;try{et=nt,xt.props=et.memoizedProps,xt.state=et.memoizedState,xt.componentWillUnmount()}catch(St){W$2(nt,tt,St)}}break;case 5:Lj(gt,gt.return);break;case 22:if(gt.memoizedState!==null){gk(mt);continue}}yt!==null?(yt.return=gt,V$1=yt):gk(mt)}ht=ht.sibling}e:for(ht=null,mt=rt;;){if(mt.tag===5){if(ht===null){ht=mt;try{ot=mt.stateNode,ft?(it=ot.style,typeof it.setProperty=="function"?it.setProperty("display","none","important"):it.display="none"):(st=mt.stateNode,ut=mt.memoizedProps.style,at=ut!=null&&ut.hasOwnProperty("display")?ut.display:null,st.style.display=rb("display",at))}catch(St){W$2(rt,rt.return,St)}}}else if(mt.tag===6){if(ht===null)try{mt.stateNode.nodeValue=ft?"":mt.memoizedProps}catch(St){W$2(rt,rt.return,St)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===rt)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===rt)break e;for(;mt.sibling===null;){if(mt.return===null||mt.return===rt)break e;ht===mt&&(ht=null),mt=mt.return}ht===mt&&(ht=null),mt.sibling.return=mt.return,mt=mt.sibling}}break;case 19:ck(et,rt),ek(rt),nt&4&&ak(rt);break;case 21:break;default:ck(et,rt),ek(rt)}}function ek(rt){var et=rt.flags;if(et&2){try{e:{for(var tt=rt.return;tt!==null;){if(Tj(tt)){var nt=tt;break e}tt=tt.return}throw Error(p$2(160))}switch(nt.tag){case 5:var ot=nt.stateNode;nt.flags&32&&(ob(ot,""),nt.flags&=-33);var it=Uj(rt);Wj(rt,it,ot);break;case 3:case 4:var at=nt.stateNode.containerInfo,st=Uj(rt);Vj(rt,st,at);break;default:throw Error(p$2(161))}}catch(ut){W$2(rt,rt.return,ut)}rt.flags&=-3}et&4096&&(rt.flags&=-4097)}function hk(rt,et,tt){V$1=rt,ik(rt)}function ik(rt,et,tt){for(var nt=(rt.mode&1)!==0;V$1!==null;){var ot=V$1,it=ot.child;if(ot.tag===22&&nt){var at=ot.memoizedState!==null||Jj;if(!at){var st=ot.alternate,ut=st!==null&&st.memoizedState!==null||U$1;st=Jj;var ft=U$1;if(Jj=at,(U$1=ut)&&!ft)for(V$1=ot;V$1!==null;)at=V$1,ut=at.child,at.tag===22&&at.memoizedState!==null?jk(ot):ut!==null?(ut.return=at,V$1=ut):jk(ot);for(;it!==null;)V$1=it,ik(it),it=it.sibling;V$1=ot,Jj=st,U$1=ft}kk(rt)}else ot.subtreeFlags&8772&&it!==null?(it.return=ot,V$1=it):kk(rt)}}function kk(rt){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var tt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$1||Qj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$1)if(tt===null)nt.componentDidMount();else{var ot=et.elementType===et.type?tt.memoizedProps:Ci(et.type,tt.memoizedProps);nt.componentDidUpdate(ot,tt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var it=et.updateQueue;it!==null&&sh(et,it,nt);break;case 3:var at=et.updateQueue;if(at!==null){if(tt=null,et.child!==null)switch(et.child.tag){case 5:tt=et.child.stateNode;break;case 1:tt=et.child.stateNode}sh(et,at,tt)}break;case 5:var st=et.stateNode;if(tt===null&&et.flags&4){tt=st;var ut=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":ut.autoFocus&&tt.focus();break;case"img":ut.src&&(tt.src=ut.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ft=et.alternate;if(ft!==null){var ht=ft.memoizedState;if(ht!==null){var mt=ht.dehydrated;mt!==null&&bd(mt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||et.flags&512&&Rj(et)}catch(gt){W$2(et,et.return,gt)}}if(et===rt){V$1=null;break}if(tt=et.sibling,tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function gk(rt){for(;V$1!==null;){var et=V$1;if(et===rt){V$1=null;break}var tt=et.sibling;if(tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}}function jk(rt){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var tt=et.return;try{Qj(4,et)}catch(ut){W$2(et,tt,ut)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var ot=et.return;try{nt.componentDidMount()}catch(ut){W$2(et,ot,ut)}}var it=et.return;try{Rj(et)}catch(ut){W$2(et,it,ut)}break;case 5:var at=et.return;try{Rj(et)}catch(ut){W$2(et,at,ut)}}}catch(ut){W$2(et,et.return,ut)}if(et===rt){V$1=null;break}var st=et.sibling;if(st!==null){st.return=et.return,V$1=st;break}V$1=et.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi=!1,Pi=null,Ri=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi(rt){return rt.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(rt=C$1,rt!==0||(rt=window.event,rt=rt===void 0?16:jd(rt.type)),rt):1}function gi(rt,et,tt,nt){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac(rt,tt,nt),(!(K$1&2)||rt!==Q$1)&&(rt===Q$1&&(!(K$1&2)&&(qk|=tt),T$1===4&&Ck(rt,Z$1)),Dk(rt,nt),tt===1&&K$1===0&&!(et.mode&1)&&(Gj=B$1()+500,fg&&jg()))}function Dk(rt,et){var tt=rt.callbackNode;wc(rt,et);var nt=uc(rt,rt===Q$1?Z$1:0);if(nt===0)tt!==null&&bc(tt),rt.callbackNode=null,rt.callbackPriority=0;else if(et=nt&-nt,rt.callbackPriority!==et){if(tt!=null&&bc(tt),et===1)rt.tag===0?ig(Ek.bind(null,rt)):hg(Ek.bind(null,rt)),Jf(function(){!(K$1&6)&&jg()}),tt=null;else{switch(Dc(nt)){case 1:tt=fc;break;case 4:tt=gc;break;case 16:tt=hc;break;case 536870912:tt=jc;break;default:tt=hc}tt=Fk(tt,Gk.bind(null,rt))}rt.callbackPriority=et,rt.callbackNode=tt}}function Gk(rt,et){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var tt=rt.callbackNode;if(Hk()&&rt.callbackNode!==tt)return null;var nt=uc(rt,rt===Q$1?Z$1:0);if(nt===0)return null;if(nt&30||nt&rt.expiredLanes||et)et=Ik(rt,nt);else{et=nt;var ot=K$1;K$1|=2;var it=Jk();(Q$1!==rt||Z$1!==et)&&(uk=null,Gj=B$1()+500,Kk(rt,et));do try{Lk();break}catch(st){Mk(rt,st)}while(1);$g(),mk.current=it,K$1=ot,Y$1!==null?et=0:(Q$1=null,Z$1=0,et=T$1)}if(et!==0){if(et===2&&(ot=xc(rt),ot!==0&&(nt=ot,et=Nk(rt,ot))),et===1)throw tt=pk,Kk(rt,0),Ck(rt,nt),Dk(rt,B$1()),tt;if(et===6)Ck(rt,nt);else{if(ot=rt.current.alternate,!(nt&30)&&!Ok(ot)&&(et=Ik(rt,nt),et===2&&(it=xc(rt),it!==0&&(nt=it,et=Nk(rt,it))),et===1))throw tt=pk,Kk(rt,0),Ck(rt,nt),Dk(rt,B$1()),tt;switch(rt.finishedWork=ot,rt.finishedLanes=nt,et){case 0:case 1:throw Error(p$2(345));case 2:Pk(rt,tk,uk);break;case 3:if(Ck(rt,nt),(nt&130023424)===nt&&(et=fk+500-B$1(),10<et)){if(uc(rt,0)!==0)break;if(ot=rt.suspendedLanes,(ot&nt)!==nt){R(),rt.pingedLanes|=rt.suspendedLanes&ot;break}rt.timeoutHandle=Ff(Pk.bind(null,rt,tk,uk),et);break}Pk(rt,tk,uk);break;case 4:if(Ck(rt,nt),(nt&4194240)===nt)break;for(et=rt.eventTimes,ot=-1;0<nt;){var at=31-oc(nt);it=1<<at,at=et[at],at>ot&&(ot=at),nt&=~it}if(nt=ot,nt=B$1()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*lk(nt/1960))-nt,10<nt){rt.timeoutHandle=Ff(Pk.bind(null,rt,tk,uk),nt);break}Pk(rt,tk,uk);break;case 5:Pk(rt,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(rt,B$1()),rt.callbackNode===tt?Gk.bind(null,rt):null}function Nk(rt,et){var tt=sk;return rt.current.memoizedState.isDehydrated&&(Kk(rt,et).flags|=256),rt=Ik(rt,et),rt!==2&&(et=tk,tk=tt,et!==null&&Fj(et)),rt}function Fj(rt){tk===null?tk=rt:tk.push.apply(tk,rt)}function Ok(rt){for(var et=rt;;){if(et.flags&16384){var tt=et.updateQueue;if(tt!==null&&(tt=tt.stores,tt!==null))for(var nt=0;nt<tt.length;nt++){var ot=tt[nt],it=ot.getSnapshot;ot=ot.value;try{if(!He(it(),ot))return!1}catch{return!1}}}if(tt=et.child,et.subtreeFlags&16384&&tt!==null)tt.return=et,et=tt;else{if(et===rt)break;for(;et.sibling===null;){if(et.return===null||et.return===rt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Ck(rt,et){for(et&=~rk,et&=~qk,rt.suspendedLanes|=et,rt.pingedLanes&=~et,rt=rt.expirationTimes;0<et;){var tt=31-oc(et),nt=1<<tt;rt[tt]=-1,et&=~nt}}function Ek(rt){if(K$1&6)throw Error(p$2(327));Hk();var et=uc(rt,0);if(!(et&1))return Dk(rt,B$1()),null;var tt=Ik(rt,et);if(rt.tag!==0&&tt===2){var nt=xc(rt);nt!==0&&(et=nt,tt=Nk(rt,nt))}if(tt===1)throw tt=pk,Kk(rt,0),Ck(rt,et),Dk(rt,B$1()),tt;if(tt===6)throw Error(p$2(345));return rt.finishedWork=rt.current.alternate,rt.finishedLanes=et,Pk(rt,tk,uk),Dk(rt,B$1()),null}function Qk(rt,et){var tt=K$1;K$1|=1;try{return rt(et)}finally{K$1=tt,K$1===0&&(Gj=B$1()+500,fg&&jg())}}function Rk(rt){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var et=K$1;K$1|=1;var tt=ok.transition,nt=C$1;try{if(ok.transition=null,C$1=1,rt)return rt()}finally{C$1=nt,ok.transition=tt,K$1=et,!(K$1&6)&&jg()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(rt,et){rt.finishedWork=null,rt.finishedLanes=0;var tt=rt.timeoutHandle;if(tt!==-1&&(rt.timeoutHandle=-1,Gf(tt)),Y$1!==null)for(tt=Y$1.return;tt!==null;){var nt=tt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:zh(),E$2(Wf),E$2(H$1),Eh();break;case 5:Bh(nt);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah(nt.type._context);break;case 22:case 23:Hj()}tt=tt.return}if(Q$1=rt,Y$1=rt=Pg(rt.current,null),Z$1=fj=et,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(et=0;et<fh.length;et++)if(tt=fh[et],nt=tt.interleaved,nt!==null){tt.interleaved=null;var ot=nt.next,it=tt.pending;if(it!==null){var at=it.next;it.next=ot,nt.next=at}tt.pending=nt}fh=null}return rt}function Mk(rt,et){do{var tt=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nt=M$1.memoizedState;nt!==null;){var ot=nt.queue;ot!==null&&(ot.pending=null),nt=nt.next}Ih=!1}if(Hh=0,O=N$1=M$1=null,Jh=!1,Kh=0,nk.current=null,tt===null||tt.return===null){T$1=1,pk=et,Y$1=null;break}e:{var it=rt,at=tt.return,st=tt,ut=et;if(et=Z$1,st.flags|=32768,ut!==null&&typeof ut=="object"&&typeof ut.then=="function"){var ft=ut,ht=st,mt=ht.tag;if(!(ht.mode&1)&&(mt===0||mt===11||mt===15)){var gt=ht.alternate;gt?(ht.updateQueue=gt.updateQueue,ht.memoizedState=gt.memoizedState,ht.lanes=gt.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var yt=Ui(at);if(yt!==null){yt.flags&=-257,Vi(yt,at,st,it,et),yt.mode&1&&Si(it,ft,et),et=yt,ut=ft;var xt=et.updateQueue;if(xt===null){var St=new Set;St.add(ut),et.updateQueue=St}else xt.add(ut);break e}else{if(!(et&1)){Si(it,ft,et),tj();break e}ut=Error(p$2(426))}}else if(I$1&&st.mode&1){var Tt=Ui(at);if(Tt!==null){!(Tt.flags&65536)&&(Tt.flags|=256),Vi(Tt,at,st,it,et),Jg(Ji(ut,st));break e}}it=ut=Ji(ut,st),T$1!==4&&(T$1=2),sk===null?sk=[it]:sk.push(it),it=at;do{switch(it.tag){case 3:it.flags|=65536,et&=-et,it.lanes|=et;var Mt=Ni(it,ut,et);ph(it,Mt);break e;case 1:st=ut;var Pt=it.type,It=it.stateNode;if(!(it.flags&128)&&(typeof Pt.getDerivedStateFromError=="function"||It!==null&&typeof It.componentDidCatch=="function"&&(Ri===null||!Ri.has(It)))){it.flags|=65536,et&=-et,it.lanes|=et;var kt=Qi(it,st,et);ph(it,kt);break e}}it=it.return}while(it!==null)}Sk(tt)}catch(Dt){et=Dt,Y$1===tt&&tt!==null&&(Y$1=tt=tt.return);continue}break}while(1)}function Jk(){var rt=mk.current;return mk.current=Rh,rt===null?Rh:rt}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$1===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(rt,et){var tt=K$1;K$1|=2;var nt=Jk();(Q$1!==rt||Z$1!==et)&&(uk=null,Kk(rt,et));do try{Tk();break}catch(ot){Mk(rt,ot)}while(1);if($g(),K$1=tt,mk.current=nt,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(rt){var et=Vk(rt.alternate,rt,fj);rt.memoizedProps=rt.pendingProps,et===null?Sk(rt):Y$1=et,nk.current=null}function Sk(rt){var et=rt;do{var tt=et.alternate;if(rt=et.return,et.flags&32768){if(tt=Ij(tt,et),tt!==null){tt.flags&=32767,Y$1=tt;return}if(rt!==null)rt.flags|=32768,rt.subtreeFlags=0,rt.deletions=null;else{T$1=6,Y$1=null;return}}else if(tt=Ej(tt,et,fj),tt!==null){Y$1=tt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=rt}while(et!==null);T$1===0&&(T$1=5)}function Pk(rt,et,tt){var nt=C$1,ot=ok.transition;try{ok.transition=null,C$1=1,Wk(rt,et,tt,nt)}finally{ok.transition=ot,C$1=nt}return null}function Wk(rt,et,tt,nt){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));tt=rt.finishedWork;var ot=rt.finishedLanes;if(tt===null)return null;if(rt.finishedWork=null,rt.finishedLanes=0,tt===rt.current)throw Error(p$2(177));rt.callbackNode=null,rt.callbackPriority=0;var it=tt.lanes|tt.childLanes;if(Bc(rt,it),rt===Q$1&&(Y$1=Q$1=null,Z$1=0),!(tt.subtreeFlags&2064)&&!(tt.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),it=(tt.flags&15990)!==0,tt.subtreeFlags&15990||it){it=ok.transition,ok.transition=null;var at=C$1;C$1=1;var st=K$1;K$1|=4,nk.current=null,Oj(rt,tt),dk(tt,rt),Oe$1(Df),dd=!!Cf,Df=Cf=null,rt.current=tt,hk(tt),dc(),K$1=st,C$1=at,ok.transition=it}else rt.current=tt;if(vk&&(vk=!1,wk=rt,xk=ot),it=rt.pendingLanes,it===0&&(Ri=null),mc(tt.stateNode),Dk(rt,B$1()),et!==null)for(nt=rt.onRecoverableError,tt=0;tt<et.length;tt++)ot=et[tt],nt(ot.value,{componentStack:ot.stack,digest:ot.digest});if(Oi)throw Oi=!1,rt=Pi,Pi=null,rt;return xk&1&&rt.tag!==0&&Hk(),it=rt.pendingLanes,it&1?rt===zk?yk++:(yk=0,zk=rt):yk=0,jg(),null}function Hk(){if(wk!==null){var rt=Dc(xk),et=ok.transition,tt=C$1;try{if(ok.transition=null,C$1=16>rt?16:rt,wk===null)var nt=!1;else{if(rt=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var ot=K$1;for(K$1|=4,V$1=rt.current;V$1!==null;){var it=V$1,at=it.child;if(V$1.flags&16){var st=it.deletions;if(st!==null){for(var ut=0;ut<st.length;ut++){var ft=st[ut];for(V$1=ft;V$1!==null;){var ht=V$1;switch(ht.tag){case 0:case 11:case 15:Pj(8,ht,it)}var mt=ht.child;if(mt!==null)mt.return=ht,V$1=mt;else for(;V$1!==null;){ht=V$1;var gt=ht.sibling,yt=ht.return;if(Sj(ht),ht===ft){V$1=null;break}if(gt!==null){gt.return=yt,V$1=gt;break}V$1=yt}}}var xt=it.alternate;if(xt!==null){var St=xt.child;if(St!==null){xt.child=null;do{var Tt=St.sibling;St.sibling=null,St=Tt}while(St!==null)}}V$1=it}}if(it.subtreeFlags&2064&&at!==null)at.return=it,V$1=at;else e:for(;V$1!==null;){if(it=V$1,it.flags&2048)switch(it.tag){case 0:case 11:case 15:Pj(9,it,it.return)}var Mt=it.sibling;if(Mt!==null){Mt.return=it.return,V$1=Mt;break e}V$1=it.return}}var Pt=rt.current;for(V$1=Pt;V$1!==null;){at=V$1;var It=at.child;if(at.subtreeFlags&2064&&It!==null)It.return=at,V$1=It;else e:for(at=Pt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Qj(9,st)}}catch(Dt){W$2(st,st.return,Dt)}if(st===at){V$1=null;break e}var kt=st.sibling;if(kt!==null){kt.return=st.return,V$1=kt;break e}V$1=st.return}}if(K$1=ot,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,rt)}catch{}nt=!0}return nt}finally{C$1=tt,ok.transition=et}}return!1}function Xk(rt,et,tt){et=Ji(tt,et),et=Ni(rt,et,1),rt=nh(rt,et,1),et=R(),rt!==null&&(Ac(rt,1,et),Dk(rt,et))}function W$2(rt,et,tt){if(rt.tag===3)Xk(rt,rt,tt);else for(;et!==null;){if(et.tag===3){Xk(et,rt,tt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Ri===null||!Ri.has(nt))){rt=Ji(tt,rt),rt=Qi(et,rt,1),et=nh(et,rt,1),rt=R(),et!==null&&(Ac(et,1,rt),Dk(et,rt));break}}et=et.return}}function Ti(rt,et,tt){var nt=rt.pingCache;nt!==null&&nt.delete(et),et=R(),rt.pingedLanes|=rt.suspendedLanes&tt,Q$1===rt&&(Z$1&tt)===tt&&(T$1===4||T$1===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(rt,0):rk|=tt),Dk(rt,et)}function Yk(rt,et){et===0&&(rt.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var tt=R();rt=ih(rt,et),rt!==null&&(Ac(rt,et,tt),Dk(rt,tt))}function uj(rt){var et=rt.memoizedState,tt=0;et!==null&&(tt=et.retryLane),Yk(rt,tt)}function bk(rt,et){var tt=0;switch(rt.tag){case 13:var nt=rt.stateNode,ot=rt.memoizedState;ot!==null&&(tt=ot.retryLane);break;case 19:nt=rt.stateNode;break;default:throw Error(p$2(314))}nt!==null&&nt.delete(et),Yk(rt,tt)}var Vk;Vk=function(rt,et,tt){if(rt!==null)if(rt.memoizedProps!==et.pendingProps||Wf.current)dh$1=!0;else{if(!(rt.lanes&tt)&&!(et.flags&128))return dh$1=!1,yj(rt,et,tt);dh$1=!!(rt.flags&131072)}else dh$1=!1,I$1&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;ij(rt,et),rt=et.pendingProps;var ot=Yf(et,H$1.current);ch(et,tt),ot=Nh(null,et,nt,rt,ot,tt);var it=Sh();return et.flags|=1,typeof ot=="object"&&ot!==null&&typeof ot.render=="function"&&ot.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(it=!0,cg(et)):it=!1,et.memoizedState=ot.state!==null&&ot.state!==void 0?ot.state:null,kh(et),ot.updater=Ei,et.stateNode=ot,ot._reactInternals=et,Ii(et,nt,rt,tt),et=jj(null,et,nt,!0,it,tt)):(et.tag=0,I$1&&it&&vg(et),Xi(null,et,ot,tt),et=et.child),et;case 16:nt=et.elementType;e:{switch(ij(rt,et),rt=et.pendingProps,ot=nt._init,nt=ot(nt._payload),et.type=nt,ot=et.tag=Zk(nt),rt=Ci(nt,rt),ot){case 0:et=cj(null,et,nt,rt,tt);break e;case 1:et=hj(null,et,nt,rt,tt);break e;case 11:et=Yi(null,et,nt,rt,tt);break e;case 14:et=$i(null,et,nt,Ci(nt.type,rt),tt);break e}throw Error(p$2(306,nt,""))}return et;case 0:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Ci(nt,ot),cj(rt,et,nt,ot,tt);case 1:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Ci(nt,ot),hj(rt,et,nt,ot,tt);case 3:e:{if(kj(et),rt===null)throw Error(p$2(387));nt=et.pendingProps,it=et.memoizedState,ot=it.element,lh(rt,et),qh(et,nt,null,tt);var at=et.memoizedState;if(nt=at.element,it.isDehydrated)if(it={element:nt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},et.updateQueue.baseState=it,et.memoizedState=it,et.flags&256){ot=Ji(Error(p$2(423)),et),et=lj(rt,et,nt,tt,ot);break e}else if(nt!==ot){ot=Ji(Error(p$2(424)),et),et=lj(rt,et,nt,tt,ot);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$1=!0,zg=null,tt=Vg(et,null,nt,tt),et.child=tt;tt;)tt.flags=tt.flags&-3|4096,tt=tt.sibling;else{if(Ig(),nt===ot){et=Zi(rt,et,tt);break e}Xi(rt,et,nt,tt)}et=et.child}return et;case 5:return Ah(et),rt===null&&Eg(et),nt=et.type,ot=et.pendingProps,it=rt!==null?rt.memoizedProps:null,at=ot.children,Ef(nt,ot)?at=null:it!==null&&Ef(nt,it)&&(et.flags|=32),gj(rt,et),Xi(rt,et,at,tt),et.child;case 6:return rt===null&&Eg(et),null;case 13:return oj(rt,et,tt);case 4:return yh(et,et.stateNode.containerInfo),nt=et.pendingProps,rt===null?et.child=Ug(et,null,nt,tt):Xi(rt,et,nt,tt),et.child;case 11:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Ci(nt,ot),Yi(rt,et,nt,ot,tt);case 7:return Xi(rt,et,et.pendingProps,tt),et.child;case 8:return Xi(rt,et,et.pendingProps.children,tt),et.child;case 12:return Xi(rt,et,et.pendingProps.children,tt),et.child;case 10:e:{if(nt=et.type._context,ot=et.pendingProps,it=et.memoizedProps,at=ot.value,G$1(Wg,nt._currentValue),nt._currentValue=at,it!==null)if(He(it.value,at)){if(it.children===ot.children&&!Wf.current){et=Zi(rt,et,tt);break e}}else for(it=et.child,it!==null&&(it.return=et);it!==null;){var st=it.dependencies;if(st!==null){at=it.child;for(var ut=st.firstContext;ut!==null;){if(ut.context===nt){if(it.tag===1){ut=mh(-1,tt&-tt),ut.tag=2;var ft=it.updateQueue;if(ft!==null){ft=ft.shared;var ht=ft.pending;ht===null?ut.next=ut:(ut.next=ht.next,ht.next=ut),ft.pending=ut}}it.lanes|=tt,ut=it.alternate,ut!==null&&(ut.lanes|=tt),bh(it.return,tt,et),st.lanes|=tt;break}ut=ut.next}}else if(it.tag===10)at=it.type===et.type?null:it.child;else if(it.tag===18){if(at=it.return,at===null)throw Error(p$2(341));at.lanes|=tt,st=at.alternate,st!==null&&(st.lanes|=tt),bh(at,tt,et),at=it.sibling}else at=it.child;if(at!==null)at.return=it;else for(at=it;at!==null;){if(at===et){at=null;break}if(it=at.sibling,it!==null){it.return=at.return,at=it;break}at=at.return}it=at}Xi(rt,et,ot.children,tt),et=et.child}return et;case 9:return ot=et.type,nt=et.pendingProps.children,ch(et,tt),ot=eh(ot),nt=nt(ot),et.flags|=1,Xi(rt,et,nt,tt),et.child;case 14:return nt=et.type,ot=Ci(nt,et.pendingProps),ot=Ci(nt.type,ot),$i(rt,et,nt,ot,tt);case 15:return bj(rt,et,et.type,et.pendingProps,tt);case 17:return nt=et.type,ot=et.pendingProps,ot=et.elementType===nt?ot:Ci(nt,ot),ij(rt,et),et.tag=1,Zf(nt)?(rt=!0,cg(et)):rt=!1,ch(et,tt),Gi(et,nt,ot),Ii(et,nt,ot,tt),jj(null,et,nt,!0,rt,tt);case 19:return xj(rt,et,tt);case 22:return dj(rt,et,tt)}throw Error(p$2(156,et.tag))};function Fk(rt,et){return ac(rt,et)}function $k(rt,et,tt,nt){this.tag=rt,this.key=tt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(rt,et,tt,nt){return new $k(rt,et,tt,nt)}function aj(rt){return rt=rt.prototype,!(!rt||!rt.isReactComponent)}function Zk(rt){if(typeof rt=="function")return aj(rt)?1:0;if(rt!=null){if(rt=rt.$$typeof,rt===Da)return 11;if(rt===Ga)return 14}return 2}function Pg(rt,et){var tt=rt.alternate;return tt===null?(tt=Bg(rt.tag,et,rt.key,rt.mode),tt.elementType=rt.elementType,tt.type=rt.type,tt.stateNode=rt.stateNode,tt.alternate=rt,rt.alternate=tt):(tt.pendingProps=et,tt.type=rt.type,tt.flags=0,tt.subtreeFlags=0,tt.deletions=null),tt.flags=rt.flags&14680064,tt.childLanes=rt.childLanes,tt.lanes=rt.lanes,tt.child=rt.child,tt.memoizedProps=rt.memoizedProps,tt.memoizedState=rt.memoizedState,tt.updateQueue=rt.updateQueue,et=rt.dependencies,tt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},tt.sibling=rt.sibling,tt.index=rt.index,tt.ref=rt.ref,tt}function Rg(rt,et,tt,nt,ot,it){var at=2;if(nt=rt,typeof rt=="function")aj(rt)&&(at=1);else if(typeof rt=="string")at=5;else e:switch(rt){case ya:return Tg(tt.children,ot,it,et);case za:at=8,ot|=8;break;case Aa:return rt=Bg(12,tt,et,ot|2),rt.elementType=Aa,rt.lanes=it,rt;case Ea:return rt=Bg(13,tt,et,ot),rt.elementType=Ea,rt.lanes=it,rt;case Fa:return rt=Bg(19,tt,et,ot),rt.elementType=Fa,rt.lanes=it,rt;case Ia:return pj(tt,ot,it,et);default:if(typeof rt=="object"&&rt!==null)switch(rt.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,nt=null;break e}throw Error(p$2(130,rt==null?rt:typeof rt,""))}return et=Bg(at,tt,et,ot),et.elementType=rt,et.type=nt,et.lanes=it,et}function Tg(rt,et,tt,nt){return rt=Bg(7,rt,nt,et),rt.lanes=tt,rt}function pj(rt,et,tt,nt){return rt=Bg(22,rt,nt,et),rt.elementType=Ia,rt.lanes=tt,rt.stateNode={isHidden:!1},rt}function Qg(rt,et,tt){return rt=Bg(6,rt,null,et),rt.lanes=tt,rt}function Sg(rt,et,tt){return et=Bg(4,rt.children!==null?rt.children:[],rt.key,et),et.lanes=tt,et.stateNode={containerInfo:rt.containerInfo,pendingChildren:null,implementation:rt.implementation},et}function al(rt,et,tt,nt,ot){this.tag=et,this.containerInfo=rt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=ot,this.mutableSourceEagerHydrationData=null}function bl(rt,et,tt,nt,ot,it,at,st,ut){return rt=new al(rt,et,tt,st,ut),et===1?(et=1,it===!0&&(et|=8)):et=0,it=Bg(3,null,null,et),rt.current=it,it.stateNode=rt,it.memoizedState={element:nt,isDehydrated:tt,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(it),rt}function cl(rt,et,tt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:rt,containerInfo:et,implementation:tt}}function dl(rt){if(!rt)return Vf;rt=rt._reactInternals;e:{if(Vb(rt)!==rt||rt.tag!==1)throw Error(p$2(170));var et=rt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$2(171))}if(rt.tag===1){var tt=rt.type;if(Zf(tt))return bg(rt,tt,et)}return et}function el(rt,et,tt,nt,ot,it,at,st,ut){return rt=bl(tt,nt,!0,rt,ot,it,at,st,ut),rt.context=dl(null),tt=rt.current,nt=R(),ot=yi(tt),it=mh(nt,ot),it.callback=et??null,nh(tt,it,ot),rt.current.lanes=ot,Ac(rt,ot,nt),Dk(rt,nt),rt}function fl(rt,et,tt,nt){var ot=et.current,it=R(),at=yi(ot);return tt=dl(tt),et.context===null?et.context=tt:et.pendingContext=tt,et=mh(it,at),et.payload={element:rt},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),rt=nh(ot,et,at),rt!==null&&(gi(rt,ot,at,it),oh(rt,ot,at)),at}function gl(rt){if(rt=rt.current,!rt.child)return null;switch(rt.child.tag){case 5:return rt.child.stateNode;default:return rt.child.stateNode}}function hl(rt,et){if(rt=rt.memoizedState,rt!==null&&rt.dehydrated!==null){var tt=rt.retryLane;rt.retryLane=tt!==0&&tt<et?tt:et}}function il(rt,et){hl(rt,et),(rt=rt.alternate)&&hl(rt,et)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(rt){console.error(rt)};function ll(rt){this._internalRoot=rt}ml.prototype.render=ll.prototype.render=function(rt){var et=this._internalRoot;if(et===null)throw Error(p$2(409));fl(rt,et,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var rt=this._internalRoot;if(rt!==null){this._internalRoot=null;var et=rt.containerInfo;Rk(function(){fl(null,rt,null,null)}),et[uf]=null}};function ml(rt){this._internalRoot=rt}ml.prototype.unstable_scheduleHydration=function(rt){if(rt){var et=Hc();rt={blockedOn:null,target:rt,priority:et};for(var tt=0;tt<Qc.length&&et!==0&&et<Qc[tt].priority;tt++);Qc.splice(tt,0,rt),tt===0&&Vc(rt)}};function nl(rt){return!(!rt||rt.nodeType!==1&&rt.nodeType!==9&&rt.nodeType!==11)}function ol(rt){return!(!rt||rt.nodeType!==1&&rt.nodeType!==9&&rt.nodeType!==11&&(rt.nodeType!==8||rt.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(rt,et,tt,nt,ot){if(ot){if(typeof nt=="function"){var it=nt;nt=function(){var ft=gl(at);it.call(ft)}}var at=el(et,nt,rt,0,null,!1,!1,"",pl);return rt._reactRootContainer=at,rt[uf]=at.current,sf(rt.nodeType===8?rt.parentNode:rt),Rk(),at}for(;ot=rt.lastChild;)rt.removeChild(ot);if(typeof nt=="function"){var st=nt;nt=function(){var ft=gl(ut);st.call(ft)}}var ut=bl(rt,0,!1,null,null,!1,!1,"",pl);return rt._reactRootContainer=ut,rt[uf]=ut.current,sf(rt.nodeType===8?rt.parentNode:rt),Rk(function(){fl(et,ut,tt,nt)}),ut}function rl(rt,et,tt,nt,ot){var it=tt._reactRootContainer;if(it){var at=it;if(typeof ot=="function"){var st=ot;ot=function(){var ut=gl(at);st.call(ut)}}fl(et,at,rt,ot)}else at=ql(tt,et,rt,ot,nt);return gl(at)}Ec=function(rt){switch(rt.tag){case 3:var et=rt.stateNode;if(et.current.memoizedState.isDehydrated){var tt=tc(et.pendingLanes);tt!==0&&(Cc(et,tt|1),Dk(et,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg()))}break;case 13:Rk(function(){var nt=ih(rt,1);if(nt!==null){var ot=R();gi(nt,rt,1,ot)}}),il(rt,1)}};Fc=function(rt){if(rt.tag===13){var et=ih(rt,134217728);if(et!==null){var tt=R();gi(et,rt,134217728,tt)}il(rt,134217728)}};Gc=function(rt){if(rt.tag===13){var et=yi(rt),tt=ih(rt,et);if(tt!==null){var nt=R();gi(tt,rt,et,nt)}il(rt,et)}};Hc=function(){return C$1};Ic=function(rt,et){var tt=C$1;try{return C$1=rt,et()}finally{C$1=tt}};yb=function(rt,et,tt){switch(et){case"input":if(bb(rt,tt),et=tt.name,tt.type==="radio"&&et!=null){for(tt=rt;tt.parentNode;)tt=tt.parentNode;for(tt=tt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<tt.length;et++){var nt=tt[et];if(nt!==rt&&nt.form===rt.form){var ot=Db(nt);if(!ot)throw Error(p$2(90));Wa(nt),bb(nt,ot)}}}break;case"textarea":ib(rt,tt);break;case"select":et=tt.value,et!=null&&fb(rt,!!tt.multiple,et,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(rt){return rt=Zb(rt),rt===null?null:rt.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(rt,et){var tt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(et))throw Error(p$2(200));return cl(rt,et,null,tt)};reactDom_production_min.createRoot=function(rt,et){if(!nl(rt))throw Error(p$2(299));var tt=!1,nt="",ot=kl;return et!=null&&(et.unstable_strictMode===!0&&(tt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(ot=et.onRecoverableError)),et=bl(rt,1,!1,null,null,tt,!1,nt,ot),rt[uf]=et.current,sf(rt.nodeType===8?rt.parentNode:rt),new ll(et)};reactDom_production_min.findDOMNode=function(rt){if(rt==null)return null;if(rt.nodeType===1)return rt;var et=rt._reactInternals;if(et===void 0)throw typeof rt.render=="function"?Error(p$2(188)):(rt=Object.keys(rt).join(","),Error(p$2(268,rt)));return rt=Zb(et),rt=rt===null?null:rt.stateNode,rt};reactDom_production_min.flushSync=function(rt){return Rk(rt)};reactDom_production_min.hydrate=function(rt,et,tt){if(!ol(et))throw Error(p$2(200));return rl(null,rt,et,!0,tt)};reactDom_production_min.hydrateRoot=function(rt,et,tt){if(!nl(rt))throw Error(p$2(405));var nt=tt!=null&&tt.hydratedSources||null,ot=!1,it="",at=kl;if(tt!=null&&(tt.unstable_strictMode===!0&&(ot=!0),tt.identifierPrefix!==void 0&&(it=tt.identifierPrefix),tt.onRecoverableError!==void 0&&(at=tt.onRecoverableError)),et=el(et,null,rt,1,tt??null,ot,!1,it,at),rt[uf]=et.current,sf(rt),nt)for(rt=0;rt<nt.length;rt++)tt=nt[rt],ot=tt._getVersion,ot=ot(tt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[tt,ot]:et.mutableSourceEagerHydrationData.push(tt,ot);return new ml(et)};reactDom_production_min.render=function(rt,et,tt){if(!ol(et))throw Error(p$2(200));return rl(null,rt,et,!1,tt)};reactDom_production_min.unmountComponentAtNode=function(rt){if(!ol(rt))throw Error(p$2(40));return rt._reactRootContainer?(Rk(function(){rl(null,null,rt,!1,function(){rt._reactRootContainer=null,rt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(rt,et,tt,nt){if(!ol(tt))throw Error(p$2(200));if(rt==null||rt._reactInternals===void 0)throw Error(p$2(38));return rl(rt,et,tt,!1,nt)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(rt){console.error(rt)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(rt,et){return rt||(et&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const QueryClientProvider=({client:rt,children:et,context:tt,contextSharing:nt=!1})=>{reactExports.useEffect(()=>(rt.mount(),()=>{rt.unmount()}),[rt]);const ot=getQueryClientContext(tt,nt);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!tt&&nt},reactExports.createElement(ot.Provider,{value:rt},et))};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len=code.length;i$2<len;++i$2)lookup$1[i$2]=code[i$2],revLookup[code.charCodeAt(i$2)]=i$2;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(rt){var et=rt.length;if(et%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tt=rt.indexOf("=");tt===-1&&(tt=et);var nt=tt===et?0:4-tt%4;return[tt,nt]}function byteLength(rt){var et=getLens(rt),tt=et[0],nt=et[1];return(tt+nt)*3/4-nt}function _byteLength(rt,et,tt){return(et+tt)*3/4-tt}function toByteArray(rt){var et,tt=getLens(rt),nt=tt[0],ot=tt[1],it=new Arr(_byteLength(rt,nt,ot)),at=0,st=ot>0?nt-4:nt,ut;for(ut=0;ut<st;ut+=4)et=revLookup[rt.charCodeAt(ut)]<<18|revLookup[rt.charCodeAt(ut+1)]<<12|revLookup[rt.charCodeAt(ut+2)]<<6|revLookup[rt.charCodeAt(ut+3)],it[at++]=et>>16&255,it[at++]=et>>8&255,it[at++]=et&255;return ot===2&&(et=revLookup[rt.charCodeAt(ut)]<<2|revLookup[rt.charCodeAt(ut+1)]>>4,it[at++]=et&255),ot===1&&(et=revLookup[rt.charCodeAt(ut)]<<10|revLookup[rt.charCodeAt(ut+1)]<<4|revLookup[rt.charCodeAt(ut+2)]>>2,it[at++]=et>>8&255,it[at++]=et&255),it}function tripletToBase64(rt){return lookup$1[rt>>18&63]+lookup$1[rt>>12&63]+lookup$1[rt>>6&63]+lookup$1[rt&63]}function encodeChunk(rt,et,tt){for(var nt,ot=[],it=et;it<tt;it+=3)nt=(rt[it]<<16&16711680)+(rt[it+1]<<8&65280)+(rt[it+2]&255),ot.push(tripletToBase64(nt));return ot.join("")}function fromByteArray(rt){for(var et,tt=rt.length,nt=tt%3,ot=[],it=16383,at=0,st=tt-nt;at<st;at+=it)ot.push(encodeChunk(rt,at,at+it>st?st:at+it));return nt===1?(et=rt[tt-1],ot.push(lookup$1[et>>2]+lookup$1[et<<4&63]+"==")):nt===2&&(et=(rt[tt-2]<<8)+rt[tt-1],ot.push(lookup$1[et>>10]+lookup$1[et>>4&63]+lookup$1[et<<2&63]+"=")),ot.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(rt,et,tt,nt,ot){var it,at,st=ot*8-nt-1,ut=(1<<st)-1,ft=ut>>1,ht=-7,mt=tt?ot-1:0,gt=tt?-1:1,yt=rt[et+mt];for(mt+=gt,it=yt&(1<<-ht)-1,yt>>=-ht,ht+=st;ht>0;it=it*256+rt[et+mt],mt+=gt,ht-=8);for(at=it&(1<<-ht)-1,it>>=-ht,ht+=nt;ht>0;at=at*256+rt[et+mt],mt+=gt,ht-=8);if(it===0)it=1-ft;else{if(it===ut)return at?NaN:(yt?-1:1)*(1/0);at=at+Math.pow(2,nt),it=it-ft}return(yt?-1:1)*at*Math.pow(2,it-nt)};ieee754.write=function(rt,et,tt,nt,ot,it){var at,st,ut,ft=it*8-ot-1,ht=(1<<ft)-1,mt=ht>>1,gt=ot===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=nt?0:it-1,xt=nt?1:-1,St=et<0||et===0&&1/et<0?1:0;for(et=Math.abs(et),isNaN(et)||et===1/0?(st=isNaN(et)?1:0,at=ht):(at=Math.floor(Math.log(et)/Math.LN2),et*(ut=Math.pow(2,-at))<1&&(at--,ut*=2),at+mt>=1?et+=gt/ut:et+=gt*Math.pow(2,1-mt),et*ut>=2&&(at++,ut/=2),at+mt>=ht?(st=0,at=ht):at+mt>=1?(st=(et*ut-1)*Math.pow(2,ot),at=at+mt):(st=et*Math.pow(2,mt-1)*Math.pow(2,ot),at=0));ot>=8;rt[tt+yt]=st&255,yt+=xt,st/=256,ot-=8);for(at=at<<ot|st,ft+=ot;ft>0;rt[tt+yt]=at&255,yt+=xt,at/=256,ft-=8);rt[tt+yt-xt]|=St*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(rt){var et=base64Js,tt=ieee754,nt=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;rt.Buffer=st,rt.SlowBuffer=Pt,rt.INSPECT_MAX_BYTES=50;var ot=2147483647;rt.kMaxLength=ot,st.TYPED_ARRAY_SUPPORT=it(),!st.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function it(){try{var Qt=new Uint8Array(1),Yt={foo:function(){return 42}};return Object.setPrototypeOf(Yt,Uint8Array.prototype),Object.setPrototypeOf(Qt,Yt),Qt.foo()===42}catch{return!1}}Object.defineProperty(st.prototype,"parent",{enumerable:!0,get:function(){if(st.isBuffer(this))return this.buffer}}),Object.defineProperty(st.prototype,"offset",{enumerable:!0,get:function(){if(st.isBuffer(this))return this.byteOffset}});function at(Qt){if(Qt>ot)throw new RangeError('The value "'+Qt+'" is invalid for option "size"');var Yt=new Uint8Array(Qt);return Object.setPrototypeOf(Yt,st.prototype),Yt}function st(Qt,Yt,Ht){if(typeof Qt=="number"){if(typeof Yt=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return mt(Qt)}return ut(Qt,Yt,Ht)}st.poolSize=8192;function ut(Qt,Yt,Ht){if(typeof Qt=="string")return gt(Qt,Yt);if(ArrayBuffer.isView(Qt))return xt(Qt);if(Qt==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Qt);if(ar(Qt,ArrayBuffer)||Qt&&ar(Qt.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ar(Qt,SharedArrayBuffer)||Qt&&ar(Qt.buffer,SharedArrayBuffer)))return St(Qt,Yt,Ht);if(typeof Qt=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var tr=Qt.valueOf&&Qt.valueOf();if(tr!=null&&tr!==Qt)return st.from(tr,Yt,Ht);var br=Tt(Qt);if(br)return br;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Qt[Symbol.toPrimitive]=="function")return st.from(Qt[Symbol.toPrimitive]("string"),Yt,Ht);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Qt)}st.from=function(Qt,Yt,Ht){return ut(Qt,Yt,Ht)},Object.setPrototypeOf(st.prototype,Uint8Array.prototype),Object.setPrototypeOf(st,Uint8Array);function ft(Qt){if(typeof Qt!="number")throw new TypeError('"size" argument must be of type number');if(Qt<0)throw new RangeError('The value "'+Qt+'" is invalid for option "size"')}function ht(Qt,Yt,Ht){return ft(Qt),Qt<=0?at(Qt):Yt!==void 0?typeof Ht=="string"?at(Qt).fill(Yt,Ht):at(Qt).fill(Yt):at(Qt)}st.alloc=function(Qt,Yt,Ht){return ht(Qt,Yt,Ht)};function mt(Qt){return ft(Qt),at(Qt<0?0:Mt(Qt)|0)}st.allocUnsafe=function(Qt){return mt(Qt)},st.allocUnsafeSlow=function(Qt){return mt(Qt)};function gt(Qt,Yt){if((typeof Yt!="string"||Yt==="")&&(Yt="utf8"),!st.isEncoding(Yt))throw new TypeError("Unknown encoding: "+Yt);var Ht=It(Qt,Yt)|0,tr=at(Ht),br=tr.write(Qt,Yt);return br!==Ht&&(tr=tr.slice(0,br)),tr}function yt(Qt){for(var Yt=Qt.length<0?0:Mt(Qt.length)|0,Ht=at(Yt),tr=0;tr<Yt;tr+=1)Ht[tr]=Qt[tr]&255;return Ht}function xt(Qt){if(ar(Qt,Uint8Array)){var Yt=new Uint8Array(Qt);return St(Yt.buffer,Yt.byteOffset,Yt.byteLength)}return yt(Qt)}function St(Qt,Yt,Ht){if(Yt<0||Qt.byteLength<Yt)throw new RangeError('"offset" is outside of buffer bounds');if(Qt.byteLength<Yt+(Ht||0))throw new RangeError('"length" is outside of buffer bounds');var tr;return Yt===void 0&&Ht===void 0?tr=new Uint8Array(Qt):Ht===void 0?tr=new Uint8Array(Qt,Yt):tr=new Uint8Array(Qt,Yt,Ht),Object.setPrototypeOf(tr,st.prototype),tr}function Tt(Qt){if(st.isBuffer(Qt)){var Yt=Mt(Qt.length)|0,Ht=at(Yt);return Ht.length===0||Qt.copy(Ht,0,0,Yt),Ht}if(Qt.length!==void 0)return typeof Qt.length!="number"||wr(Qt.length)?at(0):yt(Qt);if(Qt.type==="Buffer"&&Array.isArray(Qt.data))return yt(Qt.data)}function Mt(Qt){if(Qt>=ot)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ot.toString(16)+" bytes");return Qt|0}function Pt(Qt){return+Qt!=Qt&&(Qt=0),st.alloc(+Qt)}st.isBuffer=function(Yt){return Yt!=null&&Yt._isBuffer===!0&&Yt!==st.prototype},st.compare=function(Yt,Ht){if(ar(Yt,Uint8Array)&&(Yt=st.from(Yt,Yt.offset,Yt.byteLength)),ar(Ht,Uint8Array)&&(Ht=st.from(Ht,Ht.offset,Ht.byteLength)),!st.isBuffer(Yt)||!st.isBuffer(Ht))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Yt===Ht)return 0;for(var tr=Yt.length,br=Ht.length,gr=0,Sr=Math.min(tr,br);gr<Sr;++gr)if(Yt[gr]!==Ht[gr]){tr=Yt[gr],br=Ht[gr];break}return tr<br?-1:br<tr?1:0},st.isEncoding=function(Yt){switch(String(Yt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},st.concat=function(Yt,Ht){if(!Array.isArray(Yt))throw new TypeError('"list" argument must be an Array of Buffers');if(Yt.length===0)return st.alloc(0);var tr;if(Ht===void 0)for(Ht=0,tr=0;tr<Yt.length;++tr)Ht+=Yt[tr].length;var br=st.allocUnsafe(Ht),gr=0;for(tr=0;tr<Yt.length;++tr){var Sr=Yt[tr];if(ar(Sr,Uint8Array))gr+Sr.length>br.length?st.from(Sr).copy(br,gr):Uint8Array.prototype.set.call(br,Sr,gr);else if(st.isBuffer(Sr))Sr.copy(br,gr);else throw new TypeError('"list" argument must be an Array of Buffers');gr+=Sr.length}return br};function It(Qt,Yt){if(st.isBuffer(Qt))return Qt.length;if(ArrayBuffer.isView(Qt)||ar(Qt,ArrayBuffer))return Qt.byteLength;if(typeof Qt!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Qt);var Ht=Qt.length,tr=arguments.length>2&&arguments[2]===!0;if(!tr&&Ht===0)return 0;for(var br=!1;;)switch(Yt){case"ascii":case"latin1":case"binary":return Ht;case"utf8":case"utf-8":return Vt(Qt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ht*2;case"hex":return Ht>>>1;case"base64":return rr(Qt).length;default:if(br)return tr?-1:Vt(Qt).length;Yt=(""+Yt).toLowerCase(),br=!0}}st.byteLength=It;function kt(Qt,Yt,Ht){var tr=!1;if((Yt===void 0||Yt<0)&&(Yt=0),Yt>this.length||((Ht===void 0||Ht>this.length)&&(Ht=this.length),Ht<=0)||(Ht>>>=0,Yt>>>=0,Ht<=Yt))return"";for(Qt||(Qt="utf8");;)switch(Qt){case"hex":return bt(this,Yt,Ht);case"utf8":case"utf-8":return pt(this,Yt,Ht);case"ascii":return At(this,Yt,Ht);case"latin1":case"binary":return Rt(this,Yt,Ht);case"base64":return dt(this,Yt,Ht);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ct(this,Yt,Ht);default:if(tr)throw new TypeError("Unknown encoding: "+Qt);Qt=(Qt+"").toLowerCase(),tr=!0}}st.prototype._isBuffer=!0;function Dt(Qt,Yt,Ht){var tr=Qt[Yt];Qt[Yt]=Qt[Ht],Qt[Ht]=tr}st.prototype.swap16=function(){var Yt=this.length;if(Yt%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ht=0;Ht<Yt;Ht+=2)Dt(this,Ht,Ht+1);return this},st.prototype.swap32=function(){var Yt=this.length;if(Yt%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ht=0;Ht<Yt;Ht+=4)Dt(this,Ht,Ht+3),Dt(this,Ht+1,Ht+2);return this},st.prototype.swap64=function(){var Yt=this.length;if(Yt%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ht=0;Ht<Yt;Ht+=8)Dt(this,Ht,Ht+7),Dt(this,Ht+1,Ht+6),Dt(this,Ht+2,Ht+5),Dt(this,Ht+3,Ht+4);return this},st.prototype.toString=function(){var Yt=this.length;return Yt===0?"":arguments.length===0?pt(this,0,Yt):kt.apply(this,arguments)},st.prototype.toLocaleString=st.prototype.toString,st.prototype.equals=function(Yt){if(!st.isBuffer(Yt))throw new TypeError("Argument must be a Buffer");return this===Yt?!0:st.compare(this,Yt)===0},st.prototype.inspect=function(){var Yt="",Ht=rt.INSPECT_MAX_BYTES;return Yt=this.toString("hex",0,Ht).replace(/(.{2})/g,"$1 ").trim(),this.length>Ht&&(Yt+=" ... "),"<Buffer "+Yt+">"},nt&&(st.prototype[nt]=st.prototype.inspect),st.prototype.compare=function(Yt,Ht,tr,br,gr){if(ar(Yt,Uint8Array)&&(Yt=st.from(Yt,Yt.offset,Yt.byteLength)),!st.isBuffer(Yt))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Yt);if(Ht===void 0&&(Ht=0),tr===void 0&&(tr=Yt?Yt.length:0),br===void 0&&(br=0),gr===void 0&&(gr=this.length),Ht<0||tr>Yt.length||br<0||gr>this.length)throw new RangeError("out of range index");if(br>=gr&&Ht>=tr)return 0;if(br>=gr)return-1;if(Ht>=tr)return 1;if(Ht>>>=0,tr>>>=0,br>>>=0,gr>>>=0,this===Yt)return 0;for(var Sr=gr-br,pr=tr-Ht,er=Math.min(Sr,pr),yr=this.slice(br,gr),Gr=Yt.slice(Ht,tr),Mr=0;Mr<er;++Mr)if(yr[Mr]!==Gr[Mr]){Sr=yr[Mr],pr=Gr[Mr];break}return Sr<pr?-1:pr<Sr?1:0};function Nt(Qt,Yt,Ht,tr,br){if(Qt.length===0)return-1;if(typeof Ht=="string"?(tr=Ht,Ht=0):Ht>2147483647?Ht=2147483647:Ht<-2147483648&&(Ht=-2147483648),Ht=+Ht,wr(Ht)&&(Ht=br?0:Qt.length-1),Ht<0&&(Ht=Qt.length+Ht),Ht>=Qt.length){if(br)return-1;Ht=Qt.length-1}else if(Ht<0)if(br)Ht=0;else return-1;if(typeof Yt=="string"&&(Yt=st.from(Yt,tr)),st.isBuffer(Yt))return Yt.length===0?-1:Gt(Qt,Yt,Ht,tr,br);if(typeof Yt=="number")return Yt=Yt&255,typeof Uint8Array.prototype.indexOf=="function"?br?Uint8Array.prototype.indexOf.call(Qt,Yt,Ht):Uint8Array.prototype.lastIndexOf.call(Qt,Yt,Ht):Gt(Qt,[Yt],Ht,tr,br);throw new TypeError("val must be string, number or Buffer")}function Gt(Qt,Yt,Ht,tr,br){var gr=1,Sr=Qt.length,pr=Yt.length;if(tr!==void 0&&(tr=String(tr).toLowerCase(),tr==="ucs2"||tr==="ucs-2"||tr==="utf16le"||tr==="utf-16le")){if(Qt.length<2||Yt.length<2)return-1;gr=2,Sr/=2,pr/=2,Ht/=2}function er(an,Br){return gr===1?an[Br]:an.readUInt16BE(Br*gr)}var yr;if(br){var Gr=-1;for(yr=Ht;yr<Sr;yr++)if(er(Qt,yr)===er(Yt,Gr===-1?0:yr-Gr)){if(Gr===-1&&(Gr=yr),yr-Gr+1===pr)return Gr*gr}else Gr!==-1&&(yr-=yr-Gr),Gr=-1}else for(Ht+pr>Sr&&(Ht=Sr-pr),yr=Ht;yr>=0;yr--){for(var Mr=!0,Ar=0;Ar<pr;Ar++)if(er(Qt,yr+Ar)!==er(Yt,Ar)){Mr=!1;break}if(Mr)return yr}return-1}st.prototype.includes=function(Yt,Ht,tr){return this.indexOf(Yt,Ht,tr)!==-1},st.prototype.indexOf=function(Yt,Ht,tr){return Nt(this,Yt,Ht,tr,!0)},st.prototype.lastIndexOf=function(Yt,Ht,tr){return Nt(this,Yt,Ht,tr,!1)};function Wt(Qt,Yt,Ht,tr){Ht=Number(Ht)||0;var br=Qt.length-Ht;tr?(tr=Number(tr),tr>br&&(tr=br)):tr=br;var gr=Yt.length;tr>gr/2&&(tr=gr/2);for(var Sr=0;Sr<tr;++Sr){var pr=parseInt(Yt.substr(Sr*2,2),16);if(wr(pr))return Sr;Qt[Ht+Sr]=pr}return Sr}function Ot(Qt,Yt,Ht,tr){return $t(Vt(Yt,Qt.length-Ht),Qt,Ht,tr)}function Xt(Qt,Yt,Ht,tr){return $t(nr(Yt),Qt,Ht,tr)}function Et(Qt,Yt,Ht,tr){return $t(rr(Yt),Qt,Ht,tr)}function lt(Qt,Yt,Ht,tr){return $t(or(Yt,Qt.length-Ht),Qt,Ht,tr)}st.prototype.write=function(Yt,Ht,tr,br){if(Ht===void 0)br="utf8",tr=this.length,Ht=0;else if(tr===void 0&&typeof Ht=="string")br=Ht,tr=this.length,Ht=0;else if(isFinite(Ht))Ht=Ht>>>0,isFinite(tr)?(tr=tr>>>0,br===void 0&&(br="utf8")):(br=tr,tr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var gr=this.length-Ht;if((tr===void 0||tr>gr)&&(tr=gr),Yt.length>0&&(tr<0||Ht<0)||Ht>this.length)throw new RangeError("Attempt to write outside buffer bounds");br||(br="utf8");for(var Sr=!1;;)switch(br){case"hex":return Wt(this,Yt,Ht,tr);case"utf8":case"utf-8":return Ot(this,Yt,Ht,tr);case"ascii":case"latin1":case"binary":return Xt(this,Yt,Ht,tr);case"base64":return Et(this,Yt,Ht,tr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,Yt,Ht,tr);default:if(Sr)throw new TypeError("Unknown encoding: "+br);br=(""+br).toLowerCase(),Sr=!0}},st.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function dt(Qt,Yt,Ht){return Yt===0&&Ht===Qt.length?et.fromByteArray(Qt):et.fromByteArray(Qt.slice(Yt,Ht))}function pt(Qt,Yt,Ht){Ht=Math.min(Qt.length,Ht);for(var tr=[],br=Yt;br<Ht;){var gr=Qt[br],Sr=null,pr=gr>239?4:gr>223?3:gr>191?2:1;if(br+pr<=Ht){var er,yr,Gr,Mr;switch(pr){case 1:gr<128&&(Sr=gr);break;case 2:er=Qt[br+1],(er&192)===128&&(Mr=(gr&31)<<6|er&63,Mr>127&&(Sr=Mr));break;case 3:er=Qt[br+1],yr=Qt[br+2],(er&192)===128&&(yr&192)===128&&(Mr=(gr&15)<<12|(er&63)<<6|yr&63,Mr>2047&&(Mr<55296||Mr>57343)&&(Sr=Mr));break;case 4:er=Qt[br+1],yr=Qt[br+2],Gr=Qt[br+3],(er&192)===128&&(yr&192)===128&&(Gr&192)===128&&(Mr=(gr&15)<<18|(er&63)<<12|(yr&63)<<6|Gr&63,Mr>65535&&Mr<1114112&&(Sr=Mr))}}Sr===null?(Sr=65533,pr=1):Sr>65535&&(Sr-=65536,tr.push(Sr>>>10&1023|55296),Sr=56320|Sr&1023),tr.push(Sr),br+=pr}return wt(tr)}var vt=4096;function wt(Qt){var Yt=Qt.length;if(Yt<=vt)return String.fromCharCode.apply(String,Qt);for(var Ht="",tr=0;tr<Yt;)Ht+=String.fromCharCode.apply(String,Qt.slice(tr,tr+=vt));return Ht}function At(Qt,Yt,Ht){var tr="";Ht=Math.min(Qt.length,Ht);for(var br=Yt;br<Ht;++br)tr+=String.fromCharCode(Qt[br]&127);return tr}function Rt(Qt,Yt,Ht){var tr="";Ht=Math.min(Qt.length,Ht);for(var br=Yt;br<Ht;++br)tr+=String.fromCharCode(Qt[br]);return tr}function bt(Qt,Yt,Ht){var tr=Qt.length;(!Yt||Yt<0)&&(Yt=0),(!Ht||Ht<0||Ht>tr)&&(Ht=tr);for(var br="",gr=Yt;gr<Ht;++gr)br+=vr[Qt[gr]];return br}function ct(Qt,Yt,Ht){for(var tr=Qt.slice(Yt,Ht),br="",gr=0;gr<tr.length-1;gr+=2)br+=String.fromCharCode(tr[gr]+tr[gr+1]*256);return br}st.prototype.slice=function(Yt,Ht){var tr=this.length;Yt=~~Yt,Ht=Ht===void 0?tr:~~Ht,Yt<0?(Yt+=tr,Yt<0&&(Yt=0)):Yt>tr&&(Yt=tr),Ht<0?(Ht+=tr,Ht<0&&(Ht=0)):Ht>tr&&(Ht=tr),Ht<Yt&&(Ht=Yt);var br=this.subarray(Yt,Ht);return Object.setPrototypeOf(br,st.prototype),br};function _t(Qt,Yt,Ht){if(Qt%1!==0||Qt<0)throw new RangeError("offset is not uint");if(Qt+Yt>Ht)throw new RangeError("Trying to access beyond buffer length")}st.prototype.readUintLE=st.prototype.readUIntLE=function(Yt,Ht,tr){Yt=Yt>>>0,Ht=Ht>>>0,tr||_t(Yt,Ht,this.length);for(var br=this[Yt],gr=1,Sr=0;++Sr<Ht&&(gr*=256);)br+=this[Yt+Sr]*gr;return br},st.prototype.readUintBE=st.prototype.readUIntBE=function(Yt,Ht,tr){Yt=Yt>>>0,Ht=Ht>>>0,tr||_t(Yt,Ht,this.length);for(var br=this[Yt+--Ht],gr=1;Ht>0&&(gr*=256);)br+=this[Yt+--Ht]*gr;return br},st.prototype.readUint8=st.prototype.readUInt8=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,1,this.length),this[Yt]},st.prototype.readUint16LE=st.prototype.readUInt16LE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,2,this.length),this[Yt]|this[Yt+1]<<8},st.prototype.readUint16BE=st.prototype.readUInt16BE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,2,this.length),this[Yt]<<8|this[Yt+1]},st.prototype.readUint32LE=st.prototype.readUInt32LE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),(this[Yt]|this[Yt+1]<<8|this[Yt+2]<<16)+this[Yt+3]*16777216},st.prototype.readUint32BE=st.prototype.readUInt32BE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),this[Yt]*16777216+(this[Yt+1]<<16|this[Yt+2]<<8|this[Yt+3])},st.prototype.readIntLE=function(Yt,Ht,tr){Yt=Yt>>>0,Ht=Ht>>>0,tr||_t(Yt,Ht,this.length);for(var br=this[Yt],gr=1,Sr=0;++Sr<Ht&&(gr*=256);)br+=this[Yt+Sr]*gr;return gr*=128,br>=gr&&(br-=Math.pow(2,8*Ht)),br},st.prototype.readIntBE=function(Yt,Ht,tr){Yt=Yt>>>0,Ht=Ht>>>0,tr||_t(Yt,Ht,this.length);for(var br=Ht,gr=1,Sr=this[Yt+--br];br>0&&(gr*=256);)Sr+=this[Yt+--br]*gr;return gr*=128,Sr>=gr&&(Sr-=Math.pow(2,8*Ht)),Sr},st.prototype.readInt8=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,1,this.length),this[Yt]&128?(255-this[Yt]+1)*-1:this[Yt]},st.prototype.readInt16LE=function(Yt,Ht){Yt=Yt>>>0,Ht||_t(Yt,2,this.length);var tr=this[Yt]|this[Yt+1]<<8;return tr&32768?tr|4294901760:tr},st.prototype.readInt16BE=function(Yt,Ht){Yt=Yt>>>0,Ht||_t(Yt,2,this.length);var tr=this[Yt+1]|this[Yt]<<8;return tr&32768?tr|4294901760:tr},st.prototype.readInt32LE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),this[Yt]|this[Yt+1]<<8|this[Yt+2]<<16|this[Yt+3]<<24},st.prototype.readInt32BE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),this[Yt]<<24|this[Yt+1]<<16|this[Yt+2]<<8|this[Yt+3]},st.prototype.readFloatLE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),tt.read(this,Yt,!0,23,4)},st.prototype.readFloatBE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,4,this.length),tt.read(this,Yt,!1,23,4)},st.prototype.readDoubleLE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,8,this.length),tt.read(this,Yt,!0,52,8)},st.prototype.readDoubleBE=function(Yt,Ht){return Yt=Yt>>>0,Ht||_t(Yt,8,this.length),tt.read(this,Yt,!1,52,8)};function Lt(Qt,Yt,Ht,tr,br,gr){if(!st.isBuffer(Qt))throw new TypeError('"buffer" argument must be a Buffer instance');if(Yt>br||Yt<gr)throw new RangeError('"value" argument is out of bounds');if(Ht+tr>Qt.length)throw new RangeError("Index out of range")}st.prototype.writeUintLE=st.prototype.writeUIntLE=function(Yt,Ht,tr,br){if(Yt=+Yt,Ht=Ht>>>0,tr=tr>>>0,!br){var gr=Math.pow(2,8*tr)-1;Lt(this,Yt,Ht,tr,gr,0)}var Sr=1,pr=0;for(this[Ht]=Yt&255;++pr<tr&&(Sr*=256);)this[Ht+pr]=Yt/Sr&255;return Ht+tr},st.prototype.writeUintBE=st.prototype.writeUIntBE=function(Yt,Ht,tr,br){if(Yt=+Yt,Ht=Ht>>>0,tr=tr>>>0,!br){var gr=Math.pow(2,8*tr)-1;Lt(this,Yt,Ht,tr,gr,0)}var Sr=tr-1,pr=1;for(this[Ht+Sr]=Yt&255;--Sr>=0&&(pr*=256);)this[Ht+Sr]=Yt/pr&255;return Ht+tr},st.prototype.writeUint8=st.prototype.writeUInt8=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,1,255,0),this[Ht]=Yt&255,Ht+1},st.prototype.writeUint16LE=st.prototype.writeUInt16LE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,2,65535,0),this[Ht]=Yt&255,this[Ht+1]=Yt>>>8,Ht+2},st.prototype.writeUint16BE=st.prototype.writeUInt16BE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,2,65535,0),this[Ht]=Yt>>>8,this[Ht+1]=Yt&255,Ht+2},st.prototype.writeUint32LE=st.prototype.writeUInt32LE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,4,4294967295,0),this[Ht+3]=Yt>>>24,this[Ht+2]=Yt>>>16,this[Ht+1]=Yt>>>8,this[Ht]=Yt&255,Ht+4},st.prototype.writeUint32BE=st.prototype.writeUInt32BE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,4,4294967295,0),this[Ht]=Yt>>>24,this[Ht+1]=Yt>>>16,this[Ht+2]=Yt>>>8,this[Ht+3]=Yt&255,Ht+4},st.prototype.writeIntLE=function(Yt,Ht,tr,br){if(Yt=+Yt,Ht=Ht>>>0,!br){var gr=Math.pow(2,8*tr-1);Lt(this,Yt,Ht,tr,gr-1,-gr)}var Sr=0,pr=1,er=0;for(this[Ht]=Yt&255;++Sr<tr&&(pr*=256);)Yt<0&&er===0&&this[Ht+Sr-1]!==0&&(er=1),this[Ht+Sr]=(Yt/pr>>0)-er&255;return Ht+tr},st.prototype.writeIntBE=function(Yt,Ht,tr,br){if(Yt=+Yt,Ht=Ht>>>0,!br){var gr=Math.pow(2,8*tr-1);Lt(this,Yt,Ht,tr,gr-1,-gr)}var Sr=tr-1,pr=1,er=0;for(this[Ht+Sr]=Yt&255;--Sr>=0&&(pr*=256);)Yt<0&&er===0&&this[Ht+Sr+1]!==0&&(er=1),this[Ht+Sr]=(Yt/pr>>0)-er&255;return Ht+tr},st.prototype.writeInt8=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,1,127,-128),Yt<0&&(Yt=255+Yt+1),this[Ht]=Yt&255,Ht+1},st.prototype.writeInt16LE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,2,32767,-32768),this[Ht]=Yt&255,this[Ht+1]=Yt>>>8,Ht+2},st.prototype.writeInt16BE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,2,32767,-32768),this[Ht]=Yt>>>8,this[Ht+1]=Yt&255,Ht+2},st.prototype.writeInt32LE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,4,2147483647,-2147483648),this[Ht]=Yt&255,this[Ht+1]=Yt>>>8,this[Ht+2]=Yt>>>16,this[Ht+3]=Yt>>>24,Ht+4},st.prototype.writeInt32BE=function(Yt,Ht,tr){return Yt=+Yt,Ht=Ht>>>0,tr||Lt(this,Yt,Ht,4,2147483647,-2147483648),Yt<0&&(Yt=4294967295+Yt+1),this[Ht]=Yt>>>24,this[Ht+1]=Yt>>>16,this[Ht+2]=Yt>>>8,this[Ht+3]=Yt&255,Ht+4};function Ft(Qt,Yt,Ht,tr,br,gr){if(Ht+tr>Qt.length)throw new RangeError("Index out of range");if(Ht<0)throw new RangeError("Index out of range")}function jt(Qt,Yt,Ht,tr,br){return Yt=+Yt,Ht=Ht>>>0,br||Ft(Qt,Yt,Ht,4),tt.write(Qt,Yt,Ht,tr,23,4),Ht+4}st.prototype.writeFloatLE=function(Yt,Ht,tr){return jt(this,Yt,Ht,!0,tr)},st.prototype.writeFloatBE=function(Yt,Ht,tr){return jt(this,Yt,Ht,!1,tr)};function Zt(Qt,Yt,Ht,tr,br){return Yt=+Yt,Ht=Ht>>>0,br||Ft(Qt,Yt,Ht,8),tt.write(Qt,Yt,Ht,tr,52,8),Ht+8}st.prototype.writeDoubleLE=function(Yt,Ht,tr){return Zt(this,Yt,Ht,!0,tr)},st.prototype.writeDoubleBE=function(Yt,Ht,tr){return Zt(this,Yt,Ht,!1,tr)},st.prototype.copy=function(Yt,Ht,tr,br){if(!st.isBuffer(Yt))throw new TypeError("argument should be a Buffer");if(tr||(tr=0),!br&&br!==0&&(br=this.length),Ht>=Yt.length&&(Ht=Yt.length),Ht||(Ht=0),br>0&&br<tr&&(br=tr),br===tr||Yt.length===0||this.length===0)return 0;if(Ht<0)throw new RangeError("targetStart out of bounds");if(tr<0||tr>=this.length)throw new RangeError("Index out of range");if(br<0)throw new RangeError("sourceEnd out of bounds");br>this.length&&(br=this.length),Yt.length-Ht<br-tr&&(br=Yt.length-Ht+tr);var gr=br-tr;return this===Yt&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Ht,tr,br):Uint8Array.prototype.set.call(Yt,this.subarray(tr,br),Ht),gr},st.prototype.fill=function(Yt,Ht,tr,br){if(typeof Yt=="string"){if(typeof Ht=="string"?(br=Ht,Ht=0,tr=this.length):typeof tr=="string"&&(br=tr,tr=this.length),br!==void 0&&typeof br!="string")throw new TypeError("encoding must be a string");if(typeof br=="string"&&!st.isEncoding(br))throw new TypeError("Unknown encoding: "+br);if(Yt.length===1){var gr=Yt.charCodeAt(0);(br==="utf8"&&gr<128||br==="latin1")&&(Yt=gr)}}else typeof Yt=="number"?Yt=Yt&255:typeof Yt=="boolean"&&(Yt=Number(Yt));if(Ht<0||this.length<Ht||this.length<tr)throw new RangeError("Out of range index");if(tr<=Ht)return this;Ht=Ht>>>0,tr=tr===void 0?this.length:tr>>>0,Yt||(Yt=0);var Sr;if(typeof Yt=="number")for(Sr=Ht;Sr<tr;++Sr)this[Sr]=Yt;else{var pr=st.isBuffer(Yt)?Yt:st.from(Yt,br),er=pr.length;if(er===0)throw new TypeError('The value "'+Yt+'" is invalid for argument "value"');for(Sr=0;Sr<tr-Ht;++Sr)this[Sr+Ht]=pr[Sr%er]}return this};var Kt=/[^+/0-9A-Za-z-_]/g;function zt(Qt){if(Qt=Qt.split("=")[0],Qt=Qt.trim().replace(Kt,""),Qt.length<2)return"";for(;Qt.length%4!==0;)Qt=Qt+"=";return Qt}function Vt(Qt,Yt){Yt=Yt||1/0;for(var Ht,tr=Qt.length,br=null,gr=[],Sr=0;Sr<tr;++Sr){if(Ht=Qt.charCodeAt(Sr),Ht>55295&&Ht<57344){if(!br){if(Ht>56319){(Yt-=3)>-1&&gr.push(239,191,189);continue}else if(Sr+1===tr){(Yt-=3)>-1&&gr.push(239,191,189);continue}br=Ht;continue}if(Ht<56320){(Yt-=3)>-1&&gr.push(239,191,189),br=Ht;continue}Ht=(br-55296<<10|Ht-56320)+65536}else br&&(Yt-=3)>-1&&gr.push(239,191,189);if(br=null,Ht<128){if((Yt-=1)<0)break;gr.push(Ht)}else if(Ht<2048){if((Yt-=2)<0)break;gr.push(Ht>>6|192,Ht&63|128)}else if(Ht<65536){if((Yt-=3)<0)break;gr.push(Ht>>12|224,Ht>>6&63|128,Ht&63|128)}else if(Ht<1114112){if((Yt-=4)<0)break;gr.push(Ht>>18|240,Ht>>12&63|128,Ht>>6&63|128,Ht&63|128)}else throw new Error("Invalid code point")}return gr}function nr(Qt){for(var Yt=[],Ht=0;Ht<Qt.length;++Ht)Yt.push(Qt.charCodeAt(Ht)&255);return Yt}function or(Qt,Yt){for(var Ht,tr,br,gr=[],Sr=0;Sr<Qt.length&&!((Yt-=2)<0);++Sr)Ht=Qt.charCodeAt(Sr),tr=Ht>>8,br=Ht%256,gr.push(br),gr.push(tr);return gr}function rr(Qt){return et.toByteArray(zt(Qt))}function $t(Qt,Yt,Ht,tr){for(var br=0;br<tr&&!(br+Ht>=Yt.length||br>=Qt.length);++br)Yt[br+Ht]=Qt[br];return br}function ar(Qt,Yt){return Qt instanceof Yt||Qt!=null&&Qt.constructor!=null&&Qt.constructor.name!=null&&Qt.constructor.name===Yt.name}function wr(Qt){return Qt!==Qt}var vr=function(){for(var Qt="0123456789abcdef",Yt=new Array(256),Ht=0;Ht<16;++Ht)for(var tr=Ht*16,br=0;br<16;++br)Yt[tr+br]=Qt[Ht]+Qt[br];return Yt}()})(buffer$1);var browser$1$1={exports:{}},process=browser$1$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(rt){if(cachedSetTimeout===setTimeout)return setTimeout(rt,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(rt,0);try{return cachedSetTimeout(rt,0)}catch{try{return cachedSetTimeout.call(null,rt,0)}catch{return cachedSetTimeout.call(this,rt,0)}}}function runClearTimeout(rt){if(cachedClearTimeout===clearTimeout)return clearTimeout(rt);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(rt);try{return cachedClearTimeout(rt)}catch{try{return cachedClearTimeout.call(null,rt)}catch{return cachedClearTimeout.call(this,rt)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var rt=runTimeout(cleanUpNextTick);draining=!0;for(var et=queue$1.length;et;){for(currentQueue=queue$1,queue$1=[];++queueIndex<et;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,et=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(rt)}}process.nextTick=function(rt){var et=new Array(arguments.length-1);if(arguments.length>1)for(var tt=1;tt<arguments.length;tt++)et[tt-1]=arguments[tt];queue$1.push(new Item(rt,et)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(rt,et){this.fun=rt,this.array=et}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(rt){return[]};process.binding=function(rt){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(rt){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};function noop$2(){}var browser$c=browser$1$1.exports.browser,emitWarning=noop$2,binding=browser$1$1.exports.binding,exit=noop$2,pid=1,features={},kill=noop$2,dlopen=noop$2,uptime=noop$2,memoryUsage=noop$2,uvCounters=noop$2,platform$3="browser",arch="browser",execPath="browser",execArgv=[],api$2={nextTick:browser$1$1.exports.nextTick,title:browser$1$1.exports.title,browser:browser$c,env:browser$1$1.exports.env,argv:browser$1$1.exports.argv,version:browser$1$1.exports.version,versions:browser$1$1.exports.versions,on:browser$1$1.exports.on,addListener:browser$1$1.exports.addListener,once:browser$1$1.exports.once,off:browser$1$1.exports.off,removeListener:browser$1$1.exports.removeListener,removeAllListeners:browser$1$1.exports.removeAllListeners,emit:browser$1$1.exports.emit,emitWarning,prependListener:browser$1$1.exports.prependListener,prependOnceListener:browser$1$1.exports.prependOnceListener,listeners:browser$1$1.exports.listeners,binding,cwd:browser$1$1.exports.cwd,chdir:browser$1$1.exports.chdir,umask:browser$1$1.exports.umask,exit,pid,features,kill,dlopen,uptime,memoryUsage,uvCounters,platform:platform$3,arch,execPath,execArgv};browser$1$1.exports.addListener;browser$1$1.exports.argv;browser$1$1.exports.chdir;browser$1$1.exports.cwd;browser$1$1.exports.emit;browser$1$1.exports.env;browser$1$1.exports.listeners;browser$1$1.exports.nextTick;browser$1$1.exports.off;browser$1$1.exports.on;browser$1$1.exports.once;browser$1$1.exports.prependListener;browser$1$1.exports.prependOnceListener;browser$1$1.exports.removeAllListeners;browser$1$1.exports.removeListener;browser$1$1.exports.title;browser$1$1.exports.umask;browser$1$1.exports.version;browser$1$1.exports.versions;var _globalThis=function(rt){function et(){var nt=this||self;return delete rt.prototype.__magic__,nt}if(typeof globalThis=="object")return globalThis;if(this)return et();rt.defineProperty(rt.prototype,"__magic__",{configurable:!0,get:et});var tt=__magic__;return tt}(Object),_global$1=_globalThis,naclUtil={exports:{}};(function(rt){(function(et,tt){rt.exports?rt.exports=tt():(et.nacl||(et.nacl={}),et.nacl.util=tt())})(commonjsGlobal,function(){var et={};function tt(nt){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(nt))throw new TypeError("invalid encoding")}return et.decodeUTF8=function(nt){if(typeof nt!="string")throw new TypeError("expected string");var ot,it=unescape(encodeURIComponent(nt)),at=new Uint8Array(it.length);for(ot=0;ot<it.length;ot++)at[ot]=it.charCodeAt(ot);return at},et.encodeUTF8=function(nt){var ot,it=[];for(ot=0;ot<nt.length;ot++)it.push(String.fromCharCode(nt[ot]));return decodeURIComponent(escape(it.join("")))},typeof atob>"u"?typeof buffer$1.Buffer.from<"u"?(et.encodeBase64=function(nt){return buffer$1.Buffer.from(nt).toString("base64")},et.decodeBase64=function(nt){return tt(nt),new Uint8Array(Array.prototype.slice.call(buffer$1.Buffer.from(nt,"base64"),0))}):(et.encodeBase64=function(nt){return new buffer$1.Buffer(nt).toString("base64")},et.decodeBase64=function(nt){return tt(nt),new Uint8Array(Array.prototype.slice.call(new buffer$1.Buffer(nt,"base64"),0))}):(et.encodeBase64=function(nt){var ot,it=[],at=nt.length;for(ot=0;ot<at;ot++)it.push(String.fromCharCode(nt[ot]));return btoa(it.join(""))},et.decodeBase64=function(nt){tt(nt);var ot,it=atob(nt),at=new Uint8Array(it.length);for(ot=0;ot<it.length;ot++)at[ot]=it.charCodeAt(ot);return at}),et})})(naclUtil);var naclUtilExports=naclUtil.exports;const nacl=getDefaultExportFromCjs(naclUtilExports);function commonjsRequire(rt){throw new Error('Could not dynamically require "'+rt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={},browser$b={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(rt,et){var tt=buffer$1,nt=tt.Buffer;function ot(at,st){for(var ut in at)st[ut]=at[ut]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?rt.exports=tt:(ot(tt,et),et.Buffer=it);function it(at,st,ut){return nt(at,st,ut)}it.prototype=Object.create(nt.prototype),ot(nt,it),it.from=function(at,st,ut){if(typeof at=="number")throw new TypeError("Argument must not be a number");return nt(at,st,ut)},it.alloc=function(at,st,ut){if(typeof at!="number")throw new TypeError("Argument must be a number");var ft=nt(at);return st!==void 0?typeof ut=="string"?ft.fill(st,ut):ft.fill(st):ft.fill(0),ft},it.allocUnsafe=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return nt(at)},it.allocUnsafeSlow=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(at)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var rt=65536,et=4294967295;function tt(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var nt=requireSafeBuffer$1().Buffer,ot=commonjsGlobal.crypto||commonjsGlobal.msCrypto;ot&&ot.getRandomValues?browser$b.exports=it:browser$b.exports=tt;function it(at,st){if(at>et)throw new RangeError("requested too many random bytes");var ut=nt.allocUnsafe(at);if(at>0)if(at>rt)for(var ft=0;ft<at;ft+=rt)ot.getRandomValues(ut.slice(ft,ft+rt));else ot.getRandomValues(ut);return typeof st=="function"?api$2.nextTick(function(){st(null,ut)}):ut}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(et,tt){tt&&(et.super_=tt,et.prototype=Object.create(tt.prototype,{constructor:{value:et,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(et,tt){if(tt){et.super_=tt;var nt=function(){};nt.prototype=tt.prototype,et.prototype=new nt,et.prototype.constructor=et}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var rt=typeof Reflect=="object"?Reflect:null,et=rt&&typeof rt.apply=="function"?rt.apply:function(Dt,Nt,Gt){return Function.prototype.apply.call(Dt,Nt,Gt)},tt;rt&&typeof rt.ownKeys=="function"?tt=rt.ownKeys:Object.getOwnPropertySymbols?tt=function(Dt){return Object.getOwnPropertyNames(Dt).concat(Object.getOwnPropertySymbols(Dt))}:tt=function(Dt){return Object.getOwnPropertyNames(Dt)};function nt(kt){console&&console.warn&&console.warn(kt)}var ot=Number.isNaN||function(Dt){return Dt!==Dt};function it(){it.init.call(this)}events.exports=it,events.exports.once=Mt,it.EventEmitter=it,it.prototype._events=void 0,it.prototype._eventsCount=0,it.prototype._maxListeners=void 0;var at=10;function st(kt){if(typeof kt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof kt)}Object.defineProperty(it,"defaultMaxListeners",{enumerable:!0,get:function(){return at},set:function(kt){if(typeof kt!="number"||kt<0||ot(kt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+kt+".");at=kt}}),it.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},it.prototype.setMaxListeners=function(Dt){if(typeof Dt!="number"||Dt<0||ot(Dt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Dt+".");return this._maxListeners=Dt,this};function ut(kt){return kt._maxListeners===void 0?it.defaultMaxListeners:kt._maxListeners}it.prototype.getMaxListeners=function(){return ut(this)},it.prototype.emit=function(Dt){for(var Nt=[],Gt=1;Gt<arguments.length;Gt++)Nt.push(arguments[Gt]);var Wt=Dt==="error",Ot=this._events;if(Ot!==void 0)Wt=Wt&&Ot.error===void 0;else if(!Wt)return!1;if(Wt){var Xt;if(Nt.length>0&&(Xt=Nt[0]),Xt instanceof Error)throw Xt;var Et=new Error("Unhandled error."+(Xt?" ("+Xt.message+")":""));throw Et.context=Xt,Et}var lt=Ot[Dt];if(lt===void 0)return!1;if(typeof lt=="function")et(lt,this,Nt);else for(var dt=lt.length,pt=xt(lt,dt),Gt=0;Gt<dt;++Gt)et(pt[Gt],this,Nt);return!0};function ft(kt,Dt,Nt,Gt){var Wt,Ot,Xt;if(st(Nt),Ot=kt._events,Ot===void 0?(Ot=kt._events=Object.create(null),kt._eventsCount=0):(Ot.newListener!==void 0&&(kt.emit("newListener",Dt,Nt.listener?Nt.listener:Nt),Ot=kt._events),Xt=Ot[Dt]),Xt===void 0)Xt=Ot[Dt]=Nt,++kt._eventsCount;else if(typeof Xt=="function"?Xt=Ot[Dt]=Gt?[Nt,Xt]:[Xt,Nt]:Gt?Xt.unshift(Nt):Xt.push(Nt),Wt=ut(kt),Wt>0&&Xt.length>Wt&&!Xt.warned){Xt.warned=!0;var Et=new Error("Possible EventEmitter memory leak detected. "+Xt.length+" "+String(Dt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Et.name="MaxListenersExceededWarning",Et.emitter=kt,Et.type=Dt,Et.count=Xt.length,nt(Et)}return kt}it.prototype.addListener=function(Dt,Nt){return ft(this,Dt,Nt,!1)},it.prototype.on=it.prototype.addListener,it.prototype.prependListener=function(Dt,Nt){return ft(this,Dt,Nt,!0)};function ht(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function mt(kt,Dt,Nt){var Gt={fired:!1,wrapFn:void 0,target:kt,type:Dt,listener:Nt},Wt=ht.bind(Gt);return Wt.listener=Nt,Gt.wrapFn=Wt,Wt}it.prototype.once=function(Dt,Nt){return st(Nt),this.on(Dt,mt(this,Dt,Nt)),this},it.prototype.prependOnceListener=function(Dt,Nt){return st(Nt),this.prependListener(Dt,mt(this,Dt,Nt)),this},it.prototype.removeListener=function(Dt,Nt){var Gt,Wt,Ot,Xt,Et;if(st(Nt),Wt=this._events,Wt===void 0)return this;if(Gt=Wt[Dt],Gt===void 0)return this;if(Gt===Nt||Gt.listener===Nt)--this._eventsCount===0?this._events=Object.create(null):(delete Wt[Dt],Wt.removeListener&&this.emit("removeListener",Dt,Gt.listener||Nt));else if(typeof Gt!="function"){for(Ot=-1,Xt=Gt.length-1;Xt>=0;Xt--)if(Gt[Xt]===Nt||Gt[Xt].listener===Nt){Et=Gt[Xt].listener,Ot=Xt;break}if(Ot<0)return this;Ot===0?Gt.shift():St(Gt,Ot),Gt.length===1&&(Wt[Dt]=Gt[0]),Wt.removeListener!==void 0&&this.emit("removeListener",Dt,Et||Nt)}return this},it.prototype.off=it.prototype.removeListener,it.prototype.removeAllListeners=function(Dt){var Nt,Gt,Wt;if(Gt=this._events,Gt===void 0)return this;if(Gt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Gt[Dt]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Gt[Dt]),this;if(arguments.length===0){var Ot=Object.keys(Gt),Xt;for(Wt=0;Wt<Ot.length;++Wt)Xt=Ot[Wt],Xt!=="removeListener"&&this.removeAllListeners(Xt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Nt=Gt[Dt],typeof Nt=="function")this.removeListener(Dt,Nt);else if(Nt!==void 0)for(Wt=Nt.length-1;Wt>=0;Wt--)this.removeListener(Dt,Nt[Wt]);return this};function gt(kt,Dt,Nt){var Gt=kt._events;if(Gt===void 0)return[];var Wt=Gt[Dt];return Wt===void 0?[]:typeof Wt=="function"?Nt?[Wt.listener||Wt]:[Wt]:Nt?Tt(Wt):xt(Wt,Wt.length)}it.prototype.listeners=function(Dt){return gt(this,Dt,!0)},it.prototype.rawListeners=function(Dt){return gt(this,Dt,!1)},it.listenerCount=function(kt,Dt){return typeof kt.listenerCount=="function"?kt.listenerCount(Dt):yt.call(kt,Dt)},it.prototype.listenerCount=yt;function yt(kt){var Dt=this._events;if(Dt!==void 0){var Nt=Dt[kt];if(typeof Nt=="function")return 1;if(Nt!==void 0)return Nt.length}return 0}it.prototype.eventNames=function(){return this._eventsCount>0?tt(this._events):[]};function xt(kt,Dt){for(var Nt=new Array(Dt),Gt=0;Gt<Dt;++Gt)Nt[Gt]=kt[Gt];return Nt}function St(kt,Dt){for(;Dt+1<kt.length;Dt++)kt[Dt]=kt[Dt+1];kt.pop()}function Tt(kt){for(var Dt=new Array(kt.length),Nt=0;Nt<Dt.length;++Nt)Dt[Nt]=kt[Nt].listener||kt[Nt];return Dt}function Mt(kt,Dt){return new Promise(function(Nt,Gt){function Wt(Xt){kt.removeListener(Dt,Ot),Gt(Xt)}function Ot(){typeof kt.removeListener=="function"&&kt.removeListener("error",Wt),Nt([].slice.call(arguments))}It(kt,Dt,Ot,{once:!0}),Dt!=="error"&&Pt(kt,Wt,{once:!0})})}function Pt(kt,Dt,Nt){typeof kt.on=="function"&&It(kt,"error",Dt,Nt)}function It(kt,Dt,Nt,Gt){if(typeof kt.on=="function")Gt.once?kt.once(Dt,Nt):kt.on(Dt,Nt);else if(typeof kt.addEventListener=="function")kt.addEventListener(Dt,function Wt(Ot){Gt.once&&kt.removeEventListener(Dt,Wt),Nt(Ot)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof kt)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var et={},tt=Symbol("test"),nt=Object(tt);if(typeof tt=="string"||Object.prototype.toString.call(tt)!=="[object Symbol]"||Object.prototype.toString.call(nt)!=="[object Symbol]")return!1;var ot=42;et[tt]=ot;for(var it in et)return!1;if(typeof Object.keys=="function"&&Object.keys(et).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(et).length!==0)return!1;var at=Object.getOwnPropertySymbols(et);if(at.length!==1||at[0]!==tt||!Object.prototype.propertyIsEnumerable.call(et,tt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var st=Object.getOwnPropertyDescriptor(et,tt);if(st.value!==ot||st.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var rt=requireShams$1();return shams=function(){return rt()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max$1,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$1=Math.max),max$1}var min$1,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$1=Math.min),min$1}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round$1,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round$1=Math.round),round$1}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(et){return et!==et}),_isNaN}var sign$2,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$2;hasRequiredSign$1=1;var rt=require_isNaN();return sign$2=function(tt){return rt(tt)||tt===0?tt:tt<0?-1:1},sign$2}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var rt=requireGOPD();if(rt)try{rt([],"length")}catch{rt=null}return gopd=rt,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var rt=Object.defineProperty||!1;if(rt)try{rt({},"a",{value:1})}catch{rt=!1}return esDefineProperty=rt,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var rt=typeof Symbol<"u"&&Symbol,et=requireShams$1();return hasSymbols=function(){return typeof rt!="function"||typeof Symbol!="function"||typeof rt("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:et()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var rt=requireEsObjectAtoms();return Object_getPrototypeOf=rt.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var rt="Function.prototype.bind called on incompatible ",et=Object.prototype.toString,tt=Math.max,nt="[object Function]",ot=function(ut,ft){for(var ht=[],mt=0;mt<ut.length;mt+=1)ht[mt]=ut[mt];for(var gt=0;gt<ft.length;gt+=1)ht[gt+ut.length]=ft[gt];return ht},it=function(ut,ft){for(var ht=[],mt=ft||0,gt=0;mt<ut.length;mt+=1,gt+=1)ht[gt]=ut[mt];return ht},at=function(st,ut){for(var ft="",ht=0;ht<st.length;ht+=1)ft+=st[ht],ht+1<st.length&&(ft+=ut);return ft};return implementation=function(ut){var ft=this;if(typeof ft!="function"||et.apply(ft)!==nt)throw new TypeError(rt+ft);for(var ht=it(arguments,1),mt,gt=function(){if(this instanceof mt){var Mt=ft.apply(this,ot(ht,arguments));return Object(Mt)===Mt?Mt:this}return ft.apply(ut,ot(ht,arguments))},yt=tt(0,ft.length-ht.length),xt=[],St=0;St<yt;St++)xt[St]="$"+St;if(mt=Function("binder","return function ("+at(xt,",")+"){ return binder.apply(this,arguments); }")(gt),ft.prototype){var Tt=function(){};Tt.prototype=ft.prototype,mt.prototype=new Tt,Tt.prototype=null}return mt},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var rt=requireImplementation();return functionBind=Function.prototype.bind||rt,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var rt=requireFunctionBind(),et=requireFunctionApply(),tt=requireFunctionCall(),nt=requireReflectApply();return actualApply=nt||rt.call(tt,et),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var rt=requireFunctionBind(),et=requireType(),tt=requireFunctionCall(),nt=requireActualApply();return callBindApplyHelpers=function(it){if(it.length<1||typeof it[0]!="function")throw new et("a function is required");return nt(rt,tt,it)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var rt=requireCallBindApplyHelpers(),et=requireGopd(),tt;try{tt=[].__proto__===Array.prototype}catch(at){if(!at||typeof at!="object"||!("code"in at)||at.code!=="ERR_PROTO_ACCESS")throw at}var nt=!!tt&&et&&et(Object.prototype,"__proto__"),ot=Object,it=ot.getPrototypeOf;return get=nt&&typeof nt.get=="function"?rt([nt.get]):typeof it=="function"?function(st){return it(st==null?st:ot(st))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var rt=requireReflect_getPrototypeOf(),et=requireObject_getPrototypeOf(),tt=requireGet();return getProto=rt?function(ot){return rt(ot)}:et?function(ot){if(!ot||typeof ot!="object"&&typeof ot!="function")throw new TypeError("getProto: not an object");return et(ot)}:tt?function(ot){return tt(ot)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var rt=Function.prototype.call,et=Object.prototype.hasOwnProperty,tt=requireFunctionBind();return hasown=tt.call(rt,et),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var rt,et=requireEsObjectAtoms(),tt=requireEsErrors(),nt=require_eval(),ot=requireRange(),it=requireRef(),at=requireSyntax(),st=requireType(),ut=requireUri(),ft=requireAbs(),ht=requireFloor(),mt=requireMax(),gt=requireMin(),yt=requirePow(),xt=requireRound(),St=requireSign$1(),Tt=Function,Mt=function(nr){try{return Tt('"use strict"; return ('+nr+").constructor;")()}catch{}},Pt=requireGopd(),It=requireEsDefineProperty(),kt=function(){throw new st},Dt=Pt?function(){try{return arguments.callee,kt}catch{try{return Pt(arguments,"callee").get}catch{return kt}}}():kt,Nt=requireHasSymbols()(),Gt=requireGetProto(),Wt=requireObject_getPrototypeOf(),Ot=requireReflect_getPrototypeOf(),Xt=requireFunctionApply(),Et=requireFunctionCall(),lt={},dt=typeof Uint8Array>"u"||!Gt?rt:Gt(Uint8Array),pt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?rt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?rt:ArrayBuffer,"%ArrayIteratorPrototype%":Nt&&Gt?Gt([][Symbol.iterator]()):rt,"%AsyncFromSyncIteratorPrototype%":rt,"%AsyncFunction%":lt,"%AsyncGenerator%":lt,"%AsyncGeneratorFunction%":lt,"%AsyncIteratorPrototype%":lt,"%Atomics%":typeof Atomics>"u"?rt:Atomics,"%BigInt%":typeof BigInt>"u"?rt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?rt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?rt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?rt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":tt,"%eval%":eval,"%EvalError%":nt,"%Float16Array%":typeof Float16Array>"u"?rt:Float16Array,"%Float32Array%":typeof Float32Array>"u"?rt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?rt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?rt:FinalizationRegistry,"%Function%":Tt,"%GeneratorFunction%":lt,"%Int8Array%":typeof Int8Array>"u"?rt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?rt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?rt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nt&&Gt?Gt(Gt([][Symbol.iterator]())):rt,"%JSON%":typeof JSON=="object"?JSON:rt,"%Map%":typeof Map>"u"?rt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Nt||!Gt?rt:Gt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":et,"%Object.getOwnPropertyDescriptor%":Pt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?rt:Promise,"%Proxy%":typeof Proxy>"u"?rt:Proxy,"%RangeError%":ot,"%ReferenceError%":it,"%Reflect%":typeof Reflect>"u"?rt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?rt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Nt||!Gt?rt:Gt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?rt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nt&&Gt?Gt(""[Symbol.iterator]()):rt,"%Symbol%":Nt?Symbol:rt,"%SyntaxError%":at,"%ThrowTypeError%":Dt,"%TypedArray%":dt,"%TypeError%":st,"%Uint8Array%":typeof Uint8Array>"u"?rt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?rt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?rt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?rt:Uint32Array,"%URIError%":ut,"%WeakMap%":typeof WeakMap>"u"?rt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?rt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?rt:WeakSet,"%Function.prototype.call%":Et,"%Function.prototype.apply%":Xt,"%Object.defineProperty%":It,"%Object.getPrototypeOf%":Wt,"%Math.abs%":ft,"%Math.floor%":ht,"%Math.max%":mt,"%Math.min%":gt,"%Math.pow%":yt,"%Math.round%":xt,"%Math.sign%":St,"%Reflect.getPrototypeOf%":Ot};if(Gt)try{null.error}catch(nr){var vt=Gt(Gt(nr));pt["%Error.prototype%"]=vt}var wt=function nr(or){var rr;if(or==="%AsyncFunction%")rr=Mt("async function () {}");else if(or==="%GeneratorFunction%")rr=Mt("function* () {}");else if(or==="%AsyncGeneratorFunction%")rr=Mt("async function* () {}");else if(or==="%AsyncGenerator%"){var $t=nr("%AsyncGeneratorFunction%");$t&&(rr=$t.prototype)}else if(or==="%AsyncIteratorPrototype%"){var ar=nr("%AsyncGenerator%");ar&&Gt&&(rr=Gt(ar.prototype))}return pt[or]=rr,rr},At={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Rt=requireFunctionBind(),bt=requireHasown(),ct=Rt.call(Et,Array.prototype.concat),_t=Rt.call(Xt,Array.prototype.splice),Lt=Rt.call(Et,String.prototype.replace),Ft=Rt.call(Et,String.prototype.slice),jt=Rt.call(Et,RegExp.prototype.exec),Zt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Kt=/\\(\\)?/g,zt=function(or){var rr=Ft(or,0,1),$t=Ft(or,-1);if(rr==="%"&&$t!=="%")throw new at("invalid intrinsic syntax, expected closing `%`");if($t==="%"&&rr!=="%")throw new at("invalid intrinsic syntax, expected opening `%`");var ar=[];return Lt(or,Zt,function(wr,vr,Qt,Yt){ar[ar.length]=Qt?Lt(Yt,Kt,"$1"):vr||wr}),ar},Vt=function(or,rr){var $t=or,ar;if(bt(At,$t)&&(ar=At[$t],$t="%"+ar[0]+"%"),bt(pt,$t)){var wr=pt[$t];if(wr===lt&&(wr=wt($t)),typeof wr>"u"&&!rr)throw new st("intrinsic "+or+" exists, but is not available. Please file an issue!");return{alias:ar,name:$t,value:wr}}throw new at("intrinsic "+or+" does not exist!")};return getIntrinsic=function(or,rr){if(typeof or!="string"||or.length===0)throw new st("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof rr!="boolean")throw new st('"allowMissing" argument must be a boolean');if(jt(/^%?[^%]*%?$/,or)===null)throw new at("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var $t=zt(or),ar=$t.length>0?$t[0]:"",wr=Vt("%"+ar+"%",rr),vr=wr.name,Qt=wr.value,Yt=!1,Ht=wr.alias;Ht&&(ar=Ht[0],_t($t,ct([0,1],Ht)));for(var tr=1,br=!0;tr<$t.length;tr+=1){var gr=$t[tr],Sr=Ft(gr,0,1),pr=Ft(gr,-1);if((Sr==='"'||Sr==="'"||Sr==="`"||pr==='"'||pr==="'"||pr==="`")&&Sr!==pr)throw new at("property names with quotes must have matching quotes");if((gr==="constructor"||!br)&&(Yt=!0),ar+="."+gr,vr="%"+ar+"%",bt(pt,vr))Qt=pt[vr];else if(Qt!=null){if(!(gr in Qt)){if(!rr)throw new st("base intrinsic for "+or+" exists, but the property is not available.");return}if(Pt&&tr+1>=$t.length){var er=Pt(Qt,gr);br=!!er,br&&"get"in er&&!("originalValue"in er.get)?Qt=er.get:Qt=Qt[gr]}else br=bt(Qt,gr),Qt=Qt[gr];br&&!Yt&&(pt[vr]=Qt)}}return Qt},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var rt=requireGetIntrinsic(),et=requireCallBindApplyHelpers(),tt=et([rt("%String.prototype.indexOf%")]);return callBound=function(ot,it){var at=rt(ot,!!it);return typeof at=="function"&&tt(ot,".prototype.")>-1?et([at]):at},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var rt=requireShams()(),et=requireCallBound(),tt=et("Object.prototype.toString"),nt=function(st){return rt&&st&&typeof st=="object"&&Symbol.toStringTag in st?!1:tt(st)==="[object Arguments]"},ot=function(st){return nt(st)?!0:st!==null&&typeof st=="object"&&"length"in st&&typeof st.length=="number"&&st.length>=0&&tt(st)!=="[object Array]"&&"callee"in st&&tt(st.callee)==="[object Function]"},it=function(){return nt(arguments)}();return nt.isLegacyArguments=ot,isArguments=it?nt:ot,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var rt=requireCallBound(),et=requireShams()(),tt=requireHasown(),nt=requireGopd(),ot;if(et){var it=rt("RegExp.prototype.exec"),at={},st=function(){throw at},ut={toString:st,valueOf:st};typeof Symbol.toPrimitive=="symbol"&&(ut[Symbol.toPrimitive]=st),ot=function(gt){if(!gt||typeof gt!="object")return!1;var yt=nt(gt,"lastIndex"),xt=yt&&tt(yt,"value");if(!xt)return!1;try{it(gt,ut)}catch(St){return St===at}}}else{var ft=rt("Object.prototype.toString"),ht="[object RegExp]";ot=function(gt){return!gt||typeof gt!="object"&&typeof gt!="function"?!1:ft(gt)===ht}}return isRegex=ot,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var rt=requireCallBound(),et=requireIsRegex(),tt=rt("RegExp.prototype.exec"),nt=requireType();return safeRegexTest=function(it){if(!et(it))throw new nt("`regex` must be a RegExp");return function(st){return tt(it,st)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var rt=requireCallBound(),et=requireSafeRegexTest(),tt=et(/^\s*(?:function)?\*/),nt=requireShams()(),ot=requireGetProto(),it=rt("Object.prototype.toString"),at=rt("Function.prototype.toString"),st=function(){if(!nt)return!1;try{return Function("return function*() {}")()}catch{}},ut;return isGeneratorFunction=function(ht){if(typeof ht!="function")return!1;if(tt(at(ht)))return!0;if(!nt){var mt=it(ht);return mt==="[object GeneratorFunction]"}if(!ot)return!1;if(typeof ut>"u"){var gt=st();ut=gt?ot(gt):!1}return ot(ht)===ut},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var rt=Function.prototype.toString,et=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,tt,nt;if(typeof et=="function"&&typeof Object.defineProperty=="function")try{tt=Object.defineProperty({},"length",{get:function(){throw nt}}),nt={},et(function(){throw 42},null,tt)}catch(Pt){Pt!==nt&&(et=null)}else et=null;var ot=/^\s*class\b/,it=function(It){try{var kt=rt.call(It);return ot.test(kt)}catch{return!1}},at=function(It){try{return it(It)?!1:(rt.call(It),!0)}catch{return!1}},st=Object.prototype.toString,ut="[object Object]",ft="[object Function]",ht="[object GeneratorFunction]",mt="[object HTMLAllCollection]",gt="[object HTML document.all class]",yt="[object HTMLCollection]",xt=typeof Symbol=="function"&&!!Symbol.toStringTag,St=!(0 in[,]),Tt=function(){return!1};if(typeof document=="object"){var Mt=document.all;st.call(Mt)===st.call(document.all)&&(Tt=function(It){if((St||!It)&&(typeof It>"u"||typeof It=="object"))try{var kt=st.call(It);return(kt===mt||kt===gt||kt===yt||kt===ut)&&It("")==null}catch{}return!1})}return isCallable=et?function(It){if(Tt(It))return!0;if(!It||typeof It!="function"&&typeof It!="object")return!1;try{et(It,null,tt)}catch(kt){if(kt!==nt)return!1}return!it(It)&&at(It)}:function(It){if(Tt(It))return!0;if(!It||typeof It!="function"&&typeof It!="object")return!1;if(xt)return at(It);if(it(It))return!1;var kt=st.call(It);return kt!==ft&&kt!==ht&&!/^\[object HTML/.test(kt)?!1:at(It)},isCallable}var forEach$1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach$1;hasRequiredForEach=1;var rt=requireIsCallable(),et=Object.prototype.toString,tt=Object.prototype.hasOwnProperty,nt=function(ut,ft,ht){for(var mt=0,gt=ut.length;mt<gt;mt++)tt.call(ut,mt)&&(ht==null?ft(ut[mt],mt,ut):ft.call(ht,ut[mt],mt,ut))},ot=function(ut,ft,ht){for(var mt=0,gt=ut.length;mt<gt;mt++)ht==null?ft(ut.charAt(mt),mt,ut):ft.call(ht,ut.charAt(mt),mt,ut)},it=function(ut,ft,ht){for(var mt in ut)tt.call(ut,mt)&&(ht==null?ft(ut[mt],mt,ut):ft.call(ht,ut[mt],mt,ut))};function at(st){return et.call(st)==="[object Array]"}return forEach$1=function(ut,ft,ht){if(!rt(ft))throw new TypeError("iterator must be a function");var mt;arguments.length>=3&&(mt=ht),at(ut)?nt(ut,ft,mt):typeof ut=="string"?ot(ut,ft,mt):it(ut,ft,mt)},forEach$1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var rt=requirePossibleTypedArrayNames(),et=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var nt=[],ot=0;ot<rt.length;ot++)typeof et[rt[ot]]=="function"&&(nt[nt.length]=rt[ot]);return nt},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var rt=requireEsDefineProperty(),et=requireSyntax(),tt=requireType(),nt=requireGopd();return defineDataProperty=function(it,at,st){if(!it||typeof it!="object"&&typeof it!="function")throw new tt("`obj` must be an object or a function`");if(typeof at!="string"&&typeof at!="symbol")throw new tt("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new tt("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new tt("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new tt("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new tt("`loose`, if provided, must be a boolean");var ut=arguments.length>3?arguments[3]:null,ft=arguments.length>4?arguments[4]:null,ht=arguments.length>5?arguments[5]:null,mt=arguments.length>6?arguments[6]:!1,gt=!!nt&&nt(it,at);if(rt)rt(it,at,{configurable:ht===null&&gt?gt.configurable:!ht,enumerable:ut===null&&gt?gt.enumerable:!ut,value:st,writable:ft===null&&gt?gt.writable:!ft});else if(mt||!ut&&!ft&&!ht)it[at]=st;else throw new et("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var rt=requireEsDefineProperty(),et=function(){return!!rt};return et.hasArrayLengthDefineBug=function(){if(!rt)return null;try{return rt([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=et,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var rt=requireGetIntrinsic(),et=requireDefineDataProperty(),tt=requireHasPropertyDescriptors()(),nt=requireGopd(),ot=requireType(),it=rt("%Math.floor%");return setFunctionLength=function(st,ut){if(typeof st!="function")throw new ot("`fn` is not a function");if(typeof ut!="number"||ut<0||ut>4294967295||it(ut)!==ut)throw new ot("`length` must be a positive 32-bit integer");var ft=arguments.length>2&&!!arguments[2],ht=!0,mt=!0;if("length"in st&&nt){var gt=nt(st,"length");gt&&!gt.configurable&&(ht=!1),gt&&!gt.writable&&(mt=!1)}return(ht||mt||!ft)&&(tt?et(st,"length",ut,!0,!0):et(st,"length",ut)),st},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var rt=requireFunctionBind(),et=requireFunctionApply(),tt=requireActualApply();return applyBind=function(){return tt(rt,et,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(rt){var et=requireSetFunctionLength(),tt=requireEsDefineProperty(),nt=requireCallBindApplyHelpers(),ot=requireApplyBind();rt.exports=function(at){var st=nt(arguments),ut=at.length-(arguments.length-1);return et(st,1+(ut>0?ut:0),!0)},tt?tt(rt.exports,"apply",{value:ot}):rt.exports.apply=ot}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var rt=requireForEach(),et=requireAvailableTypedArrays(),tt=requireCallBind(),nt=requireCallBound(),ot=requireGopd(),it=requireGetProto(),at=nt("Object.prototype.toString"),st=requireShams()(),ut=typeof globalThis>"u"?commonjsGlobal:globalThis,ft=et(),ht=nt("String.prototype.slice"),mt=nt("Array.prototype.indexOf",!0)||function(Tt,Mt){for(var Pt=0;Pt<Tt.length;Pt+=1)if(Tt[Pt]===Mt)return Pt;return-1},gt={__proto__:null};st&&ot&&it?rt(ft,function(St){var Tt=new ut[St];if(Symbol.toStringTag in Tt&&it){var Mt=it(Tt),Pt=ot(Mt,Symbol.toStringTag);if(!Pt&&Mt){var It=it(Mt);Pt=ot(It,Symbol.toStringTag)}gt["$"+St]=tt(Pt.get)}}):rt(ft,function(St){var Tt=new ut[St],Mt=Tt.slice||Tt.set;Mt&&(gt["$"+St]=tt(Mt))});var yt=function(Tt){var Mt=!1;return rt(gt,function(Pt,It){if(!Mt)try{"$"+Pt(Tt)===It&&(Mt=ht(It,1))}catch{}}),Mt},xt=function(Tt){var Mt=!1;return rt(gt,function(Pt,It){if(!Mt)try{Pt(Tt),Mt=ht(It,1)}catch{}}),Mt};return whichTypedArray=function(Tt){if(!Tt||typeof Tt!="object")return!1;if(!st){var Mt=ht(at(Tt),8,-1);return mt(ft,Mt)>-1?Mt:Mt!=="Object"?!1:xt(Tt)}return ot?yt(Tt):null},whichTypedArray}var isTypedArray$2,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$2;hasRequiredIsTypedArray=1;var rt=requireWhichTypedArray();return isTypedArray$2=function(tt){return!!rt(tt)},isTypedArray$2}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(rt){var et=requireIsArguments(),tt=requireIsGeneratorFunction(),nt=requireWhichTypedArray(),ot=requireIsTypedArray();function it(tr){return tr.call.bind(tr)}var at=typeof BigInt<"u",st=typeof Symbol<"u",ut=it(Object.prototype.toString),ft=it(Number.prototype.valueOf),ht=it(String.prototype.valueOf),mt=it(Boolean.prototype.valueOf);if(at)var gt=it(BigInt.prototype.valueOf);if(st)var yt=it(Symbol.prototype.valueOf);function xt(tr,br){if(typeof tr!="object")return!1;try{return br(tr),!0}catch{return!1}}rt.isArgumentsObject=et,rt.isGeneratorFunction=tt,rt.isTypedArray=ot;function St(tr){return typeof Promise<"u"&&tr instanceof Promise||tr!==null&&typeof tr=="object"&&typeof tr.then=="function"&&typeof tr.catch=="function"}rt.isPromise=St;function Tt(tr){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(tr):ot(tr)||Ft(tr)}rt.isArrayBufferView=Tt;function Mt(tr){return nt(tr)==="Uint8Array"}rt.isUint8Array=Mt;function Pt(tr){return nt(tr)==="Uint8ClampedArray"}rt.isUint8ClampedArray=Pt;function It(tr){return nt(tr)==="Uint16Array"}rt.isUint16Array=It;function kt(tr){return nt(tr)==="Uint32Array"}rt.isUint32Array=kt;function Dt(tr){return nt(tr)==="Int8Array"}rt.isInt8Array=Dt;function Nt(tr){return nt(tr)==="Int16Array"}rt.isInt16Array=Nt;function Gt(tr){return nt(tr)==="Int32Array"}rt.isInt32Array=Gt;function Wt(tr){return nt(tr)==="Float32Array"}rt.isFloat32Array=Wt;function Ot(tr){return nt(tr)==="Float64Array"}rt.isFloat64Array=Ot;function Xt(tr){return nt(tr)==="BigInt64Array"}rt.isBigInt64Array=Xt;function Et(tr){return nt(tr)==="BigUint64Array"}rt.isBigUint64Array=Et;function lt(tr){return ut(tr)==="[object Map]"}lt.working=typeof Map<"u"&&lt(new Map);function dt(tr){return typeof Map>"u"?!1:lt.working?lt(tr):tr instanceof Map}rt.isMap=dt;function pt(tr){return ut(tr)==="[object Set]"}pt.working=typeof Set<"u"&&pt(new Set);function vt(tr){return typeof Set>"u"?!1:pt.working?pt(tr):tr instanceof Set}rt.isSet=vt;function wt(tr){return ut(tr)==="[object WeakMap]"}wt.working=typeof WeakMap<"u"&&wt(new WeakMap);function At(tr){return typeof WeakMap>"u"?!1:wt.working?wt(tr):tr instanceof WeakMap}rt.isWeakMap=At;function Rt(tr){return ut(tr)==="[object WeakSet]"}Rt.working=typeof WeakSet<"u"&&Rt(new WeakSet);function bt(tr){return Rt(tr)}rt.isWeakSet=bt;function ct(tr){return ut(tr)==="[object ArrayBuffer]"}ct.working=typeof ArrayBuffer<"u"&&ct(new ArrayBuffer);function _t(tr){return typeof ArrayBuffer>"u"?!1:ct.working?ct(tr):tr instanceof ArrayBuffer}rt.isArrayBuffer=_t;function Lt(tr){return ut(tr)==="[object DataView]"}Lt.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Lt(new DataView(new ArrayBuffer(1),0,1));function Ft(tr){return typeof DataView>"u"?!1:Lt.working?Lt(tr):tr instanceof DataView}rt.isDataView=Ft;var jt=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Zt(tr){return ut(tr)==="[object SharedArrayBuffer]"}function Kt(tr){return typeof jt>"u"?!1:(typeof Zt.working>"u"&&(Zt.working=Zt(new jt)),Zt.working?Zt(tr):tr instanceof jt)}rt.isSharedArrayBuffer=Kt;function zt(tr){return ut(tr)==="[object AsyncFunction]"}rt.isAsyncFunction=zt;function Vt(tr){return ut(tr)==="[object Map Iterator]"}rt.isMapIterator=Vt;function nr(tr){return ut(tr)==="[object Set Iterator]"}rt.isSetIterator=nr;function or(tr){return ut(tr)==="[object Generator]"}rt.isGeneratorObject=or;function rr(tr){return ut(tr)==="[object WebAssembly.Module]"}rt.isWebAssemblyCompiledModule=rr;function $t(tr){return xt(tr,ft)}rt.isNumberObject=$t;function ar(tr){return xt(tr,ht)}rt.isStringObject=ar;function wr(tr){return xt(tr,mt)}rt.isBooleanObject=wr;function vr(tr){return at&&xt(tr,gt)}rt.isBigIntObject=vr;function Qt(tr){return st&&xt(tr,yt)}rt.isSymbolObject=Qt;function Yt(tr){return $t(tr)||ar(tr)||wr(tr)||vr(tr)||Qt(tr)}rt.isBoxedPrimitive=Yt;function Ht(tr){return typeof Uint8Array<"u"&&(_t(tr)||Kt(tr))}rt.isAnyArrayBuffer=Ht,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(tr){Object.defineProperty(rt,tr,{enumerable:!1,value:function(){throw new Error(tr+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(et){return et&&typeof et=="object"&&typeof et.copy=="function"&&typeof et.fill=="function"&&typeof et.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(rt){var et=Object.getOwnPropertyDescriptors||function(Ft){for(var jt=Object.keys(Ft),Zt={},Kt=0;Kt<jt.length;Kt++)Zt[jt[Kt]]=Object.getOwnPropertyDescriptor(Ft,jt[Kt]);return Zt},tt=/%[sdj%]/g;rt.format=function(Lt){if(!Dt(Lt)){for(var Ft=[],jt=0;jt<arguments.length;jt++)Ft.push(at(arguments[jt]));return Ft.join(" ")}for(var jt=1,Zt=arguments,Kt=Zt.length,zt=String(Lt).replace(tt,function(nr){if(nr==="%%")return"%";if(jt>=Kt)return nr;switch(nr){case"%s":return String(Zt[jt++]);case"%d":return Number(Zt[jt++]);case"%j":try{return JSON.stringify(Zt[jt++])}catch{return"[Circular]"}default:return nr}}),Vt=Zt[jt];jt<Kt;Vt=Zt[++jt])Pt(Vt)||!Ot(Vt)?zt+=" "+Vt:zt+=" "+at(Vt);return zt},rt.deprecate=function(Lt,Ft){if(typeof api$2<"u"&&api$2.noDeprecation===!0)return Lt;if(typeof api$2>"u")return function(){return rt.deprecate(Lt,Ft).apply(this,arguments)};var jt=!1;function Zt(){if(!jt){if(api$2.throwDeprecation)throw new Error(Ft);api$2.traceDeprecation?console.trace(Ft):console.error(Ft),jt=!0}return Lt.apply(this,arguments)}return Zt};var nt={},ot=/^$/;if({}.NODE_DEBUG){var it={}.NODE_DEBUG;it=it.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ot=new RegExp("^"+it+"$","i")}rt.debuglog=function(Lt){if(Lt=Lt.toUpperCase(),!nt[Lt])if(ot.test(Lt)){var Ft=api$2.pid;nt[Lt]=function(){var jt=rt.format.apply(rt,arguments);console.error("%s %d: %s",Lt,Ft,jt)}}else nt[Lt]=function(){};return nt[Lt]};function at(Lt,Ft){var jt={seen:[],stylize:ut};return arguments.length>=3&&(jt.depth=arguments[2]),arguments.length>=4&&(jt.colors=arguments[3]),Mt(Ft)?jt.showHidden=Ft:Ft&&rt._extend(jt,Ft),Gt(jt.showHidden)&&(jt.showHidden=!1),Gt(jt.depth)&&(jt.depth=2),Gt(jt.colors)&&(jt.colors=!1),Gt(jt.customInspect)&&(jt.customInspect=!0),jt.colors&&(jt.stylize=st),ht(jt,Lt,jt.depth)}rt.inspect=at,at.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},at.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function st(Lt,Ft){var jt=at.styles[Ft];return jt?"\x1B["+at.colors[jt][0]+"m"+Lt+"\x1B["+at.colors[jt][1]+"m":Lt}function ut(Lt,Ft){return Lt}function ft(Lt){var Ft={};return Lt.forEach(function(jt,Zt){Ft[jt]=!0}),Ft}function ht(Lt,Ft,jt){if(Lt.customInspect&&Ft&&lt(Ft.inspect)&&Ft.inspect!==rt.inspect&&!(Ft.constructor&&Ft.constructor.prototype===Ft)){var Zt=Ft.inspect(jt,Lt);return Dt(Zt)||(Zt=ht(Lt,Zt,jt)),Zt}var Kt=mt(Lt,Ft);if(Kt)return Kt;var zt=Object.keys(Ft),Vt=ft(zt);if(Lt.showHidden&&(zt=Object.getOwnPropertyNames(Ft)),Et(Ft)&&(zt.indexOf("message")>=0||zt.indexOf("description")>=0))return gt(Ft);if(zt.length===0){if(lt(Ft)){var nr=Ft.name?": "+Ft.name:"";return Lt.stylize("[Function"+nr+"]","special")}if(Wt(Ft))return Lt.stylize(RegExp.prototype.toString.call(Ft),"regexp");if(Xt(Ft))return Lt.stylize(Date.prototype.toString.call(Ft),"date");if(Et(Ft))return gt(Ft)}var or="",rr=!1,$t=["{","}"];if(Tt(Ft)&&(rr=!0,$t=["[","]"]),lt(Ft)){var ar=Ft.name?": "+Ft.name:"";or=" [Function"+ar+"]"}if(Wt(Ft)&&(or=" "+RegExp.prototype.toString.call(Ft)),Xt(Ft)&&(or=" "+Date.prototype.toUTCString.call(Ft)),Et(Ft)&&(or=" "+gt(Ft)),zt.length===0&&(!rr||Ft.length==0))return $t[0]+or+$t[1];if(jt<0)return Wt(Ft)?Lt.stylize(RegExp.prototype.toString.call(Ft),"regexp"):Lt.stylize("[Object]","special");Lt.seen.push(Ft);var wr;return rr?wr=yt(Lt,Ft,jt,Vt,zt):wr=zt.map(function(vr){return xt(Lt,Ft,jt,Vt,vr,rr)}),Lt.seen.pop(),St(wr,or,$t)}function mt(Lt,Ft){if(Gt(Ft))return Lt.stylize("undefined","undefined");if(Dt(Ft)){var jt="'"+JSON.stringify(Ft).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Lt.stylize(jt,"string")}if(kt(Ft))return Lt.stylize(""+Ft,"number");if(Mt(Ft))return Lt.stylize(""+Ft,"boolean");if(Pt(Ft))return Lt.stylize("null","null")}function gt(Lt){return"["+Error.prototype.toString.call(Lt)+"]"}function yt(Lt,Ft,jt,Zt,Kt){for(var zt=[],Vt=0,nr=Ft.length;Vt<nr;++Vt)Rt(Ft,String(Vt))?zt.push(xt(Lt,Ft,jt,Zt,String(Vt),!0)):zt.push("");return Kt.forEach(function(or){or.match(/^\d+$/)||zt.push(xt(Lt,Ft,jt,Zt,or,!0))}),zt}function xt(Lt,Ft,jt,Zt,Kt,zt){var Vt,nr,or;if(or=Object.getOwnPropertyDescriptor(Ft,Kt)||{value:Ft[Kt]},or.get?or.set?nr=Lt.stylize("[Getter/Setter]","special"):nr=Lt.stylize("[Getter]","special"):or.set&&(nr=Lt.stylize("[Setter]","special")),Rt(Zt,Kt)||(Vt="["+Kt+"]"),nr||(Lt.seen.indexOf(or.value)<0?(Pt(jt)?nr=ht(Lt,or.value,null):nr=ht(Lt,or.value,jt-1),nr.indexOf(`
`)>-1&&(zt?nr=nr.split(`
`).map(function(rr){return"  "+rr}).join(`
`).slice(2):nr=`
`+nr.split(`
`).map(function(rr){return"   "+rr}).join(`
`))):nr=Lt.stylize("[Circular]","special")),Gt(Vt)){if(zt&&Kt.match(/^\d+$/))return nr;Vt=JSON.stringify(""+Kt),Vt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Vt=Vt.slice(1,-1),Vt=Lt.stylize(Vt,"name")):(Vt=Vt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Vt=Lt.stylize(Vt,"string"))}return Vt+": "+nr}function St(Lt,Ft,jt){var Zt=Lt.reduce(function(Kt,zt){return zt.indexOf(`
`)>=0,Kt+zt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Zt>60?jt[0]+(Ft===""?"":Ft+`
 `)+" "+Lt.join(`,
  `)+" "+jt[1]:jt[0]+Ft+" "+Lt.join(", ")+" "+jt[1]}rt.types=requireTypes();function Tt(Lt){return Array.isArray(Lt)}rt.isArray=Tt;function Mt(Lt){return typeof Lt=="boolean"}rt.isBoolean=Mt;function Pt(Lt){return Lt===null}rt.isNull=Pt;function It(Lt){return Lt==null}rt.isNullOrUndefined=It;function kt(Lt){return typeof Lt=="number"}rt.isNumber=kt;function Dt(Lt){return typeof Lt=="string"}rt.isString=Dt;function Nt(Lt){return typeof Lt=="symbol"}rt.isSymbol=Nt;function Gt(Lt){return Lt===void 0}rt.isUndefined=Gt;function Wt(Lt){return Ot(Lt)&&pt(Lt)==="[object RegExp]"}rt.isRegExp=Wt,rt.types.isRegExp=Wt;function Ot(Lt){return typeof Lt=="object"&&Lt!==null}rt.isObject=Ot;function Xt(Lt){return Ot(Lt)&&pt(Lt)==="[object Date]"}rt.isDate=Xt,rt.types.isDate=Xt;function Et(Lt){return Ot(Lt)&&(pt(Lt)==="[object Error]"||Lt instanceof Error)}rt.isError=Et,rt.types.isNativeError=Et;function lt(Lt){return typeof Lt=="function"}rt.isFunction=lt;function dt(Lt){return Lt===null||typeof Lt=="boolean"||typeof Lt=="number"||typeof Lt=="string"||typeof Lt=="symbol"||typeof Lt>"u"}rt.isPrimitive=dt,rt.isBuffer=requireIsBufferBrowser();function pt(Lt){return Object.prototype.toString.call(Lt)}function vt(Lt){return Lt<10?"0"+Lt.toString(10):Lt.toString(10)}var wt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function At(){var Lt=new Date,Ft=[vt(Lt.getHours()),vt(Lt.getMinutes()),vt(Lt.getSeconds())].join(":");return[Lt.getDate(),wt[Lt.getMonth()],Ft].join(" ")}rt.log=function(){console.log("%s - %s",At(),rt.format.apply(rt,arguments))},rt.inherits=requireInherits_browser(),rt._extend=function(Lt,Ft){if(!Ft||!Ot(Ft))return Lt;for(var jt=Object.keys(Ft),Zt=jt.length;Zt--;)Lt[jt[Zt]]=Ft[jt[Zt]];return Lt};function Rt(Lt,Ft){return Object.prototype.hasOwnProperty.call(Lt,Ft)}var bt=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;rt.promisify=function(Ft){if(typeof Ft!="function")throw new TypeError('The "original" argument must be of type Function');if(bt&&Ft[bt]){var jt=Ft[bt];if(typeof jt!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(jt,bt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),jt}function jt(){for(var Zt,Kt,zt=new Promise(function(or,rr){Zt=or,Kt=rr}),Vt=[],nr=0;nr<arguments.length;nr++)Vt.push(arguments[nr]);Vt.push(function(or,rr){or?Kt(or):Zt(rr)});try{Ft.apply(this,Vt)}catch(or){Kt(or)}return zt}return Object.setPrototypeOf(jt,Object.getPrototypeOf(Ft)),bt&&Object.defineProperty(jt,bt,{value:jt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(jt,et(Ft))},rt.promisify.custom=bt;function ct(Lt,Ft){if(!Lt){var jt=new Error("Promise was rejected with a falsy value");jt.reason=Lt,Lt=jt}return Ft(Lt)}function _t(Lt){if(typeof Lt!="function")throw new TypeError('The "original" argument must be of type Function');function Ft(){for(var jt=[],Zt=0;Zt<arguments.length;Zt++)jt.push(arguments[Zt]);var Kt=jt.pop();if(typeof Kt!="function")throw new TypeError("The last argument must be of type Function");var zt=this,Vt=function(){return Kt.apply(zt,arguments)};Lt.apply(this,jt).then(function(nr){api$2.nextTick(Vt.bind(null,null,nr))},function(nr){api$2.nextTick(ct.bind(null,nr,Vt))})}return Object.setPrototypeOf(Ft,Object.getPrototypeOf(Lt)),Object.defineProperties(Ft,et(Lt)),Ft}rt.callbackify=_t}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function rt(xt,St){var Tt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Mt=Object.getOwnPropertySymbols(xt);St&&(Mt=Mt.filter(function(Pt){return Object.getOwnPropertyDescriptor(xt,Pt).enumerable})),Tt.push.apply(Tt,Mt)}return Tt}function et(xt){for(var St=1;St<arguments.length;St++){var Tt=arguments[St]!=null?arguments[St]:{};St%2?rt(Object(Tt),!0).forEach(function(Mt){tt(xt,Mt,Tt[Mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Tt)):rt(Object(Tt)).forEach(function(Mt){Object.defineProperty(xt,Mt,Object.getOwnPropertyDescriptor(Tt,Mt))})}return xt}function tt(xt,St,Tt){return St=at(St),St in xt?Object.defineProperty(xt,St,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):xt[St]=Tt,xt}function nt(xt,St){if(!(xt instanceof St))throw new TypeError("Cannot call a class as a function")}function ot(xt,St){for(var Tt=0;Tt<St.length;Tt++){var Mt=St[Tt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(xt,at(Mt.key),Mt)}}function it(xt,St,Tt){return St&&ot(xt.prototype,St),Tt&&ot(xt,Tt),Object.defineProperty(xt,"prototype",{writable:!1}),xt}function at(xt){var St=st(xt,"string");return typeof St=="symbol"?St:String(St)}function st(xt,St){if(typeof xt!="object"||xt===null)return xt;var Tt=xt[Symbol.toPrimitive];if(Tt!==void 0){var Mt=Tt.call(xt,St||"default");if(typeof Mt!="object")return Mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(St==="string"?String:Number)(xt)}var ut=buffer$1,ft=ut.Buffer,ht=requireUtil$1(),mt=ht.inspect,gt=mt&&mt.custom||"inspect";function yt(xt,St,Tt){ft.prototype.copy.call(xt,St,Tt)}return buffer_list=function(){function xt(){nt(this,xt),this.head=null,this.tail=null,this.length=0}return it(xt,[{key:"push",value:function(Tt){var Mt={data:Tt,next:null};this.length>0?this.tail.next=Mt:this.head=Mt,this.tail=Mt,++this.length}},{key:"unshift",value:function(Tt){var Mt={data:Tt,next:this.head};this.length===0&&(this.tail=Mt),this.head=Mt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var Tt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Tt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(Tt){if(this.length===0)return"";for(var Mt=this.head,Pt=""+Mt.data;Mt=Mt.next;)Pt+=Tt+Mt.data;return Pt}},{key:"concat",value:function(Tt){if(this.length===0)return ft.alloc(0);for(var Mt=ft.allocUnsafe(Tt>>>0),Pt=this.head,It=0;Pt;)yt(Pt.data,Mt,It),It+=Pt.data.length,Pt=Pt.next;return Mt}},{key:"consume",value:function(Tt,Mt){var Pt;return Tt<this.head.data.length?(Pt=this.head.data.slice(0,Tt),this.head.data=this.head.data.slice(Tt)):Tt===this.head.data.length?Pt=this.shift():Pt=Mt?this._getString(Tt):this._getBuffer(Tt),Pt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(Tt){var Mt=this.head,Pt=1,It=Mt.data;for(Tt-=It.length;Mt=Mt.next;){var kt=Mt.data,Dt=Tt>kt.length?kt.length:Tt;if(Dt===kt.length?It+=kt:It+=kt.slice(0,Tt),Tt-=Dt,Tt===0){Dt===kt.length?(++Pt,Mt.next?this.head=Mt.next:this.head=this.tail=null):(this.head=Mt,Mt.data=kt.slice(Dt));break}++Pt}return this.length-=Pt,It}},{key:"_getBuffer",value:function(Tt){var Mt=ft.allocUnsafe(Tt),Pt=this.head,It=1;for(Pt.data.copy(Mt),Tt-=Pt.data.length;Pt=Pt.next;){var kt=Pt.data,Dt=Tt>kt.length?kt.length:Tt;if(kt.copy(Mt,Mt.length-Tt,0,Dt),Tt-=Dt,Tt===0){Dt===kt.length?(++It,Pt.next?this.head=Pt.next:this.head=this.tail=null):(this.head=Pt,Pt.data=kt.slice(Dt));break}++It}return this.length-=It,Mt}},{key:gt,value:function(Tt,Mt){return mt(this,et(et({},Mt),{},{depth:0,customInspect:!1}))}}]),xt}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function rt(at,st){var ut=this,ft=this._readableState&&this._readableState.destroyed,ht=this._writableState&&this._writableState.destroyed;return ft||ht?(st?st(at):at&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,api$2.nextTick(ot,this,at)):api$2.nextTick(ot,this,at)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(at||null,function(mt){!st&&mt?ut._writableState?ut._writableState.errorEmitted?api$2.nextTick(tt,ut):(ut._writableState.errorEmitted=!0,api$2.nextTick(et,ut,mt)):api$2.nextTick(et,ut,mt):st?(api$2.nextTick(tt,ut),st(mt)):api$2.nextTick(tt,ut)}),this)}function et(at,st){ot(at,st),tt(at)}function tt(at){at._writableState&&!at._writableState.emitClose||at._readableState&&!at._readableState.emitClose||at.emit("close")}function nt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ot(at,st){at.emit("error",st)}function it(at,st){var ut=at._readableState,ft=at._writableState;ut&&ut.autoDestroy||ft&&ft.autoDestroy?at.destroy(st):at.emit("error",st)}return destroy_1$1={destroy:rt,undestroy:nt,errorOrDestroy:it},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function rt(st,ut){st.prototype=Object.create(ut.prototype),st.prototype.constructor=st,st.__proto__=ut}var et={};function tt(st,ut,ft){ft||(ft=Error);function ht(gt,yt,xt){return typeof ut=="string"?ut:ut(gt,yt,xt)}var mt=function(gt){rt(yt,gt);function yt(xt,St,Tt){return gt.call(this,ht(xt,St,Tt))||this}return yt}(ft);mt.prototype.name=ft.name,mt.prototype.code=st,et[st]=mt}function nt(st,ut){if(Array.isArray(st)){var ft=st.length;return st=st.map(function(ht){return String(ht)}),ft>2?"one of ".concat(ut," ").concat(st.slice(0,ft-1).join(", "),", or ")+st[ft-1]:ft===2?"one of ".concat(ut," ").concat(st[0]," or ").concat(st[1]):"of ".concat(ut," ").concat(st[0])}else return"of ".concat(ut," ").concat(String(st))}function ot(st,ut,ft){return st.substr(!ft||ft<0?0:+ft,ut.length)===ut}function it(st,ut,ft){return(ft===void 0||ft>st.length)&&(ft=st.length),st.substring(ft-ut.length,ft)===ut}function at(st,ut,ft){return typeof ft!="number"&&(ft=0),ft+ut.length>st.length?!1:st.indexOf(ut,ft)!==-1}return tt("ERR_INVALID_OPT_VALUE",function(st,ut){return'The value "'+ut+'" is invalid for option "'+st+'"'},TypeError),tt("ERR_INVALID_ARG_TYPE",function(st,ut,ft){var ht;typeof ut=="string"&&ot(ut,"not ")?(ht="must not be",ut=ut.replace(/^not /,"")):ht="must be";var mt;if(it(st," argument"))mt="The ".concat(st," ").concat(ht," ").concat(nt(ut,"type"));else{var gt=at(st,".")?"property":"argument";mt='The "'.concat(st,'" ').concat(gt," ").concat(ht," ").concat(nt(ut,"type"))}return mt+=". Received type ".concat(typeof ft),mt},TypeError),tt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),tt("ERR_METHOD_NOT_IMPLEMENTED",function(st){return"The "+st+" method is not implemented"}),tt("ERR_STREAM_PREMATURE_CLOSE","Premature close"),tt("ERR_STREAM_DESTROYED",function(st){return"Cannot call "+st+" after a stream was destroyed"}),tt("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),tt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),tt("ERR_STREAM_WRITE_AFTER_END","write after end"),tt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),tt("ERR_UNKNOWN_ENCODING",function(st){return"Unknown encoding: "+st},TypeError),tt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=et,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var rt=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function et(nt,ot,it){return nt.highWaterMark!=null?nt.highWaterMark:ot?nt[it]:null}function tt(nt,ot,it,at){var st=et(ot,at,it);if(st!=null){if(!(isFinite(st)&&Math.floor(st)===st)||st<0){var ut=at?it:"highWaterMark";throw new rt(ut,st)}return Math.floor(st)}return nt.objectMode?16:16*1024}return state={getHighWaterMark:tt},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=rt;function rt(tt,nt){if(et("noDeprecation"))return tt;var ot=!1;function it(){if(!ot){if(et("throwDeprecation"))throw new Error(nt);et("traceDeprecation")?console.trace(nt):console.warn(nt),ot=!0}return tt.apply(this,arguments)}return it}function et(tt){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var nt=commonjsGlobal.localStorage[tt];return nt==null?!1:String(nt).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=Wt;function rt(Kt){var zt=this;this.next=null,this.entry=null,this.finish=function(){Zt(zt,Kt)}}var et;Wt.WritableState=Nt;var tt={deprecate:requireBrowser$a()},nt=requireStreamBrowser$1(),ot=buffer$1.Buffer,it=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function at(Kt){return ot.from(Kt)}function st(Kt){return ot.isBuffer(Kt)||Kt instanceof it}var ut=requireDestroy$1(),ft=requireState(),ht=ft.getHighWaterMark,mt=requireErrorsBrowser().codes,gt=mt.ERR_INVALID_ARG_TYPE,yt=mt.ERR_METHOD_NOT_IMPLEMENTED,xt=mt.ERR_MULTIPLE_CALLBACK,St=mt.ERR_STREAM_CANNOT_PIPE,Tt=mt.ERR_STREAM_DESTROYED,Mt=mt.ERR_STREAM_NULL_VALUES,Pt=mt.ERR_STREAM_WRITE_AFTER_END,It=mt.ERR_UNKNOWN_ENCODING,kt=ut.errorOrDestroy;requireInherits_browser()(Wt,nt);function Dt(){}function Nt(Kt,zt,Vt){et=et||require_stream_duplex$1(),Kt=Kt||{},typeof Vt!="boolean"&&(Vt=zt instanceof et),this.objectMode=!!Kt.objectMode,Vt&&(this.objectMode=this.objectMode||!!Kt.writableObjectMode),this.highWaterMark=ht(this,Kt,"writableHighWaterMark",Vt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var nr=Kt.decodeStrings===!1;this.decodeStrings=!nr,this.defaultEncoding=Kt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(or){wt(zt,or)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Kt.emitClose!==!1,this.autoDestroy=!!Kt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new rt(this)}Nt.prototype.getBuffer=function(){for(var zt=this.bufferedRequest,Vt=[];zt;)Vt.push(zt),zt=zt.next;return Vt},function(){try{Object.defineProperty(Nt.prototype,"buffer",{get:tt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Gt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Wt,Symbol.hasInstance,{value:function(zt){return Gt.call(this,zt)?!0:this!==Wt?!1:zt&&zt._writableState instanceof Nt}})):Gt=function(zt){return zt instanceof this};function Wt(Kt){et=et||require_stream_duplex$1();var zt=this instanceof et;if(!zt&&!Gt.call(Wt,this))return new Wt(Kt);this._writableState=new Nt(Kt,this,zt),this.writable=!0,Kt&&(typeof Kt.write=="function"&&(this._write=Kt.write),typeof Kt.writev=="function"&&(this._writev=Kt.writev),typeof Kt.destroy=="function"&&(this._destroy=Kt.destroy),typeof Kt.final=="function"&&(this._final=Kt.final)),nt.call(this)}Wt.prototype.pipe=function(){kt(this,new St)};function Ot(Kt,zt){var Vt=new Pt;kt(Kt,Vt),api$2.nextTick(zt,Vt)}function Xt(Kt,zt,Vt,nr){var or;return Vt===null?or=new Mt:typeof Vt!="string"&&!zt.objectMode&&(or=new gt("chunk",["string","Buffer"],Vt)),or?(kt(Kt,or),api$2.nextTick(nr,or),!1):!0}Wt.prototype.write=function(Kt,zt,Vt){var nr=this._writableState,or=!1,rr=!nr.objectMode&&st(Kt);return rr&&!ot.isBuffer(Kt)&&(Kt=at(Kt)),typeof zt=="function"&&(Vt=zt,zt=null),rr?zt="buffer":zt||(zt=nr.defaultEncoding),typeof Vt!="function"&&(Vt=Dt),nr.ending?Ot(this,Vt):(rr||Xt(this,nr,Kt,Vt))&&(nr.pendingcb++,or=lt(this,nr,rr,Kt,zt,Vt)),or},Wt.prototype.cork=function(){this._writableState.corked++},Wt.prototype.uncork=function(){var Kt=this._writableState;Kt.corked&&(Kt.corked--,!Kt.writing&&!Kt.corked&&!Kt.bufferProcessing&&Kt.bufferedRequest&&bt(this,Kt))},Wt.prototype.setDefaultEncoding=function(zt){if(typeof zt=="string"&&(zt=zt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((zt+"").toLowerCase())>-1))throw new It(zt);return this._writableState.defaultEncoding=zt,this},Object.defineProperty(Wt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Et(Kt,zt,Vt){return!Kt.objectMode&&Kt.decodeStrings!==!1&&typeof zt=="string"&&(zt=ot.from(zt,Vt)),zt}Object.defineProperty(Wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function lt(Kt,zt,Vt,nr,or,rr){if(!Vt){var $t=Et(zt,nr,or);nr!==$t&&(Vt=!0,or="buffer",nr=$t)}var ar=zt.objectMode?1:nr.length;zt.length+=ar;var wr=zt.length<zt.highWaterMark;if(wr||(zt.needDrain=!0),zt.writing||zt.corked){var vr=zt.lastBufferedRequest;zt.lastBufferedRequest={chunk:nr,encoding:or,isBuf:Vt,callback:rr,next:null},vr?vr.next=zt.lastBufferedRequest:zt.bufferedRequest=zt.lastBufferedRequest,zt.bufferedRequestCount+=1}else dt(Kt,zt,!1,ar,nr,or,rr);return wr}function dt(Kt,zt,Vt,nr,or,rr,$t){zt.writelen=nr,zt.writecb=$t,zt.writing=!0,zt.sync=!0,zt.destroyed?zt.onwrite(new Tt("write")):Vt?Kt._writev(or,zt.onwrite):Kt._write(or,rr,zt.onwrite),zt.sync=!1}function pt(Kt,zt,Vt,nr,or){--zt.pendingcb,Vt?(api$2.nextTick(or,nr),api$2.nextTick(Ft,Kt,zt),Kt._writableState.errorEmitted=!0,kt(Kt,nr)):(or(nr),Kt._writableState.errorEmitted=!0,kt(Kt,nr),Ft(Kt,zt))}function vt(Kt){Kt.writing=!1,Kt.writecb=null,Kt.length-=Kt.writelen,Kt.writelen=0}function wt(Kt,zt){var Vt=Kt._writableState,nr=Vt.sync,or=Vt.writecb;if(typeof or!="function")throw new xt;if(vt(Vt),zt)pt(Kt,Vt,nr,zt,or);else{var rr=ct(Vt)||Kt.destroyed;!rr&&!Vt.corked&&!Vt.bufferProcessing&&Vt.bufferedRequest&&bt(Kt,Vt),nr?api$2.nextTick(At,Kt,Vt,rr,or):At(Kt,Vt,rr,or)}}function At(Kt,zt,Vt,nr){Vt||Rt(Kt,zt),zt.pendingcb--,nr(),Ft(Kt,zt)}function Rt(Kt,zt){zt.length===0&&zt.needDrain&&(zt.needDrain=!1,Kt.emit("drain"))}function bt(Kt,zt){zt.bufferProcessing=!0;var Vt=zt.bufferedRequest;if(Kt._writev&&Vt&&Vt.next){var nr=zt.bufferedRequestCount,or=new Array(nr),rr=zt.corkedRequestsFree;rr.entry=Vt;for(var $t=0,ar=!0;Vt;)or[$t]=Vt,Vt.isBuf||(ar=!1),Vt=Vt.next,$t+=1;or.allBuffers=ar,dt(Kt,zt,!0,zt.length,or,"",rr.finish),zt.pendingcb++,zt.lastBufferedRequest=null,rr.next?(zt.corkedRequestsFree=rr.next,rr.next=null):zt.corkedRequestsFree=new rt(zt),zt.bufferedRequestCount=0}else{for(;Vt;){var wr=Vt.chunk,vr=Vt.encoding,Qt=Vt.callback,Yt=zt.objectMode?1:wr.length;if(dt(Kt,zt,!1,Yt,wr,vr,Qt),Vt=Vt.next,zt.bufferedRequestCount--,zt.writing)break}Vt===null&&(zt.lastBufferedRequest=null)}zt.bufferedRequest=Vt,zt.bufferProcessing=!1}Wt.prototype._write=function(Kt,zt,Vt){Vt(new yt("_write()"))},Wt.prototype._writev=null,Wt.prototype.end=function(Kt,zt,Vt){var nr=this._writableState;return typeof Kt=="function"?(Vt=Kt,Kt=null,zt=null):typeof zt=="function"&&(Vt=zt,zt=null),Kt!=null&&this.write(Kt,zt),nr.corked&&(nr.corked=1,this.uncork()),nr.ending||jt(this,nr,Vt),this},Object.defineProperty(Wt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ct(Kt){return Kt.ending&&Kt.length===0&&Kt.bufferedRequest===null&&!Kt.finished&&!Kt.writing}function _t(Kt,zt){Kt._final(function(Vt){zt.pendingcb--,Vt&&kt(Kt,Vt),zt.prefinished=!0,Kt.emit("prefinish"),Ft(Kt,zt)})}function Lt(Kt,zt){!zt.prefinished&&!zt.finalCalled&&(typeof Kt._final=="function"&&!zt.destroyed?(zt.pendingcb++,zt.finalCalled=!0,api$2.nextTick(_t,Kt,zt)):(zt.prefinished=!0,Kt.emit("prefinish")))}function Ft(Kt,zt){var Vt=ct(zt);if(Vt&&(Lt(Kt,zt),zt.pendingcb===0&&(zt.finished=!0,Kt.emit("finish"),zt.autoDestroy))){var nr=Kt._readableState;(!nr||nr.autoDestroy&&nr.endEmitted)&&Kt.destroy()}return Vt}function jt(Kt,zt,Vt){zt.ending=!0,Ft(Kt,zt),Vt&&(zt.finished?api$2.nextTick(Vt):Kt.once("finish",Vt)),zt.ended=!0,Kt.writable=!1}function Zt(Kt,zt,Vt){var nr=Kt.entry;for(Kt.entry=null;nr;){var or=nr.callback;zt.pendingcb--,or(Vt),nr=nr.next}zt.corkedRequestsFree.next=Kt}return Object.defineProperty(Wt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(zt){this._writableState&&(this._writableState.destroyed=zt)}}),Wt.prototype.destroy=ut.destroy,Wt.prototype._undestroy=ut.undestroy,Wt.prototype._destroy=function(Kt,zt){zt(Kt)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var rt=Object.keys||function(ft){var ht=[];for(var mt in ft)ht.push(mt);return ht};_stream_duplex$1=at;var et=require_stream_readable$1(),tt=require_stream_writable$1();requireInherits_browser()(at,et);for(var nt=rt(tt.prototype),ot=0;ot<nt.length;ot++){var it=nt[ot];at.prototype[it]||(at.prototype[it]=tt.prototype[it])}function at(ft){if(!(this instanceof at))return new at(ft);et.call(this,ft),tt.call(this,ft),this.allowHalfOpen=!0,ft&&(ft.readable===!1&&(this.readable=!1),ft.writable===!1&&(this.writable=!1),ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",st)))}Object.defineProperty(at.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(at.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(at.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function st(){this._writableState.ended||api$2.nextTick(ut,this)}function ut(ft){ft.end()}return Object.defineProperty(at.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(ht){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=ht,this._writableState.destroyed=ht)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var rt=requireSafeBuffer$1().Buffer,et=rt.isEncoding||function(Mt){switch(Mt=""+Mt,Mt&&Mt.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function tt(Mt){if(!Mt)return"utf8";for(var Pt;;)switch(Mt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Mt;default:if(Pt)return;Mt=(""+Mt).toLowerCase(),Pt=!0}}function nt(Mt){var Pt=tt(Mt);if(typeof Pt!="string"&&(rt.isEncoding===et||!et(Mt)))throw new Error("Unknown encoding: "+Mt);return Pt||Mt}string_decoder.StringDecoder=ot;function ot(Mt){this.encoding=nt(Mt);var Pt;switch(this.encoding){case"utf16le":this.text=mt,this.end=gt,Pt=4;break;case"utf8":this.fillLast=ut,Pt=4;break;case"base64":this.text=yt,this.end=xt,Pt=3;break;default:this.write=St,this.end=Tt;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=rt.allocUnsafe(Pt)}ot.prototype.write=function(Mt){if(Mt.length===0)return"";var Pt,It;if(this.lastNeed){if(Pt=this.fillLast(Mt),Pt===void 0)return"";It=this.lastNeed,this.lastNeed=0}else It=0;return It<Mt.length?Pt?Pt+this.text(Mt,It):this.text(Mt,It):Pt||""},ot.prototype.end=ht,ot.prototype.text=ft,ot.prototype.fillLast=function(Mt){if(this.lastNeed<=Mt.length)return Mt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Mt.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Mt.length),this.lastNeed-=Mt.length};function it(Mt){return Mt<=127?0:Mt>>5===6?2:Mt>>4===14?3:Mt>>3===30?4:Mt>>6===2?-1:-2}function at(Mt,Pt,It){var kt=Pt.length-1;if(kt<It)return 0;var Dt=it(Pt[kt]);return Dt>=0?(Dt>0&&(Mt.lastNeed=Dt-1),Dt):--kt<It||Dt===-2?0:(Dt=it(Pt[kt]),Dt>=0?(Dt>0&&(Mt.lastNeed=Dt-2),Dt):--kt<It||Dt===-2?0:(Dt=it(Pt[kt]),Dt>=0?(Dt>0&&(Dt===2?Dt=0:Mt.lastNeed=Dt-3),Dt):0))}function st(Mt,Pt,It){if((Pt[0]&192)!==128)return Mt.lastNeed=0,"";if(Mt.lastNeed>1&&Pt.length>1){if((Pt[1]&192)!==128)return Mt.lastNeed=1,"";if(Mt.lastNeed>2&&Pt.length>2&&(Pt[2]&192)!==128)return Mt.lastNeed=2,""}}function ut(Mt){var Pt=this.lastTotal-this.lastNeed,It=st(this,Mt);if(It!==void 0)return It;if(this.lastNeed<=Mt.length)return Mt.copy(this.lastChar,Pt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Mt.copy(this.lastChar,Pt,0,Mt.length),this.lastNeed-=Mt.length}function ft(Mt,Pt){var It=at(this,Mt,Pt);if(!this.lastNeed)return Mt.toString("utf8",Pt);this.lastTotal=It;var kt=Mt.length-(It-this.lastNeed);return Mt.copy(this.lastChar,0,kt),Mt.toString("utf8",Pt,kt)}function ht(Mt){var Pt=Mt&&Mt.length?this.write(Mt):"";return this.lastNeed?Pt+"":Pt}function mt(Mt,Pt){if((Mt.length-Pt)%2===0){var It=Mt.toString("utf16le",Pt);if(It){var kt=It.charCodeAt(It.length-1);if(kt>=55296&&kt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Mt[Mt.length-2],this.lastChar[1]=Mt[Mt.length-1],It.slice(0,-1)}return It}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Mt[Mt.length-1],Mt.toString("utf16le",Pt,Mt.length-1)}function gt(Mt){var Pt=Mt&&Mt.length?this.write(Mt):"";if(this.lastNeed){var It=this.lastTotal-this.lastNeed;return Pt+this.lastChar.toString("utf16le",0,It)}return Pt}function yt(Mt,Pt){var It=(Mt.length-Pt)%3;return It===0?Mt.toString("base64",Pt):(this.lastNeed=3-It,this.lastTotal=3,It===1?this.lastChar[0]=Mt[Mt.length-1]:(this.lastChar[0]=Mt[Mt.length-2],this.lastChar[1]=Mt[Mt.length-1]),Mt.toString("base64",Pt,Mt.length-It))}function xt(Mt){var Pt=Mt&&Mt.length?this.write(Mt):"";return this.lastNeed?Pt+this.lastChar.toString("base64",0,3-this.lastNeed):Pt}function St(Mt){return Mt.toString(this.encoding)}function Tt(Mt){return Mt&&Mt.length?this.write(Mt):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var rt=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function et(it){var at=!1;return function(){if(!at){at=!0;for(var st=arguments.length,ut=new Array(st),ft=0;ft<st;ft++)ut[ft]=arguments[ft];it.apply(this,ut)}}}function tt(){}function nt(it){return it.setHeader&&typeof it.abort=="function"}function ot(it,at,st){if(typeof at=="function")return ot(it,null,at);at||(at={}),st=et(st||tt);var ut=at.readable||at.readable!==!1&&it.readable,ft=at.writable||at.writable!==!1&&it.writable,ht=function(){it.writable||gt()},mt=it._writableState&&it._writableState.finished,gt=function(){ft=!1,mt=!0,ut||st.call(it)},yt=it._readableState&&it._readableState.endEmitted,xt=function(){ut=!1,yt=!0,ft||st.call(it)},St=function(It){st.call(it,It)},Tt=function(){var It;if(ut&&!yt)return(!it._readableState||!it._readableState.ended)&&(It=new rt),st.call(it,It);if(ft&&!mt)return(!it._writableState||!it._writableState.ended)&&(It=new rt),st.call(it,It)},Mt=function(){it.req.on("finish",gt)};return nt(it)?(it.on("complete",gt),it.on("abort",Tt),it.req?Mt():it.on("request",Mt)):ft&&!it._writableState&&(it.on("end",ht),it.on("close",ht)),it.on("end",xt),it.on("finish",gt),at.error!==!1&&it.on("error",St),it.on("close",Tt),function(){it.removeListener("complete",gt),it.removeListener("abort",Tt),it.removeListener("request",Mt),it.req&&it.req.removeListener("finish",gt),it.removeListener("end",ht),it.removeListener("close",ht),it.removeListener("finish",gt),it.removeListener("end",xt),it.removeListener("error",St),it.removeListener("close",Tt)}}return endOfStream=ot,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var rt;function et(It,kt,Dt){return kt=tt(kt),kt in It?Object.defineProperty(It,kt,{value:Dt,enumerable:!0,configurable:!0,writable:!0}):It[kt]=Dt,It}function tt(It){var kt=nt(It,"string");return typeof kt=="symbol"?kt:String(kt)}function nt(It,kt){if(typeof It!="object"||It===null)return It;var Dt=It[Symbol.toPrimitive];if(Dt!==void 0){var Nt=Dt.call(It,kt||"default");if(typeof Nt!="object")return Nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(kt==="string"?String:Number)(It)}var ot=requireEndOfStream(),it=Symbol("lastResolve"),at=Symbol("lastReject"),st=Symbol("error"),ut=Symbol("ended"),ft=Symbol("lastPromise"),ht=Symbol("handlePromise"),mt=Symbol("stream");function gt(It,kt){return{value:It,done:kt}}function yt(It){var kt=It[it];if(kt!==null){var Dt=It[mt].read();Dt!==null&&(It[ft]=null,It[it]=null,It[at]=null,kt(gt(Dt,!1)))}}function xt(It){api$2.nextTick(yt,It)}function St(It,kt){return function(Dt,Nt){It.then(function(){if(kt[ut]){Dt(gt(void 0,!0));return}kt[ht](Dt,Nt)},Nt)}}var Tt=Object.getPrototypeOf(function(){}),Mt=Object.setPrototypeOf((rt={get stream(){return this[mt]},next:function(){var kt=this,Dt=this[st];if(Dt!==null)return Promise.reject(Dt);if(this[ut])return Promise.resolve(gt(void 0,!0));if(this[mt].destroyed)return new Promise(function(Ot,Xt){api$2.nextTick(function(){kt[st]?Xt(kt[st]):Ot(gt(void 0,!0))})});var Nt=this[ft],Gt;if(Nt)Gt=new Promise(St(Nt,this));else{var Wt=this[mt].read();if(Wt!==null)return Promise.resolve(gt(Wt,!1));Gt=new Promise(this[ht])}return this[ft]=Gt,Gt}},et(rt,Symbol.asyncIterator,function(){return this}),et(rt,"return",function(){var kt=this;return new Promise(function(Dt,Nt){kt[mt].destroy(null,function(Gt){if(Gt){Nt(Gt);return}Dt(gt(void 0,!0))})})}),rt),Tt),Pt=function(kt){var Dt,Nt=Object.create(Mt,(Dt={},et(Dt,mt,{value:kt,writable:!0}),et(Dt,it,{value:null,writable:!0}),et(Dt,at,{value:null,writable:!0}),et(Dt,st,{value:null,writable:!0}),et(Dt,ut,{value:kt._readableState.endEmitted,writable:!0}),et(Dt,ht,{value:function(Wt,Ot){var Xt=Nt[mt].read();Xt?(Nt[ft]=null,Nt[it]=null,Nt[at]=null,Wt(gt(Xt,!1))):(Nt[it]=Wt,Nt[at]=Ot)},writable:!0}),Dt));return Nt[ft]=null,ot(kt,function(Gt){if(Gt&&Gt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Wt=Nt[at];Wt!==null&&(Nt[ft]=null,Nt[it]=null,Nt[at]=null,Wt(Gt)),Nt[st]=Gt;return}var Ot=Nt[it];Ot!==null&&(Nt[ft]=null,Nt[it]=null,Nt[at]=null,Ot(gt(void 0,!0))),Nt[ut]=!0}),kt.on("readable",xt.bind(null,Nt)),Nt};return async_iterator=Pt,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=Ot;var rt;Ot.ReadableState=Wt,requireEvents().EventEmitter;var et=function($t,ar){return $t.listeners(ar).length},tt=requireStreamBrowser$1(),nt=buffer$1.Buffer,ot=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function it(rr){return nt.from(rr)}function at(rr){return nt.isBuffer(rr)||rr instanceof ot}var st=requireUtil$1(),ut;st&&st.debuglog?ut=st.debuglog("stream"):ut=function(){};var ft=requireBuffer_list(),ht=requireDestroy$1(),mt=requireState(),gt=mt.getHighWaterMark,yt=requireErrorsBrowser().codes,xt=yt.ERR_INVALID_ARG_TYPE,St=yt.ERR_STREAM_PUSH_AFTER_EOF,Tt=yt.ERR_METHOD_NOT_IMPLEMENTED,Mt=yt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Pt,It,kt;requireInherits_browser()(Ot,tt);var Dt=ht.errorOrDestroy,Nt=["error","close","destroy","pause","resume"];function Gt(rr,$t,ar){if(typeof rr.prependListener=="function")return rr.prependListener($t,ar);!rr._events||!rr._events[$t]?rr.on($t,ar):Array.isArray(rr._events[$t])?rr._events[$t].unshift(ar):rr._events[$t]=[ar,rr._events[$t]]}function Wt(rr,$t,ar){rt=rt||require_stream_duplex$1(),rr=rr||{},typeof ar!="boolean"&&(ar=$t instanceof rt),this.objectMode=!!rr.objectMode,ar&&(this.objectMode=this.objectMode||!!rr.readableObjectMode),this.highWaterMark=gt(this,rr,"readableHighWaterMark",ar),this.buffer=new ft,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=rr.emitClose!==!1,this.autoDestroy=!!rr.autoDestroy,this.destroyed=!1,this.defaultEncoding=rr.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,rr.encoding&&(Pt||(Pt=requireString_decoder().StringDecoder),this.decoder=new Pt(rr.encoding),this.encoding=rr.encoding)}function Ot(rr){if(rt=rt||require_stream_duplex$1(),!(this instanceof Ot))return new Ot(rr);var $t=this instanceof rt;this._readableState=new Wt(rr,this,$t),this.readable=!0,rr&&(typeof rr.read=="function"&&(this._read=rr.read),typeof rr.destroy=="function"&&(this._destroy=rr.destroy)),tt.call(this)}Object.defineProperty(Ot.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function($t){this._readableState&&(this._readableState.destroyed=$t)}}),Ot.prototype.destroy=ht.destroy,Ot.prototype._undestroy=ht.undestroy,Ot.prototype._destroy=function(rr,$t){$t(rr)},Ot.prototype.push=function(rr,$t){var ar=this._readableState,wr;return ar.objectMode?wr=!0:typeof rr=="string"&&($t=$t||ar.defaultEncoding,$t!==ar.encoding&&(rr=nt.from(rr,$t),$t=""),wr=!0),Xt(this,rr,$t,!1,wr)},Ot.prototype.unshift=function(rr){return Xt(this,rr,null,!0,!1)};function Xt(rr,$t,ar,wr,vr){ut("readableAddChunk",$t);var Qt=rr._readableState;if($t===null)Qt.reading=!1,wt(rr,Qt);else{var Yt;if(vr||(Yt=lt(Qt,$t)),Yt)Dt(rr,Yt);else if(Qt.objectMode||$t&&$t.length>0)if(typeof $t!="string"&&!Qt.objectMode&&Object.getPrototypeOf($t)!==nt.prototype&&($t=it($t)),wr)Qt.endEmitted?Dt(rr,new Mt):Et(rr,Qt,$t,!0);else if(Qt.ended)Dt(rr,new St);else{if(Qt.destroyed)return!1;Qt.reading=!1,Qt.decoder&&!ar?($t=Qt.decoder.write($t),Qt.objectMode||$t.length!==0?Et(rr,Qt,$t,!1):bt(rr,Qt)):Et(rr,Qt,$t,!1)}else wr||(Qt.reading=!1,bt(rr,Qt))}return!Qt.ended&&(Qt.length<Qt.highWaterMark||Qt.length===0)}function Et(rr,$t,ar,wr){$t.flowing&&$t.length===0&&!$t.sync?($t.awaitDrain=0,rr.emit("data",ar)):($t.length+=$t.objectMode?1:ar.length,wr?$t.buffer.unshift(ar):$t.buffer.push(ar),$t.needReadable&&At(rr)),bt(rr,$t)}function lt(rr,$t){var ar;return!at($t)&&typeof $t!="string"&&$t!==void 0&&!rr.objectMode&&(ar=new xt("chunk",["string","Buffer","Uint8Array"],$t)),ar}Ot.prototype.isPaused=function(){return this._readableState.flowing===!1},Ot.prototype.setEncoding=function(rr){Pt||(Pt=requireString_decoder().StringDecoder);var $t=new Pt(rr);this._readableState.decoder=$t,this._readableState.encoding=this._readableState.decoder.encoding;for(var ar=this._readableState.buffer.head,wr="";ar!==null;)wr+=$t.write(ar.data),ar=ar.next;return this._readableState.buffer.clear(),wr!==""&&this._readableState.buffer.push(wr),this._readableState.length=wr.length,this};var dt=1073741824;function pt(rr){return rr>=dt?rr=dt:(rr--,rr|=rr>>>1,rr|=rr>>>2,rr|=rr>>>4,rr|=rr>>>8,rr|=rr>>>16,rr++),rr}function vt(rr,$t){return rr<=0||$t.length===0&&$t.ended?0:$t.objectMode?1:rr!==rr?$t.flowing&&$t.length?$t.buffer.head.data.length:$t.length:(rr>$t.highWaterMark&&($t.highWaterMark=pt(rr)),rr<=$t.length?rr:$t.ended?$t.length:($t.needReadable=!0,0))}Ot.prototype.read=function(rr){ut("read",rr),rr=parseInt(rr,10);var $t=this._readableState,ar=rr;if(rr!==0&&($t.emittedReadable=!1),rr===0&&$t.needReadable&&(($t.highWaterMark!==0?$t.length>=$t.highWaterMark:$t.length>0)||$t.ended))return ut("read: emitReadable",$t.length,$t.ended),$t.length===0&&$t.ended?Vt(this):At(this),null;if(rr=vt(rr,$t),rr===0&&$t.ended)return $t.length===0&&Vt(this),null;var wr=$t.needReadable;ut("need readable",wr),($t.length===0||$t.length-rr<$t.highWaterMark)&&(wr=!0,ut("length less than watermark",wr)),$t.ended||$t.reading?(wr=!1,ut("reading or ended",wr)):wr&&(ut("do read"),$t.reading=!0,$t.sync=!0,$t.length===0&&($t.needReadable=!0),this._read($t.highWaterMark),$t.sync=!1,$t.reading||(rr=vt(ar,$t)));var vr;return rr>0?vr=zt(rr,$t):vr=null,vr===null?($t.needReadable=$t.length<=$t.highWaterMark,rr=0):($t.length-=rr,$t.awaitDrain=0),$t.length===0&&($t.ended||($t.needReadable=!0),ar!==rr&&$t.ended&&Vt(this)),vr!==null&&this.emit("data",vr),vr};function wt(rr,$t){if(ut("onEofChunk"),!$t.ended){if($t.decoder){var ar=$t.decoder.end();ar&&ar.length&&($t.buffer.push(ar),$t.length+=$t.objectMode?1:ar.length)}$t.ended=!0,$t.sync?At(rr):($t.needReadable=!1,$t.emittedReadable||($t.emittedReadable=!0,Rt(rr)))}}function At(rr){var $t=rr._readableState;ut("emitReadable",$t.needReadable,$t.emittedReadable),$t.needReadable=!1,$t.emittedReadable||(ut("emitReadable",$t.flowing),$t.emittedReadable=!0,api$2.nextTick(Rt,rr))}function Rt(rr){var $t=rr._readableState;ut("emitReadable_",$t.destroyed,$t.length,$t.ended),!$t.destroyed&&($t.length||$t.ended)&&(rr.emit("readable"),$t.emittedReadable=!1),$t.needReadable=!$t.flowing&&!$t.ended&&$t.length<=$t.highWaterMark,Kt(rr)}function bt(rr,$t){$t.readingMore||($t.readingMore=!0,api$2.nextTick(ct,rr,$t))}function ct(rr,$t){for(;!$t.reading&&!$t.ended&&($t.length<$t.highWaterMark||$t.flowing&&$t.length===0);){var ar=$t.length;if(ut("maybeReadMore read 0"),rr.read(0),ar===$t.length)break}$t.readingMore=!1}Ot.prototype._read=function(rr){Dt(this,new Tt("_read()"))},Ot.prototype.pipe=function(rr,$t){var ar=this,wr=this._readableState;switch(wr.pipesCount){case 0:wr.pipes=rr;break;case 1:wr.pipes=[wr.pipes,rr];break;default:wr.pipes.push(rr);break}wr.pipesCount+=1,ut("pipe count=%d opts=%j",wr.pipesCount,$t);var vr=(!$t||$t.end!==!1)&&rr!==api$2.stdout&&rr!==api$2.stderr,Qt=vr?Ht:Gr;wr.endEmitted?api$2.nextTick(Qt):ar.once("end",Qt),rr.on("unpipe",Yt);function Yt(Mr,Ar){ut("onunpipe"),Mr===ar&&Ar&&Ar.hasUnpiped===!1&&(Ar.hasUnpiped=!0,gr())}function Ht(){ut("onend"),rr.end()}var tr=_t(ar);rr.on("drain",tr);var br=!1;function gr(){ut("cleanup"),rr.removeListener("close",er),rr.removeListener("finish",yr),rr.removeListener("drain",tr),rr.removeListener("error",pr),rr.removeListener("unpipe",Yt),ar.removeListener("end",Ht),ar.removeListener("end",Gr),ar.removeListener("data",Sr),br=!0,wr.awaitDrain&&(!rr._writableState||rr._writableState.needDrain)&&tr()}ar.on("data",Sr);function Sr(Mr){ut("ondata");var Ar=rr.write(Mr);ut("dest.write",Ar),Ar===!1&&((wr.pipesCount===1&&wr.pipes===rr||wr.pipesCount>1&&or(wr.pipes,rr)!==-1)&&!br&&(ut("false write response, pause",wr.awaitDrain),wr.awaitDrain++),ar.pause())}function pr(Mr){ut("onerror",Mr),Gr(),rr.removeListener("error",pr),et(rr,"error")===0&&Dt(rr,Mr)}Gt(rr,"error",pr);function er(){rr.removeListener("finish",yr),Gr()}rr.once("close",er);function yr(){ut("onfinish"),rr.removeListener("close",er),Gr()}rr.once("finish",yr);function Gr(){ut("unpipe"),ar.unpipe(rr)}return rr.emit("pipe",ar),wr.flowing||(ut("pipe resume"),ar.resume()),rr};function _t(rr){return function(){var ar=rr._readableState;ut("pipeOnDrain",ar.awaitDrain),ar.awaitDrain&&ar.awaitDrain--,ar.awaitDrain===0&&et(rr,"data")&&(ar.flowing=!0,Kt(rr))}}Ot.prototype.unpipe=function(rr){var $t=this._readableState,ar={hasUnpiped:!1};if($t.pipesCount===0)return this;if($t.pipesCount===1)return rr&&rr!==$t.pipes?this:(rr||(rr=$t.pipes),$t.pipes=null,$t.pipesCount=0,$t.flowing=!1,rr&&rr.emit("unpipe",this,ar),this);if(!rr){var wr=$t.pipes,vr=$t.pipesCount;$t.pipes=null,$t.pipesCount=0,$t.flowing=!1;for(var Qt=0;Qt<vr;Qt++)wr[Qt].emit("unpipe",this,{hasUnpiped:!1});return this}var Yt=or($t.pipes,rr);return Yt===-1?this:($t.pipes.splice(Yt,1),$t.pipesCount-=1,$t.pipesCount===1&&($t.pipes=$t.pipes[0]),rr.emit("unpipe",this,ar),this)},Ot.prototype.on=function(rr,$t){var ar=tt.prototype.on.call(this,rr,$t),wr=this._readableState;return rr==="data"?(wr.readableListening=this.listenerCount("readable")>0,wr.flowing!==!1&&this.resume()):rr==="readable"&&!wr.endEmitted&&!wr.readableListening&&(wr.readableListening=wr.needReadable=!0,wr.flowing=!1,wr.emittedReadable=!1,ut("on readable",wr.length,wr.reading),wr.length?At(this):wr.reading||api$2.nextTick(Ft,this)),ar},Ot.prototype.addListener=Ot.prototype.on,Ot.prototype.removeListener=function(rr,$t){var ar=tt.prototype.removeListener.call(this,rr,$t);return rr==="readable"&&api$2.nextTick(Lt,this),ar},Ot.prototype.removeAllListeners=function(rr){var $t=tt.prototype.removeAllListeners.apply(this,arguments);return(rr==="readable"||rr===void 0)&&api$2.nextTick(Lt,this),$t};function Lt(rr){var $t=rr._readableState;$t.readableListening=rr.listenerCount("readable")>0,$t.resumeScheduled&&!$t.paused?$t.flowing=!0:rr.listenerCount("data")>0&&rr.resume()}function Ft(rr){ut("readable nexttick read 0"),rr.read(0)}Ot.prototype.resume=function(){var rr=this._readableState;return rr.flowing||(ut("resume"),rr.flowing=!rr.readableListening,jt(this,rr)),rr.paused=!1,this};function jt(rr,$t){$t.resumeScheduled||($t.resumeScheduled=!0,api$2.nextTick(Zt,rr,$t))}function Zt(rr,$t){ut("resume",$t.reading),$t.reading||rr.read(0),$t.resumeScheduled=!1,rr.emit("resume"),Kt(rr),$t.flowing&&!$t.reading&&rr.read(0)}Ot.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Kt(rr){var $t=rr._readableState;for(ut("flow",$t.flowing);$t.flowing&&rr.read()!==null;);}Ot.prototype.wrap=function(rr){var $t=this,ar=this._readableState,wr=!1;rr.on("end",function(){if(ut("wrapped end"),ar.decoder&&!ar.ended){var Yt=ar.decoder.end();Yt&&Yt.length&&$t.push(Yt)}$t.push(null)}),rr.on("data",function(Yt){if(ut("wrapped data"),ar.decoder&&(Yt=ar.decoder.write(Yt)),!(ar.objectMode&&Yt==null)&&!(!ar.objectMode&&(!Yt||!Yt.length))){var Ht=$t.push(Yt);Ht||(wr=!0,rr.pause())}});for(var vr in rr)this[vr]===void 0&&typeof rr[vr]=="function"&&(this[vr]=function(Ht){return function(){return rr[Ht].apply(rr,arguments)}}(vr));for(var Qt=0;Qt<Nt.length;Qt++)rr.on(Nt[Qt],this.emit.bind(this,Nt[Qt]));return this._read=function(Yt){ut("wrapped _read",Yt),wr&&(wr=!1,rr.resume())},this},typeof Symbol=="function"&&(Ot.prototype[Symbol.asyncIterator]=function(){return It===void 0&&(It=requireAsync_iterator()),It(this)}),Object.defineProperty(Ot.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Ot.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Ot.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($t){this._readableState&&(this._readableState.flowing=$t)}}),Ot._fromList=zt,Object.defineProperty(Ot.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function zt(rr,$t){if($t.length===0)return null;var ar;return $t.objectMode?ar=$t.buffer.shift():!rr||rr>=$t.length?($t.decoder?ar=$t.buffer.join(""):$t.buffer.length===1?ar=$t.buffer.first():ar=$t.buffer.concat($t.length),$t.buffer.clear()):ar=$t.buffer.consume(rr,$t.decoder),ar}function Vt(rr){var $t=rr._readableState;ut("endReadable",$t.endEmitted),$t.endEmitted||($t.ended=!0,api$2.nextTick(nr,$t,rr))}function nr(rr,$t){if(ut("endReadableNT",rr.endEmitted,rr.length),!rr.endEmitted&&rr.length===0&&(rr.endEmitted=!0,$t.readable=!1,$t.emit("end"),rr.autoDestroy)){var ar=$t._writableState;(!ar||ar.autoDestroy&&ar.finished)&&$t.destroy()}}typeof Symbol=="function"&&(Ot.from=function(rr,$t){return kt===void 0&&(kt=requireFromBrowser()),kt(Ot,rr,$t)});function or(rr,$t){for(var ar=0,wr=rr.length;ar<wr;ar++)if(rr[ar]===$t)return ar;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=st;var rt=requireErrorsBrowser().codes,et=rt.ERR_METHOD_NOT_IMPLEMENTED,tt=rt.ERR_MULTIPLE_CALLBACK,nt=rt.ERR_TRANSFORM_ALREADY_TRANSFORMING,ot=rt.ERR_TRANSFORM_WITH_LENGTH_0,it=require_stream_duplex$1();requireInherits_browser()(st,it);function at(ht,mt){var gt=this._transformState;gt.transforming=!1;var yt=gt.writecb;if(yt===null)return this.emit("error",new tt);gt.writechunk=null,gt.writecb=null,mt!=null&&this.push(mt),yt(ht);var xt=this._readableState;xt.reading=!1,(xt.needReadable||xt.length<xt.highWaterMark)&&this._read(xt.highWaterMark)}function st(ht){if(!(this instanceof st))return new st(ht);it.call(this,ht),this._transformState={afterTransform:at.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ht&&(typeof ht.transform=="function"&&(this._transform=ht.transform),typeof ht.flush=="function"&&(this._flush=ht.flush)),this.on("prefinish",ut)}function ut(){var ht=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(mt,gt){ft(ht,mt,gt)}):ft(this,null,null)}st.prototype.push=function(ht,mt){return this._transformState.needTransform=!1,it.prototype.push.call(this,ht,mt)},st.prototype._transform=function(ht,mt,gt){gt(new et("_transform()"))},st.prototype._write=function(ht,mt,gt){var yt=this._transformState;if(yt.writecb=gt,yt.writechunk=ht,yt.writeencoding=mt,!yt.transforming){var xt=this._readableState;(yt.needTransform||xt.needReadable||xt.length<xt.highWaterMark)&&this._read(xt.highWaterMark)}},st.prototype._read=function(ht){var mt=this._transformState;mt.writechunk!==null&&!mt.transforming?(mt.transforming=!0,this._transform(mt.writechunk,mt.writeencoding,mt.afterTransform)):mt.needTransform=!0},st.prototype._destroy=function(ht,mt){it.prototype._destroy.call(this,ht,function(gt){mt(gt)})};function ft(ht,mt,gt){if(mt)return ht.emit("error",mt);if(gt!=null&&ht.push(gt),ht._writableState.length)throw new ot;if(ht._transformState.transforming)throw new nt;return ht.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=et;var rt=require_stream_transform$1();requireInherits_browser()(et,rt);function et(tt){if(!(this instanceof et))return new et(tt);rt.call(this,tt)}return et.prototype._transform=function(tt,nt,ot){ot(null,tt)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var rt;function et(gt){var yt=!1;return function(){yt||(yt=!0,gt.apply(void 0,arguments))}}var tt=requireErrorsBrowser().codes,nt=tt.ERR_MISSING_ARGS,ot=tt.ERR_STREAM_DESTROYED;function it(gt){if(gt)throw gt}function at(gt){return gt.setHeader&&typeof gt.abort=="function"}function st(gt,yt,xt,St){St=et(St);var Tt=!1;gt.on("close",function(){Tt=!0}),rt===void 0&&(rt=requireEndOfStream()),rt(gt,{readable:yt,writable:xt},function(Pt){if(Pt)return St(Pt);Tt=!0,St()});var Mt=!1;return function(Pt){if(!Tt&&!Mt){if(Mt=!0,at(gt))return gt.abort();if(typeof gt.destroy=="function")return gt.destroy();St(Pt||new ot("pipe"))}}}function ut(gt){gt()}function ft(gt,yt){return gt.pipe(yt)}function ht(gt){return!gt.length||typeof gt[gt.length-1]!="function"?it:gt.pop()}function mt(){for(var gt=arguments.length,yt=new Array(gt),xt=0;xt<gt;xt++)yt[xt]=arguments[xt];var St=ht(yt);if(Array.isArray(yt[0])&&(yt=yt[0]),yt.length<2)throw new nt("streams");var Tt,Mt=yt.map(function(Pt,It){var kt=It<yt.length-1,Dt=It>0;return st(Pt,kt,Dt,function(Nt){Tt||(Tt=Nt),Nt&&Mt.forEach(ut),!kt&&(Mt.forEach(ut),St(Tt))})});return yt.reduce(ft)}return pipeline_1=mt,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=tt;var rt=requireEvents().EventEmitter,et=requireInherits_browser();et(tt,rt),tt.Readable=require_stream_readable$1(),tt.Writable=require_stream_writable$1(),tt.Duplex=require_stream_duplex$1(),tt.Transform=require_stream_transform$1(),tt.PassThrough=require_stream_passthrough$1(),tt.finished=requireEndOfStream(),tt.pipeline=requirePipeline(),tt.Stream=tt;function tt(){rt.call(this)}return tt.prototype.pipe=function(nt,ot){var it=this;function at(yt){nt.writable&&nt.write(yt)===!1&&it.pause&&it.pause()}it.on("data",at);function st(){it.readable&&it.resume&&it.resume()}nt.on("drain",st),!nt._isStdio&&(!ot||ot.end!==!1)&&(it.on("end",ft),it.on("close",ht));var ut=!1;function ft(){ut||(ut=!0,nt.end())}function ht(){ut||(ut=!0,typeof nt.destroy=="function"&&nt.destroy())}function mt(yt){if(gt(),rt.listenerCount(this,"error")===0)throw yt}it.on("error",mt),nt.on("error",mt);function gt(){it.removeListener("data",at),nt.removeListener("drain",st),it.removeListener("end",ft),it.removeListener("close",ht),it.removeListener("error",mt),nt.removeListener("error",mt),it.removeListener("end",gt),it.removeListener("close",gt),nt.removeListener("close",gt)}return it.on("end",gt),it.on("close",gt),nt.on("close",gt),nt.emit("pipe",it),nt},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var rt=requireSafeBuffer$1().Buffer,et=requireStreamBrowserify().Transform,tt=requireInherits_browser();function nt(st){et.call(this),this._block=rt.allocUnsafe(st),this._blockSize=st,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}tt(nt,et),nt.prototype._transform=function(st,ut,ft){var ht=null;try{this.update(st,ut)}catch(mt){ht=mt}ft(ht)},nt.prototype._flush=function(st){var ut=null;try{this.push(this.digest())}catch(ft){ut=ft}st(ut)};var ot=typeof Uint8Array<"u",it=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(rt.prototype instanceof Uint8Array||rt.TYPED_ARRAY_SUPPORT);function at(st,ut){if(st instanceof rt)return st;if(typeof st=="string")return rt.from(st,ut);if(it&&ArrayBuffer.isView(st)){if(st.byteLength===0)return rt.alloc(0);var ft=rt.from(st.buffer,st.byteOffset,st.byteLength);if(ft.byteLength===st.byteLength)return ft}if(ot&&st instanceof Uint8Array||rt.isBuffer(st)&&st.constructor&&typeof st.constructor.isBuffer=="function"&&st.constructor.isBuffer(st))return rt.from(st);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return nt.prototype.update=function(st,ut){if(this._finalized)throw new Error("Digest already called");st=at(st,ut);for(var ft=this._block,ht=0;this._blockOffset+st.length-ht>=this._blockSize;){for(var mt=this._blockOffset;mt<this._blockSize;)ft[mt++]=st[ht++];this._update(),this._blockOffset=0}for(;ht<st.length;)ft[this._blockOffset++]=st[ht++];for(var gt=0,yt=st.length*8;yt>0;++gt)this._length[gt]+=yt,yt=this._length[gt]/4294967296|0,yt>0&&(this._length[gt]-=4294967296*yt);return this},nt.prototype._update=function(){throw new Error("_update is not implemented")},nt.prototype.digest=function(st){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var ut=this._digest();st!==void 0&&(ut=ut.toString(st)),this._block.fill(0),this._blockOffset=0;for(var ft=0;ft<4;++ft)this._length[ft]=0;return ut},nt.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=nt,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var rt=requireInherits_browser(),et=requireHashBase(),tt=requireSafeBuffer$1().Buffer,nt=new Array(16);function ot(){et.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}rt(ot,et),ot.prototype._update=function(){for(var ht=nt,mt=0;mt<16;++mt)ht[mt]=this._block.readInt32LE(mt*4);var gt=this._a,yt=this._b,xt=this._c,St=this._d;gt=at(gt,yt,xt,St,ht[0],3614090360,7),St=at(St,gt,yt,xt,ht[1],3905402710,12),xt=at(xt,St,gt,yt,ht[2],606105819,17),yt=at(yt,xt,St,gt,ht[3],3250441966,22),gt=at(gt,yt,xt,St,ht[4],4118548399,7),St=at(St,gt,yt,xt,ht[5],1200080426,12),xt=at(xt,St,gt,yt,ht[6],2821735955,17),yt=at(yt,xt,St,gt,ht[7],4249261313,22),gt=at(gt,yt,xt,St,ht[8],1770035416,7),St=at(St,gt,yt,xt,ht[9],2336552879,12),xt=at(xt,St,gt,yt,ht[10],4294925233,17),yt=at(yt,xt,St,gt,ht[11],2304563134,22),gt=at(gt,yt,xt,St,ht[12],1804603682,7),St=at(St,gt,yt,xt,ht[13],4254626195,12),xt=at(xt,St,gt,yt,ht[14],2792965006,17),yt=at(yt,xt,St,gt,ht[15],1236535329,22),gt=st(gt,yt,xt,St,ht[1],4129170786,5),St=st(St,gt,yt,xt,ht[6],3225465664,9),xt=st(xt,St,gt,yt,ht[11],643717713,14),yt=st(yt,xt,St,gt,ht[0],3921069994,20),gt=st(gt,yt,xt,St,ht[5],3593408605,5),St=st(St,gt,yt,xt,ht[10],38016083,9),xt=st(xt,St,gt,yt,ht[15],3634488961,14),yt=st(yt,xt,St,gt,ht[4],3889429448,20),gt=st(gt,yt,xt,St,ht[9],568446438,5),St=st(St,gt,yt,xt,ht[14],3275163606,9),xt=st(xt,St,gt,yt,ht[3],4107603335,14),yt=st(yt,xt,St,gt,ht[8],1163531501,20),gt=st(gt,yt,xt,St,ht[13],2850285829,5),St=st(St,gt,yt,xt,ht[2],4243563512,9),xt=st(xt,St,gt,yt,ht[7],1735328473,14),yt=st(yt,xt,St,gt,ht[12],2368359562,20),gt=ut(gt,yt,xt,St,ht[5],4294588738,4),St=ut(St,gt,yt,xt,ht[8],2272392833,11),xt=ut(xt,St,gt,yt,ht[11],1839030562,16),yt=ut(yt,xt,St,gt,ht[14],4259657740,23),gt=ut(gt,yt,xt,St,ht[1],2763975236,4),St=ut(St,gt,yt,xt,ht[4],1272893353,11),xt=ut(xt,St,gt,yt,ht[7],4139469664,16),yt=ut(yt,xt,St,gt,ht[10],3200236656,23),gt=ut(gt,yt,xt,St,ht[13],681279174,4),St=ut(St,gt,yt,xt,ht[0],3936430074,11),xt=ut(xt,St,gt,yt,ht[3],3572445317,16),yt=ut(yt,xt,St,gt,ht[6],76029189,23),gt=ut(gt,yt,xt,St,ht[9],3654602809,4),St=ut(St,gt,yt,xt,ht[12],3873151461,11),xt=ut(xt,St,gt,yt,ht[15],530742520,16),yt=ut(yt,xt,St,gt,ht[2],3299628645,23),gt=ft(gt,yt,xt,St,ht[0],4096336452,6),St=ft(St,gt,yt,xt,ht[7],1126891415,10),xt=ft(xt,St,gt,yt,ht[14],2878612391,15),yt=ft(yt,xt,St,gt,ht[5],4237533241,21),gt=ft(gt,yt,xt,St,ht[12],1700485571,6),St=ft(St,gt,yt,xt,ht[3],2399980690,10),xt=ft(xt,St,gt,yt,ht[10],4293915773,15),yt=ft(yt,xt,St,gt,ht[1],2240044497,21),gt=ft(gt,yt,xt,St,ht[8],1873313359,6),St=ft(St,gt,yt,xt,ht[15],4264355552,10),xt=ft(xt,St,gt,yt,ht[6],2734768916,15),yt=ft(yt,xt,St,gt,ht[13],1309151649,21),gt=ft(gt,yt,xt,St,ht[4],4149444226,6),St=ft(St,gt,yt,xt,ht[11],3174756917,10),xt=ft(xt,St,gt,yt,ht[2],718787259,15),yt=ft(yt,xt,St,gt,ht[9],3951481745,21),this._a=this._a+gt|0,this._b=this._b+yt|0,this._c=this._c+xt|0,this._d=this._d+St|0},ot.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var ht=tt.allocUnsafe(16);return ht.writeInt32LE(this._a,0),ht.writeInt32LE(this._b,4),ht.writeInt32LE(this._c,8),ht.writeInt32LE(this._d,12),ht};function it(ht,mt){return ht<<mt|ht>>>32-mt}function at(ht,mt,gt,yt,xt,St,Tt){return it(ht+(mt&gt|~mt&yt)+xt+St|0,Tt)+mt|0}function st(ht,mt,gt,yt,xt,St,Tt){return it(ht+(mt&yt|gt&~yt)+xt+St|0,Tt)+mt|0}function ut(ht,mt,gt,yt,xt,St,Tt){return it(ht+(mt^gt^yt)+xt+St|0,Tt)+mt|0}function ft(ht,mt,gt,yt,xt,St,Tt){return it(ht+(gt^(mt|~yt))+xt+St|0,Tt)+mt|0}return md5_js=ot,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var rt=buffer$1.Buffer,et=requireInherits_browser(),tt=requireHashBase(),nt=new Array(16),ot=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],it=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],at=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],st=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ut=[0,1518500249,1859775393,2400959708,2840853838],ft=[1352829926,1548603684,1836072691,2053994217,0];function ht(){tt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}et(ht,tt),ht.prototype._update=function(){for(var Mt=nt,Pt=0;Pt<16;++Pt)Mt[Pt]=this._block.readInt32LE(Pt*4);for(var It=this._a|0,kt=this._b|0,Dt=this._c|0,Nt=this._d|0,Gt=this._e|0,Wt=this._a|0,Ot=this._b|0,Xt=this._c|0,Et=this._d|0,lt=this._e|0,dt=0;dt<80;dt+=1){var pt,vt;dt<16?(pt=gt(It,kt,Dt,Nt,Gt,Mt[ot[dt]],ut[0],at[dt]),vt=Tt(Wt,Ot,Xt,Et,lt,Mt[it[dt]],ft[0],st[dt])):dt<32?(pt=yt(It,kt,Dt,Nt,Gt,Mt[ot[dt]],ut[1],at[dt]),vt=St(Wt,Ot,Xt,Et,lt,Mt[it[dt]],ft[1],st[dt])):dt<48?(pt=xt(It,kt,Dt,Nt,Gt,Mt[ot[dt]],ut[2],at[dt]),vt=xt(Wt,Ot,Xt,Et,lt,Mt[it[dt]],ft[2],st[dt])):dt<64?(pt=St(It,kt,Dt,Nt,Gt,Mt[ot[dt]],ut[3],at[dt]),vt=yt(Wt,Ot,Xt,Et,lt,Mt[it[dt]],ft[3],st[dt])):(pt=Tt(It,kt,Dt,Nt,Gt,Mt[ot[dt]],ut[4],at[dt]),vt=gt(Wt,Ot,Xt,Et,lt,Mt[it[dt]],ft[4],st[dt])),It=Gt,Gt=Nt,Nt=mt(Dt,10),Dt=kt,kt=pt,Wt=lt,lt=Et,Et=mt(Xt,10),Xt=Ot,Ot=vt}var wt=this._b+Dt+Et|0;this._b=this._c+Nt+lt|0,this._c=this._d+Gt+Wt|0,this._d=this._e+It+Ot|0,this._e=this._a+kt+Xt|0,this._a=wt},ht.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Mt=rt.alloc?rt.alloc(20):new rt(20);return Mt.writeInt32LE(this._a,0),Mt.writeInt32LE(this._b,4),Mt.writeInt32LE(this._c,8),Mt.writeInt32LE(this._d,12),Mt.writeInt32LE(this._e,16),Mt};function mt(Mt,Pt){return Mt<<Pt|Mt>>>32-Pt}function gt(Mt,Pt,It,kt,Dt,Nt,Gt,Wt){return mt(Mt+(Pt^It^kt)+Nt+Gt|0,Wt)+Dt|0}function yt(Mt,Pt,It,kt,Dt,Nt,Gt,Wt){return mt(Mt+(Pt&It|~Pt&kt)+Nt+Gt|0,Wt)+Dt|0}function xt(Mt,Pt,It,kt,Dt,Nt,Gt,Wt){return mt(Mt+((Pt|~It)^kt)+Nt+Gt|0,Wt)+Dt|0}function St(Mt,Pt,It,kt,Dt,Nt,Gt,Wt){return mt(Mt+(Pt&kt|It&~kt)+Nt+Gt|0,Wt)+Dt|0}function Tt(Mt,Pt,It,kt,Dt,Nt,Gt,Wt){return mt(Mt+(Pt^(It|~kt))+Nt+Gt|0,Wt)+Dt|0}return ripemd160=ht,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var rt=requireSafeBuffer$1().Buffer;function et(tt,nt){this._block=rt.alloc(tt),this._finalSize=nt,this._blockSize=tt,this._len=0}return et.prototype.update=function(tt,nt){typeof tt=="string"&&(nt=nt||"utf8",tt=rt.from(tt,nt));for(var ot=this._block,it=this._blockSize,at=tt.length,st=this._len,ut=0;ut<at;){for(var ft=st%it,ht=Math.min(at-ut,it-ft),mt=0;mt<ht;mt++)ot[ft+mt]=tt[ut+mt];st+=ht,ut+=ht,st%it===0&&this._update(ot)}return this._len+=at,this},et.prototype.digest=function(tt){var nt=this._len%this._blockSize;this._block[nt]=128,this._block.fill(0,nt+1),nt>=this._finalSize&&(this._update(this._block),this._block.fill(0));var ot=this._len*8;if(ot<=4294967295)this._block.writeUInt32BE(ot,this._blockSize-4);else{var it=(ot&4294967295)>>>0,at=(ot-it)/4294967296;this._block.writeUInt32BE(at,this._blockSize-8),this._block.writeUInt32BE(it,this._blockSize-4)}this._update(this._block);var st=this._hash();return tt?st.toString(tt):st},et.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=et,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var rt=requireInherits_browser(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],ot=new Array(80);function it(){this.init(),this._w=ot,et.call(this,64,56)}rt(it,et),it.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function at(ft){return ft<<5|ft>>>27}function st(ft){return ft<<30|ft>>>2}function ut(ft,ht,mt,gt){return ft===0?ht&mt|~ht&gt:ft===2?ht&mt|ht&gt|mt&gt:ht^mt^gt}return it.prototype._update=function(ft){for(var ht=this._w,mt=this._a|0,gt=this._b|0,yt=this._c|0,xt=this._d|0,St=this._e|0,Tt=0;Tt<16;++Tt)ht[Tt]=ft.readInt32BE(Tt*4);for(;Tt<80;++Tt)ht[Tt]=ht[Tt-3]^ht[Tt-8]^ht[Tt-14]^ht[Tt-16];for(var Mt=0;Mt<80;++Mt){var Pt=~~(Mt/20),It=at(mt)+ut(Pt,gt,yt,xt)+St+ht[Mt]+nt[Pt]|0;St=xt,xt=yt,yt=st(gt),gt=mt,mt=It}this._a=mt+this._a|0,this._b=gt+this._b|0,this._c=yt+this._c|0,this._d=xt+this._d|0,this._e=St+this._e|0},it.prototype._hash=function(){var ft=tt.allocUnsafe(20);return ft.writeInt32BE(this._a|0,0),ft.writeInt32BE(this._b|0,4),ft.writeInt32BE(this._c|0,8),ft.writeInt32BE(this._d|0,12),ft.writeInt32BE(this._e|0,16),ft},sha$1=it,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var rt=requireInherits_browser(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,nt=[1518500249,1859775393,-1894007588,-899497514],ot=new Array(80);function it(){this.init(),this._w=ot,et.call(this,64,56)}rt(it,et),it.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function at(ht){return ht<<1|ht>>>31}function st(ht){return ht<<5|ht>>>27}function ut(ht){return ht<<30|ht>>>2}function ft(ht,mt,gt,yt){return ht===0?mt&gt|~mt&yt:ht===2?mt&gt|mt&yt|gt&yt:mt^gt^yt}return it.prototype._update=function(ht){for(var mt=this._w,gt=this._a|0,yt=this._b|0,xt=this._c|0,St=this._d|0,Tt=this._e|0,Mt=0;Mt<16;++Mt)mt[Mt]=ht.readInt32BE(Mt*4);for(;Mt<80;++Mt)mt[Mt]=at(mt[Mt-3]^mt[Mt-8]^mt[Mt-14]^mt[Mt-16]);for(var Pt=0;Pt<80;++Pt){var It=~~(Pt/20),kt=st(gt)+ft(It,yt,xt,St)+Tt+mt[Pt]+nt[It]|0;Tt=St,St=xt,xt=ut(yt),yt=gt,gt=kt}this._a=gt+this._a|0,this._b=yt+this._b|0,this._c=xt+this._c|0,this._d=St+this._d|0,this._e=Tt+this._e|0},it.prototype._hash=function(){var ht=tt.allocUnsafe(20);return ht.writeInt32BE(this._a|0,0),ht.writeInt32BE(this._b|0,4),ht.writeInt32BE(this._c|0,8),ht.writeInt32BE(this._d|0,12),ht.writeInt32BE(this._e|0,16),ht},sha1=it,sha1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var rt=requireInherits_browser(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,nt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ot=new Array(64);function it(){this.init(),this._w=ot,et.call(this,64,56)}rt(it,et),it.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function at(gt,yt,xt){return xt^gt&(yt^xt)}function st(gt,yt,xt){return gt&yt|xt&(gt|yt)}function ut(gt){return(gt>>>2|gt<<30)^(gt>>>13|gt<<19)^(gt>>>22|gt<<10)}function ft(gt){return(gt>>>6|gt<<26)^(gt>>>11|gt<<21)^(gt>>>25|gt<<7)}function ht(gt){return(gt>>>7|gt<<25)^(gt>>>18|gt<<14)^gt>>>3}function mt(gt){return(gt>>>17|gt<<15)^(gt>>>19|gt<<13)^gt>>>10}return it.prototype._update=function(gt){for(var yt=this._w,xt=this._a|0,St=this._b|0,Tt=this._c|0,Mt=this._d|0,Pt=this._e|0,It=this._f|0,kt=this._g|0,Dt=this._h|0,Nt=0;Nt<16;++Nt)yt[Nt]=gt.readInt32BE(Nt*4);for(;Nt<64;++Nt)yt[Nt]=mt(yt[Nt-2])+yt[Nt-7]+ht(yt[Nt-15])+yt[Nt-16]|0;for(var Gt=0;Gt<64;++Gt){var Wt=Dt+ft(Pt)+at(Pt,It,kt)+nt[Gt]+yt[Gt]|0,Ot=ut(xt)+st(xt,St,Tt)|0;Dt=kt,kt=It,It=Pt,Pt=Mt+Wt|0,Mt=Tt,Tt=St,St=xt,xt=Wt+Ot|0}this._a=xt+this._a|0,this._b=St+this._b|0,this._c=Tt+this._c|0,this._d=Mt+this._d|0,this._e=Pt+this._e|0,this._f=It+this._f|0,this._g=kt+this._g|0,this._h=Dt+this._h|0},it.prototype._hash=function(){var gt=tt.allocUnsafe(32);return gt.writeInt32BE(this._a,0),gt.writeInt32BE(this._b,4),gt.writeInt32BE(this._c,8),gt.writeInt32BE(this._d,12),gt.writeInt32BE(this._e,16),gt.writeInt32BE(this._f,20),gt.writeInt32BE(this._g,24),gt.writeInt32BE(this._h,28),gt},sha256$1=it,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var rt=requireInherits_browser(),et=requireSha256(),tt=requireHash$1(),nt=requireSafeBuffer$1().Buffer,ot=new Array(64);function it(){this.init(),this._w=ot,tt.call(this,64,56)}return rt(it,et),it.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},it.prototype._hash=function(){var at=nt.allocUnsafe(28);return at.writeInt32BE(this._a,0),at.writeInt32BE(this._b,4),at.writeInt32BE(this._c,8),at.writeInt32BE(this._d,12),at.writeInt32BE(this._e,16),at.writeInt32BE(this._f,20),at.writeInt32BE(this._g,24),at},sha224$1=it,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var rt=requireInherits_browser(),et=requireHash$1(),tt=requireSafeBuffer$1().Buffer,nt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ot=new Array(160);function it(){this.init(),this._w=ot,et.call(this,128,112)}rt(it,et),it.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function at(St,Tt,Mt){return Mt^St&(Tt^Mt)}function st(St,Tt,Mt){return St&Tt|Mt&(St|Tt)}function ut(St,Tt){return(St>>>28|Tt<<4)^(Tt>>>2|St<<30)^(Tt>>>7|St<<25)}function ft(St,Tt){return(St>>>14|Tt<<18)^(St>>>18|Tt<<14)^(Tt>>>9|St<<23)}function ht(St,Tt){return(St>>>1|Tt<<31)^(St>>>8|Tt<<24)^St>>>7}function mt(St,Tt){return(St>>>1|Tt<<31)^(St>>>8|Tt<<24)^(St>>>7|Tt<<25)}function gt(St,Tt){return(St>>>19|Tt<<13)^(Tt>>>29|St<<3)^St>>>6}function yt(St,Tt){return(St>>>19|Tt<<13)^(Tt>>>29|St<<3)^(St>>>6|Tt<<26)}function xt(St,Tt){return St>>>0<Tt>>>0?1:0}return it.prototype._update=function(St){for(var Tt=this._w,Mt=this._ah|0,Pt=this._bh|0,It=this._ch|0,kt=this._dh|0,Dt=this._eh|0,Nt=this._fh|0,Gt=this._gh|0,Wt=this._hh|0,Ot=this._al|0,Xt=this._bl|0,Et=this._cl|0,lt=this._dl|0,dt=this._el|0,pt=this._fl|0,vt=this._gl|0,wt=this._hl|0,At=0;At<32;At+=2)Tt[At]=St.readInt32BE(At*4),Tt[At+1]=St.readInt32BE(At*4+4);for(;At<160;At+=2){var Rt=Tt[At-30],bt=Tt[At-15*2+1],ct=ht(Rt,bt),_t=mt(bt,Rt);Rt=Tt[At-2*2],bt=Tt[At-2*2+1];var Lt=gt(Rt,bt),Ft=yt(bt,Rt),jt=Tt[At-7*2],Zt=Tt[At-7*2+1],Kt=Tt[At-16*2],zt=Tt[At-16*2+1],Vt=_t+Zt|0,nr=ct+jt+xt(Vt,_t)|0;Vt=Vt+Ft|0,nr=nr+Lt+xt(Vt,Ft)|0,Vt=Vt+zt|0,nr=nr+Kt+xt(Vt,zt)|0,Tt[At]=nr,Tt[At+1]=Vt}for(var or=0;or<160;or+=2){nr=Tt[or],Vt=Tt[or+1];var rr=st(Mt,Pt,It),$t=st(Ot,Xt,Et),ar=ut(Mt,Ot),wr=ut(Ot,Mt),vr=ft(Dt,dt),Qt=ft(dt,Dt),Yt=nt[or],Ht=nt[or+1],tr=at(Dt,Nt,Gt),br=at(dt,pt,vt),gr=wt+Qt|0,Sr=Wt+vr+xt(gr,wt)|0;gr=gr+br|0,Sr=Sr+tr+xt(gr,br)|0,gr=gr+Ht|0,Sr=Sr+Yt+xt(gr,Ht)|0,gr=gr+Vt|0,Sr=Sr+nr+xt(gr,Vt)|0;var pr=wr+$t|0,er=ar+rr+xt(pr,wr)|0;Wt=Gt,wt=vt,Gt=Nt,vt=pt,Nt=Dt,pt=dt,dt=lt+gr|0,Dt=kt+Sr+xt(dt,lt)|0,kt=It,lt=Et,It=Pt,Et=Xt,Pt=Mt,Xt=Ot,Ot=gr+pr|0,Mt=Sr+er+xt(Ot,gr)|0}this._al=this._al+Ot|0,this._bl=this._bl+Xt|0,this._cl=this._cl+Et|0,this._dl=this._dl+lt|0,this._el=this._el+dt|0,this._fl=this._fl+pt|0,this._gl=this._gl+vt|0,this._hl=this._hl+wt|0,this._ah=this._ah+Mt+xt(this._al,Ot)|0,this._bh=this._bh+Pt+xt(this._bl,Xt)|0,this._ch=this._ch+It+xt(this._cl,Et)|0,this._dh=this._dh+kt+xt(this._dl,lt)|0,this._eh=this._eh+Dt+xt(this._el,dt)|0,this._fh=this._fh+Nt+xt(this._fl,pt)|0,this._gh=this._gh+Gt+xt(this._gl,vt)|0,this._hh=this._hh+Wt+xt(this._hl,wt)|0},it.prototype._hash=function(){var St=tt.allocUnsafe(64);function Tt(Mt,Pt,It){St.writeInt32BE(Mt,It),St.writeInt32BE(Pt,It+4)}return Tt(this._ah,this._al,0),Tt(this._bh,this._bl,8),Tt(this._ch,this._cl,16),Tt(this._dh,this._dl,24),Tt(this._eh,this._el,32),Tt(this._fh,this._fl,40),Tt(this._gh,this._gl,48),Tt(this._hh,this._hl,56),St},sha512$1=it,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var rt=requireInherits_browser(),et=requireSha512(),tt=requireHash$1(),nt=requireSafeBuffer$1().Buffer,ot=new Array(160);function it(){this.init(),this._w=ot,tt.call(this,128,112)}return rt(it,et),it.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},it.prototype._hash=function(){var at=nt.allocUnsafe(48);function st(ut,ft,ht){at.writeInt32BE(ut,ht),at.writeInt32BE(ft,ht+4)}return st(this._ah,this._al,0),st(this._bh,this._bl,8),st(this._ch,this._cl,16),st(this._dh,this._dl,24),st(this._eh,this._el,32),st(this._fh,this._fl,40),at},sha384$1=it,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var rt=sha_js.exports=function(tt){tt=tt.toLowerCase();var nt=rt[tt];if(!nt)throw new Error(tt+" is not supported (we accept pull requests)");return new nt};return rt.sha=requireSha$1(),rt.sha1=requireSha1(),rt.sha224=requireSha224(),rt.sha256=requireSha256(),rt.sha384=requireSha384(),rt.sha512=requireSha512(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var rt=requireSafeBuffer$1().Buffer,et=requireStreamBrowserify().Transform,tt=requireString_decoder().StringDecoder,nt=requireInherits_browser();function ot(ut){et.call(this),this.hashMode=typeof ut=="string",this.hashMode?this[ut]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}nt(ot,et);var it=typeof Uint8Array<"u",at=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(rt.prototype instanceof Uint8Array||rt.TYPED_ARRAY_SUPPORT);function st(ut,ft){if(ut instanceof rt)return ut;if(typeof ut=="string")return rt.from(ut,ft);if(at&&ArrayBuffer.isView(ut)){if(ut.byteLength===0)return rt.alloc(0);var ht=rt.from(ut.buffer,ut.byteOffset,ut.byteLength);if(ht.byteLength===ut.byteLength)return ht}if(it&&ut instanceof Uint8Array||rt.isBuffer(ut)&&ut.constructor&&typeof ut.constructor.isBuffer=="function"&&ut.constructor.isBuffer(ut))return rt.from(ut);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return ot.prototype.update=function(ut,ft,ht){var mt=st(ut,ft),gt=this._update(mt);return this.hashMode?this:(ht&&(gt=this._toString(gt,ht)),gt)},ot.prototype.setAutoPadding=function(){},ot.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},ot.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},ot.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},ot.prototype._transform=function(ut,ft,ht){var mt;try{this.hashMode?this._update(ut):this.push(this._update(ut))}catch(gt){mt=gt}finally{ht(mt)}},ot.prototype._flush=function(ut){var ft;try{this.push(this.__final())}catch(ht){ft=ht}ut(ft)},ot.prototype._finalOrDigest=function(ut){var ft=this.__final()||rt.alloc(0);return ut&&(ft=this._toString(ft,ut,!0)),ft},ot.prototype._toString=function(ut,ft,ht){if(this._decoder||(this._decoder=new tt(ft),this._encoding=ft),this._encoding!==ft)throw new Error("cant switch encodings");var mt=this._decoder.write(ut);return ht&&(mt+=this._decoder.end()),mt},cipherBase=ot,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var rt=requireInherits_browser(),et=requireMd5_js(),tt=requireRipemd160(),nt=requireSha_js(),ot=requireCipherBase();function it(at){ot.call(this,"digest"),this._hash=at}return rt(it,ot),it.prototype._update=function(at){this._hash.update(at)},it.prototype._final=function(){return this._hash.digest()},browser$9=function(st){return st=st.toLowerCase(),st==="md5"?new et:st==="rmd160"||st==="ripemd160"?new tt:new it(nt(st))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var rt=requireInherits_browser(),et=requireSafeBuffer$1().Buffer,tt=requireCipherBase(),nt=et.alloc(128),ot=64;function it(at,st){tt.call(this,"digest"),typeof st=="string"&&(st=et.from(st)),this._alg=at,this._key=st,st.length>ot?st=at(st):st.length<ot&&(st=et.concat([st,nt],ot));for(var ut=this._ipad=et.allocUnsafe(ot),ft=this._opad=et.allocUnsafe(ot),ht=0;ht<ot;ht++)ut[ht]=st[ht]^54,ft[ht]=st[ht]^92;this._hash=[ut]}return rt(it,tt),it.prototype._update=function(at){this._hash.push(at)},it.prototype._final=function(){var at=this._alg(et.concat(this._hash));return this._alg(et.concat([this._opad,at]))},legacy=it,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var rt=requireMd5_js();return md5=function(et){return new rt().update(et).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var rt=requireInherits_browser(),et=requireLegacy(),tt=requireCipherBase(),nt=requireSafeBuffer$1().Buffer,ot=requireMd5(),it=requireRipemd160(),at=requireSha_js(),st=nt.alloc(128);function ut(ft,ht){tt.call(this,"digest"),typeof ht=="string"&&(ht=nt.from(ht));var mt=ft==="sha512"||ft==="sha384"?128:64;if(this._alg=ft,this._key=ht,ht.length>mt){var gt=ft==="rmd160"?new it:at(ft);ht=gt.update(ht).digest()}else ht.length<mt&&(ht=nt.concat([ht,st],mt));for(var yt=this._ipad=nt.allocUnsafe(mt),xt=this._opad=nt.allocUnsafe(mt),St=0;St<mt;St++)yt[St]=ht[St]^54,xt[St]=ht[St]^92;this._hash=ft==="rmd160"?new it:at(ft),this._hash.update(yt)}return rt(ut,tt),ut.prototype._update=function(ft){this._hash.update(ft)},ut.prototype._final=function(){var ft=this._hash.digest(),ht=this._alg==="rmd160"?new it:at(this._alg);return ht.update(this._opad).update(ft).digest()},browser$8=function(ht,mt){return ht=ht.toLowerCase(),ht==="rmd160"||ht==="ripemd160"?new ut("rmd160",mt):ht==="md5"?new et(ot,mt):new ut(ht,mt)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var rt=Math.pow(2,30)-1;return precondition=function(et,tt){if(typeof et!="number")throw new TypeError("Iterations not a number");if(et<0)throw new TypeError("Bad iterations");if(typeof tt!="number")throw new TypeError("Key length not a number");if(tt<0||tt>rt||tt!==tt)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var rt;if(commonjsGlobal.process&&commonjsGlobal.process.browser)rt="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var et=parseInt(api$2.version.split(".")[0].slice(1),10);rt=et>=6?"utf-8":"binary"}else rt="utf-8";return defaultEncoding_1=rt,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var rt=requireSafeBuffer$1().Buffer;return toBuffer=function(et,tt,nt){if(rt.isBuffer(et))return et;if(typeof et=="string")return rt.from(et,tt);if(ArrayBuffer.isView(et))return rt.from(et.buffer);throw new TypeError(nt+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var rt=requireMd5(),et=requireRipemd160(),tt=requireSha_js(),nt=requireSafeBuffer$1().Buffer,ot=requirePrecondition(),it=requireDefaultEncoding(),at=requireToBuffer(),st=nt.alloc(128),ut={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function ft(gt,yt,xt){var St=ht(gt),Tt=gt==="sha512"||gt==="sha384"?128:64;yt.length>Tt?yt=St(yt):yt.length<Tt&&(yt=nt.concat([yt,st],Tt));for(var Mt=nt.allocUnsafe(Tt+ut[gt]),Pt=nt.allocUnsafe(Tt+ut[gt]),It=0;It<Tt;It++)Mt[It]=yt[It]^54,Pt[It]=yt[It]^92;var kt=nt.allocUnsafe(Tt+xt+4);Mt.copy(kt,0,0,Tt),this.ipad1=kt,this.ipad2=Mt,this.opad=Pt,this.alg=gt,this.blocksize=Tt,this.hash=St,this.size=ut[gt]}ft.prototype.run=function(gt,yt){gt.copy(yt,this.blocksize);var xt=this.hash(yt);return xt.copy(this.opad,this.blocksize),this.hash(this.opad)};function ht(gt){function yt(St){return tt(gt).update(St).digest()}function xt(St){return new et().update(St).digest()}return gt==="rmd160"||gt==="ripemd160"?xt:gt==="md5"?rt:yt}function mt(gt,yt,xt,St,Tt){ot(xt,St),gt=at(gt,it,"Password"),yt=at(yt,it,"Salt"),Tt=Tt||"sha1";var Mt=new ft(Tt,gt,yt.length),Pt=nt.allocUnsafe(St),It=nt.allocUnsafe(yt.length+4);yt.copy(It,0,0,yt.length);for(var kt=0,Dt=ut[Tt],Nt=Math.ceil(St/Dt),Gt=1;Gt<=Nt;Gt++){It.writeUInt32BE(Gt,yt.length);for(var Wt=Mt.run(It,Mt.ipad1),Ot=Wt,Xt=1;Xt<xt;Xt++){Ot=Mt.run(Ot,Mt.ipad2);for(var Et=0;Et<Dt;Et++)Wt[Et]^=Ot[Et]}Wt.copy(Pt,kt),kt+=Dt}return Pt}return syncBrowser=mt,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var rt=requireSafeBuffer$1().Buffer,et=requirePrecondition(),tt=requireDefaultEncoding(),nt=requireSyncBrowser(),ot=requireToBuffer(),it,at=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,st={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},ut=[];function ft(xt){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!at||!at.importKey||!at.deriveBits)return Promise.resolve(!1);if(ut[xt]!==void 0)return ut[xt];it=it||rt.alloc(8);var St=gt(it,it,10,128,xt).then(function(){return!0}).catch(function(){return!1});return ut[xt]=St,St}var ht;function mt(){return ht||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?ht=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?ht=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?ht=commonjsGlobal.setImmediate:ht=commonjsGlobal.setTimeout,ht)}function gt(xt,St,Tt,Mt,Pt){return at.importKey("raw",xt,{name:"PBKDF2"},!1,["deriveBits"]).then(function(It){return at.deriveBits({name:"PBKDF2",salt:St,iterations:Tt,hash:{name:Pt}},It,Mt<<3)}).then(function(It){return rt.from(It)})}function yt(xt,St){xt.then(function(Tt){mt()(function(){St(null,Tt)})},function(Tt){mt()(function(){St(Tt)})})}return async=function(xt,St,Tt,Mt,Pt,It){typeof Pt=="function"&&(It=Pt,Pt=void 0),Pt=Pt||"sha1";var kt=st[Pt.toLowerCase()];if(!kt||typeof commonjsGlobal.Promise!="function"){mt()(function(){var Dt;try{Dt=nt(xt,St,Tt,Mt,Pt)}catch(Nt){return It(Nt)}It(null,Dt)});return}if(et(Tt,Mt),xt=ot(xt,tt,"Password"),St=ot(St,tt,"Salt"),typeof It!="function")throw new Error("No callback provided to pbkdf2");yt(ft(kt).then(function(Dt){return Dt?gt(xt,St,Tt,Mt,kt):nt(xt,St,Tt,Mt,Pt)}),It)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$5={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$5;hasRequiredUtils$3=1,utils$5.readUInt32BE=function(ot,it){var at=ot[0+it]<<24|ot[1+it]<<16|ot[2+it]<<8|ot[3+it];return at>>>0},utils$5.writeUInt32BE=function(ot,it,at){ot[0+at]=it>>>24,ot[1+at]=it>>>16&255,ot[2+at]=it>>>8&255,ot[3+at]=it&255},utils$5.ip=function(ot,it,at,st){for(var ut=0,ft=0,ht=6;ht>=0;ht-=2){for(var mt=0;mt<=24;mt+=8)ut<<=1,ut|=it>>>mt+ht&1;for(var mt=0;mt<=24;mt+=8)ut<<=1,ut|=ot>>>mt+ht&1}for(var ht=6;ht>=0;ht-=2){for(var mt=1;mt<=25;mt+=8)ft<<=1,ft|=it>>>mt+ht&1;for(var mt=1;mt<=25;mt+=8)ft<<=1,ft|=ot>>>mt+ht&1}at[st+0]=ut>>>0,at[st+1]=ft>>>0},utils$5.rip=function(ot,it,at,st){for(var ut=0,ft=0,ht=0;ht<4;ht++)for(var mt=24;mt>=0;mt-=8)ut<<=1,ut|=it>>>mt+ht&1,ut<<=1,ut|=ot>>>mt+ht&1;for(var ht=4;ht<8;ht++)for(var mt=24;mt>=0;mt-=8)ft<<=1,ft|=it>>>mt+ht&1,ft<<=1,ft|=ot>>>mt+ht&1;at[st+0]=ut>>>0,at[st+1]=ft>>>0},utils$5.pc1=function(ot,it,at,st){for(var ut=0,ft=0,ht=7;ht>=5;ht--){for(var mt=0;mt<=24;mt+=8)ut<<=1,ut|=it>>mt+ht&1;for(var mt=0;mt<=24;mt+=8)ut<<=1,ut|=ot>>mt+ht&1}for(var mt=0;mt<=24;mt+=8)ut<<=1,ut|=it>>mt+ht&1;for(var ht=1;ht<=3;ht++){for(var mt=0;mt<=24;mt+=8)ft<<=1,ft|=it>>mt+ht&1;for(var mt=0;mt<=24;mt+=8)ft<<=1,ft|=ot>>mt+ht&1}for(var mt=0;mt<=24;mt+=8)ft<<=1,ft|=ot>>mt+ht&1;at[st+0]=ut>>>0,at[st+1]=ft>>>0},utils$5.r28shl=function(ot,it){return ot<<it&268435455|ot>>>28-it};var rt=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$5.pc2=function(ot,it,at,st){for(var ut=0,ft=0,ht=rt.length>>>1,mt=0;mt<ht;mt++)ut<<=1,ut|=ot>>>rt[mt]&1;for(var mt=ht;mt<rt.length;mt++)ft<<=1,ft|=it>>>rt[mt]&1;at[st+0]=ut>>>0,at[st+1]=ft>>>0},utils$5.expand=function(ot,it,at){var st=0,ut=0;st=(ot&1)<<5|ot>>>27;for(var ft=23;ft>=15;ft-=4)st<<=6,st|=ot>>>ft&63;for(var ft=11;ft>=3;ft-=4)ut|=ot>>>ft&63,ut<<=6;ut|=(ot&31)<<1|ot>>>31,it[at+0]=st>>>0,it[at+1]=ut>>>0};var et=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$5.substitute=function(ot,it){for(var at=0,st=0;st<4;st++){var ut=ot>>>18-st*6&63,ft=et[st*64+ut];at<<=4,at|=ft}for(var st=0;st<4;st++){var ut=it>>>18-st*6&63,ft=et[4*64+st*64+ut];at<<=4,at|=ft}return at>>>0};var tt=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$5.permute=function(ot){for(var it=0,at=0;at<tt.length;at++)it<<=1,it|=ot>>>tt[at]&1;return it>>>0},utils$5.padSplit=function(ot,it,at){for(var st=ot.toString(2);st.length<it;)st="0"+st;for(var ut=[],ft=0;ft<it;ft+=at)ut.push(st.slice(ft,ft+at));return ut.join(" ")},utils$5}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=rt;function rt(et,tt){if(!et)throw new Error(tt||"Assertion failed")}return rt.equal=function(tt,nt,ot){if(tt!=nt)throw new Error(ot||"Assertion failed: "+tt+" != "+nt)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var rt=requireMinimalisticAssert();function et(tt){this.options=tt,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=tt.padding!==!1}return cipher=et,et.prototype._init=function(){},et.prototype.update=function(nt){return nt.length===0?[]:this.type==="decrypt"?this._updateDecrypt(nt):this._updateEncrypt(nt)},et.prototype._buffer=function(nt,ot){for(var it=Math.min(this.buffer.length-this.bufferOff,nt.length-ot),at=0;at<it;at++)this.buffer[this.bufferOff+at]=nt[ot+at];return this.bufferOff+=it,it},et.prototype._flushBuffer=function(nt,ot){return this._update(this.buffer,0,nt,ot),this.bufferOff=0,this.blockSize},et.prototype._updateEncrypt=function(nt){var ot=0,it=0,at=(this.bufferOff+nt.length)/this.blockSize|0,st=new Array(at*this.blockSize);this.bufferOff!==0&&(ot+=this._buffer(nt,ot),this.bufferOff===this.buffer.length&&(it+=this._flushBuffer(st,it)));for(var ut=nt.length-(nt.length-ot)%this.blockSize;ot<ut;ot+=this.blockSize)this._update(nt,ot,st,it),it+=this.blockSize;for(;ot<nt.length;ot++,this.bufferOff++)this.buffer[this.bufferOff]=nt[ot];return st},et.prototype._updateDecrypt=function(nt){for(var ot=0,it=0,at=Math.ceil((this.bufferOff+nt.length)/this.blockSize)-1,st=new Array(at*this.blockSize);at>0;at--)ot+=this._buffer(nt,ot),it+=this._flushBuffer(st,it);return ot+=this._buffer(nt,ot),st},et.prototype.final=function(nt){var ot;nt&&(ot=this.update(nt));var it;return this.type==="encrypt"?it=this._finalEncrypt():it=this._finalDecrypt(),ot?ot.concat(it):it},et.prototype._pad=function(nt,ot){if(ot===0)return!1;for(;ot<nt.length;)nt[ot++]=0;return!0},et.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var nt=new Array(this.blockSize);return this._update(this.buffer,0,nt,0),nt},et.prototype._unpad=function(nt){return nt},et.prototype._finalDecrypt=function(){rt.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var nt=new Array(this.blockSize);return this._flushBuffer(nt,0),this._unpad(nt)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var rt=requireMinimalisticAssert(),et=requireInherits_browser(),tt=requireUtils$3(),nt=requireCipher();function ot(){this.tmp=new Array(2),this.keys=null}function it(st){nt.call(this,st);var ut=new ot;this._desState=ut,this.deriveKeys(ut,st.key)}et(it,nt),des=it,it.create=function(ut){return new it(ut)};var at=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return it.prototype.deriveKeys=function(ut,ft){ut.keys=new Array(16*2),rt.equal(ft.length,this.blockSize,"Invalid key length");var ht=tt.readUInt32BE(ft,0),mt=tt.readUInt32BE(ft,4);tt.pc1(ht,mt,ut.tmp,0),ht=ut.tmp[0],mt=ut.tmp[1];for(var gt=0;gt<ut.keys.length;gt+=2){var yt=at[gt>>>1];ht=tt.r28shl(ht,yt),mt=tt.r28shl(mt,yt),tt.pc2(ht,mt,ut.keys,gt)}},it.prototype._update=function(ut,ft,ht,mt){var gt=this._desState,yt=tt.readUInt32BE(ut,ft),xt=tt.readUInt32BE(ut,ft+4);tt.ip(yt,xt,gt.tmp,0),yt=gt.tmp[0],xt=gt.tmp[1],this.type==="encrypt"?this._encrypt(gt,yt,xt,gt.tmp,0):this._decrypt(gt,yt,xt,gt.tmp,0),yt=gt.tmp[0],xt=gt.tmp[1],tt.writeUInt32BE(ht,yt,mt),tt.writeUInt32BE(ht,xt,mt+4)},it.prototype._pad=function(ut,ft){if(this.padding===!1)return!1;for(var ht=ut.length-ft,mt=ft;mt<ut.length;mt++)ut[mt]=ht;return!0},it.prototype._unpad=function(ut){if(this.padding===!1)return ut;for(var ft=ut[ut.length-1],ht=ut.length-ft;ht<ut.length;ht++)rt.equal(ut[ht],ft);return ut.slice(0,ut.length-ft)},it.prototype._encrypt=function(ut,ft,ht,mt,gt){for(var yt=ft,xt=ht,St=0;St<ut.keys.length;St+=2){var Tt=ut.keys[St],Mt=ut.keys[St+1];tt.expand(xt,ut.tmp,0),Tt^=ut.tmp[0],Mt^=ut.tmp[1];var Pt=tt.substitute(Tt,Mt),It=tt.permute(Pt),kt=xt;xt=(yt^It)>>>0,yt=kt}tt.rip(xt,yt,mt,gt)},it.prototype._decrypt=function(ut,ft,ht,mt,gt){for(var yt=ht,xt=ft,St=ut.keys.length-2;St>=0;St-=2){var Tt=ut.keys[St],Mt=ut.keys[St+1];tt.expand(yt,ut.tmp,0),Tt^=ut.tmp[0],Mt^=ut.tmp[1];var Pt=tt.substitute(Tt,Mt),It=tt.permute(Pt),kt=yt;yt=(xt^It)>>>0,xt=kt}tt.rip(yt,xt,mt,gt)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var rt=requireMinimalisticAssert(),et=requireInherits_browser(),tt={};function nt(it){rt.equal(it.length,8,"Invalid IV length"),this.iv=new Array(8);for(var at=0;at<this.iv.length;at++)this.iv[at]=it[at]}function ot(it){function at(ht){it.call(this,ht),this._cbcInit()}et(at,it);for(var st=Object.keys(tt),ut=0;ut<st.length;ut++){var ft=st[ut];at.prototype[ft]=tt[ft]}return at.create=function(mt){return new at(mt)},at}return cbc$1.instantiate=ot,tt._cbcInit=function(){var at=new nt(this.options.iv);this._cbcState=at},tt._update=function(at,st,ut,ft){var ht=this._cbcState,mt=this.constructor.super_.prototype,gt=ht.iv;if(this.type==="encrypt"){for(var yt=0;yt<this.blockSize;yt++)gt[yt]^=at[st+yt];mt._update.call(this,gt,0,ut,ft);for(var yt=0;yt<this.blockSize;yt++)gt[yt]=ut[ft+yt]}else{mt._update.call(this,at,st,ut,ft);for(var yt=0;yt<this.blockSize;yt++)ut[ft+yt]^=gt[yt];for(var yt=0;yt<this.blockSize;yt++)gt[yt]=at[st+yt]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var rt=requireMinimalisticAssert(),et=requireInherits_browser(),tt=requireCipher(),nt=requireDes$1();function ot(at,st){rt.equal(st.length,24,"Invalid key length");var ut=st.slice(0,8),ft=st.slice(8,16),ht=st.slice(16,24);at==="encrypt"?this.ciphers=[nt.create({type:"encrypt",key:ut}),nt.create({type:"decrypt",key:ft}),nt.create({type:"encrypt",key:ht})]:this.ciphers=[nt.create({type:"decrypt",key:ht}),nt.create({type:"encrypt",key:ft}),nt.create({type:"decrypt",key:ut})]}function it(at){tt.call(this,at);var st=new ot(this.type,this.options.key);this._edeState=st}return et(it,tt),ede=it,it.create=function(st){return new it(st)},it.prototype._update=function(st,ut,ft,ht){var mt=this._edeState;mt.ciphers[0]._update(st,ut,ft,ht),mt.ciphers[1]._update(ft,ht,ft,ht),mt.ciphers[2]._update(ft,ht,ft,ht)},it.prototype._pad=nt.prototype._pad,it.prototype._unpad=nt.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var rt=requireCipherBase(),et=requireDes(),tt=requireInherits_browser(),nt=requireSafeBuffer$1().Buffer,ot={"des-ede3-cbc":et.CBC.instantiate(et.EDE),"des-ede3":et.EDE,"des-ede-cbc":et.CBC.instantiate(et.EDE),"des-ede":et.EDE,"des-cbc":et.CBC.instantiate(et.DES),"des-ecb":et.DES};ot.des=ot["des-cbc"],ot.des3=ot["des-ede3-cbc"],browserifyDes=it,tt(it,rt);function it(at){rt.call(this);var st=at.mode.toLowerCase(),ut=ot[st],ft;at.decrypt?ft="decrypt":ft="encrypt";var ht=at.key;nt.isBuffer(ht)||(ht=nt.from(ht)),(st==="des-ede"||st==="des-ede-cbc")&&(ht=nt.concat([ht,ht.slice(0,8)]));var mt=at.iv;nt.isBuffer(mt)||(mt=nt.from(mt)),this._des=ut.create({key:ht,iv:mt,type:ft})}return it.prototype._update=function(at){return nt.from(this._des.update(at))},it.prototype._final=function(){return nt.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(rt,et){return rt._cipher.encryptBlock(et)},ecb.decrypt=function(rt,et){return rt._cipher.decryptBlock(et)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(et,tt){for(var nt=Math.min(et.length,tt.length),ot=new buffer$1.Buffer(nt),it=0;it<nt;++it)ot[it]=et[it]^tt[it];return ot}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var rt=requireBufferXor();return cbc.encrypt=function(et,tt){var nt=rt(tt,et._prev);return et._prev=et._cipher.encryptBlock(nt),et._prev},cbc.decrypt=function(et,tt){var nt=et._prev;et._prev=tt;var ot=et._cipher.decryptBlock(tt);return rt(ot,nt)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var rt=requireSafeBuffer$1().Buffer,et=requireBufferXor();function tt(nt,ot,it){var at=ot.length,st=et(ot,nt._cache);return nt._cache=nt._cache.slice(at),nt._prev=rt.concat([nt._prev,it?ot:st]),st}return cfb.encrypt=function(nt,ot,it){for(var at=rt.allocUnsafe(0),st;ot.length;)if(nt._cache.length===0&&(nt._cache=nt._cipher.encryptBlock(nt._prev),nt._prev=rt.allocUnsafe(0)),nt._cache.length<=ot.length)st=nt._cache.length,at=rt.concat([at,tt(nt,ot.slice(0,st),it)]),ot=ot.slice(st);else{at=rt.concat([at,tt(nt,ot,it)]);break}return at},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var rt=requireSafeBuffer$1().Buffer;function et(tt,nt,ot){var it=tt._cipher.encryptBlock(tt._prev),at=it[0]^nt;return tt._prev=rt.concat([tt._prev.slice(1),rt.from([ot?nt:at])]),at}return cfb8.encrypt=function(tt,nt,ot){for(var it=nt.length,at=rt.allocUnsafe(it),st=-1;++st<it;)at[st]=et(tt,nt[st],ot);return at},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var rt=requireSafeBuffer$1().Buffer;function et(nt,ot,it){for(var at,st=-1,ut=8,ft=0,ht,mt;++st<ut;)at=nt._cipher.encryptBlock(nt._prev),ht=ot&1<<7-st?128:0,mt=at[0]^ht,ft+=(mt&128)>>st%8,nt._prev=tt(nt._prev,it?ht:mt);return ft}function tt(nt,ot){var it=nt.length,at=-1,st=rt.allocUnsafe(nt.length);for(nt=rt.concat([nt,rt.from([ot])]);++at<it;)st[at]=nt[at]<<1|nt[at+1]>>7;return st}return cfb1.encrypt=function(nt,ot,it){for(var at=ot.length,st=rt.allocUnsafe(at),ut=-1;++ut<at;)st[ut]=et(nt,ot[ut],it);return st},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var rt=requireBufferXor();function et(tt){return tt._prev=tt._cipher.encryptBlock(tt._prev),tt._prev}return ofb.encrypt=function(tt,nt){for(;tt._cache.length<nt.length;)tt._cache=buffer$1.Buffer.concat([tt._cache,et(tt)]);var ot=tt._cache.slice(0,nt.length);return tt._cache=tt._cache.slice(nt.length),rt(nt,ot)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function rt(et){for(var tt=et.length,nt;tt--;)if(nt=et.readUInt8(tt),nt===255)et.writeUInt8(0,tt);else{nt++,et.writeUInt8(nt,tt);break}}return incr32_1=rt,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var rt=requireBufferXor(),et=requireSafeBuffer$1().Buffer,tt=requireIncr32();function nt(it){var at=it._cipher.encryptBlockRaw(it._prev);return tt(it._prev),at}var ot=16;return ctr.encrypt=function(it,at){var st=Math.ceil(at.length/ot),ut=it._cache.length;it._cache=et.concat([it._cache,et.allocUnsafe(st*ot)]);for(var ft=0;ft<st;ft++){var ht=nt(it),mt=ut+ft*ot;it._cache.writeUInt32BE(ht[0],mt+0),it._cache.writeUInt32BE(ht[1],mt+4),it._cache.writeUInt32BE(ht[2],mt+8),it._cache.writeUInt32BE(ht[3],mt+12)}var gt=it._cache.slice(0,at.length);return it._cache=it._cache.slice(at.length),rt(at,gt)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var rt={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},et=require$$2;for(var tt in et)et[tt].module=rt[et[tt].mode];return modes_1=et,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var rt=requireSafeBuffer$1().Buffer;function et(st){rt.isBuffer(st)||(st=rt.from(st));for(var ut=st.length/4|0,ft=new Array(ut),ht=0;ht<ut;ht++)ft[ht]=st.readUInt32BE(ht*4);return ft}function tt(st){for(var ut=0;ut<st.length;st++)st[ut]=0}function nt(st,ut,ft,ht,mt){for(var gt=ft[0],yt=ft[1],xt=ft[2],St=ft[3],Tt=st[0]^ut[0],Mt=st[1]^ut[1],Pt=st[2]^ut[2],It=st[3]^ut[3],kt,Dt,Nt,Gt,Wt=4,Ot=1;Ot<mt;Ot++)kt=gt[Tt>>>24]^yt[Mt>>>16&255]^xt[Pt>>>8&255]^St[It&255]^ut[Wt++],Dt=gt[Mt>>>24]^yt[Pt>>>16&255]^xt[It>>>8&255]^St[Tt&255]^ut[Wt++],Nt=gt[Pt>>>24]^yt[It>>>16&255]^xt[Tt>>>8&255]^St[Mt&255]^ut[Wt++],Gt=gt[It>>>24]^yt[Tt>>>16&255]^xt[Mt>>>8&255]^St[Pt&255]^ut[Wt++],Tt=kt,Mt=Dt,Pt=Nt,It=Gt;return kt=(ht[Tt>>>24]<<24|ht[Mt>>>16&255]<<16|ht[Pt>>>8&255]<<8|ht[It&255])^ut[Wt++],Dt=(ht[Mt>>>24]<<24|ht[Pt>>>16&255]<<16|ht[It>>>8&255]<<8|ht[Tt&255])^ut[Wt++],Nt=(ht[Pt>>>24]<<24|ht[It>>>16&255]<<16|ht[Tt>>>8&255]<<8|ht[Mt&255])^ut[Wt++],Gt=(ht[It>>>24]<<24|ht[Tt>>>16&255]<<16|ht[Mt>>>8&255]<<8|ht[Pt&255])^ut[Wt++],kt=kt>>>0,Dt=Dt>>>0,Nt=Nt>>>0,Gt=Gt>>>0,[kt,Dt,Nt,Gt]}var ot=[0,1,2,4,8,16,32,64,128,27,54],it=function(){for(var st=new Array(256),ut=0;ut<256;ut++)ut<128?st[ut]=ut<<1:st[ut]=ut<<1^283;for(var ft=[],ht=[],mt=[[],[],[],[]],gt=[[],[],[],[]],yt=0,xt=0,St=0;St<256;++St){var Tt=xt^xt<<1^xt<<2^xt<<3^xt<<4;Tt=Tt>>>8^Tt&255^99,ft[yt]=Tt,ht[Tt]=yt;var Mt=st[yt],Pt=st[Mt],It=st[Pt],kt=st[Tt]*257^Tt*16843008;mt[0][yt]=kt<<24|kt>>>8,mt[1][yt]=kt<<16|kt>>>16,mt[2][yt]=kt<<8|kt>>>24,mt[3][yt]=kt,kt=It*16843009^Pt*65537^Mt*257^yt*16843008,gt[0][Tt]=kt<<24|kt>>>8,gt[1][Tt]=kt<<16|kt>>>16,gt[2][Tt]=kt<<8|kt>>>24,gt[3][Tt]=kt,yt===0?yt=xt=1:(yt=Mt^st[st[st[It^Mt]]],xt^=st[st[xt]])}return{SBOX:ft,INV_SBOX:ht,SUB_MIX:mt,INV_SUB_MIX:gt}}();function at(st){this._key=et(st),this._reset()}return at.blockSize=4*4,at.keySize=256/8,at.prototype.blockSize=at.blockSize,at.prototype.keySize=at.keySize,at.prototype._reset=function(){for(var st=this._key,ut=st.length,ft=ut+6,ht=(ft+1)*4,mt=[],gt=0;gt<ut;gt++)mt[gt]=st[gt];for(gt=ut;gt<ht;gt++){var yt=mt[gt-1];gt%ut===0?(yt=yt<<8|yt>>>24,yt=it.SBOX[yt>>>24]<<24|it.SBOX[yt>>>16&255]<<16|it.SBOX[yt>>>8&255]<<8|it.SBOX[yt&255],yt^=ot[gt/ut|0]<<24):ut>6&&gt%ut===4&&(yt=it.SBOX[yt>>>24]<<24|it.SBOX[yt>>>16&255]<<16|it.SBOX[yt>>>8&255]<<8|it.SBOX[yt&255]),mt[gt]=mt[gt-ut]^yt}for(var xt=[],St=0;St<ht;St++){var Tt=ht-St,Mt=mt[Tt-(St%4?0:4)];St<4||Tt<=4?xt[St]=Mt:xt[St]=it.INV_SUB_MIX[0][it.SBOX[Mt>>>24]]^it.INV_SUB_MIX[1][it.SBOX[Mt>>>16&255]]^it.INV_SUB_MIX[2][it.SBOX[Mt>>>8&255]]^it.INV_SUB_MIX[3][it.SBOX[Mt&255]]}this._nRounds=ft,this._keySchedule=mt,this._invKeySchedule=xt},at.prototype.encryptBlockRaw=function(st){return st=et(st),nt(st,this._keySchedule,it.SUB_MIX,it.SBOX,this._nRounds)},at.prototype.encryptBlock=function(st){var ut=this.encryptBlockRaw(st),ft=rt.allocUnsafe(16);return ft.writeUInt32BE(ut[0],0),ft.writeUInt32BE(ut[1],4),ft.writeUInt32BE(ut[2],8),ft.writeUInt32BE(ut[3],12),ft},at.prototype.decryptBlock=function(st){st=et(st);var ut=st[1];st[1]=st[3],st[3]=ut;var ft=nt(st,this._invKeySchedule,it.INV_SUB_MIX,it.INV_SBOX,this._nRounds),ht=rt.allocUnsafe(16);return ht.writeUInt32BE(ft[0],0),ht.writeUInt32BE(ft[3],4),ht.writeUInt32BE(ft[2],8),ht.writeUInt32BE(ft[1],12),ht},at.prototype.scrub=function(){tt(this._keySchedule),tt(this._invKeySchedule),tt(this._key)},aes.AES=at,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var rt=requireSafeBuffer$1().Buffer,et=rt.alloc(16,0);function tt(it){return[it.readUInt32BE(0),it.readUInt32BE(4),it.readUInt32BE(8),it.readUInt32BE(12)]}function nt(it){var at=rt.allocUnsafe(16);return at.writeUInt32BE(it[0]>>>0,0),at.writeUInt32BE(it[1]>>>0,4),at.writeUInt32BE(it[2]>>>0,8),at.writeUInt32BE(it[3]>>>0,12),at}function ot(it){this.h=it,this.state=rt.alloc(16,0),this.cache=rt.allocUnsafe(0)}return ot.prototype.ghash=function(it){for(var at=-1;++at<it.length;)this.state[at]^=it[at];this._multiply()},ot.prototype._multiply=function(){for(var it=tt(this.h),at=[0,0,0,0],st,ut,ft,ht=-1;++ht<128;){for(ut=(this.state[~~(ht/8)]&1<<7-ht%8)!==0,ut&&(at[0]^=it[0],at[1]^=it[1],at[2]^=it[2],at[3]^=it[3]),ft=(it[3]&1)!==0,st=3;st>0;st--)it[st]=it[st]>>>1|(it[st-1]&1)<<31;it[0]=it[0]>>>1,ft&&(it[0]=it[0]^225<<24)}this.state=nt(at)},ot.prototype.update=function(it){this.cache=rt.concat([this.cache,it]);for(var at;this.cache.length>=16;)at=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(at)},ot.prototype.final=function(it,at){return this.cache.length&&this.ghash(rt.concat([this.cache,et],16)),this.ghash(nt([0,it,0,at])),this.state},ghash=ot,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var rt=requireAes(),et=requireSafeBuffer$1().Buffer,tt=requireCipherBase(),nt=requireInherits_browser(),ot=requireGhash(),it=requireBufferXor(),at=requireIncr32();function st(ht,mt){var gt=0;ht.length!==mt.length&&gt++;for(var yt=Math.min(ht.length,mt.length),xt=0;xt<yt;++xt)gt+=ht[xt]^mt[xt];return gt}function ut(ht,mt,gt){if(mt.length===12)return ht._finID=et.concat([mt,et.from([0,0,0,1])]),et.concat([mt,et.from([0,0,0,2])]);var yt=new ot(gt),xt=mt.length,St=xt%16;yt.update(mt),St&&(St=16-St,yt.update(et.alloc(St,0))),yt.update(et.alloc(8,0));var Tt=xt*8,Mt=et.alloc(8);Mt.writeUIntBE(Tt,0,8),yt.update(Mt),ht._finID=yt.state;var Pt=et.from(ht._finID);return at(Pt),Pt}function ft(ht,mt,gt,yt){tt.call(this);var xt=et.alloc(4,0);this._cipher=new rt.AES(mt);var St=this._cipher.encryptBlock(xt);this._ghash=new ot(St),gt=ut(this,gt,St),this._prev=et.from(gt),this._cache=et.allocUnsafe(0),this._secCache=et.allocUnsafe(0),this._decrypt=yt,this._alen=0,this._len=0,this._mode=ht,this._authTag=null,this._called=!1}return nt(ft,tt),ft.prototype._update=function(ht){if(!this._called&&this._alen){var mt=16-this._alen%16;mt<16&&(mt=et.alloc(mt,0),this._ghash.update(mt))}this._called=!0;var gt=this._mode.encrypt(this,ht);return this._decrypt?this._ghash.update(ht):this._ghash.update(gt),this._len+=ht.length,gt},ft.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var ht=it(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&st(ht,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=ht,this._cipher.scrub()},ft.prototype.getAuthTag=function(){if(this._decrypt||!et.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},ft.prototype.setAuthTag=function(mt){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=mt},ft.prototype.setAAD=function(mt){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(mt),this._alen+=mt.length},authCipher=ft,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var rt=requireAes(),et=requireSafeBuffer$1().Buffer,tt=requireCipherBase(),nt=requireInherits_browser();function ot(it,at,st,ut){tt.call(this),this._cipher=new rt.AES(at),this._prev=et.from(st),this._cache=et.allocUnsafe(0),this._secCache=et.allocUnsafe(0),this._decrypt=ut,this._mode=it}return nt(ot,tt),ot.prototype._update=function(it){return this._mode.encrypt(this,it,this._decrypt)},ot.prototype._final=function(){this._cipher.scrub()},streamCipher=ot,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var rt=requireSafeBuffer$1().Buffer,et=requireMd5_js();function tt(nt,ot,it,at){if(rt.isBuffer(nt)||(nt=rt.from(nt,"binary")),ot&&(rt.isBuffer(ot)||(ot=rt.from(ot,"binary")),ot.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var st=it/8,ut=rt.alloc(st),ft=rt.alloc(at||0),ht=rt.alloc(0);st>0||at>0;){var mt=new et;mt.update(ht),mt.update(nt),ot&&mt.update(ot),ht=mt.digest();var gt=0;if(st>0){var yt=ut.length-st;gt=Math.min(st,ht.length),ht.copy(ut,yt,0,gt),st-=gt}if(gt<ht.length&&at>0){var xt=ft.length-at,St=Math.min(at,ht.length-gt);ht.copy(ft,xt,gt,gt+St),at-=St}}return ht.fill(0),{key:ut,iv:ft}}return evp_bytestokey=tt,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var rt=requireModes$1(),et=requireAuthCipher(),tt=requireSafeBuffer$1().Buffer,nt=requireStreamCipher(),ot=requireCipherBase(),it=requireAes(),at=requireEvp_bytestokey(),st=requireInherits_browser();function ut(yt,xt,St){ot.call(this),this._cache=new ht,this._cipher=new it.AES(xt),this._prev=tt.from(St),this._mode=yt,this._autopadding=!0}st(ut,ot),ut.prototype._update=function(yt){this._cache.add(yt);for(var xt,St,Tt=[];xt=this._cache.get();)St=this._mode.encrypt(this,xt),Tt.push(St);return tt.concat(Tt)};var ft=tt.alloc(16,16);ut.prototype._final=function(){var yt=this._cache.flush();if(this._autopadding)return yt=this._mode.encrypt(this,yt),this._cipher.scrub(),yt;if(!yt.equals(ft))throw this._cipher.scrub(),new Error("data not multiple of block length")},ut.prototype.setAutoPadding=function(yt){return this._autopadding=!!yt,this};function ht(){this.cache=tt.allocUnsafe(0)}ht.prototype.add=function(yt){this.cache=tt.concat([this.cache,yt])},ht.prototype.get=function(){if(this.cache.length>15){var yt=this.cache.slice(0,16);return this.cache=this.cache.slice(16),yt}return null},ht.prototype.flush=function(){for(var yt=16-this.cache.length,xt=tt.allocUnsafe(yt),St=-1;++St<yt;)xt.writeUInt8(yt,St);return tt.concat([this.cache,xt])};function mt(yt,xt,St){var Tt=rt[yt.toLowerCase()];if(!Tt)throw new TypeError("invalid suite type");if(typeof xt=="string"&&(xt=tt.from(xt)),xt.length!==Tt.key/8)throw new TypeError("invalid key length "+xt.length);if(typeof St=="string"&&(St=tt.from(St)),Tt.mode!=="GCM"&&St.length!==Tt.iv)throw new TypeError("invalid iv length "+St.length);return Tt.type==="stream"?new nt(Tt.module,xt,St):Tt.type==="auth"?new et(Tt.module,xt,St):new ut(Tt.module,xt,St)}function gt(yt,xt){var St=rt[yt.toLowerCase()];if(!St)throw new TypeError("invalid suite type");var Tt=at(xt,!1,St.key,St.iv);return mt(yt,Tt.key,Tt.iv)}return encrypter.createCipheriv=mt,encrypter.createCipher=gt,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var rt=requireAuthCipher(),et=requireSafeBuffer$1().Buffer,tt=requireModes$1(),nt=requireStreamCipher(),ot=requireCipherBase(),it=requireAes(),at=requireEvp_bytestokey(),st=requireInherits_browser();function ut(yt,xt,St){ot.call(this),this._cache=new ft,this._last=void 0,this._cipher=new it.AES(xt),this._prev=et.from(St),this._mode=yt,this._autopadding=!0}st(ut,ot),ut.prototype._update=function(yt){this._cache.add(yt);for(var xt,St,Tt=[];xt=this._cache.get(this._autopadding);)St=this._mode.decrypt(this,xt),Tt.push(St);return et.concat(Tt)},ut.prototype._final=function(){var yt=this._cache.flush();if(this._autopadding)return ht(this._mode.decrypt(this,yt));if(yt)throw new Error("data not multiple of block length")},ut.prototype.setAutoPadding=function(yt){return this._autopadding=!!yt,this};function ft(){this.cache=et.allocUnsafe(0)}ft.prototype.add=function(yt){this.cache=et.concat([this.cache,yt])},ft.prototype.get=function(yt){var xt;if(yt){if(this.cache.length>16)return xt=this.cache.slice(0,16),this.cache=this.cache.slice(16),xt}else if(this.cache.length>=16)return xt=this.cache.slice(0,16),this.cache=this.cache.slice(16),xt;return null},ft.prototype.flush=function(){if(this.cache.length)return this.cache};function ht(yt){var xt=yt[15];if(xt<1||xt>16)throw new Error("unable to decrypt data");for(var St=-1;++St<xt;)if(yt[St+(16-xt)]!==xt)throw new Error("unable to decrypt data");if(xt!==16)return yt.slice(0,16-xt)}function mt(yt,xt,St){var Tt=tt[yt.toLowerCase()];if(!Tt)throw new TypeError("invalid suite type");if(typeof St=="string"&&(St=et.from(St)),Tt.mode!=="GCM"&&St.length!==Tt.iv)throw new TypeError("invalid iv length "+St.length);if(typeof xt=="string"&&(xt=et.from(xt)),xt.length!==Tt.key/8)throw new TypeError("invalid key length "+xt.length);return Tt.type==="stream"?new nt(Tt.module,xt,St,!0):Tt.type==="auth"?new rt(Tt.module,xt,St,!0):new ut(Tt.module,xt,St)}function gt(yt,xt){var St=tt[yt.toLowerCase()];if(!St)throw new TypeError("invalid suite type");var Tt=at(xt,!1,St.key,St.iv);return mt(yt,Tt.key,Tt.iv)}return decrypter.createDecipher=gt,decrypter.createDecipheriv=mt,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var rt=requireEncrypter(),et=requireDecrypter(),tt=require$$2;function nt(){return Object.keys(tt)}return browser$5.createCipher=browser$5.Cipher=rt.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=rt.createCipheriv,browser$5.createDecipher=browser$5.Decipher=et.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=et.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=nt,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(rt){rt["des-ecb"]={key:8,iv:0},rt["des-cbc"]=rt.des={key:8,iv:8},rt["des-ede3-cbc"]=rt.des3={key:24,iv:8},rt["des-ede3"]={key:24,iv:0},rt["des-ede-cbc"]={key:16,iv:8},rt["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var rt=requireBrowserifyDes(),et=requireBrowser$6(),tt=requireModes$1(),nt=requireModes(),ot=requireEvp_bytestokey();function it(ht,mt){ht=ht.toLowerCase();var gt,yt;if(tt[ht])gt=tt[ht].key,yt=tt[ht].iv;else if(nt[ht])gt=nt[ht].key*8,yt=nt[ht].iv;else throw new TypeError("invalid suite type");var xt=ot(mt,!1,gt,yt);return st(ht,xt.key,xt.iv)}function at(ht,mt){ht=ht.toLowerCase();var gt,yt;if(tt[ht])gt=tt[ht].key,yt=tt[ht].iv;else if(nt[ht])gt=nt[ht].key*8,yt=nt[ht].iv;else throw new TypeError("invalid suite type");var xt=ot(mt,!1,gt,yt);return ut(ht,xt.key,xt.iv)}function st(ht,mt,gt){if(ht=ht.toLowerCase(),tt[ht])return et.createCipheriv(ht,mt,gt);if(nt[ht])return new rt({key:mt,iv:gt,mode:ht});throw new TypeError("invalid suite type")}function ut(ht,mt,gt){if(ht=ht.toLowerCase(),tt[ht])return et.createDecipheriv(ht,mt,gt);if(nt[ht])return new rt({key:mt,iv:gt,mode:ht,decrypt:!0});throw new TypeError("invalid suite type")}function ft(){return Object.keys(nt).concat(et.getCiphers())}return browser$6.createCipher=browser$6.Cipher=it,browser$6.createCipheriv=browser$6.Cipheriv=st,browser$6.createDecipher=browser$6.Decipher=at,browser$6.createDecipheriv=browser$6.Decipheriv=ut,browser$6.listCiphers=browser$6.getCiphers=ft,browser$6}var browser$4={},bn$6={exports:{}};bn$6.exports;var hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn$6)),bn$6.exports}var bn$5={exports:{}};bn$5.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var rt;brorand.exports=function(ot){return rt||(rt=new et(null)),rt.generate(ot)};function et(nt){this.rand=nt}if(brorand.exports.Rand=et,et.prototype.generate=function(ot){return this._rand(ot)},et.prototype._rand=function(ot){if(this.rand.getBytes)return this.rand.getBytes(ot);for(var it=new Uint8Array(ot),at=0;at<it.length;at++)it[at]=this.rand.getByte();return it},typeof self=="object")self.crypto&&self.crypto.getRandomValues?et.prototype._rand=function(ot){var it=new Uint8Array(ot);return self.crypto.getRandomValues(it),it}:self.msCrypto&&self.msCrypto.getRandomValues?et.prototype._rand=function(ot){var it=new Uint8Array(ot);return self.msCrypto.getRandomValues(it),it}:typeof window=="object"&&(et.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var tt=requireCryptoBrowserify();if(typeof tt.randomBytes!="function")throw new Error("Not supported");et.prototype._rand=function(ot){return tt.randomBytes(ot)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var rt=requireBn$5(),et=requireBrorand();function tt(nt){this.rand=nt||new et.Rand}return mr=tt,tt.create=function(ot){return new tt(ot)},tt.prototype._randbelow=function(ot){var it=ot.bitLength(),at=Math.ceil(it/8);do var st=new rt(this.rand.generate(at));while(st.cmp(ot)>=0);return st},tt.prototype._randrange=function(ot,it){var at=it.sub(ot);return ot.add(this._randbelow(at))},tt.prototype.test=function(ot,it,at){var st=ot.bitLength(),ut=rt.mont(ot),ft=new rt(1).toRed(ut);it||(it=Math.max(1,st/48|0));for(var ht=ot.subn(1),mt=0;!ht.testn(mt);mt++);for(var gt=ot.shrn(mt),yt=ht.toRed(ut),xt=!0;it>0;it--){var St=this._randrange(new rt(2),ht);at&&at(St);var Tt=St.toRed(ut).redPow(gt);if(!(Tt.cmp(ft)===0||Tt.cmp(yt)===0)){for(var Mt=1;Mt<mt;Mt++){if(Tt=Tt.redSqr(),Tt.cmp(ft)===0)return!1;if(Tt.cmp(yt)===0)break}if(Mt===mt)return!1}}return xt},tt.prototype.getDivisor=function(ot,it){var at=ot.bitLength(),st=rt.mont(ot),ut=new rt(1).toRed(st);it||(it=Math.max(1,at/48|0));for(var ft=ot.subn(1),ht=0;!ft.testn(ht);ht++);for(var mt=ot.shrn(ht),gt=ft.toRed(st);it>0;it--){var yt=this._randrange(new rt(2),ft),xt=ot.gcd(yt);if(xt.cmpn(1)!==0)return xt;var St=yt.toRed(st).redPow(mt);if(!(St.cmp(ut)===0||St.cmp(gt)===0)){for(var Tt=1;Tt<ht;Tt++){if(St=St.redSqr(),St.cmp(ut)===0)return St.fromRed().subn(1).gcd(ot);if(St.cmp(gt)===0)break}if(Tt===ht)return St=St.redSqr(),St.fromRed().subn(1).gcd(ot)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var rt=requireBrowser$b();generatePrime=Tt,Tt.simpleSieve=xt,Tt.fermatTest=St;var et=requireBn$6(),tt=new et(24),nt=requireMr(),ot=new nt,it=new et(1),at=new et(2),st=new et(5);new et(16),new et(8);var ut=new et(10),ft=new et(3);new et(7);var ht=new et(11),mt=new et(4);new et(12);var gt=null;function yt(){if(gt!==null)return gt;var Mt=1048576,Pt=[];Pt[0]=2;for(var It=1,kt=3;kt<Mt;kt+=2){for(var Dt=Math.ceil(Math.sqrt(kt)),Nt=0;Nt<It&&Pt[Nt]<=Dt&&kt%Pt[Nt]!==0;Nt++);It!==Nt&&Pt[Nt]<=Dt||(Pt[It++]=kt)}return gt=Pt,Pt}function xt(Mt){for(var Pt=yt(),It=0;It<Pt.length;It++)if(Mt.modn(Pt[It])===0)return Mt.cmpn(Pt[It])===0;return!0}function St(Mt){var Pt=et.mont(Mt);return at.toRed(Pt).redPow(Mt.subn(1)).fromRed().cmpn(1)===0}function Tt(Mt,Pt){if(Mt<16)return Pt===2||Pt===5?new et([140,123]):new et([140,39]);Pt=new et(Pt);for(var It,kt;;){for(It=new et(rt(Math.ceil(Mt/8)));It.bitLength()>Mt;)It.ishrn(1);if(It.isEven()&&It.iadd(it),It.testn(1)||It.iadd(at),Pt.cmp(at)){if(!Pt.cmp(st))for(;It.mod(ut).cmp(ft);)It.iadd(mt)}else for(;It.mod(tt).cmp(ht);)It.iadd(mt);if(kt=It.shrn(1),xt(kt)&&xt(It)&&St(kt)&&St(It)&&ot.test(kt)&&ot.test(It))return It}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var rt=requireBn$6(),et=requireMr(),tt=new et,nt=new rt(24),ot=new rt(11),it=new rt(10),at=new rt(3),st=new rt(7),ut=requireGeneratePrime(),ft=requireBrowser$b();dh=xt;function ht(Tt,Mt){return Mt=Mt||"utf8",buffer$1.Buffer.isBuffer(Tt)||(Tt=new buffer$1.Buffer(Tt,Mt)),this._pub=new rt(Tt),this}function mt(Tt,Mt){return Mt=Mt||"utf8",buffer$1.Buffer.isBuffer(Tt)||(Tt=new buffer$1.Buffer(Tt,Mt)),this._priv=new rt(Tt),this}var gt={};function yt(Tt,Mt){var Pt=Mt.toString("hex"),It=[Pt,Tt.toString(16)].join("_");if(It in gt)return gt[It];var kt=0;if(Tt.isEven()||!ut.simpleSieve||!ut.fermatTest(Tt)||!tt.test(Tt))return kt+=1,Pt==="02"||Pt==="05"?kt+=8:kt+=4,gt[It]=kt,kt;tt.test(Tt.shrn(1))||(kt+=2);var Dt;switch(Pt){case"02":Tt.mod(nt).cmp(ot)&&(kt+=8);break;case"05":Dt=Tt.mod(it),Dt.cmp(at)&&Dt.cmp(st)&&(kt+=8);break;default:kt+=4}return gt[It]=kt,kt}function xt(Tt,Mt,Pt){this.setGenerator(Mt),this.__prime=new rt(Tt),this._prime=rt.mont(this.__prime),this._primeLen=Tt.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,Pt?(this.setPublicKey=ht,this.setPrivateKey=mt):this._primeCode=8}Object.defineProperty(xt.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=yt(this.__prime,this.__gen)),this._primeCode}}),xt.prototype.generateKeys=function(){return this._priv||(this._priv=new rt(ft(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},xt.prototype.computeSecret=function(Tt){Tt=new rt(Tt),Tt=Tt.toRed(this._prime);var Mt=Tt.redPow(this._priv).fromRed(),Pt=new buffer$1.Buffer(Mt.toArray()),It=this.getPrime();if(Pt.length<It.length){var kt=new buffer$1.Buffer(It.length-Pt.length);kt.fill(0),Pt=buffer$1.Buffer.concat([kt,Pt])}return Pt},xt.prototype.getPublicKey=function(Mt){return St(this._pub,Mt)},xt.prototype.getPrivateKey=function(Mt){return St(this._priv,Mt)},xt.prototype.getPrime=function(Tt){return St(this.__prime,Tt)},xt.prototype.getGenerator=function(Tt){return St(this._gen,Tt)},xt.prototype.setGenerator=function(Tt,Mt){return Mt=Mt||"utf8",buffer$1.Buffer.isBuffer(Tt)||(Tt=new buffer$1.Buffer(Tt,Mt)),this.__gen=Tt,this._gen=new rt(Tt),this};function St(Tt,Mt){var Pt=new buffer$1.Buffer(Tt.toArray());return Mt?Pt.toString(Mt):Pt}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var rt=requireGeneratePrime(),et=require$$1$1,tt=requireDh();function nt(at){var st=new buffer$1.Buffer(et[at].prime,"hex"),ut=new buffer$1.Buffer(et[at].gen,"hex");return new tt(st,ut)}var ot={binary:!0,hex:!0,base64:!0};function it(at,st,ut,ft){return buffer$1.Buffer.isBuffer(st)||ot[st]===void 0?it(at,"binary",st,ut):(st=st||"binary",ft=ft||"binary",ut=ut||new buffer$1.Buffer([2]),buffer$1.Buffer.isBuffer(ut)||(ut=new buffer$1.Buffer(ut,ft)),typeof at=="number"?new tt(rt(at,ut),ut,!0):(buffer$1.Buffer.isBuffer(at)||(at=new buffer$1.Buffer(at,st)),new tt(at,ut,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=nt,browser$4.createDiffieHellman=browser$4.DiffieHellman=it,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof api$2>"u"||!api$2.version||api$2.version.indexOf("v0.")===0||api$2.version.indexOf("v1.")===0&&api$2.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:rt}:processNextickArgs.exports=api$2;function rt(et,tt,nt,ot){if(typeof et!="function")throw new TypeError('"callback" argument must be a function');var it=arguments.length,at,st;switch(it){case 0:case 1:return api$2.nextTick(et);case 2:return api$2.nextTick(function(){et.call(null,tt)});case 3:return api$2.nextTick(function(){et.call(null,tt,nt)});case 4:return api$2.nextTick(function(){et.call(null,tt,nt,ot)});default:for(at=new Array(it-1),st=0;st<at.length;)at[st++]=arguments[st];return api$2.nextTick(function(){et.apply(null,at)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var rt={}.toString;return isarray=Array.isArray||function(et){return rt.call(et)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(rt,et){var tt=buffer$1,nt=tt.Buffer;function ot(at,st){for(var ut in at)st[ut]=at[ut]}nt.from&&nt.alloc&&nt.allocUnsafe&&nt.allocUnsafeSlow?rt.exports=tt:(ot(tt,et),et.Buffer=it);function it(at,st,ut){return nt(at,st,ut)}ot(nt,it),it.from=function(at,st,ut){if(typeof at=="number")throw new TypeError("Argument must not be a number");return nt(at,st,ut)},it.alloc=function(at,st,ut){if(typeof at!="number")throw new TypeError("Argument must be a number");var ft=nt(at);return st!==void 0?typeof ut=="string"?ft.fill(st,ut):ft.fill(st):ft.fill(0),ft},it.allocUnsafe=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return nt(at)},it.allocUnsafeSlow=function(at){if(typeof at!="number")throw new TypeError("Argument must be a number");return tt.SlowBuffer(at)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function rt(St){return Array.isArray?Array.isArray(St):xt(St)==="[object Array]"}util.isArray=rt;function et(St){return typeof St=="boolean"}util.isBoolean=et;function tt(St){return St===null}util.isNull=tt;function nt(St){return St==null}util.isNullOrUndefined=nt;function ot(St){return typeof St=="number"}util.isNumber=ot;function it(St){return typeof St=="string"}util.isString=it;function at(St){return typeof St=="symbol"}util.isSymbol=at;function st(St){return St===void 0}util.isUndefined=st;function ut(St){return xt(St)==="[object RegExp]"}util.isRegExp=ut;function ft(St){return typeof St=="object"&&St!==null}util.isObject=ft;function ht(St){return xt(St)==="[object Date]"}util.isDate=ht;function mt(St){return xt(St)==="[object Error]"||St instanceof Error}util.isError=mt;function gt(St){return typeof St=="function"}util.isFunction=gt;function yt(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||typeof St>"u"}util.isPrimitive=yt,util.isBuffer=buffer$1.Buffer.isBuffer;function xt(St){return Object.prototype.toString.call(St)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(rt){function et(it,at){if(!(it instanceof at))throw new TypeError("Cannot call a class as a function")}var tt=requireSafeBuffer().Buffer,nt=requireUtil$1();function ot(it,at,st){it.copy(at,st)}rt.exports=function(){function it(){et(this,it),this.head=null,this.tail=null,this.length=0}return it.prototype.push=function(st){var ut={data:st,next:null};this.length>0?this.tail.next=ut:this.head=ut,this.tail=ut,++this.length},it.prototype.unshift=function(st){var ut={data:st,next:this.head};this.length===0&&(this.tail=ut),this.head=ut,++this.length},it.prototype.shift=function(){if(this.length!==0){var st=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,st}},it.prototype.clear=function(){this.head=this.tail=null,this.length=0},it.prototype.join=function(st){if(this.length===0)return"";for(var ut=this.head,ft=""+ut.data;ut=ut.next;)ft+=st+ut.data;return ft},it.prototype.concat=function(st){if(this.length===0)return tt.alloc(0);for(var ut=tt.allocUnsafe(st>>>0),ft=this.head,ht=0;ft;)ot(ft.data,ut,ht),ht+=ft.data.length,ft=ft.next;return ut},it}(),nt&&nt.inspect&&nt.inspect.custom&&(rt.exports.prototype[nt.inspect.custom]=function(){var it=nt.inspect({length:this.length});return this.constructor.name+" "+it})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var rt=requireProcessNextickArgs();function et(ot,it){var at=this,st=this._readableState&&this._readableState.destroyed,ut=this._writableState&&this._writableState.destroyed;return st||ut?(it?it(ot):ot&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,rt.nextTick(nt,this,ot)):rt.nextTick(nt,this,ot)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ot||null,function(ft){!it&&ft?at._writableState?at._writableState.errorEmitted||(at._writableState.errorEmitted=!0,rt.nextTick(nt,at,ft)):rt.nextTick(nt,at,ft):it&&it(ft)}),this)}function tt(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function nt(ot,it){ot.emit("error",it)}return destroy_1={destroy:et,undestroy:tt},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var rt=requireProcessNextickArgs();_stream_writable=St;function et(At){var Rt=this;this.next=null,this.entry=null,this.finish=function(){wt(Rt,At)}}var tt=!api$2.browser&&["v0.10","v0.9."].indexOf(api$2.version.slice(0,5))>-1?setImmediate:rt.nextTick,nt;St.WritableState=yt;var ot=Object.create(requireUtil());ot.inherits=requireInherits_browser();var it={deprecate:requireBrowser$a()},at=requireStreamBrowser(),st=requireSafeBuffer().Buffer,ut=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function ft(At){return st.from(At)}function ht(At){return st.isBuffer(At)||At instanceof ut}var mt=requireDestroy();ot.inherits(St,at);function gt(){}function yt(At,Rt){nt=nt||require_stream_duplex(),At=At||{};var bt=Rt instanceof nt;this.objectMode=!!At.objectMode,bt&&(this.objectMode=this.objectMode||!!At.writableObjectMode);var ct=At.highWaterMark,_t=At.writableHighWaterMark,Lt=this.objectMode?16:16*1024;ct||ct===0?this.highWaterMark=ct:bt&&(_t||_t===0)?this.highWaterMark=_t:this.highWaterMark=Lt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ft=At.decodeStrings===!1;this.decodeStrings=!Ft,this.defaultEncoding=At.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(jt){Gt(Rt,jt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new et(this)}yt.prototype.getBuffer=function(){for(var Rt=this.bufferedRequest,bt=[];Rt;)bt.push(Rt),Rt=Rt.next;return bt},function(){try{Object.defineProperty(yt.prototype,"buffer",{get:it.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var xt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(xt=Function.prototype[Symbol.hasInstance],Object.defineProperty(St,Symbol.hasInstance,{value:function(At){return xt.call(this,At)?!0:this!==St?!1:At&&At._writableState instanceof yt}})):xt=function(At){return At instanceof this};function St(At){if(nt=nt||require_stream_duplex(),!xt.call(St,this)&&!(this instanceof nt))return new St(At);this._writableState=new yt(At,this),this.writable=!0,At&&(typeof At.write=="function"&&(this._write=At.write),typeof At.writev=="function"&&(this._writev=At.writev),typeof At.destroy=="function"&&(this._destroy=At.destroy),typeof At.final=="function"&&(this._final=At.final)),at.call(this)}St.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Tt(At,Rt){var bt=new Error("write after end");At.emit("error",bt),rt.nextTick(Rt,bt)}function Mt(At,Rt,bt,ct){var _t=!0,Lt=!1;return bt===null?Lt=new TypeError("May not write null values to stream"):typeof bt!="string"&&bt!==void 0&&!Rt.objectMode&&(Lt=new TypeError("Invalid non-string/buffer chunk")),Lt&&(At.emit("error",Lt),rt.nextTick(ct,Lt),_t=!1),_t}St.prototype.write=function(At,Rt,bt){var ct=this._writableState,_t=!1,Lt=!ct.objectMode&&ht(At);return Lt&&!st.isBuffer(At)&&(At=ft(At)),typeof Rt=="function"&&(bt=Rt,Rt=null),Lt?Rt="buffer":Rt||(Rt=ct.defaultEncoding),typeof bt!="function"&&(bt=gt),ct.ended?Tt(this,bt):(Lt||Mt(this,ct,At,bt))&&(ct.pendingcb++,_t=It(this,ct,Lt,At,Rt,bt)),_t},St.prototype.cork=function(){var At=this._writableState;At.corked++},St.prototype.uncork=function(){var At=this._writableState;At.corked&&(At.corked--,!At.writing&&!At.corked&&!At.bufferProcessing&&At.bufferedRequest&&Xt(this,At))},St.prototype.setDefaultEncoding=function(Rt){if(typeof Rt=="string"&&(Rt=Rt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Rt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+Rt);return this._writableState.defaultEncoding=Rt,this};function Pt(At,Rt,bt){return!At.objectMode&&At.decodeStrings!==!1&&typeof Rt=="string"&&(Rt=st.from(Rt,bt)),Rt}Object.defineProperty(St.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function It(At,Rt,bt,ct,_t,Lt){if(!bt){var Ft=Pt(Rt,ct,_t);ct!==Ft&&(bt=!0,_t="buffer",ct=Ft)}var jt=Rt.objectMode?1:ct.length;Rt.length+=jt;var Zt=Rt.length<Rt.highWaterMark;if(Zt||(Rt.needDrain=!0),Rt.writing||Rt.corked){var Kt=Rt.lastBufferedRequest;Rt.lastBufferedRequest={chunk:ct,encoding:_t,isBuf:bt,callback:Lt,next:null},Kt?Kt.next=Rt.lastBufferedRequest:Rt.bufferedRequest=Rt.lastBufferedRequest,Rt.bufferedRequestCount+=1}else kt(At,Rt,!1,jt,ct,_t,Lt);return Zt}function kt(At,Rt,bt,ct,_t,Lt,Ft){Rt.writelen=ct,Rt.writecb=Ft,Rt.writing=!0,Rt.sync=!0,bt?At._writev(_t,Rt.onwrite):At._write(_t,Lt,Rt.onwrite),Rt.sync=!1}function Dt(At,Rt,bt,ct,_t){--Rt.pendingcb,bt?(rt.nextTick(_t,ct),rt.nextTick(pt,At,Rt),At._writableState.errorEmitted=!0,At.emit("error",ct)):(_t(ct),At._writableState.errorEmitted=!0,At.emit("error",ct),pt(At,Rt))}function Nt(At){At.writing=!1,At.writecb=null,At.length-=At.writelen,At.writelen=0}function Gt(At,Rt){var bt=At._writableState,ct=bt.sync,_t=bt.writecb;if(Nt(bt),Rt)Dt(At,bt,ct,Rt,_t);else{var Lt=Et(bt);!Lt&&!bt.corked&&!bt.bufferProcessing&&bt.bufferedRequest&&Xt(At,bt),ct?tt(Wt,At,bt,Lt,_t):Wt(At,bt,Lt,_t)}}function Wt(At,Rt,bt,ct){bt||Ot(At,Rt),Rt.pendingcb--,ct(),pt(At,Rt)}function Ot(At,Rt){Rt.length===0&&Rt.needDrain&&(Rt.needDrain=!1,At.emit("drain"))}function Xt(At,Rt){Rt.bufferProcessing=!0;var bt=Rt.bufferedRequest;if(At._writev&&bt&&bt.next){var ct=Rt.bufferedRequestCount,_t=new Array(ct),Lt=Rt.corkedRequestsFree;Lt.entry=bt;for(var Ft=0,jt=!0;bt;)_t[Ft]=bt,bt.isBuf||(jt=!1),bt=bt.next,Ft+=1;_t.allBuffers=jt,kt(At,Rt,!0,Rt.length,_t,"",Lt.finish),Rt.pendingcb++,Rt.lastBufferedRequest=null,Lt.next?(Rt.corkedRequestsFree=Lt.next,Lt.next=null):Rt.corkedRequestsFree=new et(Rt),Rt.bufferedRequestCount=0}else{for(;bt;){var Zt=bt.chunk,Kt=bt.encoding,zt=bt.callback,Vt=Rt.objectMode?1:Zt.length;if(kt(At,Rt,!1,Vt,Zt,Kt,zt),bt=bt.next,Rt.bufferedRequestCount--,Rt.writing)break}bt===null&&(Rt.lastBufferedRequest=null)}Rt.bufferedRequest=bt,Rt.bufferProcessing=!1}St.prototype._write=function(At,Rt,bt){bt(new Error("_write() is not implemented"))},St.prototype._writev=null,St.prototype.end=function(At,Rt,bt){var ct=this._writableState;typeof At=="function"?(bt=At,At=null,Rt=null):typeof Rt=="function"&&(bt=Rt,Rt=null),At!=null&&this.write(At,Rt),ct.corked&&(ct.corked=1,this.uncork()),ct.ending||vt(this,ct,bt)};function Et(At){return At.ending&&At.length===0&&At.bufferedRequest===null&&!At.finished&&!At.writing}function lt(At,Rt){At._final(function(bt){Rt.pendingcb--,bt&&At.emit("error",bt),Rt.prefinished=!0,At.emit("prefinish"),pt(At,Rt)})}function dt(At,Rt){!Rt.prefinished&&!Rt.finalCalled&&(typeof At._final=="function"?(Rt.pendingcb++,Rt.finalCalled=!0,rt.nextTick(lt,At,Rt)):(Rt.prefinished=!0,At.emit("prefinish")))}function pt(At,Rt){var bt=Et(Rt);return bt&&(dt(At,Rt),Rt.pendingcb===0&&(Rt.finished=!0,At.emit("finish"))),bt}function vt(At,Rt,bt){Rt.ending=!0,pt(At,Rt),bt&&(Rt.finished?rt.nextTick(bt):At.once("finish",bt)),Rt.ended=!0,At.writable=!1}function wt(At,Rt,bt){var ct=At.entry;for(At.entry=null;ct;){var _t=ct.callback;Rt.pendingcb--,_t(bt),ct=ct.next}Rt.corkedRequestsFree.next=At}return Object.defineProperty(St.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(At){this._writableState&&(this._writableState.destroyed=At)}}),St.prototype.destroy=mt.destroy,St.prototype._undestroy=mt.undestroy,St.prototype._destroy=function(At,Rt){this.end(),Rt(At)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var rt=requireProcessNextickArgs(),et=Object.keys||function(mt){var gt=[];for(var yt in mt)gt.push(yt);return gt};_stream_duplex=ut;var tt=Object.create(requireUtil());tt.inherits=requireInherits_browser();var nt=require_stream_readable(),ot=require_stream_writable();tt.inherits(ut,nt);for(var it=et(ot.prototype),at=0;at<it.length;at++){var st=it[at];ut.prototype[st]||(ut.prototype[st]=ot.prototype[st])}function ut(mt){if(!(this instanceof ut))return new ut(mt);nt.call(this,mt),ot.call(this,mt),mt&&mt.readable===!1&&(this.readable=!1),mt&&mt.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,mt&&mt.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",ft)}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ft(){this.allowHalfOpen||this._writableState.ended||rt.nextTick(ht,this)}function ht(mt){mt.end()}return Object.defineProperty(ut.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(mt){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=mt,this._writableState.destroyed=mt)}}),ut.prototype._destroy=function(mt,gt){this.push(null),this.end(),rt.nextTick(gt,mt)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var rt=requireProcessNextickArgs();_stream_readable=Pt;var et=requireIsarray(),tt;Pt.ReadableState=Mt,requireEvents().EventEmitter;var nt=function(zt,Vt){return zt.listeners(Vt).length},ot=requireStreamBrowser(),it=requireSafeBuffer().Buffer,at=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function st(zt){return it.from(zt)}function ut(zt){return it.isBuffer(zt)||zt instanceof at}var ft=Object.create(requireUtil());ft.inherits=requireInherits_browser();var ht=requireUtil$1(),mt=void 0;ht&&ht.debuglog?mt=ht.debuglog("stream"):mt=function(){};var gt=requireBufferList(),yt=requireDestroy(),xt;ft.inherits(Pt,ot);var St=["error","close","destroy","pause","resume"];function Tt(zt,Vt,nr){if(typeof zt.prependListener=="function")return zt.prependListener(Vt,nr);!zt._events||!zt._events[Vt]?zt.on(Vt,nr):et(zt._events[Vt])?zt._events[Vt].unshift(nr):zt._events[Vt]=[nr,zt._events[Vt]]}function Mt(zt,Vt){tt=tt||require_stream_duplex(),zt=zt||{};var nr=Vt instanceof tt;this.objectMode=!!zt.objectMode,nr&&(this.objectMode=this.objectMode||!!zt.readableObjectMode);var or=zt.highWaterMark,rr=zt.readableHighWaterMark,$t=this.objectMode?16:16*1024;or||or===0?this.highWaterMark=or:nr&&(rr||rr===0)?this.highWaterMark=rr:this.highWaterMark=$t,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new gt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=zt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,zt.encoding&&(xt||(xt=requireString_decoder().StringDecoder),this.decoder=new xt(zt.encoding),this.encoding=zt.encoding)}function Pt(zt){if(tt=tt||require_stream_duplex(),!(this instanceof Pt))return new Pt(zt);this._readableState=new Mt(zt,this),this.readable=!0,zt&&(typeof zt.read=="function"&&(this._read=zt.read),typeof zt.destroy=="function"&&(this._destroy=zt.destroy)),ot.call(this)}Object.defineProperty(Pt.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(zt){this._readableState&&(this._readableState.destroyed=zt)}}),Pt.prototype.destroy=yt.destroy,Pt.prototype._undestroy=yt.undestroy,Pt.prototype._destroy=function(zt,Vt){this.push(null),Vt(zt)},Pt.prototype.push=function(zt,Vt){var nr=this._readableState,or;return nr.objectMode?or=!0:typeof zt=="string"&&(Vt=Vt||nr.defaultEncoding,Vt!==nr.encoding&&(zt=it.from(zt,Vt),Vt=""),or=!0),It(this,zt,Vt,!1,or)},Pt.prototype.unshift=function(zt){return It(this,zt,null,!0,!1)};function It(zt,Vt,nr,or,rr){var $t=zt._readableState;if(Vt===null)$t.reading=!1,Xt(zt,$t);else{var ar;rr||(ar=Dt($t,Vt)),ar?zt.emit("error",ar):$t.objectMode||Vt&&Vt.length>0?(typeof Vt!="string"&&!$t.objectMode&&Object.getPrototypeOf(Vt)!==it.prototype&&(Vt=st(Vt)),or?$t.endEmitted?zt.emit("error",new Error("stream.unshift() after end event")):kt(zt,$t,Vt,!0):$t.ended?zt.emit("error",new Error("stream.push() after EOF")):($t.reading=!1,$t.decoder&&!nr?(Vt=$t.decoder.write(Vt),$t.objectMode||Vt.length!==0?kt(zt,$t,Vt,!1):dt(zt,$t)):kt(zt,$t,Vt,!1))):or||($t.reading=!1)}return Nt($t)}function kt(zt,Vt,nr,or){Vt.flowing&&Vt.length===0&&!Vt.sync?(zt.emit("data",nr),zt.read(0)):(Vt.length+=Vt.objectMode?1:nr.length,or?Vt.buffer.unshift(nr):Vt.buffer.push(nr),Vt.needReadable&&Et(zt)),dt(zt,Vt)}function Dt(zt,Vt){var nr;return!ut(Vt)&&typeof Vt!="string"&&Vt!==void 0&&!zt.objectMode&&(nr=new TypeError("Invalid non-string/buffer chunk")),nr}function Nt(zt){return!zt.ended&&(zt.needReadable||zt.length<zt.highWaterMark||zt.length===0)}Pt.prototype.isPaused=function(){return this._readableState.flowing===!1},Pt.prototype.setEncoding=function(zt){return xt||(xt=requireString_decoder().StringDecoder),this._readableState.decoder=new xt(zt),this._readableState.encoding=zt,this};var Gt=8388608;function Wt(zt){return zt>=Gt?zt=Gt:(zt--,zt|=zt>>>1,zt|=zt>>>2,zt|=zt>>>4,zt|=zt>>>8,zt|=zt>>>16,zt++),zt}function Ot(zt,Vt){return zt<=0||Vt.length===0&&Vt.ended?0:Vt.objectMode?1:zt!==zt?Vt.flowing&&Vt.length?Vt.buffer.head.data.length:Vt.length:(zt>Vt.highWaterMark&&(Vt.highWaterMark=Wt(zt)),zt<=Vt.length?zt:Vt.ended?Vt.length:(Vt.needReadable=!0,0))}Pt.prototype.read=function(zt){mt("read",zt),zt=parseInt(zt,10);var Vt=this._readableState,nr=zt;if(zt!==0&&(Vt.emittedReadable=!1),zt===0&&Vt.needReadable&&(Vt.length>=Vt.highWaterMark||Vt.ended))return mt("read: emitReadable",Vt.length,Vt.ended),Vt.length===0&&Vt.ended?jt(this):Et(this),null;if(zt=Ot(zt,Vt),zt===0&&Vt.ended)return Vt.length===0&&jt(this),null;var or=Vt.needReadable;mt("need readable",or),(Vt.length===0||Vt.length-zt<Vt.highWaterMark)&&(or=!0,mt("length less than watermark",or)),Vt.ended||Vt.reading?(or=!1,mt("reading or ended",or)):or&&(mt("do read"),Vt.reading=!0,Vt.sync=!0,Vt.length===0&&(Vt.needReadable=!0),this._read(Vt.highWaterMark),Vt.sync=!1,Vt.reading||(zt=Ot(nr,Vt)));var rr;return zt>0?rr=ct(zt,Vt):rr=null,rr===null?(Vt.needReadable=!0,zt=0):Vt.length-=zt,Vt.length===0&&(Vt.ended||(Vt.needReadable=!0),nr!==zt&&Vt.ended&&jt(this)),rr!==null&&this.emit("data",rr),rr};function Xt(zt,Vt){if(!Vt.ended){if(Vt.decoder){var nr=Vt.decoder.end();nr&&nr.length&&(Vt.buffer.push(nr),Vt.length+=Vt.objectMode?1:nr.length)}Vt.ended=!0,Et(zt)}}function Et(zt){var Vt=zt._readableState;Vt.needReadable=!1,Vt.emittedReadable||(mt("emitReadable",Vt.flowing),Vt.emittedReadable=!0,Vt.sync?rt.nextTick(lt,zt):lt(zt))}function lt(zt){mt("emit readable"),zt.emit("readable"),bt(zt)}function dt(zt,Vt){Vt.readingMore||(Vt.readingMore=!0,rt.nextTick(pt,zt,Vt))}function pt(zt,Vt){for(var nr=Vt.length;!Vt.reading&&!Vt.flowing&&!Vt.ended&&Vt.length<Vt.highWaterMark&&(mt("maybeReadMore read 0"),zt.read(0),nr!==Vt.length);)nr=Vt.length;Vt.readingMore=!1}Pt.prototype._read=function(zt){this.emit("error",new Error("_read() is not implemented"))},Pt.prototype.pipe=function(zt,Vt){var nr=this,or=this._readableState;switch(or.pipesCount){case 0:or.pipes=zt;break;case 1:or.pipes=[or.pipes,zt];break;default:or.pipes.push(zt);break}or.pipesCount+=1,mt("pipe count=%d opts=%j",or.pipesCount,Vt);var rr=(!Vt||Vt.end!==!1)&&zt!==api$2.stdout&&zt!==api$2.stderr,$t=rr?wr:pr;or.endEmitted?rt.nextTick($t):nr.once("end",$t),zt.on("unpipe",ar);function ar(er,yr){mt("onunpipe"),er===nr&&yr&&yr.hasUnpiped===!1&&(yr.hasUnpiped=!0,Yt())}function wr(){mt("onend"),zt.end()}var vr=vt(nr);zt.on("drain",vr);var Qt=!1;function Yt(){mt("cleanup"),zt.removeListener("close",gr),zt.removeListener("finish",Sr),zt.removeListener("drain",vr),zt.removeListener("error",br),zt.removeListener("unpipe",ar),nr.removeListener("end",wr),nr.removeListener("end",pr),nr.removeListener("data",tr),Qt=!0,or.awaitDrain&&(!zt._writableState||zt._writableState.needDrain)&&vr()}var Ht=!1;nr.on("data",tr);function tr(er){mt("ondata"),Ht=!1;var yr=zt.write(er);yr===!1&&!Ht&&((or.pipesCount===1&&or.pipes===zt||or.pipesCount>1&&Kt(or.pipes,zt)!==-1)&&!Qt&&(mt("false write response, pause",or.awaitDrain),or.awaitDrain++,Ht=!0),nr.pause())}function br(er){mt("onerror",er),pr(),zt.removeListener("error",br),nt(zt,"error")===0&&zt.emit("error",er)}Tt(zt,"error",br);function gr(){zt.removeListener("finish",Sr),pr()}zt.once("close",gr);function Sr(){mt("onfinish"),zt.removeListener("close",gr),pr()}zt.once("finish",Sr);function pr(){mt("unpipe"),nr.unpipe(zt)}return zt.emit("pipe",nr),or.flowing||(mt("pipe resume"),nr.resume()),zt};function vt(zt){return function(){var Vt=zt._readableState;mt("pipeOnDrain",Vt.awaitDrain),Vt.awaitDrain&&Vt.awaitDrain--,Vt.awaitDrain===0&&nt(zt,"data")&&(Vt.flowing=!0,bt(zt))}}Pt.prototype.unpipe=function(zt){var Vt=this._readableState,nr={hasUnpiped:!1};if(Vt.pipesCount===0)return this;if(Vt.pipesCount===1)return zt&&zt!==Vt.pipes?this:(zt||(zt=Vt.pipes),Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1,zt&&zt.emit("unpipe",this,nr),this);if(!zt){var or=Vt.pipes,rr=Vt.pipesCount;Vt.pipes=null,Vt.pipesCount=0,Vt.flowing=!1;for(var $t=0;$t<rr;$t++)or[$t].emit("unpipe",this,{hasUnpiped:!1});return this}var ar=Kt(Vt.pipes,zt);return ar===-1?this:(Vt.pipes.splice(ar,1),Vt.pipesCount-=1,Vt.pipesCount===1&&(Vt.pipes=Vt.pipes[0]),zt.emit("unpipe",this,nr),this)},Pt.prototype.on=function(zt,Vt){var nr=ot.prototype.on.call(this,zt,Vt);if(zt==="data")this._readableState.flowing!==!1&&this.resume();else if(zt==="readable"){var or=this._readableState;!or.endEmitted&&!or.readableListening&&(or.readableListening=or.needReadable=!0,or.emittedReadable=!1,or.reading?or.length&&Et(this):rt.nextTick(wt,this))}return nr},Pt.prototype.addListener=Pt.prototype.on;function wt(zt){mt("readable nexttick read 0"),zt.read(0)}Pt.prototype.resume=function(){var zt=this._readableState;return zt.flowing||(mt("resume"),zt.flowing=!0,At(this,zt)),this};function At(zt,Vt){Vt.resumeScheduled||(Vt.resumeScheduled=!0,rt.nextTick(Rt,zt,Vt))}function Rt(zt,Vt){Vt.reading||(mt("resume read 0"),zt.read(0)),Vt.resumeScheduled=!1,Vt.awaitDrain=0,zt.emit("resume"),bt(zt),Vt.flowing&&!Vt.reading&&zt.read(0)}Pt.prototype.pause=function(){return mt("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(mt("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function bt(zt){var Vt=zt._readableState;for(mt("flow",Vt.flowing);Vt.flowing&&zt.read()!==null;);}Pt.prototype.wrap=function(zt){var Vt=this,nr=this._readableState,or=!1;zt.on("end",function(){if(mt("wrapped end"),nr.decoder&&!nr.ended){var ar=nr.decoder.end();ar&&ar.length&&Vt.push(ar)}Vt.push(null)}),zt.on("data",function(ar){if(mt("wrapped data"),nr.decoder&&(ar=nr.decoder.write(ar)),!(nr.objectMode&&ar==null)&&!(!nr.objectMode&&(!ar||!ar.length))){var wr=Vt.push(ar);wr||(or=!0,zt.pause())}});for(var rr in zt)this[rr]===void 0&&typeof zt[rr]=="function"&&(this[rr]=function(ar){return function(){return zt[ar].apply(zt,arguments)}}(rr));for(var $t=0;$t<St.length;$t++)zt.on(St[$t],this.emit.bind(this,St[$t]));return this._read=function(ar){mt("wrapped _read",ar),or&&(or=!1,zt.resume())},this},Object.defineProperty(Pt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Pt._fromList=ct;function ct(zt,Vt){if(Vt.length===0)return null;var nr;return Vt.objectMode?nr=Vt.buffer.shift():!zt||zt>=Vt.length?(Vt.decoder?nr=Vt.buffer.join(""):Vt.buffer.length===1?nr=Vt.buffer.head.data:nr=Vt.buffer.concat(Vt.length),Vt.buffer.clear()):nr=_t(zt,Vt.buffer,Vt.decoder),nr}function _t(zt,Vt,nr){var or;return zt<Vt.head.data.length?(or=Vt.head.data.slice(0,zt),Vt.head.data=Vt.head.data.slice(zt)):zt===Vt.head.data.length?or=Vt.shift():or=nr?Lt(zt,Vt):Ft(zt,Vt),or}function Lt(zt,Vt){var nr=Vt.head,or=1,rr=nr.data;for(zt-=rr.length;nr=nr.next;){var $t=nr.data,ar=zt>$t.length?$t.length:zt;if(ar===$t.length?rr+=$t:rr+=$t.slice(0,zt),zt-=ar,zt===0){ar===$t.length?(++or,nr.next?Vt.head=nr.next:Vt.head=Vt.tail=null):(Vt.head=nr,nr.data=$t.slice(ar));break}++or}return Vt.length-=or,rr}function Ft(zt,Vt){var nr=it.allocUnsafe(zt),or=Vt.head,rr=1;for(or.data.copy(nr),zt-=or.data.length;or=or.next;){var $t=or.data,ar=zt>$t.length?$t.length:zt;if($t.copy(nr,nr.length-zt,0,ar),zt-=ar,zt===0){ar===$t.length?(++rr,or.next?Vt.head=or.next:Vt.head=Vt.tail=null):(Vt.head=or,or.data=$t.slice(ar));break}++rr}return Vt.length-=rr,nr}function jt(zt){var Vt=zt._readableState;if(Vt.length>0)throw new Error('"endReadable()" called on non-empty stream');Vt.endEmitted||(Vt.ended=!0,rt.nextTick(Zt,Vt,zt))}function Zt(zt,Vt){!zt.endEmitted&&zt.length===0&&(zt.endEmitted=!0,Vt.readable=!1,Vt.emit("end"))}function Kt(zt,Vt){for(var nr=0,or=zt.length;nr<or;nr++)if(zt[nr]===Vt)return nr;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=nt;var rt=require_stream_duplex(),et=Object.create(requireUtil());et.inherits=requireInherits_browser(),et.inherits(nt,rt);function tt(at,st){var ut=this._transformState;ut.transforming=!1;var ft=ut.writecb;if(!ft)return this.emit("error",new Error("write callback called multiple times"));ut.writechunk=null,ut.writecb=null,st!=null&&this.push(st),ft(at);var ht=this._readableState;ht.reading=!1,(ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}function nt(at){if(!(this instanceof nt))return new nt(at);rt.call(this,at),this._transformState={afterTransform:tt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,at&&(typeof at.transform=="function"&&(this._transform=at.transform),typeof at.flush=="function"&&(this._flush=at.flush)),this.on("prefinish",ot)}function ot(){var at=this;typeof this._flush=="function"?this._flush(function(st,ut){it(at,st,ut)}):it(this,null,null)}nt.prototype.push=function(at,st){return this._transformState.needTransform=!1,rt.prototype.push.call(this,at,st)},nt.prototype._transform=function(at,st,ut){throw new Error("_transform() is not implemented")},nt.prototype._write=function(at,st,ut){var ft=this._transformState;if(ft.writecb=ut,ft.writechunk=at,ft.writeencoding=st,!ft.transforming){var ht=this._readableState;(ft.needTransform||ht.needReadable||ht.length<ht.highWaterMark)&&this._read(ht.highWaterMark)}},nt.prototype._read=function(at){var st=this._transformState;st.writechunk!==null&&st.writecb&&!st.transforming?(st.transforming=!0,this._transform(st.writechunk,st.writeencoding,st.afterTransform)):st.needTransform=!0},nt.prototype._destroy=function(at,st){var ut=this;rt.prototype._destroy.call(this,at,function(ft){st(ft),ut.emit("close")})};function it(at,st,ut){if(st)return at.emit("error",st);if(ut!=null&&at.push(ut),at._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(at._transformState.transforming)throw new Error("Calling transform done when still transforming");return at.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=tt;var rt=require_stream_transform(),et=Object.create(requireUtil());et.inherits=requireInherits_browser(),et.inherits(tt,rt);function tt(nt){if(!(this instanceof tt))return new tt(nt);rt.call(this,nt)}return tt.prototype._transform=function(nt,ot,it){it(null,nt)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(rt,et){et=rt.exports=require_stream_readable(),et.Stream=et,et.Readable=et,et.Writable=require_stream_writable(),et.Duplex=require_stream_duplex(),et.Transform=require_stream_transform(),et.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(rt){(function(et,tt){function nt(dt,pt){if(!dt)throw new Error(pt||"Assertion failed")}function ot(dt,pt){dt.super_=pt;var vt=function(){};vt.prototype=pt.prototype,dt.prototype=new vt,dt.prototype.constructor=dt}function it(dt,pt,vt){if(it.isBN(dt))return dt;this.negative=0,this.words=null,this.length=0,this.red=null,dt!==null&&((pt==="le"||pt==="be")&&(vt=pt,pt=10),this._init(dt||0,pt||10,vt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(pt){return pt instanceof it?!0:pt!==null&&typeof pt=="object"&&pt.constructor.wordSize===it.wordSize&&Array.isArray(pt.words)},it.max=function(pt,vt){return pt.cmp(vt)>0?pt:vt},it.min=function(pt,vt){return pt.cmp(vt)<0?pt:vt},it.prototype._init=function(pt,vt,wt){if(typeof pt=="number")return this._initNumber(pt,vt,wt);if(typeof pt=="object")return this._initArray(pt,vt,wt);vt==="hex"&&(vt=16),nt(vt===(vt|0)&&vt>=2&&vt<=36),pt=pt.toString().replace(/\s+/g,"");var At=0;pt[0]==="-"&&(At++,this.negative=1),At<pt.length&&(vt===16?this._parseHex(pt,At,wt):(this._parseBase(pt,vt,At),wt==="le"&&this._initArray(this.toArray(),vt,wt)))},it.prototype._initNumber=function(pt,vt,wt){pt<0&&(this.negative=1,pt=-pt),pt<67108864?(this.words=[pt&67108863],this.length=1):pt<4503599627370496?(this.words=[pt&67108863,pt/67108864&67108863],this.length=2):(nt(pt<9007199254740992),this.words=[pt&67108863,pt/67108864&67108863,1],this.length=3),wt==="le"&&this._initArray(this.toArray(),vt,wt)},it.prototype._initArray=function(pt,vt,wt){if(nt(typeof pt.length=="number"),pt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(pt.length/3),this.words=new Array(this.length);for(var At=0;At<this.length;At++)this.words[At]=0;var Rt,bt,ct=0;if(wt==="be")for(At=pt.length-1,Rt=0;At>=0;At-=3)bt=pt[At]|pt[At-1]<<8|pt[At-2]<<16,this.words[Rt]|=bt<<ct&67108863,this.words[Rt+1]=bt>>>26-ct&67108863,ct+=24,ct>=26&&(ct-=26,Rt++);else if(wt==="le")for(At=0,Rt=0;At<pt.length;At+=3)bt=pt[At]|pt[At+1]<<8|pt[At+2]<<16,this.words[Rt]|=bt<<ct&67108863,this.words[Rt+1]=bt>>>26-ct&67108863,ct+=24,ct>=26&&(ct-=26,Rt++);return this._strip()};function st(dt,pt){var vt=dt.charCodeAt(pt);if(vt>=48&&vt<=57)return vt-48;if(vt>=65&&vt<=70)return vt-55;if(vt>=97&&vt<=102)return vt-87;nt(!1,"Invalid character in "+dt)}function ut(dt,pt,vt){var wt=st(dt,vt);return vt-1>=pt&&(wt|=st(dt,vt-1)<<4),wt}it.prototype._parseHex=function(pt,vt,wt){this.length=Math.ceil((pt.length-vt)/6),this.words=new Array(this.length);for(var At=0;At<this.length;At++)this.words[At]=0;var Rt=0,bt=0,ct;if(wt==="be")for(At=pt.length-1;At>=vt;At-=2)ct=ut(pt,vt,At)<<Rt,this.words[bt]|=ct&67108863,Rt>=18?(Rt-=18,bt+=1,this.words[bt]|=ct>>>26):Rt+=8;else{var _t=pt.length-vt;for(At=_t%2===0?vt+1:vt;At<pt.length;At+=2)ct=ut(pt,vt,At)<<Rt,this.words[bt]|=ct&67108863,Rt>=18?(Rt-=18,bt+=1,this.words[bt]|=ct>>>26):Rt+=8}this._strip()};function ft(dt,pt,vt,wt){for(var At=0,Rt=0,bt=Math.min(dt.length,vt),ct=pt;ct<bt;ct++){var _t=dt.charCodeAt(ct)-48;At*=wt,_t>=49?Rt=_t-49+10:_t>=17?Rt=_t-17+10:Rt=_t,nt(_t>=0&&Rt<wt,"Invalid character"),At+=Rt}return At}it.prototype._parseBase=function(pt,vt,wt){this.words=[0],this.length=1;for(var At=0,Rt=1;Rt<=67108863;Rt*=vt)At++;At--,Rt=Rt/vt|0;for(var bt=pt.length-wt,ct=bt%At,_t=Math.min(bt,bt-ct)+wt,Lt=0,Ft=wt;Ft<_t;Ft+=At)Lt=ft(pt,Ft,Ft+At,vt),this.imuln(Rt),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt);if(ct!==0){var jt=1;for(Lt=ft(pt,Ft,pt.length,vt),Ft=0;Ft<ct;Ft++)jt*=vt;this.imuln(jt),this.words[0]+Lt<67108864?this.words[0]+=Lt:this._iaddn(Lt)}this._strip()},it.prototype.copy=function(pt){pt.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)pt.words[vt]=this.words[vt];pt.length=this.length,pt.negative=this.negative,pt.red=this.red};function ht(dt,pt){dt.words=pt.words,dt.length=pt.length,dt.negative=pt.negative,dt.red=pt.red}if(it.prototype._move=function(pt){ht(pt,this)},it.prototype.clone=function(){var pt=new it(null);return this.copy(pt),pt},it.prototype._expand=function(pt){for(;this.length<pt;)this.words[this.length++]=0;return this},it.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{it.prototype[Symbol.for("nodejs.util.inspect.custom")]=mt}catch{it.prototype.inspect=mt}else it.prototype.inspect=mt;function mt(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var gt=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],yt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],xt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(pt,vt){pt=pt||10,vt=vt|0||1;var wt;if(pt===16||pt==="hex"){wt="";for(var At=0,Rt=0,bt=0;bt<this.length;bt++){var ct=this.words[bt],_t=((ct<<At|Rt)&16777215).toString(16);Rt=ct>>>24-At&16777215,At+=2,At>=26&&(At-=26,bt--),Rt!==0||bt!==this.length-1?wt=gt[6-_t.length]+_t+wt:wt=_t+wt}for(Rt!==0&&(wt=Rt.toString(16)+wt);wt.length%vt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}if(pt===(pt|0)&&pt>=2&&pt<=36){var Lt=yt[pt],Ft=xt[pt];wt="";var jt=this.clone();for(jt.negative=0;!jt.isZero();){var Zt=jt.modrn(Ft).toString(pt);jt=jt.idivn(Ft),jt.isZero()?wt=Zt+wt:wt=gt[Lt-Zt.length]+Zt+wt}for(this.isZero()&&(wt="0"+wt);wt.length%vt!==0;)wt="0"+wt;return this.negative!==0&&(wt="-"+wt),wt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var pt=this.words[0];return this.length===2?pt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?pt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-pt:pt},it.prototype.toJSON=function(){return this.toString(16,2)},at&&(it.prototype.toBuffer=function(pt,vt){return this.toArrayLike(at,pt,vt)}),it.prototype.toArray=function(pt,vt){return this.toArrayLike(Array,pt,vt)};var St=function(pt,vt){return pt.allocUnsafe?pt.allocUnsafe(vt):new pt(vt)};it.prototype.toArrayLike=function(pt,vt,wt){this._strip();var At=this.byteLength(),Rt=wt||Math.max(1,At);nt(At<=Rt,"byte array longer than desired length"),nt(Rt>0,"Requested array length <= 0");var bt=St(pt,Rt),ct=vt==="le"?"LE":"BE";return this["_toArrayLike"+ct](bt,At),bt},it.prototype._toArrayLikeLE=function(pt,vt){for(var wt=0,At=0,Rt=0,bt=0;Rt<this.length;Rt++){var ct=this.words[Rt]<<bt|At;pt[wt++]=ct&255,wt<pt.length&&(pt[wt++]=ct>>8&255),wt<pt.length&&(pt[wt++]=ct>>16&255),bt===6?(wt<pt.length&&(pt[wt++]=ct>>24&255),At=0,bt=0):(At=ct>>>24,bt+=2)}if(wt<pt.length)for(pt[wt++]=At;wt<pt.length;)pt[wt++]=0},it.prototype._toArrayLikeBE=function(pt,vt){for(var wt=pt.length-1,At=0,Rt=0,bt=0;Rt<this.length;Rt++){var ct=this.words[Rt]<<bt|At;pt[wt--]=ct&255,wt>=0&&(pt[wt--]=ct>>8&255),wt>=0&&(pt[wt--]=ct>>16&255),bt===6?(wt>=0&&(pt[wt--]=ct>>24&255),At=0,bt=0):(At=ct>>>24,bt+=2)}if(wt>=0)for(pt[wt--]=At;wt>=0;)pt[wt--]=0},Math.clz32?it.prototype._countBits=function(pt){return 32-Math.clz32(pt)}:it.prototype._countBits=function(pt){var vt=pt,wt=0;return vt>=4096&&(wt+=13,vt>>>=13),vt>=64&&(wt+=7,vt>>>=7),vt>=8&&(wt+=4,vt>>>=4),vt>=2&&(wt+=2,vt>>>=2),wt+vt},it.prototype._zeroBits=function(pt){if(pt===0)return 26;var vt=pt,wt=0;return vt&8191||(wt+=13,vt>>>=13),vt&127||(wt+=7,vt>>>=7),vt&15||(wt+=4,vt>>>=4),vt&3||(wt+=2,vt>>>=2),vt&1||wt++,wt},it.prototype.bitLength=function(){var pt=this.words[this.length-1],vt=this._countBits(pt);return(this.length-1)*26+vt};function Tt(dt){for(var pt=new Array(dt.bitLength()),vt=0;vt<pt.length;vt++){var wt=vt/26|0,At=vt%26;pt[vt]=dt.words[wt]>>>At&1}return pt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var pt=0,vt=0;vt<this.length;vt++){var wt=this._zeroBits(this.words[vt]);if(pt+=wt,wt!==26)break}return pt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(pt){return this.negative!==0?this.abs().inotn(pt).iaddn(1):this.clone()},it.prototype.fromTwos=function(pt){return this.testn(pt-1)?this.notn(pt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(pt){for(;this.length<pt.length;)this.words[this.length++]=0;for(var vt=0;vt<pt.length;vt++)this.words[vt]=this.words[vt]|pt.words[vt];return this._strip()},it.prototype.ior=function(pt){return nt((this.negative|pt.negative)===0),this.iuor(pt)},it.prototype.or=function(pt){return this.length>pt.length?this.clone().ior(pt):pt.clone().ior(this)},it.prototype.uor=function(pt){return this.length>pt.length?this.clone().iuor(pt):pt.clone().iuor(this)},it.prototype.iuand=function(pt){var vt;this.length>pt.length?vt=pt:vt=this;for(var wt=0;wt<vt.length;wt++)this.words[wt]=this.words[wt]&pt.words[wt];return this.length=vt.length,this._strip()},it.prototype.iand=function(pt){return nt((this.negative|pt.negative)===0),this.iuand(pt)},it.prototype.and=function(pt){return this.length>pt.length?this.clone().iand(pt):pt.clone().iand(this)},it.prototype.uand=function(pt){return this.length>pt.length?this.clone().iuand(pt):pt.clone().iuand(this)},it.prototype.iuxor=function(pt){var vt,wt;this.length>pt.length?(vt=this,wt=pt):(vt=pt,wt=this);for(var At=0;At<wt.length;At++)this.words[At]=vt.words[At]^wt.words[At];if(this!==vt)for(;At<vt.length;At++)this.words[At]=vt.words[At];return this.length=vt.length,this._strip()},it.prototype.ixor=function(pt){return nt((this.negative|pt.negative)===0),this.iuxor(pt)},it.prototype.xor=function(pt){return this.length>pt.length?this.clone().ixor(pt):pt.clone().ixor(this)},it.prototype.uxor=function(pt){return this.length>pt.length?this.clone().iuxor(pt):pt.clone().iuxor(this)},it.prototype.inotn=function(pt){nt(typeof pt=="number"&&pt>=0);var vt=Math.ceil(pt/26)|0,wt=pt%26;this._expand(vt),wt>0&&vt--;for(var At=0;At<vt;At++)this.words[At]=~this.words[At]&67108863;return wt>0&&(this.words[At]=~this.words[At]&67108863>>26-wt),this._strip()},it.prototype.notn=function(pt){return this.clone().inotn(pt)},it.prototype.setn=function(pt,vt){nt(typeof pt=="number"&&pt>=0);var wt=pt/26|0,At=pt%26;return this._expand(wt+1),vt?this.words[wt]=this.words[wt]|1<<At:this.words[wt]=this.words[wt]&~(1<<At),this._strip()},it.prototype.iadd=function(pt){var vt;if(this.negative!==0&&pt.negative===0)return this.negative=0,vt=this.isub(pt),this.negative^=1,this._normSign();if(this.negative===0&&pt.negative!==0)return pt.negative=0,vt=this.isub(pt),pt.negative=1,vt._normSign();var wt,At;this.length>pt.length?(wt=this,At=pt):(wt=pt,At=this);for(var Rt=0,bt=0;bt<At.length;bt++)vt=(wt.words[bt]|0)+(At.words[bt]|0)+Rt,this.words[bt]=vt&67108863,Rt=vt>>>26;for(;Rt!==0&&bt<wt.length;bt++)vt=(wt.words[bt]|0)+Rt,this.words[bt]=vt&67108863,Rt=vt>>>26;if(this.length=wt.length,Rt!==0)this.words[this.length]=Rt,this.length++;else if(wt!==this)for(;bt<wt.length;bt++)this.words[bt]=wt.words[bt];return this},it.prototype.add=function(pt){var vt;return pt.negative!==0&&this.negative===0?(pt.negative=0,vt=this.sub(pt),pt.negative^=1,vt):pt.negative===0&&this.negative!==0?(this.negative=0,vt=pt.sub(this),this.negative=1,vt):this.length>pt.length?this.clone().iadd(pt):pt.clone().iadd(this)},it.prototype.isub=function(pt){if(pt.negative!==0){pt.negative=0;var vt=this.iadd(pt);return pt.negative=1,vt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(pt),this.negative=1,this._normSign();var wt=this.cmp(pt);if(wt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var At,Rt;wt>0?(At=this,Rt=pt):(At=pt,Rt=this);for(var bt=0,ct=0;ct<Rt.length;ct++)vt=(At.words[ct]|0)-(Rt.words[ct]|0)+bt,bt=vt>>26,this.words[ct]=vt&67108863;for(;bt!==0&&ct<At.length;ct++)vt=(At.words[ct]|0)+bt,bt=vt>>26,this.words[ct]=vt&67108863;if(bt===0&&ct<At.length&&At!==this)for(;ct<At.length;ct++)this.words[ct]=At.words[ct];return this.length=Math.max(this.length,ct),At!==this&&(this.negative=1),this._strip()},it.prototype.sub=function(pt){return this.clone().isub(pt)};function Mt(dt,pt,vt){vt.negative=pt.negative^dt.negative;var wt=dt.length+pt.length|0;vt.length=wt,wt=wt-1|0;var At=dt.words[0]|0,Rt=pt.words[0]|0,bt=At*Rt,ct=bt&67108863,_t=bt/67108864|0;vt.words[0]=ct;for(var Lt=1;Lt<wt;Lt++){for(var Ft=_t>>>26,jt=_t&67108863,Zt=Math.min(Lt,pt.length-1),Kt=Math.max(0,Lt-dt.length+1);Kt<=Zt;Kt++){var zt=Lt-Kt|0;At=dt.words[zt]|0,Rt=pt.words[Kt]|0,bt=At*Rt+jt,Ft+=bt/67108864|0,jt=bt&67108863}vt.words[Lt]=jt|0,_t=Ft|0}return _t!==0?vt.words[Lt]=_t|0:vt.length--,vt._strip()}var Pt=function(pt,vt,wt){var At=pt.words,Rt=vt.words,bt=wt.words,ct=0,_t,Lt,Ft,jt=At[0]|0,Zt=jt&8191,Kt=jt>>>13,zt=At[1]|0,Vt=zt&8191,nr=zt>>>13,or=At[2]|0,rr=or&8191,$t=or>>>13,ar=At[3]|0,wr=ar&8191,vr=ar>>>13,Qt=At[4]|0,Yt=Qt&8191,Ht=Qt>>>13,tr=At[5]|0,br=tr&8191,gr=tr>>>13,Sr=At[6]|0,pr=Sr&8191,er=Sr>>>13,yr=At[7]|0,Gr=yr&8191,Mr=yr>>>13,Ar=At[8]|0,an=Ar&8191,Br=Ar>>>13,Dr=At[9]|0,ln=Dr&8191,Ir=Dr>>>13,Tr=Rt[0]|0,Er=Tr&8191,_r=Tr>>>13,xr=Rt[1]|0,Xr=xr&8191,dr=xr>>>13,Pr=Rt[2]|0,Jr=Pr&8191,Nr=Pr>>>13,$r=Rt[3]|0,Zr=$r&8191,Or=$r>>>13,Kr=Rt[4]|0,Pn=Kr&8191,Yr=Kr>>>13,sn=Rt[5]|0,In=sn&8191,rn=sn>>>13,Vr=Rt[6]|0,sr=Vr&8191,lr=Vr>>>13,ur=Rt[7]|0,Jt=ur&8191,fr=ur>>>13,Cr=Rt[8]|0,Wr=Cr&8191,Rr=Cr>>>13,cr=Rt[9]|0,Lr=cr&8191,Fr=cr>>>13;wt.negative=pt.negative^vt.negative,wt.length=19,_t=Math.imul(Zt,Er),Lt=Math.imul(Zt,_r),Lt=Lt+Math.imul(Kt,Er)|0,Ft=Math.imul(Kt,_r);var zr=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(zr>>>26)|0,zr&=67108863,_t=Math.imul(Vt,Er),Lt=Math.imul(Vt,_r),Lt=Lt+Math.imul(nr,Er)|0,Ft=Math.imul(nr,_r),_t=_t+Math.imul(Zt,Xr)|0,Lt=Lt+Math.imul(Zt,dr)|0,Lt=Lt+Math.imul(Kt,Xr)|0,Ft=Ft+Math.imul(Kt,dr)|0;var Hr=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,_t=Math.imul(rr,Er),Lt=Math.imul(rr,_r),Lt=Lt+Math.imul($t,Er)|0,Ft=Math.imul($t,_r),_t=_t+Math.imul(Vt,Xr)|0,Lt=Lt+Math.imul(Vt,dr)|0,Lt=Lt+Math.imul(nr,Xr)|0,Ft=Ft+Math.imul(nr,dr)|0,_t=_t+Math.imul(Zt,Jr)|0,Lt=Lt+Math.imul(Zt,Nr)|0,Lt=Lt+Math.imul(Kt,Jr)|0,Ft=Ft+Math.imul(Kt,Nr)|0;var hn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(hn>>>26)|0,hn&=67108863,_t=Math.imul(wr,Er),Lt=Math.imul(wr,_r),Lt=Lt+Math.imul(vr,Er)|0,Ft=Math.imul(vr,_r),_t=_t+Math.imul(rr,Xr)|0,Lt=Lt+Math.imul(rr,dr)|0,Lt=Lt+Math.imul($t,Xr)|0,Ft=Ft+Math.imul($t,dr)|0,_t=_t+Math.imul(Vt,Jr)|0,Lt=Lt+Math.imul(Vt,Nr)|0,Lt=Lt+Math.imul(nr,Jr)|0,Ft=Ft+Math.imul(nr,Nr)|0,_t=_t+Math.imul(Zt,Zr)|0,Lt=Lt+Math.imul(Zt,Or)|0,Lt=Lt+Math.imul(Kt,Zr)|0,Ft=Ft+Math.imul(Kt,Or)|0;var gn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(gn>>>26)|0,gn&=67108863,_t=Math.imul(Yt,Er),Lt=Math.imul(Yt,_r),Lt=Lt+Math.imul(Ht,Er)|0,Ft=Math.imul(Ht,_r),_t=_t+Math.imul(wr,Xr)|0,Lt=Lt+Math.imul(wr,dr)|0,Lt=Lt+Math.imul(vr,Xr)|0,Ft=Ft+Math.imul(vr,dr)|0,_t=_t+Math.imul(rr,Jr)|0,Lt=Lt+Math.imul(rr,Nr)|0,Lt=Lt+Math.imul($t,Jr)|0,Ft=Ft+Math.imul($t,Nr)|0,_t=_t+Math.imul(Vt,Zr)|0,Lt=Lt+Math.imul(Vt,Or)|0,Lt=Lt+Math.imul(nr,Zr)|0,Ft=Ft+Math.imul(nr,Or)|0,_t=_t+Math.imul(Zt,Pn)|0,Lt=Lt+Math.imul(Zt,Yr)|0,Lt=Lt+Math.imul(Kt,Pn)|0,Ft=Ft+Math.imul(Kt,Yr)|0;var wn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(wn>>>26)|0,wn&=67108863,_t=Math.imul(br,Er),Lt=Math.imul(br,_r),Lt=Lt+Math.imul(gr,Er)|0,Ft=Math.imul(gr,_r),_t=_t+Math.imul(Yt,Xr)|0,Lt=Lt+Math.imul(Yt,dr)|0,Lt=Lt+Math.imul(Ht,Xr)|0,Ft=Ft+Math.imul(Ht,dr)|0,_t=_t+Math.imul(wr,Jr)|0,Lt=Lt+Math.imul(wr,Nr)|0,Lt=Lt+Math.imul(vr,Jr)|0,Ft=Ft+Math.imul(vr,Nr)|0,_t=_t+Math.imul(rr,Zr)|0,Lt=Lt+Math.imul(rr,Or)|0,Lt=Lt+Math.imul($t,Zr)|0,Ft=Ft+Math.imul($t,Or)|0,_t=_t+Math.imul(Vt,Pn)|0,Lt=Lt+Math.imul(Vt,Yr)|0,Lt=Lt+Math.imul(nr,Pn)|0,Ft=Ft+Math.imul(nr,Yr)|0,_t=_t+Math.imul(Zt,In)|0,Lt=Lt+Math.imul(Zt,rn)|0,Lt=Lt+Math.imul(Kt,In)|0,Ft=Ft+Math.imul(Kt,rn)|0;var xn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(xn>>>26)|0,xn&=67108863,_t=Math.imul(pr,Er),Lt=Math.imul(pr,_r),Lt=Lt+Math.imul(er,Er)|0,Ft=Math.imul(er,_r),_t=_t+Math.imul(br,Xr)|0,Lt=Lt+Math.imul(br,dr)|0,Lt=Lt+Math.imul(gr,Xr)|0,Ft=Ft+Math.imul(gr,dr)|0,_t=_t+Math.imul(Yt,Jr)|0,Lt=Lt+Math.imul(Yt,Nr)|0,Lt=Lt+Math.imul(Ht,Jr)|0,Ft=Ft+Math.imul(Ht,Nr)|0,_t=_t+Math.imul(wr,Zr)|0,Lt=Lt+Math.imul(wr,Or)|0,Lt=Lt+Math.imul(vr,Zr)|0,Ft=Ft+Math.imul(vr,Or)|0,_t=_t+Math.imul(rr,Pn)|0,Lt=Lt+Math.imul(rr,Yr)|0,Lt=Lt+Math.imul($t,Pn)|0,Ft=Ft+Math.imul($t,Yr)|0,_t=_t+Math.imul(Vt,In)|0,Lt=Lt+Math.imul(Vt,rn)|0,Lt=Lt+Math.imul(nr,In)|0,Ft=Ft+Math.imul(nr,rn)|0,_t=_t+Math.imul(Zt,sr)|0,Lt=Lt+Math.imul(Zt,lr)|0,Lt=Lt+Math.imul(Kt,sr)|0,Ft=Ft+Math.imul(Kt,lr)|0;var An=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(An>>>26)|0,An&=67108863,_t=Math.imul(Gr,Er),Lt=Math.imul(Gr,_r),Lt=Lt+Math.imul(Mr,Er)|0,Ft=Math.imul(Mr,_r),_t=_t+Math.imul(pr,Xr)|0,Lt=Lt+Math.imul(pr,dr)|0,Lt=Lt+Math.imul(er,Xr)|0,Ft=Ft+Math.imul(er,dr)|0,_t=_t+Math.imul(br,Jr)|0,Lt=Lt+Math.imul(br,Nr)|0,Lt=Lt+Math.imul(gr,Jr)|0,Ft=Ft+Math.imul(gr,Nr)|0,_t=_t+Math.imul(Yt,Zr)|0,Lt=Lt+Math.imul(Yt,Or)|0,Lt=Lt+Math.imul(Ht,Zr)|0,Ft=Ft+Math.imul(Ht,Or)|0,_t=_t+Math.imul(wr,Pn)|0,Lt=Lt+Math.imul(wr,Yr)|0,Lt=Lt+Math.imul(vr,Pn)|0,Ft=Ft+Math.imul(vr,Yr)|0,_t=_t+Math.imul(rr,In)|0,Lt=Lt+Math.imul(rr,rn)|0,Lt=Lt+Math.imul($t,In)|0,Ft=Ft+Math.imul($t,rn)|0,_t=_t+Math.imul(Vt,sr)|0,Lt=Lt+Math.imul(Vt,lr)|0,Lt=Lt+Math.imul(nr,sr)|0,Ft=Ft+Math.imul(nr,lr)|0,_t=_t+Math.imul(Zt,Jt)|0,Lt=Lt+Math.imul(Zt,fr)|0,Lt=Lt+Math.imul(Kt,Jt)|0,Ft=Ft+Math.imul(Kt,fr)|0;var tn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(tn>>>26)|0,tn&=67108863,_t=Math.imul(an,Er),Lt=Math.imul(an,_r),Lt=Lt+Math.imul(Br,Er)|0,Ft=Math.imul(Br,_r),_t=_t+Math.imul(Gr,Xr)|0,Lt=Lt+Math.imul(Gr,dr)|0,Lt=Lt+Math.imul(Mr,Xr)|0,Ft=Ft+Math.imul(Mr,dr)|0,_t=_t+Math.imul(pr,Jr)|0,Lt=Lt+Math.imul(pr,Nr)|0,Lt=Lt+Math.imul(er,Jr)|0,Ft=Ft+Math.imul(er,Nr)|0,_t=_t+Math.imul(br,Zr)|0,Lt=Lt+Math.imul(br,Or)|0,Lt=Lt+Math.imul(gr,Zr)|0,Ft=Ft+Math.imul(gr,Or)|0,_t=_t+Math.imul(Yt,Pn)|0,Lt=Lt+Math.imul(Yt,Yr)|0,Lt=Lt+Math.imul(Ht,Pn)|0,Ft=Ft+Math.imul(Ht,Yr)|0,_t=_t+Math.imul(wr,In)|0,Lt=Lt+Math.imul(wr,rn)|0,Lt=Lt+Math.imul(vr,In)|0,Ft=Ft+Math.imul(vr,rn)|0,_t=_t+Math.imul(rr,sr)|0,Lt=Lt+Math.imul(rr,lr)|0,Lt=Lt+Math.imul($t,sr)|0,Ft=Ft+Math.imul($t,lr)|0,_t=_t+Math.imul(Vt,Jt)|0,Lt=Lt+Math.imul(Vt,fr)|0,Lt=Lt+Math.imul(nr,Jt)|0,Ft=Ft+Math.imul(nr,fr)|0,_t=_t+Math.imul(Zt,Wr)|0,Lt=Lt+Math.imul(Zt,Rr)|0,Lt=Lt+Math.imul(Kt,Wr)|0,Ft=Ft+Math.imul(Kt,Rr)|0;var _n=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(_n>>>26)|0,_n&=67108863,_t=Math.imul(ln,Er),Lt=Math.imul(ln,_r),Lt=Lt+Math.imul(Ir,Er)|0,Ft=Math.imul(Ir,_r),_t=_t+Math.imul(an,Xr)|0,Lt=Lt+Math.imul(an,dr)|0,Lt=Lt+Math.imul(Br,Xr)|0,Ft=Ft+Math.imul(Br,dr)|0,_t=_t+Math.imul(Gr,Jr)|0,Lt=Lt+Math.imul(Gr,Nr)|0,Lt=Lt+Math.imul(Mr,Jr)|0,Ft=Ft+Math.imul(Mr,Nr)|0,_t=_t+Math.imul(pr,Zr)|0,Lt=Lt+Math.imul(pr,Or)|0,Lt=Lt+Math.imul(er,Zr)|0,Ft=Ft+Math.imul(er,Or)|0,_t=_t+Math.imul(br,Pn)|0,Lt=Lt+Math.imul(br,Yr)|0,Lt=Lt+Math.imul(gr,Pn)|0,Ft=Ft+Math.imul(gr,Yr)|0,_t=_t+Math.imul(Yt,In)|0,Lt=Lt+Math.imul(Yt,rn)|0,Lt=Lt+Math.imul(Ht,In)|0,Ft=Ft+Math.imul(Ht,rn)|0,_t=_t+Math.imul(wr,sr)|0,Lt=Lt+Math.imul(wr,lr)|0,Lt=Lt+Math.imul(vr,sr)|0,Ft=Ft+Math.imul(vr,lr)|0,_t=_t+Math.imul(rr,Jt)|0,Lt=Lt+Math.imul(rr,fr)|0,Lt=Lt+Math.imul($t,Jt)|0,Ft=Ft+Math.imul($t,fr)|0,_t=_t+Math.imul(Vt,Wr)|0,Lt=Lt+Math.imul(Vt,Rr)|0,Lt=Lt+Math.imul(nr,Wr)|0,Ft=Ft+Math.imul(nr,Rr)|0,_t=_t+Math.imul(Zt,Lr)|0,Lt=Lt+Math.imul(Zt,Fr)|0,Lt=Lt+Math.imul(Kt,Lr)|0,Ft=Ft+Math.imul(Kt,Fr)|0;var Mn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,_t=Math.imul(ln,Xr),Lt=Math.imul(ln,dr),Lt=Lt+Math.imul(Ir,Xr)|0,Ft=Math.imul(Ir,dr),_t=_t+Math.imul(an,Jr)|0,Lt=Lt+Math.imul(an,Nr)|0,Lt=Lt+Math.imul(Br,Jr)|0,Ft=Ft+Math.imul(Br,Nr)|0,_t=_t+Math.imul(Gr,Zr)|0,Lt=Lt+Math.imul(Gr,Or)|0,Lt=Lt+Math.imul(Mr,Zr)|0,Ft=Ft+Math.imul(Mr,Or)|0,_t=_t+Math.imul(pr,Pn)|0,Lt=Lt+Math.imul(pr,Yr)|0,Lt=Lt+Math.imul(er,Pn)|0,Ft=Ft+Math.imul(er,Yr)|0,_t=_t+Math.imul(br,In)|0,Lt=Lt+Math.imul(br,rn)|0,Lt=Lt+Math.imul(gr,In)|0,Ft=Ft+Math.imul(gr,rn)|0,_t=_t+Math.imul(Yt,sr)|0,Lt=Lt+Math.imul(Yt,lr)|0,Lt=Lt+Math.imul(Ht,sr)|0,Ft=Ft+Math.imul(Ht,lr)|0,_t=_t+Math.imul(wr,Jt)|0,Lt=Lt+Math.imul(wr,fr)|0,Lt=Lt+Math.imul(vr,Jt)|0,Ft=Ft+Math.imul(vr,fr)|0,_t=_t+Math.imul(rr,Wr)|0,Lt=Lt+Math.imul(rr,Rr)|0,Lt=Lt+Math.imul($t,Wr)|0,Ft=Ft+Math.imul($t,Rr)|0,_t=_t+Math.imul(Vt,Lr)|0,Lt=Lt+Math.imul(Vt,Fr)|0,Lt=Lt+Math.imul(nr,Lr)|0,Ft=Ft+Math.imul(nr,Fr)|0;var En=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(En>>>26)|0,En&=67108863,_t=Math.imul(ln,Jr),Lt=Math.imul(ln,Nr),Lt=Lt+Math.imul(Ir,Jr)|0,Ft=Math.imul(Ir,Nr),_t=_t+Math.imul(an,Zr)|0,Lt=Lt+Math.imul(an,Or)|0,Lt=Lt+Math.imul(Br,Zr)|0,Ft=Ft+Math.imul(Br,Or)|0,_t=_t+Math.imul(Gr,Pn)|0,Lt=Lt+Math.imul(Gr,Yr)|0,Lt=Lt+Math.imul(Mr,Pn)|0,Ft=Ft+Math.imul(Mr,Yr)|0,_t=_t+Math.imul(pr,In)|0,Lt=Lt+Math.imul(pr,rn)|0,Lt=Lt+Math.imul(er,In)|0,Ft=Ft+Math.imul(er,rn)|0,_t=_t+Math.imul(br,sr)|0,Lt=Lt+Math.imul(br,lr)|0,Lt=Lt+Math.imul(gr,sr)|0,Ft=Ft+Math.imul(gr,lr)|0,_t=_t+Math.imul(Yt,Jt)|0,Lt=Lt+Math.imul(Yt,fr)|0,Lt=Lt+Math.imul(Ht,Jt)|0,Ft=Ft+Math.imul(Ht,fr)|0,_t=_t+Math.imul(wr,Wr)|0,Lt=Lt+Math.imul(wr,Rr)|0,Lt=Lt+Math.imul(vr,Wr)|0,Ft=Ft+Math.imul(vr,Rr)|0,_t=_t+Math.imul(rr,Lr)|0,Lt=Lt+Math.imul(rr,Fr)|0,Lt=Lt+Math.imul($t,Lr)|0,Ft=Ft+Math.imul($t,Fr)|0;var Cn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,_t=Math.imul(ln,Zr),Lt=Math.imul(ln,Or),Lt=Lt+Math.imul(Ir,Zr)|0,Ft=Math.imul(Ir,Or),_t=_t+Math.imul(an,Pn)|0,Lt=Lt+Math.imul(an,Yr)|0,Lt=Lt+Math.imul(Br,Pn)|0,Ft=Ft+Math.imul(Br,Yr)|0,_t=_t+Math.imul(Gr,In)|0,Lt=Lt+Math.imul(Gr,rn)|0,Lt=Lt+Math.imul(Mr,In)|0,Ft=Ft+Math.imul(Mr,rn)|0,_t=_t+Math.imul(pr,sr)|0,Lt=Lt+Math.imul(pr,lr)|0,Lt=Lt+Math.imul(er,sr)|0,Ft=Ft+Math.imul(er,lr)|0,_t=_t+Math.imul(br,Jt)|0,Lt=Lt+Math.imul(br,fr)|0,Lt=Lt+Math.imul(gr,Jt)|0,Ft=Ft+Math.imul(gr,fr)|0,_t=_t+Math.imul(Yt,Wr)|0,Lt=Lt+Math.imul(Yt,Rr)|0,Lt=Lt+Math.imul(Ht,Wr)|0,Ft=Ft+Math.imul(Ht,Rr)|0,_t=_t+Math.imul(wr,Lr)|0,Lt=Lt+Math.imul(wr,Fr)|0,Lt=Lt+Math.imul(vr,Lr)|0,Ft=Ft+Math.imul(vr,Fr)|0;var Rn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,_t=Math.imul(ln,Pn),Lt=Math.imul(ln,Yr),Lt=Lt+Math.imul(Ir,Pn)|0,Ft=Math.imul(Ir,Yr),_t=_t+Math.imul(an,In)|0,Lt=Lt+Math.imul(an,rn)|0,Lt=Lt+Math.imul(Br,In)|0,Ft=Ft+Math.imul(Br,rn)|0,_t=_t+Math.imul(Gr,sr)|0,Lt=Lt+Math.imul(Gr,lr)|0,Lt=Lt+Math.imul(Mr,sr)|0,Ft=Ft+Math.imul(Mr,lr)|0,_t=_t+Math.imul(pr,Jt)|0,Lt=Lt+Math.imul(pr,fr)|0,Lt=Lt+Math.imul(er,Jt)|0,Ft=Ft+Math.imul(er,fr)|0,_t=_t+Math.imul(br,Wr)|0,Lt=Lt+Math.imul(br,Rr)|0,Lt=Lt+Math.imul(gr,Wr)|0,Ft=Ft+Math.imul(gr,Rr)|0,_t=_t+Math.imul(Yt,Lr)|0,Lt=Lt+Math.imul(Yt,Fr)|0,Lt=Lt+Math.imul(Ht,Lr)|0,Ft=Ft+Math.imul(Ht,Fr)|0;var Sn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,_t=Math.imul(ln,In),Lt=Math.imul(ln,rn),Lt=Lt+Math.imul(Ir,In)|0,Ft=Math.imul(Ir,rn),_t=_t+Math.imul(an,sr)|0,Lt=Lt+Math.imul(an,lr)|0,Lt=Lt+Math.imul(Br,sr)|0,Ft=Ft+Math.imul(Br,lr)|0,_t=_t+Math.imul(Gr,Jt)|0,Lt=Lt+Math.imul(Gr,fr)|0,Lt=Lt+Math.imul(Mr,Jt)|0,Ft=Ft+Math.imul(Mr,fr)|0,_t=_t+Math.imul(pr,Wr)|0,Lt=Lt+Math.imul(pr,Rr)|0,Lt=Lt+Math.imul(er,Wr)|0,Ft=Ft+Math.imul(er,Rr)|0,_t=_t+Math.imul(br,Lr)|0,Lt=Lt+Math.imul(br,Fr)|0,Lt=Lt+Math.imul(gr,Lr)|0,Ft=Ft+Math.imul(gr,Fr)|0;var un=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(un>>>26)|0,un&=67108863,_t=Math.imul(ln,sr),Lt=Math.imul(ln,lr),Lt=Lt+Math.imul(Ir,sr)|0,Ft=Math.imul(Ir,lr),_t=_t+Math.imul(an,Jt)|0,Lt=Lt+Math.imul(an,fr)|0,Lt=Lt+Math.imul(Br,Jt)|0,Ft=Ft+Math.imul(Br,fr)|0,_t=_t+Math.imul(Gr,Wr)|0,Lt=Lt+Math.imul(Gr,Rr)|0,Lt=Lt+Math.imul(Mr,Wr)|0,Ft=Ft+Math.imul(Mr,Rr)|0,_t=_t+Math.imul(pr,Lr)|0,Lt=Lt+Math.imul(pr,Fr)|0,Lt=Lt+Math.imul(er,Lr)|0,Ft=Ft+Math.imul(er,Fr)|0;var jr=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(jr>>>26)|0,jr&=67108863,_t=Math.imul(ln,Jt),Lt=Math.imul(ln,fr),Lt=Lt+Math.imul(Ir,Jt)|0,Ft=Math.imul(Ir,fr),_t=_t+Math.imul(an,Wr)|0,Lt=Lt+Math.imul(an,Rr)|0,Lt=Lt+Math.imul(Br,Wr)|0,Ft=Ft+Math.imul(Br,Rr)|0,_t=_t+Math.imul(Gr,Lr)|0,Lt=Lt+Math.imul(Gr,Fr)|0,Lt=Lt+Math.imul(Mr,Lr)|0,Ft=Ft+Math.imul(Mr,Fr)|0;var qr=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(qr>>>26)|0,qr&=67108863,_t=Math.imul(ln,Wr),Lt=Math.imul(ln,Rr),Lt=Lt+Math.imul(Ir,Wr)|0,Ft=Math.imul(Ir,Rr),_t=_t+Math.imul(an,Lr)|0,Lt=Lt+Math.imul(an,Fr)|0,Lt=Lt+Math.imul(Br,Lr)|0,Ft=Ft+Math.imul(Br,Fr)|0;var yn=(ct+_t|0)+((Lt&8191)<<13)|0;ct=(Ft+(Lt>>>13)|0)+(yn>>>26)|0,yn&=67108863,_t=Math.imul(ln,Lr),Lt=Math.imul(ln,Fr),Lt=Lt+Math.imul(Ir,Lr)|0,Ft=Math.imul(Ir,Fr);var dn=(ct+_t|0)+((Lt&8191)<<13)|0;return ct=(Ft+(Lt>>>13)|0)+(dn>>>26)|0,dn&=67108863,bt[0]=zr,bt[1]=Hr,bt[2]=hn,bt[3]=gn,bt[4]=wn,bt[5]=xn,bt[6]=An,bt[7]=tn,bt[8]=_n,bt[9]=Mn,bt[10]=En,bt[11]=Cn,bt[12]=Rn,bt[13]=Sn,bt[14]=un,bt[15]=jr,bt[16]=qr,bt[17]=yn,bt[18]=dn,ct!==0&&(bt[19]=ct,wt.length++),wt};Math.imul||(Pt=Mt);function It(dt,pt,vt){vt.negative=pt.negative^dt.negative,vt.length=dt.length+pt.length;for(var wt=0,At=0,Rt=0;Rt<vt.length-1;Rt++){var bt=At;At=0;for(var ct=wt&67108863,_t=Math.min(Rt,pt.length-1),Lt=Math.max(0,Rt-dt.length+1);Lt<=_t;Lt++){var Ft=Rt-Lt,jt=dt.words[Ft]|0,Zt=pt.words[Lt]|0,Kt=jt*Zt,zt=Kt&67108863;bt=bt+(Kt/67108864|0)|0,zt=zt+ct|0,ct=zt&67108863,bt=bt+(zt>>>26)|0,At+=bt>>>26,bt&=67108863}vt.words[Rt]=ct,wt=bt,bt=At}return wt!==0?vt.words[Rt]=wt:vt.length--,vt._strip()}function kt(dt,pt,vt){return It(dt,pt,vt)}it.prototype.mulTo=function(pt,vt){var wt,At=this.length+pt.length;return this.length===10&&pt.length===10?wt=Pt(this,pt,vt):At<63?wt=Mt(this,pt,vt):At<1024?wt=It(this,pt,vt):wt=kt(this,pt,vt),wt},it.prototype.mul=function(pt){var vt=new it(null);return vt.words=new Array(this.length+pt.length),this.mulTo(pt,vt)},it.prototype.mulf=function(pt){var vt=new it(null);return vt.words=new Array(this.length+pt.length),kt(this,pt,vt)},it.prototype.imul=function(pt){return this.clone().mulTo(pt,this)},it.prototype.imuln=function(pt){var vt=pt<0;vt&&(pt=-pt),nt(typeof pt=="number"),nt(pt<67108864);for(var wt=0,At=0;At<this.length;At++){var Rt=(this.words[At]|0)*pt,bt=(Rt&67108863)+(wt&67108863);wt>>=26,wt+=Rt/67108864|0,wt+=bt>>>26,this.words[At]=bt&67108863}return wt!==0&&(this.words[At]=wt,this.length++),this.length=pt===0?1:this.length,vt?this.ineg():this},it.prototype.muln=function(pt){return this.clone().imuln(pt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(pt){var vt=Tt(pt);if(vt.length===0)return new it(1);for(var wt=this,At=0;At<vt.length&&vt[At]===0;At++,wt=wt.sqr());if(++At<vt.length)for(var Rt=wt.sqr();At<vt.length;At++,Rt=Rt.sqr())vt[At]!==0&&(wt=wt.mul(Rt));return wt},it.prototype.iushln=function(pt){nt(typeof pt=="number"&&pt>=0);var vt=pt%26,wt=(pt-vt)/26,At=67108863>>>26-vt<<26-vt,Rt;if(vt!==0){var bt=0;for(Rt=0;Rt<this.length;Rt++){var ct=this.words[Rt]&At,_t=(this.words[Rt]|0)-ct<<vt;this.words[Rt]=_t|bt,bt=ct>>>26-vt}bt&&(this.words[Rt]=bt,this.length++)}if(wt!==0){for(Rt=this.length-1;Rt>=0;Rt--)this.words[Rt+wt]=this.words[Rt];for(Rt=0;Rt<wt;Rt++)this.words[Rt]=0;this.length+=wt}return this._strip()},it.prototype.ishln=function(pt){return nt(this.negative===0),this.iushln(pt)},it.prototype.iushrn=function(pt,vt,wt){nt(typeof pt=="number"&&pt>=0);var At;vt?At=(vt-vt%26)/26:At=0;var Rt=pt%26,bt=Math.min((pt-Rt)/26,this.length),ct=67108863^67108863>>>Rt<<Rt,_t=wt;if(At-=bt,At=Math.max(0,At),_t){for(var Lt=0;Lt<bt;Lt++)_t.words[Lt]=this.words[Lt];_t.length=bt}if(bt!==0)if(this.length>bt)for(this.length-=bt,Lt=0;Lt<this.length;Lt++)this.words[Lt]=this.words[Lt+bt];else this.words[0]=0,this.length=1;var Ft=0;for(Lt=this.length-1;Lt>=0&&(Ft!==0||Lt>=At);Lt--){var jt=this.words[Lt]|0;this.words[Lt]=Ft<<26-Rt|jt>>>Rt,Ft=jt&ct}return _t&&Ft!==0&&(_t.words[_t.length++]=Ft),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},it.prototype.ishrn=function(pt,vt,wt){return nt(this.negative===0),this.iushrn(pt,vt,wt)},it.prototype.shln=function(pt){return this.clone().ishln(pt)},it.prototype.ushln=function(pt){return this.clone().iushln(pt)},it.prototype.shrn=function(pt){return this.clone().ishrn(pt)},it.prototype.ushrn=function(pt){return this.clone().iushrn(pt)},it.prototype.testn=function(pt){nt(typeof pt=="number"&&pt>=0);var vt=pt%26,wt=(pt-vt)/26,At=1<<vt;if(this.length<=wt)return!1;var Rt=this.words[wt];return!!(Rt&At)},it.prototype.imaskn=function(pt){nt(typeof pt=="number"&&pt>=0);var vt=pt%26,wt=(pt-vt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=wt)return this;if(vt!==0&&wt++,this.length=Math.min(wt,this.length),vt!==0){var At=67108863^67108863>>>vt<<vt;this.words[this.length-1]&=At}return this._strip()},it.prototype.maskn=function(pt){return this.clone().imaskn(pt)},it.prototype.iaddn=function(pt){return nt(typeof pt=="number"),nt(pt<67108864),pt<0?this.isubn(-pt):this.negative!==0?this.length===1&&(this.words[0]|0)<=pt?(this.words[0]=pt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(pt),this.negative=1,this):this._iaddn(pt)},it.prototype._iaddn=function(pt){this.words[0]+=pt;for(var vt=0;vt<this.length&&this.words[vt]>=67108864;vt++)this.words[vt]-=67108864,vt===this.length-1?this.words[vt+1]=1:this.words[vt+1]++;return this.length=Math.max(this.length,vt+1),this},it.prototype.isubn=function(pt){if(nt(typeof pt=="number"),nt(pt<67108864),pt<0)return this.iaddn(-pt);if(this.negative!==0)return this.negative=0,this.iaddn(pt),this.negative=1,this;if(this.words[0]-=pt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var vt=0;vt<this.length&&this.words[vt]<0;vt++)this.words[vt]+=67108864,this.words[vt+1]-=1;return this._strip()},it.prototype.addn=function(pt){return this.clone().iaddn(pt)},it.prototype.subn=function(pt){return this.clone().isubn(pt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(pt,vt,wt){var At=pt.length+wt,Rt;this._expand(At);var bt,ct=0;for(Rt=0;Rt<pt.length;Rt++){bt=(this.words[Rt+wt]|0)+ct;var _t=(pt.words[Rt]|0)*vt;bt-=_t&67108863,ct=(bt>>26)-(_t/67108864|0),this.words[Rt+wt]=bt&67108863}for(;Rt<this.length-wt;Rt++)bt=(this.words[Rt+wt]|0)+ct,ct=bt>>26,this.words[Rt+wt]=bt&67108863;if(ct===0)return this._strip();for(nt(ct===-1),ct=0,Rt=0;Rt<this.length;Rt++)bt=-(this.words[Rt]|0)+ct,ct=bt>>26,this.words[Rt]=bt&67108863;return this.negative=1,this._strip()},it.prototype._wordDiv=function(pt,vt){var wt=this.length-pt.length,At=this.clone(),Rt=pt,bt=Rt.words[Rt.length-1]|0,ct=this._countBits(bt);wt=26-ct,wt!==0&&(Rt=Rt.ushln(wt),At.iushln(wt),bt=Rt.words[Rt.length-1]|0);var _t=At.length-Rt.length,Lt;if(vt!=="mod"){Lt=new it(null),Lt.length=_t+1,Lt.words=new Array(Lt.length);for(var Ft=0;Ft<Lt.length;Ft++)Lt.words[Ft]=0}var jt=At.clone()._ishlnsubmul(Rt,1,_t);jt.negative===0&&(At=jt,Lt&&(Lt.words[_t]=1));for(var Zt=_t-1;Zt>=0;Zt--){var Kt=(At.words[Rt.length+Zt]|0)*67108864+(At.words[Rt.length+Zt-1]|0);for(Kt=Math.min(Kt/bt|0,67108863),At._ishlnsubmul(Rt,Kt,Zt);At.negative!==0;)Kt--,At.negative=0,At._ishlnsubmul(Rt,1,Zt),At.isZero()||(At.negative^=1);Lt&&(Lt.words[Zt]=Kt)}return Lt&&Lt._strip(),At._strip(),vt!=="div"&&wt!==0&&At.iushrn(wt),{div:Lt||null,mod:At}},it.prototype.divmod=function(pt,vt,wt){if(nt(!pt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var At,Rt,bt;return this.negative!==0&&pt.negative===0?(bt=this.neg().divmod(pt,vt),vt!=="mod"&&(At=bt.div.neg()),vt!=="div"&&(Rt=bt.mod.neg(),wt&&Rt.negative!==0&&Rt.iadd(pt)),{div:At,mod:Rt}):this.negative===0&&pt.negative!==0?(bt=this.divmod(pt.neg(),vt),vt!=="mod"&&(At=bt.div.neg()),{div:At,mod:bt.mod}):this.negative&pt.negative?(bt=this.neg().divmod(pt.neg(),vt),vt!=="div"&&(Rt=bt.mod.neg(),wt&&Rt.negative!==0&&Rt.isub(pt)),{div:bt.div,mod:Rt}):pt.length>this.length||this.cmp(pt)<0?{div:new it(0),mod:this}:pt.length===1?vt==="div"?{div:this.divn(pt.words[0]),mod:null}:vt==="mod"?{div:null,mod:new it(this.modrn(pt.words[0]))}:{div:this.divn(pt.words[0]),mod:new it(this.modrn(pt.words[0]))}:this._wordDiv(pt,vt)},it.prototype.div=function(pt){return this.divmod(pt,"div",!1).div},it.prototype.mod=function(pt){return this.divmod(pt,"mod",!1).mod},it.prototype.umod=function(pt){return this.divmod(pt,"mod",!0).mod},it.prototype.divRound=function(pt){var vt=this.divmod(pt);if(vt.mod.isZero())return vt.div;var wt=vt.div.negative!==0?vt.mod.isub(pt):vt.mod,At=pt.ushrn(1),Rt=pt.andln(1),bt=wt.cmp(At);return bt<0||Rt===1&&bt===0?vt.div:vt.div.negative!==0?vt.div.isubn(1):vt.div.iaddn(1)},it.prototype.modrn=function(pt){var vt=pt<0;vt&&(pt=-pt),nt(pt<=67108863);for(var wt=(1<<26)%pt,At=0,Rt=this.length-1;Rt>=0;Rt--)At=(wt*At+(this.words[Rt]|0))%pt;return vt?-At:At},it.prototype.modn=function(pt){return this.modrn(pt)},it.prototype.idivn=function(pt){var vt=pt<0;vt&&(pt=-pt),nt(pt<=67108863);for(var wt=0,At=this.length-1;At>=0;At--){var Rt=(this.words[At]|0)+wt*67108864;this.words[At]=Rt/pt|0,wt=Rt%pt}return this._strip(),vt?this.ineg():this},it.prototype.divn=function(pt){return this.clone().idivn(pt)},it.prototype.egcd=function(pt){nt(pt.negative===0),nt(!pt.isZero());var vt=this,wt=pt.clone();vt.negative!==0?vt=vt.umod(pt):vt=vt.clone();for(var At=new it(1),Rt=new it(0),bt=new it(0),ct=new it(1),_t=0;vt.isEven()&&wt.isEven();)vt.iushrn(1),wt.iushrn(1),++_t;for(var Lt=wt.clone(),Ft=vt.clone();!vt.isZero();){for(var jt=0,Zt=1;!(vt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(vt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(Lt),Rt.isub(Ft)),At.iushrn(1),Rt.iushrn(1);for(var Kt=0,zt=1;!(wt.words[0]&zt)&&Kt<26;++Kt,zt<<=1);if(Kt>0)for(wt.iushrn(Kt);Kt-- >0;)(bt.isOdd()||ct.isOdd())&&(bt.iadd(Lt),ct.isub(Ft)),bt.iushrn(1),ct.iushrn(1);vt.cmp(wt)>=0?(vt.isub(wt),At.isub(bt),Rt.isub(ct)):(wt.isub(vt),bt.isub(At),ct.isub(Rt))}return{a:bt,b:ct,gcd:wt.iushln(_t)}},it.prototype._invmp=function(pt){nt(pt.negative===0),nt(!pt.isZero());var vt=this,wt=pt.clone();vt.negative!==0?vt=vt.umod(pt):vt=vt.clone();for(var At=new it(1),Rt=new it(0),bt=wt.clone();vt.cmpn(1)>0&&wt.cmpn(1)>0;){for(var ct=0,_t=1;!(vt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(vt.iushrn(ct);ct-- >0;)At.isOdd()&&At.iadd(bt),At.iushrn(1);for(var Lt=0,Ft=1;!(wt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(wt.iushrn(Lt);Lt-- >0;)Rt.isOdd()&&Rt.iadd(bt),Rt.iushrn(1);vt.cmp(wt)>=0?(vt.isub(wt),At.isub(Rt)):(wt.isub(vt),Rt.isub(At))}var jt;return vt.cmpn(1)===0?jt=At:jt=Rt,jt.cmpn(0)<0&&jt.iadd(pt),jt},it.prototype.gcd=function(pt){if(this.isZero())return pt.abs();if(pt.isZero())return this.abs();var vt=this.clone(),wt=pt.clone();vt.negative=0,wt.negative=0;for(var At=0;vt.isEven()&&wt.isEven();At++)vt.iushrn(1),wt.iushrn(1);do{for(;vt.isEven();)vt.iushrn(1);for(;wt.isEven();)wt.iushrn(1);var Rt=vt.cmp(wt);if(Rt<0){var bt=vt;vt=wt,wt=bt}else if(Rt===0||wt.cmpn(1)===0)break;vt.isub(wt)}while(!0);return wt.iushln(At)},it.prototype.invm=function(pt){return this.egcd(pt).a.umod(pt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(pt){return this.words[0]&pt},it.prototype.bincn=function(pt){nt(typeof pt=="number");var vt=pt%26,wt=(pt-vt)/26,At=1<<vt;if(this.length<=wt)return this._expand(wt+1),this.words[wt]|=At,this;for(var Rt=At,bt=wt;Rt!==0&&bt<this.length;bt++){var ct=this.words[bt]|0;ct+=Rt,Rt=ct>>>26,ct&=67108863,this.words[bt]=ct}return Rt!==0&&(this.words[bt]=Rt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(pt){var vt=pt<0;if(this.negative!==0&&!vt)return-1;if(this.negative===0&&vt)return 1;this._strip();var wt;if(this.length>1)wt=1;else{vt&&(pt=-pt),nt(pt<=67108863,"Number is too big");var At=this.words[0]|0;wt=At===pt?0:At<pt?-1:1}return this.negative!==0?-wt|0:wt},it.prototype.cmp=function(pt){if(this.negative!==0&&pt.negative===0)return-1;if(this.negative===0&&pt.negative!==0)return 1;var vt=this.ucmp(pt);return this.negative!==0?-vt|0:vt},it.prototype.ucmp=function(pt){if(this.length>pt.length)return 1;if(this.length<pt.length)return-1;for(var vt=0,wt=this.length-1;wt>=0;wt--){var At=this.words[wt]|0,Rt=pt.words[wt]|0;if(At!==Rt){At<Rt?vt=-1:At>Rt&&(vt=1);break}}return vt},it.prototype.gtn=function(pt){return this.cmpn(pt)===1},it.prototype.gt=function(pt){return this.cmp(pt)===1},it.prototype.gten=function(pt){return this.cmpn(pt)>=0},it.prototype.gte=function(pt){return this.cmp(pt)>=0},it.prototype.ltn=function(pt){return this.cmpn(pt)===-1},it.prototype.lt=function(pt){return this.cmp(pt)===-1},it.prototype.lten=function(pt){return this.cmpn(pt)<=0},it.prototype.lte=function(pt){return this.cmp(pt)<=0},it.prototype.eqn=function(pt){return this.cmpn(pt)===0},it.prototype.eq=function(pt){return this.cmp(pt)===0},it.red=function(pt){return new Et(pt)},it.prototype.toRed=function(pt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),pt.convertTo(this)._forceRed(pt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(pt){return this.red=pt,this},it.prototype.forceRed=function(pt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(pt)},it.prototype.redAdd=function(pt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,pt)},it.prototype.redIAdd=function(pt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,pt)},it.prototype.redSub=function(pt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,pt)},it.prototype.redISub=function(pt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,pt)},it.prototype.redShl=function(pt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,pt)},it.prototype.redMul=function(pt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,pt),this.red.mul(this,pt)},it.prototype.redIMul=function(pt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,pt),this.red.imul(this,pt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(pt){return nt(this.red&&!pt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,pt)};var Dt={k256:null,p224:null,p192:null,p25519:null};function Nt(dt,pt){this.name=dt,this.p=new it(pt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Nt.prototype._tmp=function(){var pt=new it(null);return pt.words=new Array(Math.ceil(this.n/13)),pt},Nt.prototype.ireduce=function(pt){var vt=pt,wt;do this.split(vt,this.tmp),vt=this.imulK(vt),vt=vt.iadd(this.tmp),wt=vt.bitLength();while(wt>this.n);var At=wt<this.n?-1:vt.ucmp(this.p);return At===0?(vt.words[0]=0,vt.length=1):At>0?vt.isub(this.p):vt.strip!==void 0?vt.strip():vt._strip(),vt},Nt.prototype.split=function(pt,vt){pt.iushrn(this.n,0,vt)},Nt.prototype.imulK=function(pt){return pt.imul(this.k)};function Gt(){Nt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Gt,Nt),Gt.prototype.split=function(pt,vt){for(var wt=4194303,At=Math.min(pt.length,9),Rt=0;Rt<At;Rt++)vt.words[Rt]=pt.words[Rt];if(vt.length=At,pt.length<=9){pt.words[0]=0,pt.length=1;return}var bt=pt.words[9];for(vt.words[vt.length++]=bt&wt,Rt=10;Rt<pt.length;Rt++){var ct=pt.words[Rt]|0;pt.words[Rt-10]=(ct&wt)<<4|bt>>>22,bt=ct}bt>>>=22,pt.words[Rt-10]=bt,bt===0&&pt.length>10?pt.length-=10:pt.length-=9},Gt.prototype.imulK=function(pt){pt.words[pt.length]=0,pt.words[pt.length+1]=0,pt.length+=2;for(var vt=0,wt=0;wt<pt.length;wt++){var At=pt.words[wt]|0;vt+=At*977,pt.words[wt]=vt&67108863,vt=At*64+(vt/67108864|0)}return pt.words[pt.length-1]===0&&(pt.length--,pt.words[pt.length-1]===0&&pt.length--),pt};function Wt(){Nt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Wt,Nt);function Ot(){Nt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Ot,Nt);function Xt(){Nt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Xt,Nt),Xt.prototype.imulK=function(pt){for(var vt=0,wt=0;wt<pt.length;wt++){var At=(pt.words[wt]|0)*19+vt,Rt=At&67108863;At>>>=26,pt.words[wt]=Rt,vt=At}return vt!==0&&(pt.words[pt.length++]=vt),pt},it._prime=function(pt){if(Dt[pt])return Dt[pt];var vt;if(pt==="k256")vt=new Gt;else if(pt==="p224")vt=new Wt;else if(pt==="p192")vt=new Ot;else if(pt==="p25519")vt=new Xt;else throw new Error("Unknown prime "+pt);return Dt[pt]=vt,vt};function Et(dt){if(typeof dt=="string"){var pt=it._prime(dt);this.m=pt.p,this.prime=pt}else nt(dt.gtn(1),"modulus must be greater than 1"),this.m=dt,this.prime=null}Et.prototype._verify1=function(pt){nt(pt.negative===0,"red works only with positives"),nt(pt.red,"red works only with red numbers")},Et.prototype._verify2=function(pt,vt){nt((pt.negative|vt.negative)===0,"red works only with positives"),nt(pt.red&&pt.red===vt.red,"red works only with red numbers")},Et.prototype.imod=function(pt){return this.prime?this.prime.ireduce(pt)._forceRed(this):(ht(pt,pt.umod(this.m)._forceRed(this)),pt)},Et.prototype.neg=function(pt){return pt.isZero()?pt.clone():this.m.sub(pt)._forceRed(this)},Et.prototype.add=function(pt,vt){this._verify2(pt,vt);var wt=pt.add(vt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt._forceRed(this)},Et.prototype.iadd=function(pt,vt){this._verify2(pt,vt);var wt=pt.iadd(vt);return wt.cmp(this.m)>=0&&wt.isub(this.m),wt},Et.prototype.sub=function(pt,vt){this._verify2(pt,vt);var wt=pt.sub(vt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt._forceRed(this)},Et.prototype.isub=function(pt,vt){this._verify2(pt,vt);var wt=pt.isub(vt);return wt.cmpn(0)<0&&wt.iadd(this.m),wt},Et.prototype.shl=function(pt,vt){return this._verify1(pt),this.imod(pt.ushln(vt))},Et.prototype.imul=function(pt,vt){return this._verify2(pt,vt),this.imod(pt.imul(vt))},Et.prototype.mul=function(pt,vt){return this._verify2(pt,vt),this.imod(pt.mul(vt))},Et.prototype.isqr=function(pt){return this.imul(pt,pt.clone())},Et.prototype.sqr=function(pt){return this.mul(pt,pt)},Et.prototype.sqrt=function(pt){if(pt.isZero())return pt.clone();var vt=this.m.andln(3);if(nt(vt%2===1),vt===3){var wt=this.m.add(new it(1)).iushrn(2);return this.pow(pt,wt)}for(var At=this.m.subn(1),Rt=0;!At.isZero()&&At.andln(1)===0;)Rt++,At.iushrn(1);nt(!At.isZero());var bt=new it(1).toRed(this),ct=bt.redNeg(),_t=this.m.subn(1).iushrn(1),Lt=this.m.bitLength();for(Lt=new it(2*Lt*Lt).toRed(this);this.pow(Lt,_t).cmp(ct)!==0;)Lt.redIAdd(ct);for(var Ft=this.pow(Lt,At),jt=this.pow(pt,At.addn(1).iushrn(1)),Zt=this.pow(pt,At),Kt=Rt;Zt.cmp(bt)!==0;){for(var zt=Zt,Vt=0;zt.cmp(bt)!==0;Vt++)zt=zt.redSqr();nt(Vt<Kt);var nr=this.pow(Ft,new it(1).iushln(Kt-Vt-1));jt=jt.redMul(nr),Ft=nr.redSqr(),Zt=Zt.redMul(Ft),Kt=Vt}return jt},Et.prototype.invm=function(pt){var vt=pt._invmp(this.m);return vt.negative!==0?(vt.negative=0,this.imod(vt).redNeg()):this.imod(vt)},Et.prototype.pow=function(pt,vt){if(vt.isZero())return new it(1).toRed(this);if(vt.cmpn(1)===0)return pt.clone();var wt=4,At=new Array(1<<wt);At[0]=new it(1).toRed(this),At[1]=pt;for(var Rt=2;Rt<At.length;Rt++)At[Rt]=this.mul(At[Rt-1],pt);var bt=At[0],ct=0,_t=0,Lt=vt.bitLength()%26;for(Lt===0&&(Lt=26),Rt=vt.length-1;Rt>=0;Rt--){for(var Ft=vt.words[Rt],jt=Lt-1;jt>=0;jt--){var Zt=Ft>>jt&1;if(bt!==At[0]&&(bt=this.sqr(bt)),Zt===0&&ct===0){_t=0;continue}ct<<=1,ct|=Zt,_t++,!(_t!==wt&&(Rt!==0||jt!==0))&&(bt=this.mul(bt,At[ct]),_t=0,ct=0)}Lt=26}return bt},Et.prototype.convertTo=function(pt){var vt=pt.umod(this.m);return vt===pt?vt.clone():vt},Et.prototype.convertFrom=function(pt){var vt=pt.clone();return vt.red=null,vt},it.mont=function(pt){return new lt(pt)};function lt(dt){Et.call(this,dt),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(lt,Et),lt.prototype.convertTo=function(pt){return this.imod(pt.ushln(this.shift))},lt.prototype.convertFrom=function(pt){var vt=this.imod(pt.mul(this.rinv));return vt.red=null,vt},lt.prototype.imul=function(pt,vt){if(pt.isZero()||vt.isZero())return pt.words[0]=0,pt.length=1,pt;var wt=pt.imul(vt),At=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rt=wt.isub(At).iushrn(this.shift),bt=Rt;return Rt.cmp(this.m)>=0?bt=Rt.isub(this.m):Rt.cmpn(0)<0&&(bt=Rt.iadd(this.m)),bt._forceRed(this)},lt.prototype.mul=function(pt,vt){if(pt.isZero()||vt.isZero())return new it(0)._forceRed(this);var wt=pt.mul(vt),At=wt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Rt=wt.isub(At).iushrn(this.shift),bt=Rt;return Rt.cmp(this.m)>=0?bt=Rt.isub(this.m):Rt.cmpn(0)<0&&(bt=Rt.iadd(this.m)),bt._forceRed(this)},lt.prototype.invm=function(pt){var vt=this.imod(pt._invmp(this.m).mul(this.r2));return vt._forceRed(this)}})(rt,commonjsGlobal)}(bn$4)),bn$4.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var rt=requireBn$4(),et=requireBrowser$b(),tt=requireSafeBuffer$1().Buffer;function nt(at){var st=at.modulus.byteLength(),ut;do ut=new rt(et(st));while(ut.cmp(at.modulus)>=0||!ut.umod(at.prime1)||!ut.umod(at.prime2));return ut}function ot(at){var st=nt(at),ut=st.toRed(rt.mont(at.modulus)).redPow(new rt(at.publicExponent)).fromRed();return{blinder:ut,unblinder:st.invm(at.modulus)}}function it(at,st){var ut=ot(st),ft=st.modulus.byteLength(),ht=new rt(at).mul(ut.blinder).umod(st.modulus),mt=ht.toRed(rt.mont(st.prime1)),gt=ht.toRed(rt.mont(st.prime2)),yt=st.coefficient,xt=st.prime1,St=st.prime2,Tt=mt.redPow(st.exponent1).fromRed(),Mt=gt.redPow(st.exponent2).fromRed(),Pt=Tt.isub(Mt).imul(yt).umod(xt).imul(St);return Mt.iadd(Pt).imul(ut.unblinder).umod(st.modulus).toArrayLike(tt,"be",ft)}return it.getr=nt,browserifyRsa=it,browserifyRsa}var elliptic={};const name="elliptic",version$1="6.6.1",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version:version$1,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$4={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn$3)),bn$3.exports}var utils$3={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(rt){var et=rt;function tt(it,at){if(Array.isArray(it))return it.slice();if(!it)return[];var st=[];if(typeof it!="string"){for(var ut=0;ut<it.length;ut++)st[ut]=it[ut]|0;return st}if(at==="hex"){it=it.replace(/[^a-z0-9]+/ig,""),it.length%2!==0&&(it="0"+it);for(var ut=0;ut<it.length;ut+=2)st.push(parseInt(it[ut]+it[ut+1],16))}else for(var ut=0;ut<it.length;ut++){var ft=it.charCodeAt(ut),ht=ft>>8,mt=ft&255;ht?st.push(ht,mt):st.push(mt)}return st}et.toArray=tt;function nt(it){return it.length===1?"0"+it:it}et.zero2=nt;function ot(it){for(var at="",st=0;st<it.length;st++)at+=nt(it[st].toString(16));return at}et.toHex=ot,et.encode=function(at,st){return st==="hex"?ot(at):at}}(utils$3)),utils$3}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(rt){var et=rt,tt=requireBn$3(),nt=requireMinimalisticAssert(),ot=requireUtils$2();et.assert=nt,et.toArray=ot.toArray,et.zero2=ot.zero2,et.toHex=ot.toHex,et.encode=ot.encode;function it(ht,mt,gt){var yt=new Array(Math.max(ht.bitLength(),gt)+1),xt;for(xt=0;xt<yt.length;xt+=1)yt[xt]=0;var St=1<<mt+1,Tt=ht.clone();for(xt=0;xt<yt.length;xt++){var Mt,Pt=Tt.andln(St-1);Tt.isOdd()?(Pt>(St>>1)-1?Mt=(St>>1)-Pt:Mt=Pt,Tt.isubn(Mt)):Mt=0,yt[xt]=Mt,Tt.iushrn(1)}return yt}et.getNAF=it;function at(ht,mt){var gt=[[],[]];ht=ht.clone(),mt=mt.clone();for(var yt=0,xt=0,St;ht.cmpn(-yt)>0||mt.cmpn(-xt)>0;){var Tt=ht.andln(3)+yt&3,Mt=mt.andln(3)+xt&3;Tt===3&&(Tt=-1),Mt===3&&(Mt=-1);var Pt;Tt&1?(St=ht.andln(7)+yt&7,(St===3||St===5)&&Mt===2?Pt=-Tt:Pt=Tt):Pt=0,gt[0].push(Pt);var It;Mt&1?(St=mt.andln(7)+xt&7,(St===3||St===5)&&Tt===2?It=-Mt:It=Mt):It=0,gt[1].push(It),2*yt===Pt+1&&(yt=1-yt),2*xt===It+1&&(xt=1-xt),ht.iushrn(1),mt.iushrn(1)}return gt}et.getJSF=at;function st(ht,mt,gt){var yt="_"+mt;ht.prototype[mt]=function(){return this[yt]!==void 0?this[yt]:this[yt]=gt.call(this)}}et.cachedProperty=st;function ut(ht){return typeof ht=="string"?et.toArray(ht,"hex"):ht}et.parseBytes=ut;function ft(ht){return new tt(ht,"hex","le")}et.intFromLE=ft}(utils$4)),utils$4}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var rt=requireBn$3(),et=requireUtils$1(),tt=et.getNAF,nt=et.getJSF,ot=et.assert;function it(st,ut){this.type=st,this.p=new rt(ut.p,16),this.red=ut.prime?rt.red(ut.prime):rt.mont(this.p),this.zero=new rt(0).toRed(this.red),this.one=new rt(1).toRed(this.red),this.two=new rt(2).toRed(this.red),this.n=ut.n&&new rt(ut.n,16),this.g=ut.g&&this.pointFromJSON(ut.g,ut.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var ft=this.n&&this.p.div(this.n);!ft||ft.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=it,it.prototype.point=function(){throw new Error("Not implemented")},it.prototype.validate=function(){throw new Error("Not implemented")},it.prototype._fixedNafMul=function(ut,ft){ot(ut.precomputed);var ht=ut._getDoubles(),mt=tt(ft,1,this._bitLength),gt=(1<<ht.step+1)-(ht.step%2===0?2:1);gt/=3;var yt=[],xt,St;for(xt=0;xt<mt.length;xt+=ht.step){St=0;for(var Tt=xt+ht.step-1;Tt>=xt;Tt--)St=(St<<1)+mt[Tt];yt.push(St)}for(var Mt=this.jpoint(null,null,null),Pt=this.jpoint(null,null,null),It=gt;It>0;It--){for(xt=0;xt<yt.length;xt++)St=yt[xt],St===It?Pt=Pt.mixedAdd(ht.points[xt]):St===-It&&(Pt=Pt.mixedAdd(ht.points[xt].neg()));Mt=Mt.add(Pt)}return Mt.toP()},it.prototype._wnafMul=function(ut,ft){var ht=4,mt=ut._getNAFPoints(ht);ht=mt.wnd;for(var gt=mt.points,yt=tt(ft,ht,this._bitLength),xt=this.jpoint(null,null,null),St=yt.length-1;St>=0;St--){for(var Tt=0;St>=0&&yt[St]===0;St--)Tt++;if(St>=0&&Tt++,xt=xt.dblp(Tt),St<0)break;var Mt=yt[St];ot(Mt!==0),ut.type==="affine"?Mt>0?xt=xt.mixedAdd(gt[Mt-1>>1]):xt=xt.mixedAdd(gt[-Mt-1>>1].neg()):Mt>0?xt=xt.add(gt[Mt-1>>1]):xt=xt.add(gt[-Mt-1>>1].neg())}return ut.type==="affine"?xt.toP():xt},it.prototype._wnafMulAdd=function(ut,ft,ht,mt,gt){var yt=this._wnafT1,xt=this._wnafT2,St=this._wnafT3,Tt=0,Mt,Pt,It;for(Mt=0;Mt<mt;Mt++){It=ft[Mt];var kt=It._getNAFPoints(ut);yt[Mt]=kt.wnd,xt[Mt]=kt.points}for(Mt=mt-1;Mt>=1;Mt-=2){var Dt=Mt-1,Nt=Mt;if(yt[Dt]!==1||yt[Nt]!==1){St[Dt]=tt(ht[Dt],yt[Dt],this._bitLength),St[Nt]=tt(ht[Nt],yt[Nt],this._bitLength),Tt=Math.max(St[Dt].length,Tt),Tt=Math.max(St[Nt].length,Tt);continue}var Gt=[ft[Dt],null,null,ft[Nt]];ft[Dt].y.cmp(ft[Nt].y)===0?(Gt[1]=ft[Dt].add(ft[Nt]),Gt[2]=ft[Dt].toJ().mixedAdd(ft[Nt].neg())):ft[Dt].y.cmp(ft[Nt].y.redNeg())===0?(Gt[1]=ft[Dt].toJ().mixedAdd(ft[Nt]),Gt[2]=ft[Dt].add(ft[Nt].neg())):(Gt[1]=ft[Dt].toJ().mixedAdd(ft[Nt]),Gt[2]=ft[Dt].toJ().mixedAdd(ft[Nt].neg()));var Wt=[-3,-1,-5,-7,0,7,5,1,3],Ot=nt(ht[Dt],ht[Nt]);for(Tt=Math.max(Ot[0].length,Tt),St[Dt]=new Array(Tt),St[Nt]=new Array(Tt),Pt=0;Pt<Tt;Pt++){var Xt=Ot[0][Pt]|0,Et=Ot[1][Pt]|0;St[Dt][Pt]=Wt[(Xt+1)*3+(Et+1)],St[Nt][Pt]=0,xt[Dt]=Gt}}var lt=this.jpoint(null,null,null),dt=this._wnafT4;for(Mt=Tt;Mt>=0;Mt--){for(var pt=0;Mt>=0;){var vt=!0;for(Pt=0;Pt<mt;Pt++)dt[Pt]=St[Pt][Mt]|0,dt[Pt]!==0&&(vt=!1);if(!vt)break;pt++,Mt--}if(Mt>=0&&pt++,lt=lt.dblp(pt),Mt<0)break;for(Pt=0;Pt<mt;Pt++){var wt=dt[Pt];wt!==0&&(wt>0?It=xt[Pt][wt-1>>1]:wt<0&&(It=xt[Pt][-wt-1>>1].neg()),It.type==="affine"?lt=lt.mixedAdd(It):lt=lt.add(It))}}for(Mt=0;Mt<mt;Mt++)xt[Mt]=null;return gt?lt:lt.toP()};function at(st,ut){this.curve=st,this.type=ut,this.precomputed=null}return it.BasePoint=at,at.prototype.eq=function(){throw new Error("Not implemented")},at.prototype.validate=function(){return this.curve.validate(this)},it.prototype.decodePoint=function(ut,ft){ut=et.toArray(ut,ft);var ht=this.p.byteLength();if((ut[0]===4||ut[0]===6||ut[0]===7)&&ut.length-1===2*ht){ut[0]===6?ot(ut[ut.length-1]%2===0):ut[0]===7&&ot(ut[ut.length-1]%2===1);var mt=this.point(ut.slice(1,1+ht),ut.slice(1+ht,1+2*ht));return mt}else if((ut[0]===2||ut[0]===3)&&ut.length-1===ht)return this.pointFromX(ut.slice(1,1+ht),ut[0]===3);throw new Error("Unknown point format")},at.prototype.encodeCompressed=function(ut){return this.encode(ut,!0)},at.prototype._encode=function(ut){var ft=this.curve.p.byteLength(),ht=this.getX().toArray("be",ft);return ut?[this.getY().isEven()?2:3].concat(ht):[4].concat(ht,this.getY().toArray("be",ft))},at.prototype.encode=function(ut,ft){return et.encode(this._encode(ft),ut)},at.prototype.precompute=function(ut){if(this.precomputed)return this;var ft={doubles:null,naf:null,beta:null};return ft.naf=this._getNAFPoints(8),ft.doubles=this._getDoubles(4,ut),ft.beta=this._getBeta(),this.precomputed=ft,this},at.prototype._hasDoubles=function(ut){if(!this.precomputed)return!1;var ft=this.precomputed.doubles;return ft?ft.points.length>=Math.ceil((ut.bitLength()+1)/ft.step):!1},at.prototype._getDoubles=function(ut,ft){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var ht=[this],mt=this,gt=0;gt<ft;gt+=ut){for(var yt=0;yt<ut;yt++)mt=mt.dbl();ht.push(mt)}return{step:ut,points:ht}},at.prototype._getNAFPoints=function(ut){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var ft=[this],ht=(1<<ut)-1,mt=ht===1?null:this.dbl(),gt=1;gt<ht;gt++)ft[gt]=ft[gt-1].add(mt);return{wnd:ut,points:ft}},at.prototype._getBeta=function(){return null},at.prototype.dblp=function(ut){for(var ft=this,ht=0;ht<ut;ht++)ft=ft.dbl();return ft},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var rt=requireUtils$1(),et=requireBn$3(),tt=requireInherits_browser(),nt=requireBase$1(),ot=rt.assert;function it(ut){nt.call(this,"short",ut),this.a=new et(ut.a,16).toRed(this.red),this.b=new et(ut.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(ut),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}tt(it,nt),short=it,it.prototype._getEndomorphism=function(ft){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var ht,mt;if(ft.beta)ht=new et(ft.beta,16).toRed(this.red);else{var gt=this._getEndoRoots(this.p);ht=gt[0].cmp(gt[1])<0?gt[0]:gt[1],ht=ht.toRed(this.red)}if(ft.lambda)mt=new et(ft.lambda,16);else{var yt=this._getEndoRoots(this.n);this.g.mul(yt[0]).x.cmp(this.g.x.redMul(ht))===0?mt=yt[0]:(mt=yt[1],ot(this.g.mul(mt).x.cmp(this.g.x.redMul(ht))===0))}var xt;return ft.basis?xt=ft.basis.map(function(St){return{a:new et(St.a,16),b:new et(St.b,16)}}):xt=this._getEndoBasis(mt),{beta:ht,lambda:mt,basis:xt}}},it.prototype._getEndoRoots=function(ft){var ht=ft===this.p?this.red:et.mont(ft),mt=new et(2).toRed(ht).redInvm(),gt=mt.redNeg(),yt=new et(3).toRed(ht).redNeg().redSqrt().redMul(mt),xt=gt.redAdd(yt).fromRed(),St=gt.redSub(yt).fromRed();return[xt,St]},it.prototype._getEndoBasis=function(ft){for(var ht=this.n.ushrn(Math.floor(this.n.bitLength()/2)),mt=ft,gt=this.n.clone(),yt=new et(1),xt=new et(0),St=new et(0),Tt=new et(1),Mt,Pt,It,kt,Dt,Nt,Gt,Wt=0,Ot,Xt;mt.cmpn(0)!==0;){var Et=gt.div(mt);Ot=gt.sub(Et.mul(mt)),Xt=St.sub(Et.mul(yt));var lt=Tt.sub(Et.mul(xt));if(!It&&Ot.cmp(ht)<0)Mt=Gt.neg(),Pt=yt,It=Ot.neg(),kt=Xt;else if(It&&++Wt===2)break;Gt=Ot,gt=mt,mt=Ot,St=yt,yt=Xt,Tt=xt,xt=lt}Dt=Ot.neg(),Nt=Xt;var dt=It.sqr().add(kt.sqr()),pt=Dt.sqr().add(Nt.sqr());return pt.cmp(dt)>=0&&(Dt=Mt,Nt=Pt),It.negative&&(It=It.neg(),kt=kt.neg()),Dt.negative&&(Dt=Dt.neg(),Nt=Nt.neg()),[{a:It,b:kt},{a:Dt,b:Nt}]},it.prototype._endoSplit=function(ft){var ht=this.endo.basis,mt=ht[0],gt=ht[1],yt=gt.b.mul(ft).divRound(this.n),xt=mt.b.neg().mul(ft).divRound(this.n),St=yt.mul(mt.a),Tt=xt.mul(gt.a),Mt=yt.mul(mt.b),Pt=xt.mul(gt.b),It=ft.sub(St).sub(Tt),kt=Mt.add(Pt).neg();return{k1:It,k2:kt}},it.prototype.pointFromX=function(ft,ht){ft=new et(ft,16),ft.red||(ft=ft.toRed(this.red));var mt=ft.redSqr().redMul(ft).redIAdd(ft.redMul(this.a)).redIAdd(this.b),gt=mt.redSqrt();if(gt.redSqr().redSub(mt).cmp(this.zero)!==0)throw new Error("invalid point");var yt=gt.fromRed().isOdd();return(ht&&!yt||!ht&&yt)&&(gt=gt.redNeg()),this.point(ft,gt)},it.prototype.validate=function(ft){if(ft.inf)return!0;var ht=ft.x,mt=ft.y,gt=this.a.redMul(ht),yt=ht.redSqr().redMul(ht).redIAdd(gt).redIAdd(this.b);return mt.redSqr().redISub(yt).cmpn(0)===0},it.prototype._endoWnafMulAdd=function(ft,ht,mt){for(var gt=this._endoWnafT1,yt=this._endoWnafT2,xt=0;xt<ft.length;xt++){var St=this._endoSplit(ht[xt]),Tt=ft[xt],Mt=Tt._getBeta();St.k1.negative&&(St.k1.ineg(),Tt=Tt.neg(!0)),St.k2.negative&&(St.k2.ineg(),Mt=Mt.neg(!0)),gt[xt*2]=Tt,gt[xt*2+1]=Mt,yt[xt*2]=St.k1,yt[xt*2+1]=St.k2}for(var Pt=this._wnafMulAdd(1,gt,yt,xt*2,mt),It=0;It<xt*2;It++)gt[It]=null,yt[It]=null;return Pt};function at(ut,ft,ht,mt){nt.BasePoint.call(this,ut,"affine"),ft===null&&ht===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new et(ft,16),this.y=new et(ht,16),mt&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}tt(at,nt.BasePoint),it.prototype.point=function(ft,ht,mt){return new at(this,ft,ht,mt)},it.prototype.pointFromJSON=function(ft,ht){return at.fromJSON(this,ft,ht)},at.prototype._getBeta=function(){if(this.curve.endo){var ft=this.precomputed;if(ft&&ft.beta)return ft.beta;var ht=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(ft){var mt=this.curve,gt=function(yt){return mt.point(yt.x.redMul(mt.endo.beta),yt.y)};ft.beta=ht,ht.precomputed={beta:null,naf:ft.naf&&{wnd:ft.naf.wnd,points:ft.naf.points.map(gt)},doubles:ft.doubles&&{step:ft.doubles.step,points:ft.doubles.points.map(gt)}}}return ht}},at.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},at.fromJSON=function(ft,ht,mt){typeof ht=="string"&&(ht=JSON.parse(ht));var gt=ft.point(ht[0],ht[1],mt);if(!ht[2])return gt;function yt(St){return ft.point(St[0],St[1],mt)}var xt=ht[2];return gt.precomputed={beta:null,doubles:xt.doubles&&{step:xt.doubles.step,points:[gt].concat(xt.doubles.points.map(yt))},naf:xt.naf&&{wnd:xt.naf.wnd,points:[gt].concat(xt.naf.points.map(yt))}},gt},at.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},at.prototype.isInfinity=function(){return this.inf},at.prototype.add=function(ft){if(this.inf)return ft;if(ft.inf)return this;if(this.eq(ft))return this.dbl();if(this.neg().eq(ft))return this.curve.point(null,null);if(this.x.cmp(ft.x)===0)return this.curve.point(null,null);var ht=this.y.redSub(ft.y);ht.cmpn(0)!==0&&(ht=ht.redMul(this.x.redSub(ft.x).redInvm()));var mt=ht.redSqr().redISub(this.x).redISub(ft.x),gt=ht.redMul(this.x.redSub(mt)).redISub(this.y);return this.curve.point(mt,gt)},at.prototype.dbl=function(){if(this.inf)return this;var ft=this.y.redAdd(this.y);if(ft.cmpn(0)===0)return this.curve.point(null,null);var ht=this.curve.a,mt=this.x.redSqr(),gt=ft.redInvm(),yt=mt.redAdd(mt).redIAdd(mt).redIAdd(ht).redMul(gt),xt=yt.redSqr().redISub(this.x.redAdd(this.x)),St=yt.redMul(this.x.redSub(xt)).redISub(this.y);return this.curve.point(xt,St)},at.prototype.getX=function(){return this.x.fromRed()},at.prototype.getY=function(){return this.y.fromRed()},at.prototype.mul=function(ft){return ft=new et(ft,16),this.isInfinity()?this:this._hasDoubles(ft)?this.curve._fixedNafMul(this,ft):this.curve.endo?this.curve._endoWnafMulAdd([this],[ft]):this.curve._wnafMul(this,ft)},at.prototype.mulAdd=function(ft,ht,mt){var gt=[this,ht],yt=[ft,mt];return this.curve.endo?this.curve._endoWnafMulAdd(gt,yt):this.curve._wnafMulAdd(1,gt,yt,2)},at.prototype.jmulAdd=function(ft,ht,mt){var gt=[this,ht],yt=[ft,mt];return this.curve.endo?this.curve._endoWnafMulAdd(gt,yt,!0):this.curve._wnafMulAdd(1,gt,yt,2,!0)},at.prototype.eq=function(ft){return this===ft||this.inf===ft.inf&&(this.inf||this.x.cmp(ft.x)===0&&this.y.cmp(ft.y)===0)},at.prototype.neg=function(ft){if(this.inf)return this;var ht=this.curve.point(this.x,this.y.redNeg());if(ft&&this.precomputed){var mt=this.precomputed,gt=function(yt){return yt.neg()};ht.precomputed={naf:mt.naf&&{wnd:mt.naf.wnd,points:mt.naf.points.map(gt)},doubles:mt.doubles&&{step:mt.doubles.step,points:mt.doubles.points.map(gt)}}}return ht},at.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var ft=this.curve.jpoint(this.x,this.y,this.curve.one);return ft};function st(ut,ft,ht,mt){nt.BasePoint.call(this,ut,"jacobian"),ft===null&&ht===null&&mt===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new et(0)):(this.x=new et(ft,16),this.y=new et(ht,16),this.z=new et(mt,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return tt(st,nt.BasePoint),it.prototype.jpoint=function(ft,ht,mt){return new st(this,ft,ht,mt)},st.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var ft=this.z.redInvm(),ht=ft.redSqr(),mt=this.x.redMul(ht),gt=this.y.redMul(ht).redMul(ft);return this.curve.point(mt,gt)},st.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},st.prototype.add=function(ft){if(this.isInfinity())return ft;if(ft.isInfinity())return this;var ht=ft.z.redSqr(),mt=this.z.redSqr(),gt=this.x.redMul(ht),yt=ft.x.redMul(mt),xt=this.y.redMul(ht.redMul(ft.z)),St=ft.y.redMul(mt.redMul(this.z)),Tt=gt.redSub(yt),Mt=xt.redSub(St);if(Tt.cmpn(0)===0)return Mt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Pt=Tt.redSqr(),It=Pt.redMul(Tt),kt=gt.redMul(Pt),Dt=Mt.redSqr().redIAdd(It).redISub(kt).redISub(kt),Nt=Mt.redMul(kt.redISub(Dt)).redISub(xt.redMul(It)),Gt=this.z.redMul(ft.z).redMul(Tt);return this.curve.jpoint(Dt,Nt,Gt)},st.prototype.mixedAdd=function(ft){if(this.isInfinity())return ft.toJ();if(ft.isInfinity())return this;var ht=this.z.redSqr(),mt=this.x,gt=ft.x.redMul(ht),yt=this.y,xt=ft.y.redMul(ht).redMul(this.z),St=mt.redSub(gt),Tt=yt.redSub(xt);if(St.cmpn(0)===0)return Tt.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Mt=St.redSqr(),Pt=Mt.redMul(St),It=mt.redMul(Mt),kt=Tt.redSqr().redIAdd(Pt).redISub(It).redISub(It),Dt=Tt.redMul(It.redISub(kt)).redISub(yt.redMul(Pt)),Nt=this.z.redMul(St);return this.curve.jpoint(kt,Dt,Nt)},st.prototype.dblp=function(ft){if(ft===0)return this;if(this.isInfinity())return this;if(!ft)return this.dbl();var ht;if(this.curve.zeroA||this.curve.threeA){var mt=this;for(ht=0;ht<ft;ht++)mt=mt.dbl();return mt}var gt=this.curve.a,yt=this.curve.tinv,xt=this.x,St=this.y,Tt=this.z,Mt=Tt.redSqr().redSqr(),Pt=St.redAdd(St);for(ht=0;ht<ft;ht++){var It=xt.redSqr(),kt=Pt.redSqr(),Dt=kt.redSqr(),Nt=It.redAdd(It).redIAdd(It).redIAdd(gt.redMul(Mt)),Gt=xt.redMul(kt),Wt=Nt.redSqr().redISub(Gt.redAdd(Gt)),Ot=Gt.redISub(Wt),Xt=Nt.redMul(Ot);Xt=Xt.redIAdd(Xt).redISub(Dt);var Et=Pt.redMul(Tt);ht+1<ft&&(Mt=Mt.redMul(Dt)),xt=Wt,Tt=Et,Pt=Xt}return this.curve.jpoint(xt,Pt.redMul(yt),Tt)},st.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},st.prototype._zeroDbl=function(){var ft,ht,mt;if(this.zOne){var gt=this.x.redSqr(),yt=this.y.redSqr(),xt=yt.redSqr(),St=this.x.redAdd(yt).redSqr().redISub(gt).redISub(xt);St=St.redIAdd(St);var Tt=gt.redAdd(gt).redIAdd(gt),Mt=Tt.redSqr().redISub(St).redISub(St),Pt=xt.redIAdd(xt);Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),ft=Mt,ht=Tt.redMul(St.redISub(Mt)).redISub(Pt),mt=this.y.redAdd(this.y)}else{var It=this.x.redSqr(),kt=this.y.redSqr(),Dt=kt.redSqr(),Nt=this.x.redAdd(kt).redSqr().redISub(It).redISub(Dt);Nt=Nt.redIAdd(Nt);var Gt=It.redAdd(It).redIAdd(It),Wt=Gt.redSqr(),Ot=Dt.redIAdd(Dt);Ot=Ot.redIAdd(Ot),Ot=Ot.redIAdd(Ot),ft=Wt.redISub(Nt).redISub(Nt),ht=Gt.redMul(Nt.redISub(ft)).redISub(Ot),mt=this.y.redMul(this.z),mt=mt.redIAdd(mt)}return this.curve.jpoint(ft,ht,mt)},st.prototype._threeDbl=function(){var ft,ht,mt;if(this.zOne){var gt=this.x.redSqr(),yt=this.y.redSqr(),xt=yt.redSqr(),St=this.x.redAdd(yt).redSqr().redISub(gt).redISub(xt);St=St.redIAdd(St);var Tt=gt.redAdd(gt).redIAdd(gt).redIAdd(this.curve.a),Mt=Tt.redSqr().redISub(St).redISub(St);ft=Mt;var Pt=xt.redIAdd(xt);Pt=Pt.redIAdd(Pt),Pt=Pt.redIAdd(Pt),ht=Tt.redMul(St.redISub(Mt)).redISub(Pt),mt=this.y.redAdd(this.y)}else{var It=this.z.redSqr(),kt=this.y.redSqr(),Dt=this.x.redMul(kt),Nt=this.x.redSub(It).redMul(this.x.redAdd(It));Nt=Nt.redAdd(Nt).redIAdd(Nt);var Gt=Dt.redIAdd(Dt);Gt=Gt.redIAdd(Gt);var Wt=Gt.redAdd(Gt);ft=Nt.redSqr().redISub(Wt),mt=this.y.redAdd(this.z).redSqr().redISub(kt).redISub(It);var Ot=kt.redSqr();Ot=Ot.redIAdd(Ot),Ot=Ot.redIAdd(Ot),Ot=Ot.redIAdd(Ot),ht=Nt.redMul(Gt.redISub(ft)).redISub(Ot)}return this.curve.jpoint(ft,ht,mt)},st.prototype._dbl=function(){var ft=this.curve.a,ht=this.x,mt=this.y,gt=this.z,yt=gt.redSqr().redSqr(),xt=ht.redSqr(),St=mt.redSqr(),Tt=xt.redAdd(xt).redIAdd(xt).redIAdd(ft.redMul(yt)),Mt=ht.redAdd(ht);Mt=Mt.redIAdd(Mt);var Pt=Mt.redMul(St),It=Tt.redSqr().redISub(Pt.redAdd(Pt)),kt=Pt.redISub(It),Dt=St.redSqr();Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Nt=Tt.redMul(kt).redISub(Dt),Gt=mt.redAdd(mt).redMul(gt);return this.curve.jpoint(It,Nt,Gt)},st.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var ft=this.x.redSqr(),ht=this.y.redSqr(),mt=this.z.redSqr(),gt=ht.redSqr(),yt=ft.redAdd(ft).redIAdd(ft),xt=yt.redSqr(),St=this.x.redAdd(ht).redSqr().redISub(ft).redISub(gt);St=St.redIAdd(St),St=St.redAdd(St).redIAdd(St),St=St.redISub(xt);var Tt=St.redSqr(),Mt=gt.redIAdd(gt);Mt=Mt.redIAdd(Mt),Mt=Mt.redIAdd(Mt),Mt=Mt.redIAdd(Mt);var Pt=yt.redIAdd(St).redSqr().redISub(xt).redISub(Tt).redISub(Mt),It=ht.redMul(Pt);It=It.redIAdd(It),It=It.redIAdd(It);var kt=this.x.redMul(Tt).redISub(It);kt=kt.redIAdd(kt),kt=kt.redIAdd(kt);var Dt=this.y.redMul(Pt.redMul(Mt.redISub(Pt)).redISub(St.redMul(Tt)));Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt),Dt=Dt.redIAdd(Dt);var Nt=this.z.redAdd(St).redSqr().redISub(mt).redISub(Tt);return this.curve.jpoint(kt,Dt,Nt)},st.prototype.mul=function(ft,ht){return ft=new et(ft,ht),this.curve._wnafMul(this,ft)},st.prototype.eq=function(ft){if(ft.type==="affine")return this.eq(ft.toJ());if(this===ft)return!0;var ht=this.z.redSqr(),mt=ft.z.redSqr();if(this.x.redMul(mt).redISub(ft.x.redMul(ht)).cmpn(0)!==0)return!1;var gt=ht.redMul(this.z),yt=mt.redMul(ft.z);return this.y.redMul(yt).redISub(ft.y.redMul(gt)).cmpn(0)===0},st.prototype.eqXToP=function(ft){var ht=this.z.redSqr(),mt=ft.toRed(this.curve.red).redMul(ht);if(this.x.cmp(mt)===0)return!0;for(var gt=ft.clone(),yt=this.curve.redN.redMul(ht);;){if(gt.iadd(this.curve.n),gt.cmp(this.curve.p)>=0)return!1;if(mt.redIAdd(yt),this.x.cmp(mt)===0)return!0}},st.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},st.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var rt=requireBn$3(),et=requireInherits_browser(),tt=requireBase$1(),nt=requireUtils$1();function ot(at){tt.call(this,"mont",at),this.a=new rt(at.a,16).toRed(this.red),this.b=new rt(at.b,16).toRed(this.red),this.i4=new rt(4).toRed(this.red).redInvm(),this.two=new rt(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}et(ot,tt),mont=ot,ot.prototype.validate=function(st){var ut=st.normalize().x,ft=ut.redSqr(),ht=ft.redMul(ut).redAdd(ft.redMul(this.a)).redAdd(ut),mt=ht.redSqrt();return mt.redSqr().cmp(ht)===0};function it(at,st,ut){tt.BasePoint.call(this,at,"projective"),st===null&&ut===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new rt(st,16),this.z=new rt(ut,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return et(it,tt.BasePoint),ot.prototype.decodePoint=function(st,ut){return this.point(nt.toArray(st,ut),1)},ot.prototype.point=function(st,ut){return new it(this,st,ut)},ot.prototype.pointFromJSON=function(st){return it.fromJSON(this,st)},it.prototype.precompute=function(){},it.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},it.fromJSON=function(st,ut){return new it(st,ut[0],ut[1]||st.one)},it.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},it.prototype.isInfinity=function(){return this.z.cmpn(0)===0},it.prototype.dbl=function(){var st=this.x.redAdd(this.z),ut=st.redSqr(),ft=this.x.redSub(this.z),ht=ft.redSqr(),mt=ut.redSub(ht),gt=ut.redMul(ht),yt=mt.redMul(ht.redAdd(this.curve.a24.redMul(mt)));return this.curve.point(gt,yt)},it.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},it.prototype.diffAdd=function(st,ut){var ft=this.x.redAdd(this.z),ht=this.x.redSub(this.z),mt=st.x.redAdd(st.z),gt=st.x.redSub(st.z),yt=gt.redMul(ft),xt=mt.redMul(ht),St=ut.z.redMul(yt.redAdd(xt).redSqr()),Tt=ut.x.redMul(yt.redISub(xt).redSqr());return this.curve.point(St,Tt)},it.prototype.mul=function(st){for(var ut=st.clone(),ft=this,ht=this.curve.point(null,null),mt=this,gt=[];ut.cmpn(0)!==0;ut.iushrn(1))gt.push(ut.andln(1));for(var yt=gt.length-1;yt>=0;yt--)gt[yt]===0?(ft=ft.diffAdd(ht,mt),ht=ht.dbl()):(ht=ft.diffAdd(ht,mt),ft=ft.dbl());return ht},it.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},it.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},it.prototype.eq=function(st){return this.getX().cmp(st.getX())===0},it.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},it.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var rt=requireUtils$1(),et=requireBn$3(),tt=requireInherits_browser(),nt=requireBase$1(),ot=rt.assert;function it(st){this.twisted=(st.a|0)!==1,this.mOneA=this.twisted&&(st.a|0)===-1,this.extended=this.mOneA,nt.call(this,"edwards",st),this.a=new et(st.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new et(st.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new et(st.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ot(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(st.c|0)===1}tt(it,nt),edwards=it,it.prototype._mulA=function(ut){return this.mOneA?ut.redNeg():this.a.redMul(ut)},it.prototype._mulC=function(ut){return this.oneC?ut:this.c.redMul(ut)},it.prototype.jpoint=function(ut,ft,ht,mt){return this.point(ut,ft,ht,mt)},it.prototype.pointFromX=function(ut,ft){ut=new et(ut,16),ut.red||(ut=ut.toRed(this.red));var ht=ut.redSqr(),mt=this.c2.redSub(this.a.redMul(ht)),gt=this.one.redSub(this.c2.redMul(this.d).redMul(ht)),yt=mt.redMul(gt.redInvm()),xt=yt.redSqrt();if(xt.redSqr().redSub(yt).cmp(this.zero)!==0)throw new Error("invalid point");var St=xt.fromRed().isOdd();return(ft&&!St||!ft&&St)&&(xt=xt.redNeg()),this.point(ut,xt)},it.prototype.pointFromY=function(ut,ft){ut=new et(ut,16),ut.red||(ut=ut.toRed(this.red));var ht=ut.redSqr(),mt=ht.redSub(this.c2),gt=ht.redMul(this.d).redMul(this.c2).redSub(this.a),yt=mt.redMul(gt.redInvm());if(yt.cmp(this.zero)===0){if(ft)throw new Error("invalid point");return this.point(this.zero,ut)}var xt=yt.redSqrt();if(xt.redSqr().redSub(yt).cmp(this.zero)!==0)throw new Error("invalid point");return xt.fromRed().isOdd()!==ft&&(xt=xt.redNeg()),this.point(xt,ut)},it.prototype.validate=function(ut){if(ut.isInfinity())return!0;ut.normalize();var ft=ut.x.redSqr(),ht=ut.y.redSqr(),mt=ft.redMul(this.a).redAdd(ht),gt=this.c2.redMul(this.one.redAdd(this.d.redMul(ft).redMul(ht)));return mt.cmp(gt)===0};function at(st,ut,ft,ht,mt){nt.BasePoint.call(this,st,"projective"),ut===null&&ft===null&&ht===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new et(ut,16),this.y=new et(ft,16),this.z=ht?new et(ht,16):this.curve.one,this.t=mt&&new et(mt,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return tt(at,nt.BasePoint),it.prototype.pointFromJSON=function(ut){return at.fromJSON(this,ut)},it.prototype.point=function(ut,ft,ht,mt){return new at(this,ut,ft,ht,mt)},at.fromJSON=function(ut,ft){return new at(ut,ft[0],ft[1],ft[2])},at.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},at.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},at.prototype._extDbl=function(){var ut=this.x.redSqr(),ft=this.y.redSqr(),ht=this.z.redSqr();ht=ht.redIAdd(ht);var mt=this.curve._mulA(ut),gt=this.x.redAdd(this.y).redSqr().redISub(ut).redISub(ft),yt=mt.redAdd(ft),xt=yt.redSub(ht),St=mt.redSub(ft),Tt=gt.redMul(xt),Mt=yt.redMul(St),Pt=gt.redMul(St),It=xt.redMul(yt);return this.curve.point(Tt,Mt,It,Pt)},at.prototype._projDbl=function(){var ut=this.x.redAdd(this.y).redSqr(),ft=this.x.redSqr(),ht=this.y.redSqr(),mt,gt,yt,xt,St,Tt;if(this.curve.twisted){xt=this.curve._mulA(ft);var Mt=xt.redAdd(ht);this.zOne?(mt=ut.redSub(ft).redSub(ht).redMul(Mt.redSub(this.curve.two)),gt=Mt.redMul(xt.redSub(ht)),yt=Mt.redSqr().redSub(Mt).redSub(Mt)):(St=this.z.redSqr(),Tt=Mt.redSub(St).redISub(St),mt=ut.redSub(ft).redISub(ht).redMul(Tt),gt=Mt.redMul(xt.redSub(ht)),yt=Mt.redMul(Tt))}else xt=ft.redAdd(ht),St=this.curve._mulC(this.z).redSqr(),Tt=xt.redSub(St).redSub(St),mt=this.curve._mulC(ut.redISub(xt)).redMul(Tt),gt=this.curve._mulC(xt).redMul(ft.redISub(ht)),yt=xt.redMul(Tt);return this.curve.point(mt,gt,yt)},at.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},at.prototype._extAdd=function(ut){var ft=this.y.redSub(this.x).redMul(ut.y.redSub(ut.x)),ht=this.y.redAdd(this.x).redMul(ut.y.redAdd(ut.x)),mt=this.t.redMul(this.curve.dd).redMul(ut.t),gt=this.z.redMul(ut.z.redAdd(ut.z)),yt=ht.redSub(ft),xt=gt.redSub(mt),St=gt.redAdd(mt),Tt=ht.redAdd(ft),Mt=yt.redMul(xt),Pt=St.redMul(Tt),It=yt.redMul(Tt),kt=xt.redMul(St);return this.curve.point(Mt,Pt,kt,It)},at.prototype._projAdd=function(ut){var ft=this.z.redMul(ut.z),ht=ft.redSqr(),mt=this.x.redMul(ut.x),gt=this.y.redMul(ut.y),yt=this.curve.d.redMul(mt).redMul(gt),xt=ht.redSub(yt),St=ht.redAdd(yt),Tt=this.x.redAdd(this.y).redMul(ut.x.redAdd(ut.y)).redISub(mt).redISub(gt),Mt=ft.redMul(xt).redMul(Tt),Pt,It;return this.curve.twisted?(Pt=ft.redMul(St).redMul(gt.redSub(this.curve._mulA(mt))),It=xt.redMul(St)):(Pt=ft.redMul(St).redMul(gt.redSub(mt)),It=this.curve._mulC(xt).redMul(St)),this.curve.point(Mt,Pt,It)},at.prototype.add=function(ut){return this.isInfinity()?ut:ut.isInfinity()?this:this.curve.extended?this._extAdd(ut):this._projAdd(ut)},at.prototype.mul=function(ut){return this._hasDoubles(ut)?this.curve._fixedNafMul(this,ut):this.curve._wnafMul(this,ut)},at.prototype.mulAdd=function(ut,ft,ht){return this.curve._wnafMulAdd(1,[this,ft],[ut,ht],2,!1)},at.prototype.jmulAdd=function(ut,ft,ht){return this.curve._wnafMulAdd(1,[this,ft],[ut,ht],2,!0)},at.prototype.normalize=function(){if(this.zOne)return this;var ut=this.z.redInvm();return this.x=this.x.redMul(ut),this.y=this.y.redMul(ut),this.t&&(this.t=this.t.redMul(ut)),this.z=this.curve.one,this.zOne=!0,this},at.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},at.prototype.getX=function(){return this.normalize(),this.x.fromRed()},at.prototype.getY=function(){return this.normalize(),this.y.fromRed()},at.prototype.eq=function(ut){return this===ut||this.getX().cmp(ut.getX())===0&&this.getY().cmp(ut.getY())===0},at.prototype.eqXToP=function(ut){var ft=ut.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(ft)===0)return!0;for(var ht=ut.clone(),mt=this.curve.redN.redMul(this.z);;){if(ht.iadd(this.curve.n),ht.cmp(this.curve.p)>=0)return!1;if(ft.redIAdd(mt),this.x.cmp(ft)===0)return!0}},at.prototype.toP=at.prototype.normalize,at.prototype.mixedAdd=at.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(rt){var et=rt;et.base=requireBase$1(),et.short=requireShort(),et.mont=requireMont(),et.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$2={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var rt=requireMinimalisticAssert(),et=requireInherits_browser();utils$2.inherits=et;function tt(lt,dt){return(lt.charCodeAt(dt)&64512)!==55296||dt<0||dt+1>=lt.length?!1:(lt.charCodeAt(dt+1)&64512)===56320}function nt(lt,dt){if(Array.isArray(lt))return lt.slice();if(!lt)return[];var pt=[];if(typeof lt=="string")if(dt){if(dt==="hex")for(lt=lt.replace(/[^a-z0-9]+/ig,""),lt.length%2!==0&&(lt="0"+lt),wt=0;wt<lt.length;wt+=2)pt.push(parseInt(lt[wt]+lt[wt+1],16))}else for(var vt=0,wt=0;wt<lt.length;wt++){var At=lt.charCodeAt(wt);At<128?pt[vt++]=At:At<2048?(pt[vt++]=At>>6|192,pt[vt++]=At&63|128):tt(lt,wt)?(At=65536+((At&1023)<<10)+(lt.charCodeAt(++wt)&1023),pt[vt++]=At>>18|240,pt[vt++]=At>>12&63|128,pt[vt++]=At>>6&63|128,pt[vt++]=At&63|128):(pt[vt++]=At>>12|224,pt[vt++]=At>>6&63|128,pt[vt++]=At&63|128)}else for(wt=0;wt<lt.length;wt++)pt[wt]=lt[wt]|0;return pt}utils$2.toArray=nt;function ot(lt){for(var dt="",pt=0;pt<lt.length;pt++)dt+=st(lt[pt].toString(16));return dt}utils$2.toHex=ot;function it(lt){var dt=lt>>>24|lt>>>8&65280|lt<<8&16711680|(lt&255)<<24;return dt>>>0}utils$2.htonl=it;function at(lt,dt){for(var pt="",vt=0;vt<lt.length;vt++){var wt=lt[vt];dt==="little"&&(wt=it(wt)),pt+=ut(wt.toString(16))}return pt}utils$2.toHex32=at;function st(lt){return lt.length===1?"0"+lt:lt}utils$2.zero2=st;function ut(lt){return lt.length===7?"0"+lt:lt.length===6?"00"+lt:lt.length===5?"000"+lt:lt.length===4?"0000"+lt:lt.length===3?"00000"+lt:lt.length===2?"000000"+lt:lt.length===1?"0000000"+lt:lt}utils$2.zero8=ut;function ft(lt,dt,pt,vt){var wt=pt-dt;rt(wt%4===0);for(var At=new Array(wt/4),Rt=0,bt=dt;Rt<At.length;Rt++,bt+=4){var ct;vt==="big"?ct=lt[bt]<<24|lt[bt+1]<<16|lt[bt+2]<<8|lt[bt+3]:ct=lt[bt+3]<<24|lt[bt+2]<<16|lt[bt+1]<<8|lt[bt],At[Rt]=ct>>>0}return At}utils$2.join32=ft;function ht(lt,dt){for(var pt=new Array(lt.length*4),vt=0,wt=0;vt<lt.length;vt++,wt+=4){var At=lt[vt];dt==="big"?(pt[wt]=At>>>24,pt[wt+1]=At>>>16&255,pt[wt+2]=At>>>8&255,pt[wt+3]=At&255):(pt[wt+3]=At>>>24,pt[wt+2]=At>>>16&255,pt[wt+1]=At>>>8&255,pt[wt]=At&255)}return pt}utils$2.split32=ht;function mt(lt,dt){return lt>>>dt|lt<<32-dt}utils$2.rotr32=mt;function gt(lt,dt){return lt<<dt|lt>>>32-dt}utils$2.rotl32=gt;function yt(lt,dt){return lt+dt>>>0}utils$2.sum32=yt;function xt(lt,dt,pt){return lt+dt+pt>>>0}utils$2.sum32_3=xt;function St(lt,dt,pt,vt){return lt+dt+pt+vt>>>0}utils$2.sum32_4=St;function Tt(lt,dt,pt,vt,wt){return lt+dt+pt+vt+wt>>>0}utils$2.sum32_5=Tt;function Mt(lt,dt,pt,vt){var wt=lt[dt],At=lt[dt+1],Rt=vt+At>>>0,bt=(Rt<vt?1:0)+pt+wt;lt[dt]=bt>>>0,lt[dt+1]=Rt}utils$2.sum64=Mt;function Pt(lt,dt,pt,vt){var wt=dt+vt>>>0,At=(wt<dt?1:0)+lt+pt;return At>>>0}utils$2.sum64_hi=Pt;function It(lt,dt,pt,vt){var wt=dt+vt;return wt>>>0}utils$2.sum64_lo=It;function kt(lt,dt,pt,vt,wt,At,Rt,bt){var ct=0,_t=dt;_t=_t+vt>>>0,ct+=_t<dt?1:0,_t=_t+At>>>0,ct+=_t<At?1:0,_t=_t+bt>>>0,ct+=_t<bt?1:0;var Lt=lt+pt+wt+Rt+ct;return Lt>>>0}utils$2.sum64_4_hi=kt;function Dt(lt,dt,pt,vt,wt,At,Rt,bt){var ct=dt+vt+At+bt;return ct>>>0}utils$2.sum64_4_lo=Dt;function Nt(lt,dt,pt,vt,wt,At,Rt,bt,ct,_t){var Lt=0,Ft=dt;Ft=Ft+vt>>>0,Lt+=Ft<dt?1:0,Ft=Ft+At>>>0,Lt+=Ft<At?1:0,Ft=Ft+bt>>>0,Lt+=Ft<bt?1:0,Ft=Ft+_t>>>0,Lt+=Ft<_t?1:0;var jt=lt+pt+wt+Rt+ct+Lt;return jt>>>0}utils$2.sum64_5_hi=Nt;function Gt(lt,dt,pt,vt,wt,At,Rt,bt,ct,_t){var Lt=dt+vt+At+bt+_t;return Lt>>>0}utils$2.sum64_5_lo=Gt;function Wt(lt,dt,pt){var vt=dt<<32-pt|lt>>>pt;return vt>>>0}utils$2.rotr64_hi=Wt;function Ot(lt,dt,pt){var vt=lt<<32-pt|dt>>>pt;return vt>>>0}utils$2.rotr64_lo=Ot;function Xt(lt,dt,pt){return lt>>>pt}utils$2.shr64_hi=Xt;function Et(lt,dt,pt){var vt=lt<<32-pt|dt>>>pt;return vt>>>0}return utils$2.shr64_lo=Et,utils$2}var common$4={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$4;hasRequiredCommon$1=1;var rt=requireUtils(),et=requireMinimalisticAssert();function tt(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$4.BlockHash=tt,tt.prototype.update=function(ot,it){if(ot=rt.toArray(ot,it),this.pending?this.pending=this.pending.concat(ot):this.pending=ot,this.pendingTotal+=ot.length,this.pending.length>=this._delta8){ot=this.pending;var at=ot.length%this._delta8;this.pending=ot.slice(ot.length-at,ot.length),this.pending.length===0&&(this.pending=null),ot=rt.join32(ot,0,ot.length-at,this.endian);for(var st=0;st<ot.length;st+=this._delta32)this._update(ot,st,st+this._delta32)}return this},tt.prototype.digest=function(ot){return this.update(this._pad()),et(this.pending===null),this._digest(ot)},tt.prototype._pad=function(){var ot=this.pendingTotal,it=this._delta8,at=it-(ot+this.padLength)%it,st=new Array(at+this.padLength);st[0]=128;for(var ut=1;ut<at;ut++)st[ut]=0;if(ot<<=3,this.endian==="big"){for(var ft=8;ft<this.padLength;ft++)st[ut++]=0;st[ut++]=0,st[ut++]=0,st[ut++]=0,st[ut++]=0,st[ut++]=ot>>>24&255,st[ut++]=ot>>>16&255,st[ut++]=ot>>>8&255,st[ut++]=ot&255}else for(st[ut++]=ot&255,st[ut++]=ot>>>8&255,st[ut++]=ot>>>16&255,st[ut++]=ot>>>24&255,st[ut++]=0,st[ut++]=0,st[ut++]=0,st[ut++]=0,ft=8;ft<this.padLength;ft++)st[ut++]=0;return st},common$4}var sha={},common$3={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$3;hasRequiredCommon=1;var rt=requireUtils(),et=rt.rotr32;function tt(ht,mt,gt,yt){if(ht===0)return nt(mt,gt,yt);if(ht===1||ht===3)return it(mt,gt,yt);if(ht===2)return ot(mt,gt,yt)}common$3.ft_1=tt;function nt(ht,mt,gt){return ht&mt^~ht&gt}common$3.ch32=nt;function ot(ht,mt,gt){return ht&mt^ht&gt^mt&gt}common$3.maj32=ot;function it(ht,mt,gt){return ht^mt^gt}common$3.p32=it;function at(ht){return et(ht,2)^et(ht,13)^et(ht,22)}common$3.s0_256=at;function st(ht){return et(ht,6)^et(ht,11)^et(ht,25)}common$3.s1_256=st;function ut(ht){return et(ht,7)^et(ht,18)^ht>>>3}common$3.g0_256=ut;function ft(ht){return et(ht,17)^et(ht,19)^ht>>>10}return common$3.g1_256=ft,common$3}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var rt=requireUtils(),et=requireCommon$1(),tt=requireCommon(),nt=rt.rotl32,ot=rt.sum32,it=rt.sum32_5,at=tt.ft_1,st=et.BlockHash,ut=[1518500249,1859775393,2400959708,3395469782];function ft(){if(!(this instanceof ft))return new ft;st.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return rt.inherits(ft,st),_1=ft,ft.blockSize=512,ft.outSize=160,ft.hmacStrength=80,ft.padLength=64,ft.prototype._update=function(mt,gt){for(var yt=this.W,xt=0;xt<16;xt++)yt[xt]=mt[gt+xt];for(;xt<yt.length;xt++)yt[xt]=nt(yt[xt-3]^yt[xt-8]^yt[xt-14]^yt[xt-16],1);var St=this.h[0],Tt=this.h[1],Mt=this.h[2],Pt=this.h[3],It=this.h[4];for(xt=0;xt<yt.length;xt++){var kt=~~(xt/20),Dt=it(nt(St,5),at(kt,Tt,Mt,Pt),It,yt[xt],ut[kt]);It=Pt,Pt=Mt,Mt=nt(Tt,30),Tt=St,St=Dt}this.h[0]=ot(this.h[0],St),this.h[1]=ot(this.h[1],Tt),this.h[2]=ot(this.h[2],Mt),this.h[3]=ot(this.h[3],Pt),this.h[4]=ot(this.h[4],It)},ft.prototype._digest=function(mt){return mt==="hex"?rt.toHex32(this.h,"big"):rt.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var rt=requireUtils(),et=requireCommon$1(),tt=requireCommon(),nt=requireMinimalisticAssert(),ot=rt.sum32,it=rt.sum32_4,at=rt.sum32_5,st=tt.ch32,ut=tt.maj32,ft=tt.s0_256,ht=tt.s1_256,mt=tt.g0_256,gt=tt.g1_256,yt=et.BlockHash,xt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function St(){if(!(this instanceof St))return new St;yt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=xt,this.W=new Array(64)}return rt.inherits(St,yt),_256=St,St.blockSize=512,St.outSize=256,St.hmacStrength=192,St.padLength=64,St.prototype._update=function(Mt,Pt){for(var It=this.W,kt=0;kt<16;kt++)It[kt]=Mt[Pt+kt];for(;kt<It.length;kt++)It[kt]=it(gt(It[kt-2]),It[kt-7],mt(It[kt-15]),It[kt-16]);var Dt=this.h[0],Nt=this.h[1],Gt=this.h[2],Wt=this.h[3],Ot=this.h[4],Xt=this.h[5],Et=this.h[6],lt=this.h[7];for(nt(this.k.length===It.length),kt=0;kt<It.length;kt++){var dt=at(lt,ht(Ot),st(Ot,Xt,Et),this.k[kt],It[kt]),pt=ot(ft(Dt),ut(Dt,Nt,Gt));lt=Et,Et=Xt,Xt=Ot,Ot=ot(Wt,dt),Wt=Gt,Gt=Nt,Nt=Dt,Dt=ot(dt,pt)}this.h[0]=ot(this.h[0],Dt),this.h[1]=ot(this.h[1],Nt),this.h[2]=ot(this.h[2],Gt),this.h[3]=ot(this.h[3],Wt),this.h[4]=ot(this.h[4],Ot),this.h[5]=ot(this.h[5],Xt),this.h[6]=ot(this.h[6],Et),this.h[7]=ot(this.h[7],lt)},St.prototype._digest=function(Mt){return Mt==="hex"?rt.toHex32(this.h,"big"):rt.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var rt=requireUtils(),et=require_256();function tt(){if(!(this instanceof tt))return new tt;et.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return rt.inherits(tt,et),_224=tt,tt.blockSize=512,tt.outSize=224,tt.hmacStrength=192,tt.padLength=64,tt.prototype._digest=function(ot){return ot==="hex"?rt.toHex32(this.h.slice(0,7),"big"):rt.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var rt=requireUtils(),et=requireCommon$1(),tt=requireMinimalisticAssert(),nt=rt.rotr64_hi,ot=rt.rotr64_lo,it=rt.shr64_hi,at=rt.shr64_lo,st=rt.sum64,ut=rt.sum64_hi,ft=rt.sum64_lo,ht=rt.sum64_4_hi,mt=rt.sum64_4_lo,gt=rt.sum64_5_hi,yt=rt.sum64_5_lo,xt=et.BlockHash,St=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Tt(){if(!(this instanceof Tt))return new Tt;xt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=St,this.W=new Array(160)}rt.inherits(Tt,xt),_512=Tt,Tt.blockSize=1024,Tt.outSize=512,Tt.hmacStrength=192,Tt.padLength=128,Tt.prototype._prepareBlock=function(pt,vt){for(var wt=this.W,At=0;At<32;At++)wt[At]=pt[vt+At];for(;At<wt.length;At+=2){var Rt=Et(wt[At-4],wt[At-3]),bt=lt(wt[At-4],wt[At-3]),ct=wt[At-14],_t=wt[At-13],Lt=Ot(wt[At-30],wt[At-29]),Ft=Xt(wt[At-30],wt[At-29]),jt=wt[At-32],Zt=wt[At-31];wt[At]=ht(Rt,bt,ct,_t,Lt,Ft,jt,Zt),wt[At+1]=mt(Rt,bt,ct,_t,Lt,Ft,jt,Zt)}},Tt.prototype._update=function(pt,vt){this._prepareBlock(pt,vt);var wt=this.W,At=this.h[0],Rt=this.h[1],bt=this.h[2],ct=this.h[3],_t=this.h[4],Lt=this.h[5],Ft=this.h[6],jt=this.h[7],Zt=this.h[8],Kt=this.h[9],zt=this.h[10],Vt=this.h[11],nr=this.h[12],or=this.h[13],rr=this.h[14],$t=this.h[15];tt(this.k.length===wt.length);for(var ar=0;ar<wt.length;ar+=2){var wr=rr,vr=$t,Qt=Gt(Zt,Kt),Yt=Wt(Zt,Kt),Ht=Mt(Zt,Kt,zt,Vt,nr),tr=Pt(Zt,Kt,zt,Vt,nr,or),br=this.k[ar],gr=this.k[ar+1],Sr=wt[ar],pr=wt[ar+1],er=gt(wr,vr,Qt,Yt,Ht,tr,br,gr,Sr,pr),yr=yt(wr,vr,Qt,Yt,Ht,tr,br,gr,Sr,pr);wr=Dt(At,Rt),vr=Nt(At,Rt),Qt=It(At,Rt,bt,ct,_t),Yt=kt(At,Rt,bt,ct,_t,Lt);var Gr=ut(wr,vr,Qt,Yt),Mr=ft(wr,vr,Qt,Yt);rr=nr,$t=or,nr=zt,or=Vt,zt=Zt,Vt=Kt,Zt=ut(Ft,jt,er,yr),Kt=ft(jt,jt,er,yr),Ft=_t,jt=Lt,_t=bt,Lt=ct,bt=At,ct=Rt,At=ut(er,yr,Gr,Mr),Rt=ft(er,yr,Gr,Mr)}st(this.h,0,At,Rt),st(this.h,2,bt,ct),st(this.h,4,_t,Lt),st(this.h,6,Ft,jt),st(this.h,8,Zt,Kt),st(this.h,10,zt,Vt),st(this.h,12,nr,or),st(this.h,14,rr,$t)},Tt.prototype._digest=function(pt){return pt==="hex"?rt.toHex32(this.h,"big"):rt.split32(this.h,"big")};function Mt(dt,pt,vt,wt,At){var Rt=dt&vt^~dt&At;return Rt<0&&(Rt+=4294967296),Rt}function Pt(dt,pt,vt,wt,At,Rt){var bt=pt&wt^~pt&Rt;return bt<0&&(bt+=4294967296),bt}function It(dt,pt,vt,wt,At){var Rt=dt&vt^dt&At^vt&At;return Rt<0&&(Rt+=4294967296),Rt}function kt(dt,pt,vt,wt,At,Rt){var bt=pt&wt^pt&Rt^wt&Rt;return bt<0&&(bt+=4294967296),bt}function Dt(dt,pt){var vt=nt(dt,pt,28),wt=nt(pt,dt,2),At=nt(pt,dt,7),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Nt(dt,pt){var vt=ot(dt,pt,28),wt=ot(pt,dt,2),At=ot(pt,dt,7),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Gt(dt,pt){var vt=nt(dt,pt,14),wt=nt(dt,pt,18),At=nt(pt,dt,9),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Wt(dt,pt){var vt=ot(dt,pt,14),wt=ot(dt,pt,18),At=ot(pt,dt,9),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Ot(dt,pt){var vt=nt(dt,pt,1),wt=nt(dt,pt,8),At=it(dt,pt,7),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Xt(dt,pt){var vt=ot(dt,pt,1),wt=ot(dt,pt,8),At=at(dt,pt,7),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function Et(dt,pt){var vt=nt(dt,pt,19),wt=nt(pt,dt,29),At=it(dt,pt,6),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}function lt(dt,pt){var vt=ot(dt,pt,19),wt=ot(pt,dt,29),At=at(dt,pt,6),Rt=vt^wt^At;return Rt<0&&(Rt+=4294967296),Rt}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var rt=requireUtils(),et=require_512();function tt(){if(!(this instanceof tt))return new tt;et.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return rt.inherits(tt,et),_384=tt,tt.blockSize=1024,tt.outSize=384,tt.hmacStrength=192,tt.padLength=128,tt.prototype._digest=function(ot){return ot==="hex"?rt.toHex32(this.h.slice(0,12),"big"):rt.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var rt=requireUtils(),et=requireCommon$1(),tt=rt.rotl32,nt=rt.sum32,ot=rt.sum32_3,it=rt.sum32_4,at=et.BlockHash;function st(){if(!(this instanceof st))return new st;at.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}rt.inherits(st,at),ripemd.ripemd160=st,st.blockSize=512,st.outSize=160,st.hmacStrength=192,st.padLength=64,st.prototype._update=function(Tt,Mt){for(var Pt=this.h[0],It=this.h[1],kt=this.h[2],Dt=this.h[3],Nt=this.h[4],Gt=Pt,Wt=It,Ot=kt,Xt=Dt,Et=Nt,lt=0;lt<80;lt++){var dt=nt(tt(it(Pt,ut(lt,It,kt,Dt),Tt[mt[lt]+Mt],ft(lt)),yt[lt]),Nt);Pt=Nt,Nt=Dt,Dt=tt(kt,10),kt=It,It=dt,dt=nt(tt(it(Gt,ut(79-lt,Wt,Ot,Xt),Tt[gt[lt]+Mt],ht(lt)),xt[lt]),Et),Gt=Et,Et=Xt,Xt=tt(Ot,10),Ot=Wt,Wt=dt}dt=ot(this.h[1],kt,Xt),this.h[1]=ot(this.h[2],Dt,Et),this.h[2]=ot(this.h[3],Nt,Gt),this.h[3]=ot(this.h[4],Pt,Wt),this.h[4]=ot(this.h[0],It,Ot),this.h[0]=dt},st.prototype._digest=function(Tt){return Tt==="hex"?rt.toHex32(this.h,"little"):rt.split32(this.h,"little")};function ut(St,Tt,Mt,Pt){return St<=15?Tt^Mt^Pt:St<=31?Tt&Mt|~Tt&Pt:St<=47?(Tt|~Mt)^Pt:St<=63?Tt&Pt|Mt&~Pt:Tt^(Mt|~Pt)}function ft(St){return St<=15?0:St<=31?1518500249:St<=47?1859775393:St<=63?2400959708:2840853838}function ht(St){return St<=15?1352829926:St<=31?1548603684:St<=47?1836072691:St<=63?2053994217:0}var mt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],xt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var rt=requireUtils(),et=requireMinimalisticAssert();function tt(nt,ot,it){if(!(this instanceof tt))return new tt(nt,ot,it);this.Hash=nt,this.blockSize=nt.blockSize/8,this.outSize=nt.outSize/8,this.inner=null,this.outer=null,this._init(rt.toArray(ot,it))}return hmac=tt,tt.prototype._init=function(ot){ot.length>this.blockSize&&(ot=new this.Hash().update(ot).digest()),et(ot.length<=this.blockSize);for(var it=ot.length;it<this.blockSize;it++)ot.push(0);for(it=0;it<ot.length;it++)ot[it]^=54;for(this.inner=new this.Hash().update(ot),it=0;it<ot.length;it++)ot[it]^=106;this.outer=new this.Hash().update(ot)},tt.prototype.update=function(ot,it){return this.inner.update(ot,it),this},tt.prototype.digest=function(ot){return this.outer.update(this.inner.digest()),this.outer.digest(ot)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(rt){var et=rt;et.utils=requireUtils(),et.common=requireCommon$1(),et.sha=requireSha(),et.ripemd=requireRipemd(),et.hmac=requireHmac(),et.sha1=et.sha.sha1,et.sha256=et.sha.sha256,et.sha224=et.sha.sha224,et.sha384=et.sha.sha384,et.sha512=et.sha.sha512,et.ripemd160=et.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(rt){var et=rt,tt=requireHash(),nt=requireCurve(),ot=requireUtils$1(),it=ot.assert;function at(ft){ft.type==="short"?this.curve=new nt.short(ft):ft.type==="edwards"?this.curve=new nt.edwards(ft):this.curve=new nt.mont(ft),this.g=this.curve.g,this.n=this.curve.n,this.hash=ft.hash,it(this.g.validate(),"Invalid curve"),it(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}et.PresetCurve=at;function st(ft,ht){Object.defineProperty(et,ft,{configurable:!0,enumerable:!0,get:function(){var mt=new at(ht);return Object.defineProperty(et,ft,{configurable:!0,enumerable:!0,value:mt}),mt}})}st("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:tt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),st("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:tt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),st("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:tt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),st("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:tt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),st("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:tt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),st("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tt.sha256,gRed:!1,g:["9"]}),st("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:tt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var ut;try{ut=requireSecp256k1()}catch{ut=void 0}st("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:tt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",ut]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var rt=requireHash(),et=requireUtils$2(),tt=requireMinimalisticAssert();function nt(ot){if(!(this instanceof nt))return new nt(ot);this.hash=ot.hash,this.predResist=!!ot.predResist,this.outLen=this.hash.outSize,this.minEntropy=ot.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var it=et.toArray(ot.entropy,ot.entropyEnc||"hex"),at=et.toArray(ot.nonce,ot.nonceEnc||"hex"),st=et.toArray(ot.pers,ot.persEnc||"hex");tt(it.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(it,at,st)}return hmacDrbg=nt,nt.prototype._init=function(it,at,st){var ut=it.concat(at).concat(st);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ft=0;ft<this.V.length;ft++)this.K[ft]=0,this.V[ft]=1;this._update(ut),this._reseed=1,this.reseedInterval=281474976710656},nt.prototype._hmac=function(){return new rt.hmac(this.hash,this.K)},nt.prototype._update=function(it){var at=this._hmac().update(this.V).update([0]);it&&(at=at.update(it)),this.K=at.digest(),this.V=this._hmac().update(this.V).digest(),it&&(this.K=this._hmac().update(this.V).update([1]).update(it).digest(),this.V=this._hmac().update(this.V).digest())},nt.prototype.reseed=function(it,at,st,ut){typeof at!="string"&&(ut=st,st=at,at=null),it=et.toArray(it,at),st=et.toArray(st,ut),tt(it.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(it.concat(st||[])),this._reseed=1},nt.prototype.generate=function(it,at,st,ut){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof at!="string"&&(ut=st,st=at,at=null),st&&(st=et.toArray(st,ut||"hex"),this._update(st));for(var ft=[];ft.length<it;)this.V=this._hmac().update(this.V).digest(),ft=ft.concat(this.V);var ht=ft.slice(0,it);return this._update(st),this._reseed++,et.encode(ht,at)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var rt=requireBn$3(),et=requireUtils$1(),tt=et.assert;function nt(ot,it){this.ec=ot,this.priv=null,this.pub=null,it.priv&&this._importPrivate(it.priv,it.privEnc),it.pub&&this._importPublic(it.pub,it.pubEnc)}return key$1=nt,nt.fromPublic=function(it,at,st){return at instanceof nt?at:new nt(it,{pub:at,pubEnc:st})},nt.fromPrivate=function(it,at,st){return at instanceof nt?at:new nt(it,{priv:at,privEnc:st})},nt.prototype.validate=function(){var it=this.getPublic();return it.isInfinity()?{result:!1,reason:"Invalid public key"}:it.validate()?it.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},nt.prototype.getPublic=function(it,at){return typeof it=="string"&&(at=it,it=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),at?this.pub.encode(at,it):this.pub},nt.prototype.getPrivate=function(it){return it==="hex"?this.priv.toString(16,2):this.priv},nt.prototype._importPrivate=function(it,at){this.priv=new rt(it,at||16),this.priv=this.priv.umod(this.ec.curve.n)},nt.prototype._importPublic=function(it,at){if(it.x||it.y){this.ec.curve.type==="mont"?tt(it.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&tt(it.x&&it.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(it.x,it.y);return}this.pub=this.ec.curve.decodePoint(it,at)},nt.prototype.derive=function(it){return it.validate()||tt(it.validate(),"public point not validated"),it.mul(this.priv).getX()},nt.prototype.sign=function(it,at,st){return this.ec.sign(it,this,at,st)},nt.prototype.verify=function(it,at,st){return this.ec.verify(it,at,this,void 0,st)},nt.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var rt=requireBn$3(),et=requireUtils$1(),tt=et.assert;function nt(ut,ft){if(ut instanceof nt)return ut;this._importDER(ut,ft)||(tt(ut.r&&ut.s,"Signature without r or s"),this.r=new rt(ut.r,16),this.s=new rt(ut.s,16),ut.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=ut.recoveryParam)}signature$1=nt;function ot(){this.place=0}function it(ut,ft){var ht=ut[ft.place++];if(!(ht&128))return ht;var mt=ht&15;if(mt===0||mt>4||ut[ft.place]===0)return!1;for(var gt=0,yt=0,xt=ft.place;yt<mt;yt++,xt++)gt<<=8,gt|=ut[xt],gt>>>=0;return gt<=127?!1:(ft.place=xt,gt)}function at(ut){for(var ft=0,ht=ut.length-1;!ut[ft]&&!(ut[ft+1]&128)&&ft<ht;)ft++;return ft===0?ut:ut.slice(ft)}nt.prototype._importDER=function(ft,ht){ft=et.toArray(ft,ht);var mt=new ot;if(ft[mt.place++]!==48)return!1;var gt=it(ft,mt);if(gt===!1||gt+mt.place!==ft.length||ft[mt.place++]!==2)return!1;var yt=it(ft,mt);if(yt===!1||ft[mt.place]&128)return!1;var xt=ft.slice(mt.place,yt+mt.place);if(mt.place+=yt,ft[mt.place++]!==2)return!1;var St=it(ft,mt);if(St===!1||ft.length!==St+mt.place||ft[mt.place]&128)return!1;var Tt=ft.slice(mt.place,St+mt.place);if(xt[0]===0)if(xt[1]&128)xt=xt.slice(1);else return!1;if(Tt[0]===0)if(Tt[1]&128)Tt=Tt.slice(1);else return!1;return this.r=new rt(xt),this.s=new rt(Tt),this.recoveryParam=null,!0};function st(ut,ft){if(ft<128){ut.push(ft);return}var ht=1+(Math.log(ft)/Math.LN2>>>3);for(ut.push(ht|128);--ht;)ut.push(ft>>>(ht<<3)&255);ut.push(ft)}return nt.prototype.toDER=function(ft){var ht=this.r.toArray(),mt=this.s.toArray();for(ht[0]&128&&(ht=[0].concat(ht)),mt[0]&128&&(mt=[0].concat(mt)),ht=at(ht),mt=at(mt);!mt[0]&&!(mt[1]&128);)mt=mt.slice(1);var gt=[2];st(gt,ht.length),gt=gt.concat(ht),gt.push(2),st(gt,mt.length);var yt=gt.concat(mt),xt=[48];return st(xt,yt.length),xt=xt.concat(yt),et.encode(xt,ft)},signature$1}var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var rt=requireBn$3(),et=requireHmacDrbg(),tt=requireUtils$1(),nt=requireCurves(),ot=requireBrorand(),it=tt.assert,at=requireKey$1(),st=requireSignature$1();function ut(ft){if(!(this instanceof ut))return new ut(ft);typeof ft=="string"&&(it(Object.prototype.hasOwnProperty.call(nt,ft),"Unknown curve "+ft),ft=nt[ft]),ft instanceof nt.PresetCurve&&(ft={curve:ft}),this.curve=ft.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=ft.curve.g,this.g.precompute(ft.curve.n.bitLength()+1),this.hash=ft.hash||ft.curve.hash}return ec=ut,ut.prototype.keyPair=function(ht){return new at(this,ht)},ut.prototype.keyFromPrivate=function(ht,mt){return at.fromPrivate(this,ht,mt)},ut.prototype.keyFromPublic=function(ht,mt){return at.fromPublic(this,ht,mt)},ut.prototype.genKeyPair=function(ht){ht||(ht={});for(var mt=new et({hash:this.hash,pers:ht.pers,persEnc:ht.persEnc||"utf8",entropy:ht.entropy||ot(this.hash.hmacStrength),entropyEnc:ht.entropy&&ht.entropyEnc||"utf8",nonce:this.n.toArray()}),gt=this.n.byteLength(),yt=this.n.sub(new rt(2));;){var xt=new rt(mt.generate(gt));if(!(xt.cmp(yt)>0))return xt.iaddn(1),this.keyFromPrivate(xt)}},ut.prototype._truncateToN=function(ht,mt,gt){var yt;if(rt.isBN(ht)||typeof ht=="number")ht=new rt(ht,16),yt=ht.byteLength();else if(typeof ht=="object")yt=ht.length,ht=new rt(ht,16);else{var xt=ht.toString();yt=xt.length+1>>>1,ht=new rt(xt,16)}typeof gt!="number"&&(gt=yt*8);var St=gt-this.n.bitLength();return St>0&&(ht=ht.ushrn(St)),!mt&&ht.cmp(this.n)>=0?ht.sub(this.n):ht},ut.prototype.sign=function(ht,mt,gt,yt){if(typeof gt=="object"&&(yt=gt,gt=null),yt||(yt={}),typeof ht!="string"&&typeof ht!="number"&&!rt.isBN(ht)){it(typeof ht=="object"&&ht&&typeof ht.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),it(ht.length>>>0===ht.length);for(var xt=0;xt<ht.length;xt++)it((ht[xt]&255)===ht[xt])}mt=this.keyFromPrivate(mt,gt),ht=this._truncateToN(ht,!1,yt.msgBitLength),it(!ht.isNeg(),"Can not sign a negative message");var St=this.n.byteLength(),Tt=mt.getPrivate().toArray("be",St),Mt=ht.toArray("be",St);it(new rt(Mt).eq(ht),"Can not sign message");for(var Pt=new et({hash:this.hash,entropy:Tt,nonce:Mt,pers:yt.pers,persEnc:yt.persEnc||"utf8"}),It=this.n.sub(new rt(1)),kt=0;;kt++){var Dt=yt.k?yt.k(kt):new rt(Pt.generate(this.n.byteLength()));if(Dt=this._truncateToN(Dt,!0),!(Dt.cmpn(1)<=0||Dt.cmp(It)>=0)){var Nt=this.g.mul(Dt);if(!Nt.isInfinity()){var Gt=Nt.getX(),Wt=Gt.umod(this.n);if(Wt.cmpn(0)!==0){var Ot=Dt.invm(this.n).mul(Wt.mul(mt.getPrivate()).iadd(ht));if(Ot=Ot.umod(this.n),Ot.cmpn(0)!==0){var Xt=(Nt.getY().isOdd()?1:0)|(Gt.cmp(Wt)!==0?2:0);return yt.canonical&&Ot.cmp(this.nh)>0&&(Ot=this.n.sub(Ot),Xt^=1),new st({r:Wt,s:Ot,recoveryParam:Xt})}}}}}},ut.prototype.verify=function(ht,mt,gt,yt,xt){xt||(xt={}),ht=this._truncateToN(ht,!1,xt.msgBitLength),gt=this.keyFromPublic(gt,yt),mt=new st(mt,"hex");var St=mt.r,Tt=mt.s;if(St.cmpn(1)<0||St.cmp(this.n)>=0||Tt.cmpn(1)<0||Tt.cmp(this.n)>=0)return!1;var Mt=Tt.invm(this.n),Pt=Mt.mul(ht).umod(this.n),It=Mt.mul(St).umod(this.n),kt;return this.curve._maxwellTrick?(kt=this.g.jmulAdd(Pt,gt.getPublic(),It),kt.isInfinity()?!1:kt.eqXToP(St)):(kt=this.g.mulAdd(Pt,gt.getPublic(),It),kt.isInfinity()?!1:kt.getX().umod(this.n).cmp(St)===0)},ut.prototype.recoverPubKey=function(ft,ht,mt,gt){it((3&mt)===mt,"The recovery param is more than two bits"),ht=new st(ht,gt);var yt=this.n,xt=new rt(ft),St=ht.r,Tt=ht.s,Mt=mt&1,Pt=mt>>1;if(St.cmp(this.curve.p.umod(this.curve.n))>=0&&Pt)throw new Error("Unable to find sencond key candinate");Pt?St=this.curve.pointFromX(St.add(this.curve.n),Mt):St=this.curve.pointFromX(St,Mt);var It=ht.r.invm(yt),kt=yt.sub(xt).mul(It).umod(yt),Dt=Tt.mul(It).umod(yt);return this.g.mulAdd(kt,St,Dt)},ut.prototype.getKeyRecoveryParam=function(ft,ht,mt,gt){if(ht=new st(ht,gt),ht.recoveryParam!==null)return ht.recoveryParam;for(var yt=0;yt<4;yt++){var xt;try{xt=this.recoverPubKey(ft,ht,yt)}catch{continue}if(xt.eq(mt))return yt}throw new Error("Unable to find valid recovery factor")},ec}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var rt=requireUtils$1(),et=rt.assert,tt=rt.parseBytes,nt=rt.cachedProperty;function ot(it,at){this.eddsa=it,this._secret=tt(at.secret),it.isPoint(at.pub)?this._pub=at.pub:this._pubBytes=tt(at.pub)}return ot.fromPublic=function(at,st){return st instanceof ot?st:new ot(at,{pub:st})},ot.fromSecret=function(at,st){return st instanceof ot?st:new ot(at,{secret:st})},ot.prototype.secret=function(){return this._secret},nt(ot,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),nt(ot,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),nt(ot,"privBytes",function(){var at=this.eddsa,st=this.hash(),ut=at.encodingLength-1,ft=st.slice(0,at.encodingLength);return ft[0]&=248,ft[ut]&=127,ft[ut]|=64,ft}),nt(ot,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),nt(ot,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),nt(ot,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),ot.prototype.sign=function(at){return et(this._secret,"KeyPair can only verify"),this.eddsa.sign(at,this)},ot.prototype.verify=function(at,st){return this.eddsa.verify(at,st,this)},ot.prototype.getSecret=function(at){return et(this._secret,"KeyPair is public only"),rt.encode(this.secret(),at)},ot.prototype.getPublic=function(at){return rt.encode(this.pubBytes(),at)},key=ot,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var rt=requireBn$3(),et=requireUtils$1(),tt=et.assert,nt=et.cachedProperty,ot=et.parseBytes;function it(at,st){this.eddsa=at,typeof st!="object"&&(st=ot(st)),Array.isArray(st)&&(tt(st.length===at.encodingLength*2,"Signature has invalid size"),st={R:st.slice(0,at.encodingLength),S:st.slice(at.encodingLength)}),tt(st.R&&st.S,"Signature without R or S"),at.isPoint(st.R)&&(this._R=st.R),st.S instanceof rt&&(this._S=st.S),this._Rencoded=Array.isArray(st.R)?st.R:st.Rencoded,this._Sencoded=Array.isArray(st.S)?st.S:st.Sencoded}return nt(it,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),nt(it,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),nt(it,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),nt(it,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),it.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},it.prototype.toHex=function(){return et.encode(this.toBytes(),"hex").toUpperCase()},signature=it,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var rt=requireHash(),et=requireCurves(),tt=requireUtils$1(),nt=tt.assert,ot=tt.parseBytes,it=requireKey(),at=requireSignature();function st(ut){if(nt(ut==="ed25519","only tested with ed25519 so far"),!(this instanceof st))return new st(ut);ut=et[ut].curve,this.curve=ut,this.g=ut.g,this.g.precompute(ut.n.bitLength()+1),this.pointClass=ut.point().constructor,this.encodingLength=Math.ceil(ut.n.bitLength()/8),this.hash=rt.sha512}return eddsa=st,st.prototype.sign=function(ft,ht){ft=ot(ft);var mt=this.keyFromSecret(ht),gt=this.hashInt(mt.messagePrefix(),ft),yt=this.g.mul(gt),xt=this.encodePoint(yt),St=this.hashInt(xt,mt.pubBytes(),ft).mul(mt.priv()),Tt=gt.add(St).umod(this.curve.n);return this.makeSignature({R:yt,S:Tt,Rencoded:xt})},st.prototype.verify=function(ft,ht,mt){if(ft=ot(ft),ht=this.makeSignature(ht),ht.S().gte(ht.eddsa.curve.n)||ht.S().isNeg())return!1;var gt=this.keyFromPublic(mt),yt=this.hashInt(ht.Rencoded(),gt.pubBytes(),ft),xt=this.g.mul(ht.S()),St=ht.R().add(gt.pub().mul(yt));return St.eq(xt)},st.prototype.hashInt=function(){for(var ft=this.hash(),ht=0;ht<arguments.length;ht++)ft.update(arguments[ht]);return tt.intFromLE(ft.digest()).umod(this.curve.n)},st.prototype.keyFromPublic=function(ft){return it.fromPublic(this,ft)},st.prototype.keyFromSecret=function(ft){return it.fromSecret(this,ft)},st.prototype.makeSignature=function(ft){return ft instanceof at?ft:new at(this,ft)},st.prototype.encodePoint=function(ft){var ht=ft.getY().toArray("le",this.encodingLength);return ht[this.encodingLength-1]|=ft.getX().isOdd()?128:0,ht},st.prototype.decodePoint=function(ft){ft=tt.parseBytes(ft);var ht=ft.length-1,mt=ft.slice(0,ht).concat(ft[ht]&-129),gt=(ft[ht]&128)!==0,yt=tt.intFromLE(mt);return this.curve.pointFromY(yt,gt)},st.prototype.encodeInt=function(ft){return ft.toArray("le",this.encodingLength)},st.prototype.decodeInt=function(ft){return tt.intFromLE(ft)},st.prototype.isPoint=function(ft){return ft instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(rt){var et=rt;et.version=require$$0.version,et.utils=requireUtils$1(),et.rand=requireBrorand(),et.curve=requireCurve(),et.curves=requireCurves(),et.ec=requireEc(),et.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$2={exports:{}};bn$2.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn$2)),bn$2.exports}var api$1={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(rt,et){if(rt.indexOf)return rt.indexOf(et);for(var tt=0;tt<rt.length;tt++)if(rt[tt]===et)return tt;return-1},Object_keys=function(rt){if(Object.keys)return Object.keys(rt);var et=[];for(var tt in rt)et.push(tt);return et},forEach=function(rt,et){if(rt.forEach)return rt.forEach(et);for(var tt=0;tt<rt.length;tt++)et(rt[tt],tt,rt)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(rt,et,tt){Object.defineProperty(rt,et,{writable:!0,enumerable:!1,configurable:!0,value:tt})}}catch{return function(et,tt,nt){et[tt]=nt}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(et){if(!(this instanceof Script))return new Script(et);this.code=et};Script.prototype.runInContext=function(rt){if(!(rt instanceof Context))throw new TypeError("needs a 'context' argument.");var et=document.createElement("iframe");et.style||(et.style={}),et.style.display="none",document.body.appendChild(et);var tt=et.contentWindow,nt=tt.eval,ot=tt.execScript;!nt&&ot&&(ot.call(tt,"null"),nt=tt.eval),forEach(Object_keys(rt),function(st){tt[st]=rt[st]}),forEach(globals,function(st){rt[st]&&(tt[st]=rt[st])});var it=Object_keys(tt),at=nt.call(tt,this.code);return forEach(Object_keys(tt),function(st){(st in rt||indexOf(it,st)===-1)&&(rt[st]=tt[st])}),forEach(globals,function(st){st in rt||defineProp(rt,st,tt[st])}),document.body.removeChild(et),at},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(rt){var et=Script.createContext(rt),tt=this.runInContext(et);return rt&&forEach(Object_keys(et),function(nt){rt[nt]=et[nt]}),tt},forEach(Object_keys(Script.prototype),function(rt){exports[rt]=Script[rt]=function(et){var tt=Script(et);return tt[rt].apply(tt,[].slice.call(arguments,1))}}),exports.isContext=function(rt){return rt instanceof Context},exports.createScript=function(rt){return exports.Script(rt)},exports.createContext=Script.createContext=function(rt){var et=new Context;return typeof rt=="object"&&forEach(Object_keys(rt),function(tt){et[tt]=rt[tt]}),et}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(rt){var et=requireAsn1$1(),tt=requireInherits_browser(),nt=rt;nt.define=function(at,st){return new ot(at,st)};function ot(it,at){this.name=it,this.body=at,this.decoders={},this.encoders={}}ot.prototype._createNamed=function(at){var st;try{st=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{st=function(ft){this._initNamed(ft)}}return tt(st,at),st.prototype._initNamed=function(ft){at.call(this,ft)},new st(this)},ot.prototype._getDecoder=function(at){return at=at||"der",this.decoders.hasOwnProperty(at)||(this.decoders[at]=this._createNamed(et.decoders[at])),this.decoders[at]},ot.prototype.decode=function(at,st,ut){return this._getDecoder(st).decode(at,ut)},ot.prototype._getEncoder=function(at){return at=at||"der",this.encoders.hasOwnProperty(at)||(this.encoders[at]=this._createNamed(et.encoders[at])),this.encoders[at]},ot.prototype.encode=function(at,st,ut){return this._getEncoder(st).encode(at,ut)}}(api$1)),api$1}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var rt=requireInherits_browser();function et(nt){this._reporterState={obj:null,path:[],options:nt||{},errors:[]}}reporter.Reporter=et,et.prototype.isError=function(ot){return ot instanceof tt},et.prototype.save=function(){var ot=this._reporterState;return{obj:ot.obj,pathLen:ot.path.length}},et.prototype.restore=function(ot){var it=this._reporterState;it.obj=ot.obj,it.path=it.path.slice(0,ot.pathLen)},et.prototype.enterKey=function(ot){return this._reporterState.path.push(ot)},et.prototype.exitKey=function(ot){var it=this._reporterState;it.path=it.path.slice(0,ot-1)},et.prototype.leaveKey=function(ot,it,at){var st=this._reporterState;this.exitKey(ot),st.obj!==null&&(st.obj[it]=at)},et.prototype.path=function(){return this._reporterState.path.join("/")},et.prototype.enterObject=function(){var ot=this._reporterState,it=ot.obj;return ot.obj={},it},et.prototype.leaveObject=function(ot){var it=this._reporterState,at=it.obj;return it.obj=ot,at},et.prototype.error=function(ot){var it,at=this._reporterState,st=ot instanceof tt;if(st?it=ot:it=new tt(at.path.map(function(ut){return"["+JSON.stringify(ut)+"]"}).join(""),ot.message||ot,ot.stack),!at.options.partial)throw it;return st||at.errors.push(it),it},et.prototype.wrapResult=function(ot){var it=this._reporterState;return it.options.partial?{result:this.isError(ot)?null:ot,errors:it.errors}:ot};function tt(nt,ot){this.path=nt,this.rethrow(ot)}return rt(tt,Error),tt.prototype.rethrow=function(ot){if(this.message=ot+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,tt),!this.stack)try{throw new Error(this.message)}catch(it){this.stack=it.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var rt=requireInherits_browser(),et=requireBase().Reporter,tt=buffer$1.Buffer;function nt(it,at){if(et.call(this,at),!tt.isBuffer(it)){this.error("Input not Buffer");return}this.base=it,this.offset=0,this.length=it.length}rt(nt,et),buffer.DecoderBuffer=nt,nt.prototype.save=function(){return{offset:this.offset,reporter:et.prototype.save.call(this)}},nt.prototype.restore=function(at){var st=new nt(this.base);return st.offset=at.offset,st.length=this.offset,this.offset=at.offset,et.prototype.restore.call(this,at.reporter),st},nt.prototype.isEmpty=function(){return this.offset===this.length},nt.prototype.readUInt8=function(at){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(at||"DecoderBuffer overrun")},nt.prototype.skip=function(at,st){if(!(this.offset+at<=this.length))return this.error(st||"DecoderBuffer overrun");var ut=new nt(this.base);return ut._reporterState=this._reporterState,ut.offset=this.offset,ut.length=this.offset+at,this.offset+=at,ut},nt.prototype.raw=function(at){return this.base.slice(at?at.offset:this.offset,this.length)};function ot(it,at){if(Array.isArray(it))this.length=0,this.value=it.map(function(st){return st instanceof ot||(st=new ot(st,at)),this.length+=st.length,st},this);else if(typeof it=="number"){if(!(0<=it&&it<=255))return at.error("non-byte EncoderBuffer value");this.value=it,this.length=1}else if(typeof it=="string")this.value=it,this.length=tt.byteLength(it);else if(tt.isBuffer(it))this.value=it,this.length=it.length;else return at.error("Unsupported type: "+typeof it)}return buffer.EncoderBuffer=ot,ot.prototype.join=function(at,st){return at||(at=new tt(this.length)),st||(st=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(ut){ut.join(at,st),st+=ut.length}):(typeof this.value=="number"?at[st]=this.value:typeof this.value=="string"?at.write(this.value,st):tt.isBuffer(this.value)&&this.value.copy(at,st),st+=this.length)),at},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var rt=requireBase().Reporter,et=requireBase().EncoderBuffer,tt=requireBase().DecoderBuffer,nt=requireMinimalisticAssert(),ot=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],it=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(ot),at=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function st(ft,ht){var mt={};this._baseState=mt,mt.enc=ft,mt.parent=ht||null,mt.children=null,mt.tag=null,mt.args=null,mt.reverseArgs=null,mt.choice=null,mt.optional=!1,mt.any=!1,mt.obj=!1,mt.use=null,mt.useDecoder=null,mt.key=null,mt.default=null,mt.explicit=null,mt.implicit=null,mt.contains=null,mt.parent||(mt.children=[],this._wrap())}node=st;var ut=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return st.prototype.clone=function(){var ht=this._baseState,mt={};ut.forEach(function(yt){mt[yt]=ht[yt]});var gt=new this.constructor(mt.parent);return gt._baseState=mt,gt},st.prototype._wrap=function(){var ht=this._baseState;it.forEach(function(mt){this[mt]=function(){var yt=new this.constructor(this);return ht.children.push(yt),yt[mt].apply(yt,arguments)}},this)},st.prototype._init=function(ht){var mt=this._baseState;nt(mt.parent===null),ht.call(this),mt.children=mt.children.filter(function(gt){return gt._baseState.parent===this},this),nt.equal(mt.children.length,1,"Root node can have only one child")},st.prototype._useArgs=function(ht){var mt=this._baseState,gt=ht.filter(function(yt){return yt instanceof this.constructor},this);ht=ht.filter(function(yt){return!(yt instanceof this.constructor)},this),gt.length!==0&&(nt(mt.children===null),mt.children=gt,gt.forEach(function(yt){yt._baseState.parent=this},this)),ht.length!==0&&(nt(mt.args===null),mt.args=ht,mt.reverseArgs=ht.map(function(yt){if(typeof yt!="object"||yt.constructor!==Object)return yt;var xt={};return Object.keys(yt).forEach(function(St){St==(St|0)&&(St|=0);var Tt=yt[St];xt[Tt]=St}),xt}))},at.forEach(function(ft){st.prototype[ft]=function(){var mt=this._baseState;throw new Error(ft+" not implemented for encoding: "+mt.enc)}}),ot.forEach(function(ft){st.prototype[ft]=function(){var mt=this._baseState,gt=Array.prototype.slice.call(arguments);return nt(mt.tag===null),mt.tag=ft,this._useArgs(gt),this}}),st.prototype.use=function(ht){nt(ht);var mt=this._baseState;return nt(mt.use===null),mt.use=ht,this},st.prototype.optional=function(){var ht=this._baseState;return ht.optional=!0,this},st.prototype.def=function(ht){var mt=this._baseState;return nt(mt.default===null),mt.default=ht,mt.optional=!0,this},st.prototype.explicit=function(ht){var mt=this._baseState;return nt(mt.explicit===null&&mt.implicit===null),mt.explicit=ht,this},st.prototype.implicit=function(ht){var mt=this._baseState;return nt(mt.explicit===null&&mt.implicit===null),mt.implicit=ht,this},st.prototype.obj=function(){var ht=this._baseState,mt=Array.prototype.slice.call(arguments);return ht.obj=!0,mt.length!==0&&this._useArgs(mt),this},st.prototype.key=function(ht){var mt=this._baseState;return nt(mt.key===null),mt.key=ht,this},st.prototype.any=function(){var ht=this._baseState;return ht.any=!0,this},st.prototype.choice=function(ht){var mt=this._baseState;return nt(mt.choice===null),mt.choice=ht,this._useArgs(Object.keys(ht).map(function(gt){return ht[gt]})),this},st.prototype.contains=function(ht){var mt=this._baseState;return nt(mt.use===null),mt.contains=ht,this},st.prototype._decode=function(ht,mt){var gt=this._baseState;if(gt.parent===null)return ht.wrapResult(gt.children[0]._decode(ht,mt));var yt=gt.default,xt=!0,St=null;if(gt.key!==null&&(St=ht.enterKey(gt.key)),gt.optional){var Tt=null;if(gt.explicit!==null?Tt=gt.explicit:gt.implicit!==null?Tt=gt.implicit:gt.tag!==null&&(Tt=gt.tag),Tt===null&&!gt.any){var Mt=ht.save();try{gt.choice===null?this._decodeGeneric(gt.tag,ht,mt):this._decodeChoice(ht,mt),xt=!0}catch{xt=!1}ht.restore(Mt)}else if(xt=this._peekTag(ht,Tt,gt.any),ht.isError(xt))return xt}var Pt;if(gt.obj&&xt&&(Pt=ht.enterObject()),xt){if(gt.explicit!==null){var It=this._decodeTag(ht,gt.explicit);if(ht.isError(It))return It;ht=It}var kt=ht.offset;if(gt.use===null&&gt.choice===null){if(gt.any)var Mt=ht.save();var Dt=this._decodeTag(ht,gt.implicit!==null?gt.implicit:gt.tag,gt.any);if(ht.isError(Dt))return Dt;gt.any?yt=ht.raw(Mt):ht=Dt}if(mt&&mt.track&&gt.tag!==null&&mt.track(ht.path(),kt,ht.length,"tagged"),mt&&mt.track&&gt.tag!==null&&mt.track(ht.path(),ht.offset,ht.length,"content"),gt.any?yt=yt:gt.choice===null?yt=this._decodeGeneric(gt.tag,ht,mt):yt=this._decodeChoice(ht,mt),ht.isError(yt))return yt;if(!gt.any&&gt.choice===null&&gt.children!==null&&gt.children.forEach(function(Wt){Wt._decode(ht,mt)}),gt.contains&&(gt.tag==="octstr"||gt.tag==="bitstr")){var Nt=new tt(yt);yt=this._getUse(gt.contains,ht._reporterState.obj)._decode(Nt,mt)}}return gt.obj&&xt&&(yt=ht.leaveObject(Pt)),gt.key!==null&&(yt!==null||xt===!0)?ht.leaveKey(St,gt.key,yt):St!==null&&ht.exitKey(St),yt},st.prototype._decodeGeneric=function(ht,mt,gt){var yt=this._baseState;return ht==="seq"||ht==="set"?null:ht==="seqof"||ht==="setof"?this._decodeList(mt,ht,yt.args[0],gt):/str$/.test(ht)?this._decodeStr(mt,ht,gt):ht==="objid"&&yt.args?this._decodeObjid(mt,yt.args[0],yt.args[1],gt):ht==="objid"?this._decodeObjid(mt,null,null,gt):ht==="gentime"||ht==="utctime"?this._decodeTime(mt,ht,gt):ht==="null_"?this._decodeNull(mt,gt):ht==="bool"?this._decodeBool(mt,gt):ht==="objDesc"?this._decodeStr(mt,ht,gt):ht==="int"||ht==="enum"?this._decodeInt(mt,yt.args&&yt.args[0],gt):yt.use!==null?this._getUse(yt.use,mt._reporterState.obj)._decode(mt,gt):mt.error("unknown tag: "+ht)},st.prototype._getUse=function(ht,mt){var gt=this._baseState;return gt.useDecoder=this._use(ht,mt),nt(gt.useDecoder._baseState.parent===null),gt.useDecoder=gt.useDecoder._baseState.children[0],gt.implicit!==gt.useDecoder._baseState.implicit&&(gt.useDecoder=gt.useDecoder.clone(),gt.useDecoder._baseState.implicit=gt.implicit),gt.useDecoder},st.prototype._decodeChoice=function(ht,mt){var gt=this._baseState,yt=null,xt=!1;return Object.keys(gt.choice).some(function(St){var Tt=ht.save(),Mt=gt.choice[St];try{var Pt=Mt._decode(ht,mt);if(ht.isError(Pt))return!1;yt={type:St,value:Pt},xt=!0}catch{return ht.restore(Tt),!1}return!0},this),xt?yt:ht.error("Choice not matched")},st.prototype._createEncoderBuffer=function(ht){return new et(ht,this.reporter)},st.prototype._encode=function(ht,mt,gt){var yt=this._baseState;if(!(yt.default!==null&&yt.default===ht)){var xt=this._encodeValue(ht,mt,gt);if(xt!==void 0&&!this._skipDefault(xt,mt,gt))return xt}},st.prototype._encodeValue=function(ht,mt,gt){var yt=this._baseState;if(yt.parent===null)return yt.children[0]._encode(ht,mt||new rt);var Mt=null;if(this.reporter=mt,yt.optional&&ht===void 0)if(yt.default!==null)ht=yt.default;else return;var xt=null,St=!1;if(yt.any)Mt=this._createEncoderBuffer(ht);else if(yt.choice)Mt=this._encodeChoice(ht,mt);else if(yt.contains)xt=this._getUse(yt.contains,gt)._encode(ht,mt),St=!0;else if(yt.children)xt=yt.children.map(function(kt){if(kt._baseState.tag==="null_")return kt._encode(null,mt,ht);if(kt._baseState.key===null)return mt.error("Child should have a key");var Dt=mt.enterKey(kt._baseState.key);if(typeof ht!="object")return mt.error("Child expected, but input is not object");var Nt=kt._encode(ht[kt._baseState.key],mt,ht);return mt.leaveKey(Dt),Nt},this).filter(function(kt){return kt}),xt=this._createEncoderBuffer(xt);else if(yt.tag==="seqof"||yt.tag==="setof"){if(!(yt.args&&yt.args.length===1))return mt.error("Too many args for : "+yt.tag);if(!Array.isArray(ht))return mt.error("seqof/setof, but data is not Array");var Tt=this.clone();Tt._baseState.implicit=null,xt=this._createEncoderBuffer(ht.map(function(kt){var Dt=this._baseState;return this._getUse(Dt.args[0],ht)._encode(kt,mt)},Tt))}else yt.use!==null?Mt=this._getUse(yt.use,gt)._encode(ht,mt):(xt=this._encodePrimitive(yt.tag,ht),St=!0);var Mt;if(!yt.any&&yt.choice===null){var Pt=yt.implicit!==null?yt.implicit:yt.tag,It=yt.implicit===null?"universal":"context";Pt===null?yt.use===null&&mt.error("Tag could be omitted only for .use()"):yt.use===null&&(Mt=this._encodeComposite(Pt,St,It,xt))}return yt.explicit!==null&&(Mt=this._encodeComposite(yt.explicit,!1,"context",Mt)),Mt},st.prototype._encodeChoice=function(ht,mt){var gt=this._baseState,yt=gt.choice[ht.type];return yt||nt(!1,ht.type+" not found in "+JSON.stringify(Object.keys(gt.choice))),yt._encode(ht.value,mt)},st.prototype._encodePrimitive=function(ht,mt){var gt=this._baseState;if(/str$/.test(ht))return this._encodeStr(mt,ht);if(ht==="objid"&&gt.args)return this._encodeObjid(mt,gt.reverseArgs[0],gt.args[1]);if(ht==="objid")return this._encodeObjid(mt,null,null);if(ht==="gentime"||ht==="utctime")return this._encodeTime(mt,ht);if(ht==="null_")return this._encodeNull();if(ht==="int"||ht==="enum")return this._encodeInt(mt,gt.args&&gt.reverseArgs[0]);if(ht==="bool")return this._encodeBool(mt);if(ht==="objDesc")return this._encodeStr(mt,ht);throw new Error("Unsupported tag: "+ht)},st.prototype._isNumstr=function(ht){return/^[0-9 ]*$/.test(ht)},st.prototype._isPrintstr=function(ht){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(ht)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(rt){var et=rt;et.Reporter=requireReporter().Reporter,et.DecoderBuffer=requireBuffer().DecoderBuffer,et.EncoderBuffer=requireBuffer().EncoderBuffer,et.Node=requireNode()}(base)),base}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(rt){var et=requireConstants();rt.tagClass={0:"universal",1:"application",2:"context",3:"private"},rt.tagClassByName=et._reverse(rt.tagClass),rt.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},rt.tagByName=et._reverse(rt.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(rt){var et=rt;et._reverse=function(nt){var ot={};return Object.keys(nt).forEach(function(it){(it|0)==it&&(it=it|0);var at=nt[it];ot[at]=it}),ot},et.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var rt=requireInherits_browser(),et=requireAsn1$1(),tt=et.base,nt=et.bignum,ot=et.constants.der;function it(ft){this.enc="der",this.name=ft.name,this.entity=ft,this.tree=new at,this.tree._init(ft.body)}der_1$1=it,it.prototype.decode=function(ht,mt){return ht instanceof tt.DecoderBuffer||(ht=new tt.DecoderBuffer(ht,mt)),this.tree._decode(ht,mt)};function at(ft){tt.Node.call(this,"der",ft)}rt(at,tt.Node),at.prototype._peekTag=function(ht,mt,gt){if(ht.isEmpty())return!1;var yt=ht.save(),xt=st(ht,'Failed to peek tag: "'+mt+'"');return ht.isError(xt)?xt:(ht.restore(yt),xt.tag===mt||xt.tagStr===mt||xt.tagStr+"of"===mt||gt)},at.prototype._decodeTag=function(ht,mt,gt){var yt=st(ht,'Failed to decode tag of "'+mt+'"');if(ht.isError(yt))return yt;var xt=ut(ht,yt.primitive,'Failed to get length of "'+mt+'"');if(ht.isError(xt))return xt;if(!gt&&yt.tag!==mt&&yt.tagStr!==mt&&yt.tagStr+"of"!==mt)return ht.error('Failed to match tag: "'+mt+'"');if(yt.primitive||xt!==null)return ht.skip(xt,'Failed to match body of: "'+mt+'"');var St=ht.save(),Tt=this._skipUntilEnd(ht,'Failed to skip indefinite length body: "'+this.tag+'"');return ht.isError(Tt)?Tt:(xt=ht.offset-St.offset,ht.restore(St),ht.skip(xt,'Failed to match body of: "'+mt+'"'))},at.prototype._skipUntilEnd=function(ht,mt){for(;;){var gt=st(ht,mt);if(ht.isError(gt))return gt;var yt=ut(ht,gt.primitive,mt);if(ht.isError(yt))return yt;var xt;if(gt.primitive||yt!==null?xt=ht.skip(yt):xt=this._skipUntilEnd(ht,mt),ht.isError(xt))return xt;if(gt.tagStr==="end")break}},at.prototype._decodeList=function(ht,mt,gt,yt){for(var xt=[];!ht.isEmpty();){var St=this._peekTag(ht,"end");if(ht.isError(St))return St;var Tt=gt.decode(ht,"der",yt);if(ht.isError(Tt)&&St)break;xt.push(Tt)}return xt},at.prototype._decodeStr=function(ht,mt){if(mt==="bitstr"){var gt=ht.readUInt8();return ht.isError(gt)?gt:{unused:gt,data:ht.raw()}}else if(mt==="bmpstr"){var yt=ht.raw();if(yt.length%2===1)return ht.error("Decoding of string type: bmpstr length mismatch");for(var xt="",St=0;St<yt.length/2;St++)xt+=String.fromCharCode(yt.readUInt16BE(St*2));return xt}else if(mt==="numstr"){var Tt=ht.raw().toString("ascii");return this._isNumstr(Tt)?Tt:ht.error("Decoding of string type: numstr unsupported characters")}else{if(mt==="octstr")return ht.raw();if(mt==="objDesc")return ht.raw();if(mt==="printstr"){var Mt=ht.raw().toString("ascii");return this._isPrintstr(Mt)?Mt:ht.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(mt)?ht.raw().toString():ht.error("Decoding of string type: "+mt+" unsupported")}},at.prototype._decodeObjid=function(ht,mt,gt){for(var yt,xt=[],St=0;!ht.isEmpty();){var Tt=ht.readUInt8();St<<=7,St|=Tt&127,Tt&128||(xt.push(St),St=0)}Tt&128&&xt.push(St);var Mt=xt[0]/40|0,Pt=xt[0]%40;if(gt?yt=xt:yt=[Mt,Pt].concat(xt.slice(1)),mt){var It=mt[yt.join(" ")];It===void 0&&(It=mt[yt.join(".")]),It!==void 0&&(yt=It)}return yt},at.prototype._decodeTime=function(ht,mt){var gt=ht.raw().toString();if(mt==="gentime")var yt=gt.slice(0,4)|0,xt=gt.slice(4,6)|0,St=gt.slice(6,8)|0,Tt=gt.slice(8,10)|0,Mt=gt.slice(10,12)|0,Pt=gt.slice(12,14)|0;else if(mt==="utctime"){var yt=gt.slice(0,2)|0,xt=gt.slice(2,4)|0,St=gt.slice(4,6)|0,Tt=gt.slice(6,8)|0,Mt=gt.slice(8,10)|0,Pt=gt.slice(10,12)|0;yt<70?yt=2e3+yt:yt=1900+yt}else return ht.error("Decoding "+mt+" time is not supported yet");return Date.UTC(yt,xt-1,St,Tt,Mt,Pt,0)},at.prototype._decodeNull=function(ht){return null},at.prototype._decodeBool=function(ht){var mt=ht.readUInt8();return ht.isError(mt)?mt:mt!==0},at.prototype._decodeInt=function(ht,mt){var gt=ht.raw(),yt=new nt(gt);return mt&&(yt=mt[yt.toString(10)]||yt),yt},at.prototype._use=function(ht,mt){return typeof ht=="function"&&(ht=ht(mt)),ht._getDecoder("der").tree};function st(ft,ht){var mt=ft.readUInt8(ht);if(ft.isError(mt))return mt;var gt=ot.tagClass[mt>>6],yt=(mt&32)===0;if((mt&31)===31){var xt=mt;for(mt=0;(xt&128)===128;){if(xt=ft.readUInt8(ht),ft.isError(xt))return xt;mt<<=7,mt|=xt&127}}else mt&=31;var St=ot.tag[mt];return{cls:gt,primitive:yt,tag:mt,tagStr:St}}function ut(ft,ht,mt){var gt=ft.readUInt8(mt);if(ft.isError(gt))return gt;if(!ht&&gt===128)return null;if(!(gt&128))return gt;var yt=gt&127;if(yt>4)return ft.error("length octect is too long");gt=0;for(var xt=0;xt<yt;xt++){gt<<=8;var St=ft.readUInt8(mt);if(ft.isError(St))return St;gt|=St}return gt}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var rt=requireInherits_browser(),et=buffer$1.Buffer,tt=requireDer$1();function nt(ot){tt.call(this,ot),this.enc="pem"}return rt(nt,tt),pem$1=nt,nt.prototype.decode=function(it,at){for(var st=it.toString().split(/[\r\n]+/g),ut=at.label.toUpperCase(),ft=/^-----(BEGIN|END) ([^-]+)-----$/,ht=-1,mt=-1,gt=0;gt<st.length;gt++){var yt=st[gt].match(ft);if(yt!==null&&yt[2]===ut)if(ht===-1){if(yt[1]!=="BEGIN")break;ht=gt}else{if(yt[1]!=="END")break;mt=gt;break}}if(ht===-1||mt===-1)throw new Error("PEM section not found for: "+ut);var xt=st.slice(ht+1,mt).join("");xt.replace(/[^a-z0-9\+\/=]+/gi,"");var St=new et(xt,"base64");return tt.prototype.decode.call(this,St,at)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(rt){var et=rt;et.der=requireDer$1(),et.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var rt=requireInherits_browser(),et=buffer$1.Buffer,tt=requireAsn1$1(),nt=tt.base,ot=tt.constants.der;function it(ft){this.enc="der",this.name=ft.name,this.entity=ft,this.tree=new at,this.tree._init(ft.body)}der_1=it,it.prototype.encode=function(ht,mt){return this.tree._encode(ht,mt).join()};function at(ft){nt.Node.call(this,"der",ft)}rt(at,nt.Node),at.prototype._encodeComposite=function(ht,mt,gt,yt){var xt=ut(ht,mt,gt,this.reporter);if(yt.length<128){var Mt=new et(2);return Mt[0]=xt,Mt[1]=yt.length,this._createEncoderBuffer([Mt,yt])}for(var St=1,Tt=yt.length;Tt>=256;Tt>>=8)St++;var Mt=new et(1+1+St);Mt[0]=xt,Mt[1]=128|St;for(var Tt=1+St,Pt=yt.length;Pt>0;Tt--,Pt>>=8)Mt[Tt]=Pt&255;return this._createEncoderBuffer([Mt,yt])},at.prototype._encodeStr=function(ht,mt){if(mt==="bitstr")return this._createEncoderBuffer([ht.unused|0,ht.data]);if(mt==="bmpstr"){for(var gt=new et(ht.length*2),yt=0;yt<ht.length;yt++)gt.writeUInt16BE(ht.charCodeAt(yt),yt*2);return this._createEncoderBuffer(gt)}else return mt==="numstr"?this._isNumstr(ht)?this._createEncoderBuffer(ht):this.reporter.error("Encoding of string type: numstr supports only digits and space"):mt==="printstr"?this._isPrintstr(ht)?this._createEncoderBuffer(ht):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(mt)?this._createEncoderBuffer(ht):mt==="objDesc"?this._createEncoderBuffer(ht):this.reporter.error("Encoding of string type: "+mt+" unsupported")},at.prototype._encodeObjid=function(ht,mt,gt){if(typeof ht=="string"){if(!mt)return this.reporter.error("string objid given, but no values map found");if(!mt.hasOwnProperty(ht))return this.reporter.error("objid not found in values map");ht=mt[ht].split(/[\s\.]+/g);for(var yt=0;yt<ht.length;yt++)ht[yt]|=0}else if(Array.isArray(ht)){ht=ht.slice();for(var yt=0;yt<ht.length;yt++)ht[yt]|=0}if(!Array.isArray(ht))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(ht));if(!gt){if(ht[1]>=40)return this.reporter.error("Second objid identifier OOB");ht.splice(0,2,ht[0]*40+ht[1])}for(var xt=0,yt=0;yt<ht.length;yt++){var St=ht[yt];for(xt++;St>=128;St>>=7)xt++}for(var Tt=new et(xt),Mt=Tt.length-1,yt=ht.length-1;yt>=0;yt--){var St=ht[yt];for(Tt[Mt--]=St&127;(St>>=7)>0;)Tt[Mt--]=128|St&127}return this._createEncoderBuffer(Tt)};function st(ft){return ft<10?"0"+ft:ft}at.prototype._encodeTime=function(ht,mt){var gt,yt=new Date(ht);return mt==="gentime"?gt=[st(yt.getFullYear()),st(yt.getUTCMonth()+1),st(yt.getUTCDate()),st(yt.getUTCHours()),st(yt.getUTCMinutes()),st(yt.getUTCSeconds()),"Z"].join(""):mt==="utctime"?gt=[st(yt.getFullYear()%100),st(yt.getUTCMonth()+1),st(yt.getUTCDate()),st(yt.getUTCHours()),st(yt.getUTCMinutes()),st(yt.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+mt+" time is not supported yet"),this._encodeStr(gt,"octstr")},at.prototype._encodeNull=function(){return this._createEncoderBuffer("")},at.prototype._encodeInt=function(ht,mt){if(typeof ht=="string"){if(!mt)return this.reporter.error("String int or enum given, but no values map");if(!mt.hasOwnProperty(ht))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(ht));ht=mt[ht]}if(typeof ht!="number"&&!et.isBuffer(ht)){var gt=ht.toArray();!ht.sign&&gt[0]&128&&gt.unshift(0),ht=new et(gt)}if(et.isBuffer(ht)){var yt=ht.length;ht.length===0&&yt++;var St=new et(yt);return ht.copy(St),ht.length===0&&(St[0]=0),this._createEncoderBuffer(St)}if(ht<128)return this._createEncoderBuffer(ht);if(ht<256)return this._createEncoderBuffer([0,ht]);for(var yt=1,xt=ht;xt>=256;xt>>=8)yt++;for(var St=new Array(yt),xt=St.length-1;xt>=0;xt--)St[xt]=ht&255,ht>>=8;return St[0]&128&&St.unshift(0),this._createEncoderBuffer(new et(St))},at.prototype._encodeBool=function(ht){return this._createEncoderBuffer(ht?255:0)},at.prototype._use=function(ht,mt){return typeof ht=="function"&&(ht=ht(mt)),ht._getEncoder("der").tree},at.prototype._skipDefault=function(ht,mt,gt){var yt=this._baseState,xt;if(yt.default===null)return!1;var St=ht.join();if(yt.defaultBuffer===void 0&&(yt.defaultBuffer=this._encodeValue(yt.default,mt,gt).join()),St.length!==yt.defaultBuffer.length)return!1;for(xt=0;xt<St.length;xt++)if(St[xt]!==yt.defaultBuffer[xt])return!1;return!0};function ut(ft,ht,mt,gt){var yt;if(ft==="seqof"?ft="seq":ft==="setof"&&(ft="set"),ot.tagByName.hasOwnProperty(ft))yt=ot.tagByName[ft];else if(typeof ft=="number"&&(ft|0)===ft)yt=ft;else return gt.error("Unknown tag: "+ft);return yt>=31?gt.error("Multi-octet tag encoding unsupported"):(ht||(yt|=32),yt|=ot.tagClassByName[mt||"universal"]<<6,yt)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var rt=requireInherits_browser(),et=requireDer();function tt(nt){et.call(this,nt),this.enc="pem"}return rt(tt,et),pem=tt,tt.prototype.encode=function(ot,it){for(var at=et.prototype.encode.call(this,ot),st=at.toString("base64"),ut=["-----BEGIN "+it.label+"-----"],ft=0;ft<st.length;ft+=64)ut.push(st.slice(ft,ft+64));return ut.push("-----END "+it.label+"-----"),ut.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(rt){var et=rt;et.der=requireDer(),et.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(rt){var et=rt;et.bignum=requireBn$2(),et.define=requireApi().define,et.base=requireBase(),et.constants=requireConstants(),et.decoders=requireDecoders(),et.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var rt=requireAsn1$1(),et=rt.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),tt=rt.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),nt=rt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),ot=rt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())}),it=rt.define("RelativeDistinguishedName",function(){this.setof(tt)}),at=rt.define("RDNSequence",function(){this.seqof(it)}),st=rt.define("Name",function(){this.choice({rdnSequence:this.use(at)})}),ut=rt.define("Validity",function(){this.seq().obj(this.key("notBefore").use(et),this.key("notAfter").use(et))}),ft=rt.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),ht=rt.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(nt),this.key("issuer").use(st),this.key("validity").use(ut),this.key("subject").use(st),this.key("subjectPublicKeyInfo").use(ot),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(ft).optional())}),mt=rt.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(ht),this.key("signatureAlgorithm").use(nt),this.key("signatureValue").bitstr())});return certificate=mt,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var rt=requireAsn1$1();asn1$1.certificate=requireCertificate();var et=rt.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=et;var tt=rt.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=tt;var nt=rt.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),ot=rt.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(nt),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=ot;var it=rt.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(nt),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=it;var at=rt.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=at;var st=rt.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=st,asn1$1.DSAparam=rt.define("DSAparam",function(){this.int()});var ut=rt.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ft=rt.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ut),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=ft,asn1$1.signature=rt.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var rt=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,et=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,tt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,nt=requireEvp_bytestokey(),ot=requireBrowser$6(),it=requireSafeBuffer$1().Buffer;return fixProc=function(at,st){var ut=at.toString(),ft=ut.match(rt),ht;if(ft){var gt="aes"+ft[1],yt=it.from(ft[2],"hex"),xt=it.from(ft[3].replace(/[\r\n]/g,""),"base64"),St=nt(st,yt.slice(0,8),parseInt(ft[1],10)).key,Tt=[],Mt=ot.createDecipheriv(gt,St,yt);Tt.push(Mt.update(xt)),Tt.push(Mt.final()),ht=it.concat(Tt)}else{var mt=ut.match(tt);ht=it.from(mt[2].replace(/[\r\n]/g,""),"base64")}var Pt=ut.match(et)[1];return{tag:Pt,data:ht}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var rt=requireAsn1(),et=require$$1,tt=requireFixProc(),nt=requireBrowser$6(),ot=requireBrowser$7(),it=requireSafeBuffer$1().Buffer;function at(ut,ft){var ht=ut.algorithm.decrypt.kde.kdeparams.salt,mt=parseInt(ut.algorithm.decrypt.kde.kdeparams.iters.toString(),10),gt=et[ut.algorithm.decrypt.cipher.algo.join(".")],yt=ut.algorithm.decrypt.cipher.iv,xt=ut.subjectPrivateKey,St=parseInt(gt.split("-")[1],10)/8,Tt=ot.pbkdf2Sync(ft,ht,mt,St,"sha1"),Mt=nt.createDecipheriv(gt,Tt,yt),Pt=[];return Pt.push(Mt.update(xt)),Pt.push(Mt.final()),it.concat(Pt)}function st(ut){var ft;typeof ut=="object"&&!it.isBuffer(ut)&&(ft=ut.passphrase,ut=ut.key),typeof ut=="string"&&(ut=it.from(ut));var ht=tt(ut,ft),mt=ht.tag,gt=ht.data,yt,xt;switch(mt){case"CERTIFICATE":xt=rt.certificate.decode(gt,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(xt||(xt=rt.PublicKey.decode(gt,"der")),yt=xt.algorithm.algorithm.join("."),yt){case"1.2.840.113549.1.1.1":return rt.RSAPublicKey.decode(xt.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return xt.subjectPrivateKey=xt.subjectPublicKey,{type:"ec",data:xt};case"1.2.840.10040.4.1":return xt.algorithm.params.pub_key=rt.DSAparam.decode(xt.subjectPublicKey.data,"der"),{type:"dsa",data:xt.algorithm.params};default:throw new Error("unknown key id "+yt)}case"ENCRYPTED PRIVATE KEY":gt=rt.EncryptedPrivateKey.decode(gt,"der"),gt=at(gt,ft);case"PRIVATE KEY":switch(xt=rt.PrivateKey.decode(gt,"der"),yt=xt.algorithm.algorithm.join("."),yt){case"1.2.840.113549.1.1.1":return rt.RSAPrivateKey.decode(xt.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:xt.algorithm.curve,privateKey:rt.ECPrivateKey.decode(xt.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return xt.algorithm.params.priv_key=rt.DSAparam.decode(xt.subjectPrivateKey,"der"),{type:"dsa",params:xt.algorithm.params};default:throw new Error("unknown key id "+yt)}case"RSA PUBLIC KEY":return rt.RSAPublicKey.decode(gt,"der");case"RSA PRIVATE KEY":return rt.RSAPrivateKey.decode(gt,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:rt.DSAPrivateKey.decode(gt,"der")};case"EC PRIVATE KEY":return gt=rt.ECPrivateKey.decode(gt,"der"),{curve:gt.parameters.value,privateKey:gt.privateKey};default:throw new Error("unknown key type "+mt)}}return st.signature=rt.signature,parseAsn1=st,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var rt=requireSafeBuffer$1().Buffer,et=requireBrowser$8(),tt=requireBrowserifyRsa(),nt=requireElliptic().ec,ot=requireBn$4(),it=requireParseAsn1(),at=require$$4,st=1;function ut(Mt,Pt,It,kt,Dt){var Nt=it(Pt);if(Nt.curve){if(kt!=="ecdsa"&&kt!=="ecdsa/rsa")throw new Error("wrong private key type");return ft(Mt,Nt)}else if(Nt.type==="dsa"){if(kt!=="dsa")throw new Error("wrong private key type");return ht(Mt,Nt,It)}if(kt!=="rsa"&&kt!=="ecdsa/rsa")throw new Error("wrong private key type");if(Pt.padding!==void 0&&Pt.padding!==st)throw new Error("illegal or unsupported padding mode");Mt=rt.concat([Dt,Mt]);for(var Gt=Nt.modulus.byteLength(),Wt=[0,1];Mt.length+Wt.length+1<Gt;)Wt.push(255);Wt.push(0);for(var Ot=-1;++Ot<Mt.length;)Wt.push(Mt[Ot]);var Xt=tt(Wt,Nt);return Xt}function ft(Mt,Pt){var It=at[Pt.curve.join(".")];if(!It)throw new Error("unknown curve "+Pt.curve.join("."));var kt=new nt(It),Dt=kt.keyFromPrivate(Pt.privateKey),Nt=Dt.sign(Mt);return rt.from(Nt.toDER())}function ht(Mt,Pt,It){for(var kt=Pt.params.priv_key,Dt=Pt.params.p,Nt=Pt.params.q,Gt=Pt.params.g,Wt=new ot(0),Ot,Xt=yt(Mt,Nt).mod(Nt),Et=!1,lt=gt(kt,Nt,Mt,It);Et===!1;)Ot=St(Nt,lt,It),Wt=Tt(Gt,Ot,Dt,Nt),Et=Ot.invm(Nt).imul(Xt.add(kt.mul(Wt))).mod(Nt),Et.cmpn(0)===0&&(Et=!1,Wt=new ot(0));return mt(Wt,Et)}function mt(Mt,Pt){Mt=Mt.toArray(),Pt=Pt.toArray(),Mt[0]&128&&(Mt=[0].concat(Mt)),Pt[0]&128&&(Pt=[0].concat(Pt));var It=Mt.length+Pt.length+4,kt=[48,It,2,Mt.length];return kt=kt.concat(Mt,[2,Pt.length],Pt),rt.from(kt)}function gt(Mt,Pt,It,kt){if(Mt=rt.from(Mt.toArray()),Mt.length<Pt.byteLength()){var Dt=rt.alloc(Pt.byteLength()-Mt.length);Mt=rt.concat([Dt,Mt])}var Nt=It.length,Gt=xt(It,Pt),Wt=rt.alloc(Nt);Wt.fill(1);var Ot=rt.alloc(Nt);return Ot=et(kt,Ot).update(Wt).update(rt.from([0])).update(Mt).update(Gt).digest(),Wt=et(kt,Ot).update(Wt).digest(),Ot=et(kt,Ot).update(Wt).update(rt.from([1])).update(Mt).update(Gt).digest(),Wt=et(kt,Ot).update(Wt).digest(),{k:Ot,v:Wt}}function yt(Mt,Pt){var It=new ot(Mt),kt=(Mt.length<<3)-Pt.bitLength();return kt>0&&It.ishrn(kt),It}function xt(Mt,Pt){Mt=yt(Mt,Pt),Mt=Mt.mod(Pt);var It=rt.from(Mt.toArray());if(It.length<Pt.byteLength()){var kt=rt.alloc(Pt.byteLength()-It.length);It=rt.concat([kt,It])}return It}function St(Mt,Pt,It){var kt,Dt;do{for(kt=rt.alloc(0);kt.length*8<Mt.bitLength();)Pt.v=et(It,Pt.k).update(Pt.v).digest(),kt=rt.concat([kt,Pt.v]);Dt=yt(kt,Mt),Pt.k=et(It,Pt.k).update(Pt.v).update(rt.from([0])).digest(),Pt.v=et(It,Pt.k).update(Pt.v).digest()}while(Dt.cmp(Mt)!==-1);return Dt}function Tt(Mt,Pt,It,kt){return Mt.toRed(ot.mont(It)).redPow(Pt).fromRed().mod(kt)}return sign$1.exports=ut,sign$1.exports.getKey=gt,sign$1.exports.makeKey=St,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var rt=requireSafeBuffer$1().Buffer,et=requireBn$4(),tt=requireElliptic().ec,nt=requireParseAsn1(),ot=require$$4;function it(ft,ht,mt,gt,yt){var xt=nt(mt);if(xt.type==="ec"){if(gt!=="ecdsa"&&gt!=="ecdsa/rsa")throw new Error("wrong public key type");return at(ft,ht,xt)}else if(xt.type==="dsa"){if(gt!=="dsa")throw new Error("wrong public key type");return st(ft,ht,xt)}if(gt!=="rsa"&&gt!=="ecdsa/rsa")throw new Error("wrong public key type");ht=rt.concat([yt,ht]);for(var St=xt.modulus.byteLength(),Tt=[1],Mt=0;ht.length+Tt.length+2<St;)Tt.push(255),Mt+=1;Tt.push(0);for(var Pt=-1;++Pt<ht.length;)Tt.push(ht[Pt]);Tt=rt.from(Tt);var It=et.mont(xt.modulus);ft=new et(ft).toRed(It),ft=ft.redPow(new et(xt.publicExponent)),ft=rt.from(ft.fromRed().toArray());var kt=Mt<8?1:0;for(St=Math.min(ft.length,Tt.length),ft.length!==Tt.length&&(kt=1),Pt=-1;++Pt<St;)kt|=ft[Pt]^Tt[Pt];return kt===0}function at(ft,ht,mt){var gt=ot[mt.data.algorithm.curve.join(".")];if(!gt)throw new Error("unknown curve "+mt.data.algorithm.curve.join("."));var yt=new tt(gt),xt=mt.data.subjectPrivateKey.data;return yt.verify(ht,ft,xt)}function st(ft,ht,mt){var gt=mt.data.p,yt=mt.data.q,xt=mt.data.g,St=mt.data.pub_key,Tt=nt.signature.decode(ft,"der"),Mt=Tt.s,Pt=Tt.r;ut(Mt,yt),ut(Pt,yt);var It=et.mont(gt),kt=Mt.invm(yt),Dt=xt.toRed(It).redPow(new et(ht).mul(kt).mod(yt)).fromRed().mul(St.toRed(It).redPow(Pt.mul(kt).mod(yt)).fromRed()).mod(gt).mod(yt);return Dt.cmp(Pt)===0}function ut(ft,ht){if(ft.cmpn(0)<=0)throw new Error("invalid sig");if(ft.cmp(ht)>=0)throw new Error("invalid sig")}return verify_1=it,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var rt=requireSafeBuffer$1().Buffer,et=requireBrowser$9(),tt=requireReadableBrowser(),nt=requireInherits_browser(),ot=requireSign(),it=requireVerify(),at=require$$6;Object.keys(at).forEach(function(mt){at[mt].id=rt.from(at[mt].id,"hex"),at[mt.toLowerCase()]=at[mt]});function st(mt){tt.Writable.call(this);var gt=at[mt];if(!gt)throw new Error("Unknown message digest");this._hashType=gt.hash,this._hash=et(gt.hash),this._tag=gt.id,this._signType=gt.sign}nt(st,tt.Writable),st.prototype._write=function(gt,yt,xt){this._hash.update(gt),xt()},st.prototype.update=function(gt,yt){return this._hash.update(typeof gt=="string"?rt.from(gt,yt):gt),this},st.prototype.sign=function(gt,yt){this.end();var xt=this._hash.digest(),St=ot(xt,gt,this._hashType,this._signType,this._tag);return yt?St.toString(yt):St};function ut(mt){tt.Writable.call(this);var gt=at[mt];if(!gt)throw new Error("Unknown message digest");this._hash=et(gt.hash),this._tag=gt.id,this._signType=gt.sign}nt(ut,tt.Writable),ut.prototype._write=function(gt,yt,xt){this._hash.update(gt),xt()},ut.prototype.update=function(gt,yt){return this._hash.update(typeof gt=="string"?rt.from(gt,yt):gt),this},ut.prototype.verify=function(gt,yt,xt){var St=typeof yt=="string"?rt.from(yt,xt):yt;this.end();var Tt=this._hash.digest();return it(St,Tt,gt,this._signType,this._tag)};function ft(mt){return new st(mt)}function ht(mt){return new ut(mt)}return browser$3={Sign:ft,Verify:ht,createSign:ft,createVerify:ht},browser$3}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn$1)),bn$1.exports}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var rt=requireElliptic(),et=requireBn$1();browser$2=function(at){return new nt(at)};var tt={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};tt.p224=tt.secp224r1,tt.p256=tt.secp256r1=tt.prime256v1,tt.p192=tt.secp192r1=tt.prime192v1,tt.p384=tt.secp384r1,tt.p521=tt.secp521r1;function nt(it){this.curveType=tt[it],this.curveType||(this.curveType={name:it}),this.curve=new rt.ec(this.curveType.name),this.keys=void 0}nt.prototype.generateKeys=function(it,at){return this.keys=this.curve.genKeyPair(),this.getPublicKey(it,at)},nt.prototype.computeSecret=function(it,at,st){at=at||"utf8",buffer$1.Buffer.isBuffer(it)||(it=new buffer$1.Buffer(it,at));var ut=this.curve.keyFromPublic(it).getPublic(),ft=ut.mul(this.keys.getPrivate()).getX();return ot(ft,st,this.curveType.byteLength)},nt.prototype.getPublicKey=function(it,at){var st=this.keys.getPublic(at==="compressed",!0);return at==="hybrid"&&(st[st.length-1]%2?st[0]=7:st[0]=6),ot(st,it)},nt.prototype.getPrivateKey=function(it){return ot(this.keys.getPrivate(),it)},nt.prototype.setPublicKey=function(it,at){return at=at||"utf8",buffer$1.Buffer.isBuffer(it)||(it=new buffer$1.Buffer(it,at)),this.keys._importPublic(it),this},nt.prototype.setPrivateKey=function(it,at){at=at||"utf8",buffer$1.Buffer.isBuffer(it)||(it=new buffer$1.Buffer(it,at));var st=new et(it);return st=st.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(st),this};function ot(it,at,st){Array.isArray(it)||(it=it.toArray());var ut=new buffer$1.Buffer(it);if(st&&ut.length<st){var ft=new buffer$1.Buffer(st-ut.length);ft.fill(0),ut=buffer$1.Buffer.concat([ft,ut])}return at?ut.toString(at):ut}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var rt=requireBrowser$9(),et=requireSafeBuffer$1().Buffer;mgf=function(nt,ot){for(var it=et.alloc(0),at=0,st;it.length<ot;)st=tt(at++),it=et.concat([it,rt("sha1").update(nt).update(st).digest()]);return it.slice(0,ot)};function tt(nt){var ot=et.allocUnsafe(4);return ot.writeUInt32BE(nt,0),ot}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(et,tt){for(var nt=et.length,ot=-1;++ot<nt;)et[ot]^=tt[ot];return et}),xor}var bn={exports:{}};bn.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(rt){(function(et,tt){function nt(Et,lt){if(!Et)throw new Error(lt||"Assertion failed")}function ot(Et,lt){Et.super_=lt;var dt=function(){};dt.prototype=lt.prototype,Et.prototype=new dt,Et.prototype.constructor=Et}function it(Et,lt,dt){if(it.isBN(Et))return Et;this.negative=0,this.words=null,this.length=0,this.red=null,Et!==null&&((lt==="le"||lt==="be")&&(dt=lt,lt=10),this._init(Et||0,lt||10,dt||"be"))}typeof et=="object"?et.exports=it:tt.BN=it,it.BN=it,it.wordSize=26;var at;try{typeof window<"u"&&typeof window.Buffer<"u"?at=window.Buffer:at=buffer$1.Buffer}catch{}it.isBN=function(lt){return lt instanceof it?!0:lt!==null&&typeof lt=="object"&&lt.constructor.wordSize===it.wordSize&&Array.isArray(lt.words)},it.max=function(lt,dt){return lt.cmp(dt)>0?lt:dt},it.min=function(lt,dt){return lt.cmp(dt)<0?lt:dt},it.prototype._init=function(lt,dt,pt){if(typeof lt=="number")return this._initNumber(lt,dt,pt);if(typeof lt=="object")return this._initArray(lt,dt,pt);dt==="hex"&&(dt=16),nt(dt===(dt|0)&&dt>=2&&dt<=36),lt=lt.toString().replace(/\s+/g,"");var vt=0;lt[0]==="-"&&(vt++,this.negative=1),vt<lt.length&&(dt===16?this._parseHex(lt,vt,pt):(this._parseBase(lt,dt,vt),pt==="le"&&this._initArray(this.toArray(),dt,pt)))},it.prototype._initNumber=function(lt,dt,pt){lt<0&&(this.negative=1,lt=-lt),lt<67108864?(this.words=[lt&67108863],this.length=1):lt<4503599627370496?(this.words=[lt&67108863,lt/67108864&67108863],this.length=2):(nt(lt<9007199254740992),this.words=[lt&67108863,lt/67108864&67108863,1],this.length=3),pt==="le"&&this._initArray(this.toArray(),dt,pt)},it.prototype._initArray=function(lt,dt,pt){if(nt(typeof lt.length=="number"),lt.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(lt.length/3),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt,At,Rt=0;if(pt==="be")for(vt=lt.length-1,wt=0;vt>=0;vt-=3)At=lt[vt]|lt[vt-1]<<8|lt[vt-2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);else if(pt==="le")for(vt=0,wt=0;vt<lt.length;vt+=3)At=lt[vt]|lt[vt+1]<<8|lt[vt+2]<<16,this.words[wt]|=At<<Rt&67108863,this.words[wt+1]=At>>>26-Rt&67108863,Rt+=24,Rt>=26&&(Rt-=26,wt++);return this.strip()};function st(Et,lt){var dt=Et.charCodeAt(lt);return dt>=65&&dt<=70?dt-55:dt>=97&&dt<=102?dt-87:dt-48&15}function ut(Et,lt,dt){var pt=st(Et,dt);return dt-1>=lt&&(pt|=st(Et,dt-1)<<4),pt}it.prototype._parseHex=function(lt,dt,pt){this.length=Math.ceil((lt.length-dt)/6),this.words=new Array(this.length);for(var vt=0;vt<this.length;vt++)this.words[vt]=0;var wt=0,At=0,Rt;if(pt==="be")for(vt=lt.length-1;vt>=dt;vt-=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8;else{var bt=lt.length-dt;for(vt=bt%2===0?dt+1:dt;vt<lt.length;vt+=2)Rt=ut(lt,dt,vt)<<wt,this.words[At]|=Rt&67108863,wt>=18?(wt-=18,At+=1,this.words[At]|=Rt>>>26):wt+=8}this.strip()};function ft(Et,lt,dt,pt){for(var vt=0,wt=Math.min(Et.length,dt),At=lt;At<wt;At++){var Rt=Et.charCodeAt(At)-48;vt*=pt,Rt>=49?vt+=Rt-49+10:Rt>=17?vt+=Rt-17+10:vt+=Rt}return vt}it.prototype._parseBase=function(lt,dt,pt){this.words=[0],this.length=1;for(var vt=0,wt=1;wt<=67108863;wt*=dt)vt++;vt--,wt=wt/dt|0;for(var At=lt.length-pt,Rt=At%vt,bt=Math.min(At,At-Rt)+pt,ct=0,_t=pt;_t<bt;_t+=vt)ct=ft(lt,_t,_t+vt,dt),this.imuln(wt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct);if(Rt!==0){var Lt=1;for(ct=ft(lt,_t,lt.length,dt),_t=0;_t<Rt;_t++)Lt*=dt;this.imuln(Lt),this.words[0]+ct<67108864?this.words[0]+=ct:this._iaddn(ct)}this.strip()},it.prototype.copy=function(lt){lt.words=new Array(this.length);for(var dt=0;dt<this.length;dt++)lt.words[dt]=this.words[dt];lt.length=this.length,lt.negative=this.negative,lt.red=this.red},it.prototype.clone=function(){var lt=new it(null);return this.copy(lt),lt},it.prototype._expand=function(lt){for(;this.length<lt;)this.words[this.length++]=0;return this},it.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},it.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},it.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ht=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],mt=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],gt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];it.prototype.toString=function(lt,dt){lt=lt||10,dt=dt|0||1;var pt;if(lt===16||lt==="hex"){pt="";for(var vt=0,wt=0,At=0;At<this.length;At++){var Rt=this.words[At],bt=((Rt<<vt|wt)&16777215).toString(16);wt=Rt>>>24-vt&16777215,vt+=2,vt>=26&&(vt-=26,At--),wt!==0||At!==this.length-1?pt=ht[6-bt.length]+bt+pt:pt=bt+pt}for(wt!==0&&(pt=wt.toString(16)+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}if(lt===(lt|0)&&lt>=2&&lt<=36){var ct=mt[lt],_t=gt[lt];pt="";var Lt=this.clone();for(Lt.negative=0;!Lt.isZero();){var Ft=Lt.modn(_t).toString(lt);Lt=Lt.idivn(_t),Lt.isZero()?pt=Ft+pt:pt=ht[ct-Ft.length]+Ft+pt}for(this.isZero()&&(pt="0"+pt);pt.length%dt!==0;)pt="0"+pt;return this.negative!==0&&(pt="-"+pt),pt}nt(!1,"Base should be between 2 and 36")},it.prototype.toNumber=function(){var lt=this.words[0];return this.length===2?lt+=this.words[1]*67108864:this.length===3&&this.words[2]===1?lt+=4503599627370496+this.words[1]*67108864:this.length>2&&nt(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-lt:lt},it.prototype.toJSON=function(){return this.toString(16)},it.prototype.toBuffer=function(lt,dt){return nt(typeof at<"u"),this.toArrayLike(at,lt,dt)},it.prototype.toArray=function(lt,dt){return this.toArrayLike(Array,lt,dt)},it.prototype.toArrayLike=function(lt,dt,pt){var vt=this.byteLength(),wt=pt||Math.max(1,vt);nt(vt<=wt,"byte array longer than desired length"),nt(wt>0,"Requested array length <= 0"),this.strip();var At=dt==="le",Rt=new lt(wt),bt,ct,_t=this.clone();if(At){for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[ct]=bt;for(;ct<wt;ct++)Rt[ct]=0}else{for(ct=0;ct<wt-vt;ct++)Rt[ct]=0;for(ct=0;!_t.isZero();ct++)bt=_t.andln(255),_t.iushrn(8),Rt[wt-ct-1]=bt}return Rt},Math.clz32?it.prototype._countBits=function(lt){return 32-Math.clz32(lt)}:it.prototype._countBits=function(lt){var dt=lt,pt=0;return dt>=4096&&(pt+=13,dt>>>=13),dt>=64&&(pt+=7,dt>>>=7),dt>=8&&(pt+=4,dt>>>=4),dt>=2&&(pt+=2,dt>>>=2),pt+dt},it.prototype._zeroBits=function(lt){if(lt===0)return 26;var dt=lt,pt=0;return dt&8191||(pt+=13,dt>>>=13),dt&127||(pt+=7,dt>>>=7),dt&15||(pt+=4,dt>>>=4),dt&3||(pt+=2,dt>>>=2),dt&1||pt++,pt},it.prototype.bitLength=function(){var lt=this.words[this.length-1],dt=this._countBits(lt);return(this.length-1)*26+dt};function yt(Et){for(var lt=new Array(Et.bitLength()),dt=0;dt<lt.length;dt++){var pt=dt/26|0,vt=dt%26;lt[dt]=(Et.words[pt]&1<<vt)>>>vt}return lt}it.prototype.zeroBits=function(){if(this.isZero())return 0;for(var lt=0,dt=0;dt<this.length;dt++){var pt=this._zeroBits(this.words[dt]);if(lt+=pt,pt!==26)break}return lt},it.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},it.prototype.toTwos=function(lt){return this.negative!==0?this.abs().inotn(lt).iaddn(1):this.clone()},it.prototype.fromTwos=function(lt){return this.testn(lt-1)?this.notn(lt).iaddn(1).ineg():this.clone()},it.prototype.isNeg=function(){return this.negative!==0},it.prototype.neg=function(){return this.clone().ineg()},it.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},it.prototype.iuor=function(lt){for(;this.length<lt.length;)this.words[this.length++]=0;for(var dt=0;dt<lt.length;dt++)this.words[dt]=this.words[dt]|lt.words[dt];return this.strip()},it.prototype.ior=function(lt){return nt((this.negative|lt.negative)===0),this.iuor(lt)},it.prototype.or=function(lt){return this.length>lt.length?this.clone().ior(lt):lt.clone().ior(this)},it.prototype.uor=function(lt){return this.length>lt.length?this.clone().iuor(lt):lt.clone().iuor(this)},it.prototype.iuand=function(lt){var dt;this.length>lt.length?dt=lt:dt=this;for(var pt=0;pt<dt.length;pt++)this.words[pt]=this.words[pt]&lt.words[pt];return this.length=dt.length,this.strip()},it.prototype.iand=function(lt){return nt((this.negative|lt.negative)===0),this.iuand(lt)},it.prototype.and=function(lt){return this.length>lt.length?this.clone().iand(lt):lt.clone().iand(this)},it.prototype.uand=function(lt){return this.length>lt.length?this.clone().iuand(lt):lt.clone().iuand(this)},it.prototype.iuxor=function(lt){var dt,pt;this.length>lt.length?(dt=this,pt=lt):(dt=lt,pt=this);for(var vt=0;vt<pt.length;vt++)this.words[vt]=dt.words[vt]^pt.words[vt];if(this!==dt)for(;vt<dt.length;vt++)this.words[vt]=dt.words[vt];return this.length=dt.length,this.strip()},it.prototype.ixor=function(lt){return nt((this.negative|lt.negative)===0),this.iuxor(lt)},it.prototype.xor=function(lt){return this.length>lt.length?this.clone().ixor(lt):lt.clone().ixor(this)},it.prototype.uxor=function(lt){return this.length>lt.length?this.clone().iuxor(lt):lt.clone().iuxor(this)},it.prototype.inotn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=Math.ceil(lt/26)|0,pt=lt%26;this._expand(dt),pt>0&&dt--;for(var vt=0;vt<dt;vt++)this.words[vt]=~this.words[vt]&67108863;return pt>0&&(this.words[vt]=~this.words[vt]&67108863>>26-pt),this.strip()},it.prototype.notn=function(lt){return this.clone().inotn(lt)},it.prototype.setn=function(lt,dt){nt(typeof lt=="number"&&lt>=0);var pt=lt/26|0,vt=lt%26;return this._expand(pt+1),dt?this.words[pt]=this.words[pt]|1<<vt:this.words[pt]=this.words[pt]&~(1<<vt),this.strip()},it.prototype.iadd=function(lt){var dt;if(this.negative!==0&&lt.negative===0)return this.negative=0,dt=this.isub(lt),this.negative^=1,this._normSign();if(this.negative===0&&lt.negative!==0)return lt.negative=0,dt=this.isub(lt),lt.negative=1,dt._normSign();var pt,vt;this.length>lt.length?(pt=this,vt=lt):(pt=lt,vt=this);for(var wt=0,At=0;At<vt.length;At++)dt=(pt.words[At]|0)+(vt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;for(;wt!==0&&At<pt.length;At++)dt=(pt.words[At]|0)+wt,this.words[At]=dt&67108863,wt=dt>>>26;if(this.length=pt.length,wt!==0)this.words[this.length]=wt,this.length++;else if(pt!==this)for(;At<pt.length;At++)this.words[At]=pt.words[At];return this},it.prototype.add=function(lt){var dt;return lt.negative!==0&&this.negative===0?(lt.negative=0,dt=this.sub(lt),lt.negative^=1,dt):lt.negative===0&&this.negative!==0?(this.negative=0,dt=lt.sub(this),this.negative=1,dt):this.length>lt.length?this.clone().iadd(lt):lt.clone().iadd(this)},it.prototype.isub=function(lt){if(lt.negative!==0){lt.negative=0;var dt=this.iadd(lt);return lt.negative=1,dt._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(lt),this.negative=1,this._normSign();var pt=this.cmp(lt);if(pt===0)return this.negative=0,this.length=1,this.words[0]=0,this;var vt,wt;pt>0?(vt=this,wt=lt):(vt=lt,wt=this);for(var At=0,Rt=0;Rt<wt.length;Rt++)dt=(vt.words[Rt]|0)-(wt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;for(;At!==0&&Rt<vt.length;Rt++)dt=(vt.words[Rt]|0)+At,At=dt>>26,this.words[Rt]=dt&67108863;if(At===0&&Rt<vt.length&&vt!==this)for(;Rt<vt.length;Rt++)this.words[Rt]=vt.words[Rt];return this.length=Math.max(this.length,Rt),vt!==this&&(this.negative=1),this.strip()},it.prototype.sub=function(lt){return this.clone().isub(lt)};function xt(Et,lt,dt){dt.negative=lt.negative^Et.negative;var pt=Et.length+lt.length|0;dt.length=pt,pt=pt-1|0;var vt=Et.words[0]|0,wt=lt.words[0]|0,At=vt*wt,Rt=At&67108863,bt=At/67108864|0;dt.words[0]=Rt;for(var ct=1;ct<pt;ct++){for(var _t=bt>>>26,Lt=bt&67108863,Ft=Math.min(ct,lt.length-1),jt=Math.max(0,ct-Et.length+1);jt<=Ft;jt++){var Zt=ct-jt|0;vt=Et.words[Zt]|0,wt=lt.words[jt]|0,At=vt*wt+Lt,_t+=At/67108864|0,Lt=At&67108863}dt.words[ct]=Lt|0,bt=_t|0}return bt!==0?dt.words[ct]=bt|0:dt.length--,dt.strip()}var St=function(lt,dt,pt){var vt=lt.words,wt=dt.words,At=pt.words,Rt=0,bt,ct,_t,Lt=vt[0]|0,Ft=Lt&8191,jt=Lt>>>13,Zt=vt[1]|0,Kt=Zt&8191,zt=Zt>>>13,Vt=vt[2]|0,nr=Vt&8191,or=Vt>>>13,rr=vt[3]|0,$t=rr&8191,ar=rr>>>13,wr=vt[4]|0,vr=wr&8191,Qt=wr>>>13,Yt=vt[5]|0,Ht=Yt&8191,tr=Yt>>>13,br=vt[6]|0,gr=br&8191,Sr=br>>>13,pr=vt[7]|0,er=pr&8191,yr=pr>>>13,Gr=vt[8]|0,Mr=Gr&8191,Ar=Gr>>>13,an=vt[9]|0,Br=an&8191,Dr=an>>>13,ln=wt[0]|0,Ir=ln&8191,Tr=ln>>>13,Er=wt[1]|0,_r=Er&8191,xr=Er>>>13,Xr=wt[2]|0,dr=Xr&8191,Pr=Xr>>>13,Jr=wt[3]|0,Nr=Jr&8191,$r=Jr>>>13,Zr=wt[4]|0,Or=Zr&8191,Kr=Zr>>>13,Pn=wt[5]|0,Yr=Pn&8191,sn=Pn>>>13,In=wt[6]|0,rn=In&8191,Vr=In>>>13,sr=wt[7]|0,lr=sr&8191,ur=sr>>>13,Jt=wt[8]|0,fr=Jt&8191,Cr=Jt>>>13,Wr=wt[9]|0,Rr=Wr&8191,cr=Wr>>>13;pt.negative=lt.negative^dt.negative,pt.length=19,bt=Math.imul(Ft,Ir),ct=Math.imul(Ft,Tr),ct=ct+Math.imul(jt,Ir)|0,_t=Math.imul(jt,Tr);var Lr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,bt=Math.imul(Kt,Ir),ct=Math.imul(Kt,Tr),ct=ct+Math.imul(zt,Ir)|0,_t=Math.imul(zt,Tr),bt=bt+Math.imul(Ft,_r)|0,ct=ct+Math.imul(Ft,xr)|0,ct=ct+Math.imul(jt,_r)|0,_t=_t+Math.imul(jt,xr)|0;var Fr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Fr>>>26)|0,Fr&=67108863,bt=Math.imul(nr,Ir),ct=Math.imul(nr,Tr),ct=ct+Math.imul(or,Ir)|0,_t=Math.imul(or,Tr),bt=bt+Math.imul(Kt,_r)|0,ct=ct+Math.imul(Kt,xr)|0,ct=ct+Math.imul(zt,_r)|0,_t=_t+Math.imul(zt,xr)|0,bt=bt+Math.imul(Ft,dr)|0,ct=ct+Math.imul(Ft,Pr)|0,ct=ct+Math.imul(jt,dr)|0,_t=_t+Math.imul(jt,Pr)|0;var zr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(zr>>>26)|0,zr&=67108863,bt=Math.imul($t,Ir),ct=Math.imul($t,Tr),ct=ct+Math.imul(ar,Ir)|0,_t=Math.imul(ar,Tr),bt=bt+Math.imul(nr,_r)|0,ct=ct+Math.imul(nr,xr)|0,ct=ct+Math.imul(or,_r)|0,_t=_t+Math.imul(or,xr)|0,bt=bt+Math.imul(Kt,dr)|0,ct=ct+Math.imul(Kt,Pr)|0,ct=ct+Math.imul(zt,dr)|0,_t=_t+Math.imul(zt,Pr)|0,bt=bt+Math.imul(Ft,Nr)|0,ct=ct+Math.imul(Ft,$r)|0,ct=ct+Math.imul(jt,Nr)|0,_t=_t+Math.imul(jt,$r)|0;var Hr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,bt=Math.imul(vr,Ir),ct=Math.imul(vr,Tr),ct=ct+Math.imul(Qt,Ir)|0,_t=Math.imul(Qt,Tr),bt=bt+Math.imul($t,_r)|0,ct=ct+Math.imul($t,xr)|0,ct=ct+Math.imul(ar,_r)|0,_t=_t+Math.imul(ar,xr)|0,bt=bt+Math.imul(nr,dr)|0,ct=ct+Math.imul(nr,Pr)|0,ct=ct+Math.imul(or,dr)|0,_t=_t+Math.imul(or,Pr)|0,bt=bt+Math.imul(Kt,Nr)|0,ct=ct+Math.imul(Kt,$r)|0,ct=ct+Math.imul(zt,Nr)|0,_t=_t+Math.imul(zt,$r)|0,bt=bt+Math.imul(Ft,Or)|0,ct=ct+Math.imul(Ft,Kr)|0,ct=ct+Math.imul(jt,Or)|0,_t=_t+Math.imul(jt,Kr)|0;var hn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(hn>>>26)|0,hn&=67108863,bt=Math.imul(Ht,Ir),ct=Math.imul(Ht,Tr),ct=ct+Math.imul(tr,Ir)|0,_t=Math.imul(tr,Tr),bt=bt+Math.imul(vr,_r)|0,ct=ct+Math.imul(vr,xr)|0,ct=ct+Math.imul(Qt,_r)|0,_t=_t+Math.imul(Qt,xr)|0,bt=bt+Math.imul($t,dr)|0,ct=ct+Math.imul($t,Pr)|0,ct=ct+Math.imul(ar,dr)|0,_t=_t+Math.imul(ar,Pr)|0,bt=bt+Math.imul(nr,Nr)|0,ct=ct+Math.imul(nr,$r)|0,ct=ct+Math.imul(or,Nr)|0,_t=_t+Math.imul(or,$r)|0,bt=bt+Math.imul(Kt,Or)|0,ct=ct+Math.imul(Kt,Kr)|0,ct=ct+Math.imul(zt,Or)|0,_t=_t+Math.imul(zt,Kr)|0,bt=bt+Math.imul(Ft,Yr)|0,ct=ct+Math.imul(Ft,sn)|0,ct=ct+Math.imul(jt,Yr)|0,_t=_t+Math.imul(jt,sn)|0;var gn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(gn>>>26)|0,gn&=67108863,bt=Math.imul(gr,Ir),ct=Math.imul(gr,Tr),ct=ct+Math.imul(Sr,Ir)|0,_t=Math.imul(Sr,Tr),bt=bt+Math.imul(Ht,_r)|0,ct=ct+Math.imul(Ht,xr)|0,ct=ct+Math.imul(tr,_r)|0,_t=_t+Math.imul(tr,xr)|0,bt=bt+Math.imul(vr,dr)|0,ct=ct+Math.imul(vr,Pr)|0,ct=ct+Math.imul(Qt,dr)|0,_t=_t+Math.imul(Qt,Pr)|0,bt=bt+Math.imul($t,Nr)|0,ct=ct+Math.imul($t,$r)|0,ct=ct+Math.imul(ar,Nr)|0,_t=_t+Math.imul(ar,$r)|0,bt=bt+Math.imul(nr,Or)|0,ct=ct+Math.imul(nr,Kr)|0,ct=ct+Math.imul(or,Or)|0,_t=_t+Math.imul(or,Kr)|0,bt=bt+Math.imul(Kt,Yr)|0,ct=ct+Math.imul(Kt,sn)|0,ct=ct+Math.imul(zt,Yr)|0,_t=_t+Math.imul(zt,sn)|0,bt=bt+Math.imul(Ft,rn)|0,ct=ct+Math.imul(Ft,Vr)|0,ct=ct+Math.imul(jt,rn)|0,_t=_t+Math.imul(jt,Vr)|0;var wn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(wn>>>26)|0,wn&=67108863,bt=Math.imul(er,Ir),ct=Math.imul(er,Tr),ct=ct+Math.imul(yr,Ir)|0,_t=Math.imul(yr,Tr),bt=bt+Math.imul(gr,_r)|0,ct=ct+Math.imul(gr,xr)|0,ct=ct+Math.imul(Sr,_r)|0,_t=_t+Math.imul(Sr,xr)|0,bt=bt+Math.imul(Ht,dr)|0,ct=ct+Math.imul(Ht,Pr)|0,ct=ct+Math.imul(tr,dr)|0,_t=_t+Math.imul(tr,Pr)|0,bt=bt+Math.imul(vr,Nr)|0,ct=ct+Math.imul(vr,$r)|0,ct=ct+Math.imul(Qt,Nr)|0,_t=_t+Math.imul(Qt,$r)|0,bt=bt+Math.imul($t,Or)|0,ct=ct+Math.imul($t,Kr)|0,ct=ct+Math.imul(ar,Or)|0,_t=_t+Math.imul(ar,Kr)|0,bt=bt+Math.imul(nr,Yr)|0,ct=ct+Math.imul(nr,sn)|0,ct=ct+Math.imul(or,Yr)|0,_t=_t+Math.imul(or,sn)|0,bt=bt+Math.imul(Kt,rn)|0,ct=ct+Math.imul(Kt,Vr)|0,ct=ct+Math.imul(zt,rn)|0,_t=_t+Math.imul(zt,Vr)|0,bt=bt+Math.imul(Ft,lr)|0,ct=ct+Math.imul(Ft,ur)|0,ct=ct+Math.imul(jt,lr)|0,_t=_t+Math.imul(jt,ur)|0;var xn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(xn>>>26)|0,xn&=67108863,bt=Math.imul(Mr,Ir),ct=Math.imul(Mr,Tr),ct=ct+Math.imul(Ar,Ir)|0,_t=Math.imul(Ar,Tr),bt=bt+Math.imul(er,_r)|0,ct=ct+Math.imul(er,xr)|0,ct=ct+Math.imul(yr,_r)|0,_t=_t+Math.imul(yr,xr)|0,bt=bt+Math.imul(gr,dr)|0,ct=ct+Math.imul(gr,Pr)|0,ct=ct+Math.imul(Sr,dr)|0,_t=_t+Math.imul(Sr,Pr)|0,bt=bt+Math.imul(Ht,Nr)|0,ct=ct+Math.imul(Ht,$r)|0,ct=ct+Math.imul(tr,Nr)|0,_t=_t+Math.imul(tr,$r)|0,bt=bt+Math.imul(vr,Or)|0,ct=ct+Math.imul(vr,Kr)|0,ct=ct+Math.imul(Qt,Or)|0,_t=_t+Math.imul(Qt,Kr)|0,bt=bt+Math.imul($t,Yr)|0,ct=ct+Math.imul($t,sn)|0,ct=ct+Math.imul(ar,Yr)|0,_t=_t+Math.imul(ar,sn)|0,bt=bt+Math.imul(nr,rn)|0,ct=ct+Math.imul(nr,Vr)|0,ct=ct+Math.imul(or,rn)|0,_t=_t+Math.imul(or,Vr)|0,bt=bt+Math.imul(Kt,lr)|0,ct=ct+Math.imul(Kt,ur)|0,ct=ct+Math.imul(zt,lr)|0,_t=_t+Math.imul(zt,ur)|0,bt=bt+Math.imul(Ft,fr)|0,ct=ct+Math.imul(Ft,Cr)|0,ct=ct+Math.imul(jt,fr)|0,_t=_t+Math.imul(jt,Cr)|0;var An=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(An>>>26)|0,An&=67108863,bt=Math.imul(Br,Ir),ct=Math.imul(Br,Tr),ct=ct+Math.imul(Dr,Ir)|0,_t=Math.imul(Dr,Tr),bt=bt+Math.imul(Mr,_r)|0,ct=ct+Math.imul(Mr,xr)|0,ct=ct+Math.imul(Ar,_r)|0,_t=_t+Math.imul(Ar,xr)|0,bt=bt+Math.imul(er,dr)|0,ct=ct+Math.imul(er,Pr)|0,ct=ct+Math.imul(yr,dr)|0,_t=_t+Math.imul(yr,Pr)|0,bt=bt+Math.imul(gr,Nr)|0,ct=ct+Math.imul(gr,$r)|0,ct=ct+Math.imul(Sr,Nr)|0,_t=_t+Math.imul(Sr,$r)|0,bt=bt+Math.imul(Ht,Or)|0,ct=ct+Math.imul(Ht,Kr)|0,ct=ct+Math.imul(tr,Or)|0,_t=_t+Math.imul(tr,Kr)|0,bt=bt+Math.imul(vr,Yr)|0,ct=ct+Math.imul(vr,sn)|0,ct=ct+Math.imul(Qt,Yr)|0,_t=_t+Math.imul(Qt,sn)|0,bt=bt+Math.imul($t,rn)|0,ct=ct+Math.imul($t,Vr)|0,ct=ct+Math.imul(ar,rn)|0,_t=_t+Math.imul(ar,Vr)|0,bt=bt+Math.imul(nr,lr)|0,ct=ct+Math.imul(nr,ur)|0,ct=ct+Math.imul(or,lr)|0,_t=_t+Math.imul(or,ur)|0,bt=bt+Math.imul(Kt,fr)|0,ct=ct+Math.imul(Kt,Cr)|0,ct=ct+Math.imul(zt,fr)|0,_t=_t+Math.imul(zt,Cr)|0,bt=bt+Math.imul(Ft,Rr)|0,ct=ct+Math.imul(Ft,cr)|0,ct=ct+Math.imul(jt,Rr)|0,_t=_t+Math.imul(jt,cr)|0;var tn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(tn>>>26)|0,tn&=67108863,bt=Math.imul(Br,_r),ct=Math.imul(Br,xr),ct=ct+Math.imul(Dr,_r)|0,_t=Math.imul(Dr,xr),bt=bt+Math.imul(Mr,dr)|0,ct=ct+Math.imul(Mr,Pr)|0,ct=ct+Math.imul(Ar,dr)|0,_t=_t+Math.imul(Ar,Pr)|0,bt=bt+Math.imul(er,Nr)|0,ct=ct+Math.imul(er,$r)|0,ct=ct+Math.imul(yr,Nr)|0,_t=_t+Math.imul(yr,$r)|0,bt=bt+Math.imul(gr,Or)|0,ct=ct+Math.imul(gr,Kr)|0,ct=ct+Math.imul(Sr,Or)|0,_t=_t+Math.imul(Sr,Kr)|0,bt=bt+Math.imul(Ht,Yr)|0,ct=ct+Math.imul(Ht,sn)|0,ct=ct+Math.imul(tr,Yr)|0,_t=_t+Math.imul(tr,sn)|0,bt=bt+Math.imul(vr,rn)|0,ct=ct+Math.imul(vr,Vr)|0,ct=ct+Math.imul(Qt,rn)|0,_t=_t+Math.imul(Qt,Vr)|0,bt=bt+Math.imul($t,lr)|0,ct=ct+Math.imul($t,ur)|0,ct=ct+Math.imul(ar,lr)|0,_t=_t+Math.imul(ar,ur)|0,bt=bt+Math.imul(nr,fr)|0,ct=ct+Math.imul(nr,Cr)|0,ct=ct+Math.imul(or,fr)|0,_t=_t+Math.imul(or,Cr)|0,bt=bt+Math.imul(Kt,Rr)|0,ct=ct+Math.imul(Kt,cr)|0,ct=ct+Math.imul(zt,Rr)|0,_t=_t+Math.imul(zt,cr)|0;var _n=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(_n>>>26)|0,_n&=67108863,bt=Math.imul(Br,dr),ct=Math.imul(Br,Pr),ct=ct+Math.imul(Dr,dr)|0,_t=Math.imul(Dr,Pr),bt=bt+Math.imul(Mr,Nr)|0,ct=ct+Math.imul(Mr,$r)|0,ct=ct+Math.imul(Ar,Nr)|0,_t=_t+Math.imul(Ar,$r)|0,bt=bt+Math.imul(er,Or)|0,ct=ct+Math.imul(er,Kr)|0,ct=ct+Math.imul(yr,Or)|0,_t=_t+Math.imul(yr,Kr)|0,bt=bt+Math.imul(gr,Yr)|0,ct=ct+Math.imul(gr,sn)|0,ct=ct+Math.imul(Sr,Yr)|0,_t=_t+Math.imul(Sr,sn)|0,bt=bt+Math.imul(Ht,rn)|0,ct=ct+Math.imul(Ht,Vr)|0,ct=ct+Math.imul(tr,rn)|0,_t=_t+Math.imul(tr,Vr)|0,bt=bt+Math.imul(vr,lr)|0,ct=ct+Math.imul(vr,ur)|0,ct=ct+Math.imul(Qt,lr)|0,_t=_t+Math.imul(Qt,ur)|0,bt=bt+Math.imul($t,fr)|0,ct=ct+Math.imul($t,Cr)|0,ct=ct+Math.imul(ar,fr)|0,_t=_t+Math.imul(ar,Cr)|0,bt=bt+Math.imul(nr,Rr)|0,ct=ct+Math.imul(nr,cr)|0,ct=ct+Math.imul(or,Rr)|0,_t=_t+Math.imul(or,cr)|0;var Mn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,bt=Math.imul(Br,Nr),ct=Math.imul(Br,$r),ct=ct+Math.imul(Dr,Nr)|0,_t=Math.imul(Dr,$r),bt=bt+Math.imul(Mr,Or)|0,ct=ct+Math.imul(Mr,Kr)|0,ct=ct+Math.imul(Ar,Or)|0,_t=_t+Math.imul(Ar,Kr)|0,bt=bt+Math.imul(er,Yr)|0,ct=ct+Math.imul(er,sn)|0,ct=ct+Math.imul(yr,Yr)|0,_t=_t+Math.imul(yr,sn)|0,bt=bt+Math.imul(gr,rn)|0,ct=ct+Math.imul(gr,Vr)|0,ct=ct+Math.imul(Sr,rn)|0,_t=_t+Math.imul(Sr,Vr)|0,bt=bt+Math.imul(Ht,lr)|0,ct=ct+Math.imul(Ht,ur)|0,ct=ct+Math.imul(tr,lr)|0,_t=_t+Math.imul(tr,ur)|0,bt=bt+Math.imul(vr,fr)|0,ct=ct+Math.imul(vr,Cr)|0,ct=ct+Math.imul(Qt,fr)|0,_t=_t+Math.imul(Qt,Cr)|0,bt=bt+Math.imul($t,Rr)|0,ct=ct+Math.imul($t,cr)|0,ct=ct+Math.imul(ar,Rr)|0,_t=_t+Math.imul(ar,cr)|0;var En=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(En>>>26)|0,En&=67108863,bt=Math.imul(Br,Or),ct=Math.imul(Br,Kr),ct=ct+Math.imul(Dr,Or)|0,_t=Math.imul(Dr,Kr),bt=bt+Math.imul(Mr,Yr)|0,ct=ct+Math.imul(Mr,sn)|0,ct=ct+Math.imul(Ar,Yr)|0,_t=_t+Math.imul(Ar,sn)|0,bt=bt+Math.imul(er,rn)|0,ct=ct+Math.imul(er,Vr)|0,ct=ct+Math.imul(yr,rn)|0,_t=_t+Math.imul(yr,Vr)|0,bt=bt+Math.imul(gr,lr)|0,ct=ct+Math.imul(gr,ur)|0,ct=ct+Math.imul(Sr,lr)|0,_t=_t+Math.imul(Sr,ur)|0,bt=bt+Math.imul(Ht,fr)|0,ct=ct+Math.imul(Ht,Cr)|0,ct=ct+Math.imul(tr,fr)|0,_t=_t+Math.imul(tr,Cr)|0,bt=bt+Math.imul(vr,Rr)|0,ct=ct+Math.imul(vr,cr)|0,ct=ct+Math.imul(Qt,Rr)|0,_t=_t+Math.imul(Qt,cr)|0;var Cn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Cn>>>26)|0,Cn&=67108863,bt=Math.imul(Br,Yr),ct=Math.imul(Br,sn),ct=ct+Math.imul(Dr,Yr)|0,_t=Math.imul(Dr,sn),bt=bt+Math.imul(Mr,rn)|0,ct=ct+Math.imul(Mr,Vr)|0,ct=ct+Math.imul(Ar,rn)|0,_t=_t+Math.imul(Ar,Vr)|0,bt=bt+Math.imul(er,lr)|0,ct=ct+Math.imul(er,ur)|0,ct=ct+Math.imul(yr,lr)|0,_t=_t+Math.imul(yr,ur)|0,bt=bt+Math.imul(gr,fr)|0,ct=ct+Math.imul(gr,Cr)|0,ct=ct+Math.imul(Sr,fr)|0,_t=_t+Math.imul(Sr,Cr)|0,bt=bt+Math.imul(Ht,Rr)|0,ct=ct+Math.imul(Ht,cr)|0,ct=ct+Math.imul(tr,Rr)|0,_t=_t+Math.imul(tr,cr)|0;var Rn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,bt=Math.imul(Br,rn),ct=Math.imul(Br,Vr),ct=ct+Math.imul(Dr,rn)|0,_t=Math.imul(Dr,Vr),bt=bt+Math.imul(Mr,lr)|0,ct=ct+Math.imul(Mr,ur)|0,ct=ct+Math.imul(Ar,lr)|0,_t=_t+Math.imul(Ar,ur)|0,bt=bt+Math.imul(er,fr)|0,ct=ct+Math.imul(er,Cr)|0,ct=ct+Math.imul(yr,fr)|0,_t=_t+Math.imul(yr,Cr)|0,bt=bt+Math.imul(gr,Rr)|0,ct=ct+Math.imul(gr,cr)|0,ct=ct+Math.imul(Sr,Rr)|0,_t=_t+Math.imul(Sr,cr)|0;var Sn=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,bt=Math.imul(Br,lr),ct=Math.imul(Br,ur),ct=ct+Math.imul(Dr,lr)|0,_t=Math.imul(Dr,ur),bt=bt+Math.imul(Mr,fr)|0,ct=ct+Math.imul(Mr,Cr)|0,ct=ct+Math.imul(Ar,fr)|0,_t=_t+Math.imul(Ar,Cr)|0,bt=bt+Math.imul(er,Rr)|0,ct=ct+Math.imul(er,cr)|0,ct=ct+Math.imul(yr,Rr)|0,_t=_t+Math.imul(yr,cr)|0;var un=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(un>>>26)|0,un&=67108863,bt=Math.imul(Br,fr),ct=Math.imul(Br,Cr),ct=ct+Math.imul(Dr,fr)|0,_t=Math.imul(Dr,Cr),bt=bt+Math.imul(Mr,Rr)|0,ct=ct+Math.imul(Mr,cr)|0,ct=ct+Math.imul(Ar,Rr)|0,_t=_t+Math.imul(Ar,cr)|0;var jr=(Rt+bt|0)+((ct&8191)<<13)|0;Rt=(_t+(ct>>>13)|0)+(jr>>>26)|0,jr&=67108863,bt=Math.imul(Br,Rr),ct=Math.imul(Br,cr),ct=ct+Math.imul(Dr,Rr)|0,_t=Math.imul(Dr,cr);var qr=(Rt+bt|0)+((ct&8191)<<13)|0;return Rt=(_t+(ct>>>13)|0)+(qr>>>26)|0,qr&=67108863,At[0]=Lr,At[1]=Fr,At[2]=zr,At[3]=Hr,At[4]=hn,At[5]=gn,At[6]=wn,At[7]=xn,At[8]=An,At[9]=tn,At[10]=_n,At[11]=Mn,At[12]=En,At[13]=Cn,At[14]=Rn,At[15]=Sn,At[16]=un,At[17]=jr,At[18]=qr,Rt!==0&&(At[19]=Rt,pt.length++),pt};Math.imul||(St=xt);function Tt(Et,lt,dt){dt.negative=lt.negative^Et.negative,dt.length=Et.length+lt.length;for(var pt=0,vt=0,wt=0;wt<dt.length-1;wt++){var At=vt;vt=0;for(var Rt=pt&67108863,bt=Math.min(wt,lt.length-1),ct=Math.max(0,wt-Et.length+1);ct<=bt;ct++){var _t=wt-ct,Lt=Et.words[_t]|0,Ft=lt.words[ct]|0,jt=Lt*Ft,Zt=jt&67108863;At=At+(jt/67108864|0)|0,Zt=Zt+Rt|0,Rt=Zt&67108863,At=At+(Zt>>>26)|0,vt+=At>>>26,At&=67108863}dt.words[wt]=Rt,pt=At,At=vt}return pt!==0?dt.words[wt]=pt:dt.length--,dt.strip()}function Mt(Et,lt,dt){var pt=new Pt;return pt.mulp(Et,lt,dt)}it.prototype.mulTo=function(lt,dt){var pt,vt=this.length+lt.length;return this.length===10&&lt.length===10?pt=St(this,lt,dt):vt<63?pt=xt(this,lt,dt):vt<1024?pt=Tt(this,lt,dt):pt=Mt(this,lt,dt),pt};function Pt(Et,lt){this.x=Et,this.y=lt}Pt.prototype.makeRBT=function(lt){for(var dt=new Array(lt),pt=it.prototype._countBits(lt)-1,vt=0;vt<lt;vt++)dt[vt]=this.revBin(vt,pt,lt);return dt},Pt.prototype.revBin=function(lt,dt,pt){if(lt===0||lt===pt-1)return lt;for(var vt=0,wt=0;wt<dt;wt++)vt|=(lt&1)<<dt-wt-1,lt>>=1;return vt},Pt.prototype.permute=function(lt,dt,pt,vt,wt,At){for(var Rt=0;Rt<At;Rt++)vt[Rt]=dt[lt[Rt]],wt[Rt]=pt[lt[Rt]]},Pt.prototype.transform=function(lt,dt,pt,vt,wt,At){this.permute(At,lt,dt,pt,vt,wt);for(var Rt=1;Rt<wt;Rt<<=1)for(var bt=Rt<<1,ct=Math.cos(2*Math.PI/bt),_t=Math.sin(2*Math.PI/bt),Lt=0;Lt<wt;Lt+=bt)for(var Ft=ct,jt=_t,Zt=0;Zt<Rt;Zt++){var Kt=pt[Lt+Zt],zt=vt[Lt+Zt],Vt=pt[Lt+Zt+Rt],nr=vt[Lt+Zt+Rt],or=Ft*Vt-jt*nr;nr=Ft*nr+jt*Vt,Vt=or,pt[Lt+Zt]=Kt+Vt,vt[Lt+Zt]=zt+nr,pt[Lt+Zt+Rt]=Kt-Vt,vt[Lt+Zt+Rt]=zt-nr,Zt!==bt&&(or=ct*Ft-_t*jt,jt=ct*jt+_t*Ft,Ft=or)}},Pt.prototype.guessLen13b=function(lt,dt){var pt=Math.max(dt,lt)|1,vt=pt&1,wt=0;for(pt=pt/2|0;pt;pt=pt>>>1)wt++;return 1<<wt+1+vt},Pt.prototype.conjugate=function(lt,dt,pt){if(!(pt<=1))for(var vt=0;vt<pt/2;vt++){var wt=lt[vt];lt[vt]=lt[pt-vt-1],lt[pt-vt-1]=wt,wt=dt[vt],dt[vt]=-dt[pt-vt-1],dt[pt-vt-1]=-wt}},Pt.prototype.normalize13b=function(lt,dt){for(var pt=0,vt=0;vt<dt/2;vt++){var wt=Math.round(lt[2*vt+1]/dt)*8192+Math.round(lt[2*vt]/dt)+pt;lt[vt]=wt&67108863,wt<67108864?pt=0:pt=wt/67108864|0}return lt},Pt.prototype.convert13b=function(lt,dt,pt,vt){for(var wt=0,At=0;At<dt;At++)wt=wt+(lt[At]|0),pt[2*At]=wt&8191,wt=wt>>>13,pt[2*At+1]=wt&8191,wt=wt>>>13;for(At=2*dt;At<vt;++At)pt[At]=0;nt(wt===0),nt((wt&-8192)===0)},Pt.prototype.stub=function(lt){for(var dt=new Array(lt),pt=0;pt<lt;pt++)dt[pt]=0;return dt},Pt.prototype.mulp=function(lt,dt,pt){var vt=2*this.guessLen13b(lt.length,dt.length),wt=this.makeRBT(vt),At=this.stub(vt),Rt=new Array(vt),bt=new Array(vt),ct=new Array(vt),_t=new Array(vt),Lt=new Array(vt),Ft=new Array(vt),jt=pt.words;jt.length=vt,this.convert13b(lt.words,lt.length,Rt,vt),this.convert13b(dt.words,dt.length,_t,vt),this.transform(Rt,At,bt,ct,vt,wt),this.transform(_t,At,Lt,Ft,vt,wt);for(var Zt=0;Zt<vt;Zt++){var Kt=bt[Zt]*Lt[Zt]-ct[Zt]*Ft[Zt];ct[Zt]=bt[Zt]*Ft[Zt]+ct[Zt]*Lt[Zt],bt[Zt]=Kt}return this.conjugate(bt,ct,vt),this.transform(bt,ct,jt,At,vt,wt),this.conjugate(jt,At,vt),this.normalize13b(jt,vt),pt.negative=lt.negative^dt.negative,pt.length=lt.length+dt.length,pt.strip()},it.prototype.mul=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),this.mulTo(lt,dt)},it.prototype.mulf=function(lt){var dt=new it(null);return dt.words=new Array(this.length+lt.length),Mt(this,lt,dt)},it.prototype.imul=function(lt){return this.clone().mulTo(lt,this)},it.prototype.imuln=function(lt){nt(typeof lt=="number"),nt(lt<67108864);for(var dt=0,pt=0;pt<this.length;pt++){var vt=(this.words[pt]|0)*lt,wt=(vt&67108863)+(dt&67108863);dt>>=26,dt+=vt/67108864|0,dt+=wt>>>26,this.words[pt]=wt&67108863}return dt!==0&&(this.words[pt]=dt,this.length++),this.length=lt===0?1:this.length,this},it.prototype.muln=function(lt){return this.clone().imuln(lt)},it.prototype.sqr=function(){return this.mul(this)},it.prototype.isqr=function(){return this.imul(this.clone())},it.prototype.pow=function(lt){var dt=yt(lt);if(dt.length===0)return new it(1);for(var pt=this,vt=0;vt<dt.length&&dt[vt]===0;vt++,pt=pt.sqr());if(++vt<dt.length)for(var wt=pt.sqr();vt<dt.length;vt++,wt=wt.sqr())dt[vt]!==0&&(pt=pt.mul(wt));return pt},it.prototype.iushln=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=67108863>>>26-dt<<26-dt,wt;if(dt!==0){var At=0;for(wt=0;wt<this.length;wt++){var Rt=this.words[wt]&vt,bt=(this.words[wt]|0)-Rt<<dt;this.words[wt]=bt|At,At=Rt>>>26-dt}At&&(this.words[wt]=At,this.length++)}if(pt!==0){for(wt=this.length-1;wt>=0;wt--)this.words[wt+pt]=this.words[wt];for(wt=0;wt<pt;wt++)this.words[wt]=0;this.length+=pt}return this.strip()},it.prototype.ishln=function(lt){return nt(this.negative===0),this.iushln(lt)},it.prototype.iushrn=function(lt,dt,pt){nt(typeof lt=="number"&&lt>=0);var vt;dt?vt=(dt-dt%26)/26:vt=0;var wt=lt%26,At=Math.min((lt-wt)/26,this.length),Rt=67108863^67108863>>>wt<<wt,bt=pt;if(vt-=At,vt=Math.max(0,vt),bt){for(var ct=0;ct<At;ct++)bt.words[ct]=this.words[ct];bt.length=At}if(At!==0)if(this.length>At)for(this.length-=At,ct=0;ct<this.length;ct++)this.words[ct]=this.words[ct+At];else this.words[0]=0,this.length=1;var _t=0;for(ct=this.length-1;ct>=0&&(_t!==0||ct>=vt);ct--){var Lt=this.words[ct]|0;this.words[ct]=_t<<26-wt|Lt>>>wt,_t=Lt&Rt}return bt&&_t!==0&&(bt.words[bt.length++]=_t),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},it.prototype.ishrn=function(lt,dt,pt){return nt(this.negative===0),this.iushrn(lt,dt,pt)},it.prototype.shln=function(lt){return this.clone().ishln(lt)},it.prototype.ushln=function(lt){return this.clone().iushln(lt)},it.prototype.shrn=function(lt){return this.clone().ishrn(lt)},it.prototype.ushrn=function(lt){return this.clone().iushrn(lt)},it.prototype.testn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return!1;var wt=this.words[pt];return!!(wt&vt)},it.prototype.imaskn=function(lt){nt(typeof lt=="number"&&lt>=0);var dt=lt%26,pt=(lt-dt)/26;if(nt(this.negative===0,"imaskn works only with positive numbers"),this.length<=pt)return this;if(dt!==0&&pt++,this.length=Math.min(pt,this.length),dt!==0){var vt=67108863^67108863>>>dt<<dt;this.words[this.length-1]&=vt}return this.strip()},it.prototype.maskn=function(lt){return this.clone().imaskn(lt)},it.prototype.iaddn=function(lt){return nt(typeof lt=="number"),nt(lt<67108864),lt<0?this.isubn(-lt):this.negative!==0?this.length===1&&(this.words[0]|0)<lt?(this.words[0]=lt-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(lt),this.negative=1,this):this._iaddn(lt)},it.prototype._iaddn=function(lt){this.words[0]+=lt;for(var dt=0;dt<this.length&&this.words[dt]>=67108864;dt++)this.words[dt]-=67108864,dt===this.length-1?this.words[dt+1]=1:this.words[dt+1]++;return this.length=Math.max(this.length,dt+1),this},it.prototype.isubn=function(lt){if(nt(typeof lt=="number"),nt(lt<67108864),lt<0)return this.iaddn(-lt);if(this.negative!==0)return this.negative=0,this.iaddn(lt),this.negative=1,this;if(this.words[0]-=lt,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var dt=0;dt<this.length&&this.words[dt]<0;dt++)this.words[dt]+=67108864,this.words[dt+1]-=1;return this.strip()},it.prototype.addn=function(lt){return this.clone().iaddn(lt)},it.prototype.subn=function(lt){return this.clone().isubn(lt)},it.prototype.iabs=function(){return this.negative=0,this},it.prototype.abs=function(){return this.clone().iabs()},it.prototype._ishlnsubmul=function(lt,dt,pt){var vt=lt.length+pt,wt;this._expand(vt);var At,Rt=0;for(wt=0;wt<lt.length;wt++){At=(this.words[wt+pt]|0)+Rt;var bt=(lt.words[wt]|0)*dt;At-=bt&67108863,Rt=(At>>26)-(bt/67108864|0),this.words[wt+pt]=At&67108863}for(;wt<this.length-pt;wt++)At=(this.words[wt+pt]|0)+Rt,Rt=At>>26,this.words[wt+pt]=At&67108863;if(Rt===0)return this.strip();for(nt(Rt===-1),Rt=0,wt=0;wt<this.length;wt++)At=-(this.words[wt]|0)+Rt,Rt=At>>26,this.words[wt]=At&67108863;return this.negative=1,this.strip()},it.prototype._wordDiv=function(lt,dt){var pt=this.length-lt.length,vt=this.clone(),wt=lt,At=wt.words[wt.length-1]|0,Rt=this._countBits(At);pt=26-Rt,pt!==0&&(wt=wt.ushln(pt),vt.iushln(pt),At=wt.words[wt.length-1]|0);var bt=vt.length-wt.length,ct;if(dt!=="mod"){ct=new it(null),ct.length=bt+1,ct.words=new Array(ct.length);for(var _t=0;_t<ct.length;_t++)ct.words[_t]=0}var Lt=vt.clone()._ishlnsubmul(wt,1,bt);Lt.negative===0&&(vt=Lt,ct&&(ct.words[bt]=1));for(var Ft=bt-1;Ft>=0;Ft--){var jt=(vt.words[wt.length+Ft]|0)*67108864+(vt.words[wt.length+Ft-1]|0);for(jt=Math.min(jt/At|0,67108863),vt._ishlnsubmul(wt,jt,Ft);vt.negative!==0;)jt--,vt.negative=0,vt._ishlnsubmul(wt,1,Ft),vt.isZero()||(vt.negative^=1);ct&&(ct.words[Ft]=jt)}return ct&&ct.strip(),vt.strip(),dt!=="div"&&pt!==0&&vt.iushrn(pt),{div:ct||null,mod:vt}},it.prototype.divmod=function(lt,dt,pt){if(nt(!lt.isZero()),this.isZero())return{div:new it(0),mod:new it(0)};var vt,wt,At;return this.negative!==0&&lt.negative===0?(At=this.neg().divmod(lt,dt),dt!=="mod"&&(vt=At.div.neg()),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.iadd(lt)),{div:vt,mod:wt}):this.negative===0&&lt.negative!==0?(At=this.divmod(lt.neg(),dt),dt!=="mod"&&(vt=At.div.neg()),{div:vt,mod:At.mod}):this.negative&lt.negative?(At=this.neg().divmod(lt.neg(),dt),dt!=="div"&&(wt=At.mod.neg(),pt&&wt.negative!==0&&wt.isub(lt)),{div:At.div,mod:wt}):lt.length>this.length||this.cmp(lt)<0?{div:new it(0),mod:this}:lt.length===1?dt==="div"?{div:this.divn(lt.words[0]),mod:null}:dt==="mod"?{div:null,mod:new it(this.modn(lt.words[0]))}:{div:this.divn(lt.words[0]),mod:new it(this.modn(lt.words[0]))}:this._wordDiv(lt,dt)},it.prototype.div=function(lt){return this.divmod(lt,"div",!1).div},it.prototype.mod=function(lt){return this.divmod(lt,"mod",!1).mod},it.prototype.umod=function(lt){return this.divmod(lt,"mod",!0).mod},it.prototype.divRound=function(lt){var dt=this.divmod(lt);if(dt.mod.isZero())return dt.div;var pt=dt.div.negative!==0?dt.mod.isub(lt):dt.mod,vt=lt.ushrn(1),wt=lt.andln(1),At=pt.cmp(vt);return At<0||wt===1&&At===0?dt.div:dt.div.negative!==0?dt.div.isubn(1):dt.div.iaddn(1)},it.prototype.modn=function(lt){nt(lt<=67108863);for(var dt=(1<<26)%lt,pt=0,vt=this.length-1;vt>=0;vt--)pt=(dt*pt+(this.words[vt]|0))%lt;return pt},it.prototype.idivn=function(lt){nt(lt<=67108863);for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=(this.words[pt]|0)+dt*67108864;this.words[pt]=vt/lt|0,dt=vt%lt}return this.strip()},it.prototype.divn=function(lt){return this.clone().idivn(lt)},it.prototype.egcd=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=new it(0),Rt=new it(1),bt=0;dt.isEven()&&pt.isEven();)dt.iushrn(1),pt.iushrn(1),++bt;for(var ct=pt.clone(),_t=dt.clone();!dt.isZero();){for(var Lt=0,Ft=1;!(dt.words[0]&Ft)&&Lt<26;++Lt,Ft<<=1);if(Lt>0)for(dt.iushrn(Lt);Lt-- >0;)(vt.isOdd()||wt.isOdd())&&(vt.iadd(ct),wt.isub(_t)),vt.iushrn(1),wt.iushrn(1);for(var jt=0,Zt=1;!(pt.words[0]&Zt)&&jt<26;++jt,Zt<<=1);if(jt>0)for(pt.iushrn(jt);jt-- >0;)(At.isOdd()||Rt.isOdd())&&(At.iadd(ct),Rt.isub(_t)),At.iushrn(1),Rt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(At),wt.isub(Rt)):(pt.isub(dt),At.isub(vt),Rt.isub(wt))}return{a:At,b:Rt,gcd:pt.iushln(bt)}},it.prototype._invmp=function(lt){nt(lt.negative===0),nt(!lt.isZero());var dt=this,pt=lt.clone();dt.negative!==0?dt=dt.umod(lt):dt=dt.clone();for(var vt=new it(1),wt=new it(0),At=pt.clone();dt.cmpn(1)>0&&pt.cmpn(1)>0;){for(var Rt=0,bt=1;!(dt.words[0]&bt)&&Rt<26;++Rt,bt<<=1);if(Rt>0)for(dt.iushrn(Rt);Rt-- >0;)vt.isOdd()&&vt.iadd(At),vt.iushrn(1);for(var ct=0,_t=1;!(pt.words[0]&_t)&&ct<26;++ct,_t<<=1);if(ct>0)for(pt.iushrn(ct);ct-- >0;)wt.isOdd()&&wt.iadd(At),wt.iushrn(1);dt.cmp(pt)>=0?(dt.isub(pt),vt.isub(wt)):(pt.isub(dt),wt.isub(vt))}var Lt;return dt.cmpn(1)===0?Lt=vt:Lt=wt,Lt.cmpn(0)<0&&Lt.iadd(lt),Lt},it.prototype.gcd=function(lt){if(this.isZero())return lt.abs();if(lt.isZero())return this.abs();var dt=this.clone(),pt=lt.clone();dt.negative=0,pt.negative=0;for(var vt=0;dt.isEven()&&pt.isEven();vt++)dt.iushrn(1),pt.iushrn(1);do{for(;dt.isEven();)dt.iushrn(1);for(;pt.isEven();)pt.iushrn(1);var wt=dt.cmp(pt);if(wt<0){var At=dt;dt=pt,pt=At}else if(wt===0||pt.cmpn(1)===0)break;dt.isub(pt)}while(!0);return pt.iushln(vt)},it.prototype.invm=function(lt){return this.egcd(lt).a.umod(lt)},it.prototype.isEven=function(){return(this.words[0]&1)===0},it.prototype.isOdd=function(){return(this.words[0]&1)===1},it.prototype.andln=function(lt){return this.words[0]&lt},it.prototype.bincn=function(lt){nt(typeof lt=="number");var dt=lt%26,pt=(lt-dt)/26,vt=1<<dt;if(this.length<=pt)return this._expand(pt+1),this.words[pt]|=vt,this;for(var wt=vt,At=pt;wt!==0&&At<this.length;At++){var Rt=this.words[At]|0;Rt+=wt,wt=Rt>>>26,Rt&=67108863,this.words[At]=Rt}return wt!==0&&(this.words[At]=wt,this.length++),this},it.prototype.isZero=function(){return this.length===1&&this.words[0]===0},it.prototype.cmpn=function(lt){var dt=lt<0;if(this.negative!==0&&!dt)return-1;if(this.negative===0&&dt)return 1;this.strip();var pt;if(this.length>1)pt=1;else{dt&&(lt=-lt),nt(lt<=67108863,"Number is too big");var vt=this.words[0]|0;pt=vt===lt?0:vt<lt?-1:1}return this.negative!==0?-pt|0:pt},it.prototype.cmp=function(lt){if(this.negative!==0&&lt.negative===0)return-1;if(this.negative===0&&lt.negative!==0)return 1;var dt=this.ucmp(lt);return this.negative!==0?-dt|0:dt},it.prototype.ucmp=function(lt){if(this.length>lt.length)return 1;if(this.length<lt.length)return-1;for(var dt=0,pt=this.length-1;pt>=0;pt--){var vt=this.words[pt]|0,wt=lt.words[pt]|0;if(vt!==wt){vt<wt?dt=-1:vt>wt&&(dt=1);break}}return dt},it.prototype.gtn=function(lt){return this.cmpn(lt)===1},it.prototype.gt=function(lt){return this.cmp(lt)===1},it.prototype.gten=function(lt){return this.cmpn(lt)>=0},it.prototype.gte=function(lt){return this.cmp(lt)>=0},it.prototype.ltn=function(lt){return this.cmpn(lt)===-1},it.prototype.lt=function(lt){return this.cmp(lt)===-1},it.prototype.lten=function(lt){return this.cmpn(lt)<=0},it.prototype.lte=function(lt){return this.cmp(lt)<=0},it.prototype.eqn=function(lt){return this.cmpn(lt)===0},it.prototype.eq=function(lt){return this.cmp(lt)===0},it.red=function(lt){return new Ot(lt)},it.prototype.toRed=function(lt){return nt(!this.red,"Already a number in reduction context"),nt(this.negative===0,"red works only with positives"),lt.convertTo(this)._forceRed(lt)},it.prototype.fromRed=function(){return nt(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},it.prototype._forceRed=function(lt){return this.red=lt,this},it.prototype.forceRed=function(lt){return nt(!this.red,"Already a number in reduction context"),this._forceRed(lt)},it.prototype.redAdd=function(lt){return nt(this.red,"redAdd works only with red numbers"),this.red.add(this,lt)},it.prototype.redIAdd=function(lt){return nt(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,lt)},it.prototype.redSub=function(lt){return nt(this.red,"redSub works only with red numbers"),this.red.sub(this,lt)},it.prototype.redISub=function(lt){return nt(this.red,"redISub works only with red numbers"),this.red.isub(this,lt)},it.prototype.redShl=function(lt){return nt(this.red,"redShl works only with red numbers"),this.red.shl(this,lt)},it.prototype.redMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.mul(this,lt)},it.prototype.redIMul=function(lt){return nt(this.red,"redMul works only with red numbers"),this.red._verify2(this,lt),this.red.imul(this,lt)},it.prototype.redSqr=function(){return nt(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},it.prototype.redISqr=function(){return nt(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},it.prototype.redSqrt=function(){return nt(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},it.prototype.redInvm=function(){return nt(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},it.prototype.redNeg=function(){return nt(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},it.prototype.redPow=function(lt){return nt(this.red&&!lt.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,lt)};var It={k256:null,p224:null,p192:null,p25519:null};function kt(Et,lt){this.name=Et,this.p=new it(lt,16),this.n=this.p.bitLength(),this.k=new it(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}kt.prototype._tmp=function(){var lt=new it(null);return lt.words=new Array(Math.ceil(this.n/13)),lt},kt.prototype.ireduce=function(lt){var dt=lt,pt;do this.split(dt,this.tmp),dt=this.imulK(dt),dt=dt.iadd(this.tmp),pt=dt.bitLength();while(pt>this.n);var vt=pt<this.n?-1:dt.ucmp(this.p);return vt===0?(dt.words[0]=0,dt.length=1):vt>0?dt.isub(this.p):dt.strip!==void 0?dt.strip():dt._strip(),dt},kt.prototype.split=function(lt,dt){lt.iushrn(this.n,0,dt)},kt.prototype.imulK=function(lt){return lt.imul(this.k)};function Dt(){kt.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}ot(Dt,kt),Dt.prototype.split=function(lt,dt){for(var pt=4194303,vt=Math.min(lt.length,9),wt=0;wt<vt;wt++)dt.words[wt]=lt.words[wt];if(dt.length=vt,lt.length<=9){lt.words[0]=0,lt.length=1;return}var At=lt.words[9];for(dt.words[dt.length++]=At&pt,wt=10;wt<lt.length;wt++){var Rt=lt.words[wt]|0;lt.words[wt-10]=(Rt&pt)<<4|At>>>22,At=Rt}At>>>=22,lt.words[wt-10]=At,At===0&&lt.length>10?lt.length-=10:lt.length-=9},Dt.prototype.imulK=function(lt){lt.words[lt.length]=0,lt.words[lt.length+1]=0,lt.length+=2;for(var dt=0,pt=0;pt<lt.length;pt++){var vt=lt.words[pt]|0;dt+=vt*977,lt.words[pt]=dt&67108863,dt=vt*64+(dt/67108864|0)}return lt.words[lt.length-1]===0&&(lt.length--,lt.words[lt.length-1]===0&&lt.length--),lt};function Nt(){kt.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}ot(Nt,kt);function Gt(){kt.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}ot(Gt,kt);function Wt(){kt.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}ot(Wt,kt),Wt.prototype.imulK=function(lt){for(var dt=0,pt=0;pt<lt.length;pt++){var vt=(lt.words[pt]|0)*19+dt,wt=vt&67108863;vt>>>=26,lt.words[pt]=wt,dt=vt}return dt!==0&&(lt.words[lt.length++]=dt),lt},it._prime=function(lt){if(It[lt])return It[lt];var dt;if(lt==="k256")dt=new Dt;else if(lt==="p224")dt=new Nt;else if(lt==="p192")dt=new Gt;else if(lt==="p25519")dt=new Wt;else throw new Error("Unknown prime "+lt);return It[lt]=dt,dt};function Ot(Et){if(typeof Et=="string"){var lt=it._prime(Et);this.m=lt.p,this.prime=lt}else nt(Et.gtn(1),"modulus must be greater than 1"),this.m=Et,this.prime=null}Ot.prototype._verify1=function(lt){nt(lt.negative===0,"red works only with positives"),nt(lt.red,"red works only with red numbers")},Ot.prototype._verify2=function(lt,dt){nt((lt.negative|dt.negative)===0,"red works only with positives"),nt(lt.red&&lt.red===dt.red,"red works only with red numbers")},Ot.prototype.imod=function(lt){return this.prime?this.prime.ireduce(lt)._forceRed(this):lt.umod(this.m)._forceRed(this)},Ot.prototype.neg=function(lt){return lt.isZero()?lt.clone():this.m.sub(lt)._forceRed(this)},Ot.prototype.add=function(lt,dt){this._verify2(lt,dt);var pt=lt.add(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt._forceRed(this)},Ot.prototype.iadd=function(lt,dt){this._verify2(lt,dt);var pt=lt.iadd(dt);return pt.cmp(this.m)>=0&&pt.isub(this.m),pt},Ot.prototype.sub=function(lt,dt){this._verify2(lt,dt);var pt=lt.sub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt._forceRed(this)},Ot.prototype.isub=function(lt,dt){this._verify2(lt,dt);var pt=lt.isub(dt);return pt.cmpn(0)<0&&pt.iadd(this.m),pt},Ot.prototype.shl=function(lt,dt){return this._verify1(lt),this.imod(lt.ushln(dt))},Ot.prototype.imul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.imul(dt))},Ot.prototype.mul=function(lt,dt){return this._verify2(lt,dt),this.imod(lt.mul(dt))},Ot.prototype.isqr=function(lt){return this.imul(lt,lt.clone())},Ot.prototype.sqr=function(lt){return this.mul(lt,lt)},Ot.prototype.sqrt=function(lt){if(lt.isZero())return lt.clone();var dt=this.m.andln(3);if(nt(dt%2===1),dt===3){var pt=this.m.add(new it(1)).iushrn(2);return this.pow(lt,pt)}for(var vt=this.m.subn(1),wt=0;!vt.isZero()&&vt.andln(1)===0;)wt++,vt.iushrn(1);nt(!vt.isZero());var At=new it(1).toRed(this),Rt=At.redNeg(),bt=this.m.subn(1).iushrn(1),ct=this.m.bitLength();for(ct=new it(2*ct*ct).toRed(this);this.pow(ct,bt).cmp(Rt)!==0;)ct.redIAdd(Rt);for(var _t=this.pow(ct,vt),Lt=this.pow(lt,vt.addn(1).iushrn(1)),Ft=this.pow(lt,vt),jt=wt;Ft.cmp(At)!==0;){for(var Zt=Ft,Kt=0;Zt.cmp(At)!==0;Kt++)Zt=Zt.redSqr();nt(Kt<jt);var zt=this.pow(_t,new it(1).iushln(jt-Kt-1));Lt=Lt.redMul(zt),_t=zt.redSqr(),Ft=Ft.redMul(_t),jt=Kt}return Lt},Ot.prototype.invm=function(lt){var dt=lt._invmp(this.m);return dt.negative!==0?(dt.negative=0,this.imod(dt).redNeg()):this.imod(dt)},Ot.prototype.pow=function(lt,dt){if(dt.isZero())return new it(1).toRed(this);if(dt.cmpn(1)===0)return lt.clone();var pt=4,vt=new Array(1<<pt);vt[0]=new it(1).toRed(this),vt[1]=lt;for(var wt=2;wt<vt.length;wt++)vt[wt]=this.mul(vt[wt-1],lt);var At=vt[0],Rt=0,bt=0,ct=dt.bitLength()%26;for(ct===0&&(ct=26),wt=dt.length-1;wt>=0;wt--){for(var _t=dt.words[wt],Lt=ct-1;Lt>=0;Lt--){var Ft=_t>>Lt&1;if(At!==vt[0]&&(At=this.sqr(At)),Ft===0&&Rt===0){bt=0;continue}Rt<<=1,Rt|=Ft,bt++,!(bt!==pt&&(wt!==0||Lt!==0))&&(At=this.mul(At,vt[Rt]),bt=0,Rt=0)}ct=26}return At},Ot.prototype.convertTo=function(lt){var dt=lt.umod(this.m);return dt===lt?dt.clone():dt},Ot.prototype.convertFrom=function(lt){var dt=lt.clone();return dt.red=null,dt},it.mont=function(lt){return new Xt(lt)};function Xt(Et){Ot.call(this,Et),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new it(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}ot(Xt,Ot),Xt.prototype.convertTo=function(lt){return this.imod(lt.ushln(this.shift))},Xt.prototype.convertFrom=function(lt){var dt=this.imod(lt.mul(this.rinv));return dt.red=null,dt},Xt.prototype.imul=function(lt,dt){if(lt.isZero()||dt.isZero())return lt.words[0]=0,lt.length=1,lt;var pt=lt.imul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.mul=function(lt,dt){if(lt.isZero()||dt.isZero())return new it(0)._forceRed(this);var pt=lt.mul(dt),vt=pt.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),wt=pt.isub(vt).iushrn(this.shift),At=wt;return wt.cmp(this.m)>=0?At=wt.isub(this.m):wt.cmpn(0)<0&&(At=wt.iadd(this.m)),At._forceRed(this)},Xt.prototype.invm=function(lt){var dt=this.imod(lt._invmp(this.m).mul(this.r2));return dt._forceRed(this)}})(rt,commonjsGlobal)}(bn)),bn.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var rt=requireBn(),et=requireSafeBuffer$1().Buffer;function tt(nt,ot){return et.from(nt.toRed(rt.mont(ot.modulus)).redPow(new rt(ot.publicExponent)).fromRed().toArray())}return withPublic_1=tt,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var rt=requireParseAsn1(),et=requireBrowser$b(),tt=requireBrowser$9(),nt=requireMgf(),ot=requireXor(),it=requireBn(),at=requireWithPublic(),st=requireBrowserifyRsa(),ut=requireSafeBuffer$1().Buffer;publicEncrypt=function(yt,xt,St){var Tt;yt.padding?Tt=yt.padding:St?Tt=1:Tt=4;var Mt=rt(yt),Pt;if(Tt===4)Pt=ft(Mt,xt);else if(Tt===1)Pt=ht(Mt,xt,St);else if(Tt===3){if(Pt=new it(xt),Pt.cmp(Mt.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return St?st(Pt,Mt):at(Pt,Mt)};function ft(gt,yt){var xt=gt.modulus.byteLength(),St=yt.length,Tt=tt("sha1").update(ut.alloc(0)).digest(),Mt=Tt.length,Pt=2*Mt;if(St>xt-Pt-2)throw new Error("message too long");var It=ut.alloc(xt-St-Pt-2),kt=xt-Mt-1,Dt=et(Mt),Nt=ot(ut.concat([Tt,It,ut.alloc(1,1),yt],kt),nt(Dt,kt)),Gt=ot(Dt,nt(Nt,Mt));return new it(ut.concat([ut.alloc(1),Gt,Nt],xt))}function ht(gt,yt,xt){var St=yt.length,Tt=gt.modulus.byteLength();if(St>Tt-11)throw new Error("message too long");var Mt;return xt?Mt=ut.alloc(Tt-St-3,255):Mt=mt(Tt-St-3),new it(ut.concat([ut.from([0,xt?1:2]),Mt,ut.alloc(1),yt],Tt))}function mt(gt){for(var yt=ut.allocUnsafe(gt),xt=0,St=et(gt*2),Tt=0,Mt;xt<gt;)Tt===St.length&&(St=et(gt*2),Tt=0),Mt=St[Tt++],Mt&&(yt[xt++]=Mt);return yt}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var rt=requireParseAsn1(),et=requireMgf(),tt=requireXor(),nt=requireBn(),ot=requireBrowserifyRsa(),it=requireBrowser$9(),at=requireWithPublic(),st=requireSafeBuffer$1().Buffer;privateDecrypt=function(gt,yt,xt){var St;gt.padding?St=gt.padding:xt?St=1:St=4;var Tt=rt(gt),Mt=Tt.modulus.byteLength();if(yt.length>Mt||new nt(yt).cmp(Tt.modulus)>=0)throw new Error("decryption error");var Pt;xt?Pt=at(new nt(yt),Tt):Pt=ot(yt,Tt);var It=st.alloc(Mt-Pt.length);if(Pt=st.concat([It,Pt],Mt),St===4)return ut(Tt,Pt);if(St===1)return ft(Tt,Pt,xt);if(St===3)return Pt;throw new Error("unknown padding")};function ut(mt,gt){var yt=mt.modulus.byteLength(),xt=it("sha1").update(st.alloc(0)).digest(),St=xt.length;if(gt[0]!==0)throw new Error("decryption error");var Tt=gt.slice(1,St+1),Mt=gt.slice(St+1),Pt=tt(Tt,et(Mt,St)),It=tt(Mt,et(Pt,yt-St-1));if(ht(xt,It.slice(0,St)))throw new Error("decryption error");for(var kt=St;It[kt]===0;)kt++;if(It[kt++]!==1)throw new Error("decryption error");return It.slice(kt)}function ft(mt,gt,yt){for(var xt=gt.slice(0,2),St=2,Tt=0;gt[St++]!==0;)if(St>=gt.length){Tt++;break}var Mt=gt.slice(2,St-1);if((xt.toString("hex")!=="0002"&&!yt||xt.toString("hex")!=="0001"&&yt)&&Tt++,Mt.length<8&&Tt++,Tt)throw new Error("decryption error");return gt.slice(St)}function ht(mt,gt){mt=st.from(mt),gt=st.from(gt);var yt=0,xt=mt.length;mt.length!==gt.length&&(yt++,xt=Math.min(mt.length,gt.length));for(var St=-1;++St<xt;)yt+=mt[St]^gt[St];return yt}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(rt){rt.publicEncrypt=requirePublicEncrypt(),rt.privateDecrypt=requirePrivateDecrypt(),rt.privateEncrypt=function(tt,nt){return rt.publicEncrypt(tt,nt,!0)},rt.publicDecrypt=function(tt,nt){return rt.privateDecrypt(tt,nt,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function rt(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var et=requireSafeBuffer$1(),tt=requireBrowser$b(),nt=et.Buffer,ot=et.kMaxLength,it=commonjsGlobal.crypto||commonjsGlobal.msCrypto,at=Math.pow(2,32)-1;function st(gt,yt){if(typeof gt!="number"||gt!==gt)throw new TypeError("offset must be a number");if(gt>at||gt<0)throw new TypeError("offset must be a uint32");if(gt>ot||gt>yt)throw new RangeError("offset out of range")}function ut(gt,yt,xt){if(typeof gt!="number"||gt!==gt)throw new TypeError("size must be a number");if(gt>at||gt<0)throw new TypeError("size must be a uint32");if(gt+yt>xt||gt>ot)throw new RangeError("buffer too small")}it&&it.getRandomValues||!api$2.browser?(browser.randomFill=ft,browser.randomFillSync=mt):(browser.randomFill=rt,browser.randomFillSync=rt);function ft(gt,yt,xt,St){if(!nt.isBuffer(gt)&&!(gt instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof yt=="function")St=yt,yt=0,xt=gt.length;else if(typeof xt=="function")St=xt,xt=gt.length-yt;else if(typeof St!="function")throw new TypeError('"cb" argument must be a function');return st(yt,gt.length),ut(xt,yt,gt.length),ht(gt,yt,xt,St)}function ht(gt,yt,xt,St){if(api$2.browser){var Tt=gt.buffer,Mt=new Uint8Array(Tt,yt,xt);if(it.getRandomValues(Mt),St){api$2.nextTick(function(){St(null,gt)});return}return gt}if(St){tt(xt,function(It,kt){if(It)return St(It);kt.copy(gt,yt),St(null,gt)});return}var Pt=tt(xt);return Pt.copy(gt,yt),gt}function mt(gt,yt,xt){if(typeof yt>"u"&&(yt=0),!nt.isBuffer(gt)&&!(gt instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return st(yt,gt.length),xt===void 0&&(xt=gt.length-yt),ut(xt,yt,gt.length),ht(gt,yt,xt)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var rt=requireAlgos(),et=Object.keys(rt),tt=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(et);cryptoBrowserify.getHashes=function(){return tt};var nt=requireBrowser$7();cryptoBrowserify.pbkdf2=nt.pbkdf2,cryptoBrowserify.pbkdf2Sync=nt.pbkdf2Sync;var ot=requireBrowser$5();cryptoBrowserify.Cipher=ot.Cipher,cryptoBrowserify.createCipher=ot.createCipher,cryptoBrowserify.Cipheriv=ot.Cipheriv,cryptoBrowserify.createCipheriv=ot.createCipheriv,cryptoBrowserify.Decipher=ot.Decipher,cryptoBrowserify.createDecipher=ot.createDecipher,cryptoBrowserify.Decipheriv=ot.Decipheriv,cryptoBrowserify.createDecipheriv=ot.createDecipheriv,cryptoBrowserify.getCiphers=ot.getCiphers,cryptoBrowserify.listCiphers=ot.listCiphers;var it=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=it.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=it.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=it.getDiffieHellman,cryptoBrowserify.createDiffieHellman=it.createDiffieHellman,cryptoBrowserify.DiffieHellman=it.DiffieHellman;var at=requireBrowser$3();cryptoBrowserify.createSign=at.createSign,cryptoBrowserify.Sign=at.Sign,cryptoBrowserify.createVerify=at.createVerify,cryptoBrowserify.Verify=at.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var st=requireBrowser$1();cryptoBrowserify.publicEncrypt=st.publicEncrypt,cryptoBrowserify.privateEncrypt=st.privateEncrypt,cryptoBrowserify.publicDecrypt=st.publicDecrypt,cryptoBrowserify.privateDecrypt=st.privateDecrypt;var ut=requireBrowser();return cryptoBrowserify.randomFill=ut.randomFill,cryptoBrowserify.randomFillSync=ut.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(rt){(function(et){var tt=function(sr){var lr,ur=new Float64Array(16);if(sr)for(lr=0;lr<sr.length;lr++)ur[lr]=sr[lr];return ur},nt=function(){throw new Error("no PRNG")},ot=new Uint8Array(16),it=new Uint8Array(32);it[0]=9;var at=tt(),st=tt([1]),ut=tt([56129,1]),ft=tt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ht=tt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),mt=tt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),gt=tt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),yt=tt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function xt(sr,lr,ur,Jt){sr[lr]=ur>>24&255,sr[lr+1]=ur>>16&255,sr[lr+2]=ur>>8&255,sr[lr+3]=ur&255,sr[lr+4]=Jt>>24&255,sr[lr+5]=Jt>>16&255,sr[lr+6]=Jt>>8&255,sr[lr+7]=Jt&255}function St(sr,lr,ur,Jt,fr){var Cr,Wr=0;for(Cr=0;Cr<fr;Cr++)Wr|=sr[lr+Cr]^ur[Jt+Cr];return(1&Wr-1>>>8)-1}function Tt(sr,lr,ur,Jt){return St(sr,lr,ur,Jt,16)}function Mt(sr,lr,ur,Jt){return St(sr,lr,ur,Jt,32)}function Pt(sr,lr,ur,Jt){for(var fr=Jt[0]&255|(Jt[1]&255)<<8|(Jt[2]&255)<<16|(Jt[3]&255)<<24,Cr=ur[0]&255|(ur[1]&255)<<8|(ur[2]&255)<<16|(ur[3]&255)<<24,Wr=ur[4]&255|(ur[5]&255)<<8|(ur[6]&255)<<16|(ur[7]&255)<<24,Rr=ur[8]&255|(ur[9]&255)<<8|(ur[10]&255)<<16|(ur[11]&255)<<24,cr=ur[12]&255|(ur[13]&255)<<8|(ur[14]&255)<<16|(ur[15]&255)<<24,Lr=Jt[4]&255|(Jt[5]&255)<<8|(Jt[6]&255)<<16|(Jt[7]&255)<<24,Fr=lr[0]&255|(lr[1]&255)<<8|(lr[2]&255)<<16|(lr[3]&255)<<24,zr=lr[4]&255|(lr[5]&255)<<8|(lr[6]&255)<<16|(lr[7]&255)<<24,Hr=lr[8]&255|(lr[9]&255)<<8|(lr[10]&255)<<16|(lr[11]&255)<<24,hn=lr[12]&255|(lr[13]&255)<<8|(lr[14]&255)<<16|(lr[15]&255)<<24,gn=Jt[8]&255|(Jt[9]&255)<<8|(Jt[10]&255)<<16|(Jt[11]&255)<<24,wn=ur[16]&255|(ur[17]&255)<<8|(ur[18]&255)<<16|(ur[19]&255)<<24,xn=ur[20]&255|(ur[21]&255)<<8|(ur[22]&255)<<16|(ur[23]&255)<<24,An=ur[24]&255|(ur[25]&255)<<8|(ur[26]&255)<<16|(ur[27]&255)<<24,tn=ur[28]&255|(ur[29]&255)<<8|(ur[30]&255)<<16|(ur[31]&255)<<24,_n=Jt[12]&255|(Jt[13]&255)<<8|(Jt[14]&255)<<16|(Jt[15]&255)<<24,Mn=fr,En=Cr,Cn=Wr,Rn=Rr,Sn=cr,un=Lr,jr=Fr,qr=zr,yn=Hr,dn=hn,pn=gn,Tn=wn,Ln=xn,Fn=An,$n=tn,On=_n,Ur,qn=0;qn<20;qn+=2)Ur=Mn+Ln|0,Sn^=Ur<<7|Ur>>>32-7,Ur=Sn+Mn|0,yn^=Ur<<9|Ur>>>32-9,Ur=yn+Sn|0,Ln^=Ur<<13|Ur>>>32-13,Ur=Ln+yn|0,Mn^=Ur<<18|Ur>>>32-18,Ur=un+En|0,dn^=Ur<<7|Ur>>>32-7,Ur=dn+un|0,Fn^=Ur<<9|Ur>>>32-9,Ur=Fn+dn|0,En^=Ur<<13|Ur>>>32-13,Ur=En+Fn|0,un^=Ur<<18|Ur>>>32-18,Ur=pn+jr|0,$n^=Ur<<7|Ur>>>32-7,Ur=$n+pn|0,Cn^=Ur<<9|Ur>>>32-9,Ur=Cn+$n|0,jr^=Ur<<13|Ur>>>32-13,Ur=jr+Cn|0,pn^=Ur<<18|Ur>>>32-18,Ur=On+Tn|0,Rn^=Ur<<7|Ur>>>32-7,Ur=Rn+On|0,qr^=Ur<<9|Ur>>>32-9,Ur=qr+Rn|0,Tn^=Ur<<13|Ur>>>32-13,Ur=Tn+qr|0,On^=Ur<<18|Ur>>>32-18,Ur=Mn+Rn|0,En^=Ur<<7|Ur>>>32-7,Ur=En+Mn|0,Cn^=Ur<<9|Ur>>>32-9,Ur=Cn+En|0,Rn^=Ur<<13|Ur>>>32-13,Ur=Rn+Cn|0,Mn^=Ur<<18|Ur>>>32-18,Ur=un+Sn|0,jr^=Ur<<7|Ur>>>32-7,Ur=jr+un|0,qr^=Ur<<9|Ur>>>32-9,Ur=qr+jr|0,Sn^=Ur<<13|Ur>>>32-13,Ur=Sn+qr|0,un^=Ur<<18|Ur>>>32-18,Ur=pn+dn|0,Tn^=Ur<<7|Ur>>>32-7,Ur=Tn+pn|0,yn^=Ur<<9|Ur>>>32-9,Ur=yn+Tn|0,dn^=Ur<<13|Ur>>>32-13,Ur=dn+yn|0,pn^=Ur<<18|Ur>>>32-18,Ur=On+$n|0,Ln^=Ur<<7|Ur>>>32-7,Ur=Ln+On|0,Fn^=Ur<<9|Ur>>>32-9,Ur=Fn+Ln|0,$n^=Ur<<13|Ur>>>32-13,Ur=$n+Fn|0,On^=Ur<<18|Ur>>>32-18;Mn=Mn+fr|0,En=En+Cr|0,Cn=Cn+Wr|0,Rn=Rn+Rr|0,Sn=Sn+cr|0,un=un+Lr|0,jr=jr+Fr|0,qr=qr+zr|0,yn=yn+Hr|0,dn=dn+hn|0,pn=pn+gn|0,Tn=Tn+wn|0,Ln=Ln+xn|0,Fn=Fn+An|0,$n=$n+tn|0,On=On+_n|0,sr[0]=Mn>>>0&255,sr[1]=Mn>>>8&255,sr[2]=Mn>>>16&255,sr[3]=Mn>>>24&255,sr[4]=En>>>0&255,sr[5]=En>>>8&255,sr[6]=En>>>16&255,sr[7]=En>>>24&255,sr[8]=Cn>>>0&255,sr[9]=Cn>>>8&255,sr[10]=Cn>>>16&255,sr[11]=Cn>>>24&255,sr[12]=Rn>>>0&255,sr[13]=Rn>>>8&255,sr[14]=Rn>>>16&255,sr[15]=Rn>>>24&255,sr[16]=Sn>>>0&255,sr[17]=Sn>>>8&255,sr[18]=Sn>>>16&255,sr[19]=Sn>>>24&255,sr[20]=un>>>0&255,sr[21]=un>>>8&255,sr[22]=un>>>16&255,sr[23]=un>>>24&255,sr[24]=jr>>>0&255,sr[25]=jr>>>8&255,sr[26]=jr>>>16&255,sr[27]=jr>>>24&255,sr[28]=qr>>>0&255,sr[29]=qr>>>8&255,sr[30]=qr>>>16&255,sr[31]=qr>>>24&255,sr[32]=yn>>>0&255,sr[33]=yn>>>8&255,sr[34]=yn>>>16&255,sr[35]=yn>>>24&255,sr[36]=dn>>>0&255,sr[37]=dn>>>8&255,sr[38]=dn>>>16&255,sr[39]=dn>>>24&255,sr[40]=pn>>>0&255,sr[41]=pn>>>8&255,sr[42]=pn>>>16&255,sr[43]=pn>>>24&255,sr[44]=Tn>>>0&255,sr[45]=Tn>>>8&255,sr[46]=Tn>>>16&255,sr[47]=Tn>>>24&255,sr[48]=Ln>>>0&255,sr[49]=Ln>>>8&255,sr[50]=Ln>>>16&255,sr[51]=Ln>>>24&255,sr[52]=Fn>>>0&255,sr[53]=Fn>>>8&255,sr[54]=Fn>>>16&255,sr[55]=Fn>>>24&255,sr[56]=$n>>>0&255,sr[57]=$n>>>8&255,sr[58]=$n>>>16&255,sr[59]=$n>>>24&255,sr[60]=On>>>0&255,sr[61]=On>>>8&255,sr[62]=On>>>16&255,sr[63]=On>>>24&255}function It(sr,lr,ur,Jt){for(var fr=Jt[0]&255|(Jt[1]&255)<<8|(Jt[2]&255)<<16|(Jt[3]&255)<<24,Cr=ur[0]&255|(ur[1]&255)<<8|(ur[2]&255)<<16|(ur[3]&255)<<24,Wr=ur[4]&255|(ur[5]&255)<<8|(ur[6]&255)<<16|(ur[7]&255)<<24,Rr=ur[8]&255|(ur[9]&255)<<8|(ur[10]&255)<<16|(ur[11]&255)<<24,cr=ur[12]&255|(ur[13]&255)<<8|(ur[14]&255)<<16|(ur[15]&255)<<24,Lr=Jt[4]&255|(Jt[5]&255)<<8|(Jt[6]&255)<<16|(Jt[7]&255)<<24,Fr=lr[0]&255|(lr[1]&255)<<8|(lr[2]&255)<<16|(lr[3]&255)<<24,zr=lr[4]&255|(lr[5]&255)<<8|(lr[6]&255)<<16|(lr[7]&255)<<24,Hr=lr[8]&255|(lr[9]&255)<<8|(lr[10]&255)<<16|(lr[11]&255)<<24,hn=lr[12]&255|(lr[13]&255)<<8|(lr[14]&255)<<16|(lr[15]&255)<<24,gn=Jt[8]&255|(Jt[9]&255)<<8|(Jt[10]&255)<<16|(Jt[11]&255)<<24,wn=ur[16]&255|(ur[17]&255)<<8|(ur[18]&255)<<16|(ur[19]&255)<<24,xn=ur[20]&255|(ur[21]&255)<<8|(ur[22]&255)<<16|(ur[23]&255)<<24,An=ur[24]&255|(ur[25]&255)<<8|(ur[26]&255)<<16|(ur[27]&255)<<24,tn=ur[28]&255|(ur[29]&255)<<8|(ur[30]&255)<<16|(ur[31]&255)<<24,_n=Jt[12]&255|(Jt[13]&255)<<8|(Jt[14]&255)<<16|(Jt[15]&255)<<24,Mn=fr,En=Cr,Cn=Wr,Rn=Rr,Sn=cr,un=Lr,jr=Fr,qr=zr,yn=Hr,dn=hn,pn=gn,Tn=wn,Ln=xn,Fn=An,$n=tn,On=_n,Ur,qn=0;qn<20;qn+=2)Ur=Mn+Ln|0,Sn^=Ur<<7|Ur>>>32-7,Ur=Sn+Mn|0,yn^=Ur<<9|Ur>>>32-9,Ur=yn+Sn|0,Ln^=Ur<<13|Ur>>>32-13,Ur=Ln+yn|0,Mn^=Ur<<18|Ur>>>32-18,Ur=un+En|0,dn^=Ur<<7|Ur>>>32-7,Ur=dn+un|0,Fn^=Ur<<9|Ur>>>32-9,Ur=Fn+dn|0,En^=Ur<<13|Ur>>>32-13,Ur=En+Fn|0,un^=Ur<<18|Ur>>>32-18,Ur=pn+jr|0,$n^=Ur<<7|Ur>>>32-7,Ur=$n+pn|0,Cn^=Ur<<9|Ur>>>32-9,Ur=Cn+$n|0,jr^=Ur<<13|Ur>>>32-13,Ur=jr+Cn|0,pn^=Ur<<18|Ur>>>32-18,Ur=On+Tn|0,Rn^=Ur<<7|Ur>>>32-7,Ur=Rn+On|0,qr^=Ur<<9|Ur>>>32-9,Ur=qr+Rn|0,Tn^=Ur<<13|Ur>>>32-13,Ur=Tn+qr|0,On^=Ur<<18|Ur>>>32-18,Ur=Mn+Rn|0,En^=Ur<<7|Ur>>>32-7,Ur=En+Mn|0,Cn^=Ur<<9|Ur>>>32-9,Ur=Cn+En|0,Rn^=Ur<<13|Ur>>>32-13,Ur=Rn+Cn|0,Mn^=Ur<<18|Ur>>>32-18,Ur=un+Sn|0,jr^=Ur<<7|Ur>>>32-7,Ur=jr+un|0,qr^=Ur<<9|Ur>>>32-9,Ur=qr+jr|0,Sn^=Ur<<13|Ur>>>32-13,Ur=Sn+qr|0,un^=Ur<<18|Ur>>>32-18,Ur=pn+dn|0,Tn^=Ur<<7|Ur>>>32-7,Ur=Tn+pn|0,yn^=Ur<<9|Ur>>>32-9,Ur=yn+Tn|0,dn^=Ur<<13|Ur>>>32-13,Ur=dn+yn|0,pn^=Ur<<18|Ur>>>32-18,Ur=On+$n|0,Ln^=Ur<<7|Ur>>>32-7,Ur=Ln+On|0,Fn^=Ur<<9|Ur>>>32-9,Ur=Fn+Ln|0,$n^=Ur<<13|Ur>>>32-13,Ur=$n+Fn|0,On^=Ur<<18|Ur>>>32-18;sr[0]=Mn>>>0&255,sr[1]=Mn>>>8&255,sr[2]=Mn>>>16&255,sr[3]=Mn>>>24&255,sr[4]=un>>>0&255,sr[5]=un>>>8&255,sr[6]=un>>>16&255,sr[7]=un>>>24&255,sr[8]=pn>>>0&255,sr[9]=pn>>>8&255,sr[10]=pn>>>16&255,sr[11]=pn>>>24&255,sr[12]=On>>>0&255,sr[13]=On>>>8&255,sr[14]=On>>>16&255,sr[15]=On>>>24&255,sr[16]=jr>>>0&255,sr[17]=jr>>>8&255,sr[18]=jr>>>16&255,sr[19]=jr>>>24&255,sr[20]=qr>>>0&255,sr[21]=qr>>>8&255,sr[22]=qr>>>16&255,sr[23]=qr>>>24&255,sr[24]=yn>>>0&255,sr[25]=yn>>>8&255,sr[26]=yn>>>16&255,sr[27]=yn>>>24&255,sr[28]=dn>>>0&255,sr[29]=dn>>>8&255,sr[30]=dn>>>16&255,sr[31]=dn>>>24&255}function kt(sr,lr,ur,Jt){Pt(sr,lr,ur,Jt)}function Dt(sr,lr,ur,Jt){It(sr,lr,ur,Jt)}var Nt=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Gt(sr,lr,ur,Jt,fr,Cr,Wr){var Rr=new Uint8Array(16),cr=new Uint8Array(64),Lr,Fr;for(Fr=0;Fr<16;Fr++)Rr[Fr]=0;for(Fr=0;Fr<8;Fr++)Rr[Fr]=Cr[Fr];for(;fr>=64;){for(kt(cr,Rr,Wr,Nt),Fr=0;Fr<64;Fr++)sr[lr+Fr]=ur[Jt+Fr]^cr[Fr];for(Lr=1,Fr=8;Fr<16;Fr++)Lr=Lr+(Rr[Fr]&255)|0,Rr[Fr]=Lr&255,Lr>>>=8;fr-=64,lr+=64,Jt+=64}if(fr>0)for(kt(cr,Rr,Wr,Nt),Fr=0;Fr<fr;Fr++)sr[lr+Fr]=ur[Jt+Fr]^cr[Fr];return 0}function Wt(sr,lr,ur,Jt,fr){var Cr=new Uint8Array(16),Wr=new Uint8Array(64),Rr,cr;for(cr=0;cr<16;cr++)Cr[cr]=0;for(cr=0;cr<8;cr++)Cr[cr]=Jt[cr];for(;ur>=64;){for(kt(Wr,Cr,fr,Nt),cr=0;cr<64;cr++)sr[lr+cr]=Wr[cr];for(Rr=1,cr=8;cr<16;cr++)Rr=Rr+(Cr[cr]&255)|0,Cr[cr]=Rr&255,Rr>>>=8;ur-=64,lr+=64}if(ur>0)for(kt(Wr,Cr,fr,Nt),cr=0;cr<ur;cr++)sr[lr+cr]=Wr[cr];return 0}function Ot(sr,lr,ur,Jt,fr){var Cr=new Uint8Array(32);Dt(Cr,Jt,fr,Nt);for(var Wr=new Uint8Array(8),Rr=0;Rr<8;Rr++)Wr[Rr]=Jt[Rr+16];return Wt(sr,lr,ur,Wr,Cr)}function Xt(sr,lr,ur,Jt,fr,Cr,Wr){var Rr=new Uint8Array(32);Dt(Rr,Cr,Wr,Nt);for(var cr=new Uint8Array(8),Lr=0;Lr<8;Lr++)cr[Lr]=Cr[Lr+16];return Gt(sr,lr,ur,Jt,fr,cr,Rr)}var Et=function(sr){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var lr,ur,Jt,fr,Cr,Wr,Rr,cr;lr=sr[0]&255|(sr[1]&255)<<8,this.r[0]=lr&8191,ur=sr[2]&255|(sr[3]&255)<<8,this.r[1]=(lr>>>13|ur<<3)&8191,Jt=sr[4]&255|(sr[5]&255)<<8,this.r[2]=(ur>>>10|Jt<<6)&7939,fr=sr[6]&255|(sr[7]&255)<<8,this.r[3]=(Jt>>>7|fr<<9)&8191,Cr=sr[8]&255|(sr[9]&255)<<8,this.r[4]=(fr>>>4|Cr<<12)&255,this.r[5]=Cr>>>1&8190,Wr=sr[10]&255|(sr[11]&255)<<8,this.r[6]=(Cr>>>14|Wr<<2)&8191,Rr=sr[12]&255|(sr[13]&255)<<8,this.r[7]=(Wr>>>11|Rr<<5)&8065,cr=sr[14]&255|(sr[15]&255)<<8,this.r[8]=(Rr>>>8|cr<<8)&8191,this.r[9]=cr>>>5&127,this.pad[0]=sr[16]&255|(sr[17]&255)<<8,this.pad[1]=sr[18]&255|(sr[19]&255)<<8,this.pad[2]=sr[20]&255|(sr[21]&255)<<8,this.pad[3]=sr[22]&255|(sr[23]&255)<<8,this.pad[4]=sr[24]&255|(sr[25]&255)<<8,this.pad[5]=sr[26]&255|(sr[27]&255)<<8,this.pad[6]=sr[28]&255|(sr[29]&255)<<8,this.pad[7]=sr[30]&255|(sr[31]&255)<<8};Et.prototype.blocks=function(sr,lr,ur){for(var Jt=this.fin?0:2048,fr,Cr,Wr,Rr,cr,Lr,Fr,zr,Hr,hn,gn,wn,xn,An,tn,_n,Mn,En,Cn,Rn=this.h[0],Sn=this.h[1],un=this.h[2],jr=this.h[3],qr=this.h[4],yn=this.h[5],dn=this.h[6],pn=this.h[7],Tn=this.h[8],Ln=this.h[9],Fn=this.r[0],$n=this.r[1],On=this.r[2],Ur=this.r[3],qn=this.r[4],zn=this.r[5],Wn=this.r[6],Vn=this.r[7],Xn=this.r[8],Yn=this.r[9];ur>=16;)fr=sr[lr+0]&255|(sr[lr+1]&255)<<8,Rn+=fr&8191,Cr=sr[lr+2]&255|(sr[lr+3]&255)<<8,Sn+=(fr>>>13|Cr<<3)&8191,Wr=sr[lr+4]&255|(sr[lr+5]&255)<<8,un+=(Cr>>>10|Wr<<6)&8191,Rr=sr[lr+6]&255|(sr[lr+7]&255)<<8,jr+=(Wr>>>7|Rr<<9)&8191,cr=sr[lr+8]&255|(sr[lr+9]&255)<<8,qr+=(Rr>>>4|cr<<12)&8191,yn+=cr>>>1&8191,Lr=sr[lr+10]&255|(sr[lr+11]&255)<<8,dn+=(cr>>>14|Lr<<2)&8191,Fr=sr[lr+12]&255|(sr[lr+13]&255)<<8,pn+=(Lr>>>11|Fr<<5)&8191,zr=sr[lr+14]&255|(sr[lr+15]&255)<<8,Tn+=(Fr>>>8|zr<<8)&8191,Ln+=zr>>>5|Jt,Hr=0,hn=Hr,hn+=Rn*Fn,hn+=Sn*(5*Yn),hn+=un*(5*Xn),hn+=jr*(5*Vn),hn+=qr*(5*Wn),Hr=hn>>>13,hn&=8191,hn+=yn*(5*zn),hn+=dn*(5*qn),hn+=pn*(5*Ur),hn+=Tn*(5*On),hn+=Ln*(5*$n),Hr+=hn>>>13,hn&=8191,gn=Hr,gn+=Rn*$n,gn+=Sn*Fn,gn+=un*(5*Yn),gn+=jr*(5*Xn),gn+=qr*(5*Vn),Hr=gn>>>13,gn&=8191,gn+=yn*(5*Wn),gn+=dn*(5*zn),gn+=pn*(5*qn),gn+=Tn*(5*Ur),gn+=Ln*(5*On),Hr+=gn>>>13,gn&=8191,wn=Hr,wn+=Rn*On,wn+=Sn*$n,wn+=un*Fn,wn+=jr*(5*Yn),wn+=qr*(5*Xn),Hr=wn>>>13,wn&=8191,wn+=yn*(5*Vn),wn+=dn*(5*Wn),wn+=pn*(5*zn),wn+=Tn*(5*qn),wn+=Ln*(5*Ur),Hr+=wn>>>13,wn&=8191,xn=Hr,xn+=Rn*Ur,xn+=Sn*On,xn+=un*$n,xn+=jr*Fn,xn+=qr*(5*Yn),Hr=xn>>>13,xn&=8191,xn+=yn*(5*Xn),xn+=dn*(5*Vn),xn+=pn*(5*Wn),xn+=Tn*(5*zn),xn+=Ln*(5*qn),Hr+=xn>>>13,xn&=8191,An=Hr,An+=Rn*qn,An+=Sn*Ur,An+=un*On,An+=jr*$n,An+=qr*Fn,Hr=An>>>13,An&=8191,An+=yn*(5*Yn),An+=dn*(5*Xn),An+=pn*(5*Vn),An+=Tn*(5*Wn),An+=Ln*(5*zn),Hr+=An>>>13,An&=8191,tn=Hr,tn+=Rn*zn,tn+=Sn*qn,tn+=un*Ur,tn+=jr*On,tn+=qr*$n,Hr=tn>>>13,tn&=8191,tn+=yn*Fn,tn+=dn*(5*Yn),tn+=pn*(5*Xn),tn+=Tn*(5*Vn),tn+=Ln*(5*Wn),Hr+=tn>>>13,tn&=8191,_n=Hr,_n+=Rn*Wn,_n+=Sn*zn,_n+=un*qn,_n+=jr*Ur,_n+=qr*On,Hr=_n>>>13,_n&=8191,_n+=yn*$n,_n+=dn*Fn,_n+=pn*(5*Yn),_n+=Tn*(5*Xn),_n+=Ln*(5*Vn),Hr+=_n>>>13,_n&=8191,Mn=Hr,Mn+=Rn*Vn,Mn+=Sn*Wn,Mn+=un*zn,Mn+=jr*qn,Mn+=qr*Ur,Hr=Mn>>>13,Mn&=8191,Mn+=yn*On,Mn+=dn*$n,Mn+=pn*Fn,Mn+=Tn*(5*Yn),Mn+=Ln*(5*Xn),Hr+=Mn>>>13,Mn&=8191,En=Hr,En+=Rn*Xn,En+=Sn*Vn,En+=un*Wn,En+=jr*zn,En+=qr*qn,Hr=En>>>13,En&=8191,En+=yn*Ur,En+=dn*On,En+=pn*$n,En+=Tn*Fn,En+=Ln*(5*Yn),Hr+=En>>>13,En&=8191,Cn=Hr,Cn+=Rn*Yn,Cn+=Sn*Xn,Cn+=un*Vn,Cn+=jr*Wn,Cn+=qr*zn,Hr=Cn>>>13,Cn&=8191,Cn+=yn*qn,Cn+=dn*Ur,Cn+=pn*On,Cn+=Tn*$n,Cn+=Ln*Fn,Hr+=Cn>>>13,Cn&=8191,Hr=(Hr<<2)+Hr|0,Hr=Hr+hn|0,hn=Hr&8191,Hr=Hr>>>13,gn+=Hr,Rn=hn,Sn=gn,un=wn,jr=xn,qr=An,yn=tn,dn=_n,pn=Mn,Tn=En,Ln=Cn,lr+=16,ur-=16;this.h[0]=Rn,this.h[1]=Sn,this.h[2]=un,this.h[3]=jr,this.h[4]=qr,this.h[5]=yn,this.h[6]=dn,this.h[7]=pn,this.h[8]=Tn,this.h[9]=Ln},Et.prototype.finish=function(sr,lr){var ur=new Uint16Array(10),Jt,fr,Cr,Wr;if(this.leftover){for(Wr=this.leftover,this.buffer[Wr++]=1;Wr<16;Wr++)this.buffer[Wr]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Jt=this.h[1]>>>13,this.h[1]&=8191,Wr=2;Wr<10;Wr++)this.h[Wr]+=Jt,Jt=this.h[Wr]>>>13,this.h[Wr]&=8191;for(this.h[0]+=Jt*5,Jt=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Jt,Jt=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Jt,ur[0]=this.h[0]+5,Jt=ur[0]>>>13,ur[0]&=8191,Wr=1;Wr<10;Wr++)ur[Wr]=this.h[Wr]+Jt,Jt=ur[Wr]>>>13,ur[Wr]&=8191;for(ur[9]-=8192,fr=(Jt^1)-1,Wr=0;Wr<10;Wr++)ur[Wr]&=fr;for(fr=~fr,Wr=0;Wr<10;Wr++)this.h[Wr]=this.h[Wr]&fr|ur[Wr];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Cr=this.h[0]+this.pad[0],this.h[0]=Cr&65535,Wr=1;Wr<8;Wr++)Cr=(this.h[Wr]+this.pad[Wr]|0)+(Cr>>>16)|0,this.h[Wr]=Cr&65535;sr[lr+0]=this.h[0]>>>0&255,sr[lr+1]=this.h[0]>>>8&255,sr[lr+2]=this.h[1]>>>0&255,sr[lr+3]=this.h[1]>>>8&255,sr[lr+4]=this.h[2]>>>0&255,sr[lr+5]=this.h[2]>>>8&255,sr[lr+6]=this.h[3]>>>0&255,sr[lr+7]=this.h[3]>>>8&255,sr[lr+8]=this.h[4]>>>0&255,sr[lr+9]=this.h[4]>>>8&255,sr[lr+10]=this.h[5]>>>0&255,sr[lr+11]=this.h[5]>>>8&255,sr[lr+12]=this.h[6]>>>0&255,sr[lr+13]=this.h[6]>>>8&255,sr[lr+14]=this.h[7]>>>0&255,sr[lr+15]=this.h[7]>>>8&255},Et.prototype.update=function(sr,lr,ur){var Jt,fr;if(this.leftover){for(fr=16-this.leftover,fr>ur&&(fr=ur),Jt=0;Jt<fr;Jt++)this.buffer[this.leftover+Jt]=sr[lr+Jt];if(ur-=fr,lr+=fr,this.leftover+=fr,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ur>=16&&(fr=ur-ur%16,this.blocks(sr,lr,fr),lr+=fr,ur-=fr),ur){for(Jt=0;Jt<ur;Jt++)this.buffer[this.leftover+Jt]=sr[lr+Jt];this.leftover+=ur}};function lt(sr,lr,ur,Jt,fr,Cr){var Wr=new Et(Cr);return Wr.update(ur,Jt,fr),Wr.finish(sr,lr),0}function dt(sr,lr,ur,Jt,fr,Cr){var Wr=new Uint8Array(16);return lt(Wr,0,ur,Jt,fr,Cr),Tt(sr,lr,Wr,0)}function pt(sr,lr,ur,Jt,fr){var Cr;if(ur<32)return-1;for(Xt(sr,0,lr,0,ur,Jt,fr),lt(sr,16,sr,32,ur-32,sr),Cr=0;Cr<16;Cr++)sr[Cr]=0;return 0}function vt(sr,lr,ur,Jt,fr){var Cr,Wr=new Uint8Array(32);if(ur<32||(Ot(Wr,0,32,Jt,fr),dt(lr,16,lr,32,ur-32,Wr)!==0))return-1;for(Xt(sr,0,lr,0,ur,Jt,fr),Cr=0;Cr<32;Cr++)sr[Cr]=0;return 0}function wt(sr,lr){var ur;for(ur=0;ur<16;ur++)sr[ur]=lr[ur]|0}function At(sr){var lr,ur,Jt=1;for(lr=0;lr<16;lr++)ur=sr[lr]+Jt+65535,Jt=Math.floor(ur/65536),sr[lr]=ur-Jt*65536;sr[0]+=Jt-1+37*(Jt-1)}function Rt(sr,lr,ur){for(var Jt,fr=~(ur-1),Cr=0;Cr<16;Cr++)Jt=fr&(sr[Cr]^lr[Cr]),sr[Cr]^=Jt,lr[Cr]^=Jt}function bt(sr,lr){var ur,Jt,fr,Cr=tt(),Wr=tt();for(ur=0;ur<16;ur++)Wr[ur]=lr[ur];for(At(Wr),At(Wr),At(Wr),Jt=0;Jt<2;Jt++){for(Cr[0]=Wr[0]-65517,ur=1;ur<15;ur++)Cr[ur]=Wr[ur]-65535-(Cr[ur-1]>>16&1),Cr[ur-1]&=65535;Cr[15]=Wr[15]-32767-(Cr[14]>>16&1),fr=Cr[15]>>16&1,Cr[14]&=65535,Rt(Wr,Cr,1-fr)}for(ur=0;ur<16;ur++)sr[2*ur]=Wr[ur]&255,sr[2*ur+1]=Wr[ur]>>8}function ct(sr,lr){var ur=new Uint8Array(32),Jt=new Uint8Array(32);return bt(ur,sr),bt(Jt,lr),Mt(ur,0,Jt,0)}function _t(sr){var lr=new Uint8Array(32);return bt(lr,sr),lr[0]&1}function Lt(sr,lr){var ur;for(ur=0;ur<16;ur++)sr[ur]=lr[2*ur]+(lr[2*ur+1]<<8);sr[15]&=32767}function Ft(sr,lr,ur){for(var Jt=0;Jt<16;Jt++)sr[Jt]=lr[Jt]+ur[Jt]}function jt(sr,lr,ur){for(var Jt=0;Jt<16;Jt++)sr[Jt]=lr[Jt]-ur[Jt]}function Zt(sr,lr,ur){var Jt,fr,Cr=0,Wr=0,Rr=0,cr=0,Lr=0,Fr=0,zr=0,Hr=0,hn=0,gn=0,wn=0,xn=0,An=0,tn=0,_n=0,Mn=0,En=0,Cn=0,Rn=0,Sn=0,un=0,jr=0,qr=0,yn=0,dn=0,pn=0,Tn=0,Ln=0,Fn=0,$n=0,On=0,Ur=ur[0],qn=ur[1],zn=ur[2],Wn=ur[3],Vn=ur[4],Xn=ur[5],Yn=ur[6],no=ur[7],Qn=ur[8],eo=ur[9],io=ur[10],oo=ur[11],uo=ur[12],lo=ur[13],fo=ur[14],ao=ur[15];Jt=lr[0],Cr+=Jt*Ur,Wr+=Jt*qn,Rr+=Jt*zn,cr+=Jt*Wn,Lr+=Jt*Vn,Fr+=Jt*Xn,zr+=Jt*Yn,Hr+=Jt*no,hn+=Jt*Qn,gn+=Jt*eo,wn+=Jt*io,xn+=Jt*oo,An+=Jt*uo,tn+=Jt*lo,_n+=Jt*fo,Mn+=Jt*ao,Jt=lr[1],Wr+=Jt*Ur,Rr+=Jt*qn,cr+=Jt*zn,Lr+=Jt*Wn,Fr+=Jt*Vn,zr+=Jt*Xn,Hr+=Jt*Yn,hn+=Jt*no,gn+=Jt*Qn,wn+=Jt*eo,xn+=Jt*io,An+=Jt*oo,tn+=Jt*uo,_n+=Jt*lo,Mn+=Jt*fo,En+=Jt*ao,Jt=lr[2],Rr+=Jt*Ur,cr+=Jt*qn,Lr+=Jt*zn,Fr+=Jt*Wn,zr+=Jt*Vn,Hr+=Jt*Xn,hn+=Jt*Yn,gn+=Jt*no,wn+=Jt*Qn,xn+=Jt*eo,An+=Jt*io,tn+=Jt*oo,_n+=Jt*uo,Mn+=Jt*lo,En+=Jt*fo,Cn+=Jt*ao,Jt=lr[3],cr+=Jt*Ur,Lr+=Jt*qn,Fr+=Jt*zn,zr+=Jt*Wn,Hr+=Jt*Vn,hn+=Jt*Xn,gn+=Jt*Yn,wn+=Jt*no,xn+=Jt*Qn,An+=Jt*eo,tn+=Jt*io,_n+=Jt*oo,Mn+=Jt*uo,En+=Jt*lo,Cn+=Jt*fo,Rn+=Jt*ao,Jt=lr[4],Lr+=Jt*Ur,Fr+=Jt*qn,zr+=Jt*zn,Hr+=Jt*Wn,hn+=Jt*Vn,gn+=Jt*Xn,wn+=Jt*Yn,xn+=Jt*no,An+=Jt*Qn,tn+=Jt*eo,_n+=Jt*io,Mn+=Jt*oo,En+=Jt*uo,Cn+=Jt*lo,Rn+=Jt*fo,Sn+=Jt*ao,Jt=lr[5],Fr+=Jt*Ur,zr+=Jt*qn,Hr+=Jt*zn,hn+=Jt*Wn,gn+=Jt*Vn,wn+=Jt*Xn,xn+=Jt*Yn,An+=Jt*no,tn+=Jt*Qn,_n+=Jt*eo,Mn+=Jt*io,En+=Jt*oo,Cn+=Jt*uo,Rn+=Jt*lo,Sn+=Jt*fo,un+=Jt*ao,Jt=lr[6],zr+=Jt*Ur,Hr+=Jt*qn,hn+=Jt*zn,gn+=Jt*Wn,wn+=Jt*Vn,xn+=Jt*Xn,An+=Jt*Yn,tn+=Jt*no,_n+=Jt*Qn,Mn+=Jt*eo,En+=Jt*io,Cn+=Jt*oo,Rn+=Jt*uo,Sn+=Jt*lo,un+=Jt*fo,jr+=Jt*ao,Jt=lr[7],Hr+=Jt*Ur,hn+=Jt*qn,gn+=Jt*zn,wn+=Jt*Wn,xn+=Jt*Vn,An+=Jt*Xn,tn+=Jt*Yn,_n+=Jt*no,Mn+=Jt*Qn,En+=Jt*eo,Cn+=Jt*io,Rn+=Jt*oo,Sn+=Jt*uo,un+=Jt*lo,jr+=Jt*fo,qr+=Jt*ao,Jt=lr[8],hn+=Jt*Ur,gn+=Jt*qn,wn+=Jt*zn,xn+=Jt*Wn,An+=Jt*Vn,tn+=Jt*Xn,_n+=Jt*Yn,Mn+=Jt*no,En+=Jt*Qn,Cn+=Jt*eo,Rn+=Jt*io,Sn+=Jt*oo,un+=Jt*uo,jr+=Jt*lo,qr+=Jt*fo,yn+=Jt*ao,Jt=lr[9],gn+=Jt*Ur,wn+=Jt*qn,xn+=Jt*zn,An+=Jt*Wn,tn+=Jt*Vn,_n+=Jt*Xn,Mn+=Jt*Yn,En+=Jt*no,Cn+=Jt*Qn,Rn+=Jt*eo,Sn+=Jt*io,un+=Jt*oo,jr+=Jt*uo,qr+=Jt*lo,yn+=Jt*fo,dn+=Jt*ao,Jt=lr[10],wn+=Jt*Ur,xn+=Jt*qn,An+=Jt*zn,tn+=Jt*Wn,_n+=Jt*Vn,Mn+=Jt*Xn,En+=Jt*Yn,Cn+=Jt*no,Rn+=Jt*Qn,Sn+=Jt*eo,un+=Jt*io,jr+=Jt*oo,qr+=Jt*uo,yn+=Jt*lo,dn+=Jt*fo,pn+=Jt*ao,Jt=lr[11],xn+=Jt*Ur,An+=Jt*qn,tn+=Jt*zn,_n+=Jt*Wn,Mn+=Jt*Vn,En+=Jt*Xn,Cn+=Jt*Yn,Rn+=Jt*no,Sn+=Jt*Qn,un+=Jt*eo,jr+=Jt*io,qr+=Jt*oo,yn+=Jt*uo,dn+=Jt*lo,pn+=Jt*fo,Tn+=Jt*ao,Jt=lr[12],An+=Jt*Ur,tn+=Jt*qn,_n+=Jt*zn,Mn+=Jt*Wn,En+=Jt*Vn,Cn+=Jt*Xn,Rn+=Jt*Yn,Sn+=Jt*no,un+=Jt*Qn,jr+=Jt*eo,qr+=Jt*io,yn+=Jt*oo,dn+=Jt*uo,pn+=Jt*lo,Tn+=Jt*fo,Ln+=Jt*ao,Jt=lr[13],tn+=Jt*Ur,_n+=Jt*qn,Mn+=Jt*zn,En+=Jt*Wn,Cn+=Jt*Vn,Rn+=Jt*Xn,Sn+=Jt*Yn,un+=Jt*no,jr+=Jt*Qn,qr+=Jt*eo,yn+=Jt*io,dn+=Jt*oo,pn+=Jt*uo,Tn+=Jt*lo,Ln+=Jt*fo,Fn+=Jt*ao,Jt=lr[14],_n+=Jt*Ur,Mn+=Jt*qn,En+=Jt*zn,Cn+=Jt*Wn,Rn+=Jt*Vn,Sn+=Jt*Xn,un+=Jt*Yn,jr+=Jt*no,qr+=Jt*Qn,yn+=Jt*eo,dn+=Jt*io,pn+=Jt*oo,Tn+=Jt*uo,Ln+=Jt*lo,Fn+=Jt*fo,$n+=Jt*ao,Jt=lr[15],Mn+=Jt*Ur,En+=Jt*qn,Cn+=Jt*zn,Rn+=Jt*Wn,Sn+=Jt*Vn,un+=Jt*Xn,jr+=Jt*Yn,qr+=Jt*no,yn+=Jt*Qn,dn+=Jt*eo,pn+=Jt*io,Tn+=Jt*oo,Ln+=Jt*uo,Fn+=Jt*lo,$n+=Jt*fo,On+=Jt*ao,Cr+=38*En,Wr+=38*Cn,Rr+=38*Rn,cr+=38*Sn,Lr+=38*un,Fr+=38*jr,zr+=38*qr,Hr+=38*yn,hn+=38*dn,gn+=38*pn,wn+=38*Tn,xn+=38*Ln,An+=38*Fn,tn+=38*$n,_n+=38*On,fr=1,Jt=Cr+fr+65535,fr=Math.floor(Jt/65536),Cr=Jt-fr*65536,Jt=Wr+fr+65535,fr=Math.floor(Jt/65536),Wr=Jt-fr*65536,Jt=Rr+fr+65535,fr=Math.floor(Jt/65536),Rr=Jt-fr*65536,Jt=cr+fr+65535,fr=Math.floor(Jt/65536),cr=Jt-fr*65536,Jt=Lr+fr+65535,fr=Math.floor(Jt/65536),Lr=Jt-fr*65536,Jt=Fr+fr+65535,fr=Math.floor(Jt/65536),Fr=Jt-fr*65536,Jt=zr+fr+65535,fr=Math.floor(Jt/65536),zr=Jt-fr*65536,Jt=Hr+fr+65535,fr=Math.floor(Jt/65536),Hr=Jt-fr*65536,Jt=hn+fr+65535,fr=Math.floor(Jt/65536),hn=Jt-fr*65536,Jt=gn+fr+65535,fr=Math.floor(Jt/65536),gn=Jt-fr*65536,Jt=wn+fr+65535,fr=Math.floor(Jt/65536),wn=Jt-fr*65536,Jt=xn+fr+65535,fr=Math.floor(Jt/65536),xn=Jt-fr*65536,Jt=An+fr+65535,fr=Math.floor(Jt/65536),An=Jt-fr*65536,Jt=tn+fr+65535,fr=Math.floor(Jt/65536),tn=Jt-fr*65536,Jt=_n+fr+65535,fr=Math.floor(Jt/65536),_n=Jt-fr*65536,Jt=Mn+fr+65535,fr=Math.floor(Jt/65536),Mn=Jt-fr*65536,Cr+=fr-1+37*(fr-1),fr=1,Jt=Cr+fr+65535,fr=Math.floor(Jt/65536),Cr=Jt-fr*65536,Jt=Wr+fr+65535,fr=Math.floor(Jt/65536),Wr=Jt-fr*65536,Jt=Rr+fr+65535,fr=Math.floor(Jt/65536),Rr=Jt-fr*65536,Jt=cr+fr+65535,fr=Math.floor(Jt/65536),cr=Jt-fr*65536,Jt=Lr+fr+65535,fr=Math.floor(Jt/65536),Lr=Jt-fr*65536,Jt=Fr+fr+65535,fr=Math.floor(Jt/65536),Fr=Jt-fr*65536,Jt=zr+fr+65535,fr=Math.floor(Jt/65536),zr=Jt-fr*65536,Jt=Hr+fr+65535,fr=Math.floor(Jt/65536),Hr=Jt-fr*65536,Jt=hn+fr+65535,fr=Math.floor(Jt/65536),hn=Jt-fr*65536,Jt=gn+fr+65535,fr=Math.floor(Jt/65536),gn=Jt-fr*65536,Jt=wn+fr+65535,fr=Math.floor(Jt/65536),wn=Jt-fr*65536,Jt=xn+fr+65535,fr=Math.floor(Jt/65536),xn=Jt-fr*65536,Jt=An+fr+65535,fr=Math.floor(Jt/65536),An=Jt-fr*65536,Jt=tn+fr+65535,fr=Math.floor(Jt/65536),tn=Jt-fr*65536,Jt=_n+fr+65535,fr=Math.floor(Jt/65536),_n=Jt-fr*65536,Jt=Mn+fr+65535,fr=Math.floor(Jt/65536),Mn=Jt-fr*65536,Cr+=fr-1+37*(fr-1),sr[0]=Cr,sr[1]=Wr,sr[2]=Rr,sr[3]=cr,sr[4]=Lr,sr[5]=Fr,sr[6]=zr,sr[7]=Hr,sr[8]=hn,sr[9]=gn,sr[10]=wn,sr[11]=xn,sr[12]=An,sr[13]=tn,sr[14]=_n,sr[15]=Mn}function Kt(sr,lr){Zt(sr,lr,lr)}function zt(sr,lr){var ur=tt(),Jt;for(Jt=0;Jt<16;Jt++)ur[Jt]=lr[Jt];for(Jt=253;Jt>=0;Jt--)Kt(ur,ur),Jt!==2&&Jt!==4&&Zt(ur,ur,lr);for(Jt=0;Jt<16;Jt++)sr[Jt]=ur[Jt]}function Vt(sr,lr){var ur=tt(),Jt;for(Jt=0;Jt<16;Jt++)ur[Jt]=lr[Jt];for(Jt=250;Jt>=0;Jt--)Kt(ur,ur),Jt!==1&&Zt(ur,ur,lr);for(Jt=0;Jt<16;Jt++)sr[Jt]=ur[Jt]}function nr(sr,lr,ur){var Jt=new Uint8Array(32),fr=new Float64Array(80),Cr,Wr,Rr=tt(),cr=tt(),Lr=tt(),Fr=tt(),zr=tt(),Hr=tt();for(Wr=0;Wr<31;Wr++)Jt[Wr]=lr[Wr];for(Jt[31]=lr[31]&127|64,Jt[0]&=248,Lt(fr,ur),Wr=0;Wr<16;Wr++)cr[Wr]=fr[Wr],Fr[Wr]=Rr[Wr]=Lr[Wr]=0;for(Rr[0]=Fr[0]=1,Wr=254;Wr>=0;--Wr)Cr=Jt[Wr>>>3]>>>(Wr&7)&1,Rt(Rr,cr,Cr),Rt(Lr,Fr,Cr),Ft(zr,Rr,Lr),jt(Rr,Rr,Lr),Ft(Lr,cr,Fr),jt(cr,cr,Fr),Kt(Fr,zr),Kt(Hr,Rr),Zt(Rr,Lr,Rr),Zt(Lr,cr,zr),Ft(zr,Rr,Lr),jt(Rr,Rr,Lr),Kt(cr,Rr),jt(Lr,Fr,Hr),Zt(Rr,Lr,ut),Ft(Rr,Rr,Fr),Zt(Lr,Lr,Rr),Zt(Rr,Fr,Hr),Zt(Fr,cr,fr),Kt(cr,zr),Rt(Rr,cr,Cr),Rt(Lr,Fr,Cr);for(Wr=0;Wr<16;Wr++)fr[Wr+16]=Rr[Wr],fr[Wr+32]=Lr[Wr],fr[Wr+48]=cr[Wr],fr[Wr+64]=Fr[Wr];var hn=fr.subarray(32),gn=fr.subarray(16);return zt(hn,hn),Zt(gn,gn,hn),bt(sr,gn),0}function or(sr,lr){return nr(sr,lr,it)}function rr(sr,lr){return nt(lr,32),or(sr,lr)}function $t(sr,lr,ur){var Jt=new Uint8Array(32);return nr(Jt,ur,lr),Dt(sr,ot,Jt,Nt)}var ar=pt,wr=vt;function vr(sr,lr,ur,Jt,fr,Cr){var Wr=new Uint8Array(32);return $t(Wr,fr,Cr),ar(sr,lr,ur,Jt,Wr)}function Qt(sr,lr,ur,Jt,fr,Cr){var Wr=new Uint8Array(32);return $t(Wr,fr,Cr),wr(sr,lr,ur,Jt,Wr)}var Yt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ht(sr,lr,ur,Jt){for(var fr=new Int32Array(16),Cr=new Int32Array(16),Wr,Rr,cr,Lr,Fr,zr,Hr,hn,gn,wn,xn,An,tn,_n,Mn,En,Cn,Rn,Sn,un,jr,qr,yn,dn,pn,Tn,Ln=sr[0],Fn=sr[1],$n=sr[2],On=sr[3],Ur=sr[4],qn=sr[5],zn=sr[6],Wn=sr[7],Vn=lr[0],Xn=lr[1],Yn=lr[2],no=lr[3],Qn=lr[4],eo=lr[5],io=lr[6],oo=lr[7],uo=0;Jt>=128;){for(Sn=0;Sn<16;Sn++)un=8*Sn+uo,fr[Sn]=ur[un+0]<<24|ur[un+1]<<16|ur[un+2]<<8|ur[un+3],Cr[Sn]=ur[un+4]<<24|ur[un+5]<<16|ur[un+6]<<8|ur[un+7];for(Sn=0;Sn<80;Sn++)if(Wr=Ln,Rr=Fn,cr=$n,Lr=On,Fr=Ur,zr=qn,Hr=zn,hn=Wn,gn=Vn,wn=Xn,xn=Yn,An=no,tn=Qn,_n=eo,Mn=io,En=oo,jr=Wn,qr=oo,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=(Ur>>>14|Qn<<32-14)^(Ur>>>18|Qn<<32-18)^(Qn>>>41-32|Ur<<32-(41-32)),qr=(Qn>>>14|Ur<<32-14)^(Qn>>>18|Ur<<32-18)^(Ur>>>41-32|Qn<<32-(41-32)),yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,jr=Ur&qn^~Ur&zn,qr=Qn&eo^~Qn&io,yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,jr=Yt[Sn*2],qr=Yt[Sn*2+1],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,jr=fr[Sn%16],qr=Cr[Sn%16],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,Cn=pn&65535|Tn<<16,Rn=yn&65535|dn<<16,jr=Cn,qr=Rn,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=(Ln>>>28|Vn<<32-28)^(Vn>>>34-32|Ln<<32-(34-32))^(Vn>>>39-32|Ln<<32-(39-32)),qr=(Vn>>>28|Ln<<32-28)^(Ln>>>34-32|Vn<<32-(34-32))^(Ln>>>39-32|Vn<<32-(39-32)),yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,jr=Ln&Fn^Ln&$n^Fn&$n,qr=Vn&Xn^Vn&Yn^Xn&Yn,yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,hn=pn&65535|Tn<<16,En=yn&65535|dn<<16,jr=Lr,qr=An,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=Cn,qr=Rn,yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,Lr=pn&65535|Tn<<16,An=yn&65535|dn<<16,Fn=Wr,$n=Rr,On=cr,Ur=Lr,qn=Fr,zn=zr,Wn=Hr,Ln=hn,Xn=gn,Yn=wn,no=xn,Qn=An,eo=tn,io=_n,oo=Mn,Vn=En,Sn%16===15)for(un=0;un<16;un++)jr=fr[un],qr=Cr[un],yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=fr[(un+9)%16],qr=Cr[(un+9)%16],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,Cn=fr[(un+1)%16],Rn=Cr[(un+1)%16],jr=(Cn>>>1|Rn<<32-1)^(Cn>>>8|Rn<<32-8)^Cn>>>7,qr=(Rn>>>1|Cn<<32-1)^(Rn>>>8|Cn<<32-8)^(Rn>>>7|Cn<<32-7),yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,Cn=fr[(un+14)%16],Rn=Cr[(un+14)%16],jr=(Cn>>>19|Rn<<32-19)^(Rn>>>61-32|Cn<<32-(61-32))^Cn>>>6,qr=(Rn>>>19|Cn<<32-19)^(Cn>>>61-32|Rn<<32-(61-32))^(Rn>>>6|Cn<<32-6),yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,fr[un]=pn&65535|Tn<<16,Cr[un]=yn&65535|dn<<16;jr=Ln,qr=Vn,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[0],qr=lr[0],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[0]=Ln=pn&65535|Tn<<16,lr[0]=Vn=yn&65535|dn<<16,jr=Fn,qr=Xn,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[1],qr=lr[1],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[1]=Fn=pn&65535|Tn<<16,lr[1]=Xn=yn&65535|dn<<16,jr=$n,qr=Yn,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[2],qr=lr[2],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[2]=$n=pn&65535|Tn<<16,lr[2]=Yn=yn&65535|dn<<16,jr=On,qr=no,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[3],qr=lr[3],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[3]=On=pn&65535|Tn<<16,lr[3]=no=yn&65535|dn<<16,jr=Ur,qr=Qn,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[4],qr=lr[4],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[4]=Ur=pn&65535|Tn<<16,lr[4]=Qn=yn&65535|dn<<16,jr=qn,qr=eo,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[5],qr=lr[5],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[5]=qn=pn&65535|Tn<<16,lr[5]=eo=yn&65535|dn<<16,jr=zn,qr=io,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[6],qr=lr[6],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[6]=zn=pn&65535|Tn<<16,lr[6]=io=yn&65535|dn<<16,jr=Wn,qr=oo,yn=qr&65535,dn=qr>>>16,pn=jr&65535,Tn=jr>>>16,jr=sr[7],qr=lr[7],yn+=qr&65535,dn+=qr>>>16,pn+=jr&65535,Tn+=jr>>>16,dn+=yn>>>16,pn+=dn>>>16,Tn+=pn>>>16,sr[7]=Wn=pn&65535|Tn<<16,lr[7]=oo=yn&65535|dn<<16,uo+=128,Jt-=128}return Jt}function tr(sr,lr,ur){var Jt=new Int32Array(8),fr=new Int32Array(8),Cr=new Uint8Array(256),Wr,Rr=ur;for(Jt[0]=1779033703,Jt[1]=3144134277,Jt[2]=1013904242,Jt[3]=2773480762,Jt[4]=1359893119,Jt[5]=2600822924,Jt[6]=528734635,Jt[7]=1541459225,fr[0]=4089235720,fr[1]=2227873595,fr[2]=4271175723,fr[3]=1595750129,fr[4]=2917565137,fr[5]=725511199,fr[6]=4215389547,fr[7]=327033209,Ht(Jt,fr,lr,ur),ur%=128,Wr=0;Wr<ur;Wr++)Cr[Wr]=lr[Rr-ur+Wr];for(Cr[ur]=128,ur=256-128*(ur<112?1:0),Cr[ur-9]=0,xt(Cr,ur-8,Rr/536870912|0,Rr<<3),Ht(Jt,fr,Cr,ur),Wr=0;Wr<8;Wr++)xt(sr,8*Wr,Jt[Wr],fr[Wr]);return 0}function br(sr,lr){var ur=tt(),Jt=tt(),fr=tt(),Cr=tt(),Wr=tt(),Rr=tt(),cr=tt(),Lr=tt(),Fr=tt();jt(ur,sr[1],sr[0]),jt(Fr,lr[1],lr[0]),Zt(ur,ur,Fr),Ft(Jt,sr[0],sr[1]),Ft(Fr,lr[0],lr[1]),Zt(Jt,Jt,Fr),Zt(fr,sr[3],lr[3]),Zt(fr,fr,ht),Zt(Cr,sr[2],lr[2]),Ft(Cr,Cr,Cr),jt(Wr,Jt,ur),jt(Rr,Cr,fr),Ft(cr,Cr,fr),Ft(Lr,Jt,ur),Zt(sr[0],Wr,Rr),Zt(sr[1],Lr,cr),Zt(sr[2],cr,Rr),Zt(sr[3],Wr,Lr)}function gr(sr,lr,ur){var Jt;for(Jt=0;Jt<4;Jt++)Rt(sr[Jt],lr[Jt],ur)}function Sr(sr,lr){var ur=tt(),Jt=tt(),fr=tt();zt(fr,lr[2]),Zt(ur,lr[0],fr),Zt(Jt,lr[1],fr),bt(sr,Jt),sr[31]^=_t(ur)<<7}function pr(sr,lr,ur){var Jt,fr;for(wt(sr[0],at),wt(sr[1],st),wt(sr[2],st),wt(sr[3],at),fr=255;fr>=0;--fr)Jt=ur[fr/8|0]>>(fr&7)&1,gr(sr,lr,Jt),br(lr,sr),br(sr,sr),gr(sr,lr,Jt)}function er(sr,lr){var ur=[tt(),tt(),tt(),tt()];wt(ur[0],mt),wt(ur[1],gt),wt(ur[2],st),Zt(ur[3],mt,gt),pr(sr,ur,lr)}function yr(sr,lr,ur){var Jt=new Uint8Array(64),fr=[tt(),tt(),tt(),tt()],Cr;for(ur||nt(lr,32),tr(Jt,lr,32),Jt[0]&=248,Jt[31]&=127,Jt[31]|=64,er(fr,Jt),Sr(sr,fr),Cr=0;Cr<32;Cr++)lr[Cr+32]=sr[Cr];return 0}var Gr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Mr(sr,lr){var ur,Jt,fr,Cr;for(Jt=63;Jt>=32;--Jt){for(ur=0,fr=Jt-32,Cr=Jt-12;fr<Cr;++fr)lr[fr]+=ur-16*lr[Jt]*Gr[fr-(Jt-32)],ur=Math.floor((lr[fr]+128)/256),lr[fr]-=ur*256;lr[fr]+=ur,lr[Jt]=0}for(ur=0,fr=0;fr<32;fr++)lr[fr]+=ur-(lr[31]>>4)*Gr[fr],ur=lr[fr]>>8,lr[fr]&=255;for(fr=0;fr<32;fr++)lr[fr]-=ur*Gr[fr];for(Jt=0;Jt<32;Jt++)lr[Jt+1]+=lr[Jt]>>8,sr[Jt]=lr[Jt]&255}function Ar(sr){var lr=new Float64Array(64),ur;for(ur=0;ur<64;ur++)lr[ur]=sr[ur];for(ur=0;ur<64;ur++)sr[ur]=0;Mr(sr,lr)}function an(sr,lr,ur,Jt){var fr=new Uint8Array(64),Cr=new Uint8Array(64),Wr=new Uint8Array(64),Rr,cr,Lr=new Float64Array(64),Fr=[tt(),tt(),tt(),tt()];tr(fr,Jt,32),fr[0]&=248,fr[31]&=127,fr[31]|=64;var zr=ur+64;for(Rr=0;Rr<ur;Rr++)sr[64+Rr]=lr[Rr];for(Rr=0;Rr<32;Rr++)sr[32+Rr]=fr[32+Rr];for(tr(Wr,sr.subarray(32),ur+32),Ar(Wr),er(Fr,Wr),Sr(sr,Fr),Rr=32;Rr<64;Rr++)sr[Rr]=Jt[Rr];for(tr(Cr,sr,ur+64),Ar(Cr),Rr=0;Rr<64;Rr++)Lr[Rr]=0;for(Rr=0;Rr<32;Rr++)Lr[Rr]=Wr[Rr];for(Rr=0;Rr<32;Rr++)for(cr=0;cr<32;cr++)Lr[Rr+cr]+=Cr[Rr]*fr[cr];return Mr(sr.subarray(32),Lr),zr}function Br(sr,lr){var ur=tt(),Jt=tt(),fr=tt(),Cr=tt(),Wr=tt(),Rr=tt(),cr=tt();return wt(sr[2],st),Lt(sr[1],lr),Kt(fr,sr[1]),Zt(Cr,fr,ft),jt(fr,fr,sr[2]),Ft(Cr,sr[2],Cr),Kt(Wr,Cr),Kt(Rr,Wr),Zt(cr,Rr,Wr),Zt(ur,cr,fr),Zt(ur,ur,Cr),Vt(ur,ur),Zt(ur,ur,fr),Zt(ur,ur,Cr),Zt(ur,ur,Cr),Zt(sr[0],ur,Cr),Kt(Jt,sr[0]),Zt(Jt,Jt,Cr),ct(Jt,fr)&&Zt(sr[0],sr[0],yt),Kt(Jt,sr[0]),Zt(Jt,Jt,Cr),ct(Jt,fr)?-1:(_t(sr[0])===lr[31]>>7&&jt(sr[0],at,sr[0]),Zt(sr[3],sr[0],sr[1]),0)}function Dr(sr,lr,ur,Jt){var fr,Cr=new Uint8Array(32),Wr=new Uint8Array(64),Rr=[tt(),tt(),tt(),tt()],cr=[tt(),tt(),tt(),tt()];if(ur<64||Br(cr,Jt))return-1;for(fr=0;fr<ur;fr++)sr[fr]=lr[fr];for(fr=0;fr<32;fr++)sr[fr+32]=Jt[fr];if(tr(Wr,sr,ur),Ar(Wr),pr(Rr,cr,Wr),er(cr,lr.subarray(32)),br(Rr,cr),Sr(Cr,Rr),ur-=64,Mt(lr,0,Cr,0)){for(fr=0;fr<ur;fr++)sr[fr]=0;return-1}for(fr=0;fr<ur;fr++)sr[fr]=lr[fr+64];return ur}var ln=32,Ir=24,Tr=32,Er=16,_r=32,xr=32,Xr=32,dr=32,Pr=32,Jr=Ir,Nr=Tr,$r=Er,Zr=64,Or=32,Kr=64,Pn=32,Yr=64;et.lowlevel={crypto_core_hsalsa20:Dt,crypto_stream_xor:Xt,crypto_stream:Ot,crypto_stream_salsa20_xor:Gt,crypto_stream_salsa20:Wt,crypto_onetimeauth:lt,crypto_onetimeauth_verify:dt,crypto_verify_16:Tt,crypto_verify_32:Mt,crypto_secretbox:pt,crypto_secretbox_open:vt,crypto_scalarmult:nr,crypto_scalarmult_base:or,crypto_box_beforenm:$t,crypto_box_afternm:ar,crypto_box:vr,crypto_box_open:Qt,crypto_box_keypair:rr,crypto_hash:tr,crypto_sign:an,crypto_sign_keypair:yr,crypto_sign_open:Dr,crypto_secretbox_KEYBYTES:ln,crypto_secretbox_NONCEBYTES:Ir,crypto_secretbox_ZEROBYTES:Tr,crypto_secretbox_BOXZEROBYTES:Er,crypto_scalarmult_BYTES:_r,crypto_scalarmult_SCALARBYTES:xr,crypto_box_PUBLICKEYBYTES:Xr,crypto_box_SECRETKEYBYTES:dr,crypto_box_BEFORENMBYTES:Pr,crypto_box_NONCEBYTES:Jr,crypto_box_ZEROBYTES:Nr,crypto_box_BOXZEROBYTES:$r,crypto_sign_BYTES:Zr,crypto_sign_PUBLICKEYBYTES:Or,crypto_sign_SECRETKEYBYTES:Kr,crypto_sign_SEEDBYTES:Pn,crypto_hash_BYTES:Yr,gf:tt,D:ft,L:Gr,pack25519:bt,unpack25519:Lt,M:Zt,A:Ft,S:Kt,Z:jt,pow2523:Vt,add:br,set25519:wt,modL:Mr,scalarmult:pr,scalarbase:er};function sn(sr,lr){if(sr.length!==ln)throw new Error("bad key size");if(lr.length!==Ir)throw new Error("bad nonce size")}function In(sr,lr){if(sr.length!==Xr)throw new Error("bad public key size");if(lr.length!==dr)throw new Error("bad secret key size")}function rn(){for(var sr=0;sr<arguments.length;sr++)if(!(arguments[sr]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Vr(sr){for(var lr=0;lr<sr.length;lr++)sr[lr]=0}et.randomBytes=function(sr){var lr=new Uint8Array(sr);return nt(lr,sr),lr},et.secretbox=function(sr,lr,ur){rn(sr,lr,ur),sn(ur,lr);for(var Jt=new Uint8Array(Tr+sr.length),fr=new Uint8Array(Jt.length),Cr=0;Cr<sr.length;Cr++)Jt[Cr+Tr]=sr[Cr];return pt(fr,Jt,Jt.length,lr,ur),fr.subarray(Er)},et.secretbox.open=function(sr,lr,ur){rn(sr,lr,ur),sn(ur,lr);for(var Jt=new Uint8Array(Er+sr.length),fr=new Uint8Array(Jt.length),Cr=0;Cr<sr.length;Cr++)Jt[Cr+Er]=sr[Cr];return Jt.length<32||vt(fr,Jt,Jt.length,lr,ur)!==0?null:fr.subarray(Tr)},et.secretbox.keyLength=ln,et.secretbox.nonceLength=Ir,et.secretbox.overheadLength=Er,et.scalarMult=function(sr,lr){if(rn(sr,lr),sr.length!==xr)throw new Error("bad n size");if(lr.length!==_r)throw new Error("bad p size");var ur=new Uint8Array(_r);return nr(ur,sr,lr),ur},et.scalarMult.base=function(sr){if(rn(sr),sr.length!==xr)throw new Error("bad n size");var lr=new Uint8Array(_r);return or(lr,sr),lr},et.scalarMult.scalarLength=xr,et.scalarMult.groupElementLength=_r,et.box=function(sr,lr,ur,Jt){var fr=et.box.before(ur,Jt);return et.secretbox(sr,lr,fr)},et.box.before=function(sr,lr){rn(sr,lr),In(sr,lr);var ur=new Uint8Array(Pr);return $t(ur,sr,lr),ur},et.box.after=et.secretbox,et.box.open=function(sr,lr,ur,Jt){var fr=et.box.before(ur,Jt);return et.secretbox.open(sr,lr,fr)},et.box.open.after=et.secretbox.open,et.box.keyPair=function(){var sr=new Uint8Array(Xr),lr=new Uint8Array(dr);return rr(sr,lr),{publicKey:sr,secretKey:lr}},et.box.keyPair.fromSecretKey=function(sr){if(rn(sr),sr.length!==dr)throw new Error("bad secret key size");var lr=new Uint8Array(Xr);return or(lr,sr),{publicKey:lr,secretKey:new Uint8Array(sr)}},et.box.publicKeyLength=Xr,et.box.secretKeyLength=dr,et.box.sharedKeyLength=Pr,et.box.nonceLength=Jr,et.box.overheadLength=et.secretbox.overheadLength,et.sign=function(sr,lr){if(rn(sr,lr),lr.length!==Kr)throw new Error("bad secret key size");var ur=new Uint8Array(Zr+sr.length);return an(ur,sr,sr.length,lr),ur},et.sign.open=function(sr,lr){if(rn(sr,lr),lr.length!==Or)throw new Error("bad public key size");var ur=new Uint8Array(sr.length),Jt=Dr(ur,sr,sr.length,lr);if(Jt<0)return null;for(var fr=new Uint8Array(Jt),Cr=0;Cr<fr.length;Cr++)fr[Cr]=ur[Cr];return fr},et.sign.detached=function(sr,lr){for(var ur=et.sign(sr,lr),Jt=new Uint8Array(Zr),fr=0;fr<Jt.length;fr++)Jt[fr]=ur[fr];return Jt},et.sign.detached.verify=function(sr,lr,ur){if(rn(sr,lr,ur),lr.length!==Zr)throw new Error("bad signature size");if(ur.length!==Or)throw new Error("bad public key size");var Jt=new Uint8Array(Zr+sr.length),fr=new Uint8Array(Zr+sr.length),Cr;for(Cr=0;Cr<Zr;Cr++)Jt[Cr]=lr[Cr];for(Cr=0;Cr<sr.length;Cr++)Jt[Cr+Zr]=sr[Cr];return Dr(fr,Jt,Jt.length,ur)>=0},et.sign.keyPair=function(){var sr=new Uint8Array(Or),lr=new Uint8Array(Kr);return yr(sr,lr),{publicKey:sr,secretKey:lr}},et.sign.keyPair.fromSecretKey=function(sr){if(rn(sr),sr.length!==Kr)throw new Error("bad secret key size");for(var lr=new Uint8Array(Or),ur=0;ur<lr.length;ur++)lr[ur]=sr[32+ur];return{publicKey:lr,secretKey:new Uint8Array(sr)}},et.sign.keyPair.fromSeed=function(sr){if(rn(sr),sr.length!==Pn)throw new Error("bad seed size");for(var lr=new Uint8Array(Or),ur=new Uint8Array(Kr),Jt=0;Jt<32;Jt++)ur[Jt]=sr[Jt];return yr(lr,ur,!0),{publicKey:lr,secretKey:ur}},et.sign.publicKeyLength=Or,et.sign.secretKeyLength=Kr,et.sign.seedLength=Pn,et.sign.signatureLength=Zr,et.hash=function(sr){rn(sr);var lr=new Uint8Array(Yr);return tr(lr,sr,sr.length),lr},et.hash.hashLength=Yr,et.verify=function(sr,lr){return rn(sr,lr),sr.length===0||lr.length===0||sr.length!==lr.length?!1:St(sr,0,lr,0,sr.length)===0},et.setPRNG=function(sr){nt=sr},function(){var sr=typeof self<"u"?self.crypto||self.msCrypto:null;if(sr&&sr.getRandomValues){var lr=65536;et.setPRNG(function(ur,Jt){var fr,Cr=new Uint8Array(Jt);for(fr=0;fr<Jt;fr+=lr)sr.getRandomValues(Cr.subarray(fr,fr+Math.min(Jt-fr,lr)));for(fr=0;fr<Jt;fr++)ur[fr]=Cr[fr];Vr(Cr)})}else typeof commonjsRequire<"u"&&(sr=requireCryptoBrowserify(),sr&&sr.randomBytes&&et.setPRNG(function(ur,Jt){var fr,Cr=sr.randomBytes(Jt);for(fr=0;fr<Jt;fr++)ur[fr]=Cr[fr];Vr(Cr)}))}()})(rt.exports?rt.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl$1=getDefaultExportFromCjs(naclFastExports);var CONNECT_EVENT_ERROR_CODES;(function(rt){rt[rt.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",rt[rt.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",rt[rt.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",rt[rt.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",rt[rt.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",rt[rt.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",rt[rt.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_EVENT_ERROR_CODES||(CONNECT_EVENT_ERROR_CODES={}));var CONNECT_ITEM_ERROR_CODES;(function(rt){rt[rt.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",rt[rt.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_ITEM_ERROR_CODES||(CONNECT_ITEM_ERROR_CODES={}));var SEND_TRANSACTION_ERROR_CODES;(function(rt){rt[rt.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",rt[rt.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",rt[rt.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",rt[rt.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",rt[rt.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SEND_TRANSACTION_ERROR_CODES||(SEND_TRANSACTION_ERROR_CODES={}));var SIGN_DATA_ERROR_CODES;(function(rt){rt[rt.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",rt[rt.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",rt[rt.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",rt[rt.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",rt[rt.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SIGN_DATA_ERROR_CODES||(SIGN_DATA_ERROR_CODES={}));var DISCONNECT_ERROR_CODES;(function(rt){rt[rt.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",rt[rt.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",rt[rt.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",rt[rt.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(DISCONNECT_ERROR_CODES||(DISCONNECT_ERROR_CODES={}));var CHAIN;(function(rt){rt.MAINNET="-239",rt.TESTNET="-3"})(CHAIN||(CHAIN={}));function encodeUint8Array(rt,et){const tt=nacl.encodeBase64(rt);return et?encodeURIComponent(tt):tt}function decodeToUint8Array(rt,et){return et&&(rt=decodeURIComponent(rt)),nacl.decodeBase64(rt)}function encode$2(rt,et=!1){let tt;return rt instanceof Uint8Array?tt=rt:(typeof rt!="string"&&(rt=JSON.stringify(rt)),tt=nacl.decodeUTF8(rt)),encodeUint8Array(tt,et)}function decode(rt,et=!1){const tt=decodeToUint8Array(rt,et);return{toString(){return nacl.encodeUTF8(tt)},toObject(){try{return JSON.parse(nacl.encodeUTF8(tt))}catch{return null}},toUint8Array(){return tt}}}const Base64={encode:encode$2,decode};function concatUint8Arrays(rt,et){const tt=new Uint8Array(rt.length+et.length);return tt.set(rt),tt.set(et,rt.length),tt}function splitToUint8Arrays(rt,et){if(et>=rt.length)throw new Error("Index is out of buffer");const tt=rt.slice(0,et),nt=rt.slice(et);return[tt,nt]}function toHexString(rt){let et="";return rt.forEach(tt=>{et+=("0"+(tt&255).toString(16)).slice(-2)}),et}function hexToByteArray(rt){if(rt.length%2!==0)throw new Error(`Cannot convert ${rt} to bytesArray`);const et=new Uint8Array(rt.length/2);for(let tt=0;tt<rt.length;tt+=2)et[tt/2]=parseInt(rt.slice(tt,tt+2),16);return et}class SessionCrypto{constructor(et){this.nonceLength=24,this.keyPair=et?this.createKeypairFromString(et):this.createKeypair(),this.sessionId=toHexString(this.keyPair.publicKey)}createKeypair(){return nacl$1.box.keyPair()}createKeypairFromString(et){return{publicKey:hexToByteArray(et.publicKey),secretKey:hexToByteArray(et.secretKey)}}createNonce(){return nacl$1.randomBytes(this.nonceLength)}encrypt(et,tt){const nt=new TextEncoder().encode(et),ot=this.createNonce(),it=nacl$1.box(nt,ot,tt,this.keyPair.secretKey);return concatUint8Arrays(ot,it)}decrypt(et,tt){const[nt,ot]=splitToUint8Arrays(et,this.nonceLength),it=nacl$1.box.open(ot,nt,tt,this.keyPair.secretKey);if(!it)throw new Error(`Decryption error: 
 message: ${et.toString()} 
 sender pubkey: ${tt.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(it)}stringifyKeypair(){return{publicKey:toHexString(this.keyPair.publicKey),secretKey:toHexString(this.keyPair.secretKey)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(rt,et){var tt={};for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&et.indexOf(nt)<0&&(tt[nt]=rt[nt]);if(rt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ot=0,nt=Object.getOwnPropertySymbols(rt);ot<nt.length;ot++)et.indexOf(nt[ot])<0&&Object.prototype.propertyIsEnumerable.call(rt,nt[ot])&&(tt[nt[ot]]=rt[nt[ot]]);return tt}function __awaiter(rt,et,tt,nt){function ot(it){return it instanceof tt?it:new tt(function(at){at(it)})}return new(tt||(tt=Promise))(function(it,at){function st(ht){try{ft(nt.next(ht))}catch(mt){at(mt)}}function ut(ht){try{ft(nt.throw(ht))}catch(mt){at(mt)}}function ft(ht){ht.done?it(ht.value):ot(ht.value).then(st,ut)}ft((nt=nt.apply(rt,et||[])).next())})}class TonConnectError extends Error{constructor(et,tt){super(et,tt),this.message=`${TonConnectError.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${et?`
`+et:""}`,Object.setPrototypeOf(this,TonConnectError.prototype)}get info(){return""}}TonConnectError.prefix="[TON_CONNECT_SDK_ERROR]";class DappMetadataError extends TonConnectError{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...et){super(...et),Object.setPrototypeOf(this,DappMetadataError.prototype)}}class ManifestContentErrorError extends TonConnectError{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...et){super(...et),Object.setPrototypeOf(this,ManifestContentErrorError.prototype)}}class ManifestNotFoundError extends TonConnectError{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...et){super(...et),Object.setPrototypeOf(this,ManifestNotFoundError.prototype)}}class WalletAlreadyConnectedError extends TonConnectError{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...et){super(...et),Object.setPrototypeOf(this,WalletAlreadyConnectedError.prototype)}}class WalletNotConnectedError extends TonConnectError{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...et){super(...et),Object.setPrototypeOf(this,WalletNotConnectedError.prototype)}}class WalletNotInjectedError extends TonConnectError{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...et){super(...et),Object.setPrototypeOf(this,WalletNotInjectedError.prototype)}}class WalletNotSupportFeatureError extends TonConnectError{get info(){return"Wallet doesn't support requested feature method."}constructor(...et){super(...et),Object.setPrototypeOf(this,WalletNotSupportFeatureError.prototype)}}class WalletMissingRequiredFeaturesError extends TonConnectError{get info(){return"Missing required features. You need to update your wallet."}constructor(et,tt){super(et,tt),Object.setPrototypeOf(this,WalletMissingRequiredFeaturesError.prototype)}}function isWalletConnectionSourceJS(rt){return"jsBridgeKey"in rt}class UserRejectsError extends TonConnectError{get info(){return"User rejects the action in the wallet."}constructor(...et){super(...et),Object.setPrototypeOf(this,UserRejectsError.prototype)}}class BadRequestError extends TonConnectError{get info(){return"Request to the wallet contains errors."}constructor(...et){super(...et),Object.setPrototypeOf(this,BadRequestError.prototype)}}class UnknownAppError extends TonConnectError{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...et){super(...et),Object.setPrototypeOf(this,UnknownAppError.prototype)}}class FetchWalletsError extends TonConnectError{get info(){return"An error occurred while fetching the wallets list."}constructor(...et){super(...et),Object.setPrototypeOf(this,FetchWalletsError.prototype)}}class WrongAddressError extends TonConnectError{get info(){return"Passed address is in incorrect format."}constructor(...et){super(...et),Object.setPrototypeOf(this,WrongAddressError.prototype)}}class ParseHexError extends TonConnectError{get info(){return"Passed hex is in incorrect format."}constructor(...et){super(...et),Object.setPrototypeOf(this,ParseHexError.prototype)}}class UnknownError extends TonConnectError{constructor(...et){super(...et),Object.setPrototypeOf(this,UnknownError.prototype)}}const connectEventErrorsCodes={[CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[CONNECT_EVENT_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_NOT_FOUND_ERROR]:ManifestNotFoundError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR]:ManifestContentErrorError};class ConnectErrorsParser{parseError(et){let tt=UnknownError;return et.code in connectEventErrorsCodes&&(tt=connectEventErrorsCodes[et.code]||UnknownError),new tt(et.message)}}const connectErrorsParser=new ConnectErrorsParser;class RpcParser{isError(et){return"error"in et}}const sendTransactionErrors={[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError};class SendTransactionParser extends RpcParser{convertToRpcRequest(et){return{method:"sendTransaction",params:[JSON.stringify(et)]}}parseAndThrowError(et){let tt=UnknownError;throw et.error.code in sendTransactionErrors&&(tt=sendTransactionErrors[et.error.code]||UnknownError),new tt(et.error.message)}convertFromRpcResponse(et){return{boc:et.result}}}const sendTransactionParser=new SendTransactionParser;class HttpBridgeGatewayStorage{constructor(et,tt){this.storage=et,this.storeKey="ton-connect-storage_http-bridge-gateway::"+tt}storeLastEventId(et){return __awaiter(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,et)})}removeLastEventId(){return __awaiter(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.storage.getItem(this.storeKey);return et||null})}}function removeUrlLastSlash(rt){return rt.slice(-1)==="/"?rt.slice(0,-1):rt}function addPathToUrl(rt,et){return removeUrlLastSlash(rt)+"/"+et}function isTelegramUrl(rt){if(!rt)return!1;const et=new URL(rt);return et.protocol==="tg:"||et.hostname==="t.me"}function encodeTelegramUrlParameters(rt){return rt.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}function delay(rt,et){return __awaiter(this,void 0,void 0,function*(){return new Promise((tt,nt)=>{var ot,it;if(!((ot=et==null?void 0:et.signal)===null||ot===void 0)&&ot.aborted){nt(new TonConnectError("Delay aborted"));return}const at=setTimeout(()=>tt(),rt);(it=et==null?void 0:et.signal)===null||it===void 0||it.addEventListener("abort",()=>{clearTimeout(at),nt(new TonConnectError("Delay aborted"))})})})}function createAbortController(rt){const et=new AbortController;return rt!=null&&rt.aborted?et.abort():rt==null||rt.addEventListener("abort",()=>et.abort(),{once:!0}),et}function callForSuccess(rt,et){var tt,nt;return __awaiter(this,void 0,void 0,function*(){const ot=(tt=et==null?void 0:et.attempts)!==null&&tt!==void 0?tt:10,it=(nt=et==null?void 0:et.delayMs)!==null&&nt!==void 0?nt:200,at=createAbortController(et==null?void 0:et.signal);if(typeof rt!="function")throw new TonConnectError(`Expected a function, got ${typeof rt}`);let st=0,ut;for(;st<ot;){if(at.signal.aborted)throw new TonConnectError(`Aborted after attempts ${st}`);try{return yield rt({signal:at.signal})}catch(ft){ut=ft,st++,st<ot&&(yield delay(it))}}throw ut})}function logDebug$1(...rt){try{console.debug("[TON_CONNECT_SDK]",...rt)}catch{}}function logError$1(...rt){try{console.error("[TON_CONNECT_SDK]",...rt)}catch{}}function logWarning$1(...rt){try{console.warn("[TON_CONNECT_SDK]",...rt)}catch{}}function createResource$1(rt,et){let tt=null,nt=null,ot=null,it=null,at=null;const st=(mt,...gt)=>__awaiter(this,void 0,void 0,function*(){if(it=mt??null,at==null||at.abort(),at=createAbortController(mt),at.signal.aborted)throw new TonConnectError("Resource creation was aborted");nt=gt??null;const yt=rt(at.signal,...gt);ot=yt;const xt=yield yt;if(ot!==yt&&xt!==tt)throw yield et(xt),new TonConnectError("Resource creation was aborted by a new resource creation");return tt=xt,tt});return{create:st,current:()=>tt??null,dispose:()=>__awaiter(this,void 0,void 0,function*(){try{const mt=tt;tt=null;const gt=ot;ot=null;try{at==null||at.abort()}catch{}yield Promise.allSettled([mt?et(mt):Promise.resolve(),gt?et(yield gt):Promise.resolve()])}catch{}}),recreate:mt=>__awaiter(this,void 0,void 0,function*(){const gt=tt,yt=ot,xt=nt,St=it;if(yield delay(mt),gt===tt&&yt===ot&&xt===nt&&St===it)return yield st(it,...xt??[]);throw new TonConnectError("Resource recreation was aborted by a new resource creation")})}}function timeout(rt,et){const tt=et==null?void 0:et.timeout,nt=et==null?void 0:et.signal,ot=createAbortController(nt);return new Promise((it,at)=>__awaiter(this,void 0,void 0,function*(){if(ot.signal.aborted){at(new TonConnectError("Operation aborted"));return}let st;typeof tt<"u"&&(st=setTimeout(()=>{ot.abort(),at(new TonConnectError(`Timeout after ${tt}ms`))},tt)),ot.signal.addEventListener("abort",()=>{clearTimeout(st),at(new TonConnectError("Operation aborted"))},{once:!0});const ut={timeout:tt,abort:ot.signal};yield rt((...ft)=>{clearTimeout(st),it(...ft)},()=>{clearTimeout(st),at()},ut)}))}class BridgeGateway{constructor(et,tt,nt,ot,it){this.bridgeUrl=tt,this.sessionId=nt,this.listener=ot,this.errorsListener=it,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.defaultReconnectDelay=2e3,this.defaultResendDelay=5e3,this.eventSource=createResource$1((at,st)=>__awaiter(this,void 0,void 0,function*(){const ut={bridgeUrl:this.bridgeUrl,ssePath:this.ssePath,sessionId:this.sessionId,bridgeGatewayStorage:this.bridgeGatewayStorage,errorHandler:this.errorsHandler.bind(this),messageHandler:this.messagesHandler.bind(this),signal:at,openingDeadlineMS:st};return yield createEventSource(ut)}),at=>__awaiter(this,void 0,void 0,function*(){at.close()})),this.bridgeGatewayStorage=new HttpBridgeGatewayStorage(et,tt)}get isReady(){const et=this.eventSource.current();return(et==null?void 0:et.readyState)===EventSource.OPEN}get isClosed(){const et=this.eventSource.current();return(et==null?void 0:et.readyState)!==EventSource.OPEN}get isConnecting(){const et=this.eventSource.current();return(et==null?void 0:et.readyState)===EventSource.CONNECTING}registerSession(et){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.create(et==null?void 0:et.signal,et==null?void 0:et.openingDeadlineMS)})}send(et,tt,nt,ot){var it;return __awaiter(this,void 0,void 0,function*(){const at={};typeof ot=="number"?at.ttl=ot:(at.ttl=ot==null?void 0:ot.ttl,at.signal=ot==null?void 0:ot.signal,at.attempts=ot==null?void 0:ot.attempts);const st=new URL(addPathToUrl(this.bridgeUrl,this.postPath));st.searchParams.append("client_id",this.sessionId),st.searchParams.append("to",tt),st.searchParams.append("ttl",((at==null?void 0:at.ttl)||this.defaultTtl).toString()),st.searchParams.append("topic",nt);const ut=Base64.encode(et);yield callForSuccess(ft=>__awaiter(this,void 0,void 0,function*(){const ht=yield this.post(st,ut,ft.signal);if(!ht.ok)throw new TonConnectError(`Bridge send failed, status ${ht.status}`)}),{attempts:(it=at==null?void 0:at.attempts)!==null&&it!==void 0?it:Number.MAX_SAFE_INTEGER,delayMs:this.defaultResendDelay,signal:at==null?void 0:at.signal})})}pause(){this.eventSource.dispose().catch(et=>logError$1(`Bridge pause failed, ${et}`))}unPause(){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.recreate(0)})}close(){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.dispose().catch(et=>logError$1(`Bridge close failed, ${et}`))})}setListener(et){this.listener=et}setErrorsListener(et){this.errorsListener=et}post(et,tt,nt){return __awaiter(this,void 0,void 0,function*(){const ot=yield fetch(et,{method:"post",body:tt,signal:nt});if(!ot.ok)throw new TonConnectError(`Bridge send failed, status ${ot.status}`);return ot})}errorsHandler(et,tt){return __awaiter(this,void 0,void 0,function*(){if(this.isConnecting)throw et.close(),new TonConnectError("Bridge error, failed to connect");if(this.isReady){try{this.errorsListener(tt)}catch{}return}if(this.isClosed)return et.close(),logDebug$1(`Bridge reconnecting, ${this.defaultReconnectDelay}ms delay`),yield this.eventSource.recreate(this.defaultReconnectDelay);throw new TonConnectError("Bridge error, unknown state")})}messagesHandler(et){return __awaiter(this,void 0,void 0,function*(){if(et.data===this.heartbeatMessage||(yield this.bridgeGatewayStorage.storeLastEventId(et.lastEventId),this.isClosed))return;let tt;try{tt=JSON.parse(et.data)}catch(nt){throw new TonConnectError(`Bridge message parse failed, message ${nt.data}`)}this.listener(tt)})}}function createEventSource(rt){return __awaiter(this,void 0,void 0,function*(){return yield timeout((et,tt,nt)=>__awaiter(this,void 0,void 0,function*(){var ot;const at=createAbortController(nt.signal).signal;if(at.aborted){tt(new TonConnectError("Bridge connection aborted"));return}const st=new URL(addPathToUrl(rt.bridgeUrl,rt.ssePath));st.searchParams.append("client_id",rt.sessionId);const ut=yield rt.bridgeGatewayStorage.getLastEventId();if(ut&&st.searchParams.append("last_event_id",ut),at.aborted){tt(new TonConnectError("Bridge connection aborted"));return}const ft=new EventSource(st.toString());ft.onerror=ht=>__awaiter(this,void 0,void 0,function*(){if(at.aborted){ft.close(),tt(new TonConnectError("Bridge connection aborted"));return}try{const mt=yield rt.errorHandler(ft,ht);mt!==ft&&ft.close(),mt&&mt!==ft&&et(mt)}catch(mt){ft.close(),tt(mt)}}),ft.onopen=()=>{if(at.aborted){ft.close(),tt(new TonConnectError("Bridge connection aborted"));return}et(ft)},ft.onmessage=ht=>{if(at.aborted){ft.close(),tt(new TonConnectError("Bridge connection aborted"));return}rt.messageHandler(ht)},(ot=rt.signal)===null||ot===void 0||ot.addEventListener("abort",()=>{ft.close(),tt(new TonConnectError("Bridge connection aborted"))})}),{timeout:rt.openingDeadlineMS,signal:rt.signal})})}function isPendingConnectionHttp(rt){return!("connectEvent"in rt)}class BridgeConnectionStorage{constructor(et){this.storage=et,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(et){return __awaiter(this,void 0,void 0,function*(){if(et.type==="injected")return this.storage.setItem(this.storeKey,JSON.stringify(et));if(!isPendingConnectionHttp(et)){const nt={sessionKeyPair:et.session.sessionCrypto.stringifyKeypair(),walletPublicKey:et.session.walletPublicKey,bridgeUrl:et.session.bridgeUrl},ot={type:"http",connectEvent:et.connectEvent,session:nt,lastWalletEventId:et.lastWalletEventId,nextRpcRequestId:et.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(ot))}const tt={type:"http",connectionSource:et.connectionSource,sessionCrypto:et.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(tt))})}removeConnection(){return __awaiter(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.storage.getItem(this.storeKey);if(!et)return null;const tt=JSON.parse(et);if(tt.type==="injected")return tt;if("connectEvent"in tt){const nt=new SessionCrypto(tt.session.sessionKeyPair);return{type:"http",connectEvent:tt.connectEvent,lastWalletEventId:tt.lastWalletEventId,nextRpcRequestId:tt.nextRpcRequestId,session:{sessionCrypto:nt,bridgeUrl:tt.session.bridgeUrl,walletPublicKey:tt.session.walletPublicKey}}}return{type:"http",sessionCrypto:new SessionCrypto(tt.sessionCrypto),connectionSource:tt.connectionSource}})}getHttpConnection(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();if(!et)throw new TonConnectError("Trying to read HTTP connection source while nothing is stored");if(et.type==="injected")throw new TonConnectError("Trying to read HTTP connection source while injected connection is stored");return et})}getHttpPendingConnection(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();if(!et)throw new TonConnectError("Trying to read HTTP connection source while nothing is stored");if(et.type==="injected")throw new TonConnectError("Trying to read HTTP connection source while injected connection is stored");if(!isPendingConnectionHttp(et))throw new TonConnectError("Trying to read HTTP-pending connection while http connection is stored");return et})}getInjectedConnection(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();if(!et)throw new TonConnectError("Trying to read Injected bridge connection source while nothing is stored");if((et==null?void 0:et.type)==="http")throw new TonConnectError("Trying to read Injected bridge connection source while HTTP connection is stored");return et})}storedConnectionType(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.storage.getItem(this.storeKey);return et?JSON.parse(et).type:null})}storeLastWalletEventId(et){return __awaiter(this,void 0,void 0,function*(){const tt=yield this.getConnection();if(tt&&tt.type==="http"&&!isPendingConnectionHttp(tt))return tt.lastWalletEventId=et,this.storeConnection(tt)})}getLastWalletEventId(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();if(et&&"lastWalletEventId"in et)return et.lastWalletEventId})}increaseNextRpcRequestId(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();if(et&&"nextRpcRequestId"in et){const tt=et.nextRpcRequestId||0;return et.nextRpcRequestId=tt+1,this.storeConnection(et)}})}getNextRpcRequestId(){return __awaiter(this,void 0,void 0,function*(){const et=yield this.getConnection();return et&&"nextRpcRequestId"in et&&et.nextRpcRequestId||0})}}const PROTOCOL_VERSION=2;class BridgeProvider{constructor(et,tt){this.storage=et,this.walletConnectionSource=tt,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.defaultOpeningDeadlineMS=12e3,this.defaultRetryTimeoutMS=2e3,this.connectionStorage=new BridgeConnectionStorage(et)}static fromStorage(et){return __awaiter(this,void 0,void 0,function*(){const nt=yield new BridgeConnectionStorage(et).getHttpConnection();return isPendingConnectionHttp(nt)?new BridgeProvider(et,nt.connectionSource):new BridgeProvider(et,{bridgeUrl:nt.session.bridgeUrl})})}connect(et,tt){var nt;const ot=createAbortController(tt==null?void 0:tt.signal);(nt=this.abortController)===null||nt===void 0||nt.abort(),this.abortController=ot,this.closeGateways();const it=new SessionCrypto;this.session={sessionCrypto:it,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:it}).then(()=>__awaiter(this,void 0,void 0,function*(){ot.signal.aborted||(yield callForSuccess(st=>{var ut;return this.openGateways(it,{openingDeadlineMS:(ut=tt==null?void 0:tt.openingDeadlineMS)!==null&&ut!==void 0?ut:this.defaultOpeningDeadlineMS,signal:st==null?void 0:st.signal})},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:ot.signal}))}));const at="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(at,et)}restoreConnection(et){var tt,nt;return __awaiter(this,void 0,void 0,function*(){const ot=createAbortController(et==null?void 0:et.signal);if((tt=this.abortController)===null||tt===void 0||tt.abort(),this.abortController=ot,ot.signal.aborted)return;this.closeGateways();const it=yield this.connectionStorage.getHttpConnection();if(!it||ot.signal.aborted)return;const at=(nt=et==null?void 0:et.openingDeadlineMS)!==null&&nt!==void 0?nt:this.defaultOpeningDeadlineMS;if(isPendingConnectionHttp(it))return this.session={sessionCrypto:it.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},yield this.openGateways(it.sessionCrypto,{openingDeadlineMS:at,signal:ot==null?void 0:ot.signal});if(Array.isArray(this.walletConnectionSource))throw new TonConnectError("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");if(this.session=it.session,this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,it.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),!ot.signal.aborted){this.listeners.forEach(st=>st(it.connectEvent));try{yield callForSuccess(st=>this.gateway.registerSession({openingDeadlineMS:at,signal:st.signal}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:ot.signal})}catch{yield this.disconnect({signal:ot.signal});return}}})}sendRequest(et,tt){const nt={};return typeof tt=="function"?nt.onRequestSent=tt:(nt.onRequestSent=tt==null?void 0:tt.onRequestSent,nt.signal=tt==null?void 0:tt.signal,nt.attempts=tt==null?void 0:tt.attempts),new Promise((ot,it)=>__awaiter(this,void 0,void 0,function*(){var at;if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new TonConnectError("Trying to send bridge request without session");const st=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),logDebug$1("Send http-bridge request:",Object.assign(Object.assign({},et),{id:st}));const ut=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},et),{id:st})),hexToByteArray(this.session.walletPublicKey));try{yield this.gateway.send(ut,this.session.walletPublicKey,et.method,{attempts:nt==null?void 0:nt.attempts,signal:nt==null?void 0:nt.signal}),(at=nt==null?void 0:nt.onRequestSent)===null||at===void 0||at.call(nt),this.pendingRequests.set(st.toString(),ot)}catch(ft){it(ft)}}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(et){return __awaiter(this,void 0,void 0,function*(){return new Promise(tt=>__awaiter(this,void 0,void 0,function*(){let nt=!1,ot=null;const it=()=>{nt||(nt=!0,this.removeBridgeAndSession().then(tt))};try{this.closeGateways();const at=createAbortController(et==null?void 0:et.signal);ot=setTimeout(()=>{at.abort()},this.defaultOpeningDeadlineMS),yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:it,signal:at.signal,attempts:1})}catch(at){logDebug$1("Disconnect error:",at),nt||this.removeBridgeAndSession().then(tt)}finally{ot&&clearTimeout(ot),it()}}))})}listen(et){return this.listeners.push(et),()=>this.listeners=this.listeners.filter(tt=>tt!==et)}pause(){var et;(et=this.gateway)===null||et===void 0||et.pause(),this.pendingGateways.forEach(tt=>tt.pause())}unPause(){return __awaiter(this,void 0,void 0,function*(){const et=this.pendingGateways.map(tt=>tt.unPause());this.gateway&&et.push(this.gateway.unPause()),yield Promise.all(et)})}pendingGatewaysListener(et,tt,nt){return __awaiter(this,void 0,void 0,function*(){if(!this.pendingGateways.includes(et)){yield et.close();return}return this.closeGateways({except:et}),this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.session.bridgeUrl=tt,this.gateway=et,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(nt)})}gatewayListener(et){return __awaiter(this,void 0,void 0,function*(){const tt=JSON.parse(this.session.sessionCrypto.decrypt(Base64.decode(et.message).toUint8Array(),hexToByteArray(et.from)));if(logDebug$1("Wallet message received:",tt),!("event"in tt)){const ot=tt.id.toString(),it=this.pendingRequests.get(ot);if(!it){logDebug$1(`Response id ${ot} doesn't match any request's id`);return}it(tt),this.pendingRequests.delete(ot);return}if(tt.id!==void 0){const ot=yield this.connectionStorage.getLastWalletEventId();if(ot!==void 0&&tt.id<=ot){logError$1(`Received event id (=${tt.id}) must be greater than stored last wallet event id (=${ot}) `);return}tt.event!=="connect"&&(yield this.connectionStorage.storeLastWalletEventId(tt.id))}const nt=this.listeners;tt.event==="connect"&&(yield this.updateSession(tt,et.from)),tt.event==="disconnect"&&(logDebug$1("Removing bridge and session: received disconnect event"),yield this.removeBridgeAndSession()),nt.forEach(ot=>ot(tt))})}gatewayErrorsListener(et){return __awaiter(this,void 0,void 0,function*(){throw new TonConnectError(`Bridge error ${JSON.stringify(et)}`)})}updateSession(et,tt){return __awaiter(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:tt});const nt=et.payload.items.find(it=>it.name==="ton_addr"),ot=Object.assign(Object.assign({},et),{payload:Object.assign(Object.assign({},et.payload),{items:[nt]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:et.id,connectEvent:ot,nextRpcRequestId:0})})}removeBridgeAndSession(){return __awaiter(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(et,tt){return isTelegramUrl(et)?this.generateTGUniversalLink(et,tt):this.generateRegularUniversalLink(et,tt)}generateRegularUniversalLink(et,tt){const nt=new URL(et);return nt.searchParams.append("v",PROTOCOL_VERSION.toString()),nt.searchParams.append("id",this.session.sessionCrypto.sessionId),nt.searchParams.append("r",JSON.stringify(tt)),nt.toString()}generateTGUniversalLink(et,tt){const ot=this.generateRegularUniversalLink("about:blank",tt).split("?")[1],it="tonconnect-"+encodeTelegramUrlParameters(ot),at=this.convertToDirectLink(et),st=new URL(at);return st.searchParams.append("startapp",it),st.toString()}convertToDirectLink(et){const tt=new URL(et);return tt.searchParams.has("attach")&&(tt.searchParams.delete("attach"),tt.pathname+="/start"),tt.toString()}openGateways(et,tt){return __awaiter(this,void 0,void 0,function*(){if(Array.isArray(this.walletConnectionSource)){this.pendingGateways.map(nt=>nt.close().catch()),this.pendingGateways=this.walletConnectionSource.map(nt=>{const ot=new BridgeGateway(this.storage,nt.bridgeUrl,et.sessionId,()=>{},()=>{});return ot.setListener(it=>this.pendingGatewaysListener(ot,nt.bridgeUrl,it)),ot}),yield Promise.allSettled(this.pendingGateways.map(nt=>callForSuccess(ot=>{var it;return this.pendingGateways.some(at=>at===nt)?nt.registerSession({openingDeadlineMS:(it=tt==null?void 0:tt.openingDeadlineMS)!==null&&it!==void 0?it:this.defaultOpeningDeadlineMS,signal:ot.signal}):nt.close()},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:tt==null?void 0:tt.signal})));return}else return this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,et.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.gateway.registerSession({openingDeadlineMS:tt==null?void 0:tt.openingDeadlineMS,signal:tt==null?void 0:tt.signal})})}closeGateways(et){var tt;(tt=this.gateway)===null||tt===void 0||tt.close(),this.pendingGateways.filter(nt=>nt!==(et==null?void 0:et.except)).forEach(nt=>nt.close()),this.pendingGateways=[]}}function hasProperty(rt,et){return hasProperties(rt,[et])}function hasProperties(rt,et){return!rt||typeof rt!="object"?!1:et.every(tt=>tt in rt)}function isJSBridgeWithMetadata(rt){try{return!hasProperty(rt,"tonconnect")||!hasProperty(rt.tonconnect,"walletInfo")?!1:hasProperties(rt.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch{return!1}}let InMemoryStorage$1=class Ul{constructor(){this.storage={}}static getInstance(){return Ul.instance||(Ul.instance=new Ul),Ul.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(et){var tt;return(tt=this.storage[et])!==null&&tt!==void 0?tt:null}key(et){var tt;const nt=Object.keys(this.storage);return et<0||et>=nt.length?null:(tt=nt[et])!==null&&tt!==void 0?tt:null}removeItem(et){delete this.storage[et]}setItem(et,tt){this.storage[et]=tt}};function getWindow$2(){if(!(typeof window>"u"))return window}function tryGetWindowKeys(){const rt=getWindow$2();if(!rt)return[];try{return Object.keys(rt)}catch{return[]}}function getDocument(){if(!(typeof document>"u"))return document}function getWebPageManifest(){var rt;const et=(rt=getWindow$2())===null||rt===void 0?void 0:rt.location.origin;return et?et+"/tonconnect-manifest.json":""}function tryGetLocalStorage$1(){if(isLocalStorageAvailable$1())return localStorage;if(isNodeJs$1())throw new TonConnectError("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return InMemoryStorage$1.getInstance()}function isLocalStorageAvailable$1(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs$1(){return typeof api$2<"u"&&api$2.versions!=null&&api$2.versions.node!=null}class InjectedProvider{constructor(et,tt){this.injectedWalletKey=tt,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];const nt=InjectedProvider.window;if(!InjectedProvider.isWindowContainsWallet(nt,tt))throw new WalletNotInjectedError;this.connectionStorage=new BridgeConnectionStorage(et),this.injectedWallet=nt[tt].tonconnect}static fromStorage(et){return __awaiter(this,void 0,void 0,function*(){const nt=yield new BridgeConnectionStorage(et).getInjectedConnection();return new InjectedProvider(et,nt.jsBridgeKey)})}static isWalletInjected(et){return InjectedProvider.isWindowContainsWallet(this.window,et)}static isInsideWalletBrowser(et){return InjectedProvider.isWindowContainsWallet(this.window,et)?this.window[et].tonconnect.isWalletBrowser:!1}static getCurrentlyInjectedWallets(){return this.window?tryGetWindowKeys().filter(([nt,ot])=>isJSBridgeWithMetadata(ot)).map(([nt,ot])=>({name:ot.tonconnect.walletInfo.name,appName:ot.tonconnect.walletInfo.app_name,aboutUrl:ot.tonconnect.walletInfo.about_url,imageUrl:ot.tonconnect.walletInfo.image,tondns:ot.tonconnect.walletInfo.tondns,jsBridgeKey:nt,injected:!0,embedded:ot.tonconnect.isWalletBrowser,platforms:ot.tonconnect.walletInfo.platforms,features:ot.tonconnect.walletInfo.features})):[]}static isWindowContainsWallet(et,tt){return!!et&&tt in et&&typeof et[tt]=="object"&&"tonconnect"in et[tt]}connect(et){this._connect(PROTOCOL_VERSION,et)}restoreConnection(){return __awaiter(this,void 0,void 0,function*(){try{logDebug$1("Injected Provider restoring connection...");const et=yield this.injectedWallet.restoreConnection();logDebug$1("Injected Provider restoring connection response",et),et.event==="connect"?(this.makeSubscriptions(),this.listeners.forEach(tt=>tt(et))):yield this.connectionStorage.removeConnection()}catch(et){yield this.connectionStorage.removeConnection(),console.error(et)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return __awaiter(this,void 0,void 0,function*(){return new Promise(et=>{const tt=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(et)};try{this.injectedWallet.disconnect(),tt()}catch(nt){logDebug$1(nt),this.sendRequest({method:"disconnect",params:[]},tt)}})})}closeAllListeners(){var et;this.listenSubscriptions=!1,this.listeners=[],(et=this.unsubscribeCallback)===null||et===void 0||et.call(this)}listen(et){return this.listeners.push(et),()=>this.listeners=this.listeners.filter(tt=>tt!==et)}sendRequest(et,tt){var nt;return __awaiter(this,void 0,void 0,function*(){const ot={};typeof tt=="function"?ot.onRequestSent=tt:(ot.onRequestSent=tt==null?void 0:tt.onRequestSent,ot.signal=tt==null?void 0:tt.signal);const it=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),logDebug$1("Send injected-bridge request:",Object.assign(Object.assign({},et),{id:it}));const at=this.injectedWallet.send(Object.assign(Object.assign({},et),{id:it}));return at.then(st=>logDebug$1("Wallet message received:",st)),(nt=ot==null?void 0:ot.onRequestSent)===null||nt===void 0||nt.call(ot),at})}_connect(et,tt){return __awaiter(this,void 0,void 0,function*(){try{logDebug$1(`Injected Provider connect request: protocolVersion: ${et}, message:`,tt);const nt=yield this.injectedWallet.connect(et,tt);logDebug$1("Injected Provider connect response:",nt),nt.event==="connect"&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(ot=>ot(nt))}catch(nt){logDebug$1("Injected Provider connect error:",nt);const ot={event:"connect_error",payload:{code:0,message:nt==null?void 0:nt.toString()}};this.listeners.forEach(it=>it(ot))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(et=>{logDebug$1("Wallet message received:",et),this.listenSubscriptions&&this.listeners.forEach(tt=>tt(et)),et.event==="disconnect"&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}InjectedProvider.window=getWindow$2();class DefaultStorage{constructor(){this.localStorage=tryGetLocalStorage$1()}getItem(et){return __awaiter(this,void 0,void 0,function*(){return this.localStorage.getItem(et)})}removeItem(et){return __awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(et)})}setItem(et,tt){return __awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(et,tt)})}}function isWalletInfoCurrentlyInjected(rt){return isWalletInfoInjectable(rt)&&rt.injected}function isWalletInfoCurrentlyEmbedded(rt){return isWalletInfoCurrentlyInjected(rt)&&rt.embedded}function isWalletInfoInjectable(rt){return"jsBridgeKey"in rt}function isWalletInfoRemote(rt){return"bridgeUrl"in rt}const FALLBACK_WALLETS_LIST=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://walletbot.me/tonconnect-bridge/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://static.mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"bitgetTonWallet",name:"Bitget Wallet",image:"https://raw.githubusercontent.com/bitgetwallet/download/refs/heads/main/logo/png/bitget_wallet_logo_288_mini.png",about_url:"https://web3.bitget.com",deepLink:"bitkeep://",bridge:[{type:"js",key:"bitgetTonWallet"},{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","chrome"],universal_url:"https://bkcode.vip/ton-connect"},{app_name:"okxMiniWallet",name:"OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/2411/8BE1A4A434D8F58A.png",about_url:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"binanceWeb3TonWallet",name:"Binance Web3 Wallet",image:"https://public.bnbstatic.com/static/binance-w3w/ton-provider/binancew3w.png",about_url:"https://www.binance.com/en/web3wallet",deepLink:"bnc://app.binance.com/cedefi/ton-connect",bridge:[{type:"js",key:"binancew3w"},{type:"sse",url:"https://wallet.binance.com/tonbridge/bridge"}],platforms:["ios","android","macos","windows","linux"],universal_url:"https://app.binance.com/cedefi/ton-connect"},{app_name:"fintopio-tg",name:"Fintopio",image:"https://fintopio.com/tonconnect-icon.png",about_url:"https://fintopio.com",universal_url:"https://t.me/fintopio?attach=wallet",bridge:[{type:"sse",url:"https://wallet-bridge.fintopio.com/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download?appendQuery=true&deeplink=okx://web3/wallet/tonconnect",bridge:[{type:"js",key:"okxTonWallet"},{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]},{app_name:"hot",name:"HOT",image:"https://raw.githubusercontent.com/hot-dao/media/main/logo.png",about_url:"https://hot-labs.org/",universal_url:"https://t.me/herewalletbot?attach=wallet",bridge:[{type:"sse",url:"https://sse-bridge.hot-labs.org"},{type:"js",key:"hotWallet"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"bybitTonWallet",name:"Bybit Wallet",image:"https://raw.githubusercontent.com/bybit-web3/bybit-web3.github.io/main/docs/images/bybit-logo.png",about_url:"https://www.bybit.com/web3",universal_url:"https://app.bybit.com/ton-connect",deepLink:"bybitapp://",bridge:[{type:"js",key:"bybitTonWallet"},{type:"sse",url:"https://api-node.bybit.com/spot/api/web3/bridge/ton/bridge"}],platforms:["ios","android","chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://raw.githubusercontent.com/delab-team/manifests-images/main/WalletAvatar.png",about_url:"https://delabwallet.com",universal_url:"https://t.me/dewallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.dewallet.pro/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"safepalwallet",name:"SafePal",image:"https://s.pvcliping.com/web/public_image/SafePal_x288.png",tondns:"",about_url:"https://www.safepal.com",universal_url:"https://link.safepal.io/ton-connect",deepLink:"safepal-tc://",bridge:[{type:"sse",url:"https://ton-bridge.safepal.com/tonbridge/v1/bridge"},{type:"js",key:"safepalwallet"}],platforms:["ios","android","chrome","firefox"]},{app_name:"GateWallet",name:"GateWallet",image:"https://img.gatedataimg.com/prd-ordinal-imgs/036f07bb8730716e/gateio-0925.png",about_url:"https://www.gate.io/",bridge:[{type:"js",key:"gatetonwallet"},{type:"sse",url:"https://dapp.gateio.services/tonbridge_api/bridge/v1"}],platforms:["ios","android"],universal_url:"https://gateio.go.link/gateio/web3?adj_t=1ff8khdw_1fu4ccc7"},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"BitgetWeb3",name:"BitgetWeb3",image:"https://img.bitgetimg.com/image/third/1731638059795.png",about_url:"https://www.bitget.com",universal_url:"https://t.me/BitgetOfficialBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","windows","macos","linux"]},{app_name:"tobi",name:"Tobi",image:"https://app.tobiwallet.app/icons/logo-288.png",about_url:"https://tobi.fun",universal_url:"https://t.me/TobiCopilotBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-bridge.tobiwallet.app/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];class WalletsListManager{constructor(et){var tt;this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource=(tt=et==null?void 0:et.walletsListSource)!==null&&tt!==void 0?tt:"https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",this.cacheTTLMs=et==null?void 0:et.cacheTTLMs}getWallets(){return __awaiter(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return __awaiter(this,void 0,void 0,function*(){const tt=(yield this.getWallets()).filter(isWalletInfoCurrentlyEmbedded);return tt.length===1?tt[0]:null})}fetchWalletsList(){return __awaiter(this,void 0,void 0,function*(){let et=[];try{if(et=yield(yield fetch(this.walletsListSource)).json(),!Array.isArray(et))throw new FetchWalletsError("Wrong wallets list format, wallets list must be an array.");const ot=et.filter(it=>!this.isCorrectWalletConfigDTO(it));ot.length&&(logError$1(`Wallet(s) ${ot.map(it=>(it==null?void 0:it.name)||"unknown").join(", ")} config format is wrong. They were removed from the wallets list.`),et=et.filter(it=>this.isCorrectWalletConfigDTO(it)))}catch(nt){logError$1(nt),et=FALLBACK_WALLETS_LIST}let tt=[];try{tt=InjectedProvider.getCurrentlyInjectedWallets()}catch(nt){logError$1(nt)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(et),tt)})}walletConfigDTOListToWalletConfigList(et){return et.map(tt=>{const nt={name:tt.name,appName:tt.app_name,imageUrl:tt.image,aboutUrl:tt.about_url,tondns:tt.tondns,platforms:tt.platforms,features:tt.features};return tt.bridge.forEach(ot=>{if(ot.type==="sse"&&(nt.bridgeUrl=ot.url,nt.universalLink=tt.universal_url,nt.deepLink=tt.deepLink),ot.type==="js"){const it=ot.key;nt.jsBridgeKey=it,nt.injected=InjectedProvider.isWalletInjected(it),nt.embedded=InjectedProvider.isInsideWalletBrowser(it)}}),nt})}mergeWalletsLists(et,tt){return[...new Set(et.concat(tt).map(ot=>ot.name)).values()].map(ot=>{const it=et.find(st=>st.name===ot),at=tt.find(st=>st.name===ot);return Object.assign(Object.assign({},it&&Object.assign({},it)),at&&Object.assign({},at))})}isCorrectWalletConfigDTO(et){if(!et||typeof et!="object")return!1;const tt="name"in et,nt="app_name"in et,ot="image"in et,it="about_url"in et,at="platforms"in et;if(!tt||!ot||!it||!at||!nt||!et.platforms||!Array.isArray(et.platforms)||!et.platforms.length||!("bridge"in et)||!Array.isArray(et.bridge)||!et.bridge.length)return!1;const st=et.bridge;if(st.some(ht=>!ht||typeof ht!="object"||!("type"in ht)))return!1;const ut=st.find(ht=>ht.type==="sse");if(ut&&(!(typeof ut=="object"&&"url"in ut)||!ut.url||!et.universal_url))return!1;const ft=st.find(ht=>ht.type==="js");return!(ft&&(typeof ft!="object"||!("key"in ft)||!ft.key))}}function checkSendTransactionSupport(rt,et){const tt=rt.includes("SendTransaction"),nt=findFeature(rt,"SendTransaction");if(!tt&&!nt)throw new WalletNotSupportFeatureError("Wallet doesn't support SendTransaction feature.");if(et.requireExtraCurrencies&&(!nt||!nt.extraCurrencySupported))throw new WalletNotSupportFeatureError("Wallet is not able to handle such SendTransaction request. Extra currencies support is required.");if(nt&&nt.maxMessages!==void 0){if(nt.maxMessages<et.requiredMessagesNumber)throw new WalletNotSupportFeatureError(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${nt.maxMessages}, but ${et.requiredMessagesNumber} is required.`);return}logWarning$1("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}function checkRequiredWalletFeatures(rt,et){if(typeof et!="object")return!0;const{sendTransaction:tt}=et;if(tt){const nt=findFeature(rt,"SendTransaction");if(!nt||!checkSendTransaction(nt,tt))return!1}return!0}function findFeature(rt,et){return rt.find(tt=>tt&&typeof tt=="object"&&tt.name===et)}function checkSendTransaction(rt,et){const tt=et.minMessages===void 0||et.minMessages<=rt.maxMessages,nt=!et.extraCurrencyRequired||rt.extraCurrencySupported;return!!(tt&&nt)}function createRequestVersionEvent(){return{type:"request-version"}}function createResponseVersionEvent(rt){return{type:"response-version",version:rt}}function createVersionInfo(rt){return{ton_connect_sdk_lib:rt.ton_connect_sdk_lib,ton_connect_ui_lib:rt.ton_connect_ui_lib}}function createConnectionInfo(rt,et){var tt,nt,ot,it,at,st,ut,ft;const mt=((tt=et==null?void 0:et.connectItems)===null||tt===void 0?void 0:tt.tonProof)&&"proof"in et.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(ot=(nt=et==null?void 0:et.account)===null||nt===void 0?void 0:nt.address)!==null&&ot!==void 0?ot:null,wallet_type:(it=et==null?void 0:et.device.appName)!==null&&it!==void 0?it:null,wallet_version:(at=et==null?void 0:et.device.appVersion)!==null&&at!==void 0?at:null,auth_type:mt,custom_data:Object.assign({chain_id:(ut=(st=et==null?void 0:et.account)===null||st===void 0?void 0:st.chain)!==null&&ut!==void 0?ut:null,provider:(ft=et==null?void 0:et.provider)!==null&&ft!==void 0?ft:null},createVersionInfo(rt))}}function createConnectionStartedEvent(rt){return{type:"connection-started",custom_data:createVersionInfo(rt)}}function createConnectionCompletedEvent(rt,et){return Object.assign({type:"connection-completed",is_success:!0},createConnectionInfo(rt,et))}function createConnectionErrorEvent(rt,et,tt){return{type:"connection-error",is_success:!1,error_message:et,error_code:tt??null,custom_data:createVersionInfo(rt)}}function createConnectionRestoringStartedEvent(rt){return{type:"connection-restoring-started",custom_data:createVersionInfo(rt)}}function createConnectionRestoringCompletedEvent(rt,et){return Object.assign({type:"connection-restoring-completed",is_success:!0},createConnectionInfo(rt,et))}function createConnectionRestoringErrorEvent(rt,et){return{type:"connection-restoring-error",is_success:!1,error_message:et,custom_data:createVersionInfo(rt)}}function createTransactionInfo(rt,et){var tt,nt,ot,it;return{valid_until:(tt=String(et.validUntil))!==null&&tt!==void 0?tt:null,from:(it=(nt=et.from)!==null&&nt!==void 0?nt:(ot=rt==null?void 0:rt.account)===null||ot===void 0?void 0:ot.address)!==null&&it!==void 0?it:null,messages:et.messages.map(at=>{var st,ut;return{address:(st=at.address)!==null&&st!==void 0?st:null,amount:(ut=at.amount)!==null&&ut!==void 0?ut:null}})}}function createTransactionSentForSignatureEvent(rt,et,tt){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},createConnectionInfo(rt,et)),createTransactionInfo(et,tt))}function createTransactionSignedEvent(rt,et,tt,nt){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:nt.boc},createConnectionInfo(rt,et)),createTransactionInfo(et,tt))}function createTransactionSigningFailedEvent(rt,et,tt,nt,ot){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:nt,error_code:ot??null},createConnectionInfo(rt,et)),createTransactionInfo(et,tt))}function createDisconnectionEvent(rt,et,tt){return Object.assign({type:"disconnection",scope:tt},createConnectionInfo(rt,et))}class BrowserEventDispatcher{constructor(){this.window=getWindow$2()}dispatchEvent(et,tt){var nt;return __awaiter(this,void 0,void 0,function*(){const ot=new CustomEvent(et,{detail:tt});(nt=this.window)===null||nt===void 0||nt.dispatchEvent(ot)})}addEventListener(et,tt,nt){var ot;return __awaiter(this,void 0,void 0,function*(){return(ot=this.window)===null||ot===void 0||ot.addEventListener(et,tt,nt),()=>{var it;return(it=this.window)===null||it===void 0?void 0:it.removeEventListener(et,tt)}})}}class TonConnectTracker{constructor(et){var tt;this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=(tt=et==null?void 0:et.eventDispatcher)!==null&&tt!==void 0?tt:new BrowserEventDispatcher,this.tonConnectSdkVersion=et.tonConnectSdkVersion,this.init().catch()}get version(){return createVersionInfo({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return __awaiter(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return __awaiter(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",()=>__awaiter(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",createResponseVersionEvent(this.tonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return __awaiter(this,void 0,void 0,function*(){return new Promise((et,tt)=>__awaiter(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",nt=>{et(nt.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",createRequestVersionEvent())}catch(nt){tt(nt)}}))})}dispatchUserActionEvent(et){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${et.type}`,et).catch()}catch{}}trackConnectionStarted(...et){try{const tt=createConnectionStartedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionCompleted(...et){try{const tt=createConnectionCompletedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionError(...et){try{const tt=createConnectionErrorEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringStarted(...et){try{const tt=createConnectionRestoringStartedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringCompleted(...et){try{const tt=createConnectionRestoringCompletedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringError(...et){try{const tt=createConnectionRestoringErrorEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackDisconnection(...et){try{const tt=createDisconnectionEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSentForSignature(...et){try{const tt=createTransactionSentForSignatureEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSigned(...et){try{const tt=createTransactionSignedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSigningFailed(...et){try{const tt=createTransactionSigningFailedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}}const tonConnectSdkVersion="3.1.0";class TonConnect{constructor(et){if(this.walletsList=new WalletsListManager,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(et==null?void 0:et.manifestUrl)||getWebPageManifest(),storage:(et==null?void 0:et.storage)||new DefaultStorage},this.walletsRequiredFeatures=et==null?void 0:et.walletsRequiredFeatures,this.walletsList=new WalletsListManager({walletsListSource:et==null?void 0:et.walletsListSource,cacheTTLMs:et==null?void 0:et.walletsListCacheTTLMs}),this.tracker=new TonConnectTracker({eventDispatcher:et==null?void 0:et.eventDispatcher,tonConnectSdkVersion}),!this.dappSettings.manifestUrl)throw new DappMetadataError("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new BridgeConnectionStorage(this.dappSettings.storage),et!=null&&et.disableAutoPauseConnection||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return this._wallet!==null}get account(){var et;return((et=this._wallet)===null||et===void 0?void 0:et.account)||null}get wallet(){return this._wallet}set wallet(et){this._wallet=et,this.statusChangeSubscriptions.forEach(tt=>tt(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(et,tt){return this.statusChangeSubscriptions.push(et),tt&&this.statusChangeErrorSubscriptions.push(tt),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(nt=>nt!==et),tt&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(nt=>nt!==tt))}}connect(et,tt){var nt,ot;const it={};if(typeof tt=="object"&&"tonProof"in tt&&(it.request=tt),typeof tt=="object"&&("openingDeadlineMS"in tt||"signal"in tt||"request"in tt)&&(it.request=tt==null?void 0:tt.request,it.openingDeadlineMS=tt==null?void 0:tt.openingDeadlineMS,it.signal=tt==null?void 0:tt.signal),this.connected)throw new WalletAlreadyConnectedError;const at=createAbortController(it==null?void 0:it.signal);if((nt=this.abortController)===null||nt===void 0||nt.abort(),this.abortController=at,at.signal.aborted)throw new TonConnectError("Connection was aborted");return(ot=this.provider)===null||ot===void 0||ot.closeConnection(),this.provider=this.createProvider(et),at.signal.addEventListener("abort",()=>{var st;(st=this.provider)===null||st===void 0||st.closeConnection(),this.provider=null}),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(it==null?void 0:it.request),{openingDeadlineMS:it==null?void 0:it.openingDeadlineMS,signal:at.signal})}restoreConnection(et){var tt,nt;return __awaiter(this,void 0,void 0,function*(){this.tracker.trackConnectionRestoringStarted();const ot=createAbortController(et==null?void 0:et.signal);if((tt=this.abortController)===null||tt===void 0||tt.abort(),this.abortController=ot,ot.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}const[it,at]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);if(ot.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}let st=null;try{switch(it){case"http":st=yield BridgeProvider.fromStorage(this.dappSettings.storage);break;case"injected":st=yield InjectedProvider.fromStorage(this.dappSettings.storage);break;default:if(at)st=this.createProvider(at);else return}}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),st==null||st.closeConnection(),st=null;return}if(ot.signal.aborted){st==null||st.closeConnection(),this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}if(!st){logError$1("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(nt=this.provider)===null||nt===void 0||nt.closeConnection(),this.provider=st,st.listen(this.walletEventsListener.bind(this));const ut=()=>{this.tracker.trackConnectionRestoringError("Connection restoring was aborted"),st==null||st.closeConnection(),st=null};ot.signal.addEventListener("abort",ut);const ft=callForSuccess(mt=>__awaiter(this,void 0,void 0,function*(){yield st==null?void 0:st.restoreConnection({openingDeadlineMS:et==null?void 0:et.openingDeadlineMS,signal:mt.signal}),ot.signal.removeEventListener("abort",ut),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:2e3,signal:et==null?void 0:et.signal}),ht=new Promise(mt=>setTimeout(()=>mt(),12e3));return Promise.race([ft,ht])})}sendTransaction(et,tt){return __awaiter(this,void 0,void 0,function*(){const nt={};typeof tt=="function"?nt.onRequestSent=tt:(nt.onRequestSent=tt==null?void 0:tt.onRequestSent,nt.signal=tt==null?void 0:tt.signal);const ot=createAbortController(nt==null?void 0:nt.signal);if(ot.signal.aborted)throw new TonConnectError("Transaction sending was aborted");this.checkConnection();const it=et.messages.length,at=et.messages.some(xt=>xt.extraCurrency&&Object.keys(xt.extraCurrency).length>0);checkSendTransactionSupport(this.wallet.device.features,{requiredMessagesNumber:it,requireExtraCurrencies:at}),this.tracker.trackTransactionSentForSignature(this.wallet,et);const{validUntil:st,messages:ut}=et,ft=__rest(et,["validUntil","messages"]),ht=et.from||this.account.address,mt=et.network||this.account.chain,gt=yield this.provider.sendRequest(sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},ft),{from:ht,network:mt,valid_until:st,messages:ut.map(xt=>{var{extraCurrency:St}=xt,Tt=__rest(xt,["extraCurrency"]);return Object.assign(Object.assign({},Tt),{extra_currency:St})})})),{onRequestSent:nt.onRequestSent,signal:ot.signal});if(sendTransactionParser.isError(gt))return this.tracker.trackTransactionSigningFailed(this.wallet,et,gt.error.message,gt.error.code),sendTransactionParser.parseAndThrowError(gt);const yt=sendTransactionParser.convertFromRpcResponse(gt);return this.tracker.trackTransactionSigned(this.wallet,et,yt),yt})}disconnect(et){var tt;return __awaiter(this,void 0,void 0,function*(){if(!this.connected)throw new WalletNotConnectedError;const nt=createAbortController(et==null?void 0:et.signal),ot=this.abortController;if(this.abortController=nt,nt.signal.aborted)throw new TonConnectError("Disconnect was aborted");this.onWalletDisconnected("dapp"),yield(tt=this.provider)===null||tt===void 0?void 0:tt.disconnect({signal:nt.signal}),ot==null||ot.abort()})}pauseConnection(){var et;((et=this.provider)===null||et===void 0?void 0:et.type)==="http"&&this.provider.pause()}unPauseConnection(){var et;return((et=this.provider)===null||et===void 0?void 0:et.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){const et=getDocument();if(et)try{et.addEventListener("visibilitychange",()=>{et.hidden?this.pauseConnection():this.unPauseConnection().catch()})}catch(tt){logError$1("Cannot subscribe to the document.visibilitychange: ",tt)}}createProvider(et){let tt;return!Array.isArray(et)&&isWalletConnectionSourceJS(et)?tt=new InjectedProvider(this.dappSettings.storage,et.jsBridgeKey):tt=new BridgeProvider(this.dappSettings.storage,et),tt.listen(this.walletEventsListener.bind(this)),tt}walletEventsListener(et){switch(et.event){case"connect":this.onWalletConnected(et.payload);break;case"connect_error":this.tracker.trackConnectionError(et.payload.message,et.payload.code);const tt=connectErrorsParser.parseError(et.payload);this.onWalletConnectError(tt);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(et){var tt;const nt=et.items.find(st=>st.name==="ton_addr"),ot=et.items.find(st=>st.name==="ton_proof");if(!nt)throw new TonConnectError("ton_addr connection item was not found");if(!checkRequiredWalletFeatures(et.device.features,this.walletsRequiredFeatures)){(tt=this.provider)===null||tt===void 0||tt.disconnect(),this.onWalletConnectError(new WalletMissingRequiredFeaturesError("Wallet does not support required features",{cause:{connectEvent:et}}));return}const at={device:et.device,provider:this.provider.type,account:{address:nt.address,chain:nt.network,walletStateInit:nt.walletStateInit,publicKey:nt.publicKey}};ot&&(at.connectItems={tonProof:ot}),this.wallet=at,this.tracker.trackConnectionCompleted(at)}onWalletConnectError(et){if(this.statusChangeErrorSubscriptions.forEach(tt=>tt(et)),logDebug$1(et),et instanceof ManifestNotFoundError||et instanceof ManifestContentErrorError)throw logError$1(et),et}onWalletDisconnected(et){this.tracker.trackDisconnection(this.wallet,et),this.wallet=null}checkConnection(){if(!this.connected)throw new WalletNotConnectedError}createConnectRequest(et){const tt=[{name:"ton_addr"}];return et!=null&&et.tonProof&&tt.push({name:"ton_proof",payload:et.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:tt}}}TonConnect.walletsList=new WalletsListManager;TonConnect.isWalletInjected=rt=>InjectedProvider.isWalletInjected(rt);TonConnect.isInsideWalletBrowser=rt=>InjectedProvider.isInsideWalletBrowser(rt);const noBounceableTag=81,testOnlyTag=128;function toUserFriendlyAddress(rt,et=!1){const{wc:tt,hex:nt}=parseHexAddress(rt);let ot=noBounceableTag;et&&(ot|=testOnlyTag);const it=new Int8Array(34);it[0]=ot,it[1]=tt,it.set(nt,2);const at=new Uint8Array(36);return at.set(it),at.set(crc16(it),34),Base64.encode(at).replace(/\+/g,"-").replace(/\//g,"_")}function parseHexAddress(rt){if(!rt.includes(":"))throw new WrongAddressError(`Wrong address ${rt}. Address must include ":".`);const et=rt.split(":");if(et.length!==2)throw new WrongAddressError(`Wrong address ${rt}. Address must include ":" only once.`);const tt=parseInt(et[0]);if(tt!==0&&tt!==-1)throw new WrongAddressError(`Wrong address ${rt}. WC must be eq 0 or -1, but ${tt} received.`);const nt=et[1];if((nt==null?void 0:nt.length)!==64)throw new WrongAddressError(`Wrong address ${rt}. Hex part must be 64bytes length, but ${nt==null?void 0:nt.length} received.`);return{wc:tt,hex:hexToBytes(nt)}}function crc16(rt){let tt=0;const nt=new Uint8Array(rt.length+2);nt.set(rt);for(let ot of nt){let it=128;for(;it>0;)tt<<=1,ot&it&&(tt+=1),it>>=1,tt>65535&&(tt&=65535,tt^=4129)}return new Uint8Array([Math.floor(tt/256),tt%256])}const toByteMap={};for(let rt=0;rt<=255;rt++){let et=rt.toString(16);et.length<2&&(et="0"+et),toByteMap[et]=rt}function hexToBytes(rt){rt=rt.toLowerCase();const et=rt.length;if(et%2!==0)throw new ParseHexError("Hex string must have length a multiple of 2: "+rt);const tt=et/2,nt=new Uint8Array(tt);for(let ot=0;ot<tt;ot++){const it=ot*2,at=rt.substring(it,it+2);if(!toByteMap.hasOwnProperty(at))throw new ParseHexError("Invalid hex character: "+at);nt[ot]=toByteMap[at]}return nt}var uaParser={exports:{}};(function(rt,et){(function(tt,nt){var ot="1.0.40",it="",at="?",st="function",ut="undefined",ft="object",ht="string",mt="major",gt="model",yt="name",xt="type",St="vendor",Tt="version",Mt="architecture",Pt="console",It="mobile",kt="tablet",Dt="smarttv",Nt="wearable",Gt="embedded",Wt=500,Ot="Amazon",Xt="Apple",Et="ASUS",lt="BlackBerry",dt="Browser",pt="Chrome",vt="Edge",wt="Firefox",At="Google",Rt="Huawei",bt="LG",ct="Microsoft",_t="Motorola",Lt="Opera",Ft="Samsung",jt="Sharp",Zt="Sony",Kt="Xiaomi",zt="Zebra",Vt="Facebook",nr="Chromium OS",or="Mac OS",rr=" Browser",$t=function(Gr,Mr){var Ar={};for(var an in Gr)Mr[an]&&Mr[an].length%2===0?Ar[an]=Mr[an].concat(Gr[an]):Ar[an]=Gr[an];return Ar},ar=function(Gr){for(var Mr={},Ar=0;Ar<Gr.length;Ar++)Mr[Gr[Ar].toUpperCase()]=Gr[Ar];return Mr},wr=function(Gr,Mr){return typeof Gr===ht?vr(Mr).indexOf(vr(Gr))!==-1:!1},vr=function(Gr){return Gr.toLowerCase()},Qt=function(Gr){return typeof Gr===ht?Gr.replace(/[^\d\.]/g,it).split(".")[0]:nt},Yt=function(Gr,Mr){if(typeof Gr===ht)return Gr=Gr.replace(/^\s\s*/,it),typeof Mr===ut?Gr:Gr.substring(0,Wt)},Ht=function(Gr,Mr){for(var Ar=0,an,Br,Dr,ln,Ir,Tr;Ar<Mr.length&&!Ir;){var Er=Mr[Ar],_r=Mr[Ar+1];for(an=Br=0;an<Er.length&&!Ir&&Er[an];)if(Ir=Er[an++].exec(Gr),Ir)for(Dr=0;Dr<_r.length;Dr++)Tr=Ir[++Br],ln=_r[Dr],typeof ln===ft&&ln.length>0?ln.length===2?typeof ln[1]==st?this[ln[0]]=ln[1].call(this,Tr):this[ln[0]]=ln[1]:ln.length===3?typeof ln[1]===st&&!(ln[1].exec&&ln[1].test)?this[ln[0]]=Tr?ln[1].call(this,Tr,ln[2]):nt:this[ln[0]]=Tr?Tr.replace(ln[1],ln[2]):nt:ln.length===4&&(this[ln[0]]=Tr?ln[3].call(this,Tr.replace(ln[1],ln[2])):nt):this[ln]=Tr||nt;Ar+=2}},tr=function(Gr,Mr){for(var Ar in Mr)if(typeof Mr[Ar]===ft&&Mr[Ar].length>0){for(var an=0;an<Mr[Ar].length;an++)if(wr(Mr[Ar][an],Gr))return Ar===at?nt:Ar}else if(wr(Mr[Ar],Gr))return Ar===at?nt:Ar;return Mr.hasOwnProperty("*")?Mr["*"]:Gr},br={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},gr={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Sr={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[Tt,[yt,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[Tt,[yt,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[yt,Tt],[/opios[\/ ]+([\w\.]+)/i],[Tt,[yt,Lt+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[Tt,[yt,Lt+" GX"]],[/\bopr\/([\w\.]+)/i],[Tt,[yt,Lt]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[Tt,[yt,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[Tt,[yt,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[yt,Tt],[/quark(?:pc)?\/([-\w\.]+)/i],[Tt,[yt,"Quark"]],[/\bddg\/([\w\.]+)/i],[Tt,[yt,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[Tt,[yt,"UC"+dt]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[Tt,[yt,"WeChat"]],[/konqueror\/([\w\.]+)/i],[Tt,[yt,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[Tt,[yt,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[Tt,[yt,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[Tt,[yt,"Smart Lenovo "+dt]],[/(avast|avg)\/([\w\.]+)/i],[[yt,/(.+)/,"$1 Secure "+dt],Tt],[/\bfocus\/([\w\.]+)/i],[Tt,[yt,wt+" Focus"]],[/\bopt\/([\w\.]+)/i],[Tt,[yt,Lt+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[Tt,[yt,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[Tt,[yt,"Dolphin"]],[/coast\/([\w\.]+)/i],[Tt,[yt,Lt+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[Tt,[yt,"MIUI"+rr]],[/fxios\/([\w\.-]+)/i],[Tt,[yt,wt]],[/\bqihoobrowser\/?([\w\.]*)/i],[Tt,[yt,"360"]],[/\b(qq)\/([\w\.]+)/i],[[yt,/(.+)/,"$1Browser"],Tt],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[yt,/(.+)/,"$1"+rr],Tt],[/samsungbrowser\/([\w\.]+)/i],[Tt,[yt,Ft+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[Tt,[yt,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[yt,"Sogou Mobile"],Tt],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[yt,Tt],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[yt],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[Tt,yt],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[yt,Vt],Tt],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[yt,Tt],[/\bgsa\/([\w\.]+) .*safari\//i],[Tt,[yt,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[Tt,[yt,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[Tt,[yt,pt+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[yt,pt+" WebView"],Tt],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[Tt,[yt,"Android "+dt]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[yt,Tt],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[Tt,[yt,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[Tt,yt],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[yt,[Tt,tr,br]],[/(webkit|khtml)\/([\w\.]+)/i],[yt,Tt],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[yt,"Netscape"],Tt],[/(wolvic|librewolf)\/([\w\.]+)/i],[yt,Tt],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[Tt,[yt,wt+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[yt,[Tt,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[yt,[Tt,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Mt,"amd64"]],[/(ia32(?=;))/i],[[Mt,vr]],[/((?:i[346]|x)86)[;\)]/i],[[Mt,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Mt,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Mt,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Mt,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Mt,/ower/,it,vr]],[/(sun4\w)[;\)]/i],[[Mt,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Mt,vr]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[gt,[St,Ft],[xt,kt]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[gt,[St,Ft],[xt,It]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[gt,[St,Xt],[xt,It]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[gt,[St,Xt],[xt,kt]],[/(macintosh);/i],[gt,[St,Xt]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[gt,[St,jt],[xt,It]],[/(?:honor)([-\w ]+)[;\)]/i],[gt,[St,"Honor"],[xt,It]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[gt,[St,Rt],[xt,kt]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[gt,[St,Rt],[xt,It]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[gt,/_/g," "],[St,Kt],[xt,It]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[gt,/_/g," "],[St,Kt],[xt,kt]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[gt,[St,"OPPO"],[xt,It]],[/\b(opd2\d{3}a?) bui/i],[gt,[St,"OPPO"],[xt,kt]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[gt,[St,"Vivo"],[xt,It]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[gt,[St,"Realme"],[xt,It]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[gt,[St,_t],[xt,It]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[gt,[St,_t],[xt,kt]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[gt,[St,bt],[xt,kt]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[gt,[St,bt],[xt,It]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[gt,[St,"Lenovo"],[xt,kt]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[gt,/_/g," "],[St,"Nokia"],[xt,It]],[/(pixel c)\b/i],[gt,[St,At],[xt,kt]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[gt,[St,At],[xt,It]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[gt,[St,Zt],[xt,It]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[gt,"Xperia Tablet"],[St,Zt],[xt,kt]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[gt,[St,"OnePlus"],[xt,It]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[gt,[St,Ot],[xt,kt]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[gt,/(.+)/g,"Fire Phone $1"],[St,Ot],[xt,It]],[/(playbook);[-\w\),; ]+(rim)/i],[gt,St,[xt,kt]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[gt,[St,lt],[xt,It]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[gt,[St,Et],[xt,kt]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[gt,[St,Et],[xt,It]],[/(nexus 9)/i],[gt,[St,"HTC"],[xt,kt]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[St,[gt,/_/g," "],[xt,It]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[gt,[St,"TCL"],[xt,kt]],[/(itel) ((\w+))/i],[[St,vr],gt,[xt,tr,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[gt,[St,"Acer"],[xt,kt]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[gt,[St,"Meizu"],[xt,It]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[gt,[St,"Ulefone"],[xt,It]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[gt,[St,"Energizer"],[xt,It]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[gt,[St,"Cat"],[xt,It]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[gt,[St,"Smartfren"],[xt,It]],[/droid.+; (a(?:015|06[35]|142p?))/i],[gt,[St,"Nothing"],[xt,It]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[St,gt,[xt,It]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[St,gt,[xt,kt]],[/(surface duo)/i],[gt,[St,ct],[xt,kt]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[gt,[St,"Fairphone"],[xt,It]],[/(u304aa)/i],[gt,[St,"AT&T"],[xt,It]],[/\bsie-(\w*)/i],[gt,[St,"Siemens"],[xt,It]],[/\b(rct\w+) b/i],[gt,[St,"RCA"],[xt,kt]],[/\b(venue[\d ]{2,7}) b/i],[gt,[St,"Dell"],[xt,kt]],[/\b(q(?:mv|ta)\w+) b/i],[gt,[St,"Verizon"],[xt,kt]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[gt,[St,"Barnes & Noble"],[xt,kt]],[/\b(tm\d{3}\w+) b/i],[gt,[St,"NuVision"],[xt,kt]],[/\b(k88) b/i],[gt,[St,"ZTE"],[xt,kt]],[/\b(nx\d{3}j) b/i],[gt,[St,"ZTE"],[xt,It]],[/\b(gen\d{3}) b.+49h/i],[gt,[St,"Swiss"],[xt,It]],[/\b(zur\d{3}) b/i],[gt,[St,"Swiss"],[xt,kt]],[/\b((zeki)?tb.*\b) b/i],[gt,[St,"Zeki"],[xt,kt]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[St,"Dragon Touch"],gt,[xt,kt]],[/\b(ns-?\w{0,9}) b/i],[gt,[St,"Insignia"],[xt,kt]],[/\b((nxa|next)-?\w{0,9}) b/i],[gt,[St,"NextBook"],[xt,kt]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[St,"Voice"],gt,[xt,It]],[/\b(lvtel\-)?(v1[12]) b/i],[[St,"LvTel"],gt,[xt,It]],[/\b(ph-1) /i],[gt,[St,"Essential"],[xt,It]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[gt,[St,"Envizen"],[xt,kt]],[/\b(trio[-\w\. ]+) b/i],[gt,[St,"MachSpeed"],[xt,kt]],[/\btu_(1491) b/i],[gt,[St,"Rotor"],[xt,kt]],[/(shield[\w ]+) b/i],[gt,[St,"Nvidia"],[xt,kt]],[/(sprint) (\w+)/i],[St,gt,[xt,It]],[/(kin\.[onetw]{3})/i],[[gt,/\./g," "],[St,ct],[xt,It]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[gt,[St,zt],[xt,kt]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[gt,[St,zt],[xt,It]],[/smart-tv.+(samsung)/i],[St,[xt,Dt]],[/hbbtv.+maple;(\d+)/i],[[gt,/^/,"SmartTV"],[St,Ft],[xt,Dt]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[St,bt],[xt,Dt]],[/(apple) ?tv/i],[St,[gt,Xt+" TV"],[xt,Dt]],[/crkey/i],[[gt,pt+"cast"],[St,At],[xt,Dt]],[/droid.+aft(\w+)( bui|\))/i],[gt,[St,Ot],[xt,Dt]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[gt,[St,jt],[xt,Dt]],[/(bravia[\w ]+)( bui|\))/i],[gt,[St,Zt],[xt,Dt]],[/(mitv-\w{5}) bui/i],[gt,[St,Kt],[xt,Dt]],[/Hbbtv.*(technisat) (.*);/i],[St,gt,[xt,Dt]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[St,Yt],[gt,Yt],[xt,Dt]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[xt,Dt]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[St,gt,[xt,Pt]],[/droid.+; (shield) bui/i],[gt,[St,"Nvidia"],[xt,Pt]],[/(playstation [345portablevi]+)/i],[gt,[St,Zt],[xt,Pt]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[gt,[St,ct],[xt,Pt]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[gt,[St,Ft],[xt,Nt]],[/((pebble))app/i],[St,gt,[xt,Nt]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[gt,[St,Xt],[xt,Nt]],[/droid.+; (glass) \d/i],[gt,[St,At],[xt,Nt]],[/droid.+; (wt63?0{2,3})\)/i],[gt,[St,zt],[xt,Nt]],[/droid.+; (glass) \d/i],[gt,[St,At],[xt,Nt]],[/(pico) (4|neo3(?: link|pro)?)/i],[St,gt,[xt,Nt]],[/; (quest( \d| pro)?)/i],[gt,[St,Vt],[xt,Nt]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[St,[xt,Gt]],[/(aeobc)\b/i],[gt,[St,Ot],[xt,Gt]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[gt,[xt,It]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[gt,[xt,kt]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[xt,kt]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[xt,It]],[/(android[-\w\. ]{0,9});.+buil/i],[gt,[St,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[Tt,[yt,vt+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[yt,Tt],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[Tt,[yt,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[yt,Tt],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[Tt,yt]],os:[[/microsoft (windows) (vista|xp)/i],[yt,Tt],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[yt,[Tt,tr,gr]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[Tt,tr,gr],[yt,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[Tt,/_/g,"."],[yt,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[yt,or],[Tt,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[Tt,yt],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[yt,Tt],[/\(bb(10);/i],[Tt,[yt,lt]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[Tt,[yt,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[Tt,[yt,wt+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[Tt,[yt,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[Tt,[yt,"watchOS"]],[/crkey\/([\d\.]+)/i],[Tt,[yt,pt+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[yt,nr],Tt],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[yt,Tt],[/(sunos) ?([\w\.\d]*)/i],[[yt,"Solaris"],Tt],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[yt,Tt]]},pr=function(Gr,Mr){if(typeof Gr===ft&&(Mr=Gr,Gr=nt),!(this instanceof pr))return new pr(Gr,Mr).getResult();var Ar=typeof tt!==ut&&tt.navigator?tt.navigator:nt,an=Gr||(Ar&&Ar.userAgent?Ar.userAgent:it),Br=Ar&&Ar.userAgentData?Ar.userAgentData:nt,Dr=Mr?$t(Sr,Mr):Sr,ln=Ar&&Ar.userAgent==an;return this.getBrowser=function(){var Ir={};return Ir[yt]=nt,Ir[Tt]=nt,Ht.call(Ir,an,Dr.browser),Ir[mt]=Qt(Ir[Tt]),ln&&Ar&&Ar.brave&&typeof Ar.brave.isBrave==st&&(Ir[yt]="Brave"),Ir},this.getCPU=function(){var Ir={};return Ir[Mt]=nt,Ht.call(Ir,an,Dr.cpu),Ir},this.getDevice=function(){var Ir={};return Ir[St]=nt,Ir[gt]=nt,Ir[xt]=nt,Ht.call(Ir,an,Dr.device),ln&&!Ir[xt]&&Br&&Br.mobile&&(Ir[xt]=It),ln&&Ir[gt]=="Macintosh"&&Ar&&typeof Ar.standalone!==ut&&Ar.maxTouchPoints&&Ar.maxTouchPoints>2&&(Ir[gt]="iPad",Ir[xt]=kt),Ir},this.getEngine=function(){var Ir={};return Ir[yt]=nt,Ir[Tt]=nt,Ht.call(Ir,an,Dr.engine),Ir},this.getOS=function(){var Ir={};return Ir[yt]=nt,Ir[Tt]=nt,Ht.call(Ir,an,Dr.os),ln&&!Ir[yt]&&Br&&Br.platform&&Br.platform!="Unknown"&&(Ir[yt]=Br.platform.replace(/chrome os/i,nr).replace(/macos/i,or)),Ir},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return an},this.setUA=function(Ir){return an=typeof Ir===ht&&Ir.length>Wt?Yt(Ir,Wt):Ir,this},this.setUA(an),this};pr.VERSION=ot,pr.BROWSER=ar([yt,Tt,mt]),pr.CPU=ar([Mt]),pr.DEVICE=ar([gt,St,xt,Pt,It,Dt,kt,Nt,Gt]),pr.ENGINE=pr.OS=ar([yt,Tt]),rt.exports&&(et=rt.exports=pr),et.UAParser=pr;var er=typeof tt!==ut&&(tt.jQuery||tt.Zepto);if(er&&!er.ua){var yr=new pr;er.ua=yr.getResult(),er.ua.get=function(){return yr.getUA()},er.ua.set=function(Gr){yr.setUA(Gr);var Mr=yr.getResult();for(var Ar in Mr)er.ua[Ar]=Mr[Ar]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser=getDefaultExportFromCjs(uaParserExports);var isMergeableObject=function rt(et){return isNonNullObject(et)&&!isSpecial(et)};function isNonNullObject(rt){return!!rt&&typeof rt=="object"}function isSpecial(rt){var et=Object.prototype.toString.call(rt);return et==="[object RegExp]"||et==="[object Date]"||isReactElement(rt)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE$1=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(rt){return rt.$$typeof===REACT_ELEMENT_TYPE$1}function emptyTarget(rt){return Array.isArray(rt)?[]:{}}function cloneUnlessOtherwiseSpecified(rt,et){return et.clone!==!1&&et.isMergeableObject(rt)?deepmerge(emptyTarget(rt),rt,et):rt}function defaultArrayMerge(rt,et,tt){return rt.concat(et).map(function(nt){return cloneUnlessOtherwiseSpecified(nt,tt)})}function getMergeFunction(rt,et){if(!et.customMerge)return deepmerge;var tt=et.customMerge(rt);return typeof tt=="function"?tt:deepmerge}function getEnumerableOwnPropertySymbols(rt){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(rt).filter(function(et){return Object.propertyIsEnumerable.call(rt,et)}):[]}function getKeys(rt){return Object.keys(rt).concat(getEnumerableOwnPropertySymbols(rt))}function propertyIsOnObject(rt,et){try{return et in rt}catch{return!1}}function propertyIsUnsafe(rt,et){return propertyIsOnObject(rt,et)&&!(Object.hasOwnProperty.call(rt,et)&&Object.propertyIsEnumerable.call(rt,et))}function mergeObject(rt,et,tt){var nt={};return tt.isMergeableObject(rt)&&getKeys(rt).forEach(function(ot){nt[ot]=cloneUnlessOtherwiseSpecified(rt[ot],tt)}),getKeys(et).forEach(function(ot){propertyIsUnsafe(rt,ot)||(propertyIsOnObject(rt,ot)&&tt.isMergeableObject(et[ot])?nt[ot]=getMergeFunction(ot,tt)(rt[ot],et[ot],tt):nt[ot]=cloneUnlessOtherwiseSpecified(et[ot],tt))}),nt}function deepmerge(rt,et,tt){tt=tt||{},tt.arrayMerge=tt.arrayMerge||defaultArrayMerge,tt.isMergeableObject=tt.isMergeableObject||isMergeableObject,tt.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var nt=Array.isArray(et),ot=Array.isArray(rt),it=nt===ot;return it?nt?tt.arrayMerge(rt,et,tt):mergeObject(rt,et,tt):cloneUnlessOtherwiseSpecified(et,tt)}deepmerge.all=function rt(et,tt){if(!Array.isArray(et))throw new Error("first argument should be an array");return et.reduce(function(nt,ot){return deepmerge(nt,ot,tt)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(rt){(function(){var et={}.hasOwnProperty;function tt(){for(var it="",at=0;at<arguments.length;at++){var st=arguments[at];st&&(it=ot(it,nt(st)))}return it}function nt(it){if(typeof it=="string"||typeof it=="number")return it;if(typeof it!="object")return"";if(Array.isArray(it))return tt.apply(null,it);if(it.toString!==Object.prototype.toString&&!it.toString.toString().includes("[native code]"))return it.toString();var at="";for(var st in it)et.call(it,st)&&it[st]&&(at=ot(at,st));return at}function ot(it,at){return at?it?it+" "+at:it+at:it}rt.exports?(tt.default=tt,rt.exports=tt):window.classNames=tt})()})(classnames);var classnamesExports=classnames.exports;const cn=getDefaultExportFromCjs(classnamesExports);var __defProp$2=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(rt,et,tt)=>et in rt?__defProp$2(rt,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):rt[et]=tt,__spreadValues$2=(rt,et)=>{for(var tt in et||(et={}))__hasOwnProp$2.call(et,tt)&&__defNormalProp$2(rt,tt,et[tt]);if(__getOwnPropSymbols$2)for(var tt of __getOwnPropSymbols$2(et))__propIsEnum$2.call(et,tt)&&__defNormalProp$2(rt,tt,et[tt]);return rt},__spreadProps$1=(rt,et)=>__defProps$1(rt,__getOwnPropDescs$1(et)),__publicField=(rt,et,tt)=>(__defNormalProp$2(rt,typeof et!="symbol"?et+"":et,tt),tt),__async=(rt,et,tt)=>new Promise((nt,ot)=>{var it=ut=>{try{st(tt.next(ut))}catch(ft){ot(ft)}},at=ut=>{try{st(tt.throw(ut))}catch(ft){ot(ft)}},st=ut=>ut.done?nt(ut.value):Promise.resolve(ut.value).then(it,at);st((tt=tt.apply(rt,et)).next())}),_a$1,_b$1,_c,_d,_e$1,_f,_g,_h;const sharedConfig={};function setHydrateContext(rt){sharedConfig.context=rt}const equalFn=(rt,et)=>rt===et,$PROXY=Symbol("solid-proxy"),$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null},NO_INIT={};var Owner=null;let Transition$1=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot$1(rt,et){const tt=Listener,nt=Owner,ot=rt.length===0,it=ot?UNOWNED:{owned:null,cleanups:null,context:null,owner:et===void 0?nt:et},at=ot?rt:()=>rt(()=>untrack(()=>cleanNode(it)));Owner=it,Listener=null;try{return runUpdates(at,!0)}finally{Listener=tt,Owner=nt}}function createSignal(rt,et){et=et?Object.assign({},signalOptions,et):signalOptions;const tt={value:rt,observers:null,observerSlots:null,comparator:et.equals||void 0},nt=ot=>(typeof ot=="function"&&(ot=ot(tt.value)),writeSignal(tt,ot));return[readSignal.bind(tt),nt]}function createComputed(rt,et,tt){const nt=createComputation(rt,et,!0,STALE);updateComputation(nt)}function createRenderEffect(rt,et,tt){const nt=createComputation(rt,et,!1,STALE);updateComputation(nt)}function createEffect(rt,et,tt){runEffects=runUserEffects;const nt=createComputation(rt,et,!1,STALE);nt.user=!0,Effects?Effects.push(nt):updateComputation(nt)}function createMemo(rt,et,tt){tt=tt?Object.assign({},signalOptions,tt):signalOptions;const nt=createComputation(rt,et,!0,0);return nt.observers=null,nt.observerSlots=null,nt.comparator=tt.equals||void 0,updateComputation(nt),readSignal.bind(nt)}function createResource(rt,et,tt){let nt,ot,it;arguments.length===2&&typeof et=="object"||arguments.length===1?(nt=!0,ot=rt,it=et||{}):(nt=rt,ot=et,it=tt||{});let at=null,st=NO_INIT,ut=null,ft=!1,ht="initialValue"in it,mt=typeof nt=="function"&&createMemo(nt);const gt=new Set,[yt,xt]=(it.storage||createSignal)(it.initialValue),[St,Tt]=createSignal(void 0),[Mt,Pt]=createSignal(void 0,{equals:!1}),[It,kt]=createSignal(ht?"ready":"unresolved");if(sharedConfig.context){ut=`${sharedConfig.context.id}${sharedConfig.context.count++}`;let Ot;it.ssrLoadFrom==="initial"?st=it.initialValue:sharedConfig.load&&(Ot=sharedConfig.load(ut))&&(st=Ot[0])}function Dt(Ot,Xt,Et,lt){return at===Ot&&(at=null,ht=!0,(Ot===st||Xt===st)&&it.onHydrated&&queueMicrotask(()=>it.onHydrated(lt,{value:Xt})),st=NO_INIT,Nt(Xt,Et)),Xt}function Nt(Ot,Xt){runUpdates(()=>{Xt===void 0&&xt(()=>Ot),kt(Xt!==void 0?"errored":"ready"),Tt(Xt);for(const Et of gt.keys())Et.decrement();gt.clear()},!1)}function Gt(){const Ot=SuspenseContext,Xt=yt(),Et=St();if(Et!==void 0&&!at)throw Et;return Listener&&!Listener.user&&Ot&&createComputed(()=>{Mt(),at&&(Ot.resolved||gt.has(Ot)||(Ot.increment(),gt.add(Ot)))}),Xt}function Wt(Ot=!0){if(Ot!==!1&&ft)return;ft=!1;const Xt=mt?mt():nt;if(Xt==null||Xt===!1){Dt(at,untrack(yt));return}const Et=st!==NO_INIT?st:untrack(()=>ot(Xt,{value:yt(),refetching:Ot}));return typeof Et!="object"||!(Et&&"then"in Et)?(Dt(at,Et,void 0,Xt),Et):(at=Et,ft=!0,queueMicrotask(()=>ft=!1),runUpdates(()=>{kt(ht?"refreshing":"pending"),Pt()},!1),Et.then(lt=>Dt(Et,lt,void 0,Xt),lt=>Dt(Et,void 0,castError(lt),Xt)))}return Object.defineProperties(Gt,{state:{get:()=>It()},error:{get:()=>St()},loading:{get(){const Ot=It();return Ot==="pending"||Ot==="refreshing"}},latest:{get(){if(!ht)return Gt();const Ot=St();if(Ot&&!at)throw Ot;return yt()}}}),mt?createComputed(()=>Wt(!1)):Wt(!1),[Gt,{refetch:Wt,mutate:xt}]}function batch(rt){return runUpdates(rt,!1)}function untrack(rt){if(Listener===null)return rt();const et=Listener;Listener=null;try{return rt()}finally{Listener=et}}function on(rt,et,tt){const nt=Array.isArray(rt);let ot,it=tt&&tt.defer;return at=>{let st;if(nt){st=Array(rt.length);for(let ft=0;ft<rt.length;ft++)st[ft]=rt[ft]()}else st=rt();if(it){it=!1;return}const ut=untrack(()=>et(st,ot,at));return ot=st,ut}}function onMount(rt){createEffect(()=>untrack(rt))}function onCleanup(rt){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[rt]:Owner.cleanups.push(rt)),rt}function getListener(){return Listener}function getOwner(){return Owner}function createContext(rt,et){const tt=Symbol("context");return{id:tt,Provider:createProvider(tt),defaultValue:rt}}function useContext(rt){let et;return(et=lookup(Owner,rt.id))!==void 0?et:rt.defaultValue}function children(rt){const et=createMemo(rt),tt=createMemo(()=>resolveChildren(et()));return tt.toArray=()=>{const nt=tt();return Array.isArray(nt)?nt:nt!=null?[nt]:[]},tt}let SuspenseContext;function readSignal(){const rt=Transition$1;if(this.sources&&(this.state||rt))if(this.state===STALE||rt)updateComputation(this);else{const et=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=et}if(Listener){const et=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(et)):(Listener.sources=[this],Listener.sourceSlots=[et]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(rt,et,tt){let nt=rt.value;return(!rt.comparator||!rt.comparator(nt,et))&&(rt.value=et,rt.observers&&rt.observers.length&&runUpdates(()=>{for(let ot=0;ot<rt.observers.length;ot+=1){const it=rt.observers[ot],at=Transition$1&&Transition$1.running;at&&Transition$1.disposed.has(it),(at&&!it.tState||!at&&!it.state)&&(it.pure?Updates.push(it):Effects.push(it),it.observers&&markDownstream(it)),at||(it.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),et}function updateComputation(rt){if(!rt.fn)return;cleanNode(rt);const et=Owner,tt=Listener,nt=ExecCount;Listener=Owner=rt,runComputation(rt,rt.value,nt),Listener=tt,Owner=et}function runComputation(rt,et,tt){let nt;try{nt=rt.fn(et)}catch(ot){rt.pure&&(rt.state=STALE,rt.owned&&rt.owned.forEach(cleanNode),rt.owned=null),handleError(ot)}(!rt.updatedAt||rt.updatedAt<=tt)&&(rt.updatedAt!=null&&"observers"in rt?writeSignal(rt,nt):rt.value=nt,rt.updatedAt=tt)}function createComputation(rt,et,tt,nt=STALE,ot){const it={fn:rt,state:nt,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:et,owner:Owner,context:null,pure:tt};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(it):Owner.owned=[it]),it}function runTop(rt){const et=Transition$1;if(rt.state===0||et)return;if(rt.state===PENDING||et)return lookUpstream(rt);if(rt.suspense&&untrack(rt.suspense.inFallback))return rt.suspense.effects.push(rt);const tt=[rt];for(;(rt=rt.owner)&&(!rt.updatedAt||rt.updatedAt<ExecCount);)(rt.state||et)&&tt.push(rt);for(let nt=tt.length-1;nt>=0;nt--)if(rt=tt[nt],rt.state===STALE||et)updateComputation(rt);else if(rt.state===PENDING||et){const ot=Updates;Updates=null,runUpdates(()=>lookUpstream(rt,tt[0]),!1),Updates=ot}}function runUpdates(rt,et){if(Updates)return rt();let tt=!1;et||(Updates=[]),Effects?tt=!0:Effects=[],ExecCount++;try{const nt=rt();return completeUpdates(tt),nt}catch(nt){tt||(Effects=null),Updates=null,handleError(nt)}}function completeUpdates(rt){if(Updates&&(runQueue(Updates),Updates=null),rt)return;const et=Effects;Effects=null,et.length&&runUpdates(()=>runEffects(et),!1)}function runQueue(rt){for(let et=0;et<rt.length;et++)runTop(rt[et])}function runUserEffects(rt){let et,tt=0;for(et=0;et<rt.length;et++){const nt=rt[et];nt.user?rt[tt++]=nt:runTop(nt)}for(sharedConfig.context&&setHydrateContext(),et=0;et<tt;et++)runTop(rt[et])}function lookUpstream(rt,et){const tt=Transition$1;rt.state=0;for(let nt=0;nt<rt.sources.length;nt+=1){const ot=rt.sources[nt];ot.sources&&(ot.state===STALE||tt?ot!==et&&runTop(ot):(ot.state===PENDING||tt)&&lookUpstream(ot,et))}}function markDownstream(rt){const et=Transition$1;for(let tt=0;tt<rt.observers.length;tt+=1){const nt=rt.observers[tt];(!nt.state||et)&&(nt.state=PENDING,nt.pure?Updates.push(nt):Effects.push(nt),nt.observers&&markDownstream(nt))}}function cleanNode(rt){let et;if(rt.sources)for(;rt.sources.length;){const tt=rt.sources.pop(),nt=rt.sourceSlots.pop(),ot=tt.observers;if(ot&&ot.length){const it=ot.pop(),at=tt.observerSlots.pop();nt<ot.length&&(it.sourceSlots[at]=nt,ot[nt]=it,tt.observerSlots[nt]=at)}}if(rt.owned){for(et=0;et<rt.owned.length;et++)cleanNode(rt.owned[et]);rt.owned=null}if(rt.cleanups){for(et=0;et<rt.cleanups.length;et++)rt.cleanups[et]();rt.cleanups=null}rt.state=0,rt.context=null}function castError(rt){return rt instanceof Error||typeof rt=="string"?rt:new Error("Unknown error")}function handleError(rt){throw rt=castError(rt),rt}function lookup(rt,et){return rt?rt.context&&rt.context[et]!==void 0?rt.context[et]:lookup(rt.owner,et):void 0}function resolveChildren(rt){if(typeof rt=="function"&&!rt.length)return resolveChildren(rt());if(Array.isArray(rt)){const et=[];for(let tt=0;tt<rt.length;tt++){const nt=resolveChildren(rt[tt]);Array.isArray(nt)?et.push.apply(et,nt):et.push(nt)}return et}return rt}function createProvider(rt,et){return function(nt){let ot;return createRenderEffect(()=>ot=untrack(()=>(Owner.context={[rt]:nt.value},children(()=>nt.children))),void 0),ot}}const FALLBACK=Symbol("fallback");function dispose$1(rt){for(let et=0;et<rt.length;et++)rt[et]()}function mapArray(rt,et,tt={}){let nt=[],ot=[],it=[],at=0,st=et.length>1?[]:null;return onCleanup(()=>dispose$1(it)),()=>{let ut=rt()||[],ft,ht;return ut[$TRACK],untrack(()=>{let gt=ut.length,yt,xt,St,Tt,Mt,Pt,It,kt,Dt;if(gt===0)at!==0&&(dispose$1(it),it=[],nt=[],ot=[],at=0,st&&(st=[])),tt.fallback&&(nt=[FALLBACK],ot[0]=createRoot$1(Nt=>(it[0]=Nt,tt.fallback())),at=1);else if(at===0){for(ot=new Array(gt),ht=0;ht<gt;ht++)nt[ht]=ut[ht],ot[ht]=createRoot$1(mt);at=gt}else{for(St=new Array(gt),Tt=new Array(gt),st&&(Mt=new Array(gt)),Pt=0,It=Math.min(at,gt);Pt<It&&nt[Pt]===ut[Pt];Pt++);for(It=at-1,kt=gt-1;It>=Pt&&kt>=Pt&&nt[It]===ut[kt];It--,kt--)St[kt]=ot[It],Tt[kt]=it[It],st&&(Mt[kt]=st[It]);for(yt=new Map,xt=new Array(kt+1),ht=kt;ht>=Pt;ht--)Dt=ut[ht],ft=yt.get(Dt),xt[ht]=ft===void 0?-1:ft,yt.set(Dt,ht);for(ft=Pt;ft<=It;ft++)Dt=nt[ft],ht=yt.get(Dt),ht!==void 0&&ht!==-1?(St[ht]=ot[ft],Tt[ht]=it[ft],st&&(Mt[ht]=st[ft]),ht=xt[ht],yt.set(Dt,ht)):it[ft]();for(ht=Pt;ht<gt;ht++)ht in St?(ot[ht]=St[ht],it[ht]=Tt[ht],st&&(st[ht]=Mt[ht],st[ht](ht))):ot[ht]=createRoot$1(mt);ot=ot.slice(0,at=gt),nt=ut.slice(0)}return ot});function mt(gt){if(it[ht]=gt,st){const[yt,xt]=createSignal(ht);return st[ht]=xt,et(ut[ht],yt)}return et(ut[ht])}}}function createComponent(rt,et){return untrack(()=>rt(et||{}))}function trueFn(){return!0}const propTraps={get(rt,et,tt){return et===$PROXY?tt:rt.get(et)},has(rt,et){return et===$PROXY?!0:rt.has(et)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(rt,et){return{configurable:!0,enumerable:!0,get(){return rt.get(et)},set:trueFn,deleteProperty:trueFn}},ownKeys(rt){return rt.keys()}};function resolveSource(rt){return(rt=typeof rt=="function"?rt():rt)?rt:{}}function mergeProps(...rt){let et=!1;for(let nt=0;nt<rt.length;nt++){const ot=rt[nt];et=et||!!ot&&$PROXY in ot,rt[nt]=typeof ot=="function"?(et=!0,createMemo(ot)):ot}if(et)return new Proxy({get(nt){for(let ot=rt.length-1;ot>=0;ot--){const it=resolveSource(rt[ot])[nt];if(it!==void 0)return it}},has(nt){for(let ot=rt.length-1;ot>=0;ot--)if(nt in resolveSource(rt[ot]))return!0;return!1},keys(){const nt=[];for(let ot=0;ot<rt.length;ot++)nt.push(...Object.keys(resolveSource(rt[ot])));return[...new Set(nt)]}},propTraps);const tt={};for(let nt=rt.length-1;nt>=0;nt--)if(rt[nt]){const ot=Object.getOwnPropertyDescriptors(rt[nt]);for(const it in ot)it in tt||Object.defineProperty(tt,it,{enumerable:!0,get(){for(let at=rt.length-1;at>=0;at--){const st=(rt[at]||{})[it];if(st!==void 0)return st}}})}return tt}function splitProps(rt,...et){const tt=new Set(et.flat());if($PROXY in rt){const ot=et.map(it=>new Proxy({get(at){return it.includes(at)?rt[at]:void 0},has(at){return it.includes(at)&&at in rt},keys(){return it.filter(at=>at in rt)}},propTraps));return ot.push(new Proxy({get(it){return tt.has(it)?void 0:rt[it]},has(it){return tt.has(it)?!1:it in rt},keys(){return Object.keys(rt).filter(it=>!tt.has(it))}},propTraps)),ot}const nt=Object.getOwnPropertyDescriptors(rt);return et.push(Object.keys(nt).filter(ot=>!tt.has(ot))),et.map(ot=>{const it={};for(let at=0;at<ot.length;at++){const st=ot[at];st in rt&&Object.defineProperty(it,st,nt[st]?nt[st]:{get(){return rt[st]},set(){return!0},enumerable:!0})}return it})}function For(rt){const et="fallback"in rt&&{fallback:()=>rt.fallback};return createMemo(mapArray(()=>rt.each,rt.children,et||void 0))}function Show(rt){let et=!1;const tt=rt.keyed,nt=createMemo(()=>rt.when,void 0,{equals:(ot,it)=>et?ot===it:!ot==!it});return createMemo(()=>{const ot=nt();if(ot){const it=rt.children,at=typeof it=="function"&&it.length>0;return et=tt||at,at?untrack(()=>it(ot)):it}return rt.fallback},void 0,void 0)}function Switch(rt){let et=!1,tt=!1;const nt=(at,st)=>at[0]===st[0]&&(et?at[1]===st[1]:!at[1]==!st[1])&&at[2]===st[2],ot=children(()=>rt.children),it=createMemo(()=>{let at=ot();Array.isArray(at)||(at=[at]);for(let st=0;st<at.length;st++){const ut=at[st].when;if(ut)return tt=!!at[st].keyed,[st,ut,at[st]]}return[-1]},void 0,{equals:nt});return createMemo(()=>{const[at,st,ut]=it();if(at<0)return rt.fallback;const ft=ut.children,ht=typeof ft=="function"&&ft.length>0;return et=tt||ht,ht?untrack(()=>ft(st)):ft},void 0,void 0)}function Match(rt){return rt}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),PropAliases=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),SVGElements=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),SVGNamespace={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function reconcileArrays(rt,et,tt){let nt=tt.length,ot=et.length,it=nt,at=0,st=0,ut=et[ot-1].nextSibling,ft=null;for(;at<ot||st<it;){if(et[at]===tt[st]){at++,st++;continue}for(;et[ot-1]===tt[it-1];)ot--,it--;if(ot===at){const ht=it<nt?st?tt[st-1].nextSibling:tt[it-st]:ut;for(;st<it;)rt.insertBefore(tt[st++],ht)}else if(it===st)for(;at<ot;)(!ft||!ft.has(et[at]))&&et[at].remove(),at++;else if(et[at]===tt[it-1]&&tt[st]===et[ot-1]){const ht=et[--ot].nextSibling;rt.insertBefore(tt[st++],et[at++].nextSibling),rt.insertBefore(tt[--it],ht),et[ot]=tt[it]}else{if(!ft){ft=new Map;let mt=st;for(;mt<it;)ft.set(tt[mt],mt++)}const ht=ft.get(et[at]);if(ht!=null)if(st<ht&&ht<it){let mt=at,gt=1,yt;for(;++mt<ot&&mt<it&&!((yt=ft.get(et[mt]))==null||yt!==ht+gt);)gt++;if(gt>ht-st){const xt=et[at];for(;st<ht;)rt.insertBefore(tt[st++],xt)}else rt.replaceChild(tt[st++],et[at++])}else at++;else et[at++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(rt,et,tt,nt={}){let ot;return createRoot$1(it=>{ot=it,et===document?rt():insert(et,rt(),et.firstChild?null:void 0,tt)},nt.owner),()=>{ot(),et.textContent=""}}function template$1(rt,et,tt){if(typeof window>"u")return null;const nt=document.createElement("template");nt.innerHTML=rt;let ot=nt.content.firstChild;return tt&&(ot=ot.firstChild),ot}function delegateEvents(rt,et=window.document){const tt=et[$$EVENTS]||(et[$$EVENTS]=new Set);for(let nt=0,ot=rt.length;nt<ot;nt++){const it=rt[nt];tt.has(it)||(tt.add(it),et.addEventListener(it,eventHandler))}}function setAttribute(rt,et,tt){tt==null?rt.removeAttribute(et):rt.setAttribute(et,tt)}function setAttributeNS(rt,et,tt,nt){nt==null?rt.removeAttributeNS(et,tt):rt.setAttributeNS(et,tt,nt)}function className(rt,et){et==null?rt.removeAttribute("class"):rt.className=et}function addEventListener(rt,et,tt,nt){if(nt)Array.isArray(tt)?(rt[`$$${et}`]=tt[0],rt[`$$${et}Data`]=tt[1]):rt[`$$${et}`]=tt;else if(Array.isArray(tt)){const ot=tt[0];rt.addEventListener(et,tt[0]=it=>ot.call(rt,tt[1],it))}else rt.addEventListener(et,tt)}function classList(rt,et,tt={}){const nt=Object.keys(et||{}),ot=Object.keys(tt);let it,at;for(it=0,at=ot.length;it<at;it++){const st=ot[it];!st||st==="undefined"||et[st]||(toggleClassKey(rt,st,!1),delete tt[st])}for(it=0,at=nt.length;it<at;it++){const st=nt[it],ut=!!et[st];!st||st==="undefined"||tt[st]===ut||!ut||(toggleClassKey(rt,st,!0),tt[st]=ut)}return tt}function style(rt,et,tt){if(!et)return tt?setAttribute(rt,"style"):et;const nt=rt.style;if(typeof et=="string")return nt.cssText=et;typeof tt=="string"&&(nt.cssText=tt=void 0),tt||(tt={}),et||(et={});let ot,it;for(it in tt)et[it]==null&&nt.removeProperty(it),delete tt[it];for(it in et)ot=et[it],ot!==tt[it]&&(nt.setProperty(it,ot),tt[it]=ot);return tt}function spread$1(rt,et={},tt,nt){const ot={};return nt||createRenderEffect(()=>ot.children=insertExpression(rt,et.children,ot.children)),createRenderEffect(()=>et.ref&&et.ref(rt)),createRenderEffect(()=>assign$2(rt,et,tt,!0,ot,!0)),ot}function use(rt,et,tt){return untrack(()=>rt(et,tt))}function insert(rt,et,tt,nt){if(tt!==void 0&&!nt&&(nt=[]),typeof et!="function")return insertExpression(rt,et,nt,tt);createRenderEffect(ot=>insertExpression(rt,et(),ot,tt),nt)}function assign$2(rt,et,tt,nt,ot={},it=!1){et||(et={});for(const at in ot)if(!(at in et)){if(at==="children")continue;ot[at]=assignProp(rt,at,null,ot[at],tt,it)}for(const at in et){if(at==="children"){nt||insertExpression(rt,et.children);continue}const st=et[at];ot[at]=assignProp(rt,at,st,ot[at],tt,it)}}function getNextElement(rt){let et,tt;return!sharedConfig.context||!(et=sharedConfig.registry.get(tt=getHydrationKey()))?rt.cloneNode(!0):(sharedConfig.completed&&sharedConfig.completed.add(et),sharedConfig.registry.delete(tt),et)}function toPropertyName(rt){return rt.toLowerCase().replace(/-([a-z])/g,(et,tt)=>tt.toUpperCase())}function toggleClassKey(rt,et,tt){const nt=et.trim().split(/\s+/);for(let ot=0,it=nt.length;ot<it;ot++)rt.classList.toggle(nt[ot],tt)}function assignProp(rt,et,tt,nt,ot,it){let at,st,ut;if(et==="style")return style(rt,tt,nt);if(et==="classList")return classList(rt,tt,nt);if(tt===nt)return nt;if(et==="ref")it||tt(rt);else if(et.slice(0,3)==="on:"){const ft=et.slice(3);nt&&rt.removeEventListener(ft,nt),tt&&rt.addEventListener(ft,tt)}else if(et.slice(0,10)==="oncapture:"){const ft=et.slice(10);nt&&rt.removeEventListener(ft,nt,!0),tt&&rt.addEventListener(ft,tt,!0)}else if(et.slice(0,2)==="on"){const ft=et.slice(2).toLowerCase(),ht=DelegatedEvents.has(ft);if(!ht&&nt){const mt=Array.isArray(nt)?nt[0]:nt;rt.removeEventListener(ft,mt)}(ht||tt)&&(addEventListener(rt,ft,tt,ht),ht&&delegateEvents([ft]))}else if((ut=ChildProperties.has(et))||!ot&&(PropAliases[et]||(st=Properties.has(et)))||(at=rt.nodeName.includes("-")))et==="class"||et==="className"?className(rt,tt):at&&!st&&!ut?rt[toPropertyName(et)]=tt:rt[PropAliases[et]||et]=tt;else{const ft=ot&&et.indexOf(":")>-1&&SVGNamespace[et.split(":")[0]];ft?setAttributeNS(rt,ft,et,tt):setAttribute(rt,Aliases[et]||et,tt)}return tt}function eventHandler(rt){const et=`$$${rt.type}`;let tt=rt.composedPath&&rt.composedPath()[0]||rt.target;for(rt.target!==tt&&Object.defineProperty(rt,"target",{configurable:!0,value:tt}),Object.defineProperty(rt,"currentTarget",{configurable:!0,get(){return tt||document}}),sharedConfig.registry&&!sharedConfig.done&&(sharedConfig.done=!0,document.querySelectorAll("[id^=pl-]").forEach(nt=>{for(;nt&&nt.nodeType!==8&&nt.nodeValue!=="pl-"+rt;){let ot=nt.nextSibling;nt.remove(),nt=ot}nt&&nt.remove()}));tt;){const nt=tt[et];if(nt&&!tt.disabled){const ot=tt[`${et}Data`];if(ot!==void 0?nt.call(tt,ot,rt):nt.call(tt,rt),rt.cancelBubble)return}tt=tt._$host||tt.parentNode||tt.host}}function insertExpression(rt,et,tt,nt,ot){for(sharedConfig.context&&!tt&&(tt=[...rt.childNodes]);typeof tt=="function";)tt=tt();if(et===tt)return tt;const it=typeof et,at=nt!==void 0;if(rt=at&&tt[0]&&tt[0].parentNode||rt,it==="string"||it==="number"){if(sharedConfig.context)return tt;if(it==="number"&&(et=et.toString()),at){let st=tt[0];st&&st.nodeType===3?st.data=et:st=document.createTextNode(et),tt=cleanChildren(rt,tt,nt,st)}else tt!==""&&typeof tt=="string"?tt=rt.firstChild.data=et:tt=rt.textContent=et}else if(et==null||it==="boolean"){if(sharedConfig.context)return tt;tt=cleanChildren(rt,tt,nt)}else{if(it==="function")return createRenderEffect(()=>{let st=et();for(;typeof st=="function";)st=st();tt=insertExpression(rt,st,tt,nt)}),()=>tt;if(Array.isArray(et)){const st=[],ut=tt&&Array.isArray(tt);if(normalizeIncomingArray(st,et,tt,ot))return createRenderEffect(()=>tt=insertExpression(rt,st,tt,nt,!0)),()=>tt;if(sharedConfig.context){if(!st.length)return tt;for(let ft=0;ft<st.length;ft++)if(st[ft].parentNode)return tt=st}if(st.length===0){if(tt=cleanChildren(rt,tt,nt),at)return tt}else ut?tt.length===0?appendNodes(rt,st,nt):reconcileArrays(rt,tt,st):(tt&&cleanChildren(rt),appendNodes(rt,st));tt=st}else if(et instanceof Node){if(sharedConfig.context&&et.parentNode)return tt=at?[et]:et;if(Array.isArray(tt)){if(at)return tt=cleanChildren(rt,tt,nt,et);cleanChildren(rt,tt,null,et)}else tt==null||tt===""||!rt.firstChild?rt.appendChild(et):rt.replaceChild(et,rt.firstChild);tt=et}}return tt}function normalizeIncomingArray(rt,et,tt,nt){let ot=!1;for(let it=0,at=et.length;it<at;it++){let st=et[it],ut=tt&&tt[it];if(st instanceof Node)rt.push(st);else if(!(st==null||st===!0||st===!1))if(Array.isArray(st))ot=normalizeIncomingArray(rt,st,ut)||ot;else if(typeof st=="function")if(nt){for(;typeof st=="function";)st=st();ot=normalizeIncomingArray(rt,Array.isArray(st)?st:[st],Array.isArray(ut)?ut:[ut])||ot}else rt.push(st),ot=!0;else{const ft=String(st);ut&&ut.nodeType===3&&ut.data===ft?rt.push(ut):rt.push(document.createTextNode(ft))}}return ot}function appendNodes(rt,et,tt=null){for(let nt=0,ot=et.length;nt<ot;nt++)rt.insertBefore(et[nt],tt)}function cleanChildren(rt,et,tt,nt){if(tt===void 0)return rt.textContent="";const ot=nt||document.createTextNode("");if(et.length){let it=!1;for(let at=et.length-1;at>=0;at--){const st=et[at];if(ot!==st){const ut=st.parentNode===rt;!it&&!at?ut?rt.replaceChild(ot,st):rt.insertBefore(ot,tt):ut&&st.remove()}else it=!0}}else rt.insertBefore(ot,tt);return[ot]}function getHydrationKey(){const rt=sharedConfig.context;return`${rt.id}${rt.count++}`}const SVG_NAMESPACE="http://www.w3.org/2000/svg";function createElement(rt,et=!1){return et?document.createElementNS(SVG_NAMESPACE,rt):document.createElement(rt)}function Portal(rt){const{useShadow:et}=rt,tt=document.createTextNode(""),nt=rt.mount||document.body;function ot(){if(sharedConfig.context){const[it,at]=createSignal(!1);return queueMicrotask(()=>at(!0)),()=>it()&&rt.children}else return()=>rt.children}if(nt instanceof HTMLHeadElement){const[it,at]=createSignal(!1),st=()=>at(!0);createRoot$1(ut=>insert(nt,()=>it()?ut():ot()(),null)),onCleanup(()=>{sharedConfig.context?queueMicrotask(st):st()})}else{const it=createElement(rt.isSVG?"g":"div",rt.isSVG),at=et&&it.attachShadow?it.attachShadow({mode:"open"}):it;Object.defineProperty(it,"_$host",{get(){return tt.parentNode},configurable:!0}),insert(at,ot()),nt.appendChild(it),rt.ref&&rt.ref(it),onCleanup(()=>nt.removeChild(it))}return tt}function Dynamic(rt){const[et,tt]=splitProps(rt,["component"]),nt=createMemo(()=>et.component);return createMemo(()=>{const ot=nt();switch(typeof ot){case"function":return untrack(()=>ot(tt));case"string":const it=SVGElements.has(ot),at=sharedConfig.context?getNextElement():createElement(ot,it);return spread$1(at,tt,it),at}})}var THEME=(rt=>(rt.DARK="DARK",rt.LIGHT="LIGHT",rt))(THEME||{});let e$1={data:""},t$1=rt=>typeof window=="object"?((rt?rt.querySelector("#_goober"):window._goober)||Object.assign((rt||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:rt||e$1,l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$1=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(rt,et)=>{let tt="",nt="",ot="";for(let it in rt){let at=rt[it];it[0]=="@"?it[1]=="i"?tt=it+" "+at+";":nt+=it[1]=="f"?o(at,it):it+"{"+o(at,it[1]=="k"?"":et)+"}":typeof at=="object"?nt+=o(at,et?et.replace(/([^,])+/g,st=>it.replace(/(^:.*)|([^,])+/g,ut=>/&/.test(ut)?ut.replace(/&/g,st):st?st+" "+ut:ut)):it):at!=null&&(it=/^--/.test(it)?it:it.replace(/[A-Z]/g,"-$&").toLowerCase(),ot+=o.p?o.p(it,at):it+":"+at+";")}return tt+(et&&ot?et+"{"+ot+"}":ot)+nt},c$2={},s=rt=>{if(typeof rt=="object"){let et="";for(let tt in rt)et+=tt+s(rt[tt]);return et}return rt},i$1=(rt,et,tt,nt,ot)=>{let it=s(rt),at=c$2[it]||(c$2[it]=(ut=>{let ft=0,ht=11;for(;ft<ut.length;)ht=101*ht+ut.charCodeAt(ft++)>>>0;return"go"+ht})(it));if(!c$2[at]){let ut=it!==rt?rt:(ft=>{let ht,mt,gt=[{}];for(;ht=l$1.exec(ft.replace(a$1,""));)ht[4]?gt.shift():ht[3]?(mt=ht[3].replace(n$1," ").trim(),gt.unshift(gt[0][mt]=gt[0][mt]||{})):gt[0][ht[1]]=ht[2].replace(n$1," ").trim();return gt[0]})(rt);c$2[at]=o(ot?{["@keyframes "+at]:ut}:ut,tt?"":"."+at)}let st=tt&&c$2.g?c$2.g:null;return tt&&(c$2.g=c$2[at]),((ut,ft,ht,mt)=>{mt?ft.data=ft.data.replace(mt,ut):ft.data.indexOf(ut)===-1&&(ft.data=ht?ut+ft.data:ft.data+ut)})(c$2[at],et,nt,st),at},p$1=(rt,et,tt)=>rt.reduce((nt,ot,it)=>{let at=et[it];if(at&&at.call){let st=at(tt),ut=st&&st.props&&st.props.className||/^go/.test(st)&&st;at=ut?"."+ut:st&&typeof st=="object"?st.props?"":o(st,""):st===!1?"":st}return nt+ot+(at??"")},"");function u$1(rt){let et=this||{},tt=rt.call?rt(et.p):rt;return i$1(tt.unshift?tt.raw?p$1(tt,[].slice.call(arguments,1),et.p):tt.reduce((nt,ot)=>Object.assign(nt,ot&&ot.call?ot(et.p):ot),{}):tt,t$1(et.target),et.g,et.o,et.k)}u$1.bind({g:1});let h$1=u$1.bind({k:1});const ThemeContext=createContext();function ThemeProvider(rt){return createComponent(ThemeContext.Provider,{value:rt.theme,get children(){return rt.children}})}function useTheme(){return useContext(ThemeContext)}function makeStyled(rt){let et=this||{};return(...tt)=>{const nt=ot=>{const it=useContext(ThemeContext),at=mergeProps(ot,{theme:it}),st=mergeProps(at,{get class(){const yt=at.class,xt="class"in at&&/^go[0-9]+/.test(yt);let St=u$1.apply({target:et.target,o:xt,p:at,g:et.g},tt);return[yt,St].filter(Boolean).join(" ")}}),[ut,ft]=splitProps(st,["as","theme"]),ht=ft,mt=ut.as||rt;let gt;return typeof mt=="function"?gt=mt(ht):et.g==1?(gt=document.createElement(mt),spread$1(gt,ht)):gt=Dynamic(mergeProps({component:mt},ht)),gt};return nt.class=ot=>untrack(()=>u$1.apply({target:et.target,p:ot,g:et.g},tt)),nt}}const styled$1=new Proxy(makeStyled,{get(rt,et){return rt(et)}});function createGlobalStyles(){const rt=makeStyled.call({g:1},"div").apply(null,arguments);return function(tt){return rt(tt),null}}const globalStylesTag="tc-root",disableScrollClass="tc-disable-scroll",usingMouseClass="tc-using-mouse",GlobalStyles=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(usingMouseClass)),document.body.addEventListener("keydown",et=>{et.key==="Tab"&&document.body.classList.remove(usingMouseClass)});const rt=createGlobalStyles`
    ${globalStylesTag} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${globalStylesTag} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${globalStylesTag} *:focus {
        outline: #08f auto 2px;
    }
    
    ${globalStylesTag} li {
        list-style: none;
    }
    
    ${globalStylesTag} button {
        outline: none;
    }
    
    body.${disableScrollClass} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${usingMouseClass} ${globalStylesTag} *:focus {
        outline: none;
    }
`;return createComponent(rt,{})};function hexToRgb(rt){rt[0]==="#"&&(rt=rt.slice(1));const et=parseInt(rt,16),tt=et>>16&255,nt=et>>8&255,ot=et&255;return[tt,nt,ot].join(",")}function rgba(rt,et){return rt[0]==="#"&&(rt=hexToRgb(rt)),`rgba(${rt}, ${et})`}function toPx(rt){return rt.toString()+"px"}const _InMemoryStorage=class{constructor(){__publicField(this,"storage",{})}static getInstance(){return _InMemoryStorage.instance||(_InMemoryStorage.instance=new _InMemoryStorage),_InMemoryStorage.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(rt){var et;return(et=this.storage[rt])!=null?et:null}key(rt){var et;const tt=Object.keys(this.storage);return rt<0||rt>=tt.length?null:(et=tt[rt])!=null?et:null}removeItem(rt){delete this.storage[rt]}setItem(rt,et){this.storage[rt]=et}};let InMemoryStorage=_InMemoryStorage;__publicField(InMemoryStorage,"instance");class TonConnectUIError extends TonConnectError{constructor(...et){super(...et),Object.setPrototypeOf(this,TonConnectUIError.prototype)}}function logDebug(...rt){try{console.debug("[TON_CONNECT_UI]",...rt)}catch{}}function logError(...rt){try{console.error("[TON_CONNECT_UI]",...rt)}catch{}}function logWarning(...rt){try{console.warn("[TON_CONNECT_UI]",...rt)}catch{}}function openLink(rt,et="_self"){logDebug("openLink",rt,et),window.open(rt,et,"noopener noreferrer")}function openLinkBlank(rt){openLink(rt,"_blank")}function openDeeplinkWithFallback(rt,et){const tt=()=>{isBrowser("safari")||isOS("android")&&isBrowser("firefox")||et()},nt=setTimeout(()=>tt(),200);window.addEventListener("blur",()=>clearTimeout(nt),{once:!0}),openLink(rt,"_self")}function getSystemTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?THEME.LIGHT:THEME.DARK}function subscribeToThemeChange(rt){const et=tt=>rt(tt.matches?THEME.DARK:THEME.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",et),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",et)}function disableScroll(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=toPx(-document.documentElement.scrollTop),document.body.classList.add(disableScrollClass))}function enableScroll(){document.body.classList.remove(disableScrollClass),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function fixMobileSafariActiveTransition(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function defineStylesRoot(){customElements.define(globalStylesTag,class extends HTMLElement{})}function createMacrotask(rt){return __async(this,null,function*(){yield new Promise(et=>requestAnimationFrame(et)),rt()})}function createMacrotaskAsync(rt){return __async(this,null,function*(){return yield new Promise(et=>requestAnimationFrame(et)),rt()})}function preloadImages(rt){document.readyState!=="complete"?window.addEventListener("load",()=>createMacrotask(()=>preloadImages(rt)),{once:!0}):rt.forEach(et=>{const tt=new window.Image;tt.src=et})}function getWindow$1(){if(typeof window<"u")return window}function tryGetLocalStorage(){if(isLocalStorageAvailable())return localStorage;if(isNodeJs())throw new TonConnectUIError("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return InMemoryStorage.getInstance()}function isLocalStorageAvailable(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs(){return typeof api$2<"u"&&api$2.versions!=null&&api$2.versions.node!=null}function getUserAgent(){var rt,et,tt;const nt=new UAParser().getResult(),ot=(rt=nt.os.name)==null?void 0:rt.toLowerCase(),it=(et=nt.device.model)==null?void 0:et.toLowerCase();let at;switch(!0){case it==="ipad":at="ipad";break;case ot==="ios":at="ios";break;case ot==="android":at="android";break;case ot==="mac os":at="macos";break;case ot==="linux":at="linux";break;case(ot==null?void 0:ot.includes("windows")):at="windows";break}const st=(tt=nt.browser.name)==null?void 0:tt.toLowerCase();let ut;switch(!0){case st==="chrome":ut="chrome";break;case st==="firefox":ut="firefox";break;case(st==null?void 0:st.includes("safari")):ut="safari";break;case(st==null?void 0:st.includes("opera")):ut="opera";break}return{os:at,browser:ut}}function isOS(...rt){return rt.includes(getUserAgent().os)}function isBrowser(...rt){return rt.includes(getUserAgent().browser)}function toDeeplink(rt,et){const tt=new URL(rt);return et+tt.search}class WalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_wallet-info"),this.localStorage=tryGetLocalStorage()}setWalletInfo(et){this.localStorage.setItem(this.storageKey,JSON.stringify(et))}getWalletInfo(){const et=this.localStorage.getItem(this.storageKey);return et?JSON.parse(et):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}}class PreferredWalletStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_preferred-wallet"),this.localStorage=tryGetLocalStorage()}setPreferredWalletAppName(et){this.localStorage.setItem(this.storageKey,et)}getPreferredWalletAppName(){return this.localStorage.getItem(this.storageKey)||void 0}}class LastSelectedWalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_last-selected-wallet-info"),this.localStorage=tryGetLocalStorage()}setLastSelectedWalletInfo(et){this.localStorage.setItem(this.storageKey,JSON.stringify(et))}getLastSelectedWalletInfo(){const et=this.localStorage.getItem(this.storageKey);return et?JSON.parse(et):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[walletsModalState,setWalletsModalState]=createSignal({status:"closed",closeReason:null}),getWalletsModalIsOpened=createMemo(()=>walletsModalState().status==="opened"),[singleWalletModalState,setSingleWalletModalState]=createSignal({status:"closed",closeReason:null}),getSingleWalletModalIsOpened=createMemo(()=>singleWalletModalState().status==="opened"),getSingleWalletModalWalletInfo=createMemo(()=>{const rt=singleWalletModalState();return rt.status==="opened"?rt.walletInfo:null});let lastSelectedWalletInfoStorage=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;const[lastSelectedWalletInfo,_setLastSelectedWalletInfo]=createSignal((lastSelectedWalletInfoStorage==null?void 0:lastSelectedWalletInfoStorage.getLastSelectedWalletInfo())||null),setLastSelectedWalletInfo=rt=>{lastSelectedWalletInfoStorage||(lastSelectedWalletInfoStorage=new LastSelectedWalletInfoStorage),rt?lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(rt):lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo(),_setLastSelectedWalletInfo(rt)},[action,setAction]=createSignal(null),common$1={close:"Close",openWallet:"Open wallet",copyLink:"Copy Link",linkCopied:"Link Copied",copied:"Copied",yourWallet:"Your Wallet",retry:"Retry",get:"GET",mobile:"Mobile",browserExtension:"Browser Extension",desktop:"Desktop"},button$1={connectWallet:"Connect Wallet",dropdown:{copy:"Copy address",copied:"Address copied!",disconnect:"Disconnect"}},notifications$1={confirm:{header:"Open {{ name }} toconfirm thetransaction."},transactionSent:{header:"Transaction sent",text:"Your transactionwill beprocessed inafew seconds."},transactionCanceled:{header:"Transaction canceled",text:"There will be no changes toyour account."}},walletItem$1={walletOn:"Wallet in",recent:"Recent",installed:"Installed",popular:"Popular"},walletModal$1={loading:"Loading wallets",wallets:"Wallets",mobileUniversalModal:{connectYourWallet:"Connect your TONwallet",openWalletOnTelegramOrSelect:"Use Wallet in Telegram or choose other application",openWalletOnTelegram:"Connect Wallet in Telegram",chooseOtherApplication:"Choose other application",openLink:"Open Link",scan:"Scan with your mobilewallet"},desktopUniversalModal:{connectYourWallet:"Connect your TON wallet",scan:"Scan with your mobile wallet",availableWallets:"Available wallets"},mobileConnectionModal:{showQR:"Show QR Code",scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesnt support the requested action. Please connect another wallet that supports it",continueIn:"Continue in {{ name }}",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",connectionDeclined:"Connection declined"},desktopConnectionModal:{scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",continueInExtension:"Continue in{{ name }} browser extension",dontHaveExtension:"Seems you don't have installed {{ name }}browserextension",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesnt support the requested action. Please connect another wallet that supports it",getWallet:"Get {{ name }}",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",continueOnDesktop:"Continue in{{ name }} on desktop",openWalletOnTelegram:"Connect Wallet in Telegram on desktop",connectionDeclined:"Connection declined"},infoModal:{whatIsAWallet:"What is a wallet",secureDigitalAssets:"Secure digital assets storage",walletProtects:"A wallet protects and manages your digital assetsincluding TON, tokens and collectables.",controlIdentity:"Control your Web3 identity",manageIdentity:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely intheblockchain ecosystem.",effortlessCryptoTransactions:"Effortless crypto transactions",easilySend:"Easily send, receive, monitor your cryptocurrencies.Streamline your operations withdecentralized applications.",getAWallet:"Get a Wallet"},allWallets:{walletsBelowNotSupported:"The wallets below dont support all features ofthe connected service. You can use your recovery phrase in one of the supported wallets above.",walletNotSupportService:"{{ name }} doesnt support connected service"}},actionModal$1={confirmTransaction:{header:"Confirm thetransaction in{{ name }}",text:"It will only take amoment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},en={common:common$1,button:button$1,notifications:notifications$1,walletItem:walletItem$1,walletModal:walletModal$1,actionModal:actionModal$1},common$2={close:"",openWallet:" ",copyLink:"",linkCopied:" ",copied:"",yourWallet:" ",retry:"",get:"",mobile:"",browserExtension:"",desktop:""},button={connectWallet:" ",dropdown:{copy:" ",copied:" !",disconnect:" "}},notifications={confirm:{header:" {{ name }},  ."},transactionSent:{header:" ",text:"    ."},transactionCanceled:{header:" ",text:"   ."}},walletItem={walletOn:"Wallet ",recent:"",installed:"",popular:""},walletModal={loading:" ",wallets:"",mobileUniversalModal:{connectYourWallet:" TON",openWalletOnTelegramOrSelect:" Wallet Telegram   ",openWalletOnTelegram:" Wallet  Telegram",chooseOtherApplication:"  ",openLink:"",scan:"  "},desktopUniversalModal:{connectYourWallet:" TON ",scan:" QR-  ",availableWallets:" "},mobileConnectionModal:{showQR:" QR-",scanQR:" QR-    {{ name }},  ",missingFeatures:" {{ name }},         dApp",notSupportedWallet:"{{ name }}    . ,   ,   ",continueIn:"  {{ name }}",updateWallet:" {{ name }}",chooseAnotherWallet:"  ",connectionDeclined:" "},desktopConnectionModal:{scanQR:" QR-    {{ name }},  ",continueInExtension:"   {{ name }}",dontHaveExtension:",    {{ name }}",missingFeatures:" {{ name }},         dApp",notSupportedWallet:"{{ name }}    . ,   ,   ",getWallet:" {{ name }}",updateWallet:" {{ name }}",chooseAnotherWallet:"  ",continueOnDesktop:" {{ name }} ",openWalletOnTelegram:" Wallet Telegram",connectionDeclined:" "},infoModal:{whatIsAWallet:"  ?",secureDigitalAssets:"   ",walletProtects:"    ,  TON,   ,  .",controlIdentity:"   Web3",manageIdentity:"        .       .",effortlessCryptoTransactions:" ",easilySend:" ,    .      .",getAWallet:" "},allWallets:{walletsBelowNotSupported:"       .            .",walletNotSupportService:"{{ name }}    "}},actionModal={confirmTransaction:{header:"  {{ name }}",text:"   ."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},ru={common:common$2,button,notifications,walletItem,walletModal,actionModal},i18nDictionary={en:parseDictionary(en),ru:parseDictionary(ru)};function parseDictionary(rt){const et="$",tt=nt=>{Object.entries(nt).forEach(([ot,it])=>{if(typeof it=="object"&&it)return tt(it);if(typeof it=="string"){if(it[0]===et){const at=it.slice(1).split(".");let st=rt;at.forEach(ut=>{if(ut in st)st=st[ut];else throw new Error(`Cannot parse translations: there is no property ${ut} in translation`)}),nt[ot]=st}it.slice(0,2)===`\\${et}`&&(nt[ot]=it.slice(1))}})};return tt(rt),rt}const ConnectorContext=createContext(),$RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$NAME=Symbol("store-name");function wrap$1(rt,et){let tt=rt[$PROXY];if(!tt&&(Object.defineProperty(rt,$PROXY,{value:tt=new Proxy(rt,proxyTraps$1)}),!Array.isArray(rt))){const nt=Object.keys(rt),ot=Object.getOwnPropertyDescriptors(rt);for(let it=0,at=nt.length;it<at;it++){const st=nt[it];ot[st].get&&Object.defineProperty(rt,st,{enumerable:ot[st].enumerable,get:ot[st].get.bind(tt)})}}return tt}function isWrappable(rt){let et;return rt!=null&&typeof rt=="object"&&(rt[$PROXY]||!(et=Object.getPrototypeOf(rt))||et===Object.prototype||Array.isArray(rt))}function unwrap(rt,et=new Set){let tt,nt,ot,it;if(tt=rt!=null&&rt[$RAW])return tt;if(!isWrappable(rt)||et.has(rt))return rt;if(Array.isArray(rt)){Object.isFrozen(rt)?rt=rt.slice(0):et.add(rt);for(let at=0,st=rt.length;at<st;at++)ot=rt[at],(nt=unwrap(ot,et))!==ot&&(rt[at]=nt)}else{Object.isFrozen(rt)?rt=Object.assign({},rt):et.add(rt);const at=Object.keys(rt),st=Object.getOwnPropertyDescriptors(rt);for(let ut=0,ft=at.length;ut<ft;ut++)it=at[ut],!st[it].get&&(ot=rt[it],(nt=unwrap(ot,et))!==ot&&(rt[it]=nt))}return rt}function getDataNodes(rt){let et=rt[$NODE];return et||Object.defineProperty(rt,$NODE,{value:et={}}),et}function getDataNode(rt,et,tt){return rt[et]||(rt[et]=createDataNode(tt))}function proxyDescriptor$1(rt,et){const tt=Reflect.getOwnPropertyDescriptor(rt,et);return!tt||tt.get||!tt.configurable||et===$PROXY||et===$NODE||et===$NAME||(delete tt.value,delete tt.writable,tt.get=()=>rt[$PROXY][et]),tt}function trackSelf(rt){if(getListener()){const et=getDataNodes(rt);(et._||(et._=createDataNode()))()}}function ownKeys(rt){return trackSelf(rt),Reflect.ownKeys(rt)}function createDataNode(rt){const[et,tt]=createSignal(rt,{equals:!1,internal:!0});return et.$=tt,et}const proxyTraps$1={get(rt,et,tt){if(et===$RAW)return rt;if(et===$PROXY)return tt;if(et===$TRACK)return trackSelf(rt),tt;const nt=getDataNodes(rt),ot=nt.hasOwnProperty(et);let it=ot?nt[et]():rt[et];if(et===$NODE||et==="__proto__")return it;if(!ot){const at=Object.getOwnPropertyDescriptor(rt,et);getListener()&&(typeof it!="function"||rt.hasOwnProperty(et))&&!(at&&at.get)&&(it=getDataNode(nt,et,it)())}return isWrappable(it)?wrap$1(it):it},has(rt,et){return et===$RAW||et===$PROXY||et===$TRACK||et===$NODE||et==="__proto__"?!0:(this.get(rt,et,rt),et in rt)},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor$1};function setProperty(rt,et,tt,nt=!1){if(!nt&&rt[et]===tt)return;const ot=rt[et],it=rt.length;tt===void 0?delete rt[et]:rt[et]=tt;let at=getDataNodes(rt),st;(st=getDataNode(at,et,ot))&&st.$(()=>tt),Array.isArray(rt)&&rt.length!==it&&(st=getDataNode(at,"length",it))&&st.$(rt.length),(st=at._)&&st.$()}function mergeStoreNode(rt,et){const tt=Object.keys(et);for(let nt=0;nt<tt.length;nt+=1){const ot=tt[nt];setProperty(rt,ot,et[ot])}}function updateArray(rt,et){if(typeof et=="function"&&(et=et(rt)),et=unwrap(et),Array.isArray(et)){if(rt===et)return;let tt=0,nt=et.length;for(;tt<nt;tt++){const ot=et[tt];rt[tt]!==ot&&setProperty(rt,tt,ot)}setProperty(rt,"length",nt)}else mergeStoreNode(rt,et)}function updatePath(rt,et,tt=[]){let nt,ot=rt;if(et.length>1){nt=et.shift();const at=typeof nt,st=Array.isArray(rt);if(Array.isArray(nt)){for(let ut=0;ut<nt.length;ut++)updatePath(rt,[nt[ut]].concat(et),tt);return}else if(st&&at==="function"){for(let ut=0;ut<rt.length;ut++)nt(rt[ut],ut)&&updatePath(rt,[ut].concat(et),tt);return}else if(st&&at==="object"){const{from:ut=0,to:ft=rt.length-1,by:ht=1}=nt;for(let mt=ut;mt<=ft;mt+=ht)updatePath(rt,[mt].concat(et),tt);return}else if(et.length>1){updatePath(rt[nt],et,[nt].concat(tt));return}ot=rt[nt],tt=[nt].concat(tt)}let it=et[0];typeof it=="function"&&(it=it(ot,tt),it===ot)||nt===void 0&&it==null||(it=unwrap(it),nt===void 0||isWrappable(ot)&&isWrappable(it)&&!Array.isArray(it)?mergeStoreNode(ot,it):setProperty(rt,nt,it))}function createStore$4(...[rt,et]){const tt=unwrap(rt||{}),nt=Array.isArray(tt),ot=wrap$1(tt);function it(...at){batch(()=>{nt&&at.length===1?updateArray(tt,at[0]):updatePath(tt,at)})}return[ot,it]}const defaultLightColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#F1F3F5"},text:{primary:"#0F0F0F",secondary:"#6A7785"}},defaultDarkColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#FFFFFF"},text:{primary:"#E5E5EA",secondary:"#7D7D85"}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject$1(rt){return Object.prototype.toString.call(rt)==="[object Object]"}function isPlainObject$1(rt){var et,tt;return isObject$1(rt)===!1?!1:(et=rt.constructor,et===void 0?!0:(tt=et.prototype,!(isObject$1(tt)===!1||tt.hasOwnProperty("isPrototypeOf")===!1)))}function mergeOptions(rt,et){return rt?deepmerge$1(et,rt,{arrayMerge:(nt,ot,it)=>ot,isMergeableObject:isPlainObject$1}):et}const[themeState,setThemeState]=createStore$4({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"}),themeColorsMappingDefault={[THEME.LIGHT]:defaultLightColorsSet,[THEME.DARK]:defaultDarkColorsSet},themeCustomColors={[THEME.LIGHT]:void 0,[THEME.DARK]:void 0};function setTheme(rt,et){et&&(themeCustomColors[THEME.DARK]=mergeOptions(et[THEME.DARK],themeCustomColors[THEME.DARK]),themeCustomColors[THEME.LIGHT]=mergeOptions(et[THEME.LIGHT],themeCustomColors[THEME.LIGHT])),setThemeState({theme:rt,colors:mergeOptions(themeCustomColors[rt],themeColorsMappingDefault[rt])})}function setBorderRadius(rt){setThemeState({borderRadius:rt})}function setColors(rt){themeCustomColors[THEME.DARK]=mergeOptions(rt[THEME.DARK],themeCustomColors[THEME.DARK]),themeCustomColors[THEME.LIGHT]=mergeOptions(rt[THEME.LIGHT],themeCustomColors[THEME.LIGHT]),setThemeState(et=>({colors:mergeOptions(themeCustomColors[et.theme],themeColorsMappingDefault[et.theme])}))}const ImagePlaceholder=styled$1.div`
    background-color: ${rt=>rt.theme.colors.background.secondary};
`,Image$1=rt=>{let et;const[tt,nt]=createSignal(null);return createEffect(()=>{const ot=new window.Image;return ot.src=rt.src,ot.alt=rt.alt||"",ot.setAttribute("draggable","false"),rt.class&&ot.classList.add(rt.class),ot.complete?nt(ot):(ot.addEventListener("load",()=>nt(ot)),()=>ot.removeEventListener("load",()=>nt(ot)))}),[createComponent(Show,{get when(){return tt()},get children(){return tt()}}),createComponent(Show,{get when(){return!tt()},get children(){return createComponent(ImagePlaceholder,{get class(){return rt.class},ref(ot){const it=et;typeof it=="function"?it(ot):et=ot}})}})]};let initParams={};try{let rt=location.hash.toString();initParams=urlParseHashParams(rt)}catch(rt){}let tmaPlatform="unknown";initParams!=null&&initParams.tgWebAppPlatform&&(tmaPlatform=(_a$1=initParams.tgWebAppPlatform)!=null?_a$1:"unknown");if(tmaPlatform==="unknown"){const rt=getWindow$1();tmaPlatform=(_d=(_c=(_b$1=rt==null?void 0:rt.Telegram)==null?void 0:_b$1.WebApp)==null?void 0:_c.platform)!=null?_d:"unknown"}let webAppVersion="6.0";initParams!=null&&initParams.tgWebAppVersion&&(webAppVersion=initParams.tgWebAppVersion);if(!webAppVersion){const rt=getWindow$1();webAppVersion=(_g=(_f=(_e$1=rt==null?void 0:rt.Telegram)==null?void 0:_e$1.WebApp)==null?void 0:_f.version)!=null?_g:"6.0"}function isTmaPlatform(...rt){return rt.includes(tmaPlatform)}function isInTMA(){var rt;return tmaPlatform!=="unknown"||!!((rt=getWindow$1())!=null&&rt.TelegramWebviewProxy)}function isInTelegramBrowser(){var rt;const et=!!((rt=getWindow$1())!=null&&rt.TelegramWebview);return(isInTMA()||et)&&tmaPlatform==="unknown"}function sendExpand(){postEvent("web_app_expand",{})}function sendOpenTelegramLink(rt,et){const tt=new URL(rt);if(tt.protocol!=="http:"&&tt.protocol!=="https:"){if(et)return et();throw new TonConnectUIError(`Url protocol is not supported: ${tt}`)}if(tt.hostname!=="t.me"){if(et)return et();throw new TonConnectUIError(`Url host is not supported: ${tt}`)}const nt=tt.pathname+tt.search;isIframe()||versionAtLeast("6.1")?postEvent("web_app_open_tg_link",{path_full:nt}):openLinkBlank("https://t.me"+nt)}function isIframe(){try{const rt=getWindow$1();return rt?rt.parent!=null&&rt!==rt.parent:!1}catch{return!1}}function postEvent(rt,et){try{const tt=getWindow$1();if(!tt)throw new TonConnectUIError("Can't post event to parent window: window is not defined");if(tt.TelegramWebviewProxy!==void 0)logDebug("postEvent",rt,et),tt.TelegramWebviewProxy.postEvent(rt,JSON.stringify(et));else if(tt.external&&"notify"in tt.external)logDebug("postEvent",rt,et),tt.external.notify(JSON.stringify({eventType:rt,eventData:et}));else if(isIframe()){const nt="*",ot=JSON.stringify({eventType:rt,eventData:et});logDebug("postEvent",rt,et),tt.parent.postMessage(ot,nt)}else throw new TonConnectUIError("Can't post event to TMA")}catch(tt){logError(`Can't post event to parent window: ${tt}`)}}function urlParseHashParams(rt){rt=rt.replace(/^#/,"");let et={};if(!rt.length)return et;if(rt.indexOf("=")<0&&rt.indexOf("?")<0)return et._path=urlSafeDecode(rt),et;let tt=rt.indexOf("?");if(tt>=0){let ot=rt.substr(0,tt);et._path=urlSafeDecode(ot),rt=rt.substr(tt+1)}let nt=urlParseQueryString(rt);for(let ot in nt)et[ot]=nt[ot];return et}function urlSafeDecode(rt){try{return rt=rt.replace(/\+/g,"%20"),decodeURIComponent(rt)}catch{return rt}}function urlParseQueryString(rt){let et={};if(!rt.length)return et;let tt=rt.split("&"),nt,ot,it,at;for(nt=0;nt<tt.length;nt++)ot=tt[nt].split("="),it=urlSafeDecode(ot[0]),at=ot[1]==null?null:urlSafeDecode(ot[1]),et[it]=at;return et}function versionCompare(rt,et){typeof rt!="string"&&(rt=""),typeof et!="string"&&(et="");let tt=rt.replace(/^\s+|\s+$/g,"").split("."),nt=et.replace(/^\s+|\s+$/g,"").split("."),ot,it,at,st;for(ot=Math.max(tt.length,nt.length),it=0;it<ot;it++)if(at=parseInt(tt[it])||0,st=parseInt(nt[it])||0,at!==st)return at>st?1:-1;return 0}function versionAtLeast(rt){return versionCompare(webAppVersion,rt)>=0}const maxWidth={mobile:440,tablet:1020};function isDevice(rt){const et=getWindow$1();if(!et)return rt==="desktop";if(isTmaPlatform("weba"))return!0;const tt=et.innerWidth;switch(rt){case"desktop":return tt>maxWidth.tablet;case"tablet":return tt>maxWidth.mobile;default:case"mobile":return tt<=maxWidth.mobile||isOS("ios","android","ipad")}}function media(rt){switch(rt){case"mobile":return`@media (max-width: ${maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${maxWidth.tablet}px)`}}const mediaTouch="@media (hover: none)",mediaNotTouch="@media not all and (hover: none)",borders$5={m:"100vh",s:"8px",none:"0"},scaleValues={s:.02,m:.04},ButtonStyled$1=styled$1.button`
    display: ${rt=>rt.leftIcon||rt.rightIcon?"flex":"inline-block"};
    gap: ${rt=>rt.leftIcon||rt.rightIcon?"6px":"unset"};
    align-items: ${rt=>rt.leftIcon||rt.rightIcon?"center":"unset"};
    justify-content: ${rt=>rt.leftIcon||rt.rightIcon?"space-between":"unset"};
    background-color: ${rt=>rt.appearance==="flat"?"transparent":rt.appearance==="secondary"?rt.theme.colors.background.tint:rgba(rt.theme.colors.accent,.12)};
    color: ${rt=>rt.appearance==="secondary"?rt.theme.colors.text.primary:rt.theme.colors.accent};

    padding: ${rt=>rt.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${rt=>rt.leftIcon&&rt.appearance!=="flat"?"12px":"16px"};
    padding-right: ${rt=>rt.rightIcon&&rt.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${rt=>borders$5[rt.theme.borderRadius]};
    cursor: ${rt=>rt.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: ${rt=>rt.disabled?"unset":`scale(${1+scaleValues[rt.scale]})`};
        }
    }

    &:active {
        transform: ${rt=>rt.disabled?"unset":`scale(${1-scaleValues[rt.scale]})`};
    }

    ${mediaTouch} {
        &:active {
            transform: ${rt=>rt.disabled?"unset":`scale(${1-scaleValues[rt.scale]*2})`};
        }
    }
`;function useDataAttributes(rt){const et=untrack(()=>Object.keys(rt).filter(nt=>nt.startsWith("data-"))),[tt]=splitProps(rt,et);return tt}const Button$1=rt=>{const et=useDataAttributes(rt);return createComponent(ButtonStyled$1,mergeProps({get appearance(){return rt.appearance||"primary"},get class(){return rt.class},onClick:tt=>{var nt;return(nt=rt.onClick)==null?void 0:nt.call(rt,tt)},onMouseEnter:tt=>{var nt;return(nt=rt.onMouseEnter)==null?void 0:nt.call(rt,tt)},onMouseLeave:tt=>{var nt;return(nt=rt.onMouseLeave)==null?void 0:nt.call(rt,tt)},ref(tt){const nt=rt.ref;typeof nt=="function"?nt(tt):rt.ref=tt},get disabled(){return rt.disabled},get scale(){return rt.scale||"m"},get leftIcon(){return!!rt.leftIcon},get rightIcon(){return!!rt.rightIcon},"data-tc-button":"true"},et,{get children(){return[createMemo(()=>rt.leftIcon),createMemo(()=>rt.children),createMemo(()=>rt.rightIcon)]}}))};function nextFrame(rt){requestAnimationFrame(()=>{requestAnimationFrame(rt)})}const Transition=rt=>{let et,tt=!0;const[nt,ot]=createSignal(),[it,at]=createSignal(),st=children(()=>rt.children),{onBeforeEnter:ut,onEnter:ft,onAfterEnter:ht,onBeforeExit:mt,onExit:gt,onAfterExit:yt}=rt,xt=createMemo(()=>{const Mt=rt.name||"s";return{enterActiveClass:rt.enterActiveClass||Mt+"-enter-active",enterClass:rt.enterClass||Mt+"-enter",enterToClass:rt.enterToClass||Mt+"-enter-to",exitActiveClass:rt.exitActiveClass||Mt+"-exit-active",exitClass:rt.exitClass||Mt+"-exit",exitToClass:rt.exitToClass||Mt+"-exit-to"}});function St(Mt,Pt){if(!tt||rt.appear){let It=function(Gt){Mt&&(!Gt||Gt.target===Mt)&&(Mt.removeEventListener("transitionend",It),Mt.removeEventListener("animationend",It),Mt.classList.remove(...Dt),Mt.classList.remove(...Nt),batch(()=>{nt()!==Mt&&ot(Mt),it()===Mt&&at(void 0)}),ht&&ht(Mt),rt.mode==="inout"&&Tt(Mt,Pt))};const kt=xt().enterClass.split(" "),Dt=xt().enterActiveClass.split(" "),Nt=xt().enterToClass.split(" ");ut&&ut(Mt),Mt.classList.add(...kt),Mt.classList.add(...Dt),nextFrame(()=>{Mt.classList.remove(...kt),Mt.classList.add(...Nt),ft&&ft(Mt,()=>It()),(!ft||ft.length<2)&&(Mt.addEventListener("transitionend",It),Mt.addEventListener("animationend",It))})}Pt&&!rt.mode?at(Mt):ot(Mt)}function Tt(Mt,Pt){const It=xt().exitClass.split(" "),kt=xt().exitActiveClass.split(" "),Dt=xt().exitToClass.split(" ");if(!Pt.parentNode)return Nt();mt&&mt(Pt),Pt.classList.add(...It),Pt.classList.add(...kt),nextFrame(()=>{Pt.classList.remove(...It),Pt.classList.add(...Dt)}),gt&&gt(Pt,()=>Nt()),(!gt||gt.length<2)&&(Pt.addEventListener("transitionend",Nt),Pt.addEventListener("animationend",Nt));function Nt(Gt){(!Gt||Gt.target===Pt)&&(Pt.removeEventListener("transitionend",Nt),Pt.removeEventListener("animationend",Nt),Pt.classList.remove(...kt),Pt.classList.remove(...Dt),nt()===Pt&&ot(void 0),yt&&yt(Pt),rt.mode==="outin"&&St(Mt,Pt))}}return createComputed(Mt=>{for(et=st();typeof et=="function";)et=et();return untrack(()=>(et&&et!==Mt&&(rt.mode!=="outin"?St(et,Mt):tt&&ot(et)),Mt&&Mt!==et&&rt.mode!=="inout"&&Tt(et,Mt),tt=!1,et))}),[nt,it]};function getRect(rt){const{top:et,bottom:tt,left:nt,right:ot,width:it,height:at}=rt.getBoundingClientRect(),st=rt.parentNode.getBoundingClientRect();return{top:et-st.top,bottom:tt,left:nt-st.left,right:ot,width:it,height:at}}const TransitionGroup=rt=>{const et=children(()=>rt.children),tt=createMemo(()=>{const yt=rt.name||"s";return{enterActiveClass:rt.enterActiveClass||yt+"-enter-active",enterClass:rt.enterClass||yt+"-enter",enterToClass:rt.enterToClass||yt+"-enter-to",exitActiveClass:rt.exitActiveClass||yt+"-exit-active",exitClass:rt.exitClass||yt+"-exit",exitToClass:rt.exitToClass||yt+"-exit-to",moveClass:rt.moveClass||yt+"-move"}}),{onBeforeEnter:nt,onEnter:ot,onAfterEnter:it,onBeforeExit:at,onExit:st,onAfterExit:ut}=rt,[ft,ht]=createSignal();let mt=[],gt=!0;return createComputed(()=>{const yt=et(),xt=[...yt],St=new Set(yt),Tt=new Set(mt),Mt=tt().enterClass.split(" "),Pt=tt().enterActiveClass.split(" "),It=tt().enterToClass.split(" "),kt=tt().exitClass.split(" "),Dt=tt().exitActiveClass.split(" "),Nt=tt().exitToClass.split(" ");for(let Gt=0;Gt<yt.length;Gt++){const Wt=yt[Gt];if(!gt&&!Tt.has(Wt)){let Ot=function(Xt){Wt&&(!Xt||Xt.target===Wt)&&(Wt.removeEventListener("transitionend",Ot),Wt.removeEventListener("animationend",Ot),Wt.classList.remove(...Pt),Wt.classList.remove(...It),it&&it(Wt))};nt&&nt(Wt),Wt.classList.add(...Mt),Wt.classList.add(...Pt),nextFrame(()=>{Wt.classList.remove(...Mt),Wt.classList.add(...It),ot&&ot(Wt,()=>Ot()),(!ot||ot.length<2)&&(Wt.addEventListener("transitionend",Ot),Wt.addEventListener("animationend",Ot))})}}for(let Gt=0;Gt<mt.length;Gt++){const Wt=mt[Gt];if(!St.has(Wt)&&Wt.parentNode){let Ot=function(Xt){(!Xt||Xt.target===Wt)&&(Wt.removeEventListener("transitionend",Ot),Wt.removeEventListener("animationend",Ot),Wt.classList.remove(...Dt),Wt.classList.remove(...Nt),ut&&ut(Wt),mt=mt.filter(Et=>Et!==Wt),ht(mt))};xt.splice(Gt,0,Wt),at&&at(Wt),Wt.classList.add(...kt),Wt.classList.add(...Dt),nextFrame(()=>{Wt.classList.remove(...kt),Wt.classList.add(...Nt)}),st&&st(Wt,()=>Ot()),(!st||st.length<2)&&(Wt.addEventListener("transitionend",Ot),Wt.addEventListener("animationend",Ot))}}mt=xt,ht(xt)}),createEffect(yt=>{const xt=ft();return xt.forEach(St=>{let Tt;(Tt=yt.get(St))?Tt.new&&(Tt.new=!1,Tt.newPos=getRect(St)):yt.set(St,Tt={pos:getRect(St),new:!gt}),Tt.new&&St.addEventListener("transitionend",()=>{Tt.new=!1,St.parentNode&&(Tt.newPos=getRect(St))},{once:!0}),Tt.newPos&&(Tt.pos=Tt.newPos),Tt.newPos=getRect(St)}),gt?(gt=!1,yt):(xt.forEach(St=>{const Tt=yt.get(St),Mt=Tt.pos,Pt=Tt.newPos,It=Mt.left-Pt.left,kt=Mt.top-Pt.top;if(It||kt){Tt.moved=!0;const Dt=St.style;Dt.transform=`translate(${It}px,${kt}px)`,Dt.transitionDuration="0s"}}),document.body.offsetHeight,xt.forEach(St=>{const Tt=yt.get(St);if(Tt.moved){let Mt=function(kt){kt&&kt.target!==St||!St.parentNode||(!kt||/transform$/.test(kt.propertyName))&&(St.removeEventListener("transitionend",Mt),St.classList.remove(...It))};Tt.moved=!1;const Pt=St.style,It=tt().moveClass.split(" ");St.classList.add(...It),Pt.transform=Pt.transitionDuration="",St.addEventListener("transitionend",Mt)}}),yt)},new Map),ft};function clickOutside$1(rt,et){const tt=nt=>{var ot;return!rt.contains(nt.target)&&((ot=et())==null?void 0:ot())};document.body.addEventListener("click",tt),onCleanup(()=>document.body.removeEventListener("click",tt))}function escPressed(rt,et){const tt=nt=>{var ot,it;nt.key==="Escape"&&((ot=document.activeElement)==null||ot.blur(),(it=et())==null||it())};document.body.addEventListener("keydown",tt),onCleanup(()=>document.body.removeEventListener("keydown",tt))}function androidBackHandler$1(rt,et){const{isEnabled:tt,onClose:nt}=et();if(!tt||!(getUserAgent().os==="android"))return;window.history.pushState(ROUTE_STATE,"");const it=at=>{at.preventDefault(),nt()};window.addEventListener("popstate",it,{once:!0}),onCleanup(()=>{window.removeEventListener("popstate",it),createMacrotask(()=>{var at;((at=window.history.state)==null?void 0:at[ROUTE_STATE_KEY])===!0&&window.history.back()})})}const ROUTE_STATE_KEY="androidBackHandler",ROUTE_STATE={[ROUTE_STATE_KEY]:!0},_tmpl$$v=template$1('<svg><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></path></svg>',4,!0),rotationDegrees={left:0,top:90,right:180,bottom:270},ArrowIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary,nt=()=>rt.direction||"left",ot=styled$1("svg")`
        transform: rotate(${it=>rotationDegrees[it.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return createComponent(ot,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return nt()},get children(){const it=_tmpl$$v.cloneNode(!0);return createRenderEffect(()=>setAttribute(it,"fill",tt())),it}})},_tmpl$$u=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.71966 2.71968C3.01255 2.42678 3.48743 2.42677 3.78032 2.71966L8.00002 6.93925L12.2197 2.71967C12.5126 2.42677 12.9874 2.42678 13.2803 2.71967C13.5732 3.01257 13.5732 3.48744 13.2803 3.78033L9.06068 7.99991L13.2803 12.2197C13.5732 12.5126 13.5732 12.9874 13.2803 13.2803C12.9874 13.5732 12.5126 13.5732 12.2197 13.2803L8.00002 9.06057L3.78033 13.2803C3.48744 13.5732 3.01257 13.5732 2.71967 13.2803C2.42678 12.9874 2.42677 12.5126 2.71967 12.2197L6.93936 7.99991L2.71968 3.78034C2.42678 3.48745 2.42677 3.01257 2.71966 2.71968Z"></path></svg>'),CloseIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$u.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},IconButtonStyled=styled$1.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: ${rt=>rt.theme.colors.background.tint};
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,IconButton=rt=>{const et=useDataAttributes(rt),tt=()=>rt.icon||"close";return createComponent(IconButtonStyled,mergeProps({get class(){return rt.class},onClick:()=>rt.onClick(),"data-tc-icon-button":"true"},et,{get children(){return[createComponent(Show,{get when(){return!!rt.children},get children(){return rt.children}}),createComponent(Show,{get when(){return!rt.children},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return tt()==="close"},get children(){return createComponent(CloseIcon,{get fill(){return rt.fill}})}}),createComponent(Match,{get when(){return tt()==="arrow"},get children(){return createComponent(ArrowIcon,{get fill(){return rt.fill}})}}),createComponent(Match,{get when(){return tt()==="question"},get children(){return createComponent(QuestionIcon,{get fill(){return rt.fill}})}}),createComponent(Match,{get when(){return typeof tt()!="string"},get children(){return tt()}})]}})}})]}}))},borders$4={m:"24px",s:"16px",none:"0"},ModalBackgroundStyled=styled$1.div`
    display: flex;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    padding: 20px 0;
    overflow-y: auto;

    ${media("mobile")} {
        padding-bottom: 0;
    }
`,ModalWrapperClass=u$1`
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
    width: fit-content;
    margin: auto;

    ${media("mobile")} {
        width: 100%;
        height: fit-content;
        margin: auto 0 0 0;
    }
`,ModalBodyStyled=styled$1.div`
    position: relative;
    min-height: 100px;
    width: 416px;
    padding: 44px 56px 24px;

    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

    background-color: ${rt=>rt.theme.colors.background.primary};
    border-radius: ${rt=>borders$4[rt.theme.borderRadius]};

    ${media("mobile")} {
        width: 100%;
    }
`,CloseButtonStyled=styled$1(IconButton)`
    position: absolute;
    right: 16px;
    top: 16px;
`,ModalFooterStyled=styled$1.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 16px 16px 18px;
    border-radius: 0 0 ${rt=>borders$4[rt.theme.borderRadius]}
        ${rt=>borders$4[rt.theme.borderRadius]};
`,QuestionButtonStyled=styled$1(IconButton)`
    background-color: ${rt=>rgba(rt.theme.colors.icon.secondary,.12)};
`;class AnimationTimelineNoop{constructor(){__publicField(this,"currentTime",0)}}const _AnimationNoop=class{constructor(){__publicField(this,"currentTime",0),__publicField(this,"playbackRate",1),__publicField(this,"startTime",null),__publicField(this,"timeline",new AnimationTimelineNoop),__publicField(this,"finished",Promise.resolve(this)),__publicField(this,"effect",null),__publicField(this,"id",""),__publicField(this,"pending",!1),__publicField(this,"playState","finished"),__publicField(this,"replaceState","active"),__publicField(this,"ready",Promise.resolve(this)),__publicField(this,"oncancel",null),__publicField(this,"onfinish",null),__publicField(this,"onremove",null)}static create(){return _AnimationNoop._instance||(logWarning("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),_AnimationNoop._instance=new _AnimationNoop),_AnimationNoop._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(rt,et,tt){}dispatchEvent(rt){return!1}removeEventListener(rt,et,tt){}updatePlaybackRate(rt){}commitStyles(){}persist(){}};let AnimationNoop=_AnimationNoop;__publicField(AnimationNoop,"_instance",null);function animate(rt,et,tt){return"animate"in rt?rt.animate(et,tt):AnimationNoop.create()}const _tmpl$$t=template$1("<div></div>"),clickOutside=clickOutside$1,keyPressed=escPressed,androidBackHandler=androidBackHandler$1,Modal=rt=>{const et=useTheme(),tt=useDataAttributes(rt);return createEffect(()=>{rt.opened?disableScroll():enableScroll()}),createComponent(Transition,{onBeforeEnter:nt=>{const ot=isDevice("mobile")?200:100;animate(nt,[{opacity:0},{opacity:1}],{duration:ot}),isDevice("mobile")&&animate(nt.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:ot})},onExit:(nt,ot)=>{const it=isDevice("mobile")?200:100,at=animate(nt,[{opacity:1},{opacity:0}],{duration:it});if(isDevice("mobile")){const st=animate(nt.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:it});Promise.all([at.finished,st.finished]).then(ot)}else at.finished.then(ot)},get children(){return createComponent(Show,{get when(){return rt.opened},get children(){return createComponent(ModalBackgroundStyled,mergeProps({"data-tc-modal":"true"},tt,{get children(){const nt=_tmpl$$t.cloneNode(!0);return use(androidBackHandler,nt,()=>({isEnabled:rt.enableAndroidBackHandler,onClose:()=>rt.onClose()})),use(keyPressed,nt,()=>()=>rt.onClose()),use(clickOutside,nt,()=>()=>rt.onClose()),insert(nt,createComponent(ModalBodyStyled,{get class(){return rt.class},get children(){return[createComponent(CloseButtonStyled,{icon:"close",onClick:()=>rt.onClose()}),createMemo(()=>rt.children)]}}),null),insert(nt,createComponent(Show,{get when(){return rt.onClickQuestion},get children(){return createComponent(ModalFooterStyled,{get children(){return[createComponent(TonConnectBrand,{}),createComponent(QuestionButtonStyled,{get onClick(){return rt.onClickQuestion},icon:"question"})]}})}}),null),createRenderEffect(()=>className(nt,cn(ModalWrapperClass,u$1`
                                border-radius: ${borders$4[et.borderRadius]};
                                background-color: ${et.colors.background.tint};

                                ${media("mobile")} {
                                    border-radius: ${borders$4[et.borderRadius]}
                                        ${borders$4[et.borderRadius]} 0 0;
                                }
                            `))),nt}}))}})}})},wrapperBorderRadius={m:"22px",s:"12px",none:"0"},sliderBorderRadius={m:"18px",s:"8px",none:"0"},TabBarStyled=styled$1.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${rt=>wrapperBorderRadius[rt.theme.borderRadius]};

    background-color: ${rt=>rt.theme.colors.background.secondary};
`,SliderStyled=styled$1.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${rt=>sliderBorderRadius[rt.theme.borderRadius]};
    background-color: ${rt=>rt.theme.colors.background.segment};

    transform: ${rt=>rt.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`,InputStyled=styled$1.input`
    display: none;
`,LabelStyled=styled$1.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${rt=>rt.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${rt=>rt.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${rt=>rt.isActive?"":`color: ${rt.theme.colors.text.secondary};`}
    }
`,TabBar=rt=>{const et="tabBar"+Math.floor(Math.random()*1e4);return createComponent(TabBarStyled,{get class(){return rt.class},"data-tc-tab-bar":"true",get children(){return[createComponent(SliderStyled,{get right(){return rt.selectedTabIndex===1}}),createComponent(LabelStyled,{get isActive(){return rt.selectedTabIndex===0},get children(){return[createComponent(InputStyled,{type:"radio",name:et,get checked(){return rt.selectedTabIndex===0},onInput:()=>{var tt;return(tt=rt.onSelectedTabIndexChange)==null?void 0:tt.call(rt,0)}}),createMemo(()=>rt.tab1)]}}),createComponent(LabelStyled,{get isActive(){return rt.selectedTabIndex===1},get children(){return[createComponent(InputStyled,{type:"radio",get checked(){return rt.selectedTabIndex===1},name:et,onInput:()=>{var tt;return(tt=rt.onSelectedTabIndexChange)==null?void 0:tt.call(rt,1)}}),createMemo(()=>rt.tab2)]}})]}})},backgroundBorders={m:"16px",s:"12px",none:"0"},imageBorders={m:"12px",s:"8px",none:"0"},qrNormalSize=256,imgSizeDefault=60,picSizeDefault=48,qrPaddingTop=24,CopyIconButton=styled$1.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,QrCodeBackground=styled$1.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${rt=>rt.theme.colors.background.qr};
    border-radius: ${rt=>backgroundBorders[rt.theme.borderRadius]};
    padding: ${toPx(qrPaddingTop)} 0;
    height: ${toPx(qrNormalSize+qrPaddingTop*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${mediaNotTouch} {
        &:hover {
            ${CopyIconButton.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${CopyIconButton.class} {
            transform: scale(0.96);
        }
    }

    ${mediaTouch} {
        &:active {
            ${CopyIconButton.class} {
                transform: scale(0.92);
            }
        }
    }
`,QrCodeWrapper$2=styled$1.div`
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    rect {
        fill: transparent;
    }

    path {
        fill: ${rt=>rt.theme.colors.constant.black};
    }
`,ImageBackground=styled$1.div`
    position: absolute;
    width: ${toPx(imgSizeDefault)};
    height: ${toPx(imgSizeDefault)};
    background: ${rt=>rt.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,ImageStyled$3=styled$1(Image$1)`
    width: ${rt=>toPx(rt.size)};
    height: ${rt=>toPx(rt.size)};
    border-radius: ${rt=>imageBorders[rt.theme.borderRadius]};
    background-color: ${rt=>rt.theme.colors.background.qr};
`,CopiedBoxStyled=styled$1.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${rt=>rt.theme.colors.background.segment};
`;var qrcode$1={exports:{}};(function(rt,et){var tt=function(){var nt=function(Dt,Nt){var Gt=236,Wt=17,Ot=Dt,Xt=it[Nt],Et=null,lt=0,dt=null,pt=[],vt={},wt=function(Vt,nr){lt=Ot*4+17,Et=function(or){for(var rr=new Array(or),$t=0;$t<or;$t+=1){rr[$t]=new Array(or);for(var ar=0;ar<or;ar+=1)rr[$t][ar]=null}return rr}(lt),At(0,0),At(lt-7,0),At(0,lt-7),ct(),bt(),Lt(Vt,nr),Ot>=7&&_t(Vt),dt==null&&(dt=Zt(Ot,Xt,pt)),Ft(dt,nr)},At=function(Vt,nr){for(var or=-1;or<=7;or+=1)if(!(Vt+or<=-1||lt<=Vt+or))for(var rr=-1;rr<=7;rr+=1)nr+rr<=-1||lt<=nr+rr||(0<=or&&or<=6&&(rr==0||rr==6)||0<=rr&&rr<=6&&(or==0||or==6)||2<=or&&or<=4&&2<=rr&&rr<=4?Et[Vt+or][nr+rr]=!0:Et[Vt+or][nr+rr]=!1)},Rt=function(){for(var Vt=0,nr=0,or=0;or<8;or+=1){wt(!0,or);var rr=st.getLostPoint(vt);(or==0||Vt>rr)&&(Vt=rr,nr=or)}return nr},bt=function(){for(var Vt=8;Vt<lt-8;Vt+=1)Et[Vt][6]==null&&(Et[Vt][6]=Vt%2==0);for(var nr=8;nr<lt-8;nr+=1)Et[6][nr]==null&&(Et[6][nr]=nr%2==0)},ct=function(){for(var Vt=st.getPatternPosition(Ot),nr=0;nr<Vt.length;nr+=1)for(var or=0;or<Vt.length;or+=1){var rr=Vt[nr],$t=Vt[or];if(Et[rr][$t]==null)for(var ar=-2;ar<=2;ar+=1)for(var wr=-2;wr<=2;wr+=1)ar==-2||ar==2||wr==-2||wr==2||ar==0&&wr==0?Et[rr+ar][$t+wr]=!0:Et[rr+ar][$t+wr]=!1}},_t=function(Vt){for(var nr=st.getBCHTypeNumber(Ot),or=0;or<18;or+=1){var rr=!Vt&&(nr>>or&1)==1;Et[Math.floor(or/3)][or%3+lt-8-3]=rr}for(var or=0;or<18;or+=1){var rr=!Vt&&(nr>>or&1)==1;Et[or%3+lt-8-3][Math.floor(or/3)]=rr}},Lt=function(Vt,nr){for(var or=Xt<<3|nr,rr=st.getBCHTypeInfo(or),$t=0;$t<15;$t+=1){var ar=!Vt&&(rr>>$t&1)==1;$t<6?Et[$t][8]=ar:$t<8?Et[$t+1][8]=ar:Et[lt-15+$t][8]=ar}for(var $t=0;$t<15;$t+=1){var ar=!Vt&&(rr>>$t&1)==1;$t<8?Et[8][lt-$t-1]=ar:$t<9?Et[8][15-$t-1+1]=ar:Et[8][15-$t-1]=ar}Et[lt-8][8]=!Vt},Ft=function(Vt,nr){for(var or=-1,rr=lt-1,$t=7,ar=0,wr=st.getMaskFunction(nr),vr=lt-1;vr>0;vr-=2)for(vr==6&&(vr-=1);;){for(var Qt=0;Qt<2;Qt+=1)if(Et[rr][vr-Qt]==null){var Yt=!1;ar<Vt.length&&(Yt=(Vt[ar]>>>$t&1)==1);var Ht=wr(rr,vr-Qt);Ht&&(Yt=!Yt),Et[rr][vr-Qt]=Yt,$t-=1,$t==-1&&(ar+=1,$t=7)}if(rr+=or,rr<0||lt<=rr){rr-=or,or=-or;break}}},jt=function(Vt,nr){for(var or=0,rr=0,$t=0,ar=new Array(nr.length),wr=new Array(nr.length),vr=0;vr<nr.length;vr+=1){var Qt=nr[vr].dataCount,Yt=nr[vr].totalCount-Qt;rr=Math.max(rr,Qt),$t=Math.max($t,Yt),ar[vr]=new Array(Qt);for(var Ht=0;Ht<ar[vr].length;Ht+=1)ar[vr][Ht]=255&Vt.getBuffer()[Ht+or];or+=Qt;var tr=st.getErrorCorrectPolynomial(Yt),br=ft(ar[vr],tr.getLength()-1),gr=br.mod(tr);wr[vr]=new Array(tr.getLength()-1);for(var Ht=0;Ht<wr[vr].length;Ht+=1){var Sr=Ht+gr.getLength()-wr[vr].length;wr[vr][Ht]=Sr>=0?gr.getAt(Sr):0}}for(var pr=0,Ht=0;Ht<nr.length;Ht+=1)pr+=nr[Ht].totalCount;for(var er=new Array(pr),yr=0,Ht=0;Ht<rr;Ht+=1)for(var vr=0;vr<nr.length;vr+=1)Ht<ar[vr].length&&(er[yr]=ar[vr][Ht],yr+=1);for(var Ht=0;Ht<$t;Ht+=1)for(var vr=0;vr<nr.length;vr+=1)Ht<wr[vr].length&&(er[yr]=wr[vr][Ht],yr+=1);return er},Zt=function(Vt,nr,or){for(var rr=ht.getRSBlocks(Vt,nr),$t=mt(),ar=0;ar<or.length;ar+=1){var wr=or[ar];$t.put(wr.getMode(),4),$t.put(wr.getLength(),st.getLengthInBits(wr.getMode(),Vt)),wr.write($t)}for(var vr=0,ar=0;ar<rr.length;ar+=1)vr+=rr[ar].dataCount;if($t.getLengthInBits()>vr*8)throw"code length overflow. ("+$t.getLengthInBits()+">"+vr*8+")";for($t.getLengthInBits()+4<=vr*8&&$t.put(0,4);$t.getLengthInBits()%8!=0;)$t.putBit(!1);for(;!($t.getLengthInBits()>=vr*8||($t.put(Gt,8),$t.getLengthInBits()>=vr*8));)$t.put(Wt,8);return jt($t,rr)};vt.addData=function(Vt,nr){nr=nr||"Byte";var or=null;switch(nr){case"Numeric":or=gt(Vt);break;case"Alphanumeric":or=yt(Vt);break;case"Byte":or=xt(Vt);break;case"Kanji":or=St(Vt);break;default:throw"mode:"+nr}pt.push(or),dt=null},vt.isDark=function(Vt,nr){if(Vt<0||lt<=Vt||nr<0||lt<=nr)throw Vt+","+nr;return Et[Vt][nr]},vt.getModuleCount=function(){return lt},vt.make=function(){if(Ot<1){for(var Vt=1;Vt<40;Vt++){for(var nr=ht.getRSBlocks(Vt,Xt),or=mt(),rr=0;rr<pt.length;rr++){var $t=pt[rr];or.put($t.getMode(),4),or.put($t.getLength(),st.getLengthInBits($t.getMode(),Vt)),$t.write(or)}for(var ar=0,rr=0;rr<nr.length;rr++)ar+=nr[rr].dataCount;if(or.getLengthInBits()<=ar*8)break}Ot=Vt}wt(!1,Rt())},vt.createTableTag=function(Vt,nr){Vt=Vt||2,nr=typeof nr>"u"?Vt*4:nr;var or="";or+='<table style="',or+=" border-width: 0px; border-style: none;",or+=" border-collapse: collapse;",or+=" padding: 0px; margin: "+nr+"px;",or+='">',or+="<tbody>";for(var rr=0;rr<vt.getModuleCount();rr+=1){or+="<tr>";for(var $t=0;$t<vt.getModuleCount();$t+=1)or+='<td style="',or+=" border-width: 0px; border-style: none;",or+=" border-collapse: collapse;",or+=" padding: 0px; margin: 0px;",or+=" width: "+Vt+"px;",or+=" height: "+Vt+"px;",or+=" background-color: ",or+=vt.isDark(rr,$t)?"#000000":"#ffffff",or+=";",or+='"/>';or+="</tr>"}return or+="</tbody>",or+="</table>",or},vt.createSvgTag=function(Vt,nr,or,rr){var $t={};typeof arguments[0]=="object"&&($t=arguments[0],Vt=$t.cellSize,nr=$t.margin,or=$t.alt,rr=$t.title),Vt=Vt||2,nr=typeof nr>"u"?Vt*4:nr,or=typeof or=="string"?{text:or}:or||{},or.text=or.text||null,or.id=or.text?or.id||"qrcode-description":null,rr=typeof rr=="string"?{text:rr}:rr||{},rr.text=rr.text||null,rr.id=rr.text?rr.id||"qrcode-title":null;var ar=vt.getModuleCount()*Vt+nr*2,wr,vr,Qt,Yt,Ht="",tr;for(tr="l"+Vt+",0 0,"+Vt+" -"+Vt+",0 0,-"+Vt+"z ",Ht+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ht+=$t.scalable?"":' width="'+ar+'px" height="'+ar+'px"',Ht+=' viewBox="0 0 '+ar+" "+ar+'" ',Ht+=' preserveAspectRatio="xMinYMin meet"',Ht+=rr.text||or.text?' role="img" aria-labelledby="'+Kt([rr.id,or.id].join(" ").trim())+'"':"",Ht+=">",Ht+=rr.text?'<title id="'+Kt(rr.id)+'">'+Kt(rr.text)+"</title>":"",Ht+=or.text?'<description id="'+Kt(or.id)+'">'+Kt(or.text)+"</description>":"",Ht+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ht+='<path d="',Qt=0;Qt<vt.getModuleCount();Qt+=1)for(Yt=Qt*Vt+nr,wr=0;wr<vt.getModuleCount();wr+=1)vt.isDark(Qt,wr)&&(vr=wr*Vt+nr,Ht+="M"+vr+","+Yt+tr);return Ht+='" stroke="transparent" fill="black"/>',Ht+="</svg>",Ht},vt.createDataURL=function(Vt,nr){Vt=Vt||2,nr=typeof nr>"u"?Vt*4:nr;var or=vt.getModuleCount()*Vt+nr*2,rr=nr,$t=or-nr;return kt(or,or,function(ar,wr){if(rr<=ar&&ar<$t&&rr<=wr&&wr<$t){var vr=Math.floor((ar-rr)/Vt),Qt=Math.floor((wr-rr)/Vt);return vt.isDark(Qt,vr)?0:1}else return 1})},vt.createImgTag=function(Vt,nr,or){Vt=Vt||2,nr=typeof nr>"u"?Vt*4:nr;var rr=vt.getModuleCount()*Vt+nr*2,$t="";return $t+="<img",$t+=' src="',$t+=vt.createDataURL(Vt,nr),$t+='"',$t+=' width="',$t+=rr,$t+='"',$t+=' height="',$t+=rr,$t+='"',or&&($t+=' alt="',$t+=Kt(or),$t+='"'),$t+="/>",$t};var Kt=function(Vt){for(var nr="",or=0;or<Vt.length;or+=1){var rr=Vt.charAt(or);switch(rr){case"<":nr+="&lt;";break;case">":nr+="&gt;";break;case"&":nr+="&amp;";break;case'"':nr+="&quot;";break;default:nr+=rr;break}}return nr},zt=function(Vt){var nr=1;Vt=typeof Vt>"u"?nr*2:Vt;var or=vt.getModuleCount()*nr+Vt*2,rr=Vt,$t=or-Vt,ar,wr,vr,Qt,Yt,Ht={"":""," ":""," ":"","  ":" "},tr={"":""," ":""," ":" ","  ":" "},br="";for(ar=0;ar<or;ar+=2){for(vr=Math.floor((ar-rr)/nr),Qt=Math.floor((ar+1-rr)/nr),wr=0;wr<or;wr+=1)Yt="",rr<=wr&&wr<$t&&rr<=ar&&ar<$t&&vt.isDark(vr,Math.floor((wr-rr)/nr))&&(Yt=" "),rr<=wr&&wr<$t&&rr<=ar+1&&ar+1<$t&&vt.isDark(Qt,Math.floor((wr-rr)/nr))?Yt+=" ":Yt+="",br+=Vt<1&&ar+1>=$t?tr[Yt]:Ht[Yt];br+=`
`}return or%2&&Vt>0?br.substring(0,br.length-or-1)+Array(or+1).join(""):br.substring(0,br.length-1)};return vt.createASCII=function(Vt,nr){if(Vt=Vt||1,Vt<2)return zt(nr);Vt-=1,nr=typeof nr>"u"?Vt*2:nr;var or=vt.getModuleCount()*Vt+nr*2,rr=nr,$t=or-nr,ar,wr,vr,Qt,Yt=Array(Vt+1).join(""),Ht=Array(Vt+1).join("  "),tr="",br="";for(ar=0;ar<or;ar+=1){for(vr=Math.floor((ar-rr)/Vt),br="",wr=0;wr<or;wr+=1)Qt=1,rr<=wr&&wr<$t&&rr<=ar&&ar<$t&&vt.isDark(vr,Math.floor((wr-rr)/Vt))&&(Qt=0),br+=Qt?Yt:Ht;for(vr=0;vr<Vt;vr+=1)tr+=br+`
`}return tr.substring(0,tr.length-1)},vt.renderTo2dContext=function(Vt,nr){nr=nr||2;for(var or=vt.getModuleCount(),rr=0;rr<or;rr++)for(var $t=0;$t<or;$t++)Vt.fillStyle=vt.isDark(rr,$t)?"black":"white",Vt.fillRect(rr*nr,$t*nr,nr,nr)},vt};nt.stringToBytesFuncs={default:function(Dt){for(var Nt=[],Gt=0;Gt<Dt.length;Gt+=1){var Wt=Dt.charCodeAt(Gt);Nt.push(Wt&255)}return Nt}},nt.stringToBytes=nt.stringToBytesFuncs.default,nt.createStringToBytes=function(Dt,Nt){var Gt=function(){for(var Ot=Pt(Dt),Xt=function(){var bt=Ot.read();if(bt==-1)throw"eof";return bt},Et=0,lt={};;){var dt=Ot.read();if(dt==-1)break;var pt=Xt(),vt=Xt(),wt=Xt(),At=String.fromCharCode(dt<<8|pt),Rt=vt<<8|wt;lt[At]=Rt,Et+=1}if(Et!=Nt)throw Et+" != "+Nt;return lt}(),Wt="?".charCodeAt(0);return function(Ot){for(var Xt=[],Et=0;Et<Ot.length;Et+=1){var lt=Ot.charCodeAt(Et);if(lt<128)Xt.push(lt);else{var dt=Gt[Ot.charAt(Et)];typeof dt=="number"?(dt&255)==dt?Xt.push(dt):(Xt.push(dt>>>8),Xt.push(dt&255)):Xt.push(Wt)}}return Xt}};var ot={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},it={L:1,M:0,Q:3,H:2},at={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},st=function(){var Dt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Nt=1335,Gt=7973,Wt=21522,Ot={},Xt=function(Et){for(var lt=0;Et!=0;)lt+=1,Et>>>=1;return lt};return Ot.getBCHTypeInfo=function(Et){for(var lt=Et<<10;Xt(lt)-Xt(Nt)>=0;)lt^=Nt<<Xt(lt)-Xt(Nt);return(Et<<10|lt)^Wt},Ot.getBCHTypeNumber=function(Et){for(var lt=Et<<12;Xt(lt)-Xt(Gt)>=0;)lt^=Gt<<Xt(lt)-Xt(Gt);return Et<<12|lt},Ot.getPatternPosition=function(Et){return Dt[Et-1]},Ot.getMaskFunction=function(Et){switch(Et){case at.PATTERN000:return function(lt,dt){return(lt+dt)%2==0};case at.PATTERN001:return function(lt,dt){return lt%2==0};case at.PATTERN010:return function(lt,dt){return dt%3==0};case at.PATTERN011:return function(lt,dt){return(lt+dt)%3==0};case at.PATTERN100:return function(lt,dt){return(Math.floor(lt/2)+Math.floor(dt/3))%2==0};case at.PATTERN101:return function(lt,dt){return lt*dt%2+lt*dt%3==0};case at.PATTERN110:return function(lt,dt){return(lt*dt%2+lt*dt%3)%2==0};case at.PATTERN111:return function(lt,dt){return(lt*dt%3+(lt+dt)%2)%2==0};default:throw"bad maskPattern:"+Et}},Ot.getErrorCorrectPolynomial=function(Et){for(var lt=ft([1],0),dt=0;dt<Et;dt+=1)lt=lt.multiply(ft([1,ut.gexp(dt)],0));return lt},Ot.getLengthInBits=function(Et,lt){if(1<=lt&&lt<10)switch(Et){case ot.MODE_NUMBER:return 10;case ot.MODE_ALPHA_NUM:return 9;case ot.MODE_8BIT_BYTE:return 8;case ot.MODE_KANJI:return 8;default:throw"mode:"+Et}else if(lt<27)switch(Et){case ot.MODE_NUMBER:return 12;case ot.MODE_ALPHA_NUM:return 11;case ot.MODE_8BIT_BYTE:return 16;case ot.MODE_KANJI:return 10;default:throw"mode:"+Et}else if(lt<41)switch(Et){case ot.MODE_NUMBER:return 14;case ot.MODE_ALPHA_NUM:return 13;case ot.MODE_8BIT_BYTE:return 16;case ot.MODE_KANJI:return 12;default:throw"mode:"+Et}else throw"type:"+lt},Ot.getLostPoint=function(Et){for(var lt=Et.getModuleCount(),dt=0,pt=0;pt<lt;pt+=1)for(var vt=0;vt<lt;vt+=1){for(var wt=0,At=Et.isDark(pt,vt),Rt=-1;Rt<=1;Rt+=1)if(!(pt+Rt<0||lt<=pt+Rt))for(var bt=-1;bt<=1;bt+=1)vt+bt<0||lt<=vt+bt||Rt==0&&bt==0||At==Et.isDark(pt+Rt,vt+bt)&&(wt+=1);wt>5&&(dt+=3+wt-5)}for(var pt=0;pt<lt-1;pt+=1)for(var vt=0;vt<lt-1;vt+=1){var ct=0;Et.isDark(pt,vt)&&(ct+=1),Et.isDark(pt+1,vt)&&(ct+=1),Et.isDark(pt,vt+1)&&(ct+=1),Et.isDark(pt+1,vt+1)&&(ct+=1),(ct==0||ct==4)&&(dt+=3)}for(var pt=0;pt<lt;pt+=1)for(var vt=0;vt<lt-6;vt+=1)Et.isDark(pt,vt)&&!Et.isDark(pt,vt+1)&&Et.isDark(pt,vt+2)&&Et.isDark(pt,vt+3)&&Et.isDark(pt,vt+4)&&!Et.isDark(pt,vt+5)&&Et.isDark(pt,vt+6)&&(dt+=40);for(var vt=0;vt<lt;vt+=1)for(var pt=0;pt<lt-6;pt+=1)Et.isDark(pt,vt)&&!Et.isDark(pt+1,vt)&&Et.isDark(pt+2,vt)&&Et.isDark(pt+3,vt)&&Et.isDark(pt+4,vt)&&!Et.isDark(pt+5,vt)&&Et.isDark(pt+6,vt)&&(dt+=40);for(var _t=0,vt=0;vt<lt;vt+=1)for(var pt=0;pt<lt;pt+=1)Et.isDark(pt,vt)&&(_t+=1);var Lt=Math.abs(100*_t/lt/lt-50)/5;return dt+=Lt*10,dt},Ot}(),ut=function(){for(var Dt=new Array(256),Nt=new Array(256),Gt=0;Gt<8;Gt+=1)Dt[Gt]=1<<Gt;for(var Gt=8;Gt<256;Gt+=1)Dt[Gt]=Dt[Gt-4]^Dt[Gt-5]^Dt[Gt-6]^Dt[Gt-8];for(var Gt=0;Gt<255;Gt+=1)Nt[Dt[Gt]]=Gt;var Wt={};return Wt.glog=function(Ot){if(Ot<1)throw"glog("+Ot+")";return Nt[Ot]},Wt.gexp=function(Ot){for(;Ot<0;)Ot+=255;for(;Ot>=256;)Ot-=255;return Dt[Ot]},Wt}();function ft(Dt,Nt){if(typeof Dt.length>"u")throw Dt.length+"/"+Nt;var Gt=function(){for(var Ot=0;Ot<Dt.length&&Dt[Ot]==0;)Ot+=1;for(var Xt=new Array(Dt.length-Ot+Nt),Et=0;Et<Dt.length-Ot;Et+=1)Xt[Et]=Dt[Et+Ot];return Xt}(),Wt={};return Wt.getAt=function(Ot){return Gt[Ot]},Wt.getLength=function(){return Gt.length},Wt.multiply=function(Ot){for(var Xt=new Array(Wt.getLength()+Ot.getLength()-1),Et=0;Et<Wt.getLength();Et+=1)for(var lt=0;lt<Ot.getLength();lt+=1)Xt[Et+lt]^=ut.gexp(ut.glog(Wt.getAt(Et))+ut.glog(Ot.getAt(lt)));return ft(Xt,0)},Wt.mod=function(Ot){if(Wt.getLength()-Ot.getLength()<0)return Wt;for(var Xt=ut.glog(Wt.getAt(0))-ut.glog(Ot.getAt(0)),Et=new Array(Wt.getLength()),lt=0;lt<Wt.getLength();lt+=1)Et[lt]=Wt.getAt(lt);for(var lt=0;lt<Ot.getLength();lt+=1)Et[lt]^=ut.gexp(ut.glog(Ot.getAt(lt))+Xt);return ft(Et,0).mod(Ot)},Wt}var ht=function(){var Dt=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],Nt=function(Ot,Xt){var Et={};return Et.totalCount=Ot,Et.dataCount=Xt,Et},Gt={},Wt=function(Ot,Xt){switch(Xt){case it.L:return Dt[(Ot-1)*4+0];case it.M:return Dt[(Ot-1)*4+1];case it.Q:return Dt[(Ot-1)*4+2];case it.H:return Dt[(Ot-1)*4+3];default:return}};return Gt.getRSBlocks=function(Ot,Xt){var Et=Wt(Ot,Xt);if(typeof Et>"u")throw"bad rs block @ typeNumber:"+Ot+"/errorCorrectionLevel:"+Xt;for(var lt=Et.length/3,dt=[],pt=0;pt<lt;pt+=1)for(var vt=Et[pt*3+0],wt=Et[pt*3+1],At=Et[pt*3+2],Rt=0;Rt<vt;Rt+=1)dt.push(Nt(wt,At));return dt},Gt}(),mt=function(){var Dt=[],Nt=0,Gt={};return Gt.getBuffer=function(){return Dt},Gt.getAt=function(Wt){var Ot=Math.floor(Wt/8);return(Dt[Ot]>>>7-Wt%8&1)==1},Gt.put=function(Wt,Ot){for(var Xt=0;Xt<Ot;Xt+=1)Gt.putBit((Wt>>>Ot-Xt-1&1)==1)},Gt.getLengthInBits=function(){return Nt},Gt.putBit=function(Wt){var Ot=Math.floor(Nt/8);Dt.length<=Ot&&Dt.push(0),Wt&&(Dt[Ot]|=128>>>Nt%8),Nt+=1},Gt},gt=function(Dt){var Nt=ot.MODE_NUMBER,Gt=Dt,Wt={};Wt.getMode=function(){return Nt},Wt.getLength=function(Et){return Gt.length},Wt.write=function(Et){for(var lt=Gt,dt=0;dt+2<lt.length;)Et.put(Ot(lt.substring(dt,dt+3)),10),dt+=3;dt<lt.length&&(lt.length-dt==1?Et.put(Ot(lt.substring(dt,dt+1)),4):lt.length-dt==2&&Et.put(Ot(lt.substring(dt,dt+2)),7))};var Ot=function(Et){for(var lt=0,dt=0;dt<Et.length;dt+=1)lt=lt*10+Xt(Et.charAt(dt));return lt},Xt=function(Et){if("0"<=Et&&Et<="9")return Et.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+Et};return Wt},yt=function(Dt){var Nt=ot.MODE_ALPHA_NUM,Gt=Dt,Wt={};Wt.getMode=function(){return Nt},Wt.getLength=function(Xt){return Gt.length},Wt.write=function(Xt){for(var Et=Gt,lt=0;lt+1<Et.length;)Xt.put(Ot(Et.charAt(lt))*45+Ot(Et.charAt(lt+1)),11),lt+=2;lt<Et.length&&Xt.put(Ot(Et.charAt(lt)),6)};var Ot=function(Xt){if("0"<=Xt&&Xt<="9")return Xt.charCodeAt(0)-"0".charCodeAt(0);if("A"<=Xt&&Xt<="Z")return Xt.charCodeAt(0)-"A".charCodeAt(0)+10;switch(Xt){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+Xt}};return Wt},xt=function(Dt){var Nt=ot.MODE_8BIT_BYTE,Gt=nt.stringToBytes(Dt),Wt={};return Wt.getMode=function(){return Nt},Wt.getLength=function(Ot){return Gt.length},Wt.write=function(Ot){for(var Xt=0;Xt<Gt.length;Xt+=1)Ot.put(Gt[Xt],8)},Wt},St=function(Dt){var Nt=ot.MODE_KANJI,Gt=nt.stringToBytesFuncs.SJIS;if(!Gt)throw"sjis not supported.";(function(Xt,Et){var lt=Gt(Xt);if(lt.length!=2||(lt[0]<<8|lt[1])!=Et)throw"sjis not supported."})("",38726);var Wt=Gt(Dt),Ot={};return Ot.getMode=function(){return Nt},Ot.getLength=function(Xt){return~~(Wt.length/2)},Ot.write=function(Xt){for(var Et=Wt,lt=0;lt+1<Et.length;){var dt=(255&Et[lt])<<8|255&Et[lt+1];if(33088<=dt&&dt<=40956)dt-=33088;else if(57408<=dt&&dt<=60351)dt-=49472;else throw"illegal char at "+(lt+1)+"/"+dt;dt=(dt>>>8&255)*192+(dt&255),Xt.put(dt,13),lt+=2}if(lt<Et.length)throw"illegal char at "+(lt+1)},Ot},Tt=function(){var Dt=[],Nt={};return Nt.writeByte=function(Gt){Dt.push(Gt&255)},Nt.writeShort=function(Gt){Nt.writeByte(Gt),Nt.writeByte(Gt>>>8)},Nt.writeBytes=function(Gt,Wt,Ot){Wt=Wt||0,Ot=Ot||Gt.length;for(var Xt=0;Xt<Ot;Xt+=1)Nt.writeByte(Gt[Xt+Wt])},Nt.writeString=function(Gt){for(var Wt=0;Wt<Gt.length;Wt+=1)Nt.writeByte(Gt.charCodeAt(Wt))},Nt.toByteArray=function(){return Dt},Nt.toString=function(){var Gt="";Gt+="[";for(var Wt=0;Wt<Dt.length;Wt+=1)Wt>0&&(Gt+=","),Gt+=Dt[Wt];return Gt+="]",Gt},Nt},Mt=function(){var Dt=0,Nt=0,Gt=0,Wt="",Ot={},Xt=function(lt){Wt+=String.fromCharCode(Et(lt&63))},Et=function(lt){if(!(lt<0)){if(lt<26)return 65+lt;if(lt<52)return 97+(lt-26);if(lt<62)return 48+(lt-52);if(lt==62)return 43;if(lt==63)return 47}throw"n:"+lt};return Ot.writeByte=function(lt){for(Dt=Dt<<8|lt&255,Nt+=8,Gt+=1;Nt>=6;)Xt(Dt>>>Nt-6),Nt-=6},Ot.flush=function(){if(Nt>0&&(Xt(Dt<<6-Nt),Dt=0,Nt=0),Gt%3!=0)for(var lt=3-Gt%3,dt=0;dt<lt;dt+=1)Wt+="="},Ot.toString=function(){return Wt},Ot},Pt=function(Dt){var Nt=Dt,Gt=0,Wt=0,Ot=0,Xt={};Xt.read=function(){for(;Ot<8;){if(Gt>=Nt.length){if(Ot==0)return-1;throw"unexpected end of file./"+Ot}var lt=Nt.charAt(Gt);if(Gt+=1,lt=="=")return Ot=0,-1;if(lt.match(/^\s$/))continue;Wt=Wt<<6|Et(lt.charCodeAt(0)),Ot+=6}var dt=Wt>>>Ot-8&255;return Ot-=8,dt};var Et=function(lt){if(65<=lt&&lt<=90)return lt-65;if(97<=lt&&lt<=122)return lt-97+26;if(48<=lt&&lt<=57)return lt-48+52;if(lt==43)return 62;if(lt==47)return 63;throw"c:"+lt};return Xt},It=function(Dt,Nt){var Gt=Dt,Wt=Nt,Ot=new Array(Dt*Nt),Xt={};Xt.setPixel=function(pt,vt,wt){Ot[vt*Gt+pt]=wt},Xt.write=function(pt){pt.writeString("GIF87a"),pt.writeShort(Gt),pt.writeShort(Wt),pt.writeByte(128),pt.writeByte(0),pt.writeByte(0),pt.writeByte(0),pt.writeByte(0),pt.writeByte(0),pt.writeByte(255),pt.writeByte(255),pt.writeByte(255),pt.writeString(","),pt.writeShort(0),pt.writeShort(0),pt.writeShort(Gt),pt.writeShort(Wt),pt.writeByte(0);var vt=2,wt=lt(vt);pt.writeByte(vt);for(var At=0;wt.length-At>255;)pt.writeByte(255),pt.writeBytes(wt,At,255),At+=255;pt.writeByte(wt.length-At),pt.writeBytes(wt,At,wt.length-At),pt.writeByte(0),pt.writeString(";")};var Et=function(pt){var vt=pt,wt=0,At=0,Rt={};return Rt.write=function(bt,ct){if(bt>>>ct)throw"length over";for(;wt+ct>=8;)vt.writeByte(255&(bt<<wt|At)),ct-=8-wt,bt>>>=8-wt,At=0,wt=0;At=bt<<wt|At,wt=wt+ct},Rt.flush=function(){wt>0&&vt.writeByte(At)},Rt},lt=function(pt){for(var vt=1<<pt,wt=(1<<pt)+1,At=pt+1,Rt=dt(),bt=0;bt<vt;bt+=1)Rt.add(String.fromCharCode(bt));Rt.add(String.fromCharCode(vt)),Rt.add(String.fromCharCode(wt));var ct=Tt(),_t=Et(ct);_t.write(vt,At);var Lt=0,Ft=String.fromCharCode(Ot[Lt]);for(Lt+=1;Lt<Ot.length;){var jt=String.fromCharCode(Ot[Lt]);Lt+=1,Rt.contains(Ft+jt)?Ft=Ft+jt:(_t.write(Rt.indexOf(Ft),At),Rt.size()<4095&&(Rt.size()==1<<At&&(At+=1),Rt.add(Ft+jt)),Ft=jt)}return _t.write(Rt.indexOf(Ft),At),_t.write(wt,At),_t.flush(),ct.toByteArray()},dt=function(){var pt={},vt=0,wt={};return wt.add=function(At){if(wt.contains(At))throw"dup key:"+At;pt[At]=vt,vt+=1},wt.size=function(){return vt},wt.indexOf=function(At){return pt[At]},wt.contains=function(At){return typeof pt[At]<"u"},wt};return Xt},kt=function(Dt,Nt,Gt){for(var Wt=It(Dt,Nt),Ot=0;Ot<Nt;Ot+=1)for(var Xt=0;Xt<Dt;Xt+=1)Wt.setPixel(Xt,Ot,Gt(Xt,Ot));var Et=Tt();Wt.write(Et);for(var lt=Mt(),dt=Et.toByteArray(),pt=0;pt<dt.length;pt+=1)lt.writeByte(dt[pt]);return lt.flush(),"data:image/gif;base64,"+lt};return nt}();(function(){tt.stringToBytesFuncs["UTF-8"]=function(nt){function ot(it){for(var at=[],st=0;st<it.length;st++){var ut=it.charCodeAt(st);ut<128?at.push(ut):ut<2048?at.push(192|ut>>6,128|ut&63):ut<55296||ut>=57344?at.push(224|ut>>12,128|ut>>6&63,128|ut&63):(st++,ut=65536+((ut&1023)<<10|it.charCodeAt(st)&1023),at.push(240|ut>>18,128|ut>>12&63,128|ut>>6&63,128|ut&63))}return at}return ot(nt)}})(),function(nt){rt.exports=nt()}(function(){return tt})})(qrcode$1);const qrcode=qrcode$1.exports;function copyToClipboard(rt){return __async(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new TonConnectUIError("Clipboard API not available");return yield navigator.clipboard.writeText(rt)}catch{}fallbackCopyTextToClipboard(rt)})}function fallbackCopyTextToClipboard(rt){const et=document.createElement("textarea");et.value=rt,et.style.top="0",et.style.left="0",et.style.position="fixed",document.body.appendChild(et),et.focus(),et.select();try{document.execCommand("copy")}finally{document.body.removeChild(et)}}const _tmpl$$s=template$1("<div></div>"),QRCode=rt=>{let et,tt,nt;const[ot,it]=createSignal(!1),[at,st]=createSignal(picSizeDefault);createEffect(()=>{const gt=qrcode(0,"L");gt.addData(rt.sourceUrl),gt.make(),et.innerHTML=gt.createSvgTag(4,0);const yt=et.firstElementChild.clientWidth,xt=Math.round(qrNormalSize/yt*1e5)/1e5;if(nt){const St=Math.ceil(imgSizeDefault/(xt*4))*4,Tt=toPx(Math.ceil((yt-St)/(2*4))*4);nt.style.top=Tt,nt.style.left=Tt,nt.style.height=toPx(St),nt.style.width=toPx(St),st(Math.round(picSizeDefault/xt))}tt.style.transform=`scale(${xt})`});let ut=null;return createComponent(QrCodeBackground,{get class(){return rt.class},onClick:()=>{it(!0),copyToClipboard(rt.sourceUrl),ut!=null&&clearTimeout(ut),ut=setTimeout(()=>it(!1),1500)},get children(){return[createComponent(QrCodeWrapper$2,{ref(ht){const mt=tt;typeof mt=="function"?mt(ht):tt=ht},get children(){return[(()=>{const ht=_tmpl$$s.cloneNode(!0),mt=et;return typeof mt=="function"?use(mt,ht):et=ht,ht})(),createComponent(Show,{get when(){return rt.imageUrl},get children(){return createComponent(ImageBackground,{ref(ht){const mt=nt;typeof mt=="function"?mt(ht):nt=ht},get children(){return createComponent(ImageStyled$3,{get src(){return rt.imageUrl},alt:"",get size(){return at()}})}})}})]}}),createComponent(Transition,{onBeforeEnter:ht=>{animate(ht,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(ht,mt)=>{animate(ht,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{mt()})},get children(){return createComponent(Show,{get when(){return ot()&&!rt.disableCopy},get children(){return createComponent(CopiedBoxStyled,{get children(){return[createComponent(SuccessIcon,{size:"xs"}),createComponent(Text$2,{translationKey:"common.linkCopied",children:"Link Copied"})]}})}})}}),createComponent(Show,{get when(){return!rt.disableCopy},get children(){return createComponent(CopyIconButton,{get children(){return createComponent(CopyLightIcon,{})}})}})]}})};var deepReadObject=(rt,et,tt)=>{const nt=et.trim().split(".").reduce((ot,it)=>ot?ot[it]:void 0,rt);return nt!==void 0?nt:tt},template=(rt,et,tt=/{{(.*?)}}/g)=>rt.replace(tt,(nt,ot)=>deepReadObject(et,ot,"")),createI18nContext=(rt={},et=navigator.language in rt?navigator.language:Object.keys(rt)[0])=>{const[tt,nt]=createSignal(et),[ot,it]=createStore$4(rt);return[(ut,ft,ht)=>{const mt=deepReadObject(ot[tt()],ut,ht||"");return typeof mt=="function"?mt(ft):typeof mt=="string"?template(mt,ft||{}):mt},{add(ut,ft){it(ut,ht=>Object.assign(ht||{},ft))},locale:ut=>ut?nt(ut):tt(),dict:ut=>deepReadObject(ot,ut)}]},I18nContext=createContext({}),useI18n=()=>useContext(I18nContext);const TextStyled$3=styled$1.div`
    font-style: normal;
    font-weight: ${rt=>rt.fontWeight};
    font-size: ${rt=>rt.fontSize};
    line-height: ${rt=>rt.lineHeight};

    color: ${rt=>rt.color};
`,Text$2=rt=>{const et=useTheme(),[tt]=useI18n();let nt;const ot=()=>rt.color||et.colors.text.primary,it=mergeProps({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},rt);return createEffect(()=>{nt&&it.cursor!=="unset"&&getComputedStyle(nt).cursor!=="pointer"&&(nt.style.cursor="default")}),createComponent(TextStyled$3,{get fontSize(){return it.fontSize},get fontWeight(){return it.fontWeight},get lineHeight(){return it.lineHeight},get color(){return ot()},get class(){return it.class},ref(at){const st=nt;typeof st=="function"?st(at):nt=at},"data-tc-text":"true",get children(){var at;return createMemo(()=>!!it.translationKey)()?tt(it.translationKey,it.translationValues,(at=it.children)==null?void 0:at.toString()):it.children}})},ImageContainer=styled$1.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);
        border-radius: inherit;
    }
`,ImageStyled$2=styled$1(Image$1)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,WalletImage=rt=>createComponent(ImageContainer,{get class(){return rt.class},get children(){return[createComponent(ImageStyled$2,{get src(){return rt.src}}),createMemo(()=>rt.badge)]}}),borders$3={m:"16px",s:"12px",none:"0"},badgeBorders={m:"6px",s:"6px",none:"0"},WalletUlContainer=styled$1.ul`
    display: flex;
    gap: 0;
    width: 100%;
    overflow-x: auto;
    padding: 8px 12px 16px 12px;
    margin: 0;
    list-style: none;
    flex-wrap: nowrap;

    &&::-webkit-scrollbar {
        display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;

    > li {
        display: flex;
        flex: 1;
        min-width: 78px;
        height: fit-content;
    }

    > li > button {
        width: 100%;
    }
`,WalletItemStyled=styled$1.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 100%;
    min-width: 78px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,ImageStyled$1=styled$1(WalletImage)`
    width: 60px;
    height: 60px;
    border-radius: ${rt=>borders$3[rt.theme.borderRadius]};
    margin-bottom: 8px;
    position: relative;
`,BadgeStyled=styled$1(Image$1)`
    position: absolute;
    right: -6px;
    bottom: -6px;
    width: 24px;
    height: 24px;
    border-radius: ${rt=>badgeBorders[rt.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,StyledText=styled$1(Text$2)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${media("mobile")} {
        max-width: 80px;
    }
`,StyledSecondLine=styled$1(Text$2)`
    font-weight: ${rt=>rt.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${rt=>rt.colorPrimary?rt.theme.colors.text.primary:rt.theme.colors.text.secondary};

    ${media("mobile")} {
        max-width: 80px;
    }
`,_tmpl$$r=template$1("<div></div>"),WalletItem=rt=>{let et=null;const tt=()=>{const nt=et==null?void 0:et.querySelector("div");if(nt&&nt.scrollWidth>nt.clientWidth){let ot=0;const it=-.4,at=.05;for(;nt.scrollWidth>nt.clientWidth&&ot>=it;)ot-=at,nt.style.letterSpacing=`${ot}px`;ot!==0&&(ot-=at,nt.style.letterSpacing=`${ot}px`)}};return onMount(()=>tt()),createEffect(()=>{tt()}),createComponent(WalletItemStyled,{get class(){return rt.class},onClick:()=>rt.onClick(),"data-tc-wallet-item":"true",get children(){return[createMemo(()=>createMemo(()=>typeof rt.icon=="string")()?createComponent(ImageStyled$1,{get src(){return rt.icon},get badge(){return createMemo(()=>!!rt.badgeUrl)()&&createComponent(BadgeStyled,{get src(){return rt.badgeUrl}})}}):rt.icon),(()=>{const nt=_tmpl$$r.cloneNode(!0);return use(ot=>et=ot,nt),insert(nt,createComponent(StyledText,{get children(){return rt.name}})),nt})(),createMemo(()=>createMemo(()=>!!rt.secondLine)()&&createComponent(StyledSecondLine,{get colorPrimary(){var nt;return(nt=rt.secondLineColorPrimary)!=null?nt:!0},get children(){return rt.secondLine}}))]}})},H1Styled$9=styled$1.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${rt=>rt.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H1=rt=>{const[et]=useI18n();return createComponent(H1Styled$9,{get class(){return rt.class},"data-tc-h1":"true",get children(){var tt;return createMemo(()=>!!rt.translationKey)()?et(rt.translationKey,rt.translationValues,(tt=rt.children)==null?void 0:tt.toString()):rt.children}})},H2Styled$5=styled$1.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${rt=>rt.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,H2=rt=>{const[et]=useI18n();return createComponent(H2Styled$5,{get class(){return rt.class},"data-tc-h2":"true",get children(){var tt;return createMemo(()=>!!rt.translationKey)()?et(rt.translationKey,rt.translationValues,(tt=rt.children)==null?void 0:tt.toString()):rt.children}})},H3Styled$1=styled$1.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${rt=>rt.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H3=rt=>{const[et]=useI18n();return createComponent(H3Styled$1,{"data-tc-h3":"true",get class(){return rt.class},get children(){var tt;return createMemo(()=>!!rt.translationKey)()?et(rt.translationKey,rt.translationValues,(tt=rt.children)==null?void 0:tt.toString()):rt.children}})},_tmpl$$q=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z"></path></svg>'),TonIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$q.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$p=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_3783_2045)"><circle cx="8" cy="8.00098" r="8"></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_3783_2045"><rect width="16" height="16" fill="white" transform="translate(0 0.000976562)"></rect></clipPath></defs></svg>'),_tmpl$2$4=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z"></path></svg>'),_tmpl$3$2=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z"></path></svg>'),SuccessIcon=rt=>{const et=useTheme(),tt=()=>rt.size||"s",nt=()=>rt.fill||et.colors.icon.success;return createMemo((()=>{const ot=createMemo(()=>tt()==="xs");return()=>ot()?(()=>{const it=_tmpl$$p.cloneNode(!0),at=it.firstChild,st=at.firstChild,ut=st.nextSibling;return createRenderEffect(ft=>{const ht=rt.class,mt=nt(),gt=et.colors.constant.white;return ht!==ft._v$&&setAttribute(it,"class",ft._v$=ht),mt!==ft._v$2&&setAttribute(st,"fill",ft._v$2=mt),gt!==ft._v$3&&setAttribute(ut,"stroke",ft._v$3=gt),ft},{_v$:void 0,_v$2:void 0,_v$3:void 0}),it})():(()=>{const it=createMemo(()=>tt()==="s");return()=>it()?(()=>{const at=_tmpl$2$4.cloneNode(!0),st=at.firstChild,ut=st.nextSibling;return createRenderEffect(ft=>{const ht=rt.class,mt=nt(),gt=et.colors.constant.white;return ht!==ft._v$4&&setAttribute(at,"class",ft._v$4=ht),mt!==ft._v$5&&setAttribute(st,"fill",ft._v$5=mt),gt!==ft._v$6&&setAttribute(ut,"fill",ft._v$6=gt),ft},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),at})():(()=>{const at=_tmpl$3$2.cloneNode(!0),st=at.firstChild,ut=st.nextSibling;return createRenderEffect(ft=>{const ht=rt.class,mt=nt(),gt=et.colors.constant.white;return ht!==ft._v$7&&setAttribute(at,"class",ft._v$7=ht),mt!==ft._v$8&&setAttribute(st,"fill",ft._v$8=mt),gt!==ft._v$9&&setAttribute(ut,"fill",ft._v$9=gt),ft},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),at})()})()})())},_tmpl$$o=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M24.0858 26.9142C23.3047 26.1332 23.3047 24.8668 24.0858 24.0858C24.8668 23.3047 26.1332 23.3047 26.9142 24.0858L36 33.1716L45.0858 24.0858C45.8668 23.3047 47.1332 23.3047 47.9142 24.0858C48.6953 24.8668 48.6953 26.1332 47.9142 26.9142L38.8284 36L47.9142 45.0858C48.6953 45.8668 48.6953 47.1332 47.9142 47.9142C47.1332 48.6953 45.8668 48.6953 45.0858 47.9142L36 38.8284L26.9142 47.9142C26.1332 48.6953 24.8668 48.6953 24.0858 47.9142C23.3047 47.1332 23.3047 45.8668 24.0858 45.0858L33.1716 36L24.0858 26.9142Z"></path></svg>'),_tmpl$2$3=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24.001" r="22"></circle><path d="M24 24.001L31.5 16.501M24 24.001L16.5 16.501M24 24.001L16.5 31.501M24 24.001L31.5 31.501" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),_tmpl$3$1=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M7.86361 9.1364C7.51214 8.78493 7.51214 8.21508 7.86361 7.86361C8.21508 7.51214 8.78493 7.51214 9.1364 7.86361L12 10.7272L14.8636 7.86361C15.2151 7.51214 15.7849 7.51214 16.1364 7.86361C16.4879 8.21508 16.4879 8.78493 16.1364 9.1364L13.2728 12L16.1364 14.8636C16.4879 15.2151 16.4879 15.7849 16.1364 16.1364C15.7849 16.4879 15.2151 16.4879 14.8636 16.1364L12 13.2728L9.1364 16.1364C8.78493 16.4879 8.21508 16.4879 7.86361 16.1364C7.51214 15.7849 7.51214 15.2151 7.86361 14.8636L10.7272 12L7.86361 9.1364Z"></path></svg>'),ErrorIcon=rt=>{const et=useTheme(),tt=()=>rt.size||"m",nt=()=>rt.fill||et.colors.icon.error;return createMemo((()=>{const ot=createMemo(()=>tt()==="m");return()=>ot()?(()=>{const it=_tmpl$$o.cloneNode(!0),at=it.firstChild,st=at.nextSibling;return createRenderEffect(ut=>{const ft=rt.class,ht=nt(),mt=et.colors.constant.white;return ft!==ut._v$&&setAttribute(it,"class",ut._v$=ft),ht!==ut._v$2&&setAttribute(at,"fill",ut._v$2=ht),mt!==ut._v$3&&setAttribute(st,"fill",ut._v$3=mt),ut},{_v$:void 0,_v$2:void 0,_v$3:void 0}),it})():(()=>{const it=createMemo(()=>tt()==="s");return()=>it()?(()=>{const at=_tmpl$2$3.cloneNode(!0),st=at.firstChild,ut=st.nextSibling;return createRenderEffect(ft=>{const ht=rt.class,mt=nt(),gt=et.colors.constant.white;return ht!==ft._v$4&&setAttribute(at,"class",ft._v$4=ht),mt!==ft._v$5&&setAttribute(st,"fill",ft._v$5=mt),gt!==ft._v$6&&setAttribute(ut,"stroke",ft._v$6=gt),ft},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),at})():(()=>{const at=_tmpl$3$1.cloneNode(!0),st=at.firstChild,ut=st.nextSibling;return createRenderEffect(ft=>{const ht=rt.class,mt=nt(),gt=et.colors.constant.white;return ht!==ft._v$7&&setAttribute(at,"class",ft._v$7=ht),mt!==ft._v$8&&setAttribute(st,"fill",ft._v$8=mt),gt!==ft._v$9&&setAttribute(ut,"fill",ft._v$9=gt),ft},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),at})()})()})())},_tmpl$$n=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z"></path></svg>'),_tmpl$2$2=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z"></path></svg>'),_tmpl$3=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),LoaderIcon=rt=>{const et=useTheme(),tt=()=>rt.size||"xs",nt=()=>rt.fill||et.colors.icon.tertiary,ot=h$1`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,it=u$1`
        animation: ${ot} 1s linear infinite;
    `;return createMemo((()=>{const at=createMemo(()=>tt()==="xs");return()=>at()?(()=>{const st=_tmpl$$n.cloneNode(!0),ut=st.firstChild;return createRenderEffect(ft=>{const ht=cn(it,rt.class),mt=nt();return ht!==ft._v$&&setAttribute(st,"class",ft._v$=ht),mt!==ft._v$2&&setAttribute(ut,"fill",ft._v$2=mt),ft},{_v$:void 0,_v$2:void 0}),st})():(()=>{const st=createMemo(()=>tt()==="s");return()=>st()?(()=>{const ut=_tmpl$2$2.cloneNode(!0),ft=ut.firstChild;return createRenderEffect(ht=>{const mt=cn(it,rt.class),gt=nt();return mt!==ht._v$3&&setAttribute(ut,"class",ht._v$3=mt),gt!==ht._v$4&&setAttribute(ft,"fill",ht._v$4=gt),ht},{_v$3:void 0,_v$4:void 0}),ut})():(()=>{const ut=_tmpl$3.cloneNode(!0),ft=ut.firstChild;return createRenderEffect(ht=>{const mt=cn(it,rt.class),gt=nt();return mt!==ht._v$5&&setAttribute(ut,"class",ht._v$5=mt),gt!==ht._v$6&&setAttribute(ft,"stroke",ht._v$6=gt),ht},{_v$5:void 0,_v$6:void 0}),ut})()})()})())},_tmpl$$m=template$1('<svg width="158" height="28" viewBox="0 0 158 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 14.001C28 21.733 21.732 28.001 14 28.001C6.26801 28.001 0 21.733 0 14.001C0 6.26899 6.26801 0.000976562 14 0.000976562C21.732 0.000976562 28 6.26899 28 14.001ZM9.21931 8.00098H18.7801H18.7813C20.538 8.00098 21.6522 9.89966 20.7691 11.4302L14.8672 21.6576C14.4822 22.3254 13.5172 22.3254 13.1322 21.6576L7.23158 11.4302C6.34721 9.89726 7.4614 8.00098 9.21931 8.00098ZM13.1262 18.5882V9.74806H9.21811C8.78976 9.74806 8.53708 10.2029 8.74163 10.5578L11.8423 16.1035L13.1262 18.5882ZM16.1559 16.1047L19.2554 10.5566C19.4599 10.2017 19.2073 9.74685 18.7789 9.74685H14.8709V18.5906L16.1559 16.1047Z" fill="#0098EA"></path><path d="M18.7802 8.00098H9.21936C7.46145 8.00098 6.34727 9.89726 7.23164 11.4302L13.1322 21.6576C13.5173 22.3254 14.4823 22.3254 14.8673 21.6576L20.7691 11.4302C21.6523 9.89966 20.5381 8.00098 18.7814 8.00098H18.7802ZM13.1274 18.5906L11.8424 16.1035L8.74168 10.5578C8.53714 10.2029 8.78981 9.74806 9.21816 9.74806H13.1262V18.5918L13.1274 18.5906ZM19.2555 10.5566L16.156 16.1047L14.8709 18.5906V9.74685H18.779C19.2073 9.74685 19.46 10.2017 19.2555 10.5566Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M51.7483 22.1967C55.7182 22.1967 58.9609 18.954 58.9609 14.9841C58.9609 11.0142 55.7182 7.77148 51.7483 7.77148C47.7588 7.77148 44.5357 11.0142 44.5357 14.9841C44.5357 18.954 47.7588 22.1967 51.7483 22.1967ZM51.7483 19.1702C49.4686 19.1702 47.6802 17.2442 47.6802 14.9841C47.6802 12.724 49.4686 10.798 51.7483 10.798C54.0084 10.798 55.7968 12.724 55.7968 14.9841C55.7968 17.2442 54.0084 19.1702 51.7483 19.1702ZM37.0698 21.9609H40.2142V10.9946H44.2843V8.00732H33V10.9946H37.0698V21.9609ZM69.9379 8.00732H73.0823V21.9609H70.3899L63.59 13.3333V21.9609H60.4652V8.00732H63.1576L69.9379 16.6153V8.00732ZM79.2259 14.9887C79.2259 10.9202 82.351 7.77539 86.4982 7.77539C89.8592 7.77539 92.5519 9.95709 93.2202 12.6891H90.7437C90.154 11.0971 88.4637 9.9964 86.4982 9.9964C83.5893 9.9964 81.5452 12.1781 81.5452 14.9887C81.5452 17.7994 83.5893 19.9811 86.4982 19.9811C88.4637 19.9811 90.154 18.8804 90.7437 17.2884H93.2202C92.5519 20.0204 89.8592 22.2021 86.4982 22.2021C82.351 22.2021 79.2259 19.0573 79.2259 14.9887ZM104.584 17.0525C104.584 19.9025 102.343 22.1628 99.4342 22.1628C96.5253 22.1628 94.2846 19.9025 94.2846 17.0525C94.2846 14.2025 96.5253 11.9422 99.4342 11.9422C102.343 11.9422 104.584 14.2025 104.584 17.0525ZM96.4663 17.0525C96.4663 18.8018 97.6849 20.158 99.4342 20.158C101.164 20.158 102.382 18.8018 102.382 17.0525C102.382 15.3032 101.164 13.947 99.4342 13.947C97.6849 13.947 96.4663 15.3032 96.4663 17.0525ZM108.626 12.1388H106.463V21.9662H108.626V17.1311C108.626 15.0281 109.726 13.9077 111.161 13.9077C112.419 13.9077 113.205 14.8512 113.205 16.4039V21.9662H115.367V16.0501C115.367 13.5539 113.893 11.9422 111.613 11.9422C110.335 11.9422 109.215 12.4926 108.626 13.4753V12.1388ZM117.839 12.1388H120.001V13.4753C120.59 12.4926 121.711 11.9422 122.988 11.9422C125.268 11.9422 126.742 13.5539 126.742 16.0501V21.9662H124.58V16.4039C124.58 14.8512 123.794 13.9077 122.536 13.9077C121.101 13.9077 120.001 15.0281 120.001 17.1311V21.9662H117.839V12.1388ZM133.558 22.1628C136.054 22.1628 137.823 20.728 138.373 18.8804H136.113C135.661 19.8238 134.717 20.2563 133.636 20.2563C131.887 20.2563 130.747 19.077 130.668 17.5832H138.491C138.688 14.2419 136.585 11.9422 133.577 11.9422C130.551 11.9422 128.526 14.1436 128.526 17.0525C128.526 20.0007 130.629 22.1628 133.558 22.1628ZM130.747 16.0501C131.042 14.5367 132.162 13.7505 133.518 13.7505C134.717 13.7505 135.838 14.4581 136.172 16.0501H130.747ZM149.851 18.3694C149.32 20.5511 147.453 22.1628 144.859 22.1628C141.871 22.1628 139.709 19.8828 139.709 17.0525C139.709 14.2222 141.871 11.9422 144.859 11.9422C147.453 11.9422 149.32 13.5539 149.851 15.7356H147.571C147.178 14.6743 146.215 13.9077 144.859 13.9077C143.109 13.9077 141.91 15.2246 141.91 17.0525C141.91 18.8804 143.109 20.1973 144.859 20.1973C146.215 20.1973 147.178 19.4307 147.571 18.3694H149.851ZM155.75 22.0645C156.418 22.0645 156.929 21.9859 157.362 21.8483V19.9221C157.047 20.0401 156.615 20.1187 156.202 20.1187C155.082 20.1187 154.551 19.6666 154.551 18.448V14.065H157.362V12.1388H154.551V9.40675H152.389V12.1388H150.345V14.065H152.389V18.8018C152.389 21.0228 153.863 22.0645 155.75 22.0645Z"></path></svg>'),TonConnectBrand=()=>{const rt=useTheme(),et=()=>rt.theme===THEME.DARK?rt.colors.constant.white:rt.colors.constant.black;return(()=>{const tt=_tmpl$$m.cloneNode(!0),nt=tt.firstChild,ot=nt.nextSibling,it=ot.nextSibling;return createRenderEffect(()=>setAttribute(it,"fill",et())),tt})()},_tmpl$$l=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z"></path></svg>'),QuestionIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$l.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$k=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.98156 8.75C9.84854 11.4328 9.01206 13.5 8 13.5C6.98794 13.5 6.15146 11.4328 6.01844 8.75H9.98156ZM11.4832 8.75C11.4217 10.1155 11.1929 11.3869 10.8239 12.4017C10.7734 12.5405 10.7188 12.6789 10.6595 12.8154C12.1454 11.993 13.2103 10.5029 13.4493 8.75H11.4832ZM13.4493 7.25H11.4832C11.4217 5.88453 11.1929 4.61314 10.8239 3.5983C10.7734 3.4595 10.7188 3.32111 10.6595 3.18459C12.1454 4.00697 13.2103 5.49709 13.4493 7.25ZM9.98156 7.25H6.01844C6.15144 4.56764 6.98769 2.50062 7.99955 2.5H8C9.01206 2.5 9.84854 4.56724 9.98156 7.25ZM4.51678 7.25C4.57826 5.88453 4.80706 4.61314 5.1761 3.5983C5.22657 3.4595 5.28124 3.32111 5.3405 3.18459C3.85463 4.00697 2.78972 5.49709 2.55071 7.25H4.51678ZM2.55071 8.75C2.78972 10.5029 3.85463 11.993 5.3405 12.8154C5.28124 12.6789 5.22657 12.5405 5.1761 12.4017C4.80706 11.3869 4.57826 10.1155 4.51678 8.75H2.55071ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z"></path></svg>'),BrowserIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$k.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$j=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4.8C2.5 3.11984 2.5 2.27976 2.82698 1.63803C3.1146 1.07354 3.57354 0.614601 4.13803 0.32698C4.77976 0 5.61984 0 7.3 0H8.7C10.3802 0 11.2202 0 11.862 0.32698C12.4265 0.614601 12.8854 1.07354 13.173 1.63803C13.5 2.27976 13.5 3.11984 13.5 4.8V11.2C13.5 12.8802 13.5 13.7202 13.173 14.362C12.8854 14.9265 12.4265 15.3854 11.862 15.673C11.2202 16 10.3802 16 8.7 16H7.3C5.61984 16 4.77976 16 4.13803 15.673C3.57354 15.3854 3.1146 14.9265 2.82698 14.362C2.5 13.7202 2.5 12.8802 2.5 11.2V4.8ZM4 3.9C4 3.05992 4 2.63988 4.16349 2.31901C4.3073 2.03677 4.53677 1.8073 4.81901 1.66349C5.13988 1.5 5.55992 1.5 6.4 1.5H9.6C10.4401 1.5 10.8601 1.5 11.181 1.66349C11.4632 1.8073 11.6927 2.03677 11.8365 2.31901C12 2.63988 12 3.05992 12 3.9V12.1C12 12.9401 12 13.3601 11.8365 13.681C11.6927 13.9632 11.4632 14.1927 11.181 14.3365C10.8601 14.5 10.4401 14.5 9.6 14.5H6.4C5.55992 14.5 5.13988 14.5 4.81901 14.3365C4.53677 14.1927 4.3073 13.9632 4.16349 13.681C4 13.3601 4 12.9401 4 12.1V3.9ZM7 2.5C6.58579 2.5 6.25 2.83579 6.25 3.25C6.25 3.66421 6.58579 4 7 4H9C9.41421 4 9.75 3.66421 9.75 3.25C9.75 2.83579 9.41421 2.5 9 2.5H7Z"></path></svg>'),MobileIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$j.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$i=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 6.8C1.5 5.11984 1.5 4.27976 1.82698 3.63803C2.1146 3.07354 2.57354 2.6146 3.13803 2.32698C3.77976 2 4.61984 2 6.3 2H9.7C11.3802 2 12.2202 2 12.862 2.32698C13.4265 2.6146 13.8854 3.07354 14.173 3.63803C14.5 4.27976 14.5 5.11984 14.5 6.8V11.5H15.25C15.6642 11.5 16 11.8358 16 12.25C16 12.6642 15.6642 13 15.25 13H0.75C0.335786 13 0 12.6642 0 12.25C0 11.8358 0.335786 11.5 0.75 11.5H1.5V6.8ZM3 11.5H13V5.9C13 5.05992 13 4.63988 12.8365 4.31901C12.6927 4.03677 12.4632 3.8073 12.181 3.66349C11.8601 3.5 11.4401 3.5 10.6 3.5H5.4C4.55992 3.5 4.13988 3.5 3.81901 3.66349C3.53677 3.8073 3.3073 4.03677 3.16349 4.31901C3 4.63988 3 5.05992 3 5.9V11.5Z"></path></svg>'),DesktopIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$i.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$h=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1603)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 1.25049C15.5 0.836275 15.1642 0.500488 14.75 0.500488C14.3358 0.500488 14 0.836275 14 1.25049V3.67012C12.7187 2.04487 10.7318 1.00049 8.5 1.00049C4.63401 1.00049 1.5 4.1345 1.5 8.00049C1.5 11.8665 4.63401 15.0005 8.5 15.0005C11.6844 15.0005 14.3703 12.8748 15.2199 9.96661C15.3361 9.56902 15.1079 9.15254 14.7103 9.03638C14.3127 8.92023 13.8962 9.14838 13.7801 9.54597C13.1123 11.8319 11 13.5005 8.5 13.5005C5.46243 13.5005 3 11.0381 3 8.00049C3 4.96292 5.46243 2.50049 8.5 2.50049C10.321 2.50049 11.9363 3.3855 12.9377 4.75049H10.5C10.0858 4.75049 9.75 5.08627 9.75 5.50049C9.75 5.9147 10.0858 6.25049 10.5 6.25049H14.75C15.1642 6.25049 15.5 5.9147 15.5 5.50049V1.25049Z"></path></g><defs><clipPath id="clip0_3676_1603"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000488281)"></rect></clipPath></defs></svg>'),RetryIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.accent;return(()=>{const nt=_tmpl$$h.cloneNode(!0),ot=nt.firstChild,it=ot.firstChild;return createRenderEffect(()=>setAttribute(it,"fill",tt())),nt})()},_tmpl$$g=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 4.06119V6.75053C13 7.16474 13.3358 7.50053 13.75 7.50053C14.1642 7.50053 14.5 7.16474 14.5 6.75053V2.75053L14.5 2.72807C14.5001 2.63191 14.5003 2.49627 14.4842 2.37627C14.4638 2.22503 14.4063 1.99261 14.2071 1.79342C14.0079 1.59423 13.7755 1.5367 13.6243 1.51637C13.5043 1.50023 13.3686 1.50039 13.2725 1.50051L13.25 1.50053H9.25C8.83579 1.50053 8.5 1.83631 8.5 2.25053C8.5 2.66474 8.83579 3.00053 9.25 3.00053H11.9393L7.21967 7.7202C6.92678 8.01309 6.92678 8.48796 7.21967 8.78086C7.51256 9.07375 7.98744 9.07375 8.28033 8.78086L13 4.06119ZM5.85 1.50053H5.81903H5.81899C5.21528 1.50052 4.71702 1.50051 4.31113 1.53367C3.88956 1.56812 3.50203 1.64204 3.13803 1.82751C2.57354 2.11513 2.1146 2.57407 1.82698 3.13856C1.64151 3.50256 1.56759 3.89009 1.53315 4.31166C1.49998 4.71755 1.49999 5.21581 1.5 5.81953V5.81955V5.85053V10.1505V10.1815V10.1815C1.49999 10.7852 1.49998 11.2835 1.53315 11.6894C1.56759 12.111 1.64151 12.4985 1.82698 12.8625C2.1146 13.427 2.57354 13.8859 3.13803 14.1735C3.50203 14.359 3.88956 14.4329 4.31113 14.4674C4.71702 14.5005 5.21527 14.5005 5.81897 14.5005H5.81901H5.85H10.15H10.181H10.181C10.7847 14.5005 11.283 14.5005 11.6889 14.4674C12.1104 14.4329 12.498 14.359 12.862 14.1735C13.4265 13.8859 13.8854 13.427 14.173 12.8625C14.3585 12.4985 14.4324 12.111 14.4669 11.6894C14.5 11.2835 14.5 10.7853 14.5 10.1816V10.1815V10.1505V9.75053C14.5 9.33631 14.1642 9.00053 13.75 9.00053C13.3358 9.00053 13 9.33631 13 9.75053V10.1505C13 10.793 12.9994 11.2297 12.9718 11.5672C12.945 11.8961 12.8963 12.0642 12.8365 12.1815C12.6927 12.4638 12.4632 12.6932 12.181 12.837C12.0637 12.8968 11.8955 12.9455 11.5667 12.9724C11.2292 12.9999 10.7924 13.0005 10.15 13.0005H5.85C5.20757 13.0005 4.77085 12.9999 4.43328 12.9724C4.10447 12.9455 3.93632 12.8968 3.81902 12.837C3.53677 12.6932 3.3073 12.4638 3.16349 12.1815C3.10372 12.0642 3.05503 11.8961 3.02816 11.5672C3.00058 11.2297 3 10.793 3 10.1505V5.85053C3 5.20809 3.00058 4.77137 3.02816 4.43381C3.05503 4.10499 3.10372 3.93684 3.16349 3.81954C3.3073 3.5373 3.53677 3.30783 3.81902 3.16402C3.93632 3.10425 4.10447 3.05556 4.43328 3.02869C4.77085 3.00111 5.20757 3.00053 5.85 3.00053H6.25C6.66422 3.00053 7 2.66474 7 2.25053C7 1.83631 6.66422 1.50053 6.25 1.50053H5.85Z"></path></svg>'),LinkIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.accent;return(()=>{const nt=_tmpl$$g.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},_tmpl$$f=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1274)"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.82698 2.63901C1.5 3.28074 1.5 4.12082 1.5 5.80098V8.80098V9.00098V10.201C1.5 11.8811 1.5 12.7212 1.82698 13.3629C2.1146 13.9274 2.57354 14.3864 3.13803 14.674C3.77976 15.001 4.61984 15.001 6.3 15.001H11.7C13.3802 15.001 14.2202 15.001 14.862 14.674C15.4265 14.3864 15.8854 13.9274 16.173 13.3629C16.5 12.7212 16.5 11.8811 16.5 10.201V8.80098C16.5 7.12082 16.5 6.28074 16.173 5.63901C15.8854 5.07452 15.4265 4.61558 14.862 4.32796C14.743 4.26733 14.6172 4.21795 14.4805 4.17772C14.4501 3.49449 14.3722 3.02994 14.173 2.63901C13.8854 2.07452 13.4265 1.61558 12.862 1.32796C12.2202 1.00098 11.3802 1.00098 9.7 1.00098H6.3C4.61984 1.00098 3.77976 1.00098 3.13803 1.32796C2.57354 1.61558 2.1146 2.07452 1.82698 2.63901ZM12.9861 4.00942C12.9684 3.7108 12.9281 3.49982 12.8365 3.31999C12.6927 3.03775 12.4632 2.80828 12.181 2.66447C11.8601 2.50098 11.4401 2.50098 10.6 2.50098H5.4C4.55992 2.50098 4.13988 2.50098 3.81901 2.66447C3.53677 2.80828 3.3073 3.03775 3.16349 3.31999C3.03615 3.56991 3.00799 3.88 3.00177 4.40188C3.04646 4.37612 3.09189 4.35146 3.13803 4.32796C3.77976 4.00098 4.61984 4.00098 6.3 4.00098H11.7C12.1966 4.00098 12.6197 4.00098 12.9861 4.00942ZM3 7.90098V8.10098C3 8.47468 3 8.76527 3.01439 9.00098H3V11.101C3 11.9411 3 12.3611 3.16349 12.682C3.3073 12.9642 3.53677 13.1937 3.81901 13.3375C4.13988 13.501 4.55992 13.501 5.4 13.501H12.6C13.4401 13.501 13.8601 13.501 14.181 13.3375C14.4632 13.1937 14.6927 12.9642 14.8365 12.682C15 12.3611 15 11.9411 15 11.101V7.90098C15 7.0609 15 6.64086 14.8365 6.31999C14.6927 6.03775 14.4632 5.80828 14.181 5.66447C13.8601 5.50098 13.4401 5.50098 12.6 5.50098H5.4C4.55992 5.50098 4.13988 5.50098 3.81901 5.66447C3.53677 5.80828 3.3073 6.03775 3.16349 6.31999C3 6.64086 3 7.0609 3 7.90098ZM10.5 9.75098C10.5 9.33676 10.8358 9.00098 11.25 9.00098H12.75C13.1642 9.00098 13.5 9.33676 13.5 9.75098C13.5 10.1652 13.1642 10.501 12.75 10.501H11.25C10.8358 10.501 10.5 10.1652 10.5 9.75098Z"></path></g><defs><clipPath id="clip0_3676_1274"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000976562)"></rect></clipPath></defs></svg>'),WalletIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.accent;return(()=>{const nt=_tmpl$$f.cloneNode(!0),ot=nt.firstChild,it=ot.firstChild;return createRenderEffect(()=>setAttribute(it,"fill",tt())),nt})()},_tmpl$$e=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M39.6319 16.8719C38.3212 16.2041 36.7002 16.0478 34 16.0112V11C34 5.47715 29.5228 1 24 1C18.4772 1 14 5.47715 14 11V16.0112C11.2998 16.0478 9.6788 16.2041 8.36808 16.8719C6.86278 17.6389 5.63893 18.8628 4.87195 20.3681C4 22.0794 4 24.3196 4 28.8V32.2C4 36.6804 4 38.9206 4.87195 40.6319C5.63893 42.1372 6.86278 43.3611 8.36808 44.1281C10.0794 45 12.3196 45 16.8 45H31.2C35.6804 45 37.9206 45 39.6319 44.1281C41.1372 43.3611 42.3611 42.1372 43.1281 40.6319C44 38.9206 44 36.6804 44 32.2V28.8C44 24.3196 44 22.0794 43.1281 20.3681C42.3611 18.8628 41.1372 17.6389 39.6319 16.8719ZM31 11V16H17V11C17 7.13401 20.134 4 24 4C27.866 4 31 7.13401 31 11ZM7.54497 21.73C7 22.7996 7 24.1997 7 27V34C7 36.8003 7 38.2004 7.54497 39.27C8.02433 40.2108 8.78924 40.9757 9.73005 41.455C10.7996 42 12.1997 42 15 42H33C35.8003 42 37.2004 42 38.27 41.455C39.2108 40.9757 39.9757 40.2108 40.455 39.27C41 38.2004 41 36.8003 41 34V27C41 24.1997 41 22.7996 40.455 21.73C39.9757 20.7892 39.2108 20.0243 38.27 19.545C37.2004 19 35.8003 19 33 19H15C12.1997 19 10.7996 19 9.73005 19.545C8.78924 20.0243 8.02433 20.7892 7.54497 21.73ZM24 24C23.1716 24 22.5 24.6716 22.5 25.5V29.5C22.5 30.3284 23.1716 31 24 31C24.8284 31 25.5 30.3284 25.5 29.5V25.5C25.5 24.6716 24.8284 24 24 24Z"></path></svg>'),SecurityIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$e.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=rt.class,st=tt();return at!==it._v$&&setAttribute(nt,"class",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$d=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.485 37.3849C40.894 33.9506 43 29.2212 43 24C43 13.5066 34.4934 5 24 5C13.5066 5 5 13.5066 5 24C5 29.2213 7.1061 33.9507 10.5151 37.385C13.3583 32.9438 18.3354 30 24.0001 30C29.6647 30 34.6418 32.9437 37.485 37.3849ZM35.1809 39.3635C32.9143 35.5532 28.7554 33 24.0001 33C19.2448 33 15.0858 35.5533 12.8193 39.3636C15.9564 41.6506 19.8206 43 24 43C28.1795 43 32.0437 41.6505 35.1809 39.3635ZM24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM24 24C26.7614 24 29 21.7614 29 19C29 16.2386 26.7614 14 24 14C21.2386 14 19 16.2386 19 19C19 21.7614 21.2386 24 24 24ZM24 27C28.4183 27 32 23.4183 32 19C32 14.5817 28.4183 11 24 11C19.5817 11 16 14.5817 16 19C16 23.4183 19.5817 27 24 27Z"></path></svg>'),PersonalityIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$d.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=rt.class,st=tt();return at!==it._v$&&setAttribute(nt,"class",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$c=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5607 4.43934C33.9749 3.85355 33.0251 3.85355 32.4393 4.43934C31.8536 5.02513 31.8536 5.97487 32.4393 6.56066L37.8787 12H10.5C9.67157 12 9 12.6716 9 13.5C9 14.3284 9.67157 15 10.5 15H37.8787L32.4393 20.4393C31.8536 21.0251 31.8536 21.9749 32.4393 22.5607C33.0251 23.1464 33.9749 23.1464 34.5607 22.5607L42.5607 14.5607C43.1464 13.9749 43.1464 13.0251 42.5607 12.4393L34.5607 4.43934ZM13.4393 25.4393C14.0251 24.8536 14.9749 24.8536 15.5607 25.4393C16.1464 26.0251 16.1464 26.9749 15.5607 27.5607L10.1213 33H37.5C38.3284 33 39 33.6716 39 34.5C39 35.3284 38.3284 36 37.5 36H10.1213L15.5607 41.4393C16.1464 42.0251 16.1464 42.9749 15.5607 43.5607C14.9749 44.1464 14.0251 44.1464 13.4393 43.5607L5.43934 35.5607C4.85355 34.9749 4.85355 34.0251 5.43934 33.4393L13.4393 25.4393Z"></path></svg>'),SwapIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$c.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=rt.class,st=tt();return at!==it._v$&&setAttribute(nt,"class",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$b=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 12.002C1.75 9.20169 1.75 7.80156 2.29497 6.732C2.77433 5.79119 3.53924 5.02629 4.48005 4.54692C5.54961 4.00195 6.94974 4.00195 9.75 4.00195H17.25C20.0503 4.00195 21.4504 4.00195 22.52 4.54692C23.4608 5.02629 24.2257 5.79119 24.705 6.732C24.8256 6.96861 24.9195 7.2214 24.9926 7.50195H21.5C19.6377 7.50195 18.7065 7.50195 17.9609 7.77334C16.711 8.22828 15.7263 9.21291 15.2714 10.4629C15 11.2085 15 12.1396 15 14.002C15 15.8643 15 16.7954 15.2714 17.541C15.7263 18.791 16.711 19.7756 17.9609 20.2306C18.7065 20.502 19.6377 20.502 21.5 20.502H24.9926C24.9195 20.7825 24.8256 21.0353 24.705 21.2719C24.2257 22.2127 23.4608 22.9776 22.52 23.457C21.4504 24.002 20.0503 24.002 17.25 24.002H9.75C6.94974 24.002 5.54961 24.002 4.48005 23.457C3.53924 22.9776 2.77433 22.2127 2.29497 21.2719C1.75 20.2023 1.75 18.8022 1.75 16.002V12.002ZM16.4999 13.802C16.4999 12.1218 16.4999 11.2817 16.8269 10.64C17.1145 10.0755 17.5735 9.61656 18.138 9.32894C18.7797 9.00196 19.6198 9.00196 21.2999 9.00196H23.1999C24.8801 9.00196 25.7202 9.00196 26.3619 9.32894C26.9264 9.61656 27.3853 10.0755 27.673 10.64C27.9999 11.2817 27.9999 12.1218 27.9999 13.802V14.202C27.9999 15.8821 27.9999 16.7222 27.673 17.3639C27.3853 17.9284 26.9264 18.3874 26.3619 18.675C25.7202 19.002 24.8801 19.002 23.1999 19.002H21.2999C19.6198 19.002 18.7797 19.002 18.138 18.675C17.5735 18.3874 17.1145 17.9284 16.8269 17.3639C16.4999 16.7222 16.4999 15.8821 16.4999 14.202V13.802ZM22.4999 14.002C22.4999 14.9685 21.7164 15.752 20.7499 15.752C19.7834 15.752 18.9999 14.9685 18.9999 14.002C18.9999 13.0355 19.7834 12.252 20.7499 12.252C21.7164 12.252 22.4999 13.0355 22.4999 14.002Z"></path></svg>'),AtWalletIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.constant.white;return(()=>{const nt=_tmpl$$b.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=rt.class,st=tt();return at!==it._v$&&setAttribute(nt,"class",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$a=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0001 10.0001C10.0016 8.02333 10.0267 6.98719 10.436 6.18404C10.8195 5.43139 11.4314 4.81947 12.184 4.43597C13.0397 4 14.1598 4 16.4 4H17.6C19.8402 4 20.9603 4 21.816 4.43597C22.5686 4.81947 23.1805 5.43139 23.564 6.18404C24 7.03969 24 8.15979 24 10.4V11.6C24 13.8402 24 14.9603 23.564 15.816C23.1805 16.5686 22.5686 17.1805 21.816 17.564C21.0128 17.9733 19.9767 17.9984 17.9999 17.9999C17.9984 19.9767 17.9733 21.0128 17.564 21.816C17.1805 22.5686 16.5686 23.1805 15.816 23.564C14.9603 24 13.8402 24 11.6 24H10.4C8.15979 24 7.03969 24 6.18404 23.564C5.43139 23.1805 4.81947 22.5686 4.43597 21.816C4 20.9603 4 19.8402 4 17.6V16.4C4 14.1598 4 13.0397 4.43597 12.184C4.81947 11.4314 5.43139 10.8195 6.18404 10.436C6.98719 10.0267 8.02333 10.0016 10.0001 10.0001ZM10 11.5H9.5C8.09987 11.5 7.3998 11.5 6.86502 11.7725C6.39462 12.0122 6.01217 12.3946 5.77248 12.865C5.5 13.3998 5.5 14.0999 5.5 15.5V18.5C5.5 19.9001 5.5 20.6002 5.77248 21.135C6.01217 21.6054 6.39462 21.9878 6.86502 22.2275C7.3998 22.5 8.09987 22.5 9.5 22.5H12.5C13.9001 22.5 14.6002 22.5 15.135 22.2275C15.6054 21.9878 15.9878 21.6054 16.2275 21.135C16.5 20.6002 16.5 19.9001 16.5 18.5V18H16.4C14.1598 18 13.0397 18 12.184 17.564C11.4314 17.1805 10.8195 16.5686 10.436 15.816C10 14.9603 10 13.8402 10 11.6V11.5ZM11.5 9.5C11.5 8.09987 11.5 7.3998 11.7725 6.86502C12.0122 6.39462 12.3946 6.01217 12.865 5.77248C13.3998 5.5 14.0999 5.5 15.5 5.5H18.5C19.9001 5.5 20.6002 5.5 21.135 5.77248C21.6054 6.01217 21.9878 6.39462 22.2275 6.86502C22.5 7.3998 22.5 8.09987 22.5 9.5V12.5C22.5 13.9001 22.5 14.6002 22.2275 15.135C21.9878 15.6054 21.6054 15.9878 21.135 16.2275C20.6002 16.5 19.9001 16.5 18.5 16.5H15.5C14.0999 16.5 13.3998 16.5 12.865 16.2275C12.3946 15.9878 12.0122 15.6054 11.7725 15.135C11.5 14.6002 11.5 13.9001 11.5 12.5V9.5Z"></path></svg>'),CopyLightIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$a.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=tt(),st=tt();return at!==it._v$&&setAttribute(nt,"fill",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$9=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z"></path></svg>'),QRIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.secondary;return(()=>{const nt=_tmpl$$9.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(()=>setAttribute(ot,"fill",tt())),nt})()},containerBorders={m:"16px",s:"12px",none:"0"},walletBorders={m:"6px",s:"6px",none:"0"},FourWalletsCard=styled$1.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${rt=>containerBorders[rt.theme.borderRadius]};
    background-color: ${rt=>rt.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,FourWalletsImage=styled$1(WalletImage)`
    width: 20px;
    height: 20px;
    border-radius: ${rt=>walletBorders[rt.theme.borderRadius]};
`,FourWalletsItem=rt=>createComponent(WalletItem,{get name(){return rt.labelLine1},get secondLine(){return rt.labelLine2},get icon(){return createComponent(FourWalletsCard,{get children(){return createComponent(For,{each:[0,1,2,3],children:et=>createComponent(FourWalletsImage,{get src(){return rt.images[et]}})})}})},onClick:()=>rt.onClick()}),AT_WALLET_APP_NAME="telegram-wallet",IMG={TON:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/ton-icon-48.png",TG:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/tg.png"},WalletLabeledItem=rt=>{const[et]=useI18n(),tt=()=>{if(rt.wallet.appName!==AT_WALLET_APP_NAME){if("isPreferred"in rt.wallet&&rt.wallet.isPreferred)return et("walletItem.recent",{},"Recent");if(isWalletInfoCurrentlyInjected(rt.wallet))return et("walletItem.installed",{},"Installed");if(rt.wallet.name==="Tonkeeper")return et("walletItem.popular",{},"Popular")}};return createMemo((()=>{const nt=createMemo(()=>rt.wallet.appName===AT_WALLET_APP_NAME);return()=>nt()?createComponent(WalletItem,{get icon(){return rt.wallet.imageUrl},get name(){return et("walletItem.walletOn",{},"Wallet in")},secondLine:"Telegram",get badgeUrl(){return IMG.TG},onClick:()=>rt.onClick(),get class(){return rt.class}}):createComponent(WalletItem,{get icon(){return rt.wallet.imageUrl},get name(){return rt.wallet.name},get secondLine(){return tt()},secondLineColorPrimary:!1,onClick:()=>rt.onClick(),get class(){return rt.class}})})())},ScrollContainerStyled=styled$1.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${rt=>rt.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`,ScrollDivider=styled$1.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${rt=>rt.isShown?rt.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${media("mobile")} {
        width: 100%;
        margin: 0;
    }
`,[windowHeight,setWindowHeight]=createSignal(((_h=getWindow$1())==null?void 0:_h.innerHeight)||0);getWindow$1()&&window.addEventListener("resize",()=>setWindowHeight(window.innerHeight));const[isMobile,setIsMobile]=createSignal(isDevice("mobile")),updateIsMobile=()=>setIsMobile(isDevice("mobile"));getWindow$1()&&(window.addEventListener("resize",()=>updateIsMobile()),window.addEventListener("load",()=>updateIsMobile(),{once:!0}));const ScrollContainer=rt=>{const[et,tt]=createSignal(!1),nt=at=>{tt(at.target.scrollTop>0)},ot=()=>isMobile()?150:200,it=()=>rt.maxHeight!==void 0?`${rt.maxHeight}px`:`${windowHeight()-ot()}px`;return[createComponent(ScrollDivider,{get isShown(){return et()}}),createComponent(ScrollContainerStyled,{get maxHeight(){return it()},onScroll:nt,get class(){return rt.class},get children(){return rt.children}})]},AStyled=styled$1.a`
    display: block;
    text-decoration: unset;
`,Link=rt=>createComponent(AStyled,mergeProps({get href(){return rt.href},get target(){return rt.blank?"_blank":"_self"},get class(){return rt.class}},()=>rt.blank?{rel:"noreferrer noopener"}:{},{get children(){return rt.children}})),TonConnectUiContext=createContext(),_tmpl$$8=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z"></path></svg>'),CopyIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$8.cloneNode(!0),ot=nt.firstChild;return createRenderEffect(it=>{const at=rt.class,st=tt();return at!==it._v$&&setAttribute(nt,"class",it._v$=at),st!==it._v$2&&setAttribute(ot,"fill",it._v$2=st),it},{_v$:void 0,_v$2:void 0}),nt})()},_tmpl$$7=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z"></path></svg>'),DisconnectIcon=rt=>{const et=useTheme(),tt=()=>rt.fill||et.colors.icon.primary;return(()=>{const nt=_tmpl$$7.cloneNode(!0),ot=nt.firstChild,it=ot.nextSibling;return createRenderEffect(at=>{const st=tt(),ut=tt();return st!==at._v$&&setAttribute(ot,"fill",at._v$=st),ut!==at._v$2&&setAttribute(it,"fill",at._v$2=ut),at},{_v$:void 0,_v$2:void 0}),nt})()},hoverBorders$1={m:"8px",s:"4px",none:"0"},dropdownBorders={m:"16px",s:"8px",none:"0"},AccountButtonDropdownStyled=styled$1.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${rt=>dropdownBorders[rt.theme.borderRadius]};

    background-color: ${rt=>rt.theme.colors.background.primary}
           
    color: ${rt=>rt.theme.colors.text.primary}
`,UlStyled=styled$1.ul`
    background-color: ${rt=>rt.theme.colors.background.primary};
    padding: 8px;
`,MenuButtonStyled=styled$1.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${rt=>rt.theme.colors.background.primary};
    border: none;
    border-radius: ${rt=>hoverBorders$1[rt.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${rt=>rt.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,_tmpl$$6=template$1("<li></li>"),MenuItemText=rt=>createComponent(Text$2,{get translationKey(){return rt.translationKey},fontSize:"15px",fontWeight:"590",get children(){return rt.children}}),AccountButtonDropdown=rt=>{const et=useContext(TonConnectUiContext),[tt,nt]=createSignal(!1),ot=()=>__async(void 0,null,function*(){const at=toUserFriendlyAddress(et.account.address,et.account.chain===CHAIN.TESTNET);yield copyToClipboard(at),nt(!0),setTimeout(()=>nt(!1),1e3)}),it=()=>{et.disconnect(),rt.onClose()};return createComponent(AccountButtonDropdownStyled,{ref(at){const st=rt.ref;typeof st=="function"?st(at):rt.ref=at},get class(){return rt.class},"data-tc-dropdown":"true",get children(){return createComponent(UlStyled,{get children(){return[(()=>{const at=_tmpl$$6.cloneNode(!0);return insert(at,createComponent(MenuButtonStyled,{onClick:()=>ot(),get children(){return[createComponent(CopyIcon,{}),createComponent(Show,{get when(){return!tt()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),createComponent(Show,{get when(){return tt()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),at})(),(()=>{const at=_tmpl$$6.cloneNode(!0);return insert(at,createComponent(MenuButtonStyled,{onClick:()=>it(),get children(){return[createComponent(DisconnectIcon,{}),createComponent(MenuItemText,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),at})()]}})}})},borders$2={m:"16px",s:"8px",none:"0"},NotificationStyled=styled$1.div`
    width: 256px;
    padding: 12px 16px;
    display: flex;
    gap: 9px;

    background-color: ${rt=>rt.theme.colors.background.primary};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${rt=>borders$2[rt.theme.borderRadius]};
`,NotificationContentStyled=styled$1.div`
    width: 192px;

    > h3 {
        font-size: 15px;
    }
`,TextStyled$2=styled$1(Text$2)`
    margin-top: 4px;
    color: ${rt=>rt.theme.colors.text.secondary};
`,Notification=rt=>{const et=useDataAttributes(rt);return createComponent(NotificationStyled,mergeProps({get class(){return rt.class},"data-tc-notification":"true"},et,{get children(){return[createComponent(NotificationContentStyled,{get children(){return[createComponent(H3,{get translationKey(){return rt.header.translationKey},get translationValues(){return rt.header.translationValues},get children(){return rt.children}}),createComponent(Show,{get when(){return rt.text},get children(){return createComponent(TextStyled$2,{get translationKey(){return rt.text.translationKey},get translationValues(){return rt.text.translationValues}})}})]}}),createMemo(()=>rt.icon)]}}))},LoaderIconStyled$2=styled$1(LoaderIcon)`
    align-self: center;
`,ConfirmOperationNotification=rt=>{const et=useContext(TonConnectUiContext),[tt]=useI18n(),nt=()=>et.wallet&&"name"in et.wallet?et.wallet.name:tt("common.yourWallet",{},"Your wallet");return createComponent(Notification,{get header(){return{translationKey:"notifications.confirm.header",translationValues:{name:nt()}}},get class(){return rt.class},get icon(){return createComponent(LoaderIconStyled$2,{})},"data-tc-notification-confirm":"true",children:"Confirm operation in your wallet"})},ErrorIconStyled$2=styled$1(ErrorIcon)`
    margin-top: 2px;
`,ErrorTransactionNotification=rt=>createComponent(Notification,{header:{translationKey:"notifications.transactionCanceled.header"},text:{translationKey:"notifications.transactionCanceled.text"},get icon(){return createComponent(ErrorIconStyled$2,{size:"xs"})},get class(){return rt.class},"data-tc-notification-tx-cancelled":"true",children:"Transaction cancelled"}),SuccessIconStyled=styled$1(SuccessIcon)`
    margin-top: 2px;
`,SuccessTransactionNotification=rt=>createComponent(Notification,{header:{translationKey:"notifications.transactionSent.header"},text:{translationKey:"notifications.transactionSent.text"},get icon(){return createComponent(SuccessIconStyled,{})},get class(){return rt.class},"data-tc-notification-tx-sent":"true",children:"Transaction sent"}),NotificationClass=u$1`
    transform: translateY(-8px);
    margin-bottom: 12px;
`,defaultConfig={timeout:4500},[latestAction,setLatestAction]=createSignal(null);function useOpenedNotifications(rt){const{timeout:et}=__spreadValues$2(__spreadValues$2({},defaultConfig),rt),[tt,nt]=createSignal([]),[ot,it]=createSignal([]);return createEffect(on(action,at=>{var st;if(!at||!at.showNotification||latestAction()===at||((st=latestAction())==null?void 0:st.name)==="confirm-transaction"&&at.name==="confirm-transaction")return;setLatestAction(at),nt(ht=>ht.filter(mt=>mt.action!=="confirm-transaction"));const ut={action:at.name};nt(ht=>[...ht,ut]);const ft=setTimeout(()=>{nt(ht=>ht.filter(mt=>mt!==ut)),it(ht=>ht.filter(mt=>mt!==ft))},et);it(ht=>[...ht,ft])})),onCleanup(()=>{ot().forEach(at=>clearTimeout(at))}),tt}const _tmpl$$5=template$1('<div data-tc-list-notifications="true"></div>'),Notifications=rt=>{const et=useOpenedNotifications();return(()=>{const tt=_tmpl$$5.cloneNode(!0);return insert(tt,createComponent(TransitionGroup,{onBeforeEnter:nt=>{animate(nt,[{opacity:0,transform:"translateY(0)"},{opacity:1,transform:"translateY(-8px)"}],{duration:200})},onExit:(nt,ot)=>{animate(nt,[{opacity:1,transform:"translateY(-8px)"},{opacity:0,transform:"translateY(-30px)"}],{duration:200}).finished.then(ot)},get children(){return createComponent(For,{get each(){return et()},children:nt=>createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return nt.action==="transaction-sent"},get children(){return createComponent(SuccessTransactionNotification,{class:NotificationClass})}}),createComponent(Match,{get when(){return nt.action==="transaction-canceled"},get children(){return createComponent(ErrorTransactionNotification,{class:NotificationClass})}}),createComponent(Match,{get when(){return nt.action==="confirm-transaction"},get children(){return createComponent(ConfirmOperationNotification,{class:NotificationClass})}})]}})})}})),createRenderEffect(()=>className(tt,rt.class)),tt})()},AccountButtonStyled=styled$1(Button$1)`
    background-color: ${rt=>rt.theme.colors.connectButton.background};
    color: ${rt=>rt.theme.colors.connectButton.foreground};
    box-shadow: ${rt=>`0 4px 24px ${rgba(rt.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,DropdownButtonStyled=styled$1(AccountButtonStyled)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${rt=>rt.theme.colors.background.primary};
`,LoaderButtonStyled$1=styled$1(Button$1)`
    min-width: 148px;
    height: 40px;

    background-color: ${rt=>rt.theme.colors.background.primary};
    color: ${rt=>rt.theme.colors.connectButton.foreground};
    box-shadow: ${rt=>`0 4px 24px ${rgba(rt.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,LoaderIconStyled$1=styled$1(LoaderIcon)`
    height: 18px;
    width: 18px;
`,DropdownContainerStyled=styled$1.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,DropdownStyled=styled$1(AccountButtonDropdown)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,NotificationsStyled=styled$1(Notifications)`
    > div:first-child {
        margin-top: 20px;
    }
`;function getSide(rt){return rt.split("-")[0]}function getAlignment(rt){return rt.split("-")[1]}function getMainAxisFromPlacement(rt){return["top","bottom"].includes(getSide(rt))?"x":"y"}function getLengthFromAxis(rt){return rt==="y"?"height":"width"}function computeCoordsFromPlacement(rt,et,tt){let{reference:nt,floating:ot}=rt;const it=nt.x+nt.width/2-ot.width/2,at=nt.y+nt.height/2-ot.height/2,st=getMainAxisFromPlacement(et),ut=getLengthFromAxis(st),ft=nt[ut]/2-ot[ut]/2,ht=getSide(et),mt=st==="x";let gt;switch(ht){case"top":gt={x:it,y:nt.y-ot.height};break;case"bottom":gt={x:it,y:nt.y+nt.height};break;case"right":gt={x:nt.x+nt.width,y:at};break;case"left":gt={x:nt.x-ot.width,y:at};break;default:gt={x:nt.x,y:nt.y}}switch(getAlignment(et)){case"start":gt[st]-=ft*(tt&&mt?-1:1);break;case"end":gt[st]+=ft*(tt&&mt?-1:1);break}return gt}const computePosition$1=(rt,et,tt)=>__async(void 0,null,function*(){const{placement:nt="bottom",strategy:ot="absolute",middleware:it=[],platform:at}=tt,st=it.filter(Boolean),ut=yield at.isRTL==null?void 0:at.isRTL(et);if({}.NODE_ENV!=="production"){if(at==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),st.filter(St=>{let{name:Tt}=St;return Tt==="autoPlacement"||Tt==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!rt||!et)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let ft=yield at.getElementRects({reference:rt,floating:et,strategy:ot}),{x:ht,y:mt}=computeCoordsFromPlacement(ft,nt,ut),gt=nt,yt={},xt=0;for(let St=0;St<st.length;St++){const{name:Tt,fn:Mt}=st[St],{x:Pt,y:It,data:kt,reset:Dt}=yield Mt({x:ht,y:mt,initialPlacement:nt,placement:gt,strategy:ot,middlewareData:yt,rects:ft,platform:at,elements:{reference:rt,floating:et}});if(ht=Pt??ht,mt=It??mt,yt=__spreadProps$1(__spreadValues$2({},yt),{[Tt]:__spreadValues$2(__spreadValues$2({},yt[Tt]),kt)}),{}.NODE_ENV!=="production"&&xt>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),Dt&&xt<=50){xt++,typeof Dt=="object"&&(Dt.placement&&(gt=Dt.placement),Dt.rects&&(ft=Dt.rects===!0?yield at.getElementRects({reference:rt,floating:et,strategy:ot}):Dt.rects),{x:ht,y:mt}=computeCoordsFromPlacement(ft,gt,ut)),St=-1;continue}}return{x:ht,y:mt,placement:gt,strategy:ot,middlewareData:yt}});function rectToClientRect(rt){return __spreadProps$1(__spreadValues$2({},rt),{top:rt.y,left:rt.x,right:rt.x+rt.width,bottom:rt.y+rt.height})}function getWindow(rt){var et;return((et=rt.ownerDocument)==null?void 0:et.defaultView)||window}function getComputedStyle$1(rt){return getWindow(rt).getComputedStyle(rt)}function getNodeName(rt){return isNode(rt)?(rt.nodeName||"").toLowerCase():""}let uaString;function getUAString(){if(uaString)return uaString;const rt=navigator.userAgentData;return rt&&Array.isArray(rt.brands)?(uaString=rt.brands.map(et=>et.brand+"/"+et.version).join(" "),uaString):navigator.userAgent}function isHTMLElement(rt){return rt instanceof getWindow(rt).HTMLElement}function isElement(rt){return rt instanceof getWindow(rt).Element}function isNode(rt){return rt instanceof getWindow(rt).Node}function isShadowRoot(rt){if(typeof ShadowRoot>"u")return!1;const et=getWindow(rt).ShadowRoot;return rt instanceof et||rt instanceof ShadowRoot}function isOverflowElement(rt){const{overflow:et,overflowX:tt,overflowY:nt,display:ot}=getComputedStyle$1(rt);return/auto|scroll|overlay|hidden/.test(et+nt+tt)&&!["inline","contents"].includes(ot)}function isTableElement(rt){return["table","td","th"].includes(getNodeName(rt))}function isContainingBlock(rt){const et=/firefox/i.test(getUAString()),tt=getComputedStyle$1(rt),nt=tt.backdropFilter||tt.WebkitBackdropFilter;return tt.transform!=="none"||tt.perspective!=="none"||(nt?nt!=="none":!1)||et&&tt.willChange==="filter"||et&&(tt.filter?tt.filter!=="none":!1)||["transform","perspective"].some(ot=>tt.willChange.includes(ot))||["paint","layout","strict","content"].some(ot=>{const it=tt.contain;return it!=null?it.includes(ot):!1})}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function isLastTraversableNode(rt){return["html","body","#document"].includes(getNodeName(rt))}const min=Math.min,max=Math.max,round=Math.round,FALLBACK_SCALE={x:1,y:1};function getScale(rt){const et=!isElement(rt)&&rt.contextElement?rt.contextElement:isElement(rt)?rt:null;if(!et)return FALLBACK_SCALE;const tt=et.getBoundingClientRect(),nt=getComputedStyle$1(et);if(nt.boxSizing!=="border-box")return isHTMLElement(et)?{x:et.offsetWidth>0&&round(tt.width)/et.offsetWidth||1,y:et.offsetHeight>0&&round(tt.height)/et.offsetHeight||1}:FALLBACK_SCALE;let ot=tt.width/parseFloat(nt.width),it=tt.height/parseFloat(nt.height);return(!ot||!Number.isFinite(ot))&&(ot=1),(!it||!Number.isFinite(it))&&(it=1),{x:ot,y:it}}function getBoundingClientRect(rt,et,tt,nt){var ot,it,at,st;et===void 0&&(et=!1),tt===void 0&&(tt=!1);const ut=rt.getBoundingClientRect();let ft=FALLBACK_SCALE;et&&(nt?isElement(nt)&&(ft=getScale(nt)):ft=getScale(rt));const ht=isElement(rt)?getWindow(rt):window,mt=!isLayoutViewport()&&tt,gt=(ut.left+(mt&&(ot=(it=ht.visualViewport)==null?void 0:it.offsetLeft)!=null?ot:0))/ft.x,yt=(ut.top+(mt&&(at=(st=ht.visualViewport)==null?void 0:st.offsetTop)!=null?at:0))/ft.y,xt=ut.width/ft.x,St=ut.height/ft.y;return{width:xt,height:St,top:yt,right:gt+xt,bottom:yt+St,left:gt,x:gt,y:yt}}function getDocumentElement(rt){return((isNode(rt)?rt.ownerDocument:rt.document)||window.document).documentElement}function getNodeScroll(rt){return isElement(rt)?{scrollLeft:rt.scrollLeft,scrollTop:rt.scrollTop}:{scrollLeft:rt.pageXOffset,scrollTop:rt.pageYOffset}}function getWindowScrollBarX(rt){return getBoundingClientRect(getDocumentElement(rt)).left+getNodeScroll(rt).scrollLeft}function getRectRelativeToOffsetParent(rt,et,tt){const nt=isHTMLElement(et),ot=getDocumentElement(et),it=getBoundingClientRect(rt,!0,tt==="fixed",et);let at={scrollLeft:0,scrollTop:0};const st={x:0,y:0};if(nt||!nt&&tt!=="fixed")if((getNodeName(et)!=="body"||isOverflowElement(ot))&&(at=getNodeScroll(et)),isHTMLElement(et)){const ut=getBoundingClientRect(et,!0);st.x=ut.x+et.clientLeft,st.y=ut.y+et.clientTop}else ot&&(st.x=getWindowScrollBarX(ot));return{x:it.left+at.scrollLeft-st.x,y:it.top+at.scrollTop-st.y,width:it.width,height:it.height}}function getParentNode(rt){if(getNodeName(rt)==="html")return rt;const et=rt.assignedSlot||rt.parentNode||(isShadowRoot(rt)?rt.host:null)||getDocumentElement(rt);return isShadowRoot(et)?et.host:et}function getTrueOffsetParent(rt){return!isHTMLElement(rt)||getComputedStyle$1(rt).position==="fixed"?null:rt.offsetParent}function getContainingBlock(rt){let et=getParentNode(rt);for(;isHTMLElement(et)&&!isLastTraversableNode(et);){if(isContainingBlock(et))return et;et=getParentNode(et)}return null}function getOffsetParent(rt){const et=getWindow(rt);let tt=getTrueOffsetParent(rt);for(;tt&&isTableElement(tt)&&getComputedStyle$1(tt).position==="static";)tt=getTrueOffsetParent(tt);return tt&&(getNodeName(tt)==="html"||getNodeName(tt)==="body"&&getComputedStyle$1(tt).position==="static"&&!isContainingBlock(tt))?et:tt||getContainingBlock(rt)||et}function getDimensions(rt){if(isHTMLElement(rt))return{width:rt.offsetWidth,height:rt.offsetHeight};const et=getBoundingClientRect(rt);return{width:et.width,height:et.height}}function convertOffsetParentRelativeRectToViewportRelativeRect(rt){let{rect:et,offsetParent:tt,strategy:nt}=rt;const ot=isHTMLElement(tt),it=getDocumentElement(tt);if(tt===it)return et;let at={scrollLeft:0,scrollTop:0},st={x:1,y:1};const ut={x:0,y:0};if((ot||!ot&&nt!=="fixed")&&((getNodeName(tt)!=="body"||isOverflowElement(it))&&(at=getNodeScroll(tt)),isHTMLElement(tt))){const ft=getBoundingClientRect(tt);st=getScale(tt),ut.x=ft.x+tt.clientLeft,ut.y=ft.y+tt.clientTop}return{width:et.width*st.x,height:et.height*st.y,x:et.x*st.x-at.scrollLeft*st.x+ut.x,y:et.y*st.y-at.scrollTop*st.y+ut.y}}function getViewportRect(rt,et){const tt=getWindow(rt),nt=getDocumentElement(rt),ot=tt.visualViewport;let it=nt.clientWidth,at=nt.clientHeight,st=0,ut=0;if(ot){it=ot.width,at=ot.height;const ft=isLayoutViewport();(ft||!ft&&et==="fixed")&&(st=ot.offsetLeft,ut=ot.offsetTop)}return{width:it,height:at,x:st,y:ut}}function getDocumentRect(rt){var et;const tt=getDocumentElement(rt),nt=getNodeScroll(rt),ot=(et=rt.ownerDocument)==null?void 0:et.body,it=max(tt.scrollWidth,tt.clientWidth,ot?ot.scrollWidth:0,ot?ot.clientWidth:0),at=max(tt.scrollHeight,tt.clientHeight,ot?ot.scrollHeight:0,ot?ot.clientHeight:0);let st=-nt.scrollLeft+getWindowScrollBarX(rt);const ut=-nt.scrollTop;return getComputedStyle$1(ot||tt).direction==="rtl"&&(st+=max(tt.clientWidth,ot?ot.clientWidth:0)-it),{width:it,height:at,x:st,y:ut}}function getNearestOverflowAncestor(rt){const et=getParentNode(rt);return isLastTraversableNode(et)?rt.ownerDocument.body:isHTMLElement(et)&&isOverflowElement(et)?et:getNearestOverflowAncestor(et)}function getOverflowAncestors(rt,et){var tt;et===void 0&&(et=[]);const nt=getNearestOverflowAncestor(rt),ot=nt===((tt=rt.ownerDocument)==null?void 0:tt.body),it=getWindow(nt);return ot?et.concat(it,it.visualViewport||[],isOverflowElement(nt)?nt:[]):et.concat(nt,getOverflowAncestors(nt))}function getInnerBoundingClientRect(rt,et){const tt=getBoundingClientRect(rt,!0,et==="fixed"),nt=tt.top+rt.clientTop,ot=tt.left+rt.clientLeft,it=isHTMLElement(rt)?getScale(rt):{x:1,y:1},at=rt.clientWidth*it.x,st=rt.clientHeight*it.y,ut=ot*it.x,ft=nt*it.y;return{top:ft,left:ut,right:ut+at,bottom:ft+st,x:ut,y:ft,width:at,height:st}}function getClientRectFromClippingAncestor(rt,et,tt){return et==="viewport"?rectToClientRect(getViewportRect(rt,tt)):isElement(et)?getInnerBoundingClientRect(et,tt):rectToClientRect(getDocumentRect(getDocumentElement(rt)))}function getClippingElementAncestors(rt,et){const tt=et.get(rt);if(tt)return tt;let nt=getOverflowAncestors(rt).filter(st=>isElement(st)&&getNodeName(st)!=="body"),ot=null;const it=getComputedStyle$1(rt).position==="fixed";let at=it?getParentNode(rt):rt;for(;isElement(at)&&!isLastTraversableNode(at);){const st=getComputedStyle$1(at),ut=isContainingBlock(at);(it?!ut&&!ot:!ut&&st.position==="static"&&!!ot&&["absolute","fixed"].includes(ot.position))?nt=nt.filter(ht=>ht!==at):ot=st,at=getParentNode(at)}return et.set(rt,nt),nt}function getClippingRect(rt){let{element:et,boundary:tt,rootBoundary:nt,strategy:ot}=rt;const at=[...tt==="clippingAncestors"?getClippingElementAncestors(et,this._c):[].concat(tt),nt],st=at[0],ut=at.reduce((ft,ht)=>{const mt=getClientRectFromClippingAncestor(et,ht,ot);return ft.top=max(mt.top,ft.top),ft.right=min(mt.right,ft.right),ft.bottom=min(mt.bottom,ft.bottom),ft.left=max(mt.left,ft.left),ft},getClientRectFromClippingAncestor(et,st,ot));return{width:ut.right-ut.left,height:ut.bottom-ut.top,x:ut.left,y:ut.top}}const platform$2={getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect,isElement,getDimensions,getOffsetParent,getDocumentElement,getScale,getElementRects(rt){return __async(this,null,function*(){let{reference:et,floating:tt,strategy:nt}=rt;const ot=this.getOffsetParent||getOffsetParent,it=this.getDimensions;return{reference:getRectRelativeToOffsetParent(et,yield ot(tt),nt),floating:__spreadValues$2({x:0,y:0},yield it(tt))}})},getClientRects:rt=>Array.from(rt.getClientRects()),isRTL:rt=>getComputedStyle$1(rt).direction==="rtl"};function autoUpdate(rt,et,tt,nt){nt===void 0&&(nt={});const{ancestorScroll:ot=!0,ancestorResize:it=!0,elementResize:at=!0,animationFrame:st=!1}=nt,ut=ot&&!st,ft=ut||it?[...isElement(rt)?getOverflowAncestors(rt):rt.contextElement?getOverflowAncestors(rt.contextElement):[],...getOverflowAncestors(et)]:[];ft.forEach(xt=>{ut&&xt.addEventListener("scroll",tt,{passive:!0}),it&&xt.addEventListener("resize",tt)});let ht=null;if(at){let xt=!0;ht=new ResizeObserver(()=>{xt||tt(),xt=!1}),isElement(rt)&&!st&&ht.observe(rt),!isElement(rt)&&rt.contextElement&&!st&&ht.observe(rt.contextElement),ht.observe(et)}let mt,gt=st?getBoundingClientRect(rt):null;st&&yt();function yt(){const xt=getBoundingClientRect(rt);gt&&(xt.x!==gt.x||xt.y!==gt.y||xt.width!==gt.width||xt.height!==gt.height)&&tt(),gt=xt,mt=requestAnimationFrame(yt)}return tt(),()=>{var xt;ft.forEach(St=>{ut&&St.removeEventListener("scroll",tt),it&&St.removeEventListener("resize",tt)}),(xt=ht)==null||xt.disconnect(),ht=null,st&&cancelAnimationFrame(mt)}}const computePosition=(rt,et,tt)=>{const nt=new Map,ot=__spreadValues$2({platform:platform$2},tt),it=__spreadProps$1(__spreadValues$2({},ot.platform),{_c:nt});return computePosition$1(rt,et,__spreadProps$1(__spreadValues$2({},ot),{platform:it}))};function P(rt,et,tt){let nt=()=>{var mt;return(mt=tt==null?void 0:tt.placement)!=null?mt:"bottom"},ot=()=>{var mt;return(mt=tt==null?void 0:tt.strategy)!=null?mt:"absolute"},[it,at]=createSignal({x:null,y:null,placement:nt(),strategy:ot(),middlewareData:{}}),[st,ut]=createSignal();createEffect(()=>{let mt=st();if(mt)throw mt.value});let ft=createMemo(()=>(rt(),et(),{}));function ht(){let mt=rt(),gt=et();if(mt&&gt){let yt=ft();computePosition(mt,gt,{middleware:tt==null?void 0:tt.middleware,placement:nt(),strategy:ot()}).then(xt=>{yt===ft()&&at(xt)},xt=>{ut(xt)})}}return createEffect(()=>{let mt=rt(),gt=et();if(tt==null||tt.middleware,nt(),ot(),mt&&gt)if(tt!=null&&tt.whileElementsMounted){let yt=tt.whileElementsMounted(mt,gt,ht);yt&&onCleanup(yt)}else ht()}),{get x(){return it().x},get y(){return it().y},get placement(){return it().placement},get strategy(){return it().strategy},get middlewareData(){return it().middlewareData},update:ht}}const _tmpl$$4=template$1('<tc-root data-tc-dropdown-container="true"></tc-root>'),AccountButton=()=>{const rt=useTheme(),et=useContext(ConnectorContext),tt=useContext(TonConnectUiContext),[nt,ot]=createSignal(!1),[it,at]=createSignal(et.account),[st,ut]=createSignal(!et.account);let ft;const[ht,mt]=createSignal(),[gt,yt]=createSignal(),xt=P(gt,ht,{whileElementsMounted:autoUpdate,placement:"bottom-end"}),St=()=>{const Pt=it();if(Pt){const It=toUserFriendlyAddress(Pt.address,Pt.chain===CHAIN.TESTNET);return It.slice(0,4)+""+It.slice(-4)}return""};tt.connectionRestored.then(()=>ut(!1));const Tt=et.onStatusChange(Pt=>{if(!Pt){ot(!1),at(null),ut(!1);return}at(Pt.account),ut(!1)}),Mt=Pt=>{if(!it()||!nt())return;const It=gt().contains(Pt.target),kt=ft.contains(Pt.target);!It&&!kt&&ot(!1)};return onMount(()=>{document.body.addEventListener("click",Mt)}),onCleanup(()=>{document.body.removeEventListener("click",Mt),Tt()}),createComponent(Dynamic,{component:globalStylesTag,get children(){return[createComponent(Show,{get when(){return st()},get children(){return createComponent(LoaderButtonStyled$1,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return createComponent(LoaderIconStyled$1,{})}})}}),createComponent(Show,{get when(){return!st()},get children(){return[createComponent(Show,{get when(){return!it()},get children(){return createComponent(AccountButtonStyled,{onClick:()=>tt.openModal(),"data-tc-connect-button":"true",scale:"s",get children(){return[createComponent(TonIcon,{get fill(){return rt.colors.connectButton.foreground}}),createComponent(Text$2,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return rt.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),createComponent(Show,{get when(){return it()},get children(){return createComponent(DropdownContainerStyled,{get children(){return[createComponent(DropdownButtonStyled,{onClick:()=>ot(Pt=>!Pt),ref:yt,"data-tc-dropdown-button":"true",scale:"s",get children(){return[createComponent(Text$2,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return St()}}),createComponent(ArrowIcon,{direction:"bottom"})]}}),createComponent(Portal,{get children(){const Pt=untrack(()=>document.importNode(_tmpl$$4,!0));return use(mt,Pt),Pt.style.setProperty("z-index","999"),Pt._$owner=getOwner(),insert(Pt,createComponent(Transition,{onBeforeEnter:It=>{animate(It,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(It,kt)=>{animate(It,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(kt)},get children(){return createComponent(Show,{get when(){return nt()},get children(){return createComponent(DropdownStyled,{get hidden(){return!nt()},onClose:()=>ot(!1),ref(It){const kt=ft;typeof kt=="function"?kt(It):ft=It}})}})}}),null),insert(Pt,createComponent(NotificationsStyled,{}),null),createRenderEffect(It=>{var kt,Dt;const Nt=xt.strategy,Gt=`${(kt=xt.y)!=null?kt:0}px`,Wt=`${(Dt=xt.x)!=null?Dt:0}px`;return Nt!==It._v$&&Pt.style.setProperty("position",It._v$=Nt),Gt!==It._v$2&&Pt.style.setProperty("top",It._v$2=Gt),Wt!==It._v$3&&Pt.style.setProperty("left",It._v$3=Wt),It},{_v$:void 0,_v$2:void 0,_v$3:void 0}),Pt}})]}})}})]}})]}})},StyledModal=styled$1(Modal)`
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 18px;
    padding-bottom: 0;

    ${media("mobile")} {
        padding-left: 0;
        padding-right: 0;
    }
`,H1Styled$8=styled$1(H1)`
    margin-top: 12px;

    ${media("mobile")} {
        padding: 0 10px;
    }
`,LoaderContainerStyled=styled$1.div`
    margin: 30px 0;
    width: 100%;
    display: flex;
    justify-content: center;

    ${media("mobile")} {
        height: 160px;
        align-items: center;
    }
`;styled$1(Text$2)`
    min-width: 84px;
    text-align: center;
    font-weight: 590;
`;styled$1(TabBar)`
    margin: 0 auto 22px;
`;const[appState,setAppState]=createStore$4({buttonRootId:null,language:"en",returnStrategy:"back",twaReturnUrl:void 0,walletsListConfiguration:{},enableAndroidBackHandler:!0});function uniq(rt){return[...new Set(rt)]}function mergeConcat(rt,et,tt){return et.map(nt=>{const ot=tt.find(it=>it[rt]===nt[rt]);return tt=tt.filter(it=>it[rt]!==nt[rt]),ot===void 0?nt:ot}).concat(tt)}function uiWalletToWalletInfo(rt){return"jsBridgeKey"in rt?__spreadProps$1(__spreadValues$2({},rt),{injected:TonConnect.isWalletInjected(rt.jsBridgeKey),embedded:TonConnect.isInsideWalletBrowser(rt.jsBridgeKey)}):rt}function applyWalletsListConfiguration(rt,et){var tt;return et&&(tt=et.includeWallets)!=null&&tt.length&&(rt=mergeConcat("name",rt,et.includeWallets.map(uiWalletToWalletInfo))),rt}function supportsDesktop(rt){return rt.platforms.some(et=>["macos","linux","windows"].includes(et))}function supportsMobile(rt){return rt.platforms.some(et=>["ios","android"].includes(et))}function supportsExtension(rt){return rt.platforms.some(et=>["chrome","firefox","safari"].includes(et))}function eqWalletName(rt,et){return et?rt.name.toLowerCase()===et.toLowerCase()||rt.appName.toLowerCase()===et.toLowerCase():!1}const DesktopSelectWalletModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
`,H1Styled$7=styled$1(H1)`
    margin-bottom: 18px;
`;styled$1.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.12;
    background: ${rt=>rt.isShown?rt.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${media("mobile")} {
        width: 100%;
    }
`;const WalletsUl=styled$1.ul`
    display: grid;
    grid-template-columns: repeat(auto-fit, 92px);
    grid-template-rows: auto;
    align-content: flex-start;
    row-gap: 8px;
    width: 100%;
    padding: 0 0 16px;
    align-self: flex-start;
    max-width: 400px;
    margin: 0 auto;
    list-style: none;

    > li {
        display: block;
        height: fit-content;
    }

    ${media("mobile")} {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0;
        padding: 8px 12px 16px;
        max-width: none;

        > li {
            min-width: 78px;
            display: flex;
        }

        > li > * {
            width: 100%;
        }
    }
`;styled$1(Button$1)`
    display: block;
    margin: 0 auto 1px;
    font-size: 15px;
`;const StyledIconButton$3=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,WalletLabeledItemStyled=styled$1(WalletLabeledItem)`
    opacity: ${rt=>rt.withOpacity?"0.4":"1"};
`,WalletsNotSupportedNotifier=styled$1.div`
    display: grid;
    grid-template-columns: auto 28px;
    gap: 16px;
    padding: 16px;
    margin-bottom: 16px;
    border-radius: 16px;
    color: ${rt=>rt.theme.colors.text.secondary};
    background: ${rt=>rt.theme.colors.background.tint};

    ${media("mobile")} {
        margin-left: 16px;
        margin-right: 16px;
    }
`,WalletsNotSupportedNotifierText=styled$1(H2)`
    color: ${rt=>rt.theme.colors.text.secondary};
    text-align: left;
    margin: 0;
`,ErrorBoxStyled=styled$1.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    text-wrap: nowrap;
    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${rt=>rt.theme.colors.background.segment};
`,_tmpl$$3=template$1('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_5122_10355)"><circle cx="8" cy="8" r="8"></circle><circle cx="8" cy="11" r="1"></circle><path d="M7.04994 4.99875C7.02277 4.45542 7.45598 4 8 4C8.54402 4 8.97723 4.45541 8.95006 4.99875L8.78745 8.25094C8.76647 8.67055 8.42014 9 8 9C7.57986 9 7.23353 8.67055 7.21255 8.25094L7.04994 4.99875Z"></path></g><defs><clipPath id="clip0_5122_10355"><rect width="16" height="16"></rect></clipPath></defs></svg>'),_tmpl$2$1=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><circle cx="14" cy="14" r="12"></circle><circle cx="14" cy="18.9" r="1.4"></circle><path d="M12.6658 8.89845C12.63 8.13698 13.2377 7.5 14 7.5C14.7623 7.5 15.37 8.13698 15.3342 8.89845L15.047 15.0013C15.0207 15.5604 14.5597 16.0002 14 16.0002C13.4403 16.0002 12.9793 15.5604 12.953 15.0013L12.6658 8.89845Z"></path></svg>'),ExclamationIcon=rt=>{const et=useTheme(),tt=()=>rt.size,nt=()=>rt.fill||et.colors.icon.error;return createMemo((()=>{const ot=createMemo(()=>tt()==="16");return()=>ot()?(()=>{const it=_tmpl$$3.cloneNode(!0),at=it.firstChild,st=at.firstChild,ut=st.nextSibling,ft=ut.nextSibling,ht=at.nextSibling,mt=ht.firstChild,gt=mt.firstChild;return createRenderEffect(yt=>{const xt=nt(),St=et.colors.constant.white,Tt=et.colors.constant.white,Mt=et.colors.constant.white;return xt!==yt._v$&&setAttribute(st,"fill",yt._v$=xt),St!==yt._v$2&&setAttribute(ut,"fill",yt._v$2=St),Tt!==yt._v$3&&setAttribute(ft,"fill",yt._v$3=Tt),Mt!==yt._v$4&&setAttribute(gt,"fill",yt._v$4=Mt),yt},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),it})():(()=>{const it=createMemo(()=>tt()==="28");return()=>it()?(()=>{const at=_tmpl$2$1.cloneNode(!0),st=at.firstChild,ut=st.nextSibling,ft=ut.nextSibling;return createRenderEffect(ht=>{const mt=rt.class,gt=nt(),yt=et.colors.constant.white,xt=et.colors.constant.white;return mt!==ht._v$5&&setAttribute(at,"class",ht._v$5=mt),gt!==ht._v$6&&setAttribute(st,"fill",ht._v$6=gt),yt!==ht._v$7&&setAttribute(ut,"fill",ht._v$7=yt),xt!==ht._v$8&&setAttribute(ft,"fill",ht._v$8=xt),ht},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),at})():null})()})())},_tmpl$$2=template$1("<li></li>"),AllWalletsListModal=rt=>{const et=()=>isMobile()?void 0:510,[tt,nt]=createSignal(null);let ot=null;const it=ht=>{nt(ht),ot!=null&&clearTimeout(ot),ot=setTimeout(()=>nt(null),1500)},at=ht=>{if(!ht.isSupportRequiredFeatures){it(ht);return}rt.onSelect(ht)},st=()=>isMobile()?rt.walletsList.filter(supportsMobile):rt.walletsList,ut=()=>st().filter(ht=>ht.isSupportRequiredFeatures),ft=()=>st().filter(ht=>!ht.isSupportRequiredFeatures);return createComponent(DesktopSelectWalletModalStyled,{"data-tc-wallets-modal-list":"true",get children(){return[createComponent(StyledIconButton$3,{icon:"arrow",onClick:()=>rt.onBack()}),createComponent(H1Styled$7,{translationKey:"walletModal.wallets",children:"Wallets"}),createComponent(ScrollContainer,{get maxHeight(){return et()},get children(){return[createComponent(WalletsUl,{get children(){return createComponent(For,{get each(){return ut()},children:ht=>(()=>{const mt=_tmpl$$2.cloneNode(!0);return insert(mt,createComponent(WalletLabeledItemStyled,{wallet:ht,onClick:()=>rt.onSelect(ht)})),mt})()})}}),createComponent(Show,{get when(){return ft().length>0},get children(){return[createComponent(WalletsNotSupportedNotifier,{get children(){return[createComponent(WalletsNotSupportedNotifierText,{translationKey:"walletModal.allWallets.walletsBelowNotSupported",children:"The wallets below dont support all features of the connected service. You can use your recovery phrase in one of the supported wallets above."}),createComponent(ExclamationIcon,{size:"28"})]}}),createComponent(WalletsUl,{get children(){return createComponent(For,{get each(){return ft()},children:ht=>(()=>{const mt=_tmpl$$2.cloneNode(!0);return insert(mt,createComponent(WalletLabeledItemStyled,{wallet:ht,onClick:()=>at(ht),withOpacity:!0})),mt})()})}}),createComponent(Transition,{onBeforeEnter:ht=>{animate(ht,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(ht,mt)=>{animate(ht,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{mt()})},get children(){return createComponent(Show,{get when(){return tt()},get children(){return createComponent(ErrorBoxStyled,{get children(){return[createComponent(ErrorIcon,{size:"xs"}),createComponent(Text$2,{translationKey:"walletModal.allWallets.walletNotSupportService",get translationValues(){return{name:tt().name}},get children(){return[createMemo(()=>tt().name)," doesnt support connected service"]}})]}})}})}})]}})]}})]}})},tgButtonBorders={m:"16px",s:"12px",none:"0"},tgIconBorders={m:"6px",s:"6px",none:"0"},DesktopConnectionModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
`,BodyStyled$1=styled$1.div`
    flex: 1;
    margin-top: ${rt=>rt.qr?"0":"18px"};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,QRCodeStyled$1=styled$1(QRCode)`
    margin-bottom: 24px;
`,H1Styled$6=styled$1(H1)`
    max-width: 288px;
    margin: 0 auto 2px;
`,H2Styled$4=styled$1(H2)`
    max-width: 288px;
    text-align: center;
    margin: 0 auto 20px;
`,StyledIconButton$2=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,ButtonsContainerStyled$1=styled$1.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,BottomButtonsContainerStyled=styled$1(ButtonsContainerStyled$1)`
    padding-bottom: 0;
`,FooterButton$1=styled$1(Button$1)`
    margin-bottom: 24px;
`,LoaderStyled$1=styled$1(LoaderIcon)`
    margin-bottom: 18px;
    margin-top: 2px;
`,ErrorIconStyled$1=styled$1(ErrorIcon)`
    margin-bottom: 16px;
`,BodyTextStyled$1=styled$1(H2)`
    color: ${rt=>rt.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,TgButtonStyled=styled$1(Button$1)`
    margin-top: -8px;
    margin-bottom: 24px;
    width: 100%;
    padding: 12px 12px 12px 20px;
    border-radius: ${rt=>tgButtonBorders[rt.theme.borderRadius]};
    font-size: 16px;
    line-height: 20px;
`,TgImageStyled=styled$1(Image$1)`
    width: 32px;
    height: 32px;
    border-radius: ${rt=>tgIconBorders[rt.theme.borderRadius]};
`,Translation=rt=>{const[et]=useI18n();return createMemo(()=>{var tt;return et(rt.translationKey,rt.translationValues,(tt=rt.children)==null?void 0:tt.toString())})};function addReturnStrategy(rt,et){let tt;typeof et=="string"?tt=et:tt=isInTMA()?et.twaReturnUrl||et.returnStrategy:"none";const nt=addQueryParameter(rt,"ret",tt);if(!isTelegramUrl(rt))return nt;const ot=nt.slice(nt.lastIndexOf("&")+1);return nt.slice(0,nt.lastIndexOf("&"))+"-"+encodeTelegramUrlParameters(ot)}function redirectToTelegram(rt,et){et=__spreadValues$2({},et);const tt=convertToTGDirectLink(rt),nt=new URL(tt);if(nt.searchParams.has("startapp")||nt.searchParams.append("startapp","tonconnect"),isInTelegramBrowser()){et.returnStrategy="back";const ot=addReturnStrategy(nt.toString(),et.returnStrategy);openLinkBlank(ot)}else if(isInTMA())if(isTmaPlatform("ios","android","macos","tdesktop","web")){et.returnStrategy="back";const ot=addReturnStrategy(nt.toString(),et.returnStrategy);sendOpenTelegramLink(ot)}else isTmaPlatform("weba")?sendOpenTelegramLink(addReturnStrategy(nt.toString(),et)):openLinkBlank(addReturnStrategy(nt.toString(),et));else if(isOS("ios")){et.returnStrategy==="back"&&(isBrowser("safari")?et.returnStrategy="back":isBrowser("chrome")?et.returnStrategy="googlechrome://":isBrowser("firefox")?et.returnStrategy="firefox://":isBrowser("opera")?et.returnStrategy="opera-http://":et.returnStrategy=location.href);const ot=isBrowser("chrome"),it=isBrowser("firefox");if((ot||it)&&!et.forceRedirect){const st=addReturnStrategy(nt.toString(),et.returnStrategy),ut=convertToTGDeepLink(st);openDeeplinkWithFallback(ut,()=>openLinkBlank(st))}else{const st=addReturnStrategy(nt.toString(),et.returnStrategy);openLinkBlank(st)}}else if(isOS("android")){et.returnStrategy="back";const ot=isBrowser("chrome"),it=isBrowser("firefox");if((ot||it)&&!et.forceRedirect){const st=addReturnStrategy(nt.toString(),et.returnStrategy),ut=convertToTGDeepLink(st);openDeeplinkWithFallback(ut,()=>openLinkBlank(st))}else{const st=addReturnStrategy(nt.toString(),et.returnStrategy);openLinkBlank(st)}}else if(isOS("ipad")){et.returnStrategy==="back"&&(isBrowser("safari")?et.returnStrategy="back":isBrowser("chrome")?et.returnStrategy="googlechrome://":isBrowser("firefox")?et.returnStrategy="firefox://":isBrowser("opera")?et.returnStrategy="opera-http://":et.returnStrategy=location.href);const ot=isBrowser("chrome"),it=isBrowser("firefox"),at=(ot||it)&&!et.forceRedirect,st=addReturnStrategy(nt.toString(),et.returnStrategy);if(at){const ut=convertToTGDeepLink(st);openDeeplinkWithFallback(ut,()=>openLinkBlank(st))}else openLinkBlank(st)}else if(isOS("macos","windows","linux")){et.returnStrategy="back",et.twaReturnUrl=void 0;const ot=addReturnStrategy(nt.toString(),et.returnStrategy);if(et.forceRedirect)openLinkBlank(ot);else{const it=convertToTGDeepLink(ot);openDeeplinkWithFallback(it,()=>openLinkBlank(ot))}}else openLinkBlank(addReturnStrategy(nt.toString(),et))}function redirectToWallet(rt,et,tt,nt){if(tt=__spreadValues$2({},tt),isInTelegramBrowser())if(isOS("ios","android"))tt.returnStrategy==="back"&&(tt.returnStrategy="tg://resolve"),nt("universal-link"),openLink(addReturnStrategy(rt,tt.returnStrategy),"_self");else{nt("universal-link");const ot=addReturnStrategy(rt,tt.returnStrategy);openLinkBlank(ot)}else if(isInTMA())if(isTmaPlatform("ios","android")){tt.returnStrategy==="back"&&(tt.returnStrategy="tg://resolve"),nt("universal-link");const ot=addReturnStrategy(rt,tt.returnStrategy);sendOpenTelegramLink(ot,()=>{nt("universal-link"),openLinkBlank(ot)})}else if(isTmaPlatform("macos","tdesktop")){tt.returnStrategy==="back"&&(tt.returnStrategy="tg://resolve");const ot=addReturnStrategy(rt,tt.returnStrategy);!!et&&!tt.forceRedirect?(nt("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(ot,et),()=>{nt("universal-link"),openLinkBlank(ot)})):(nt("universal-link"),openLinkBlank(ot))}else if(isTmaPlatform("weba")){tt.returnStrategy==="back"&&(isBrowser("safari")?tt.returnStrategy=location.href:isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy=location.href);const ot=addReturnStrategy(rt,tt.returnStrategy);!!et&&!tt.forceRedirect?(nt("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(ot,et),()=>{nt("universal-link"),openLinkBlank(ot)})):(nt("universal-link"),openLinkBlank(ot))}else if(isTmaPlatform("web")){tt.returnStrategy==="back"&&(isBrowser("safari")?tt.returnStrategy=location.href:isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy=location.href);const ot=addReturnStrategy(rt,tt.returnStrategy);!!et&&!tt.forceRedirect?(nt("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(ot,et),()=>{nt("universal-link"),openLinkBlank(ot)})):(nt("universal-link"),openLinkBlank(ot))}else{nt("universal-link");const ot=addReturnStrategy(rt,tt.returnStrategy);openLinkBlank(ot)}else if(isOS("ios"))tt.returnStrategy==="back"&&(isBrowser("safari")?tt.returnStrategy="none":isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy=location.href),isBrowser("chrome")?(nt("universal-link"),openLink(addReturnStrategy(rt,tt.returnStrategy),"_self")):(nt("universal-link"),openLinkBlank(addReturnStrategy(rt,tt.returnStrategy)));else if(isOS("android"))tt.returnStrategy==="back"&&(isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy=location.href),nt("universal-link"),openLinkBlank(addReturnStrategy(rt,tt.returnStrategy));else if(isOS("ipad"))tt.returnStrategy==="back"&&(isBrowser("safari")?tt.returnStrategy="none":isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy=location.href),isBrowser("chrome")?(nt("universal-link"),openLink(addReturnStrategy(rt,tt.returnStrategy),"_self")):(nt("universal-link"),openLinkBlank(addReturnStrategy(rt,tt.returnStrategy)));else if(isOS("macos","windows","linux")){tt.returnStrategy==="back"&&(isBrowser("safari")?tt.returnStrategy="none":isBrowser("chrome")?tt.returnStrategy="googlechrome://":isBrowser("firefox")?tt.returnStrategy="firefox://":isBrowser("opera")?tt.returnStrategy="opera-http://":tt.returnStrategy="none");const ot=addReturnStrategy(rt,tt.returnStrategy);!!et&&!tt.forceRedirect?(nt("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(ot,et),()=>{nt("universal-link"),openLinkBlank(ot)})):(nt("universal-link"),openLinkBlank(ot))}else nt("universal-link"),openLinkBlank(addReturnStrategy(rt,tt.returnStrategy))}function addQueryParameter(rt,et,tt){const nt=new URL(rt);return nt.searchParams.append(et,tt),nt.toString()}function convertToTGDirectLink(rt){const et=new URL(rt);return et.searchParams.has("attach")&&(et.searchParams.delete("attach"),et.pathname+="/start"),et.toString()}function convertToTGDeepLink(rt){const et=new URL(rt),[,tt,nt]=et.pathname.split("/"),ot=et.searchParams.get("startapp");return`tg://resolve?domain=${tt}&appname=${nt}&startapp=${ot}`}const DesktopConnectionModal=rt=>{const[et,tt]=createSignal("mobile"),[nt,ot]=createSignal(null);createEffect(()=>{var Tt;ot((Tt=rt.defaultError)!=null?Tt:null)});const[it,at]=createSignal(),[st,ut]=createSignal(!0),ft=useContext(ConnectorContext),ht=ft.onStatusChange(()=>{},Tt=>{if(Tt instanceof WalletMissingRequiredFeaturesError){ot("missing-features");return}rt.wallet.appName!==AT_WALLET_APP_NAME&&ot("connection-declined")});onCleanup(ht);const mt=()=>{try{const Tt=ft.connect({universalLink:rt.wallet.universalLink,bridgeUrl:rt.wallet.bridgeUrl},rt.additionalRequest);at(Tt)}catch{}};createEffect(()=>{untrack(et)!=="extension"&&(supportsMobile(rt.wallet)||supportsDesktop(rt.wallet))&&mt()});const gt=()=>{ot(null),et()==="extension"&&mt(),tt("mobile"),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:"qrcode"}))},yt=()=>{if(ot(null),et()==="extension"&&mt(),tt("desktop"),isTelegramUrl(it()))xt();else{const Tt=!st();ut(!1),redirectToWallet(it(),rt.wallet.deepLink,{returnStrategy:appState.returnStrategy,forceRedirect:Tt},Mt=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:Mt}))})}},xt=()=>{const Tt=!st();ut(!1),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:"universal-link"})),redirectToTelegram(it(),{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:Tt})},St=()=>{ot(null),tt("extension"),isWalletInfoCurrentlyInjected(rt.wallet)&&(setLastSelectedWalletInfo(rt.wallet),ft.connect({jsBridgeKey:rt.wallet.jsBridgeKey},rt.additionalRequest))};return supportsMobile(rt.wallet)?gt():supportsExtension(rt.wallet)?St():yt(),createComponent(DesktopConnectionModalStyled,{"data-tc-wallets-modal-connection-desktop":"true",get children(){return[createComponent(Show,{get when(){return!rt.backDisabled},get children(){return createComponent(StyledIconButton$2,{icon:"arrow",onClick:()=>rt.onBackClick()})}}),createComponent(H1Styled$6,{get children(){return rt.wallet.name}}),createComponent(Show,{get when(){return createMemo(()=>et()==="mobile")()&&!nt()},get children(){return createComponent(H2Styled$4,{translationKey:"walletModal.desktopConnectionModal.scanQR",get translationValues(){return{name:rt.wallet.name}},get children(){return["Scan the QR code below with your phones or ",createMemo(()=>rt.wallet.name),"s camera"]}})}}),createComponent(BodyStyled$1,{get qr(){return et()==="mobile"},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return nt()},get children(){return[createComponent(ErrorIconStyled$1,{size:"s"}),createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return nt()==="missing-features"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.missingFeatures",get translationValues(){return{name:rt.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),createComponent(Match,{get when(){return nt()==="connection-declined"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.connectionDeclined",children:"Connection declined"})}}),createComponent(Match,{get when(){return nt()==="not-supported"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.notSupportedWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return[createMemo(()=>rt.wallet.name)," doesnt support the requested action. Please connect another wallet that supports it."]}})}})]}}),createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(Show,{get when(){return nt()!=="not-supported"},get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},get onClick(){return et()==="extension"?St:yt},get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}})}}),createComponent(Show,{get when(){return nt()==="missing-features"},get children(){return createComponent(Link,{get href(){return rt.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.updateWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return["Update ",createMemo(()=>rt.wallet.name)]}})}})}})}}),createComponent(Show,{get when(){return nt()==="not-supported"},get children(){return createComponent(Button$1,{onClick:()=>rt.onBackClick(),get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}})]}})]}}),createComponent(Match,{get when(){return et()==="mobile"},get children(){return createComponent(QRCodeStyled$1,{disableCopy:!1,get sourceUrl(){return addReturnStrategy(it(),"none")},get imageUrl(){return rt.wallet.imageUrl}})}}),createComponent(Match,{get when(){return et()==="extension"},get children(){return[createComponent(Show,{get when(){return isWalletInfoCurrentlyInjected(rt.wallet)},get children(){return[createComponent(LoaderStyled$1,{size:"s"}),createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.continueInExtension",get translationValues(){return{name:rt.wallet.name}},get children(){return["Continue in ",createMemo(()=>rt.wallet.name)," browser extension"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:St,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}})}})]}}),createComponent(Show,{get when(){return!isWalletInfoCurrentlyInjected(rt.wallet)},get children(){return[createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.dontHaveExtension",get translationValues(){return{name:rt.wallet.name}},get children(){return["Seems you don't have installed ",createMemo(()=>rt.wallet.name)," browser extension"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return createComponent(Link,{get href(){return rt.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(LinkIcon,{})},onClick:St,get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return["Get ",createMemo(()=>rt.wallet.name)]}})}})}})}})]}})]}}),createComponent(Match,{get when(){return et()==="desktop"},get children(){return[createComponent(LoaderIcon,{size:"m"}),createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.continueOnDesktop",get translationValues(){return{name:rt.wallet.name}},get children(){return["Continue in ",createMemo(()=>rt.wallet.name)," on desktop"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:yt,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Link,{get href(){return rt.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return["Get ",createMemo(()=>rt.wallet.name)]}})}})}})]}})]}})]}})}}),createComponent(Show,{get when(){return rt.wallet.appName===AT_WALLET_APP_NAME},get children(){return createComponent(TgButtonStyled,{get rightIcon(){return createComponent(TgImageStyled,{get src(){return IMG.TG}})},scale:"s",onClick:xt,get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.openWalletOnTelegram",children:"Open Wallet in Telegram on desktop"})}})}}),createComponent(Show,{get when(){return rt.wallet.appName!==AT_WALLET_APP_NAME},get children(){return createComponent(BottomButtonsContainerStyled,{get children(){return[createComponent(Show,{get when(){return createMemo(()=>et()!=="mobile")()&&supportsMobile(rt.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(MobileIcon,{})},onClick:gt,get children(){return createComponent(Translation,{translationKey:"common.mobile",children:"Mobile"})}})}}),createComponent(Show,{get when(){return createMemo(()=>et()!=="extension")()&&supportsExtension(rt.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(BrowserIcon,{})},onClick:St,get children(){return createComponent(Translation,{translationKey:"common.browserExtension",children:"Browser Extension"})}})}}),createComponent(Show,{get when(){return createMemo(()=>et()!=="desktop")()&&supportsDesktop(rt.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(DesktopIcon,{})},onClick:yt,get children(){return createComponent(Translation,{translationKey:"common.desktop",children:"Desktop"})}})}})]}})}})]}})},InfoModalStyled=styled$1.div``,StyledIconButton$1=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,H1Styled$5=styled$1(H1)`
    margin-bottom: 18px;
`,InfoBlock=styled$1.div`
    padding: 16px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
`,InfoBlockIconClass=u$1`
    margin-bottom: 12px;
`,H3Styled=styled$1(H3)`
    text-align: center;
    margin-bottom: 4px;
`,TextStyled$1=styled$1(Text$2)`
    text-align: center;
    max-width: 352px;
    color: ${rt=>rt.theme.colors.text.secondary};
`,ButtonsBlock=styled$1.div`
    padding: 16px 24px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
`,LINKS={GET_A_WALLET:"https://ton.org/wallets?filters[wallet_features][slug][$in]=dapp-auth&pagination[limit]=-1"},InfoModal=rt=>createComponent(InfoModalStyled,{"data-tc-wallets-modal-info":"true",get children(){return[createComponent(StyledIconButton$1,{icon:"arrow",onClick:()=>rt.onBackClick()}),createComponent(H1Styled$5,{translationKey:"walletModal.infoModal.whatIsAWallet",children:"What is a wallet"}),createComponent(ScrollContainer,{get children(){return[createComponent(InfoBlock,{get children(){return[createComponent(SecurityIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.secureDigitalAssets",children:"Secure digital assets storage"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.walletProtects",children:"A wallet protects and manages your digital assets including TON, tokens and collectables."})]}}),createComponent(InfoBlock,{get children(){return[createComponent(PersonalityIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.controlIdentity",children:"Control your Web3 identity"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.manageIdentity",children:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in the blockchain ecosystem."})]}}),createComponent(InfoBlock,{get children(){return[createComponent(SwapIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.effortlessCryptoTransactions",children:"Effortless crypto transactions"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.easilySend",children:"Easily send, receive, monitor your cryptocurrencies. Streamline your operations with decentralized applications."})]}}),createComponent(ButtonsBlock,{get children(){return createComponent(Link,{get href(){return LINKS.GET_A_WALLET},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(WalletIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.infoModal.getAWallet",children:"Get a Wallet"})}})}})}})]}})]}}),MobileConnectionModalStyled=styled$1.div``,BodyStyled=styled$1.div`
    flex: 1;
    margin-top: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,H1Styled$4=styled$1(H1)`
    max-width: 262px;
    margin: 0 auto 8px;
`,StyledIconButton=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,FooterStyled=styled$1.div`
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-top: 0.5px solid ${rt=>rgba(rt.theme.colors.icon.secondary,.2)};
`,ImageStyled=styled$1(Image$1)`
    width: 36px;
    height: 36px;
    border-radius: 10px;
`,FooterButton=styled$1(Link)`
    margin-left: auto;
`,LoaderStyled=styled$1(LoaderIcon)`
    margin-bottom: 18px;
    margin-top: 2px;
`,ErrorIconStyled=styled$1(ErrorIcon)`
    margin-bottom: 16px;
`,BodyTextStyled=styled$1(H2)`
    color: ${rt=>rt.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,ButtonsContainerStyled=styled$1.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,actionButtonBorderRadius$1={m:"16px",s:"8px",none:"0"},H1Styled$3=styled$1(H1)`
    margin-bottom: 2px;
    padding: 0 52px;
`,H2Styled$3=styled$1(H2)`
    margin-bottom: 20px;
    padding: 0 64px;
`,QrCodeWrapper$1=styled$1.div`
    padding: 0 24px 16px;
`,ButtonsWrapper$1=styled$1.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,ActionButton$1=styled$1(Button$1)`
    width: 100%;
    height: 56px;
    border-radius: ${rt=>actionButtonBorderRadius$1[rt.theme.borderRadius]};
    background-color: ${rt=>rgba(rt.theme.colors.accent,.12)};
    color: ${rt=>rt.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,MobileConnectionQR=rt=>[createComponent(H1Styled$3,{get children(){return rt.walletInfo.name}}),createComponent(H2Styled$3,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:rt.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",createMemo(()=>rt.walletInfo.name),"s camera"]}}),createComponent(QrCodeWrapper$1,{get children(){return createComponent(QRCode,{get imageUrl(){return rt.walletInfo.imageUrl},get sourceUrl(){return addReturnStrategy(rt.universalLink,"none")},disableCopy:!0})}}),createComponent(ButtonsWrapper$1,{get children(){return[createComponent(ActionButton$1,{appearance:"secondary",onClick:()=>{var et;return(et=rt.onOpenLink)==null?void 0:et.call(rt)},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),createComponent(ActionButton$1,{appearance:"secondary",onClick:()=>{var et;return(et=rt.onCopy)==null?void 0:et.call(rt)},get children(){return createComponent(Translation,{get translationKey(){return rt.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return rt.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})],MobileConnectionModal=rt=>{const et=useTheme(),[tt,nt]=createSignal(!0),[ot,it]=createSignal(!1),[at,st]=createSignal(null);createEffect(()=>{var It;st((It=rt.defaultError)!=null?It:null)});const ut=useContext(ConnectorContext),ft=ut.onStatusChange(()=>{},()=>{st(null)}),ht=createMemo(()=>ut.connect({universalLink:rt.wallet.universalLink,bridgeUrl:rt.wallet.bridgeUrl},rt.additionalRequest)),mt=()=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:"universal-link"})),redirectToTelegram(ht(),{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:!0})},gt=()=>{const It=ht();if(isTelegramUrl(It))return mt();st(null);const kt=!tt();nt(!1),redirectToWallet(ht(),rt.wallet.deepLink,{returnStrategy:appState.returnStrategy,forceRedirect:kt},Dt=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:Dt}))})},[yt,xt]=createSignal(void 0),St=()=>__async(void 0,null,function*(){yt()!==void 0&&clearTimeout(yt()),yield copyToClipboard(ht());const It=setTimeout(()=>xt(void 0),1500);xt(It)}),Tt=()=>{st(null),it(!0),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:"qrcode"}))},Mt=()=>{it(!1),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},rt.wallet),{openMethod:"universal-link"}))},Pt=()=>{ot()?Mt():rt.onBackClick()};return onCleanup(ft),gt(),createComponent(MobileConnectionModalStyled,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(Show,{get when(){return!rt.backDisabled||ot()},get children(){return createComponent(StyledIconButton,{icon:"arrow",onClick:Pt})}}),createComponent(Show,{get when(){return ot()},get children(){return createComponent(MobileConnectionQR,{get universalLink(){return ht()},get walletInfo(){return rt.wallet},onOpenLink:gt,onCopy:St,get isCopiedShown(){return yt()}})}}),createComponent(Show,{get when(){return!ot()},get children(){return[createComponent(H1Styled$4,{get children(){return rt.wallet.name}}),createComponent(BodyStyled,{get children(){return[createComponent(Show,{get when(){return at()},get children(){return[createComponent(ErrorIconStyled,{size:"s"}),createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return at()==="missing-features"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.missingFeatures",get translationValues(){return{name:rt.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),createComponent(Match,{get when(){return at()==="connection-declined"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"})}}),createComponent(Match,{get when(){return at()==="not-supported"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.notSupportedWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return[createMemo(()=>rt.wallet.name)," doesnt support the requested action. Please connect another wallet that supports it."]}})}})]}}),createComponent(ButtonsContainerStyled,{get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return at()==="missing-features"},get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:gt,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Link,{get href(){return rt.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.updateWallet",get translationValues(){return{name:rt.wallet.name}},get children(){return["Update ",createMemo(()=>rt.wallet.name)]}})}})}})]}}),createComponent(Match,{get when(){return at()==="not-supported"},get children(){return createComponent(Button$1,{onClick:()=>rt.onBackClick(),get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}}),createComponent(Match,{get when(){return at()==="connection-declined"},get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:gt,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Button$1,{get leftIcon(){return createComponent(QRIcon,{get fill(){return et.colors.accent}})},onClick:Tt,get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})}})]}}),createComponent(Show,{get when(){return!at()},get children(){return[createComponent(LoaderStyled,{size:"s"}),createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.continueIn",get translationValues(){return{name:rt.wallet.name}},get children(){return["Continue in ",createMemo(()=>rt.wallet.name),""]}}),createComponent(ButtonsContainerStyled,{get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:gt,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Button$1,{get leftIcon(){return createComponent(QRIcon,{get fill(){return et.colors.accent}})},onClick:Tt,get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})]}}),createComponent(FooterStyled,{get children(){return[createComponent(ImageStyled,{get src(){return rt.wallet.imageUrl}}),createComponent(H3,{get children(){return rt.wallet.name}}),createComponent(FooterButton,{get href(){return rt.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get children(){return createComponent(Translation,{translationKey:"common.get",children:"GET"})}})}})]}})]}})]}})},borders$1={m:"16px",s:"12px",none:"0"},tgBorders={m:"6px",s:"6px",none:"0"};styled$1.li`
    width: 82px;
    min-width: 82px;
    height: 124px;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 4px;

    text-align: center;
    cursor: pointer;

    transition: transform 0.1s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`;const H1Styled$2=styled$1(H1)`
    margin-top: 38px;
    margin-bottom: 4px;
    padding: 0 24px;
`,H2Styled$2=styled$1(H2)`
    margin: ${rt=>{var et;return(et=rt.margin)!=null?et:"0 0 28px 0"}};
    padding: ${rt=>{var et;return(et=rt.padding)!=null?et:"0 24px"}};
    min-height: ${rt=>{var et;return(et=rt.padding)!=null?et:"44px"}};
    max-width: ${rt=>rt.maxWidth}px;
    margin-left: ${rt=>rt.maxWidth?"auto":"0px"};
    margin-right: ${rt=>rt.maxWidth?"auto":"0px"};
`;styled$1(Button$1)`
    display: block;
    margin: 0 auto;
`;const TelegramButtonStyled=styled$1(Button$1)`
    margin: 0 28px 24px;
    width: calc(100% - 56px);
    border-radius: ${rt=>borders$1[rt.theme.borderRadius]};
    padding: 14px 16px 14px 14px;
    background-color: ${rt=>rt.theme.colors.telegramButton};

    color: ${rt=>rt.theme.colors.constant.white};
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;

    @media (max-width: 375px) {
        margin: 0 16px 24px;
        width: calc(100% - 32px);
    }
`,TGImageStyled=styled$1(Image$1)`
    background-color: transparent;
    border-radius: ${rt=>tgBorders[rt.theme.borderRadius]};
    width: 24px;
    height: 24px;
`,StyledLeftActionButton=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,actionButtonBorderRadius={m:"16px",s:"8px",none:"0"},H1Styled$1=styled$1(H1)`
    margin-bottom: 2px;
    padding: 0 52px;
`,H2Styled$1=styled$1(H2)`
    margin-bottom: 20px;
    padding: 0 64px;
`,QrCodeWrapper=styled$1.div`
    padding: 0 24px 16px;
`,ButtonsWrapper=styled$1.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,ActionButton=styled$1(Button$1)`
    width: 100%;
    height: 56px;
    border-radius: ${rt=>actionButtonBorderRadius[rt.theme.borderRadius]};
    background-color: ${rt=>rgba(rt.theme.colors.accent,.12)};
    color: ${rt=>rt.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,MobileUniversalQR=rt=>[createComponent(H1Styled$1,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),createComponent(H2Styled$1,{translationKey:"walletModal.mobileUniversalModal.scan",children:"Scan with your mobile wallet"}),createComponent(QrCodeWrapper,{get children(){return createComponent(QRCode,{get imageUrl(){return IMG.TON},get sourceUrl(){return addReturnStrategy(rt.universalLink,"none")},disableCopy:!0})}}),createComponent(ButtonsWrapper,{get children(){return[createComponent(ActionButton,{appearance:"secondary",onClick:()=>rt.onOpenLink(),get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),createComponent(ActionButton,{appearance:"secondary",onClick:()=>rt.onCopy(),get children(){return createComponent(Translation,{get translationKey(){return rt.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return rt.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})];function getUniqueBridges(rt){const et=new Set(rt.filter(isWalletInfoRemote).map(tt=>tt.bridgeUrl));return Array.from(et).map(tt=>({bridgeUrl:tt}))}function bridgesIsEqual(rt,et){const tt=new Set(rt==null?void 0:rt.map(ot=>ot.bridgeUrl)),nt=new Set(et==null?void 0:et.map(ot=>ot.bridgeUrl));return tt.size===nt.size&&[...tt].every(ot=>nt.has(ot))}const _tmpl$$1=template$1("<li></li>"),_tmpl$2=template$1('<div data-tc-wallets-modal-universal-mobile="true"></div>'),MobileUniversalModal=rt=>{const[et,tt]=createSignal(!1),[nt,ot]=createSignal(!0),[it,at]=createSignal(null),st=appState.connector,ut=()=>rt.walletsList.filter(Gt=>supportsMobile(Gt)&&Gt.appName!==AT_WALLET_APP_NAME),ft=()=>ut().length>7,ht=createMemo(()=>getUniqueBridges(rt.walletsList),null,{equals:bridgesIsEqual}),mt=createMemo(()=>{var Gt,Wt;return(Wt=(Gt=rt.walletsList.find(Ot=>Ot.appName===AT_WALLET_APP_NAME))==null?void 0:Gt.isSupportRequiredFeatures)!=null?Wt:!1},null),gt=()=>(it()||at(st.connect(ht(),rt.additionalRequest)),it());setLastSelectedWalletInfo({openMethod:"universal-link"});const[yt,xt]=createSignal(void 0),St=()=>__async(void 0,null,function*(){yt()!==void 0&&clearTimeout(yt()),yield copyToClipboard(gt());const Gt=setTimeout(()=>xt(void 0),1500);xt(Gt)}),Tt=()=>{const Gt=!nt();ot(!1),redirectToWallet(gt(),void 0,{returnStrategy:appState.returnStrategy,forceRedirect:Gt},Wt=>{setLastSelectedWalletInfo({openMethod:Wt})})},Mt=()=>{at(null);const Gt=rt.walletsList.find(Xt=>Xt.appName===AT_WALLET_APP_NAME);if(!Gt||!isWalletInfoRemote(Gt))throw new TonConnectUIError("@wallet bot not found in the wallets list");const Wt=st.connect({bridgeUrl:Gt.bridgeUrl,universalLink:Gt.universalLink},rt.additionalRequest),Ot=!nt();ot(!1),redirectToTelegram(Wt,{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:Ot})},Pt=()=>{tt(!0),setLastSelectedWalletInfo({openMethod:"qrcode"})},It=()=>{tt(!1),setLastSelectedWalletInfo({openMethod:"universal-link"})},kt=createMemo(()=>ut().filter(Gt=>Gt.isSupportRequiredFeatures),null),Dt=createMemo(()=>kt().slice(0,3),null),Nt=createMemo(()=>ut().filter(Gt=>!Dt().find(Wt=>Wt.appName===Gt.appName)).slice(0,4),null);return(()=>{const Gt=_tmpl$2.cloneNode(!0);return insert(Gt,createComponent(Show,{get when(){return et()},get children(){return[createComponent(StyledLeftActionButton,{icon:"arrow",onClick:It}),createComponent(MobileUniversalQR,{get universalLink(){return gt()},get isCopiedShown(){return yt()},onOpenLink:Tt,onCopy:St})]}}),null),insert(Gt,createComponent(Show,{get when(){return!et()},get children(){return[createComponent(StyledLeftActionButton,{get icon(){return createComponent(QRIcon,{})},onClick:Pt}),createComponent(H1Styled$2,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),createComponent(Show,{get when(){return mt()},get children(){return[createComponent(H2Styled$2,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegramOrSelect",maxWidth:320,children:"Use Wallet in Telegram or choose other application"}),createComponent(TelegramButtonStyled,{get leftIcon(){return createComponent(AtWalletIcon,{})},get rightIcon(){return createComponent(TGImageStyled,{get src(){return IMG.TG}})},onClick:Mt,scale:"s",get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegram",children:"Connect Wallet in Telegram"})}})]}}),createComponent(H2Styled$2,{translationKey:"walletModal.mobileUniversalModal.chooseOtherApplication",maxWidth:342,padding:"0 24px 8px 24px",margin:"0",children:"Choose other application"}),createComponent(WalletUlContainer,{get children(){return[createComponent(For,{get each(){return createMemo(()=>!!ft())()?Dt():kt()},children:Wt=>(()=>{const Ot=_tmpl$$1.cloneNode(!0);return insert(Ot,createComponent(WalletItem,{get icon(){return Wt.imageUrl},get name(){return Wt.name},onClick:()=>rt.onSelect(Wt)})),Ot})()}),createComponent(Show,{get when(){return ft()},get children(){const Wt=_tmpl$$1.cloneNode(!0);return insert(Wt,createComponent(FourWalletsItem,{labelLine1:"View all",labelLine2:"wallets",get images(){return Nt().map(Ot=>Ot.imageUrl)},onClick:()=>rt.onSelectAllWallets()})),Wt}})]}})]}}),null),Gt})()},borders={m:"16px",s:"8px",none:"0"},hoverBorders={m:"8px",s:"4px",none:"0"},DesktopUniversalModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 16px;
`,H2Styled=styled$1(H2)`
    max-width: 320px;
    margin-top: 2px;
    margin-bottom: 20px;
`,H2AvailableWalletsStyled=styled$1(H2)`
    margin-bottom: 16px;
`,QRCodeStyled=styled$1(QRCode)`
    margin-bottom: 24px;
`,WalletsContainerStyled=styled$1.ul`
    display: flex;
`;styled$1.div`
    display: flex;
    gap: 16px;
    width: 100%;
`;styled$1(Button$1)`
    position: relative;
    font-size: 16px;
    line-height: 20px;
    width: 100%;
    padding: 0 16px;
    height: 56px;
    border-radius: ${rt=>borders[rt.theme.borderRadius]};

    &:hover {
        ${rt=>rt.disableEventsAnimation?"transform: unset;":""}
    }

    &:active {
        ${rt=>rt.disableEventsAnimation?"transform: unset;":""}
    }
`;styled$1.ul`
    position: absolute;
    bottom: 100%;
    left: 0;
    margin: 0;
    padding: 8px;
    width: 188px;
    transform: translateY(-16px);

    background-color: ${rt=>rt.theme.colors.background.primary};
    border-radius: ${rt=>borders[rt.theme.borderRadius]};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
`;styled$1.li`
    padding: 8px;

    display: flex;
    align-items: center;
    gap: 8px;

    cursor: pointer;
    border-radius: ${rt=>hoverBorders[rt.theme.borderRadius]};

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${rt=>rt.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`;styled$1(Image$1)`
    width: 24px;
    height: 24px;

    border-radius: 6px;
`;styled$1.div`
    margin-top: 23px;
    margin-bottom: 1px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
`;styled$1(Text$2)`
    color: ${rt=>rt.theme.colors.text.secondary};
    font-size: 16px;
`;const _tmpl$=template$1("<li></li>"),DesktopUniversalModal=rt=>{const[et,tt]=createSignal(!1),nt=appState.connector,ot=createMemo(()=>getUniqueBridges(rt.walletsList),null,{equals:bridgesIsEqual});setLastSelectedWalletInfo({openMethod:"qrcode"});const it=createMemo(()=>nt.connect(ot(),rt.additionalRequest)),at=createMemo(()=>rt.walletsList.filter(ft=>ft.isSupportRequiredFeatures),null),st=createMemo(()=>at().slice(0,3),null),ut=createMemo(()=>rt.walletsList.filter(ft=>!st().find(ht=>ht.appName===ft.appName)).slice(0,4),null);return createComponent(DesktopUniversalModalStyled,{onClick:()=>tt(!1),"data-tc-wallets-modal-universal-desktop":"true",get children(){return[createComponent(H1,{translationKey:"walletModal.desktopUniversalModal.connectYourWallet",children:"Connect your wallet"}),createComponent(H2Styled,{translationKey:"walletModal.desktopUniversalModal.scan",children:"Scan with your mobile wallet"}),createComponent(QRCodeStyled,{get sourceUrl(){return addReturnStrategy(it(),"none")},get disableCopy(){return et()},get imageUrl(){return IMG.TON}}),createComponent(H2AvailableWalletsStyled,{translationKey:"walletModal.desktopUniversalModal.availableWallets",children:"Available wallets"}),createComponent(WalletsContainerStyled,{get children(){return[createComponent(For,{get each(){return st()},children:ft=>(()=>{const ht=_tmpl$.cloneNode(!0);return insert(ht,createComponent(WalletLabeledItem,{wallet:ft,onClick:()=>rt.onSelect(ft)})),ht})()}),createComponent(FourWalletsItem,{labelLine1:"View all",labelLine2:"wallets",get images(){return ut().map(ft=>ft.imageUrl)},onClick:()=>rt.onSelectAllWallets()})]}})]}})},WalletsModal=()=>{const{locale:rt}=useI18n()[1];createEffect(()=>rt(appState.language)),createEffect(()=>{getWalletsModalIsOpened()?updateIsMobile():(it(null),ft("universal"),mt(!1))});const et=useContext(ConnectorContext),tt=useContext(TonConnectUiContext),[nt]=createResource(()=>tt.getWallets()),[ot,it]=createSignal(null),[at,st]=createSignal(null),[ut,ft]=createSignal("universal"),[ht,mt]=createSignal(!1),gt=createMemo(()=>{if(nt.state!=="ready")return null;let kt=applyWalletsListConfiguration(nt(),appState.walletsListConfiguration);const Dt=kt.filter(isWalletInfoCurrentlyInjected),Nt=kt.filter(lt=>!isWalletInfoCurrentlyInjected(lt));kt=(Dt||[]).concat(Nt);const Gt=appState.preferredWalletAppName,Wt=kt.find(lt=>eqWalletName(lt,Gt)),Ot=kt.filter(lt=>eqWalletName(lt,Gt)).length>=2;Gt&&Wt&&!Ot&&(kt=[__spreadProps$1(__spreadValues$2({},Wt),{isPreferred:!0})].concat(kt.filter(lt=>!eqWalletName(lt,Gt))));const Xt=kt.find(lt=>eqWalletName(lt,AT_WALLET_APP_NAME));return Xt&&(kt=[Xt].concat(kt.filter(lt=>!eqWalletName(lt,AT_WALLET_APP_NAME)))),kt.map(lt=>{var dt;return __spreadProps$1(__spreadValues$2({},lt),{isSupportRequiredFeatures:tt!=null&&tt.walletsRequiredFeatures?checkRequiredWalletFeatures((dt=lt.features)!=null?dt:[],tt.walletsRequiredFeatures):!0})})}),yt=()=>{var kt;return((kt=appState.connectRequestParameters)==null?void 0:kt.state)==="loading"},xt=createMemo(()=>{var kt;if(!yt())return(kt=appState.connectRequestParameters)==null?void 0:kt.value}),St=kt=>{tt.closeModal(kt)},Tt=et.onStatusChange(kt=>{kt&&St("wallet-selected")},kt=>{var Dt;if(kt instanceof WalletMissingRequiredFeaturesError){const Nt=kt.cause.connectEvent.device.appName.toLowerCase(),Gt=(Dt=gt())==null?void 0:Dt.find(Ot=>Ot.appName.toLowerCase()===Nt);if(!Gt)throw new TonConnectError("Wallet not found");const Wt=Gt.isSupportRequiredFeatures?"missing-features":"not-supported";st(Wt),it(Gt)}}),Mt=()=>{ft("all-wallets")},Pt=()=>{ft("universal")},It=()=>{it(null),st(null)};return onCleanup(()=>{it(null),st(null),mt(!1)}),onCleanup(Tt),createComponent(StyledModal,{get opened(){return getWalletsModalIsOpened()},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>St("action-cancelled"),onClickQuestion:()=>mt(kt=>!kt),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return ht()},get children(){return createComponent(InfoModal,{onBackClick:()=>mt(!1)})}}),createComponent(Show,{get when(){return!ht()},get children(){return[createComponent(Show,{get when(){return yt()||!gt()},get children(){return[createComponent(H1Styled$8,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),createComponent(LoaderContainerStyled,{get children(){return createComponent(LoaderIcon,{size:"m"})}})]}}),createComponent(Show,{get when(){return createMemo(()=>!yt())()&&gt()},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return ot()},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return ot()},get additionalRequest(){return xt()},onBackClick:It,get defaultError(){return at()}})}}),createComponent(Match,{get when(){return ut()==="universal"},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileUniversalModal:DesktopUniversalModal},onSelect:it,get walletsList(){return gt()},get additionalRequest(){return xt()},onSelectAllWallets:Mt})}}),createComponent(Match,{get when(){return ut()==="all-wallets"},get children(){return createComponent(AllWalletsListModal,{get walletsList(){return gt()},onBack:Pt,onSelect:it})}})]}})}})]}})]}})},ActionModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,H1Styled=styled$1(H1)`
    margin-top: 16px;
`,TextStyled=styled$1(Text$2)`
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;

    color: ${rt=>rt.theme.colors.text.secondary};
`,LoaderButtonStyled=styled$1(Button$1)`
    min-width: 112px;
    margin-top: 32px;
`,LoaderIconStyled=styled$1(LoaderIcon)`
    height: 16px;
    width: 16px;
`,ButtonStyled=styled$1(Button$1)`
    margin-top: 32px;
`,ActionModal=rt=>{const et=useDataAttributes(rt),tt=useContext(TonConnectUiContext),[nt,ot]=createSignal(!0),[it,at]=createSignal(!1);createEffect(()=>{const ht=action();at(!!ht&&"sent"in ht&&ht.sent)});let st;tt!=null&&tt.wallet&&"universalLink"in tt.wallet&&(tt.wallet.openMethod==="universal-link"||isTelegramUrl(tt.wallet.universalLink)&&isInTMA())&&(st=tt.wallet.universalLink);let ut;tt!=null&&tt.wallet&&"deepLink"in tt.wallet&&(tt.wallet.openMethod==="custom-deeplink"||isTelegramUrl(tt.wallet.deepLink)&&isInTMA())&&(ut=tt.wallet.deepLink);const ft=()=>{const ht=action(),mt="returnStrategy"in ht?ht.returnStrategy:appState.returnStrategy,gt=!nt();ot(!1),isTelegramUrl(st)?redirectToTelegram(st,{returnStrategy:mt,twaReturnUrl:"twaReturnUrl"in ht?ht.twaReturnUrl:appState.twaReturnUrl,forceRedirect:gt}):redirectToWallet(st,ut,{returnStrategy:mt,forceRedirect:gt},()=>{})};return createComponent(ActionModalStyled,mergeProps(et,{get children(){return[createMemo(()=>rt.icon),createComponent(H1Styled,{get translationKey(){return rt.headerTranslationKey},get translationValues(){return rt.headerTranslationValues}}),createComponent(TextStyled,{get translationKey(){return rt.textTranslationKey},get translationValues(){return rt.textTranslationValues}}),createComponent(Show,{get when(){return!it()&&(rt.showButton==="open-wallet"&&st||rt.showButton!=="open-wallet")},get children(){return createComponent(LoaderButtonStyled,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return createComponent(LoaderIconStyled,{})}})}}),createComponent(Show,{get when(){return it()},get children(){return[createComponent(Show,{get when(){return rt.showButton!=="open-wallet"},get children(){return createComponent(ButtonStyled,{onClick:()=>rt.onClose(),get children(){return createComponent(Translation,{translationKey:"common.close",children:"Close"})}})}}),createComponent(Show,{get when(){return rt.showButton==="open-wallet"&&st},get children(){return createComponent(ButtonStyled,{onClick:ft,get children(){return createComponent(Translation,{translationKey:"common.openWallet",children:"Open wallet"})}})}})]}})]}}))},ConfirmTransactionModal=rt=>{const et=useContext(TonConnectUiContext),[tt]=useI18n(),nt=()=>et.wallet&&"name"in et.wallet?et.wallet.name:tt("common.yourWallet",{},"Your wallet");return createComponent(ActionModal,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:nt()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return createComponent(LoaderIcon,{size:"m"})},onClose:()=>rt.onClose(),showButton:"open-wallet","data-tc-confirm-modal":"true"})},TransactionCanceledModal=rt=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return createComponent(ErrorIcon,{size:"m"})},onClose:()=>rt.onClose(),"data-tc-transaction-canceled-modal":"true"}),TransactionSentModal=rt=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return createComponent(SuccessIcon,{size:"m"})},onClose:()=>rt.onClose(),"data-tc-transaction-sent-modal":"true"}),ActionsModal=()=>createComponent(Modal,{get opened(){var rt;return createMemo(()=>action()!==null)()&&((rt=action())==null?void 0:rt.openModal)===!0},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>setAction(null),"data-tc-actions-modal-container":"true",get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return action().name==="transaction-sent"},get children(){return createComponent(TransactionSentModal,{onClose:()=>setAction(null)})}}),createComponent(Match,{get when(){return action().name==="transaction-canceled"},get children(){return createComponent(TransactionCanceledModal,{onClose:()=>setAction(null)})}}),createComponent(Match,{get when(){return action().name==="confirm-transaction"},get children(){return createComponent(ConfirmTransactionModal,{onClose:()=>setAction(null)})}})]}})}}),SingleWalletModal=()=>{const{locale:rt}=useI18n()[1];createEffect(()=>rt(appState.language)),createEffect(()=>{getSingleWalletModalIsOpened()&&updateIsMobile()});const et=useContext(ConnectorContext),tt=useContext(TonConnectUiContext),[nt,ot]=createSignal(!1),it=()=>{var ft;return((ft=appState.connectRequestParameters)==null?void 0:ft.state)==="loading"},at=createMemo(()=>{var ft;if(!it())return(ft=appState.connectRequestParameters)==null?void 0:ft.value}),st=ft=>{tt.closeSingleWalletModal(ft)},ut=et.onStatusChange(ft=>{ft&&st("wallet-selected")});return onCleanup(ut),onCleanup(()=>{ot(!1)}),createComponent(StyledModal,{get opened(){return getSingleWalletModalIsOpened()},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>st("action-cancelled"),onClickQuestion:()=>ot(ft=>!ft),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return nt()},get children(){return createComponent(InfoModal,{onBackClick:()=>ot(!1)})}}),createComponent(Show,{get when(){return!nt()},get children(){return[createComponent(Show,{get when(){return it()},get children(){return[createComponent(H1Styled$8,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),createComponent(LoaderContainerStyled,{get children(){return createComponent(LoaderIcon,{size:"m"})}})]}}),createComponent(Show,{get when(){return!it()},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return getSingleWalletModalWalletInfo()},get additionalRequest(){return at()},onBackClick:()=>{},backDisabled:!0})}})]}})]}})},App$2=rt=>{const et=createI18nContext(i18nDictionary,appState.language);return defineStylesRoot(),fixMobileSafariActiveTransition(),createComponent(I18nContext.Provider,{value:et,get children(){return createComponent(TonConnectUiContext.Provider,{get value(){return rt.tonConnectUI},get children(){return createComponent(ConnectorContext.Provider,{get value(){return appState.connector},get children(){return[createComponent(GlobalStyles,{}),createComponent(ThemeProvider,{theme:themeState,get children(){return[createComponent(Show,{get when(){return appState.buttonRootId},get children(){return createComponent(Portal,{get mount(){return document.getElementById(appState.buttonRootId)},get children(){return createComponent(AccountButton,{})}})}}),createComponent(Dynamic,{component:globalStylesTag,get children(){return[createComponent(WalletsModal,{}),createComponent(SingleWalletModal,{}),createComponent(ActionsModal,{})]}})]}})]}})}})}})},widgetController={openWalletsModal:()=>void setTimeout(()=>setWalletsModalState({status:"opened",closeReason:null})),closeWalletsModal:rt=>void setTimeout(()=>setWalletsModalState({status:"closed",closeReason:rt})),openSingleWalletModal:rt=>{setTimeout(()=>setSingleWalletModalState({status:"opened",closeReason:null,walletInfo:rt}))},closeSingleWalletModal:rt=>void setTimeout(()=>setSingleWalletModalState({status:"closed",closeReason:rt})),setAction:rt=>void setTimeout(()=>setAction(rt)),clearAction:()=>void setTimeout(()=>setAction(null)),getSelectedWalletInfo:()=>lastSelectedWalletInfo(),removeSelectedWalletInfo:()=>setLastSelectedWalletInfo(null),renderApp:(rt,et)=>render(()=>createComponent(App$2,{tonConnectUI:et}),document.getElementById(rt))};class WalletsModalManager{constructor(et){__publicField(this,"connector"),__publicField(this,"setConnectRequestParametersCallback"),__publicField(this,"consumers",[]),__publicField(this,"tracker"),__publicField(this,"state",walletsModalState()),this.connector=et.connector,this.tracker=et.tracker,this.setConnectRequestParametersCallback=et.setConnectRequestParametersCallback,createEffect(()=>{const tt=walletsModalState();this.state=tt,this.consumers.forEach(nt=>nt(tt))})}open(){return __async(this,null,function*(){this.tracker.trackConnectionStarted();const tt=(yield this.connector.getWallets()).find(isWalletInfoCurrentlyEmbedded);return tt?this.connectEmbeddedWallet(tt):this.openWalletsModal()})}close(et="action-cancelled"){et==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),widgetController.closeWalletsModal(et)}onStateChange(et){return this.consumers.push(et),()=>{this.consumers=this.consumers.filter(tt=>tt!==et)}}connectEmbeddedWallet(et){const tt=ot=>{setLastSelectedWalletInfo(et),this.connector.connect({jsBridgeKey:et.jsBridgeKey},ot)},nt=appState.connectRequestParameters;(nt==null?void 0:nt.state)==="loading"?this.setConnectRequestParametersCallback(tt):tt(nt==null?void 0:nt.value)}openWalletsModal(){return __async(this,null,function*(){return isInTMA()&&sendExpand(),widgetController.openWalletsModal(),new Promise(et=>{const tt=this.onStateChange(nt=>{const{status:ot}=nt;ot==="opened"&&(tt(),et())})})})}}class TransactionModalManager{constructor(et){__publicField(this,"connector"),__publicField(this,"consumers",[]),this.connector=et.connector,createEffect(()=>{const tt=action();this.consumers.forEach(nt=>nt(tt))})}onStateChange(et){return this.consumers.push(et),()=>{this.consumers=this.consumers.filter(tt=>tt!==et)}}}class SingleWalletModalManager{constructor(et){__publicField(this,"connector"),__publicField(this,"setConnectRequestParametersCallback"),__publicField(this,"consumers",[]),__publicField(this,"tracker"),__publicField(this,"state",singleWalletModalState()),this.connector=et.connector,this.tracker=et.tracker,this.setConnectRequestParametersCallback=et.setConnectRequestParametersCallback,createEffect(()=>{const tt=singleWalletModalState();this.state=tt,this.consumers.forEach(nt=>nt(tt))})}open(et){return __async(this,null,function*(){this.tracker.trackConnectionStarted();const tt=yield this.connector.getWallets(),nt=applyWalletsListConfiguration(tt,appState.walletsListConfiguration),ot=nt.find(isWalletInfoCurrentlyEmbedded);if(!!ot)return this.connectEmbeddedWallet(ot);const st=nt.filter(isWalletInfoRemote).find(ht=>eqWalletName(ht,et));if(!!st)return this.openSingleWalletModal(st);const ft=`Trying to open modal window with unknown wallet "${et}".`;throw this.tracker.trackConnectionError(ft),new TonConnectUIError(ft)})}close(et="action-cancelled"){et==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),widgetController.closeSingleWalletModal("action-cancelled")}onStateChange(et){return this.consumers.push(et),()=>{this.consumers=this.consumers.filter(tt=>tt!==et)}}connectEmbeddedWallet(et){const tt=ot=>{setLastSelectedWalletInfo(et),this.connector.connect({jsBridgeKey:et.jsBridgeKey},ot)},nt=appState.connectRequestParameters;(nt==null?void 0:nt.state)==="loading"?this.setConnectRequestParametersCallback(tt):tt(nt==null?void 0:nt.value)}openSingleWalletModal(et){return __async(this,null,function*(){return isInTMA()&&sendExpand(),widgetController.openSingleWalletModal(et),new Promise(tt=>{const nt=this.onStateChange(ot=>{const{status:it}=ot;it==="opened"&&(nt(),tt())})})})}}class TonConnectUITracker{constructor(et){__publicField(this,"eventPrefix","ton-connect-ui-"),__publicField(this,"tonConnectUiVersion"),__publicField(this,"tonConnectSdkVersion",null),__publicField(this,"eventDispatcher");var tt;this.eventDispatcher=(tt=et==null?void 0:et.eventDispatcher)!=null?tt:new BrowserEventDispatcher,this.tonConnectUiVersion=et.tonConnectUiVersion,this.init().catch()}get version(){return createVersionInfo({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return __async(this,null,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch{}})}setRequestVersionHandler(){return __async(this,null,function*(){yield this.eventDispatcher.addEventListener("ton-connect-ui-request-version",()=>__async(this,null,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-ui-response-version",createResponseVersionEvent(this.tonConnectUiVersion))}))})}requestTonConnectSdkVersion(){return __async(this,null,function*(){return new Promise((et,tt)=>__async(this,null,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-response-version",nt=>{et(nt.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-request-version",createRequestVersionEvent())}catch(nt){tt(nt)}}))})}dispatchUserActionEvent(et){var tt;try{(tt=this.eventDispatcher)==null||tt.dispatchEvent(`${this.eventPrefix}${et.type}`,et).catch()}catch{}}trackConnectionStarted(...et){try{const tt=createConnectionStartedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionCompleted(...et){try{const tt=createConnectionCompletedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionError(...et){try{const tt=createConnectionErrorEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringStarted(...et){try{const tt=createConnectionRestoringStartedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringCompleted(...et){try{const tt=createConnectionRestoringCompletedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackConnectionRestoringError(...et){try{const tt=createConnectionRestoringErrorEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackDisconnection(...et){try{const tt=createDisconnectionEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSentForSignature(...et){try{const tt=createTransactionSentForSignatureEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSigned(...et){try{const tt=createTransactionSignedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}trackTransactionSigningFailed(...et){try{const tt=createTransactionSigningFailedEvent(this.version,...et);this.dispatchUserActionEvent(tt)}catch{}}}const tonConnectUiVersion="2.1.0";class TonConnectUI{constructor(et){if(__publicField(this,"walletInfoStorage",new WalletInfoStorage),__publicField(this,"preferredWalletStorage",new PreferredWalletStorage),__publicField(this,"tracker"),__publicField(this,"walletInfo",null),__publicField(this,"systemThemeChangeUnsubscribe",null),__publicField(this,"actionsConfiguration"),__publicField(this,"walletsList"),__publicField(this,"walletsRequiredFeatures"),__publicField(this,"connectRequestParametersCallback"),__publicField(this,"connector"),__publicField(this,"modal"),__publicField(this,"singleWalletModal"),__publicField(this,"transactionModal"),__publicField(this,"connectionRestored",Promise.resolve(!1)),et&&"connector"in et&&et.connector)this.connector=et.connector;else if(et&&"manifestUrl"in et&&et.manifestUrl)this.connector=new TonConnect({manifestUrl:et.manifestUrl,eventDispatcher:et.eventDispatcher,walletsRequiredFeatures:et.walletsRequiredFeatures});else throw new TonConnectUIError("You have to specify a `manifestUrl` or a `connector` in the options.");this.tracker=new TonConnectUITracker({eventDispatcher:et==null?void 0:et.eventDispatcher,tonConnectUiVersion}),this.modal=new WalletsModalManager({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:ot=>{this.connectRequestParametersCallback=ot}}),this.singleWalletModal=new SingleWalletModalManager({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:ot=>{this.connectRequestParametersCallback=ot}}),this.transactionModal=new TransactionModalManager({connector:this.connector}),this.walletsRequiredFeatures=et.walletsRequiredFeatures,this.walletsList=this.getWallets(),this.walletsList.then(ot=>preloadImages(uniq(ot.map(it=>it.imageUrl))));const tt=this.normalizeWidgetRoot(et==null?void 0:et.widgetRootId);this.subscribeToWalletChange(),(et==null?void 0:et.restoreConnection)!==!1&&(this.connectionRestored=createMacrotaskAsync(()=>__async(this,null,function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))),this.uiOptions=mergeOptions(et,{uiPreferences:{theme:"SYSTEM"}});const nt=this.preferredWalletStorage.getPreferredWalletAppName();setAppState({connector:this.connector,preferredWalletAppName:nt}),widgetController.renderApp(tt,this)}static getWallets(){return TonConnect.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?__spreadValues$2(__spreadValues$2({},this.connector.wallet),this.walletInfo):null}set uiOptions(et){var tt,nt,ot,it,at;this.checkButtonRootExist(et.buttonRootId),this.actionsConfiguration=et.actionsConfiguration,(tt=et.uiPreferences)!=null&&tt.theme?((nt=et.uiPreferences)==null?void 0:nt.theme)!=="SYSTEM"?((ot=this.systemThemeChangeUnsubscribe)==null||ot.call(this),setTheme(et.uiPreferences.theme,et.uiPreferences.colorsSet)):(setTheme(getSystemTheme(),et.uiPreferences.colorsSet),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=subscribeToThemeChange(setTheme))):(it=et.uiPreferences)!=null&&it.colorsSet&&setColors(et.uiPreferences.colorsSet),(at=et.uiPreferences)!=null&&at.borderRadius&&setBorderRadius(et.uiPreferences.borderRadius),setAppState(st=>{var ut,ft;const ht=mergeOptions(__spreadValues$2(__spreadValues$2(__spreadValues$2(__spreadValues$2({},et.language&&{language:et.language}),!!((ut=et.actionsConfiguration)!=null&&ut.returnStrategy)&&{returnStrategy:et.actionsConfiguration.returnStrategy}),!!((ft=et.actionsConfiguration)!=null&&ft.twaReturnUrl)&&{twaReturnUrl:et.actionsConfiguration.twaReturnUrl}),!!et.walletsListConfiguration&&{walletsListConfiguration:et.walletsListConfiguration}),unwrap(st));return et.buttonRootId!==void 0&&(ht.buttonRootId=et.buttonRootId),et.enableAndroidBackHandler!==void 0&&(ht.enableAndroidBackHandler=et.enableAndroidBackHandler),ht})}setConnectRequestParameters(et){var tt;setAppState({connectRequestParameters:et}),((et==null?void 0:et.state)==="ready"||!et)&&((tt=this.connectRequestParametersCallback)==null||tt.call(this,et==null?void 0:et.value))}getWallets(){return __async(this,null,function*(){return this.connector.getWallets()})}onStatusChange(et,tt){return this.connector.onStatusChange(nt=>__async(this,null,function*(){if(nt){const ot=yield this.getSelectedWalletInfo(nt);et(__spreadValues$2(__spreadValues$2({},nt),ot||this.walletInfoStorage.getWalletInfo()))}else et(nt)}),tt)}openModal(){return __async(this,null,function*(){return this.modal.open()})}closeModal(et){this.modal.close(et)}onModalStateChange(et){return this.modal.onStateChange(et)}get modalState(){return this.modal.state}openSingleWalletModal(et){return __async(this,null,function*(){return this.singleWalletModal.open(et)})}closeSingleWalletModal(et){this.singleWalletModal.close(et)}onSingleWalletModalStateChange(et){return this.singleWalletModal.onStateChange(et)}get singleWalletModalState(){return this.singleWalletModal.state}connectWallet(){return __async(this,null,function*(){const tt=(yield this.getWallets()).find(isWalletInfoCurrentlyEmbedded);return tt?yield this.connectEmbeddedWallet(tt):yield this.connectExternalWallet()})}disconnect(){return this.tracker.trackDisconnection(this.wallet,"dapp"),widgetController.clearAction(),widgetController.removeSelectedWalletInfo(),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(et,tt){return __async(this,null,function*(){if(this.tracker.trackTransactionSentForSignature(this.wallet,et),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,et,"Wallet was not connected"),new TonConnectUIError("Connect wallet to send a transaction.");isInTMA()&&sendExpand();const{notifications:nt,modals:ot,returnStrategy:it,twaReturnUrl:at}=this.getModalsAndNotificationsConfiguration(tt);widgetController.setAction({name:"confirm-transaction",showNotification:nt.includes("before"),openModal:ot.includes("before"),sent:!1});const st=()=>{ut.signal.aborted||(widgetController.setAction({name:"confirm-transaction",showNotification:nt.includes("before"),openModal:ot.includes("before"),sent:!0}),this.walletInfo&&"universalLink"in this.walletInfo&&(this.walletInfo.openMethod==="universal-link"||this.walletInfo.openMethod==="custom-deeplink")&&(isTelegramUrl(this.walletInfo.universalLink)?redirectToTelegram(this.walletInfo.universalLink,{returnStrategy:it,twaReturnUrl:at||appState.twaReturnUrl,forceRedirect:!1}):redirectToWallet(this.walletInfo.universalLink,this.walletInfo.deepLink,{returnStrategy:it,forceRedirect:!1},()=>{})))},ut=new AbortController,ft=this.onTransactionModalStateChange(ht=>{ht!=null&&ht.openModal||(ft(),ht||ut.abort())});try{const ht=yield this.waitForSendTransaction({transaction:et,signal:ut.signal},st);return this.tracker.trackTransactionSigned(this.wallet,et,ht),widgetController.setAction({name:"transaction-sent",showNotification:nt.includes("success"),openModal:ot.includes("success")}),ht}catch(ht){throw widgetController.setAction({name:"transaction-canceled",showNotification:nt.includes("error"),openModal:ot.includes("error")}),ht instanceof TonConnectError?ht:(console.error(ht),new TonConnectUIError("Unhandled error:"+ht))}finally{ft()}})}connectEmbeddedWallet(et){return __async(this,null,function*(){const tt=ot=>{setLastSelectedWalletInfo(et),this.connector.connect({jsBridgeKey:et.jsBridgeKey},ot)},nt=appState.connectRequestParameters;return(nt==null?void 0:nt.state)==="loading"?this.connectRequestParametersCallback=tt:tt(nt==null?void 0:nt.value),yield this.waitForWalletConnection({ignoreErrors:!1})})}connectExternalWallet(){return __async(this,null,function*(){const et=new AbortController;widgetController.openWalletsModal();const tt=this.onModalStateChange(nt=>{const{status:ot,closeReason:it}=nt;ot!=="opened"&&(tt(),it==="action-cancelled"&&et.abort())});return yield this.waitForWalletConnection({ignoreErrors:!0,signal:et.signal})})}waitForWalletConnection(et){return __async(this,null,function*(){return new Promise((tt,nt)=>{this.tracker.trackConnectionStarted();const{ignoreErrors:ot=!1,signal:it=null}=et;if(it&&it.aborted)return this.tracker.trackConnectionError("Connection was cancelled"),nt(new TonConnectUIError("Wallet was not connected"));const at=ft=>__async(this,null,function*(){if(ft)this.tracker.trackConnectionCompleted(ft),ut(),tt(ft);else{if(this.tracker.trackConnectionError("Connection was cancelled"),ot)return;ut(),nt(new TonConnectUIError("Wallet was not connected"))}}),st=ft=>{this.tracker.trackConnectionError(ft.message),!ot&&(ut(),nt(ft))},ut=this.onStatusChange(ft=>at(ft),ft=>st(ft));it&&it.addEventListener("abort",()=>{ut(),nt(new TonConnectUIError("Wallet was not connected"))},{once:!0})})})}waitForSendTransaction(et,tt){return __async(this,null,function*(){return new Promise((nt,ot)=>{const{transaction:it,signal:at}=et;if(at.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,it,"Transaction was cancelled"),ot(new TonConnectUIError("Transaction was not sent"));const st=ht=>__async(this,null,function*(){nt(ht)}),ut=ht=>{ot(ht)},ft=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,it,"Transaction was cancelled"),ot(new TonConnectUIError("Transaction was not sent"))};at.addEventListener("abort",ft,{once:!0}),this.connector.sendTransaction(it,{onRequestSent:tt,signal:at}).then(ht=>(at.removeEventListener("abort",ft),st(ht))).catch(ht=>(at.removeEventListener("abort",ft),ut(ht)))})})}onTransactionModalStateChange(et){return this.transactionModal.onStateChange(et)}subscribeToWalletChange(){this.connector.onStatusChange(et=>__async(this,null,function*(){var tt;et?(yield this.updateWalletInfo(et),this.setPreferredWalletAppName(((tt=this.walletInfo)==null?void 0:tt.appName)||et.device.appName)):this.walletInfoStorage.removeWalletInfo()}))}setPreferredWalletAppName(et){this.preferredWalletStorage.setPreferredWalletAppName(et),setAppState({preferredWalletAppName:et})}getSelectedWalletInfo(et){return __async(this,null,function*(){let tt=widgetController.getSelectedWalletInfo();if(!tt)return null;let nt;if("name"in tt)nt=tt;else{const it=applyWalletsListConfiguration(yield this.walletsList,appState.walletsListConfiguration).find(at=>eqWalletName(at,et.device.appName));if(!it)throw new TonConnectUIError(`Cannot find WalletInfo for the '${et.device.appName}' wallet`);nt=__spreadValues$2(__spreadValues$2({},it),tt)}return nt})}updateWalletInfo(et){return __async(this,null,function*(){const tt=yield this.getSelectedWalletInfo(et);if(tt){this.walletInfo=tt,this.walletInfoStorage.setWalletInfo(tt);return}const nt=this.walletInfoStorage.getWalletInfo();if(nt){this.walletInfo=nt;return}this.walletInfo=(yield this.walletsList).find(ot=>eqWalletName(ot,et.device.appName))||null})}normalizeWidgetRoot(et){if(!et||!document.getElementById(et)){et="tc-widget-root";const tt=document.createElement("div");tt.id=et,document.body.appendChild(tt)}return et}checkButtonRootExist(et){if(et!=null&&!document.getElementById(et))throw new TonConnectUIError(`${et} element not found in the document.`)}getModalsAndNotificationsConfiguration(et){var tt,nt,ot,it,at,st;const ut=["before","success","error"];let ft=ut;(tt=this.actionsConfiguration)!=null&&tt.notifications&&((nt=this.actionsConfiguration)==null?void 0:nt.notifications)!=="all"&&(ft=this.actionsConfiguration.notifications),et!=null&&et.notifications&&(et.notifications==="all"?ft=ut:ft=et.notifications);let ht=["before"];(ot=this.actionsConfiguration)!=null&&ot.modals&&(this.actionsConfiguration.modals==="all"?ht=ut:ht=this.actionsConfiguration.modals),et!=null&&et.modals&&(et.modals==="all"?ht=ut:ht=et.modals);const mt=(et==null?void 0:et.returnStrategy)||((it=this.actionsConfiguration)==null?void 0:it.returnStrategy)||"back",gt=(et==null?void 0:et.twaReturnUrl)||((at=this.actionsConfiguration)==null?void 0:at.twaReturnUrl);let yt=(et==null?void 0:et.skipRedirectToWallet)||((st=this.actionsConfiguration)==null?void 0:st.skipRedirectToWallet)||"ios";return isInTMA()&&(yt="never"),{notifications:ft,modals:ht,returnStrategy:mt,twaReturnUrl:gt,skipRedirectToWallet:yt}}}var __defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(rt,et,tt)=>et in rt?__defProp$1(rt,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):rt[et]=tt,__spreadValues$1=(rt,et)=>{for(var tt in et||(et={}))__hasOwnProp$1.call(et,tt)&&__defNormalProp$1(rt,tt,et[tt]);if(__getOwnPropSymbols$1)for(var tt of __getOwnPropSymbols$1(et))__propIsEnum$1.call(et,tt)&&__defNormalProp$1(rt,tt,et[tt]);return rt},__objRest=(rt,et)=>{var tt={};for(var nt in rt)__hasOwnProp$1.call(rt,nt)&&et.indexOf(nt)<0&&(tt[nt]=rt[nt]);if(rt!=null&&__getOwnPropSymbols$1)for(var nt of __getOwnPropSymbols$1(rt))et.indexOf(nt)<0&&__propIsEnum$1.call(rt,nt)&&(tt[nt]=rt[nt]);return tt};function isClientSide(){return typeof window<"u"}function isServerSide(){return!isClientSide()}const TonConnectUIContext=reactExports.createContext(null);let tonConnectUI=null;const TonConnectUIProvider=rt=>{var et=rt,{children:tt}=et,nt=__objRest(et,["children"]);return isClientSide()&&!tonConnectUI&&(tonConnectUI=new TonConnectUI(nt)),jsx(TonConnectUIContext.Provider,{value:tonConnectUI,children:tt})},TonConnectUIProvider$1=reactExports.memo(TonConnectUIProvider);class TonConnectUIReactError extends TonConnectUIError{constructor(...et){super(...et),Object.setPrototypeOf(this,TonConnectUIReactError.prototype)}}class TonConnectProviderNotSetError extends TonConnectUIReactError{constructor(...et){super(...et),Object.setPrototypeOf(this,TonConnectProviderNotSetError.prototype)}}function checkProvider(rt){if(!rt)throw new TonConnectProviderNotSetError("You should add <TonConnectUIProvider> on the top of the app to use TonConnect");return!0}function useTonConnectUI(){const rt=reactExports.useContext(TonConnectUIContext),et=reactExports.useCallback(tt=>{rt&&(rt.uiOptions=tt)},[rt]);return isServerSide()?[null,()=>{}]:(checkProvider(rt),[rt,et])}const buttonRootId="ton-connect-button",TonConnectButton=({className:rt,style:et})=>{const[tt,nt]=useTonConnectUI();return reactExports.useEffect(()=>(nt({buttonRootId}),()=>nt({buttonRootId:null})),[nt]),jsx("div",{id:buttonRootId,className:rt,style:__spreadValues$1({width:"fit-content"},et)})},TonConnectButton$1=reactExports.memo(TonConnectButton);function useTonWallet(){const[rt]=useTonConnectUI(),[et,tt]=reactExports.useState((rt==null?void 0:rt.wallet)||null);return reactExports.useEffect(()=>{if(rt)return tt(rt.wallet),rt.onStatusChange(nt=>{tt(nt)})},[rt]),et}var client={},m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;const App$1="";var reactIs$2={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(rt){if(typeof rt=="object"&&rt!==null){var et=rt.$$typeof;switch(et){case REACT_ELEMENT_TYPE:switch(rt=rt.type,rt){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return rt;default:switch(rt=rt&&rt.$$typeof,rt){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return rt;case REACT_CONSUMER_TYPE:return rt;default:return et}}case REACT_PORTAL_TYPE:return et}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(rt){return typeOf(rt)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(rt){return typeOf(rt)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(rt){return typeof rt=="object"&&rt!==null&&rt.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(rt){return typeOf(rt)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(rt){return typeOf(rt)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(rt){return typeOf(rt)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(rt){return typeOf(rt)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(rt){return typeOf(rt)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(rt){return typeOf(rt)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(rt){return typeOf(rt)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(rt){return typeOf(rt)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(rt){return typeOf(rt)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(rt){return typeof rt=="string"||typeof rt=="function"||rt===REACT_FRAGMENT_TYPE||rt===REACT_PROFILER_TYPE||rt===REACT_STRICT_MODE_TYPE||rt===REACT_SUSPENSE_TYPE||rt===REACT_SUSPENSE_LIST_TYPE||typeof rt=="object"&&rt!==null&&(rt.$$typeof===REACT_LAZY_TYPE||rt.$$typeof===REACT_MEMO_TYPE||rt.$$typeof===REACT_CONTEXT_TYPE||rt.$$typeof===REACT_CONSUMER_TYPE||rt.$$typeof===REACT_FORWARD_REF_TYPE||rt.$$typeof===REACT_CLIENT_REFERENCE||rt.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs$2.exports=reactIs_production;var reactIsExports$1=reactIs$2.exports;function stylis_min(rt){function et(Lt,Ft,jt,Zt,Kt){for(var zt=0,Vt=0,nr=0,or=0,rr,$t,ar=0,wr=0,vr,Qt=vr=rr=0,Yt=0,Ht=0,tr=0,br=0,gr=jt.length,Sr=gr-1,pr,er="",yr="",Gr="",Mr="",Ar;Yt<gr;){if($t=jt.charCodeAt(Yt),Yt===Sr&&Vt+or+nr+zt!==0&&(Vt!==0&&($t=Vt===47?10:47),or=nr=zt=0,gr++,Sr++),Vt+or+nr+zt===0){if(Yt===Sr&&(0<Ht&&(er=er.replace(gt,"")),0<er.trim().length)){switch($t){case 32:case 9:case 59:case 13:case 10:break;default:er+=jt.charAt(Yt)}$t=59}switch($t){case 123:for(er=er.trim(),rr=er.charCodeAt(0),vr=1,br=++Yt;Yt<gr;){switch($t=jt.charCodeAt(Yt)){case 123:vr++;break;case 125:vr--;break;case 47:switch($t=jt.charCodeAt(Yt+1)){case 42:case 47:e:{for(Qt=Yt+1;Qt<Sr;++Qt)switch(jt.charCodeAt(Qt)){case 47:if($t===42&&jt.charCodeAt(Qt-1)===42&&Yt+2!==Qt){Yt=Qt+1;break e}break;case 10:if($t===47){Yt=Qt+1;break e}}Yt=Qt}}break;case 91:$t++;case 40:$t++;case 34:case 39:for(;Yt++<Sr&&jt.charCodeAt(Yt)!==$t;);}if(vr===0)break;Yt++}switch(vr=jt.substring(br,Yt),rr===0&&(rr=(er=er.replace(mt,"").trim()).charCodeAt(0)),rr){case 64:switch(0<Ht&&(er=er.replace(gt,"")),$t=er.charCodeAt(1),$t){case 100:case 109:case 115:case 45:Ht=Ft;break;default:Ht=wt}if(vr=et(Ft,Ht,vr,$t,Kt+1),br=vr.length,0<Rt&&(Ht=tt(wt,er,tr),Ar=st(3,vr,Ht,Ft,dt,lt,br,$t,Kt,Zt),er=Ht.join(""),Ar!==void 0&&(br=(vr=Ar.trim()).length)===0&&($t=0,vr="")),0<br)switch($t){case 115:er=er.replace(Nt,at);case 100:case 109:case 45:vr=er+"{"+vr+"}";break;case 107:er=er.replace(Pt,"$1 $2"),vr=er+"{"+vr+"}",vr=vt===1||vt===2&&it("@"+vr,3)?"@-webkit-"+vr+"@"+vr:"@"+vr;break;default:vr=er+vr,Zt===112&&(vr=(yr+=vr,""))}else vr="";break;default:vr=et(Ft,tt(Ft,er,tr),vr,Zt,Kt+1)}Gr+=vr,vr=tr=Ht=Qt=rr=0,er="",$t=jt.charCodeAt(++Yt);break;case 125:case 59:if(er=(0<Ht?er.replace(gt,""):er).trim(),1<(br=er.length))switch(Qt===0&&(rr=er.charCodeAt(0),rr===45||96<rr&&123>rr)&&(br=(er=er.replace(" ",":")).length),0<Rt&&(Ar=st(1,er,Ft,Lt,dt,lt,yr.length,Zt,Kt,Zt))!==void 0&&(br=(er=Ar.trim()).length)===0&&(er="\0\0"),rr=er.charCodeAt(0),$t=er.charCodeAt(1),rr){case 0:break;case 64:if($t===105||$t===99){Mr+=er+jt.charAt(Yt);break}default:er.charCodeAt(br-1)!==58&&(yr+=ot(er,rr,$t,er.charCodeAt(2)))}tr=Ht=Qt=rr=0,er="",$t=jt.charCodeAt(++Yt)}}switch($t){case 13:case 10:Vt===47?Vt=0:1+rr===0&&Zt!==107&&0<er.length&&(Ht=1,er+="\0"),0<Rt*ct&&st(0,er,Ft,Lt,dt,lt,yr.length,Zt,Kt,Zt),lt=1,dt++;break;case 59:case 125:if(Vt+or+nr+zt===0){lt++;break}default:switch(lt++,pr=jt.charAt(Yt),$t){case 9:case 32:if(or+zt+Vt===0)switch(ar){case 44:case 58:case 9:case 32:pr="";break;default:$t!==32&&(pr=" ")}break;case 0:pr="\\0";break;case 12:pr="\\f";break;case 11:pr="\\v";break;case 38:or+Vt+zt===0&&(Ht=tr=1,pr="\f"+pr);break;case 108:if(or+Vt+zt+pt===0&&0<Qt)switch(Yt-Qt){case 2:ar===112&&jt.charCodeAt(Yt-3)===58&&(pt=ar);case 8:wr===111&&(pt=wr)}break;case 58:or+Vt+zt===0&&(Qt=Yt);break;case 44:Vt+nr+or+zt===0&&(Ht=1,pr+="\r");break;case 34:case 39:Vt===0&&(or=or===$t?0:or===0?$t:or);break;case 91:or+Vt+nr===0&&zt++;break;case 93:or+Vt+nr===0&&zt--;break;case 41:or+Vt+zt===0&&nr--;break;case 40:if(or+Vt+zt===0){if(rr===0)switch(2*ar+3*wr){case 533:break;default:rr=1}nr++}break;case 64:Vt+nr+or+zt+Qt+vr===0&&(vr=1);break;case 42:case 47:if(!(0<or+zt+nr))switch(Vt){case 0:switch(2*$t+3*jt.charCodeAt(Yt+1)){case 235:Vt=47;break;case 220:br=Yt,Vt=42}break;case 42:$t===47&&ar===42&&br+2!==Yt&&(jt.charCodeAt(br+2)===33&&(yr+=jt.substring(br,Yt+1)),pr="",Vt=0)}}Vt===0&&(er+=pr)}wr=ar,ar=$t,Yt++}if(br=yr.length,0<br){if(Ht=Ft,0<Rt&&(Ar=st(2,yr,Ht,Lt,dt,lt,br,Zt,Kt,Zt),Ar!==void 0&&(yr=Ar).length===0))return Mr+yr+Gr;if(yr=Ht.join(",")+"{"+yr+"}",vt*pt!==0){switch(vt!==2||it(yr,2)||(pt=0),pt){case 111:yr=yr.replace(kt,":-moz-$1")+yr;break;case 112:yr=yr.replace(It,"::-webkit-input-$1")+yr.replace(It,"::-moz-$1")+yr.replace(It,":-ms-input-$1")+yr}pt=0}}return Mr+yr+Gr}function tt(Lt,Ft,jt){var Zt=Ft.trim().split(Tt);Ft=Zt;var Kt=Zt.length,zt=Lt.length;switch(zt){case 0:case 1:var Vt=0;for(Lt=zt===0?"":Lt[0]+" ";Vt<Kt;++Vt)Ft[Vt]=nt(Lt,Ft[Vt],jt).trim();break;default:var nr=Vt=0;for(Ft=[];Vt<Kt;++Vt)for(var or=0;or<zt;++or)Ft[nr++]=nt(Lt[or]+" ",Zt[Vt],jt).trim()}return Ft}function nt(Lt,Ft,jt){var Zt=Ft.charCodeAt(0);switch(33>Zt&&(Zt=(Ft=Ft.trim()).charCodeAt(0)),Zt){case 38:return Ft.replace(Mt,"$1"+Lt.trim());case 58:return Lt.trim()+Ft.replace(Mt,"$1"+Lt.trim());default:if(0<1*jt&&0<Ft.indexOf("\f"))return Ft.replace(Mt,(Lt.charCodeAt(0)===58?"":"$1")+Lt.trim())}return Lt+Ft}function ot(Lt,Ft,jt,Zt){var Kt=Lt+";",zt=2*Ft+3*jt+4*Zt;if(zt===944){Lt=Kt.indexOf(":",9)+1;var Vt=Kt.substring(Lt,Kt.length-1).trim();return Vt=Kt.substring(0,Lt).trim()+Vt+";",vt===1||vt===2&&it(Vt,1)?"-webkit-"+Vt+Vt:Vt}if(vt===0||vt===2&&!it(Kt,1))return Kt;switch(zt){case 1015:return Kt.charCodeAt(10)===97?"-webkit-"+Kt+Kt:Kt;case 951:return Kt.charCodeAt(3)===116?"-webkit-"+Kt+Kt:Kt;case 963:return Kt.charCodeAt(5)===110?"-webkit-"+Kt+Kt:Kt;case 1009:if(Kt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Kt+Kt;case 978:return"-webkit-"+Kt+"-moz-"+Kt+Kt;case 1019:case 983:return"-webkit-"+Kt+"-moz-"+Kt+"-ms-"+Kt+Kt;case 883:if(Kt.charCodeAt(8)===45)return"-webkit-"+Kt+Kt;if(0<Kt.indexOf("image-set(",11))return Kt.replace(Et,"$1-webkit-$2")+Kt;break;case 932:if(Kt.charCodeAt(4)===45)switch(Kt.charCodeAt(5)){case 103:return"-webkit-box-"+Kt.replace("-grow","")+"-webkit-"+Kt+"-ms-"+Kt.replace("grow","positive")+Kt;case 115:return"-webkit-"+Kt+"-ms-"+Kt.replace("shrink","negative")+Kt;case 98:return"-webkit-"+Kt+"-ms-"+Kt.replace("basis","preferred-size")+Kt}return"-webkit-"+Kt+"-ms-"+Kt+Kt;case 964:return"-webkit-"+Kt+"-ms-flex-"+Kt+Kt;case 1023:if(Kt.charCodeAt(8)!==99)break;return Vt=Kt.substring(Kt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Vt+"-webkit-"+Kt+"-ms-flex-pack"+Vt+Kt;case 1005:return xt.test(Kt)?Kt.replace(yt,":-webkit-")+Kt.replace(yt,":-moz-")+Kt:Kt;case 1e3:switch(Vt=Kt.substring(13).trim(),Ft=Vt.indexOf("-")+1,Vt.charCodeAt(0)+Vt.charCodeAt(Ft)){case 226:Vt=Kt.replace(Dt,"tb");break;case 232:Vt=Kt.replace(Dt,"tb-rl");break;case 220:Vt=Kt.replace(Dt,"lr");break;default:return Kt}return"-webkit-"+Kt+"-ms-"+Vt+Kt;case 1017:if(Kt.indexOf("sticky",9)===-1)break;case 975:switch(Ft=(Kt=Lt).length-10,Vt=(Kt.charCodeAt(Ft)===33?Kt.substring(0,Ft):Kt).substring(Lt.indexOf(":",7)+1).trim(),zt=Vt.charCodeAt(0)+(Vt.charCodeAt(7)|0)){case 203:if(111>Vt.charCodeAt(8))break;case 115:Kt=Kt.replace(Vt,"-webkit-"+Vt)+";"+Kt;break;case 207:case 102:Kt=Kt.replace(Vt,"-webkit-"+(102<zt?"inline-":"")+"box")+";"+Kt.replace(Vt,"-webkit-"+Vt)+";"+Kt.replace(Vt,"-ms-"+Vt+"box")+";"+Kt}return Kt+";";case 938:if(Kt.charCodeAt(5)===45)switch(Kt.charCodeAt(6)){case 105:return Vt=Kt.replace("-items",""),"-webkit-"+Kt+"-webkit-box-"+Vt+"-ms-flex-"+Vt+Kt;case 115:return"-webkit-"+Kt+"-ms-flex-item-"+Kt.replace(Wt,"")+Kt;default:return"-webkit-"+Kt+"-ms-flex-line-pack"+Kt.replace("align-content","").replace(Wt,"")+Kt}break;case 973:case 989:if(Kt.charCodeAt(3)!==45||Kt.charCodeAt(4)===122)break;case 931:case 953:if(Xt.test(Lt)===!0)return(Vt=Lt.substring(Lt.indexOf(":")+1)).charCodeAt(0)===115?ot(Lt.replace("stretch","fill-available"),Ft,jt,Zt).replace(":fill-available",":stretch"):Kt.replace(Vt,"-webkit-"+Vt)+Kt.replace(Vt,"-moz-"+Vt.replace("fill-",""))+Kt;break;case 962:if(Kt="-webkit-"+Kt+(Kt.charCodeAt(5)===102?"-ms-"+Kt:"")+Kt,jt+Zt===211&&Kt.charCodeAt(13)===105&&0<Kt.indexOf("transform",10))return Kt.substring(0,Kt.indexOf(";",27)+1).replace(St,"$1-webkit-$2")+Kt}return Kt}function it(Lt,Ft){var jt=Lt.indexOf(Ft===1?":":"{"),Zt=Lt.substring(0,Ft!==3?jt:10);return jt=Lt.substring(jt+1,Lt.length-1),bt(Ft!==2?Zt:Zt.replace(Ot,"$1"),jt,Ft)}function at(Lt,Ft){var jt=ot(Ft,Ft.charCodeAt(0),Ft.charCodeAt(1),Ft.charCodeAt(2));return jt!==Ft+";"?jt.replace(Gt," or ($1)").substring(4):"("+Ft+")"}function st(Lt,Ft,jt,Zt,Kt,zt,Vt,nr,or,rr){for(var $t=0,ar=Ft,wr;$t<Rt;++$t)switch(wr=At[$t].call(ht,Lt,ar,jt,Zt,Kt,zt,Vt,nr,or,rr)){case void 0:case!1:case!0:case null:break;default:ar=wr}if(ar!==Ft)return ar}function ut(Lt){switch(Lt){case void 0:case null:Rt=At.length=0;break;default:if(typeof Lt=="function")At[Rt++]=Lt;else if(typeof Lt=="object")for(var Ft=0,jt=Lt.length;Ft<jt;++Ft)ut(Lt[Ft]);else ct=!!Lt|0}return ut}function ft(Lt){return Lt=Lt.prefix,Lt!==void 0&&(bt=null,Lt?typeof Lt!="function"?vt=1:(vt=2,bt=Lt):vt=0),ft}function ht(Lt,Ft){var jt=Lt;if(33>jt.charCodeAt(0)&&(jt=jt.trim()),_t=jt,jt=[_t],0<Rt){var Zt=st(-1,Ft,jt,jt,dt,lt,0,0,0,0);Zt!==void 0&&typeof Zt=="string"&&(Ft=Zt)}var Kt=et(wt,jt,Ft,0,0);return 0<Rt&&(Zt=st(-2,Kt,jt,jt,dt,lt,Kt.length,0,0,0),Zt!==void 0&&(Kt=Zt)),_t="",pt=0,lt=dt=1,Kt}var mt=/^\0+/g,gt=/[\0\r\f]/g,yt=/: */g,xt=/zoo|gra/,St=/([,: ])(transform)/g,Tt=/,\r+?/g,Mt=/([\t\r\n ])*\f?&/g,Pt=/@(k\w+)\s*(\S*)\s*/,It=/::(place)/g,kt=/:(read-only)/g,Dt=/[svh]\w+-[tblr]{2}/,Nt=/\(\s*(.*)\s*\)/g,Gt=/([\s\S]*?);/g,Wt=/-self|flex-/g,Ot=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Xt=/stretch|:\s*\w+\-(?:conte|avail)/,Et=/([^-])(image-set\()/,lt=1,dt=1,pt=0,vt=1,wt=[],At=[],Rt=0,bt=null,ct=0,_t="";return ht.use=ut,ht.set=ft,rt!==void 0&&ft(rt),ht}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(rt){var et=Object.create(null);return function(tt){return et[tt]===void 0&&(et[tt]=rt(tt)),et[tt]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(rt){return reactPropsRegex.test(rt)||rt.charCodeAt(0)===111&&rt.charCodeAt(1)===110&&rt.charCodeAt(2)<91}),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g$2=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$1=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(rt){if(typeof rt=="object"&&rt!==null){var et=rt.$$typeof;switch(et){case c$1:switch(rt=rt.type,rt){case l:case m$1:case e:case g$2:case f:case p:return rt;default:switch(rt=rt&&rt.$$typeof,rt){case k$2:case n:case t:case r:case h:return rt;default:return et}}case d:return et}}}function A(rt){return z$1(rt)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$2;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(rt){return A(rt)||z$1(rt)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(rt){return z$1(rt)===k$2};reactIs_production_min.isContextProvider=function(rt){return z$1(rt)===h};reactIs_production_min.isElement=function(rt){return typeof rt=="object"&&rt!==null&&rt.$$typeof===c$1};reactIs_production_min.isForwardRef=function(rt){return z$1(rt)===n};reactIs_production_min.isFragment=function(rt){return z$1(rt)===e};reactIs_production_min.isLazy=function(rt){return z$1(rt)===t};reactIs_production_min.isMemo=function(rt){return z$1(rt)===r};reactIs_production_min.isPortal=function(rt){return z$1(rt)===d};reactIs_production_min.isProfiler=function(rt){return z$1(rt)===g$2};reactIs_production_min.isStrictMode=function(rt){return z$1(rt)===f};reactIs_production_min.isSuspense=function(rt){return z$1(rt)===p};reactIs_production_min.isValidElementType=function(rt){return typeof rt=="string"||typeof rt=="function"||rt===e||rt===m$1||rt===g$2||rt===f||rt===p||rt===q$1||typeof rt=="object"&&rt!==null&&(rt.$$typeof===t||rt.$$typeof===r||rt.$$typeof===h||rt.$$typeof===k$2||rt.$$typeof===n||rt.$$typeof===w$1||rt.$$typeof===x$1||rt.$$typeof===y$1||rt.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(rt){return reactIs.isMemo(rt)?MEMO_STATICS:TYPE_STATICS[rt.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(rt,et,tt){if(typeof et!="string"){if(objectPrototype){var nt=getPrototypeOf$1(et);nt&&nt!==objectPrototype&&hoistNonReactStatics(rt,nt,tt)}var ot=getOwnPropertyNames(et);getOwnPropertySymbols&&(ot=ot.concat(getOwnPropertySymbols(et)));for(var it=getStatics(rt),at=getStatics(et),st=0;st<ot.length;++st){var ut=ot[st];if(!KNOWN_STATICS[ut]&&!(tt&&tt[ut])&&!(at&&at[ut])&&!(it&&it[ut])){var ft=getOwnPropertyDescriptor(et,ut);try{defineProperty(rt,ut,ft)}catch{}}}}return rt}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m=getDefaultExportFromCjs(hoistNonReactStatics_cjs);function y(){return(y=Object.assign||function(rt){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&(rt[nt]=tt[nt])}return rt}).apply(this,arguments)}var v=function(rt,et){for(var tt=[rt[0]],nt=0,ot=et.length;nt<ot;nt+=1)tt.push(et[nt],rt[nt+1]);return tt},g$1=function(rt){return rt!==null&&typeof rt=="object"&&(rt.toString?rt.toString():Object.prototype.toString.call(rt))==="[object Object]"&&!reactIsExports$1.typeOf(rt)},S=Object.freeze([]),w=Object.freeze({});function E$1(rt){return typeof rt=="function"}function b(rt){return rt.displayName||rt.name||"Component"}function _(rt){return rt&&typeof rt.styledComponentId=="string"}var N=typeof api$2<"u"&&api$2.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof api$2<"u"&&api$2.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function D$1(rt){for(var et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];throw new Error("An error occurred. See https://git.io/JUIaE#"+rt+" for more information."+(tt.length>0?" Args: "+tt.join(", "):""))}var j$1=function(){function rt(tt){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=tt}var et=rt.prototype;return et.indexOfGroup=function(tt){for(var nt=0,ot=0;ot<tt;ot++)nt+=this.groupSizes[ot];return nt},et.insertRules=function(tt,nt){if(tt>=this.groupSizes.length){for(var ot=this.groupSizes,it=ot.length,at=it;tt>=at;)(at<<=1)<0&&D$1(16,""+tt);this.groupSizes=new Uint32Array(at),this.groupSizes.set(ot),this.length=at;for(var st=it;st<at;st++)this.groupSizes[st]=0}for(var ut=this.indexOfGroup(tt+1),ft=0,ht=nt.length;ft<ht;ft++)this.tag.insertRule(ut,nt[ft])&&(this.groupSizes[tt]++,ut++)},et.clearGroup=function(tt){if(tt<this.length){var nt=this.groupSizes[tt],ot=this.indexOfGroup(tt),it=ot+nt;this.groupSizes[tt]=0;for(var at=ot;at<it;at++)this.tag.deleteRule(ot)}},et.getGroup=function(tt){var nt="";if(tt>=this.length||this.groupSizes[tt]===0)return nt;for(var ot=this.groupSizes[tt],it=this.indexOfGroup(tt),at=it+ot,st=it;st<at;st++)nt+=this.tag.getRule(st)+`/*!sc*/
`;return nt},rt}(),T=new Map,x=new Map,k$1=1,V=function(rt){if(T.has(rt))return T.get(rt);for(;x.has(k$1);)k$1++;var et=k$1++;return T.set(rt,et),x.set(et,rt),et},B=function(rt){return x.get(rt)},z=function(rt,et){et>=k$1&&(k$1=et+1),T.set(rt,et),x.set(et,rt)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(rt,et,tt){for(var nt,ot=tt.split(","),it=0,at=ot.length;it<at;it++)(nt=ot[it])&&rt.registerName(et,nt)},F=function(rt,et){for(var tt=(et.textContent||"").split(`/*!sc*/
`),nt=[],ot=0,it=tt.length;ot<it;ot++){var at=tt[ot].trim();if(at){var st=at.match(G);if(st){var ut=0|parseInt(st[1],10),ft=st[2];ut!==0&&(z(ft,ut),L(rt,ft,st[3]),rt.getTag().insertRules(ut,nt)),nt.length=0}else nt.push(at)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q=function(rt){var et=document.head,tt=rt||et,nt=document.createElement("style"),ot=function(st){for(var ut=st.childNodes,ft=ut.length;ft>=0;ft--){var ht=ut[ft];if(ht&&ht.nodeType===1&&ht.hasAttribute(N))return ht}}(tt),it=ot!==void 0?ot.nextSibling:null;nt.setAttribute(N,"active"),nt.setAttribute("data-styled-version","5.3.11");var at=Y();return at&&nt.setAttribute("nonce",at),tt.insertBefore(nt,it),nt},H=function(){function rt(tt){var nt=this.element=q(tt);nt.appendChild(document.createTextNode("")),this.sheet=function(ot){if(ot.sheet)return ot.sheet;for(var it=document.styleSheets,at=0,st=it.length;at<st;at++){var ut=it[at];if(ut.ownerNode===ot)return ut}D$1(17)}(nt),this.length=0}var et=rt.prototype;return et.insertRule=function(tt,nt){try{return this.sheet.insertRule(nt,tt),this.length++,!0}catch{return!1}},et.deleteRule=function(tt){this.sheet.deleteRule(tt),this.length--},et.getRule=function(tt){var nt=this.sheet.cssRules[tt];return nt!==void 0&&typeof nt.cssText=="string"?nt.cssText:""},rt}(),$=function(){function rt(tt){var nt=this.element=q(tt);this.nodes=nt.childNodes,this.length=0}var et=rt.prototype;return et.insertRule=function(tt,nt){if(tt<=this.length&&tt>=0){var ot=document.createTextNode(nt),it=this.nodes[tt];return this.element.insertBefore(ot,it||null),this.length++,!0}return!1},et.deleteRule=function(tt){this.element.removeChild(this.nodes[tt]),this.length--},et.getRule=function(tt){return tt<this.length?this.nodes[tt].textContent:""},rt}(),W$1=function(){function rt(tt){this.rules=[],this.length=0}var et=rt.prototype;return et.insertRule=function(tt,nt){return tt<=this.length&&(this.rules.splice(tt,0,nt),this.length++,!0)},et.deleteRule=function(tt){this.rules.splice(tt,1),this.length--},et.getRule=function(tt){return tt<this.length?this.rules[tt]:""},rt}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X$1=function(){function rt(tt,nt,ot){tt===void 0&&(tt=w),nt===void 0&&(nt={}),this.options=y({},J,{},tt),this.gs=nt,this.names=new Map(ot),this.server=!!tt.isServer,!this.server&&C&&U&&(U=!1,function(it){for(var at=document.querySelectorAll(M),st=0,ut=at.length;st<ut;st++){var ft=at[st];ft&&ft.getAttribute(N)!=="active"&&(F(it,ft),ft.parentNode&&ft.parentNode.removeChild(ft))}}(this))}rt.registerId=function(tt){return V(tt)};var et=rt.prototype;return et.reconstructWithOptions=function(tt,nt){return nt===void 0&&(nt=!0),new rt(y({},this.options,{},tt),this.gs,nt&&this.names||void 0)},et.allocateGSInstance=function(tt){return this.gs[tt]=(this.gs[tt]||0)+1},et.getTag=function(){return this.tag||(this.tag=(ot=(nt=this.options).isServer,it=nt.useCSSOMInjection,at=nt.target,tt=ot?new W$1(at):it?new H(at):new $(at),new j$1(tt)));var tt,nt,ot,it,at},et.hasNameForId=function(tt,nt){return this.names.has(tt)&&this.names.get(tt).has(nt)},et.registerName=function(tt,nt){if(V(tt),this.names.has(tt))this.names.get(tt).add(nt);else{var ot=new Set;ot.add(nt),this.names.set(tt,ot)}},et.insertRules=function(tt,nt,ot){this.registerName(tt,nt),this.getTag().insertRules(V(tt),ot)},et.clearNames=function(tt){this.names.has(tt)&&this.names.get(tt).clear()},et.clearRules=function(tt){this.getTag().clearGroup(V(tt)),this.clearNames(tt)},et.clearTag=function(){this.tag=void 0},et.toString=function(){return function(tt){for(var nt=tt.getTag(),ot=nt.length,it="",at=0;at<ot;at++){var st=B(at);if(st!==void 0){var ut=tt.names.get(st),ft=nt.getGroup(at);if(ut&&ft&&ut.size){var ht=N+".g"+at+'[id="'+st+'"]',mt="";ut!==void 0&&ut.forEach(function(gt){gt.length>0&&(mt+=gt+",")}),it+=""+ft+ht+'{content:"'+mt+`"}/*!sc*/
`}}}return it}(this)},rt}(),Z=/(a)(d)/gi,K=function(rt){return String.fromCharCode(rt+(rt>25?39:97))};function Q(rt){var et,tt="";for(et=Math.abs(rt);et>52;et=et/52|0)tt=K(et%52)+tt;return(K(et%52)+tt).replace(Z,"$1-$2")}var ee=function(rt,et){for(var tt=et.length;tt;)rt=33*rt^et.charCodeAt(--tt);return rt},te=function(rt){return ee(5381,rt)};function ne(rt){for(var et=0;et<rt.length;et+=1){var tt=rt[et];if(E$1(tt)&&!_(tt))return!1}return!0}var re=te("5.3.11"),oe=function(){function rt(et,tt,nt){this.rules=et,this.staticRulesId="",this.isStatic=(nt===void 0||nt.isStatic)&&ne(et),this.componentId=tt,this.baseHash=ee(re,tt),this.baseStyle=nt,X$1.registerId(tt)}return rt.prototype.generateAndInjectStyles=function(et,tt,nt){var ot=this.componentId,it=[];if(this.baseStyle&&it.push(this.baseStyle.generateAndInjectStyles(et,tt,nt)),this.isStatic&&!nt.hash)if(this.staticRulesId&&tt.hasNameForId(ot,this.staticRulesId))it.push(this.staticRulesId);else{var at=_e(this.rules,et,tt,nt).join(""),st=Q(ee(this.baseHash,at)>>>0);if(!tt.hasNameForId(ot,st)){var ut=nt(at,"."+st,void 0,ot);tt.insertRules(ot,st,ut)}it.push(st),this.staticRulesId=st}else{for(var ft=this.rules.length,ht=ee(this.baseHash,nt.hash),mt="",gt=0;gt<ft;gt++){var yt=this.rules[gt];if(typeof yt=="string")mt+=yt;else if(yt){var xt=_e(yt,et,tt,nt),St=Array.isArray(xt)?xt.join(""):xt;ht=ee(ht,St+gt),mt+=St}}if(mt){var Tt=Q(ht>>>0);if(!tt.hasNameForId(ot,Tt)){var Mt=nt(mt,"."+Tt,void 0,ot);tt.insertRules(ot,Tt,Mt)}it.push(Tt)}}return it.join(" ")},rt}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(rt){var et,tt,nt,ot,it=rt===void 0?w:rt,at=it.options,st=at===void 0?w:at,ut=it.plugins,ft=ut===void 0?S:ut,ht=new stylis_min(st),mt=[],gt=function(St){function Tt(Mt){if(Mt)try{St(Mt+"}")}catch{}}return function(Mt,Pt,It,kt,Dt,Nt,Gt,Wt,Ot,Xt){switch(Mt){case 1:if(Ot===0&&Pt.charCodeAt(0)===64)return St(Pt+";"),"";break;case 2:if(Wt===0)return Pt+"/*|*/";break;case 3:switch(Wt){case 102:case 112:return St(It[0]+Pt),"";default:return Pt+(Xt===0?"/*|*/":"")}case-2:Pt.split("/*|*/}").forEach(Tt)}}}(function(St){mt.push(St)}),yt=function(St,Tt,Mt){return Tt===0&&ie.indexOf(Mt[tt.length])!==-1||Mt.match(ot)?St:"."+et};function xt(St,Tt,Mt,Pt){Pt===void 0&&(Pt="&");var It=St.replace(se,""),kt=Tt&&Mt?Mt+" "+Tt+" { "+It+" }":It;return et=Pt,tt=Tt,nt=new RegExp("\\"+tt+"\\b","g"),ot=new RegExp("(\\"+tt+"\\b){2,}"),ht(Mt||!Tt?"":Tt,kt)}return ht.use([].concat(ft,[function(St,Tt,Mt){St===2&&Mt.length&&Mt[0].lastIndexOf(tt)>0&&(Mt[0]=Mt[0].replace(nt,yt))},gt,function(St){if(St===-2){var Tt=mt;return mt=[],Tt}}])),xt.hash=ft.length?ft.reduce(function(St,Tt){return Tt.name||D$1(15),ee(St,Tt.name)},5381).toString():"",xt}var ce=r$1.createContext();ce.Consumer;var le=r$1.createContext(),de=(le.Consumer,new X$1),he=ae();function pe(){return reactExports.useContext(ce)||de}function fe(){return reactExports.useContext(le)||he}var ye=function(){function rt(et,tt){var nt=this;this.inject=function(ot,it){it===void 0&&(it=he);var at=nt.name+it.hash;ot.hasNameForId(nt.id,at)||ot.insertRules(nt.id,at,it(nt.rules,at,"@keyframes"))},this.toString=function(){return D$1(12,String(nt.name))},this.name=et,this.id="sc-keyframes-"+et,this.rules=tt}return rt.prototype.getName=function(et){return et===void 0&&(et=he),this.name+et.hash},rt}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(rt){return"-"+rt.toLowerCase()};function Ee(rt){return ve.test(rt)?rt.replace(ge,we).replace(Se,"-ms-"):rt}var be=function(rt){return rt==null||rt===!1||rt===""};function _e(rt,et,tt,nt){if(Array.isArray(rt)){for(var ot,it=[],at=0,st=rt.length;at<st;at+=1)(ot=_e(rt[at],et,tt,nt))!==""&&(Array.isArray(ot)?it.push.apply(it,ot):it.push(ot));return it}if(be(rt))return"";if(_(rt))return"."+rt.styledComponentId;if(E$1(rt)){if(typeof(ft=rt)!="function"||ft.prototype&&ft.prototype.isReactComponent||!et)return rt;var ut=rt(et);return _e(ut,et,tt,nt)}var ft;return rt instanceof ye?tt?(rt.inject(tt,nt),rt.getName(nt)):rt:g$1(rt)?function ht(mt,gt){var yt,xt,St=[];for(var Tt in mt)mt.hasOwnProperty(Tt)&&!be(mt[Tt])&&(Array.isArray(mt[Tt])&&mt[Tt].isCss||E$1(mt[Tt])?St.push(Ee(Tt)+":",mt[Tt],";"):g$1(mt[Tt])?St.push.apply(St,ht(mt[Tt],Tt)):St.push(Ee(Tt)+": "+(yt=Tt,(xt=mt[Tt])==null||typeof xt=="boolean"||xt===""?"":typeof xt!="number"||xt===0||yt in unitlessKeys||yt.startsWith("--")?String(xt).trim():xt+"px")+";"));return gt?[gt+" {"].concat(St,["}"]):St}(rt):rt.toString()}var Ne=function(rt){return Array.isArray(rt)&&(rt.isCss=!0),rt};function Ae(rt){for(var et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];return E$1(rt)||g$1(rt)?Ne(_e(v(S,[rt].concat(tt)))):tt.length===0&&rt.length===1&&typeof rt[0]=="string"?rt:Ne(_e(v(rt,tt)))}var Oe=function(rt,et,tt){return tt===void 0&&(tt=w),rt.theme!==tt.theme&&rt.theme||et||tt.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(rt){return rt.replace(Re,"-").replace(De,"")}var Te=function(rt){return Q(te(rt)>>>0)};function xe(rt){return typeof rt=="string"&&!0}var ke=function(rt){return typeof rt=="function"||typeof rt=="object"&&rt!==null&&!Array.isArray(rt)},Ve=function(rt){return rt!=="__proto__"&&rt!=="constructor"&&rt!=="prototype"};function Be(rt,et,tt){var nt=rt[tt];ke(et)&&ke(nt)?ze(nt,et):rt[tt]=et}function ze(rt){for(var et=arguments.length,tt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)tt[nt-1]=arguments[nt];for(var ot=0,it=tt;ot<it.length;ot++){var at=it[ot];if(ke(at))for(var st in at)Ve(st)&&Be(rt,at[st],st)}return rt}var Me=r$1.createContext();Me.Consumer;var Fe={};function Ye(rt,et,tt){var nt=_(rt),ot=!xe(rt),it=et.attrs,at=it===void 0?S:it,st=et.componentId,ut=st===void 0?function(Pt,It){var kt=typeof Pt!="string"?"sc":je(Pt);Fe[kt]=(Fe[kt]||0)+1;var Dt=kt+"-"+Te("5.3.11"+kt+Fe[kt]);return It?It+"-"+Dt:Dt}(et.displayName,et.parentComponentId):st,ft=et.displayName,ht=ft===void 0?function(Pt){return xe(Pt)?"styled."+Pt:"Styled("+b(Pt)+")"}(rt):ft,mt=et.displayName&&et.componentId?je(et.displayName)+"-"+et.componentId:et.componentId||ut,gt=nt&&rt.attrs?Array.prototype.concat(rt.attrs,at).filter(Boolean):at,yt=et.shouldForwardProp;nt&&rt.shouldForwardProp&&(yt=et.shouldForwardProp?function(Pt,It,kt){return rt.shouldForwardProp(Pt,It,kt)&&et.shouldForwardProp(Pt,It,kt)}:rt.shouldForwardProp);var xt,St=new oe(tt,mt,nt?rt.componentStyle:void 0),Tt=St.isStatic&&at.length===0,Mt=function(Pt,It){return function(kt,Dt,Nt,Gt){var Wt=kt.attrs,Ot=kt.componentStyle,Xt=kt.defaultProps,Et=kt.foldedComponentIds,lt=kt.shouldForwardProp,dt=kt.styledComponentId,pt=kt.target,vt=function(Zt,Kt,zt){Zt===void 0&&(Zt=w);var Vt=y({},Kt,{theme:Zt}),nr={};return zt.forEach(function(or){var rr,$t,ar,wr=or;for(rr in E$1(wr)&&(wr=wr(Vt)),wr)Vt[rr]=nr[rr]=rr==="className"?($t=nr[rr],ar=wr[rr],$t&&ar?$t+" "+ar:$t||ar):wr[rr]}),[Vt,nr]}(Oe(Dt,reactExports.useContext(Me),Xt)||w,Dt,Wt),wt=vt[0],At=vt[1],Rt=function(Zt,Kt,zt,Vt){var nr=pe(),or=fe(),rr=Kt?Zt.generateAndInjectStyles(w,nr,or):Zt.generateAndInjectStyles(zt,nr,or);return rr}(Ot,Gt,wt),bt=Nt,ct=At.$as||Dt.$as||At.as||Dt.as||pt,_t=xe(ct),Lt=At!==Dt?y({},Dt,{},At):Dt,Ft={};for(var jt in Lt)jt[0]!=="$"&&jt!=="as"&&(jt==="forwardedAs"?Ft.as=Lt[jt]:(lt?lt(jt,isPropValid,ct):!_t||isPropValid(jt))&&(Ft[jt]=Lt[jt]));return Dt.style&&At.style!==Dt.style&&(Ft.style=y({},Dt.style,{},At.style)),Ft.className=Array.prototype.concat(Et,dt,Rt!==dt?Rt:null,Dt.className,At.className).filter(Boolean).join(" "),Ft.ref=bt,reactExports.createElement(ct,Ft)}(xt,Pt,It,Tt)};return Mt.displayName=ht,(xt=r$1.forwardRef(Mt)).attrs=gt,xt.componentStyle=St,xt.displayName=ht,xt.shouldForwardProp=yt,xt.foldedComponentIds=nt?Array.prototype.concat(rt.foldedComponentIds,rt.styledComponentId):S,xt.styledComponentId=mt,xt.target=nt?rt.target:rt,xt.withComponent=function(Pt){var It=et.componentId,kt=function(Nt,Gt){if(Nt==null)return{};var Wt,Ot,Xt={},Et=Object.keys(Nt);for(Ot=0;Ot<Et.length;Ot++)Wt=Et[Ot],Gt.indexOf(Wt)>=0||(Xt[Wt]=Nt[Wt]);return Xt}(et,["componentId"]),Dt=It&&It+"-"+(xe(Pt)?Pt:je(b(Pt)));return Ye(Pt,y({},kt,{attrs:gt,componentId:Dt}),tt)},Object.defineProperty(xt,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Pt){this._foldedDefaultProps=nt?ze({},rt.defaultProps,Pt):Pt}}),Object.defineProperty(xt,"toString",{value:function(){return"."+xt.styledComponentId}}),ot&&m(xt,rt,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),xt}var qe=function(rt){return function et(tt,nt,ot){if(ot===void 0&&(ot=w),!reactIsExports$1.isValidElementType(nt))return D$1(1,String(nt));var it=function(){return tt(nt,ot,Ae.apply(void 0,arguments))};return it.withConfig=function(at){return et(tt,nt,y({},ot,{},at))},it.attrs=function(at){return et(tt,nt,y({},ot,{attrs:Array.prototype.concat(ot.attrs,at).filter(Boolean)}))},it}(Ye,rt)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(rt){qe[rt]=qe(rt)});const styled=qe,StyledApp=styled.div`
  background-color: #e8e8e8;
  color: black;

  @media (prefers-color-scheme: dark) {
    background-color: #222;
    color: white;
  }
  min-height: 100vh;
  padding: 20px 20px;
`,AppContainer=styled.div`
  max-width: 900px;
  margin: 0 auto;
`;styled.div`
  padding: 18px 20px;
  border-radius: 8px;
  background-color: white;

  @media (prefers-color-scheme: dark) {
    background-color: #111;
  }
`;const FlexBoxRow=styled.div`
  display: flex;
  flex-direction: row;
  gap: 10px;
  align-items: center;
`,FlexBoxCol=styled.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Button=styled.button`
  background-color: ${rt=>rt.disabled?"#6e6e6e":"var(--tg-theme-button-color)"};
  border: 0;
  border-radius: 8px;
  padding: 10px 20px;
  color: var(--tg-theme-button-text-color);
  font-weight: 700;
  cursor: pointer;
  pointer-events: ${rt=>rt.disabled?"none":"inherit"};
`;styled.div`
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`;styled("input")`
  padding: 10px 20px;
  border-radius: 10px;
  width: 100%;
  border: 1px solid #c2c2c2;

  @media (prefers-color-scheme: dark) {
    border: 1px solid #fefefe;
  }
`;const getInitial=rt=>(rt==null?void 0:rt.charAt(0).toUpperCase())||"?",getColorFromName=rt=>{const et=["bg-red-400","bg-green-400","bg-blue-400","bg-yellow-400","bg-purple-400"],tt=rt.charCodeAt(0)%et.length;return et[tt]},Avatar=({photoUrl:rt,firstName:et})=>{if(rt)return jsx("img",{src:rt,alt:et,className:"w-10 h-10 rounded-full"});const tt=getInitial(et),nt=getColorFromName(tt);return jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${nt}`,children:tt})};function useTonConnect(){const[rt]=useTonConnectUI(),et=useTonWallet();return{sender:{send:async tt=>{var nt;rt.sendTransaction({messages:[{address:tt.to.toString(),amount:tt.value.toString(),payload:(nt=tt.body)==null?void 0:nt.toBoc().toString("base64")}],validUntil:Date.now()+5*60*1e3})}},connected:!!(et!=null&&et.account.address),wallet:(et==null?void 0:et.account.address)??null,network:(et==null?void 0:et.account.chain)??null}}function bind(rt,et){return function(){return rt.apply(et,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(rt=>et=>{const tt=toString.call(et);return rt[tt]||(rt[tt]=tt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=rt=>(rt=rt.toLowerCase(),et=>kindOf(et)===rt),typeOfTest=rt=>et=>typeof et===rt,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(rt){return rt!==null&&!isUndefined(rt)&&rt.constructor!==null&&!isUndefined(rt.constructor)&&isFunction(rt.constructor.isBuffer)&&rt.constructor.isBuffer(rt)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(rt){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(rt):et=rt&&rt.buffer&&isArrayBuffer(rt.buffer),et}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=rt=>rt!==null&&typeof rt=="object",isBoolean=rt=>rt===!0||rt===!1,isPlainObject=rt=>{if(kindOf(rt)!=="object")return!1;const et=getPrototypeOf(rt);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(toStringTag in rt)&&!(iterator in rt)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=rt=>isObject(rt)&&isFunction(rt.pipe),isFormData=rt=>{let et;return rt&&(typeof FormData=="function"&&rt instanceof FormData||isFunction(rt.append)&&((et=kindOf(rt))==="formdata"||et==="object"&&isFunction(rt.toString)&&rt.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=rt=>rt.trim?rt.trim():rt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(rt,et,{allOwnKeys:tt=!1}={}){if(rt===null||typeof rt>"u")return;let nt,ot;if(typeof rt!="object"&&(rt=[rt]),isArray(rt))for(nt=0,ot=rt.length;nt<ot;nt++)et.call(null,rt[nt],nt,rt);else{const it=tt?Object.getOwnPropertyNames(rt):Object.keys(rt),at=it.length;let st;for(nt=0;nt<at;nt++)st=it[nt],et.call(null,rt[st],st,rt)}}function findKey(rt,et){et=et.toLowerCase();const tt=Object.keys(rt);let nt=tt.length,ot;for(;nt-- >0;)if(ot=tt[nt],et===ot.toLowerCase())return ot;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_global$1)(),isContextDefined=rt=>!isUndefined(rt)&&rt!==_global;function merge(){const{caseless:rt}=isContextDefined(this)&&this||{},et={},tt=(nt,ot)=>{const it=rt&&findKey(et,ot)||ot;isPlainObject(et[it])&&isPlainObject(nt)?et[it]=merge(et[it],nt):isPlainObject(nt)?et[it]=merge({},nt):isArray(nt)?et[it]=nt.slice():et[it]=nt};for(let nt=0,ot=arguments.length;nt<ot;nt++)arguments[nt]&&forEach(arguments[nt],tt);return et}const extend$1=(rt,et,tt,{allOwnKeys:nt}={})=>(forEach(et,(ot,it)=>{tt&&isFunction(ot)?rt[it]=bind(ot,tt):rt[it]=ot},{allOwnKeys:nt}),rt),stripBOM=rt=>(rt.charCodeAt(0)===65279&&(rt=rt.slice(1)),rt),inherits=(rt,et,tt,nt)=>{rt.prototype=Object.create(et.prototype,nt),rt.prototype.constructor=rt,Object.defineProperty(rt,"super",{value:et.prototype}),tt&&Object.assign(rt.prototype,tt)},toFlatObject=(rt,et,tt,nt)=>{let ot,it,at;const st={};if(et=et||{},rt==null)return et;do{for(ot=Object.getOwnPropertyNames(rt),it=ot.length;it-- >0;)at=ot[it],(!nt||nt(at,rt,et))&&!st[at]&&(et[at]=rt[at],st[at]=!0);rt=tt!==!1&&getPrototypeOf(rt)}while(rt&&(!tt||tt(rt,et))&&rt!==Object.prototype);return et},endsWith=(rt,et,tt)=>{rt=String(rt),(tt===void 0||tt>rt.length)&&(tt=rt.length),tt-=et.length;const nt=rt.indexOf(et,tt);return nt!==-1&&nt===tt},toArray=rt=>{if(!rt)return null;if(isArray(rt))return rt;let et=rt.length;if(!isNumber(et))return null;const tt=new Array(et);for(;et-- >0;)tt[et]=rt[et];return tt},isTypedArray$1=(rt=>et=>rt&&et instanceof rt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(rt,et)=>{const nt=(rt&&rt[iterator]).call(rt);let ot;for(;(ot=nt.next())&&!ot.done;){const it=ot.value;et.call(rt,it[0],it[1])}},matchAll=(rt,et)=>{let tt;const nt=[];for(;(tt=rt.exec(et))!==null;)nt.push(tt);return nt},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=rt=>rt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tt,nt,ot){return nt.toUpperCase()+ot}),hasOwnProperty=(({hasOwnProperty:rt})=>(et,tt)=>rt.call(et,tt))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(rt,et)=>{const tt=Object.getOwnPropertyDescriptors(rt),nt={};forEach(tt,(ot,it)=>{let at;(at=et(ot,it,rt))!==!1&&(nt[it]=at||ot)}),Object.defineProperties(rt,nt)},freezeMethods=rt=>{reduceDescriptors(rt,(et,tt)=>{if(isFunction(rt)&&["arguments","caller","callee"].indexOf(tt)!==-1)return!1;const nt=rt[tt];if(isFunction(nt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+tt+"'")})}})},toObjectSet=(rt,et)=>{const tt={},nt=ot=>{ot.forEach(it=>{tt[it]=!0})};return isArray(rt)?nt(rt):nt(String(rt).split(et)),tt},noop=()=>{},toFiniteNumber=(rt,et)=>rt!=null&&Number.isFinite(rt=+rt)?rt:et;function isSpecCompliantForm(rt){return!!(rt&&isFunction(rt.append)&&rt[toStringTag]==="FormData"&&rt[iterator])}const toJSONObject=rt=>{const et=new Array(10),tt=(nt,ot)=>{if(isObject(nt)){if(et.indexOf(nt)>=0)return;if(!("toJSON"in nt)){et[ot]=nt;const it=isArray(nt)?[]:{};return forEach(nt,(at,st)=>{const ut=tt(at,ot+1);!isUndefined(ut)&&(it[st]=ut)}),et[ot]=void 0,it}}return nt};return tt(rt,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=rt=>rt&&(isObject(rt)||isFunction(rt))&&isFunction(rt.then)&&isFunction(rt.catch),_setImmediate=((rt,et)=>rt?setImmediate:et?((tt,nt)=>(_global.addEventListener("message",({source:ot,data:it})=>{ot===_global&&it===tt&&nt.length&&nt.shift()()},!1),ot=>{nt.push(ot),_global.postMessage(tt,"*")}))(`axios@${Math.random()}`,[]):tt=>setTimeout(tt))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof api$2<"u"&&api$2.nextTick||_setImmediate,isIterable=rt=>rt!=null&&isFunction(rt[iterator]),utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(rt,et,tt,nt,ot){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=rt,this.name="AxiosError",et&&(this.code=et),tt&&(this.config=tt),nt&&(this.request=nt),ot&&(this.response=ot,this.status=ot.status?ot.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function rt(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(rt=>{descriptors[rt]={value:rt}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(rt,et,tt,nt,ot,it)=>{const at=Object.create(prototype$1);return utils$1.toFlatObject(rt,at,function(ut){return ut!==Error.prototype},st=>st!=="isAxiosError"),AxiosError.call(at,rt.message,et,tt,nt,ot),at.cause=rt,at.name=rt.name,it&&Object.assign(at,it),at};const httpAdapter=null;function isVisitable(rt){return utils$1.isPlainObject(rt)||utils$1.isArray(rt)}function removeBrackets(rt){return utils$1.endsWith(rt,"[]")?rt.slice(0,-2):rt}function renderKey(rt,et,tt){return rt?rt.concat(et).map(function(ot,it){return ot=removeBrackets(ot),!tt&&it?"["+ot+"]":ot}).join(tt?".":""):et}function isFlatArray(rt){return utils$1.isArray(rt)&&!rt.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function rt(et){return/^is[A-Z]/.test(et)});function toFormData(rt,et,tt){if(!utils$1.isObject(rt))throw new TypeError("target must be an object");et=et||new FormData,tt=utils$1.toFlatObject(tt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(St,Tt){return!utils$1.isUndefined(Tt[St])});const nt=tt.metaTokens,ot=tt.visitor||ht,it=tt.dots,at=tt.indexes,ut=(tt.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(et);if(!utils$1.isFunction(ot))throw new TypeError("visitor must be a function");function ft(xt){if(xt===null)return"";if(utils$1.isDate(xt))return xt.toISOString();if(!ut&&utils$1.isBlob(xt))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(xt)||utils$1.isTypedArray(xt)?ut&&typeof Blob=="function"?new Blob([xt]):buffer$1.Buffer.from(xt):xt}function ht(xt,St,Tt){let Mt=xt;if(xt&&!Tt&&typeof xt=="object"){if(utils$1.endsWith(St,"{}"))St=nt?St:St.slice(0,-2),xt=JSON.stringify(xt);else if(utils$1.isArray(xt)&&isFlatArray(xt)||(utils$1.isFileList(xt)||utils$1.endsWith(St,"[]"))&&(Mt=utils$1.toArray(xt)))return St=removeBrackets(St),Mt.forEach(function(It,kt){!(utils$1.isUndefined(It)||It===null)&&et.append(at===!0?renderKey([St],kt,it):at===null?St:St+"[]",ft(It))}),!1}return isVisitable(xt)?!0:(et.append(renderKey(Tt,St,it),ft(xt)),!1)}const mt=[],gt=Object.assign(predicates,{defaultVisitor:ht,convertValue:ft,isVisitable});function yt(xt,St){if(!utils$1.isUndefined(xt)){if(mt.indexOf(xt)!==-1)throw Error("Circular reference detected in "+St.join("."));mt.push(xt),utils$1.forEach(xt,function(Mt,Pt){(!(utils$1.isUndefined(Mt)||Mt===null)&&ot.call(et,Mt,utils$1.isString(Pt)?Pt.trim():Pt,St,gt))===!0&&yt(Mt,St?St.concat(Pt):[Pt])}),mt.pop()}}if(!utils$1.isObject(rt))throw new TypeError("data must be an object");return yt(rt),et}function encode$1(rt){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(rt).replace(/[!'()~]|%20|%00/g,function(nt){return et[nt]})}function AxiosURLSearchParams(rt,et){this._pairs=[],rt&&toFormData(rt,this,et)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function rt(et,tt){this._pairs.push([et,tt])};prototype.toString=function rt(et){const tt=et?function(nt){return et.call(this,nt,encode$1)}:encode$1;return this._pairs.map(function(ot){return tt(ot[0])+"="+tt(ot[1])},"").join("&")};function encode(rt){return encodeURIComponent(rt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(rt,et,tt){if(!et)return rt;const nt=tt&&tt.encode||encode;utils$1.isFunction(tt)&&(tt={serialize:tt});const ot=tt&&tt.serialize;let it;if(ot?it=ot(et,tt):it=utils$1.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,tt).toString(nt),it){const at=rt.indexOf("#");at!==-1&&(rt=rt.slice(0,at)),rt+=(rt.indexOf("?")===-1?"?":"&")+it}return rt}class InterceptorManager{constructor(){this.handlers=[]}use(et,tt,nt){return this.handlers.push({fulfilled:et,rejected:tt,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$1.forEach(this.handlers,function(nt){nt!==null&&et(nt)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin$1=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin:origin$1},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(rt,et){return toFormData(rt,new platform.classes.URLSearchParams,Object.assign({visitor:function(tt,nt,ot,it){return platform.isNode&&utils$1.isBuffer(tt)?(this.append(nt,tt.toString("base64")),!1):it.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(rt){return utils$1.matchAll(/\w+|\[(\w*)]/g,rt).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject(rt){const et={},tt=Object.keys(rt);let nt;const ot=tt.length;let it;for(nt=0;nt<ot;nt++)it=tt[nt],et[it]=rt[it];return et}function formDataToJSON(rt){function et(tt,nt,ot,it){let at=tt[it++];if(at==="__proto__")return!0;const st=Number.isFinite(+at),ut=it>=tt.length;return at=!at&&utils$1.isArray(ot)?ot.length:at,ut?(utils$1.hasOwnProp(ot,at)?ot[at]=[ot[at],nt]:ot[at]=nt,!st):((!ot[at]||!utils$1.isObject(ot[at]))&&(ot[at]=[]),et(tt,nt,ot[at],it)&&utils$1.isArray(ot[at])&&(ot[at]=arrayToObject(ot[at])),!st)}if(utils$1.isFormData(rt)&&utils$1.isFunction(rt.entries)){const tt={};return utils$1.forEachEntry(rt,(nt,ot)=>{et(parsePropPath(nt),ot,tt,0)}),tt}return null}function stringifySafely(rt,et,tt){if(utils$1.isString(rt))try{return(et||JSON.parse)(rt),utils$1.trim(rt)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(tt||JSON.stringify)(rt)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function rt(et,tt){const nt=tt.getContentType()||"",ot=nt.indexOf("application/json")>-1,it=utils$1.isObject(et);if(it&&utils$1.isHTMLForm(et)&&(et=new FormData(et)),utils$1.isFormData(et))return ot?JSON.stringify(formDataToJSON(et)):et;if(utils$1.isArrayBuffer(et)||utils$1.isBuffer(et)||utils$1.isStream(et)||utils$1.isFile(et)||utils$1.isBlob(et)||utils$1.isReadableStream(et))return et;if(utils$1.isArrayBufferView(et))return et.buffer;if(utils$1.isURLSearchParams(et))return tt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let st;if(it){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((st=utils$1.isFileList(et))||nt.indexOf("multipart/form-data")>-1){const ut=this.env&&this.env.FormData;return toFormData(st?{"files[]":et}:et,ut&&new ut,this.formSerializer)}}return it||ot?(tt.setContentType("application/json",!1),stringifySafely(et)):et}],transformResponse:[function rt(et){const tt=this.transitional||defaults.transitional,nt=tt&&tt.forcedJSONParsing,ot=this.responseType==="json";if(utils$1.isResponse(et)||utils$1.isReadableStream(et))return et;if(et&&utils$1.isString(et)&&(nt&&!this.responseType||ot)){const at=!(tt&&tt.silentJSONParsing)&&ot;try{return JSON.parse(et)}catch(st){if(at)throw st.name==="SyntaxError"?AxiosError.from(st,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):st}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function rt(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],rt=>{defaults.headers[rt]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=rt=>{const et={};let tt,nt,ot;return rt&&rt.split(`
`).forEach(function(at){ot=at.indexOf(":"),tt=at.substring(0,ot).trim().toLowerCase(),nt=at.substring(ot+1).trim(),!(!tt||et[tt]&&ignoreDuplicateOf[tt])&&(tt==="set-cookie"?et[tt]?et[tt].push(nt):et[tt]=[nt]:et[tt]=et[tt]?et[tt]+", "+nt:nt)}),et},$internals=Symbol("internals");function normalizeHeader(rt){return rt&&String(rt).trim().toLowerCase()}function normalizeValue(rt){return rt===!1||rt==null?rt:utils$1.isArray(rt)?rt.map(normalizeValue):String(rt)}function parseTokens(rt){const et=Object.create(null),tt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=tt.exec(rt);)et[nt[1]]=nt[2];return et}const isValidHeaderName=rt=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(rt.trim());function matchHeaderValue(rt,et,tt,nt,ot){if(utils$1.isFunction(nt))return nt.call(this,et,tt);if(ot&&(et=tt),!!utils$1.isString(et)){if(utils$1.isString(nt))return et.indexOf(nt)!==-1;if(utils$1.isRegExp(nt))return nt.test(et)}}function formatHeader(rt){return rt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,tt,nt)=>tt.toUpperCase()+nt)}function buildAccessors(rt,et){const tt=utils$1.toCamelCase(" "+et);["get","set","has"].forEach(nt=>{Object.defineProperty(rt,nt+tt,{value:function(ot,it,at){return this[nt].call(this,et,ot,it,at)},configurable:!0})})}class AxiosHeaders{constructor(et){et&&this.set(et)}set(et,tt,nt){const ot=this;function it(st,ut,ft){const ht=normalizeHeader(ut);if(!ht)throw new Error("header name must be a non-empty string");const mt=utils$1.findKey(ot,ht);(!mt||ot[mt]===void 0||ft===!0||ft===void 0&&ot[mt]!==!1)&&(ot[mt||ut]=normalizeValue(st))}const at=(st,ut)=>utils$1.forEach(st,(ft,ht)=>it(ft,ht,ut));if(utils$1.isPlainObject(et)||et instanceof this.constructor)at(et,tt);else if(utils$1.isString(et)&&(et=et.trim())&&!isValidHeaderName(et))at(parseHeaders(et),tt);else if(utils$1.isObject(et)&&utils$1.isIterable(et)){let st={},ut,ft;for(const ht of et){if(!utils$1.isArray(ht))throw TypeError("Object iterator must return a key-value pair");st[ft=ht[0]]=(ut=st[ft])?utils$1.isArray(ut)?[...ut,ht[1]]:[ut,ht[1]]:ht[1]}at(st,tt)}else et!=null&&it(tt,et,nt);return this}get(et,tt){if(et=normalizeHeader(et),et){const nt=utils$1.findKey(this,et);if(nt){const ot=this[nt];if(!tt)return ot;if(tt===!0)return parseTokens(ot);if(utils$1.isFunction(tt))return tt.call(this,ot,nt);if(utils$1.isRegExp(tt))return tt.exec(ot);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,tt){if(et=normalizeHeader(et),et){const nt=utils$1.findKey(this,et);return!!(nt&&this[nt]!==void 0&&(!tt||matchHeaderValue(this,this[nt],nt,tt)))}return!1}delete(et,tt){const nt=this;let ot=!1;function it(at){if(at=normalizeHeader(at),at){const st=utils$1.findKey(nt,at);st&&(!tt||matchHeaderValue(nt,nt[st],st,tt))&&(delete nt[st],ot=!0)}}return utils$1.isArray(et)?et.forEach(it):it(et),ot}clear(et){const tt=Object.keys(this);let nt=tt.length,ot=!1;for(;nt--;){const it=tt[nt];(!et||matchHeaderValue(this,this[it],it,et,!0))&&(delete this[it],ot=!0)}return ot}normalize(et){const tt=this,nt={};return utils$1.forEach(this,(ot,it)=>{const at=utils$1.findKey(nt,it);if(at){tt[at]=normalizeValue(ot),delete tt[it];return}const st=et?formatHeader(it):String(it).trim();st!==it&&delete tt[it],tt[st]=normalizeValue(ot),nt[st]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const tt=Object.create(null);return utils$1.forEach(this,(nt,ot)=>{nt!=null&&nt!==!1&&(tt[ot]=et&&utils$1.isArray(nt)?nt.join(", "):nt)}),tt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,tt])=>et+": "+tt).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...tt){const nt=new this(et);return tt.forEach(ot=>nt.set(ot)),nt}static accessor(et){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,ot=this.prototype;function it(at){const st=normalizeHeader(at);nt[st]||(buildAccessors(ot,at),nt[st]=!0)}return utils$1.isArray(et)?et.forEach(it):it(et),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:rt},et)=>{let tt=et[0].toUpperCase()+et.slice(1);return{get:()=>rt,set(nt){this[tt]=nt}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(rt,et){const tt=this||defaults$1,nt=et||tt,ot=AxiosHeaders$1.from(nt.headers);let it=nt.data;return utils$1.forEach(rt,function(st){it=st.call(tt,it,ot.normalize(),et?et.status:void 0)}),ot.normalize(),it}function isCancel(rt){return!!(rt&&rt.__CANCEL__)}function CanceledError(rt,et,tt){AxiosError.call(this,rt??"canceled",AxiosError.ERR_CANCELED,et,tt),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(rt,et,tt){const nt=tt.config.validateStatus;!tt.status||!nt||nt(tt.status)?rt(tt):et(new AxiosError("Request failed with status code "+tt.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(tt.status/100)-4],tt.config,tt.request,tt))}function parseProtocol(rt){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(rt);return et&&et[1]||""}function speedometer(rt,et){rt=rt||10;const tt=new Array(rt),nt=new Array(rt);let ot=0,it=0,at;return et=et!==void 0?et:1e3,function(ut){const ft=Date.now(),ht=nt[it];at||(at=ft),tt[ot]=ut,nt[ot]=ft;let mt=it,gt=0;for(;mt!==ot;)gt+=tt[mt++],mt=mt%rt;if(ot=(ot+1)%rt,ot===it&&(it=(it+1)%rt),ft-at<et)return;const yt=ht&&ft-ht;return yt?Math.round(gt*1e3/yt):void 0}}function throttle(rt,et){let tt=0,nt=1e3/et,ot,it;const at=(ft,ht=Date.now())=>{tt=ht,ot=null,it&&(clearTimeout(it),it=null),rt.apply(null,ft)};return[(...ft)=>{const ht=Date.now(),mt=ht-tt;mt>=nt?at(ft,ht):(ot=ft,it||(it=setTimeout(()=>{it=null,at(ot)},nt-mt)))},()=>ot&&at(ot)]}const progressEventReducer=(rt,et,tt=3)=>{let nt=0;const ot=speedometer(50,250);return throttle(it=>{const at=it.loaded,st=it.lengthComputable?it.total:void 0,ut=at-nt,ft=ot(ut),ht=at<=st;nt=at;const mt={loaded:at,total:st,progress:st?at/st:void 0,bytes:ut,rate:ft||void 0,estimated:ft&&st&&ht?(st-at)/ft:void 0,event:it,lengthComputable:st!=null,[et?"download":"upload"]:!0};rt(mt)},tt)},progressEventDecorator=(rt,et)=>{const tt=rt!=null;return[nt=>et[0]({lengthComputable:tt,total:rt,loaded:nt}),et[1]]},asyncDecorator=rt=>(...et)=>utils$1.asap(()=>rt(...et)),isURLSameOrigin=platform.hasStandardBrowserEnv?((rt,et)=>tt=>(tt=new URL(tt,platform.origin),rt.protocol===tt.protocol&&rt.host===tt.host&&(et||rt.port===tt.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(rt,et,tt,nt,ot,it){const at=[rt+"="+encodeURIComponent(et)];utils$1.isNumber(tt)&&at.push("expires="+new Date(tt).toGMTString()),utils$1.isString(nt)&&at.push("path="+nt),utils$1.isString(ot)&&at.push("domain="+ot),it===!0&&at.push("secure"),document.cookie=at.join("; ")},read(rt){const et=document.cookie.match(new RegExp("(^|;\\s*)("+rt+")=([^;]*)"));return et?decodeURIComponent(et[3]):null},remove(rt){this.write(rt,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(rt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(rt)}function combineURLs(rt,et){return et?rt.replace(/\/?\/$/,"")+"/"+et.replace(/^\/+/,""):rt}function buildFullPath(rt,et,tt){let nt=!isAbsoluteURL(et);return rt&&(nt||tt==!1)?combineURLs(rt,et):et}const headersToObject=rt=>rt instanceof AxiosHeaders$1?{...rt}:rt;function mergeConfig(rt,et){et=et||{};const tt={};function nt(ft,ht,mt,gt){return utils$1.isPlainObject(ft)&&utils$1.isPlainObject(ht)?utils$1.merge.call({caseless:gt},ft,ht):utils$1.isPlainObject(ht)?utils$1.merge({},ht):utils$1.isArray(ht)?ht.slice():ht}function ot(ft,ht,mt,gt){if(utils$1.isUndefined(ht)){if(!utils$1.isUndefined(ft))return nt(void 0,ft,mt,gt)}else return nt(ft,ht,mt,gt)}function it(ft,ht){if(!utils$1.isUndefined(ht))return nt(void 0,ht)}function at(ft,ht){if(utils$1.isUndefined(ht)){if(!utils$1.isUndefined(ft))return nt(void 0,ft)}else return nt(void 0,ht)}function st(ft,ht,mt){if(mt in et)return nt(ft,ht);if(mt in rt)return nt(void 0,ft)}const ut={url:it,method:it,data:it,baseURL:at,transformRequest:at,transformResponse:at,paramsSerializer:at,timeout:at,timeoutMessage:at,withCredentials:at,withXSRFToken:at,adapter:at,responseType:at,xsrfCookieName:at,xsrfHeaderName:at,onUploadProgress:at,onDownloadProgress:at,decompress:at,maxContentLength:at,maxBodyLength:at,beforeRedirect:at,transport:at,httpAgent:at,httpsAgent:at,cancelToken:at,socketPath:at,responseEncoding:at,validateStatus:st,headers:(ft,ht,mt)=>ot(headersToObject(ft),headersToObject(ht),mt,!0)};return utils$1.forEach(Object.keys(Object.assign({},rt,et)),function(ht){const mt=ut[ht]||ot,gt=mt(rt[ht],et[ht],ht);utils$1.isUndefined(gt)&&mt!==st||(tt[ht]=gt)}),tt}const resolveConfig=rt=>{const et=mergeConfig({},rt);let{data:tt,withXSRFToken:nt,xsrfHeaderName:ot,xsrfCookieName:it,headers:at,auth:st}=et;et.headers=at=AxiosHeaders$1.from(at),et.url=buildURL(buildFullPath(et.baseURL,et.url,et.allowAbsoluteUrls),rt.params,rt.paramsSerializer),st&&at.set("Authorization","Basic "+btoa((st.username||"")+":"+(st.password?unescape(encodeURIComponent(st.password)):"")));let ut;if(utils$1.isFormData(tt)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)at.setContentType(void 0);else if((ut=at.getContentType())!==!1){const[ft,...ht]=ut?ut.split(";").map(mt=>mt.trim()).filter(Boolean):[];at.setContentType([ft||"multipart/form-data",...ht].join("; "))}}if(platform.hasStandardBrowserEnv&&(nt&&utils$1.isFunction(nt)&&(nt=nt(et)),nt||nt!==!1&&isURLSameOrigin(et.url))){const ft=ot&&it&&cookies.read(it);ft&&at.set(ot,ft)}return et},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(rt){return new Promise(function(tt,nt){const ot=resolveConfig(rt);let it=ot.data;const at=AxiosHeaders$1.from(ot.headers).normalize();let{responseType:st,onUploadProgress:ut,onDownloadProgress:ft}=ot,ht,mt,gt,yt,xt;function St(){yt&&yt(),xt&&xt(),ot.cancelToken&&ot.cancelToken.unsubscribe(ht),ot.signal&&ot.signal.removeEventListener("abort",ht)}let Tt=new XMLHttpRequest;Tt.open(ot.method.toUpperCase(),ot.url,!0),Tt.timeout=ot.timeout;function Mt(){if(!Tt)return;const It=AxiosHeaders$1.from("getAllResponseHeaders"in Tt&&Tt.getAllResponseHeaders()),Dt={data:!st||st==="text"||st==="json"?Tt.responseText:Tt.response,status:Tt.status,statusText:Tt.statusText,headers:It,config:rt,request:Tt};settle(function(Gt){tt(Gt),St()},function(Gt){nt(Gt),St()},Dt),Tt=null}"onloadend"in Tt?Tt.onloadend=Mt:Tt.onreadystatechange=function(){!Tt||Tt.readyState!==4||Tt.status===0&&!(Tt.responseURL&&Tt.responseURL.indexOf("file:")===0)||setTimeout(Mt)},Tt.onabort=function(){Tt&&(nt(new AxiosError("Request aborted",AxiosError.ECONNABORTED,rt,Tt)),Tt=null)},Tt.onerror=function(){nt(new AxiosError("Network Error",AxiosError.ERR_NETWORK,rt,Tt)),Tt=null},Tt.ontimeout=function(){let kt=ot.timeout?"timeout of "+ot.timeout+"ms exceeded":"timeout exceeded";const Dt=ot.transitional||transitionalDefaults;ot.timeoutErrorMessage&&(kt=ot.timeoutErrorMessage),nt(new AxiosError(kt,Dt.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,rt,Tt)),Tt=null},it===void 0&&at.setContentType(null),"setRequestHeader"in Tt&&utils$1.forEach(at.toJSON(),function(kt,Dt){Tt.setRequestHeader(Dt,kt)}),utils$1.isUndefined(ot.withCredentials)||(Tt.withCredentials=!!ot.withCredentials),st&&st!=="json"&&(Tt.responseType=ot.responseType),ft&&([gt,xt]=progressEventReducer(ft,!0),Tt.addEventListener("progress",gt)),ut&&Tt.upload&&([mt,yt]=progressEventReducer(ut),Tt.upload.addEventListener("progress",mt),Tt.upload.addEventListener("loadend",yt)),(ot.cancelToken||ot.signal)&&(ht=It=>{Tt&&(nt(!It||It.type?new CanceledError(null,rt,Tt):It),Tt.abort(),Tt=null)},ot.cancelToken&&ot.cancelToken.subscribe(ht),ot.signal&&(ot.signal.aborted?ht():ot.signal.addEventListener("abort",ht)));const Pt=parseProtocol(ot.url);if(Pt&&platform.protocols.indexOf(Pt)===-1){nt(new AxiosError("Unsupported protocol "+Pt+":",AxiosError.ERR_BAD_REQUEST,rt));return}Tt.send(it||null)})},composeSignals=(rt,et)=>{const{length:tt}=rt=rt?rt.filter(Boolean):[];if(et||tt){let nt=new AbortController,ot;const it=function(ft){if(!ot){ot=!0,st();const ht=ft instanceof Error?ft:this.reason;nt.abort(ht instanceof AxiosError?ht:new CanceledError(ht instanceof Error?ht.message:ht))}};let at=et&&setTimeout(()=>{at=null,it(new AxiosError(`timeout ${et} of ms exceeded`,AxiosError.ETIMEDOUT))},et);const st=()=>{rt&&(at&&clearTimeout(at),at=null,rt.forEach(ft=>{ft.unsubscribe?ft.unsubscribe(it):ft.removeEventListener("abort",it)}),rt=null)};rt.forEach(ft=>ft.addEventListener("abort",it));const{signal:ut}=nt;return ut.unsubscribe=()=>utils$1.asap(st),ut}},composeSignals$1=composeSignals,streamChunk=function*(rt,et){let tt=rt.byteLength;if(!et||tt<et){yield rt;return}let nt=0,ot;for(;nt<tt;)ot=nt+et,yield rt.slice(nt,ot),nt=ot},readBytes=async function*(rt,et){for await(const tt of readStream(rt))yield*streamChunk(tt,et)},readStream=async function*(rt){if(rt[Symbol.asyncIterator]){yield*rt;return}const et=rt.getReader();try{for(;;){const{done:tt,value:nt}=await et.read();if(tt)break;yield nt}}finally{await et.cancel()}},trackStream=(rt,et,tt,nt)=>{const ot=readBytes(rt,et);let it=0,at,st=ut=>{at||(at=!0,nt&&nt(ut))};return new ReadableStream({async pull(ut){try{const{done:ft,value:ht}=await ot.next();if(ft){st(),ut.close();return}let mt=ht.byteLength;if(tt){let gt=it+=mt;tt(gt)}ut.enqueue(new Uint8Array(ht))}catch(ft){throw st(ft),ft}},cancel(ut){return st(ut),ot.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(rt=>et=>rt.encode(et))(new TextEncoder):async rt=>new Uint8Array(await new Response(rt).arrayBuffer())),test=(rt,...et)=>{try{return!!rt(...et)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let rt=!1;const et=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return rt=!0,"half"}}).headers.has("Content-Type");return rt&&!et}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(rt=>rt.body)};isFetchSupported&&(rt=>{["text","arrayBuffer","blob","formData","stream"].forEach(et=>{!resolvers[et]&&(resolvers[et]=utils$1.isFunction(rt[et])?tt=>tt[et]():(tt,nt)=>{throw new AxiosError(`Response type '${et}' is not supported`,AxiosError.ERR_NOT_SUPPORT,nt)})})})(new Response);const getBodyLength=async rt=>{if(rt==null)return 0;if(utils$1.isBlob(rt))return rt.size;if(utils$1.isSpecCompliantForm(rt))return(await new Request(platform.origin,{method:"POST",body:rt}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(rt)||utils$1.isArrayBuffer(rt))return rt.byteLength;if(utils$1.isURLSearchParams(rt)&&(rt=rt+""),utils$1.isString(rt))return(await encodeText(rt)).byteLength},resolveBodyLength=async(rt,et)=>{const tt=utils$1.toFiniteNumber(rt.getContentLength());return tt??getBodyLength(et)},fetchAdapter=isFetchSupported&&(async rt=>{let{url:et,method:tt,data:nt,signal:ot,cancelToken:it,timeout:at,onDownloadProgress:st,onUploadProgress:ut,responseType:ft,headers:ht,withCredentials:mt="same-origin",fetchOptions:gt}=resolveConfig(rt);ft=ft?(ft+"").toLowerCase():"text";let yt=composeSignals$1([ot,it&&it.toAbortSignal()],at),xt;const St=yt&&yt.unsubscribe&&(()=>{yt.unsubscribe()});let Tt;try{if(ut&&supportsRequestStream&&tt!=="get"&&tt!=="head"&&(Tt=await resolveBodyLength(ht,nt))!==0){let Dt=new Request(et,{method:"POST",body:nt,duplex:"half"}),Nt;if(utils$1.isFormData(nt)&&(Nt=Dt.headers.get("content-type"))&&ht.setContentType(Nt),Dt.body){const[Gt,Wt]=progressEventDecorator(Tt,progressEventReducer(asyncDecorator(ut)));nt=trackStream(Dt.body,DEFAULT_CHUNK_SIZE,Gt,Wt)}}utils$1.isString(mt)||(mt=mt?"include":"omit");const Mt="credentials"in Request.prototype;xt=new Request(et,{...gt,signal:yt,method:tt.toUpperCase(),headers:ht.normalize().toJSON(),body:nt,duplex:"half",credentials:Mt?mt:void 0});let Pt=await fetch(xt);const It=supportsResponseStream&&(ft==="stream"||ft==="response");if(supportsResponseStream&&(st||It&&St)){const Dt={};["status","statusText","headers"].forEach(Ot=>{Dt[Ot]=Pt[Ot]});const Nt=utils$1.toFiniteNumber(Pt.headers.get("content-length")),[Gt,Wt]=st&&progressEventDecorator(Nt,progressEventReducer(asyncDecorator(st),!0))||[];Pt=new Response(trackStream(Pt.body,DEFAULT_CHUNK_SIZE,Gt,()=>{Wt&&Wt(),St&&St()}),Dt)}ft=ft||"text";let kt=await resolvers[utils$1.findKey(resolvers,ft)||"text"](Pt,rt);return!It&&St&&St(),await new Promise((Dt,Nt)=>{settle(Dt,Nt,{data:kt,headers:AxiosHeaders$1.from(Pt.headers),status:Pt.status,statusText:Pt.statusText,config:rt,request:xt})})}catch(Mt){throw St&&St(),Mt&&Mt.name==="TypeError"&&/Load failed|fetch/i.test(Mt.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,rt,xt),{cause:Mt.cause||Mt}):AxiosError.from(Mt,Mt&&Mt.code,rt,xt)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(rt,et)=>{if(rt){try{Object.defineProperty(rt,"name",{value:et})}catch{}Object.defineProperty(rt,"adapterName",{value:et})}});const renderReason=rt=>`- ${rt}`,isResolvedHandle=rt=>utils$1.isFunction(rt)||rt===null||rt===!1,adapters={getAdapter:rt=>{rt=utils$1.isArray(rt)?rt:[rt];const{length:et}=rt;let tt,nt;const ot={};for(let it=0;it<et;it++){tt=rt[it];let at;if(nt=tt,!isResolvedHandle(tt)&&(nt=knownAdapters[(at=String(tt)).toLowerCase()],nt===void 0))throw new AxiosError(`Unknown adapter '${at}'`);if(nt)break;ot[at||"#"+it]=nt}if(!nt){const it=Object.entries(ot).map(([st,ut])=>`adapter ${st} `+(ut===!1?"is not supported by the environment":"is not available in the build"));let at=et?it.length>1?`since :
`+it.map(renderReason).join(`
`):" "+renderReason(it[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+at,"ERR_NOT_SUPPORT")}return nt},adapters:knownAdapters};function throwIfCancellationRequested(rt){if(rt.cancelToken&&rt.cancelToken.throwIfRequested(),rt.signal&&rt.signal.aborted)throw new CanceledError(null,rt)}function dispatchRequest(rt){return throwIfCancellationRequested(rt),rt.headers=AxiosHeaders$1.from(rt.headers),rt.data=transformData.call(rt,rt.transformRequest),["post","put","patch"].indexOf(rt.method)!==-1&&rt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(rt.adapter||defaults$1.adapter)(rt).then(function(nt){return throwIfCancellationRequested(rt),nt.data=transformData.call(rt,rt.transformResponse,nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt},function(nt){return isCancel(nt)||(throwIfCancellationRequested(rt),nt&&nt.response&&(nt.response.data=transformData.call(rt,rt.transformResponse,nt.response),nt.response.headers=AxiosHeaders$1.from(nt.response.headers))),Promise.reject(nt)})}const VERSION="1.9.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((rt,et)=>{validators$1[rt]=function(nt){return typeof nt===rt||"a"+(et<1?"n ":" ")+rt}});const deprecatedWarnings={};validators$1.transitional=function rt(et,tt,nt){function ot(it,at){return"[Axios v"+VERSION+"] Transitional option '"+it+"'"+at+(nt?". "+nt:"")}return(it,at,st)=>{if(et===!1)throw new AxiosError(ot(at," has been removed"+(tt?" in "+tt:"")),AxiosError.ERR_DEPRECATED);return tt&&!deprecatedWarnings[at]&&(deprecatedWarnings[at]=!0,console.warn(ot(at," has been deprecated since v"+tt+" and will be removed in the near future"))),et?et(it,at,st):!0}};validators$1.spelling=function rt(et){return(tt,nt)=>(console.warn(`${nt} is likely a misspelling of ${et}`),!0)};function assertOptions(rt,et,tt){if(typeof rt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const nt=Object.keys(rt);let ot=nt.length;for(;ot-- >0;){const it=nt[ot],at=et[it];if(at){const st=rt[it],ut=st===void 0||at(st,it,rt);if(ut!==!0)throw new AxiosError("option "+it+" must be "+ut,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(tt!==!0)throw new AxiosError("Unknown option "+it,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(et){this.defaults=et||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(et,tt){try{return await this._request(et,tt)}catch(nt){if(nt instanceof Error){let ot={};Error.captureStackTrace?Error.captureStackTrace(ot):ot=new Error;const it=ot.stack?ot.stack.replace(/^.+\n/,""):"";try{nt.stack?it&&!String(nt.stack).endsWith(it.replace(/^.+\n.+\n/,""))&&(nt.stack+=`
`+it):nt.stack=it}catch{}}throw nt}}_request(et,tt){typeof et=="string"?(tt=tt||{},tt.url=et):tt=et||{},tt=mergeConfig(this.defaults,tt);const{transitional:nt,paramsSerializer:ot,headers:it}=tt;nt!==void 0&&validator.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),ot!=null&&(utils$1.isFunction(ot)?tt.paramsSerializer={serialize:ot}:validator.assertOptions(ot,{encode:validators.function,serialize:validators.function},!0)),tt.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?tt.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:tt.allowAbsoluteUrls=!0),validator.assertOptions(tt,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),tt.method=(tt.method||this.defaults.method||"get").toLowerCase();let at=it&&utils$1.merge(it.common,it[tt.method]);it&&utils$1.forEach(["delete","get","head","post","put","patch","common"],xt=>{delete it[xt]}),tt.headers=AxiosHeaders$1.concat(at,it);const st=[];let ut=!0;this.interceptors.request.forEach(function(St){typeof St.runWhen=="function"&&St.runWhen(tt)===!1||(ut=ut&&St.synchronous,st.unshift(St.fulfilled,St.rejected))});const ft=[];this.interceptors.response.forEach(function(St){ft.push(St.fulfilled,St.rejected)});let ht,mt=0,gt;if(!ut){const xt=[dispatchRequest.bind(this),void 0];for(xt.unshift.apply(xt,st),xt.push.apply(xt,ft),gt=xt.length,ht=Promise.resolve(tt);mt<gt;)ht=ht.then(xt[mt++],xt[mt++]);return ht}gt=st.length;let yt=tt;for(mt=0;mt<gt;){const xt=st[mt++],St=st[mt++];try{yt=xt(yt)}catch(Tt){St.call(this,Tt);break}}try{ht=dispatchRequest.call(this,yt)}catch(xt){return Promise.reject(xt)}for(mt=0,gt=ft.length;mt<gt;)ht=ht.then(ft[mt++],ft[mt++]);return ht}getUri(et){et=mergeConfig(this.defaults,et);const tt=buildFullPath(et.baseURL,et.url,et.allowAbsoluteUrls);return buildURL(tt,et.params,et.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function rt(et){Axios.prototype[et]=function(tt,nt){return this.request(mergeConfig(nt||{},{method:et,url:tt,data:(nt||{}).data}))}});utils$1.forEach(["post","put","patch"],function rt(et){function tt(nt){return function(it,at,st){return this.request(mergeConfig(st||{},{method:et,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:it,data:at}))}}Axios.prototype[et]=tt(),Axios.prototype[et+"Form"]=tt(!0)});const Axios$1=Axios;class CancelToken{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let tt;this.promise=new Promise(function(it){tt=it});const nt=this;this.promise.then(ot=>{if(!nt._listeners)return;let it=nt._listeners.length;for(;it-- >0;)nt._listeners[it](ot);nt._listeners=null}),this.promise.then=ot=>{let it;const at=new Promise(st=>{nt.subscribe(st),it=st}).then(ot);return at.cancel=function(){nt.unsubscribe(it)},at},et(function(it,at,st){nt.reason||(nt.reason=new CanceledError(it,at,st),tt(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const tt=this._listeners.indexOf(et);tt!==-1&&this._listeners.splice(tt,1)}toAbortSignal(){const et=new AbortController,tt=nt=>{et.abort(nt)};return this.subscribe(tt),et.signal.unsubscribe=()=>this.unsubscribe(tt),et.signal}static source(){let et;return{token:new CancelToken(function(ot){et=ot}),cancel:et}}}const CancelToken$1=CancelToken;function spread(rt){return function(tt){return rt.apply(null,tt)}}function isAxiosError(rt){return utils$1.isObject(rt)&&rt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([rt,et])=>{HttpStatusCode[et]=rt});const HttpStatusCode$1=HttpStatusCode;function createInstance(rt){const et=new Axios$1(rt),tt=bind(Axios$1.prototype.request,et);return utils$1.extend(tt,Axios$1.prototype,et,{allOwnKeys:!0}),utils$1.extend(tt,et,null,{allOwnKeys:!0}),tt.create=function(ot){return createInstance(mergeConfig(rt,ot))},tt}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function rt(et){return Promise.all(et)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=rt=>formDataToJSON(utils$1.isHTMLForm(rt)?new FormData(rt):rt);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var dist={},sdk={};(function(){var rt={},et="";try{et=location.hash.toString()}catch{}var tt=ut(et),nt=Mt("initParams");if(nt)for(var ot in nt)typeof tt[ot]>"u"&&(tt[ot]=nt[ot]);Tt("initParams",tt);var it=!1,at;try{if(it=window.parent!=null&&window!=window.parent,it){window.addEventListener("message",function(Pt){if(Pt.source===window.parent){try{var It=JSON.parse(Pt.data)}catch{return}!It||!It.eventType||(It.eventType=="set_custom_style"?at.innerHTML=It.eventData:gt(It.eventType,It.eventData))}}),at=document.createElement("style"),document.head.appendChild(at);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready"}),"*")}catch{}}}catch{}function st(Pt){try{return Pt=Pt.replace(/\+/g,"%20"),decodeURIComponent(Pt)}catch{return Pt}}function ut(Pt){Pt=Pt.replace(/^#/,"");var It={};if(!Pt.length)return It;if(Pt.indexOf("=")<0&&Pt.indexOf("?")<0)return It._path=st(Pt),It;var kt=Pt.indexOf("?");if(kt>=0){var Dt=Pt.substr(0,kt);It._path=st(Dt),Pt=Pt.substr(kt+1)}var Nt=ft(Pt);for(var Gt in Nt)It[Gt]=Nt[Gt];return It}function ft(Pt){var It={};if(!Pt.length)return It;var kt=Pt.split("&"),Dt,Nt,Gt,Wt;for(Dt=0;Dt<kt.length;Dt++)Nt=kt[Dt].split("="),Gt=st(Nt[0]),Wt=Nt[1]==null?null:st(Nt[1]),It[Gt]=Wt;return It}function ht(Pt,It){var kt=Pt.indexOf("#");if(kt<0)return Pt+"#"+It;var Dt=Pt.substr(kt+1);return Dt.indexOf("=")>=0||Dt.indexOf("?")>=0?Pt+"&"+It:Dt.length>0?Pt+"?"+It:Pt+It}function mt(Pt,It,kt){if(It||(It=function(){}),kt===void 0&&(kt=""),console.log("[Telegram.WebView] > postEvent",Pt,kt),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(Pt,JSON.stringify(kt)),It();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:Pt,eventData:kt})),It();else if(it)try{var Dt="https://web.telegram.org";Dt="*",window.parent.postMessage(JSON.stringify({eventType:Pt,eventData:kt}),Dt),It()}catch(Nt){It(Nt)}else It({notAvailable:!0})}function gt(Pt,It){console.log("[Telegram.WebView] < receiveEvent",Pt,It),yt(Pt,function(kt){kt(Pt,It)})}function yt(Pt,It){var kt=rt[Pt];if(!(kt===void 0||!kt.length))for(var Dt=0;Dt<kt.length;Dt++)try{It(kt[Dt])}catch{}}function xt(Pt,It){rt[Pt]===void 0&&(rt[Pt]=[]);var kt=rt[Pt].indexOf(It);kt===-1&&rt[Pt].push(It)}function St(Pt,It){if(rt[Pt]!==void 0){var kt=rt[Pt].indexOf(It);kt!==-1&&rt[Pt].splice(kt,1)}}function Tt(Pt,It){try{return window.sessionStorage.setItem("__telegram__"+Pt,JSON.stringify(It)),!0}catch{}return!1}function Mt(Pt){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+Pt))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:tt,isIframe:it,onEvent:xt,offEvent:St,postEvent:mt,receiveEvent:gt,callEventCallbacks:yt},window.Telegram.Utils={urlSafeDecode:st,urlParseQueryString:ft,urlParseHashParams:ut,urlAppendHashParams:ht,sessionStorageSet:Tt,sessionStorageGet:Mt},window.TelegramGameProxy_receiveEvent=gt,window.TelegramGameProxy={receiveEvent:gt}})();(function(){var rt=window.Telegram.Utils,et=window.Telegram.WebView,tt=et.initParams,nt=et.isIframe,ot={},it="",at={},st={},ut="light",ft="6.0",ht="unknown";if(tt.tgWebAppData&&tt.tgWebAppData.length){it=tt.tgWebAppData,at=rt.urlParseQueryString(it);for(var mt in at){var gt=at[mt];try{(gt.substr(0,1)=="{"&&gt.substr(-1)=="}"||gt.substr(0,1)=="["&&gt.substr(-1)=="]")&&(at[mt]=JSON.parse(gt))}catch{}}}if(tt.tgWebAppThemeParams&&tt.tgWebAppThemeParams.length){var yt=tt.tgWebAppThemeParams;try{var xt=JSON.parse(yt);xt&&Ot(xt)}catch{}}var xt=rt.sessionStorageGet("themeParams");xt&&Ot(xt),tt.tgWebAppVersion&&(ft=tt.tgWebAppVersion),tt.tgWebAppPlatform&&(ht=tt.tgWebAppPlatform);function St(Er,_r){_r.theme_params&&(Ot(_r.theme_params),window.Telegram.WebApp.MainButton.setParams({}),nr(),Dt("themeChanged"))}var Tt=window.innerHeight;function Mt(Er,_r){_r.height&&(window.removeEventListener("resize",Pt),vt(_r))}function Pt(Er){Tt!=window.innerHeight&&(Tt=window.innerHeight,Dt("viewportChanged",{isStateStable:!0}))}function It(Er){if(!(Er.metaKey||Er.ctrlKey)){for(var _r=Er.target;_r.tagName!="A"&&_r.parentNode;)_r=_r.parentNode;_r.tagName=="A"&&_r.target!="_blank"&&(_r.protocol=="http:"||_r.protocol=="https:")&&_r.hostname=="t.me"&&(ot.openTgLink(_r.href),Er.preventDefault())}}function kt(Er){return Er.toString().replace(/^\s+|\s+$/g,"")}function Dt(Er){var _r=Array.prototype.slice.call(arguments);Er=_r.shift(),et.callEventCallbacks("webview:"+Er,function(xr){xr.apply(ot,_r)})}function Nt(Er,_r){et.onEvent("webview:"+Er,_r)}function Gt(Er,_r){et.offEvent("webview:"+Er,_r)}function Wt(Er,_r){var xr=document.documentElement;xr&&xr.style&&xr.style.setProperty&&xr.style.setProperty("--tg-"+Er,_r)}function Ot(Er){Er.bg_color=="#1c1c1d"&&Er.bg_color==Er.secondary_bg_color&&(Er.secondary_bg_color="#2c2c2e");var _r;for(var xr in Er)(_r=or(Er[xr]))&&(st[xr]=_r,xr=="bg_color"&&(ut=rr(_r)?"dark":"light",Wt("color-scheme",ut)),xr="theme-"+xr.split("_").join("-"),Wt(xr,_r));rt.sessionStorageSet("themeParams",st)}var Xt={};function Et(Er){for(var _r=100;--_r;){for(var xr="",Xr="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",dr=Xr.length,Pr=0;Pr<Er;Pr++)xr+=Xr[Math.floor(Math.random()*dr)];if(!Xt[xr])return Xt[xr]={},xr}throw Error("WebAppCallbackIdGenerateFailed")}var lt=!1,dt=!1,pt=!0;function vt(Er){typeof Er<"u"&&(pt=!!Er.is_expanded,lt=Er.height,Er.is_state_stable&&(dt=Er.height),Dt("viewportChanged",{isStateStable:!!Er.is_state_stable}));var _r,xr;lt!==!1?_r=lt-Qt+"px":_r=Qt?"calc(100vh - "+Qt+"px)":"100vh",dt!==!1?xr=dt-Qt+"px":xr=Qt?"calc(100vh - "+Qt+"px)":"100vh",Wt("viewport-height",_r),Wt("viewport-stable-height",xr)}var wt=!1;function At(Er){if(!ar("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+ft);return}wt=!!Er,et.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:wt})}var Rt="bg_color",bt=null;function ct(){return Rt=="secondary_bg_color"?st.secondary_bg_color:Rt=="bg_color"?st.bg_color:bt}function _t(Er){if(!ar("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+ft);return}ar("6.9")||(st.bg_color&&st.bg_color==Er?Er="bg_color":st.secondary_bg_color&&st.secondary_bg_color==Er&&(Er="secondary_bg_color"));var _r=null,xr=null;if(Er=="bg_color"||Er=="secondary_bg_color")xr=Er;else if(ar("6.9")&&(_r=or(Er),!_r))throw console.error("[Telegram.WebApp] Header color format is invalid",Er),Error("WebAppHeaderColorInvalid");if(!ar("6.9")&&xr!="bg_color"&&xr!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",Er),Error("WebAppHeaderColorKeyInvalid");Rt=xr,bt=_r,jt()}var Lt=null,Ft=null;function jt(){(Lt!=Rt||Ft!=bt)&&(Lt=Rt,Ft=bt,Ft?et.postEvent("web_app_set_header_color",!1,{color:bt}):et.postEvent("web_app_set_header_color",!1,{color_key:Rt}))}var Zt="bg_color";function Kt(){return Zt=="secondary_bg_color"?st.secondary_bg_color:Zt=="bg_color"?st.bg_color:Zt}function zt(Er){if(!ar("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+ft);return}var _r;if(Er=="bg_color"||Er=="secondary_bg_color")_r=Er;else if(_r=or(Er),!_r)throw console.error("[Telegram.WebApp] Background color format is invalid",Er),Error("WebAppBackgroundColorInvalid");Zt=_r,nr()}var Vt=null;function nr(){var Er=Kt();Vt!=Er&&(Vt=Er,et.postEvent("web_app_set_background_color",!1,{color:Er}))}function or(Er){Er+="";var _r;if(_r=/^\s*#([0-9a-f]{6})\s*$/i.exec(Er))return"#"+_r[1].toLowerCase();if(_r=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(Er))return("#"+_r[1]+_r[1]+_r[2]+_r[2]+_r[3]+_r[3]).toLowerCase();if(_r=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(Er)){var xr=parseInt(_r[1]),Xr=parseInt(_r[2]),dr=parseInt(_r[3]);return xr=(xr<16?"0":"")+xr.toString(16),Xr=(Xr<16?"0":"")+Xr.toString(16),dr=(dr<16?"0":"")+dr.toString(16),"#"+xr+Xr+dr}return!1}function rr(Er){Er=Er.replace(/[\s#]/g,""),Er.length==3&&(Er=Er[0]+Er[0]+Er[1]+Er[1]+Er[2]+Er[2]);var _r=parseInt(Er.substr(0,2),16),xr=parseInt(Er.substr(2,2),16),Xr=parseInt(Er.substr(4,2),16),dr=Math.sqrt(.299*(_r*_r)+.587*(xr*xr)+.114*(Xr*Xr));return dr<120}function $t(Er,_r){typeof Er!="string"&&(Er=""),typeof _r!="string"&&(_r=""),Er=Er.replace(/^\s+|\s+$/g,"").split("."),_r=_r.replace(/^\s+|\s+$/g,"").split(".");var xr=Math.max(Er.length,_r.length),Xr,dr,Pr;for(Xr=0;Xr<xr;Xr++)if(dr=parseInt(Er[Xr])||0,Pr=parseInt(_r[Xr])||0,dr!=Pr)return dr>Pr?1:-1;return 0}function ar(Er){return $t(ft,Er)>=0}function wr(Er){if(window.Blob)try{return new Blob([Er]).size}catch{}for(var _r=Er.length,xr=Er.length-1;xr>=0;xr--){var Xr=Er.charCodeAt(xr);Xr>127&&Xr<=2047?_r++:Xr>2047&&Xr<=65535&&(_r+=2),Xr>=56320&&Xr<=57343&&xr--}return _r}var vr=function(){var Er=!1,_r={};Object.defineProperty(_r,"isVisible",{set:function(Zr){$r({is_visible:Zr})},get:function(){return Er},enumerable:!0});var xr=null;et.onEvent("back_button_pressed",Xr);function Xr(){Dt("backButtonClicked")}function dr(){return{is_visible:Er}}function Pr(Zr){return typeof Zr>"u"&&(Zr=dr()),JSON.stringify(Zr)}function Jr(){return ar("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+ft),!1)}function Nr(){var Zr=dr(),Or=Pr(Zr);xr!==Or&&(xr=Or,et.postEvent("web_app_setup_back_button",!1,Zr))}function $r(Zr){return Jr()&&(typeof Zr.is_visible<"u"&&(Er=!!Zr.is_visible),Nr()),_r}return _r.onClick=function(Zr){return Jr()&&Nt("backButtonClicked",Zr),_r},_r.offClick=function(Zr){return Jr()&&Gt("backButtonClicked",Zr),_r},_r.show=function(){return $r({is_visible:!0})},_r.hide=function(){return $r({is_visible:!1})},_r}(),Qt=0,Yt=function(){var Er=!1,_r=!0,xr=!1,Xr="CONTINUE",dr=!1,Pr=!1,Jr={};Object.defineProperty(Jr,"text",{set:function(Vr){Jr.setParams({text:Vr})},get:function(){return Xr},enumerable:!0}),Object.defineProperty(Jr,"color",{set:function(Vr){Jr.setParams({color:Vr})},get:function(){return dr||st.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(Jr,"textColor",{set:function(Vr){Jr.setParams({text_color:Vr})},get:function(){return Pr||st.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(Jr,"isVisible",{set:function(Vr){Jr.setParams({is_visible:Vr})},get:function(){return Er},enumerable:!0}),Object.defineProperty(Jr,"isProgressVisible",{get:function(){return xr},enumerable:!0}),Object.defineProperty(Jr,"isActive",{set:function(Vr){Jr.setParams({is_active:Vr})},get:function(){return _r},enumerable:!0});var Nr=null;et.onEvent("main_button_pressed",Kr);var $r=null,Zr={};if(tt.tgWebAppDebug){$r=document.createElement("tg-main-button"),Zr={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Or in Zr)$r.style[Or]=Zr[Or];document.addEventListener("DOMContentLoaded",function Vr(sr){document.removeEventListener("DOMContentLoaded",Vr),document.body.appendChild($r),$r.addEventListener("click",Kr,!1)})}function Kr(){_r&&Dt("mainButtonClicked")}function Pn(){var Vr=Jr.color,sr=Jr.textColor;return Er?{is_visible:!0,is_active:_r,is_progress_visible:xr,text:Xr,color:Vr,text_color:sr}:{is_visible:!1}}function Yr(Vr){return typeof Vr>"u"&&(Vr=Pn()),JSON.stringify(Vr)}function sn(){var Vr=Pn(),sr=Yr(Vr);Nr!==sr&&(Nr=sr,et.postEvent("web_app_setup_main_button",!1,Vr),tt.tgWebAppDebug&&In(Vr))}function In(Vr){Vr.is_visible?($r.style.display="block",Qt=48,$r.style.opacity=Vr.is_active?"1":"0.8",$r.style.cursor=Vr.is_active?"pointer":"auto",$r.disabled=!Vr.is_active,$r.innerText=Vr.text,$r.style.backgroundImage=Vr.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",$r.style.backgroundColor=Vr.color,$r.style.color=Vr.text_color):($r.style.display="none",Qt=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Qt+"px"),vt()}function rn(Vr){if(typeof Vr.text<"u"){var sr=kt(Vr.text);if(!sr.length)throw console.error("[Telegram.WebApp] Main button text is required",Vr.text),Error("WebAppMainButtonParamInvalid");if(sr.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",sr),Error("WebAppMainButtonParamInvalid");Xr=sr}if(typeof Vr.color<"u")if(Vr.color===!1||Vr.color===null)dr=!1;else{var lr=or(Vr.color);if(!lr)throw console.error("[Telegram.WebApp] Main button color format is invalid",Vr.color),Error("WebAppMainButtonParamInvalid");dr=lr}if(typeof Vr.text_color<"u")if(Vr.text_color===!1||Vr.text_color===null)Pr=!1;else{var ur=or(Vr.text_color);if(!ur)throw console.error("[Telegram.WebApp] Main button text color format is invalid",Vr.text_color),Error("WebAppMainButtonParamInvalid");Pr=ur}if(typeof Vr.is_visible<"u"){if(Vr.is_visible&&!Jr.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");Er=!!Vr.is_visible}return typeof Vr.is_active<"u"&&(_r=!!Vr.is_active),sn(),Jr}return Jr.setText=function(Vr){return Jr.setParams({text:Vr})},Jr.onClick=function(Vr){return Nt("mainButtonClicked",Vr),Jr},Jr.offClick=function(Vr){return Gt("mainButtonClicked",Vr),Jr},Jr.show=function(){return Jr.setParams({is_visible:!0})},Jr.hide=function(){return Jr.setParams({is_visible:!1})},Jr.enable=function(){return Jr.setParams({is_active:!0})},Jr.disable=function(){return Jr.setParams({is_active:!1})},Jr.showProgress=function(Vr){return _r=!!Vr,xr=!0,sn(),Jr},Jr.hideProgress=function(){return Jr.isActive||(_r=!0),xr=!1,sn(),Jr},Jr.setParams=rn,Jr}();function Ht(){Dt("settingsButtonClicked")}et.onEvent("settings_button_pressed",Ht);var tr=function(){var Er={};function _r(xr){if(!ar("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+ft),Er;if(xr.type=="impact"){if(xr.impact_style!="light"&&xr.impact_style!="medium"&&xr.impact_style!="heavy"&&xr.impact_style!="rigid"&&xr.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",xr.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(xr.type=="notification"){if(xr.notification_type!="error"&&xr.notification_type!="success"&&xr.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",xr.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(xr.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",xr.type),Error("WebAppHapticFeedbackTypeInvalid");return et.postEvent("web_app_trigger_haptic_feedback",!1,xr),Er}return Er.impactOccurred=function(xr){return _r({type:"impact",impact_style:xr})},Er.notificationOccurred=function(xr){return _r({type:"notification",notification_type:xr})},Er.selectionChanged=function(){return _r({type:"selection_change"})},Er}(),br=function(){var Er={};function _r(xr,Xr,dr){if(!ar("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+ft),Error("WebAppMethodUnsupported");return Tr(xr,Xr,dr),Er}return Er.setItem=function(xr,Xr,dr){return _r("saveStorageValue",{key:xr,value:Xr},dr)},Er.getItem=function(xr,Xr){return Er.getItems([xr],Xr?function(dr,Pr){dr?Xr(dr):Xr(null,Pr[xr])}:null)},Er.getItems=function(xr,Xr){return _r("getStorageValues",{keys:xr},Xr)},Er.removeItem=function(xr,Xr){return Er.removeItems([xr],Xr)},Er.removeItems=function(xr,Xr){return _r("deleteStorageValues",{keys:xr},Xr)},Er.getKeys=function(xr){return _r("getStorageKeys",{},xr)},Er}(),gr={};function Sr(Er,_r){if(_r.slug&&gr[_r.slug]){var xr=gr[_r.slug];delete gr[_r.slug],xr.callback&&xr.callback(_r.status),Dt("invoiceClosed",{url:xr.url,status:_r.status})}}var pr=!1;function er(Er,_r){if(pr){var xr=pr;pr=!1;var Xr=null;typeof _r.button_id<"u"&&(Xr=_r.button_id),xr.callback&&xr.callback(Xr),Dt("popupClosed",{button_id:Xr})}}var yr=!1;function Gr(Er,_r){if(yr){var xr=yr,Xr=null;typeof _r.data<"u"&&(Xr=_r.data),xr.callback&&xr.callback(Xr)&&(yr=!1,et.postEvent("web_app_close_scan_qr_popup",!1)),Dt("qrTextReceived",{data:Xr})}}function Mr(Er,_r){yr=!1}function Ar(Er,_r){if(_r.req_id&&Xt[_r.req_id]){var xr=Xt[_r.req_id];delete Xt[_r.req_id];var Xr=null;typeof _r.data<"u"&&(Xr=_r.data),xr.callback&&xr.callback(Xr),Dt("clipboardTextReceived",{data:Xr})}}var an=!1;function Br(Er,_r){if(an){var xr=an;an=!1,xr.callback&&xr.callback(_r.status=="allowed"),Dt("writeAccessRequested",{status:_r.status})}}var Dr=!1;function ln(Er,_r){if(Dr){var xr=Dr;Dr=!1,xr.callback&&xr.callback(_r.status=="sent"),Dt("contactRequested",{status:_r.status})}}function Ir(Er,_r){if(_r.req_id&&Xt[_r.req_id]){var xr=Xt[_r.req_id];delete Xt[_r.req_id];var Xr=null,dr=null;typeof _r.result<"u"&&(Xr=_r.result),typeof _r.error<"u"&&(dr=_r.error),xr.callback&&xr.callback(dr,Xr)}}function Tr(Er,_r,xr){if(!ar("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+ft),Error("WebAppMethodUnsupported");var Xr=Et(16),dr={req_id:Xr,method:Er,params:_r||{}};Xt[Xr]={callback:xr},et.postEvent("web_app_invoke_custom_method",!1,dr)}window.Telegram||(window.Telegram={}),Object.defineProperty(ot,"initData",{get:function(){return it},enumerable:!0}),Object.defineProperty(ot,"initDataUnsafe",{get:function(){return at},enumerable:!0}),Object.defineProperty(ot,"version",{get:function(){return ft},enumerable:!0}),Object.defineProperty(ot,"platform",{get:function(){return ht},enumerable:!0}),Object.defineProperty(ot,"colorScheme",{get:function(){return ut},enumerable:!0}),Object.defineProperty(ot,"themeParams",{get:function(){return st},enumerable:!0}),Object.defineProperty(ot,"isExpanded",{get:function(){return pt},enumerable:!0}),Object.defineProperty(ot,"viewportHeight",{get:function(){return(lt===!1?window.innerHeight:lt)-Qt},enumerable:!0}),Object.defineProperty(ot,"viewportStableHeight",{get:function(){return(dt===!1?window.innerHeight:dt)-Qt},enumerable:!0}),Object.defineProperty(ot,"isClosingConfirmationEnabled",{set:function(Er){At(Er)},get:function(){return wt},enumerable:!0}),Object.defineProperty(ot,"headerColor",{set:function(Er){_t(Er)},get:function(){return ct()},enumerable:!0}),Object.defineProperty(ot,"backgroundColor",{set:function(Er){zt(Er)},get:function(){return Kt()},enumerable:!0}),Object.defineProperty(ot,"BackButton",{value:vr,enumerable:!0}),Object.defineProperty(ot,"MainButton",{value:Yt,enumerable:!0}),Object.defineProperty(ot,"HapticFeedback",{value:tr,enumerable:!0}),Object.defineProperty(ot,"CloudStorage",{value:br,enumerable:!0}),ot.setHeaderColor=function(Er){ot.headerColor=Er},ot.setBackgroundColor=function(Er){ot.backgroundColor=Er},ot.enableClosingConfirmation=function(){ot.isClosingConfirmationEnabled=!0},ot.disableClosingConfirmation=function(){ot.isClosingConfirmationEnabled=!1},ot.isVersionAtLeast=function(Er){return ar(Er)},ot.onEvent=function(Er,_r){Nt(Er,_r)},ot.offEvent=function(Er,_r){Gt(Er,_r)},ot.sendData=function(Er){if(!Er||!Er.length)throw console.error("[Telegram.WebApp] Data is required",Er),Error("WebAppDataInvalid");if(wr(Er)>4096)throw console.error("[Telegram.WebApp] Data is too long",Er),Error("WebAppDataInvalid");et.postEvent("web_app_data_send",!1,{data:Er})},ot.switchInlineQuery=function(Er,_r){if(!ar("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+ft),Error("WebAppMethodUnsupported");if(!tt.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(Er=Er||"",Er.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",Er),Error("WebAppInlineQueryInvalid");var xr=[];if(_r){if(!Array.isArray(_r))throw console.error("[Telegram.WebApp] Choose chat types should be an array",_r),Error("WebAppInlineChooseChatTypesInvalid");for(var Xr={users:1,bots:1,groups:1,channels:1},dr=0;dr<_r.length;dr++){var Pr=_r[dr];if(!Xr[Pr])throw console.error("[Telegram.WebApp] Choose chat type is invalid",Pr),Error("WebAppInlineChooseChatTypeInvalid");Xr[Pr]!=2&&(Xr[Pr]=2,xr.push(Pr))}}et.postEvent("web_app_switch_inline_query",!1,{query:Er,chat_types:xr})},ot.openLink=function(Xr,_r){var xr=document.createElement("A");if(xr.href=Xr,xr.protocol!="http:"&&xr.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",Xr),Error("WebAppTgUrlInvalid");var Xr=xr.href;_r=_r||{},ar("6.1")?et.postEvent("web_app_open_link",!1,{url:Xr,try_instant_view:ar("6.4")&&!!_r.try_instant_view}):window.open(Xr,"_blank")},ot.openTelegramLink=function(Er){var _r=document.createElement("A");if(_r.href=Er,_r.protocol!="http:"&&_r.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",Er),Error("WebAppTgUrlInvalid");if(_r.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",Er),Error("WebAppTgUrlInvalid");var xr=_r.pathname+_r.search;nt||ar("6.1")?et.postEvent("web_app_open_tg_link",!1,{path_full:xr}):location.href="https://t.me"+xr},ot.openInvoice=function(Er,_r){var xr=document.createElement("A"),Xr,dr;if(xr.href=Er,xr.protocol!="http:"&&xr.protocol!="https:"||xr.hostname!="t.me"||!(Xr=xr.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(dr=Xr[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",Er),Error("WebAppInvoiceUrlInvalid");if(!ar("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+ft),Error("WebAppMethodUnsupported");if(gr[dr])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");gr[dr]={url:Er,callback:_r},et.postEvent("web_app_open_invoice",!1,{slug:dr})},ot.showPopup=function(Er,_r){if(!ar("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+ft),Error("WebAppMethodUnsupported");if(pr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var xr="",Xr="",dr=[],Pr={};if(typeof Er.title<"u"){if(xr=kt(Er.title),xr.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",xr),Error("WebAppPopupParamInvalid");xr.length>0&&(Pr.title=xr)}if(typeof Er.message<"u"&&(Xr=kt(Er.message)),!Xr.length)throw console.error("[Telegram.WebApp] Popup message is required",Er.message),Error("WebAppPopupParamInvalid");if(Xr.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",Xr),Error("WebAppPopupParamInvalid");if(Pr.message=Xr,typeof Er.buttons<"u"){if(!Array.isArray(Er.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",Er.buttons),Error("WebAppPopupParamInvalid");for(var Jr=0;Jr<Er.buttons.length;Jr++){var Nr=Er.buttons[Jr],$r={},Zr="";if(typeof Nr.id<"u"&&(Zr=Nr.id.toString(),Zr.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",Zr),Error("WebAppPopupParamInvalid");$r.id=Zr;var Or=Nr.type;if(typeof Or>"u"&&(Or="default"),$r.type=Or,!(Or=="ok"||Or=="close"||Or=="cancel"))if(Or=="default"||Or=="destructive"){var Kr="";if(typeof Nr.text<"u"&&(Kr=kt(Nr.text)),!Kr.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+Or,Nr.text),Error("WebAppPopupParamInvalid");if(Kr.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",Kr),Error("WebAppPopupParamInvalid");$r.text=Kr}else throw console.error("[Telegram.WebApp] Popup button type is invalid",Or),Error("WebAppPopupParamInvalid");dr.push($r)}}else dr.push({id:"",type:"close"});if(dr.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(dr.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");Pr.buttons=dr,pr={callback:_r},et.postEvent("web_app_open_popup",!1,Pr)},ot.showAlert=function(Er,_r){ot.showPopup({message:Er},_r?function(){_r()}:null)},ot.showConfirm=function(Er,_r){ot.showPopup({message:Er,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},_r?function(xr){_r(xr=="ok")}:null)},ot.showScanQrPopup=function(Er,_r){if(!ar("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+ft),Error("WebAppMethodUnsupported");if(yr)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var xr="",Xr={};if(typeof Er.text<"u"){if(xr=kt(Er.text),xr.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",xr),Error("WebAppScanQrPopupParamInvalid");xr.length>0&&(Xr.text=xr)}yr={callback:_r},et.postEvent("web_app_open_scan_qr_popup",!1,Xr)},ot.closeScanQrPopup=function(){if(!ar("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+ft),Error("WebAppMethodUnsupported");yr=!1,et.postEvent("web_app_close_scan_qr_popup",!1)},ot.readTextFromClipboard=function(Er){if(!ar("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+ft),Error("WebAppMethodUnsupported");var _r=Et(16),xr={req_id:_r};Xt[_r]={callback:Er},et.postEvent("web_app_read_text_from_clipboard",!1,xr)},ot.requestWriteAccess=function(Er){if(!ar("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+ft),Error("WebAppMethodUnsupported");if(an)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");an={callback:Er},et.postEvent("web_app_request_write_access")},ot.requestContact=function(Er){if(!ar("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+ft),Error("WebAppMethodUnsupported");if(Dr)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Dr={callback:Er},et.postEvent("web_app_request_phone")},ot.invokeCustomMethod=function(Er,_r,xr){Tr(Er,_r,xr)},ot.ready=function(){et.postEvent("web_app_ready")},ot.expand=function(){et.postEvent("web_app_expand")},ot.close=function(){et.postEvent("web_app_close")},window.Telegram.WebApp=ot,jt(),nr(),vt(),window.addEventListener("resize",Pt),nt&&document.addEventListener("click",It),et.onEvent("theme_changed",St),et.onEvent("viewport_changed",Mt),et.onEvent("invoice_closed",Sr),et.onEvent("popup_closed",er),et.onEvent("qr_text_received",Gr),et.onEvent("scan_qr_popup_closed",Mr),et.onEvent("clipboard_text_received",Ar),et.onEvent("write_access_requested",Br),et.onEvent("phone_requested",ln),et.onEvent("custom_method_invoked",Ir),et.postEvent("web_app_request_theme"),et.postEvent("web_app_request_viewport")})();Object.defineProperty(sdk,"__esModule",{value:!0});sdk.WebApp=void 0;var telegramWindow=window;sdk.WebApp=telegramWindow.Telegram.WebApp;Object.defineProperty(dist,"__esModule",{value:!0});var sdk_1=sdk,_default=dist.default=sdk_1.WebApp;async function authUser(){const rt=_default.initData;if(!rt)throw new Error("Telegram initData is missing. Open this page in a Telegram WebApp context.");const tt=(await api.post("/auth",{initData:rt})).data;return tt.token&&localStorage.setItem("token",tt.token),tt}function setupAuthInterceptor(rt){let et=!1,tt=[];const nt=(ot=null)=>{tt.forEach(({resolve:it,reject:at})=>{ot?at(ot):it()}),tt=[]};rt.interceptors.response.use(ot=>ot,async ot=>{var st,ut;const it=ot.config,at=(st=ot.response)==null?void 0:st.status;if(at===400&&((ut=it.url)!=null&&ut.endsWith("/profile"))&&!it._initInitDataRetry){it._initInitDataRetry=!0;const ft=_default.initData;if(ft)return it.headers=it.headers||{},it.headers["x-telegram-initdata"]=ft,rt(it)}return(at===401||at===403)&&!it._retry?et?new Promise((ft,ht)=>{tt.push({resolve:ft,reject:ht})}).then(()=>rt(it)):(it._retry=!0,et=!0,new Promise(async(ft,ht)=>{try{await authUser(),nt(null),ft(rt(it))}catch(mt){nt(mt),window.location.href="/",ht(mt)}finally{et=!1}})):Promise.reject(ot)})}const api=axios$1.create({baseURL:"https://636a-2402-d000-8104-72-d8a8-e62e-4d3-9b65.ngrok-free.app/"});api.interceptors.request.use(rt=>{const et=localStorage.getItem("token");return et&&rt.headers&&(rt.headers.Authorization=`Bearer ${et}`),rt});setupAuthInterceptor(api);const TAG$2="[user]";async function getUser(){var nt,ot;const rt=(ot=(nt=window.Telegram)==null?void 0:nt.WebApp)==null?void 0:ot.initData,et={};rt&&(et["X-Telegram-InitData"]=rt);const tt=await api.get("/profile",{headers:et});return console.info(`${TAG$2}: get user data`,tt.data),tt.data||console.error(`${TAG$2}: cannot get user data`),tt.data}const TAG$1="[useInitApp]";function useInitApp(){const[rt,et]=reactExports.useState(null),[tt,nt]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{try{const it=await getUser();et(it)}catch(it){console.error(`${TAG$1}: App init error:`,it)}finally{nt(!0)}})()},[]),{user:rt,ready:tt,setUser:et}}const UserContext=reactExports.createContext(void 0);function useUser(){const rt=reactExports.useContext(UserContext);if(!rt)throw new Error("useUser must be used within a UserProvider");return rt}function UserProvider({children:rt}){const{user:et,ready:tt,setUser:nt}=useInitApp();return tt?jsx(UserContext.Provider,{value:{user:et,setUser:nt},children:rt}):jsx("div",{children:" ..."})}function AppHeader(){const{network:rt}=useTonConnect(),{user:et}=useUser();return jsxs(FlexBoxRow,{children:[jsx(Avatar,{firstName:et==null?void 0:et.firstName,photoUrl:et==null?void 0:et.photoUrl}),jsx("span",{className:"ml-3 mr-3",children:et==null?void 0:et.username}),jsx("span",{children:et==null?void 0:et.balance}),jsx(TonConnectButton$1,{}),jsx(Button,{children:rt?rt===CHAIN.MAINNET?"mainnet":"testnet":"N/A"}),jsx("pre",{children:JSON.stringify(et)})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="157",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding$1=3e3,sRGBEncoding$1=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace$1="srgb",LinearSRGBColorSpace$1="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(et,tt){this._listeners===void 0&&(this._listeners={});const nt=this._listeners;nt[et]===void 0&&(nt[et]=[]),nt[et].indexOf(tt)===-1&&nt[et].push(tt)}hasEventListener(et,tt){if(this._listeners===void 0)return!1;const nt=this._listeners;return nt[et]!==void 0&&nt[et].indexOf(tt)!==-1}removeEventListener(et,tt){if(this._listeners===void 0)return;const ot=this._listeners[et];if(ot!==void 0){const it=ot.indexOf(tt);it!==-1&&ot.splice(it,1)}}dispatchEvent(et){if(this._listeners===void 0)return;const nt=this._listeners[et.type];if(nt!==void 0){et.target=this;const ot=nt.slice(0);for(let it=0,at=ot.length;it<at;it++)ot[it].call(this,et);et.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const rt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut$1[rt&255]+_lut$1[rt>>8&255]+_lut$1[rt>>16&255]+_lut$1[rt>>24&255]+"-"+_lut$1[et&255]+_lut$1[et>>8&255]+"-"+_lut$1[et>>16&15|64]+_lut$1[et>>24&255]+"-"+_lut$1[tt&63|128]+_lut$1[tt>>8&255]+"-"+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+_lut$1[nt&255]+_lut$1[nt>>8&255]+_lut$1[nt>>16&255]+_lut$1[nt>>24&255]).toLowerCase()}function clamp(rt,et,tt){return Math.max(et,Math.min(tt,rt))}function euclideanModulo(rt,et){return(rt%et+et)%et}function mapLinear(rt,et,tt,nt,ot){return nt+(rt-et)*(ot-nt)/(tt-et)}function inverseLerp(rt,et,tt){return rt!==et?(tt-rt)/(et-rt):0}function lerp(rt,et,tt){return(1-tt)*rt+tt*et}function damp(rt,et,tt,nt){return lerp(rt,et,1-Math.exp(-tt*nt))}function pingpong(rt,et=1){return et-Math.abs(euclideanModulo(rt,et*2)-et)}function smoothstep(rt,et,tt){return rt<=et?0:rt>=tt?1:(rt=(rt-et)/(tt-et),rt*rt*(3-2*rt))}function smootherstep(rt,et,tt){return rt<=et?0:rt>=tt?1:(rt=(rt-et)/(tt-et),rt*rt*rt*(rt*(rt*6-15)+10))}function randInt(rt,et){return rt+Math.floor(Math.random()*(et-rt+1))}function randFloat(rt,et){return rt+Math.random()*(et-rt)}function randFloatSpread(rt){return rt*(.5-Math.random())}function seededRandom(rt){rt!==void 0&&(_seed=rt);let et=_seed+=1831565813;return et=Math.imul(et^et>>>15,et|1),et^=et+Math.imul(et^et>>>7,et|61),((et^et>>>14)>>>0)/4294967296}function degToRad(rt){return rt*DEG2RAD}function radToDeg(rt){return rt*RAD2DEG}function isPowerOfTwo(rt){return(rt&rt-1)===0&&rt!==0}function ceilPowerOfTwo(rt){return Math.pow(2,Math.ceil(Math.log(rt)/Math.LN2))}function floorPowerOfTwo(rt){return Math.pow(2,Math.floor(Math.log(rt)/Math.LN2))}function setQuaternionFromProperEuler(rt,et,tt,nt,ot){const it=Math.cos,at=Math.sin,st=it(tt/2),ut=at(tt/2),ft=it((et+nt)/2),ht=at((et+nt)/2),mt=it((et-nt)/2),gt=at((et-nt)/2),yt=it((nt-et)/2),xt=at((nt-et)/2);switch(ot){case"XYX":rt.set(st*ht,ut*mt,ut*gt,st*ft);break;case"YZY":rt.set(ut*gt,st*ht,ut*mt,st*ft);break;case"ZXZ":rt.set(ut*mt,ut*gt,st*ht,st*ft);break;case"XZX":rt.set(st*ht,ut*xt,ut*yt,st*ft);break;case"YXY":rt.set(ut*yt,st*ht,ut*xt,st*ft);break;case"ZYZ":rt.set(ut*xt,ut*yt,st*ht,st*ft);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+ot)}}function denormalize(rt,et){switch(et.constructor){case Float32Array:return rt;case Uint32Array:return rt/4294967295;case Uint16Array:return rt/65535;case Uint8Array:return rt/255;case Int32Array:return Math.max(rt/2147483647,-1);case Int16Array:return Math.max(rt/32767,-1);case Int8Array:return Math.max(rt/127,-1);default:throw new Error("Invalid component type.")}}function normalize(rt,et){switch(et.constructor){case Float32Array:return rt;case Uint32Array:return Math.round(rt*4294967295);case Uint16Array:return Math.round(rt*65535);case Uint8Array:return Math.round(rt*255);case Int32Array:return Math.round(rt*2147483647);case Int16Array:return Math.round(rt*32767);case Int8Array:return Math.round(rt*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(et=0,tt=0){Vector2.prototype.isVector2=!0,this.x=et,this.y=tt}get width(){return this.x}set width(et){this.x=et}get height(){return this.y}set height(et){this.y=et}set(et,tt){return this.x=et,this.y=tt,this}setScalar(et){return this.x=et,this.y=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setComponent(et,tt){switch(et){case 0:this.x=tt;break;case 1:this.y=tt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y)}copy(et){return this.x=et.x,this.y=et.y,this}add(et){return this.x+=et.x,this.y+=et.y,this}addScalar(et){return this.x+=et,this.y+=et,this}addVectors(et,tt){return this.x=et.x+tt.x,this.y=et.y+tt.y,this}addScaledVector(et,tt){return this.x+=et.x*tt,this.y+=et.y*tt,this}sub(et){return this.x-=et.x,this.y-=et.y,this}subScalar(et){return this.x-=et,this.y-=et,this}subVectors(et,tt){return this.x=et.x-tt.x,this.y=et.y-tt.y,this}multiply(et){return this.x*=et.x,this.y*=et.y,this}multiplyScalar(et){return this.x*=et,this.y*=et,this}divide(et){return this.x/=et.x,this.y/=et.y,this}divideScalar(et){return this.multiplyScalar(1/et)}applyMatrix3(et){const tt=this.x,nt=this.y,ot=et.elements;return this.x=ot[0]*tt+ot[3]*nt+ot[6],this.y=ot[1]*tt+ot[4]*nt+ot[7],this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this}clamp(et,tt){return this.x=Math.max(et.x,Math.min(tt.x,this.x)),this.y=Math.max(et.y,Math.min(tt.y,this.y)),this}clampScalar(et,tt){return this.x=Math.max(et,Math.min(tt,this.x)),this.y=Math.max(et,Math.min(tt,this.y)),this}clampLength(et,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(et){return this.x*et.x+this.y*et.y}cross(et){return this.x*et.y-this.y*et.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(et){const tt=Math.sqrt(this.lengthSq()*et.lengthSq());if(tt===0)return Math.PI/2;const nt=this.dot(et)/tt;return Math.acos(clamp(nt,-1,1))}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const tt=this.x-et.x,nt=this.y-et.y;return tt*tt+nt*nt}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,tt){return this.x+=(et.x-this.x)*tt,this.y+=(et.y-this.y)*tt,this}lerpVectors(et,tt,nt){return this.x=et.x+(tt.x-et.x)*nt,this.y=et.y+(tt.y-et.y)*nt,this}equals(et){return et.x===this.x&&et.y===this.y}fromArray(et,tt=0){return this.x=et[tt],this.y=et[tt+1],this}toArray(et=[],tt=0){return et[tt]=this.x,et[tt+1]=this.y,et}fromBufferAttribute(et,tt){return this.x=et.getX(tt),this.y=et.getY(tt),this}rotateAround(et,tt){const nt=Math.cos(tt),ot=Math.sin(tt),it=this.x-et.x,at=this.y-et.y;return this.x=it*nt-at*ot+et.x,this.y=it*ot+at*nt+et.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(et,tt,nt,ot,it,at,st,ut,ft){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],et!==void 0&&this.set(et,tt,nt,ot,it,at,st,ut,ft)}set(et,tt,nt,ot,it,at,st,ut,ft){const ht=this.elements;return ht[0]=et,ht[1]=ot,ht[2]=st,ht[3]=tt,ht[4]=it,ht[5]=ut,ht[6]=nt,ht[7]=at,ht[8]=ft,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(et){const tt=this.elements,nt=et.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],this}extractBasis(et,tt,nt){return et.setFromMatrix3Column(this,0),tt.setFromMatrix3Column(this,1),nt.setFromMatrix3Column(this,2),this}setFromMatrix4(et){const tt=et.elements;return this.set(tt[0],tt[4],tt[8],tt[1],tt[5],tt[9],tt[2],tt[6],tt[10]),this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,tt){const nt=et.elements,ot=tt.elements,it=this.elements,at=nt[0],st=nt[3],ut=nt[6],ft=nt[1],ht=nt[4],mt=nt[7],gt=nt[2],yt=nt[5],xt=nt[8],St=ot[0],Tt=ot[3],Mt=ot[6],Pt=ot[1],It=ot[4],kt=ot[7],Dt=ot[2],Nt=ot[5],Gt=ot[8];return it[0]=at*St+st*Pt+ut*Dt,it[3]=at*Tt+st*It+ut*Nt,it[6]=at*Mt+st*kt+ut*Gt,it[1]=ft*St+ht*Pt+mt*Dt,it[4]=ft*Tt+ht*It+mt*Nt,it[7]=ft*Mt+ht*kt+mt*Gt,it[2]=gt*St+yt*Pt+xt*Dt,it[5]=gt*Tt+yt*It+xt*Nt,it[8]=gt*Mt+yt*kt+xt*Gt,this}multiplyScalar(et){const tt=this.elements;return tt[0]*=et,tt[3]*=et,tt[6]*=et,tt[1]*=et,tt[4]*=et,tt[7]*=et,tt[2]*=et,tt[5]*=et,tt[8]*=et,this}determinant(){const et=this.elements,tt=et[0],nt=et[1],ot=et[2],it=et[3],at=et[4],st=et[5],ut=et[6],ft=et[7],ht=et[8];return tt*at*ht-tt*st*ft-nt*it*ht+nt*st*ut+ot*it*ft-ot*at*ut}invert(){const et=this.elements,tt=et[0],nt=et[1],ot=et[2],it=et[3],at=et[4],st=et[5],ut=et[6],ft=et[7],ht=et[8],mt=ht*at-st*ft,gt=st*ut-ht*it,yt=ft*it-at*ut,xt=tt*mt+nt*gt+ot*yt;if(xt===0)return this.set(0,0,0,0,0,0,0,0,0);const St=1/xt;return et[0]=mt*St,et[1]=(ot*ft-ht*nt)*St,et[2]=(st*nt-ot*at)*St,et[3]=gt*St,et[4]=(ht*tt-ot*ut)*St,et[5]=(ot*it-st*tt)*St,et[6]=yt*St,et[7]=(nt*ut-ft*tt)*St,et[8]=(at*tt-nt*it)*St,this}transpose(){let et;const tt=this.elements;return et=tt[1],tt[1]=tt[3],tt[3]=et,et=tt[2],tt[2]=tt[6],tt[6]=et,et=tt[5],tt[5]=tt[7],tt[7]=et,this}getNormalMatrix(et){return this.setFromMatrix4(et).invert().transpose()}transposeIntoArray(et){const tt=this.elements;return et[0]=tt[0],et[1]=tt[3],et[2]=tt[6],et[3]=tt[1],et[4]=tt[4],et[5]=tt[7],et[6]=tt[2],et[7]=tt[5],et[8]=tt[8],this}setUvTransform(et,tt,nt,ot,it,at,st){const ut=Math.cos(it),ft=Math.sin(it);return this.set(nt*ut,nt*ft,-nt*(ut*at+ft*st)+at+et,-ot*ft,ot*ut,-ot*(-ft*at+ut*st)+st+tt,0,0,1),this}scale(et,tt){return this.premultiply(_m3.makeScale(et,tt)),this}rotate(et){return this.premultiply(_m3.makeRotation(-et)),this}translate(et,tt){return this.premultiply(_m3.makeTranslation(et,tt)),this}makeTranslation(et,tt){return et.isVector2?this.set(1,0,et.x,0,1,et.y,0,0,1):this.set(1,0,et,0,1,tt,0,0,1),this}makeRotation(et){const tt=Math.cos(et),nt=Math.sin(et);return this.set(tt,-nt,0,nt,tt,0,0,0,1),this}makeScale(et,tt){return this.set(et,0,0,0,tt,0,0,0,1),this}equals(et){const tt=this.elements,nt=et.elements;for(let ot=0;ot<9;ot++)if(tt[ot]!==nt[ot])return!1;return!0}fromArray(et,tt=0){for(let nt=0;nt<9;nt++)this.elements[nt]=et[nt+tt];return this}toArray(et=[],tt=0){const nt=this.elements;return et[tt]=nt[0],et[tt+1]=nt[1],et[tt+2]=nt[2],et[tt+3]=nt[3],et[tt+4]=nt[4],et[tt+5]=nt[5],et[tt+6]=nt[6],et[tt+7]=nt[7],et[tt+8]=nt[8],et}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(rt){for(let et=rt.length-1;et>=0;--et)if(rt[et]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(rt,et){return new TYPED_ARRAYS[rt](et)}function createElementNS(rt){return document.createElementNS("http://www.w3.org/1999/xhtml",rt)}function createCanvasElement(){const rt=createElementNS("canvas");return rt.style.display="block",rt}const _cache={};function warnOnce(rt){rt in _cache||(_cache[rt]=!0,console.warn(rt))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace$1]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:rt=>rt,fromReference:rt=>rt},[SRGBColorSpace$1]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:rt=>rt.convertSRGBToLinear(),fromReference:rt=>rt.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:rt=>rt.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:rt=>rt.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:rt=>rt.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:rt=>rt.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace$1,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace$1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(rt){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!rt},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(rt){if(!SUPPORTED_WORKING_COLOR_SPACES.has(rt))throw new Error(`Unsupported working color space, "${rt}".`);this._workingColorSpace=rt},convert:function(rt,et,tt){if(this.enabled===!1||et===tt||!et||!tt)return rt;const nt=COLOR_SPACES[et].toReference,ot=COLOR_SPACES[tt].fromReference;return ot(nt(rt))},fromWorkingColorSpace:function(rt,et){return this.convert(rt,this._workingColorSpace,et)},toWorkingColorSpace:function(rt,et){return this.convert(rt,et,this._workingColorSpace)},getPrimaries:function(rt){return COLOR_SPACES[rt].primaries},getTransfer:function(rt){return rt===NoColorSpace?LinearTransfer:COLOR_SPACES[rt].transfer}};function SRGBToLinear(rt){return rt<.04045?rt*.0773993808:Math.pow(rt*.9478672986+.0521327014,2.4)}function LinearToSRGB(rt){return rt<.0031308?rt*12.92:1.055*Math.pow(rt,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(et){if(/^data:/i.test(et.src)||typeof HTMLCanvasElement>"u")return et.src;let tt;if(et instanceof HTMLCanvasElement)tt=et;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=et.width,_canvas.height=et.height;const nt=_canvas.getContext("2d");et instanceof ImageData?nt.putImageData(et,0,0):nt.drawImage(et,0,0,et.width,et.height),tt=_canvas}return tt.width>2048||tt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",et),tt.toDataURL("image/jpeg",.6)):tt.toDataURL("image/png")}static sRGBToLinear(et){if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap){const tt=createElementNS("canvas");tt.width=et.width,tt.height=et.height;const nt=tt.getContext("2d");nt.drawImage(et,0,0,et.width,et.height);const ot=nt.getImageData(0,0,et.width,et.height),it=ot.data;for(let at=0;at<it.length;at++)it[at]=SRGBToLinear(it[at]/255)*255;return nt.putImageData(ot,0,0),tt}else if(et.data){const tt=et.data.slice(0);for(let nt=0;nt<tt.length;nt++)tt instanceof Uint8Array||tt instanceof Uint8ClampedArray?tt[nt]=Math.floor(SRGBToLinear(tt[nt]/255)*255):tt[nt]=SRGBToLinear(tt[nt]);return{data:tt,width:et.width,height:et.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),et}}let _sourceId=0;class Source{constructor(et=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=et,this.version=0}set needsUpdate(et){et===!0&&this.version++}toJSON(et){const tt=et===void 0||typeof et=="string";if(!tt&&et.images[this.uuid]!==void 0)return et.images[this.uuid];const nt={uuid:this.uuid,url:""},ot=this.data;if(ot!==null){let it;if(Array.isArray(ot)){it=[];for(let at=0,st=ot.length;at<st;at++)ot[at].isDataTexture?it.push(serializeImage(ot[at].image)):it.push(serializeImage(ot[at]))}else it=serializeImage(ot);nt.url=it}return tt||(et.images[this.uuid]=nt),nt}}function serializeImage(rt){return typeof HTMLImageElement<"u"&&rt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&rt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&rt instanceof ImageBitmap?ImageUtils.getDataURL(rt):rt.data?{data:Array.from(rt.data),width:rt.width,height:rt.height,type:rt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(et=Texture.DEFAULT_IMAGE,tt=Texture.DEFAULT_MAPPING,nt=ClampToEdgeWrapping,ot=ClampToEdgeWrapping,it=LinearFilter,at=LinearMipmapLinearFilter,st=RGBAFormat,ut=UnsignedByteType,ft=Texture.DEFAULT_ANISOTROPY,ht=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(et),this.mipmaps=[],this.mapping=tt,this.channel=0,this.wrapS=nt,this.wrapT=ot,this.magFilter=it,this.minFilter=at,this.anisotropy=ft,this.format=st,this.internalFormat=null,this.type=ut,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof ht=="string"?this.colorSpace=ht:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=ht===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(et=null){this.source.data=et}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(et){return this.name=et.name,this.source=et.source,this.mipmaps=et.mipmaps.slice(0),this.mapping=et.mapping,this.channel=et.channel,this.wrapS=et.wrapS,this.wrapT=et.wrapT,this.magFilter=et.magFilter,this.minFilter=et.minFilter,this.anisotropy=et.anisotropy,this.format=et.format,this.internalFormat=et.internalFormat,this.type=et.type,this.offset.copy(et.offset),this.repeat.copy(et.repeat),this.center.copy(et.center),this.rotation=et.rotation,this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrix.copy(et.matrix),this.generateMipmaps=et.generateMipmaps,this.premultiplyAlpha=et.premultiplyAlpha,this.flipY=et.flipY,this.unpackAlignment=et.unpackAlignment,this.colorSpace=et.colorSpace,this.userData=JSON.parse(JSON.stringify(et.userData)),this.needsUpdate=!0,this}toJSON(et){const tt=et===void 0||typeof et=="string";if(!tt&&et.textures[this.uuid]!==void 0)return et.textures[this.uuid];const nt={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(et).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(nt.userData=this.userData),tt||(et.textures[this.uuid]=nt),nt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(et){if(this.mapping!==UVMapping)return et;if(et.applyMatrix3(this.matrix),et.x<0||et.x>1)switch(this.wrapS){case RepeatWrapping:et.x=et.x-Math.floor(et.x);break;case ClampToEdgeWrapping:et.x=et.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.x)%2)===1?et.x=Math.ceil(et.x)-et.x:et.x=et.x-Math.floor(et.x);break}if(et.y<0||et.y>1)switch(this.wrapT){case RepeatWrapping:et.y=et.y-Math.floor(et.y);break;case ClampToEdgeWrapping:et.y=et.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.y)%2)===1?et.y=Math.ceil(et.y)-et.y:et.y=et.y-Math.floor(et.y);break}return this.flipY&&(et.y=1-et.y),et}set needsUpdate(et){et===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace$1?sRGBEncoding$1:LinearEncoding$1}set encoding(et){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=et===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(et=0,tt=0,nt=0,ot=1){Vector4.prototype.isVector4=!0,this.x=et,this.y=tt,this.z=nt,this.w=ot}get width(){return this.z}set width(et){this.z=et}get height(){return this.w}set height(et){this.w=et}set(et,tt,nt,ot){return this.x=et,this.y=tt,this.z=nt,this.w=ot,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this.w=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setW(et){return this.w=et,this}setComponent(et,tt){switch(et){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;case 3:this.w=tt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this.w=et.w!==void 0?et.w:1,this}add(et){return this.x+=et.x,this.y+=et.y,this.z+=et.z,this.w+=et.w,this}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this.w+=et,this}addVectors(et,tt){return this.x=et.x+tt.x,this.y=et.y+tt.y,this.z=et.z+tt.z,this.w=et.w+tt.w,this}addScaledVector(et,tt){return this.x+=et.x*tt,this.y+=et.y*tt,this.z+=et.z*tt,this.w+=et.w*tt,this}sub(et){return this.x-=et.x,this.y-=et.y,this.z-=et.z,this.w-=et.w,this}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this.w-=et,this}subVectors(et,tt){return this.x=et.x-tt.x,this.y=et.y-tt.y,this.z=et.z-tt.z,this.w=et.w-tt.w,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this.w*=et.w,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this.w*=et,this}applyMatrix4(et){const tt=this.x,nt=this.y,ot=this.z,it=this.w,at=et.elements;return this.x=at[0]*tt+at[4]*nt+at[8]*ot+at[12]*it,this.y=at[1]*tt+at[5]*nt+at[9]*ot+at[13]*it,this.z=at[2]*tt+at[6]*nt+at[10]*ot+at[14]*it,this.w=at[3]*tt+at[7]*nt+at[11]*ot+at[15]*it,this}divideScalar(et){return this.multiplyScalar(1/et)}setAxisAngleFromQuaternion(et){this.w=2*Math.acos(et.w);const tt=Math.sqrt(1-et.w*et.w);return tt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=et.x/tt,this.y=et.y/tt,this.z=et.z/tt),this}setAxisAngleFromRotationMatrix(et){let tt,nt,ot,it;const ut=et.elements,ft=ut[0],ht=ut[4],mt=ut[8],gt=ut[1],yt=ut[5],xt=ut[9],St=ut[2],Tt=ut[6],Mt=ut[10];if(Math.abs(ht-gt)<.01&&Math.abs(mt-St)<.01&&Math.abs(xt-Tt)<.01){if(Math.abs(ht+gt)<.1&&Math.abs(mt+St)<.1&&Math.abs(xt+Tt)<.1&&Math.abs(ft+yt+Mt-3)<.1)return this.set(1,0,0,0),this;tt=Math.PI;const It=(ft+1)/2,kt=(yt+1)/2,Dt=(Mt+1)/2,Nt=(ht+gt)/4,Gt=(mt+St)/4,Wt=(xt+Tt)/4;return It>kt&&It>Dt?It<.01?(nt=0,ot=.707106781,it=.707106781):(nt=Math.sqrt(It),ot=Nt/nt,it=Gt/nt):kt>Dt?kt<.01?(nt=.707106781,ot=0,it=.707106781):(ot=Math.sqrt(kt),nt=Nt/ot,it=Wt/ot):Dt<.01?(nt=.707106781,ot=.707106781,it=0):(it=Math.sqrt(Dt),nt=Gt/it,ot=Wt/it),this.set(nt,ot,it,tt),this}let Pt=Math.sqrt((Tt-xt)*(Tt-xt)+(mt-St)*(mt-St)+(gt-ht)*(gt-ht));return Math.abs(Pt)<.001&&(Pt=1),this.x=(Tt-xt)/Pt,this.y=(mt-St)/Pt,this.z=(gt-ht)/Pt,this.w=Math.acos((ft+yt+Mt-1)/2),this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this.w=Math.min(this.w,et.w),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this.w=Math.max(this.w,et.w),this}clamp(et,tt){return this.x=Math.max(et.x,Math.min(tt.x,this.x)),this.y=Math.max(et.y,Math.min(tt.y,this.y)),this.z=Math.max(et.z,Math.min(tt.z,this.z)),this.w=Math.max(et.w,Math.min(tt.w,this.w)),this}clampScalar(et,tt){return this.x=Math.max(et,Math.min(tt,this.x)),this.y=Math.max(et,Math.min(tt,this.y)),this.z=Math.max(et,Math.min(tt,this.z)),this.w=Math.max(et,Math.min(tt,this.w)),this}clampLength(et,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z+this.w*et.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,tt){return this.x+=(et.x-this.x)*tt,this.y+=(et.y-this.y)*tt,this.z+=(et.z-this.z)*tt,this.w+=(et.w-this.w)*tt,this}lerpVectors(et,tt,nt){return this.x=et.x+(tt.x-et.x)*nt,this.y=et.y+(tt.y-et.y)*nt,this.z=et.z+(tt.z-et.z)*nt,this.w=et.w+(tt.w-et.w)*nt,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z&&et.w===this.w}fromArray(et,tt=0){return this.x=et[tt],this.y=et[tt+1],this.z=et[tt+2],this.w=et[tt+3],this}toArray(et=[],tt=0){return et[tt]=this.x,et[tt+1]=this.y,et[tt+2]=this.z,et[tt+3]=this.w,et}fromBufferAttribute(et,tt){return this.x=et.getX(tt),this.y=et.getY(tt),this.z=et.getZ(tt),this.w=et.getW(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(et=1,tt=1,nt={}){super(),this.isRenderTarget=!0,this.width=et,this.height=tt,this.depth=1,this.scissor=new Vector4(0,0,et,tt),this.scissorTest=!1,this.viewport=new Vector4(0,0,et,tt);const ot={width:et,height:tt,depth:1};nt.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),nt.colorSpace=nt.encoding===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),nt=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},nt),this.texture=new Texture(ot,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=nt.generateMipmaps,this.texture.internalFormat=nt.internalFormat,this.depthBuffer=nt.depthBuffer,this.stencilBuffer=nt.stencilBuffer,this.depthTexture=nt.depthTexture,this.samples=nt.samples}setSize(et,tt,nt=1){(this.width!==et||this.height!==tt||this.depth!==nt)&&(this.width=et,this.height=tt,this.depth=nt,this.texture.image.width=et,this.texture.image.height=tt,this.texture.image.depth=nt,this.dispose()),this.viewport.set(0,0,et,tt),this.scissor.set(0,0,et,tt)}clone(){return new this.constructor().copy(this)}copy(et){this.width=et.width,this.height=et.height,this.depth=et.depth,this.scissor.copy(et.scissor),this.scissorTest=et.scissorTest,this.viewport.copy(et.viewport),this.texture=et.texture.clone(),this.texture.isRenderTargetTexture=!0;const tt=Object.assign({},et.texture.image);return this.texture.source=new Source(tt),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.samples=et.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(et=1,tt=1,nt={}){super(et,tt,nt),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(et=null,tt=1,nt=1,ot=1){super(null),this.isDataArrayTexture=!0,this.image={data:et,width:tt,height:nt,depth:ot},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(et=1,tt=1,nt=1){super(et,tt),this.isWebGLArrayRenderTarget=!0,this.depth=nt,this.texture=new DataArrayTexture(null,et,tt,nt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(et=null,tt=1,nt=1,ot=1){super(null),this.isData3DTexture=!0,this.image={data:et,width:tt,height:nt,depth:ot},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(et=1,tt=1,nt=1){super(et,tt),this.isWebGL3DRenderTarget=!0,this.depth=nt,this.texture=new Data3DTexture(null,et,tt,nt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(et=1,tt=1,nt=1,ot={}){super(et,tt,ot),this.isWebGLMultipleRenderTargets=!0;const it=this.texture;this.texture=[];for(let at=0;at<nt;at++)this.texture[at]=it.clone(),this.texture[at].isRenderTargetTexture=!0}setSize(et,tt,nt=1){if(this.width!==et||this.height!==tt||this.depth!==nt){this.width=et,this.height=tt,this.depth=nt;for(let ot=0,it=this.texture.length;ot<it;ot++)this.texture[ot].image.width=et,this.texture[ot].image.height=tt,this.texture[ot].image.depth=nt;this.dispose()}this.viewport.set(0,0,et,tt),this.scissor.set(0,0,et,tt)}copy(et){this.dispose(),this.width=et.width,this.height=et.height,this.depth=et.depth,this.scissor.copy(et.scissor),this.scissorTest=et.scissorTest,this.viewport.copy(et.viewport),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.texture.length=0;for(let tt=0,nt=et.texture.length;tt<nt;tt++)this.texture[tt]=et.texture[tt].clone(),this.texture[tt].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(et=0,tt=0,nt=0,ot=1){this.isQuaternion=!0,this._x=et,this._y=tt,this._z=nt,this._w=ot}static slerpFlat(et,tt,nt,ot,it,at,st){let ut=nt[ot+0],ft=nt[ot+1],ht=nt[ot+2],mt=nt[ot+3];const gt=it[at+0],yt=it[at+1],xt=it[at+2],St=it[at+3];if(st===0){et[tt+0]=ut,et[tt+1]=ft,et[tt+2]=ht,et[tt+3]=mt;return}if(st===1){et[tt+0]=gt,et[tt+1]=yt,et[tt+2]=xt,et[tt+3]=St;return}if(mt!==St||ut!==gt||ft!==yt||ht!==xt){let Tt=1-st;const Mt=ut*gt+ft*yt+ht*xt+mt*St,Pt=Mt>=0?1:-1,It=1-Mt*Mt;if(It>Number.EPSILON){const Dt=Math.sqrt(It),Nt=Math.atan2(Dt,Mt*Pt);Tt=Math.sin(Tt*Nt)/Dt,st=Math.sin(st*Nt)/Dt}const kt=st*Pt;if(ut=ut*Tt+gt*kt,ft=ft*Tt+yt*kt,ht=ht*Tt+xt*kt,mt=mt*Tt+St*kt,Tt===1-st){const Dt=1/Math.sqrt(ut*ut+ft*ft+ht*ht+mt*mt);ut*=Dt,ft*=Dt,ht*=Dt,mt*=Dt}}et[tt]=ut,et[tt+1]=ft,et[tt+2]=ht,et[tt+3]=mt}static multiplyQuaternionsFlat(et,tt,nt,ot,it,at){const st=nt[ot],ut=nt[ot+1],ft=nt[ot+2],ht=nt[ot+3],mt=it[at],gt=it[at+1],yt=it[at+2],xt=it[at+3];return et[tt]=st*xt+ht*mt+ut*yt-ft*gt,et[tt+1]=ut*xt+ht*gt+ft*mt-st*yt,et[tt+2]=ft*xt+ht*yt+st*gt-ut*mt,et[tt+3]=ht*xt-st*mt-ut*gt-ft*yt,et}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get w(){return this._w}set w(et){this._w=et,this._onChangeCallback()}set(et,tt,nt,ot){return this._x=et,this._y=tt,this._z=nt,this._w=ot,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(et){return this._x=et.x,this._y=et.y,this._z=et.z,this._w=et.w,this._onChangeCallback(),this}setFromEuler(et,tt){const nt=et._x,ot=et._y,it=et._z,at=et._order,st=Math.cos,ut=Math.sin,ft=st(nt/2),ht=st(ot/2),mt=st(it/2),gt=ut(nt/2),yt=ut(ot/2),xt=ut(it/2);switch(at){case"XYZ":this._x=gt*ht*mt+ft*yt*xt,this._y=ft*yt*mt-gt*ht*xt,this._z=ft*ht*xt+gt*yt*mt,this._w=ft*ht*mt-gt*yt*xt;break;case"YXZ":this._x=gt*ht*mt+ft*yt*xt,this._y=ft*yt*mt-gt*ht*xt,this._z=ft*ht*xt-gt*yt*mt,this._w=ft*ht*mt+gt*yt*xt;break;case"ZXY":this._x=gt*ht*mt-ft*yt*xt,this._y=ft*yt*mt+gt*ht*xt,this._z=ft*ht*xt+gt*yt*mt,this._w=ft*ht*mt-gt*yt*xt;break;case"ZYX":this._x=gt*ht*mt-ft*yt*xt,this._y=ft*yt*mt+gt*ht*xt,this._z=ft*ht*xt-gt*yt*mt,this._w=ft*ht*mt+gt*yt*xt;break;case"YZX":this._x=gt*ht*mt+ft*yt*xt,this._y=ft*yt*mt+gt*ht*xt,this._z=ft*ht*xt-gt*yt*mt,this._w=ft*ht*mt-gt*yt*xt;break;case"XZY":this._x=gt*ht*mt-ft*yt*xt,this._y=ft*yt*mt-gt*ht*xt,this._z=ft*ht*xt+gt*yt*mt,this._w=ft*ht*mt+gt*yt*xt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+at)}return tt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(et,tt){const nt=tt/2,ot=Math.sin(nt);return this._x=et.x*ot,this._y=et.y*ot,this._z=et.z*ot,this._w=Math.cos(nt),this._onChangeCallback(),this}setFromRotationMatrix(et){const tt=et.elements,nt=tt[0],ot=tt[4],it=tt[8],at=tt[1],st=tt[5],ut=tt[9],ft=tt[2],ht=tt[6],mt=tt[10],gt=nt+st+mt;if(gt>0){const yt=.5/Math.sqrt(gt+1);this._w=.25/yt,this._x=(ht-ut)*yt,this._y=(it-ft)*yt,this._z=(at-ot)*yt}else if(nt>st&&nt>mt){const yt=2*Math.sqrt(1+nt-st-mt);this._w=(ht-ut)/yt,this._x=.25*yt,this._y=(ot+at)/yt,this._z=(it+ft)/yt}else if(st>mt){const yt=2*Math.sqrt(1+st-nt-mt);this._w=(it-ft)/yt,this._x=(ot+at)/yt,this._y=.25*yt,this._z=(ut+ht)/yt}else{const yt=2*Math.sqrt(1+mt-nt-st);this._w=(at-ot)/yt,this._x=(it+ft)/yt,this._y=(ut+ht)/yt,this._z=.25*yt}return this._onChangeCallback(),this}setFromUnitVectors(et,tt){let nt=et.dot(tt)+1;return nt<Number.EPSILON?(nt=0,Math.abs(et.x)>Math.abs(et.z)?(this._x=-et.y,this._y=et.x,this._z=0,this._w=nt):(this._x=0,this._y=-et.z,this._z=et.y,this._w=nt)):(this._x=et.y*tt.z-et.z*tt.y,this._y=et.z*tt.x-et.x*tt.z,this._z=et.x*tt.y-et.y*tt.x,this._w=nt),this.normalize()}angleTo(et){return 2*Math.acos(Math.abs(clamp(this.dot(et),-1,1)))}rotateTowards(et,tt){const nt=this.angleTo(et);if(nt===0)return this;const ot=Math.min(1,tt/nt);return this.slerp(et,ot),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(et){return this._x*et._x+this._y*et._y+this._z*et._z+this._w*et._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let et=this.length();return et===0?(this._x=0,this._y=0,this._z=0,this._w=1):(et=1/et,this._x=this._x*et,this._y=this._y*et,this._z=this._z*et,this._w=this._w*et),this._onChangeCallback(),this}multiply(et){return this.multiplyQuaternions(this,et)}premultiply(et){return this.multiplyQuaternions(et,this)}multiplyQuaternions(et,tt){const nt=et._x,ot=et._y,it=et._z,at=et._w,st=tt._x,ut=tt._y,ft=tt._z,ht=tt._w;return this._x=nt*ht+at*st+ot*ft-it*ut,this._y=ot*ht+at*ut+it*st-nt*ft,this._z=it*ht+at*ft+nt*ut-ot*st,this._w=at*ht-nt*st-ot*ut-it*ft,this._onChangeCallback(),this}slerp(et,tt){if(tt===0)return this;if(tt===1)return this.copy(et);const nt=this._x,ot=this._y,it=this._z,at=this._w;let st=at*et._w+nt*et._x+ot*et._y+it*et._z;if(st<0?(this._w=-et._w,this._x=-et._x,this._y=-et._y,this._z=-et._z,st=-st):this.copy(et),st>=1)return this._w=at,this._x=nt,this._y=ot,this._z=it,this;const ut=1-st*st;if(ut<=Number.EPSILON){const yt=1-tt;return this._w=yt*at+tt*this._w,this._x=yt*nt+tt*this._x,this._y=yt*ot+tt*this._y,this._z=yt*it+tt*this._z,this.normalize(),this._onChangeCallback(),this}const ft=Math.sqrt(ut),ht=Math.atan2(ft,st),mt=Math.sin((1-tt)*ht)/ft,gt=Math.sin(tt*ht)/ft;return this._w=at*mt+this._w*gt,this._x=nt*mt+this._x*gt,this._y=ot*mt+this._y*gt,this._z=it*mt+this._z*gt,this._onChangeCallback(),this}slerpQuaternions(et,tt,nt){return this.copy(et).slerp(tt,nt)}random(){const et=Math.random(),tt=Math.sqrt(1-et),nt=Math.sqrt(et),ot=2*Math.PI*Math.random(),it=2*Math.PI*Math.random();return this.set(tt*Math.cos(ot),nt*Math.sin(it),nt*Math.cos(it),tt*Math.sin(ot))}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._w===this._w}fromArray(et,tt=0){return this._x=et[tt],this._y=et[tt+1],this._z=et[tt+2],this._w=et[tt+3],this._onChangeCallback(),this}toArray(et=[],tt=0){return et[tt]=this._x,et[tt+1]=this._y,et[tt+2]=this._z,et[tt+3]=this._w,et}fromBufferAttribute(et,tt){return this._x=et.getX(tt),this._y=et.getY(tt),this._z=et.getZ(tt),this._w=et.getW(tt),this}toJSON(){return this.toArray()}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(et=0,tt=0,nt=0){Vector3.prototype.isVector3=!0,this.x=et,this.y=tt,this.z=nt}set(et,tt,nt){return nt===void 0&&(nt=this.z),this.x=et,this.y=tt,this.z=nt,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setComponent(et,tt){switch(et){case 0:this.x=tt;break;case 1:this.y=tt;break;case 2:this.z=tt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this}add(et){return this.x+=et.x,this.y+=et.y,this.z+=et.z,this}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this}addVectors(et,tt){return this.x=et.x+tt.x,this.y=et.y+tt.y,this.z=et.z+tt.z,this}addScaledVector(et,tt){return this.x+=et.x*tt,this.y+=et.y*tt,this.z+=et.z*tt,this}sub(et){return this.x-=et.x,this.y-=et.y,this.z-=et.z,this}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this}subVectors(et,tt){return this.x=et.x-tt.x,this.y=et.y-tt.y,this.z=et.z-tt.z,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this}multiplyVectors(et,tt){return this.x=et.x*tt.x,this.y=et.y*tt.y,this.z=et.z*tt.z,this}applyEuler(et){return this.applyQuaternion(_quaternion$4.setFromEuler(et))}applyAxisAngle(et,tt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(et,tt))}applyMatrix3(et){const tt=this.x,nt=this.y,ot=this.z,it=et.elements;return this.x=it[0]*tt+it[3]*nt+it[6]*ot,this.y=it[1]*tt+it[4]*nt+it[7]*ot,this.z=it[2]*tt+it[5]*nt+it[8]*ot,this}applyNormalMatrix(et){return this.applyMatrix3(et).normalize()}applyMatrix4(et){const tt=this.x,nt=this.y,ot=this.z,it=et.elements,at=1/(it[3]*tt+it[7]*nt+it[11]*ot+it[15]);return this.x=(it[0]*tt+it[4]*nt+it[8]*ot+it[12])*at,this.y=(it[1]*tt+it[5]*nt+it[9]*ot+it[13])*at,this.z=(it[2]*tt+it[6]*nt+it[10]*ot+it[14])*at,this}applyQuaternion(et){const tt=this.x,nt=this.y,ot=this.z,it=et.x,at=et.y,st=et.z,ut=et.w,ft=ut*tt+at*ot-st*nt,ht=ut*nt+st*tt-it*ot,mt=ut*ot+it*nt-at*tt,gt=-it*tt-at*nt-st*ot;return this.x=ft*ut+gt*-it+ht*-st-mt*-at,this.y=ht*ut+gt*-at+mt*-it-ft*-st,this.z=mt*ut+gt*-st+ft*-at-ht*-it,this}project(et){return this.applyMatrix4(et.matrixWorldInverse).applyMatrix4(et.projectionMatrix)}unproject(et){return this.applyMatrix4(et.projectionMatrixInverse).applyMatrix4(et.matrixWorld)}transformDirection(et){const tt=this.x,nt=this.y,ot=this.z,it=et.elements;return this.x=it[0]*tt+it[4]*nt+it[8]*ot,this.y=it[1]*tt+it[5]*nt+it[9]*ot,this.z=it[2]*tt+it[6]*nt+it[10]*ot,this.normalize()}divide(et){return this.x/=et.x,this.y/=et.y,this.z/=et.z,this}divideScalar(et){return this.multiplyScalar(1/et)}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this}clamp(et,tt){return this.x=Math.max(et.x,Math.min(tt.x,this.x)),this.y=Math.max(et.y,Math.min(tt.y,this.y)),this.z=Math.max(et.z,Math.min(tt.z,this.z)),this}clampScalar(et,tt){return this.x=Math.max(et,Math.min(tt,this.x)),this.y=Math.max(et,Math.min(tt,this.y)),this.z=Math.max(et,Math.min(tt,this.z)),this}clampLength(et,tt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(tt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,tt){return this.x+=(et.x-this.x)*tt,this.y+=(et.y-this.y)*tt,this.z+=(et.z-this.z)*tt,this}lerpVectors(et,tt,nt){return this.x=et.x+(tt.x-et.x)*nt,this.y=et.y+(tt.y-et.y)*nt,this.z=et.z+(tt.z-et.z)*nt,this}cross(et){return this.crossVectors(this,et)}crossVectors(et,tt){const nt=et.x,ot=et.y,it=et.z,at=tt.x,st=tt.y,ut=tt.z;return this.x=ot*ut-it*st,this.y=it*at-nt*ut,this.z=nt*st-ot*at,this}projectOnVector(et){const tt=et.lengthSq();if(tt===0)return this.set(0,0,0);const nt=et.dot(this)/tt;return this.copy(et).multiplyScalar(nt)}projectOnPlane(et){return _vector$b.copy(this).projectOnVector(et),this.sub(_vector$b)}reflect(et){return this.sub(_vector$b.copy(et).multiplyScalar(2*this.dot(et)))}angleTo(et){const tt=Math.sqrt(this.lengthSq()*et.lengthSq());if(tt===0)return Math.PI/2;const nt=this.dot(et)/tt;return Math.acos(clamp(nt,-1,1))}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const tt=this.x-et.x,nt=this.y-et.y,ot=this.z-et.z;return tt*tt+nt*nt+ot*ot}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)+Math.abs(this.z-et.z)}setFromSpherical(et){return this.setFromSphericalCoords(et.radius,et.phi,et.theta)}setFromSphericalCoords(et,tt,nt){const ot=Math.sin(tt)*et;return this.x=ot*Math.sin(nt),this.y=Math.cos(tt)*et,this.z=ot*Math.cos(nt),this}setFromCylindrical(et){return this.setFromCylindricalCoords(et.radius,et.theta,et.y)}setFromCylindricalCoords(et,tt,nt){return this.x=et*Math.sin(tt),this.y=nt,this.z=et*Math.cos(tt),this}setFromMatrixPosition(et){const tt=et.elements;return this.x=tt[12],this.y=tt[13],this.z=tt[14],this}setFromMatrixScale(et){const tt=this.setFromMatrixColumn(et,0).length(),nt=this.setFromMatrixColumn(et,1).length(),ot=this.setFromMatrixColumn(et,2).length();return this.x=tt,this.y=nt,this.z=ot,this}setFromMatrixColumn(et,tt){return this.fromArray(et.elements,tt*4)}setFromMatrix3Column(et,tt){return this.fromArray(et.elements,tt*3)}setFromEuler(et){return this.x=et._x,this.y=et._y,this.z=et._z,this}setFromColor(et){return this.x=et.r,this.y=et.g,this.z=et.b,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z}fromArray(et,tt=0){return this.x=et[tt],this.y=et[tt+1],this.z=et[tt+2],this}toArray(et=[],tt=0){return et[tt]=this.x,et[tt+1]=this.y,et[tt+2]=this.z,et}fromBufferAttribute(et,tt){return this.x=et.getX(tt),this.y=et.getY(tt),this.z=et.getZ(tt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const et=(Math.random()-.5)*2,tt=Math.random()*Math.PI*2,nt=Math.sqrt(1-et**2);return this.x=nt*Math.cos(tt),this.y=nt*Math.sin(tt),this.z=et,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(et=new Vector3(1/0,1/0,1/0),tt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=et,this.max=tt}set(et,tt){return this.min.copy(et),this.max.copy(tt),this}setFromArray(et){this.makeEmpty();for(let tt=0,nt=et.length;tt<nt;tt+=3)this.expandByPoint(_vector$a.fromArray(et,tt));return this}setFromBufferAttribute(et){this.makeEmpty();for(let tt=0,nt=et.count;tt<nt;tt++)this.expandByPoint(_vector$a.fromBufferAttribute(et,tt));return this}setFromPoints(et){this.makeEmpty();for(let tt=0,nt=et.length;tt<nt;tt++)this.expandByPoint(et[tt]);return this}setFromCenterAndSize(et,tt){const nt=_vector$a.copy(tt).multiplyScalar(.5);return this.min.copy(et).sub(nt),this.max.copy(et).add(nt),this}setFromObject(et,tt=!1){return this.makeEmpty(),this.expandByObject(et,tt)}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(et){return this.isEmpty()?et.set(0,0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}expandByObject(et,tt=!1){if(et.updateWorldMatrix(!1,!1),et.boundingBox!==void 0)et.boundingBox===null&&et.computeBoundingBox(),_box$3.copy(et.boundingBox),_box$3.applyMatrix4(et.matrixWorld),this.union(_box$3);else{const ot=et.geometry;if(ot!==void 0)if(tt&&ot.attributes!==void 0&&ot.attributes.position!==void 0){const it=ot.attributes.position;for(let at=0,st=it.count;at<st;at++)_vector$a.fromBufferAttribute(it,at).applyMatrix4(et.matrixWorld),this.expandByPoint(_vector$a)}else ot.boundingBox===null&&ot.computeBoundingBox(),_box$3.copy(ot.boundingBox),_box$3.applyMatrix4(et.matrixWorld),this.union(_box$3)}const nt=et.children;for(let ot=0,it=nt.length;ot<it;ot++)this.expandByObject(nt[ot],tt);return this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y||et.z<this.min.z||et.z>this.max.z)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y&&this.min.z<=et.min.z&&et.max.z<=this.max.z}getParameter(et,tt){return tt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y),(et.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y||et.max.z<this.min.z||et.min.z>this.max.z)}intersectsSphere(et){return this.clampPoint(et.center,_vector$a),_vector$a.distanceToSquared(et.center)<=et.radius*et.radius}intersectsPlane(et){let tt,nt;return et.normal.x>0?(tt=et.normal.x*this.min.x,nt=et.normal.x*this.max.x):(tt=et.normal.x*this.max.x,nt=et.normal.x*this.min.x),et.normal.y>0?(tt+=et.normal.y*this.min.y,nt+=et.normal.y*this.max.y):(tt+=et.normal.y*this.max.y,nt+=et.normal.y*this.min.y),et.normal.z>0?(tt+=et.normal.z*this.min.z,nt+=et.normal.z*this.max.z):(tt+=et.normal.z*this.max.z,nt+=et.normal.z*this.min.z),tt<=-et.constant&&nt>=-et.constant}intersectsTriangle(et){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(et.a,_center),_v1$7.subVectors(et.b,_center),_v2$4.subVectors(et.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let tt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents)||(tt=[1,0,0,0,1,0,0,0,1],!satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),tt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(tt,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(et,tt){return tt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return this.clampPoint(et,_vector$a).distanceTo(et)}getBoundingSphere(et){return this.isEmpty()?et.makeEmpty():(this.getCenter(et.center),et.radius=this.getSize(_vector$a).length()*.5),et}intersect(et){return this.min.max(et.min),this.max.min(et.max),this.isEmpty()&&this.makeEmpty(),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}applyMatrix4(et){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(et),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(et),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(et),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(et),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(et),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(et),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(et),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(et),this.setFromPoints(_points),this)}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(rt,et,tt,nt,ot){for(let it=0,at=rt.length-3;it<=at;it+=3){_testAxis.fromArray(rt,it);const st=ot.x*Math.abs(_testAxis.x)+ot.y*Math.abs(_testAxis.y)+ot.z*Math.abs(_testAxis.z),ut=et.dot(_testAxis),ft=tt.dot(_testAxis),ht=nt.dot(_testAxis);if(Math.max(-Math.max(ut,ft,ht),Math.min(ut,ft,ht))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(et=new Vector3,tt=-1){this.center=et,this.radius=tt}set(et,tt){return this.center.copy(et),this.radius=tt,this}setFromPoints(et,tt){const nt=this.center;tt!==void 0?nt.copy(tt):_box$2.setFromPoints(et).getCenter(nt);let ot=0;for(let it=0,at=et.length;it<at;it++)ot=Math.max(ot,nt.distanceToSquared(et[it]));return this.radius=Math.sqrt(ot),this}copy(et){return this.center.copy(et.center),this.radius=et.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(et){return et.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(et){return et.distanceTo(this.center)-this.radius}intersectsSphere(et){const tt=this.radius+et.radius;return et.center.distanceToSquared(this.center)<=tt*tt}intersectsBox(et){return et.intersectsSphere(this)}intersectsPlane(et){return Math.abs(et.distanceToPoint(this.center))<=this.radius}clampPoint(et,tt){const nt=this.center.distanceToSquared(et);return tt.copy(et),nt>this.radius*this.radius&&(tt.sub(this.center).normalize(),tt.multiplyScalar(this.radius).add(this.center)),tt}getBoundingBox(et){return this.isEmpty()?(et.makeEmpty(),et):(et.set(this.center,this.center),et.expandByScalar(this.radius),et)}applyMatrix4(et){return this.center.applyMatrix4(et),this.radius=this.radius*et.getMaxScaleOnAxis(),this}translate(et){return this.center.add(et),this}expandByPoint(et){if(this.isEmpty())return this.center.copy(et),this.radius=0,this;_v1$6.subVectors(et,this.center);const tt=_v1$6.lengthSq();if(tt>this.radius*this.radius){const nt=Math.sqrt(tt),ot=(nt-this.radius)*.5;this.center.addScaledVector(_v1$6,ot/nt),this.radius+=ot}return this}union(et){return et.isEmpty()?this:this.isEmpty()?(this.copy(et),this):(this.center.equals(et.center)===!0?this.radius=Math.max(this.radius,et.radius):(_v2$3.subVectors(et.center,this.center).setLength(et.radius),this.expandByPoint(_v1$6.copy(et.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(et.center).sub(_v2$3))),this)}equals(et){return et.center.equals(this.center)&&et.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(et=new Vector3,tt=new Vector3(0,0,-1)){this.origin=et,this.direction=tt}set(et,tt){return this.origin.copy(et),this.direction.copy(tt),this}copy(et){return this.origin.copy(et.origin),this.direction.copy(et.direction),this}at(et,tt){return tt.copy(this.origin).addScaledVector(this.direction,et)}lookAt(et){return this.direction.copy(et).sub(this.origin).normalize(),this}recast(et){return this.origin.copy(this.at(et,_vector$9)),this}closestPointToPoint(et,tt){tt.subVectors(et,this.origin);const nt=tt.dot(this.direction);return nt<0?tt.copy(this.origin):tt.copy(this.origin).addScaledVector(this.direction,nt)}distanceToPoint(et){return Math.sqrt(this.distanceSqToPoint(et))}distanceSqToPoint(et){const tt=_vector$9.subVectors(et,this.origin).dot(this.direction);return tt<0?this.origin.distanceToSquared(et):(_vector$9.copy(this.origin).addScaledVector(this.direction,tt),_vector$9.distanceToSquared(et))}distanceSqToSegment(et,tt,nt,ot){_segCenter.copy(et).add(tt).multiplyScalar(.5),_segDir.copy(tt).sub(et).normalize(),_diff.copy(this.origin).sub(_segCenter);const it=et.distanceTo(tt)*.5,at=-this.direction.dot(_segDir),st=_diff.dot(this.direction),ut=-_diff.dot(_segDir),ft=_diff.lengthSq(),ht=Math.abs(1-at*at);let mt,gt,yt,xt;if(ht>0)if(mt=at*ut-st,gt=at*st-ut,xt=it*ht,mt>=0)if(gt>=-xt)if(gt<=xt){const St=1/ht;mt*=St,gt*=St,yt=mt*(mt+at*gt+2*st)+gt*(at*mt+gt+2*ut)+ft}else gt=it,mt=Math.max(0,-(at*gt+st)),yt=-mt*mt+gt*(gt+2*ut)+ft;else gt=-it,mt=Math.max(0,-(at*gt+st)),yt=-mt*mt+gt*(gt+2*ut)+ft;else gt<=-xt?(mt=Math.max(0,-(-at*it+st)),gt=mt>0?-it:Math.min(Math.max(-it,-ut),it),yt=-mt*mt+gt*(gt+2*ut)+ft):gt<=xt?(mt=0,gt=Math.min(Math.max(-it,-ut),it),yt=gt*(gt+2*ut)+ft):(mt=Math.max(0,-(at*it+st)),gt=mt>0?it:Math.min(Math.max(-it,-ut),it),yt=-mt*mt+gt*(gt+2*ut)+ft);else gt=at>0?-it:it,mt=Math.max(0,-(at*gt+st)),yt=-mt*mt+gt*(gt+2*ut)+ft;return nt&&nt.copy(this.origin).addScaledVector(this.direction,mt),ot&&ot.copy(_segCenter).addScaledVector(_segDir,gt),yt}intersectSphere(et,tt){_vector$9.subVectors(et.center,this.origin);const nt=_vector$9.dot(this.direction),ot=_vector$9.dot(_vector$9)-nt*nt,it=et.radius*et.radius;if(ot>it)return null;const at=Math.sqrt(it-ot),st=nt-at,ut=nt+at;return ut<0?null:st<0?this.at(ut,tt):this.at(st,tt)}intersectsSphere(et){return this.distanceSqToPoint(et.center)<=et.radius*et.radius}distanceToPlane(et){const tt=et.normal.dot(this.direction);if(tt===0)return et.distanceToPoint(this.origin)===0?0:null;const nt=-(this.origin.dot(et.normal)+et.constant)/tt;return nt>=0?nt:null}intersectPlane(et,tt){const nt=this.distanceToPlane(et);return nt===null?null:this.at(nt,tt)}intersectsPlane(et){const tt=et.distanceToPoint(this.origin);return tt===0||et.normal.dot(this.direction)*tt<0}intersectBox(et,tt){let nt,ot,it,at,st,ut;const ft=1/this.direction.x,ht=1/this.direction.y,mt=1/this.direction.z,gt=this.origin;return ft>=0?(nt=(et.min.x-gt.x)*ft,ot=(et.max.x-gt.x)*ft):(nt=(et.max.x-gt.x)*ft,ot=(et.min.x-gt.x)*ft),ht>=0?(it=(et.min.y-gt.y)*ht,at=(et.max.y-gt.y)*ht):(it=(et.max.y-gt.y)*ht,at=(et.min.y-gt.y)*ht),nt>at||it>ot||((it>nt||isNaN(nt))&&(nt=it),(at<ot||isNaN(ot))&&(ot=at),mt>=0?(st=(et.min.z-gt.z)*mt,ut=(et.max.z-gt.z)*mt):(st=(et.max.z-gt.z)*mt,ut=(et.min.z-gt.z)*mt),nt>ut||st>ot)||((st>nt||nt!==nt)&&(nt=st),(ut<ot||ot!==ot)&&(ot=ut),ot<0)?null:this.at(nt>=0?nt:ot,tt)}intersectsBox(et){return this.intersectBox(et,_vector$9)!==null}intersectTriangle(et,tt,nt,ot,it){_edge1.subVectors(tt,et),_edge2.subVectors(nt,et),_normal$1.crossVectors(_edge1,_edge2);let at=this.direction.dot(_normal$1),st;if(at>0){if(ot)return null;st=1}else if(at<0)st=-1,at=-at;else return null;_diff.subVectors(this.origin,et);const ut=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(ut<0)return null;const ft=st*this.direction.dot(_edge1.cross(_diff));if(ft<0||ut+ft>at)return null;const ht=-st*_diff.dot(_normal$1);return ht<0?null:this.at(ht/at,it)}applyMatrix4(et){return this.origin.applyMatrix4(et),this.direction.transformDirection(et),this}equals(et){return et.origin.equals(this.origin)&&et.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(et,tt,nt,ot,it,at,st,ut,ft,ht,mt,gt,yt,xt,St,Tt){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],et!==void 0&&this.set(et,tt,nt,ot,it,at,st,ut,ft,ht,mt,gt,yt,xt,St,Tt)}set(et,tt,nt,ot,it,at,st,ut,ft,ht,mt,gt,yt,xt,St,Tt){const Mt=this.elements;return Mt[0]=et,Mt[4]=tt,Mt[8]=nt,Mt[12]=ot,Mt[1]=it,Mt[5]=at,Mt[9]=st,Mt[13]=ut,Mt[2]=ft,Mt[6]=ht,Mt[10]=mt,Mt[14]=gt,Mt[3]=yt,Mt[7]=xt,Mt[11]=St,Mt[15]=Tt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(et){const tt=this.elements,nt=et.elements;return tt[0]=nt[0],tt[1]=nt[1],tt[2]=nt[2],tt[3]=nt[3],tt[4]=nt[4],tt[5]=nt[5],tt[6]=nt[6],tt[7]=nt[7],tt[8]=nt[8],tt[9]=nt[9],tt[10]=nt[10],tt[11]=nt[11],tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],tt[15]=nt[15],this}copyPosition(et){const tt=this.elements,nt=et.elements;return tt[12]=nt[12],tt[13]=nt[13],tt[14]=nt[14],this}setFromMatrix3(et){const tt=et.elements;return this.set(tt[0],tt[3],tt[6],0,tt[1],tt[4],tt[7],0,tt[2],tt[5],tt[8],0,0,0,0,1),this}extractBasis(et,tt,nt){return et.setFromMatrixColumn(this,0),tt.setFromMatrixColumn(this,1),nt.setFromMatrixColumn(this,2),this}makeBasis(et,tt,nt){return this.set(et.x,tt.x,nt.x,0,et.y,tt.y,nt.y,0,et.z,tt.z,nt.z,0,0,0,0,1),this}extractRotation(et){const tt=this.elements,nt=et.elements,ot=1/_v1$5.setFromMatrixColumn(et,0).length(),it=1/_v1$5.setFromMatrixColumn(et,1).length(),at=1/_v1$5.setFromMatrixColumn(et,2).length();return tt[0]=nt[0]*ot,tt[1]=nt[1]*ot,tt[2]=nt[2]*ot,tt[3]=0,tt[4]=nt[4]*it,tt[5]=nt[5]*it,tt[6]=nt[6]*it,tt[7]=0,tt[8]=nt[8]*at,tt[9]=nt[9]*at,tt[10]=nt[10]*at,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromEuler(et){const tt=this.elements,nt=et.x,ot=et.y,it=et.z,at=Math.cos(nt),st=Math.sin(nt),ut=Math.cos(ot),ft=Math.sin(ot),ht=Math.cos(it),mt=Math.sin(it);if(et.order==="XYZ"){const gt=at*ht,yt=at*mt,xt=st*ht,St=st*mt;tt[0]=ut*ht,tt[4]=-ut*mt,tt[8]=ft,tt[1]=yt+xt*ft,tt[5]=gt-St*ft,tt[9]=-st*ut,tt[2]=St-gt*ft,tt[6]=xt+yt*ft,tt[10]=at*ut}else if(et.order==="YXZ"){const gt=ut*ht,yt=ut*mt,xt=ft*ht,St=ft*mt;tt[0]=gt+St*st,tt[4]=xt*st-yt,tt[8]=at*ft,tt[1]=at*mt,tt[5]=at*ht,tt[9]=-st,tt[2]=yt*st-xt,tt[6]=St+gt*st,tt[10]=at*ut}else if(et.order==="ZXY"){const gt=ut*ht,yt=ut*mt,xt=ft*ht,St=ft*mt;tt[0]=gt-St*st,tt[4]=-at*mt,tt[8]=xt+yt*st,tt[1]=yt+xt*st,tt[5]=at*ht,tt[9]=St-gt*st,tt[2]=-at*ft,tt[6]=st,tt[10]=at*ut}else if(et.order==="ZYX"){const gt=at*ht,yt=at*mt,xt=st*ht,St=st*mt;tt[0]=ut*ht,tt[4]=xt*ft-yt,tt[8]=gt*ft+St,tt[1]=ut*mt,tt[5]=St*ft+gt,tt[9]=yt*ft-xt,tt[2]=-ft,tt[6]=st*ut,tt[10]=at*ut}else if(et.order==="YZX"){const gt=at*ut,yt=at*ft,xt=st*ut,St=st*ft;tt[0]=ut*ht,tt[4]=St-gt*mt,tt[8]=xt*mt+yt,tt[1]=mt,tt[5]=at*ht,tt[9]=-st*ht,tt[2]=-ft*ht,tt[6]=yt*mt+xt,tt[10]=gt-St*mt}else if(et.order==="XZY"){const gt=at*ut,yt=at*ft,xt=st*ut,St=st*ft;tt[0]=ut*ht,tt[4]=-mt,tt[8]=ft*ht,tt[1]=gt*mt+St,tt[5]=at*ht,tt[9]=yt*mt-xt,tt[2]=xt*mt-yt,tt[6]=st*ht,tt[10]=St*mt+gt}return tt[3]=0,tt[7]=0,tt[11]=0,tt[12]=0,tt[13]=0,tt[14]=0,tt[15]=1,this}makeRotationFromQuaternion(et){return this.compose(_zero,et,_one)}lookAt(et,tt,nt){const ot=this.elements;return _z.subVectors(et,tt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(nt,_z),_x.lengthSq()===0&&(Math.abs(nt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(nt,_z)),_x.normalize(),_y.crossVectors(_z,_x),ot[0]=_x.x,ot[4]=_y.x,ot[8]=_z.x,ot[1]=_x.y,ot[5]=_y.y,ot[9]=_z.y,ot[2]=_x.z,ot[6]=_y.z,ot[10]=_z.z,this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,tt){const nt=et.elements,ot=tt.elements,it=this.elements,at=nt[0],st=nt[4],ut=nt[8],ft=nt[12],ht=nt[1],mt=nt[5],gt=nt[9],yt=nt[13],xt=nt[2],St=nt[6],Tt=nt[10],Mt=nt[14],Pt=nt[3],It=nt[7],kt=nt[11],Dt=nt[15],Nt=ot[0],Gt=ot[4],Wt=ot[8],Ot=ot[12],Xt=ot[1],Et=ot[5],lt=ot[9],dt=ot[13],pt=ot[2],vt=ot[6],wt=ot[10],At=ot[14],Rt=ot[3],bt=ot[7],ct=ot[11],_t=ot[15];return it[0]=at*Nt+st*Xt+ut*pt+ft*Rt,it[4]=at*Gt+st*Et+ut*vt+ft*bt,it[8]=at*Wt+st*lt+ut*wt+ft*ct,it[12]=at*Ot+st*dt+ut*At+ft*_t,it[1]=ht*Nt+mt*Xt+gt*pt+yt*Rt,it[5]=ht*Gt+mt*Et+gt*vt+yt*bt,it[9]=ht*Wt+mt*lt+gt*wt+yt*ct,it[13]=ht*Ot+mt*dt+gt*At+yt*_t,it[2]=xt*Nt+St*Xt+Tt*pt+Mt*Rt,it[6]=xt*Gt+St*Et+Tt*vt+Mt*bt,it[10]=xt*Wt+St*lt+Tt*wt+Mt*ct,it[14]=xt*Ot+St*dt+Tt*At+Mt*_t,it[3]=Pt*Nt+It*Xt+kt*pt+Dt*Rt,it[7]=Pt*Gt+It*Et+kt*vt+Dt*bt,it[11]=Pt*Wt+It*lt+kt*wt+Dt*ct,it[15]=Pt*Ot+It*dt+kt*At+Dt*_t,this}multiplyScalar(et){const tt=this.elements;return tt[0]*=et,tt[4]*=et,tt[8]*=et,tt[12]*=et,tt[1]*=et,tt[5]*=et,tt[9]*=et,tt[13]*=et,tt[2]*=et,tt[6]*=et,tt[10]*=et,tt[14]*=et,tt[3]*=et,tt[7]*=et,tt[11]*=et,tt[15]*=et,this}determinant(){const et=this.elements,tt=et[0],nt=et[4],ot=et[8],it=et[12],at=et[1],st=et[5],ut=et[9],ft=et[13],ht=et[2],mt=et[6],gt=et[10],yt=et[14],xt=et[3],St=et[7],Tt=et[11],Mt=et[15];return xt*(+it*ut*mt-ot*ft*mt-it*st*gt+nt*ft*gt+ot*st*yt-nt*ut*yt)+St*(+tt*ut*yt-tt*ft*gt+it*at*gt-ot*at*yt+ot*ft*ht-it*ut*ht)+Tt*(+tt*ft*mt-tt*st*yt-it*at*mt+nt*at*yt+it*st*ht-nt*ft*ht)+Mt*(-ot*st*ht-tt*ut*mt+tt*st*gt+ot*at*mt-nt*at*gt+nt*ut*ht)}transpose(){const et=this.elements;let tt;return tt=et[1],et[1]=et[4],et[4]=tt,tt=et[2],et[2]=et[8],et[8]=tt,tt=et[6],et[6]=et[9],et[9]=tt,tt=et[3],et[3]=et[12],et[12]=tt,tt=et[7],et[7]=et[13],et[13]=tt,tt=et[11],et[11]=et[14],et[14]=tt,this}setPosition(et,tt,nt){const ot=this.elements;return et.isVector3?(ot[12]=et.x,ot[13]=et.y,ot[14]=et.z):(ot[12]=et,ot[13]=tt,ot[14]=nt),this}invert(){const et=this.elements,tt=et[0],nt=et[1],ot=et[2],it=et[3],at=et[4],st=et[5],ut=et[6],ft=et[7],ht=et[8],mt=et[9],gt=et[10],yt=et[11],xt=et[12],St=et[13],Tt=et[14],Mt=et[15],Pt=mt*Tt*ft-St*gt*ft+St*ut*yt-st*Tt*yt-mt*ut*Mt+st*gt*Mt,It=xt*gt*ft-ht*Tt*ft-xt*ut*yt+at*Tt*yt+ht*ut*Mt-at*gt*Mt,kt=ht*St*ft-xt*mt*ft+xt*st*yt-at*St*yt-ht*st*Mt+at*mt*Mt,Dt=xt*mt*ut-ht*St*ut-xt*st*gt+at*St*gt+ht*st*Tt-at*mt*Tt,Nt=tt*Pt+nt*It+ot*kt+it*Dt;if(Nt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Gt=1/Nt;return et[0]=Pt*Gt,et[1]=(St*gt*it-mt*Tt*it-St*ot*yt+nt*Tt*yt+mt*ot*Mt-nt*gt*Mt)*Gt,et[2]=(st*Tt*it-St*ut*it+St*ot*ft-nt*Tt*ft-st*ot*Mt+nt*ut*Mt)*Gt,et[3]=(mt*ut*it-st*gt*it-mt*ot*ft+nt*gt*ft+st*ot*yt-nt*ut*yt)*Gt,et[4]=It*Gt,et[5]=(ht*Tt*it-xt*gt*it+xt*ot*yt-tt*Tt*yt-ht*ot*Mt+tt*gt*Mt)*Gt,et[6]=(xt*ut*it-at*Tt*it-xt*ot*ft+tt*Tt*ft+at*ot*Mt-tt*ut*Mt)*Gt,et[7]=(at*gt*it-ht*ut*it+ht*ot*ft-tt*gt*ft-at*ot*yt+tt*ut*yt)*Gt,et[8]=kt*Gt,et[9]=(xt*mt*it-ht*St*it-xt*nt*yt+tt*St*yt+ht*nt*Mt-tt*mt*Mt)*Gt,et[10]=(at*St*it-xt*st*it+xt*nt*ft-tt*St*ft-at*nt*Mt+tt*st*Mt)*Gt,et[11]=(ht*st*it-at*mt*it-ht*nt*ft+tt*mt*ft+at*nt*yt-tt*st*yt)*Gt,et[12]=Dt*Gt,et[13]=(ht*St*ot-xt*mt*ot+xt*nt*gt-tt*St*gt-ht*nt*Tt+tt*mt*Tt)*Gt,et[14]=(xt*st*ot-at*St*ot-xt*nt*ut+tt*St*ut+at*nt*Tt-tt*st*Tt)*Gt,et[15]=(at*mt*ot-ht*st*ot+ht*nt*ut-tt*mt*ut-at*nt*gt+tt*st*gt)*Gt,this}scale(et){const tt=this.elements,nt=et.x,ot=et.y,it=et.z;return tt[0]*=nt,tt[4]*=ot,tt[8]*=it,tt[1]*=nt,tt[5]*=ot,tt[9]*=it,tt[2]*=nt,tt[6]*=ot,tt[10]*=it,tt[3]*=nt,tt[7]*=ot,tt[11]*=it,this}getMaxScaleOnAxis(){const et=this.elements,tt=et[0]*et[0]+et[1]*et[1]+et[2]*et[2],nt=et[4]*et[4]+et[5]*et[5]+et[6]*et[6],ot=et[8]*et[8]+et[9]*et[9]+et[10]*et[10];return Math.sqrt(Math.max(tt,nt,ot))}makeTranslation(et,tt,nt){return et.isVector3?this.set(1,0,0,et.x,0,1,0,et.y,0,0,1,et.z,0,0,0,1):this.set(1,0,0,et,0,1,0,tt,0,0,1,nt,0,0,0,1),this}makeRotationX(et){const tt=Math.cos(et),nt=Math.sin(et);return this.set(1,0,0,0,0,tt,-nt,0,0,nt,tt,0,0,0,0,1),this}makeRotationY(et){const tt=Math.cos(et),nt=Math.sin(et);return this.set(tt,0,nt,0,0,1,0,0,-nt,0,tt,0,0,0,0,1),this}makeRotationZ(et){const tt=Math.cos(et),nt=Math.sin(et);return this.set(tt,-nt,0,0,nt,tt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(et,tt){const nt=Math.cos(tt),ot=Math.sin(tt),it=1-nt,at=et.x,st=et.y,ut=et.z,ft=it*at,ht=it*st;return this.set(ft*at+nt,ft*st-ot*ut,ft*ut+ot*st,0,ft*st+ot*ut,ht*st+nt,ht*ut-ot*at,0,ft*ut-ot*st,ht*ut+ot*at,it*ut*ut+nt,0,0,0,0,1),this}makeScale(et,tt,nt){return this.set(et,0,0,0,0,tt,0,0,0,0,nt,0,0,0,0,1),this}makeShear(et,tt,nt,ot,it,at){return this.set(1,nt,it,0,et,1,at,0,tt,ot,1,0,0,0,0,1),this}compose(et,tt,nt){const ot=this.elements,it=tt._x,at=tt._y,st=tt._z,ut=tt._w,ft=it+it,ht=at+at,mt=st+st,gt=it*ft,yt=it*ht,xt=it*mt,St=at*ht,Tt=at*mt,Mt=st*mt,Pt=ut*ft,It=ut*ht,kt=ut*mt,Dt=nt.x,Nt=nt.y,Gt=nt.z;return ot[0]=(1-(St+Mt))*Dt,ot[1]=(yt+kt)*Dt,ot[2]=(xt-It)*Dt,ot[3]=0,ot[4]=(yt-kt)*Nt,ot[5]=(1-(gt+Mt))*Nt,ot[6]=(Tt+Pt)*Nt,ot[7]=0,ot[8]=(xt+It)*Gt,ot[9]=(Tt-Pt)*Gt,ot[10]=(1-(gt+St))*Gt,ot[11]=0,ot[12]=et.x,ot[13]=et.y,ot[14]=et.z,ot[15]=1,this}decompose(et,tt,nt){const ot=this.elements;let it=_v1$5.set(ot[0],ot[1],ot[2]).length();const at=_v1$5.set(ot[4],ot[5],ot[6]).length(),st=_v1$5.set(ot[8],ot[9],ot[10]).length();this.determinant()<0&&(it=-it),et.x=ot[12],et.y=ot[13],et.z=ot[14],_m1$2.copy(this);const ft=1/it,ht=1/at,mt=1/st;return _m1$2.elements[0]*=ft,_m1$2.elements[1]*=ft,_m1$2.elements[2]*=ft,_m1$2.elements[4]*=ht,_m1$2.elements[5]*=ht,_m1$2.elements[6]*=ht,_m1$2.elements[8]*=mt,_m1$2.elements[9]*=mt,_m1$2.elements[10]*=mt,tt.setFromRotationMatrix(_m1$2),nt.x=it,nt.y=at,nt.z=st,this}makePerspective(et,tt,nt,ot,it,at,st=WebGLCoordinateSystem){const ut=this.elements,ft=2*it/(tt-et),ht=2*it/(nt-ot),mt=(tt+et)/(tt-et),gt=(nt+ot)/(nt-ot);let yt,xt;if(st===WebGLCoordinateSystem)yt=-(at+it)/(at-it),xt=-2*at*it/(at-it);else if(st===WebGPUCoordinateSystem)yt=-at/(at-it),xt=-at*it/(at-it);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+st);return ut[0]=ft,ut[4]=0,ut[8]=mt,ut[12]=0,ut[1]=0,ut[5]=ht,ut[9]=gt,ut[13]=0,ut[2]=0,ut[6]=0,ut[10]=yt,ut[14]=xt,ut[3]=0,ut[7]=0,ut[11]=-1,ut[15]=0,this}makeOrthographic(et,tt,nt,ot,it,at,st=WebGLCoordinateSystem){const ut=this.elements,ft=1/(tt-et),ht=1/(nt-ot),mt=1/(at-it),gt=(tt+et)*ft,yt=(nt+ot)*ht;let xt,St;if(st===WebGLCoordinateSystem)xt=(at+it)*mt,St=-2*mt;else if(st===WebGPUCoordinateSystem)xt=it*mt,St=-1*mt;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+st);return ut[0]=2*ft,ut[4]=0,ut[8]=0,ut[12]=-gt,ut[1]=0,ut[5]=2*ht,ut[9]=0,ut[13]=-yt,ut[2]=0,ut[6]=0,ut[10]=St,ut[14]=-xt,ut[3]=0,ut[7]=0,ut[11]=0,ut[15]=1,this}equals(et){const tt=this.elements,nt=et.elements;for(let ot=0;ot<16;ot++)if(tt[ot]!==nt[ot])return!1;return!0}fromArray(et,tt=0){for(let nt=0;nt<16;nt++)this.elements[nt]=et[nt+tt];return this}toArray(et=[],tt=0){const nt=this.elements;return et[tt]=nt[0],et[tt+1]=nt[1],et[tt+2]=nt[2],et[tt+3]=nt[3],et[tt+4]=nt[4],et[tt+5]=nt[5],et[tt+6]=nt[6],et[tt+7]=nt[7],et[tt+8]=nt[8],et[tt+9]=nt[9],et[tt+10]=nt[10],et[tt+11]=nt[11],et[tt+12]=nt[12],et[tt+13]=nt[13],et[tt+14]=nt[14],et[tt+15]=nt[15],et}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(et=0,tt=0,nt=0,ot=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=et,this._y=tt,this._z=nt,this._order=ot}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get order(){return this._order}set order(et){this._order=et,this._onChangeCallback()}set(et,tt,nt,ot=this._order){return this._x=et,this._y=tt,this._z=nt,this._order=ot,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(et){return this._x=et._x,this._y=et._y,this._z=et._z,this._order=et._order,this._onChangeCallback(),this}setFromRotationMatrix(et,tt=this._order,nt=!0){const ot=et.elements,it=ot[0],at=ot[4],st=ot[8],ut=ot[1],ft=ot[5],ht=ot[9],mt=ot[2],gt=ot[6],yt=ot[10];switch(tt){case"XYZ":this._y=Math.asin(clamp(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-ht,yt),this._z=Math.atan2(-at,it)):(this._x=Math.atan2(gt,ft),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(ht,-1,1)),Math.abs(ht)<.9999999?(this._y=Math.atan2(st,yt),this._z=Math.atan2(ut,ft)):(this._y=Math.atan2(-mt,it),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(gt,-1,1)),Math.abs(gt)<.9999999?(this._y=Math.atan2(-mt,yt),this._z=Math.atan2(-at,ft)):(this._y=0,this._z=Math.atan2(ut,it));break;case"ZYX":this._y=Math.asin(-clamp(mt,-1,1)),Math.abs(mt)<.9999999?(this._x=Math.atan2(gt,yt),this._z=Math.atan2(ut,it)):(this._x=0,this._z=Math.atan2(-at,ft));break;case"YZX":this._z=Math.asin(clamp(ut,-1,1)),Math.abs(ut)<.9999999?(this._x=Math.atan2(-ht,ft),this._y=Math.atan2(-mt,it)):(this._x=0,this._y=Math.atan2(st,yt));break;case"XZY":this._z=Math.asin(-clamp(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(gt,ft),this._y=Math.atan2(st,it)):(this._x=Math.atan2(-ht,yt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+tt)}return this._order=tt,nt===!0&&this._onChangeCallback(),this}setFromQuaternion(et,tt,nt){return _matrix.makeRotationFromQuaternion(et),this.setFromRotationMatrix(_matrix,tt,nt)}setFromVector3(et,tt=this._order){return this.set(et.x,et.y,et.z,tt)}reorder(et){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,et)}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._order===this._order}fromArray(et){return this._x=et[0],this._y=et[1],this._z=et[2],et[3]!==void 0&&(this._order=et[3]),this._onChangeCallback(),this}toArray(et=[],tt=0){return et[tt]=this._x,et[tt+1]=this._y,et[tt+2]=this._z,et[tt+3]=this._order,et}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(et){this.mask=(1<<et|0)>>>0}enable(et){this.mask|=1<<et|0}enableAll(){this.mask=-1}toggle(et){this.mask^=1<<et|0}disable(et){this.mask&=~(1<<et|0)}disableAll(){this.mask=0}test(et){return(this.mask&et.mask)!==0}isEnabled(et){return(this.mask&(1<<et|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const et=new Vector3,tt=new Euler,nt=new Quaternion,ot=new Vector3(1,1,1);function it(){nt.setFromEuler(tt,!1)}function at(){tt.setFromQuaternion(nt,void 0,!1)}tt._onChange(it),nt._onChange(at),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:et},rotation:{configurable:!0,enumerable:!0,value:tt},quaternion:{configurable:!0,enumerable:!0,value:nt},scale:{configurable:!0,enumerable:!0,value:ot},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(et){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(et),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(et){return this.quaternion.premultiply(et),this}setRotationFromAxisAngle(et,tt){this.quaternion.setFromAxisAngle(et,tt)}setRotationFromEuler(et){this.quaternion.setFromEuler(et,!0)}setRotationFromMatrix(et){this.quaternion.setFromRotationMatrix(et)}setRotationFromQuaternion(et){this.quaternion.copy(et)}rotateOnAxis(et,tt){return _q1.setFromAxisAngle(et,tt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(et,tt){return _q1.setFromAxisAngle(et,tt),this.quaternion.premultiply(_q1),this}rotateX(et){return this.rotateOnAxis(_xAxis,et)}rotateY(et){return this.rotateOnAxis(_yAxis,et)}rotateZ(et){return this.rotateOnAxis(_zAxis,et)}translateOnAxis(et,tt){return _v1$4.copy(et).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(tt)),this}translateX(et){return this.translateOnAxis(_xAxis,et)}translateY(et){return this.translateOnAxis(_yAxis,et)}translateZ(et){return this.translateOnAxis(_zAxis,et)}localToWorld(et){return this.updateWorldMatrix(!0,!1),et.applyMatrix4(this.matrixWorld)}worldToLocal(et){return this.updateWorldMatrix(!0,!1),et.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(et,tt,nt){et.isVector3?_target.copy(et):_target.set(et,tt,nt);const ot=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),ot&&(_m1$1.extractRotation(ot.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(et){if(arguments.length>1){for(let tt=0;tt<arguments.length;tt++)this.add(arguments[tt]);return this}return et===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",et),this):(et&&et.isObject3D?(et.parent!==null&&et.parent.remove(et),et.parent=this,this.children.push(et),et.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",et),this)}remove(et){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.remove(arguments[nt]);return this}const tt=this.children.indexOf(et);return tt!==-1&&(et.parent=null,this.children.splice(tt,1),et.dispatchEvent(_removedEvent)),this}removeFromParent(){const et=this.parent;return et!==null&&et.remove(this),this}clear(){return this.remove(...this.children)}attach(et){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),et.parent!==null&&(et.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(et.parent.matrixWorld)),et.applyMatrix4(_m1$1),this.add(et),et.updateWorldMatrix(!1,!0),this}getObjectById(et){return this.getObjectByProperty("id",et)}getObjectByName(et){return this.getObjectByProperty("name",et)}getObjectByProperty(et,tt){if(this[et]===tt)return this;for(let nt=0,ot=this.children.length;nt<ot;nt++){const at=this.children[nt].getObjectByProperty(et,tt);if(at!==void 0)return at}}getObjectsByProperty(et,tt){let nt=[];this[et]===tt&&nt.push(this);for(let ot=0,it=this.children.length;ot<it;ot++){const at=this.children[ot].getObjectsByProperty(et,tt);at.length>0&&(nt=nt.concat(at))}return nt}getWorldPosition(et){return this.updateWorldMatrix(!0,!1),et.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,et,_scale$2),et}getWorldScale(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,et),et}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const tt=this.matrixWorld.elements;return et.set(tt[8],tt[9],tt[10]).normalize()}raycast(){}traverse(et){et(this);const tt=this.children;for(let nt=0,ot=tt.length;nt<ot;nt++)tt[nt].traverse(et)}traverseVisible(et){if(this.visible===!1)return;et(this);const tt=this.children;for(let nt=0,ot=tt.length;nt<ot;nt++)tt[nt].traverseVisible(et)}traverseAncestors(et){const tt=this.parent;tt!==null&&(et(tt),tt.traverseAncestors(et))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(et){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||et)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,et=!0);const tt=this.children;for(let nt=0,ot=tt.length;nt<ot;nt++){const it=tt[nt];(it.matrixWorldAutoUpdate===!0||et===!0)&&it.updateMatrixWorld(et)}}updateWorldMatrix(et,tt){const nt=this.parent;if(et===!0&&nt!==null&&nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),tt===!0){const ot=this.children;for(let it=0,at=ot.length;it<at;it++){const st=ot[it];st.matrixWorldAutoUpdate===!0&&st.updateWorldMatrix(!1,!0)}}}toJSON(et){const tt=et===void 0||typeof et=="string",nt={};tt&&(et={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},nt.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const ot={};ot.uuid=this.uuid,ot.type=this.type,this.name!==""&&(ot.name=this.name),this.castShadow===!0&&(ot.castShadow=!0),this.receiveShadow===!0&&(ot.receiveShadow=!0),this.visible===!1&&(ot.visible=!1),this.frustumCulled===!1&&(ot.frustumCulled=!1),this.renderOrder!==0&&(ot.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(ot.userData=this.userData),ot.layers=this.layers.mask,ot.matrix=this.matrix.toArray(),ot.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(ot.matrixAutoUpdate=!1),this.isInstancedMesh&&(ot.type="InstancedMesh",ot.count=this.count,ot.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(ot.instanceColor=this.instanceColor.toJSON()));function it(st,ut){return st[ut.uuid]===void 0&&(st[ut.uuid]=ut.toJSON(et)),ut.uuid}if(this.isScene)this.background&&(this.background.isColor?ot.background=this.background.toJSON():this.background.isTexture&&(ot.background=this.background.toJSON(et).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(ot.environment=this.environment.toJSON(et).uuid);else if(this.isMesh||this.isLine||this.isPoints){ot.geometry=it(et.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const ut=st.shapes;if(Array.isArray(ut))for(let ft=0,ht=ut.length;ft<ht;ft++){const mt=ut[ft];it(et.shapes,mt)}else it(et.shapes,ut)}}if(this.isSkinnedMesh&&(ot.bindMode=this.bindMode,ot.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(it(et.skeletons,this.skeleton),ot.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let ut=0,ft=this.material.length;ut<ft;ut++)st.push(it(et.materials,this.material[ut]));ot.material=st}else ot.material=it(et.materials,this.material);if(this.children.length>0){ot.children=[];for(let st=0;st<this.children.length;st++)ot.children.push(this.children[st].toJSON(et).object)}if(this.animations.length>0){ot.animations=[];for(let st=0;st<this.animations.length;st++){const ut=this.animations[st];ot.animations.push(it(et.animations,ut))}}if(tt){const st=at(et.geometries),ut=at(et.materials),ft=at(et.textures),ht=at(et.images),mt=at(et.shapes),gt=at(et.skeletons),yt=at(et.animations),xt=at(et.nodes);st.length>0&&(nt.geometries=st),ut.length>0&&(nt.materials=ut),ft.length>0&&(nt.textures=ft),ht.length>0&&(nt.images=ht),mt.length>0&&(nt.shapes=mt),gt.length>0&&(nt.skeletons=gt),yt.length>0&&(nt.animations=yt),xt.length>0&&(nt.nodes=xt)}return nt.object=ot,nt;function at(st){const ut=[];for(const ft in st){const ht=st[ft];delete ht.metadata,ut.push(ht)}return ut}}clone(et){return new this.constructor().copy(this,et)}copy(et,tt=!0){if(this.name=et.name,this.up.copy(et.up),this.position.copy(et.position),this.rotation.order=et.rotation.order,this.quaternion.copy(et.quaternion),this.scale.copy(et.scale),this.matrix.copy(et.matrix),this.matrixWorld.copy(et.matrixWorld),this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrixWorldNeedsUpdate=et.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=et.matrixWorldAutoUpdate,this.layers.mask=et.layers.mask,this.visible=et.visible,this.castShadow=et.castShadow,this.receiveShadow=et.receiveShadow,this.frustumCulled=et.frustumCulled,this.renderOrder=et.renderOrder,this.animations=et.animations.slice(),this.userData=JSON.parse(JSON.stringify(et.userData)),tt===!0)for(let nt=0;nt<et.children.length;nt++){const ot=et.children[nt];this.add(ot.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(et=new Vector3,tt=new Vector3,nt=new Vector3){this.a=et,this.b=tt,this.c=nt}static getNormal(et,tt,nt,ot){ot.subVectors(nt,tt),_v0$1.subVectors(et,tt),ot.cross(_v0$1);const it=ot.lengthSq();return it>0?ot.multiplyScalar(1/Math.sqrt(it)):ot.set(0,0,0)}static getBarycoord(et,tt,nt,ot,it){_v0$1.subVectors(ot,tt),_v1$3.subVectors(nt,tt),_v2$2.subVectors(et,tt);const at=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),ut=_v0$1.dot(_v2$2),ft=_v1$3.dot(_v1$3),ht=_v1$3.dot(_v2$2),mt=at*ft-st*st;if(mt===0)return it.set(-2,-1,-1);const gt=1/mt,yt=(ft*ut-st*ht)*gt,xt=(at*ht-st*ut)*gt;return it.set(1-yt-xt,xt,yt)}static containsPoint(et,tt,nt,ot){return this.getBarycoord(et,tt,nt,ot,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(et,tt,nt,ot,it,at,st,ut){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(et,tt,nt,ot,it,at,st,ut)}static getInterpolation(et,tt,nt,ot,it,at,st,ut){return this.getBarycoord(et,tt,nt,ot,_v3$1),ut.setScalar(0),ut.addScaledVector(it,_v3$1.x),ut.addScaledVector(at,_v3$1.y),ut.addScaledVector(st,_v3$1.z),ut}static isFrontFacing(et,tt,nt,ot){return _v0$1.subVectors(nt,tt),_v1$3.subVectors(et,tt),_v0$1.cross(_v1$3).dot(ot)<0}set(et,tt,nt){return this.a.copy(et),this.b.copy(tt),this.c.copy(nt),this}setFromPointsAndIndices(et,tt,nt,ot){return this.a.copy(et[tt]),this.b.copy(et[nt]),this.c.copy(et[ot]),this}setFromAttributeAndIndices(et,tt,nt,ot){return this.a.fromBufferAttribute(et,tt),this.b.fromBufferAttribute(et,nt),this.c.fromBufferAttribute(et,ot),this}clone(){return new this.constructor().copy(this)}copy(et){return this.a.copy(et.a),this.b.copy(et.b),this.c.copy(et.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(et){return et.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(et){return Triangle.getNormal(this.a,this.b,this.c,et)}getPlane(et){return et.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(et,tt){return Triangle.getBarycoord(et,this.a,this.b,this.c,tt)}getUV(et,tt,nt,ot,it){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(et,this.a,this.b,this.c,tt,nt,ot,it)}getInterpolation(et,tt,nt,ot,it){return Triangle.getInterpolation(et,this.a,this.b,this.c,tt,nt,ot,it)}containsPoint(et){return Triangle.containsPoint(et,this.a,this.b,this.c)}isFrontFacing(et){return Triangle.isFrontFacing(this.a,this.b,this.c,et)}intersectsBox(et){return et.intersectsTriangle(this)}closestPointToPoint(et,tt){const nt=this.a,ot=this.b,it=this.c;let at,st;_vab.subVectors(ot,nt),_vac.subVectors(it,nt),_vap.subVectors(et,nt);const ut=_vab.dot(_vap),ft=_vac.dot(_vap);if(ut<=0&&ft<=0)return tt.copy(nt);_vbp.subVectors(et,ot);const ht=_vab.dot(_vbp),mt=_vac.dot(_vbp);if(ht>=0&&mt<=ht)return tt.copy(ot);const gt=ut*mt-ht*ft;if(gt<=0&&ut>=0&&ht<=0)return at=ut/(ut-ht),tt.copy(nt).addScaledVector(_vab,at);_vcp.subVectors(et,it);const yt=_vab.dot(_vcp),xt=_vac.dot(_vcp);if(xt>=0&&yt<=xt)return tt.copy(it);const St=yt*ft-ut*xt;if(St<=0&&ft>=0&&xt<=0)return st=ft/(ft-xt),tt.copy(nt).addScaledVector(_vac,st);const Tt=ht*xt-yt*mt;if(Tt<=0&&mt-ht>=0&&yt-xt>=0)return _vbc.subVectors(it,ot),st=(mt-ht)/(mt-ht+(yt-xt)),tt.copy(ot).addScaledVector(_vbc,st);const Mt=1/(Tt+St+gt);return at=St*Mt,st=gt*Mt,tt.copy(nt).addScaledVector(_vab,at).addScaledVector(_vac,st)}equals(et){return et.a.equals(this.a)&&et.b.equals(this.b)&&et.c.equals(this.c)}}let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(et){this._alphaTest>0!=et>0&&this.version++,this._alphaTest=et}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(et){if(et!==void 0)for(const tt in et){const nt=et[tt];if(nt===void 0){console.warn(`THREE.Material: parameter '${tt}' has value of undefined.`);continue}const ot=this[tt];if(ot===void 0){console.warn(`THREE.Material: '${tt}' is not a property of THREE.${this.type}.`);continue}ot&&ot.isColor?ot.set(nt):ot&&ot.isVector3&&nt&&nt.isVector3?ot.copy(nt):this[tt]=nt}}toJSON(et){const tt=et===void 0||typeof et=="string";tt&&(et={textures:{},images:{}});const nt={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.color&&this.color.isColor&&(nt.color=this.color.getHex()),this.roughness!==void 0&&(nt.roughness=this.roughness),this.metalness!==void 0&&(nt.metalness=this.metalness),this.sheen!==void 0&&(nt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(nt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(nt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(nt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(nt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(nt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(nt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(nt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(nt.shininess=this.shininess),this.clearcoat!==void 0&&(nt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(nt.clearcoatMap=this.clearcoatMap.toJSON(et).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(nt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(et).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(nt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(et).uuid,nt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(nt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(nt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(nt.iridescenceMap=this.iridescenceMap.toJSON(et).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(nt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(et).uuid),this.anisotropy!==void 0&&(nt.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(nt.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(nt.anisotropyMap=this.anisotropyMap.toJSON(et).uuid),this.map&&this.map.isTexture&&(nt.map=this.map.toJSON(et).uuid),this.matcap&&this.matcap.isTexture&&(nt.matcap=this.matcap.toJSON(et).uuid),this.alphaMap&&this.alphaMap.isTexture&&(nt.alphaMap=this.alphaMap.toJSON(et).uuid),this.lightMap&&this.lightMap.isTexture&&(nt.lightMap=this.lightMap.toJSON(et).uuid,nt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(nt.aoMap=this.aoMap.toJSON(et).uuid,nt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(nt.bumpMap=this.bumpMap.toJSON(et).uuid,nt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(nt.normalMap=this.normalMap.toJSON(et).uuid,nt.normalMapType=this.normalMapType,nt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(nt.displacementMap=this.displacementMap.toJSON(et).uuid,nt.displacementScale=this.displacementScale,nt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(nt.roughnessMap=this.roughnessMap.toJSON(et).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(nt.metalnessMap=this.metalnessMap.toJSON(et).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(nt.emissiveMap=this.emissiveMap.toJSON(et).uuid),this.specularMap&&this.specularMap.isTexture&&(nt.specularMap=this.specularMap.toJSON(et).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(nt.specularIntensityMap=this.specularIntensityMap.toJSON(et).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(nt.specularColorMap=this.specularColorMap.toJSON(et).uuid),this.envMap&&this.envMap.isTexture&&(nt.envMap=this.envMap.toJSON(et).uuid,this.combine!==void 0&&(nt.combine=this.combine)),this.envMapIntensity!==void 0&&(nt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(nt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(nt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(nt.gradientMap=this.gradientMap.toJSON(et).uuid),this.transmission!==void 0&&(nt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(nt.transmissionMap=this.transmissionMap.toJSON(et).uuid),this.thickness!==void 0&&(nt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(nt.thicknessMap=this.thicknessMap.toJSON(et).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(nt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(nt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(nt.size=this.size),this.shadowSide!==null&&(nt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(nt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(nt.blending=this.blending),this.side!==FrontSide&&(nt.side=this.side),this.vertexColors===!0&&(nt.vertexColors=!0),this.opacity<1&&(nt.opacity=this.opacity),this.transparent===!0&&(nt.transparent=!0),nt.depthFunc=this.depthFunc,nt.depthTest=this.depthTest,nt.depthWrite=this.depthWrite,nt.colorWrite=this.colorWrite,nt.stencilWrite=this.stencilWrite,nt.stencilWriteMask=this.stencilWriteMask,nt.stencilFunc=this.stencilFunc,nt.stencilRef=this.stencilRef,nt.stencilFuncMask=this.stencilFuncMask,nt.stencilFail=this.stencilFail,nt.stencilZFail=this.stencilZFail,nt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(nt.rotation=this.rotation),this.polygonOffset===!0&&(nt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(nt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(nt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(nt.linewidth=this.linewidth),this.dashSize!==void 0&&(nt.dashSize=this.dashSize),this.gapSize!==void 0&&(nt.gapSize=this.gapSize),this.scale!==void 0&&(nt.scale=this.scale),this.dithering===!0&&(nt.dithering=!0),this.alphaTest>0&&(nt.alphaTest=this.alphaTest),this.alphaHash===!0&&(nt.alphaHash=!0),this.alphaToCoverage===!0&&(nt.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(nt.premultipliedAlpha=!0),this.forceSinglePass===!0&&(nt.forceSinglePass=!0),this.wireframe===!0&&(nt.wireframe=!0),this.wireframeLinewidth>1&&(nt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(nt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(nt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(nt.flatShading=!0),this.visible===!1&&(nt.visible=!1),this.toneMapped===!1&&(nt.toneMapped=!1),this.fog===!1&&(nt.fog=!1),Object.keys(this.userData).length>0&&(nt.userData=this.userData);function ot(it){const at=[];for(const st in it){const ut=it[st];delete ut.metadata,at.push(ut)}return at}if(tt){const it=ot(et.textures),at=ot(et.images);it.length>0&&(nt.textures=it),at.length>0&&(nt.images=at)}return nt}clone(){return new this.constructor().copy(this)}copy(et){this.name=et.name,this.blending=et.blending,this.side=et.side,this.vertexColors=et.vertexColors,this.opacity=et.opacity,this.transparent=et.transparent,this.blendSrc=et.blendSrc,this.blendDst=et.blendDst,this.blendEquation=et.blendEquation,this.blendSrcAlpha=et.blendSrcAlpha,this.blendDstAlpha=et.blendDstAlpha,this.blendEquationAlpha=et.blendEquationAlpha,this.depthFunc=et.depthFunc,this.depthTest=et.depthTest,this.depthWrite=et.depthWrite,this.stencilWriteMask=et.stencilWriteMask,this.stencilFunc=et.stencilFunc,this.stencilRef=et.stencilRef,this.stencilFuncMask=et.stencilFuncMask,this.stencilFail=et.stencilFail,this.stencilZFail=et.stencilZFail,this.stencilZPass=et.stencilZPass,this.stencilWrite=et.stencilWrite;const tt=et.clippingPlanes;let nt=null;if(tt!==null){const ot=tt.length;nt=new Array(ot);for(let it=0;it!==ot;++it)nt[it]=tt[it].clone()}return this.clippingPlanes=nt,this.clipIntersection=et.clipIntersection,this.clipShadows=et.clipShadows,this.shadowSide=et.shadowSide,this.colorWrite=et.colorWrite,this.precision=et.precision,this.polygonOffset=et.polygonOffset,this.polygonOffsetFactor=et.polygonOffsetFactor,this.polygonOffsetUnits=et.polygonOffsetUnits,this.dithering=et.dithering,this.alphaTest=et.alphaTest,this.alphaHash=et.alphaHash,this.alphaToCoverage=et.alphaToCoverage,this.premultipliedAlpha=et.premultipliedAlpha,this.forceSinglePass=et.forceSinglePass,this.visible=et.visible,this.toneMapped=et.toneMapped,this.userData=JSON.parse(JSON.stringify(et.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(et){et===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(rt,et,tt){return tt<0&&(tt+=1),tt>1&&(tt-=1),tt<1/6?rt+(et-rt)*6*tt:tt<1/2?et:tt<2/3?rt+(et-rt)*6*(2/3-tt):rt}class Color{constructor(et,tt,nt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(et,tt,nt)}set(et,tt,nt){if(tt===void 0&&nt===void 0){const ot=et;ot&&ot.isColor?this.copy(ot):typeof ot=="number"?this.setHex(ot):typeof ot=="string"&&this.setStyle(ot)}else this.setRGB(et,tt,nt);return this}setScalar(et){return this.r=et,this.g=et,this.b=et,this}setHex(et,tt=SRGBColorSpace$1){return et=Math.floor(et),this.r=(et>>16&255)/255,this.g=(et>>8&255)/255,this.b=(et&255)/255,ColorManagement.toWorkingColorSpace(this,tt),this}setRGB(et,tt,nt,ot=ColorManagement.workingColorSpace){return this.r=et,this.g=tt,this.b=nt,ColorManagement.toWorkingColorSpace(this,ot),this}setHSL(et,tt,nt,ot=ColorManagement.workingColorSpace){if(et=euclideanModulo(et,1),tt=clamp(tt,0,1),nt=clamp(nt,0,1),tt===0)this.r=this.g=this.b=nt;else{const it=nt<=.5?nt*(1+tt):nt+tt-nt*tt,at=2*nt-it;this.r=hue2rgb(at,it,et+1/3),this.g=hue2rgb(at,it,et),this.b=hue2rgb(at,it,et-1/3)}return ColorManagement.toWorkingColorSpace(this,ot),this}setStyle(et,tt=SRGBColorSpace$1){function nt(it){it!==void 0&&parseFloat(it)<1&&console.warn("THREE.Color: Alpha component of "+et+" will be ignored.")}let ot;if(ot=/^(\w+)\(([^\)]*)\)/.exec(et)){let it;const at=ot[1],st=ot[2];switch(at){case"rgb":case"rgba":if(it=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return nt(it[4]),this.setRGB(Math.min(255,parseInt(it[1],10))/255,Math.min(255,parseInt(it[2],10))/255,Math.min(255,parseInt(it[3],10))/255,tt);if(it=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return nt(it[4]),this.setRGB(Math.min(100,parseInt(it[1],10))/100,Math.min(100,parseInt(it[2],10))/100,Math.min(100,parseInt(it[3],10))/100,tt);break;case"hsl":case"hsla":if(it=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return nt(it[4]),this.setHSL(parseFloat(it[1])/360,parseFloat(it[2])/100,parseFloat(it[3])/100,tt);break;default:console.warn("THREE.Color: Unknown color model "+et)}}else if(ot=/^\#([A-Fa-f\d]+)$/.exec(et)){const it=ot[1],at=it.length;if(at===3)return this.setRGB(parseInt(it.charAt(0),16)/15,parseInt(it.charAt(1),16)/15,parseInt(it.charAt(2),16)/15,tt);if(at===6)return this.setHex(parseInt(it,16),tt);console.warn("THREE.Color: Invalid hex color "+et)}else if(et&&et.length>0)return this.setColorName(et,tt);return this}setColorName(et,tt=SRGBColorSpace$1){const nt=_colorKeywords[et.toLowerCase()];return nt!==void 0?this.setHex(nt,tt):console.warn("THREE.Color: Unknown color "+et),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(et){return this.r=et.r,this.g=et.g,this.b=et.b,this}copySRGBToLinear(et){return this.r=SRGBToLinear(et.r),this.g=SRGBToLinear(et.g),this.b=SRGBToLinear(et.b),this}copyLinearToSRGB(et){return this.r=LinearToSRGB(et.r),this.g=LinearToSRGB(et.g),this.b=LinearToSRGB(et.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(et=SRGBColorSpace$1){return ColorManagement.fromWorkingColorSpace(_color.copy(this),et),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(et=SRGBColorSpace$1){return("000000"+this.getHex(et).toString(16)).slice(-6)}getHSL(et,tt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),tt);const nt=_color.r,ot=_color.g,it=_color.b,at=Math.max(nt,ot,it),st=Math.min(nt,ot,it);let ut,ft;const ht=(st+at)/2;if(st===at)ut=0,ft=0;else{const mt=at-st;switch(ft=ht<=.5?mt/(at+st):mt/(2-at-st),at){case nt:ut=(ot-it)/mt+(ot<it?6:0);break;case ot:ut=(it-nt)/mt+2;break;case it:ut=(nt-ot)/mt+4;break}ut/=6}return et.h=ut,et.s=ft,et.l=ht,et}getRGB(et,tt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),tt),et.r=_color.r,et.g=_color.g,et.b=_color.b,et}getStyle(et=SRGBColorSpace$1){ColorManagement.fromWorkingColorSpace(_color.copy(this),et);const tt=_color.r,nt=_color.g,ot=_color.b;return et!==SRGBColorSpace$1?`color(${et} ${tt.toFixed(3)} ${nt.toFixed(3)} ${ot.toFixed(3)})`:`rgb(${Math.round(tt*255)},${Math.round(nt*255)},${Math.round(ot*255)})`}offsetHSL(et,tt,nt){return this.getHSL(_hslA),this.setHSL(_hslA.h+et,_hslA.s+tt,_hslA.l+nt)}add(et){return this.r+=et.r,this.g+=et.g,this.b+=et.b,this}addColors(et,tt){return this.r=et.r+tt.r,this.g=et.g+tt.g,this.b=et.b+tt.b,this}addScalar(et){return this.r+=et,this.g+=et,this.b+=et,this}sub(et){return this.r=Math.max(0,this.r-et.r),this.g=Math.max(0,this.g-et.g),this.b=Math.max(0,this.b-et.b),this}multiply(et){return this.r*=et.r,this.g*=et.g,this.b*=et.b,this}multiplyScalar(et){return this.r*=et,this.g*=et,this.b*=et,this}lerp(et,tt){return this.r+=(et.r-this.r)*tt,this.g+=(et.g-this.g)*tt,this.b+=(et.b-this.b)*tt,this}lerpColors(et,tt,nt){return this.r=et.r+(tt.r-et.r)*nt,this.g=et.g+(tt.g-et.g)*nt,this.b=et.b+(tt.b-et.b)*nt,this}lerpHSL(et,tt){this.getHSL(_hslA),et.getHSL(_hslB);const nt=lerp(_hslA.h,_hslB.h,tt),ot=lerp(_hslA.s,_hslB.s,tt),it=lerp(_hslA.l,_hslB.l,tt);return this.setHSL(nt,ot,it),this}setFromVector3(et){return this.r=et.x,this.g=et.y,this.b=et.z,this}applyMatrix3(et){const tt=this.r,nt=this.g,ot=this.b,it=et.elements;return this.r=it[0]*tt+it[3]*nt+it[6]*ot,this.g=it[1]*tt+it[4]*nt+it[7]*ot,this.b=it[2]*tt+it[5]*nt+it[8]*ot,this}equals(et){return et.r===this.r&&et.g===this.g&&et.b===this.b}fromArray(et,tt=0){return this.r=et[tt],this.g=et[tt+1],this.b=et[tt+2],this}toArray(et=[],tt=0){return et[tt]=this.r,et[tt+1]=this.g,et[tt+2]=this.b,et}fromBufferAttribute(et,tt){return this.r=et.getX(tt),this.g=et.getY(tt),this.b=et.getZ(tt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor(et){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}const _tables=_generateTables();function _generateTables(){const rt=new ArrayBuffer(4),et=new Float32Array(rt),tt=new Uint32Array(rt),nt=new Uint32Array(512),ot=new Uint32Array(512);for(let ut=0;ut<256;++ut){const ft=ut-127;ft<-27?(nt[ut]=0,nt[ut|256]=32768,ot[ut]=24,ot[ut|256]=24):ft<-14?(nt[ut]=1024>>-ft-14,nt[ut|256]=1024>>-ft-14|32768,ot[ut]=-ft-1,ot[ut|256]=-ft-1):ft<=15?(nt[ut]=ft+15<<10,nt[ut|256]=ft+15<<10|32768,ot[ut]=13,ot[ut|256]=13):ft<128?(nt[ut]=31744,nt[ut|256]=64512,ot[ut]=24,ot[ut|256]=24):(nt[ut]=31744,nt[ut|256]=64512,ot[ut]=13,ot[ut|256]=13)}const it=new Uint32Array(2048),at=new Uint32Array(64),st=new Uint32Array(64);for(let ut=1;ut<1024;++ut){let ft=ut<<13,ht=0;for(;!(ft&8388608);)ft<<=1,ht-=8388608;ft&=-8388609,ht+=947912704,it[ut]=ft|ht}for(let ut=1024;ut<2048;++ut)it[ut]=939524096+(ut-1024<<13);for(let ut=1;ut<31;++ut)at[ut]=ut<<23;at[31]=1199570944,at[32]=2147483648;for(let ut=33;ut<63;++ut)at[ut]=2147483648+(ut-32<<23);at[63]=3347054592;for(let ut=1;ut<64;++ut)ut!==32&&(st[ut]=1024);return{floatView:et,uint32View:tt,baseTable:nt,shiftTable:ot,mantissaTable:it,exponentTable:at,offsetTable:st}}function toHalfFloat(rt){Math.abs(rt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),rt=clamp(rt,-65504,65504),_tables.floatView[0]=rt;const et=_tables.uint32View[0],tt=et>>23&511;return _tables.baseTable[tt]+((et&8388607)>>_tables.shiftTable[tt])}function fromHalfFloat(rt){const et=rt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[et]+(rt&1023)]+_tables.exponentTable[et],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(et,tt,nt=!1){if(Array.isArray(et))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=et,this.itemSize=tt,this.count=et!==void 0?et.length/tt:0,this.normalized=nt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.name=et.name,this.array=new et.array.constructor(et.array),this.itemSize=et.itemSize,this.count=et.count,this.normalized=et.normalized,this.usage=et.usage,this.gpuType=et.gpuType,this}copyAt(et,tt,nt){et*=this.itemSize,nt*=tt.itemSize;for(let ot=0,it=this.itemSize;ot<it;ot++)this.array[et+ot]=tt.array[nt+ot];return this}copyArray(et){return this.array.set(et),this}applyMatrix3(et){if(this.itemSize===2)for(let tt=0,nt=this.count;tt<nt;tt++)_vector2$1.fromBufferAttribute(this,tt),_vector2$1.applyMatrix3(et),this.setXY(tt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let tt=0,nt=this.count;tt<nt;tt++)_vector$8.fromBufferAttribute(this,tt),_vector$8.applyMatrix3(et),this.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(et){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$8.fromBufferAttribute(this,tt),_vector$8.applyMatrix4(et),this.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(et){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$8.fromBufferAttribute(this,tt),_vector$8.applyNormalMatrix(et),this.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(et){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$8.fromBufferAttribute(this,tt),_vector$8.transformDirection(et),this.setXYZ(tt,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(et,tt=0){return this.array.set(et,tt),this}getComponent(et,tt){let nt=this.array[et*this.itemSize+tt];return this.normalized&&(nt=denormalize(nt,this.array)),nt}setComponent(et,tt,nt){return this.normalized&&(nt=normalize(nt,this.array)),this.array[et*this.itemSize+tt]=nt,this}getX(et){let tt=this.array[et*this.itemSize];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize]=tt,this}getY(et){let tt=this.array[et*this.itemSize+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+1]=tt,this}getZ(et){let tt=this.array[et*this.itemSize+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+2]=tt,this}getW(et){let tt=this.array[et*this.itemSize+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+3]=tt,this}setXY(et,tt,nt){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[et+0]=tt,this.array[et+1]=nt,this}setXYZ(et,tt,nt,ot){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array)),this.array[et+0]=tt,this.array[et+1]=nt,this.array[et+2]=ot,this}setXYZW(et,tt,nt,ot,it){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array),it=normalize(it,this.array)),this.array[et+0]=tt,this.array[et+1]=nt,this.array[et+2]=ot,this.array[et+3]=it,this}onUpload(et){return this.onUploadCallback=et,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const et={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(et.name=this.name),this.usage!==StaticDrawUsage&&(et.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(et.updateRange=this.updateRange),et}}class Int8BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Int8Array(et),tt,nt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Uint8Array(et),tt,nt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Uint8ClampedArray(et),tt,nt)}}class Int16BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Int16Array(et),tt,nt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Uint16Array(et),tt,nt)}}class Int32BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Int32Array(et),tt,nt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Uint32Array(et),tt,nt)}}class Float16BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Uint16Array(et),tt,nt),this.isFloat16BufferAttribute=!0}getX(et){let tt=fromHalfFloat(this.array[et*this.itemSize]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setX(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize]=toHalfFloat(tt),this}getY(et){let tt=fromHalfFloat(this.array[et*this.itemSize+1]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setY(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+1]=toHalfFloat(tt),this}getZ(et){let tt=fromHalfFloat(this.array[et*this.itemSize+2]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setZ(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+2]=toHalfFloat(tt),this}getW(et){let tt=fromHalfFloat(this.array[et*this.itemSize+3]);return this.normalized&&(tt=denormalize(tt,this.array)),tt}setW(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.array[et*this.itemSize+3]=toHalfFloat(tt),this}setXY(et,tt,nt){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.array[et+0]=toHalfFloat(tt),this.array[et+1]=toHalfFloat(nt),this}setXYZ(et,tt,nt,ot){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array)),this.array[et+0]=toHalfFloat(tt),this.array[et+1]=toHalfFloat(nt),this.array[et+2]=toHalfFloat(ot),this}setXYZW(et,tt,nt,ot,it){return et*=this.itemSize,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array),it=normalize(it,this.array)),this.array[et+0]=toHalfFloat(tt),this.array[et+1]=toHalfFloat(nt),this.array[et+2]=toHalfFloat(ot),this.array[et+3]=toHalfFloat(it),this}}class Float32BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Float32Array(et),tt,nt)}}class Float64BufferAttribute extends BufferAttribute{constructor(et,tt,nt){super(new Float64Array(et),tt,nt)}}let _id$2=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(et){return Array.isArray(et)?this.index=new(arrayNeedsUint32(et)?Uint32BufferAttribute:Uint16BufferAttribute)(et,1):this.index=et,this}getAttribute(et){return this.attributes[et]}setAttribute(et,tt){return this.attributes[et]=tt,this}deleteAttribute(et){return delete this.attributes[et],this}hasAttribute(et){return this.attributes[et]!==void 0}addGroup(et,tt,nt=0){this.groups.push({start:et,count:tt,materialIndex:nt})}clearGroups(){this.groups=[]}setDrawRange(et,tt){this.drawRange.start=et,this.drawRange.count=tt}applyMatrix4(et){const tt=this.attributes.position;tt!==void 0&&(tt.applyMatrix4(et),tt.needsUpdate=!0);const nt=this.attributes.normal;if(nt!==void 0){const it=new Matrix3().getNormalMatrix(et);nt.applyNormalMatrix(it),nt.needsUpdate=!0}const ot=this.attributes.tangent;return ot!==void 0&&(ot.transformDirection(et),ot.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(et){return _m1.makeRotationFromQuaternion(et),this.applyMatrix4(_m1),this}rotateX(et){return _m1.makeRotationX(et),this.applyMatrix4(_m1),this}rotateY(et){return _m1.makeRotationY(et),this.applyMatrix4(_m1),this}rotateZ(et){return _m1.makeRotationZ(et),this.applyMatrix4(_m1),this}translate(et,tt,nt){return _m1.makeTranslation(et,tt,nt),this.applyMatrix4(_m1),this}scale(et,tt,nt){return _m1.makeScale(et,tt,nt),this.applyMatrix4(_m1),this}lookAt(et){return _obj.lookAt(et),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(et){const tt=[];for(let nt=0,ot=et.length;nt<ot;nt++){const it=et[nt];tt.push(it.x,it.y,it.z||0)}return this.setAttribute("position",new Float32BufferAttribute(tt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const et=this.attributes.position,tt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(et!==void 0){if(this.boundingBox.setFromBufferAttribute(et),tt)for(let nt=0,ot=tt.length;nt<ot;nt++){const it=tt[nt];_box$1.setFromBufferAttribute(it),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const et=this.attributes.position,tt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(et){const nt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(et),tt)for(let it=0,at=tt.length;it<at;it++){const st=tt[it];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(nt);let ot=0;for(let it=0,at=et.count;it<at;it++)_vector$7.fromBufferAttribute(et,it),ot=Math.max(ot,nt.distanceToSquared(_vector$7));if(tt)for(let it=0,at=tt.length;it<at;it++){const st=tt[it],ut=this.morphTargetsRelative;for(let ft=0,ht=st.count;ft<ht;ft++)_vector$7.fromBufferAttribute(st,ft),ut&&(_offset.fromBufferAttribute(et,ft),_vector$7.add(_offset)),ot=Math.max(ot,nt.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(ot),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const et=this.index,tt=this.attributes;if(et===null||tt.position===void 0||tt.normal===void 0||tt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const nt=et.array,ot=tt.position.array,it=tt.normal.array,at=tt.uv.array,st=ot.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const ut=this.getAttribute("tangent").array,ft=[],ht=[];for(let Xt=0;Xt<st;Xt++)ft[Xt]=new Vector3,ht[Xt]=new Vector3;const mt=new Vector3,gt=new Vector3,yt=new Vector3,xt=new Vector2,St=new Vector2,Tt=new Vector2,Mt=new Vector3,Pt=new Vector3;function It(Xt,Et,lt){mt.fromArray(ot,Xt*3),gt.fromArray(ot,Et*3),yt.fromArray(ot,lt*3),xt.fromArray(at,Xt*2),St.fromArray(at,Et*2),Tt.fromArray(at,lt*2),gt.sub(mt),yt.sub(mt),St.sub(xt),Tt.sub(xt);const dt=1/(St.x*Tt.y-Tt.x*St.y);isFinite(dt)&&(Mt.copy(gt).multiplyScalar(Tt.y).addScaledVector(yt,-St.y).multiplyScalar(dt),Pt.copy(yt).multiplyScalar(St.x).addScaledVector(gt,-Tt.x).multiplyScalar(dt),ft[Xt].add(Mt),ft[Et].add(Mt),ft[lt].add(Mt),ht[Xt].add(Pt),ht[Et].add(Pt),ht[lt].add(Pt))}let kt=this.groups;kt.length===0&&(kt=[{start:0,count:nt.length}]);for(let Xt=0,Et=kt.length;Xt<Et;++Xt){const lt=kt[Xt],dt=lt.start,pt=lt.count;for(let vt=dt,wt=dt+pt;vt<wt;vt+=3)It(nt[vt+0],nt[vt+1],nt[vt+2])}const Dt=new Vector3,Nt=new Vector3,Gt=new Vector3,Wt=new Vector3;function Ot(Xt){Gt.fromArray(it,Xt*3),Wt.copy(Gt);const Et=ft[Xt];Dt.copy(Et),Dt.sub(Gt.multiplyScalar(Gt.dot(Et))).normalize(),Nt.crossVectors(Wt,Et);const dt=Nt.dot(ht[Xt])<0?-1:1;ut[Xt*4]=Dt.x,ut[Xt*4+1]=Dt.y,ut[Xt*4+2]=Dt.z,ut[Xt*4+3]=dt}for(let Xt=0,Et=kt.length;Xt<Et;++Xt){const lt=kt[Xt],dt=lt.start,pt=lt.count;for(let vt=dt,wt=dt+pt;vt<wt;vt+=3)Ot(nt[vt+0]),Ot(nt[vt+1]),Ot(nt[vt+2])}}computeVertexNormals(){const et=this.index,tt=this.getAttribute("position");if(tt!==void 0){let nt=this.getAttribute("normal");if(nt===void 0)nt=new BufferAttribute(new Float32Array(tt.count*3),3),this.setAttribute("normal",nt);else for(let gt=0,yt=nt.count;gt<yt;gt++)nt.setXYZ(gt,0,0,0);const ot=new Vector3,it=new Vector3,at=new Vector3,st=new Vector3,ut=new Vector3,ft=new Vector3,ht=new Vector3,mt=new Vector3;if(et)for(let gt=0,yt=et.count;gt<yt;gt+=3){const xt=et.getX(gt+0),St=et.getX(gt+1),Tt=et.getX(gt+2);ot.fromBufferAttribute(tt,xt),it.fromBufferAttribute(tt,St),at.fromBufferAttribute(tt,Tt),ht.subVectors(at,it),mt.subVectors(ot,it),ht.cross(mt),st.fromBufferAttribute(nt,xt),ut.fromBufferAttribute(nt,St),ft.fromBufferAttribute(nt,Tt),st.add(ht),ut.add(ht),ft.add(ht),nt.setXYZ(xt,st.x,st.y,st.z),nt.setXYZ(St,ut.x,ut.y,ut.z),nt.setXYZ(Tt,ft.x,ft.y,ft.z)}else for(let gt=0,yt=tt.count;gt<yt;gt+=3)ot.fromBufferAttribute(tt,gt+0),it.fromBufferAttribute(tt,gt+1),at.fromBufferAttribute(tt,gt+2),ht.subVectors(at,it),mt.subVectors(ot,it),ht.cross(mt),nt.setXYZ(gt+0,ht.x,ht.y,ht.z),nt.setXYZ(gt+1,ht.x,ht.y,ht.z),nt.setXYZ(gt+2,ht.x,ht.y,ht.z);this.normalizeNormals(),nt.needsUpdate=!0}}normalizeNormals(){const et=this.attributes.normal;for(let tt=0,nt=et.count;tt<nt;tt++)_vector$7.fromBufferAttribute(et,tt),_vector$7.normalize(),et.setXYZ(tt,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function et(st,ut){const ft=st.array,ht=st.itemSize,mt=st.normalized,gt=new ft.constructor(ut.length*ht);let yt=0,xt=0;for(let St=0,Tt=ut.length;St<Tt;St++){st.isInterleavedBufferAttribute?yt=ut[St]*st.data.stride+st.offset:yt=ut[St]*ht;for(let Mt=0;Mt<ht;Mt++)gt[xt++]=ft[yt++]}return new BufferAttribute(gt,ht,mt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const tt=new BufferGeometry,nt=this.index.array,ot=this.attributes;for(const st in ot){const ut=ot[st],ft=et(ut,nt);tt.setAttribute(st,ft)}const it=this.morphAttributes;for(const st in it){const ut=[],ft=it[st];for(let ht=0,mt=ft.length;ht<mt;ht++){const gt=ft[ht],yt=et(gt,nt);ut.push(yt)}tt.morphAttributes[st]=ut}tt.morphTargetsRelative=this.morphTargetsRelative;const at=this.groups;for(let st=0,ut=at.length;st<ut;st++){const ft=at[st];tt.addGroup(ft.start,ft.count,ft.materialIndex)}return tt}toJSON(){const et={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(et.uuid=this.uuid,et.type=this.type,this.name!==""&&(et.name=this.name),Object.keys(this.userData).length>0&&(et.userData=this.userData),this.parameters!==void 0){const ut=this.parameters;for(const ft in ut)ut[ft]!==void 0&&(et[ft]=ut[ft]);return et}et.data={attributes:{}};const tt=this.index;tt!==null&&(et.data.index={type:tt.array.constructor.name,array:Array.prototype.slice.call(tt.array)});const nt=this.attributes;for(const ut in nt){const ft=nt[ut];et.data.attributes[ut]=ft.toJSON(et.data)}const ot={};let it=!1;for(const ut in this.morphAttributes){const ft=this.morphAttributes[ut],ht=[];for(let mt=0,gt=ft.length;mt<gt;mt++){const yt=ft[mt];ht.push(yt.toJSON(et.data))}ht.length>0&&(ot[ut]=ht,it=!0)}it&&(et.data.morphAttributes=ot,et.data.morphTargetsRelative=this.morphTargetsRelative);const at=this.groups;at.length>0&&(et.data.groups=JSON.parse(JSON.stringify(at)));const st=this.boundingSphere;return st!==null&&(et.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),et}clone(){return new this.constructor().copy(this)}copy(et){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const tt={};this.name=et.name;const nt=et.index;nt!==null&&this.setIndex(nt.clone(tt));const ot=et.attributes;for(const ft in ot){const ht=ot[ft];this.setAttribute(ft,ht.clone(tt))}const it=et.morphAttributes;for(const ft in it){const ht=[],mt=it[ft];for(let gt=0,yt=mt.length;gt<yt;gt++)ht.push(mt[gt].clone(tt));this.morphAttributes[ft]=ht}this.morphTargetsRelative=et.morphTargetsRelative;const at=et.groups;for(let ft=0,ht=at.length;ft<ht;ft++){const mt=at[ft];this.addGroup(mt.start,mt.count,mt.materialIndex)}const st=et.boundingBox;st!==null&&(this.boundingBox=st.clone());const ut=et.boundingSphere;return ut!==null&&(this.boundingSphere=ut.clone()),this.drawRange.start=et.drawRange.start,this.drawRange.count=et.drawRange.count,this.userData=et.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$5=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(et=new BufferGeometry,tt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=et,this.material=tt,this.updateMorphTargets()}copy(et,tt){return super.copy(et,tt),et.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=et.morphTargetInfluences.slice()),et.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},et.morphTargetDictionary)),this.material=Array.isArray(et.material)?et.material.slice():et.material,this.geometry=et.geometry,this}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const ot=tt[nt[0]];if(ot!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,at=ot.length;it<at;it++){const st=ot[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=it}}}}getVertexPosition(et,tt){const nt=this.geometry,ot=nt.attributes.position,it=nt.morphAttributes.position,at=nt.morphTargetsRelative;tt.fromBufferAttribute(ot,et);const st=this.morphTargetInfluences;if(it&&st){_morphA.set(0,0,0);for(let ut=0,ft=it.length;ut<ft;ut++){const ht=st[ut],mt=it[ut];ht!==0&&(_tempA.fromBufferAttribute(mt,et),at?_morphA.addScaledVector(_tempA,ht):_morphA.addScaledVector(_tempA.sub(tt),ht))}tt.add(_morphA)}return tt}raycast(et,tt){const nt=this.geometry,ot=this.material,it=this.matrixWorld;ot!==void 0&&(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$5.copy(nt.boundingSphere),_sphere$5.applyMatrix4(it),_ray$3.copy(et.ray).recast(et.near),!(_sphere$5.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$5,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(et.far-et.near)**2))&&(_inverseMatrix$3.copy(it).invert(),_ray$3.copy(et.ray).applyMatrix4(_inverseMatrix$3),!(nt.boundingBox!==null&&_ray$3.intersectsBox(nt.boundingBox)===!1)&&this._computeIntersections(et,tt,_ray$3)))}_computeIntersections(et,tt,nt){let ot;const it=this.geometry,at=this.material,st=it.index,ut=it.attributes.position,ft=it.attributes.uv,ht=it.attributes.uv1,mt=it.attributes.normal,gt=it.groups,yt=it.drawRange;if(st!==null)if(Array.isArray(at))for(let xt=0,St=gt.length;xt<St;xt++){const Tt=gt[xt],Mt=at[Tt.materialIndex],Pt=Math.max(Tt.start,yt.start),It=Math.min(st.count,Math.min(Tt.start+Tt.count,yt.start+yt.count));for(let kt=Pt,Dt=It;kt<Dt;kt+=3){const Nt=st.getX(kt),Gt=st.getX(kt+1),Wt=st.getX(kt+2);ot=checkGeometryIntersection(this,Mt,et,nt,ft,ht,mt,Nt,Gt,Wt),ot&&(ot.faceIndex=Math.floor(kt/3),ot.face.materialIndex=Tt.materialIndex,tt.push(ot))}}else{const xt=Math.max(0,yt.start),St=Math.min(st.count,yt.start+yt.count);for(let Tt=xt,Mt=St;Tt<Mt;Tt+=3){const Pt=st.getX(Tt),It=st.getX(Tt+1),kt=st.getX(Tt+2);ot=checkGeometryIntersection(this,at,et,nt,ft,ht,mt,Pt,It,kt),ot&&(ot.faceIndex=Math.floor(Tt/3),tt.push(ot))}}else if(ut!==void 0)if(Array.isArray(at))for(let xt=0,St=gt.length;xt<St;xt++){const Tt=gt[xt],Mt=at[Tt.materialIndex],Pt=Math.max(Tt.start,yt.start),It=Math.min(ut.count,Math.min(Tt.start+Tt.count,yt.start+yt.count));for(let kt=Pt,Dt=It;kt<Dt;kt+=3){const Nt=kt,Gt=kt+1,Wt=kt+2;ot=checkGeometryIntersection(this,Mt,et,nt,ft,ht,mt,Nt,Gt,Wt),ot&&(ot.faceIndex=Math.floor(kt/3),ot.face.materialIndex=Tt.materialIndex,tt.push(ot))}}else{const xt=Math.max(0,yt.start),St=Math.min(ut.count,yt.start+yt.count);for(let Tt=xt,Mt=St;Tt<Mt;Tt+=3){const Pt=Tt,It=Tt+1,kt=Tt+2;ot=checkGeometryIntersection(this,at,et,nt,ft,ht,mt,Pt,It,kt),ot&&(ot.faceIndex=Math.floor(Tt/3),tt.push(ot))}}}}function checkIntersection(rt,et,tt,nt,ot,it,at,st){let ut;if(et.side===BackSide?ut=nt.intersectTriangle(at,it,ot,!0,st):ut=nt.intersectTriangle(ot,it,at,et.side===FrontSide,st),ut===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(rt.matrixWorld);const ft=tt.ray.origin.distanceTo(_intersectionPointWorld);return ft<tt.near||ft>tt.far?null:{distance:ft,point:_intersectionPointWorld.clone(),object:rt}}function checkGeometryIntersection(rt,et,tt,nt,ot,it,at,st,ut,ft){rt.getVertexPosition(st,_vA$1),rt.getVertexPosition(ut,_vB$1),rt.getVertexPosition(ft,_vC$1);const ht=checkIntersection(rt,et,tt,nt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ht){ot&&(_uvA$1.fromBufferAttribute(ot,st),_uvB$1.fromBufferAttribute(ot,ut),_uvC$1.fromBufferAttribute(ot,ft),ht.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),it&&(_uvA$1.fromBufferAttribute(it,st),_uvB$1.fromBufferAttribute(it,ut),_uvC$1.fromBufferAttribute(it,ft),ht.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),ht.uv2=ht.uv1),at&&(_normalA.fromBufferAttribute(at,st),_normalB.fromBufferAttribute(at,ut),_normalC.fromBufferAttribute(at,ft),ht.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),ht.normal.dot(nt.direction)>0&&ht.normal.multiplyScalar(-1));const mt={a:st,b:ut,c:ft,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,mt.normal),ht.face=mt}return ht}class BoxGeometry extends BufferGeometry{constructor(et=1,tt=1,nt=1,ot=1,it=1,at=1){super(),this.type="BoxGeometry",this.parameters={width:et,height:tt,depth:nt,widthSegments:ot,heightSegments:it,depthSegments:at};const st=this;ot=Math.floor(ot),it=Math.floor(it),at=Math.floor(at);const ut=[],ft=[],ht=[],mt=[];let gt=0,yt=0;xt("z","y","x",-1,-1,nt,tt,et,at,it,0),xt("z","y","x",1,-1,nt,tt,-et,at,it,1),xt("x","z","y",1,1,et,nt,tt,ot,at,2),xt("x","z","y",1,-1,et,nt,-tt,ot,at,3),xt("x","y","z",1,-1,et,tt,nt,ot,it,4),xt("x","y","z",-1,-1,et,tt,-nt,ot,it,5),this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(ft,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(mt,2));function xt(St,Tt,Mt,Pt,It,kt,Dt,Nt,Gt,Wt,Ot){const Xt=kt/Gt,Et=Dt/Wt,lt=kt/2,dt=Dt/2,pt=Nt/2,vt=Gt+1,wt=Wt+1;let At=0,Rt=0;const bt=new Vector3;for(let ct=0;ct<wt;ct++){const _t=ct*Et-dt;for(let Lt=0;Lt<vt;Lt++){const Ft=Lt*Xt-lt;bt[St]=Ft*Pt,bt[Tt]=_t*It,bt[Mt]=pt,ft.push(bt.x,bt.y,bt.z),bt[St]=0,bt[Tt]=0,bt[Mt]=Nt>0?1:-1,ht.push(bt.x,bt.y,bt.z),mt.push(Lt/Gt),mt.push(1-ct/Wt),At+=1}}for(let ct=0;ct<Wt;ct++)for(let _t=0;_t<Gt;_t++){const Lt=gt+_t+vt*ct,Ft=gt+_t+vt*(ct+1),jt=gt+(_t+1)+vt*(ct+1),Zt=gt+(_t+1)+vt*ct;ut.push(Lt,Ft,Zt),ut.push(Ft,jt,Zt),Rt+=6}st.addGroup(yt,Rt,Ot),yt+=Rt,gt+=At}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new BoxGeometry(et.width,et.height,et.depth,et.widthSegments,et.heightSegments,et.depthSegments)}}function cloneUniforms(rt){const et={};for(const tt in rt){et[tt]={};for(const nt in rt[tt]){const ot=rt[tt][nt];ot&&(ot.isColor||ot.isMatrix3||ot.isMatrix4||ot.isVector2||ot.isVector3||ot.isVector4||ot.isTexture||ot.isQuaternion)?ot.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),et[tt][nt]=null):et[tt][nt]=ot.clone():Array.isArray(ot)?et[tt][nt]=ot.slice():et[tt][nt]=ot}}return et}function mergeUniforms(rt){const et={};for(let tt=0;tt<rt.length;tt++){const nt=cloneUniforms(rt[tt]);for(const ot in nt)et[ot]=nt[ot]}return et}function cloneUniformsGroups(rt){const et=[];for(let tt=0;tt<rt.length;tt++)et.push(rt[tt].clone());return et}function getUnlitUniformColorSpace(rt){return rt.getRenderTarget()===null?rt.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(et){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,et!==void 0&&this.setValues(et)}copy(et){return super.copy(et),this.fragmentShader=et.fragmentShader,this.vertexShader=et.vertexShader,this.uniforms=cloneUniforms(et.uniforms),this.uniformsGroups=cloneUniformsGroups(et.uniformsGroups),this.defines=Object.assign({},et.defines),this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.fog=et.fog,this.lights=et.lights,this.clipping=et.clipping,this.extensions=Object.assign({},et.extensions),this.glslVersion=et.glslVersion,this}toJSON(et){const tt=super.toJSON(et);tt.glslVersion=this.glslVersion,tt.uniforms={};for(const ot in this.uniforms){const at=this.uniforms[ot].value;at&&at.isTexture?tt.uniforms[ot]={type:"t",value:at.toJSON(et).uuid}:at&&at.isColor?tt.uniforms[ot]={type:"c",value:at.getHex()}:at&&at.isVector2?tt.uniforms[ot]={type:"v2",value:at.toArray()}:at&&at.isVector3?tt.uniforms[ot]={type:"v3",value:at.toArray()}:at&&at.isVector4?tt.uniforms[ot]={type:"v4",value:at.toArray()}:at&&at.isMatrix3?tt.uniforms[ot]={type:"m3",value:at.toArray()}:at&&at.isMatrix4?tt.uniforms[ot]={type:"m4",value:at.toArray()}:tt.uniforms[ot]={value:at}}Object.keys(this.defines).length>0&&(tt.defines=this.defines),tt.vertexShader=this.vertexShader,tt.fragmentShader=this.fragmentShader,tt.lights=this.lights,tt.clipping=this.clipping;const nt={};for(const ot in this.extensions)this.extensions[ot]===!0&&(nt[ot]=!0);return Object.keys(nt).length>0&&(tt.extensions=nt),tt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(et,tt){return super.copy(et,tt),this.matrixWorldInverse.copy(et.matrixWorldInverse),this.projectionMatrix.copy(et.projectionMatrix),this.projectionMatrixInverse.copy(et.projectionMatrixInverse),this.coordinateSystem=et.coordinateSystem,this}getWorldDirection(et){return super.getWorldDirection(et).negate()}updateMatrixWorld(et){super.updateMatrixWorld(et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(et,tt){super.updateWorldMatrix(et,tt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(et=50,tt=1,nt=.1,ot=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=et,this.zoom=1,this.near=nt,this.far=ot,this.focus=10,this.aspect=tt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(et,tt){return super.copy(et,tt),this.fov=et.fov,this.zoom=et.zoom,this.near=et.near,this.far=et.far,this.focus=et.focus,this.aspect=et.aspect,this.view=et.view===null?null:Object.assign({},et.view),this.filmGauge=et.filmGauge,this.filmOffset=et.filmOffset,this}setFocalLength(et){const tt=.5*this.getFilmHeight()/et;this.fov=RAD2DEG*2*Math.atan(tt),this.updateProjectionMatrix()}getFocalLength(){const et=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/et}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(et,tt,nt,ot,it,at){this.aspect=et/tt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=ot,this.view.width=it,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=this.near;let tt=et*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,nt=2*tt,ot=this.aspect*nt,it=-.5*ot;const at=this.view;if(this.view!==null&&this.view.enabled){const ut=at.fullWidth,ft=at.fullHeight;it+=at.offsetX*ot/ut,tt-=at.offsetY*nt/ft,ot*=at.width/ut,nt*=at.height/ft}const st=this.filmOffset;st!==0&&(it+=et*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(it,it+ot,tt,tt-nt,et,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const tt=super.toJSON(et);return tt.object.fov=this.fov,tt.object.zoom=this.zoom,tt.object.near=this.near,tt.object.far=this.far,tt.object.focus=this.focus,tt.object.aspect=this.aspect,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt.object.filmGauge=this.filmGauge,tt.object.filmOffset=this.filmOffset,tt}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(et,tt,nt){super(),this.type="CubeCamera",this.renderTarget=nt,this.coordinateSystem=null,this.activeMipmapLevel=0;const ot=new PerspectiveCamera(fov,aspect,et,tt);ot.layers=this.layers,this.add(ot);const it=new PerspectiveCamera(fov,aspect,et,tt);it.layers=this.layers,this.add(it);const at=new PerspectiveCamera(fov,aspect,et,tt);at.layers=this.layers,this.add(at);const st=new PerspectiveCamera(fov,aspect,et,tt);st.layers=this.layers,this.add(st);const ut=new PerspectiveCamera(fov,aspect,et,tt);ut.layers=this.layers,this.add(ut);const ft=new PerspectiveCamera(fov,aspect,et,tt);ft.layers=this.layers,this.add(ft)}updateCoordinateSystem(){const et=this.coordinateSystem,tt=this.children.concat(),[nt,ot,it,at,st,ut]=tt;for(const ft of tt)this.remove(ft);if(et===WebGLCoordinateSystem)nt.up.set(0,1,0),nt.lookAt(1,0,0),ot.up.set(0,1,0),ot.lookAt(-1,0,0),it.up.set(0,0,-1),it.lookAt(0,1,0),at.up.set(0,0,1),at.lookAt(0,-1,0),st.up.set(0,1,0),st.lookAt(0,0,1),ut.up.set(0,1,0),ut.lookAt(0,0,-1);else if(et===WebGPUCoordinateSystem)nt.up.set(0,-1,0),nt.lookAt(-1,0,0),ot.up.set(0,-1,0),ot.lookAt(1,0,0),it.up.set(0,0,1),it.lookAt(0,1,0),at.up.set(0,0,-1),at.lookAt(0,-1,0),st.up.set(0,-1,0),st.lookAt(0,0,1),ut.up.set(0,-1,0),ut.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+et);for(const ft of tt)this.add(ft),ft.updateMatrixWorld()}update(et,tt){this.parent===null&&this.updateMatrixWorld();const{renderTarget:nt,activeMipmapLevel:ot}=this;this.coordinateSystem!==et.coordinateSystem&&(this.coordinateSystem=et.coordinateSystem,this.updateCoordinateSystem());const[it,at,st,ut,ft,ht]=this.children,mt=et.getRenderTarget(),gt=et.getActiveCubeFace(),yt=et.getActiveMipmapLevel(),xt=et.xr.enabled;et.xr.enabled=!1;const St=nt.texture.generateMipmaps;nt.texture.generateMipmaps=!1,et.setRenderTarget(nt,0,ot),et.render(tt,it),et.setRenderTarget(nt,1,ot),et.render(tt,at),et.setRenderTarget(nt,2,ot),et.render(tt,st),et.setRenderTarget(nt,3,ot),et.render(tt,ut),et.setRenderTarget(nt,4,ot),et.render(tt,ft),nt.texture.generateMipmaps=St,et.setRenderTarget(nt,5,ot),et.render(tt,ht),et.setRenderTarget(mt,gt,yt),et.xr.enabled=xt,nt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(et,tt,nt,ot,it,at,st,ut,ft,ht){et=et!==void 0?et:[],tt=tt!==void 0?tt:CubeReflectionMapping,super(et,tt,nt,ot,it,at,st,ut,ft,ht),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(et){this.image=et}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(et=1,tt={}){super(et,et,tt),this.isWebGLCubeRenderTarget=!0;const nt={width:et,height:et,depth:1},ot=[nt,nt,nt,nt,nt,nt];tt.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),tt.colorSpace=tt.encoding===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),this.texture=new CubeTexture(ot,tt.mapping,tt.wrapS,tt.wrapT,tt.magFilter,tt.minFilter,tt.format,tt.type,tt.anisotropy,tt.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=tt.generateMipmaps!==void 0?tt.generateMipmaps:!1,this.texture.minFilter=tt.minFilter!==void 0?tt.minFilter:LinearFilter}fromEquirectangularTexture(et,tt){this.texture.type=tt.type,this.texture.colorSpace=tt.colorSpace,this.texture.generateMipmaps=tt.generateMipmaps,this.texture.minFilter=tt.minFilter,this.texture.magFilter=tt.magFilter;const nt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},ot=new BoxGeometry(5,5,5),it=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(nt.uniforms),vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader,side:BackSide,blending:NoBlending});it.uniforms.tEquirect.value=tt;const at=new Mesh(ot,it),st=tt.minFilter;return tt.minFilter===LinearMipmapLinearFilter&&(tt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(et,at),tt.minFilter=st,at.geometry.dispose(),at.material.dispose(),this}clear(et,tt,nt,ot){const it=et.getRenderTarget();for(let at=0;at<6;at++)et.setRenderTarget(this,at),et.clear(tt,nt,ot);et.setRenderTarget(it)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(et=new Vector3(1,0,0),tt=0){this.isPlane=!0,this.normal=et,this.constant=tt}set(et,tt){return this.normal.copy(et),this.constant=tt,this}setComponents(et,tt,nt,ot){return this.normal.set(et,tt,nt),this.constant=ot,this}setFromNormalAndCoplanarPoint(et,tt){return this.normal.copy(et),this.constant=-tt.dot(this.normal),this}setFromCoplanarPoints(et,tt,nt){const ot=_vector1.subVectors(nt,tt).cross(_vector2.subVectors(et,tt)).normalize();return this.setFromNormalAndCoplanarPoint(ot,et),this}copy(et){return this.normal.copy(et.normal),this.constant=et.constant,this}normalize(){const et=1/this.normal.length();return this.normal.multiplyScalar(et),this.constant*=et,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(et){return this.normal.dot(et)+this.constant}distanceToSphere(et){return this.distanceToPoint(et.center)-et.radius}projectPoint(et,tt){return tt.copy(et).addScaledVector(this.normal,-this.distanceToPoint(et))}intersectLine(et,tt){const nt=et.delta(_vector1),ot=this.normal.dot(nt);if(ot===0)return this.distanceToPoint(et.start)===0?tt.copy(et.start):null;const it=-(et.start.dot(this.normal)+this.constant)/ot;return it<0||it>1?null:tt.copy(et.start).addScaledVector(nt,it)}intersectsLine(et){const tt=this.distanceToPoint(et.start),nt=this.distanceToPoint(et.end);return tt<0&&nt>0||nt<0&&tt>0}intersectsBox(et){return et.intersectsPlane(this)}intersectsSphere(et){return et.intersectsPlane(this)}coplanarPoint(et){return et.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(et,tt){const nt=tt||_normalMatrix.getNormalMatrix(et),ot=this.coplanarPoint(_vector1).applyMatrix4(et),it=this.normal.applyMatrix3(nt).normalize();return this.constant=-ot.dot(it),this}translate(et){return this.constant-=et.dot(this.normal),this}equals(et){return et.normal.equals(this.normal)&&et.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$4=new Sphere,_vector$6=new Vector3;class Frustum{constructor(et=new Plane,tt=new Plane,nt=new Plane,ot=new Plane,it=new Plane,at=new Plane){this.planes=[et,tt,nt,ot,it,at]}set(et,tt,nt,ot,it,at){const st=this.planes;return st[0].copy(et),st[1].copy(tt),st[2].copy(nt),st[3].copy(ot),st[4].copy(it),st[5].copy(at),this}copy(et){const tt=this.planes;for(let nt=0;nt<6;nt++)tt[nt].copy(et.planes[nt]);return this}setFromProjectionMatrix(et,tt=WebGLCoordinateSystem){const nt=this.planes,ot=et.elements,it=ot[0],at=ot[1],st=ot[2],ut=ot[3],ft=ot[4],ht=ot[5],mt=ot[6],gt=ot[7],yt=ot[8],xt=ot[9],St=ot[10],Tt=ot[11],Mt=ot[12],Pt=ot[13],It=ot[14],kt=ot[15];if(nt[0].setComponents(ut-it,gt-ft,Tt-yt,kt-Mt).normalize(),nt[1].setComponents(ut+it,gt+ft,Tt+yt,kt+Mt).normalize(),nt[2].setComponents(ut+at,gt+ht,Tt+xt,kt+Pt).normalize(),nt[3].setComponents(ut-at,gt-ht,Tt-xt,kt-Pt).normalize(),nt[4].setComponents(ut-st,gt-mt,Tt-St,kt-It).normalize(),tt===WebGLCoordinateSystem)nt[5].setComponents(ut+st,gt+mt,Tt+St,kt+It).normalize();else if(tt===WebGPUCoordinateSystem)nt[5].setComponents(st,mt,St,It).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+tt);return this}intersectsObject(et){if(et.boundingSphere!==void 0)et.boundingSphere===null&&et.computeBoundingSphere(),_sphere$4.copy(et.boundingSphere).applyMatrix4(et.matrixWorld);else{const tt=et.geometry;tt.boundingSphere===null&&tt.computeBoundingSphere(),_sphere$4.copy(tt.boundingSphere).applyMatrix4(et.matrixWorld)}return this.intersectsSphere(_sphere$4)}intersectsSprite(et){return _sphere$4.center.set(0,0,0),_sphere$4.radius=.7071067811865476,_sphere$4.applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$4)}intersectsSphere(et){const tt=this.planes,nt=et.center,ot=-et.radius;for(let it=0;it<6;it++)if(tt[it].distanceToPoint(nt)<ot)return!1;return!0}intersectsBox(et){const tt=this.planes;for(let nt=0;nt<6;nt++){const ot=tt[nt];if(_vector$6.x=ot.normal.x>0?et.max.x:et.min.x,_vector$6.y=ot.normal.y>0?et.max.y:et.min.y,_vector$6.z=ot.normal.z>0?et.max.z:et.min.z,ot.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(et){const tt=this.planes;for(let nt=0;nt<6;nt++)if(tt[nt].distanceToPoint(et)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let rt=null,et=!1,tt=null,nt=null;function ot(it,at){tt(it,at),nt=rt.requestAnimationFrame(ot)}return{start:function(){et!==!0&&tt!==null&&(nt=rt.requestAnimationFrame(ot),et=!0)},stop:function(){rt.cancelAnimationFrame(nt),et=!1},setAnimationLoop:function(it){tt=it},setContext:function(it){rt=it}}}function WebGLAttributes(rt,et){const tt=et.isWebGL2,nt=new WeakMap;function ot(ft,ht){const mt=ft.array,gt=ft.usage,yt=rt.createBuffer();rt.bindBuffer(ht,yt),rt.bufferData(ht,mt,gt),ft.onUploadCallback();let xt;if(mt instanceof Float32Array)xt=rt.FLOAT;else if(mt instanceof Uint16Array)if(ft.isFloat16BufferAttribute)if(tt)xt=rt.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else xt=rt.UNSIGNED_SHORT;else if(mt instanceof Int16Array)xt=rt.SHORT;else if(mt instanceof Uint32Array)xt=rt.UNSIGNED_INT;else if(mt instanceof Int32Array)xt=rt.INT;else if(mt instanceof Int8Array)xt=rt.BYTE;else if(mt instanceof Uint8Array)xt=rt.UNSIGNED_BYTE;else if(mt instanceof Uint8ClampedArray)xt=rt.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+mt);return{buffer:yt,type:xt,bytesPerElement:mt.BYTES_PER_ELEMENT,version:ft.version}}function it(ft,ht,mt){const gt=ht.array,yt=ht.updateRange;rt.bindBuffer(mt,ft),yt.count===-1?rt.bufferSubData(mt,0,gt):(tt?rt.bufferSubData(mt,yt.offset*gt.BYTES_PER_ELEMENT,gt,yt.offset,yt.count):rt.bufferSubData(mt,yt.offset*gt.BYTES_PER_ELEMENT,gt.subarray(yt.offset,yt.offset+yt.count)),yt.count=-1),ht.onUploadCallback()}function at(ft){return ft.isInterleavedBufferAttribute&&(ft=ft.data),nt.get(ft)}function st(ft){ft.isInterleavedBufferAttribute&&(ft=ft.data);const ht=nt.get(ft);ht&&(rt.deleteBuffer(ht.buffer),nt.delete(ft))}function ut(ft,ht){if(ft.isGLBufferAttribute){const gt=nt.get(ft);(!gt||gt.version<ft.version)&&nt.set(ft,{buffer:ft.buffer,type:ft.type,bytesPerElement:ft.elementSize,version:ft.version});return}ft.isInterleavedBufferAttribute&&(ft=ft.data);const mt=nt.get(ft);mt===void 0?nt.set(ft,ot(ft,ht)):mt.version<ft.version&&(it(mt.buffer,ft,ht),mt.version=ft.version)}return{get:at,remove:st,update:ut}}class PlaneGeometry extends BufferGeometry{constructor(et=1,tt=1,nt=1,ot=1){super(),this.type="PlaneGeometry",this.parameters={width:et,height:tt,widthSegments:nt,heightSegments:ot};const it=et/2,at=tt/2,st=Math.floor(nt),ut=Math.floor(ot),ft=st+1,ht=ut+1,mt=et/st,gt=tt/ut,yt=[],xt=[],St=[],Tt=[];for(let Mt=0;Mt<ht;Mt++){const Pt=Mt*gt-at;for(let It=0;It<ft;It++){const kt=It*mt-it;xt.push(kt,-Pt,0),St.push(0,0,1),Tt.push(It/st),Tt.push(1-Mt/ut)}}for(let Mt=0;Mt<ut;Mt++)for(let Pt=0;Pt<st;Pt++){const It=Pt+ft*Mt,kt=Pt+ft*(Mt+1),Dt=Pt+1+ft*(Mt+1),Nt=Pt+1+ft*Mt;yt.push(It,kt,Nt),yt.push(kt,Dt,Nt)}this.setIndex(yt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new PlaneGeometry(et.width,et.height,et.widthSegments,et.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(rt,et,tt,nt,ot,it,at){const st=new Color(0);let ut=it===!0?0:1,ft,ht,mt=null,gt=0,yt=null;function xt(Tt,Mt){let Pt=!1,It=Mt.isScene===!0?Mt.background:null;It&&It.isTexture&&(It=(Mt.backgroundBlurriness>0?tt:et).get(It)),It===null?St(st,ut):It&&It.isColor&&(St(It,1),Pt=!0);const kt=rt.xr.getEnvironmentBlendMode();kt==="additive"?nt.buffers.color.setClear(0,0,0,1,at):kt==="alpha-blend"&&nt.buffers.color.setClear(0,0,0,0,at),(rt.autoClear||Pt)&&rt.clear(rt.autoClearColor,rt.autoClearDepth,rt.autoClearStencil),It&&(It.isCubeTexture||It.mapping===CubeUVReflectionMapping)?(ht===void 0&&(ht=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ht.geometry.deleteAttribute("normal"),ht.geometry.deleteAttribute("uv"),ht.onBeforeRender=function(Dt,Nt,Gt){this.matrixWorld.copyPosition(Gt.matrixWorld)},Object.defineProperty(ht.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),ot.update(ht)),ht.material.uniforms.envMap.value=It,ht.material.uniforms.flipEnvMap.value=It.isCubeTexture&&It.isRenderTargetTexture===!1?-1:1,ht.material.uniforms.backgroundBlurriness.value=Mt.backgroundBlurriness,ht.material.uniforms.backgroundIntensity.value=Mt.backgroundIntensity,ht.material.toneMapped=ColorManagement.getTransfer(It.colorSpace)!==SRGBTransfer,(mt!==It||gt!==It.version||yt!==rt.toneMapping)&&(ht.material.needsUpdate=!0,mt=It,gt=It.version,yt=rt.toneMapping),ht.layers.enableAll(),Tt.unshift(ht,ht.geometry,ht.material,0,0,null)):It&&It.isTexture&&(ft===void 0&&(ft=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ft.geometry.deleteAttribute("normal"),Object.defineProperty(ft.material,"map",{get:function(){return this.uniforms.t2D.value}}),ot.update(ft)),ft.material.uniforms.t2D.value=It,ft.material.uniforms.backgroundIntensity.value=Mt.backgroundIntensity,ft.material.toneMapped=ColorManagement.getTransfer(It.colorSpace)!==SRGBTransfer,It.matrixAutoUpdate===!0&&It.updateMatrix(),ft.material.uniforms.uvTransform.value.copy(It.matrix),(mt!==It||gt!==It.version||yt!==rt.toneMapping)&&(ft.material.needsUpdate=!0,mt=It,gt=It.version,yt=rt.toneMapping),ft.layers.enableAll(),Tt.unshift(ft,ft.geometry,ft.material,0,0,null))}function St(Tt,Mt){Tt.getRGB(_rgb,getUnlitUniformColorSpace(rt)),nt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Mt,at)}return{getClearColor:function(){return st},setClearColor:function(Tt,Mt=1){st.set(Tt),ut=Mt,St(st,ut)},getClearAlpha:function(){return ut},setClearAlpha:function(Tt){ut=Tt,St(st,ut)},render:xt}}function WebGLBindingStates(rt,et,tt,nt){const ot=rt.getParameter(rt.MAX_VERTEX_ATTRIBS),it=nt.isWebGL2?null:et.get("OES_vertex_array_object"),at=nt.isWebGL2||it!==null,st={},ut=Tt(null);let ft=ut,ht=!1;function mt(pt,vt,wt,At,Rt){let bt=!1;if(at){const ct=St(At,wt,vt);ft!==ct&&(ft=ct,yt(ft.object)),bt=Mt(pt,At,wt,Rt),bt&&Pt(pt,At,wt,Rt)}else{const ct=vt.wireframe===!0;(ft.geometry!==At.id||ft.program!==wt.id||ft.wireframe!==ct)&&(ft.geometry=At.id,ft.program=wt.id,ft.wireframe=ct,bt=!0)}Rt!==null&&tt.update(Rt,rt.ELEMENT_ARRAY_BUFFER),(bt||ht)&&(ht=!1,Wt(pt,vt,wt,At),Rt!==null&&rt.bindBuffer(rt.ELEMENT_ARRAY_BUFFER,tt.get(Rt).buffer))}function gt(){return nt.isWebGL2?rt.createVertexArray():it.createVertexArrayOES()}function yt(pt){return nt.isWebGL2?rt.bindVertexArray(pt):it.bindVertexArrayOES(pt)}function xt(pt){return nt.isWebGL2?rt.deleteVertexArray(pt):it.deleteVertexArrayOES(pt)}function St(pt,vt,wt){const At=wt.wireframe===!0;let Rt=st[pt.id];Rt===void 0&&(Rt={},st[pt.id]=Rt);let bt=Rt[vt.id];bt===void 0&&(bt={},Rt[vt.id]=bt);let ct=bt[At];return ct===void 0&&(ct=Tt(gt()),bt[At]=ct),ct}function Tt(pt){const vt=[],wt=[],At=[];for(let Rt=0;Rt<ot;Rt++)vt[Rt]=0,wt[Rt]=0,At[Rt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:vt,enabledAttributes:wt,attributeDivisors:At,object:pt,attributes:{},index:null}}function Mt(pt,vt,wt,At){const Rt=ft.attributes,bt=vt.attributes;let ct=0;const _t=wt.getAttributes();for(const Lt in _t)if(_t[Lt].location>=0){const jt=Rt[Lt];let Zt=bt[Lt];if(Zt===void 0&&(Lt==="instanceMatrix"&&pt.instanceMatrix&&(Zt=pt.instanceMatrix),Lt==="instanceColor"&&pt.instanceColor&&(Zt=pt.instanceColor)),jt===void 0||jt.attribute!==Zt||Zt&&jt.data!==Zt.data)return!0;ct++}return ft.attributesNum!==ct||ft.index!==At}function Pt(pt,vt,wt,At){const Rt={},bt=vt.attributes;let ct=0;const _t=wt.getAttributes();for(const Lt in _t)if(_t[Lt].location>=0){let jt=bt[Lt];jt===void 0&&(Lt==="instanceMatrix"&&pt.instanceMatrix&&(jt=pt.instanceMatrix),Lt==="instanceColor"&&pt.instanceColor&&(jt=pt.instanceColor));const Zt={};Zt.attribute=jt,jt&&jt.data&&(Zt.data=jt.data),Rt[Lt]=Zt,ct++}ft.attributes=Rt,ft.attributesNum=ct,ft.index=At}function It(){const pt=ft.newAttributes;for(let vt=0,wt=pt.length;vt<wt;vt++)pt[vt]=0}function kt(pt){Dt(pt,0)}function Dt(pt,vt){const wt=ft.newAttributes,At=ft.enabledAttributes,Rt=ft.attributeDivisors;wt[pt]=1,At[pt]===0&&(rt.enableVertexAttribArray(pt),At[pt]=1),Rt[pt]!==vt&&((nt.isWebGL2?rt:et.get("ANGLE_instanced_arrays"))[nt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](pt,vt),Rt[pt]=vt)}function Nt(){const pt=ft.newAttributes,vt=ft.enabledAttributes;for(let wt=0,At=vt.length;wt<At;wt++)vt[wt]!==pt[wt]&&(rt.disableVertexAttribArray(wt),vt[wt]=0)}function Gt(pt,vt,wt,At,Rt,bt,ct){ct===!0?rt.vertexAttribIPointer(pt,vt,wt,Rt,bt):rt.vertexAttribPointer(pt,vt,wt,At,Rt,bt)}function Wt(pt,vt,wt,At){if(nt.isWebGL2===!1&&(pt.isInstancedMesh||At.isInstancedBufferGeometry)&&et.get("ANGLE_instanced_arrays")===null)return;It();const Rt=At.attributes,bt=wt.getAttributes(),ct=vt.defaultAttributeValues;for(const _t in bt){const Lt=bt[_t];if(Lt.location>=0){let Ft=Rt[_t];if(Ft===void 0&&(_t==="instanceMatrix"&&pt.instanceMatrix&&(Ft=pt.instanceMatrix),_t==="instanceColor"&&pt.instanceColor&&(Ft=pt.instanceColor)),Ft!==void 0){const jt=Ft.normalized,Zt=Ft.itemSize,Kt=tt.get(Ft);if(Kt===void 0)continue;const zt=Kt.buffer,Vt=Kt.type,nr=Kt.bytesPerElement,or=nt.isWebGL2===!0&&(Vt===rt.INT||Vt===rt.UNSIGNED_INT||Ft.gpuType===IntType);if(Ft.isInterleavedBufferAttribute){const rr=Ft.data,$t=rr.stride,ar=Ft.offset;if(rr.isInstancedInterleavedBuffer){for(let wr=0;wr<Lt.locationSize;wr++)Dt(Lt.location+wr,rr.meshPerAttribute);pt.isInstancedMesh!==!0&&At._maxInstanceCount===void 0&&(At._maxInstanceCount=rr.meshPerAttribute*rr.count)}else for(let wr=0;wr<Lt.locationSize;wr++)kt(Lt.location+wr);rt.bindBuffer(rt.ARRAY_BUFFER,zt);for(let wr=0;wr<Lt.locationSize;wr++)Gt(Lt.location+wr,Zt/Lt.locationSize,Vt,jt,$t*nr,(ar+Zt/Lt.locationSize*wr)*nr,or)}else{if(Ft.isInstancedBufferAttribute){for(let rr=0;rr<Lt.locationSize;rr++)Dt(Lt.location+rr,Ft.meshPerAttribute);pt.isInstancedMesh!==!0&&At._maxInstanceCount===void 0&&(At._maxInstanceCount=Ft.meshPerAttribute*Ft.count)}else for(let rr=0;rr<Lt.locationSize;rr++)kt(Lt.location+rr);rt.bindBuffer(rt.ARRAY_BUFFER,zt);for(let rr=0;rr<Lt.locationSize;rr++)Gt(Lt.location+rr,Zt/Lt.locationSize,Vt,jt,Zt*nr,Zt/Lt.locationSize*rr*nr,or)}}else if(ct!==void 0){const jt=ct[_t];if(jt!==void 0)switch(jt.length){case 2:rt.vertexAttrib2fv(Lt.location,jt);break;case 3:rt.vertexAttrib3fv(Lt.location,jt);break;case 4:rt.vertexAttrib4fv(Lt.location,jt);break;default:rt.vertexAttrib1fv(Lt.location,jt)}}}}Nt()}function Ot(){lt();for(const pt in st){const vt=st[pt];for(const wt in vt){const At=vt[wt];for(const Rt in At)xt(At[Rt].object),delete At[Rt];delete vt[wt]}delete st[pt]}}function Xt(pt){if(st[pt.id]===void 0)return;const vt=st[pt.id];for(const wt in vt){const At=vt[wt];for(const Rt in At)xt(At[Rt].object),delete At[Rt];delete vt[wt]}delete st[pt.id]}function Et(pt){for(const vt in st){const wt=st[vt];if(wt[pt.id]===void 0)continue;const At=wt[pt.id];for(const Rt in At)xt(At[Rt].object),delete At[Rt];delete wt[pt.id]}}function lt(){dt(),ht=!0,ft!==ut&&(ft=ut,yt(ft.object))}function dt(){ut.geometry=null,ut.program=null,ut.wireframe=!1}return{setup:mt,reset:lt,resetDefaultState:dt,dispose:Ot,releaseStatesOfGeometry:Xt,releaseStatesOfProgram:Et,initAttributes:It,enableAttribute:kt,disableUnusedAttributes:Nt}}function WebGLBufferRenderer(rt,et,tt,nt){const ot=nt.isWebGL2;let it;function at(ft){it=ft}function st(ft,ht){rt.drawArrays(it,ft,ht),tt.update(ht,it,1)}function ut(ft,ht,mt){if(mt===0)return;let gt,yt;if(ot)gt=rt,yt="drawArraysInstanced";else if(gt=et.get("ANGLE_instanced_arrays"),yt="drawArraysInstancedANGLE",gt===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}gt[yt](it,ft,ht,mt),tt.update(ht,it,mt)}this.setMode=at,this.render=st,this.renderInstances=ut}function WebGLCapabilities(rt,et,tt){let nt;function ot(){if(nt!==void 0)return nt;if(et.has("EXT_texture_filter_anisotropic")===!0){const Gt=et.get("EXT_texture_filter_anisotropic");nt=rt.getParameter(Gt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function it(Gt){if(Gt==="highp"){if(rt.getShaderPrecisionFormat(rt.VERTEX_SHADER,rt.HIGH_FLOAT).precision>0&&rt.getShaderPrecisionFormat(rt.FRAGMENT_SHADER,rt.HIGH_FLOAT).precision>0)return"highp";Gt="mediump"}return Gt==="mediump"&&rt.getShaderPrecisionFormat(rt.VERTEX_SHADER,rt.MEDIUM_FLOAT).precision>0&&rt.getShaderPrecisionFormat(rt.FRAGMENT_SHADER,rt.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const at=typeof WebGL2RenderingContext<"u"&&rt.constructor.name==="WebGL2RenderingContext";let st=tt.precision!==void 0?tt.precision:"highp";const ut=it(st);ut!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",ut,"instead."),st=ut);const ft=at||et.has("WEBGL_draw_buffers"),ht=tt.logarithmicDepthBuffer===!0,mt=rt.getParameter(rt.MAX_TEXTURE_IMAGE_UNITS),gt=rt.getParameter(rt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),yt=rt.getParameter(rt.MAX_TEXTURE_SIZE),xt=rt.getParameter(rt.MAX_CUBE_MAP_TEXTURE_SIZE),St=rt.getParameter(rt.MAX_VERTEX_ATTRIBS),Tt=rt.getParameter(rt.MAX_VERTEX_UNIFORM_VECTORS),Mt=rt.getParameter(rt.MAX_VARYING_VECTORS),Pt=rt.getParameter(rt.MAX_FRAGMENT_UNIFORM_VECTORS),It=gt>0,kt=at||et.has("OES_texture_float"),Dt=It&&kt,Nt=at?rt.getParameter(rt.MAX_SAMPLES):0;return{isWebGL2:at,drawBuffers:ft,getMaxAnisotropy:ot,getMaxPrecision:it,precision:st,logarithmicDepthBuffer:ht,maxTextures:mt,maxVertexTextures:gt,maxTextureSize:yt,maxCubemapSize:xt,maxAttributes:St,maxVertexUniforms:Tt,maxVaryings:Mt,maxFragmentUniforms:Pt,vertexTextures:It,floatFragmentTextures:kt,floatVertexTextures:Dt,maxSamples:Nt}}function WebGLClipping(rt){const et=this;let tt=null,nt=0,ot=!1,it=!1;const at=new Plane,st=new Matrix3,ut={value:null,needsUpdate:!1};this.uniform=ut,this.numPlanes=0,this.numIntersection=0,this.init=function(mt,gt){const yt=mt.length!==0||gt||nt!==0||ot;return ot=gt,nt=mt.length,yt},this.beginShadows=function(){it=!0,ht(null)},this.endShadows=function(){it=!1},this.setGlobalState=function(mt,gt){tt=ht(mt,gt,0)},this.setState=function(mt,gt,yt){const xt=mt.clippingPlanes,St=mt.clipIntersection,Tt=mt.clipShadows,Mt=rt.get(mt);if(!ot||xt===null||xt.length===0||it&&!Tt)it?ht(null):ft();else{const Pt=it?0:nt,It=Pt*4;let kt=Mt.clippingState||null;ut.value=kt,kt=ht(xt,gt,It,yt);for(let Dt=0;Dt!==It;++Dt)kt[Dt]=tt[Dt];Mt.clippingState=kt,this.numIntersection=St?this.numPlanes:0,this.numPlanes+=Pt}};function ft(){ut.value!==tt&&(ut.value=tt,ut.needsUpdate=nt>0),et.numPlanes=nt,et.numIntersection=0}function ht(mt,gt,yt,xt){const St=mt!==null?mt.length:0;let Tt=null;if(St!==0){if(Tt=ut.value,xt!==!0||Tt===null){const Mt=yt+St*4,Pt=gt.matrixWorldInverse;st.getNormalMatrix(Pt),(Tt===null||Tt.length<Mt)&&(Tt=new Float32Array(Mt));for(let It=0,kt=yt;It!==St;++It,kt+=4)at.copy(mt[It]).applyMatrix4(Pt,st),at.normal.toArray(Tt,kt),Tt[kt+3]=at.constant}ut.value=Tt,ut.needsUpdate=!0}return et.numPlanes=St,et.numIntersection=0,Tt}}function WebGLCubeMaps(rt){let et=new WeakMap;function tt(at,st){return st===EquirectangularReflectionMapping?at.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(at.mapping=CubeRefractionMapping),at}function nt(at){if(at&&at.isTexture&&at.isRenderTargetTexture===!1){const st=at.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(et.has(at)){const ut=et.get(at).texture;return tt(ut,at.mapping)}else{const ut=at.image;if(ut&&ut.height>0){const ft=new WebGLCubeRenderTarget(ut.height/2);return ft.fromEquirectangularTexture(rt,at),et.set(at,ft),at.addEventListener("dispose",ot),tt(ft.texture,at.mapping)}else return null}}return at}function ot(at){const st=at.target;st.removeEventListener("dispose",ot);const ut=et.get(st);ut!==void 0&&(et.delete(st),ut.dispose())}function it(){et=new WeakMap}return{get:nt,dispose:it}}class OrthographicCamera extends Camera{constructor(et=-1,tt=1,nt=1,ot=-1,it=.1,at=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=et,this.right=tt,this.top=nt,this.bottom=ot,this.near=it,this.far=at,this.updateProjectionMatrix()}copy(et,tt){return super.copy(et,tt),this.left=et.left,this.right=et.right,this.top=et.top,this.bottom=et.bottom,this.near=et.near,this.far=et.far,this.zoom=et.zoom,this.view=et.view===null?null:Object.assign({},et.view),this}setViewOffset(et,tt,nt,ot,it,at){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=tt,this.view.offsetX=nt,this.view.offsetY=ot,this.view.width=it,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=(this.right-this.left)/(2*this.zoom),tt=(this.top-this.bottom)/(2*this.zoom),nt=(this.right+this.left)/2,ot=(this.top+this.bottom)/2;let it=nt-et,at=nt+et,st=ot+tt,ut=ot-tt;if(this.view!==null&&this.view.enabled){const ft=(this.right-this.left)/this.view.fullWidth/this.zoom,ht=(this.top-this.bottom)/this.view.fullHeight/this.zoom;it+=ft*this.view.offsetX,at=it+ft*this.view.width,st-=ht*this.view.offsetY,ut=st-ht*this.view.height}this.projectionMatrix.makeOrthographic(it,at,st,ut,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const tt=super.toJSON(et);return tt.object.zoom=this.zoom,tt.object.left=this.left,tt.object.right=this.right,tt.object.top=this.top,tt.object.bottom=this.bottom,tt.object.near=this.near,tt.object.far=this.far,this.view!==null&&(tt.object.view=Object.assign({},this.view)),tt}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(et){this._renderer=et,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(et,tt=0,nt=.1,ot=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const it=this._allocateTargets();return it.depthBuffer=!0,this._sceneToCubeUV(et,nt,ot,it),tt>0&&this._blur(it,0,0,tt),this._applyPMREM(it),this._cleanup(it),it}fromEquirectangular(et,tt=null){return this._fromTexture(et,tt)}fromCubemap(et,tt=null){return this._fromTexture(et,tt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(et){this._lodMax=Math.floor(Math.log2(et)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let et=0;et<this._lodPlanes.length;et++)this._lodPlanes[et].dispose()}_cleanup(et){this._renderer.setRenderTarget(_oldTarget),et.scissorTest=!1,_setViewport(et,0,0,et.width,et.height)}_fromTexture(et,tt){et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping?this._setSize(et.image.length===0?16:et.image[0].width||et.image[0].image.width):this._setSize(et.image.width/4),_oldTarget=this._renderer.getRenderTarget();const nt=tt||this._allocateTargets();return this._textureToCubeUV(et,nt),this._applyPMREM(nt),this._cleanup(nt),nt}_allocateTargets(){const et=3*Math.max(this._cubeSize,112),tt=4*this._cubeSize,nt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace$1,depthBuffer:!1},ot=_createRenderTarget(et,tt,nt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==et||this._pingPongRenderTarget.height!==tt){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(et,tt,nt);const{_lodMax:it}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(it)),this._blurMaterial=_getBlurShader(it,et,tt)}return ot}_compileMaterial(et){const tt=new Mesh(this._lodPlanes[0],et);this._renderer.compile(tt,_flatCamera)}_sceneToCubeUV(et,tt,nt,ot){const st=new PerspectiveCamera(90,1,tt,nt),ut=[1,-1,1,1,1,1],ft=[1,1,1,-1,-1,-1],ht=this._renderer,mt=ht.autoClear,gt=ht.toneMapping;ht.getClearColor(_clearColor),ht.toneMapping=NoToneMapping,ht.autoClear=!1;const yt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),xt=new Mesh(new BoxGeometry,yt);let St=!1;const Tt=et.background;Tt?Tt.isColor&&(yt.color.copy(Tt),et.background=null,St=!0):(yt.color.copy(_clearColor),St=!0);for(let Mt=0;Mt<6;Mt++){const Pt=Mt%3;Pt===0?(st.up.set(0,ut[Mt],0),st.lookAt(ft[Mt],0,0)):Pt===1?(st.up.set(0,0,ut[Mt]),st.lookAt(0,ft[Mt],0)):(st.up.set(0,ut[Mt],0),st.lookAt(0,0,ft[Mt]));const It=this._cubeSize;_setViewport(ot,Pt*It,Mt>2?It:0,It,It),ht.setRenderTarget(ot),St&&ht.render(xt,st),ht.render(et,st)}xt.geometry.dispose(),xt.material.dispose(),ht.toneMapping=gt,ht.autoClear=mt,et.background=Tt}_textureToCubeUV(et,tt){const nt=this._renderer,ot=et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping;ot?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=et.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const it=ot?this._cubemapMaterial:this._equirectMaterial,at=new Mesh(this._lodPlanes[0],it),st=it.uniforms;st.envMap.value=et;const ut=this._cubeSize;_setViewport(tt,0,0,3*ut,2*ut),nt.setRenderTarget(tt),nt.render(at,_flatCamera)}_applyPMREM(et){const tt=this._renderer,nt=tt.autoClear;tt.autoClear=!1;for(let ot=1;ot<this._lodPlanes.length;ot++){const it=Math.sqrt(this._sigmas[ot]*this._sigmas[ot]-this._sigmas[ot-1]*this._sigmas[ot-1]),at=_axisDirections[(ot-1)%_axisDirections.length];this._blur(et,ot-1,ot,it,at)}tt.autoClear=nt}_blur(et,tt,nt,ot,it){const at=this._pingPongRenderTarget;this._halfBlur(et,at,tt,nt,ot,"latitudinal",it),this._halfBlur(at,et,nt,nt,ot,"longitudinal",it)}_halfBlur(et,tt,nt,ot,it,at,st){const ut=this._renderer,ft=this._blurMaterial;at!=="latitudinal"&&at!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ht=3,mt=new Mesh(this._lodPlanes[ot],ft),gt=ft.uniforms,yt=this._sizeLods[nt]-1,xt=isFinite(it)?Math.PI/(2*yt):2*Math.PI/(2*MAX_SAMPLES-1),St=it/xt,Tt=isFinite(it)?1+Math.floor(ht*St):MAX_SAMPLES;Tt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${it}, is too large and will clip, as it requested ${Tt} samples when the maximum is set to ${MAX_SAMPLES}`);const Mt=[];let Pt=0;for(let Gt=0;Gt<MAX_SAMPLES;++Gt){const Wt=Gt/St,Ot=Math.exp(-Wt*Wt/2);Mt.push(Ot),Gt===0?Pt+=Ot:Gt<Tt&&(Pt+=2*Ot)}for(let Gt=0;Gt<Mt.length;Gt++)Mt[Gt]=Mt[Gt]/Pt;gt.envMap.value=et.texture,gt.samples.value=Tt,gt.weights.value=Mt,gt.latitudinal.value=at==="latitudinal",st&&(gt.poleAxis.value=st);const{_lodMax:It}=this;gt.dTheta.value=xt,gt.mipInt.value=It-nt;const kt=this._sizeLods[ot],Dt=3*kt*(ot>It-LOD_MIN?ot-It+LOD_MIN:0),Nt=4*(this._cubeSize-kt);_setViewport(tt,Dt,Nt,3*kt,2*kt),ut.setRenderTarget(tt),ut.render(mt,_flatCamera)}}function _createPlanes(rt){const et=[],tt=[],nt=[];let ot=rt;const it=rt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let at=0;at<it;at++){const st=Math.pow(2,ot);tt.push(st);let ut=1/st;at>rt-LOD_MIN?ut=EXTRA_LOD_SIGMA[at-rt+LOD_MIN-1]:at===0&&(ut=0),nt.push(ut);const ft=1/(st-2),ht=-ft,mt=1+ft,gt=[ht,ht,mt,ht,mt,mt,ht,ht,mt,mt,ht,mt],yt=6,xt=6,St=3,Tt=2,Mt=1,Pt=new Float32Array(St*xt*yt),It=new Float32Array(Tt*xt*yt),kt=new Float32Array(Mt*xt*yt);for(let Nt=0;Nt<yt;Nt++){const Gt=Nt%3*2/3-1,Wt=Nt>2?0:-1,Ot=[Gt,Wt,0,Gt+2/3,Wt,0,Gt+2/3,Wt+1,0,Gt,Wt,0,Gt+2/3,Wt+1,0,Gt,Wt+1,0];Pt.set(Ot,St*xt*Nt),It.set(gt,Tt*xt*Nt);const Xt=[Nt,Nt,Nt,Nt,Nt,Nt];kt.set(Xt,Mt*xt*Nt)}const Dt=new BufferGeometry;Dt.setAttribute("position",new BufferAttribute(Pt,St)),Dt.setAttribute("uv",new BufferAttribute(It,Tt)),Dt.setAttribute("faceIndex",new BufferAttribute(kt,Mt)),et.push(Dt),ot>LOD_MIN&&ot--}return{lodPlanes:et,sizeLods:tt,sigmas:nt}}function _createRenderTarget(rt,et,tt){const nt=new WebGLRenderTarget(rt,et,tt);return nt.texture.mapping=CubeUVReflectionMapping,nt.texture.name="PMREM.cubeUv",nt.scissorTest=!0,nt}function _setViewport(rt,et,tt,nt,ot){rt.viewport.set(et,tt,nt,ot),rt.scissor.set(et,tt,nt,ot)}function _getBlurShader(rt,et,tt){const nt=new Float32Array(MAX_SAMPLES),ot=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/et,CUBEUV_TEXEL_HEIGHT:1/tt,CUBEUV_MAX_MIP:`${rt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:nt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:ot}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(rt){let et=new WeakMap,tt=null;function nt(st){if(st&&st.isTexture){const ut=st.mapping,ft=ut===EquirectangularReflectionMapping||ut===EquirectangularRefractionMapping,ht=ut===CubeReflectionMapping||ut===CubeRefractionMapping;if(ft||ht)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let mt=et.get(st);return tt===null&&(tt=new PMREMGenerator(rt)),mt=ft?tt.fromEquirectangular(st,mt):tt.fromCubemap(st,mt),et.set(st,mt),mt.texture}else{if(et.has(st))return et.get(st).texture;{const mt=st.image;if(ft&&mt&&mt.height>0||ht&&mt&&ot(mt)){tt===null&&(tt=new PMREMGenerator(rt));const gt=ft?tt.fromEquirectangular(st):tt.fromCubemap(st);return et.set(st,gt),st.addEventListener("dispose",it),gt.texture}else return null}}}return st}function ot(st){let ut=0;const ft=6;for(let ht=0;ht<ft;ht++)st[ht]!==void 0&&ut++;return ut===ft}function it(st){const ut=st.target;ut.removeEventListener("dispose",it);const ft=et.get(ut);ft!==void 0&&(et.delete(ut),ft.dispose())}function at(){et=new WeakMap,tt!==null&&(tt.dispose(),tt=null)}return{get:nt,dispose:at}}function WebGLExtensions(rt){const et={};function tt(nt){if(et[nt]!==void 0)return et[nt];let ot;switch(nt){case"WEBGL_depth_texture":ot=rt.getExtension("WEBGL_depth_texture")||rt.getExtension("MOZ_WEBGL_depth_texture")||rt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":ot=rt.getExtension("EXT_texture_filter_anisotropic")||rt.getExtension("MOZ_EXT_texture_filter_anisotropic")||rt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":ot=rt.getExtension("WEBGL_compressed_texture_s3tc")||rt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||rt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":ot=rt.getExtension("WEBGL_compressed_texture_pvrtc")||rt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:ot=rt.getExtension(nt)}return et[nt]=ot,ot}return{has:function(nt){return tt(nt)!==null},init:function(nt){nt.isWebGL2?tt("EXT_color_buffer_float"):(tt("WEBGL_depth_texture"),tt("OES_texture_float"),tt("OES_texture_half_float"),tt("OES_texture_half_float_linear"),tt("OES_standard_derivatives"),tt("OES_element_index_uint"),tt("OES_vertex_array_object"),tt("ANGLE_instanced_arrays")),tt("OES_texture_float_linear"),tt("EXT_color_buffer_half_float"),tt("WEBGL_multisampled_render_to_texture")},get:function(nt){const ot=tt(nt);return ot===null&&console.warn("THREE.WebGLRenderer: "+nt+" extension not supported."),ot}}}function WebGLGeometries(rt,et,tt,nt){const ot={},it=new WeakMap;function at(mt){const gt=mt.target;gt.index!==null&&et.remove(gt.index);for(const xt in gt.attributes)et.remove(gt.attributes[xt]);for(const xt in gt.morphAttributes){const St=gt.morphAttributes[xt];for(let Tt=0,Mt=St.length;Tt<Mt;Tt++)et.remove(St[Tt])}gt.removeEventListener("dispose",at),delete ot[gt.id];const yt=it.get(gt);yt&&(et.remove(yt),it.delete(gt)),nt.releaseStatesOfGeometry(gt),gt.isInstancedBufferGeometry===!0&&delete gt._maxInstanceCount,tt.memory.geometries--}function st(mt,gt){return ot[gt.id]===!0||(gt.addEventListener("dispose",at),ot[gt.id]=!0,tt.memory.geometries++),gt}function ut(mt){const gt=mt.attributes;for(const xt in gt)et.update(gt[xt],rt.ARRAY_BUFFER);const yt=mt.morphAttributes;for(const xt in yt){const St=yt[xt];for(let Tt=0,Mt=St.length;Tt<Mt;Tt++)et.update(St[Tt],rt.ARRAY_BUFFER)}}function ft(mt){const gt=[],yt=mt.index,xt=mt.attributes.position;let St=0;if(yt!==null){const Pt=yt.array;St=yt.version;for(let It=0,kt=Pt.length;It<kt;It+=3){const Dt=Pt[It+0],Nt=Pt[It+1],Gt=Pt[It+2];gt.push(Dt,Nt,Nt,Gt,Gt,Dt)}}else if(xt!==void 0){const Pt=xt.array;St=xt.version;for(let It=0,kt=Pt.length/3-1;It<kt;It+=3){const Dt=It+0,Nt=It+1,Gt=It+2;gt.push(Dt,Nt,Nt,Gt,Gt,Dt)}}else return;const Tt=new(arrayNeedsUint32(gt)?Uint32BufferAttribute:Uint16BufferAttribute)(gt,1);Tt.version=St;const Mt=it.get(mt);Mt&&et.remove(Mt),it.set(mt,Tt)}function ht(mt){const gt=it.get(mt);if(gt){const yt=mt.index;yt!==null&&gt.version<yt.version&&ft(mt)}else ft(mt);return it.get(mt)}return{get:st,update:ut,getWireframeAttribute:ht}}function WebGLIndexedBufferRenderer(rt,et,tt,nt){const ot=nt.isWebGL2;let it;function at(gt){it=gt}let st,ut;function ft(gt){st=gt.type,ut=gt.bytesPerElement}function ht(gt,yt){rt.drawElements(it,yt,st,gt*ut),tt.update(yt,it,1)}function mt(gt,yt,xt){if(xt===0)return;let St,Tt;if(ot)St=rt,Tt="drawElementsInstanced";else if(St=et.get("ANGLE_instanced_arrays"),Tt="drawElementsInstancedANGLE",St===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}St[Tt](it,yt,st,gt*ut,xt),tt.update(yt,it,xt)}this.setMode=at,this.setIndex=ft,this.render=ht,this.renderInstances=mt}function WebGLInfo(rt){const et={geometries:0,textures:0},tt={frame:0,calls:0,triangles:0,points:0,lines:0};function nt(it,at,st){switch(tt.calls++,at){case rt.TRIANGLES:tt.triangles+=st*(it/3);break;case rt.LINES:tt.lines+=st*(it/2);break;case rt.LINE_STRIP:tt.lines+=st*(it-1);break;case rt.LINE_LOOP:tt.lines+=st*it;break;case rt.POINTS:tt.points+=st*it;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",at);break}}function ot(){tt.calls=0,tt.triangles=0,tt.points=0,tt.lines=0}return{memory:et,render:tt,programs:null,autoReset:!0,reset:ot,update:nt}}function numericalSort(rt,et){return rt[0]-et[0]}function absNumericalSort(rt,et){return Math.abs(et[1])-Math.abs(rt[1])}function WebGLMorphtargets(rt,et,tt){const nt={},ot=new Float32Array(8),it=new WeakMap,at=new Vector4,st=[];for(let ft=0;ft<8;ft++)st[ft]=[ft,0];function ut(ft,ht,mt){const gt=ft.morphTargetInfluences;if(et.isWebGL2===!0){const xt=ht.morphAttributes.position||ht.morphAttributes.normal||ht.morphAttributes.color,St=xt!==void 0?xt.length:0;let Tt=it.get(ht);if(Tt===void 0||Tt.count!==St){let vt=function(){dt.dispose(),it.delete(ht),ht.removeEventListener("dispose",vt)};var yt=vt;Tt!==void 0&&Tt.texture.dispose();const It=ht.morphAttributes.position!==void 0,kt=ht.morphAttributes.normal!==void 0,Dt=ht.morphAttributes.color!==void 0,Nt=ht.morphAttributes.position||[],Gt=ht.morphAttributes.normal||[],Wt=ht.morphAttributes.color||[];let Ot=0;It===!0&&(Ot=1),kt===!0&&(Ot=2),Dt===!0&&(Ot=3);let Xt=ht.attributes.position.count*Ot,Et=1;Xt>et.maxTextureSize&&(Et=Math.ceil(Xt/et.maxTextureSize),Xt=et.maxTextureSize);const lt=new Float32Array(Xt*Et*4*St),dt=new DataArrayTexture(lt,Xt,Et,St);dt.type=FloatType,dt.needsUpdate=!0;const pt=Ot*4;for(let wt=0;wt<St;wt++){const At=Nt[wt],Rt=Gt[wt],bt=Wt[wt],ct=Xt*Et*4*wt;for(let _t=0;_t<At.count;_t++){const Lt=_t*pt;It===!0&&(at.fromBufferAttribute(At,_t),lt[ct+Lt+0]=at.x,lt[ct+Lt+1]=at.y,lt[ct+Lt+2]=at.z,lt[ct+Lt+3]=0),kt===!0&&(at.fromBufferAttribute(Rt,_t),lt[ct+Lt+4]=at.x,lt[ct+Lt+5]=at.y,lt[ct+Lt+6]=at.z,lt[ct+Lt+7]=0),Dt===!0&&(at.fromBufferAttribute(bt,_t),lt[ct+Lt+8]=at.x,lt[ct+Lt+9]=at.y,lt[ct+Lt+10]=at.z,lt[ct+Lt+11]=bt.itemSize===4?at.w:1)}}Tt={count:St,texture:dt,size:new Vector2(Xt,Et)},it.set(ht,Tt),ht.addEventListener("dispose",vt)}let Mt=0;for(let It=0;It<gt.length;It++)Mt+=gt[It];const Pt=ht.morphTargetsRelative?1:1-Mt;mt.getUniforms().setValue(rt,"morphTargetBaseInfluence",Pt),mt.getUniforms().setValue(rt,"morphTargetInfluences",gt),mt.getUniforms().setValue(rt,"morphTargetsTexture",Tt.texture,tt),mt.getUniforms().setValue(rt,"morphTargetsTextureSize",Tt.size)}else{const xt=gt===void 0?0:gt.length;let St=nt[ht.id];if(St===void 0||St.length!==xt){St=[];for(let kt=0;kt<xt;kt++)St[kt]=[kt,0];nt[ht.id]=St}for(let kt=0;kt<xt;kt++){const Dt=St[kt];Dt[0]=kt,Dt[1]=gt[kt]}St.sort(absNumericalSort);for(let kt=0;kt<8;kt++)kt<xt&&St[kt][1]?(st[kt][0]=St[kt][0],st[kt][1]=St[kt][1]):(st[kt][0]=Number.MAX_SAFE_INTEGER,st[kt][1]=0);st.sort(numericalSort);const Tt=ht.morphAttributes.position,Mt=ht.morphAttributes.normal;let Pt=0;for(let kt=0;kt<8;kt++){const Dt=st[kt],Nt=Dt[0],Gt=Dt[1];Nt!==Number.MAX_SAFE_INTEGER&&Gt?(Tt&&ht.getAttribute("morphTarget"+kt)!==Tt[Nt]&&ht.setAttribute("morphTarget"+kt,Tt[Nt]),Mt&&ht.getAttribute("morphNormal"+kt)!==Mt[Nt]&&ht.setAttribute("morphNormal"+kt,Mt[Nt]),ot[kt]=Gt,Pt+=Gt):(Tt&&ht.hasAttribute("morphTarget"+kt)===!0&&ht.deleteAttribute("morphTarget"+kt),Mt&&ht.hasAttribute("morphNormal"+kt)===!0&&ht.deleteAttribute("morphNormal"+kt),ot[kt]=0)}const It=ht.morphTargetsRelative?1:1-Pt;mt.getUniforms().setValue(rt,"morphTargetBaseInfluence",It),mt.getUniforms().setValue(rt,"morphTargetInfluences",ot)}}return{update:ut}}function WebGLObjects(rt,et,tt,nt){let ot=new WeakMap;function it(ut){const ft=nt.render.frame,ht=ut.geometry,mt=et.get(ut,ht);if(ot.get(mt)!==ft&&(et.update(mt),ot.set(mt,ft)),ut.isInstancedMesh&&(ut.hasEventListener("dispose",st)===!1&&ut.addEventListener("dispose",st),ot.get(ut)!==ft&&(tt.update(ut.instanceMatrix,rt.ARRAY_BUFFER),ut.instanceColor!==null&&tt.update(ut.instanceColor,rt.ARRAY_BUFFER),ot.set(ut,ft))),ut.isSkinnedMesh){const gt=ut.skeleton;ot.get(gt)!==ft&&(gt.update(),ot.set(gt,ft))}return mt}function at(){ot=new WeakMap}function st(ut){const ft=ut.target;ft.removeEventListener("dispose",st),tt.remove(ft.instanceMatrix),ft.instanceColor!==null&&tt.remove(ft.instanceColor)}return{update:it,dispose:at}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(rt,et,tt){const nt=rt[0];if(nt<=0||nt>0)return rt;const ot=et*tt;let it=arrayCacheF32[ot];if(it===void 0&&(it=new Float32Array(ot),arrayCacheF32[ot]=it),et!==0){nt.toArray(it,0);for(let at=1,st=0;at!==et;++at)st+=tt,rt[at].toArray(it,st)}return it}function arraysEqual(rt,et){if(rt.length!==et.length)return!1;for(let tt=0,nt=rt.length;tt<nt;tt++)if(rt[tt]!==et[tt])return!1;return!0}function copyArray(rt,et){for(let tt=0,nt=et.length;tt<nt;tt++)rt[tt]=et[tt]}function allocTexUnits(rt,et){let tt=arrayCacheI32[et];tt===void 0&&(tt=new Int32Array(et),arrayCacheI32[et]=tt);for(let nt=0;nt!==et;++nt)tt[nt]=rt.allocateTextureUnit();return tt}function setValueV1f(rt,et){const tt=this.cache;tt[0]!==et&&(rt.uniform1f(this.addr,et),tt[0]=et)}function setValueV2f(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y)&&(rt.uniform2f(this.addr,et.x,et.y),tt[0]=et.x,tt[1]=et.y);else{if(arraysEqual(tt,et))return;rt.uniform2fv(this.addr,et),copyArray(tt,et)}}function setValueV3f(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z)&&(rt.uniform3f(this.addr,et.x,et.y,et.z),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z);else if(et.r!==void 0)(tt[0]!==et.r||tt[1]!==et.g||tt[2]!==et.b)&&(rt.uniform3f(this.addr,et.r,et.g,et.b),tt[0]=et.r,tt[1]=et.g,tt[2]=et.b);else{if(arraysEqual(tt,et))return;rt.uniform3fv(this.addr,et),copyArray(tt,et)}}function setValueV4f(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z||tt[3]!==et.w)&&(rt.uniform4f(this.addr,et.x,et.y,et.z,et.w),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z,tt[3]=et.w);else{if(arraysEqual(tt,et))return;rt.uniform4fv(this.addr,et),copyArray(tt,et)}}function setValueM2(rt,et){const tt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(tt,et))return;rt.uniformMatrix2fv(this.addr,!1,et),copyArray(tt,et)}else{if(arraysEqual(tt,nt))return;mat2array.set(nt),rt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(tt,nt)}}function setValueM3(rt,et){const tt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(tt,et))return;rt.uniformMatrix3fv(this.addr,!1,et),copyArray(tt,et)}else{if(arraysEqual(tt,nt))return;mat3array.set(nt),rt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(tt,nt)}}function setValueM4(rt,et){const tt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(tt,et))return;rt.uniformMatrix4fv(this.addr,!1,et),copyArray(tt,et)}else{if(arraysEqual(tt,nt))return;mat4array.set(nt),rt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(tt,nt)}}function setValueV1i(rt,et){const tt=this.cache;tt[0]!==et&&(rt.uniform1i(this.addr,et),tt[0]=et)}function setValueV2i(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y)&&(rt.uniform2i(this.addr,et.x,et.y),tt[0]=et.x,tt[1]=et.y);else{if(arraysEqual(tt,et))return;rt.uniform2iv(this.addr,et),copyArray(tt,et)}}function setValueV3i(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z)&&(rt.uniform3i(this.addr,et.x,et.y,et.z),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z);else{if(arraysEqual(tt,et))return;rt.uniform3iv(this.addr,et),copyArray(tt,et)}}function setValueV4i(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z||tt[3]!==et.w)&&(rt.uniform4i(this.addr,et.x,et.y,et.z,et.w),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z,tt[3]=et.w);else{if(arraysEqual(tt,et))return;rt.uniform4iv(this.addr,et),copyArray(tt,et)}}function setValueV1ui(rt,et){const tt=this.cache;tt[0]!==et&&(rt.uniform1ui(this.addr,et),tt[0]=et)}function setValueV2ui(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y)&&(rt.uniform2ui(this.addr,et.x,et.y),tt[0]=et.x,tt[1]=et.y);else{if(arraysEqual(tt,et))return;rt.uniform2uiv(this.addr,et),copyArray(tt,et)}}function setValueV3ui(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z)&&(rt.uniform3ui(this.addr,et.x,et.y,et.z),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z);else{if(arraysEqual(tt,et))return;rt.uniform3uiv(this.addr,et),copyArray(tt,et)}}function setValueV4ui(rt,et){const tt=this.cache;if(et.x!==void 0)(tt[0]!==et.x||tt[1]!==et.y||tt[2]!==et.z||tt[3]!==et.w)&&(rt.uniform4ui(this.addr,et.x,et.y,et.z,et.w),tt[0]=et.x,tt[1]=et.y,tt[2]=et.z,tt[3]=et.w);else{if(arraysEqual(tt,et))return;rt.uniform4uiv(this.addr,et),copyArray(tt,et)}}function setValueT1(rt,et,tt){const nt=this.cache,ot=tt.allocateTextureUnit();nt[0]!==ot&&(rt.uniform1i(this.addr,ot),nt[0]=ot),tt.setTexture2D(et||emptyTexture,ot)}function setValueT3D1(rt,et,tt){const nt=this.cache,ot=tt.allocateTextureUnit();nt[0]!==ot&&(rt.uniform1i(this.addr,ot),nt[0]=ot),tt.setTexture3D(et||empty3dTexture,ot)}function setValueT6(rt,et,tt){const nt=this.cache,ot=tt.allocateTextureUnit();nt[0]!==ot&&(rt.uniform1i(this.addr,ot),nt[0]=ot),tt.setTextureCube(et||emptyCubeTexture,ot)}function setValueT2DArray1(rt,et,tt){const nt=this.cache,ot=tt.allocateTextureUnit();nt[0]!==ot&&(rt.uniform1i(this.addr,ot),nt[0]=ot),tt.setTexture2DArray(et||emptyArrayTexture,ot)}function getSingularSetter(rt){switch(rt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(rt,et){rt.uniform1fv(this.addr,et)}function setValueV2fArray(rt,et){const tt=flatten(et,this.size,2);rt.uniform2fv(this.addr,tt)}function setValueV3fArray(rt,et){const tt=flatten(et,this.size,3);rt.uniform3fv(this.addr,tt)}function setValueV4fArray(rt,et){const tt=flatten(et,this.size,4);rt.uniform4fv(this.addr,tt)}function setValueM2Array(rt,et){const tt=flatten(et,this.size,4);rt.uniformMatrix2fv(this.addr,!1,tt)}function setValueM3Array(rt,et){const tt=flatten(et,this.size,9);rt.uniformMatrix3fv(this.addr,!1,tt)}function setValueM4Array(rt,et){const tt=flatten(et,this.size,16);rt.uniformMatrix4fv(this.addr,!1,tt)}function setValueV1iArray(rt,et){rt.uniform1iv(this.addr,et)}function setValueV2iArray(rt,et){rt.uniform2iv(this.addr,et)}function setValueV3iArray(rt,et){rt.uniform3iv(this.addr,et)}function setValueV4iArray(rt,et){rt.uniform4iv(this.addr,et)}function setValueV1uiArray(rt,et){rt.uniform1uiv(this.addr,et)}function setValueV2uiArray(rt,et){rt.uniform2uiv(this.addr,et)}function setValueV3uiArray(rt,et){rt.uniform3uiv(this.addr,et)}function setValueV4uiArray(rt,et){rt.uniform4uiv(this.addr,et)}function setValueT1Array(rt,et,tt){const nt=this.cache,ot=et.length,it=allocTexUnits(tt,ot);arraysEqual(nt,it)||(rt.uniform1iv(this.addr,it),copyArray(nt,it));for(let at=0;at!==ot;++at)tt.setTexture2D(et[at]||emptyTexture,it[at])}function setValueT3DArray(rt,et,tt){const nt=this.cache,ot=et.length,it=allocTexUnits(tt,ot);arraysEqual(nt,it)||(rt.uniform1iv(this.addr,it),copyArray(nt,it));for(let at=0;at!==ot;++at)tt.setTexture3D(et[at]||empty3dTexture,it[at])}function setValueT6Array(rt,et,tt){const nt=this.cache,ot=et.length,it=allocTexUnits(tt,ot);arraysEqual(nt,it)||(rt.uniform1iv(this.addr,it),copyArray(nt,it));for(let at=0;at!==ot;++at)tt.setTextureCube(et[at]||emptyCubeTexture,it[at])}function setValueT2DArrayArray(rt,et,tt){const nt=this.cache,ot=et.length,it=allocTexUnits(tt,ot);arraysEqual(nt,it)||(rt.uniform1iv(this.addr,it),copyArray(nt,it));for(let at=0;at!==ot;++at)tt.setTexture2DArray(et[at]||emptyArrayTexture,it[at])}function getPureArraySetter(rt){switch(rt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(et,tt,nt){this.id=et,this.addr=nt,this.cache=[],this.setValue=getSingularSetter(tt.type)}}class PureArrayUniform{constructor(et,tt,nt){this.id=et,this.addr=nt,this.cache=[],this.size=tt.size,this.setValue=getPureArraySetter(tt.type)}}class StructuredUniform{constructor(et){this.id=et,this.seq=[],this.map={}}setValue(et,tt,nt){const ot=this.seq;for(let it=0,at=ot.length;it!==at;++it){const st=ot[it];st.setValue(et,tt[st.id],nt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(rt,et){rt.seq.push(et),rt.map[et.id]=et}function parseUniform(rt,et,tt){const nt=rt.name,ot=nt.length;for(RePathPart.lastIndex=0;;){const it=RePathPart.exec(nt),at=RePathPart.lastIndex;let st=it[1];const ut=it[2]==="]",ft=it[3];if(ut&&(st=st|0),ft===void 0||ft==="["&&at+2===ot){addUniform(tt,ft===void 0?new SingleUniform(st,rt,et):new PureArrayUniform(st,rt,et));break}else{let mt=tt.map[st];mt===void 0&&(mt=new StructuredUniform(st),addUniform(tt,mt)),tt=mt}}}class WebGLUniforms{constructor(et,tt){this.seq=[],this.map={};const nt=et.getProgramParameter(tt,et.ACTIVE_UNIFORMS);for(let ot=0;ot<nt;++ot){const it=et.getActiveUniform(tt,ot),at=et.getUniformLocation(tt,it.name);parseUniform(it,at,this)}}setValue(et,tt,nt,ot){const it=this.map[tt];it!==void 0&&it.setValue(et,nt,ot)}setOptional(et,tt,nt){const ot=tt[nt];ot!==void 0&&this.setValue(et,nt,ot)}static upload(et,tt,nt,ot){for(let it=0,at=tt.length;it!==at;++it){const st=tt[it],ut=nt[st.id];ut.needsUpdate!==!1&&st.setValue(et,ut.value,ot)}}static seqWithValue(et,tt){const nt=[];for(let ot=0,it=et.length;ot!==it;++ot){const at=et[ot];at.id in tt&&nt.push(at)}return nt}}function WebGLShader(rt,et,tt){const nt=rt.createShader(et);return rt.shaderSource(nt,tt),rt.compileShader(nt),nt}let programIdCount=0;function handleSource(rt,et){const tt=rt.split(`
`),nt=[],ot=Math.max(et-6,0),it=Math.min(et+6,tt.length);for(let at=ot;at<it;at++){const st=at+1;nt.push(`${st===et?">":" "} ${st}: ${tt[at]}`)}return nt.join(`
`)}function getEncodingComponents(rt){const et=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),tt=ColorManagement.getPrimaries(rt);let nt;switch(et===tt?nt="":et===P3Primaries&&tt===Rec709Primaries?nt="LinearDisplayP3ToLinearSRGB":et===Rec709Primaries&&tt===P3Primaries&&(nt="LinearSRGBToLinearDisplayP3"),rt){case LinearSRGBColorSpace$1:case LinearDisplayP3ColorSpace:return[nt,"LinearTransferOETF"];case SRGBColorSpace$1:case DisplayP3ColorSpace:return[nt,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",rt),[nt,"LinearTransferOETF"]}}function getShaderErrors(rt,et,tt){const nt=rt.getShaderParameter(et,rt.COMPILE_STATUS),ot=rt.getShaderInfoLog(et).trim();if(nt&&ot==="")return"";const it=/ERROR: 0:(\d+)/.exec(ot);if(it){const at=parseInt(it[1]);return tt.toUpperCase()+`

`+ot+`

`+handleSource(rt.getShaderSource(et),at)}else return ot}function getTexelEncodingFunction(rt,et){const tt=getEncodingComponents(et);return`vec4 ${rt}( vec4 value ) { return ${tt[0]}( ${tt[1]}( value ) ); }`}function getToneMappingFunction(rt,et){let tt;switch(et){case LinearToneMapping:tt="Linear";break;case ReinhardToneMapping:tt="Reinhard";break;case CineonToneMapping:tt="OptimizedCineon";break;case ACESFilmicToneMapping:tt="ACESFilmic";break;case CustomToneMapping:tt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",et),tt="Linear"}return"vec3 "+rt+"( vec3 color ) { return "+tt+"ToneMapping( color ); }"}function generateExtensions(rt){return[rt.extensionDerivatives||rt.envMapCubeUVHeight||rt.bumpMap||rt.normalMapTangentSpace||rt.clearcoatNormalMap||rt.flatShading||rt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(rt.extensionFragDepth||rt.logarithmicDepthBuffer)&&rt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",rt.extensionDrawBuffers&&rt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(rt.extensionShaderTextureLOD||rt.envMap||rt.transmission)&&rt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(rt){const et=[];for(const tt in rt){const nt=rt[tt];nt!==!1&&et.push("#define "+tt+" "+nt)}return et.join(`
`)}function fetchAttributeLocations(rt,et){const tt={},nt=rt.getProgramParameter(et,rt.ACTIVE_ATTRIBUTES);for(let ot=0;ot<nt;ot++){const it=rt.getActiveAttrib(et,ot),at=it.name;let st=1;it.type===rt.FLOAT_MAT2&&(st=2),it.type===rt.FLOAT_MAT3&&(st=3),it.type===rt.FLOAT_MAT4&&(st=4),tt[at]={type:it.type,location:rt.getAttribLocation(et,at),locationSize:st}}return tt}function filterEmptyLine(rt){return rt!==""}function replaceLightNums(rt,et){const tt=et.numSpotLightShadows+et.numSpotLightMaps-et.numSpotLightShadowsWithMaps;return rt.replace(/NUM_DIR_LIGHTS/g,et.numDirLights).replace(/NUM_SPOT_LIGHTS/g,et.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,et.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,tt).replace(/NUM_RECT_AREA_LIGHTS/g,et.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,et.numPointLights).replace(/NUM_HEMI_LIGHTS/g,et.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,et.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,et.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,et.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,et.numPointLightShadows)}function replaceClippingPlaneNums(rt,et){return rt.replace(/NUM_CLIPPING_PLANES/g,et.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,et.numClippingPlanes-et.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(rt){return rt.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(rt,et){let tt=ShaderChunk[et];if(tt===void 0){const nt=shaderChunkMap.get(et);if(nt!==void 0)tt=ShaderChunk[nt],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',et,nt);else throw new Error("Can not resolve #include <"+et+">")}return resolveIncludes(tt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(rt){return rt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(rt,et,tt,nt){let ot="";for(let it=parseInt(et);it<parseInt(tt);it++)ot+=nt.replace(/\[\s*i\s*\]/g,"[ "+it+" ]").replace(/UNROLLED_LOOP_INDEX/g,it);return ot}function generatePrecision(rt){let et="precision "+rt.precision+` float;
precision `+rt.precision+" int;";return rt.precision==="highp"?et+=`
#define HIGH_PRECISION`:rt.precision==="mediump"?et+=`
#define MEDIUM_PRECISION`:rt.precision==="lowp"&&(et+=`
#define LOW_PRECISION`),et}function generateShadowMapTypeDefine(rt){let et="SHADOWMAP_TYPE_BASIC";return rt.shadowMapType===PCFShadowMap?et="SHADOWMAP_TYPE_PCF":rt.shadowMapType===PCFSoftShadowMap?et="SHADOWMAP_TYPE_PCF_SOFT":rt.shadowMapType===VSMShadowMap&&(et="SHADOWMAP_TYPE_VSM"),et}function generateEnvMapTypeDefine(rt){let et="ENVMAP_TYPE_CUBE";if(rt.envMap)switch(rt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:et="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:et="ENVMAP_TYPE_CUBE_UV";break}return et}function generateEnvMapModeDefine(rt){let et="ENVMAP_MODE_REFLECTION";if(rt.envMap)switch(rt.envMapMode){case CubeRefractionMapping:et="ENVMAP_MODE_REFRACTION";break}return et}function generateEnvMapBlendingDefine(rt){let et="ENVMAP_BLENDING_NONE";if(rt.envMap)switch(rt.combine){case MultiplyOperation:et="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:et="ENVMAP_BLENDING_MIX";break;case AddOperation:et="ENVMAP_BLENDING_ADD";break}return et}function generateCubeUVSize(rt){const et=rt.envMapCubeUVHeight;if(et===null)return null;const tt=Math.log2(et)-2,nt=1/et;return{texelWidth:1/(3*Math.max(Math.pow(2,tt),7*16)),texelHeight:nt,maxMip:tt}}function WebGLProgram(rt,et,tt,nt){const ot=rt.getContext(),it=tt.defines;let at=tt.vertexShader,st=tt.fragmentShader;const ut=generateShadowMapTypeDefine(tt),ft=generateEnvMapTypeDefine(tt),ht=generateEnvMapModeDefine(tt),mt=generateEnvMapBlendingDefine(tt),gt=generateCubeUVSize(tt),yt=tt.isWebGL2?"":generateExtensions(tt),xt=generateDefines(it),St=ot.createProgram();let Tt,Mt,Pt=tt.glslVersion?"#version "+tt.glslVersion+`
`:"";tt.isRawShaderMaterial?(Tt=["#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,xt].filter(filterEmptyLine).join(`
`),Tt.length>0&&(Tt+=`
`),Mt=[yt,"#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,xt].filter(filterEmptyLine).join(`
`),Mt.length>0&&(Mt+=`
`)):(Tt=[generatePrecision(tt),"#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,xt,tt.instancing?"#define USE_INSTANCING":"",tt.instancingColor?"#define USE_INSTANCING_COLOR":"",tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+ht:"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",tt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",tt.displacementMap?"#define USE_DISPLACEMENTMAP":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.anisotropy?"#define USE_ANISOTROPY":"",tt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",tt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaHash?"#define USE_ALPHAHASH":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",tt.mapUv?"#define MAP_UV "+tt.mapUv:"",tt.alphaMapUv?"#define ALPHAMAP_UV "+tt.alphaMapUv:"",tt.lightMapUv?"#define LIGHTMAP_UV "+tt.lightMapUv:"",tt.aoMapUv?"#define AOMAP_UV "+tt.aoMapUv:"",tt.emissiveMapUv?"#define EMISSIVEMAP_UV "+tt.emissiveMapUv:"",tt.bumpMapUv?"#define BUMPMAP_UV "+tt.bumpMapUv:"",tt.normalMapUv?"#define NORMALMAP_UV "+tt.normalMapUv:"",tt.displacementMapUv?"#define DISPLACEMENTMAP_UV "+tt.displacementMapUv:"",tt.metalnessMapUv?"#define METALNESSMAP_UV "+tt.metalnessMapUv:"",tt.roughnessMapUv?"#define ROUGHNESSMAP_UV "+tt.roughnessMapUv:"",tt.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+tt.anisotropyMapUv:"",tt.clearcoatMapUv?"#define CLEARCOATMAP_UV "+tt.clearcoatMapUv:"",tt.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+tt.clearcoatNormalMapUv:"",tt.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+tt.clearcoatRoughnessMapUv:"",tt.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+tt.iridescenceMapUv:"",tt.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+tt.iridescenceThicknessMapUv:"",tt.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+tt.sheenColorMapUv:"",tt.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+tt.sheenRoughnessMapUv:"",tt.specularMapUv?"#define SPECULARMAP_UV "+tt.specularMapUv:"",tt.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+tt.specularColorMapUv:"",tt.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+tt.specularIntensityMapUv:"",tt.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+tt.transmissionMapUv:"",tt.thicknessMapUv?"#define THICKNESSMAP_UV "+tt.thicknessMapUv:"",tt.vertexTangents&&tt.flatShading===!1?"#define USE_TANGENT":"",tt.vertexColors?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUv1s?"#define USE_UV1":"",tt.vertexUv2s?"#define USE_UV2":"",tt.vertexUv3s?"#define USE_UV3":"",tt.pointsUvs?"#define USE_POINTS_UV":"",tt.flatShading?"#define FLAT_SHADED":"",tt.skinning?"#define USE_SKINNING":"",tt.morphTargets?"#define USE_MORPHTARGETS":"",tt.morphNormals&&tt.flatShading===!1?"#define USE_MORPHNORMALS":"",tt.morphColors&&tt.isWebGL2?"#define USE_MORPHCOLORS":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+tt.morphTextureStride:"",tt.morphTargetsCount>0&&tt.isWebGL2?"#define MORPHTARGETS_COUNT "+tt.morphTargetsCount:"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+ut:"",tt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",tt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",tt.useLegacyLights?"#define LEGACY_LIGHTS":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Mt=[yt,generatePrecision(tt),"#define SHADER_TYPE "+tt.shaderType,"#define SHADER_NAME "+tt.shaderName,xt,tt.useFog&&tt.fog?"#define USE_FOG":"",tt.useFog&&tt.fogExp2?"#define FOG_EXP2":"",tt.map?"#define USE_MAP":"",tt.matcap?"#define USE_MATCAP":"",tt.envMap?"#define USE_ENVMAP":"",tt.envMap?"#define "+ft:"",tt.envMap?"#define "+ht:"",tt.envMap?"#define "+mt:"",gt?"#define CUBEUV_TEXEL_WIDTH "+gt.texelWidth:"",gt?"#define CUBEUV_TEXEL_HEIGHT "+gt.texelHeight:"",gt?"#define CUBEUV_MAX_MIP "+gt.maxMip+".0":"",tt.lightMap?"#define USE_LIGHTMAP":"",tt.aoMap?"#define USE_AOMAP":"",tt.bumpMap?"#define USE_BUMPMAP":"",tt.normalMap?"#define USE_NORMALMAP":"",tt.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",tt.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",tt.emissiveMap?"#define USE_EMISSIVEMAP":"",tt.anisotropy?"#define USE_ANISOTROPY":"",tt.anisotropyMap?"#define USE_ANISOTROPYMAP":"",tt.clearcoat?"#define USE_CLEARCOAT":"",tt.clearcoatMap?"#define USE_CLEARCOATMAP":"",tt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",tt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",tt.iridescence?"#define USE_IRIDESCENCE":"",tt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",tt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",tt.specularMap?"#define USE_SPECULARMAP":"",tt.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",tt.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",tt.roughnessMap?"#define USE_ROUGHNESSMAP":"",tt.metalnessMap?"#define USE_METALNESSMAP":"",tt.alphaMap?"#define USE_ALPHAMAP":"",tt.alphaTest?"#define USE_ALPHATEST":"",tt.alphaHash?"#define USE_ALPHAHASH":"",tt.sheen?"#define USE_SHEEN":"",tt.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",tt.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",tt.transmission?"#define USE_TRANSMISSION":"",tt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",tt.thicknessMap?"#define USE_THICKNESSMAP":"",tt.vertexTangents&&tt.flatShading===!1?"#define USE_TANGENT":"",tt.vertexColors||tt.instancingColor?"#define USE_COLOR":"",tt.vertexAlphas?"#define USE_COLOR_ALPHA":"",tt.vertexUv1s?"#define USE_UV1":"",tt.vertexUv2s?"#define USE_UV2":"",tt.vertexUv3s?"#define USE_UV3":"",tt.pointsUvs?"#define USE_POINTS_UV":"",tt.gradientMap?"#define USE_GRADIENTMAP":"",tt.flatShading?"#define FLAT_SHADED":"",tt.doubleSided?"#define DOUBLE_SIDED":"",tt.flipSided?"#define FLIP_SIDED":"",tt.shadowMapEnabled?"#define USE_SHADOWMAP":"",tt.shadowMapEnabled?"#define "+ut:"",tt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",tt.numLightProbes>0?"#define USE_LIGHT_PROBES":"",tt.useLegacyLights?"#define LEGACY_LIGHTS":"",tt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",tt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",tt.logarithmicDepthBuffer&&tt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",tt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",tt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",tt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",tt.toneMapping):"",tt.dithering?"#define DITHERING":"",tt.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",tt.outputColorSpace),tt.useDepthPacking?"#define DEPTH_PACKING "+tt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),at=resolveIncludes(at),at=replaceLightNums(at,tt),at=replaceClippingPlaneNums(at,tt),st=resolveIncludes(st),st=replaceLightNums(st,tt),st=replaceClippingPlaneNums(st,tt),at=unrollLoops(at),st=unrollLoops(st),tt.isWebGL2&&tt.isRawShaderMaterial!==!0&&(Pt=`#version 300 es
`,Tt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+Tt,Mt=["#define varying in",tt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",tt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Mt);const It=Pt+Tt+at,kt=Pt+Mt+st,Dt=WebGLShader(ot,ot.VERTEX_SHADER,It),Nt=WebGLShader(ot,ot.FRAGMENT_SHADER,kt);if(ot.attachShader(St,Dt),ot.attachShader(St,Nt),tt.index0AttributeName!==void 0?ot.bindAttribLocation(St,0,tt.index0AttributeName):tt.morphTargets===!0&&ot.bindAttribLocation(St,0,"position"),ot.linkProgram(St),rt.debug.checkShaderErrors){const Ot=ot.getProgramInfoLog(St).trim(),Xt=ot.getShaderInfoLog(Dt).trim(),Et=ot.getShaderInfoLog(Nt).trim();let lt=!0,dt=!0;if(ot.getProgramParameter(St,ot.LINK_STATUS)===!1)if(lt=!1,typeof rt.debug.onShaderError=="function")rt.debug.onShaderError(ot,St,Dt,Nt);else{const pt=getShaderErrors(ot,Dt,"vertex"),vt=getShaderErrors(ot,Nt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+ot.getError()+" - VALIDATE_STATUS "+ot.getProgramParameter(St,ot.VALIDATE_STATUS)+`

Program Info Log: `+Ot+`
`+pt+`
`+vt)}else Ot!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Ot):(Xt===""||Et==="")&&(dt=!1);dt&&(this.diagnostics={runnable:lt,programLog:Ot,vertexShader:{log:Xt,prefix:Tt},fragmentShader:{log:Et,prefix:Mt}})}ot.deleteShader(Dt),ot.deleteShader(Nt);let Gt;this.getUniforms=function(){return Gt===void 0&&(Gt=new WebGLUniforms(ot,St)),Gt};let Wt;return this.getAttributes=function(){return Wt===void 0&&(Wt=fetchAttributeLocations(ot,St)),Wt},this.destroy=function(){nt.releaseStatesOfProgram(this),ot.deleteProgram(St),this.program=void 0},this.type=tt.shaderType,this.name=tt.shaderName,this.id=programIdCount++,this.cacheKey=et,this.usedTimes=1,this.program=St,this.vertexShader=Dt,this.fragmentShader=Nt,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(et){const tt=et.vertexShader,nt=et.fragmentShader,ot=this._getShaderStage(tt),it=this._getShaderStage(nt),at=this._getShaderCacheForMaterial(et);return at.has(ot)===!1&&(at.add(ot),ot.usedTimes++),at.has(it)===!1&&(at.add(it),it.usedTimes++),this}remove(et){const tt=this.materialCache.get(et);for(const nt of tt)nt.usedTimes--,nt.usedTimes===0&&this.shaderCache.delete(nt.code);return this.materialCache.delete(et),this}getVertexShaderID(et){return this._getShaderStage(et.vertexShader).id}getFragmentShaderID(et){return this._getShaderStage(et.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(et){const tt=this.materialCache;let nt=tt.get(et);return nt===void 0&&(nt=new Set,tt.set(et,nt)),nt}_getShaderStage(et){const tt=this.shaderCache;let nt=tt.get(et);return nt===void 0&&(nt=new WebGLShaderStage(et),tt.set(et,nt)),nt}}class WebGLShaderStage{constructor(et){this.id=_id$1++,this.code=et,this.usedTimes=0}}function WebGLPrograms(rt,et,tt,nt,ot,it,at){const st=new Layers,ut=new WebGLShaderCache,ft=[],ht=ot.isWebGL2,mt=ot.logarithmicDepthBuffer,gt=ot.vertexTextures;let yt=ot.precision;const xt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function St(Ot){return Ot===0?"uv":`uv${Ot}`}function Tt(Ot,Xt,Et,lt,dt){const pt=lt.fog,vt=dt.geometry,wt=Ot.isMeshStandardMaterial?lt.environment:null,At=(Ot.isMeshStandardMaterial?tt:et).get(Ot.envMap||wt),Rt=At&&At.mapping===CubeUVReflectionMapping?At.image.height:null,bt=xt[Ot.type];Ot.precision!==null&&(yt=ot.getMaxPrecision(Ot.precision),yt!==Ot.precision&&console.warn("THREE.WebGLProgram.getParameters:",Ot.precision,"not supported, using",yt,"instead."));const ct=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,_t=ct!==void 0?ct.length:0;let Lt=0;vt.morphAttributes.position!==void 0&&(Lt=1),vt.morphAttributes.normal!==void 0&&(Lt=2),vt.morphAttributes.color!==void 0&&(Lt=3);let Ft,jt,Zt,Kt;if(bt){const Yr=ShaderLib[bt];Ft=Yr.vertexShader,jt=Yr.fragmentShader}else Ft=Ot.vertexShader,jt=Ot.fragmentShader,ut.update(Ot),Zt=ut.getVertexShaderID(Ot),Kt=ut.getFragmentShaderID(Ot);const zt=rt.getRenderTarget(),Vt=dt.isInstancedMesh===!0,nr=!!Ot.map,or=!!Ot.matcap,rr=!!At,$t=!!Ot.aoMap,ar=!!Ot.lightMap,wr=!!Ot.bumpMap,vr=!!Ot.normalMap,Qt=!!Ot.displacementMap,Yt=!!Ot.emissiveMap,Ht=!!Ot.metalnessMap,tr=!!Ot.roughnessMap,br=Ot.anisotropy>0,gr=Ot.clearcoat>0,Sr=Ot.iridescence>0,pr=Ot.sheen>0,er=Ot.transmission>0,yr=br&&!!Ot.anisotropyMap,Gr=gr&&!!Ot.clearcoatMap,Mr=gr&&!!Ot.clearcoatNormalMap,Ar=gr&&!!Ot.clearcoatRoughnessMap,an=Sr&&!!Ot.iridescenceMap,Br=Sr&&!!Ot.iridescenceThicknessMap,Dr=pr&&!!Ot.sheenColorMap,ln=pr&&!!Ot.sheenRoughnessMap,Ir=!!Ot.specularMap,Tr=!!Ot.specularColorMap,Er=!!Ot.specularIntensityMap,_r=er&&!!Ot.transmissionMap,xr=er&&!!Ot.thicknessMap,Xr=!!Ot.gradientMap,dr=!!Ot.alphaMap,Pr=Ot.alphaTest>0,Jr=!!Ot.alphaHash,Nr=!!Ot.extensions,$r=!!vt.attributes.uv1,Zr=!!vt.attributes.uv2,Or=!!vt.attributes.uv3;let Kr=NoToneMapping;return Ot.toneMapped&&(zt===null||zt.isXRRenderTarget===!0)&&(Kr=rt.toneMapping),{isWebGL2:ht,shaderID:bt,shaderType:Ot.type,shaderName:Ot.name,vertexShader:Ft,fragmentShader:jt,defines:Ot.defines,customVertexShaderID:Zt,customFragmentShaderID:Kt,isRawShaderMaterial:Ot.isRawShaderMaterial===!0,glslVersion:Ot.glslVersion,precision:yt,instancing:Vt,instancingColor:Vt&&dt.instanceColor!==null,supportsVertexTextures:gt,outputColorSpace:zt===null?rt.outputColorSpace:zt.isXRRenderTarget===!0?zt.texture.colorSpace:LinearSRGBColorSpace$1,map:nr,matcap:or,envMap:rr,envMapMode:rr&&At.mapping,envMapCubeUVHeight:Rt,aoMap:$t,lightMap:ar,bumpMap:wr,normalMap:vr,displacementMap:gt&&Qt,emissiveMap:Yt,normalMapObjectSpace:vr&&Ot.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:vr&&Ot.normalMapType===TangentSpaceNormalMap,metalnessMap:Ht,roughnessMap:tr,anisotropy:br,anisotropyMap:yr,clearcoat:gr,clearcoatMap:Gr,clearcoatNormalMap:Mr,clearcoatRoughnessMap:Ar,iridescence:Sr,iridescenceMap:an,iridescenceThicknessMap:Br,sheen:pr,sheenColorMap:Dr,sheenRoughnessMap:ln,specularMap:Ir,specularColorMap:Tr,specularIntensityMap:Er,transmission:er,transmissionMap:_r,thicknessMap:xr,gradientMap:Xr,opaque:Ot.transparent===!1&&Ot.blending===NormalBlending,alphaMap:dr,alphaTest:Pr,alphaHash:Jr,combine:Ot.combine,mapUv:nr&&St(Ot.map.channel),aoMapUv:$t&&St(Ot.aoMap.channel),lightMapUv:ar&&St(Ot.lightMap.channel),bumpMapUv:wr&&St(Ot.bumpMap.channel),normalMapUv:vr&&St(Ot.normalMap.channel),displacementMapUv:Qt&&St(Ot.displacementMap.channel),emissiveMapUv:Yt&&St(Ot.emissiveMap.channel),metalnessMapUv:Ht&&St(Ot.metalnessMap.channel),roughnessMapUv:tr&&St(Ot.roughnessMap.channel),anisotropyMapUv:yr&&St(Ot.anisotropyMap.channel),clearcoatMapUv:Gr&&St(Ot.clearcoatMap.channel),clearcoatNormalMapUv:Mr&&St(Ot.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ar&&St(Ot.clearcoatRoughnessMap.channel),iridescenceMapUv:an&&St(Ot.iridescenceMap.channel),iridescenceThicknessMapUv:Br&&St(Ot.iridescenceThicknessMap.channel),sheenColorMapUv:Dr&&St(Ot.sheenColorMap.channel),sheenRoughnessMapUv:ln&&St(Ot.sheenRoughnessMap.channel),specularMapUv:Ir&&St(Ot.specularMap.channel),specularColorMapUv:Tr&&St(Ot.specularColorMap.channel),specularIntensityMapUv:Er&&St(Ot.specularIntensityMap.channel),transmissionMapUv:_r&&St(Ot.transmissionMap.channel),thicknessMapUv:xr&&St(Ot.thicknessMap.channel),alphaMapUv:dr&&St(Ot.alphaMap.channel),vertexTangents:!!vt.attributes.tangent&&(vr||br),vertexColors:Ot.vertexColors,vertexAlphas:Ot.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,vertexUv1s:$r,vertexUv2s:Zr,vertexUv3s:Or,pointsUvs:dt.isPoints===!0&&!!vt.attributes.uv&&(nr||dr),fog:!!pt,useFog:Ot.fog===!0,fogExp2:pt&&pt.isFogExp2,flatShading:Ot.flatShading===!0,sizeAttenuation:Ot.sizeAttenuation===!0,logarithmicDepthBuffer:mt,skinning:dt.isSkinnedMesh===!0,morphTargets:vt.morphAttributes.position!==void 0,morphNormals:vt.morphAttributes.normal!==void 0,morphColors:vt.morphAttributes.color!==void 0,morphTargetsCount:_t,morphTextureStride:Lt,numDirLights:Xt.directional.length,numPointLights:Xt.point.length,numSpotLights:Xt.spot.length,numSpotLightMaps:Xt.spotLightMap.length,numRectAreaLights:Xt.rectArea.length,numHemiLights:Xt.hemi.length,numDirLightShadows:Xt.directionalShadowMap.length,numPointLightShadows:Xt.pointShadowMap.length,numSpotLightShadows:Xt.spotShadowMap.length,numSpotLightShadowsWithMaps:Xt.numSpotLightShadowsWithMaps,numLightProbes:Xt.numLightProbes,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:Ot.dithering,shadowMapEnabled:rt.shadowMap.enabled&&Et.length>0,shadowMapType:rt.shadowMap.type,toneMapping:Kr,useLegacyLights:rt._useLegacyLights,decodeVideoTexture:nr&&Ot.map.isVideoTexture===!0&&ColorManagement.getTransfer(Ot.map.colorSpace)===SRGBTransfer,premultipliedAlpha:Ot.premultipliedAlpha,doubleSided:Ot.side===DoubleSide,flipSided:Ot.side===BackSide,useDepthPacking:Ot.depthPacking>=0,depthPacking:Ot.depthPacking||0,index0AttributeName:Ot.index0AttributeName,extensionDerivatives:Nr&&Ot.extensions.derivatives===!0,extensionFragDepth:Nr&&Ot.extensions.fragDepth===!0,extensionDrawBuffers:Nr&&Ot.extensions.drawBuffers===!0,extensionShaderTextureLOD:Nr&&Ot.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:ht||nt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ht||nt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ht||nt.has("EXT_shader_texture_lod"),customProgramCacheKey:Ot.customProgramCacheKey()}}function Mt(Ot){const Xt=[];if(Ot.shaderID?Xt.push(Ot.shaderID):(Xt.push(Ot.customVertexShaderID),Xt.push(Ot.customFragmentShaderID)),Ot.defines!==void 0)for(const Et in Ot.defines)Xt.push(Et),Xt.push(Ot.defines[Et]);return Ot.isRawShaderMaterial===!1&&(Pt(Xt,Ot),It(Xt,Ot),Xt.push(rt.outputColorSpace)),Xt.push(Ot.customProgramCacheKey),Xt.join()}function Pt(Ot,Xt){Ot.push(Xt.precision),Ot.push(Xt.outputColorSpace),Ot.push(Xt.envMapMode),Ot.push(Xt.envMapCubeUVHeight),Ot.push(Xt.mapUv),Ot.push(Xt.alphaMapUv),Ot.push(Xt.lightMapUv),Ot.push(Xt.aoMapUv),Ot.push(Xt.bumpMapUv),Ot.push(Xt.normalMapUv),Ot.push(Xt.displacementMapUv),Ot.push(Xt.emissiveMapUv),Ot.push(Xt.metalnessMapUv),Ot.push(Xt.roughnessMapUv),Ot.push(Xt.anisotropyMapUv),Ot.push(Xt.clearcoatMapUv),Ot.push(Xt.clearcoatNormalMapUv),Ot.push(Xt.clearcoatRoughnessMapUv),Ot.push(Xt.iridescenceMapUv),Ot.push(Xt.iridescenceThicknessMapUv),Ot.push(Xt.sheenColorMapUv),Ot.push(Xt.sheenRoughnessMapUv),Ot.push(Xt.specularMapUv),Ot.push(Xt.specularColorMapUv),Ot.push(Xt.specularIntensityMapUv),Ot.push(Xt.transmissionMapUv),Ot.push(Xt.thicknessMapUv),Ot.push(Xt.combine),Ot.push(Xt.fogExp2),Ot.push(Xt.sizeAttenuation),Ot.push(Xt.morphTargetsCount),Ot.push(Xt.morphAttributeCount),Ot.push(Xt.numDirLights),Ot.push(Xt.numPointLights),Ot.push(Xt.numSpotLights),Ot.push(Xt.numSpotLightMaps),Ot.push(Xt.numHemiLights),Ot.push(Xt.numRectAreaLights),Ot.push(Xt.numDirLightShadows),Ot.push(Xt.numPointLightShadows),Ot.push(Xt.numSpotLightShadows),Ot.push(Xt.numSpotLightShadowsWithMaps),Ot.push(Xt.numLightProbes),Ot.push(Xt.shadowMapType),Ot.push(Xt.toneMapping),Ot.push(Xt.numClippingPlanes),Ot.push(Xt.numClipIntersection),Ot.push(Xt.depthPacking)}function It(Ot,Xt){st.disableAll(),Xt.isWebGL2&&st.enable(0),Xt.supportsVertexTextures&&st.enable(1),Xt.instancing&&st.enable(2),Xt.instancingColor&&st.enable(3),Xt.matcap&&st.enable(4),Xt.envMap&&st.enable(5),Xt.normalMapObjectSpace&&st.enable(6),Xt.normalMapTangentSpace&&st.enable(7),Xt.clearcoat&&st.enable(8),Xt.iridescence&&st.enable(9),Xt.alphaTest&&st.enable(10),Xt.vertexColors&&st.enable(11),Xt.vertexAlphas&&st.enable(12),Xt.vertexUv1s&&st.enable(13),Xt.vertexUv2s&&st.enable(14),Xt.vertexUv3s&&st.enable(15),Xt.vertexTangents&&st.enable(16),Xt.anisotropy&&st.enable(17),Ot.push(st.mask),st.disableAll(),Xt.fog&&st.enable(0),Xt.useFog&&st.enable(1),Xt.flatShading&&st.enable(2),Xt.logarithmicDepthBuffer&&st.enable(3),Xt.skinning&&st.enable(4),Xt.morphTargets&&st.enable(5),Xt.morphNormals&&st.enable(6),Xt.morphColors&&st.enable(7),Xt.premultipliedAlpha&&st.enable(8),Xt.shadowMapEnabled&&st.enable(9),Xt.useLegacyLights&&st.enable(10),Xt.doubleSided&&st.enable(11),Xt.flipSided&&st.enable(12),Xt.useDepthPacking&&st.enable(13),Xt.dithering&&st.enable(14),Xt.transmission&&st.enable(15),Xt.sheen&&st.enable(16),Xt.opaque&&st.enable(17),Xt.pointsUvs&&st.enable(18),Xt.decodeVideoTexture&&st.enable(19),Ot.push(st.mask)}function kt(Ot){const Xt=xt[Ot.type];let Et;if(Xt){const lt=ShaderLib[Xt];Et=UniformsUtils.clone(lt.uniforms)}else Et=Ot.uniforms;return Et}function Dt(Ot,Xt){let Et;for(let lt=0,dt=ft.length;lt<dt;lt++){const pt=ft[lt];if(pt.cacheKey===Xt){Et=pt,++Et.usedTimes;break}}return Et===void 0&&(Et=new WebGLProgram(rt,Xt,Ot,it),ft.push(Et)),Et}function Nt(Ot){if(--Ot.usedTimes===0){const Xt=ft.indexOf(Ot);ft[Xt]=ft[ft.length-1],ft.pop(),Ot.destroy()}}function Gt(Ot){ut.remove(Ot)}function Wt(){ut.dispose()}return{getParameters:Tt,getProgramCacheKey:Mt,getUniforms:kt,acquireProgram:Dt,releaseProgram:Nt,releaseShaderCache:Gt,programs:ft,dispose:Wt}}function WebGLProperties(){let rt=new WeakMap;function et(it){let at=rt.get(it);return at===void 0&&(at={},rt.set(it,at)),at}function tt(it){rt.delete(it)}function nt(it,at,st){rt.get(it)[at]=st}function ot(){rt=new WeakMap}return{get:et,remove:tt,update:nt,dispose:ot}}function painterSortStable(rt,et){return rt.groupOrder!==et.groupOrder?rt.groupOrder-et.groupOrder:rt.renderOrder!==et.renderOrder?rt.renderOrder-et.renderOrder:rt.material.id!==et.material.id?rt.material.id-et.material.id:rt.z!==et.z?rt.z-et.z:rt.id-et.id}function reversePainterSortStable(rt,et){return rt.groupOrder!==et.groupOrder?rt.groupOrder-et.groupOrder:rt.renderOrder!==et.renderOrder?rt.renderOrder-et.renderOrder:rt.z!==et.z?et.z-rt.z:rt.id-et.id}function WebGLRenderList(){const rt=[];let et=0;const tt=[],nt=[],ot=[];function it(){et=0,tt.length=0,nt.length=0,ot.length=0}function at(mt,gt,yt,xt,St,Tt){let Mt=rt[et];return Mt===void 0?(Mt={id:mt.id,object:mt,geometry:gt,material:yt,groupOrder:xt,renderOrder:mt.renderOrder,z:St,group:Tt},rt[et]=Mt):(Mt.id=mt.id,Mt.object=mt,Mt.geometry=gt,Mt.material=yt,Mt.groupOrder=xt,Mt.renderOrder=mt.renderOrder,Mt.z=St,Mt.group=Tt),et++,Mt}function st(mt,gt,yt,xt,St,Tt){const Mt=at(mt,gt,yt,xt,St,Tt);yt.transmission>0?nt.push(Mt):yt.transparent===!0?ot.push(Mt):tt.push(Mt)}function ut(mt,gt,yt,xt,St,Tt){const Mt=at(mt,gt,yt,xt,St,Tt);yt.transmission>0?nt.unshift(Mt):yt.transparent===!0?ot.unshift(Mt):tt.unshift(Mt)}function ft(mt,gt){tt.length>1&&tt.sort(mt||painterSortStable),nt.length>1&&nt.sort(gt||reversePainterSortStable),ot.length>1&&ot.sort(gt||reversePainterSortStable)}function ht(){for(let mt=et,gt=rt.length;mt<gt;mt++){const yt=rt[mt];if(yt.id===null)break;yt.id=null,yt.object=null,yt.geometry=null,yt.material=null,yt.group=null}}return{opaque:tt,transmissive:nt,transparent:ot,init:it,push:st,unshift:ut,finish:ht,sort:ft}}function WebGLRenderLists(){let rt=new WeakMap;function et(nt,ot){const it=rt.get(nt);let at;return it===void 0?(at=new WebGLRenderList,rt.set(nt,[at])):ot>=it.length?(at=new WebGLRenderList,it.push(at)):at=it[ot],at}function tt(){rt=new WeakMap}return{get:et,dispose:tt}}function UniformsCache(){const rt={};return{get:function(et){if(rt[et.id]!==void 0)return rt[et.id];let tt;switch(et.type){case"DirectionalLight":tt={direction:new Vector3,color:new Color};break;case"SpotLight":tt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":tt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":tt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":tt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return rt[et.id]=tt,tt}}}function ShadowUniformsCache(){const rt={};return{get:function(et){if(rt[et.id]!==void 0)return rt[et.id];let tt;switch(et.type){case"DirectionalLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":tt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return rt[et.id]=tt,tt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(rt,et){return(et.castShadow?2:0)-(rt.castShadow?2:0)+(et.map?1:0)-(rt.map?1:0)}function WebGLLights(rt,et){const tt=new UniformsCache,nt=ShadowUniformsCache(),ot={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let ht=0;ht<9;ht++)ot.probe.push(new Vector3);const it=new Vector3,at=new Matrix4,st=new Matrix4;function ut(ht,mt){let gt=0,yt=0,xt=0;for(let lt=0;lt<9;lt++)ot.probe[lt].set(0,0,0);let St=0,Tt=0,Mt=0,Pt=0,It=0,kt=0,Dt=0,Nt=0,Gt=0,Wt=0,Ot=0;ht.sort(shadowCastingAndTexturingLightsFirst);const Xt=mt===!0?Math.PI:1;for(let lt=0,dt=ht.length;lt<dt;lt++){const pt=ht[lt],vt=pt.color,wt=pt.intensity,At=pt.distance,Rt=pt.shadow&&pt.shadow.map?pt.shadow.map.texture:null;if(pt.isAmbientLight)gt+=vt.r*wt*Xt,yt+=vt.g*wt*Xt,xt+=vt.b*wt*Xt;else if(pt.isLightProbe){for(let bt=0;bt<9;bt++)ot.probe[bt].addScaledVector(pt.sh.coefficients[bt],wt);Ot++}else if(pt.isDirectionalLight){const bt=tt.get(pt);if(bt.color.copy(pt.color).multiplyScalar(pt.intensity*Xt),pt.castShadow){const ct=pt.shadow,_t=nt.get(pt);_t.shadowBias=ct.bias,_t.shadowNormalBias=ct.normalBias,_t.shadowRadius=ct.radius,_t.shadowMapSize=ct.mapSize,ot.directionalShadow[St]=_t,ot.directionalShadowMap[St]=Rt,ot.directionalShadowMatrix[St]=pt.shadow.matrix,kt++}ot.directional[St]=bt,St++}else if(pt.isSpotLight){const bt=tt.get(pt);bt.position.setFromMatrixPosition(pt.matrixWorld),bt.color.copy(vt).multiplyScalar(wt*Xt),bt.distance=At,bt.coneCos=Math.cos(pt.angle),bt.penumbraCos=Math.cos(pt.angle*(1-pt.penumbra)),bt.decay=pt.decay,ot.spot[Mt]=bt;const ct=pt.shadow;if(pt.map&&(ot.spotLightMap[Gt]=pt.map,Gt++,ct.updateMatrices(pt),pt.castShadow&&Wt++),ot.spotLightMatrix[Mt]=ct.matrix,pt.castShadow){const _t=nt.get(pt);_t.shadowBias=ct.bias,_t.shadowNormalBias=ct.normalBias,_t.shadowRadius=ct.radius,_t.shadowMapSize=ct.mapSize,ot.spotShadow[Mt]=_t,ot.spotShadowMap[Mt]=Rt,Nt++}Mt++}else if(pt.isRectAreaLight){const bt=tt.get(pt);bt.color.copy(vt).multiplyScalar(wt),bt.halfWidth.set(pt.width*.5,0,0),bt.halfHeight.set(0,pt.height*.5,0),ot.rectArea[Pt]=bt,Pt++}else if(pt.isPointLight){const bt=tt.get(pt);if(bt.color.copy(pt.color).multiplyScalar(pt.intensity*Xt),bt.distance=pt.distance,bt.decay=pt.decay,pt.castShadow){const ct=pt.shadow,_t=nt.get(pt);_t.shadowBias=ct.bias,_t.shadowNormalBias=ct.normalBias,_t.shadowRadius=ct.radius,_t.shadowMapSize=ct.mapSize,_t.shadowCameraNear=ct.camera.near,_t.shadowCameraFar=ct.camera.far,ot.pointShadow[Tt]=_t,ot.pointShadowMap[Tt]=Rt,ot.pointShadowMatrix[Tt]=pt.shadow.matrix,Dt++}ot.point[Tt]=bt,Tt++}else if(pt.isHemisphereLight){const bt=tt.get(pt);bt.skyColor.copy(pt.color).multiplyScalar(wt*Xt),bt.groundColor.copy(pt.groundColor).multiplyScalar(wt*Xt),ot.hemi[It]=bt,It++}}Pt>0&&(et.isWebGL2||rt.has("OES_texture_float_linear")===!0?(ot.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,ot.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):rt.has("OES_texture_half_float_linear")===!0?(ot.rectAreaLTC1=UniformsLib.LTC_HALF_1,ot.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),ot.ambient[0]=gt,ot.ambient[1]=yt,ot.ambient[2]=xt;const Et=ot.hash;(Et.directionalLength!==St||Et.pointLength!==Tt||Et.spotLength!==Mt||Et.rectAreaLength!==Pt||Et.hemiLength!==It||Et.numDirectionalShadows!==kt||Et.numPointShadows!==Dt||Et.numSpotShadows!==Nt||Et.numSpotMaps!==Gt||Et.numLightProbes!==Ot)&&(ot.directional.length=St,ot.spot.length=Mt,ot.rectArea.length=Pt,ot.point.length=Tt,ot.hemi.length=It,ot.directionalShadow.length=kt,ot.directionalShadowMap.length=kt,ot.pointShadow.length=Dt,ot.pointShadowMap.length=Dt,ot.spotShadow.length=Nt,ot.spotShadowMap.length=Nt,ot.directionalShadowMatrix.length=kt,ot.pointShadowMatrix.length=Dt,ot.spotLightMatrix.length=Nt+Gt-Wt,ot.spotLightMap.length=Gt,ot.numSpotLightShadowsWithMaps=Wt,ot.numLightProbes=Ot,Et.directionalLength=St,Et.pointLength=Tt,Et.spotLength=Mt,Et.rectAreaLength=Pt,Et.hemiLength=It,Et.numDirectionalShadows=kt,Et.numPointShadows=Dt,Et.numSpotShadows=Nt,Et.numSpotMaps=Gt,Et.numLightProbes=Ot,ot.version=nextVersion++)}function ft(ht,mt){let gt=0,yt=0,xt=0,St=0,Tt=0;const Mt=mt.matrixWorldInverse;for(let Pt=0,It=ht.length;Pt<It;Pt++){const kt=ht[Pt];if(kt.isDirectionalLight){const Dt=ot.directional[gt];Dt.direction.setFromMatrixPosition(kt.matrixWorld),it.setFromMatrixPosition(kt.target.matrixWorld),Dt.direction.sub(it),Dt.direction.transformDirection(Mt),gt++}else if(kt.isSpotLight){const Dt=ot.spot[xt];Dt.position.setFromMatrixPosition(kt.matrixWorld),Dt.position.applyMatrix4(Mt),Dt.direction.setFromMatrixPosition(kt.matrixWorld),it.setFromMatrixPosition(kt.target.matrixWorld),Dt.direction.sub(it),Dt.direction.transformDirection(Mt),xt++}else if(kt.isRectAreaLight){const Dt=ot.rectArea[St];Dt.position.setFromMatrixPosition(kt.matrixWorld),Dt.position.applyMatrix4(Mt),st.identity(),at.copy(kt.matrixWorld),at.premultiply(Mt),st.extractRotation(at),Dt.halfWidth.set(kt.width*.5,0,0),Dt.halfHeight.set(0,kt.height*.5,0),Dt.halfWidth.applyMatrix4(st),Dt.halfHeight.applyMatrix4(st),St++}else if(kt.isPointLight){const Dt=ot.point[yt];Dt.position.setFromMatrixPosition(kt.matrixWorld),Dt.position.applyMatrix4(Mt),yt++}else if(kt.isHemisphereLight){const Dt=ot.hemi[Tt];Dt.direction.setFromMatrixPosition(kt.matrixWorld),Dt.direction.transformDirection(Mt),Tt++}}}return{setup:ut,setupView:ft,state:ot}}function WebGLRenderState(rt,et){const tt=new WebGLLights(rt,et),nt=[],ot=[];function it(){nt.length=0,ot.length=0}function at(mt){nt.push(mt)}function st(mt){ot.push(mt)}function ut(mt){tt.setup(nt,mt)}function ft(mt){tt.setupView(nt,mt)}return{init:it,state:{lightsArray:nt,shadowsArray:ot,lights:tt},setupLights:ut,setupLightsView:ft,pushLight:at,pushShadow:st}}function WebGLRenderStates(rt,et){let tt=new WeakMap;function nt(it,at=0){const st=tt.get(it);let ut;return st===void 0?(ut=new WebGLRenderState(rt,et),tt.set(it,[ut])):at>=st.length?(ut=new WebGLRenderState(rt,et),st.push(ut)):ut=st[at],ut}function ot(){tt=new WeakMap}return{get:nt,dispose:ot}}class MeshDepthMaterial extends Material{constructor(et){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(et)}copy(et){return super.copy(et),this.depthPacking=et.depthPacking,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(et){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(et)}copy(et){return super.copy(et),this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(rt,et,tt){let nt=new Frustum;const ot=new Vector2,it=new Vector2,at=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),ut=new MeshDistanceMaterial,ft={},ht=tt.maxTextureSize,mt={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},gt=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),yt=gt.clone();yt.defines.HORIZONTAL_PASS=1;const xt=new BufferGeometry;xt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const St=new Mesh(xt,gt),Tt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Mt=this.type;this.render=function(Dt,Nt,Gt){if(Tt.enabled===!1||Tt.autoUpdate===!1&&Tt.needsUpdate===!1||Dt.length===0)return;const Wt=rt.getRenderTarget(),Ot=rt.getActiveCubeFace(),Xt=rt.getActiveMipmapLevel(),Et=rt.state;Et.setBlending(NoBlending),Et.buffers.color.setClear(1,1,1,1),Et.buffers.depth.setTest(!0),Et.setScissorTest(!1);const lt=Mt!==VSMShadowMap&&this.type===VSMShadowMap,dt=Mt===VSMShadowMap&&this.type!==VSMShadowMap;for(let pt=0,vt=Dt.length;pt<vt;pt++){const wt=Dt[pt],At=wt.shadow;if(At===void 0){console.warn("THREE.WebGLShadowMap:",wt,"has no shadow.");continue}if(At.autoUpdate===!1&&At.needsUpdate===!1)continue;ot.copy(At.mapSize);const Rt=At.getFrameExtents();if(ot.multiply(Rt),it.copy(At.mapSize),(ot.x>ht||ot.y>ht)&&(ot.x>ht&&(it.x=Math.floor(ht/Rt.x),ot.x=it.x*Rt.x,At.mapSize.x=it.x),ot.y>ht&&(it.y=Math.floor(ht/Rt.y),ot.y=it.y*Rt.y,At.mapSize.y=it.y)),At.map===null||lt===!0||dt===!0){const ct=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};At.map!==null&&At.map.dispose(),At.map=new WebGLRenderTarget(ot.x,ot.y,ct),At.map.texture.name=wt.name+".shadowMap",At.camera.updateProjectionMatrix()}rt.setRenderTarget(At.map),rt.clear();const bt=At.getViewportCount();for(let ct=0;ct<bt;ct++){const _t=At.getViewport(ct);at.set(it.x*_t.x,it.y*_t.y,it.x*_t.z,it.y*_t.w),Et.viewport(at),At.updateMatrices(wt,ct),nt=At.getFrustum(),kt(Nt,Gt,At.camera,wt,this.type)}At.isPointLightShadow!==!0&&this.type===VSMShadowMap&&Pt(At,Gt),At.needsUpdate=!1}Mt=this.type,Tt.needsUpdate=!1,rt.setRenderTarget(Wt,Ot,Xt)};function Pt(Dt,Nt){const Gt=et.update(St);gt.defines.VSM_SAMPLES!==Dt.blurSamples&&(gt.defines.VSM_SAMPLES=Dt.blurSamples,yt.defines.VSM_SAMPLES=Dt.blurSamples,gt.needsUpdate=!0,yt.needsUpdate=!0),Dt.mapPass===null&&(Dt.mapPass=new WebGLRenderTarget(ot.x,ot.y)),gt.uniforms.shadow_pass.value=Dt.map.texture,gt.uniforms.resolution.value=Dt.mapSize,gt.uniforms.radius.value=Dt.radius,rt.setRenderTarget(Dt.mapPass),rt.clear(),rt.renderBufferDirect(Nt,null,Gt,gt,St,null),yt.uniforms.shadow_pass.value=Dt.mapPass.texture,yt.uniforms.resolution.value=Dt.mapSize,yt.uniforms.radius.value=Dt.radius,rt.setRenderTarget(Dt.map),rt.clear(),rt.renderBufferDirect(Nt,null,Gt,yt,St,null)}function It(Dt,Nt,Gt,Wt){let Ot=null;const Xt=Gt.isPointLight===!0?Dt.customDistanceMaterial:Dt.customDepthMaterial;if(Xt!==void 0)Ot=Xt;else if(Ot=Gt.isPointLight===!0?ut:st,rt.localClippingEnabled&&Nt.clipShadows===!0&&Array.isArray(Nt.clippingPlanes)&&Nt.clippingPlanes.length!==0||Nt.displacementMap&&Nt.displacementScale!==0||Nt.alphaMap&&Nt.alphaTest>0||Nt.map&&Nt.alphaTest>0){const Et=Ot.uuid,lt=Nt.uuid;let dt=ft[Et];dt===void 0&&(dt={},ft[Et]=dt);let pt=dt[lt];pt===void 0&&(pt=Ot.clone(),dt[lt]=pt),Ot=pt}if(Ot.visible=Nt.visible,Ot.wireframe=Nt.wireframe,Wt===VSMShadowMap?Ot.side=Nt.shadowSide!==null?Nt.shadowSide:Nt.side:Ot.side=Nt.shadowSide!==null?Nt.shadowSide:mt[Nt.side],Ot.alphaMap=Nt.alphaMap,Ot.alphaTest=Nt.alphaTest,Ot.map=Nt.map,Ot.clipShadows=Nt.clipShadows,Ot.clippingPlanes=Nt.clippingPlanes,Ot.clipIntersection=Nt.clipIntersection,Ot.displacementMap=Nt.displacementMap,Ot.displacementScale=Nt.displacementScale,Ot.displacementBias=Nt.displacementBias,Ot.wireframeLinewidth=Nt.wireframeLinewidth,Ot.linewidth=Nt.linewidth,Gt.isPointLight===!0&&Ot.isMeshDistanceMaterial===!0){const Et=rt.properties.get(Ot);Et.light=Gt}return Ot}function kt(Dt,Nt,Gt,Wt,Ot){if(Dt.visible===!1)return;if(Dt.layers.test(Nt.layers)&&(Dt.isMesh||Dt.isLine||Dt.isPoints)&&(Dt.castShadow||Dt.receiveShadow&&Ot===VSMShadowMap)&&(!Dt.frustumCulled||nt.intersectsObject(Dt))){Dt.modelViewMatrix.multiplyMatrices(Gt.matrixWorldInverse,Dt.matrixWorld);const lt=et.update(Dt),dt=Dt.material;if(Array.isArray(dt)){const pt=lt.groups;for(let vt=0,wt=pt.length;vt<wt;vt++){const At=pt[vt],Rt=dt[At.materialIndex];if(Rt&&Rt.visible){const bt=It(Dt,Rt,Wt,Ot);rt.renderBufferDirect(Gt,null,lt,bt,Dt,At)}}}else if(dt.visible){const pt=It(Dt,dt,Wt,Ot);rt.renderBufferDirect(Gt,null,lt,pt,Dt,null)}}const Et=Dt.children;for(let lt=0,dt=Et.length;lt<dt;lt++)kt(Et[lt],Nt,Gt,Wt,Ot)}}function WebGLState(rt,et,tt){const nt=tt.isWebGL2;function ot(){let dr=!1;const Pr=new Vector4;let Jr=null;const Nr=new Vector4(0,0,0,0);return{setMask:function($r){Jr!==$r&&!dr&&(rt.colorMask($r,$r,$r,$r),Jr=$r)},setLocked:function($r){dr=$r},setClear:function($r,Zr,Or,Kr,Pn){Pn===!0&&($r*=Kr,Zr*=Kr,Or*=Kr),Pr.set($r,Zr,Or,Kr),Nr.equals(Pr)===!1&&(rt.clearColor($r,Zr,Or,Kr),Nr.copy(Pr))},reset:function(){dr=!1,Jr=null,Nr.set(-1,0,0,0)}}}function it(){let dr=!1,Pr=null,Jr=null,Nr=null;return{setTest:function($r){$r?zt(rt.DEPTH_TEST):Vt(rt.DEPTH_TEST)},setMask:function($r){Pr!==$r&&!dr&&(rt.depthMask($r),Pr=$r)},setFunc:function($r){if(Jr!==$r){switch($r){case NeverDepth:rt.depthFunc(rt.NEVER);break;case AlwaysDepth:rt.depthFunc(rt.ALWAYS);break;case LessDepth:rt.depthFunc(rt.LESS);break;case LessEqualDepth:rt.depthFunc(rt.LEQUAL);break;case EqualDepth:rt.depthFunc(rt.EQUAL);break;case GreaterEqualDepth:rt.depthFunc(rt.GEQUAL);break;case GreaterDepth:rt.depthFunc(rt.GREATER);break;case NotEqualDepth:rt.depthFunc(rt.NOTEQUAL);break;default:rt.depthFunc(rt.LEQUAL)}Jr=$r}},setLocked:function($r){dr=$r},setClear:function($r){Nr!==$r&&(rt.clearDepth($r),Nr=$r)},reset:function(){dr=!1,Pr=null,Jr=null,Nr=null}}}function at(){let dr=!1,Pr=null,Jr=null,Nr=null,$r=null,Zr=null,Or=null,Kr=null,Pn=null;return{setTest:function(Yr){dr||(Yr?zt(rt.STENCIL_TEST):Vt(rt.STENCIL_TEST))},setMask:function(Yr){Pr!==Yr&&!dr&&(rt.stencilMask(Yr),Pr=Yr)},setFunc:function(Yr,sn,In){(Jr!==Yr||Nr!==sn||$r!==In)&&(rt.stencilFunc(Yr,sn,In),Jr=Yr,Nr=sn,$r=In)},setOp:function(Yr,sn,In){(Zr!==Yr||Or!==sn||Kr!==In)&&(rt.stencilOp(Yr,sn,In),Zr=Yr,Or=sn,Kr=In)},setLocked:function(Yr){dr=Yr},setClear:function(Yr){Pn!==Yr&&(rt.clearStencil(Yr),Pn=Yr)},reset:function(){dr=!1,Pr=null,Jr=null,Nr=null,$r=null,Zr=null,Or=null,Kr=null,Pn=null}}}const st=new ot,ut=new it,ft=new at,ht=new WeakMap,mt=new WeakMap;let gt={},yt={},xt=new WeakMap,St=[],Tt=null,Mt=!1,Pt=null,It=null,kt=null,Dt=null,Nt=null,Gt=null,Wt=null,Ot=!1,Xt=null,Et=null,lt=null,dt=null,pt=null;const vt=rt.getParameter(rt.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let wt=!1,At=0;const Rt=rt.getParameter(rt.VERSION);Rt.indexOf("WebGL")!==-1?(At=parseFloat(/^WebGL (\d)/.exec(Rt)[1]),wt=At>=1):Rt.indexOf("OpenGL ES")!==-1&&(At=parseFloat(/^OpenGL ES (\d)/.exec(Rt)[1]),wt=At>=2);let bt=null,ct={};const _t=rt.getParameter(rt.SCISSOR_BOX),Lt=rt.getParameter(rt.VIEWPORT),Ft=new Vector4().fromArray(_t),jt=new Vector4().fromArray(Lt);function Zt(dr,Pr,Jr,Nr){const $r=new Uint8Array(4),Zr=rt.createTexture();rt.bindTexture(dr,Zr),rt.texParameteri(dr,rt.TEXTURE_MIN_FILTER,rt.NEAREST),rt.texParameteri(dr,rt.TEXTURE_MAG_FILTER,rt.NEAREST);for(let Or=0;Or<Jr;Or++)nt&&(dr===rt.TEXTURE_3D||dr===rt.TEXTURE_2D_ARRAY)?rt.texImage3D(Pr,0,rt.RGBA,1,1,Nr,0,rt.RGBA,rt.UNSIGNED_BYTE,$r):rt.texImage2D(Pr+Or,0,rt.RGBA,1,1,0,rt.RGBA,rt.UNSIGNED_BYTE,$r);return Zr}const Kt={};Kt[rt.TEXTURE_2D]=Zt(rt.TEXTURE_2D,rt.TEXTURE_2D,1),Kt[rt.TEXTURE_CUBE_MAP]=Zt(rt.TEXTURE_CUBE_MAP,rt.TEXTURE_CUBE_MAP_POSITIVE_X,6),nt&&(Kt[rt.TEXTURE_2D_ARRAY]=Zt(rt.TEXTURE_2D_ARRAY,rt.TEXTURE_2D_ARRAY,1,1),Kt[rt.TEXTURE_3D]=Zt(rt.TEXTURE_3D,rt.TEXTURE_3D,1,1)),st.setClear(0,0,0,1),ut.setClear(1),ft.setClear(0),zt(rt.DEPTH_TEST),ut.setFunc(LessEqualDepth),Qt(!1),Yt(CullFaceBack),zt(rt.CULL_FACE),wr(NoBlending);function zt(dr){gt[dr]!==!0&&(rt.enable(dr),gt[dr]=!0)}function Vt(dr){gt[dr]!==!1&&(rt.disable(dr),gt[dr]=!1)}function nr(dr,Pr){return yt[dr]!==Pr?(rt.bindFramebuffer(dr,Pr),yt[dr]=Pr,nt&&(dr===rt.DRAW_FRAMEBUFFER&&(yt[rt.FRAMEBUFFER]=Pr),dr===rt.FRAMEBUFFER&&(yt[rt.DRAW_FRAMEBUFFER]=Pr)),!0):!1}function or(dr,Pr){let Jr=St,Nr=!1;if(dr)if(Jr=xt.get(Pr),Jr===void 0&&(Jr=[],xt.set(Pr,Jr)),dr.isWebGLMultipleRenderTargets){const $r=dr.texture;if(Jr.length!==$r.length||Jr[0]!==rt.COLOR_ATTACHMENT0){for(let Zr=0,Or=$r.length;Zr<Or;Zr++)Jr[Zr]=rt.COLOR_ATTACHMENT0+Zr;Jr.length=$r.length,Nr=!0}}else Jr[0]!==rt.COLOR_ATTACHMENT0&&(Jr[0]=rt.COLOR_ATTACHMENT0,Nr=!0);else Jr[0]!==rt.BACK&&(Jr[0]=rt.BACK,Nr=!0);Nr&&(tt.isWebGL2?rt.drawBuffers(Jr):et.get("WEBGL_draw_buffers").drawBuffersWEBGL(Jr))}function rr(dr){return Tt!==dr?(rt.useProgram(dr),Tt=dr,!0):!1}const $t={[AddEquation]:rt.FUNC_ADD,[SubtractEquation]:rt.FUNC_SUBTRACT,[ReverseSubtractEquation]:rt.FUNC_REVERSE_SUBTRACT};if(nt)$t[MinEquation]=rt.MIN,$t[MaxEquation]=rt.MAX;else{const dr=et.get("EXT_blend_minmax");dr!==null&&($t[MinEquation]=dr.MIN_EXT,$t[MaxEquation]=dr.MAX_EXT)}const ar={[ZeroFactor]:rt.ZERO,[OneFactor]:rt.ONE,[SrcColorFactor]:rt.SRC_COLOR,[SrcAlphaFactor]:rt.SRC_ALPHA,[SrcAlphaSaturateFactor]:rt.SRC_ALPHA_SATURATE,[DstColorFactor]:rt.DST_COLOR,[DstAlphaFactor]:rt.DST_ALPHA,[OneMinusSrcColorFactor]:rt.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:rt.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:rt.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:rt.ONE_MINUS_DST_ALPHA};function wr(dr,Pr,Jr,Nr,$r,Zr,Or,Kr){if(dr===NoBlending){Mt===!0&&(Vt(rt.BLEND),Mt=!1);return}if(Mt===!1&&(zt(rt.BLEND),Mt=!0),dr!==CustomBlending){if(dr!==Pt||Kr!==Ot){if((It!==AddEquation||Nt!==AddEquation)&&(rt.blendEquation(rt.FUNC_ADD),It=AddEquation,Nt=AddEquation),Kr)switch(dr){case NormalBlending:rt.blendFuncSeparate(rt.ONE,rt.ONE_MINUS_SRC_ALPHA,rt.ONE,rt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:rt.blendFunc(rt.ONE,rt.ONE);break;case SubtractiveBlending:rt.blendFuncSeparate(rt.ZERO,rt.ONE_MINUS_SRC_COLOR,rt.ZERO,rt.ONE);break;case MultiplyBlending:rt.blendFuncSeparate(rt.ZERO,rt.SRC_COLOR,rt.ZERO,rt.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",dr);break}else switch(dr){case NormalBlending:rt.blendFuncSeparate(rt.SRC_ALPHA,rt.ONE_MINUS_SRC_ALPHA,rt.ONE,rt.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:rt.blendFunc(rt.SRC_ALPHA,rt.ONE);break;case SubtractiveBlending:rt.blendFuncSeparate(rt.ZERO,rt.ONE_MINUS_SRC_COLOR,rt.ZERO,rt.ONE);break;case MultiplyBlending:rt.blendFunc(rt.ZERO,rt.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",dr);break}kt=null,Dt=null,Gt=null,Wt=null,Pt=dr,Ot=Kr}return}$r=$r||Pr,Zr=Zr||Jr,Or=Or||Nr,(Pr!==It||$r!==Nt)&&(rt.blendEquationSeparate($t[Pr],$t[$r]),It=Pr,Nt=$r),(Jr!==kt||Nr!==Dt||Zr!==Gt||Or!==Wt)&&(rt.blendFuncSeparate(ar[Jr],ar[Nr],ar[Zr],ar[Or]),kt=Jr,Dt=Nr,Gt=Zr,Wt=Or),Pt=dr,Ot=!1}function vr(dr,Pr){dr.side===DoubleSide?Vt(rt.CULL_FACE):zt(rt.CULL_FACE);let Jr=dr.side===BackSide;Pr&&(Jr=!Jr),Qt(Jr),dr.blending===NormalBlending&&dr.transparent===!1?wr(NoBlending):wr(dr.blending,dr.blendEquation,dr.blendSrc,dr.blendDst,dr.blendEquationAlpha,dr.blendSrcAlpha,dr.blendDstAlpha,dr.premultipliedAlpha),ut.setFunc(dr.depthFunc),ut.setTest(dr.depthTest),ut.setMask(dr.depthWrite),st.setMask(dr.colorWrite);const Nr=dr.stencilWrite;ft.setTest(Nr),Nr&&(ft.setMask(dr.stencilWriteMask),ft.setFunc(dr.stencilFunc,dr.stencilRef,dr.stencilFuncMask),ft.setOp(dr.stencilFail,dr.stencilZFail,dr.stencilZPass)),tr(dr.polygonOffset,dr.polygonOffsetFactor,dr.polygonOffsetUnits),dr.alphaToCoverage===!0?zt(rt.SAMPLE_ALPHA_TO_COVERAGE):Vt(rt.SAMPLE_ALPHA_TO_COVERAGE)}function Qt(dr){Xt!==dr&&(dr?rt.frontFace(rt.CW):rt.frontFace(rt.CCW),Xt=dr)}function Yt(dr){dr!==CullFaceNone?(zt(rt.CULL_FACE),dr!==Et&&(dr===CullFaceBack?rt.cullFace(rt.BACK):dr===CullFaceFront?rt.cullFace(rt.FRONT):rt.cullFace(rt.FRONT_AND_BACK))):Vt(rt.CULL_FACE),Et=dr}function Ht(dr){dr!==lt&&(wt&&rt.lineWidth(dr),lt=dr)}function tr(dr,Pr,Jr){dr?(zt(rt.POLYGON_OFFSET_FILL),(dt!==Pr||pt!==Jr)&&(rt.polygonOffset(Pr,Jr),dt=Pr,pt=Jr)):Vt(rt.POLYGON_OFFSET_FILL)}function br(dr){dr?zt(rt.SCISSOR_TEST):Vt(rt.SCISSOR_TEST)}function gr(dr){dr===void 0&&(dr=rt.TEXTURE0+vt-1),bt!==dr&&(rt.activeTexture(dr),bt=dr)}function Sr(dr,Pr,Jr){Jr===void 0&&(bt===null?Jr=rt.TEXTURE0+vt-1:Jr=bt);let Nr=ct[Jr];Nr===void 0&&(Nr={type:void 0,texture:void 0},ct[Jr]=Nr),(Nr.type!==dr||Nr.texture!==Pr)&&(bt!==Jr&&(rt.activeTexture(Jr),bt=Jr),rt.bindTexture(dr,Pr||Kt[dr]),Nr.type=dr,Nr.texture=Pr)}function pr(){const dr=ct[bt];dr!==void 0&&dr.type!==void 0&&(rt.bindTexture(dr.type,null),dr.type=void 0,dr.texture=void 0)}function er(){try{rt.compressedTexImage2D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function yr(){try{rt.compressedTexImage3D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Gr(){try{rt.texSubImage2D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Mr(){try{rt.texSubImage3D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Ar(){try{rt.compressedTexSubImage2D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function an(){try{rt.compressedTexSubImage3D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Br(){try{rt.texStorage2D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Dr(){try{rt.texStorage3D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function ln(){try{rt.texImage2D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Ir(){try{rt.texImage3D.apply(rt,arguments)}catch(dr){console.error("THREE.WebGLState:",dr)}}function Tr(dr){Ft.equals(dr)===!1&&(rt.scissor(dr.x,dr.y,dr.z,dr.w),Ft.copy(dr))}function Er(dr){jt.equals(dr)===!1&&(rt.viewport(dr.x,dr.y,dr.z,dr.w),jt.copy(dr))}function _r(dr,Pr){let Jr=mt.get(Pr);Jr===void 0&&(Jr=new WeakMap,mt.set(Pr,Jr));let Nr=Jr.get(dr);Nr===void 0&&(Nr=rt.getUniformBlockIndex(Pr,dr.name),Jr.set(dr,Nr))}function xr(dr,Pr){const Nr=mt.get(Pr).get(dr);ht.get(Pr)!==Nr&&(rt.uniformBlockBinding(Pr,Nr,dr.__bindingPointIndex),ht.set(Pr,Nr))}function Xr(){rt.disable(rt.BLEND),rt.disable(rt.CULL_FACE),rt.disable(rt.DEPTH_TEST),rt.disable(rt.POLYGON_OFFSET_FILL),rt.disable(rt.SCISSOR_TEST),rt.disable(rt.STENCIL_TEST),rt.disable(rt.SAMPLE_ALPHA_TO_COVERAGE),rt.blendEquation(rt.FUNC_ADD),rt.blendFunc(rt.ONE,rt.ZERO),rt.blendFuncSeparate(rt.ONE,rt.ZERO,rt.ONE,rt.ZERO),rt.colorMask(!0,!0,!0,!0),rt.clearColor(0,0,0,0),rt.depthMask(!0),rt.depthFunc(rt.LESS),rt.clearDepth(1),rt.stencilMask(4294967295),rt.stencilFunc(rt.ALWAYS,0,4294967295),rt.stencilOp(rt.KEEP,rt.KEEP,rt.KEEP),rt.clearStencil(0),rt.cullFace(rt.BACK),rt.frontFace(rt.CCW),rt.polygonOffset(0,0),rt.activeTexture(rt.TEXTURE0),rt.bindFramebuffer(rt.FRAMEBUFFER,null),nt===!0&&(rt.bindFramebuffer(rt.DRAW_FRAMEBUFFER,null),rt.bindFramebuffer(rt.READ_FRAMEBUFFER,null)),rt.useProgram(null),rt.lineWidth(1),rt.scissor(0,0,rt.canvas.width,rt.canvas.height),rt.viewport(0,0,rt.canvas.width,rt.canvas.height),gt={},bt=null,ct={},yt={},xt=new WeakMap,St=[],Tt=null,Mt=!1,Pt=null,It=null,kt=null,Dt=null,Nt=null,Gt=null,Wt=null,Ot=!1,Xt=null,Et=null,lt=null,dt=null,pt=null,Ft.set(0,0,rt.canvas.width,rt.canvas.height),jt.set(0,0,rt.canvas.width,rt.canvas.height),st.reset(),ut.reset(),ft.reset()}return{buffers:{color:st,depth:ut,stencil:ft},enable:zt,disable:Vt,bindFramebuffer:nr,drawBuffers:or,useProgram:rr,setBlending:wr,setMaterial:vr,setFlipSided:Qt,setCullFace:Yt,setLineWidth:Ht,setPolygonOffset:tr,setScissorTest:br,activeTexture:gr,bindTexture:Sr,unbindTexture:pr,compressedTexImage2D:er,compressedTexImage3D:yr,texImage2D:ln,texImage3D:Ir,updateUBOMapping:_r,uniformBlockBinding:xr,texStorage2D:Br,texStorage3D:Dr,texSubImage2D:Gr,texSubImage3D:Mr,compressedTexSubImage2D:Ar,compressedTexSubImage3D:an,scissor:Tr,viewport:Er,reset:Xr}}function WebGLTextures(rt,et,tt,nt,ot,it,at){const st=ot.isWebGL2,ut=ot.maxTextures,ft=ot.maxCubemapSize,ht=ot.maxTextureSize,mt=ot.maxSamples,gt=et.has("WEBGL_multisampled_render_to_texture")?et.get("WEBGL_multisampled_render_to_texture"):null,yt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),xt=new WeakMap;let St;const Tt=new WeakMap;let Mt=!1;try{Mt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function Pt(pr,er){return Mt?new OffscreenCanvas(pr,er):createElementNS("canvas")}function It(pr,er,yr,Gr){let Mr=1;if((pr.width>Gr||pr.height>Gr)&&(Mr=Gr/Math.max(pr.width,pr.height)),Mr<1||er===!0)if(typeof HTMLImageElement<"u"&&pr instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&pr instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&pr instanceof ImageBitmap){const Ar=er?floorPowerOfTwo:Math.floor,an=Ar(Mr*pr.width),Br=Ar(Mr*pr.height);St===void 0&&(St=Pt(an,Br));const Dr=yr?Pt(an,Br):St;return Dr.width=an,Dr.height=Br,Dr.getContext("2d").drawImage(pr,0,0,an,Br),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+pr.width+"x"+pr.height+") to ("+an+"x"+Br+")."),Dr}else return"data"in pr&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+pr.width+"x"+pr.height+")."),pr;return pr}function kt(pr){return isPowerOfTwo(pr.width)&&isPowerOfTwo(pr.height)}function Dt(pr){return st?!1:pr.wrapS!==ClampToEdgeWrapping||pr.wrapT!==ClampToEdgeWrapping||pr.minFilter!==NearestFilter&&pr.minFilter!==LinearFilter}function Nt(pr,er){return pr.generateMipmaps&&er&&pr.minFilter!==NearestFilter&&pr.minFilter!==LinearFilter}function Gt(pr){rt.generateMipmap(pr)}function Wt(pr,er,yr,Gr,Mr=!1){if(st===!1)return er;if(pr!==null){if(rt[pr]!==void 0)return rt[pr];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+pr+"'")}let Ar=er;if(er===rt.RED&&(yr===rt.FLOAT&&(Ar=rt.R32F),yr===rt.HALF_FLOAT&&(Ar=rt.R16F),yr===rt.UNSIGNED_BYTE&&(Ar=rt.R8)),er===rt.RED_INTEGER&&(yr===rt.UNSIGNED_BYTE&&(Ar=rt.R8UI),yr===rt.UNSIGNED_SHORT&&(Ar=rt.R16UI),yr===rt.UNSIGNED_INT&&(Ar=rt.R32UI),yr===rt.BYTE&&(Ar=rt.R8I),yr===rt.SHORT&&(Ar=rt.R16I),yr===rt.INT&&(Ar=rt.R32I)),er===rt.RG&&(yr===rt.FLOAT&&(Ar=rt.RG32F),yr===rt.HALF_FLOAT&&(Ar=rt.RG16F),yr===rt.UNSIGNED_BYTE&&(Ar=rt.RG8)),er===rt.RGBA){const an=Mr?LinearTransfer:ColorManagement.getTransfer(Gr);yr===rt.FLOAT&&(Ar=rt.RGBA32F),yr===rt.HALF_FLOAT&&(Ar=rt.RGBA16F),yr===rt.UNSIGNED_BYTE&&(Ar=an===SRGBTransfer?rt.SRGB8_ALPHA8:rt.RGBA8),yr===rt.UNSIGNED_SHORT_4_4_4_4&&(Ar=rt.RGBA4),yr===rt.UNSIGNED_SHORT_5_5_5_1&&(Ar=rt.RGB5_A1)}return(Ar===rt.R16F||Ar===rt.R32F||Ar===rt.RG16F||Ar===rt.RG32F||Ar===rt.RGBA16F||Ar===rt.RGBA32F)&&et.get("EXT_color_buffer_float"),Ar}function Ot(pr,er,yr){return Nt(pr,yr)===!0||pr.isFramebufferTexture&&pr.minFilter!==NearestFilter&&pr.minFilter!==LinearFilter?Math.log2(Math.max(er.width,er.height))+1:pr.mipmaps!==void 0&&pr.mipmaps.length>0?pr.mipmaps.length:pr.isCompressedTexture&&Array.isArray(pr.image)?er.mipmaps.length:1}function Xt(pr){return pr===NearestFilter||pr===NearestMipmapNearestFilter||pr===NearestMipmapLinearFilter?rt.NEAREST:rt.LINEAR}function Et(pr){const er=pr.target;er.removeEventListener("dispose",Et),dt(er),er.isVideoTexture&&xt.delete(er)}function lt(pr){const er=pr.target;er.removeEventListener("dispose",lt),vt(er)}function dt(pr){const er=nt.get(pr);if(er.__webglInit===void 0)return;const yr=pr.source,Gr=Tt.get(yr);if(Gr){const Mr=Gr[er.__cacheKey];Mr.usedTimes--,Mr.usedTimes===0&&pt(pr),Object.keys(Gr).length===0&&Tt.delete(yr)}nt.remove(pr)}function pt(pr){const er=nt.get(pr);rt.deleteTexture(er.__webglTexture);const yr=pr.source,Gr=Tt.get(yr);delete Gr[er.__cacheKey],at.memory.textures--}function vt(pr){const er=pr.texture,yr=nt.get(pr),Gr=nt.get(er);if(Gr.__webglTexture!==void 0&&(rt.deleteTexture(Gr.__webglTexture),at.memory.textures--),pr.depthTexture&&pr.depthTexture.dispose(),pr.isWebGLCubeRenderTarget)for(let Mr=0;Mr<6;Mr++){if(Array.isArray(yr.__webglFramebuffer[Mr]))for(let Ar=0;Ar<yr.__webglFramebuffer[Mr].length;Ar++)rt.deleteFramebuffer(yr.__webglFramebuffer[Mr][Ar]);else rt.deleteFramebuffer(yr.__webglFramebuffer[Mr]);yr.__webglDepthbuffer&&rt.deleteRenderbuffer(yr.__webglDepthbuffer[Mr])}else{if(Array.isArray(yr.__webglFramebuffer))for(let Mr=0;Mr<yr.__webglFramebuffer.length;Mr++)rt.deleteFramebuffer(yr.__webglFramebuffer[Mr]);else rt.deleteFramebuffer(yr.__webglFramebuffer);if(yr.__webglDepthbuffer&&rt.deleteRenderbuffer(yr.__webglDepthbuffer),yr.__webglMultisampledFramebuffer&&rt.deleteFramebuffer(yr.__webglMultisampledFramebuffer),yr.__webglColorRenderbuffer)for(let Mr=0;Mr<yr.__webglColorRenderbuffer.length;Mr++)yr.__webglColorRenderbuffer[Mr]&&rt.deleteRenderbuffer(yr.__webglColorRenderbuffer[Mr]);yr.__webglDepthRenderbuffer&&rt.deleteRenderbuffer(yr.__webglDepthRenderbuffer)}if(pr.isWebGLMultipleRenderTargets)for(let Mr=0,Ar=er.length;Mr<Ar;Mr++){const an=nt.get(er[Mr]);an.__webglTexture&&(rt.deleteTexture(an.__webglTexture),at.memory.textures--),nt.remove(er[Mr])}nt.remove(er),nt.remove(pr)}let wt=0;function At(){wt=0}function Rt(){const pr=wt;return pr>=ut&&console.warn("THREE.WebGLTextures: Trying to use "+pr+" texture units while this GPU supports only "+ut),wt+=1,pr}function bt(pr){const er=[];return er.push(pr.wrapS),er.push(pr.wrapT),er.push(pr.wrapR||0),er.push(pr.magFilter),er.push(pr.minFilter),er.push(pr.anisotropy),er.push(pr.internalFormat),er.push(pr.format),er.push(pr.type),er.push(pr.generateMipmaps),er.push(pr.premultiplyAlpha),er.push(pr.flipY),er.push(pr.unpackAlignment),er.push(pr.colorSpace),er.join()}function ct(pr,er){const yr=nt.get(pr);if(pr.isVideoTexture&&gr(pr),pr.isRenderTargetTexture===!1&&pr.version>0&&yr.__version!==pr.version){const Gr=pr.image;if(Gr===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Gr.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{nr(yr,pr,er);return}}tt.bindTexture(rt.TEXTURE_2D,yr.__webglTexture,rt.TEXTURE0+er)}function _t(pr,er){const yr=nt.get(pr);if(pr.version>0&&yr.__version!==pr.version){nr(yr,pr,er);return}tt.bindTexture(rt.TEXTURE_2D_ARRAY,yr.__webglTexture,rt.TEXTURE0+er)}function Lt(pr,er){const yr=nt.get(pr);if(pr.version>0&&yr.__version!==pr.version){nr(yr,pr,er);return}tt.bindTexture(rt.TEXTURE_3D,yr.__webglTexture,rt.TEXTURE0+er)}function Ft(pr,er){const yr=nt.get(pr);if(pr.version>0&&yr.__version!==pr.version){or(yr,pr,er);return}tt.bindTexture(rt.TEXTURE_CUBE_MAP,yr.__webglTexture,rt.TEXTURE0+er)}const jt={[RepeatWrapping]:rt.REPEAT,[ClampToEdgeWrapping]:rt.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:rt.MIRRORED_REPEAT},Zt={[NearestFilter]:rt.NEAREST,[NearestMipmapNearestFilter]:rt.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:rt.NEAREST_MIPMAP_LINEAR,[LinearFilter]:rt.LINEAR,[LinearMipmapNearestFilter]:rt.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:rt.LINEAR_MIPMAP_LINEAR},Kt={[NeverCompare]:rt.NEVER,[AlwaysCompare]:rt.ALWAYS,[LessCompare]:rt.LESS,[LessEqualCompare]:rt.LEQUAL,[EqualCompare]:rt.EQUAL,[GreaterEqualCompare]:rt.GEQUAL,[GreaterCompare]:rt.GREATER,[NotEqualCompare]:rt.NOTEQUAL};function zt(pr,er,yr){if(yr?(rt.texParameteri(pr,rt.TEXTURE_WRAP_S,jt[er.wrapS]),rt.texParameteri(pr,rt.TEXTURE_WRAP_T,jt[er.wrapT]),(pr===rt.TEXTURE_3D||pr===rt.TEXTURE_2D_ARRAY)&&rt.texParameteri(pr,rt.TEXTURE_WRAP_R,jt[er.wrapR]),rt.texParameteri(pr,rt.TEXTURE_MAG_FILTER,Zt[er.magFilter]),rt.texParameteri(pr,rt.TEXTURE_MIN_FILTER,Zt[er.minFilter])):(rt.texParameteri(pr,rt.TEXTURE_WRAP_S,rt.CLAMP_TO_EDGE),rt.texParameteri(pr,rt.TEXTURE_WRAP_T,rt.CLAMP_TO_EDGE),(pr===rt.TEXTURE_3D||pr===rt.TEXTURE_2D_ARRAY)&&rt.texParameteri(pr,rt.TEXTURE_WRAP_R,rt.CLAMP_TO_EDGE),(er.wrapS!==ClampToEdgeWrapping||er.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),rt.texParameteri(pr,rt.TEXTURE_MAG_FILTER,Xt(er.magFilter)),rt.texParameteri(pr,rt.TEXTURE_MIN_FILTER,Xt(er.minFilter)),er.minFilter!==NearestFilter&&er.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),er.compareFunction&&(rt.texParameteri(pr,rt.TEXTURE_COMPARE_MODE,rt.COMPARE_REF_TO_TEXTURE),rt.texParameteri(pr,rt.TEXTURE_COMPARE_FUNC,Kt[er.compareFunction])),et.has("EXT_texture_filter_anisotropic")===!0){const Gr=et.get("EXT_texture_filter_anisotropic");if(er.magFilter===NearestFilter||er.minFilter!==NearestMipmapLinearFilter&&er.minFilter!==LinearMipmapLinearFilter||er.type===FloatType&&et.has("OES_texture_float_linear")===!1||st===!1&&er.type===HalfFloatType&&et.has("OES_texture_half_float_linear")===!1)return;(er.anisotropy>1||nt.get(er).__currentAnisotropy)&&(rt.texParameterf(pr,Gr.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(er.anisotropy,ot.getMaxAnisotropy())),nt.get(er).__currentAnisotropy=er.anisotropy)}}function Vt(pr,er){let yr=!1;pr.__webglInit===void 0&&(pr.__webglInit=!0,er.addEventListener("dispose",Et));const Gr=er.source;let Mr=Tt.get(Gr);Mr===void 0&&(Mr={},Tt.set(Gr,Mr));const Ar=bt(er);if(Ar!==pr.__cacheKey){Mr[Ar]===void 0&&(Mr[Ar]={texture:rt.createTexture(),usedTimes:0},at.memory.textures++,yr=!0),Mr[Ar].usedTimes++;const an=Mr[pr.__cacheKey];an!==void 0&&(Mr[pr.__cacheKey].usedTimes--,an.usedTimes===0&&pt(er)),pr.__cacheKey=Ar,pr.__webglTexture=Mr[Ar].texture}return yr}function nr(pr,er,yr){let Gr=rt.TEXTURE_2D;(er.isDataArrayTexture||er.isCompressedArrayTexture)&&(Gr=rt.TEXTURE_2D_ARRAY),er.isData3DTexture&&(Gr=rt.TEXTURE_3D);const Mr=Vt(pr,er),Ar=er.source;tt.bindTexture(Gr,pr.__webglTexture,rt.TEXTURE0+yr);const an=nt.get(Ar);if(Ar.version!==an.__version||Mr===!0){tt.activeTexture(rt.TEXTURE0+yr);const Br=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Dr=er.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(er.colorSpace),ln=er.colorSpace===NoColorSpace||Br===Dr?rt.NONE:rt.BROWSER_DEFAULT_WEBGL;rt.pixelStorei(rt.UNPACK_FLIP_Y_WEBGL,er.flipY),rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,er.premultiplyAlpha),rt.pixelStorei(rt.UNPACK_ALIGNMENT,er.unpackAlignment),rt.pixelStorei(rt.UNPACK_COLORSPACE_CONVERSION_WEBGL,ln);const Ir=Dt(er)&&kt(er.image)===!1;let Tr=It(er.image,Ir,!1,ht);Tr=Sr(er,Tr);const Er=kt(Tr)||st,_r=it.convert(er.format,er.colorSpace);let xr=it.convert(er.type),Xr=Wt(er.internalFormat,_r,xr,er.colorSpace,er.isVideoTexture);zt(Gr,er,Er);let dr;const Pr=er.mipmaps,Jr=st&&er.isVideoTexture!==!0,Nr=an.__version===void 0||Mr===!0,$r=Ot(er,Tr,Er);if(er.isDepthTexture)Xr=rt.DEPTH_COMPONENT,st?er.type===FloatType?Xr=rt.DEPTH_COMPONENT32F:er.type===UnsignedIntType?Xr=rt.DEPTH_COMPONENT24:er.type===UnsignedInt248Type?Xr=rt.DEPTH24_STENCIL8:Xr=rt.DEPTH_COMPONENT16:er.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),er.format===DepthFormat&&Xr===rt.DEPTH_COMPONENT&&er.type!==UnsignedShortType&&er.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),er.type=UnsignedIntType,xr=it.convert(er.type)),er.format===DepthStencilFormat&&Xr===rt.DEPTH_COMPONENT&&(Xr=rt.DEPTH_STENCIL,er.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),er.type=UnsignedInt248Type,xr=it.convert(er.type))),Nr&&(Jr?tt.texStorage2D(rt.TEXTURE_2D,1,Xr,Tr.width,Tr.height):tt.texImage2D(rt.TEXTURE_2D,0,Xr,Tr.width,Tr.height,0,_r,xr,null));else if(er.isDataTexture)if(Pr.length>0&&Er){Jr&&Nr&&tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Pr[0].width,Pr[0].height);for(let Zr=0,Or=Pr.length;Zr<Or;Zr++)dr=Pr[Zr],Jr?tt.texSubImage2D(rt.TEXTURE_2D,Zr,0,0,dr.width,dr.height,_r,xr,dr.data):tt.texImage2D(rt.TEXTURE_2D,Zr,Xr,dr.width,dr.height,0,_r,xr,dr.data);er.generateMipmaps=!1}else Jr?(Nr&&tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Tr.width,Tr.height),tt.texSubImage2D(rt.TEXTURE_2D,0,0,0,Tr.width,Tr.height,_r,xr,Tr.data)):tt.texImage2D(rt.TEXTURE_2D,0,Xr,Tr.width,Tr.height,0,_r,xr,Tr.data);else if(er.isCompressedTexture)if(er.isCompressedArrayTexture){Jr&&Nr&&tt.texStorage3D(rt.TEXTURE_2D_ARRAY,$r,Xr,Pr[0].width,Pr[0].height,Tr.depth);for(let Zr=0,Or=Pr.length;Zr<Or;Zr++)dr=Pr[Zr],er.format!==RGBAFormat?_r!==null?Jr?tt.compressedTexSubImage3D(rt.TEXTURE_2D_ARRAY,Zr,0,0,0,dr.width,dr.height,Tr.depth,_r,dr.data,0,0):tt.compressedTexImage3D(rt.TEXTURE_2D_ARRAY,Zr,Xr,dr.width,dr.height,Tr.depth,0,dr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jr?tt.texSubImage3D(rt.TEXTURE_2D_ARRAY,Zr,0,0,0,dr.width,dr.height,Tr.depth,_r,xr,dr.data):tt.texImage3D(rt.TEXTURE_2D_ARRAY,Zr,Xr,dr.width,dr.height,Tr.depth,0,_r,xr,dr.data)}else{Jr&&Nr&&tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Pr[0].width,Pr[0].height);for(let Zr=0,Or=Pr.length;Zr<Or;Zr++)dr=Pr[Zr],er.format!==RGBAFormat?_r!==null?Jr?tt.compressedTexSubImage2D(rt.TEXTURE_2D,Zr,0,0,dr.width,dr.height,_r,dr.data):tt.compressedTexImage2D(rt.TEXTURE_2D,Zr,Xr,dr.width,dr.height,0,dr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jr?tt.texSubImage2D(rt.TEXTURE_2D,Zr,0,0,dr.width,dr.height,_r,xr,dr.data):tt.texImage2D(rt.TEXTURE_2D,Zr,Xr,dr.width,dr.height,0,_r,xr,dr.data)}else if(er.isDataArrayTexture)Jr?(Nr&&tt.texStorage3D(rt.TEXTURE_2D_ARRAY,$r,Xr,Tr.width,Tr.height,Tr.depth),tt.texSubImage3D(rt.TEXTURE_2D_ARRAY,0,0,0,0,Tr.width,Tr.height,Tr.depth,_r,xr,Tr.data)):tt.texImage3D(rt.TEXTURE_2D_ARRAY,0,Xr,Tr.width,Tr.height,Tr.depth,0,_r,xr,Tr.data);else if(er.isData3DTexture)Jr?(Nr&&tt.texStorage3D(rt.TEXTURE_3D,$r,Xr,Tr.width,Tr.height,Tr.depth),tt.texSubImage3D(rt.TEXTURE_3D,0,0,0,0,Tr.width,Tr.height,Tr.depth,_r,xr,Tr.data)):tt.texImage3D(rt.TEXTURE_3D,0,Xr,Tr.width,Tr.height,Tr.depth,0,_r,xr,Tr.data);else if(er.isFramebufferTexture){if(Nr)if(Jr)tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Tr.width,Tr.height);else{let Zr=Tr.width,Or=Tr.height;for(let Kr=0;Kr<$r;Kr++)tt.texImage2D(rt.TEXTURE_2D,Kr,Xr,Zr,Or,0,_r,xr,null),Zr>>=1,Or>>=1}}else if(Pr.length>0&&Er){Jr&&Nr&&tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Pr[0].width,Pr[0].height);for(let Zr=0,Or=Pr.length;Zr<Or;Zr++)dr=Pr[Zr],Jr?tt.texSubImage2D(rt.TEXTURE_2D,Zr,0,0,_r,xr,dr):tt.texImage2D(rt.TEXTURE_2D,Zr,Xr,_r,xr,dr);er.generateMipmaps=!1}else Jr?(Nr&&tt.texStorage2D(rt.TEXTURE_2D,$r,Xr,Tr.width,Tr.height),tt.texSubImage2D(rt.TEXTURE_2D,0,0,0,_r,xr,Tr)):tt.texImage2D(rt.TEXTURE_2D,0,Xr,_r,xr,Tr);Nt(er,Er)&&Gt(Gr),an.__version=Ar.version,er.onUpdate&&er.onUpdate(er)}pr.__version=er.version}function or(pr,er,yr){if(er.image.length!==6)return;const Gr=Vt(pr,er),Mr=er.source;tt.bindTexture(rt.TEXTURE_CUBE_MAP,pr.__webglTexture,rt.TEXTURE0+yr);const Ar=nt.get(Mr);if(Mr.version!==Ar.__version||Gr===!0){tt.activeTexture(rt.TEXTURE0+yr);const an=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Br=er.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(er.colorSpace),Dr=er.colorSpace===NoColorSpace||an===Br?rt.NONE:rt.BROWSER_DEFAULT_WEBGL;rt.pixelStorei(rt.UNPACK_FLIP_Y_WEBGL,er.flipY),rt.pixelStorei(rt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,er.premultiplyAlpha),rt.pixelStorei(rt.UNPACK_ALIGNMENT,er.unpackAlignment),rt.pixelStorei(rt.UNPACK_COLORSPACE_CONVERSION_WEBGL,Dr);const ln=er.isCompressedTexture||er.image[0].isCompressedTexture,Ir=er.image[0]&&er.image[0].isDataTexture,Tr=[];for(let Zr=0;Zr<6;Zr++)!ln&&!Ir?Tr[Zr]=It(er.image[Zr],!1,!0,ft):Tr[Zr]=Ir?er.image[Zr].image:er.image[Zr],Tr[Zr]=Sr(er,Tr[Zr]);const Er=Tr[0],_r=kt(Er)||st,xr=it.convert(er.format,er.colorSpace),Xr=it.convert(er.type),dr=Wt(er.internalFormat,xr,Xr,er.colorSpace),Pr=st&&er.isVideoTexture!==!0,Jr=Ar.__version===void 0||Gr===!0;let Nr=Ot(er,Er,_r);zt(rt.TEXTURE_CUBE_MAP,er,_r);let $r;if(ln){Pr&&Jr&&tt.texStorage2D(rt.TEXTURE_CUBE_MAP,Nr,dr,Er.width,Er.height);for(let Zr=0;Zr<6;Zr++){$r=Tr[Zr].mipmaps;for(let Or=0;Or<$r.length;Or++){const Kr=$r[Or];er.format!==RGBAFormat?xr!==null?Pr?tt.compressedTexSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or,0,0,Kr.width,Kr.height,xr,Kr.data):tt.compressedTexImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or,dr,Kr.width,Kr.height,0,Kr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pr?tt.texSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or,0,0,Kr.width,Kr.height,xr,Xr,Kr.data):tt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or,dr,Kr.width,Kr.height,0,xr,Xr,Kr.data)}}}else{$r=er.mipmaps,Pr&&Jr&&($r.length>0&&Nr++,tt.texStorage2D(rt.TEXTURE_CUBE_MAP,Nr,dr,Tr[0].width,Tr[0].height));for(let Zr=0;Zr<6;Zr++)if(Ir){Pr?tt.texSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,0,0,0,Tr[Zr].width,Tr[Zr].height,xr,Xr,Tr[Zr].data):tt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,0,dr,Tr[Zr].width,Tr[Zr].height,0,xr,Xr,Tr[Zr].data);for(let Or=0;Or<$r.length;Or++){const Pn=$r[Or].image[Zr].image;Pr?tt.texSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or+1,0,0,Pn.width,Pn.height,xr,Xr,Pn.data):tt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or+1,dr,Pn.width,Pn.height,0,xr,Xr,Pn.data)}}else{Pr?tt.texSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,0,0,0,xr,Xr,Tr[Zr]):tt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,0,dr,xr,Xr,Tr[Zr]);for(let Or=0;Or<$r.length;Or++){const Kr=$r[Or];Pr?tt.texSubImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or+1,0,0,xr,Xr,Kr.image[Zr]):tt.texImage2D(rt.TEXTURE_CUBE_MAP_POSITIVE_X+Zr,Or+1,dr,xr,Xr,Kr.image[Zr])}}}Nt(er,_r)&&Gt(rt.TEXTURE_CUBE_MAP),Ar.__version=Mr.version,er.onUpdate&&er.onUpdate(er)}pr.__version=er.version}function rr(pr,er,yr,Gr,Mr,Ar){const an=it.convert(yr.format,yr.colorSpace),Br=it.convert(yr.type),Dr=Wt(yr.internalFormat,an,Br,yr.colorSpace);if(!nt.get(er).__hasExternalTextures){const Ir=Math.max(1,er.width>>Ar),Tr=Math.max(1,er.height>>Ar);Mr===rt.TEXTURE_3D||Mr===rt.TEXTURE_2D_ARRAY?tt.texImage3D(Mr,Ar,Dr,Ir,Tr,er.depth,0,an,Br,null):tt.texImage2D(Mr,Ar,Dr,Ir,Tr,0,an,Br,null)}tt.bindFramebuffer(rt.FRAMEBUFFER,pr),br(er)?gt.framebufferTexture2DMultisampleEXT(rt.FRAMEBUFFER,Gr,Mr,nt.get(yr).__webglTexture,0,tr(er)):(Mr===rt.TEXTURE_2D||Mr>=rt.TEXTURE_CUBE_MAP_POSITIVE_X&&Mr<=rt.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&rt.framebufferTexture2D(rt.FRAMEBUFFER,Gr,Mr,nt.get(yr).__webglTexture,Ar),tt.bindFramebuffer(rt.FRAMEBUFFER,null)}function $t(pr,er,yr){if(rt.bindRenderbuffer(rt.RENDERBUFFER,pr),er.depthBuffer&&!er.stencilBuffer){let Gr=st===!0?rt.DEPTH_COMPONENT24:rt.DEPTH_COMPONENT16;if(yr||br(er)){const Mr=er.depthTexture;Mr&&Mr.isDepthTexture&&(Mr.type===FloatType?Gr=rt.DEPTH_COMPONENT32F:Mr.type===UnsignedIntType&&(Gr=rt.DEPTH_COMPONENT24));const Ar=tr(er);br(er)?gt.renderbufferStorageMultisampleEXT(rt.RENDERBUFFER,Ar,Gr,er.width,er.height):rt.renderbufferStorageMultisample(rt.RENDERBUFFER,Ar,Gr,er.width,er.height)}else rt.renderbufferStorage(rt.RENDERBUFFER,Gr,er.width,er.height);rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.DEPTH_ATTACHMENT,rt.RENDERBUFFER,pr)}else if(er.depthBuffer&&er.stencilBuffer){const Gr=tr(er);yr&&br(er)===!1?rt.renderbufferStorageMultisample(rt.RENDERBUFFER,Gr,rt.DEPTH24_STENCIL8,er.width,er.height):br(er)?gt.renderbufferStorageMultisampleEXT(rt.RENDERBUFFER,Gr,rt.DEPTH24_STENCIL8,er.width,er.height):rt.renderbufferStorage(rt.RENDERBUFFER,rt.DEPTH_STENCIL,er.width,er.height),rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.DEPTH_STENCIL_ATTACHMENT,rt.RENDERBUFFER,pr)}else{const Gr=er.isWebGLMultipleRenderTargets===!0?er.texture:[er.texture];for(let Mr=0;Mr<Gr.length;Mr++){const Ar=Gr[Mr],an=it.convert(Ar.format,Ar.colorSpace),Br=it.convert(Ar.type),Dr=Wt(Ar.internalFormat,an,Br,Ar.colorSpace),ln=tr(er);yr&&br(er)===!1?rt.renderbufferStorageMultisample(rt.RENDERBUFFER,ln,Dr,er.width,er.height):br(er)?gt.renderbufferStorageMultisampleEXT(rt.RENDERBUFFER,ln,Dr,er.width,er.height):rt.renderbufferStorage(rt.RENDERBUFFER,Dr,er.width,er.height)}}rt.bindRenderbuffer(rt.RENDERBUFFER,null)}function ar(pr,er){if(er&&er.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(tt.bindFramebuffer(rt.FRAMEBUFFER,pr),!(er.depthTexture&&er.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!nt.get(er.depthTexture).__webglTexture||er.depthTexture.image.width!==er.width||er.depthTexture.image.height!==er.height)&&(er.depthTexture.image.width=er.width,er.depthTexture.image.height=er.height,er.depthTexture.needsUpdate=!0),ct(er.depthTexture,0);const Gr=nt.get(er.depthTexture).__webglTexture,Mr=tr(er);if(er.depthTexture.format===DepthFormat)br(er)?gt.framebufferTexture2DMultisampleEXT(rt.FRAMEBUFFER,rt.DEPTH_ATTACHMENT,rt.TEXTURE_2D,Gr,0,Mr):rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.DEPTH_ATTACHMENT,rt.TEXTURE_2D,Gr,0);else if(er.depthTexture.format===DepthStencilFormat)br(er)?gt.framebufferTexture2DMultisampleEXT(rt.FRAMEBUFFER,rt.DEPTH_STENCIL_ATTACHMENT,rt.TEXTURE_2D,Gr,0,Mr):rt.framebufferTexture2D(rt.FRAMEBUFFER,rt.DEPTH_STENCIL_ATTACHMENT,rt.TEXTURE_2D,Gr,0);else throw new Error("Unknown depthTexture format")}function wr(pr){const er=nt.get(pr),yr=pr.isWebGLCubeRenderTarget===!0;if(pr.depthTexture&&!er.__autoAllocateDepthBuffer){if(yr)throw new Error("target.depthTexture not supported in Cube render targets");ar(er.__webglFramebuffer,pr)}else if(yr){er.__webglDepthbuffer=[];for(let Gr=0;Gr<6;Gr++)tt.bindFramebuffer(rt.FRAMEBUFFER,er.__webglFramebuffer[Gr]),er.__webglDepthbuffer[Gr]=rt.createRenderbuffer(),$t(er.__webglDepthbuffer[Gr],pr,!1)}else tt.bindFramebuffer(rt.FRAMEBUFFER,er.__webglFramebuffer),er.__webglDepthbuffer=rt.createRenderbuffer(),$t(er.__webglDepthbuffer,pr,!1);tt.bindFramebuffer(rt.FRAMEBUFFER,null)}function vr(pr,er,yr){const Gr=nt.get(pr);er!==void 0&&rr(Gr.__webglFramebuffer,pr,pr.texture,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,0),yr!==void 0&&wr(pr)}function Qt(pr){const er=pr.texture,yr=nt.get(pr),Gr=nt.get(er);pr.addEventListener("dispose",lt),pr.isWebGLMultipleRenderTargets!==!0&&(Gr.__webglTexture===void 0&&(Gr.__webglTexture=rt.createTexture()),Gr.__version=er.version,at.memory.textures++);const Mr=pr.isWebGLCubeRenderTarget===!0,Ar=pr.isWebGLMultipleRenderTargets===!0,an=kt(pr)||st;if(Mr){yr.__webglFramebuffer=[];for(let Br=0;Br<6;Br++)if(st&&er.mipmaps&&er.mipmaps.length>0){yr.__webglFramebuffer[Br]=[];for(let Dr=0;Dr<er.mipmaps.length;Dr++)yr.__webglFramebuffer[Br][Dr]=rt.createFramebuffer()}else yr.__webglFramebuffer[Br]=rt.createFramebuffer()}else{if(st&&er.mipmaps&&er.mipmaps.length>0){yr.__webglFramebuffer=[];for(let Br=0;Br<er.mipmaps.length;Br++)yr.__webglFramebuffer[Br]=rt.createFramebuffer()}else yr.__webglFramebuffer=rt.createFramebuffer();if(Ar)if(ot.drawBuffers){const Br=pr.texture;for(let Dr=0,ln=Br.length;Dr<ln;Dr++){const Ir=nt.get(Br[Dr]);Ir.__webglTexture===void 0&&(Ir.__webglTexture=rt.createTexture(),at.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(st&&pr.samples>0&&br(pr)===!1){const Br=Ar?er:[er];yr.__webglMultisampledFramebuffer=rt.createFramebuffer(),yr.__webglColorRenderbuffer=[],tt.bindFramebuffer(rt.FRAMEBUFFER,yr.__webglMultisampledFramebuffer);for(let Dr=0;Dr<Br.length;Dr++){const ln=Br[Dr];yr.__webglColorRenderbuffer[Dr]=rt.createRenderbuffer(),rt.bindRenderbuffer(rt.RENDERBUFFER,yr.__webglColorRenderbuffer[Dr]);const Ir=it.convert(ln.format,ln.colorSpace),Tr=it.convert(ln.type),Er=Wt(ln.internalFormat,Ir,Tr,ln.colorSpace,pr.isXRRenderTarget===!0),_r=tr(pr);rt.renderbufferStorageMultisample(rt.RENDERBUFFER,_r,Er,pr.width,pr.height),rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0+Dr,rt.RENDERBUFFER,yr.__webglColorRenderbuffer[Dr])}rt.bindRenderbuffer(rt.RENDERBUFFER,null),pr.depthBuffer&&(yr.__webglDepthRenderbuffer=rt.createRenderbuffer(),$t(yr.__webglDepthRenderbuffer,pr,!0)),tt.bindFramebuffer(rt.FRAMEBUFFER,null)}}if(Mr){tt.bindTexture(rt.TEXTURE_CUBE_MAP,Gr.__webglTexture),zt(rt.TEXTURE_CUBE_MAP,er,an);for(let Br=0;Br<6;Br++)if(st&&er.mipmaps&&er.mipmaps.length>0)for(let Dr=0;Dr<er.mipmaps.length;Dr++)rr(yr.__webglFramebuffer[Br][Dr],pr,er,rt.COLOR_ATTACHMENT0,rt.TEXTURE_CUBE_MAP_POSITIVE_X+Br,Dr);else rr(yr.__webglFramebuffer[Br],pr,er,rt.COLOR_ATTACHMENT0,rt.TEXTURE_CUBE_MAP_POSITIVE_X+Br,0);Nt(er,an)&&Gt(rt.TEXTURE_CUBE_MAP),tt.unbindTexture()}else if(Ar){const Br=pr.texture;for(let Dr=0,ln=Br.length;Dr<ln;Dr++){const Ir=Br[Dr],Tr=nt.get(Ir);tt.bindTexture(rt.TEXTURE_2D,Tr.__webglTexture),zt(rt.TEXTURE_2D,Ir,an),rr(yr.__webglFramebuffer,pr,Ir,rt.COLOR_ATTACHMENT0+Dr,rt.TEXTURE_2D,0),Nt(Ir,an)&&Gt(rt.TEXTURE_2D)}tt.unbindTexture()}else{let Br=rt.TEXTURE_2D;if((pr.isWebGL3DRenderTarget||pr.isWebGLArrayRenderTarget)&&(st?Br=pr.isWebGL3DRenderTarget?rt.TEXTURE_3D:rt.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),tt.bindTexture(Br,Gr.__webglTexture),zt(Br,er,an),st&&er.mipmaps&&er.mipmaps.length>0)for(let Dr=0;Dr<er.mipmaps.length;Dr++)rr(yr.__webglFramebuffer[Dr],pr,er,rt.COLOR_ATTACHMENT0,Br,Dr);else rr(yr.__webglFramebuffer,pr,er,rt.COLOR_ATTACHMENT0,Br,0);Nt(er,an)&&Gt(Br),tt.unbindTexture()}pr.depthBuffer&&wr(pr)}function Yt(pr){const er=kt(pr)||st,yr=pr.isWebGLMultipleRenderTargets===!0?pr.texture:[pr.texture];for(let Gr=0,Mr=yr.length;Gr<Mr;Gr++){const Ar=yr[Gr];if(Nt(Ar,er)){const an=pr.isWebGLCubeRenderTarget?rt.TEXTURE_CUBE_MAP:rt.TEXTURE_2D,Br=nt.get(Ar).__webglTexture;tt.bindTexture(an,Br),Gt(an),tt.unbindTexture()}}}function Ht(pr){if(st&&pr.samples>0&&br(pr)===!1){const er=pr.isWebGLMultipleRenderTargets?pr.texture:[pr.texture],yr=pr.width,Gr=pr.height;let Mr=rt.COLOR_BUFFER_BIT;const Ar=[],an=pr.stencilBuffer?rt.DEPTH_STENCIL_ATTACHMENT:rt.DEPTH_ATTACHMENT,Br=nt.get(pr),Dr=pr.isWebGLMultipleRenderTargets===!0;if(Dr)for(let ln=0;ln<er.length;ln++)tt.bindFramebuffer(rt.FRAMEBUFFER,Br.__webglMultisampledFramebuffer),rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0+ln,rt.RENDERBUFFER,null),tt.bindFramebuffer(rt.FRAMEBUFFER,Br.__webglFramebuffer),rt.framebufferTexture2D(rt.DRAW_FRAMEBUFFER,rt.COLOR_ATTACHMENT0+ln,rt.TEXTURE_2D,null,0);tt.bindFramebuffer(rt.READ_FRAMEBUFFER,Br.__webglMultisampledFramebuffer),tt.bindFramebuffer(rt.DRAW_FRAMEBUFFER,Br.__webglFramebuffer);for(let ln=0;ln<er.length;ln++){Ar.push(rt.COLOR_ATTACHMENT0+ln),pr.depthBuffer&&Ar.push(an);const Ir=Br.__ignoreDepthValues!==void 0?Br.__ignoreDepthValues:!1;if(Ir===!1&&(pr.depthBuffer&&(Mr|=rt.DEPTH_BUFFER_BIT),pr.stencilBuffer&&(Mr|=rt.STENCIL_BUFFER_BIT)),Dr&&rt.framebufferRenderbuffer(rt.READ_FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.RENDERBUFFER,Br.__webglColorRenderbuffer[ln]),Ir===!0&&(rt.invalidateFramebuffer(rt.READ_FRAMEBUFFER,[an]),rt.invalidateFramebuffer(rt.DRAW_FRAMEBUFFER,[an])),Dr){const Tr=nt.get(er[ln]).__webglTexture;rt.framebufferTexture2D(rt.DRAW_FRAMEBUFFER,rt.COLOR_ATTACHMENT0,rt.TEXTURE_2D,Tr,0)}rt.blitFramebuffer(0,0,yr,Gr,0,0,yr,Gr,Mr,rt.NEAREST),yt&&rt.invalidateFramebuffer(rt.READ_FRAMEBUFFER,Ar)}if(tt.bindFramebuffer(rt.READ_FRAMEBUFFER,null),tt.bindFramebuffer(rt.DRAW_FRAMEBUFFER,null),Dr)for(let ln=0;ln<er.length;ln++){tt.bindFramebuffer(rt.FRAMEBUFFER,Br.__webglMultisampledFramebuffer),rt.framebufferRenderbuffer(rt.FRAMEBUFFER,rt.COLOR_ATTACHMENT0+ln,rt.RENDERBUFFER,Br.__webglColorRenderbuffer[ln]);const Ir=nt.get(er[ln]).__webglTexture;tt.bindFramebuffer(rt.FRAMEBUFFER,Br.__webglFramebuffer),rt.framebufferTexture2D(rt.DRAW_FRAMEBUFFER,rt.COLOR_ATTACHMENT0+ln,rt.TEXTURE_2D,Ir,0)}tt.bindFramebuffer(rt.DRAW_FRAMEBUFFER,Br.__webglMultisampledFramebuffer)}}function tr(pr){return Math.min(mt,pr.samples)}function br(pr){const er=nt.get(pr);return st&&pr.samples>0&&et.has("WEBGL_multisampled_render_to_texture")===!0&&er.__useRenderToTexture!==!1}function gr(pr){const er=at.render.frame;xt.get(pr)!==er&&(xt.set(pr,er),pr.update())}function Sr(pr,er){const yr=pr.colorSpace,Gr=pr.format,Mr=pr.type;return pr.isCompressedTexture===!0||pr.isVideoTexture===!0||pr.format===_SRGBAFormat||yr!==LinearSRGBColorSpace$1&&yr!==NoColorSpace&&(ColorManagement.getTransfer(yr)===SRGBTransfer?st===!1?et.has("EXT_sRGB")===!0&&Gr===RGBAFormat?(pr.format=_SRGBAFormat,pr.minFilter=LinearFilter,pr.generateMipmaps=!1):er=ImageUtils.sRGBToLinear(er):(Gr!==RGBAFormat||Mr!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",yr)),er}this.allocateTextureUnit=Rt,this.resetTextureUnits=At,this.setTexture2D=ct,this.setTexture2DArray=_t,this.setTexture3D=Lt,this.setTextureCube=Ft,this.rebindTextures=vr,this.setupRenderTarget=Qt,this.updateRenderTargetMipmap=Yt,this.updateMultisampleRenderTarget=Ht,this.setupDepthRenderbuffer=wr,this.setupFrameBufferTexture=rr,this.useMultisampledRTT=br}function WebGLUtils(rt,et,tt){const nt=tt.isWebGL2;function ot(it,at=NoColorSpace){let st;const ut=ColorManagement.getTransfer(at);if(it===UnsignedByteType)return rt.UNSIGNED_BYTE;if(it===UnsignedShort4444Type)return rt.UNSIGNED_SHORT_4_4_4_4;if(it===UnsignedShort5551Type)return rt.UNSIGNED_SHORT_5_5_5_1;if(it===ByteType)return rt.BYTE;if(it===ShortType)return rt.SHORT;if(it===UnsignedShortType)return rt.UNSIGNED_SHORT;if(it===IntType)return rt.INT;if(it===UnsignedIntType)return rt.UNSIGNED_INT;if(it===FloatType)return rt.FLOAT;if(it===HalfFloatType)return nt?rt.HALF_FLOAT:(st=et.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(it===AlphaFormat)return rt.ALPHA;if(it===RGBAFormat)return rt.RGBA;if(it===LuminanceFormat)return rt.LUMINANCE;if(it===LuminanceAlphaFormat)return rt.LUMINANCE_ALPHA;if(it===DepthFormat)return rt.DEPTH_COMPONENT;if(it===DepthStencilFormat)return rt.DEPTH_STENCIL;if(it===_SRGBAFormat)return st=et.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(it===RedFormat)return rt.RED;if(it===RedIntegerFormat)return rt.RED_INTEGER;if(it===RGFormat)return rt.RG;if(it===RGIntegerFormat)return rt.RG_INTEGER;if(it===RGBAIntegerFormat)return rt.RGBA_INTEGER;if(it===RGB_S3TC_DXT1_Format||it===RGBA_S3TC_DXT1_Format||it===RGBA_S3TC_DXT3_Format||it===RGBA_S3TC_DXT5_Format)if(ut===SRGBTransfer)if(st=et.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(it===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(it===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=et.get("WEBGL_compressed_texture_s3tc"),st!==null){if(it===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(it===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(it===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(it===RGB_PVRTC_4BPPV1_Format||it===RGB_PVRTC_2BPPV1_Format||it===RGBA_PVRTC_4BPPV1_Format||it===RGBA_PVRTC_2BPPV1_Format)if(st=et.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(it===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(it===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(it===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(it===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(it===RGB_ETC1_Format)return st=et.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(it===RGB_ETC2_Format||it===RGBA_ETC2_EAC_Format)if(st=et.get("WEBGL_compressed_texture_etc"),st!==null){if(it===RGB_ETC2_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(it===RGBA_ETC2_EAC_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(it===RGBA_ASTC_4x4_Format||it===RGBA_ASTC_5x4_Format||it===RGBA_ASTC_5x5_Format||it===RGBA_ASTC_6x5_Format||it===RGBA_ASTC_6x6_Format||it===RGBA_ASTC_8x5_Format||it===RGBA_ASTC_8x6_Format||it===RGBA_ASTC_8x8_Format||it===RGBA_ASTC_10x5_Format||it===RGBA_ASTC_10x6_Format||it===RGBA_ASTC_10x8_Format||it===RGBA_ASTC_10x10_Format||it===RGBA_ASTC_12x10_Format||it===RGBA_ASTC_12x12_Format)if(st=et.get("WEBGL_compressed_texture_astc"),st!==null){if(it===RGBA_ASTC_4x4_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(it===RGBA_ASTC_5x4_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(it===RGBA_ASTC_5x5_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(it===RGBA_ASTC_6x5_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(it===RGBA_ASTC_6x6_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(it===RGBA_ASTC_8x5_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(it===RGBA_ASTC_8x6_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(it===RGBA_ASTC_8x8_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(it===RGBA_ASTC_10x5_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(it===RGBA_ASTC_10x6_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(it===RGBA_ASTC_10x8_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(it===RGBA_ASTC_10x10_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(it===RGBA_ASTC_12x10_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(it===RGBA_ASTC_12x12_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(it===RGBA_BPTC_Format||it===RGB_BPTC_SIGNED_Format||it===RGB_BPTC_UNSIGNED_Format)if(st=et.get("EXT_texture_compression_bptc"),st!==null){if(it===RGBA_BPTC_Format)return ut===SRGBTransfer?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(it===RGB_BPTC_SIGNED_Format)return st.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(it===RGB_BPTC_UNSIGNED_Format)return st.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(it===RED_RGTC1_Format||it===SIGNED_RED_RGTC1_Format||it===RED_GREEN_RGTC2_Format||it===SIGNED_RED_GREEN_RGTC2_Format)if(st=et.get("EXT_texture_compression_rgtc"),st!==null){if(it===RGBA_BPTC_Format)return st.COMPRESSED_RED_RGTC1_EXT;if(it===SIGNED_RED_RGTC1_Format)return st.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(it===RED_GREEN_RGTC2_Format)return st.COMPRESSED_RED_GREEN_RGTC2_EXT;if(it===SIGNED_RED_GREEN_RGTC2_Format)return st.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return it===UnsignedInt248Type?nt?rt.UNSIGNED_INT_24_8:(st=et.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):rt[it]!==void 0?rt[it]:null}return{convert:ot}}class ArrayCamera extends PerspectiveCamera{constructor(et=[]){super(),this.isArrayCamera=!0,this.cameras=et}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(et){return this._targetRay!==null&&this._targetRay.dispatchEvent(et),this._grip!==null&&this._grip.dispatchEvent(et),this._hand!==null&&this._hand.dispatchEvent(et),this}connect(et){if(et&&et.hand){const tt=this._hand;if(tt)for(const nt of et.hand.values())this._getHandJoint(tt,nt)}return this.dispatchEvent({type:"connected",data:et}),this}disconnect(et){return this.dispatchEvent({type:"disconnected",data:et}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(et,tt,nt){let ot=null,it=null,at=null;const st=this._targetRay,ut=this._grip,ft=this._hand;if(et&&tt.session.visibilityState!=="visible-blurred"){if(ft&&et.hand){at=!0;for(const St of et.hand.values()){const Tt=tt.getJointPose(St,nt),Mt=this._getHandJoint(ft,St);Tt!==null&&(Mt.matrix.fromArray(Tt.transform.matrix),Mt.matrix.decompose(Mt.position,Mt.rotation,Mt.scale),Mt.matrixWorldNeedsUpdate=!0,Mt.jointRadius=Tt.radius),Mt.visible=Tt!==null}const ht=ft.joints["index-finger-tip"],mt=ft.joints["thumb-tip"],gt=ht.position.distanceTo(mt.position),yt=.02,xt=.005;ft.inputState.pinching&&gt>yt+xt?(ft.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:et.handedness,target:this})):!ft.inputState.pinching&&gt<=yt-xt&&(ft.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:et.handedness,target:this}))}else ut!==null&&et.gripSpace&&(it=tt.getPose(et.gripSpace,nt),it!==null&&(ut.matrix.fromArray(it.transform.matrix),ut.matrix.decompose(ut.position,ut.rotation,ut.scale),ut.matrixWorldNeedsUpdate=!0,it.linearVelocity?(ut.hasLinearVelocity=!0,ut.linearVelocity.copy(it.linearVelocity)):ut.hasLinearVelocity=!1,it.angularVelocity?(ut.hasAngularVelocity=!0,ut.angularVelocity.copy(it.angularVelocity)):ut.hasAngularVelocity=!1));st!==null&&(ot=tt.getPose(et.targetRaySpace,nt),ot===null&&it!==null&&(ot=it),ot!==null&&(st.matrix.fromArray(ot.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),st.matrixWorldNeedsUpdate=!0,ot.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(ot.linearVelocity)):st.hasLinearVelocity=!1,ot.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(ot.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return st!==null&&(st.visible=ot!==null),ut!==null&&(ut.visible=it!==null),ft!==null&&(ft.visible=at!==null),this}_getHandJoint(et,tt){if(et.joints[tt.jointName]===void 0){const nt=new Group;nt.matrixAutoUpdate=!1,nt.visible=!1,et.joints[tt.jointName]=nt,et.add(nt)}return et.joints[tt.jointName]}}class DepthTexture extends Texture{constructor(et,tt,nt,ot,it,at,st,ut,ft,ht){if(ht=ht!==void 0?ht:DepthFormat,ht!==DepthFormat&&ht!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");nt===void 0&&ht===DepthFormat&&(nt=UnsignedIntType),nt===void 0&&ht===DepthStencilFormat&&(nt=UnsignedInt248Type),super(null,ot,it,at,st,ut,ht,nt,ft),this.isDepthTexture=!0,this.image={width:et,height:tt},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=ut!==void 0?ut:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(et){return super.copy(et),this.compareFunction=et.compareFunction,this}toJSON(et){const tt=super.toJSON(et);return this.compareFunction!==null&&(tt.compareFunction=this.compareFunction),tt}}class WebXRManager extends EventDispatcher{constructor(et,tt){super();const nt=this;let ot=null,it=1,at=null,st="local-floor",ut=1,ft=null,ht=null,mt=null,gt=null,yt=null,xt=null;const St=tt.getContextAttributes();let Tt=null,Mt=null;const Pt=[],It=[],kt=new PerspectiveCamera;kt.layers.enable(1),kt.viewport=new Vector4;const Dt=new PerspectiveCamera;Dt.layers.enable(2),Dt.viewport=new Vector4;const Nt=[kt,Dt],Gt=new ArrayCamera;Gt.layers.enable(1),Gt.layers.enable(2);let Wt=null,Ot=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(_t){let Lt=Pt[_t];return Lt===void 0&&(Lt=new WebXRController,Pt[_t]=Lt),Lt.getTargetRaySpace()},this.getControllerGrip=function(_t){let Lt=Pt[_t];return Lt===void 0&&(Lt=new WebXRController,Pt[_t]=Lt),Lt.getGripSpace()},this.getHand=function(_t){let Lt=Pt[_t];return Lt===void 0&&(Lt=new WebXRController,Pt[_t]=Lt),Lt.getHandSpace()};function Xt(_t){const Lt=It.indexOf(_t.inputSource);if(Lt===-1)return;const Ft=Pt[Lt];Ft!==void 0&&(Ft.update(_t.inputSource,_t.frame,ft||at),Ft.dispatchEvent({type:_t.type,data:_t.inputSource}))}function Et(){ot.removeEventListener("select",Xt),ot.removeEventListener("selectstart",Xt),ot.removeEventListener("selectend",Xt),ot.removeEventListener("squeeze",Xt),ot.removeEventListener("squeezestart",Xt),ot.removeEventListener("squeezeend",Xt),ot.removeEventListener("end",Et),ot.removeEventListener("inputsourceschange",lt);for(let _t=0;_t<Pt.length;_t++){const Lt=It[_t];Lt!==null&&(It[_t]=null,Pt[_t].disconnect(Lt))}Wt=null,Ot=null,et.setRenderTarget(Tt),yt=null,gt=null,mt=null,ot=null,Mt=null,ct.stop(),nt.isPresenting=!1,nt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(_t){it=_t,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(_t){st=_t,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return ft||at},this.setReferenceSpace=function(_t){ft=_t},this.getBaseLayer=function(){return gt!==null?gt:yt},this.getBinding=function(){return mt},this.getFrame=function(){return xt},this.getSession=function(){return ot},this.setSession=async function(_t){if(ot=_t,ot!==null){if(Tt=et.getRenderTarget(),ot.addEventListener("select",Xt),ot.addEventListener("selectstart",Xt),ot.addEventListener("selectend",Xt),ot.addEventListener("squeeze",Xt),ot.addEventListener("squeezestart",Xt),ot.addEventListener("squeezeend",Xt),ot.addEventListener("end",Et),ot.addEventListener("inputsourceschange",lt),St.xrCompatible!==!0&&await tt.makeXRCompatible(),ot.renderState.layers===void 0||et.capabilities.isWebGL2===!1){const Lt={antialias:ot.renderState.layers===void 0?St.antialias:!0,alpha:!0,depth:St.depth,stencil:St.stencil,framebufferScaleFactor:it};yt=new XRWebGLLayer(ot,tt,Lt),ot.updateRenderState({baseLayer:yt}),Mt=new WebGLRenderTarget(yt.framebufferWidth,yt.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:et.outputColorSpace,stencilBuffer:St.stencil})}else{let Lt=null,Ft=null,jt=null;St.depth&&(jt=St.stencil?tt.DEPTH24_STENCIL8:tt.DEPTH_COMPONENT24,Lt=St.stencil?DepthStencilFormat:DepthFormat,Ft=St.stencil?UnsignedInt248Type:UnsignedIntType);const Zt={colorFormat:tt.RGBA8,depthFormat:jt,scaleFactor:it};mt=new XRWebGLBinding(ot,tt),gt=mt.createProjectionLayer(Zt),ot.updateRenderState({layers:[gt]}),Mt=new WebGLRenderTarget(gt.textureWidth,gt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(gt.textureWidth,gt.textureHeight,Ft,void 0,void 0,void 0,void 0,void 0,void 0,Lt),stencilBuffer:St.stencil,colorSpace:et.outputColorSpace,samples:St.antialias?4:0});const Kt=et.properties.get(Mt);Kt.__ignoreDepthValues=gt.ignoreDepthValues}Mt.isXRRenderTarget=!0,this.setFoveation(ut),ft=null,at=await ot.requestReferenceSpace(st),ct.setContext(ot),ct.start(),nt.isPresenting=!0,nt.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(ot!==null)return ot.environmentBlendMode};function lt(_t){for(let Lt=0;Lt<_t.removed.length;Lt++){const Ft=_t.removed[Lt],jt=It.indexOf(Ft);jt>=0&&(It[jt]=null,Pt[jt].disconnect(Ft))}for(let Lt=0;Lt<_t.added.length;Lt++){const Ft=_t.added[Lt];let jt=It.indexOf(Ft);if(jt===-1){for(let Kt=0;Kt<Pt.length;Kt++)if(Kt>=It.length){It.push(Ft),jt=Kt;break}else if(It[Kt]===null){It[Kt]=Ft,jt=Kt;break}if(jt===-1)break}const Zt=Pt[jt];Zt&&Zt.connect(Ft)}}const dt=new Vector3,pt=new Vector3;function vt(_t,Lt,Ft){dt.setFromMatrixPosition(Lt.matrixWorld),pt.setFromMatrixPosition(Ft.matrixWorld);const jt=dt.distanceTo(pt),Zt=Lt.projectionMatrix.elements,Kt=Ft.projectionMatrix.elements,zt=Zt[14]/(Zt[10]-1),Vt=Zt[14]/(Zt[10]+1),nr=(Zt[9]+1)/Zt[5],or=(Zt[9]-1)/Zt[5],rr=(Zt[8]-1)/Zt[0],$t=(Kt[8]+1)/Kt[0],ar=zt*rr,wr=zt*$t,vr=jt/(-rr+$t),Qt=vr*-rr;Lt.matrixWorld.decompose(_t.position,_t.quaternion,_t.scale),_t.translateX(Qt),_t.translateZ(vr),_t.matrixWorld.compose(_t.position,_t.quaternion,_t.scale),_t.matrixWorldInverse.copy(_t.matrixWorld).invert();const Yt=zt+vr,Ht=Vt+vr,tr=ar-Qt,br=wr+(jt-Qt),gr=nr*Vt/Ht*Yt,Sr=or*Vt/Ht*Yt;_t.projectionMatrix.makePerspective(tr,br,gr,Sr,Yt,Ht),_t.projectionMatrixInverse.copy(_t.projectionMatrix).invert()}function wt(_t,Lt){Lt===null?_t.matrixWorld.copy(_t.matrix):_t.matrixWorld.multiplyMatrices(Lt.matrixWorld,_t.matrix),_t.matrixWorldInverse.copy(_t.matrixWorld).invert()}this.updateCamera=function(_t){if(ot===null)return;Gt.near=Dt.near=kt.near=_t.near,Gt.far=Dt.far=kt.far=_t.far,(Wt!==Gt.near||Ot!==Gt.far)&&(ot.updateRenderState({depthNear:Gt.near,depthFar:Gt.far}),Wt=Gt.near,Ot=Gt.far);const Lt=_t.parent,Ft=Gt.cameras;wt(Gt,Lt);for(let jt=0;jt<Ft.length;jt++)wt(Ft[jt],Lt);Ft.length===2?vt(Gt,kt,Dt):Gt.projectionMatrix.copy(kt.projectionMatrix),At(_t,Gt,Lt)};function At(_t,Lt,Ft){Ft===null?_t.matrix.copy(Lt.matrixWorld):(_t.matrix.copy(Ft.matrixWorld),_t.matrix.invert(),_t.matrix.multiply(Lt.matrixWorld)),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale),_t.updateMatrixWorld(!0),_t.projectionMatrix.copy(Lt.projectionMatrix),_t.projectionMatrixInverse.copy(Lt.projectionMatrixInverse),_t.isPerspectiveCamera&&(_t.fov=RAD2DEG*2*Math.atan(1/_t.projectionMatrix.elements[5]),_t.zoom=1)}this.getCamera=function(){return Gt},this.getFoveation=function(){if(!(gt===null&&yt===null))return ut},this.setFoveation=function(_t){ut=_t,gt!==null&&(gt.fixedFoveation=_t),yt!==null&&yt.fixedFoveation!==void 0&&(yt.fixedFoveation=_t)};let Rt=null;function bt(_t,Lt){if(ht=Lt.getViewerPose(ft||at),xt=Lt,ht!==null){const Ft=ht.views;yt!==null&&(et.setRenderTargetFramebuffer(Mt,yt.framebuffer),et.setRenderTarget(Mt));let jt=!1;Ft.length!==Gt.cameras.length&&(Gt.cameras.length=0,jt=!0);for(let Zt=0;Zt<Ft.length;Zt++){const Kt=Ft[Zt];let zt=null;if(yt!==null)zt=yt.getViewport(Kt);else{const nr=mt.getViewSubImage(gt,Kt);zt=nr.viewport,Zt===0&&(et.setRenderTargetTextures(Mt,nr.colorTexture,gt.ignoreDepthValues?void 0:nr.depthStencilTexture),et.setRenderTarget(Mt))}let Vt=Nt[Zt];Vt===void 0&&(Vt=new PerspectiveCamera,Vt.layers.enable(Zt),Vt.viewport=new Vector4,Nt[Zt]=Vt),Vt.matrix.fromArray(Kt.transform.matrix),Vt.matrix.decompose(Vt.position,Vt.quaternion,Vt.scale),Vt.projectionMatrix.fromArray(Kt.projectionMatrix),Vt.projectionMatrixInverse.copy(Vt.projectionMatrix).invert(),Vt.viewport.set(zt.x,zt.y,zt.width,zt.height),Zt===0&&(Gt.matrix.copy(Vt.matrix),Gt.matrix.decompose(Gt.position,Gt.quaternion,Gt.scale)),jt===!0&&Gt.cameras.push(Vt)}}for(let Ft=0;Ft<Pt.length;Ft++){const jt=It[Ft],Zt=Pt[Ft];jt!==null&&Zt!==void 0&&Zt.update(jt,Lt,ft||at)}Rt&&Rt(_t,Lt),Lt.detectedPlanes&&nt.dispatchEvent({type:"planesdetected",data:Lt}),xt=null}const ct=new WebGLAnimation;ct.setAnimationLoop(bt),this.setAnimationLoop=function(_t){Rt=_t},this.dispose=function(){}}}function WebGLMaterials(rt,et){function tt(Tt,Mt){Tt.matrixAutoUpdate===!0&&Tt.updateMatrix(),Mt.value.copy(Tt.matrix)}function nt(Tt,Mt){Mt.color.getRGB(Tt.fogColor.value,getUnlitUniformColorSpace(rt)),Mt.isFog?(Tt.fogNear.value=Mt.near,Tt.fogFar.value=Mt.far):Mt.isFogExp2&&(Tt.fogDensity.value=Mt.density)}function ot(Tt,Mt,Pt,It,kt){Mt.isMeshBasicMaterial||Mt.isMeshLambertMaterial?it(Tt,Mt):Mt.isMeshToonMaterial?(it(Tt,Mt),mt(Tt,Mt)):Mt.isMeshPhongMaterial?(it(Tt,Mt),ht(Tt,Mt)):Mt.isMeshStandardMaterial?(it(Tt,Mt),gt(Tt,Mt),Mt.isMeshPhysicalMaterial&&yt(Tt,Mt,kt)):Mt.isMeshMatcapMaterial?(it(Tt,Mt),xt(Tt,Mt)):Mt.isMeshDepthMaterial?it(Tt,Mt):Mt.isMeshDistanceMaterial?(it(Tt,Mt),St(Tt,Mt)):Mt.isMeshNormalMaterial?it(Tt,Mt):Mt.isLineBasicMaterial?(at(Tt,Mt),Mt.isLineDashedMaterial&&st(Tt,Mt)):Mt.isPointsMaterial?ut(Tt,Mt,Pt,It):Mt.isSpriteMaterial?ft(Tt,Mt):Mt.isShadowMaterial?(Tt.color.value.copy(Mt.color),Tt.opacity.value=Mt.opacity):Mt.isShaderMaterial&&(Mt.uniformsNeedUpdate=!1)}function it(Tt,Mt){Tt.opacity.value=Mt.opacity,Mt.color&&Tt.diffuse.value.copy(Mt.color),Mt.emissive&&Tt.emissive.value.copy(Mt.emissive).multiplyScalar(Mt.emissiveIntensity),Mt.map&&(Tt.map.value=Mt.map,tt(Mt.map,Tt.mapTransform)),Mt.alphaMap&&(Tt.alphaMap.value=Mt.alphaMap,tt(Mt.alphaMap,Tt.alphaMapTransform)),Mt.bumpMap&&(Tt.bumpMap.value=Mt.bumpMap,tt(Mt.bumpMap,Tt.bumpMapTransform),Tt.bumpScale.value=Mt.bumpScale,Mt.side===BackSide&&(Tt.bumpScale.value*=-1)),Mt.normalMap&&(Tt.normalMap.value=Mt.normalMap,tt(Mt.normalMap,Tt.normalMapTransform),Tt.normalScale.value.copy(Mt.normalScale),Mt.side===BackSide&&Tt.normalScale.value.negate()),Mt.displacementMap&&(Tt.displacementMap.value=Mt.displacementMap,tt(Mt.displacementMap,Tt.displacementMapTransform),Tt.displacementScale.value=Mt.displacementScale,Tt.displacementBias.value=Mt.displacementBias),Mt.emissiveMap&&(Tt.emissiveMap.value=Mt.emissiveMap,tt(Mt.emissiveMap,Tt.emissiveMapTransform)),Mt.specularMap&&(Tt.specularMap.value=Mt.specularMap,tt(Mt.specularMap,Tt.specularMapTransform)),Mt.alphaTest>0&&(Tt.alphaTest.value=Mt.alphaTest);const Pt=et.get(Mt).envMap;if(Pt&&(Tt.envMap.value=Pt,Tt.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1,Tt.reflectivity.value=Mt.reflectivity,Tt.ior.value=Mt.ior,Tt.refractionRatio.value=Mt.refractionRatio),Mt.lightMap){Tt.lightMap.value=Mt.lightMap;const It=rt._useLegacyLights===!0?Math.PI:1;Tt.lightMapIntensity.value=Mt.lightMapIntensity*It,tt(Mt.lightMap,Tt.lightMapTransform)}Mt.aoMap&&(Tt.aoMap.value=Mt.aoMap,Tt.aoMapIntensity.value=Mt.aoMapIntensity,tt(Mt.aoMap,Tt.aoMapTransform))}function at(Tt,Mt){Tt.diffuse.value.copy(Mt.color),Tt.opacity.value=Mt.opacity,Mt.map&&(Tt.map.value=Mt.map,tt(Mt.map,Tt.mapTransform))}function st(Tt,Mt){Tt.dashSize.value=Mt.dashSize,Tt.totalSize.value=Mt.dashSize+Mt.gapSize,Tt.scale.value=Mt.scale}function ut(Tt,Mt,Pt,It){Tt.diffuse.value.copy(Mt.color),Tt.opacity.value=Mt.opacity,Tt.size.value=Mt.size*Pt,Tt.scale.value=It*.5,Mt.map&&(Tt.map.value=Mt.map,tt(Mt.map,Tt.uvTransform)),Mt.alphaMap&&(Tt.alphaMap.value=Mt.alphaMap,tt(Mt.alphaMap,Tt.alphaMapTransform)),Mt.alphaTest>0&&(Tt.alphaTest.value=Mt.alphaTest)}function ft(Tt,Mt){Tt.diffuse.value.copy(Mt.color),Tt.opacity.value=Mt.opacity,Tt.rotation.value=Mt.rotation,Mt.map&&(Tt.map.value=Mt.map,tt(Mt.map,Tt.mapTransform)),Mt.alphaMap&&(Tt.alphaMap.value=Mt.alphaMap,tt(Mt.alphaMap,Tt.alphaMapTransform)),Mt.alphaTest>0&&(Tt.alphaTest.value=Mt.alphaTest)}function ht(Tt,Mt){Tt.specular.value.copy(Mt.specular),Tt.shininess.value=Math.max(Mt.shininess,1e-4)}function mt(Tt,Mt){Mt.gradientMap&&(Tt.gradientMap.value=Mt.gradientMap)}function gt(Tt,Mt){Tt.metalness.value=Mt.metalness,Mt.metalnessMap&&(Tt.metalnessMap.value=Mt.metalnessMap,tt(Mt.metalnessMap,Tt.metalnessMapTransform)),Tt.roughness.value=Mt.roughness,Mt.roughnessMap&&(Tt.roughnessMap.value=Mt.roughnessMap,tt(Mt.roughnessMap,Tt.roughnessMapTransform)),et.get(Mt).envMap&&(Tt.envMapIntensity.value=Mt.envMapIntensity)}function yt(Tt,Mt,Pt){Tt.ior.value=Mt.ior,Mt.sheen>0&&(Tt.sheenColor.value.copy(Mt.sheenColor).multiplyScalar(Mt.sheen),Tt.sheenRoughness.value=Mt.sheenRoughness,Mt.sheenColorMap&&(Tt.sheenColorMap.value=Mt.sheenColorMap,tt(Mt.sheenColorMap,Tt.sheenColorMapTransform)),Mt.sheenRoughnessMap&&(Tt.sheenRoughnessMap.value=Mt.sheenRoughnessMap,tt(Mt.sheenRoughnessMap,Tt.sheenRoughnessMapTransform))),Mt.clearcoat>0&&(Tt.clearcoat.value=Mt.clearcoat,Tt.clearcoatRoughness.value=Mt.clearcoatRoughness,Mt.clearcoatMap&&(Tt.clearcoatMap.value=Mt.clearcoatMap,tt(Mt.clearcoatMap,Tt.clearcoatMapTransform)),Mt.clearcoatRoughnessMap&&(Tt.clearcoatRoughnessMap.value=Mt.clearcoatRoughnessMap,tt(Mt.clearcoatRoughnessMap,Tt.clearcoatRoughnessMapTransform)),Mt.clearcoatNormalMap&&(Tt.clearcoatNormalMap.value=Mt.clearcoatNormalMap,tt(Mt.clearcoatNormalMap,Tt.clearcoatNormalMapTransform),Tt.clearcoatNormalScale.value.copy(Mt.clearcoatNormalScale),Mt.side===BackSide&&Tt.clearcoatNormalScale.value.negate())),Mt.iridescence>0&&(Tt.iridescence.value=Mt.iridescence,Tt.iridescenceIOR.value=Mt.iridescenceIOR,Tt.iridescenceThicknessMinimum.value=Mt.iridescenceThicknessRange[0],Tt.iridescenceThicknessMaximum.value=Mt.iridescenceThicknessRange[1],Mt.iridescenceMap&&(Tt.iridescenceMap.value=Mt.iridescenceMap,tt(Mt.iridescenceMap,Tt.iridescenceMapTransform)),Mt.iridescenceThicknessMap&&(Tt.iridescenceThicknessMap.value=Mt.iridescenceThicknessMap,tt(Mt.iridescenceThicknessMap,Tt.iridescenceThicknessMapTransform))),Mt.transmission>0&&(Tt.transmission.value=Mt.transmission,Tt.transmissionSamplerMap.value=Pt.texture,Tt.transmissionSamplerSize.value.set(Pt.width,Pt.height),Mt.transmissionMap&&(Tt.transmissionMap.value=Mt.transmissionMap,tt(Mt.transmissionMap,Tt.transmissionMapTransform)),Tt.thickness.value=Mt.thickness,Mt.thicknessMap&&(Tt.thicknessMap.value=Mt.thicknessMap,tt(Mt.thicknessMap,Tt.thicknessMapTransform)),Tt.attenuationDistance.value=Mt.attenuationDistance,Tt.attenuationColor.value.copy(Mt.attenuationColor)),Mt.anisotropy>0&&(Tt.anisotropyVector.value.set(Mt.anisotropy*Math.cos(Mt.anisotropyRotation),Mt.anisotropy*Math.sin(Mt.anisotropyRotation)),Mt.anisotropyMap&&(Tt.anisotropyMap.value=Mt.anisotropyMap,tt(Mt.anisotropyMap,Tt.anisotropyMapTransform))),Tt.specularIntensity.value=Mt.specularIntensity,Tt.specularColor.value.copy(Mt.specularColor),Mt.specularColorMap&&(Tt.specularColorMap.value=Mt.specularColorMap,tt(Mt.specularColorMap,Tt.specularColorMapTransform)),Mt.specularIntensityMap&&(Tt.specularIntensityMap.value=Mt.specularIntensityMap,tt(Mt.specularIntensityMap,Tt.specularIntensityMapTransform))}function xt(Tt,Mt){Mt.matcap&&(Tt.matcap.value=Mt.matcap)}function St(Tt,Mt){const Pt=et.get(Mt).light;Tt.referencePosition.value.setFromMatrixPosition(Pt.matrixWorld),Tt.nearDistance.value=Pt.shadow.camera.near,Tt.farDistance.value=Pt.shadow.camera.far}return{refreshFogUniforms:nt,refreshMaterialUniforms:ot}}function WebGLUniformsGroups(rt,et,tt,nt){let ot={},it={},at=[];const st=tt.isWebGL2?rt.getParameter(rt.MAX_UNIFORM_BUFFER_BINDINGS):0;function ut(Pt,It){const kt=It.program;nt.uniformBlockBinding(Pt,kt)}function ft(Pt,It){let kt=ot[Pt.id];kt===void 0&&(xt(Pt),kt=ht(Pt),ot[Pt.id]=kt,Pt.addEventListener("dispose",Tt));const Dt=It.program;nt.updateUBOMapping(Pt,Dt);const Nt=et.render.frame;it[Pt.id]!==Nt&&(gt(Pt),it[Pt.id]=Nt)}function ht(Pt){const It=mt();Pt.__bindingPointIndex=It;const kt=rt.createBuffer(),Dt=Pt.__size,Nt=Pt.usage;return rt.bindBuffer(rt.UNIFORM_BUFFER,kt),rt.bufferData(rt.UNIFORM_BUFFER,Dt,Nt),rt.bindBuffer(rt.UNIFORM_BUFFER,null),rt.bindBufferBase(rt.UNIFORM_BUFFER,It,kt),kt}function mt(){for(let Pt=0;Pt<st;Pt++)if(at.indexOf(Pt)===-1)return at.push(Pt),Pt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function gt(Pt){const It=ot[Pt.id],kt=Pt.uniforms,Dt=Pt.__cache;rt.bindBuffer(rt.UNIFORM_BUFFER,It);for(let Nt=0,Gt=kt.length;Nt<Gt;Nt++){const Wt=kt[Nt];if(yt(Wt,Nt,Dt)===!0){const Ot=Wt.__offset,Xt=Array.isArray(Wt.value)?Wt.value:[Wt.value];let Et=0;for(let lt=0;lt<Xt.length;lt++){const dt=Xt[lt],pt=St(dt);typeof dt=="number"?(Wt.__data[0]=dt,rt.bufferSubData(rt.UNIFORM_BUFFER,Ot+Et,Wt.__data)):dt.isMatrix3?(Wt.__data[0]=dt.elements[0],Wt.__data[1]=dt.elements[1],Wt.__data[2]=dt.elements[2],Wt.__data[3]=dt.elements[0],Wt.__data[4]=dt.elements[3],Wt.__data[5]=dt.elements[4],Wt.__data[6]=dt.elements[5],Wt.__data[7]=dt.elements[0],Wt.__data[8]=dt.elements[6],Wt.__data[9]=dt.elements[7],Wt.__data[10]=dt.elements[8],Wt.__data[11]=dt.elements[0]):(dt.toArray(Wt.__data,Et),Et+=pt.storage/Float32Array.BYTES_PER_ELEMENT)}rt.bufferSubData(rt.UNIFORM_BUFFER,Ot,Wt.__data)}}rt.bindBuffer(rt.UNIFORM_BUFFER,null)}function yt(Pt,It,kt){const Dt=Pt.value;if(kt[It]===void 0){if(typeof Dt=="number")kt[It]=Dt;else{const Nt=Array.isArray(Dt)?Dt:[Dt],Gt=[];for(let Wt=0;Wt<Nt.length;Wt++)Gt.push(Nt[Wt].clone());kt[It]=Gt}return!0}else if(typeof Dt=="number"){if(kt[It]!==Dt)return kt[It]=Dt,!0}else{const Nt=Array.isArray(kt[It])?kt[It]:[kt[It]],Gt=Array.isArray(Dt)?Dt:[Dt];for(let Wt=0;Wt<Nt.length;Wt++){const Ot=Nt[Wt];if(Ot.equals(Gt[Wt])===!1)return Ot.copy(Gt[Wt]),!0}}return!1}function xt(Pt){const It=Pt.uniforms;let kt=0;const Dt=16;let Nt=0;for(let Gt=0,Wt=It.length;Gt<Wt;Gt++){const Ot=It[Gt],Xt={boundary:0,storage:0},Et=Array.isArray(Ot.value)?Ot.value:[Ot.value];for(let lt=0,dt=Et.length;lt<dt;lt++){const pt=Et[lt],vt=St(pt);Xt.boundary+=vt.boundary,Xt.storage+=vt.storage}if(Ot.__data=new Float32Array(Xt.storage/Float32Array.BYTES_PER_ELEMENT),Ot.__offset=kt,Gt>0){Nt=kt%Dt;const lt=Dt-Nt;Nt!==0&&lt-Xt.boundary<0&&(kt+=Dt-Nt,Ot.__offset=kt)}kt+=Xt.storage}return Nt=kt%Dt,Nt>0&&(kt+=Dt-Nt),Pt.__size=kt,Pt.__cache={},this}function St(Pt){const It={boundary:0,storage:0};return typeof Pt=="number"?(It.boundary=4,It.storage=4):Pt.isVector2?(It.boundary=8,It.storage=8):Pt.isVector3||Pt.isColor?(It.boundary=16,It.storage=12):Pt.isVector4?(It.boundary=16,It.storage=16):Pt.isMatrix3?(It.boundary=48,It.storage=48):Pt.isMatrix4?(It.boundary=64,It.storage=64):Pt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",Pt),It}function Tt(Pt){const It=Pt.target;It.removeEventListener("dispose",Tt);const kt=at.indexOf(It.__bindingPointIndex);at.splice(kt,1),rt.deleteBuffer(ot[It.id]),delete ot[It.id],delete it[It.id]}function Mt(){for(const Pt in ot)rt.deleteBuffer(ot[Pt]);at=[],ot={},it={}}return{bind:ut,update:ft,dispose:Mt}}class WebGLRenderer{constructor(et={}){const{canvas:tt=createCanvasElement(),context:nt=null,depth:ot=!0,stencil:it=!0,alpha:at=!1,antialias:st=!1,premultipliedAlpha:ut=!0,preserveDrawingBuffer:ft=!1,powerPreference:ht="default",failIfMajorPerformanceCaveat:mt=!1}=et;this.isWebGLRenderer=!0;let gt;nt!==null?gt=nt.getContextAttributes().alpha:gt=at;const yt=new Uint32Array(4),xt=new Int32Array(4);let St=null,Tt=null;const Mt=[],Pt=[];this.domElement=tt,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace$1,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const It=this;let kt=!1,Dt=0,Nt=0,Gt=null,Wt=-1,Ot=null;const Xt=new Vector4,Et=new Vector4;let lt=null;const dt=new Color(0);let pt=0,vt=tt.width,wt=tt.height,At=1,Rt=null,bt=null;const ct=new Vector4(0,0,vt,wt),_t=new Vector4(0,0,vt,wt);let Lt=!1;const Ft=new Frustum;let jt=!1,Zt=!1,Kt=null;const zt=new Matrix4,Vt=new Vector2,nr=new Vector3,or={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function rr(){return Gt===null?At:1}let $t=nt;function ar(cr,Lr){for(let Fr=0;Fr<cr.length;Fr++){const zr=cr[Fr],Hr=tt.getContext(zr,Lr);if(Hr!==null)return Hr}return null}try{const cr={alpha:!0,depth:ot,stencil:it,antialias:st,premultipliedAlpha:ut,preserveDrawingBuffer:ft,powerPreference:ht,failIfMajorPerformanceCaveat:mt};if("setAttribute"in tt&&tt.setAttribute("data-engine",`three.js r${REVISION}`),tt.addEventListener("webglcontextlost",Pr,!1),tt.addEventListener("webglcontextrestored",Jr,!1),tt.addEventListener("webglcontextcreationerror",Nr,!1),$t===null){const Lr=["webgl2","webgl","experimental-webgl"];if(It.isWebGL1Renderer===!0&&Lr.shift(),$t=ar(Lr,cr),$t===null)throw ar(Lr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&$t instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),$t.getShaderPrecisionFormat===void 0&&($t.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(cr){throw console.error("THREE.WebGLRenderer: "+cr.message),cr}let wr,vr,Qt,Yt,Ht,tr,br,gr,Sr,pr,er,yr,Gr,Mr,Ar,an,Br,Dr,ln,Ir,Tr,Er,_r,xr;function Xr(){wr=new WebGLExtensions($t),vr=new WebGLCapabilities($t,wr,et),wr.init(vr),Er=new WebGLUtils($t,wr,vr),Qt=new WebGLState($t,wr,vr),Yt=new WebGLInfo($t),Ht=new WebGLProperties,tr=new WebGLTextures($t,wr,Qt,Ht,vr,Er,Yt),br=new WebGLCubeMaps(It),gr=new WebGLCubeUVMaps(It),Sr=new WebGLAttributes($t,vr),_r=new WebGLBindingStates($t,wr,Sr,vr),pr=new WebGLGeometries($t,Sr,Yt,_r),er=new WebGLObjects($t,pr,Sr,Yt),ln=new WebGLMorphtargets($t,vr,tr),an=new WebGLClipping(Ht),yr=new WebGLPrograms(It,br,gr,wr,vr,_r,an),Gr=new WebGLMaterials(It,Ht),Mr=new WebGLRenderLists,Ar=new WebGLRenderStates(wr,vr),Dr=new WebGLBackground(It,br,gr,Qt,er,gt,ut),Br=new WebGLShadowMap(It,er,vr),xr=new WebGLUniformsGroups($t,Yt,vr,Qt),Ir=new WebGLBufferRenderer($t,wr,Yt,vr),Tr=new WebGLIndexedBufferRenderer($t,wr,Yt,vr),Yt.programs=yr.programs,It.capabilities=vr,It.extensions=wr,It.properties=Ht,It.renderLists=Mr,It.shadowMap=Br,It.state=Qt,It.info=Yt}Xr();const dr=new WebXRManager(It,$t);this.xr=dr,this.getContext=function(){return $t},this.getContextAttributes=function(){return $t.getContextAttributes()},this.forceContextLoss=function(){const cr=wr.get("WEBGL_lose_context");cr&&cr.loseContext()},this.forceContextRestore=function(){const cr=wr.get("WEBGL_lose_context");cr&&cr.restoreContext()},this.getPixelRatio=function(){return At},this.setPixelRatio=function(cr){cr!==void 0&&(At=cr,this.setSize(vt,wt,!1))},this.getSize=function(cr){return cr.set(vt,wt)},this.setSize=function(cr,Lr,Fr=!0){if(dr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}vt=cr,wt=Lr,tt.width=Math.floor(cr*At),tt.height=Math.floor(Lr*At),Fr===!0&&(tt.style.width=cr+"px",tt.style.height=Lr+"px"),this.setViewport(0,0,cr,Lr)},this.getDrawingBufferSize=function(cr){return cr.set(vt*At,wt*At).floor()},this.setDrawingBufferSize=function(cr,Lr,Fr){vt=cr,wt=Lr,At=Fr,tt.width=Math.floor(cr*Fr),tt.height=Math.floor(Lr*Fr),this.setViewport(0,0,cr,Lr)},this.getCurrentViewport=function(cr){return cr.copy(Xt)},this.getViewport=function(cr){return cr.copy(ct)},this.setViewport=function(cr,Lr,Fr,zr){cr.isVector4?ct.set(cr.x,cr.y,cr.z,cr.w):ct.set(cr,Lr,Fr,zr),Qt.viewport(Xt.copy(ct).multiplyScalar(At).floor())},this.getScissor=function(cr){return cr.copy(_t)},this.setScissor=function(cr,Lr,Fr,zr){cr.isVector4?_t.set(cr.x,cr.y,cr.z,cr.w):_t.set(cr,Lr,Fr,zr),Qt.scissor(Et.copy(_t).multiplyScalar(At).floor())},this.getScissorTest=function(){return Lt},this.setScissorTest=function(cr){Qt.setScissorTest(Lt=cr)},this.setOpaqueSort=function(cr){Rt=cr},this.setTransparentSort=function(cr){bt=cr},this.getClearColor=function(cr){return cr.copy(Dr.getClearColor())},this.setClearColor=function(){Dr.setClearColor.apply(Dr,arguments)},this.getClearAlpha=function(){return Dr.getClearAlpha()},this.setClearAlpha=function(){Dr.setClearAlpha.apply(Dr,arguments)},this.clear=function(cr=!0,Lr=!0,Fr=!0){let zr=0;if(cr){let Hr=!1;if(Gt!==null){const hn=Gt.texture.format;Hr=hn===RGBAIntegerFormat||hn===RGIntegerFormat||hn===RedIntegerFormat}if(Hr){const hn=Gt.texture.type,gn=hn===UnsignedByteType||hn===UnsignedIntType||hn===UnsignedShortType||hn===UnsignedInt248Type||hn===UnsignedShort4444Type||hn===UnsignedShort5551Type,wn=Dr.getClearColor(),xn=Dr.getClearAlpha(),An=wn.r,tn=wn.g,_n=wn.b;gn?(yt[0]=An,yt[1]=tn,yt[2]=_n,yt[3]=xn,$t.clearBufferuiv($t.COLOR,0,yt)):(xt[0]=An,xt[1]=tn,xt[2]=_n,xt[3]=xn,$t.clearBufferiv($t.COLOR,0,xt))}else zr|=$t.COLOR_BUFFER_BIT}Lr&&(zr|=$t.DEPTH_BUFFER_BIT),Fr&&(zr|=$t.STENCIL_BUFFER_BIT),$t.clear(zr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){tt.removeEventListener("webglcontextlost",Pr,!1),tt.removeEventListener("webglcontextrestored",Jr,!1),tt.removeEventListener("webglcontextcreationerror",Nr,!1),Mr.dispose(),Ar.dispose(),Ht.dispose(),br.dispose(),gr.dispose(),er.dispose(),_r.dispose(),xr.dispose(),yr.dispose(),dr.dispose(),dr.removeEventListener("sessionstart",Yr),dr.removeEventListener("sessionend",sn),Kt&&(Kt.dispose(),Kt=null),In.stop()};function Pr(cr){cr.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),kt=!0}function Jr(){console.log("THREE.WebGLRenderer: Context Restored."),kt=!1;const cr=Yt.autoReset,Lr=Br.enabled,Fr=Br.autoUpdate,zr=Br.needsUpdate,Hr=Br.type;Xr(),Yt.autoReset=cr,Br.enabled=Lr,Br.autoUpdate=Fr,Br.needsUpdate=zr,Br.type=Hr}function Nr(cr){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",cr.statusMessage)}function $r(cr){const Lr=cr.target;Lr.removeEventListener("dispose",$r),Zr(Lr)}function Zr(cr){Or(cr),Ht.remove(cr)}function Or(cr){const Lr=Ht.get(cr).programs;Lr!==void 0&&(Lr.forEach(function(Fr){yr.releaseProgram(Fr)}),cr.isShaderMaterial&&yr.releaseShaderCache(cr))}this.renderBufferDirect=function(cr,Lr,Fr,zr,Hr,hn){Lr===null&&(Lr=or);const gn=Hr.isMesh&&Hr.matrixWorld.determinant()<0,wn=Cr(cr,Lr,Fr,zr,Hr);Qt.setMaterial(zr,gn);let xn=Fr.index,An=1;if(zr.wireframe===!0){if(xn=pr.getWireframeAttribute(Fr),xn===void 0)return;An=2}const tn=Fr.drawRange,_n=Fr.attributes.position;let Mn=tn.start*An,En=(tn.start+tn.count)*An;hn!==null&&(Mn=Math.max(Mn,hn.start*An),En=Math.min(En,(hn.start+hn.count)*An)),xn!==null?(Mn=Math.max(Mn,0),En=Math.min(En,xn.count)):_n!=null&&(Mn=Math.max(Mn,0),En=Math.min(En,_n.count));const Cn=En-Mn;if(Cn<0||Cn===1/0)return;_r.setup(Hr,zr,wn,Fr,xn);let Rn,Sn=Ir;if(xn!==null&&(Rn=Sr.get(xn),Sn=Tr,Sn.setIndex(Rn)),Hr.isMesh)zr.wireframe===!0?(Qt.setLineWidth(zr.wireframeLinewidth*rr()),Sn.setMode($t.LINES)):Sn.setMode($t.TRIANGLES);else if(Hr.isLine){let un=zr.linewidth;un===void 0&&(un=1),Qt.setLineWidth(un*rr()),Hr.isLineSegments?Sn.setMode($t.LINES):Hr.isLineLoop?Sn.setMode($t.LINE_LOOP):Sn.setMode($t.LINE_STRIP)}else Hr.isPoints?Sn.setMode($t.POINTS):Hr.isSprite&&Sn.setMode($t.TRIANGLES);if(Hr.isInstancedMesh)Sn.renderInstances(Mn,Cn,Hr.count);else if(Fr.isInstancedBufferGeometry){const un=Fr._maxInstanceCount!==void 0?Fr._maxInstanceCount:1/0,jr=Math.min(Fr.instanceCount,un);Sn.renderInstances(Mn,Cn,jr)}else Sn.render(Mn,Cn)},this.compile=function(cr,Lr){function Fr(zr,Hr,hn){zr.transparent===!0&&zr.side===DoubleSide&&zr.forceSinglePass===!1?(zr.side=BackSide,zr.needsUpdate=!0,Jt(zr,Hr,hn),zr.side=FrontSide,zr.needsUpdate=!0,Jt(zr,Hr,hn),zr.side=DoubleSide):Jt(zr,Hr,hn)}Tt=Ar.get(cr),Tt.init(),Pt.push(Tt),cr.traverseVisible(function(zr){zr.isLight&&zr.layers.test(Lr.layers)&&(Tt.pushLight(zr),zr.castShadow&&Tt.pushShadow(zr))}),Tt.setupLights(It._useLegacyLights),cr.traverse(function(zr){const Hr=zr.material;if(Hr)if(Array.isArray(Hr))for(let hn=0;hn<Hr.length;hn++){const gn=Hr[hn];Fr(gn,cr,zr)}else Fr(Hr,cr,zr)}),Pt.pop(),Tt=null};let Kr=null;function Pn(cr){Kr&&Kr(cr)}function Yr(){In.stop()}function sn(){In.start()}const In=new WebGLAnimation;In.setAnimationLoop(Pn),typeof self<"u"&&In.setContext(self),this.setAnimationLoop=function(cr){Kr=cr,dr.setAnimationLoop(cr),cr===null?In.stop():In.start()},dr.addEventListener("sessionstart",Yr),dr.addEventListener("sessionend",sn),this.render=function(cr,Lr){if(Lr!==void 0&&Lr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(kt===!0)return;cr.matrixWorldAutoUpdate===!0&&cr.updateMatrixWorld(),Lr.parent===null&&Lr.matrixWorldAutoUpdate===!0&&Lr.updateMatrixWorld(),dr.enabled===!0&&dr.isPresenting===!0&&(dr.cameraAutoUpdate===!0&&dr.updateCamera(Lr),Lr=dr.getCamera()),cr.isScene===!0&&cr.onBeforeRender(It,cr,Lr,Gt),Tt=Ar.get(cr,Pt.length),Tt.init(),Pt.push(Tt),zt.multiplyMatrices(Lr.projectionMatrix,Lr.matrixWorldInverse),Ft.setFromProjectionMatrix(zt),Zt=this.localClippingEnabled,jt=an.init(this.clippingPlanes,Zt),St=Mr.get(cr,Mt.length),St.init(),Mt.push(St),rn(cr,Lr,0,It.sortObjects),St.finish(),It.sortObjects===!0&&St.sort(Rt,bt),this.info.render.frame++,jt===!0&&an.beginShadows();const Fr=Tt.state.shadowsArray;if(Br.render(Fr,cr,Lr),jt===!0&&an.endShadows(),this.info.autoReset===!0&&this.info.reset(),Dr.render(St,cr),Tt.setupLights(It._useLegacyLights),Lr.isArrayCamera){const zr=Lr.cameras;for(let Hr=0,hn=zr.length;Hr<hn;Hr++){const gn=zr[Hr];Vr(St,cr,gn,gn.viewport)}}else Vr(St,cr,Lr);Gt!==null&&(tr.updateMultisampleRenderTarget(Gt),tr.updateRenderTargetMipmap(Gt)),cr.isScene===!0&&cr.onAfterRender(It,cr,Lr),_r.resetDefaultState(),Wt=-1,Ot=null,Pt.pop(),Pt.length>0?Tt=Pt[Pt.length-1]:Tt=null,Mt.pop(),Mt.length>0?St=Mt[Mt.length-1]:St=null};function rn(cr,Lr,Fr,zr){if(cr.visible===!1)return;if(cr.layers.test(Lr.layers)){if(cr.isGroup)Fr=cr.renderOrder;else if(cr.isLOD)cr.autoUpdate===!0&&cr.update(Lr);else if(cr.isLight)Tt.pushLight(cr),cr.castShadow&&Tt.pushShadow(cr);else if(cr.isSprite){if(!cr.frustumCulled||Ft.intersectsSprite(cr)){zr&&nr.setFromMatrixPosition(cr.matrixWorld).applyMatrix4(zt);const gn=er.update(cr),wn=cr.material;wn.visible&&St.push(cr,gn,wn,Fr,nr.z,null)}}else if((cr.isMesh||cr.isLine||cr.isPoints)&&(!cr.frustumCulled||Ft.intersectsObject(cr))){const gn=er.update(cr),wn=cr.material;if(zr&&(cr.boundingSphere!==void 0?(cr.boundingSphere===null&&cr.computeBoundingSphere(),nr.copy(cr.boundingSphere.center)):(gn.boundingSphere===null&&gn.computeBoundingSphere(),nr.copy(gn.boundingSphere.center)),nr.applyMatrix4(cr.matrixWorld).applyMatrix4(zt)),Array.isArray(wn)){const xn=gn.groups;for(let An=0,tn=xn.length;An<tn;An++){const _n=xn[An],Mn=wn[_n.materialIndex];Mn&&Mn.visible&&St.push(cr,gn,Mn,Fr,nr.z,_n)}}else wn.visible&&St.push(cr,gn,wn,Fr,nr.z,null)}}const hn=cr.children;for(let gn=0,wn=hn.length;gn<wn;gn++)rn(hn[gn],Lr,Fr,zr)}function Vr(cr,Lr,Fr,zr){const Hr=cr.opaque,hn=cr.transmissive,gn=cr.transparent;Tt.setupLightsView(Fr),jt===!0&&an.setGlobalState(It.clippingPlanes,Fr),hn.length>0&&sr(Hr,hn,Lr,Fr),zr&&Qt.viewport(Xt.copy(zr)),Hr.length>0&&lr(Hr,Lr,Fr),hn.length>0&&lr(hn,Lr,Fr),gn.length>0&&lr(gn,Lr,Fr),Qt.buffers.depth.setTest(!0),Qt.buffers.depth.setMask(!0),Qt.buffers.color.setMask(!0),Qt.setPolygonOffset(!1)}function sr(cr,Lr,Fr,zr){const Hr=vr.isWebGL2;Kt===null&&(Kt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:wr.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Hr?4:0})),It.getDrawingBufferSize(Vt),Hr?Kt.setSize(Vt.x,Vt.y):Kt.setSize(floorPowerOfTwo(Vt.x),floorPowerOfTwo(Vt.y));const hn=It.getRenderTarget();It.setRenderTarget(Kt),It.getClearColor(dt),pt=It.getClearAlpha(),pt<1&&It.setClearColor(16777215,.5),It.clear();const gn=It.toneMapping;It.toneMapping=NoToneMapping,lr(cr,Fr,zr),tr.updateMultisampleRenderTarget(Kt),tr.updateRenderTargetMipmap(Kt);let wn=!1;for(let xn=0,An=Lr.length;xn<An;xn++){const tn=Lr[xn],_n=tn.object,Mn=tn.geometry,En=tn.material,Cn=tn.group;if(En.side===DoubleSide&&_n.layers.test(zr.layers)){const Rn=En.side;En.side=BackSide,En.needsUpdate=!0,ur(_n,Fr,zr,Mn,En,Cn),En.side=Rn,En.needsUpdate=!0,wn=!0}}wn===!0&&(tr.updateMultisampleRenderTarget(Kt),tr.updateRenderTargetMipmap(Kt)),It.setRenderTarget(hn),It.setClearColor(dt,pt),It.toneMapping=gn}function lr(cr,Lr,Fr){const zr=Lr.isScene===!0?Lr.overrideMaterial:null;for(let Hr=0,hn=cr.length;Hr<hn;Hr++){const gn=cr[Hr],wn=gn.object,xn=gn.geometry,An=zr===null?gn.material:zr,tn=gn.group;wn.layers.test(Fr.layers)&&ur(wn,Lr,Fr,xn,An,tn)}}function ur(cr,Lr,Fr,zr,Hr,hn){cr.onBeforeRender(It,Lr,Fr,zr,Hr,hn),cr.modelViewMatrix.multiplyMatrices(Fr.matrixWorldInverse,cr.matrixWorld),cr.normalMatrix.getNormalMatrix(cr.modelViewMatrix),Hr.onBeforeRender(It,Lr,Fr,zr,cr,hn),Hr.transparent===!0&&Hr.side===DoubleSide&&Hr.forceSinglePass===!1?(Hr.side=BackSide,Hr.needsUpdate=!0,It.renderBufferDirect(Fr,Lr,zr,Hr,cr,hn),Hr.side=FrontSide,Hr.needsUpdate=!0,It.renderBufferDirect(Fr,Lr,zr,Hr,cr,hn),Hr.side=DoubleSide):It.renderBufferDirect(Fr,Lr,zr,Hr,cr,hn),cr.onAfterRender(It,Lr,Fr,zr,Hr,hn)}function Jt(cr,Lr,Fr){Lr.isScene!==!0&&(Lr=or);const zr=Ht.get(cr),Hr=Tt.state.lights,hn=Tt.state.shadowsArray,gn=Hr.state.version,wn=yr.getParameters(cr,Hr.state,hn,Lr,Fr),xn=yr.getProgramCacheKey(wn);let An=zr.programs;zr.environment=cr.isMeshStandardMaterial?Lr.environment:null,zr.fog=Lr.fog,zr.envMap=(cr.isMeshStandardMaterial?gr:br).get(cr.envMap||zr.environment),An===void 0&&(cr.addEventListener("dispose",$r),An=new Map,zr.programs=An);let tn=An.get(xn);if(tn!==void 0){if(zr.currentProgram===tn&&zr.lightsStateVersion===gn)return fr(cr,wn),tn}else wn.uniforms=yr.getUniforms(cr),cr.onBuild(Fr,wn,It),cr.onBeforeCompile(wn,It),tn=yr.acquireProgram(wn,xn),An.set(xn,tn),zr.uniforms=wn.uniforms;const _n=zr.uniforms;(!cr.isShaderMaterial&&!cr.isRawShaderMaterial||cr.clipping===!0)&&(_n.clippingPlanes=an.uniform),fr(cr,wn),zr.needsLights=Rr(cr),zr.lightsStateVersion=gn,zr.needsLights&&(_n.ambientLightColor.value=Hr.state.ambient,_n.lightProbe.value=Hr.state.probe,_n.directionalLights.value=Hr.state.directional,_n.directionalLightShadows.value=Hr.state.directionalShadow,_n.spotLights.value=Hr.state.spot,_n.spotLightShadows.value=Hr.state.spotShadow,_n.rectAreaLights.value=Hr.state.rectArea,_n.ltc_1.value=Hr.state.rectAreaLTC1,_n.ltc_2.value=Hr.state.rectAreaLTC2,_n.pointLights.value=Hr.state.point,_n.pointLightShadows.value=Hr.state.pointShadow,_n.hemisphereLights.value=Hr.state.hemi,_n.directionalShadowMap.value=Hr.state.directionalShadowMap,_n.directionalShadowMatrix.value=Hr.state.directionalShadowMatrix,_n.spotShadowMap.value=Hr.state.spotShadowMap,_n.spotLightMatrix.value=Hr.state.spotLightMatrix,_n.spotLightMap.value=Hr.state.spotLightMap,_n.pointShadowMap.value=Hr.state.pointShadowMap,_n.pointShadowMatrix.value=Hr.state.pointShadowMatrix);const Mn=tn.getUniforms(),En=WebGLUniforms.seqWithValue(Mn.seq,_n);return zr.currentProgram=tn,zr.uniformsList=En,tn}function fr(cr,Lr){const Fr=Ht.get(cr);Fr.outputColorSpace=Lr.outputColorSpace,Fr.instancing=Lr.instancing,Fr.instancingColor=Lr.instancingColor,Fr.skinning=Lr.skinning,Fr.morphTargets=Lr.morphTargets,Fr.morphNormals=Lr.morphNormals,Fr.morphColors=Lr.morphColors,Fr.morphTargetsCount=Lr.morphTargetsCount,Fr.numClippingPlanes=Lr.numClippingPlanes,Fr.numIntersection=Lr.numClipIntersection,Fr.vertexAlphas=Lr.vertexAlphas,Fr.vertexTangents=Lr.vertexTangents,Fr.toneMapping=Lr.toneMapping}function Cr(cr,Lr,Fr,zr,Hr){Lr.isScene!==!0&&(Lr=or),tr.resetTextureUnits();const hn=Lr.fog,gn=zr.isMeshStandardMaterial?Lr.environment:null,wn=Gt===null?It.outputColorSpace:Gt.isXRRenderTarget===!0?Gt.texture.colorSpace:LinearSRGBColorSpace$1,xn=(zr.isMeshStandardMaterial?gr:br).get(zr.envMap||gn),An=zr.vertexColors===!0&&!!Fr.attributes.color&&Fr.attributes.color.itemSize===4,tn=!!Fr.attributes.tangent&&(!!zr.normalMap||zr.anisotropy>0),_n=!!Fr.morphAttributes.position,Mn=!!Fr.morphAttributes.normal,En=!!Fr.morphAttributes.color;let Cn=NoToneMapping;zr.toneMapped&&(Gt===null||Gt.isXRRenderTarget===!0)&&(Cn=It.toneMapping);const Rn=Fr.morphAttributes.position||Fr.morphAttributes.normal||Fr.morphAttributes.color,Sn=Rn!==void 0?Rn.length:0,un=Ht.get(zr),jr=Tt.state.lights;if(jt===!0&&(Zt===!0||cr!==Ot)){const On=cr===Ot&&zr.id===Wt;an.setState(zr,cr,On)}let qr=!1;zr.version===un.__version?(un.needsLights&&un.lightsStateVersion!==jr.state.version||un.outputColorSpace!==wn||Hr.isInstancedMesh&&un.instancing===!1||!Hr.isInstancedMesh&&un.instancing===!0||Hr.isSkinnedMesh&&un.skinning===!1||!Hr.isSkinnedMesh&&un.skinning===!0||Hr.isInstancedMesh&&un.instancingColor===!0&&Hr.instanceColor===null||Hr.isInstancedMesh&&un.instancingColor===!1&&Hr.instanceColor!==null||un.envMap!==xn||zr.fog===!0&&un.fog!==hn||un.numClippingPlanes!==void 0&&(un.numClippingPlanes!==an.numPlanes||un.numIntersection!==an.numIntersection)||un.vertexAlphas!==An||un.vertexTangents!==tn||un.morphTargets!==_n||un.morphNormals!==Mn||un.morphColors!==En||un.toneMapping!==Cn||vr.isWebGL2===!0&&un.morphTargetsCount!==Sn)&&(qr=!0):(qr=!0,un.__version=zr.version);let yn=un.currentProgram;qr===!0&&(yn=Jt(zr,Lr,Hr));let dn=!1,pn=!1,Tn=!1;const Ln=yn.getUniforms(),Fn=un.uniforms;if(Qt.useProgram(yn.program)&&(dn=!0,pn=!0,Tn=!0),zr.id!==Wt&&(Wt=zr.id,pn=!0),dn||Ot!==cr){Ln.setValue($t,"projectionMatrix",cr.projectionMatrix),Ln.setValue($t,"viewMatrix",cr.matrixWorldInverse);const On=Ln.map.cameraPosition;On!==void 0&&On.setValue($t,nr.setFromMatrixPosition(cr.matrixWorld)),vr.logarithmicDepthBuffer&&Ln.setValue($t,"logDepthBufFC",2/(Math.log(cr.far+1)/Math.LN2)),(zr.isMeshPhongMaterial||zr.isMeshToonMaterial||zr.isMeshLambertMaterial||zr.isMeshBasicMaterial||zr.isMeshStandardMaterial||zr.isShaderMaterial)&&Ln.setValue($t,"isOrthographic",cr.isOrthographicCamera===!0),Ot!==cr&&(Ot=cr,pn=!0,Tn=!0)}if(Hr.isSkinnedMesh){Ln.setOptional($t,Hr,"bindMatrix"),Ln.setOptional($t,Hr,"bindMatrixInverse");const On=Hr.skeleton;On&&(vr.floatVertexTextures?(On.boneTexture===null&&On.computeBoneTexture(),Ln.setValue($t,"boneTexture",On.boneTexture,tr),Ln.setValue($t,"boneTextureSize",On.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const $n=Fr.morphAttributes;if(($n.position!==void 0||$n.normal!==void 0||$n.color!==void 0&&vr.isWebGL2===!0)&&ln.update(Hr,Fr,yn),(pn||un.receiveShadow!==Hr.receiveShadow)&&(un.receiveShadow=Hr.receiveShadow,Ln.setValue($t,"receiveShadow",Hr.receiveShadow)),zr.isMeshGouraudMaterial&&zr.envMap!==null&&(Fn.envMap.value=xn,Fn.flipEnvMap.value=xn.isCubeTexture&&xn.isRenderTargetTexture===!1?-1:1),pn&&(Ln.setValue($t,"toneMappingExposure",It.toneMappingExposure),un.needsLights&&Wr(Fn,Tn),hn&&zr.fog===!0&&Gr.refreshFogUniforms(Fn,hn),Gr.refreshMaterialUniforms(Fn,zr,At,wt,Kt),WebGLUniforms.upload($t,un.uniformsList,Fn,tr)),zr.isShaderMaterial&&zr.uniformsNeedUpdate===!0&&(WebGLUniforms.upload($t,un.uniformsList,Fn,tr),zr.uniformsNeedUpdate=!1),zr.isSpriteMaterial&&Ln.setValue($t,"center",Hr.center),Ln.setValue($t,"modelViewMatrix",Hr.modelViewMatrix),Ln.setValue($t,"normalMatrix",Hr.normalMatrix),Ln.setValue($t,"modelMatrix",Hr.matrixWorld),zr.isShaderMaterial||zr.isRawShaderMaterial){const On=zr.uniformsGroups;for(let Ur=0,qn=On.length;Ur<qn;Ur++)if(vr.isWebGL2){const zn=On[Ur];xr.update(zn,yn),xr.bind(zn,yn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return yn}function Wr(cr,Lr){cr.ambientLightColor.needsUpdate=Lr,cr.lightProbe.needsUpdate=Lr,cr.directionalLights.needsUpdate=Lr,cr.directionalLightShadows.needsUpdate=Lr,cr.pointLights.needsUpdate=Lr,cr.pointLightShadows.needsUpdate=Lr,cr.spotLights.needsUpdate=Lr,cr.spotLightShadows.needsUpdate=Lr,cr.rectAreaLights.needsUpdate=Lr,cr.hemisphereLights.needsUpdate=Lr}function Rr(cr){return cr.isMeshLambertMaterial||cr.isMeshToonMaterial||cr.isMeshPhongMaterial||cr.isMeshStandardMaterial||cr.isShadowMaterial||cr.isShaderMaterial&&cr.lights===!0}this.getActiveCubeFace=function(){return Dt},this.getActiveMipmapLevel=function(){return Nt},this.getRenderTarget=function(){return Gt},this.setRenderTargetTextures=function(cr,Lr,Fr){Ht.get(cr.texture).__webglTexture=Lr,Ht.get(cr.depthTexture).__webglTexture=Fr;const zr=Ht.get(cr);zr.__hasExternalTextures=!0,zr.__hasExternalTextures&&(zr.__autoAllocateDepthBuffer=Fr===void 0,zr.__autoAllocateDepthBuffer||wr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),zr.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(cr,Lr){const Fr=Ht.get(cr);Fr.__webglFramebuffer=Lr,Fr.__useDefaultFramebuffer=Lr===void 0},this.setRenderTarget=function(cr,Lr=0,Fr=0){Gt=cr,Dt=Lr,Nt=Fr;let zr=!0,Hr=null,hn=!1,gn=!1;if(cr){const xn=Ht.get(cr);xn.__useDefaultFramebuffer!==void 0?(Qt.bindFramebuffer($t.FRAMEBUFFER,null),zr=!1):xn.__webglFramebuffer===void 0?tr.setupRenderTarget(cr):xn.__hasExternalTextures&&tr.rebindTextures(cr,Ht.get(cr.texture).__webglTexture,Ht.get(cr.depthTexture).__webglTexture);const An=cr.texture;(An.isData3DTexture||An.isDataArrayTexture||An.isCompressedArrayTexture)&&(gn=!0);const tn=Ht.get(cr).__webglFramebuffer;cr.isWebGLCubeRenderTarget?(Array.isArray(tn[Lr])?Hr=tn[Lr][Fr]:Hr=tn[Lr],hn=!0):vr.isWebGL2&&cr.samples>0&&tr.useMultisampledRTT(cr)===!1?Hr=Ht.get(cr).__webglMultisampledFramebuffer:Array.isArray(tn)?Hr=tn[Fr]:Hr=tn,Xt.copy(cr.viewport),Et.copy(cr.scissor),lt=cr.scissorTest}else Xt.copy(ct).multiplyScalar(At).floor(),Et.copy(_t).multiplyScalar(At).floor(),lt=Lt;if(Qt.bindFramebuffer($t.FRAMEBUFFER,Hr)&&vr.drawBuffers&&zr&&Qt.drawBuffers(cr,Hr),Qt.viewport(Xt),Qt.scissor(Et),Qt.setScissorTest(lt),hn){const xn=Ht.get(cr.texture);$t.framebufferTexture2D($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,$t.TEXTURE_CUBE_MAP_POSITIVE_X+Lr,xn.__webglTexture,Fr)}else if(gn){const xn=Ht.get(cr.texture),An=Lr||0;$t.framebufferTextureLayer($t.FRAMEBUFFER,$t.COLOR_ATTACHMENT0,xn.__webglTexture,Fr||0,An)}Wt=-1},this.readRenderTargetPixels=function(cr,Lr,Fr,zr,Hr,hn,gn){if(!(cr&&cr.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wn=Ht.get(cr).__webglFramebuffer;if(cr.isWebGLCubeRenderTarget&&gn!==void 0&&(wn=wn[gn]),wn){Qt.bindFramebuffer($t.FRAMEBUFFER,wn);try{const xn=cr.texture,An=xn.format,tn=xn.type;if(An!==RGBAFormat&&Er.convert(An)!==$t.getParameter($t.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const _n=tn===HalfFloatType&&(wr.has("EXT_color_buffer_half_float")||vr.isWebGL2&&wr.has("EXT_color_buffer_float"));if(tn!==UnsignedByteType&&Er.convert(tn)!==$t.getParameter($t.IMPLEMENTATION_COLOR_READ_TYPE)&&!(tn===FloatType&&(vr.isWebGL2||wr.has("OES_texture_float")||wr.has("WEBGL_color_buffer_float")))&&!_n){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Lr>=0&&Lr<=cr.width-zr&&Fr>=0&&Fr<=cr.height-Hr&&$t.readPixels(Lr,Fr,zr,Hr,Er.convert(An),Er.convert(tn),hn)}finally{const xn=Gt!==null?Ht.get(Gt).__webglFramebuffer:null;Qt.bindFramebuffer($t.FRAMEBUFFER,xn)}}},this.copyFramebufferToTexture=function(cr,Lr,Fr=0){const zr=Math.pow(2,-Fr),Hr=Math.floor(Lr.image.width*zr),hn=Math.floor(Lr.image.height*zr);tr.setTexture2D(Lr,0),$t.copyTexSubImage2D($t.TEXTURE_2D,Fr,0,0,cr.x,cr.y,Hr,hn),Qt.unbindTexture()},this.copyTextureToTexture=function(cr,Lr,Fr,zr=0){const Hr=Lr.image.width,hn=Lr.image.height,gn=Er.convert(Fr.format),wn=Er.convert(Fr.type);tr.setTexture2D(Fr,0),$t.pixelStorei($t.UNPACK_FLIP_Y_WEBGL,Fr.flipY),$t.pixelStorei($t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fr.premultiplyAlpha),$t.pixelStorei($t.UNPACK_ALIGNMENT,Fr.unpackAlignment),Lr.isDataTexture?$t.texSubImage2D($t.TEXTURE_2D,zr,cr.x,cr.y,Hr,hn,gn,wn,Lr.image.data):Lr.isCompressedTexture?$t.compressedTexSubImage2D($t.TEXTURE_2D,zr,cr.x,cr.y,Lr.mipmaps[0].width,Lr.mipmaps[0].height,gn,Lr.mipmaps[0].data):$t.texSubImage2D($t.TEXTURE_2D,zr,cr.x,cr.y,gn,wn,Lr.image),zr===0&&Fr.generateMipmaps&&$t.generateMipmap($t.TEXTURE_2D),Qt.unbindTexture()},this.copyTextureToTexture3D=function(cr,Lr,Fr,zr,Hr=0){if(It.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const hn=cr.max.x-cr.min.x+1,gn=cr.max.y-cr.min.y+1,wn=cr.max.z-cr.min.z+1,xn=Er.convert(zr.format),An=Er.convert(zr.type);let tn;if(zr.isData3DTexture)tr.setTexture3D(zr,0),tn=$t.TEXTURE_3D;else if(zr.isDataArrayTexture)tr.setTexture2DArray(zr,0),tn=$t.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}$t.pixelStorei($t.UNPACK_FLIP_Y_WEBGL,zr.flipY),$t.pixelStorei($t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,zr.premultiplyAlpha),$t.pixelStorei($t.UNPACK_ALIGNMENT,zr.unpackAlignment);const _n=$t.getParameter($t.UNPACK_ROW_LENGTH),Mn=$t.getParameter($t.UNPACK_IMAGE_HEIGHT),En=$t.getParameter($t.UNPACK_SKIP_PIXELS),Cn=$t.getParameter($t.UNPACK_SKIP_ROWS),Rn=$t.getParameter($t.UNPACK_SKIP_IMAGES),Sn=Fr.isCompressedTexture?Fr.mipmaps[0]:Fr.image;$t.pixelStorei($t.UNPACK_ROW_LENGTH,Sn.width),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,Sn.height),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,cr.min.x),$t.pixelStorei($t.UNPACK_SKIP_ROWS,cr.min.y),$t.pixelStorei($t.UNPACK_SKIP_IMAGES,cr.min.z),Fr.isDataTexture||Fr.isData3DTexture?$t.texSubImage3D(tn,Hr,Lr.x,Lr.y,Lr.z,hn,gn,wn,xn,An,Sn.data):Fr.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),$t.compressedTexSubImage3D(tn,Hr,Lr.x,Lr.y,Lr.z,hn,gn,wn,xn,Sn.data)):$t.texSubImage3D(tn,Hr,Lr.x,Lr.y,Lr.z,hn,gn,wn,xn,An,Sn),$t.pixelStorei($t.UNPACK_ROW_LENGTH,_n),$t.pixelStorei($t.UNPACK_IMAGE_HEIGHT,Mn),$t.pixelStorei($t.UNPACK_SKIP_PIXELS,En),$t.pixelStorei($t.UNPACK_SKIP_ROWS,Cn),$t.pixelStorei($t.UNPACK_SKIP_IMAGES,Rn),Hr===0&&zr.generateMipmaps&&$t.generateMipmap(tn),Qt.unbindTexture()},this.initTexture=function(cr){cr.isCubeTexture?tr.setTextureCube(cr,0):cr.isData3DTexture?tr.setTexture3D(cr,0):cr.isDataArrayTexture||cr.isCompressedArrayTexture?tr.setTexture2DArray(cr,0):tr.setTexture2D(cr,0),Qt.unbindTexture()},this.resetState=function(){Dt=0,Nt=0,Gt=null,Qt.reset(),_r.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(et){this._outputColorSpace=et;const tt=this.getContext();tt.drawingBufferColorSpace=et===DisplayP3ColorSpace?"display-p3":"srgb",tt.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(et){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!et}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace$1?sRGBEncoding$1:LinearEncoding$1}set outputEncoding(et){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=et===sRGBEncoding$1?SRGBColorSpace$1:LinearSRGBColorSpace$1}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(et){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=et}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(et,tt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(et),this.density=tt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(et,tt=1,nt=1e3){this.isFog=!0,this.name="",this.color=new Color(et),this.near=tt,this.far=nt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(et,tt){return super.copy(et,tt),et.background!==null&&(this.background=et.background.clone()),et.environment!==null&&(this.environment=et.environment.clone()),et.fog!==null&&(this.fog=et.fog.clone()),this.backgroundBlurriness=et.backgroundBlurriness,this.backgroundIntensity=et.backgroundIntensity,et.overrideMaterial!==null&&(this.overrideMaterial=et.overrideMaterial.clone()),this.matrixAutoUpdate=et.matrixAutoUpdate,this}toJSON(et){const tt=super.toJSON(et);return this.fog!==null&&(tt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(tt.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(tt.object.backgroundIntensity=this.backgroundIntensity),tt}}class InterleavedBuffer{constructor(et,tt){this.isInterleavedBuffer=!0,this.array=et,this.stride=tt,this.count=et!==void 0?et.length/tt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.array=new et.array.constructor(et.array),this.count=et.count,this.stride=et.stride,this.usage=et.usage,this}copyAt(et,tt,nt){et*=this.stride,nt*=tt.stride;for(let ot=0,it=this.stride;ot<it;ot++)this.array[et+ot]=tt.array[nt+ot];return this}set(et,tt=0){return this.array.set(et,tt),this}clone(et){et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const tt=new this.array.constructor(et.arrayBuffers[this.array.buffer._uuid]),nt=new this.constructor(tt,this.stride);return nt.setUsage(this.usage),nt}onUpload(et){return this.onUploadCallback=et,this}toJSON(et){return et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$5=new Vector3;class InterleavedBufferAttribute{constructor(et,tt,nt,ot=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=et,this.itemSize=tt,this.offset=nt,this.normalized=ot}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(et){this.data.needsUpdate=et}applyMatrix4(et){for(let tt=0,nt=this.data.count;tt<nt;tt++)_vector$5.fromBufferAttribute(this,tt),_vector$5.applyMatrix4(et),this.setXYZ(tt,_vector$5.x,_vector$5.y,_vector$5.z);return this}applyNormalMatrix(et){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$5.fromBufferAttribute(this,tt),_vector$5.applyNormalMatrix(et),this.setXYZ(tt,_vector$5.x,_vector$5.y,_vector$5.z);return this}transformDirection(et){for(let tt=0,nt=this.count;tt<nt;tt++)_vector$5.fromBufferAttribute(this,tt),_vector$5.transformDirection(et),this.setXYZ(tt,_vector$5.x,_vector$5.y,_vector$5.z);return this}setX(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[et*this.data.stride+this.offset]=tt,this}setY(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[et*this.data.stride+this.offset+1]=tt,this}setZ(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[et*this.data.stride+this.offset+2]=tt,this}setW(et,tt){return this.normalized&&(tt=normalize(tt,this.array)),this.data.array[et*this.data.stride+this.offset+3]=tt,this}getX(et){let tt=this.data.array[et*this.data.stride+this.offset];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getY(et){let tt=this.data.array[et*this.data.stride+this.offset+1];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getZ(et){let tt=this.data.array[et*this.data.stride+this.offset+2];return this.normalized&&(tt=denormalize(tt,this.array)),tt}getW(et){let tt=this.data.array[et*this.data.stride+this.offset+3];return this.normalized&&(tt=denormalize(tt,this.array)),tt}setXY(et,tt,nt){return et=et*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array)),this.data.array[et+0]=tt,this.data.array[et+1]=nt,this}setXYZ(et,tt,nt,ot){return et=et*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array)),this.data.array[et+0]=tt,this.data.array[et+1]=nt,this.data.array[et+2]=ot,this}setXYZW(et,tt,nt,ot,it){return et=et*this.data.stride+this.offset,this.normalized&&(tt=normalize(tt,this.array),nt=normalize(nt,this.array),ot=normalize(ot,this.array),it=normalize(it,this.array)),this.data.array[et+0]=tt,this.data.array[et+1]=nt,this.data.array[et+2]=ot,this.data.array[et+3]=it,this}clone(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const ot=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[ot+it])}return new BufferAttribute(new this.array.constructor(tt),this.itemSize,this.normalized)}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.clone(et)),new InterleavedBufferAttribute(et.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(et){if(et===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const tt=[];for(let nt=0;nt<this.count;nt++){const ot=nt*this.data.stride+this.offset;for(let it=0;it<this.itemSize;it++)tt.push(this.data.array[ot+it])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:tt,normalized:this.normalized}}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.toJSON(et)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(et){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.rotation=et.rotation,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(et=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const tt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),nt=new InterleavedBuffer(tt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(nt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(nt,2,3,!1))}this.geometry=_geometry,this.material=et,this.center=new Vector2(.5,.5)}raycast(et,tt){et.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(et.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(et.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),et.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const nt=this.material.rotation;let ot,it;nt!==0&&(it=Math.cos(nt),ot=Math.sin(nt));const at=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,at,_worldScale,ot,it),transformVertex(_vB.set(.5,-.5,0),_mvPosition,at,_worldScale,ot,it),transformVertex(_vC.set(.5,.5,0),_mvPosition,at,_worldScale,ot,it),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=et.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,at,_worldScale,ot,it),_uvB.set(0,1),st=et.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const ut=et.ray.origin.distanceTo(_intersectPoint);ut<et.near||ut>et.far||tt.push({distance:ut,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(et,tt){return super.copy(et,tt),et.center!==void 0&&this.center.copy(et.center),this.material=et.material,this}}function transformVertex(rt,et,tt,nt,ot,it){_alignedPosition.subVectors(rt,tt).addScalar(.5).multiply(nt),ot!==void 0?(_rotatedPosition.x=it*_alignedPosition.x-ot*_alignedPosition.y,_rotatedPosition.y=ot*_alignedPosition.x+it*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),rt.copy(et),rt.x+=_rotatedPosition.x,rt.y+=_rotatedPosition.y,rt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(et){super.copy(et,!1);const tt=et.levels;for(let nt=0,ot=tt.length;nt<ot;nt++){const it=tt[nt];this.addLevel(it.object.clone(),it.distance,it.hysteresis)}return this.autoUpdate=et.autoUpdate,this}addLevel(et,tt=0,nt=0){tt=Math.abs(tt);const ot=this.levels;let it;for(it=0;it<ot.length&&!(tt<ot[it].distance);it++);return ot.splice(it,0,{distance:tt,hysteresis:nt,object:et}),this.add(et),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(et){const tt=this.levels;if(tt.length>0){let nt,ot;for(nt=1,ot=tt.length;nt<ot;nt++){let it=tt[nt].distance;if(tt[nt].object.visible&&(it-=it*tt[nt].hysteresis),et<it)break}return tt[nt-1].object}return null}raycast(et,tt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const ot=et.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(ot).raycast(et,tt)}}update(et){const tt=this.levels;if(tt.length>1){_v1$2.setFromMatrixPosition(et.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const nt=_v1$2.distanceTo(_v2$1)/et.zoom;tt[0].object.visible=!0;let ot,it;for(ot=1,it=tt.length;ot<it;ot++){let at=tt[ot].distance;if(tt[ot].object.visible&&(at-=at*tt[ot].hysteresis),nt>=at)tt[ot-1].object.visible=!1,tt[ot].object.visible=!0;else break}for(this._currentLevel=ot-1;ot<it;ot++)tt[ot].object.visible=!1}}toJSON(et){const tt=super.toJSON(et);this.autoUpdate===!1&&(tt.object.autoUpdate=!1),tt.object.levels=[];const nt=this.levels;for(let ot=0,it=nt.length;ot<it;ot++){const at=nt[ot];tt.object.levels.push({object:at.object.uuid,distance:at.distance,hysteresis:at.hysteresis})}return tt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$3=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(et,tt){super(et,tt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const et=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const tt=et.getAttribute("position");for(let nt=0;nt<tt.count;nt++)_vertex.fromBufferAttribute(tt,nt),this.applyBoneTransform(nt,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const et=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const tt=et.getAttribute("position");for(let nt=0;nt<tt.count;nt++)_vertex.fromBufferAttribute(tt,nt),this.applyBoneTransform(nt,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(et,tt){return super.copy(et,tt),this.bindMode=et.bindMode,this.bindMatrix.copy(et.bindMatrix),this.bindMatrixInverse.copy(et.bindMatrixInverse),this.skeleton=et.skeleton,et.boundingBox!==null&&(this.boundingBox=et.boundingBox.clone()),et.boundingSphere!==null&&(this.boundingSphere=et.boundingSphere.clone()),this}raycast(et,tt){const nt=this.material,ot=this.matrixWorld;nt!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(ot),et.ray.intersectsSphere(_sphere$3)!==!1&&(_inverseMatrix$2.copy(ot).invert(),_ray$2.copy(et.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(et,tt,_ray$2)))}getVertexPosition(et,tt){return super.getVertexPosition(et,tt),this.applyBoneTransform(et,tt),tt}bind(et,tt){this.skeleton=et,tt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),tt=this.matrixWorld),this.bindMatrix.copy(tt),this.bindMatrixInverse.copy(tt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const et=new Vector4,tt=this.geometry.attributes.skinWeight;for(let nt=0,ot=tt.count;nt<ot;nt++){et.fromBufferAttribute(tt,nt);const it=1/et.manhattanLength();it!==1/0?et.multiplyScalar(it):et.set(1,0,0,0),tt.setXYZW(nt,et.x,et.y,et.z,et.w)}}updateMatrixWorld(et){super.updateMatrixWorld(et),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(et,tt){const nt=this.skeleton,ot=this.geometry;_skinIndex.fromBufferAttribute(ot.attributes.skinIndex,et),_skinWeight.fromBufferAttribute(ot.attributes.skinWeight,et),_basePosition.copy(tt).applyMatrix4(this.bindMatrix),tt.set(0,0,0);for(let it=0;it<4;it++){const at=_skinWeight.getComponent(it);if(at!==0){const st=_skinIndex.getComponent(it);_matrix4.multiplyMatrices(nt.bones[st].matrixWorld,nt.boneInverses[st]),tt.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),at)}}return tt.applyMatrix4(this.bindMatrixInverse)}boneTransform(et,tt){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(et,tt)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(et=null,tt=1,nt=1,ot,it,at,st,ut,ft=NearestFilter,ht=NearestFilter,mt,gt){super(null,at,st,ut,ft,ht,ot,it,mt,gt),this.isDataTexture=!0,this.image={data:et,width:tt,height:nt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(et=[],tt=[]){this.uuid=generateUUID$1(),this.bones=et.slice(0),this.boneInverses=tt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const et=this.bones,tt=this.boneInverses;if(this.boneMatrices=new Float32Array(et.length*16),tt.length===0)this.calculateInverses();else if(et.length!==tt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let nt=0,ot=this.bones.length;nt<ot;nt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let et=0,tt=this.bones.length;et<tt;et++){const nt=new Matrix4;this.bones[et]&&nt.copy(this.bones[et].matrixWorld).invert(),this.boneInverses.push(nt)}}pose(){for(let et=0,tt=this.bones.length;et<tt;et++){const nt=this.bones[et];nt&&nt.matrixWorld.copy(this.boneInverses[et]).invert()}for(let et=0,tt=this.bones.length;et<tt;et++){const nt=this.bones[et];nt&&(nt.parent&&nt.parent.isBone?(nt.matrix.copy(nt.parent.matrixWorld).invert(),nt.matrix.multiply(nt.matrixWorld)):nt.matrix.copy(nt.matrixWorld),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale))}}update(){const et=this.bones,tt=this.boneInverses,nt=this.boneMatrices,ot=this.boneTexture;for(let it=0,at=et.length;it<at;it++){const st=et[it]?et[it].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(st,tt[it]),_offsetMatrix.toArray(nt,it*16)}ot!==null&&(ot.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let et=Math.sqrt(this.bones.length*4);et=ceilPowerOfTwo(et),et=Math.max(et,4);const tt=new Float32Array(et*et*4);tt.set(this.boneMatrices);const nt=new DataTexture(tt,et,et,RGBAFormat,FloatType);return nt.needsUpdate=!0,this.boneMatrices=tt,this.boneTexture=nt,this.boneTextureSize=et,this}getBoneByName(et){for(let tt=0,nt=this.bones.length;tt<nt;tt++){const ot=this.bones[tt];if(ot.name===et)return ot}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(et,tt){this.uuid=et.uuid;for(let nt=0,ot=et.bones.length;nt<ot;nt++){const it=et.bones[nt];let at=tt[it];at===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",it),at=new Bone),this.bones.push(at),this.boneInverses.push(new Matrix4().fromArray(et.boneInverses[nt]))}return this.init(),this}toJSON(){const et={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};et.uuid=this.uuid;const tt=this.bones,nt=this.boneInverses;for(let ot=0,it=tt.length;ot<it;ot++){const at=tt[ot];et.bones.push(at.uuid);const st=nt[ot];et.boneInverses.push(st.toArray())}return et}}class InstancedBufferAttribute extends BufferAttribute{constructor(et,tt,nt,ot=1){super(et,tt,nt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=ot}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}toJSON(){const et=super.toJSON();return et.meshPerAttribute=this.meshPerAttribute,et.isInstancedBufferAttribute=!0,et}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh=new Mesh,_sphere$2=new Sphere;class InstancedMesh extends Mesh{constructor(et,tt,nt){super(et,tt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(nt*16),16),this.instanceColor=null,this.count=nt,this.boundingBox=null,this.boundingSphere=null;for(let ot=0;ot<nt;ot++)this.setMatrixAt(ot,_identity)}computeBoundingBox(){const et=this.geometry,tt=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),et.boundingBox===null&&et.computeBoundingBox(),this.boundingBox.makeEmpty();for(let nt=0;nt<tt;nt++)this.getMatrixAt(nt,_instanceLocalMatrix),_box3.copy(et.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const et=this.geometry,tt=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),et.boundingSphere===null&&et.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let nt=0;nt<tt;nt++)this.getMatrixAt(nt,_instanceLocalMatrix),_sphere$2.copy(et.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$2)}copy(et,tt){return super.copy(et,tt),this.instanceMatrix.copy(et.instanceMatrix),et.instanceColor!==null&&(this.instanceColor=et.instanceColor.clone()),this.count=et.count,et.boundingBox!==null&&(this.boundingBox=et.boundingBox.clone()),et.boundingSphere!==null&&(this.boundingSphere=et.boundingSphere.clone()),this}getColorAt(et,tt){tt.fromArray(this.instanceColor.array,et*3)}getMatrixAt(et,tt){tt.fromArray(this.instanceMatrix.array,et*16)}raycast(et,tt){const nt=this.matrixWorld,ot=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$2.copy(this.boundingSphere),_sphere$2.applyMatrix4(nt),et.ray.intersectsSphere(_sphere$2)!==!1))for(let it=0;it<ot;it++){this.getMatrixAt(it,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(nt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(et,_instanceIntersects);for(let at=0,st=_instanceIntersects.length;at<st;at++){const ut=_instanceIntersects[at];ut.instanceId=it,ut.object=this,tt.push(ut)}_instanceIntersects.length=0}}setColorAt(et,tt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),tt.toArray(this.instanceColor.array,et*3)}setMatrixAt(et,tt){tt.toArray(this.instanceMatrix.array,et*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(et){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.linewidth=et.linewidth,this.linecap=et.linecap,this.linejoin=et.linejoin,this.fog=et.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(et=new BufferGeometry,tt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=et,this.material=tt,this.updateMorphTargets()}copy(et,tt){return super.copy(et,tt),this.material=Array.isArray(et.material)?et.material.slice():et.material,this.geometry=et.geometry,this}computeLineDistances(){const et=this.geometry;if(et.index===null){const tt=et.attributes.position,nt=[0];for(let ot=1,it=tt.count;ot<it;ot++)_start$1.fromBufferAttribute(tt,ot-1),_end$1.fromBufferAttribute(tt,ot),nt[ot]=nt[ot-1],nt[ot]+=_start$1.distanceTo(_end$1);et.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(et,tt){const nt=this.geometry,ot=this.matrixWorld,it=et.params.Line.threshold,at=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$1.copy(nt.boundingSphere),_sphere$1.applyMatrix4(ot),_sphere$1.radius+=it,et.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(ot).invert(),_ray$1.copy(et.ray).applyMatrix4(_inverseMatrix$1);const st=it/((this.scale.x+this.scale.y+this.scale.z)/3),ut=st*st,ft=new Vector3,ht=new Vector3,mt=new Vector3,gt=new Vector3,yt=this.isLineSegments?2:1,xt=nt.index,Tt=nt.attributes.position;if(xt!==null){const Mt=Math.max(0,at.start),Pt=Math.min(xt.count,at.start+at.count);for(let It=Mt,kt=Pt-1;It<kt;It+=yt){const Dt=xt.getX(It),Nt=xt.getX(It+1);if(ft.fromBufferAttribute(Tt,Dt),ht.fromBufferAttribute(Tt,Nt),_ray$1.distanceSqToSegment(ft,ht,gt,mt)>ut)continue;gt.applyMatrix4(this.matrixWorld);const Wt=et.ray.origin.distanceTo(gt);Wt<et.near||Wt>et.far||tt.push({distance:Wt,point:mt.clone().applyMatrix4(this.matrixWorld),index:It,face:null,faceIndex:null,object:this})}}else{const Mt=Math.max(0,at.start),Pt=Math.min(Tt.count,at.start+at.count);for(let It=Mt,kt=Pt-1;It<kt;It+=yt){if(ft.fromBufferAttribute(Tt,It),ht.fromBufferAttribute(Tt,It+1),_ray$1.distanceSqToSegment(ft,ht,gt,mt)>ut)continue;gt.applyMatrix4(this.matrixWorld);const Nt=et.ray.origin.distanceTo(gt);Nt<et.near||Nt>et.far||tt.push({distance:Nt,point:mt.clone().applyMatrix4(this.matrixWorld),index:It,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const ot=tt[nt[0]];if(ot!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,at=ot.length;it<at;it++){const st=ot[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=it}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(et,tt){super(et,tt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const et=this.geometry;if(et.index===null){const tt=et.attributes.position,nt=[];for(let ot=0,it=tt.count;ot<it;ot+=2)_start.fromBufferAttribute(tt,ot),_end.fromBufferAttribute(tt,ot+1),nt[ot]=ot===0?0:nt[ot-1],nt[ot+1]=nt[ot]+_start.distanceTo(_end);et.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(et,tt){super(et,tt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(et){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.size=et.size,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(et=new BufferGeometry,tt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=et,this.material=tt,this.updateMorphTargets()}copy(et,tt){return super.copy(et,tt),this.material=Array.isArray(et.material)?et.material.slice():et.material,this.geometry=et.geometry,this}raycast(et,tt){const nt=this.geometry,ot=this.matrixWorld,it=et.params.Points.threshold,at=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere.copy(nt.boundingSphere),_sphere.applyMatrix4(ot),_sphere.radius+=it,et.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(ot).invert(),_ray.copy(et.ray).applyMatrix4(_inverseMatrix);const st=it/((this.scale.x+this.scale.y+this.scale.z)/3),ut=st*st,ft=nt.index,mt=nt.attributes.position;if(ft!==null){const gt=Math.max(0,at.start),yt=Math.min(ft.count,at.start+at.count);for(let xt=gt,St=yt;xt<St;xt++){const Tt=ft.getX(xt);_position$2.fromBufferAttribute(mt,Tt),testPoint(_position$2,Tt,ut,ot,et,tt,this)}}else{const gt=Math.max(0,at.start),yt=Math.min(mt.count,at.start+at.count);for(let xt=gt,St=yt;xt<St;xt++)_position$2.fromBufferAttribute(mt,xt),testPoint(_position$2,xt,ut,ot,et,tt,this)}}updateMorphTargets(){const tt=this.geometry.morphAttributes,nt=Object.keys(tt);if(nt.length>0){const ot=tt[nt[0]];if(ot!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let it=0,at=ot.length;it<at;it++){const st=ot[it].name||String(it);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=it}}}}}function testPoint(rt,et,tt,nt,ot,it,at){const st=_ray.distanceSqToPoint(rt);if(st<tt){const ut=new Vector3;_ray.closestPointToPoint(rt,ut),ut.applyMatrix4(nt);const ft=ot.ray.origin.distanceTo(ut);if(ft<ot.near||ft>ot.far)return;it.push({distance:ft,distanceToRay:Math.sqrt(st),point:ut,index:et,face:null,object:at})}}class VideoTexture extends Texture{constructor(et,tt,nt,ot,it,at,st,ut,ft){super(et,tt,nt,ot,it,at,st,ut,ft),this.isVideoTexture=!0,this.minFilter=at!==void 0?at:LinearFilter,this.magFilter=it!==void 0?it:LinearFilter,this.generateMipmaps=!1;const ht=this;function mt(){ht.needsUpdate=!0,et.requestVideoFrameCallback(mt)}"requestVideoFrameCallback"in et&&et.requestVideoFrameCallback(mt)}clone(){return new this.constructor(this.image).copy(this)}update(){const et=this.image;"requestVideoFrameCallback"in et===!1&&et.readyState>=et.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(et,tt){super({width:et,height:tt}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(et,tt,nt,ot,it,at,st,ut,ft,ht,mt,gt){super(null,at,st,ut,ft,ht,ot,it,mt,gt),this.isCompressedTexture=!0,this.image={width:tt,height:nt},this.mipmaps=et,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(et,tt,nt,ot,it,at){super(et,tt,nt,it,at),this.isCompressedArrayTexture=!0,this.image.depth=ot,this.wrapR=ClampToEdgeWrapping}}class CompressedCubeTexture extends CompressedTexture{constructor(et,tt,nt){super(void 0,et[0].width,et[0].height,tt,nt,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=et}}class CanvasTexture extends Texture{constructor(et,tt,nt,ot,it,at,st,ut,ft){super(et,tt,nt,ot,it,at,st,ut,ft),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(et,tt){const nt=this.getUtoTmapping(et);return this.getPoint(nt,tt)}getPoints(et=5){const tt=[];for(let nt=0;nt<=et;nt++)tt.push(this.getPoint(nt/et));return tt}getSpacedPoints(et=5){const tt=[];for(let nt=0;nt<=et;nt++)tt.push(this.getPointAt(nt/et));return tt}getLength(){const et=this.getLengths();return et[et.length-1]}getLengths(et=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===et+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const tt=[];let nt,ot=this.getPoint(0),it=0;tt.push(0);for(let at=1;at<=et;at++)nt=this.getPoint(at/et),it+=nt.distanceTo(ot),tt.push(it),ot=nt;return this.cacheArcLengths=tt,tt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(et,tt){const nt=this.getLengths();let ot=0;const it=nt.length;let at;tt?at=tt:at=et*nt[it-1];let st=0,ut=it-1,ft;for(;st<=ut;)if(ot=Math.floor(st+(ut-st)/2),ft=nt[ot]-at,ft<0)st=ot+1;else if(ft>0)ut=ot-1;else{ut=ot;break}if(ot=ut,nt[ot]===at)return ot/(it-1);const ht=nt[ot],gt=nt[ot+1]-ht,yt=(at-ht)/gt;return(ot+yt)/(it-1)}getTangent(et,tt){let ot=et-1e-4,it=et+1e-4;ot<0&&(ot=0),it>1&&(it=1);const at=this.getPoint(ot),st=this.getPoint(it),ut=tt||(at.isVector2?new Vector2:new Vector3);return ut.copy(st).sub(at).normalize(),ut}getTangentAt(et,tt){const nt=this.getUtoTmapping(et);return this.getTangent(nt,tt)}computeFrenetFrames(et,tt){const nt=new Vector3,ot=[],it=[],at=[],st=new Vector3,ut=new Matrix4;for(let yt=0;yt<=et;yt++){const xt=yt/et;ot[yt]=this.getTangentAt(xt,new Vector3)}it[0]=new Vector3,at[0]=new Vector3;let ft=Number.MAX_VALUE;const ht=Math.abs(ot[0].x),mt=Math.abs(ot[0].y),gt=Math.abs(ot[0].z);ht<=ft&&(ft=ht,nt.set(1,0,0)),mt<=ft&&(ft=mt,nt.set(0,1,0)),gt<=ft&&nt.set(0,0,1),st.crossVectors(ot[0],nt).normalize(),it[0].crossVectors(ot[0],st),at[0].crossVectors(ot[0],it[0]);for(let yt=1;yt<=et;yt++){if(it[yt]=it[yt-1].clone(),at[yt]=at[yt-1].clone(),st.crossVectors(ot[yt-1],ot[yt]),st.length()>Number.EPSILON){st.normalize();const xt=Math.acos(clamp(ot[yt-1].dot(ot[yt]),-1,1));it[yt].applyMatrix4(ut.makeRotationAxis(st,xt))}at[yt].crossVectors(ot[yt],it[yt])}if(tt===!0){let yt=Math.acos(clamp(it[0].dot(it[et]),-1,1));yt/=et,ot[0].dot(st.crossVectors(it[0],it[et]))>0&&(yt=-yt);for(let xt=1;xt<=et;xt++)it[xt].applyMatrix4(ut.makeRotationAxis(ot[xt],yt*xt)),at[xt].crossVectors(ot[xt],it[xt])}return{tangents:ot,normals:it,binormals:at}}clone(){return new this.constructor().copy(this)}copy(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}toJSON(){const et={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return et.arcLengthDivisions=this.arcLengthDivisions,et.type=this.type,et}fromJSON(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(et=0,tt=0,nt=1,ot=1,it=0,at=Math.PI*2,st=!1,ut=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=et,this.aY=tt,this.xRadius=nt,this.yRadius=ot,this.aStartAngle=it,this.aEndAngle=at,this.aClockwise=st,this.aRotation=ut}getPoint(et,tt){const nt=tt||new Vector2,ot=Math.PI*2;let it=this.aEndAngle-this.aStartAngle;const at=Math.abs(it)<Number.EPSILON;for(;it<0;)it+=ot;for(;it>ot;)it-=ot;it<Number.EPSILON&&(at?it=0:it=ot),this.aClockwise===!0&&!at&&(it===ot?it=-ot:it=it-ot);const st=this.aStartAngle+et*it;let ut=this.aX+this.xRadius*Math.cos(st),ft=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const ht=Math.cos(this.aRotation),mt=Math.sin(this.aRotation),gt=ut-this.aX,yt=ft-this.aY;ut=gt*ht-yt*mt+this.aX,ft=gt*mt+yt*ht+this.aY}return nt.set(ut,ft)}copy(et){return super.copy(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}toJSON(){const et=super.toJSON();return et.aX=this.aX,et.aY=this.aY,et.xRadius=this.xRadius,et.yRadius=this.yRadius,et.aStartAngle=this.aStartAngle,et.aEndAngle=this.aEndAngle,et.aClockwise=this.aClockwise,et.aRotation=this.aRotation,et}fromJSON(et){return super.fromJSON(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(et,tt,nt,ot,it,at){super(et,tt,nt,nt,ot,it,at),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let rt=0,et=0,tt=0,nt=0;function ot(it,at,st,ut){rt=it,et=st,tt=-3*it+3*at-2*st-ut,nt=2*it-2*at+st+ut}return{initCatmullRom:function(it,at,st,ut,ft){ot(at,st,ft*(st-it),ft*(ut-at))},initNonuniformCatmullRom:function(it,at,st,ut,ft,ht,mt){let gt=(at-it)/ft-(st-it)/(ft+ht)+(st-at)/ht,yt=(st-at)/ht-(ut-at)/(ht+mt)+(ut-st)/mt;gt*=ht,yt*=ht,ot(at,st,gt,yt)},calc:function(it){const at=it*it,st=at*it;return rt+et*it+tt*at+nt*st}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(et=[],tt=!1,nt="centripetal",ot=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=et,this.closed=tt,this.curveType=nt,this.tension=ot}getPoint(et,tt=new Vector3){const nt=tt,ot=this.points,it=ot.length,at=(it-(this.closed?0:1))*et;let st=Math.floor(at),ut=at-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/it)+1)*it:ut===0&&st===it-1&&(st=it-2,ut=1);let ft,ht;this.closed||st>0?ft=ot[(st-1)%it]:(tmp.subVectors(ot[0],ot[1]).add(ot[0]),ft=tmp);const mt=ot[st%it],gt=ot[(st+1)%it];if(this.closed||st+2<it?ht=ot[(st+2)%it]:(tmp.subVectors(ot[it-1],ot[it-2]).add(ot[it-1]),ht=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const yt=this.curveType==="chordal"?.5:.25;let xt=Math.pow(ft.distanceToSquared(mt),yt),St=Math.pow(mt.distanceToSquared(gt),yt),Tt=Math.pow(gt.distanceToSquared(ht),yt);St<1e-4&&(St=1),xt<1e-4&&(xt=St),Tt<1e-4&&(Tt=St),px.initNonuniformCatmullRom(ft.x,mt.x,gt.x,ht.x,xt,St,Tt),py.initNonuniformCatmullRom(ft.y,mt.y,gt.y,ht.y,xt,St,Tt),pz.initNonuniformCatmullRom(ft.z,mt.z,gt.z,ht.z,xt,St,Tt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ft.x,mt.x,gt.x,ht.x,this.tension),py.initCatmullRom(ft.y,mt.y,gt.y,ht.y,this.tension),pz.initCatmullRom(ft.z,mt.z,gt.z,ht.z,this.tension));return nt.set(px.calc(ut),py.calc(ut),pz.calc(ut)),nt}copy(et){super.copy(et),this.points=[];for(let tt=0,nt=et.points.length;tt<nt;tt++){const ot=et.points[tt];this.points.push(ot.clone())}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}toJSON(){const et=super.toJSON();et.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const ot=this.points[tt];et.points.push(ot.toArray())}return et.closed=this.closed,et.curveType=this.curveType,et.tension=this.tension,et}fromJSON(et){super.fromJSON(et),this.points=[];for(let tt=0,nt=et.points.length;tt<nt;tt++){const ot=et.points[tt];this.points.push(new Vector3().fromArray(ot))}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}}function CatmullRom(rt,et,tt,nt,ot){const it=(nt-et)*.5,at=(ot-tt)*.5,st=rt*rt,ut=rt*st;return(2*tt-2*nt+it+at)*ut+(-3*tt+3*nt-2*it-at)*st+it*rt+tt}function QuadraticBezierP0(rt,et){const tt=1-rt;return tt*tt*et}function QuadraticBezierP1(rt,et){return 2*(1-rt)*rt*et}function QuadraticBezierP2(rt,et){return rt*rt*et}function QuadraticBezier(rt,et,tt,nt){return QuadraticBezierP0(rt,et)+QuadraticBezierP1(rt,tt)+QuadraticBezierP2(rt,nt)}function CubicBezierP0(rt,et){const tt=1-rt;return tt*tt*tt*et}function CubicBezierP1(rt,et){const tt=1-rt;return 3*tt*tt*rt*et}function CubicBezierP2(rt,et){return 3*(1-rt)*rt*rt*et}function CubicBezierP3(rt,et){return rt*rt*rt*et}function CubicBezier(rt,et,tt,nt,ot){return CubicBezierP0(rt,et)+CubicBezierP1(rt,tt)+CubicBezierP2(rt,nt)+CubicBezierP3(rt,ot)}class CubicBezierCurve extends Curve{constructor(et=new Vector2,tt=new Vector2,nt=new Vector2,ot=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=et,this.v1=tt,this.v2=nt,this.v3=ot}getPoint(et,tt=new Vector2){const nt=tt,ot=this.v0,it=this.v1,at=this.v2,st=this.v3;return nt.set(CubicBezier(et,ot.x,it.x,at.x,st.x),CubicBezier(et,ot.y,it.y,at.y,st.y)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}class CubicBezierCurve3 extends Curve{constructor(et=new Vector3,tt=new Vector3,nt=new Vector3,ot=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=et,this.v1=tt,this.v2=nt,this.v3=ot}getPoint(et,tt=new Vector3){const nt=tt,ot=this.v0,it=this.v1,at=this.v2,st=this.v3;return nt.set(CubicBezier(et,ot.x,it.x,at.x,st.x),CubicBezier(et,ot.y,it.y,at.y,st.y),CubicBezier(et,ot.z,it.z,at.z,st.z)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}class LineCurve extends Curve{constructor(et=new Vector2,tt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=et,this.v2=tt}getPoint(et,tt=new Vector2){const nt=tt;return et===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(et).add(this.v1)),nt}getPointAt(et,tt){return this.getPoint(et,tt)}getTangent(et,tt=new Vector2){return tt.subVectors(this.v2,this.v1).normalize()}getTangentAt(et,tt){return this.getTangent(et,tt)}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class LineCurve3 extends Curve{constructor(et=new Vector3,tt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=et,this.v2=tt}getPoint(et,tt=new Vector3){const nt=tt;return et===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(et).add(this.v1)),nt}getPointAt(et,tt){return this.getPoint(et,tt)}getTangent(et,tt=new Vector3){return tt.subVectors(this.v2,this.v1).normalize()}getTangentAt(et,tt){return this.getTangent(et,tt)}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve extends Curve{constructor(et=new Vector2,tt=new Vector2,nt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=et,this.v1=tt,this.v2=nt}getPoint(et,tt=new Vector2){const nt=tt,ot=this.v0,it=this.v1,at=this.v2;return nt.set(QuadraticBezier(et,ot.x,it.x,at.x),QuadraticBezier(et,ot.y,it.y,at.y)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(et=new Vector3,tt=new Vector3,nt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=et,this.v1=tt,this.v2=nt}getPoint(et,tt=new Vector3){const nt=tt,ot=this.v0,it=this.v1,at=this.v2;return nt.set(QuadraticBezier(et,ot.x,it.x,at.x),QuadraticBezier(et,ot.y,it.y,at.y),QuadraticBezier(et,ot.z,it.z,at.z)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class SplineCurve extends Curve{constructor(et=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=et}getPoint(et,tt=new Vector2){const nt=tt,ot=this.points,it=(ot.length-1)*et,at=Math.floor(it),st=it-at,ut=ot[at===0?at:at-1],ft=ot[at],ht=ot[at>ot.length-2?ot.length-1:at+1],mt=ot[at>ot.length-3?ot.length-1:at+2];return nt.set(CatmullRom(st,ut.x,ft.x,ht.x,mt.x),CatmullRom(st,ut.y,ft.y,ht.y,mt.y)),nt}copy(et){super.copy(et),this.points=[];for(let tt=0,nt=et.points.length;tt<nt;tt++){const ot=et.points[tt];this.points.push(ot.clone())}return this}toJSON(){const et=super.toJSON();et.points=[];for(let tt=0,nt=this.points.length;tt<nt;tt++){const ot=this.points[tt];et.points.push(ot.toArray())}return et}fromJSON(et){super.fromJSON(et),this.points=[];for(let tt=0,nt=et.points.length;tt<nt;tt++){const ot=et.points[tt];this.points.push(new Vector2().fromArray(ot))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(et){this.curves.push(et)}closePath(){const et=this.curves[0].getPoint(0),tt=this.curves[this.curves.length-1].getPoint(1);if(!et.equals(tt)){const nt=et.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[nt](tt,et))}return this}getPoint(et,tt){const nt=et*this.getLength(),ot=this.getCurveLengths();let it=0;for(;it<ot.length;){if(ot[it]>=nt){const at=ot[it]-nt,st=this.curves[it],ut=st.getLength(),ft=ut===0?0:1-at/ut;return st.getPointAt(ft,tt)}it++}return null}getLength(){const et=this.getCurveLengths();return et[et.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const et=[];let tt=0;for(let nt=0,ot=this.curves.length;nt<ot;nt++)tt+=this.curves[nt].getLength(),et.push(tt);return this.cacheLengths=et,et}getSpacedPoints(et=40){const tt=[];for(let nt=0;nt<=et;nt++)tt.push(this.getPoint(nt/et));return this.autoClose&&tt.push(tt[0]),tt}getPoints(et=12){const tt=[];let nt;for(let ot=0,it=this.curves;ot<it.length;ot++){const at=it[ot],st=at.isEllipseCurve?et*2:at.isLineCurve||at.isLineCurve3?1:at.isSplineCurve?et*at.points.length:et,ut=at.getPoints(st);for(let ft=0;ft<ut.length;ft++){const ht=ut[ft];nt&&nt.equals(ht)||(tt.push(ht),nt=ht)}}return this.autoClose&&tt.length>1&&!tt[tt.length-1].equals(tt[0])&&tt.push(tt[0]),tt}copy(et){super.copy(et),this.curves=[];for(let tt=0,nt=et.curves.length;tt<nt;tt++){const ot=et.curves[tt];this.curves.push(ot.clone())}return this.autoClose=et.autoClose,this}toJSON(){const et=super.toJSON();et.autoClose=this.autoClose,et.curves=[];for(let tt=0,nt=this.curves.length;tt<nt;tt++){const ot=this.curves[tt];et.curves.push(ot.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.autoClose=et.autoClose,this.curves=[];for(let tt=0,nt=et.curves.length;tt<nt;tt++){const ot=et.curves[tt];this.curves.push(new Curves[ot.type]().fromJSON(ot))}return this}}class Path extends CurvePath{constructor(et){super(),this.type="Path",this.currentPoint=new Vector2,et&&this.setFromPoints(et)}setFromPoints(et){this.moveTo(et[0].x,et[0].y);for(let tt=1,nt=et.length;tt<nt;tt++)this.lineTo(et[tt].x,et[tt].y);return this}moveTo(et,tt){return this.currentPoint.set(et,tt),this}lineTo(et,tt){const nt=new LineCurve(this.currentPoint.clone(),new Vector2(et,tt));return this.curves.push(nt),this.currentPoint.set(et,tt),this}quadraticCurveTo(et,tt,nt,ot){const it=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(et,tt),new Vector2(nt,ot));return this.curves.push(it),this.currentPoint.set(nt,ot),this}bezierCurveTo(et,tt,nt,ot,it,at){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(et,tt),new Vector2(nt,ot),new Vector2(it,at));return this.curves.push(st),this.currentPoint.set(it,at),this}splineThru(et){const tt=[this.currentPoint.clone()].concat(et),nt=new SplineCurve(tt);return this.curves.push(nt),this.currentPoint.copy(et[et.length-1]),this}arc(et,tt,nt,ot,it,at){const st=this.currentPoint.x,ut=this.currentPoint.y;return this.absarc(et+st,tt+ut,nt,ot,it,at),this}absarc(et,tt,nt,ot,it,at){return this.absellipse(et,tt,nt,nt,ot,it,at),this}ellipse(et,tt,nt,ot,it,at,st,ut){const ft=this.currentPoint.x,ht=this.currentPoint.y;return this.absellipse(et+ft,tt+ht,nt,ot,it,at,st,ut),this}absellipse(et,tt,nt,ot,it,at,st,ut){const ft=new EllipseCurve(et,tt,nt,ot,it,at,st,ut);if(this.curves.length>0){const mt=ft.getPoint(0);mt.equals(this.currentPoint)||this.lineTo(mt.x,mt.y)}this.curves.push(ft);const ht=ft.getPoint(1);return this.currentPoint.copy(ht),this}copy(et){return super.copy(et),this.currentPoint.copy(et.currentPoint),this}toJSON(){const et=super.toJSON();return et.currentPoint=this.currentPoint.toArray(),et}fromJSON(et){return super.fromJSON(et),this.currentPoint.fromArray(et.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(et=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],tt=12,nt=0,ot=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:et,segments:tt,phiStart:nt,phiLength:ot},tt=Math.floor(tt),ot=clamp(ot,0,Math.PI*2);const it=[],at=[],st=[],ut=[],ft=[],ht=1/tt,mt=new Vector3,gt=new Vector2,yt=new Vector3,xt=new Vector3,St=new Vector3;let Tt=0,Mt=0;for(let Pt=0;Pt<=et.length-1;Pt++)switch(Pt){case 0:Tt=et[Pt+1].x-et[Pt].x,Mt=et[Pt+1].y-et[Pt].y,yt.x=Mt*1,yt.y=-Tt,yt.z=Mt*0,St.copy(yt),yt.normalize(),ut.push(yt.x,yt.y,yt.z);break;case et.length-1:ut.push(St.x,St.y,St.z);break;default:Tt=et[Pt+1].x-et[Pt].x,Mt=et[Pt+1].y-et[Pt].y,yt.x=Mt*1,yt.y=-Tt,yt.z=Mt*0,xt.copy(yt),yt.x+=St.x,yt.y+=St.y,yt.z+=St.z,yt.normalize(),ut.push(yt.x,yt.y,yt.z),St.copy(xt)}for(let Pt=0;Pt<=tt;Pt++){const It=nt+Pt*ht*ot,kt=Math.sin(It),Dt=Math.cos(It);for(let Nt=0;Nt<=et.length-1;Nt++){mt.x=et[Nt].x*kt,mt.y=et[Nt].y,mt.z=et[Nt].x*Dt,at.push(mt.x,mt.y,mt.z),gt.x=Pt/tt,gt.y=Nt/(et.length-1),st.push(gt.x,gt.y);const Gt=ut[3*Nt+0]*kt,Wt=ut[3*Nt+1],Ot=ut[3*Nt+0]*Dt;ft.push(Gt,Wt,Ot)}}for(let Pt=0;Pt<tt;Pt++)for(let It=0;It<et.length-1;It++){const kt=It+Pt*et.length,Dt=kt,Nt=kt+et.length,Gt=kt+et.length+1,Wt=kt+1;it.push(Dt,Nt,Wt),it.push(Gt,Wt,Nt)}this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.setAttribute("normal",new Float32BufferAttribute(ft,3))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new LatheGeometry(et.points,et.segments,et.phiStart,et.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(et=1,tt=1,nt=4,ot=8){const it=new Path;it.absarc(0,-tt/2,et,Math.PI*1.5,0),it.absarc(0,tt/2,et,0,Math.PI*.5),super(it.getPoints(nt),ot),this.type="CapsuleGeometry",this.parameters={radius:et,length:tt,capSegments:nt,radialSegments:ot}}static fromJSON(et){return new CapsuleGeometry(et.radius,et.length,et.capSegments,et.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(et=1,tt=32,nt=0,ot=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:et,segments:tt,thetaStart:nt,thetaLength:ot},tt=Math.max(3,tt);const it=[],at=[],st=[],ut=[],ft=new Vector3,ht=new Vector2;at.push(0,0,0),st.push(0,0,1),ut.push(.5,.5);for(let mt=0,gt=3;mt<=tt;mt++,gt+=3){const yt=nt+mt/tt*ot;ft.x=et*Math.cos(yt),ft.y=et*Math.sin(yt),at.push(ft.x,ft.y,ft.z),st.push(0,0,1),ht.x=(at[gt]/et+1)/2,ht.y=(at[gt+1]/et+1)/2,ut.push(ht.x,ht.y)}for(let mt=1;mt<=tt;mt++)it.push(mt,mt+1,0);this.setIndex(it),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new CircleGeometry(et.radius,et.segments,et.thetaStart,et.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(et=1,tt=1,nt=1,ot=32,it=1,at=!1,st=0,ut=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:et,radiusBottom:tt,height:nt,radialSegments:ot,heightSegments:it,openEnded:at,thetaStart:st,thetaLength:ut};const ft=this;ot=Math.floor(ot),it=Math.floor(it);const ht=[],mt=[],gt=[],yt=[];let xt=0;const St=[],Tt=nt/2;let Mt=0;Pt(),at===!1&&(et>0&&It(!0),tt>0&&It(!1)),this.setIndex(ht),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(yt,2));function Pt(){const kt=new Vector3,Dt=new Vector3;let Nt=0;const Gt=(tt-et)/nt;for(let Wt=0;Wt<=it;Wt++){const Ot=[],Xt=Wt/it,Et=Xt*(tt-et)+et;for(let lt=0;lt<=ot;lt++){const dt=lt/ot,pt=dt*ut+st,vt=Math.sin(pt),wt=Math.cos(pt);Dt.x=Et*vt,Dt.y=-Xt*nt+Tt,Dt.z=Et*wt,mt.push(Dt.x,Dt.y,Dt.z),kt.set(vt,Gt,wt).normalize(),gt.push(kt.x,kt.y,kt.z),yt.push(dt,1-Xt),Ot.push(xt++)}St.push(Ot)}for(let Wt=0;Wt<ot;Wt++)for(let Ot=0;Ot<it;Ot++){const Xt=St[Ot][Wt],Et=St[Ot+1][Wt],lt=St[Ot+1][Wt+1],dt=St[Ot][Wt+1];ht.push(Xt,Et,dt),ht.push(Et,lt,dt),Nt+=6}ft.addGroup(Mt,Nt,0),Mt+=Nt}function It(kt){const Dt=xt,Nt=new Vector2,Gt=new Vector3;let Wt=0;const Ot=kt===!0?et:tt,Xt=kt===!0?1:-1;for(let lt=1;lt<=ot;lt++)mt.push(0,Tt*Xt,0),gt.push(0,Xt,0),yt.push(.5,.5),xt++;const Et=xt;for(let lt=0;lt<=ot;lt++){const pt=lt/ot*ut+st,vt=Math.cos(pt),wt=Math.sin(pt);Gt.x=Ot*wt,Gt.y=Tt*Xt,Gt.z=Ot*vt,mt.push(Gt.x,Gt.y,Gt.z),gt.push(0,Xt,0),Nt.x=vt*.5+.5,Nt.y=wt*.5*Xt+.5,yt.push(Nt.x,Nt.y),xt++}for(let lt=0;lt<ot;lt++){const dt=Dt+lt,pt=Et+lt;kt===!0?ht.push(pt,pt+1,dt):ht.push(pt+1,pt,dt),Wt+=3}ft.addGroup(Mt,Wt,kt===!0?1:2),Mt+=Wt}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new CylinderGeometry(et.radiusTop,et.radiusBottom,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(et=1,tt=1,nt=32,ot=1,it=!1,at=0,st=Math.PI*2){super(0,et,tt,nt,ot,it,at,st),this.type="ConeGeometry",this.parameters={radius:et,height:tt,radialSegments:nt,heightSegments:ot,openEnded:it,thetaStart:at,thetaLength:st}}static fromJSON(et){return new ConeGeometry(et.radius,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(et=[],tt=[],nt=1,ot=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:et,indices:tt,radius:nt,detail:ot};const it=[],at=[];st(ot),ft(nt),ht(),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(it.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(at,2)),ot===0?this.computeVertexNormals():this.normalizeNormals();function st(Pt){const It=new Vector3,kt=new Vector3,Dt=new Vector3;for(let Nt=0;Nt<tt.length;Nt+=3)yt(tt[Nt+0],It),yt(tt[Nt+1],kt),yt(tt[Nt+2],Dt),ut(It,kt,Dt,Pt)}function ut(Pt,It,kt,Dt){const Nt=Dt+1,Gt=[];for(let Wt=0;Wt<=Nt;Wt++){Gt[Wt]=[];const Ot=Pt.clone().lerp(kt,Wt/Nt),Xt=It.clone().lerp(kt,Wt/Nt),Et=Nt-Wt;for(let lt=0;lt<=Et;lt++)lt===0&&Wt===Nt?Gt[Wt][lt]=Ot:Gt[Wt][lt]=Ot.clone().lerp(Xt,lt/Et)}for(let Wt=0;Wt<Nt;Wt++)for(let Ot=0;Ot<2*(Nt-Wt)-1;Ot++){const Xt=Math.floor(Ot/2);Ot%2===0?(gt(Gt[Wt][Xt+1]),gt(Gt[Wt+1][Xt]),gt(Gt[Wt][Xt])):(gt(Gt[Wt][Xt+1]),gt(Gt[Wt+1][Xt+1]),gt(Gt[Wt+1][Xt]))}}function ft(Pt){const It=new Vector3;for(let kt=0;kt<it.length;kt+=3)It.x=it[kt+0],It.y=it[kt+1],It.z=it[kt+2],It.normalize().multiplyScalar(Pt),it[kt+0]=It.x,it[kt+1]=It.y,it[kt+2]=It.z}function ht(){const Pt=new Vector3;for(let It=0;It<it.length;It+=3){Pt.x=it[It+0],Pt.y=it[It+1],Pt.z=it[It+2];const kt=Tt(Pt)/2/Math.PI+.5,Dt=Mt(Pt)/Math.PI+.5;at.push(kt,1-Dt)}xt(),mt()}function mt(){for(let Pt=0;Pt<at.length;Pt+=6){const It=at[Pt+0],kt=at[Pt+2],Dt=at[Pt+4],Nt=Math.max(It,kt,Dt),Gt=Math.min(It,kt,Dt);Nt>.9&&Gt<.1&&(It<.2&&(at[Pt+0]+=1),kt<.2&&(at[Pt+2]+=1),Dt<.2&&(at[Pt+4]+=1))}}function gt(Pt){it.push(Pt.x,Pt.y,Pt.z)}function yt(Pt,It){const kt=Pt*3;It.x=et[kt+0],It.y=et[kt+1],It.z=et[kt+2]}function xt(){const Pt=new Vector3,It=new Vector3,kt=new Vector3,Dt=new Vector3,Nt=new Vector2,Gt=new Vector2,Wt=new Vector2;for(let Ot=0,Xt=0;Ot<it.length;Ot+=9,Xt+=6){Pt.set(it[Ot+0],it[Ot+1],it[Ot+2]),It.set(it[Ot+3],it[Ot+4],it[Ot+5]),kt.set(it[Ot+6],it[Ot+7],it[Ot+8]),Nt.set(at[Xt+0],at[Xt+1]),Gt.set(at[Xt+2],at[Xt+3]),Wt.set(at[Xt+4],at[Xt+5]),Dt.copy(Pt).add(It).add(kt).divideScalar(3);const Et=Tt(Dt);St(Nt,Xt+0,Pt,Et),St(Gt,Xt+2,It,Et),St(Wt,Xt+4,kt,Et)}}function St(Pt,It,kt,Dt){Dt<0&&Pt.x===1&&(at[It]=Pt.x-1),kt.x===0&&kt.z===0&&(at[It]=Dt/2/Math.PI+.5)}function Tt(Pt){return Math.atan2(Pt.z,-Pt.x)}function Mt(Pt){return Math.atan2(-Pt.y,Math.sqrt(Pt.x*Pt.x+Pt.z*Pt.z))}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new PolyhedronGeometry(et.vertices,et.indices,et.radius,et.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(et=1,tt=0){const nt=(1+Math.sqrt(5))/2,ot=1/nt,it=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-ot,-nt,0,-ot,nt,0,ot,-nt,0,ot,nt,-ot,-nt,0,-ot,nt,0,ot,-nt,0,ot,nt,0,-nt,0,-ot,nt,0,-ot,-nt,0,ot,nt,0,ot],at=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(it,at,et,tt),this.type="DodecahedronGeometry",this.parameters={radius:et,detail:tt}}static fromJSON(et){return new DodecahedronGeometry(et.radius,et.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(et=null,tt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:et,thresholdAngle:tt},et!==null){const ot=Math.pow(10,4),it=Math.cos(DEG2RAD*tt),at=et.getIndex(),st=et.getAttribute("position"),ut=at?at.count:st.count,ft=[0,0,0],ht=["a","b","c"],mt=new Array(3),gt={},yt=[];for(let xt=0;xt<ut;xt+=3){at?(ft[0]=at.getX(xt),ft[1]=at.getX(xt+1),ft[2]=at.getX(xt+2)):(ft[0]=xt,ft[1]=xt+1,ft[2]=xt+2);const{a:St,b:Tt,c:Mt}=_triangle;if(St.fromBufferAttribute(st,ft[0]),Tt.fromBufferAttribute(st,ft[1]),Mt.fromBufferAttribute(st,ft[2]),_triangle.getNormal(_normal),mt[0]=`${Math.round(St.x*ot)},${Math.round(St.y*ot)},${Math.round(St.z*ot)}`,mt[1]=`${Math.round(Tt.x*ot)},${Math.round(Tt.y*ot)},${Math.round(Tt.z*ot)}`,mt[2]=`${Math.round(Mt.x*ot)},${Math.round(Mt.y*ot)},${Math.round(Mt.z*ot)}`,!(mt[0]===mt[1]||mt[1]===mt[2]||mt[2]===mt[0]))for(let Pt=0;Pt<3;Pt++){const It=(Pt+1)%3,kt=mt[Pt],Dt=mt[It],Nt=_triangle[ht[Pt]],Gt=_triangle[ht[It]],Wt=`${kt}_${Dt}`,Ot=`${Dt}_${kt}`;Ot in gt&&gt[Ot]?(_normal.dot(gt[Ot].normal)<=it&&(yt.push(Nt.x,Nt.y,Nt.z),yt.push(Gt.x,Gt.y,Gt.z)),gt[Ot]=null):Wt in gt||(gt[Wt]={index0:ft[Pt],index1:ft[It],normal:_normal.clone()})}}for(const xt in gt)if(gt[xt]){const{index0:St,index1:Tt}=gt[xt];_v0.fromBufferAttribute(st,St),_v1$1.fromBufferAttribute(st,Tt),yt.push(_v0.x,_v0.y,_v0.z),yt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(yt,3))}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}}class Shape extends Path{constructor(et){super(et),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(et){const tt=[];for(let nt=0,ot=this.holes.length;nt<ot;nt++)tt[nt]=this.holes[nt].getPoints(et);return tt}extractPoints(et){return{shape:this.getPoints(et),holes:this.getPointsHoles(et)}}copy(et){super.copy(et),this.holes=[];for(let tt=0,nt=et.holes.length;tt<nt;tt++){const ot=et.holes[tt];this.holes.push(ot.clone())}return this}toJSON(){const et=super.toJSON();et.uuid=this.uuid,et.holes=[];for(let tt=0,nt=this.holes.length;tt<nt;tt++){const ot=this.holes[tt];et.holes.push(ot.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.uuid=et.uuid,this.holes=[];for(let tt=0,nt=et.holes.length;tt<nt;tt++){const ot=et.holes[tt];this.holes.push(new Path().fromJSON(ot))}return this}}const Earcut={triangulate:function(rt,et,tt=2){const nt=et&&et.length,ot=nt?et[0]*tt:rt.length;let it=linkedList(rt,0,ot,tt,!0);const at=[];if(!it||it.next===it.prev)return at;let st,ut,ft,ht,mt,gt,yt;if(nt&&(it=eliminateHoles(rt,et,it,tt)),rt.length>80*tt){st=ft=rt[0],ut=ht=rt[1];for(let xt=tt;xt<ot;xt+=tt)mt=rt[xt],gt=rt[xt+1],mt<st&&(st=mt),gt<ut&&(ut=gt),mt>ft&&(ft=mt),gt>ht&&(ht=gt);yt=Math.max(ft-st,ht-ut),yt=yt!==0?32767/yt:0}return earcutLinked(it,at,tt,st,ut,yt,0),at}};function linkedList(rt,et,tt,nt,ot){let it,at;if(ot===signedArea(rt,et,tt,nt)>0)for(it=et;it<tt;it+=nt)at=insertNode(it,rt[it],rt[it+1],at);else for(it=tt-nt;it>=et;it-=nt)at=insertNode(it,rt[it],rt[it+1],at);return at&&equals(at,at.next)&&(removeNode(at),at=at.next),at}function filterPoints(rt,et){if(!rt)return rt;et||(et=rt);let tt=rt,nt;do if(nt=!1,!tt.steiner&&(equals(tt,tt.next)||area(tt.prev,tt,tt.next)===0)){if(removeNode(tt),tt=et=tt.prev,tt===tt.next)break;nt=!0}else tt=tt.next;while(nt||tt!==et);return et}function earcutLinked(rt,et,tt,nt,ot,it,at){if(!rt)return;!at&&it&&indexCurve(rt,nt,ot,it);let st=rt,ut,ft;for(;rt.prev!==rt.next;){if(ut=rt.prev,ft=rt.next,it?isEarHashed(rt,nt,ot,it):isEar(rt)){et.push(ut.i/tt|0),et.push(rt.i/tt|0),et.push(ft.i/tt|0),removeNode(rt),rt=ft.next,st=ft.next;continue}if(rt=ft,rt===st){at?at===1?(rt=cureLocalIntersections(filterPoints(rt),et,tt),earcutLinked(rt,et,tt,nt,ot,it,2)):at===2&&splitEarcut(rt,et,tt,nt,ot,it):earcutLinked(filterPoints(rt),et,tt,nt,ot,it,1);break}}}function isEar(rt){const et=rt.prev,tt=rt,nt=rt.next;if(area(et,tt,nt)>=0)return!1;const ot=et.x,it=tt.x,at=nt.x,st=et.y,ut=tt.y,ft=nt.y,ht=ot<it?ot<at?ot:at:it<at?it:at,mt=st<ut?st<ft?st:ft:ut<ft?ut:ft,gt=ot>it?ot>at?ot:at:it>at?it:at,yt=st>ut?st>ft?st:ft:ut>ft?ut:ft;let xt=nt.next;for(;xt!==et;){if(xt.x>=ht&&xt.x<=gt&&xt.y>=mt&&xt.y<=yt&&pointInTriangle(ot,st,it,ut,at,ft,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0)return!1;xt=xt.next}return!0}function isEarHashed(rt,et,tt,nt){const ot=rt.prev,it=rt,at=rt.next;if(area(ot,it,at)>=0)return!1;const st=ot.x,ut=it.x,ft=at.x,ht=ot.y,mt=it.y,gt=at.y,yt=st<ut?st<ft?st:ft:ut<ft?ut:ft,xt=ht<mt?ht<gt?ht:gt:mt<gt?mt:gt,St=st>ut?st>ft?st:ft:ut>ft?ut:ft,Tt=ht>mt?ht>gt?ht:gt:mt>gt?mt:gt,Mt=zOrder(yt,xt,et,tt,nt),Pt=zOrder(St,Tt,et,tt,nt);let It=rt.prevZ,kt=rt.nextZ;for(;It&&It.z>=Mt&&kt&&kt.z<=Pt;){if(It.x>=yt&&It.x<=St&&It.y>=xt&&It.y<=Tt&&It!==ot&&It!==at&&pointInTriangle(st,ht,ut,mt,ft,gt,It.x,It.y)&&area(It.prev,It,It.next)>=0||(It=It.prevZ,kt.x>=yt&&kt.x<=St&&kt.y>=xt&&kt.y<=Tt&&kt!==ot&&kt!==at&&pointInTriangle(st,ht,ut,mt,ft,gt,kt.x,kt.y)&&area(kt.prev,kt,kt.next)>=0))return!1;kt=kt.nextZ}for(;It&&It.z>=Mt;){if(It.x>=yt&&It.x<=St&&It.y>=xt&&It.y<=Tt&&It!==ot&&It!==at&&pointInTriangle(st,ht,ut,mt,ft,gt,It.x,It.y)&&area(It.prev,It,It.next)>=0)return!1;It=It.prevZ}for(;kt&&kt.z<=Pt;){if(kt.x>=yt&&kt.x<=St&&kt.y>=xt&&kt.y<=Tt&&kt!==ot&&kt!==at&&pointInTriangle(st,ht,ut,mt,ft,gt,kt.x,kt.y)&&area(kt.prev,kt,kt.next)>=0)return!1;kt=kt.nextZ}return!0}function cureLocalIntersections(rt,et,tt){let nt=rt;do{const ot=nt.prev,it=nt.next.next;!equals(ot,it)&&intersects(ot,nt,nt.next,it)&&locallyInside(ot,it)&&locallyInside(it,ot)&&(et.push(ot.i/tt|0),et.push(nt.i/tt|0),et.push(it.i/tt|0),removeNode(nt),removeNode(nt.next),nt=rt=it),nt=nt.next}while(nt!==rt);return filterPoints(nt)}function splitEarcut(rt,et,tt,nt,ot,it){let at=rt;do{let st=at.next.next;for(;st!==at.prev;){if(at.i!==st.i&&isValidDiagonal(at,st)){let ut=splitPolygon(at,st);at=filterPoints(at,at.next),ut=filterPoints(ut,ut.next),earcutLinked(at,et,tt,nt,ot,it,0),earcutLinked(ut,et,tt,nt,ot,it,0);return}st=st.next}at=at.next}while(at!==rt)}function eliminateHoles(rt,et,tt,nt){const ot=[];let it,at,st,ut,ft;for(it=0,at=et.length;it<at;it++)st=et[it]*nt,ut=it<at-1?et[it+1]*nt:rt.length,ft=linkedList(rt,st,ut,nt,!1),ft===ft.next&&(ft.steiner=!0),ot.push(getLeftmost(ft));for(ot.sort(compareX),it=0;it<ot.length;it++)tt=eliminateHole(ot[it],tt);return tt}function compareX(rt,et){return rt.x-et.x}function eliminateHole(rt,et){const tt=findHoleBridge(rt,et);if(!tt)return et;const nt=splitPolygon(tt,rt);return filterPoints(nt,nt.next),filterPoints(tt,tt.next)}function findHoleBridge(rt,et){let tt=et,nt=-1/0,ot;const it=rt.x,at=rt.y;do{if(at<=tt.y&&at>=tt.next.y&&tt.next.y!==tt.y){const gt=tt.x+(at-tt.y)*(tt.next.x-tt.x)/(tt.next.y-tt.y);if(gt<=it&&gt>nt&&(nt=gt,ot=tt.x<tt.next.x?tt:tt.next,gt===it))return ot}tt=tt.next}while(tt!==et);if(!ot)return null;const st=ot,ut=ot.x,ft=ot.y;let ht=1/0,mt;tt=ot;do it>=tt.x&&tt.x>=ut&&it!==tt.x&&pointInTriangle(at<ft?it:nt,at,ut,ft,at<ft?nt:it,at,tt.x,tt.y)&&(mt=Math.abs(at-tt.y)/(it-tt.x),locallyInside(tt,rt)&&(mt<ht||mt===ht&&(tt.x>ot.x||tt.x===ot.x&&sectorContainsSector(ot,tt)))&&(ot=tt,ht=mt)),tt=tt.next;while(tt!==st);return ot}function sectorContainsSector(rt,et){return area(rt.prev,rt,et.prev)<0&&area(et.next,rt,rt.next)<0}function indexCurve(rt,et,tt,nt){let ot=rt;do ot.z===0&&(ot.z=zOrder(ot.x,ot.y,et,tt,nt)),ot.prevZ=ot.prev,ot.nextZ=ot.next,ot=ot.next;while(ot!==rt);ot.prevZ.nextZ=null,ot.prevZ=null,sortLinked(ot)}function sortLinked(rt){let et,tt,nt,ot,it,at,st,ut,ft=1;do{for(tt=rt,rt=null,it=null,at=0;tt;){for(at++,nt=tt,st=0,et=0;et<ft&&(st++,nt=nt.nextZ,!!nt);et++);for(ut=ft;st>0||ut>0&&nt;)st!==0&&(ut===0||!nt||tt.z<=nt.z)?(ot=tt,tt=tt.nextZ,st--):(ot=nt,nt=nt.nextZ,ut--),it?it.nextZ=ot:rt=ot,ot.prevZ=it,it=ot;tt=nt}it.nextZ=null,ft*=2}while(at>1);return rt}function zOrder(rt,et,tt,nt,ot){return rt=(rt-tt)*ot|0,et=(et-nt)*ot|0,rt=(rt|rt<<8)&16711935,rt=(rt|rt<<4)&252645135,rt=(rt|rt<<2)&858993459,rt=(rt|rt<<1)&1431655765,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,rt|et<<1}function getLeftmost(rt){let et=rt,tt=rt;do(et.x<tt.x||et.x===tt.x&&et.y<tt.y)&&(tt=et),et=et.next;while(et!==rt);return tt}function pointInTriangle(rt,et,tt,nt,ot,it,at,st){return(ot-at)*(et-st)>=(rt-at)*(it-st)&&(rt-at)*(nt-st)>=(tt-at)*(et-st)&&(tt-at)*(it-st)>=(ot-at)*(nt-st)}function isValidDiagonal(rt,et){return rt.next.i!==et.i&&rt.prev.i!==et.i&&!intersectsPolygon(rt,et)&&(locallyInside(rt,et)&&locallyInside(et,rt)&&middleInside(rt,et)&&(area(rt.prev,rt,et.prev)||area(rt,et.prev,et))||equals(rt,et)&&area(rt.prev,rt,rt.next)>0&&area(et.prev,et,et.next)>0)}function area(rt,et,tt){return(et.y-rt.y)*(tt.x-et.x)-(et.x-rt.x)*(tt.y-et.y)}function equals(rt,et){return rt.x===et.x&&rt.y===et.y}function intersects(rt,et,tt,nt){const ot=sign(area(rt,et,tt)),it=sign(area(rt,et,nt)),at=sign(area(tt,nt,rt)),st=sign(area(tt,nt,et));return!!(ot!==it&&at!==st||ot===0&&onSegment(rt,tt,et)||it===0&&onSegment(rt,nt,et)||at===0&&onSegment(tt,rt,nt)||st===0&&onSegment(tt,et,nt))}function onSegment(rt,et,tt){return et.x<=Math.max(rt.x,tt.x)&&et.x>=Math.min(rt.x,tt.x)&&et.y<=Math.max(rt.y,tt.y)&&et.y>=Math.min(rt.y,tt.y)}function sign(rt){return rt>0?1:rt<0?-1:0}function intersectsPolygon(rt,et){let tt=rt;do{if(tt.i!==rt.i&&tt.next.i!==rt.i&&tt.i!==et.i&&tt.next.i!==et.i&&intersects(tt,tt.next,rt,et))return!0;tt=tt.next}while(tt!==rt);return!1}function locallyInside(rt,et){return area(rt.prev,rt,rt.next)<0?area(rt,et,rt.next)>=0&&area(rt,rt.prev,et)>=0:area(rt,et,rt.prev)<0||area(rt,rt.next,et)<0}function middleInside(rt,et){let tt=rt,nt=!1;const ot=(rt.x+et.x)/2,it=(rt.y+et.y)/2;do tt.y>it!=tt.next.y>it&&tt.next.y!==tt.y&&ot<(tt.next.x-tt.x)*(it-tt.y)/(tt.next.y-tt.y)+tt.x&&(nt=!nt),tt=tt.next;while(tt!==rt);return nt}function splitPolygon(rt,et){const tt=new Node$1(rt.i,rt.x,rt.y),nt=new Node$1(et.i,et.x,et.y),ot=rt.next,it=et.prev;return rt.next=et,et.prev=rt,tt.next=ot,ot.prev=tt,nt.next=tt,tt.prev=nt,it.next=nt,nt.prev=it,nt}function insertNode(rt,et,tt,nt){const ot=new Node$1(rt,et,tt);return nt?(ot.next=nt.next,ot.prev=nt,nt.next.prev=ot,nt.next=ot):(ot.prev=ot,ot.next=ot),ot}function removeNode(rt){rt.next.prev=rt.prev,rt.prev.next=rt.next,rt.prevZ&&(rt.prevZ.nextZ=rt.nextZ),rt.nextZ&&(rt.nextZ.prevZ=rt.prevZ)}function Node$1(rt,et,tt){this.i=rt,this.x=et,this.y=tt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(rt,et,tt,nt){let ot=0;for(let it=et,at=tt-nt;it<tt;it+=nt)ot+=(rt[at]-rt[it])*(rt[it+1]+rt[at+1]),at=it;return ot}class ShapeUtils{static area(et){const tt=et.length;let nt=0;for(let ot=tt-1,it=0;it<tt;ot=it++)nt+=et[ot].x*et[it].y-et[it].x*et[ot].y;return nt*.5}static isClockWise(et){return ShapeUtils.area(et)<0}static triangulateShape(et,tt){const nt=[],ot=[],it=[];removeDupEndPts(et),addContour(nt,et);let at=et.length;tt.forEach(removeDupEndPts);for(let ut=0;ut<tt.length;ut++)ot.push(at),at+=tt[ut].length,addContour(nt,tt[ut]);const st=Earcut.triangulate(nt,ot);for(let ut=0;ut<st.length;ut+=3)it.push(st.slice(ut,ut+3));return it}}function removeDupEndPts(rt){const et=rt.length;et>2&&rt[et-1].equals(rt[0])&&rt.pop()}function addContour(rt,et){for(let tt=0;tt<et.length;tt++)rt.push(et[tt].x),rt.push(et[tt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:et,options:tt},et=Array.isArray(et)?et:[et];const nt=this,ot=[],it=[];for(let st=0,ut=et.length;st<ut;st++){const ft=et[st];at(ft)}this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(it,2)),this.computeVertexNormals();function at(st){const ut=[],ft=tt.curveSegments!==void 0?tt.curveSegments:12,ht=tt.steps!==void 0?tt.steps:1,mt=tt.depth!==void 0?tt.depth:1;let gt=tt.bevelEnabled!==void 0?tt.bevelEnabled:!0,yt=tt.bevelThickness!==void 0?tt.bevelThickness:.2,xt=tt.bevelSize!==void 0?tt.bevelSize:yt-.1,St=tt.bevelOffset!==void 0?tt.bevelOffset:0,Tt=tt.bevelSegments!==void 0?tt.bevelSegments:3;const Mt=tt.extrudePath,Pt=tt.UVGenerator!==void 0?tt.UVGenerator:WorldUVGenerator;let It,kt=!1,Dt,Nt,Gt,Wt;Mt&&(It=Mt.getSpacedPoints(ht),kt=!0,gt=!1,Dt=Mt.computeFrenetFrames(ht,!1),Nt=new Vector3,Gt=new Vector3,Wt=new Vector3),gt||(Tt=0,yt=0,xt=0,St=0);const Ot=st.extractPoints(ft);let Xt=Ot.shape;const Et=Ot.holes;if(!ShapeUtils.isClockWise(Xt)){Xt=Xt.reverse();for(let $t=0,ar=Et.length;$t<ar;$t++){const wr=Et[$t];ShapeUtils.isClockWise(wr)&&(Et[$t]=wr.reverse())}}const dt=ShapeUtils.triangulateShape(Xt,Et),pt=Xt;for(let $t=0,ar=Et.length;$t<ar;$t++){const wr=Et[$t];Xt=Xt.concat(wr)}function vt($t,ar,wr){return ar||console.error("THREE.ExtrudeGeometry: vec does not exist"),$t.clone().addScaledVector(ar,wr)}const wt=Xt.length,At=dt.length;function Rt($t,ar,wr){let vr,Qt,Yt;const Ht=$t.x-ar.x,tr=$t.y-ar.y,br=wr.x-$t.x,gr=wr.y-$t.y,Sr=Ht*Ht+tr*tr,pr=Ht*gr-tr*br;if(Math.abs(pr)>Number.EPSILON){const er=Math.sqrt(Sr),yr=Math.sqrt(br*br+gr*gr),Gr=ar.x-tr/er,Mr=ar.y+Ht/er,Ar=wr.x-gr/yr,an=wr.y+br/yr,Br=((Ar-Gr)*gr-(an-Mr)*br)/(Ht*gr-tr*br);vr=Gr+Ht*Br-$t.x,Qt=Mr+tr*Br-$t.y;const Dr=vr*vr+Qt*Qt;if(Dr<=2)return new Vector2(vr,Qt);Yt=Math.sqrt(Dr/2)}else{let er=!1;Ht>Number.EPSILON?br>Number.EPSILON&&(er=!0):Ht<-Number.EPSILON?br<-Number.EPSILON&&(er=!0):Math.sign(tr)===Math.sign(gr)&&(er=!0),er?(vr=-tr,Qt=Ht,Yt=Math.sqrt(Sr)):(vr=Ht,Qt=tr,Yt=Math.sqrt(Sr/2))}return new Vector2(vr/Yt,Qt/Yt)}const bt=[];for(let $t=0,ar=pt.length,wr=ar-1,vr=$t+1;$t<ar;$t++,wr++,vr++)wr===ar&&(wr=0),vr===ar&&(vr=0),bt[$t]=Rt(pt[$t],pt[wr],pt[vr]);const ct=[];let _t,Lt=bt.concat();for(let $t=0,ar=Et.length;$t<ar;$t++){const wr=Et[$t];_t=[];for(let vr=0,Qt=wr.length,Yt=Qt-1,Ht=vr+1;vr<Qt;vr++,Yt++,Ht++)Yt===Qt&&(Yt=0),Ht===Qt&&(Ht=0),_t[vr]=Rt(wr[vr],wr[Yt],wr[Ht]);ct.push(_t),Lt=Lt.concat(_t)}for(let $t=0;$t<Tt;$t++){const ar=$t/Tt,wr=yt*Math.cos(ar*Math.PI/2),vr=xt*Math.sin(ar*Math.PI/2)+St;for(let Qt=0,Yt=pt.length;Qt<Yt;Qt++){const Ht=vt(pt[Qt],bt[Qt],vr);zt(Ht.x,Ht.y,-wr)}for(let Qt=0,Yt=Et.length;Qt<Yt;Qt++){const Ht=Et[Qt];_t=ct[Qt];for(let tr=0,br=Ht.length;tr<br;tr++){const gr=vt(Ht[tr],_t[tr],vr);zt(gr.x,gr.y,-wr)}}}const Ft=xt+St;for(let $t=0;$t<wt;$t++){const ar=gt?vt(Xt[$t],Lt[$t],Ft):Xt[$t];kt?(Gt.copy(Dt.normals[0]).multiplyScalar(ar.x),Nt.copy(Dt.binormals[0]).multiplyScalar(ar.y),Wt.copy(It[0]).add(Gt).add(Nt),zt(Wt.x,Wt.y,Wt.z)):zt(ar.x,ar.y,0)}for(let $t=1;$t<=ht;$t++)for(let ar=0;ar<wt;ar++){const wr=gt?vt(Xt[ar],Lt[ar],Ft):Xt[ar];kt?(Gt.copy(Dt.normals[$t]).multiplyScalar(wr.x),Nt.copy(Dt.binormals[$t]).multiplyScalar(wr.y),Wt.copy(It[$t]).add(Gt).add(Nt),zt(Wt.x,Wt.y,Wt.z)):zt(wr.x,wr.y,mt/ht*$t)}for(let $t=Tt-1;$t>=0;$t--){const ar=$t/Tt,wr=yt*Math.cos(ar*Math.PI/2),vr=xt*Math.sin(ar*Math.PI/2)+St;for(let Qt=0,Yt=pt.length;Qt<Yt;Qt++){const Ht=vt(pt[Qt],bt[Qt],vr);zt(Ht.x,Ht.y,mt+wr)}for(let Qt=0,Yt=Et.length;Qt<Yt;Qt++){const Ht=Et[Qt];_t=ct[Qt];for(let tr=0,br=Ht.length;tr<br;tr++){const gr=vt(Ht[tr],_t[tr],vr);kt?zt(gr.x,gr.y+It[ht-1].y,It[ht-1].x+wr):zt(gr.x,gr.y,mt+wr)}}}jt(),Zt();function jt(){const $t=ot.length/3;if(gt){let ar=0,wr=wt*ar;for(let vr=0;vr<At;vr++){const Qt=dt[vr];Vt(Qt[2]+wr,Qt[1]+wr,Qt[0]+wr)}ar=ht+Tt*2,wr=wt*ar;for(let vr=0;vr<At;vr++){const Qt=dt[vr];Vt(Qt[0]+wr,Qt[1]+wr,Qt[2]+wr)}}else{for(let ar=0;ar<At;ar++){const wr=dt[ar];Vt(wr[2],wr[1],wr[0])}for(let ar=0;ar<At;ar++){const wr=dt[ar];Vt(wr[0]+wt*ht,wr[1]+wt*ht,wr[2]+wt*ht)}}nt.addGroup($t,ot.length/3-$t,0)}function Zt(){const $t=ot.length/3;let ar=0;Kt(pt,ar),ar+=pt.length;for(let wr=0,vr=Et.length;wr<vr;wr++){const Qt=Et[wr];Kt(Qt,ar),ar+=Qt.length}nt.addGroup($t,ot.length/3-$t,1)}function Kt($t,ar){let wr=$t.length;for(;--wr>=0;){const vr=wr;let Qt=wr-1;Qt<0&&(Qt=$t.length-1);for(let Yt=0,Ht=ht+Tt*2;Yt<Ht;Yt++){const tr=wt*Yt,br=wt*(Yt+1),gr=ar+vr+tr,Sr=ar+Qt+tr,pr=ar+Qt+br,er=ar+vr+br;nr(gr,Sr,pr,er)}}}function zt($t,ar,wr){ut.push($t),ut.push(ar),ut.push(wr)}function Vt($t,ar,wr){or($t),or(ar),or(wr);const vr=ot.length/3,Qt=Pt.generateTopUV(nt,ot,vr-3,vr-2,vr-1);rr(Qt[0]),rr(Qt[1]),rr(Qt[2])}function nr($t,ar,wr,vr){or($t),or(ar),or(vr),or(ar),or(wr),or(vr);const Qt=ot.length/3,Yt=Pt.generateSideWallUV(nt,ot,Qt-6,Qt-3,Qt-2,Qt-1);rr(Yt[0]),rr(Yt[1]),rr(Yt[3]),rr(Yt[1]),rr(Yt[2]),rr(Yt[3])}function or($t){ot.push(ut[$t*3+0]),ot.push(ut[$t*3+1]),ot.push(ut[$t*3+2])}function rr($t){it.push($t.x),it.push($t.y)}}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}toJSON(){const et=super.toJSON(),tt=this.parameters.shapes,nt=this.parameters.options;return toJSON$1(tt,nt,et)}static fromJSON(et,tt){const nt=[];for(let it=0,at=et.shapes.length;it<at;it++){const st=tt[et.shapes[it]];nt.push(st)}const ot=et.options.extrudePath;return ot!==void 0&&(et.options.extrudePath=new Curves[ot.type]().fromJSON(ot)),new ExtrudeGeometry(nt,et.options)}}const WorldUVGenerator={generateTopUV:function(rt,et,tt,nt,ot){const it=et[tt*3],at=et[tt*3+1],st=et[nt*3],ut=et[nt*3+1],ft=et[ot*3],ht=et[ot*3+1];return[new Vector2(it,at),new Vector2(st,ut),new Vector2(ft,ht)]},generateSideWallUV:function(rt,et,tt,nt,ot,it){const at=et[tt*3],st=et[tt*3+1],ut=et[tt*3+2],ft=et[nt*3],ht=et[nt*3+1],mt=et[nt*3+2],gt=et[ot*3],yt=et[ot*3+1],xt=et[ot*3+2],St=et[it*3],Tt=et[it*3+1],Mt=et[it*3+2];return Math.abs(st-ht)<Math.abs(at-ft)?[new Vector2(at,1-ut),new Vector2(ft,1-mt),new Vector2(gt,1-xt),new Vector2(St,1-Mt)]:[new Vector2(st,1-ut),new Vector2(ht,1-mt),new Vector2(yt,1-xt),new Vector2(Tt,1-Mt)]}};function toJSON$1(rt,et,tt){if(tt.shapes=[],Array.isArray(rt))for(let nt=0,ot=rt.length;nt<ot;nt++){const it=rt[nt];tt.shapes.push(it.uuid)}else tt.shapes.push(rt.uuid);return tt.options=Object.assign({},et),et.extrudePath!==void 0&&(tt.options.extrudePath=et.extrudePath.toJSON()),tt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(et=1,tt=0){const nt=(1+Math.sqrt(5))/2,ot=[-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,0,0,-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,nt,0,-1,nt,0,1,-nt,0,-1,-nt,0,1],it=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(ot,it,et,tt),this.type="IcosahedronGeometry",this.parameters={radius:et,detail:tt}}static fromJSON(et){return new IcosahedronGeometry(et.radius,et.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(et=1,tt=0){const nt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],ot=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(nt,ot,et,tt),this.type="OctahedronGeometry",this.parameters={radius:et,detail:tt}}static fromJSON(et){return new OctahedronGeometry(et.radius,et.detail)}}class RingGeometry extends BufferGeometry{constructor(et=.5,tt=1,nt=32,ot=1,it=0,at=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:et,outerRadius:tt,thetaSegments:nt,phiSegments:ot,thetaStart:it,thetaLength:at},nt=Math.max(3,nt),ot=Math.max(1,ot);const st=[],ut=[],ft=[],ht=[];let mt=et;const gt=(tt-et)/ot,yt=new Vector3,xt=new Vector2;for(let St=0;St<=ot;St++){for(let Tt=0;Tt<=nt;Tt++){const Mt=it+Tt/nt*at;yt.x=mt*Math.cos(Mt),yt.y=mt*Math.sin(Mt),ut.push(yt.x,yt.y,yt.z),ft.push(0,0,1),xt.x=(yt.x/tt+1)/2,xt.y=(yt.y/tt+1)/2,ht.push(xt.x,xt.y)}mt+=gt}for(let St=0;St<ot;St++){const Tt=St*(nt+1);for(let Mt=0;Mt<nt;Mt++){const Pt=Mt+Tt,It=Pt,kt=Pt+nt+1,Dt=Pt+nt+2,Nt=Pt+1;st.push(It,kt,Nt),st.push(kt,Dt,Nt)}}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new RingGeometry(et.innerRadius,et.outerRadius,et.thetaSegments,et.phiSegments,et.thetaStart,et.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),tt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:et,curveSegments:tt};const nt=[],ot=[],it=[],at=[];let st=0,ut=0;if(Array.isArray(et)===!1)ft(et);else for(let ht=0;ht<et.length;ht++)ft(et[ht]),this.addGroup(st,ut,ht),st+=ut,ut=0;this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2));function ft(ht){const mt=ot.length/3,gt=ht.extractPoints(tt);let yt=gt.shape;const xt=gt.holes;ShapeUtils.isClockWise(yt)===!1&&(yt=yt.reverse());for(let Tt=0,Mt=xt.length;Tt<Mt;Tt++){const Pt=xt[Tt];ShapeUtils.isClockWise(Pt)===!0&&(xt[Tt]=Pt.reverse())}const St=ShapeUtils.triangulateShape(yt,xt);for(let Tt=0,Mt=xt.length;Tt<Mt;Tt++){const Pt=xt[Tt];yt=yt.concat(Pt)}for(let Tt=0,Mt=yt.length;Tt<Mt;Tt++){const Pt=yt[Tt];ot.push(Pt.x,Pt.y,0),it.push(0,0,1),at.push(Pt.x,Pt.y)}for(let Tt=0,Mt=St.length;Tt<Mt;Tt++){const Pt=St[Tt],It=Pt[0]+mt,kt=Pt[1]+mt,Dt=Pt[2]+mt;nt.push(It,kt,Dt),ut+=3}}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}toJSON(){const et=super.toJSON(),tt=this.parameters.shapes;return toJSON(tt,et)}static fromJSON(et,tt){const nt=[];for(let ot=0,it=et.shapes.length;ot<it;ot++){const at=tt[et.shapes[ot]];nt.push(at)}return new ShapeGeometry(nt,et.curveSegments)}}function toJSON(rt,et){if(et.shapes=[],Array.isArray(rt))for(let tt=0,nt=rt.length;tt<nt;tt++){const ot=rt[tt];et.shapes.push(ot.uuid)}else et.shapes.push(rt.uuid);return et}class SphereGeometry extends BufferGeometry{constructor(et=1,tt=32,nt=16,ot=0,it=Math.PI*2,at=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:et,widthSegments:tt,heightSegments:nt,phiStart:ot,phiLength:it,thetaStart:at,thetaLength:st},tt=Math.max(3,Math.floor(tt)),nt=Math.max(2,Math.floor(nt));const ut=Math.min(at+st,Math.PI);let ft=0;const ht=[],mt=new Vector3,gt=new Vector3,yt=[],xt=[],St=[],Tt=[];for(let Mt=0;Mt<=nt;Mt++){const Pt=[],It=Mt/nt;let kt=0;Mt===0&&at===0?kt=.5/tt:Mt===nt&&ut===Math.PI&&(kt=-.5/tt);for(let Dt=0;Dt<=tt;Dt++){const Nt=Dt/tt;mt.x=-et*Math.cos(ot+Nt*it)*Math.sin(at+It*st),mt.y=et*Math.cos(at+It*st),mt.z=et*Math.sin(ot+Nt*it)*Math.sin(at+It*st),xt.push(mt.x,mt.y,mt.z),gt.copy(mt).normalize(),St.push(gt.x,gt.y,gt.z),Tt.push(Nt+kt,1-It),Pt.push(ft++)}ht.push(Pt)}for(let Mt=0;Mt<nt;Mt++)for(let Pt=0;Pt<tt;Pt++){const It=ht[Mt][Pt+1],kt=ht[Mt][Pt],Dt=ht[Mt+1][Pt],Nt=ht[Mt+1][Pt+1];(Mt!==0||at>0)&&yt.push(It,kt,Nt),(Mt!==nt-1||ut<Math.PI)&&yt.push(kt,Dt,Nt)}this.setIndex(yt),this.setAttribute("position",new Float32BufferAttribute(xt,3)),this.setAttribute("normal",new Float32BufferAttribute(St,3)),this.setAttribute("uv",new Float32BufferAttribute(Tt,2))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new SphereGeometry(et.radius,et.widthSegments,et.heightSegments,et.phiStart,et.phiLength,et.thetaStart,et.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(et=1,tt=0){const nt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],ot=[2,1,0,0,3,2,1,3,0,2,3,1];super(nt,ot,et,tt),this.type="TetrahedronGeometry",this.parameters={radius:et,detail:tt}}static fromJSON(et){return new TetrahedronGeometry(et.radius,et.detail)}}class TorusGeometry extends BufferGeometry{constructor(et=1,tt=.4,nt=12,ot=48,it=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:et,tube:tt,radialSegments:nt,tubularSegments:ot,arc:it},nt=Math.floor(nt),ot=Math.floor(ot);const at=[],st=[],ut=[],ft=[],ht=new Vector3,mt=new Vector3,gt=new Vector3;for(let yt=0;yt<=nt;yt++)for(let xt=0;xt<=ot;xt++){const St=xt/ot*it,Tt=yt/nt*Math.PI*2;mt.x=(et+tt*Math.cos(Tt))*Math.cos(St),mt.y=(et+tt*Math.cos(Tt))*Math.sin(St),mt.z=tt*Math.sin(Tt),st.push(mt.x,mt.y,mt.z),ht.x=et*Math.cos(St),ht.y=et*Math.sin(St),gt.subVectors(mt,ht).normalize(),ut.push(gt.x,gt.y,gt.z),ft.push(xt/ot),ft.push(yt/nt)}for(let yt=1;yt<=nt;yt++)for(let xt=1;xt<=ot;xt++){const St=(ot+1)*yt+xt-1,Tt=(ot+1)*(yt-1)+xt-1,Mt=(ot+1)*(yt-1)+xt,Pt=(ot+1)*yt+xt;at.push(St,Tt,Pt),at.push(Tt,Mt,Pt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(ft,2))}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new TorusGeometry(et.radius,et.tube,et.radialSegments,et.tubularSegments,et.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(et=1,tt=.4,nt=64,ot=8,it=2,at=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:et,tube:tt,tubularSegments:nt,radialSegments:ot,p:it,q:at},nt=Math.floor(nt),ot=Math.floor(ot);const st=[],ut=[],ft=[],ht=[],mt=new Vector3,gt=new Vector3,yt=new Vector3,xt=new Vector3,St=new Vector3,Tt=new Vector3,Mt=new Vector3;for(let It=0;It<=nt;++It){const kt=It/nt*it*Math.PI*2;Pt(kt,it,at,et,yt),Pt(kt+.01,it,at,et,xt),Tt.subVectors(xt,yt),Mt.addVectors(xt,yt),St.crossVectors(Tt,Mt),Mt.crossVectors(St,Tt),St.normalize(),Mt.normalize();for(let Dt=0;Dt<=ot;++Dt){const Nt=Dt/ot*Math.PI*2,Gt=-tt*Math.cos(Nt),Wt=tt*Math.sin(Nt);mt.x=yt.x+(Gt*Mt.x+Wt*St.x),mt.y=yt.y+(Gt*Mt.y+Wt*St.y),mt.z=yt.z+(Gt*Mt.z+Wt*St.z),ut.push(mt.x,mt.y,mt.z),gt.subVectors(mt,yt).normalize(),ft.push(gt.x,gt.y,gt.z),ht.push(It/nt),ht.push(Dt/ot)}}for(let It=1;It<=nt;It++)for(let kt=1;kt<=ot;kt++){const Dt=(ot+1)*(It-1)+(kt-1),Nt=(ot+1)*It+(kt-1),Gt=(ot+1)*It+kt,Wt=(ot+1)*(It-1)+kt;st.push(Dt,Nt,Wt),st.push(Nt,Gt,Wt)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(ut,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(ht,2));function Pt(It,kt,Dt,Nt,Gt){const Wt=Math.cos(It),Ot=Math.sin(It),Xt=Dt/kt*It,Et=Math.cos(Xt);Gt.x=Nt*(2+Et)*.5*Wt,Gt.y=Nt*(2+Et)*Ot*.5,Gt.z=Nt*Math.sin(Xt)*.5}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}static fromJSON(et){return new TorusKnotGeometry(et.radius,et.tube,et.tubularSegments,et.radialSegments,et.p,et.q)}}class TubeGeometry extends BufferGeometry{constructor(et=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),tt=64,nt=1,ot=8,it=!1){super(),this.type="TubeGeometry",this.parameters={path:et,tubularSegments:tt,radius:nt,radialSegments:ot,closed:it};const at=et.computeFrenetFrames(tt,it);this.tangents=at.tangents,this.normals=at.normals,this.binormals=at.binormals;const st=new Vector3,ut=new Vector3,ft=new Vector2;let ht=new Vector3;const mt=[],gt=[],yt=[],xt=[];St(),this.setIndex(xt),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(gt,3)),this.setAttribute("uv",new Float32BufferAttribute(yt,2));function St(){for(let It=0;It<tt;It++)Tt(It);Tt(it===!1?tt:0),Pt(),Mt()}function Tt(It){ht=et.getPointAt(It/tt,ht);const kt=at.normals[It],Dt=at.binormals[It];for(let Nt=0;Nt<=ot;Nt++){const Gt=Nt/ot*Math.PI*2,Wt=Math.sin(Gt),Ot=-Math.cos(Gt);ut.x=Ot*kt.x+Wt*Dt.x,ut.y=Ot*kt.y+Wt*Dt.y,ut.z=Ot*kt.z+Wt*Dt.z,ut.normalize(),gt.push(ut.x,ut.y,ut.z),st.x=ht.x+nt*ut.x,st.y=ht.y+nt*ut.y,st.z=ht.z+nt*ut.z,mt.push(st.x,st.y,st.z)}}function Mt(){for(let It=1;It<=tt;It++)for(let kt=1;kt<=ot;kt++){const Dt=(ot+1)*(It-1)+(kt-1),Nt=(ot+1)*It+(kt-1),Gt=(ot+1)*It+kt,Wt=(ot+1)*(It-1)+kt;xt.push(Dt,Nt,Wt),xt.push(Nt,Gt,Wt)}}function Pt(){for(let It=0;It<=tt;It++)for(let kt=0;kt<=ot;kt++)ft.x=It/tt,ft.y=kt/ot,yt.push(ft.x,ft.y)}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}toJSON(){const et=super.toJSON();return et.path=this.parameters.path.toJSON(),et}static fromJSON(et){return new TubeGeometry(new Curves[et.path.type]().fromJSON(et.path),et.tubularSegments,et.radius,et.radialSegments,et.closed)}}class WireframeGeometry extends BufferGeometry{constructor(et=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:et},et!==null){const tt=[],nt=new Set,ot=new Vector3,it=new Vector3;if(et.index!==null){const at=et.attributes.position,st=et.index;let ut=et.groups;ut.length===0&&(ut=[{start:0,count:st.count,materialIndex:0}]);for(let ft=0,ht=ut.length;ft<ht;++ft){const mt=ut[ft],gt=mt.start,yt=mt.count;for(let xt=gt,St=gt+yt;xt<St;xt+=3)for(let Tt=0;Tt<3;Tt++){const Mt=st.getX(xt+Tt),Pt=st.getX(xt+(Tt+1)%3);ot.fromBufferAttribute(at,Mt),it.fromBufferAttribute(at,Pt),isUniqueEdge(ot,it,nt)===!0&&(tt.push(ot.x,ot.y,ot.z),tt.push(it.x,it.y,it.z))}}}else{const at=et.attributes.position;for(let st=0,ut=at.count/3;st<ut;st++)for(let ft=0;ft<3;ft++){const ht=3*st+ft,mt=3*st+(ft+1)%3;ot.fromBufferAttribute(at,ht),it.fromBufferAttribute(at,mt),isUniqueEdge(ot,it,nt)===!0&&(tt.push(ot.x,ot.y,ot.z),tt.push(it.x,it.y,it.z))}}this.setAttribute("position",new Float32BufferAttribute(tt,3))}}copy(et){return super.copy(et),this.parameters=Object.assign({},et.parameters),this}}function isUniqueEdge(rt,et,tt){const nt=`${rt.x},${rt.y},${rt.z}-${et.x},${et.y},${et.z}`,ot=`${et.x},${et.y},${et.z}-${rt.x},${rt.y},${rt.z}`;return tt.has(nt)===!0||tt.has(ot)===!0?!1:(tt.add(nt),tt.add(ot),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(et){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.fog=et.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(et){super(et),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(et){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={STANDARD:""},this.color.copy(et.color),this.roughness=et.roughness,this.metalness=et.metalness,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.roughnessMap=et.roughnessMap,this.metalnessMap=et.metalnessMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.envMapIntensity=et.envMapIntensity,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(et){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(tt){this.ior=(1+.4*tt)/(1-.4*tt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(et)}get anisotropy(){return this._anisotropy}set anisotropy(et){this._anisotropy>0!=et>0&&this.version++,this._anisotropy=et}get clearcoat(){return this._clearcoat}set clearcoat(et){this._clearcoat>0!=et>0&&this.version++,this._clearcoat=et}get iridescence(){return this._iridescence}set iridescence(et){this._iridescence>0!=et>0&&this.version++,this._iridescence=et}get sheen(){return this._sheen}set sheen(et){this._sheen>0!=et>0&&this.version++,this._sheen=et}get transmission(){return this._transmission}set transmission(et){this._transmission>0!=et>0&&this.version++,this._transmission=et}copy(et){return super.copy(et),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=et.anisotropy,this.anisotropyRotation=et.anisotropyRotation,this.anisotropyMap=et.anisotropyMap,this.clearcoat=et.clearcoat,this.clearcoatMap=et.clearcoatMap,this.clearcoatRoughness=et.clearcoatRoughness,this.clearcoatRoughnessMap=et.clearcoatRoughnessMap,this.clearcoatNormalMap=et.clearcoatNormalMap,this.clearcoatNormalScale.copy(et.clearcoatNormalScale),this.ior=et.ior,this.iridescence=et.iridescence,this.iridescenceMap=et.iridescenceMap,this.iridescenceIOR=et.iridescenceIOR,this.iridescenceThicknessRange=[...et.iridescenceThicknessRange],this.iridescenceThicknessMap=et.iridescenceThicknessMap,this.sheen=et.sheen,this.sheenColor.copy(et.sheenColor),this.sheenColorMap=et.sheenColorMap,this.sheenRoughness=et.sheenRoughness,this.sheenRoughnessMap=et.sheenRoughnessMap,this.transmission=et.transmission,this.transmissionMap=et.transmissionMap,this.thickness=et.thickness,this.thicknessMap=et.thicknessMap,this.attenuationDistance=et.attenuationDistance,this.attenuationColor.copy(et.attenuationColor),this.specularIntensity=et.specularIntensity,this.specularIntensityMap=et.specularIntensityMap,this.specularColor.copy(et.specularColor),this.specularColorMap=et.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(et){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.specular.copy(et.specular),this.shininess=et.shininess,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshToonMaterial extends Material{constructor(et){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.gradientMap=et.gradientMap,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}class MeshNormalMaterial extends Material{constructor(et){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(et)}copy(et){return super.copy(et),this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.flatShading=et.flatShading,this}}class MeshLambertMaterial extends Material{constructor(et){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshMatcapMaterial extends Material{constructor(et){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={MATCAP:""},this.color.copy(et.color),this.matcap=et.matcap,this.map=et.map,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.flatShading=et.flatShading,this.fog=et.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(et){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(et)}copy(et){return super.copy(et),this.scale=et.scale,this.dashSize=et.dashSize,this.gapSize=et.gapSize,this}}function convertArray(rt,et,tt){return!rt||!tt&&rt.constructor===et?rt:typeof et.BYTES_PER_ELEMENT=="number"?new et(rt):Array.prototype.slice.call(rt)}function isTypedArray(rt){return ArrayBuffer.isView(rt)&&!(rt instanceof DataView)}function getKeyframeOrder(rt){function et(ot,it){return rt[ot]-rt[it]}const tt=rt.length,nt=new Array(tt);for(let ot=0;ot!==tt;++ot)nt[ot]=ot;return nt.sort(et),nt}function sortedArray(rt,et,tt){const nt=rt.length,ot=new rt.constructor(nt);for(let it=0,at=0;at!==nt;++it){const st=tt[it]*et;for(let ut=0;ut!==et;++ut)ot[at++]=rt[st+ut]}return ot}function flattenJSON(rt,et,tt,nt){let ot=1,it=rt[0];for(;it!==void 0&&it[nt]===void 0;)it=rt[ot++];if(it===void 0)return;let at=it[nt];if(at!==void 0)if(Array.isArray(at))do at=it[nt],at!==void 0&&(et.push(it.time),tt.push.apply(tt,at)),it=rt[ot++];while(it!==void 0);else if(at.toArray!==void 0)do at=it[nt],at!==void 0&&(et.push(it.time),at.toArray(tt,tt.length)),it=rt[ot++];while(it!==void 0);else do at=it[nt],at!==void 0&&(et.push(it.time),tt.push(at)),it=rt[ot++];while(it!==void 0)}function subclip(rt,et,tt,nt,ot=30){const it=rt.clone();it.name=et;const at=[];for(let ut=0;ut<it.tracks.length;++ut){const ft=it.tracks[ut],ht=ft.getValueSize(),mt=[],gt=[];for(let yt=0;yt<ft.times.length;++yt){const xt=ft.times[yt]*ot;if(!(xt<tt||xt>=nt)){mt.push(ft.times[yt]);for(let St=0;St<ht;++St)gt.push(ft.values[yt*ht+St])}}mt.length!==0&&(ft.times=convertArray(mt,ft.times.constructor),ft.values=convertArray(gt,ft.values.constructor),at.push(ft))}it.tracks=at;let st=1/0;for(let ut=0;ut<it.tracks.length;++ut)st>it.tracks[ut].times[0]&&(st=it.tracks[ut].times[0]);for(let ut=0;ut<it.tracks.length;++ut)it.tracks[ut].shift(-1*st);return it.resetDuration(),it}function makeClipAdditive(rt,et=0,tt=rt,nt=30){nt<=0&&(nt=30);const ot=tt.tracks.length,it=et/nt;for(let at=0;at<ot;++at){const st=tt.tracks[at],ut=st.ValueTypeName;if(ut==="bool"||ut==="string")continue;const ft=rt.tracks.find(function(Mt){return Mt.name===st.name&&Mt.ValueTypeName===ut});if(ft===void 0)continue;let ht=0;const mt=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ht=mt/3);let gt=0;const yt=ft.getValueSize();ft.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(gt=yt/3);const xt=st.times.length-1;let St;if(it<=st.times[0]){const Mt=ht,Pt=mt-ht;St=st.values.slice(Mt,Pt)}else if(it>=st.times[xt]){const Mt=xt*mt+ht,Pt=Mt+mt-ht;St=st.values.slice(Mt,Pt)}else{const Mt=st.createInterpolant(),Pt=ht,It=mt-ht;Mt.evaluate(it),St=Mt.resultBuffer.slice(Pt,It)}ut==="quaternion"&&new Quaternion().fromArray(St).normalize().conjugate().toArray(St);const Tt=ft.times.length;for(let Mt=0;Mt<Tt;++Mt){const Pt=Mt*yt+gt;if(ut==="quaternion")Quaternion.multiplyQuaternionsFlat(ft.values,Pt,St,0,ft.values,Pt);else{const It=yt-gt*2;for(let kt=0;kt<It;++kt)ft.values[Pt+kt]-=St[kt]}}}return rt.blendMode=AdditiveAnimationBlendMode,rt}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(et,tt,nt,ot){this.parameterPositions=et,this._cachedIndex=0,this.resultBuffer=ot!==void 0?ot:new tt.constructor(nt),this.sampleValues=tt,this.valueSize=nt,this.settings=null,this.DefaultSettings_={}}evaluate(et){const tt=this.parameterPositions;let nt=this._cachedIndex,ot=tt[nt],it=tt[nt-1];e:{t:{let at;r:{n:if(!(et<ot)){for(let st=nt+2;;){if(ot===void 0){if(et<it)break n;return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}if(nt===st)break;if(it=ot,ot=tt[++nt],et<ot)break t}at=tt.length;break r}if(!(et>=it)){const st=tt[1];et<st&&(nt=2,it=st);for(let ut=nt-2;;){if(it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===ut)break;if(ot=it,it=tt[--nt-1],et>=it)break t}at=nt,nt=0;break r}break e}for(;nt<at;){const st=nt+at>>>1;et<tt[st]?at=st:nt=st+1}if(ot=tt[nt],it=tt[nt-1],it===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(ot===void 0)return nt=tt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}this._cachedIndex=nt,this.intervalChanged_(nt,it,ot)}return this.interpolate_(nt,it,et,ot)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(et){const tt=this.resultBuffer,nt=this.sampleValues,ot=this.valueSize,it=et*ot;for(let at=0;at!==ot;++at)tt[at]=nt[it+at];return tt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(et,tt,nt,ot){super(et,tt,nt,ot),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(et,tt,nt){const ot=this.parameterPositions;let it=et-2,at=et+1,st=ot[it],ut=ot[at];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:it=et,st=2*tt-nt;break;case WrapAroundEnding:it=ot.length-2,st=tt+ot[it]-ot[it+1];break;default:it=et,st=nt}if(ut===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:at=et,ut=2*nt-tt;break;case WrapAroundEnding:at=1,ut=nt+ot[1]-ot[0];break;default:at=et-1,ut=tt}const ft=(nt-tt)*.5,ht=this.valueSize;this._weightPrev=ft/(tt-st),this._weightNext=ft/(ut-nt),this._offsetPrev=it*ht,this._offsetNext=at*ht}interpolate_(et,tt,nt,ot){const it=this.resultBuffer,at=this.sampleValues,st=this.valueSize,ut=et*st,ft=ut-st,ht=this._offsetPrev,mt=this._offsetNext,gt=this._weightPrev,yt=this._weightNext,xt=(nt-tt)/(ot-tt),St=xt*xt,Tt=St*xt,Mt=-gt*Tt+2*gt*St-gt*xt,Pt=(1+gt)*Tt+(-1.5-2*gt)*St+(-.5+gt)*xt+1,It=(-1-yt)*Tt+(1.5+yt)*St+.5*xt,kt=yt*Tt-yt*St;for(let Dt=0;Dt!==st;++Dt)it[Dt]=Mt*at[ht+Dt]+Pt*at[ft+Dt]+It*at[ut+Dt]+kt*at[mt+Dt];return it}}class LinearInterpolant extends Interpolant{constructor(et,tt,nt,ot){super(et,tt,nt,ot)}interpolate_(et,tt,nt,ot){const it=this.resultBuffer,at=this.sampleValues,st=this.valueSize,ut=et*st,ft=ut-st,ht=(nt-tt)/(ot-tt),mt=1-ht;for(let gt=0;gt!==st;++gt)it[gt]=at[ft+gt]*mt+at[ut+gt]*ht;return it}}class DiscreteInterpolant extends Interpolant{constructor(et,tt,nt,ot){super(et,tt,nt,ot)}interpolate_(et){return this.copySampleValue_(et-1)}}class KeyframeTrack{constructor(et,tt,nt,ot){if(et===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(tt===void 0||tt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+et);this.name=et,this.times=convertArray(tt,this.TimeBufferType),this.values=convertArray(nt,this.ValueBufferType),this.setInterpolation(ot||this.DefaultInterpolation)}static toJSON(et){const tt=et.constructor;let nt;if(tt.toJSON!==this.toJSON)nt=tt.toJSON(et);else{nt={name:et.name,times:convertArray(et.times,Array),values:convertArray(et.values,Array)};const ot=et.getInterpolation();ot!==et.DefaultInterpolation&&(nt.interpolation=ot)}return nt.type=et.ValueTypeName,nt}InterpolantFactoryMethodDiscrete(et){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodLinear(et){return new LinearInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodSmooth(et){return new CubicInterpolant(this.times,this.values,this.getValueSize(),et)}setInterpolation(et){let tt;switch(et){case InterpolateDiscrete:tt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:tt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:tt=this.InterpolantFactoryMethodSmooth;break}if(tt===void 0){const nt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(et!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(nt);return console.warn("THREE.KeyframeTrack:",nt),this}return this.createInterpolant=tt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(et){if(et!==0){const tt=this.times;for(let nt=0,ot=tt.length;nt!==ot;++nt)tt[nt]+=et}return this}scale(et){if(et!==1){const tt=this.times;for(let nt=0,ot=tt.length;nt!==ot;++nt)tt[nt]*=et}return this}trim(et,tt){const nt=this.times,ot=nt.length;let it=0,at=ot-1;for(;it!==ot&&nt[it]<et;)++it;for(;at!==-1&&nt[at]>tt;)--at;if(++at,it!==0||at!==ot){it>=at&&(at=Math.max(at,1),it=at-1);const st=this.getValueSize();this.times=nt.slice(it,at),this.values=this.values.slice(it*st,at*st)}return this}validate(){let et=!0;const tt=this.getValueSize();tt-Math.floor(tt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),et=!1);const nt=this.times,ot=this.values,it=nt.length;it===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),et=!1);let at=null;for(let st=0;st!==it;st++){const ut=nt[st];if(typeof ut=="number"&&isNaN(ut)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,ut),et=!1;break}if(at!==null&&at>ut){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,ut,at),et=!1;break}at=ut}if(ot!==void 0&&isTypedArray(ot))for(let st=0,ut=ot.length;st!==ut;++st){const ft=ot[st];if(isNaN(ft)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,ft),et=!1;break}}return et}optimize(){const et=this.times.slice(),tt=this.values.slice(),nt=this.getValueSize(),ot=this.getInterpolation()===InterpolateSmooth,it=et.length-1;let at=1;for(let st=1;st<it;++st){let ut=!1;const ft=et[st],ht=et[st+1];if(ft!==ht&&(st!==1||ft!==et[0]))if(ot)ut=!0;else{const mt=st*nt,gt=mt-nt,yt=mt+nt;for(let xt=0;xt!==nt;++xt){const St=tt[mt+xt];if(St!==tt[gt+xt]||St!==tt[yt+xt]){ut=!0;break}}}if(ut){if(st!==at){et[at]=et[st];const mt=st*nt,gt=at*nt;for(let yt=0;yt!==nt;++yt)tt[gt+yt]=tt[mt+yt]}++at}}if(it>0){et[at]=et[it];for(let st=it*nt,ut=at*nt,ft=0;ft!==nt;++ft)tt[ut+ft]=tt[st+ft];++at}return at!==et.length?(this.times=et.slice(0,at),this.values=tt.slice(0,at*nt)):(this.times=et,this.values=tt),this}clone(){const et=this.times.slice(),tt=this.values.slice(),nt=this.constructor,ot=new nt(this.name,et,tt);return ot.createInterpolant=this.createInterpolant,ot}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(et,tt,nt,ot){super(et,tt,nt,ot)}interpolate_(et,tt,nt,ot){const it=this.resultBuffer,at=this.sampleValues,st=this.valueSize,ut=(nt-tt)/(ot-tt);let ft=et*st;for(let ht=ft+st;ft!==ht;ft+=4)Quaternion.slerpFlat(it,0,at,ft-st,at,ft,ut);return it}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(et){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),et)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(et,tt=-1,nt,ot=NormalAnimationBlendMode){this.name=et,this.tracks=nt,this.duration=tt,this.blendMode=ot,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(et){const tt=[],nt=et.tracks,ot=1/(et.fps||1);for(let at=0,st=nt.length;at!==st;++at)tt.push(parseKeyframeTrack(nt[at]).scale(ot));const it=new this(et.name,et.duration,tt,et.blendMode);return it.uuid=et.uuid,it}static toJSON(et){const tt=[],nt=et.tracks,ot={name:et.name,duration:et.duration,tracks:tt,uuid:et.uuid,blendMode:et.blendMode};for(let it=0,at=nt.length;it!==at;++it)tt.push(KeyframeTrack.toJSON(nt[it]));return ot}static CreateFromMorphTargetSequence(et,tt,nt,ot){const it=tt.length,at=[];for(let st=0;st<it;st++){let ut=[],ft=[];ut.push((st+it-1)%it,st,(st+1)%it),ft.push(0,1,0);const ht=getKeyframeOrder(ut);ut=sortedArray(ut,1,ht),ft=sortedArray(ft,1,ht),!ot&&ut[0]===0&&(ut.push(it),ft.push(ft[0])),at.push(new NumberKeyframeTrack(".morphTargetInfluences["+tt[st].name+"]",ut,ft).scale(1/nt))}return new this(et,-1,at)}static findByName(et,tt){let nt=et;if(!Array.isArray(et)){const ot=et;nt=ot.geometry&&ot.geometry.animations||ot.animations}for(let ot=0;ot<nt.length;ot++)if(nt[ot].name===tt)return nt[ot];return null}static CreateClipsFromMorphTargetSequences(et,tt,nt){const ot={},it=/^([\w-]*?)([\d]+)$/;for(let st=0,ut=et.length;st<ut;st++){const ft=et[st],ht=ft.name.match(it);if(ht&&ht.length>1){const mt=ht[1];let gt=ot[mt];gt||(ot[mt]=gt=[]),gt.push(ft)}}const at=[];for(const st in ot)at.push(this.CreateFromMorphTargetSequence(st,ot[st],tt,nt));return at}static parseAnimation(et,tt){if(!et)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const nt=function(mt,gt,yt,xt,St){if(yt.length!==0){const Tt=[],Mt=[];flattenJSON(yt,Tt,Mt,xt),Tt.length!==0&&St.push(new mt(gt,Tt,Mt))}},ot=[],it=et.name||"default",at=et.fps||30,st=et.blendMode;let ut=et.length||-1;const ft=et.hierarchy||[];for(let mt=0;mt<ft.length;mt++){const gt=ft[mt].keys;if(!(!gt||gt.length===0))if(gt[0].morphTargets){const yt={};let xt;for(xt=0;xt<gt.length;xt++)if(gt[xt].morphTargets)for(let St=0;St<gt[xt].morphTargets.length;St++)yt[gt[xt].morphTargets[St]]=-1;for(const St in yt){const Tt=[],Mt=[];for(let Pt=0;Pt!==gt[xt].morphTargets.length;++Pt){const It=gt[xt];Tt.push(It.time),Mt.push(It.morphTarget===St?1:0)}ot.push(new NumberKeyframeTrack(".morphTargetInfluence["+St+"]",Tt,Mt))}ut=yt.length*at}else{const yt=".bones["+tt[mt].name+"]";nt(VectorKeyframeTrack,yt+".position",gt,"pos",ot),nt(QuaternionKeyframeTrack,yt+".quaternion",gt,"rot",ot),nt(VectorKeyframeTrack,yt+".scale",gt,"scl",ot)}}return ot.length===0?null:new this(it,ut,ot,st)}resetDuration(){const et=this.tracks;let tt=0;for(let nt=0,ot=et.length;nt!==ot;++nt){const it=this.tracks[nt];tt=Math.max(tt,it.times[it.times.length-1])}return this.duration=tt,this}trim(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].trim(0,this.duration);return this}validate(){let et=!0;for(let tt=0;tt<this.tracks.length;tt++)et=et&&this.tracks[tt].validate();return et}optimize(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].optimize();return this}clone(){const et=[];for(let tt=0;tt<this.tracks.length;tt++)et.push(this.tracks[tt].clone());return new this.constructor(this.name,this.duration,et,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(rt){switch(rt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+rt)}function parseKeyframeTrack(rt){if(rt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const et=getTrackTypeForValueTypeName(rt.type);if(rt.times===void 0){const tt=[],nt=[];flattenJSON(rt.keys,tt,nt,"value"),rt.times=tt,rt.values=nt}return et.parse!==void 0?et.parse(rt):new et(rt.name,rt.times,rt.values,rt.interpolation)}const Cache={enabled:!1,files:{},add:function(rt,et){this.enabled!==!1&&(this.files[rt]=et)},get:function(rt){if(this.enabled!==!1)return this.files[rt]},remove:function(rt){delete this.files[rt]},clear:function(){this.files={}}};class LoadingManager{constructor(et,tt,nt){const ot=this;let it=!1,at=0,st=0,ut;const ft=[];this.onStart=void 0,this.onLoad=et,this.onProgress=tt,this.onError=nt,this.itemStart=function(ht){st++,it===!1&&ot.onStart!==void 0&&ot.onStart(ht,at,st),it=!0},this.itemEnd=function(ht){at++,ot.onProgress!==void 0&&ot.onProgress(ht,at,st),at===st&&(it=!1,ot.onLoad!==void 0&&ot.onLoad())},this.itemError=function(ht){ot.onError!==void 0&&ot.onError(ht)},this.resolveURL=function(ht){return ut?ut(ht):ht},this.setURLModifier=function(ht){return ut=ht,this},this.addHandler=function(ht,mt){return ft.push(ht,mt),this},this.removeHandler=function(ht){const mt=ft.indexOf(ht);return mt!==-1&&ft.splice(mt,2),this},this.getHandler=function(ht){for(let mt=0,gt=ft.length;mt<gt;mt+=2){const yt=ft[mt],xt=ft[mt+1];if(yt.global&&(yt.lastIndex=0),yt.test(ht))return xt}return null}}}const DefaultLoadingManager=new LoadingManager;let Loader$1=class{constructor(et){this.manager=et!==void 0?et:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(et,tt){const nt=this;return new Promise(function(ot,it){nt.load(et,ot,tt,it)})}parse(){}setCrossOrigin(et){return this.crossOrigin=et,this}setWithCredentials(et){return this.withCredentials=et,this}setPath(et){return this.path=et,this}setResourcePath(et){return this.resourcePath=et,this}setRequestHeader(et){return this.requestHeader=et,this}};Loader$1.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(et,tt){super(et),this.response=tt}}class FileLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const it=Cache.get(et);if(it!==void 0)return this.manager.itemStart(et),setTimeout(()=>{tt&&tt(it),this.manager.itemEnd(et)},0),it;if(loading[et]!==void 0){loading[et].push({onLoad:tt,onProgress:nt,onError:ot});return}loading[et]=[],loading[et].push({onLoad:tt,onProgress:nt,onError:ot});const at=new Request(et,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,ut=this.responseType;fetch(at).then(ft=>{if(ft.status===200||ft.status===0){if(ft.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ft.body===void 0||ft.body.getReader===void 0)return ft;const ht=loading[et],mt=ft.body.getReader(),gt=ft.headers.get("Content-Length")||ft.headers.get("X-File-Size"),yt=gt?parseInt(gt):0,xt=yt!==0;let St=0;const Tt=new ReadableStream({start(Mt){Pt();function Pt(){mt.read().then(({done:It,value:kt})=>{if(It)Mt.close();else{St+=kt.byteLength;const Dt=new ProgressEvent("progress",{lengthComputable:xt,loaded:St,total:yt});for(let Nt=0,Gt=ht.length;Nt<Gt;Nt++){const Wt=ht[Nt];Wt.onProgress&&Wt.onProgress(Dt)}Mt.enqueue(kt),Pt()}})}}});return new Response(Tt)}else throw new HttpError(`fetch for "${ft.url}" responded with ${ft.status}: ${ft.statusText}`,ft)}).then(ft=>{switch(ut){case"arraybuffer":return ft.arrayBuffer();case"blob":return ft.blob();case"document":return ft.text().then(ht=>new DOMParser().parseFromString(ht,st));case"json":return ft.json();default:if(st===void 0)return ft.text();{const mt=/charset="?([^;"\s]*)"?/i.exec(st),gt=mt&&mt[1]?mt[1].toLowerCase():void 0,yt=new TextDecoder(gt);return ft.arrayBuffer().then(xt=>yt.decode(xt))}}}).then(ft=>{Cache.add(et,ft);const ht=loading[et];delete loading[et];for(let mt=0,gt=ht.length;mt<gt;mt++){const yt=ht[mt];yt.onLoad&&yt.onLoad(ft)}}).catch(ft=>{const ht=loading[et];if(ht===void 0)throw this.manager.itemError(et),ft;delete loading[et];for(let mt=0,gt=ht.length;mt<gt;mt++){const yt=ht[mt];yt.onError&&yt.onError(ft)}this.manager.itemError(et)}).finally(()=>{this.manager.itemEnd(et)}),this.manager.itemStart(et)}setResponseType(et){return this.responseType=et,this}setMimeType(et){return this.mimeType=et,this}}class AnimationLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=new FileLoader(this.manager);at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{tt(it.parse(JSON.parse(st)))}catch(ut){ot?ot(ut):console.error(ut),it.manager.itemError(et)}},nt,ot)}parse(et){const tt=[];for(let nt=0;nt<et.length;nt++){const ot=AnimationClip.parse(et[nt]);tt.push(ot)}return tt}}class CompressedTextureLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=[],st=new CompressedTexture,ut=new FileLoader(this.manager);ut.setPath(this.path),ut.setResponseType("arraybuffer"),ut.setRequestHeader(this.requestHeader),ut.setWithCredentials(it.withCredentials);let ft=0;function ht(mt){ut.load(et[mt],function(gt){const yt=it.parse(gt,!0);at[mt]={width:yt.width,height:yt.height,format:yt.format,mipmaps:yt.mipmaps},ft+=1,ft===6&&(yt.mipmapCount===1&&(st.minFilter=LinearFilter),st.image=at,st.format=yt.format,st.needsUpdate=!0,tt&&tt(st))},nt,ot)}if(Array.isArray(et))for(let mt=0,gt=et.length;mt<gt;++mt)ht(mt);else ut.load(et,function(mt){const gt=it.parse(mt,!0);if(gt.isCubemap){const yt=gt.mipmaps.length/gt.mipmapCount;for(let xt=0;xt<yt;xt++){at[xt]={mipmaps:[]};for(let St=0;St<gt.mipmapCount;St++)at[xt].mipmaps.push(gt.mipmaps[xt*gt.mipmapCount+St]),at[xt].format=gt.format,at[xt].width=gt.width,at[xt].height=gt.height}st.image=at}else st.image.width=gt.width,st.image.height=gt.height,st.mipmaps=gt.mipmaps;gt.mipmapCount===1&&(st.minFilter=LinearFilter),st.format=gt.format,st.needsUpdate=!0,tt&&tt(st)},nt,ot);return st}}class ImageLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const it=this,at=Cache.get(et);if(at!==void 0)return it.manager.itemStart(et),setTimeout(function(){tt&&tt(at),it.manager.itemEnd(et)},0),at;const st=createElementNS("img");function ut(){ht(),Cache.add(et,this),tt&&tt(this),it.manager.itemEnd(et)}function ft(mt){ht(),ot&&ot(mt),it.manager.itemError(et),it.manager.itemEnd(et)}function ht(){st.removeEventListener("load",ut,!1),st.removeEventListener("error",ft,!1)}return st.addEventListener("load",ut,!1),st.addEventListener("error",ft,!1),et.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),it.manager.itemStart(et),st.src=et,st}}class CubeTextureLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=new CubeTexture;it.colorSpace=SRGBColorSpace$1;const at=new ImageLoader(this.manager);at.setCrossOrigin(this.crossOrigin),at.setPath(this.path);let st=0;function ut(ft){at.load(et[ft],function(ht){it.images[ft]=ht,st++,st===6&&(it.needsUpdate=!0,tt&&tt(it))},void 0,ot)}for(let ft=0;ft<et.length;++ft)ut(ft);return it}}class DataTextureLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=new DataTexture,st=new FileLoader(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(it.withCredentials),st.load(et,function(ut){let ft;try{ft=it.parse(ut)}catch(ht){if(ot!==void 0)ot(ht);else{console.error(ht);return}}ft.image!==void 0?at.image=ft.image:ft.data!==void 0&&(at.image.width=ft.width,at.image.height=ft.height,at.image.data=ft.data),at.wrapS=ft.wrapS!==void 0?ft.wrapS:ClampToEdgeWrapping,at.wrapT=ft.wrapT!==void 0?ft.wrapT:ClampToEdgeWrapping,at.magFilter=ft.magFilter!==void 0?ft.magFilter:LinearFilter,at.minFilter=ft.minFilter!==void 0?ft.minFilter:LinearFilter,at.anisotropy=ft.anisotropy!==void 0?ft.anisotropy:1,ft.colorSpace!==void 0?at.colorSpace=ft.colorSpace:ft.encoding!==void 0&&(at.encoding=ft.encoding),ft.flipY!==void 0&&(at.flipY=ft.flipY),ft.format!==void 0&&(at.format=ft.format),ft.type!==void 0&&(at.type=ft.type),ft.mipmaps!==void 0&&(at.mipmaps=ft.mipmaps,at.minFilter=LinearMipmapLinearFilter),ft.mipmapCount===1&&(at.minFilter=LinearFilter),ft.generateMipmaps!==void 0&&(at.generateMipmaps=ft.generateMipmaps),at.needsUpdate=!0,tt&&tt(at,ft)},nt,ot),at}}class TextureLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=new Texture,at=new ImageLoader(this.manager);return at.setCrossOrigin(this.crossOrigin),at.setPath(this.path),at.load(et,function(st){it.image=st,it.needsUpdate=!0,tt!==void 0&&tt(it)},nt,ot),it}}class Light extends Object3D{constructor(et,tt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(et),this.intensity=tt}dispose(){}copy(et,tt){return super.copy(et,tt),this.color.copy(et.color),this.intensity=et.intensity,this}toJSON(et){const tt=super.toJSON(et);return tt.object.color=this.color.getHex(),tt.object.intensity=this.intensity,this.groundColor!==void 0&&(tt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(tt.object.distance=this.distance),this.angle!==void 0&&(tt.object.angle=this.angle),this.decay!==void 0&&(tt.object.decay=this.decay),this.penumbra!==void 0&&(tt.object.penumbra=this.penumbra),this.shadow!==void 0&&(tt.object.shadow=this.shadow.toJSON()),tt}}class HemisphereLight extends Light{constructor(et,tt,nt){super(et,nt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(tt)}copy(et,tt){return super.copy(et,tt),this.groundColor.copy(et.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(et){this.camera=et,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(et){const tt=this.camera,nt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(et.matrixWorld),tt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(et.target.matrixWorld),tt.lookAt(_lookTarget$1),tt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(tt.projectionMatrix,tt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),nt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),nt.multiply(_projScreenMatrix$1)}getViewport(et){return this._viewports[et]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(et){return this.camera=et.camera.clone(),this.bias=et.bias,this.radius=et.radius,this.mapSize.copy(et.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const et={};return this.bias!==0&&(et.bias=this.bias),this.normalBias!==0&&(et.normalBias=this.normalBias),this.radius!==1&&(et.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(et.mapSize=this.mapSize.toArray()),et.camera=this.camera.toJSON(!1).object,delete et.camera.matrix,et}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(et){const tt=this.camera,nt=RAD2DEG*2*et.angle*this.focus,ot=this.mapSize.width/this.mapSize.height,it=et.distance||tt.far;(nt!==tt.fov||ot!==tt.aspect||it!==tt.far)&&(tt.fov=nt,tt.aspect=ot,tt.far=it,tt.updateProjectionMatrix()),super.updateMatrices(et)}copy(et){return super.copy(et),this.focus=et.focus,this}}class SpotLight extends Light{constructor(et,tt,nt=0,ot=Math.PI/3,it=0,at=2){super(et,tt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=nt,this.angle=ot,this.penumbra=it,this.decay=at,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(et){this.intensity=et/Math.PI}dispose(){this.shadow.dispose()}copy(et,tt){return super.copy(et,tt),this.distance=et.distance,this.angle=et.angle,this.penumbra=et.penumbra,this.decay=et.decay,this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(et,tt=0){const nt=this.camera,ot=this.matrix,it=et.distance||nt.far;it!==nt.far&&(nt.far=it,nt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(et.matrixWorld),nt.position.copy(_lightPositionWorld),_lookTarget.copy(nt.position),_lookTarget.add(this._cubeDirections[tt]),nt.up.copy(this._cubeUps[tt]),nt.lookAt(_lookTarget),nt.updateMatrixWorld(),ot.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(et,tt,nt=0,ot=2){super(et,tt),this.isPointLight=!0,this.type="PointLight",this.distance=nt,this.decay=ot,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(et){this.intensity=et/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(et,tt){return super.copy(et,tt),this.distance=et.distance,this.decay=et.decay,this.shadow=et.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(et,tt){super(et,tt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}class AmbientLight extends Light{constructor(et,tt){super(et,tt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(et,tt,nt=10,ot=10){super(et,tt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=nt,this.height=ot}get power(){return this.intensity*this.width*this.height*Math.PI}set power(et){this.intensity=et/(this.width*this.height*Math.PI)}copy(et){return super.copy(et),this.width=et.width,this.height=et.height,this}toJSON(et){const tt=super.toJSON(et);return tt.object.width=this.width,tt.object.height=this.height,tt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let et=0;et<9;et++)this.coefficients.push(new Vector3)}set(et){for(let tt=0;tt<9;tt++)this.coefficients[tt].copy(et[tt]);return this}zero(){for(let et=0;et<9;et++)this.coefficients[et].set(0,0,0);return this}getAt(et,tt){const nt=et.x,ot=et.y,it=et.z,at=this.coefficients;return tt.copy(at[0]).multiplyScalar(.282095),tt.addScaledVector(at[1],.488603*ot),tt.addScaledVector(at[2],.488603*it),tt.addScaledVector(at[3],.488603*nt),tt.addScaledVector(at[4],1.092548*(nt*ot)),tt.addScaledVector(at[5],1.092548*(ot*it)),tt.addScaledVector(at[6],.315392*(3*it*it-1)),tt.addScaledVector(at[7],1.092548*(nt*it)),tt.addScaledVector(at[8],.546274*(nt*nt-ot*ot)),tt}getIrradianceAt(et,tt){const nt=et.x,ot=et.y,it=et.z,at=this.coefficients;return tt.copy(at[0]).multiplyScalar(.886227),tt.addScaledVector(at[1],2*.511664*ot),tt.addScaledVector(at[2],2*.511664*it),tt.addScaledVector(at[3],2*.511664*nt),tt.addScaledVector(at[4],2*.429043*nt*ot),tt.addScaledVector(at[5],2*.429043*ot*it),tt.addScaledVector(at[6],.743125*it*it-.247708),tt.addScaledVector(at[7],2*.429043*nt*it),tt.addScaledVector(at[8],.429043*(nt*nt-ot*ot)),tt}add(et){for(let tt=0;tt<9;tt++)this.coefficients[tt].add(et.coefficients[tt]);return this}addScaledSH(et,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].addScaledVector(et.coefficients[nt],tt);return this}scale(et){for(let tt=0;tt<9;tt++)this.coefficients[tt].multiplyScalar(et);return this}lerp(et,tt){for(let nt=0;nt<9;nt++)this.coefficients[nt].lerp(et.coefficients[nt],tt);return this}equals(et){for(let tt=0;tt<9;tt++)if(!this.coefficients[tt].equals(et.coefficients[tt]))return!1;return!0}copy(et){return this.set(et.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(et,tt=0){const nt=this.coefficients;for(let ot=0;ot<9;ot++)nt[ot].fromArray(et,tt+ot*3);return this}toArray(et=[],tt=0){const nt=this.coefficients;for(let ot=0;ot<9;ot++)nt[ot].toArray(et,tt+ot*3);return et}static getBasisAt(et,tt){const nt=et.x,ot=et.y,it=et.z;tt[0]=.282095,tt[1]=.488603*ot,tt[2]=.488603*it,tt[3]=.488603*nt,tt[4]=1.092548*nt*ot,tt[5]=1.092548*ot*it,tt[6]=.315392*(3*it*it-1),tt[7]=1.092548*nt*it,tt[8]=.546274*(nt*nt-ot*ot)}}class LightProbe extends Light{constructor(et=new SphericalHarmonics3,tt=1){super(void 0,tt),this.isLightProbe=!0,this.sh=et}copy(et){return super.copy(et),this.sh.copy(et.sh),this}fromJSON(et){return this.intensity=et.intensity,this.sh.fromArray(et.sh),this}toJSON(et){const tt=super.toJSON(et);return tt.object.sh=this.sh.toArray(),tt}}class MaterialLoader extends Loader$1{constructor(et){super(et),this.textures={}}load(et,tt,nt,ot){const it=this,at=new FileLoader(it.manager);at.setPath(it.path),at.setRequestHeader(it.requestHeader),at.setWithCredentials(it.withCredentials),at.load(et,function(st){try{tt(it.parse(JSON.parse(st)))}catch(ut){ot?ot(ut):console.error(ut),it.manager.itemError(et)}},nt,ot)}parse(et){const tt=this.textures;function nt(it){return tt[it]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",it),tt[it]}const ot=MaterialLoader.createMaterialFromType(et.type);if(et.uuid!==void 0&&(ot.uuid=et.uuid),et.name!==void 0&&(ot.name=et.name),et.color!==void 0&&ot.color!==void 0&&ot.color.setHex(et.color),et.roughness!==void 0&&(ot.roughness=et.roughness),et.metalness!==void 0&&(ot.metalness=et.metalness),et.sheen!==void 0&&(ot.sheen=et.sheen),et.sheenColor!==void 0&&(ot.sheenColor=new Color().setHex(et.sheenColor)),et.sheenRoughness!==void 0&&(ot.sheenRoughness=et.sheenRoughness),et.emissive!==void 0&&ot.emissive!==void 0&&ot.emissive.setHex(et.emissive),et.specular!==void 0&&ot.specular!==void 0&&ot.specular.setHex(et.specular),et.specularIntensity!==void 0&&(ot.specularIntensity=et.specularIntensity),et.specularColor!==void 0&&ot.specularColor!==void 0&&ot.specularColor.setHex(et.specularColor),et.shininess!==void 0&&(ot.shininess=et.shininess),et.clearcoat!==void 0&&(ot.clearcoat=et.clearcoat),et.clearcoatRoughness!==void 0&&(ot.clearcoatRoughness=et.clearcoatRoughness),et.iridescence!==void 0&&(ot.iridescence=et.iridescence),et.iridescenceIOR!==void 0&&(ot.iridescenceIOR=et.iridescenceIOR),et.iridescenceThicknessRange!==void 0&&(ot.iridescenceThicknessRange=et.iridescenceThicknessRange),et.transmission!==void 0&&(ot.transmission=et.transmission),et.thickness!==void 0&&(ot.thickness=et.thickness),et.attenuationDistance!==void 0&&(ot.attenuationDistance=et.attenuationDistance),et.attenuationColor!==void 0&&ot.attenuationColor!==void 0&&ot.attenuationColor.setHex(et.attenuationColor),et.anisotropy!==void 0&&(ot.anisotropy=et.anisotropy),et.anisotropyRotation!==void 0&&(ot.anisotropyRotation=et.anisotropyRotation),et.fog!==void 0&&(ot.fog=et.fog),et.flatShading!==void 0&&(ot.flatShading=et.flatShading),et.blending!==void 0&&(ot.blending=et.blending),et.combine!==void 0&&(ot.combine=et.combine),et.side!==void 0&&(ot.side=et.side),et.shadowSide!==void 0&&(ot.shadowSide=et.shadowSide),et.opacity!==void 0&&(ot.opacity=et.opacity),et.transparent!==void 0&&(ot.transparent=et.transparent),et.alphaTest!==void 0&&(ot.alphaTest=et.alphaTest),et.alphaHash!==void 0&&(ot.alphaHash=et.alphaHash),et.depthTest!==void 0&&(ot.depthTest=et.depthTest),et.depthWrite!==void 0&&(ot.depthWrite=et.depthWrite),et.colorWrite!==void 0&&(ot.colorWrite=et.colorWrite),et.stencilWrite!==void 0&&(ot.stencilWrite=et.stencilWrite),et.stencilWriteMask!==void 0&&(ot.stencilWriteMask=et.stencilWriteMask),et.stencilFunc!==void 0&&(ot.stencilFunc=et.stencilFunc),et.stencilRef!==void 0&&(ot.stencilRef=et.stencilRef),et.stencilFuncMask!==void 0&&(ot.stencilFuncMask=et.stencilFuncMask),et.stencilFail!==void 0&&(ot.stencilFail=et.stencilFail),et.stencilZFail!==void 0&&(ot.stencilZFail=et.stencilZFail),et.stencilZPass!==void 0&&(ot.stencilZPass=et.stencilZPass),et.wireframe!==void 0&&(ot.wireframe=et.wireframe),et.wireframeLinewidth!==void 0&&(ot.wireframeLinewidth=et.wireframeLinewidth),et.wireframeLinecap!==void 0&&(ot.wireframeLinecap=et.wireframeLinecap),et.wireframeLinejoin!==void 0&&(ot.wireframeLinejoin=et.wireframeLinejoin),et.rotation!==void 0&&(ot.rotation=et.rotation),et.linewidth!==void 0&&(ot.linewidth=et.linewidth),et.dashSize!==void 0&&(ot.dashSize=et.dashSize),et.gapSize!==void 0&&(ot.gapSize=et.gapSize),et.scale!==void 0&&(ot.scale=et.scale),et.polygonOffset!==void 0&&(ot.polygonOffset=et.polygonOffset),et.polygonOffsetFactor!==void 0&&(ot.polygonOffsetFactor=et.polygonOffsetFactor),et.polygonOffsetUnits!==void 0&&(ot.polygonOffsetUnits=et.polygonOffsetUnits),et.dithering!==void 0&&(ot.dithering=et.dithering),et.alphaToCoverage!==void 0&&(ot.alphaToCoverage=et.alphaToCoverage),et.premultipliedAlpha!==void 0&&(ot.premultipliedAlpha=et.premultipliedAlpha),et.forceSinglePass!==void 0&&(ot.forceSinglePass=et.forceSinglePass),et.visible!==void 0&&(ot.visible=et.visible),et.toneMapped!==void 0&&(ot.toneMapped=et.toneMapped),et.userData!==void 0&&(ot.userData=et.userData),et.vertexColors!==void 0&&(typeof et.vertexColors=="number"?ot.vertexColors=et.vertexColors>0:ot.vertexColors=et.vertexColors),et.uniforms!==void 0)for(const it in et.uniforms){const at=et.uniforms[it];switch(ot.uniforms[it]={},at.type){case"t":ot.uniforms[it].value=nt(at.value);break;case"c":ot.uniforms[it].value=new Color().setHex(at.value);break;case"v2":ot.uniforms[it].value=new Vector2().fromArray(at.value);break;case"v3":ot.uniforms[it].value=new Vector3().fromArray(at.value);break;case"v4":ot.uniforms[it].value=new Vector4().fromArray(at.value);break;case"m3":ot.uniforms[it].value=new Matrix3().fromArray(at.value);break;case"m4":ot.uniforms[it].value=new Matrix4().fromArray(at.value);break;default:ot.uniforms[it].value=at.value}}if(et.defines!==void 0&&(ot.defines=et.defines),et.vertexShader!==void 0&&(ot.vertexShader=et.vertexShader),et.fragmentShader!==void 0&&(ot.fragmentShader=et.fragmentShader),et.glslVersion!==void 0&&(ot.glslVersion=et.glslVersion),et.extensions!==void 0)for(const it in et.extensions)ot.extensions[it]=et.extensions[it];if(et.lights!==void 0&&(ot.lights=et.lights),et.clipping!==void 0&&(ot.clipping=et.clipping),et.size!==void 0&&(ot.size=et.size),et.sizeAttenuation!==void 0&&(ot.sizeAttenuation=et.sizeAttenuation),et.map!==void 0&&(ot.map=nt(et.map)),et.matcap!==void 0&&(ot.matcap=nt(et.matcap)),et.alphaMap!==void 0&&(ot.alphaMap=nt(et.alphaMap)),et.bumpMap!==void 0&&(ot.bumpMap=nt(et.bumpMap)),et.bumpScale!==void 0&&(ot.bumpScale=et.bumpScale),et.normalMap!==void 0&&(ot.normalMap=nt(et.normalMap)),et.normalMapType!==void 0&&(ot.normalMapType=et.normalMapType),et.normalScale!==void 0){let it=et.normalScale;Array.isArray(it)===!1&&(it=[it,it]),ot.normalScale=new Vector2().fromArray(it)}return et.displacementMap!==void 0&&(ot.displacementMap=nt(et.displacementMap)),et.displacementScale!==void 0&&(ot.displacementScale=et.displacementScale),et.displacementBias!==void 0&&(ot.displacementBias=et.displacementBias),et.roughnessMap!==void 0&&(ot.roughnessMap=nt(et.roughnessMap)),et.metalnessMap!==void 0&&(ot.metalnessMap=nt(et.metalnessMap)),et.emissiveMap!==void 0&&(ot.emissiveMap=nt(et.emissiveMap)),et.emissiveIntensity!==void 0&&(ot.emissiveIntensity=et.emissiveIntensity),et.specularMap!==void 0&&(ot.specularMap=nt(et.specularMap)),et.specularIntensityMap!==void 0&&(ot.specularIntensityMap=nt(et.specularIntensityMap)),et.specularColorMap!==void 0&&(ot.specularColorMap=nt(et.specularColorMap)),et.envMap!==void 0&&(ot.envMap=nt(et.envMap)),et.envMapIntensity!==void 0&&(ot.envMapIntensity=et.envMapIntensity),et.reflectivity!==void 0&&(ot.reflectivity=et.reflectivity),et.refractionRatio!==void 0&&(ot.refractionRatio=et.refractionRatio),et.lightMap!==void 0&&(ot.lightMap=nt(et.lightMap)),et.lightMapIntensity!==void 0&&(ot.lightMapIntensity=et.lightMapIntensity),et.aoMap!==void 0&&(ot.aoMap=nt(et.aoMap)),et.aoMapIntensity!==void 0&&(ot.aoMapIntensity=et.aoMapIntensity),et.gradientMap!==void 0&&(ot.gradientMap=nt(et.gradientMap)),et.clearcoatMap!==void 0&&(ot.clearcoatMap=nt(et.clearcoatMap)),et.clearcoatRoughnessMap!==void 0&&(ot.clearcoatRoughnessMap=nt(et.clearcoatRoughnessMap)),et.clearcoatNormalMap!==void 0&&(ot.clearcoatNormalMap=nt(et.clearcoatNormalMap)),et.clearcoatNormalScale!==void 0&&(ot.clearcoatNormalScale=new Vector2().fromArray(et.clearcoatNormalScale)),et.iridescenceMap!==void 0&&(ot.iridescenceMap=nt(et.iridescenceMap)),et.iridescenceThicknessMap!==void 0&&(ot.iridescenceThicknessMap=nt(et.iridescenceThicknessMap)),et.transmissionMap!==void 0&&(ot.transmissionMap=nt(et.transmissionMap)),et.thicknessMap!==void 0&&(ot.thicknessMap=nt(et.thicknessMap)),et.anisotropyMap!==void 0&&(ot.anisotropyMap=nt(et.anisotropyMap)),et.sheenColorMap!==void 0&&(ot.sheenColorMap=nt(et.sheenColorMap)),et.sheenRoughnessMap!==void 0&&(ot.sheenRoughnessMap=nt(et.sheenRoughnessMap)),ot}setTextures(et){return this.textures=et,this}static createMaterialFromType(et){const tt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new tt[et]}}class LoaderUtils{static decodeText(et){if(typeof TextDecoder<"u")return new TextDecoder().decode(et);let tt="";for(let nt=0,ot=et.length;nt<ot;nt++)tt+=String.fromCharCode(et[nt]);try{return decodeURIComponent(escape(tt))}catch{return tt}}static extractUrlBase(et){const tt=et.lastIndexOf("/");return tt===-1?"./":et.slice(0,tt+1)}static resolveURL(et,tt){return typeof et!="string"||et===""?"":(/^https?:\/\//i.test(tt)&&/^\//.test(et)&&(tt=tt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(et)||/^data:.*,.*$/i.test(et)||/^blob:.*$/i.test(et)?et:tt+et)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(et){return super.copy(et),this.instanceCount=et.instanceCount,this}toJSON(){const et=super.toJSON();return et.instanceCount=this.instanceCount,et.isInstancedBufferGeometry=!0,et}}class BufferGeometryLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=new FileLoader(it.manager);at.setPath(it.path),at.setRequestHeader(it.requestHeader),at.setWithCredentials(it.withCredentials),at.load(et,function(st){try{tt(it.parse(JSON.parse(st)))}catch(ut){ot?ot(ut):console.error(ut),it.manager.itemError(et)}},nt,ot)}parse(et){const tt={},nt={};function ot(yt,xt){if(tt[xt]!==void 0)return tt[xt];const Tt=yt.interleavedBuffers[xt],Mt=it(yt,Tt.buffer),Pt=getTypedArray(Tt.type,Mt),It=new InterleavedBuffer(Pt,Tt.stride);return It.uuid=Tt.uuid,tt[xt]=It,It}function it(yt,xt){if(nt[xt]!==void 0)return nt[xt];const Tt=yt.arrayBuffers[xt],Mt=new Uint32Array(Tt).buffer;return nt[xt]=Mt,Mt}const at=et.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,st=et.data.index;if(st!==void 0){const yt=getTypedArray(st.type,st.array);at.setIndex(new BufferAttribute(yt,1))}const ut=et.data.attributes;for(const yt in ut){const xt=ut[yt];let St;if(xt.isInterleavedBufferAttribute){const Tt=ot(et.data,xt.data);St=new InterleavedBufferAttribute(Tt,xt.itemSize,xt.offset,xt.normalized)}else{const Tt=getTypedArray(xt.type,xt.array),Mt=xt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;St=new Mt(Tt,xt.itemSize,xt.normalized)}xt.name!==void 0&&(St.name=xt.name),xt.usage!==void 0&&St.setUsage(xt.usage),xt.updateRange!==void 0&&(St.updateRange.offset=xt.updateRange.offset,St.updateRange.count=xt.updateRange.count),at.setAttribute(yt,St)}const ft=et.data.morphAttributes;if(ft)for(const yt in ft){const xt=ft[yt],St=[];for(let Tt=0,Mt=xt.length;Tt<Mt;Tt++){const Pt=xt[Tt];let It;if(Pt.isInterleavedBufferAttribute){const kt=ot(et.data,Pt.data);It=new InterleavedBufferAttribute(kt,Pt.itemSize,Pt.offset,Pt.normalized)}else{const kt=getTypedArray(Pt.type,Pt.array);It=new BufferAttribute(kt,Pt.itemSize,Pt.normalized)}Pt.name!==void 0&&(It.name=Pt.name),St.push(It)}at.morphAttributes[yt]=St}et.data.morphTargetsRelative&&(at.morphTargetsRelative=!0);const mt=et.data.groups||et.data.drawcalls||et.data.offsets;if(mt!==void 0)for(let yt=0,xt=mt.length;yt!==xt;++yt){const St=mt[yt];at.addGroup(St.start,St.count,St.materialIndex)}const gt=et.data.boundingSphere;if(gt!==void 0){const yt=new Vector3;gt.center!==void 0&&yt.fromArray(gt.center),at.boundingSphere=new Sphere(yt,gt.radius)}return et.name&&(at.name=et.name),et.userData&&(at.userData=et.userData),at}}class ObjectLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=this.path===""?LoaderUtils.extractUrlBase(et):this.path;this.resourcePath=this.resourcePath||at;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(et,function(ut){let ft=null;try{ft=JSON.parse(ut)}catch(mt){ot!==void 0&&ot(mt),console.error("THREE:ObjectLoader: Can't parse "+et+".",mt.message);return}const ht=ft.metadata;if(ht===void 0||ht.type===void 0||ht.type.toLowerCase()==="geometry"){ot!==void 0&&ot(new Error("THREE.ObjectLoader: Can't load "+et)),console.error("THREE.ObjectLoader: Can't load "+et);return}it.parse(ft,tt)},nt,ot)}async loadAsync(et,tt){const nt=this,ot=this.path===""?LoaderUtils.extractUrlBase(et):this.path;this.resourcePath=this.resourcePath||ot;const it=new FileLoader(this.manager);it.setPath(this.path),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials);const at=await it.loadAsync(et,tt),st=JSON.parse(at),ut=st.metadata;if(ut===void 0||ut.type===void 0||ut.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+et);return await nt.parseAsync(st)}parse(et,tt){const nt=this.parseAnimations(et.animations),ot=this.parseShapes(et.shapes),it=this.parseGeometries(et.geometries,ot),at=this.parseImages(et.images,function(){tt!==void 0&&tt(ft)}),st=this.parseTextures(et.textures,at),ut=this.parseMaterials(et.materials,st),ft=this.parseObject(et.object,it,ut,st,nt),ht=this.parseSkeletons(et.skeletons,ft);if(this.bindSkeletons(ft,ht),tt!==void 0){let mt=!1;for(const gt in at)if(at[gt].data instanceof HTMLImageElement){mt=!0;break}mt===!1&&tt(ft)}return ft}async parseAsync(et){const tt=this.parseAnimations(et.animations),nt=this.parseShapes(et.shapes),ot=this.parseGeometries(et.geometries,nt),it=await this.parseImagesAsync(et.images),at=this.parseTextures(et.textures,it),st=this.parseMaterials(et.materials,at),ut=this.parseObject(et.object,ot,st,at,tt),ft=this.parseSkeletons(et.skeletons,ut);return this.bindSkeletons(ut,ft),ut}parseShapes(et){const tt={};if(et!==void 0)for(let nt=0,ot=et.length;nt<ot;nt++){const it=new Shape().fromJSON(et[nt]);tt[it.uuid]=it}return tt}parseSkeletons(et,tt){const nt={},ot={};if(tt.traverse(function(it){it.isBone&&(ot[it.uuid]=it)}),et!==void 0)for(let it=0,at=et.length;it<at;it++){const st=new Skeleton().fromJSON(et[it],ot);nt[st.uuid]=st}return nt}parseGeometries(et,tt){const nt={};if(et!==void 0){const ot=new BufferGeometryLoader;for(let it=0,at=et.length;it<at;it++){let st;const ut=et[it];switch(ut.type){case"BufferGeometry":case"InstancedBufferGeometry":st=ot.parse(ut);break;default:ut.type in Geometries?st=Geometries[ut.type].fromJSON(ut,tt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${ut.type}"`)}st.uuid=ut.uuid,ut.name!==void 0&&(st.name=ut.name),ut.userData!==void 0&&(st.userData=ut.userData),nt[ut.uuid]=st}}return nt}parseMaterials(et,tt){const nt={},ot={};if(et!==void 0){const it=new MaterialLoader;it.setTextures(tt);for(let at=0,st=et.length;at<st;at++){const ut=et[at];nt[ut.uuid]===void 0&&(nt[ut.uuid]=it.parse(ut)),ot[ut.uuid]=nt[ut.uuid]}}return ot}parseAnimations(et){const tt={};if(et!==void 0)for(let nt=0;nt<et.length;nt++){const ot=et[nt],it=AnimationClip.parse(ot);tt[it.uuid]=it}return tt}parseImages(et,tt){const nt=this,ot={};let it;function at(ut){return nt.manager.itemStart(ut),it.load(ut,function(){nt.manager.itemEnd(ut)},void 0,function(){nt.manager.itemError(ut),nt.manager.itemEnd(ut)})}function st(ut){if(typeof ut=="string"){const ft=ut,ht=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ft)?ft:nt.resourcePath+ft;return at(ht)}else return ut.data?{data:getTypedArray(ut.type,ut.data),width:ut.width,height:ut.height}:null}if(et!==void 0&&et.length>0){const ut=new LoadingManager(tt);it=new ImageLoader(ut),it.setCrossOrigin(this.crossOrigin);for(let ft=0,ht=et.length;ft<ht;ft++){const mt=et[ft],gt=mt.url;if(Array.isArray(gt)){const yt=[];for(let xt=0,St=gt.length;xt<St;xt++){const Tt=gt[xt],Mt=st(Tt);Mt!==null&&(Mt instanceof HTMLImageElement?yt.push(Mt):yt.push(new DataTexture(Mt.data,Mt.width,Mt.height)))}ot[mt.uuid]=new Source(yt)}else{const yt=st(mt.url);ot[mt.uuid]=new Source(yt)}}}return ot}async parseImagesAsync(et){const tt=this,nt={};let ot;async function it(at){if(typeof at=="string"){const st=at,ut=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(st)?st:tt.resourcePath+st;return await ot.loadAsync(ut)}else return at.data?{data:getTypedArray(at.type,at.data),width:at.width,height:at.height}:null}if(et!==void 0&&et.length>0){ot=new ImageLoader(this.manager),ot.setCrossOrigin(this.crossOrigin);for(let at=0,st=et.length;at<st;at++){const ut=et[at],ft=ut.url;if(Array.isArray(ft)){const ht=[];for(let mt=0,gt=ft.length;mt<gt;mt++){const yt=ft[mt],xt=await it(yt);xt!==null&&(xt instanceof HTMLImageElement?ht.push(xt):ht.push(new DataTexture(xt.data,xt.width,xt.height)))}nt[ut.uuid]=new Source(ht)}else{const ht=await it(ut.url);nt[ut.uuid]=new Source(ht)}}}return nt}parseTextures(et,tt){function nt(it,at){return typeof it=="number"?it:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",it),at[it])}const ot={};if(et!==void 0)for(let it=0,at=et.length;it<at;it++){const st=et[it];st.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',st.uuid),tt[st.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",st.image);const ut=tt[st.image],ft=ut.data;let ht;Array.isArray(ft)?(ht=new CubeTexture,ft.length===6&&(ht.needsUpdate=!0)):(ft&&ft.data?ht=new DataTexture:ht=new Texture,ft&&(ht.needsUpdate=!0)),ht.source=ut,ht.uuid=st.uuid,st.name!==void 0&&(ht.name=st.name),st.mapping!==void 0&&(ht.mapping=nt(st.mapping,TEXTURE_MAPPING)),st.channel!==void 0&&(ht.channel=st.channel),st.offset!==void 0&&ht.offset.fromArray(st.offset),st.repeat!==void 0&&ht.repeat.fromArray(st.repeat),st.center!==void 0&&ht.center.fromArray(st.center),st.rotation!==void 0&&(ht.rotation=st.rotation),st.wrap!==void 0&&(ht.wrapS=nt(st.wrap[0],TEXTURE_WRAPPING),ht.wrapT=nt(st.wrap[1],TEXTURE_WRAPPING)),st.format!==void 0&&(ht.format=st.format),st.internalFormat!==void 0&&(ht.internalFormat=st.internalFormat),st.type!==void 0&&(ht.type=st.type),st.colorSpace!==void 0&&(ht.colorSpace=st.colorSpace),st.encoding!==void 0&&(ht.encoding=st.encoding),st.minFilter!==void 0&&(ht.minFilter=nt(st.minFilter,TEXTURE_FILTER)),st.magFilter!==void 0&&(ht.magFilter=nt(st.magFilter,TEXTURE_FILTER)),st.anisotropy!==void 0&&(ht.anisotropy=st.anisotropy),st.flipY!==void 0&&(ht.flipY=st.flipY),st.generateMipmaps!==void 0&&(ht.generateMipmaps=st.generateMipmaps),st.premultiplyAlpha!==void 0&&(ht.premultiplyAlpha=st.premultiplyAlpha),st.unpackAlignment!==void 0&&(ht.unpackAlignment=st.unpackAlignment),st.compareFunction!==void 0&&(ht.compareFunction=st.compareFunction),st.userData!==void 0&&(ht.userData=st.userData),ot[st.uuid]=ht}return ot}parseObject(et,tt,nt,ot,it){let at;function st(gt){return tt[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",gt),tt[gt]}function ut(gt){if(gt!==void 0){if(Array.isArray(gt)){const yt=[];for(let xt=0,St=gt.length;xt<St;xt++){const Tt=gt[xt];nt[Tt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",Tt),yt.push(nt[Tt])}return yt}return nt[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",gt),nt[gt]}}function ft(gt){return ot[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",gt),ot[gt]}let ht,mt;switch(et.type){case"Scene":at=new Scene,et.background!==void 0&&(Number.isInteger(et.background)?at.background=new Color(et.background):at.background=ft(et.background)),et.environment!==void 0&&(at.environment=ft(et.environment)),et.fog!==void 0&&(et.fog.type==="Fog"?at.fog=new Fog(et.fog.color,et.fog.near,et.fog.far):et.fog.type==="FogExp2"&&(at.fog=new FogExp2(et.fog.color,et.fog.density)),et.fog.name!==""&&(at.fog.name=et.fog.name)),et.backgroundBlurriness!==void 0&&(at.backgroundBlurriness=et.backgroundBlurriness),et.backgroundIntensity!==void 0&&(at.backgroundIntensity=et.backgroundIntensity);break;case"PerspectiveCamera":at=new PerspectiveCamera(et.fov,et.aspect,et.near,et.far),et.focus!==void 0&&(at.focus=et.focus),et.zoom!==void 0&&(at.zoom=et.zoom),et.filmGauge!==void 0&&(at.filmGauge=et.filmGauge),et.filmOffset!==void 0&&(at.filmOffset=et.filmOffset),et.view!==void 0&&(at.view=Object.assign({},et.view));break;case"OrthographicCamera":at=new OrthographicCamera(et.left,et.right,et.top,et.bottom,et.near,et.far),et.zoom!==void 0&&(at.zoom=et.zoom),et.view!==void 0&&(at.view=Object.assign({},et.view));break;case"AmbientLight":at=new AmbientLight(et.color,et.intensity);break;case"DirectionalLight":at=new DirectionalLight(et.color,et.intensity);break;case"PointLight":at=new PointLight(et.color,et.intensity,et.distance,et.decay);break;case"RectAreaLight":at=new RectAreaLight(et.color,et.intensity,et.width,et.height);break;case"SpotLight":at=new SpotLight(et.color,et.intensity,et.distance,et.angle,et.penumbra,et.decay);break;case"HemisphereLight":at=new HemisphereLight(et.color,et.groundColor,et.intensity);break;case"LightProbe":at=new LightProbe().fromJSON(et);break;case"SkinnedMesh":ht=st(et.geometry),mt=ut(et.material),at=new SkinnedMesh(ht,mt),et.bindMode!==void 0&&(at.bindMode=et.bindMode),et.bindMatrix!==void 0&&at.bindMatrix.fromArray(et.bindMatrix),et.skeleton!==void 0&&(at.skeleton=et.skeleton);break;case"Mesh":ht=st(et.geometry),mt=ut(et.material),at=new Mesh(ht,mt);break;case"InstancedMesh":ht=st(et.geometry),mt=ut(et.material);const gt=et.count,yt=et.instanceMatrix,xt=et.instanceColor;at=new InstancedMesh(ht,mt,gt),at.instanceMatrix=new InstancedBufferAttribute(new Float32Array(yt.array),16),xt!==void 0&&(at.instanceColor=new InstancedBufferAttribute(new Float32Array(xt.array),xt.itemSize));break;case"LOD":at=new LOD;break;case"Line":at=new Line(st(et.geometry),ut(et.material));break;case"LineLoop":at=new LineLoop(st(et.geometry),ut(et.material));break;case"LineSegments":at=new LineSegments(st(et.geometry),ut(et.material));break;case"PointCloud":case"Points":at=new Points(st(et.geometry),ut(et.material));break;case"Sprite":at=new Sprite(ut(et.material));break;case"Group":at=new Group;break;case"Bone":at=new Bone;break;default:at=new Object3D}if(at.uuid=et.uuid,et.name!==void 0&&(at.name=et.name),et.matrix!==void 0?(at.matrix.fromArray(et.matrix),et.matrixAutoUpdate!==void 0&&(at.matrixAutoUpdate=et.matrixAutoUpdate),at.matrixAutoUpdate&&at.matrix.decompose(at.position,at.quaternion,at.scale)):(et.position!==void 0&&at.position.fromArray(et.position),et.rotation!==void 0&&at.rotation.fromArray(et.rotation),et.quaternion!==void 0&&at.quaternion.fromArray(et.quaternion),et.scale!==void 0&&at.scale.fromArray(et.scale)),et.up!==void 0&&at.up.fromArray(et.up),et.castShadow!==void 0&&(at.castShadow=et.castShadow),et.receiveShadow!==void 0&&(at.receiveShadow=et.receiveShadow),et.shadow&&(et.shadow.bias!==void 0&&(at.shadow.bias=et.shadow.bias),et.shadow.normalBias!==void 0&&(at.shadow.normalBias=et.shadow.normalBias),et.shadow.radius!==void 0&&(at.shadow.radius=et.shadow.radius),et.shadow.mapSize!==void 0&&at.shadow.mapSize.fromArray(et.shadow.mapSize),et.shadow.camera!==void 0&&(at.shadow.camera=this.parseObject(et.shadow.camera))),et.visible!==void 0&&(at.visible=et.visible),et.frustumCulled!==void 0&&(at.frustumCulled=et.frustumCulled),et.renderOrder!==void 0&&(at.renderOrder=et.renderOrder),et.userData!==void 0&&(at.userData=et.userData),et.layers!==void 0&&(at.layers.mask=et.layers),et.children!==void 0){const gt=et.children;for(let yt=0;yt<gt.length;yt++)at.add(this.parseObject(gt[yt],tt,nt,ot,it))}if(et.animations!==void 0){const gt=et.animations;for(let yt=0;yt<gt.length;yt++){const xt=gt[yt];at.animations.push(it[xt])}}if(et.type==="LOD"){et.autoUpdate!==void 0&&(at.autoUpdate=et.autoUpdate);const gt=et.levels;for(let yt=0;yt<gt.length;yt++){const xt=gt[yt],St=at.getObjectByProperty("uuid",xt.object);St!==void 0&&at.addLevel(St,xt.distance,xt.hysteresis)}}return at}bindSkeletons(et,tt){Object.keys(tt).length!==0&&et.traverse(function(nt){if(nt.isSkinnedMesh===!0&&nt.skeleton!==void 0){const ot=tt[nt.skeleton];ot===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",nt.skeleton):nt.bind(ot,nt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader$1{constructor(et){super(et),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(et){return this.options=et,this}load(et,tt,nt,ot){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const it=this,at=Cache.get(et);if(at!==void 0)return it.manager.itemStart(et),setTimeout(function(){tt&&tt(at),it.manager.itemEnd(et)},0),at;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(et,st).then(function(ut){return ut.blob()}).then(function(ut){return createImageBitmap(ut,Object.assign(it.options,{colorSpaceConversion:"none"}))}).then(function(ut){Cache.add(et,ut),tt&&tt(ut),it.manager.itemEnd(et)}).catch(function(ut){ot&&ot(ut),it.manager.itemError(et),it.manager.itemEnd(et)}),it.manager.itemStart(et)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(et){_context=et}}class AudioLoader extends Loader$1{constructor(et){super(et)}load(et,tt,nt,ot){const it=this,at=new FileLoader(this.manager);at.setResponseType("arraybuffer"),at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(ut){try{const ft=ut.slice(0);AudioContext.getContext().decodeAudioData(ft,function(mt){tt(mt)},st)}catch(ft){st(ft)}},nt,ot);function st(ut){ot?ot(ut):console.error(ut),it.manager.itemError(et)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(et){const tt=this._cache;if(tt.focus!==et.focus||tt.fov!==et.fov||tt.aspect!==et.aspect*this.aspect||tt.near!==et.near||tt.far!==et.far||tt.zoom!==et.zoom||tt.eyeSep!==this.eyeSep){tt.focus=et.focus,tt.fov=et.fov,tt.aspect=et.aspect*this.aspect,tt.near=et.near,tt.far=et.far,tt.zoom=et.zoom,tt.eyeSep=this.eyeSep,_projectionMatrix.copy(et.projectionMatrix);const ot=tt.eyeSep/2,it=ot*tt.near/tt.focus,at=tt.near*Math.tan(DEG2RAD*tt.fov*.5)/tt.zoom;let st,ut;_eyeLeft.elements[12]=-ot,_eyeRight.elements[12]=ot,st=-at*tt.aspect+it,ut=at*tt.aspect+it,_projectionMatrix.elements[0]=2*tt.near/(ut-st),_projectionMatrix.elements[8]=(ut+st)/(ut-st),this.cameraL.projectionMatrix.copy(_projectionMatrix),st=-at*tt.aspect-it,ut=at*tt.aspect-it,_projectionMatrix.elements[0]=2*tt.near/(ut-st),_projectionMatrix.elements[8]=(ut+st)/(ut-st),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(et.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(et.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(et=!0){this.autoStart=et,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let et=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const tt=now$2();et=(tt-this.oldTime)/1e3,this.oldTime=tt,this.elapsedTime+=et}return et}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(et){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=et,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}updateMatrixWorld(et){super.updateMatrixWorld(et);const tt=this.context.listener,nt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),tt.positionX){const ot=this.context.currentTime+this.timeDelta;tt.positionX.linearRampToValueAtTime(_position$1.x,ot),tt.positionY.linearRampToValueAtTime(_position$1.y,ot),tt.positionZ.linearRampToValueAtTime(_position$1.z,ot),tt.forwardX.linearRampToValueAtTime(_orientation$1.x,ot),tt.forwardY.linearRampToValueAtTime(_orientation$1.y,ot),tt.forwardZ.linearRampToValueAtTime(_orientation$1.z,ot),tt.upX.linearRampToValueAtTime(nt.x,ot),tt.upY.linearRampToValueAtTime(nt.y,ot),tt.upZ.linearRampToValueAtTime(nt.z,ot)}else tt.setPosition(_position$1.x,_position$1.y,_position$1.z),tt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,nt.x,nt.y,nt.z)}}class Audio extends Object3D{constructor(et){super(),this.type="Audio",this.listener=et,this.context=et.context,this.gain=this.context.createGain(),this.gain.connect(et.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(et){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=et,this.connect(),this}setMediaElementSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(et),this.connect(),this}setMediaStreamSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(et),this.connect(),this}setBuffer(et){return this.buffer=et,this.sourceType="buffer",this.autoplay&&this.play(),this}play(et=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+et;const tt=this.context.createBufferSource();return tt.buffer=this.buffer,tt.loop=this.loop,tt.loopStart=this.loopStart,tt.loopEnd=this.loopEnd,tt.onended=this.onEnded.bind(this),tt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=tt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let et=1,tt=this.filters.length;et<tt;et++)this.filters[et-1].connect(this.filters[et]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let et=1,tt=this.filters.length;et<tt;et++)this.filters[et-1].disconnect(this.filters[et]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(et){return et||(et=[]),this._connected===!0?(this.disconnect(),this.filters=et.slice(),this.connect()):this.filters=et.slice(),this}setDetune(et){if(this.detune=et,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(et){return this.setFilters(et?[et]:[])}setPlaybackRate(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=et,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=et,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(et){return this.loopStart=et,this}setLoopEnd(et){return this.loopEnd=et,this}getVolume(){return this.gain.gain.value}setVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}}const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio{constructor(et){super(et),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(et){return this.panner.refDistance=et,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(et){return this.panner.rolloffFactor=et,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(et){return this.panner.distanceModel=et,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(et){return this.panner.maxDistance=et,this}setDirectionalCone(et,tt,nt){return this.panner.coneInnerAngle=et,this.panner.coneOuterAngle=tt,this.panner.coneOuterGain=nt,this}updateMatrixWorld(et){if(super.updateMatrixWorld(et),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const tt=this.panner;if(tt.positionX){const nt=this.context.currentTime+this.listener.timeDelta;tt.positionX.linearRampToValueAtTime(_position.x,nt),tt.positionY.linearRampToValueAtTime(_position.y,nt),tt.positionZ.linearRampToValueAtTime(_position.z,nt),tt.orientationX.linearRampToValueAtTime(_orientation.x,nt),tt.orientationY.linearRampToValueAtTime(_orientation.y,nt),tt.orientationZ.linearRampToValueAtTime(_orientation.z,nt)}else tt.setPosition(_position.x,_position.y,_position.z),tt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(et,tt=2048){this.analyser=et.context.createAnalyser(),this.analyser.fftSize=tt,this.data=new Uint8Array(this.analyser.frequencyBinCount),et.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let et=0;const tt=this.getFrequencyData();for(let nt=0;nt<tt.length;nt++)et+=tt[nt];return et/tt.length}}class PropertyMixer{constructor(et,tt,nt){this.binding=et,this.valueSize=nt;let ot,it,at;switch(tt){case"quaternion":ot=this._slerp,it=this._slerpAdditive,at=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(nt*6),this._workIndex=5;break;case"string":case"bool":ot=this._select,it=this._select,at=this._setAdditiveIdentityOther,this.buffer=new Array(nt*5);break;default:ot=this._lerp,it=this._lerpAdditive,at=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(nt*5)}this._mixBufferRegion=ot,this._mixBufferRegionAdditive=it,this._setIdentity=at,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(et,tt){const nt=this.buffer,ot=this.valueSize,it=et*ot+ot;let at=this.cumulativeWeight;if(at===0){for(let st=0;st!==ot;++st)nt[it+st]=nt[st];at=tt}else{at+=tt;const st=tt/at;this._mixBufferRegion(nt,it,0,st,ot)}this.cumulativeWeight=at}accumulateAdditive(et){const tt=this.buffer,nt=this.valueSize,ot=nt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(tt,ot,0,et,nt),this.cumulativeWeightAdditive+=et}apply(et){const tt=this.valueSize,nt=this.buffer,ot=et*tt+tt,it=this.cumulativeWeight,at=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,it<1){const ut=tt*this._origIndex;this._mixBufferRegion(nt,ot,ut,1-it,tt)}at>0&&this._mixBufferRegionAdditive(nt,ot,this._addIndex*tt,1,tt);for(let ut=tt,ft=tt+tt;ut!==ft;++ut)if(nt[ut]!==nt[ut+tt]){st.setValue(nt,ot);break}}saveOriginalState(){const et=this.binding,tt=this.buffer,nt=this.valueSize,ot=nt*this._origIndex;et.getValue(tt,ot);for(let it=nt,at=ot;it!==at;++it)tt[it]=tt[ot+it%nt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const et=this.valueSize*3;this.binding.setValue(this.buffer,et)}_setAdditiveIdentityNumeric(){const et=this._addIndex*this.valueSize,tt=et+this.valueSize;for(let nt=et;nt<tt;nt++)this.buffer[nt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const et=this._origIndex*this.valueSize,tt=this._addIndex*this.valueSize;for(let nt=0;nt<this.valueSize;nt++)this.buffer[tt+nt]=this.buffer[et+nt]}_select(et,tt,nt,ot,it){if(ot>=.5)for(let at=0;at!==it;++at)et[tt+at]=et[nt+at]}_slerp(et,tt,nt,ot){Quaternion.slerpFlat(et,tt,et,tt,et,nt,ot)}_slerpAdditive(et,tt,nt,ot,it){const at=this._workIndex*it;Quaternion.multiplyQuaternionsFlat(et,at,et,tt,et,nt),Quaternion.slerpFlat(et,tt,et,tt,et,at,ot)}_lerp(et,tt,nt,ot,it){const at=1-ot;for(let st=0;st!==it;++st){const ut=tt+st;et[ut]=et[ut]*at+et[nt+st]*ot}}_lerpAdditive(et,tt,nt,ot,it){for(let at=0;at!==it;++at){const st=tt+at;et[st]=et[st]+et[nt+at]*ot}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(et,tt,nt){const ot=nt||PropertyBinding.parseTrackName(tt);this._targetGroup=et,this._bindings=et.subscribe_(tt,ot)}getValue(et,tt){this.bind();const nt=this._targetGroup.nCachedObjects_,ot=this._bindings[nt];ot!==void 0&&ot.getValue(et,tt)}setValue(et,tt){const nt=this._bindings;for(let ot=this._targetGroup.nCachedObjects_,it=nt.length;ot!==it;++ot)nt[ot].setValue(et,tt)}bind(){const et=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=et.length;tt!==nt;++tt)et[tt].bind()}unbind(){const et=this._bindings;for(let tt=this._targetGroup.nCachedObjects_,nt=et.length;tt!==nt;++tt)et[tt].unbind()}}class PropertyBinding{constructor(et,tt,nt){this.path=tt,this.parsedPath=nt||PropertyBinding.parseTrackName(tt),this.node=PropertyBinding.findNode(et,this.parsedPath.nodeName),this.rootNode=et,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(et,tt,nt){return et&&et.isAnimationObjectGroup?new PropertyBinding.Composite(et,tt,nt):new PropertyBinding(et,tt,nt)}static sanitizeNodeName(et){return et.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(et){const tt=_trackRe.exec(et);if(tt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+et);const nt={nodeName:tt[2],objectName:tt[3],objectIndex:tt[4],propertyName:tt[5],propertyIndex:tt[6]},ot=nt.nodeName&&nt.nodeName.lastIndexOf(".");if(ot!==void 0&&ot!==-1){const it=nt.nodeName.substring(ot+1);_supportedObjectNames.indexOf(it)!==-1&&(nt.nodeName=nt.nodeName.substring(0,ot),nt.objectName=it)}if(nt.propertyName===null||nt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+et);return nt}static findNode(et,tt){if(tt===void 0||tt===""||tt==="."||tt===-1||tt===et.name||tt===et.uuid)return et;if(et.skeleton){const nt=et.skeleton.getBoneByName(tt);if(nt!==void 0)return nt}if(et.children){const nt=function(it){for(let at=0;at<it.length;at++){const st=it[at];if(st.name===tt||st.uuid===tt)return st;const ut=nt(st.children);if(ut)return ut}return null},ot=nt(et.children);if(ot)return ot}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(et,tt){et[tt]=this.targetObject[this.propertyName]}_getValue_array(et,tt){const nt=this.resolvedProperty;for(let ot=0,it=nt.length;ot!==it;++ot)et[tt++]=nt[ot]}_getValue_arrayElement(et,tt){et[tt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(et,tt){this.resolvedProperty.toArray(et,tt)}_setValue_direct(et,tt){this.targetObject[this.propertyName]=et[tt]}_setValue_direct_setNeedsUpdate(et,tt){this.targetObject[this.propertyName]=et[tt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(et,tt){this.targetObject[this.propertyName]=et[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(et,tt){const nt=this.resolvedProperty;for(let ot=0,it=nt.length;ot!==it;++ot)nt[ot]=et[tt++]}_setValue_array_setNeedsUpdate(et,tt){const nt=this.resolvedProperty;for(let ot=0,it=nt.length;ot!==it;++ot)nt[ot]=et[tt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(et,tt){const nt=this.resolvedProperty;for(let ot=0,it=nt.length;ot!==it;++ot)nt[ot]=et[tt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(et,tt){this.resolvedProperty[this.propertyIndex]=et[tt]}_setValue_arrayElement_setNeedsUpdate(et,tt){this.resolvedProperty[this.propertyIndex]=et[tt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(et,tt){this.resolvedProperty[this.propertyIndex]=et[tt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(et,tt){this.resolvedProperty.fromArray(et,tt)}_setValue_fromArray_setNeedsUpdate(et,tt){this.resolvedProperty.fromArray(et,tt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(et,tt){this.resolvedProperty.fromArray(et,tt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(et,tt){this.bind(),this.getValue(et,tt)}_setValue_unbound(et,tt){this.bind(),this.setValue(et,tt)}bind(){let et=this.node;const tt=this.parsedPath,nt=tt.objectName,ot=tt.propertyName;let it=tt.propertyIndex;if(et||(et=PropertyBinding.findNode(this.rootNode,tt.nodeName),this.node=et),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!et){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(nt){let ft=tt.objectIndex;switch(nt){case"materials":if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}et=et.material.materials;break;case"bones":if(!et.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}et=et.skeleton.bones;for(let ht=0;ht<et.length;ht++)if(et[ht].name===ft){ft=ht;break}break;case"map":if("map"in et){et=et.map;break}if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}et=et.material.map;break;default:if(et[nt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}et=et[nt]}if(ft!==void 0){if(et[ft]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,et);return}et=et[ft]}}const at=et[ot];if(at===void 0){const ft=tt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ft+"."+ot+" but it wasn't found.",et);return}let st=this.Versioning.None;this.targetObject=et,et.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:et.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let ut=this.BindingType.Direct;if(it!==void 0){if(ot==="morphTargetInfluences"){if(!et.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!et.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}et.morphTargetDictionary[it]!==void 0&&(it=et.morphTargetDictionary[it])}ut=this.BindingType.ArrayElement,this.resolvedProperty=at,this.propertyIndex=it}else at.fromArray!==void 0&&at.toArray!==void 0?(ut=this.BindingType.HasFromToArray,this.resolvedProperty=at):Array.isArray(at)?(ut=this.BindingType.EntireArray,this.resolvedProperty=at):this.propertyName=ot;this.getValue=this.GetterByBindingType[ut],this.setValue=this.SetterByBindingTypeAndVersioning[ut][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const et={};this._indicesByUUID=et;for(let nt=0,ot=arguments.length;nt!==ot;++nt)et[arguments[nt].uuid]=nt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const tt=this;this.stats={objects:{get total(){return tt._objects.length},get inUse(){return this.total-tt.nCachedObjects_}},get bindingsPerObject(){return tt._bindings.length}}}add(){const et=this._objects,tt=this._indicesByUUID,nt=this._paths,ot=this._parsedPaths,it=this._bindings,at=it.length;let st,ut=et.length,ft=this.nCachedObjects_;for(let ht=0,mt=arguments.length;ht!==mt;++ht){const gt=arguments[ht],yt=gt.uuid;let xt=tt[yt];if(xt===void 0){xt=ut++,tt[yt]=xt,et.push(gt);for(let St=0,Tt=at;St!==Tt;++St)it[St].push(new PropertyBinding(gt,nt[St],ot[St]))}else if(xt<ft){st=et[xt];const St=--ft,Tt=et[St];tt[Tt.uuid]=xt,et[xt]=Tt,tt[yt]=St,et[St]=gt;for(let Mt=0,Pt=at;Mt!==Pt;++Mt){const It=it[Mt],kt=It[St];let Dt=It[xt];It[xt]=kt,Dt===void 0&&(Dt=new PropertyBinding(gt,nt[Mt],ot[Mt])),It[St]=Dt}}else et[xt]!==st&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ft}remove(){const et=this._objects,tt=this._indicesByUUID,nt=this._bindings,ot=nt.length;let it=this.nCachedObjects_;for(let at=0,st=arguments.length;at!==st;++at){const ut=arguments[at],ft=ut.uuid,ht=tt[ft];if(ht!==void 0&&ht>=it){const mt=it++,gt=et[mt];tt[gt.uuid]=ht,et[ht]=gt,tt[ft]=mt,et[mt]=ut;for(let yt=0,xt=ot;yt!==xt;++yt){const St=nt[yt],Tt=St[mt],Mt=St[ht];St[ht]=Tt,St[mt]=Mt}}}this.nCachedObjects_=it}uncache(){const et=this._objects,tt=this._indicesByUUID,nt=this._bindings,ot=nt.length;let it=this.nCachedObjects_,at=et.length;for(let st=0,ut=arguments.length;st!==ut;++st){const ft=arguments[st],ht=ft.uuid,mt=tt[ht];if(mt!==void 0)if(delete tt[ht],mt<it){const gt=--it,yt=et[gt],xt=--at,St=et[xt];tt[yt.uuid]=mt,et[mt]=yt,tt[St.uuid]=gt,et[gt]=St,et.pop();for(let Tt=0,Mt=ot;Tt!==Mt;++Tt){const Pt=nt[Tt],It=Pt[gt],kt=Pt[xt];Pt[mt]=It,Pt[gt]=kt,Pt.pop()}}else{const gt=--at,yt=et[gt];gt>0&&(tt[yt.uuid]=mt),et[mt]=yt,et.pop();for(let xt=0,St=ot;xt!==St;++xt){const Tt=nt[xt];Tt[mt]=Tt[gt],Tt.pop()}}}this.nCachedObjects_=it}subscribe_(et,tt){const nt=this._bindingsIndicesByPath;let ot=nt[et];const it=this._bindings;if(ot!==void 0)return it[ot];const at=this._paths,st=this._parsedPaths,ut=this._objects,ft=ut.length,ht=this.nCachedObjects_,mt=new Array(ft);ot=it.length,nt[et]=ot,at.push(et),st.push(tt),it.push(mt);for(let gt=ht,yt=ut.length;gt!==yt;++gt){const xt=ut[gt];mt[gt]=new PropertyBinding(xt,et,tt)}return mt}unsubscribe_(et){const tt=this._bindingsIndicesByPath,nt=tt[et];if(nt!==void 0){const ot=this._paths,it=this._parsedPaths,at=this._bindings,st=at.length-1,ut=at[st],ft=et[st];tt[ft]=nt,at[nt]=ut,at.pop(),it[nt]=it[st],it.pop(),ot[nt]=ot[st],ot.pop()}}}class AnimationAction{constructor(et,tt,nt=null,ot=tt.blendMode){this._mixer=et,this._clip=tt,this._localRoot=nt,this.blendMode=ot;const it=tt.tracks,at=it.length,st=new Array(at),ut={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ft=0;ft!==at;++ft){const ht=it[ft].createInterpolant(null);st[ft]=ht,ht.settings=ut}this._interpolantSettings=ut,this._interpolants=st,this._propertyBindings=new Array(at),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(et){return this._startTime=et,this}setLoop(et,tt){return this.loop=et,this.repetitions=tt,this}setEffectiveWeight(et){return this.weight=et,this._effectiveWeight=this.enabled?et:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(et){return this._scheduleFading(et,0,1)}fadeOut(et){return this._scheduleFading(et,1,0)}crossFadeFrom(et,tt,nt){if(et.fadeOut(tt),this.fadeIn(tt),nt){const ot=this._clip.duration,it=et._clip.duration,at=it/ot,st=ot/it;et.warp(1,at,tt),this.warp(st,1,tt)}return this}crossFadeTo(et,tt,nt){return et.crossFadeFrom(this,tt,nt)}stopFading(){const et=this._weightInterpolant;return et!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}setEffectiveTimeScale(et){return this.timeScale=et,this._effectiveTimeScale=this.paused?0:et,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(et){return this.timeScale=this._clip.duration/et,this.stopWarping()}syncWith(et){return this.time=et.time,this.timeScale=et.timeScale,this.stopWarping()}halt(et){return this.warp(this._effectiveTimeScale,0,et)}warp(et,tt,nt){const ot=this._mixer,it=ot.time,at=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=ot._lendControlInterpolant(),this._timeScaleInterpolant=st);const ut=st.parameterPositions,ft=st.sampleValues;return ut[0]=it,ut[1]=it+nt,ft[0]=et/at,ft[1]=tt/at,this}stopWarping(){const et=this._timeScaleInterpolant;return et!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(et,tt,nt,ot){if(!this.enabled){this._updateWeight(et);return}const it=this._startTime;if(it!==null){const ut=(et-it)*nt;ut<0||nt===0?tt=0:(this._startTime=null,tt=nt*ut)}tt*=this._updateTimeScale(et);const at=this._updateTime(tt),st=this._updateWeight(et);if(st>0){const ut=this._interpolants,ft=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ht=0,mt=ut.length;ht!==mt;++ht)ut[ht].evaluate(at),ft[ht].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let ht=0,mt=ut.length;ht!==mt;++ht)ut[ht].evaluate(at),ft[ht].accumulate(ot,st)}}}_updateWeight(et){let tt=0;if(this.enabled){tt=this.weight;const nt=this._weightInterpolant;if(nt!==null){const ot=nt.evaluate(et)[0];tt*=ot,et>nt.parameterPositions[1]&&(this.stopFading(),ot===0&&(this.enabled=!1))}}return this._effectiveWeight=tt,tt}_updateTimeScale(et){let tt=0;if(!this.paused){tt=this.timeScale;const nt=this._timeScaleInterpolant;if(nt!==null){const ot=nt.evaluate(et)[0];tt*=ot,et>nt.parameterPositions[1]&&(this.stopWarping(),tt===0?this.paused=!0:this.timeScale=tt)}}return this._effectiveTimeScale=tt,tt}_updateTime(et){const tt=this._clip.duration,nt=this.loop;let ot=this.time+et,it=this._loopCount;const at=nt===LoopPingPong;if(et===0)return it===-1?ot:at&&(it&1)===1?tt-ot:ot;if(nt===LoopOnce){it===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(ot>=tt)ot=tt;else if(ot<0)ot=0;else{this.time=ot;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=ot,this._mixer.dispatchEvent({type:"finished",action:this,direction:et<0?-1:1})}}else{if(it===-1&&(et>=0?(it=0,this._setEndings(!0,this.repetitions===0,at)):this._setEndings(this.repetitions===0,!0,at)),ot>=tt||ot<0){const st=Math.floor(ot/tt);ot-=tt*st,it+=Math.abs(st);const ut=this.repetitions-it;if(ut<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,ot=et>0?tt:0,this.time=ot,this._mixer.dispatchEvent({type:"finished",action:this,direction:et>0?1:-1});else{if(ut===1){const ft=et<0;this._setEndings(ft,!ft,at)}else this._setEndings(!1,!1,at);this._loopCount=it,this.time=ot,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=ot;if(at&&(it&1)===1)return tt-ot}return ot}_setEndings(et,tt,nt){const ot=this._interpolantSettings;nt?(ot.endingStart=ZeroSlopeEnding,ot.endingEnd=ZeroSlopeEnding):(et?ot.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:ot.endingStart=WrapAroundEnding,tt?ot.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:ot.endingEnd=WrapAroundEnding)}_scheduleFading(et,tt,nt){const ot=this._mixer,it=ot.time;let at=this._weightInterpolant;at===null&&(at=ot._lendControlInterpolant(),this._weightInterpolant=at);const st=at.parameterPositions,ut=at.sampleValues;return st[0]=it,ut[0]=tt,st[1]=it+et,ut[1]=nt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(et){super(),this._root=et,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(et,tt){const nt=et._localRoot||this._root,ot=et._clip.tracks,it=ot.length,at=et._propertyBindings,st=et._interpolants,ut=nt.uuid,ft=this._bindingsByRootAndName;let ht=ft[ut];ht===void 0&&(ht={},ft[ut]=ht);for(let mt=0;mt!==it;++mt){const gt=ot[mt],yt=gt.name;let xt=ht[yt];if(xt!==void 0)++xt.referenceCount,at[mt]=xt;else{if(xt=at[mt],xt!==void 0){xt._cacheIndex===null&&(++xt.referenceCount,this._addInactiveBinding(xt,ut,yt));continue}const St=tt&&tt._propertyBindings[mt].binding.parsedPath;xt=new PropertyMixer(PropertyBinding.create(nt,yt,St),gt.ValueTypeName,gt.getValueSize()),++xt.referenceCount,this._addInactiveBinding(xt,ut,yt),at[mt]=xt}st[mt].resultBuffer=xt.buffer}}_activateAction(et){if(!this._isActiveAction(et)){if(et._cacheIndex===null){const nt=(et._localRoot||this._root).uuid,ot=et._clip.uuid,it=this._actionsByClip[ot];this._bindAction(et,it&&it.knownActions[0]),this._addInactiveAction(et,ot,nt)}const tt=et._propertyBindings;for(let nt=0,ot=tt.length;nt!==ot;++nt){const it=tt[nt];it.useCount++===0&&(this._lendBinding(it),it.saveOriginalState())}this._lendAction(et)}}_deactivateAction(et){if(this._isActiveAction(et)){const tt=et._propertyBindings;for(let nt=0,ot=tt.length;nt!==ot;++nt){const it=tt[nt];--it.useCount===0&&(it.restoreOriginalState(),this._takeBackBinding(it))}this._takeBackAction(et)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const et=this;this.stats={actions:{get total(){return et._actions.length},get inUse(){return et._nActiveActions}},bindings:{get total(){return et._bindings.length},get inUse(){return et._nActiveBindings}},controlInterpolants:{get total(){return et._controlInterpolants.length},get inUse(){return et._nActiveControlInterpolants}}}}_isActiveAction(et){const tt=et._cacheIndex;return tt!==null&&tt<this._nActiveActions}_addInactiveAction(et,tt,nt){const ot=this._actions,it=this._actionsByClip;let at=it[tt];if(at===void 0)at={knownActions:[et],actionByRoot:{}},et._byClipCacheIndex=0,it[tt]=at;else{const st=at.knownActions;et._byClipCacheIndex=st.length,st.push(et)}et._cacheIndex=ot.length,ot.push(et),at.actionByRoot[nt]=et}_removeInactiveAction(et){const tt=this._actions,nt=tt[tt.length-1],ot=et._cacheIndex;nt._cacheIndex=ot,tt[ot]=nt,tt.pop(),et._cacheIndex=null;const it=et._clip.uuid,at=this._actionsByClip,st=at[it],ut=st.knownActions,ft=ut[ut.length-1],ht=et._byClipCacheIndex;ft._byClipCacheIndex=ht,ut[ht]=ft,ut.pop(),et._byClipCacheIndex=null;const mt=st.actionByRoot,gt=(et._localRoot||this._root).uuid;delete mt[gt],ut.length===0&&delete at[it],this._removeInactiveBindingsForAction(et)}_removeInactiveBindingsForAction(et){const tt=et._propertyBindings;for(let nt=0,ot=tt.length;nt!==ot;++nt){const it=tt[nt];--it.referenceCount===0&&this._removeInactiveBinding(it)}}_lendAction(et){const tt=this._actions,nt=et._cacheIndex,ot=this._nActiveActions++,it=tt[ot];et._cacheIndex=ot,tt[ot]=et,it._cacheIndex=nt,tt[nt]=it}_takeBackAction(et){const tt=this._actions,nt=et._cacheIndex,ot=--this._nActiveActions,it=tt[ot];et._cacheIndex=ot,tt[ot]=et,it._cacheIndex=nt,tt[nt]=it}_addInactiveBinding(et,tt,nt){const ot=this._bindingsByRootAndName,it=this._bindings;let at=ot[tt];at===void 0&&(at={},ot[tt]=at),at[nt]=et,et._cacheIndex=it.length,it.push(et)}_removeInactiveBinding(et){const tt=this._bindings,nt=et.binding,ot=nt.rootNode.uuid,it=nt.path,at=this._bindingsByRootAndName,st=at[ot],ut=tt[tt.length-1],ft=et._cacheIndex;ut._cacheIndex=ft,tt[ft]=ut,tt.pop(),delete st[it],Object.keys(st).length===0&&delete at[ot]}_lendBinding(et){const tt=this._bindings,nt=et._cacheIndex,ot=this._nActiveBindings++,it=tt[ot];et._cacheIndex=ot,tt[ot]=et,it._cacheIndex=nt,tt[nt]=it}_takeBackBinding(et){const tt=this._bindings,nt=et._cacheIndex,ot=--this._nActiveBindings,it=tt[ot];et._cacheIndex=ot,tt[ot]=et,it._cacheIndex=nt,tt[nt]=it}_lendControlInterpolant(){const et=this._controlInterpolants,tt=this._nActiveControlInterpolants++;let nt=et[tt];return nt===void 0&&(nt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),nt.__cacheIndex=tt,et[tt]=nt),nt}_takeBackControlInterpolant(et){const tt=this._controlInterpolants,nt=et.__cacheIndex,ot=--this._nActiveControlInterpolants,it=tt[ot];et.__cacheIndex=ot,tt[ot]=et,it.__cacheIndex=nt,tt[nt]=it}clipAction(et,tt,nt){const ot=tt||this._root,it=ot.uuid;let at=typeof et=="string"?AnimationClip.findByName(ot,et):et;const st=at!==null?at.uuid:et,ut=this._actionsByClip[st];let ft=null;if(nt===void 0&&(at!==null?nt=at.blendMode:nt=NormalAnimationBlendMode),ut!==void 0){const mt=ut.actionByRoot[it];if(mt!==void 0&&mt.blendMode===nt)return mt;ft=ut.knownActions[0],at===null&&(at=ft._clip)}if(at===null)return null;const ht=new AnimationAction(this,at,tt,nt);return this._bindAction(ht,ft),this._addInactiveAction(ht,st,it),ht}existingAction(et,tt){const nt=tt||this._root,ot=nt.uuid,it=typeof et=="string"?AnimationClip.findByName(nt,et):et,at=it?it.uuid:et,st=this._actionsByClip[at];return st!==void 0&&st.actionByRoot[ot]||null}stopAllAction(){const et=this._actions,tt=this._nActiveActions;for(let nt=tt-1;nt>=0;--nt)et[nt].stop();return this}update(et){et*=this.timeScale;const tt=this._actions,nt=this._nActiveActions,ot=this.time+=et,it=Math.sign(et),at=this._accuIndex^=1;for(let ft=0;ft!==nt;++ft)tt[ft]._update(ot,et,it,at);const st=this._bindings,ut=this._nActiveBindings;for(let ft=0;ft!==ut;++ft)st[ft].apply(at);return this}setTime(et){this.time=0;for(let tt=0;tt<this._actions.length;tt++)this._actions[tt].time=0;return this.update(et)}getRoot(){return this._root}uncacheClip(et){const tt=this._actions,nt=et.uuid,ot=this._actionsByClip,it=ot[nt];if(it!==void 0){const at=it.knownActions;for(let st=0,ut=at.length;st!==ut;++st){const ft=at[st];this._deactivateAction(ft);const ht=ft._cacheIndex,mt=tt[tt.length-1];ft._cacheIndex=null,ft._byClipCacheIndex=null,mt._cacheIndex=ht,tt[ht]=mt,tt.pop(),this._removeInactiveBindingsForAction(ft)}delete ot[nt]}}uncacheRoot(et){const tt=et.uuid,nt=this._actionsByClip;for(const at in nt){const st=nt[at].actionByRoot,ut=st[tt];ut!==void 0&&(this._deactivateAction(ut),this._removeInactiveAction(ut))}const ot=this._bindingsByRootAndName,it=ot[tt];if(it!==void 0)for(const at in it){const st=it[at];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(et,tt){const nt=this.existingAction(et,tt);nt!==null&&(this._deactivateAction(nt),this._removeInactiveAction(nt))}}class Uniform{constructor(et){this.value=et}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(et){return this.uniforms.push(et),this}remove(et){const tt=this.uniforms.indexOf(et);return tt!==-1&&this.uniforms.splice(tt,1),this}setName(et){return this.name=et,this}setUsage(et){return this.usage=et,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(et){this.name=et.name,this.usage=et.usage;const tt=et.uniforms;this.uniforms.length=0;for(let nt=0,ot=tt.length;nt<ot;nt++)this.uniforms.push(tt[nt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(et,tt,nt=1){super(et,tt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=nt}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}clone(et){const tt=super.clone(et);return tt.meshPerAttribute=this.meshPerAttribute,tt}toJSON(et){const tt=super.toJSON(et);return tt.isInstancedInterleavedBuffer=!0,tt.meshPerAttribute=this.meshPerAttribute,tt}}class GLBufferAttribute{constructor(et,tt,nt,ot,it){this.isGLBufferAttribute=!0,this.name="",this.buffer=et,this.type=tt,this.itemSize=nt,this.elementSize=ot,this.count=it,this.version=0}set needsUpdate(et){et===!0&&this.version++}setBuffer(et){return this.buffer=et,this}setType(et,tt){return this.type=et,this.elementSize=tt,this}setItemSize(et){return this.itemSize=et,this}setCount(et){return this.count=et,this}}class Raycaster{constructor(et,tt,nt=0,ot=1/0){this.ray=new Ray(et,tt),this.near=nt,this.far=ot,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(et,tt){this.ray.set(et,tt)}setFromCamera(et,tt){tt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(tt.matrixWorld),this.ray.direction.set(et.x,et.y,.5).unproject(tt).sub(this.ray.origin).normalize(),this.camera=tt):tt.isOrthographicCamera?(this.ray.origin.set(et.x,et.y,(tt.near+tt.far)/(tt.near-tt.far)).unproject(tt),this.ray.direction.set(0,0,-1).transformDirection(tt.matrixWorld),this.camera=tt):console.error("THREE.Raycaster: Unsupported camera type: "+tt.type)}intersectObject(et,tt=!0,nt=[]){return intersectObject(et,this,nt,tt),nt.sort(ascSort),nt}intersectObjects(et,tt=!0,nt=[]){for(let ot=0,it=et.length;ot<it;ot++)intersectObject(et[ot],this,nt,tt);return nt.sort(ascSort),nt}}function ascSort(rt,et){return rt.distance-et.distance}function intersectObject(rt,et,tt,nt){if(rt.layers.test(et.layers)&&rt.raycast(et,tt),nt===!0){const ot=rt.children;for(let it=0,at=ot.length;it<at;it++)intersectObject(ot[it],et,tt,!0)}}class Spherical{constructor(et=1,tt=0,nt=0){return this.radius=et,this.phi=tt,this.theta=nt,this}set(et,tt,nt){return this.radius=et,this.phi=tt,this.theta=nt,this}copy(et){return this.radius=et.radius,this.phi=et.phi,this.theta=et.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(et){return this.setFromCartesianCoords(et.x,et.y,et.z)}setFromCartesianCoords(et,tt,nt){return this.radius=Math.sqrt(et*et+tt*tt+nt*nt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(et,nt),this.phi=Math.acos(clamp(tt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(et=1,tt=0,nt=0){return this.radius=et,this.theta=tt,this.y=nt,this}set(et,tt,nt){return this.radius=et,this.theta=tt,this.y=nt,this}copy(et){return this.radius=et.radius,this.theta=et.theta,this.y=et.y,this}setFromVector3(et){return this.setFromCartesianCoords(et.x,et.y,et.z)}setFromCartesianCoords(et,tt,nt){return this.radius=Math.sqrt(et*et+nt*nt),this.theta=Math.atan2(et,nt),this.y=tt,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(et=new Vector2(1/0,1/0),tt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=et,this.max=tt}set(et,tt){return this.min.copy(et),this.max.copy(tt),this}setFromPoints(et){this.makeEmpty();for(let tt=0,nt=et.length;tt<nt;tt++)this.expandByPoint(et[tt]);return this}setFromCenterAndSize(et,tt){const nt=_vector$4.copy(tt).multiplyScalar(.5);return this.min.copy(et).sub(nt),this.max.copy(et).add(nt),this}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(et){return this.isEmpty()?et.set(0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y}getParameter(et,tt){return tt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y)}clampPoint(et,tt){return tt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return this.clampPoint(et,_vector$4).distanceTo(et)}intersect(et){return this.min.max(et.min),this.max.min(et.max),this.isEmpty()&&this.makeEmpty(),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(et=new Vector3,tt=new Vector3){this.start=et,this.end=tt}set(et,tt){return this.start.copy(et),this.end.copy(tt),this}copy(et){return this.start.copy(et.start),this.end.copy(et.end),this}getCenter(et){return et.addVectors(this.start,this.end).multiplyScalar(.5)}delta(et){return et.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(et,tt){return this.delta(tt).multiplyScalar(et).add(this.start)}closestPointToPointParameter(et,tt){_startP.subVectors(et,this.start),_startEnd.subVectors(this.end,this.start);const nt=_startEnd.dot(_startEnd);let it=_startEnd.dot(_startP)/nt;return tt&&(it=clamp(it,0,1)),it}closestPointToPoint(et,tt,nt){const ot=this.closestPointToPointParameter(et,tt);return this.delta(nt).multiplyScalar(ot).add(this.start)}applyMatrix4(et){return this.start.applyMatrix4(et),this.end.applyMatrix4(et),this}equals(et){return et.start.equals(this.start)&&et.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(et,tt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=tt,this.type="SpotLightHelper";const nt=new BufferGeometry,ot=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let at=0,st=1,ut=32;at<ut;at++,st++){const ft=at/ut*Math.PI*2,ht=st/ut*Math.PI*2;ot.push(Math.cos(ft),Math.sin(ft),1,Math.cos(ht),Math.sin(ht),1)}nt.setAttribute("position",new Float32BufferAttribute(ot,3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(nt,it),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const et=this.light.distance?this.light.distance:1e3,tt=et*Math.tan(this.light.angle);this.cone.scale.set(tt,tt,et),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(et){const tt=getBoneList(et),nt=new BufferGeometry,ot=[],it=[],at=new Color(0,0,1),st=new Color(0,1,0);for(let ft=0;ft<tt.length;ft++){const ht=tt[ft];ht.parent&&ht.parent.isBone&&(ot.push(0,0,0),ot.push(0,0,0),it.push(at.r,at.g,at.b),it.push(st.r,st.g,st.b))}nt.setAttribute("position",new Float32BufferAttribute(ot,3)),nt.setAttribute("color",new Float32BufferAttribute(it,3));const ut=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(nt,ut),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=et,this.bones=tt,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(et){const tt=this.bones,nt=this.geometry,ot=nt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let it=0,at=0;it<tt.length;it++){const st=tt[it];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ot.setXYZ(at,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),ot.setXYZ(at+1,_vector$2.x,_vector$2.y,_vector$2.z),at+=2)}nt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(et)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(rt){const et=[];rt.isBone===!0&&et.push(rt);for(let tt=0;tt<rt.children.length;tt++)et.push.apply(et,getBoneList(rt.children[tt]));return et}class PointLightHelper extends Mesh{constructor(et,tt,nt){const ot=new SphereGeometry(tt,4,2),it=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(ot,it),this.light=et,this.color=nt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(et,tt,nt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="HemisphereLightHelper";const ot=new OctahedronGeometry(tt);ot.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const it=ot.getAttribute("position"),at=new Float32Array(it.count*3);ot.setAttribute("color",new BufferAttribute(at,3)),this.add(new Mesh(ot,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const et=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const tt=et.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let nt=0,ot=tt.count;nt<ot;nt++){const it=nt<ot/2?_color1:_color2;tt.setXYZ(nt,it.r,it.g,it.b)}tt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),et.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(et=10,tt=10,nt=4473924,ot=8947848){nt=new Color(nt),ot=new Color(ot);const it=tt/2,at=et/tt,st=et/2,ut=[],ft=[];for(let gt=0,yt=0,xt=-st;gt<=tt;gt++,xt+=at){ut.push(-st,0,xt,st,0,xt),ut.push(xt,0,-st,xt,0,st);const St=gt===it?nt:ot;St.toArray(ft,yt),yt+=3,St.toArray(ft,yt),yt+=3,St.toArray(ft,yt),yt+=3,St.toArray(ft,yt),yt+=3}const ht=new BufferGeometry;ht.setAttribute("position",new Float32BufferAttribute(ut,3)),ht.setAttribute("color",new Float32BufferAttribute(ft,3));const mt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ht,mt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(et=10,tt=16,nt=8,ot=64,it=4473924,at=8947848){it=new Color(it),at=new Color(at);const st=[],ut=[];if(tt>1)for(let mt=0;mt<tt;mt++){const gt=mt/tt*(Math.PI*2),yt=Math.sin(gt)*et,xt=Math.cos(gt)*et;st.push(0,0,0),st.push(yt,0,xt);const St=mt&1?it:at;ut.push(St.r,St.g,St.b),ut.push(St.r,St.g,St.b)}for(let mt=0;mt<nt;mt++){const gt=mt&1?it:at,yt=et-et/nt*mt;for(let xt=0;xt<ot;xt++){let St=xt/ot*(Math.PI*2),Tt=Math.sin(St)*yt,Mt=Math.cos(St)*yt;st.push(Tt,0,Mt),ut.push(gt.r,gt.g,gt.b),St=(xt+1)/ot*(Math.PI*2),Tt=Math.sin(St)*yt,Mt=Math.cos(St)*yt,st.push(Tt,0,Mt),ut.push(gt.r,gt.g,gt.b)}}const ft=new BufferGeometry;ft.setAttribute("position",new Float32BufferAttribute(st,3)),ft.setAttribute("color",new Float32BufferAttribute(ut,3));const ht=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ft,ht),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(et,tt,nt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="DirectionalLightHelper",tt===void 0&&(tt=1);let ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute([-tt,tt,0,tt,tt,0,tt,-tt,0,-tt,-tt,0,-tt,tt,0],3));const it=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(ot,it),this.add(this.lightPlane),ot=new BufferGeometry,ot.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(ot,it),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(et){const tt=new BufferGeometry,nt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),ot=[],it=[],at={};st("n1","n2"),st("n2","n4"),st("n4","n3"),st("n3","n1"),st("f1","f2"),st("f2","f4"),st("f4","f3"),st("f3","f1"),st("n1","f1"),st("n2","f2"),st("n3","f3"),st("n4","f4"),st("p","n1"),st("p","n2"),st("p","n3"),st("p","n4"),st("u1","u2"),st("u2","u3"),st("u3","u1"),st("c","t"),st("p","c"),st("cn1","cn2"),st("cn3","cn4"),st("cf1","cf2"),st("cf3","cf4");function st(xt,St){ut(xt),ut(St)}function ut(xt){ot.push(0,0,0),it.push(0,0,0),at[xt]===void 0&&(at[xt]=[]),at[xt].push(ot.length/3-1)}tt.setAttribute("position",new Float32BufferAttribute(ot,3)),tt.setAttribute("color",new Float32BufferAttribute(it,3)),super(tt,nt),this.type="CameraHelper",this.camera=et,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=at,this.update();const ft=new Color(16755200),ht=new Color(16711680),mt=new Color(43775),gt=new Color(16777215),yt=new Color(3355443);this.setColors(ft,ht,mt,gt,yt)}setColors(et,tt,nt,ot,it){const st=this.geometry.getAttribute("color");st.setXYZ(0,et.r,et.g,et.b),st.setXYZ(1,et.r,et.g,et.b),st.setXYZ(2,et.r,et.g,et.b),st.setXYZ(3,et.r,et.g,et.b),st.setXYZ(4,et.r,et.g,et.b),st.setXYZ(5,et.r,et.g,et.b),st.setXYZ(6,et.r,et.g,et.b),st.setXYZ(7,et.r,et.g,et.b),st.setXYZ(8,et.r,et.g,et.b),st.setXYZ(9,et.r,et.g,et.b),st.setXYZ(10,et.r,et.g,et.b),st.setXYZ(11,et.r,et.g,et.b),st.setXYZ(12,et.r,et.g,et.b),st.setXYZ(13,et.r,et.g,et.b),st.setXYZ(14,et.r,et.g,et.b),st.setXYZ(15,et.r,et.g,et.b),st.setXYZ(16,et.r,et.g,et.b),st.setXYZ(17,et.r,et.g,et.b),st.setXYZ(18,et.r,et.g,et.b),st.setXYZ(19,et.r,et.g,et.b),st.setXYZ(20,et.r,et.g,et.b),st.setXYZ(21,et.r,et.g,et.b),st.setXYZ(22,et.r,et.g,et.b),st.setXYZ(23,et.r,et.g,et.b),st.setXYZ(24,tt.r,tt.g,tt.b),st.setXYZ(25,tt.r,tt.g,tt.b),st.setXYZ(26,tt.r,tt.g,tt.b),st.setXYZ(27,tt.r,tt.g,tt.b),st.setXYZ(28,tt.r,tt.g,tt.b),st.setXYZ(29,tt.r,tt.g,tt.b),st.setXYZ(30,tt.r,tt.g,tt.b),st.setXYZ(31,tt.r,tt.g,tt.b),st.setXYZ(32,nt.r,nt.g,nt.b),st.setXYZ(33,nt.r,nt.g,nt.b),st.setXYZ(34,nt.r,nt.g,nt.b),st.setXYZ(35,nt.r,nt.g,nt.b),st.setXYZ(36,nt.r,nt.g,nt.b),st.setXYZ(37,nt.r,nt.g,nt.b),st.setXYZ(38,ot.r,ot.g,ot.b),st.setXYZ(39,ot.r,ot.g,ot.b),st.setXYZ(40,it.r,it.g,it.b),st.setXYZ(41,it.r,it.g,it.b),st.setXYZ(42,it.r,it.g,it.b),st.setXYZ(43,it.r,it.g,it.b),st.setXYZ(44,it.r,it.g,it.b),st.setXYZ(45,it.r,it.g,it.b),st.setXYZ(46,it.r,it.g,it.b),st.setXYZ(47,it.r,it.g,it.b),st.setXYZ(48,it.r,it.g,it.b),st.setXYZ(49,it.r,it.g,it.b),st.needsUpdate=!0}update(){const et=this.geometry,tt=this.pointMap,nt=1,ot=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",tt,et,_camera,0,0,-1),setPoint("t",tt,et,_camera,0,0,1),setPoint("n1",tt,et,_camera,-nt,-ot,-1),setPoint("n2",tt,et,_camera,nt,-ot,-1),setPoint("n3",tt,et,_camera,-nt,ot,-1),setPoint("n4",tt,et,_camera,nt,ot,-1),setPoint("f1",tt,et,_camera,-nt,-ot,1),setPoint("f2",tt,et,_camera,nt,-ot,1),setPoint("f3",tt,et,_camera,-nt,ot,1),setPoint("f4",tt,et,_camera,nt,ot,1),setPoint("u1",tt,et,_camera,nt*.7,ot*1.1,-1),setPoint("u2",tt,et,_camera,-nt*.7,ot*1.1,-1),setPoint("u3",tt,et,_camera,0,ot*2,-1),setPoint("cf1",tt,et,_camera,-nt,0,1),setPoint("cf2",tt,et,_camera,nt,0,1),setPoint("cf3",tt,et,_camera,0,-ot,1),setPoint("cf4",tt,et,_camera,0,ot,1),setPoint("cn1",tt,et,_camera,-nt,0,-1),setPoint("cn2",tt,et,_camera,nt,0,-1),setPoint("cn3",tt,et,_camera,0,-ot,-1),setPoint("cn4",tt,et,_camera,0,ot,-1),et.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(rt,et,tt,nt,ot,it,at){_vector.set(ot,it,at).unproject(nt);const st=et[rt];if(st!==void 0){const ut=tt.getAttribute("position");for(let ft=0,ht=st.length;ft<ht;ft++)ut.setXYZ(st[ft],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(et,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ot=new Float32Array(8*3),it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new BufferAttribute(ot,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.object=et,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(et){if(et!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const tt=_box.min,nt=_box.max,ot=this.geometry.attributes.position,it=ot.array;it[0]=nt.x,it[1]=nt.y,it[2]=nt.z,it[3]=tt.x,it[4]=nt.y,it[5]=nt.z,it[6]=tt.x,it[7]=tt.y,it[8]=nt.z,it[9]=nt.x,it[10]=tt.y,it[11]=nt.z,it[12]=nt.x,it[13]=nt.y,it[14]=tt.z,it[15]=tt.x,it[16]=nt.y,it[17]=tt.z,it[18]=tt.x,it[19]=tt.y,it[20]=tt.z,it[21]=nt.x,it[22]=tt.y,it[23]=tt.z,ot.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(et){return this.object=et,this.update(),this}copy(et,tt){return super.copy(et,tt),this.object=et.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(et,tt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),ot=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],it=new BufferGeometry;it.setIndex(new BufferAttribute(nt,1)),it.setAttribute("position",new Float32BufferAttribute(ot,3)),super(it,new LineBasicMaterial({color:tt,toneMapped:!1})),this.box=et,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(et){const tt=this.box;tt.isEmpty()||(tt.getCenter(this.position),tt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(et))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(et,tt=1,nt=16776960){const ot=nt,it=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(it,3)),at.computeBoundingSphere(),super(at,new LineBasicMaterial({color:ot,toneMapped:!1})),this.type="PlaneHelper",this.plane=et,this.size=tt;const st=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],ut=new BufferGeometry;ut.setAttribute("position",new Float32BufferAttribute(st,3)),ut.computeBoundingSphere(),this.add(new Mesh(ut,new MeshBasicMaterial({color:ot,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(et){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(et)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(et=new Vector3(0,0,1),tt=new Vector3(0,0,0),nt=1,ot=16776960,it=nt*.2,at=it*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(tt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:ot,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:ot,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(et),this.setLength(nt,it,at)}setDirection(et){if(et.y>.99999)this.quaternion.set(0,0,0,1);else if(et.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(et.z,0,-et.x).normalize();const tt=Math.acos(et.y);this.quaternion.setFromAxisAngle(_axis,tt)}}setLength(et,tt=et*.2,nt=tt*.2){this.line.scale.set(1,Math.max(1e-4,et-tt),1),this.line.updateMatrix(),this.cone.scale.set(nt,tt,nt),this.cone.position.y=et,this.cone.updateMatrix()}setColor(et){this.line.material.color.set(et),this.cone.material.color.set(et)}copy(et){return super.copy(et,!1),this.line.copy(et.line),this.cone.copy(et.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(et=1){const tt=[0,0,0,et,0,0,0,0,0,0,et,0,0,0,0,0,0,et],nt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],ot=new BufferGeometry;ot.setAttribute("position",new Float32BufferAttribute(tt,3)),ot.setAttribute("color",new Float32BufferAttribute(nt,3));const it=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ot,it),this.type="AxesHelper"}setColors(et,tt,nt){const ot=new Color,it=this.geometry.attributes.color.array;return ot.set(et),ot.toArray(it,0),ot.toArray(it,3),ot.set(tt),ot.toArray(it,6),ot.toArray(it,9),ot.set(nt),ot.toArray(it,12),ot.toArray(it,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(et,tt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(et,tt),this}lineTo(et,tt){return this.currentPath.lineTo(et,tt),this}quadraticCurveTo(et,tt,nt,ot){return this.currentPath.quadraticCurveTo(et,tt,nt,ot),this}bezierCurveTo(et,tt,nt,ot,it,at){return this.currentPath.bezierCurveTo(et,tt,nt,ot,it,at),this}splineThru(et){return this.currentPath.splineThru(et),this}toShapes(et){function tt(Mt){const Pt=[];for(let It=0,kt=Mt.length;It<kt;It++){const Dt=Mt[It],Nt=new Shape;Nt.curves=Dt.curves,Pt.push(Nt)}return Pt}function nt(Mt,Pt){const It=Pt.length;let kt=!1;for(let Dt=It-1,Nt=0;Nt<It;Dt=Nt++){let Gt=Pt[Dt],Wt=Pt[Nt],Ot=Wt.x-Gt.x,Xt=Wt.y-Gt.y;if(Math.abs(Xt)>Number.EPSILON){if(Xt<0&&(Gt=Pt[Nt],Ot=-Ot,Wt=Pt[Dt],Xt=-Xt),Mt.y<Gt.y||Mt.y>Wt.y)continue;if(Mt.y===Gt.y){if(Mt.x===Gt.x)return!0}else{const Et=Xt*(Mt.x-Gt.x)-Ot*(Mt.y-Gt.y);if(Et===0)return!0;if(Et<0)continue;kt=!kt}}else{if(Mt.y!==Gt.y)continue;if(Wt.x<=Mt.x&&Mt.x<=Gt.x||Gt.x<=Mt.x&&Mt.x<=Wt.x)return!0}}return kt}const ot=ShapeUtils.isClockWise,it=this.subPaths;if(it.length===0)return[];let at,st,ut;const ft=[];if(it.length===1)return st=it[0],ut=new Shape,ut.curves=st.curves,ft.push(ut),ft;let ht=!ot(it[0].getPoints());ht=et?!ht:ht;const mt=[],gt=[];let yt=[],xt=0,St;gt[xt]=void 0,yt[xt]=[];for(let Mt=0,Pt=it.length;Mt<Pt;Mt++)st=it[Mt],St=st.getPoints(),at=ot(St),at=et?!at:at,at?(!ht&&gt[xt]&&xt++,gt[xt]={s:new Shape,p:St},gt[xt].s.curves=st.curves,ht&&xt++,yt[xt]=[]):yt[xt].push({h:st,p:St[0]});if(!gt[0])return tt(it);if(gt.length>1){let Mt=!1,Pt=0;for(let It=0,kt=gt.length;It<kt;It++)mt[It]=[];for(let It=0,kt=gt.length;It<kt;It++){const Dt=yt[It];for(let Nt=0;Nt<Dt.length;Nt++){const Gt=Dt[Nt];let Wt=!0;for(let Ot=0;Ot<gt.length;Ot++)nt(Gt.p,gt[Ot].p)&&(It!==Ot&&Pt++,Wt?(Wt=!1,mt[Ot].push(Gt)):Mt=!0);Wt&&mt[It].push(Gt)}}Pt>0&&Mt===!1&&(yt=mt)}let Tt;for(let Mt=0,Pt=gt.length;Mt<Pt;Mt++){ut=gt[Mt].s,ft.push(ut),Tt=yt[Mt];for(let It=0,kt=Tt.length;It<kt;It++)ut.holes.push(Tt[It].h)}return ft}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearEncoding:LinearEncoding$1,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace:LinearSRGBColorSpace$1,LinearToneMapping,LinearTransfer,Loader:Loader$1,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace:SRGBColorSpace$1,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,createCanvasElement,sRGBEncoding:sRGBEncoding$1},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$3(rt){let et;const tt=new Set,nt=(ft,ht)=>{const mt=typeof ft=="function"?ft(et):ft;if(mt!==et){const gt=et;et=ht?mt:Object.assign({},et,mt),tt.forEach(yt=>yt(et,gt))}},ot=()=>et,it=(ft,ht=ot,mt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let gt=ht(et);function yt(){const xt=ht(et);if(!mt(gt,xt)){const St=gt;ft(gt=xt,St)}}return tt.add(yt),()=>tt.delete(yt)},ut={setState:nt,getState:ot,subscribe:(ft,ht,mt)=>ht||mt?it(ft,ht,mt):(tt.add(ft),()=>tt.delete(ft)),destroy:()=>tt.clear()};return et=rt(nt,ot,ut),ut}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$2(rt){const et=typeof rt=="function"?createStore$3(rt):rt,tt=(nt=et.getState,ot=Object.is)=>{const[,it]=reactExports.useReducer(Tt=>Tt+1,0),at=et.getState(),st=reactExports.useRef(at),ut=reactExports.useRef(nt),ft=reactExports.useRef(ot),ht=reactExports.useRef(!1),mt=reactExports.useRef();mt.current===void 0&&(mt.current=nt(at));let gt,yt=!1;(st.current!==at||ut.current!==nt||ft.current!==ot||ht.current)&&(gt=nt(at),yt=!ot(mt.current,gt)),useIsomorphicLayoutEffect$2(()=>{yt&&(mt.current=gt),st.current=at,ut.current=nt,ft.current=ot,ht.current=!1});const xt=reactExports.useRef(at);useIsomorphicLayoutEffect$2(()=>{const Tt=()=>{try{const Pt=et.getState(),It=ut.current(Pt);ft.current(mt.current,It)||(st.current=Pt,mt.current=It,it())}catch{ht.current=!0,it()}},Mt=et.subscribe(Tt);return et.getState()!==xt.current&&Tt(),Mt},[]);const St=yt?gt:mt.current;return reactExports.useDebugValue(St),St};return Object.assign(tt,et),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const nt=[tt,et];return{next(){const ot=nt.length<=0;return{value:nt.shift(),done:ot}}}},tt}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(rt){function et(Rt,bt){var ct=Rt.length;Rt.push(bt);e:for(;0<ct;){var _t=ct-1>>>1,Lt=Rt[_t];if(0<ot(Lt,bt))Rt[_t]=bt,Rt[ct]=Lt,ct=_t;else break e}}function tt(Rt){return Rt.length===0?null:Rt[0]}function nt(Rt){if(Rt.length===0)return null;var bt=Rt[0],ct=Rt.pop();if(ct!==bt){Rt[0]=ct;e:for(var _t=0,Lt=Rt.length,Ft=Lt>>>1;_t<Ft;){var jt=2*(_t+1)-1,Zt=Rt[jt],Kt=jt+1,zt=Rt[Kt];if(0>ot(Zt,ct))Kt<Lt&&0>ot(zt,Zt)?(Rt[_t]=zt,Rt[Kt]=ct,_t=Kt):(Rt[_t]=Zt,Rt[jt]=ct,_t=jt);else if(Kt<Lt&&0>ot(zt,ct))Rt[_t]=zt,Rt[Kt]=ct,_t=Kt;else break e}}return bt}function ot(Rt,bt){var ct=Rt.sortIndex-bt.sortIndex;return ct!==0?ct:Rt.id-bt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var it=performance;rt.unstable_now=function(){return it.now()}}else{var at=Date,st=at.now();rt.unstable_now=function(){return at.now()-st}}var ut=[],ft=[],ht=1,mt=null,gt=3,yt=!1,xt=!1,St=!1,Tt=typeof setTimeout=="function"?setTimeout:null,Mt=typeof clearTimeout=="function"?clearTimeout:null,Pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function It(Rt){for(var bt=tt(ft);bt!==null;){if(bt.callback===null)nt(ft);else if(bt.startTime<=Rt)nt(ft),bt.sortIndex=bt.expirationTime,et(ut,bt);else break;bt=tt(ft)}}function kt(Rt){if(St=!1,It(Rt),!xt)if(tt(ut)!==null)xt=!0,wt(Dt);else{var bt=tt(ft);bt!==null&&At(kt,bt.startTime-Rt)}}function Dt(Rt,bt){xt=!1,St&&(St=!1,Mt(Wt),Wt=-1),yt=!0;var ct=gt;try{for(It(bt),mt=tt(ut);mt!==null&&(!(mt.expirationTime>bt)||Rt&&!Et());){var _t=mt.callback;if(typeof _t=="function"){mt.callback=null,gt=mt.priorityLevel;var Lt=_t(mt.expirationTime<=bt);bt=rt.unstable_now(),typeof Lt=="function"?mt.callback=Lt:mt===tt(ut)&&nt(ut),It(bt)}else nt(ut);mt=tt(ut)}if(mt!==null)var Ft=!0;else{var jt=tt(ft);jt!==null&&At(kt,jt.startTime-bt),Ft=!1}return Ft}finally{mt=null,gt=ct,yt=!1}}var Nt=!1,Gt=null,Wt=-1,Ot=5,Xt=-1;function Et(){return!(rt.unstable_now()-Xt<Ot)}function lt(){if(Gt!==null){var Rt=rt.unstable_now();Xt=Rt;var bt=!0;try{bt=Gt(!0,Rt)}finally{bt?dt():(Nt=!1,Gt=null)}}else Nt=!1}var dt;if(typeof Pt=="function")dt=function(){Pt(lt)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,vt=pt.port2;pt.port1.onmessage=lt,dt=function(){vt.postMessage(null)}}else dt=function(){Tt(lt,0)};function wt(Rt){Gt=Rt,Nt||(Nt=!0,dt())}function At(Rt,bt){Wt=Tt(function(){Rt(rt.unstable_now())},bt)}rt.unstable_IdlePriority=5,rt.unstable_ImmediatePriority=1,rt.unstable_LowPriority=4,rt.unstable_NormalPriority=3,rt.unstable_Profiling=null,rt.unstable_UserBlockingPriority=2,rt.unstable_cancelCallback=function(Rt){Rt.callback=null},rt.unstable_continueExecution=function(){xt||yt||(xt=!0,wt(Dt))},rt.unstable_forceFrameRate=function(Rt){0>Rt||125<Rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ot=0<Rt?Math.floor(1e3/Rt):5},rt.unstable_getCurrentPriorityLevel=function(){return gt},rt.unstable_getFirstCallbackNode=function(){return tt(ut)},rt.unstable_next=function(Rt){switch(gt){case 1:case 2:case 3:var bt=3;break;default:bt=gt}var ct=gt;gt=bt;try{return Rt()}finally{gt=ct}},rt.unstable_pauseExecution=function(){},rt.unstable_requestPaint=function(){},rt.unstable_runWithPriority=function(Rt,bt){switch(Rt){case 1:case 2:case 3:case 4:case 5:break;default:Rt=3}var ct=gt;gt=Rt;try{return bt()}finally{gt=ct}},rt.unstable_scheduleCallback=function(Rt,bt,ct){var _t=rt.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?_t+ct:_t):ct=_t,Rt){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=ct+Lt,Rt={id:ht++,callback:bt,priorityLevel:Rt,startTime:ct,expirationTime:Lt,sortIndex:-1},ct>_t?(Rt.sortIndex=ct,et(ft,Rt),tt(ut)===null&&Rt===tt(ft)&&(St?(Mt(Wt),Wt=-1):St=!0,At(kt,ct-_t))):(Rt.sortIndex=Lt,et(ut,Rt),xt||yt||(xt=!0,wt(Dt))),Rt},rt.unstable_shouldYield=Et,rt.unstable_wrapCallback=function(Rt){var bt=gt;return function(){var ct=gt;gt=bt;try{return Rt.apply(this,arguments)}finally{gt=ct}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function rt(et){var tt={},nt=reactExports,ot=schedulerExports,it=Object.assign;function at(Ct){for(var Bt="https://reactjs.org/docs/error-decoder.html?invariant="+Ct,Ut=1;Ut<arguments.length;Ut++)Bt+="&args[]="+encodeURIComponent(arguments[Ut]);return"Minified React error #"+Ct+"; visit "+Bt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ut=Symbol.for("react.element"),ft=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),mt=Symbol.for("react.strict_mode"),gt=Symbol.for("react.profiler"),yt=Symbol.for("react.provider"),xt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),kt=Symbol.for("react.offscreen"),Dt=Symbol.iterator;function Nt(Ct){return Ct===null||typeof Ct!="object"?null:(Ct=Dt&&Ct[Dt]||Ct["@@iterator"],typeof Ct=="function"?Ct:null)}function Gt(Ct){if(Ct==null)return null;if(typeof Ct=="function")return Ct.displayName||Ct.name||null;if(typeof Ct=="string")return Ct;switch(Ct){case ht:return"Fragment";case ft:return"Portal";case gt:return"Profiler";case mt:return"StrictMode";case Tt:return"Suspense";case Mt:return"SuspenseList"}if(typeof Ct=="object")switch(Ct.$$typeof){case xt:return(Ct.displayName||"Context")+".Consumer";case yt:return(Ct._context.displayName||"Context")+".Provider";case St:var Bt=Ct.render;return Ct=Ct.displayName,Ct||(Ct=Bt.displayName||Bt.name||"",Ct=Ct!==""?"ForwardRef("+Ct+")":"ForwardRef"),Ct;case Pt:return Bt=Ct.displayName||null,Bt!==null?Bt:Gt(Ct.type)||"Memo";case It:Bt=Ct._payload,Ct=Ct._init;try{return Gt(Ct(Bt))}catch{}}return null}function Wt(Ct){var Bt=Ct.type;switch(Ct.tag){case 24:return"Cache";case 9:return(Bt.displayName||"Context")+".Consumer";case 10:return(Bt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Ct=Bt.render,Ct=Ct.displayName||Ct.name||"",Bt.displayName||(Ct!==""?"ForwardRef("+Ct+")":"ForwardRef");case 7:return"Fragment";case 5:return Bt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gt(Bt);case 8:return Bt===mt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Bt=="function")return Bt.displayName||Bt.name||null;if(typeof Bt=="string")return Bt}return null}function Ot(Ct){var Bt=Ct,Ut=Ct;if(Ct.alternate)for(;Bt.return;)Bt=Bt.return;else{Ct=Bt;do Bt=Ct,Bt.flags&4098&&(Ut=Bt.return),Ct=Bt.return;while(Ct)}return Bt.tag===3?Ut:null}function Xt(Ct){if(Ot(Ct)!==Ct)throw Error(at(188))}function Et(Ct){var Bt=Ct.alternate;if(!Bt){if(Bt=Ot(Ct),Bt===null)throw Error(at(188));return Bt!==Ct?null:Ct}for(var Ut=Ct,qt=Bt;;){var ir=Ut.return;if(ir===null)break;var hr=ir.alternate;if(hr===null){if(qt=ir.return,qt!==null){Ut=qt;continue}break}if(ir.child===hr.child){for(hr=ir.child;hr;){if(hr===Ut)return Xt(ir),Ct;if(hr===qt)return Xt(ir),Bt;hr=hr.sibling}throw Error(at(188))}if(Ut.return!==qt.return)Ut=ir,qt=hr;else{for(var kr=!1,Qr=ir.child;Qr;){if(Qr===Ut){kr=!0,Ut=ir,qt=hr;break}if(Qr===qt){kr=!0,qt=ir,Ut=hr;break}Qr=Qr.sibling}if(!kr){for(Qr=hr.child;Qr;){if(Qr===Ut){kr=!0,Ut=hr,qt=ir;break}if(Qr===qt){kr=!0,qt=hr,Ut=ir;break}Qr=Qr.sibling}if(!kr)throw Error(at(189))}}if(Ut.alternate!==qt)throw Error(at(190))}if(Ut.tag!==3)throw Error(at(188));return Ut.stateNode.current===Ut?Ct:Bt}function lt(Ct){return Ct=Et(Ct),Ct!==null?dt(Ct):null}function dt(Ct){if(Ct.tag===5||Ct.tag===6)return Ct;for(Ct=Ct.child;Ct!==null;){var Bt=dt(Ct);if(Bt!==null)return Bt;Ct=Ct.sibling}return null}function pt(Ct){if(Ct.tag===5||Ct.tag===6)return Ct;for(Ct=Ct.child;Ct!==null;){if(Ct.tag!==4){var Bt=pt(Ct);if(Bt!==null)return Bt}Ct=Ct.sibling}return null}var vt=Array.isArray,wt=et.getPublicInstance,At=et.getRootHostContext,Rt=et.getChildHostContext,bt=et.prepareForCommit,ct=et.resetAfterCommit,_t=et.createInstance,Lt=et.appendInitialChild,Ft=et.finalizeInitialChildren,jt=et.prepareUpdate,Zt=et.shouldSetTextContent,Kt=et.createTextInstance,zt=et.scheduleTimeout,Vt=et.cancelTimeout,nr=et.noTimeout,or=et.isPrimaryRenderer,rr=et.supportsMutation,$t=et.supportsPersistence,ar=et.supportsHydration,wr=et.getInstanceFromNode,vr=et.preparePortalMount,Qt=et.getCurrentEventPriority,Yt=et.detachDeletedInstance,Ht=et.supportsMicrotasks,tr=et.scheduleMicrotask,br=et.supportsTestSelectors,gr=et.findFiberRoot,Sr=et.getBoundingRect,pr=et.getTextContent,er=et.isHiddenSubtree,yr=et.matchAccessibilityRole,Gr=et.setFocusIfFocusable,Mr=et.setupIntersectionObserver,Ar=et.appendChild,an=et.appendChildToContainer,Br=et.commitTextUpdate,Dr=et.commitMount,ln=et.commitUpdate,Ir=et.insertBefore,Tr=et.insertInContainerBefore,Er=et.removeChild,_r=et.removeChildFromContainer,xr=et.resetTextContent,Xr=et.hideInstance,dr=et.hideTextInstance,Pr=et.unhideInstance,Jr=et.unhideTextInstance,Nr=et.clearContainer,$r=et.cloneInstance,Zr=et.createContainerChildSet,Or=et.appendChildToContainerChildSet,Kr=et.finalizeContainerChildren,Pn=et.replaceContainerChildren,Yr=et.cloneHiddenInstance,sn=et.cloneHiddenTextInstance,In=et.canHydrateInstance,rn=et.canHydrateTextInstance,Vr=et.canHydrateSuspenseInstance,sr=et.isSuspenseInstancePending,lr=et.isSuspenseInstanceFallback,ur=et.registerSuspenseInstanceRetry,Jt=et.getNextHydratableSibling,fr=et.getFirstHydratableChild,Cr=et.getFirstHydratableChildWithinContainer,Wr=et.getFirstHydratableChildWithinSuspenseInstance,Rr=et.hydrateInstance,cr=et.hydrateTextInstance,Lr=et.hydrateSuspenseInstance,Fr=et.getNextHydratableInstanceAfterSuspenseInstance,zr=et.commitHydratedContainer,Hr=et.commitHydratedSuspenseInstance,hn=et.clearSuspenseBoundary,gn=et.clearSuspenseBoundaryFromContainer,wn=et.shouldDeleteUnhydratedTailInstances,xn=et.didNotMatchHydratedContainerTextInstance,An=et.didNotMatchHydratedTextInstance,tn;function _n(Ct){if(tn===void 0)try{throw Error()}catch(Ut){var Bt=Ut.stack.trim().match(/\n( *(at )?)/);tn=Bt&&Bt[1]||""}return`
`+tn+Ct}var Mn=!1;function En(Ct,Bt){if(!Ct||Mn)return"";Mn=!0;var Ut=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Bt)if(Bt=function(){throw Error()},Object.defineProperty(Bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Bt,[])}catch(Bn){var qt=Bn}Reflect.construct(Ct,[],Bt)}else{try{Bt.call()}catch(Bn){qt=Bn}Ct.call(Bt.prototype)}else{try{throw Error()}catch(Bn){qt=Bn}Ct()}}catch(Bn){if(Bn&&qt&&typeof Bn.stack=="string"){for(var ir=Bn.stack.split(`
`),hr=qt.stack.split(`
`),kr=ir.length-1,Qr=hr.length-1;1<=kr&&0<=Qr&&ir[kr]!==hr[Qr];)Qr--;for(;1<=kr&&0<=Qr;kr--,Qr--)if(ir[kr]!==hr[Qr]){if(kr!==1||Qr!==1)do if(kr--,Qr--,0>Qr||ir[kr]!==hr[Qr]){var vn=`
`+ir[kr].replace(" at new "," at ");return Ct.displayName&&vn.includes("<anonymous>")&&(vn=vn.replace("<anonymous>",Ct.displayName)),vn}while(1<=kr&&0<=Qr);break}}}finally{Mn=!1,Error.prepareStackTrace=Ut}return(Ct=Ct?Ct.displayName||Ct.name:"")?_n(Ct):""}var Cn=Object.prototype.hasOwnProperty,Rn=[],Sn=-1;function un(Ct){return{current:Ct}}function jr(Ct){0>Sn||(Ct.current=Rn[Sn],Rn[Sn]=null,Sn--)}function qr(Ct,Bt){Sn++,Rn[Sn]=Ct.current,Ct.current=Bt}var yn={},dn=un(yn),pn=un(!1),Tn=yn;function Ln(Ct,Bt){var Ut=Ct.type.contextTypes;if(!Ut)return yn;var qt=Ct.stateNode;if(qt&&qt.__reactInternalMemoizedUnmaskedChildContext===Bt)return qt.__reactInternalMemoizedMaskedChildContext;var ir={},hr;for(hr in Ut)ir[hr]=Bt[hr];return qt&&(Ct=Ct.stateNode,Ct.__reactInternalMemoizedUnmaskedChildContext=Bt,Ct.__reactInternalMemoizedMaskedChildContext=ir),ir}function Fn(Ct){return Ct=Ct.childContextTypes,Ct!=null}function $n(){jr(pn),jr(dn)}function On(Ct,Bt,Ut){if(dn.current!==yn)throw Error(at(168));qr(dn,Bt),qr(pn,Ut)}function Ur(Ct,Bt,Ut){var qt=Ct.stateNode;if(Bt=Bt.childContextTypes,typeof qt.getChildContext!="function")return Ut;qt=qt.getChildContext();for(var ir in qt)if(!(ir in Bt))throw Error(at(108,Wt(Ct)||"Unknown",ir));return it({},Ut,qt)}function qn(Ct){return Ct=(Ct=Ct.stateNode)&&Ct.__reactInternalMemoizedMergedChildContext||yn,Tn=dn.current,qr(dn,Ct),qr(pn,pn.current),!0}function zn(Ct,Bt,Ut){var qt=Ct.stateNode;if(!qt)throw Error(at(169));Ut?(Ct=Ur(Ct,Bt,Tn),qt.__reactInternalMemoizedMergedChildContext=Ct,jr(pn),jr(dn),qr(dn,Ct)):jr(pn),qr(pn,Ut)}var Wn=Math.clz32?Math.clz32:Yn,Vn=Math.log,Xn=Math.LN2;function Yn(Ct){return Ct>>>=0,Ct===0?32:31-(Vn(Ct)/Xn|0)|0}var no=64,Qn=4194304;function eo(Ct){switch(Ct&-Ct){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ct&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return Ct&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return Ct}}function io(Ct,Bt){var Ut=Ct.pendingLanes;if(Ut===0)return 0;var qt=0,ir=Ct.suspendedLanes,hr=Ct.pingedLanes,kr=Ut&268435455;if(kr!==0){var Qr=kr&~ir;Qr!==0?qt=eo(Qr):(hr&=kr,hr!==0&&(qt=eo(hr)))}else kr=Ut&~ir,kr!==0?qt=eo(kr):hr!==0&&(qt=eo(hr));if(qt===0)return 0;if(Bt!==0&&Bt!==qt&&!(Bt&ir)&&(ir=qt&-qt,hr=Bt&-Bt,ir>=hr||ir===16&&(hr&4194240)!==0))return Bt;if(qt&4&&(qt|=Ut&16),Bt=Ct.entangledLanes,Bt!==0)for(Ct=Ct.entanglements,Bt&=qt;0<Bt;)Ut=31-Wn(Bt),ir=1<<Ut,qt|=Ct[Ut],Bt&=~ir;return qt}function oo(Ct,Bt){switch(Ct){case 1:case 2:case 4:return Bt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Bt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(Ct,Bt){for(var Ut=Ct.suspendedLanes,qt=Ct.pingedLanes,ir=Ct.expirationTimes,hr=Ct.pendingLanes;0<hr;){var kr=31-Wn(hr),Qr=1<<kr,vn=ir[kr];vn===-1?(!(Qr&Ut)||Qr&qt)&&(ir[kr]=oo(Qr,Bt)):vn<=Bt&&(Ct.expiredLanes|=Qr),hr&=~Qr}}function lo(Ct){return Ct=Ct.pendingLanes&-1073741825,Ct!==0?Ct:Ct&1073741824?1073741824:0}function fo(Ct){for(var Bt=[],Ut=0;31>Ut;Ut++)Bt.push(Ct);return Bt}function ao(Ct,Bt,Ut){Ct.pendingLanes|=Bt,Bt!==536870912&&(Ct.suspendedLanes=0,Ct.pingedLanes=0),Ct=Ct.eventTimes,Bt=31-Wn(Bt),Ct[Bt]=Ut}function fs(Ct,Bt){var Ut=Ct.pendingLanes&~Bt;Ct.pendingLanes=Bt,Ct.suspendedLanes=0,Ct.pingedLanes=0,Ct.expiredLanes&=Bt,Ct.mutableReadLanes&=Bt,Ct.entangledLanes&=Bt,Bt=Ct.entanglements;var qt=Ct.eventTimes;for(Ct=Ct.expirationTimes;0<Ut;){var ir=31-Wn(Ut),hr=1<<ir;Bt[ir]=0,qt[ir]=-1,Ct[ir]=-1,Ut&=~hr}}function $a(Ct,Bt){var Ut=Ct.entangledLanes|=Bt;for(Ct=Ct.entanglements;Ut;){var qt=31-Wn(Ut),ir=1<<qt;ir&Bt|Ct[qt]&Bt&&(Ct[qt]|=Bt),Ut&=~ir}}var _i=0;function Ks(Ct){return Ct&=-Ct,1<Ct?4<Ct?Ct&268435455?16:536870912:4:1}var os=ot.unstable_scheduleCallback,Ds=ot.unstable_cancelCallback,Xs=ot.unstable_shouldYield,Ol=ot.unstable_requestPaint,ho=ot.unstable_now,ws=ot.unstable_ImmediatePriority,Nl=ot.unstable_UserBlockingPriority,Po=ot.unstable_NormalPriority,Js=ot.unstable_IdlePriority,xs=null,Go=null;function Ys(Ct){if(Go&&typeof Go.onCommitFiberRoot=="function")try{Go.onCommitFiberRoot(xs,Ct,void 0,(Ct.current.flags&128)===128)}catch{}}function $l(Ct,Bt){return Ct===Bt&&(Ct!==0||1/Ct===1/Bt)||Ct!==Ct&&Bt!==Bt}var Ho=typeof Object.is=="function"?Object.is:$l,Io=null,es=!1,Ko=!1;function Qs(Ct){Io===null?Io=[Ct]:Io.push(Ct)}function Zs(Ct){es=!0,Qs(Ct)}function Uo(){if(!Ko&&Io!==null){Ko=!0;var Ct=0,Bt=_i;try{var Ut=Io;for(_i=1;Ct<Ut.length;Ct++){var qt=Ut[Ct];do qt=qt(!0);while(qt!==null)}Io=null,es=!1}catch(ir){throw Io!==null&&(Io=Io.slice(Ct+1)),os(ws,Uo),ir}finally{_i=Bt,Ko=!1}}return null}var Ms=st.ReactCurrentBatchConfig;function Ss(Ct,Bt){if(Ho(Ct,Bt))return!0;if(typeof Ct!="object"||Ct===null||typeof Bt!="object"||Bt===null)return!1;var Ut=Object.keys(Ct),qt=Object.keys(Bt);if(Ut.length!==qt.length)return!1;for(qt=0;qt<Ut.length;qt++){var ir=Ut[qt];if(!Cn.call(Bt,ir)||!Ho(Ct[ir],Bt[ir]))return!1}return!0}function As(Ct){switch(Ct.tag){case 5:return _n(Ct.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return Ct=En(Ct.type,!1),Ct;case 11:return Ct=En(Ct.type.render,!1),Ct;case 1:return Ct=En(Ct.type,!0),Ct;default:return""}}function Lo(Ct,Bt){if(Ct&&Ct.defaultProps){Bt=it({},Bt),Ct=Ct.defaultProps;for(var Ut in Ct)Bt[Ut]===void 0&&(Bt[Ut]=Ct[Ut]);return Bt}return Bt}var xo=un(null),Fs=null,ba=null,hs=null;function Us(){hs=ba=Fs=null}function Gl(Ct,Bt,Ut){or?(qr(xo,Bt._currentValue),Bt._currentValue=Ut):(qr(xo,Bt._currentValue2),Bt._currentValue2=Ut)}function Mo(Ct){var Bt=xo.current;jr(xo),or?Ct._currentValue=Bt:Ct._currentValue2=Bt}function ko(Ct,Bt,Ut){for(;Ct!==null;){var qt=Ct.alternate;if((Ct.childLanes&Bt)!==Bt?(Ct.childLanes|=Bt,qt!==null&&(qt.childLanes|=Bt)):qt!==null&&(qt.childLanes&Bt)!==Bt&&(qt.childLanes|=Bt),Ct===Ut)break;Ct=Ct.return}}function go(Ct,Bt){Fs=Ct,hs=ba=null,Ct=Ct.dependencies,Ct!==null&&Ct.firstContext!==null&&(Ct.lanes&Bt&&(Vo=!0),Ct.firstContext=null)}function vo(Ct){var Bt=or?Ct._currentValue:Ct._currentValue2;if(hs!==Ct)if(Ct={context:Ct,memoizedValue:Bt,next:null},ba===null){if(Fs===null)throw Error(at(308));ba=Ct,Fs.dependencies={lanes:0,firstContext:Ct}}else ba=ba.next=Ct;return Bt}var qo=null,ds=!1;function Ru(Ct){Ct.updateQueue={baseState:Ct.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function x0(Ct,Bt){Ct=Ct.updateQueue,Bt.updateQueue===Ct&&(Bt.updateQueue={baseState:Ct.baseState,firstBaseUpdate:Ct.firstBaseUpdate,lastBaseUpdate:Ct.lastBaseUpdate,shared:Ct.shared,effects:Ct.effects})}function as(Ct,Bt){return{eventTime:Ct,lane:Bt,tag:0,payload:null,callback:null,next:null}}function ps(Ct,Bt){var Ut=Ct.updateQueue;Ut!==null&&(Ut=Ut.shared,_o!==null&&Ct.mode&1&&!(Zn&2)?(Ct=Ut.interleaved,Ct===null?(Bt.next=Bt,qo===null?qo=[Ut]:qo.push(Ut)):(Bt.next=Ct.next,Ct.next=Bt),Ut.interleaved=Bt):(Ct=Ut.pending,Ct===null?Bt.next=Bt:(Bt.next=Ct.next,Ct.next=Bt),Ut.pending=Bt))}function Hl(Ct,Bt,Ut){if(Bt=Bt.updateQueue,Bt!==null&&(Bt=Bt.shared,(Ut&4194240)!==0)){var qt=Bt.lanes;qt&=Ct.pendingLanes,Ut|=qt,Bt.lanes=Ut,$a(Ct,Ut)}}function M0(Ct,Bt){var Ut=Ct.updateQueue,qt=Ct.alternate;if(qt!==null&&(qt=qt.updateQueue,Ut===qt)){var ir=null,hr=null;if(Ut=Ut.firstBaseUpdate,Ut!==null){do{var kr={eventTime:Ut.eventTime,lane:Ut.lane,tag:Ut.tag,payload:Ut.payload,callback:Ut.callback,next:null};hr===null?ir=hr=kr:hr=hr.next=kr,Ut=Ut.next}while(Ut!==null);hr===null?ir=hr=Bt:hr=hr.next=Bt}else ir=hr=Bt;Ut={baseState:qt.baseState,firstBaseUpdate:ir,lastBaseUpdate:hr,shared:qt.shared,effects:qt.effects},Ct.updateQueue=Ut;return}Ct=Ut.lastBaseUpdate,Ct===null?Ut.firstBaseUpdate=Bt:Ct.next=Bt,Ut.lastBaseUpdate=Bt}function zl(Ct,Bt,Ut,qt){var ir=Ct.updateQueue;ds=!1;var hr=ir.firstBaseUpdate,kr=ir.lastBaseUpdate,Qr=ir.shared.pending;if(Qr!==null){ir.shared.pending=null;var vn=Qr,Bn=vn.next;vn.next=null,kr===null?hr=Bn:kr.next=Bn,kr=vn;var Un=Ct.alternate;Un!==null&&(Un=Un.updateQueue,Qr=Un.lastBaseUpdate,Qr!==kr&&(Qr===null?Un.firstBaseUpdate=Bn:Qr.next=Bn,Un.lastBaseUpdate=vn))}if(hr!==null){var jn=ir.baseState;kr=0,Un=Bn=vn=null,Qr=hr;do{var Hn=Qr.lane,so=Qr.eventTime;if((qt&Hn)===Hn){Un!==null&&(Un=Un.next={eventTime:so,lane:0,tag:Qr.tag,payload:Qr.payload,callback:Qr.callback,next:null});e:{var Gn=Ct,Bo=Qr;switch(Hn=Bt,so=Ut,Bo.tag){case 1:if(Gn=Bo.payload,typeof Gn=="function"){jn=Gn.call(so,jn,Hn);break e}jn=Gn;break e;case 3:Gn.flags=Gn.flags&-65537|128;case 0:if(Gn=Bo.payload,Hn=typeof Gn=="function"?Gn.call(so,jn,Hn):Gn,Hn==null)break e;jn=it({},jn,Hn);break e;case 2:ds=!0}}Qr.callback!==null&&Qr.lane!==0&&(Ct.flags|=64,Hn=ir.effects,Hn===null?ir.effects=[Qr]:Hn.push(Qr))}else so={eventTime:so,lane:Hn,tag:Qr.tag,payload:Qr.payload,callback:Qr.callback,next:null},Un===null?(Bn=Un=so,vn=jn):Un=Un.next=so,kr|=Hn;if(Qr=Qr.next,Qr===null){if(Qr=ir.shared.pending,Qr===null)break;Hn=Qr,Qr=Hn.next,Hn.next=null,ir.lastBaseUpdate=Hn,ir.shared.pending=null}}while(1);if(Un===null&&(vn=jn),ir.baseState=vn,ir.firstBaseUpdate=Bn,ir.lastBaseUpdate=Un,Bt=ir.shared.interleaved,Bt!==null){ir=Bt;do kr|=ir.lane,ir=ir.next;while(ir!==Bt)}else hr===null&&(ir.shared.lanes=0);Vs|=kr,Ct.lanes=kr,Ct.memoizedState=jn}}function S0(Ct,Bt,Ut){if(Ct=Bt.effects,Bt.effects=null,Ct!==null)for(Bt=0;Bt<Ct.length;Bt++){var qt=Ct[Bt],ir=qt.callback;if(ir!==null){if(qt.callback=null,qt=Ut,typeof ir!="function")throw Error(at(191,ir));ir.call(qt)}}}var A0=new nt.Component().refs;function Bu(Ct,Bt,Ut,qt){Bt=Ct.memoizedState,Ut=Ut(qt,Bt),Ut=Ut==null?Bt:it({},Bt,Ut),Ct.memoizedState=Ut,Ct.lanes===0&&(Ct.updateQueue.baseState=Ut)}var Wl={isMounted:function(Ct){return(Ct=Ct._reactInternals)?Ot(Ct)===Ct:!1},enqueueSetState:function(Ct,Bt,Ut){Ct=Ct._reactInternals;var qt=Fo(),ir=vs(Ct),hr=as(qt,ir);hr.payload=Bt,Ut!=null&&(hr.callback=Ut),ps(Ct,hr),Bt=Zo(Ct,ir,qt),Bt!==null&&Hl(Bt,Ct,ir)},enqueueReplaceState:function(Ct,Bt,Ut){Ct=Ct._reactInternals;var qt=Fo(),ir=vs(Ct),hr=as(qt,ir);hr.tag=1,hr.payload=Bt,Ut!=null&&(hr.callback=Ut),ps(Ct,hr),Bt=Zo(Ct,ir,qt),Bt!==null&&Hl(Bt,Ct,ir)},enqueueForceUpdate:function(Ct,Bt){Ct=Ct._reactInternals;var Ut=Fo(),qt=vs(Ct),ir=as(Ut,qt);ir.tag=2,Bt!=null&&(ir.callback=Bt),ps(Ct,ir),Bt=Zo(Ct,qt,Ut),Bt!==null&&Hl(Bt,Ct,qt)}};function E0(Ct,Bt,Ut,qt,ir,hr,kr){return Ct=Ct.stateNode,typeof Ct.shouldComponentUpdate=="function"?Ct.shouldComponentUpdate(qt,hr,kr):Bt.prototype&&Bt.prototype.isPureReactComponent?!Ss(Ut,qt)||!Ss(ir,hr):!0}function C0(Ct,Bt,Ut){var qt=!1,ir=yn,hr=Bt.contextType;return typeof hr=="object"&&hr!==null?hr=vo(hr):(ir=Fn(Bt)?Tn:dn.current,qt=Bt.contextTypes,hr=(qt=qt!=null)?Ln(Ct,ir):yn),Bt=new Bt(Ut,hr),Ct.memoizedState=Bt.state!==null&&Bt.state!==void 0?Bt.state:null,Bt.updater=Wl,Ct.stateNode=Bt,Bt._reactInternals=Ct,qt&&(Ct=Ct.stateNode,Ct.__reactInternalMemoizedUnmaskedChildContext=ir,Ct.__reactInternalMemoizedMaskedChildContext=hr),Bt}function T0(Ct,Bt,Ut,qt){Ct=Bt.state,typeof Bt.componentWillReceiveProps=="function"&&Bt.componentWillReceiveProps(Ut,qt),typeof Bt.UNSAFE_componentWillReceiveProps=="function"&&Bt.UNSAFE_componentWillReceiveProps(Ut,qt),Bt.state!==Ct&&Wl.enqueueReplaceState(Bt,Bt.state,null)}function Pu(Ct,Bt,Ut,qt){var ir=Ct.stateNode;ir.props=Ut,ir.state=Ct.memoizedState,ir.refs=A0,Ru(Ct);var hr=Bt.contextType;typeof hr=="object"&&hr!==null?ir.context=vo(hr):(hr=Fn(Bt)?Tn:dn.current,ir.context=Ln(Ct,hr)),ir.state=Ct.memoizedState,hr=Bt.getDerivedStateFromProps,typeof hr=="function"&&(Bu(Ct,Bt,hr,Ut),ir.state=Ct.memoizedState),typeof Bt.getDerivedStateFromProps=="function"||typeof ir.getSnapshotBeforeUpdate=="function"||typeof ir.UNSAFE_componentWillMount!="function"&&typeof ir.componentWillMount!="function"||(Bt=ir.state,typeof ir.componentWillMount=="function"&&ir.componentWillMount(),typeof ir.UNSAFE_componentWillMount=="function"&&ir.UNSAFE_componentWillMount(),Bt!==ir.state&&Wl.enqueueReplaceState(ir,ir.state,null),zl(Ct,Ut,ir,qt),ir.state=Ct.memoizedState),typeof ir.componentDidMount=="function"&&(Ct.flags|=4194308)}var Os=[],Ns=0,Vl=null,Kl=0,Xo=[],Jo=0,Es=null,ss=1,ls="";function Cs(Ct,Bt){Os[Ns++]=Kl,Os[Ns++]=Vl,Vl=Ct,Kl=Bt}function R0(Ct,Bt,Ut){Xo[Jo++]=ss,Xo[Jo++]=ls,Xo[Jo++]=Es,Es=Ct;var qt=ss;Ct=ls;var ir=32-Wn(qt)-1;qt&=~(1<<ir),Ut+=1;var hr=32-Wn(Bt)+ir;if(30<hr){var kr=ir-ir%5;hr=(qt&(1<<kr)-1).toString(32),qt>>=kr,ir-=kr,ss=1<<32-Wn(Bt)+ir|Ut<<ir|qt,ls=hr+Ct}else ss=1<<hr|Ut<<ir|qt,ls=Ct}function Iu(Ct){Ct.return!==null&&(Cs(Ct,1),R0(Ct,1,0))}function Lu(Ct){for(;Ct===Vl;)Vl=Os[--Ns],Os[Ns]=null,Kl=Os[--Ns],Os[Ns]=null;for(;Ct===Es;)Es=Xo[--Jo],Xo[Jo]=null,ls=Xo[--Jo],Xo[Jo]=null,ss=Xo[--Jo],Xo[Jo]=null}var zo=null,Wo=null,co=!1,yl=!1,xa=null;function B0(Ct,Bt){var Ut=na(5,null,null,0);Ut.elementType="DELETED",Ut.stateNode=Bt,Ut.return=Ct,Bt=Ct.deletions,Bt===null?(Ct.deletions=[Ut],Ct.flags|=16):Bt.push(Ut)}function P0(Ct,Bt){switch(Ct.tag){case 5:return Bt=In(Bt,Ct.type,Ct.pendingProps),Bt!==null?(Ct.stateNode=Bt,zo=Ct,Wo=fr(Bt),!0):!1;case 6:return Bt=rn(Bt,Ct.pendingProps),Bt!==null?(Ct.stateNode=Bt,zo=Ct,Wo=null,!0):!1;case 13:if(Bt=Vr(Bt),Bt!==null){var Ut=Es!==null?{id:ss,overflow:ls}:null;return Ct.memoizedState={dehydrated:Bt,treeContext:Ut,retryLane:1073741824},Ut=na(18,null,null,0),Ut.stateNode=Bt,Ut.return=Ct,Ct.child=Ut,zo=Ct,Wo=null,!0}return!1;default:return!1}}function ku(Ct){return(Ct.mode&1)!==0&&(Ct.flags&128)===0}function Du(Ct){if(co){var Bt=Wo;if(Bt){var Ut=Bt;if(!P0(Ct,Bt)){if(ku(Ct))throw Error(at(418));Bt=Jt(Ut);var qt=zo;Bt&&P0(Ct,Bt)?B0(qt,Ut):(Ct.flags=Ct.flags&-4097|2,co=!1,zo=Ct)}}else{if(ku(Ct))throw Error(at(418));Ct.flags=Ct.flags&-4097|2,co=!1,zo=Ct}}}function I0(Ct){for(Ct=Ct.return;Ct!==null&&Ct.tag!==5&&Ct.tag!==3&&Ct.tag!==13;)Ct=Ct.return;zo=Ct}function _l(Ct){if(!ar||Ct!==zo)return!1;if(!co)return I0(Ct),co=!0,!1;if(Ct.tag!==3&&(Ct.tag!==5||wn(Ct.type)&&!Zt(Ct.type,Ct.memoizedProps))){var Bt=Wo;if(Bt){if(ku(Ct)){for(Ct=Wo;Ct;)Ct=Jt(Ct);throw Error(at(418))}for(;Bt;)B0(Ct,Bt),Bt=Jt(Bt)}}if(I0(Ct),Ct.tag===13){if(!ar)throw Error(at(316));if(Ct=Ct.memoizedState,Ct=Ct!==null?Ct.dehydrated:null,!Ct)throw Error(at(317));Wo=Fr(Ct)}else Wo=zo?Jt(Ct.stateNode):null;return!0}function $s(){ar&&(Wo=zo=null,yl=co=!1)}function Fu(Ct){xa===null?xa=[Ct]:xa.push(Ct)}function wl(Ct,Bt,Ut){if(Ct=Ut.ref,Ct!==null&&typeof Ct!="function"&&typeof Ct!="object"){if(Ut._owner){if(Ut=Ut._owner,Ut){if(Ut.tag!==1)throw Error(at(309));var qt=Ut.stateNode}if(!qt)throw Error(at(147,Ct));var ir=qt,hr=""+Ct;return Bt!==null&&Bt.ref!==null&&typeof Bt.ref=="function"&&Bt.ref._stringRef===hr?Bt.ref:(Bt=function(kr){var Qr=ir.refs;Qr===A0&&(Qr=ir.refs={}),kr===null?delete Qr[hr]:Qr[hr]=kr},Bt._stringRef=hr,Bt)}if(typeof Ct!="string")throw Error(at(284));if(!Ut._owner)throw Error(at(290,Ct))}return Ct}function Xl(Ct,Bt){throw Ct=Object.prototype.toString.call(Bt),Error(at(31,Ct==="[object Object]"?"object with keys {"+Object.keys(Bt).join(", ")+"}":Ct))}function L0(Ct){var Bt=Ct._init;return Bt(Ct._payload)}function k0(Ct){function Bt(fn,nn){if(Ct){var mn=fn.deletions;mn===null?(fn.deletions=[nn],fn.flags|=16):mn.push(nn)}}function Ut(fn,nn){if(!Ct)return null;for(;nn!==null;)Bt(fn,nn),nn=nn.sibling;return null}function qt(fn,nn){for(fn=new Map;nn!==null;)nn.key!==null?fn.set(nn.key,nn):fn.set(nn.index,nn),nn=nn.sibling;return fn}function ir(fn,nn){return fn=_s(fn,nn),fn.index=0,fn.sibling=null,fn}function hr(fn,nn,mn){return fn.index=mn,Ct?(mn=fn.alternate,mn!==null?(mn=mn.index,mn<nn?(fn.flags|=2,nn):mn):(fn.flags|=2,nn)):(fn.flags|=1048576,nn)}function kr(fn){return Ct&&fn.alternate===null&&(fn.flags|=2),fn}function Qr(fn,nn,mn,Dn){return nn===null||nn.tag!==6?(nn=_0(mn,fn.mode,Dn),nn.return=fn,nn):(nn=ir(nn,mn),nn.return=fn,nn)}function vn(fn,nn,mn,Dn){var Nn=mn.type;return Nn===ht?Un(fn,nn,mn.props.children,Dn,mn.key):nn!==null&&(nn.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===It&&L0(Nn)===nn.type)?(Dn=ir(nn,mn.props),Dn.ref=wl(fn,nn,mn),Dn.return=fn,Dn):(Dn=Cu(mn.type,mn.key,mn.props,null,fn.mode,Dn),Dn.ref=wl(fn,nn,mn),Dn.return=fn,Dn)}function Bn(fn,nn,mn,Dn){return nn===null||nn.tag!==4||nn.stateNode.containerInfo!==mn.containerInfo||nn.stateNode.implementation!==mn.implementation?(nn=b0(mn,fn.mode,Dn),nn.return=fn,nn):(nn=ir(nn,mn.children||[]),nn.return=fn,nn)}function Un(fn,nn,mn,Dn,Nn){return nn===null||nn.tag!==7?(nn=ks(mn,fn.mode,Dn,Nn),nn.return=fn,nn):(nn=ir(nn,mn),nn.return=fn,nn)}function jn(fn,nn,mn){if(typeof nn=="string"&&nn!==""||typeof nn=="number")return nn=_0(""+nn,fn.mode,mn),nn.return=fn,nn;if(typeof nn=="object"&&nn!==null){switch(nn.$$typeof){case ut:return mn=Cu(nn.type,nn.key,nn.props,null,fn.mode,mn),mn.ref=wl(fn,null,nn),mn.return=fn,mn;case ft:return nn=b0(nn,fn.mode,mn),nn.return=fn,nn;case It:var Dn=nn._init;return jn(fn,Dn(nn._payload),mn)}if(vt(nn)||Nt(nn))return nn=ks(nn,fn.mode,mn,null),nn.return=fn,nn;Xl(fn,nn)}return null}function Hn(fn,nn,mn,Dn){var Nn=nn!==null?nn.key:null;if(typeof mn=="string"&&mn!==""||typeof mn=="number")return Nn!==null?null:Qr(fn,nn,""+mn,Dn);if(typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case ut:return mn.key===Nn?vn(fn,nn,mn,Dn):null;case ft:return mn.key===Nn?Bn(fn,nn,mn,Dn):null;case It:return Nn=mn._init,Hn(fn,nn,Nn(mn._payload),Dn)}if(vt(mn)||Nt(mn))return Nn!==null?null:Un(fn,nn,mn,Dn,null);Xl(fn,mn)}return null}function so(fn,nn,mn,Dn,Nn){if(typeof Dn=="string"&&Dn!==""||typeof Dn=="number")return fn=fn.get(mn)||null,Qr(nn,fn,""+Dn,Nn);if(typeof Dn=="object"&&Dn!==null){switch(Dn.$$typeof){case ut:return fn=fn.get(Dn.key===null?mn:Dn.key)||null,vn(nn,fn,Dn,Nn);case ft:return fn=fn.get(Dn.key===null?mn:Dn.key)||null,Bn(nn,fn,Dn,Nn);case It:var Jn=Dn._init;return so(fn,nn,mn,Jn(Dn._payload),Nn)}if(vt(Dn)||Nt(Dn))return fn=fn.get(mn)||null,Un(nn,fn,Dn,Nn,null);Xl(nn,Dn)}return null}function Gn(fn,nn,mn,Dn){for(var Nn=null,Jn=null,Kn=nn,to=nn=0,Ao=null;Kn!==null&&to<mn.length;to++){Kn.index>to?(Ao=Kn,Kn=null):Ao=Kn.sibling;var ro=Hn(fn,Kn,mn[to],Dn);if(ro===null){Kn===null&&(Kn=Ao);break}Ct&&Kn&&ro.alternate===null&&Bt(fn,Kn),nn=hr(ro,nn,to),Jn===null?Nn=ro:Jn.sibling=ro,Jn=ro,Kn=Ao}if(to===mn.length)return Ut(fn,Kn),co&&Cs(fn,to),Nn;if(Kn===null){for(;to<mn.length;to++)Kn=jn(fn,mn[to],Dn),Kn!==null&&(nn=hr(Kn,nn,to),Jn===null?Nn=Kn:Jn.sibling=Kn,Jn=Kn);return co&&Cs(fn,to),Nn}for(Kn=qt(fn,Kn);to<mn.length;to++)Ao=so(Kn,fn,to,mn[to],Dn),Ao!==null&&(Ct&&Ao.alternate!==null&&Kn.delete(Ao.key===null?to:Ao.key),nn=hr(Ao,nn,to),Jn===null?Nn=Ao:Jn.sibling=Ao,Jn=Ao);return Ct&&Kn.forEach(function(bs){return Bt(fn,bs)}),co&&Cs(fn,to),Nn}function Bo(fn,nn,mn,Dn){var Nn=Nt(mn);if(typeof Nn!="function")throw Error(at(150));if(mn=Nn.call(mn),mn==null)throw Error(at(151));for(var Jn=Nn=null,Kn=nn,to=nn=0,Ao=null,ro=mn.next();Kn!==null&&!ro.done;to++,ro=mn.next()){Kn.index>to?(Ao=Kn,Kn=null):Ao=Kn.sibling;var bs=Hn(fn,Kn,ro.value,Dn);if(bs===null){Kn===null&&(Kn=Ao);break}Ct&&Kn&&bs.alternate===null&&Bt(fn,Kn),nn=hr(bs,nn,to),Jn===null?Nn=bs:Jn.sibling=bs,Jn=bs,Kn=Ao}if(ro.done)return Ut(fn,Kn),co&&Cs(fn,to),Nn;if(Kn===null){for(;!ro.done;to++,ro=mn.next())ro=jn(fn,ro.value,Dn),ro!==null&&(nn=hr(ro,nn,to),Jn===null?Nn=ro:Jn.sibling=ro,Jn=ro);return co&&Cs(fn,to),Nn}for(Kn=qt(fn,Kn);!ro.done;to++,ro=mn.next())ro=so(Kn,fn,to,ro.value,Dn),ro!==null&&(Ct&&ro.alternate!==null&&Kn.delete(ro.key===null?to:ro.key),nn=hr(ro,nn,to),Jn===null?Nn=ro:Jn.sibling=ro,Jn=ro);return Ct&&Kn.forEach(function(Sm){return Bt(fn,Sm)}),co&&Cs(fn,to),Nn}function ga(fn,nn,mn,Dn){if(typeof mn=="object"&&mn!==null&&mn.type===ht&&mn.key===null&&(mn=mn.props.children),typeof mn=="object"&&mn!==null){switch(mn.$$typeof){case ut:e:{for(var Nn=mn.key,Jn=nn;Jn!==null;){if(Jn.key===Nn){if(Nn=mn.type,Nn===ht){if(Jn.tag===7){Ut(fn,Jn.sibling),nn=ir(Jn,mn.props.children),nn.return=fn,fn=nn;break e}}else if(Jn.elementType===Nn||typeof Nn=="object"&&Nn!==null&&Nn.$$typeof===It&&L0(Nn)===Jn.type){Ut(fn,Jn.sibling),nn=ir(Jn,mn.props),nn.ref=wl(fn,Jn,mn),nn.return=fn,fn=nn;break e}Ut(fn,Jn);break}else Bt(fn,Jn);Jn=Jn.sibling}mn.type===ht?(nn=ks(mn.props.children,fn.mode,Dn,mn.key),nn.return=fn,fn=nn):(Dn=Cu(mn.type,mn.key,mn.props,null,fn.mode,Dn),Dn.ref=wl(fn,nn,mn),Dn.return=fn,fn=Dn)}return kr(fn);case ft:e:{for(Jn=mn.key;nn!==null;){if(nn.key===Jn)if(nn.tag===4&&nn.stateNode.containerInfo===mn.containerInfo&&nn.stateNode.implementation===mn.implementation){Ut(fn,nn.sibling),nn=ir(nn,mn.children||[]),nn.return=fn,fn=nn;break e}else{Ut(fn,nn);break}else Bt(fn,nn);nn=nn.sibling}nn=b0(mn,fn.mode,Dn),nn.return=fn,fn=nn}return kr(fn);case It:return Jn=mn._init,ga(fn,nn,Jn(mn._payload),Dn)}if(vt(mn))return Gn(fn,nn,mn,Dn);if(Nt(mn))return Bo(fn,nn,mn,Dn);Xl(fn,mn)}return typeof mn=="string"&&mn!==""||typeof mn=="number"?(mn=""+mn,nn!==null&&nn.tag===6?(Ut(fn,nn.sibling),nn=ir(nn,mn),nn.return=fn,fn=nn):(Ut(fn,nn),nn=_0(mn,fn.mode,Dn),nn.return=fn,fn=nn),kr(fn)):Ut(fn,nn)}return ga}var Gs=k0(!0),D0=k0(!1),xl={},Yo=un(xl),Ml=un(xl),Hs=un(xl);function ts(Ct){if(Ct===xl)throw Error(at(174));return Ct}function Uu(Ct,Bt){qr(Hs,Bt),qr(Ml,Ct),qr(Yo,xl),Ct=At(Bt),jr(Yo),qr(Yo,Ct)}function qs(){jr(Yo),jr(Ml),jr(Hs)}function F0(Ct){var Bt=ts(Hs.current),Ut=ts(Yo.current);Bt=Rt(Ut,Ct.type,Bt),Ut!==Bt&&(qr(Ml,Ct),qr(Yo,Bt))}function Ou(Ct){Ml.current===Ct&&(jr(Yo),jr(Ml))}var po=un(0);function Jl(Ct){for(var Bt=Ct;Bt!==null;){if(Bt.tag===13){var Ut=Bt.memoizedState;if(Ut!==null&&(Ut=Ut.dehydrated,Ut===null||sr(Ut)||lr(Ut)))return Bt}else if(Bt.tag===19&&Bt.memoizedProps.revealOrder!==void 0){if(Bt.flags&128)return Bt}else if(Bt.child!==null){Bt.child.return=Bt,Bt=Bt.child;continue}if(Bt===Ct)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Ct)return null;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}return null}var Nu=[];function $u(){for(var Ct=0;Ct<Nu.length;Ct++){var Bt=Nu[Ct];or?Bt._workInProgressVersionPrimary=null:Bt._workInProgressVersionSecondary=null}Nu.length=0}var Yl=st.ReactCurrentDispatcher,Qo=st.ReactCurrentBatchConfig,zs=0,mo=null,Co=null,So=null,Ql=!1,Sl=!1,Al=0,Xp=0;function To(){throw Error(at(321))}function Gu(Ct,Bt){if(Bt===null)return!1;for(var Ut=0;Ut<Bt.length&&Ut<Ct.length;Ut++)if(!Ho(Ct[Ut],Bt[Ut]))return!1;return!0}function Hu(Ct,Bt,Ut,qt,ir,hr){if(zs=hr,mo=Bt,Bt.memoizedState=null,Bt.updateQueue=null,Bt.lanes=0,Yl.current=Ct===null||Ct.memoizedState===null?Zp:em,Ct=Ut(qt,ir),Sl){hr=0;do{if(Sl=!1,Al=0,25<=hr)throw Error(at(301));hr+=1,So=Co=null,Bt.updateQueue=null,Yl.current=tm,Ct=Ut(qt,ir)}while(Sl)}if(Yl.current=iu,Bt=Co!==null&&Co.next!==null,zs=0,So=Co=mo=null,Ql=!1,Bt)throw Error(at(300));return Ct}function qu(){var Ct=Al!==0;return Al=0,Ct}function us(){var Ct={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return So===null?mo.memoizedState=So=Ct:So=So.next=Ct,So}function rs(){if(Co===null){var Ct=mo.alternate;Ct=Ct!==null?Ct.memoizedState:null}else Ct=Co.next;var Bt=So===null?mo.memoizedState:So.next;if(Bt!==null)So=Bt,Co=Ct;else{if(Ct===null)throw Error(at(310));Co=Ct,Ct={memoizedState:Co.memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},So===null?mo.memoizedState=So=Ct:So=So.next=Ct}return So}function Ts(Ct,Bt){return typeof Bt=="function"?Bt(Ct):Bt}function Zl(Ct){var Bt=rs(),Ut=Bt.queue;if(Ut===null)throw Error(at(311));Ut.lastRenderedReducer=Ct;var qt=Co,ir=qt.baseQueue,hr=Ut.pending;if(hr!==null){if(ir!==null){var kr=ir.next;ir.next=hr.next,hr.next=kr}qt.baseQueue=ir=hr,Ut.pending=null}if(ir!==null){hr=ir.next,qt=qt.baseState;var Qr=kr=null,vn=null,Bn=hr;do{var Un=Bn.lane;if((zs&Un)===Un)vn!==null&&(vn=vn.next={lane:0,action:Bn.action,hasEagerState:Bn.hasEagerState,eagerState:Bn.eagerState,next:null}),qt=Bn.hasEagerState?Bn.eagerState:Ct(qt,Bn.action);else{var jn={lane:Un,action:Bn.action,hasEagerState:Bn.hasEagerState,eagerState:Bn.eagerState,next:null};vn===null?(Qr=vn=jn,kr=qt):vn=vn.next=jn,mo.lanes|=Un,Vs|=Un}Bn=Bn.next}while(Bn!==null&&Bn!==hr);vn===null?kr=qt:vn.next=Qr,Ho(qt,Bt.memoizedState)||(Vo=!0),Bt.memoizedState=qt,Bt.baseState=kr,Bt.baseQueue=vn,Ut.lastRenderedState=qt}if(Ct=Ut.interleaved,Ct!==null){ir=Ct;do hr=ir.lane,mo.lanes|=hr,Vs|=hr,ir=ir.next;while(ir!==Ct)}else ir===null&&(Ut.lanes=0);return[Bt.memoizedState,Ut.dispatch]}function eu(Ct){var Bt=rs(),Ut=Bt.queue;if(Ut===null)throw Error(at(311));Ut.lastRenderedReducer=Ct;var qt=Ut.dispatch,ir=Ut.pending,hr=Bt.memoizedState;if(ir!==null){Ut.pending=null;var kr=ir=ir.next;do hr=Ct(hr,kr.action),kr=kr.next;while(kr!==ir);Ho(hr,Bt.memoizedState)||(Vo=!0),Bt.memoizedState=hr,Bt.baseQueue===null&&(Bt.baseState=hr),Ut.lastRenderedState=hr}return[hr,qt]}function U0(){}function O0(Ct,Bt){var Ut=mo,qt=rs(),ir=Bt(),hr=!Ho(qt.memoizedState,ir);if(hr&&(qt.memoizedState=ir,Vo=!0),qt=qt.queue,Cl(G0.bind(null,Ut,qt,Ct),[Ct]),qt.getSnapshot!==Bt||hr||So!==null&&So.memoizedState.tag&1){if(Ut.flags|=2048,El(9,$0.bind(null,Ut,qt,ir,Bt),void 0,null),_o===null)throw Error(at(349));zs&30||N0(Ut,Bt,ir)}return ir}function N0(Ct,Bt,Ut){Ct.flags|=16384,Ct={getSnapshot:Bt,value:Ut},Bt=mo.updateQueue,Bt===null?(Bt={lastEffect:null,stores:null},mo.updateQueue=Bt,Bt.stores=[Ct]):(Ut=Bt.stores,Ut===null?Bt.stores=[Ct]:Ut.push(Ct))}function $0(Ct,Bt,Ut,qt){Bt.value=Ut,Bt.getSnapshot=qt,H0(Bt)&&Zo(Ct,1,-1)}function G0(Ct,Bt,Ut){return Ut(function(){H0(Bt)&&Zo(Ct,1,-1)})}function H0(Ct){var Bt=Ct.getSnapshot;Ct=Ct.value;try{var Ut=Bt();return!Ho(Ct,Ut)}catch{return!0}}function zu(Ct){var Bt=us();return typeof Ct=="function"&&(Ct=Ct()),Bt.memoizedState=Bt.baseState=Ct,Ct={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:Ct},Bt.queue=Ct,Ct=Ct.dispatch=Qp.bind(null,mo,Ct),[Bt.memoizedState,Ct]}function El(Ct,Bt,Ut,qt){return Ct={tag:Ct,create:Bt,destroy:Ut,deps:qt,next:null},Bt=mo.updateQueue,Bt===null?(Bt={lastEffect:null,stores:null},mo.updateQueue=Bt,Bt.lastEffect=Ct.next=Ct):(Ut=Bt.lastEffect,Ut===null?Bt.lastEffect=Ct.next=Ct:(qt=Ut.next,Ut.next=Ct,Ct.next=qt,Bt.lastEffect=Ct)),Ct}function q0(){return rs().memoizedState}function tu(Ct,Bt,Ut,qt){var ir=us();mo.flags|=Ct,ir.memoizedState=El(1|Bt,Ut,void 0,qt===void 0?null:qt)}function nu(Ct,Bt,Ut,qt){var ir=rs();qt=qt===void 0?null:qt;var hr=void 0;if(Co!==null){var kr=Co.memoizedState;if(hr=kr.destroy,qt!==null&&Gu(qt,kr.deps)){ir.memoizedState=El(Bt,Ut,hr,qt);return}}mo.flags|=Ct,ir.memoizedState=El(1|Bt,Ut,hr,qt)}function Wu(Ct,Bt){return tu(8390656,8,Ct,Bt)}function Cl(Ct,Bt){return nu(2048,8,Ct,Bt)}function z0(Ct,Bt){return nu(4,2,Ct,Bt)}function W0(Ct,Bt){return nu(4,4,Ct,Bt)}function V0(Ct,Bt){if(typeof Bt=="function")return Ct=Ct(),Bt(Ct),function(){Bt(null)};if(Bt!=null)return Ct=Ct(),Bt.current=Ct,function(){Bt.current=null}}function j0(Ct,Bt,Ut){return Ut=Ut!=null?Ut.concat([Ct]):null,nu(4,4,V0.bind(null,Bt,Ct),Ut)}function Vu(){}function K0(Ct,Bt){var Ut=rs();Bt=Bt===void 0?null:Bt;var qt=Ut.memoizedState;return qt!==null&&Bt!==null&&Gu(Bt,qt[1])?qt[0]:(Ut.memoizedState=[Ct,Bt],Ct)}function X0(Ct,Bt){var Ut=rs();Bt=Bt===void 0?null:Bt;var qt=Ut.memoizedState;return qt!==null&&Bt!==null&&Gu(Bt,qt[1])?qt[0]:(Ct=Ct(),Ut.memoizedState=[Ct,Bt],Ct)}function Jp(Ct,Bt){var Ut=_i;_i=Ut!==0&&4>Ut?Ut:4,Ct(!0);var qt=Qo.transition;Qo.transition={};try{Ct(!1),Bt()}finally{_i=Ut,Qo.transition=qt}}function J0(){return rs().memoizedState}function Yp(Ct,Bt,Ut){var qt=vs(Ct);Ut={lane:qt,action:Ut,hasEagerState:!1,eagerState:null,next:null},Y0(Ct)?Q0(Bt,Ut):(Z0(Ct,Bt,Ut),Ut=Fo(),Ct=Zo(Ct,qt,Ut),Ct!==null&&ep(Ct,Bt,qt))}function Qp(Ct,Bt,Ut){var qt=vs(Ct),ir={lane:qt,action:Ut,hasEagerState:!1,eagerState:null,next:null};if(Y0(Ct))Q0(Bt,ir);else{Z0(Ct,Bt,ir);var hr=Ct.alternate;if(Ct.lanes===0&&(hr===null||hr.lanes===0)&&(hr=Bt.lastRenderedReducer,hr!==null))try{var kr=Bt.lastRenderedState,Qr=hr(kr,Ut);if(ir.hasEagerState=!0,ir.eagerState=Qr,Ho(Qr,kr))return}catch{}finally{}Ut=Fo(),Ct=Zo(Ct,qt,Ut),Ct!==null&&ep(Ct,Bt,qt)}}function Y0(Ct){var Bt=Ct.alternate;return Ct===mo||Bt!==null&&Bt===mo}function Q0(Ct,Bt){Sl=Ql=!0;var Ut=Ct.pending;Ut===null?Bt.next=Bt:(Bt.next=Ut.next,Ut.next=Bt),Ct.pending=Bt}function Z0(Ct,Bt,Ut){_o!==null&&Ct.mode&1&&!(Zn&2)?(Ct=Bt.interleaved,Ct===null?(Ut.next=Ut,qo===null?qo=[Bt]:qo.push(Bt)):(Ut.next=Ct.next,Ct.next=Ut),Bt.interleaved=Ut):(Ct=Bt.pending,Ct===null?Ut.next=Ut:(Ut.next=Ct.next,Ct.next=Ut),Bt.pending=Ut)}function ep(Ct,Bt,Ut){if(Ut&4194240){var qt=Bt.lanes;qt&=Ct.pendingLanes,Ut|=qt,Bt.lanes=Ut,$a(Ct,Ut)}}var iu={readContext:vo,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useInsertionEffect:To,useLayoutEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useMutableSource:To,useSyncExternalStore:To,useId:To,unstable_isNewReconciler:!1},Zp={readContext:vo,useCallback:function(Ct,Bt){return us().memoizedState=[Ct,Bt===void 0?null:Bt],Ct},useContext:vo,useEffect:Wu,useImperativeHandle:function(Ct,Bt,Ut){return Ut=Ut!=null?Ut.concat([Ct]):null,tu(4194308,4,V0.bind(null,Bt,Ct),Ut)},useLayoutEffect:function(Ct,Bt){return tu(4194308,4,Ct,Bt)},useInsertionEffect:function(Ct,Bt){return tu(4,2,Ct,Bt)},useMemo:function(Ct,Bt){var Ut=us();return Bt=Bt===void 0?null:Bt,Ct=Ct(),Ut.memoizedState=[Ct,Bt],Ct},useReducer:function(Ct,Bt,Ut){var qt=us();return Bt=Ut!==void 0?Ut(Bt):Bt,qt.memoizedState=qt.baseState=Bt,Ct={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:Bt},qt.queue=Ct,Ct=Ct.dispatch=Yp.bind(null,mo,Ct),[qt.memoizedState,Ct]},useRef:function(Ct){var Bt=us();return Ct={current:Ct},Bt.memoizedState=Ct},useState:zu,useDebugValue:Vu,useDeferredValue:function(Ct){var Bt=zu(Ct),Ut=Bt[0],qt=Bt[1];return Wu(function(){var ir=Qo.transition;Qo.transition={};try{qt(Ct)}finally{Qo.transition=ir}},[Ct]),Ut},useTransition:function(){var Ct=zu(!1),Bt=Ct[0];return Ct=Jp.bind(null,Ct[1]),us().memoizedState=Ct,[Bt,Ct]},useMutableSource:function(){},useSyncExternalStore:function(Ct,Bt,Ut){var qt=mo,ir=us();if(co){if(Ut===void 0)throw Error(at(407));Ut=Ut()}else{if(Ut=Bt(),_o===null)throw Error(at(349));zs&30||N0(qt,Bt,Ut)}ir.memoizedState=Ut;var hr={value:Ut,getSnapshot:Bt};return ir.queue=hr,Wu(G0.bind(null,qt,hr,Ct),[Ct]),qt.flags|=2048,El(9,$0.bind(null,qt,hr,Ut,Bt),void 0,null),Ut},useId:function(){var Ct=us(),Bt=_o.identifierPrefix;if(co){var Ut=ls,qt=ss;Ut=(qt&~(1<<32-Wn(qt)-1)).toString(32)+Ut,Bt=":"+Bt+"R"+Ut,Ut=Al++,0<Ut&&(Bt+="H"+Ut.toString(32)),Bt+=":"}else Ut=Xp++,Bt=":"+Bt+"r"+Ut.toString(32)+":";return Ct.memoizedState=Bt},unstable_isNewReconciler:!1},em={readContext:vo,useCallback:K0,useContext:vo,useEffect:Cl,useImperativeHandle:j0,useInsertionEffect:z0,useLayoutEffect:W0,useMemo:X0,useReducer:Zl,useRef:q0,useState:function(){return Zl(Ts)},useDebugValue:Vu,useDeferredValue:function(Ct){var Bt=Zl(Ts),Ut=Bt[0],qt=Bt[1];return Cl(function(){var ir=Qo.transition;Qo.transition={};try{qt(Ct)}finally{Qo.transition=ir}},[Ct]),Ut},useTransition:function(){var Ct=Zl(Ts)[0],Bt=rs().memoizedState;return[Ct,Bt]},useMutableSource:U0,useSyncExternalStore:O0,useId:J0,unstable_isNewReconciler:!1},tm={readContext:vo,useCallback:K0,useContext:vo,useEffect:Cl,useImperativeHandle:j0,useInsertionEffect:z0,useLayoutEffect:W0,useMemo:X0,useReducer:eu,useRef:q0,useState:function(){return eu(Ts)},useDebugValue:Vu,useDeferredValue:function(Ct){var Bt=eu(Ts),Ut=Bt[0],qt=Bt[1];return Cl(function(){var ir=Qo.transition;Qo.transition={};try{qt(Ct)}finally{Qo.transition=ir}},[Ct]),Ut},useTransition:function(){var Ct=eu(Ts)[0],Bt=rs().memoizedState;return[Ct,Bt]},useMutableSource:U0,useSyncExternalStore:O0,useId:J0,unstable_isNewReconciler:!1};function ju(Ct,Bt){try{var Ut="",qt=Bt;do Ut+=As(qt),qt=qt.return;while(qt);var ir=Ut}catch(hr){ir=`
Error generating stack: `+hr.message+`
`+hr.stack}return{value:Ct,source:Bt,stack:ir}}function Ku(Ct,Bt){try{console.error(Bt.value)}catch(Ut){setTimeout(function(){throw Ut})}}var rm=typeof WeakMap=="function"?WeakMap:Map;function tp(Ct,Bt,Ut){Ut=as(-1,Ut),Ut.tag=3,Ut.payload={element:null};var qt=Bt.value;return Ut.callback=function(){bu||(bu=!0,h0=qt),Ku(Ct,Bt)},Ut}function rp(Ct,Bt,Ut){Ut=as(-1,Ut),Ut.tag=3;var qt=Ct.type.getDerivedStateFromError;if(typeof qt=="function"){var ir=Bt.value;Ut.payload=function(){return qt(ir)},Ut.callback=function(){Ku(Ct,Bt)}}var hr=Ct.stateNode;return hr!==null&&typeof hr.componentDidCatch=="function"&&(Ut.callback=function(){Ku(Ct,Bt),typeof qt!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var kr=Bt.stack;this.componentDidCatch(Bt.value,{componentStack:kr!==null?kr:""})}),Ut}function np(Ct,Bt,Ut){var qt=Ct.pingCache;if(qt===null){qt=Ct.pingCache=new rm;var ir=new Set;qt.set(Bt,ir)}else ir=qt.get(Bt),ir===void 0&&(ir=new Set,qt.set(Bt,ir));ir.has(Ut)||(ir.add(Ut),Ct=gm.bind(null,Ct,Bt,Ut),Bt.then(Ct,Ct))}function ip(Ct){do{var Bt;if((Bt=Ct.tag===13)&&(Bt=Ct.memoizedState,Bt=Bt!==null?Bt.dehydrated!==null:!0),Bt)return Ct;Ct=Ct.return}while(Ct!==null);return null}function op(Ct,Bt,Ut,qt,ir){return Ct.mode&1?(Ct.flags|=65536,Ct.lanes=ir,Ct):(Ct===Bt?Ct.flags|=65536:(Ct.flags|=128,Ut.flags|=131072,Ut.flags&=-52805,Ut.tag===1&&(Ut.alternate===null?Ut.tag=17:(Bt=as(-1,1),Bt.tag=2,ps(Ut,Bt))),Ut.lanes|=1),Ct)}function ns(Ct){Ct.flags|=4}function ap(Ct,Bt){if(Ct!==null&&Ct.child===Bt.child)return!0;if(Bt.flags&16)return!1;for(Ct=Bt.child;Ct!==null;){if(Ct.flags&12854||Ct.subtreeFlags&12854)return!1;Ct=Ct.sibling}return!0}var Tl,Rl,ou,au;if(rr)Tl=function(Ct,Bt){for(var Ut=Bt.child;Ut!==null;){if(Ut.tag===5||Ut.tag===6)Lt(Ct,Ut.stateNode);else if(Ut.tag!==4&&Ut.child!==null){Ut.child.return=Ut,Ut=Ut.child;continue}if(Ut===Bt)break;for(;Ut.sibling===null;){if(Ut.return===null||Ut.return===Bt)return;Ut=Ut.return}Ut.sibling.return=Ut.return,Ut=Ut.sibling}},Rl=function(){},ou=function(Ct,Bt,Ut,qt,ir){if(Ct=Ct.memoizedProps,Ct!==qt){var hr=Bt.stateNode,kr=ts(Yo.current);Ut=jt(hr,Ut,Ct,qt,ir,kr),(Bt.updateQueue=Ut)&&ns(Bt)}},au=function(Ct,Bt,Ut,qt){Ut!==qt&&ns(Bt)};else if($t){Tl=function(Ct,Bt,Ut,qt){for(var ir=Bt.child;ir!==null;){if(ir.tag===5){var hr=ir.stateNode;Ut&&qt&&(hr=Yr(hr,ir.type,ir.memoizedProps,ir)),Lt(Ct,hr)}else if(ir.tag===6)hr=ir.stateNode,Ut&&qt&&(hr=sn(hr,ir.memoizedProps,ir)),Lt(Ct,hr);else if(ir.tag!==4){if(ir.tag===22&&ir.memoizedState!==null)hr=ir.child,hr!==null&&(hr.return=ir),Tl(Ct,ir,!0,!0);else if(ir.child!==null){ir.child.return=ir,ir=ir.child;continue}}if(ir===Bt)break;for(;ir.sibling===null;){if(ir.return===null||ir.return===Bt)return;ir=ir.return}ir.sibling.return=ir.return,ir=ir.sibling}};var sp=function(Ct,Bt,Ut,qt){for(var ir=Bt.child;ir!==null;){if(ir.tag===5){var hr=ir.stateNode;Ut&&qt&&(hr=Yr(hr,ir.type,ir.memoizedProps,ir)),Or(Ct,hr)}else if(ir.tag===6)hr=ir.stateNode,Ut&&qt&&(hr=sn(hr,ir.memoizedProps,ir)),Or(Ct,hr);else if(ir.tag!==4){if(ir.tag===22&&ir.memoizedState!==null)hr=ir.child,hr!==null&&(hr.return=ir),sp(Ct,ir,!0,!0);else if(ir.child!==null){ir.child.return=ir,ir=ir.child;continue}}if(ir===Bt)break;for(;ir.sibling===null;){if(ir.return===null||ir.return===Bt)return;ir=ir.return}ir.sibling.return=ir.return,ir=ir.sibling}};Rl=function(Ct,Bt){var Ut=Bt.stateNode;if(!ap(Ct,Bt)){Ct=Ut.containerInfo;var qt=Zr(Ct);sp(qt,Bt,!1,!1),Ut.pendingChildren=qt,ns(Bt),Kr(Ct,qt)}},ou=function(Ct,Bt,Ut,qt,ir){var hr=Ct.stateNode,kr=Ct.memoizedProps;if((Ct=ap(Ct,Bt))&&kr===qt)Bt.stateNode=hr;else{var Qr=Bt.stateNode,vn=ts(Yo.current),Bn=null;kr!==qt&&(Bn=jt(Qr,Ut,kr,qt,ir,vn)),Ct&&Bn===null?Bt.stateNode=hr:(hr=$r(hr,Bn,Ut,kr,qt,Bt,Ct,Qr),Ft(hr,Ut,qt,ir,vn)&&ns(Bt),Bt.stateNode=hr,Ct?ns(Bt):Tl(hr,Bt,!1,!1))}},au=function(Ct,Bt,Ut,qt){Ut!==qt?(Ct=ts(Hs.current),Ut=ts(Yo.current),Bt.stateNode=Kt(qt,Ct,Ut,Bt),ns(Bt)):Bt.stateNode=Ct.stateNode}}else Rl=function(){},ou=function(){},au=function(){};function Bl(Ct,Bt){if(!co)switch(Ct.tailMode){case"hidden":Bt=Ct.tail;for(var Ut=null;Bt!==null;)Bt.alternate!==null&&(Ut=Bt),Bt=Bt.sibling;Ut===null?Ct.tail=null:Ut.sibling=null;break;case"collapsed":Ut=Ct.tail;for(var qt=null;Ut!==null;)Ut.alternate!==null&&(qt=Ut),Ut=Ut.sibling;qt===null?Bt||Ct.tail===null?Ct.tail=null:Ct.tail.sibling=null:qt.sibling=null}}function Ro(Ct){var Bt=Ct.alternate!==null&&Ct.alternate.child===Ct.child,Ut=0,qt=0;if(Bt)for(var ir=Ct.child;ir!==null;)Ut|=ir.lanes|ir.childLanes,qt|=ir.subtreeFlags&14680064,qt|=ir.flags&14680064,ir.return=Ct,ir=ir.sibling;else for(ir=Ct.child;ir!==null;)Ut|=ir.lanes|ir.childLanes,qt|=ir.subtreeFlags,qt|=ir.flags,ir.return=Ct,ir=ir.sibling;return Ct.subtreeFlags|=qt,Ct.childLanes=Ut,Bt}function nm(Ct,Bt,Ut){var qt=Bt.pendingProps;switch(Lu(Bt),Bt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ro(Bt),null;case 1:return Fn(Bt.type)&&$n(),Ro(Bt),null;case 3:return qt=Bt.stateNode,qs(),jr(pn),jr(dn),$u(),qt.pendingContext&&(qt.context=qt.pendingContext,qt.pendingContext=null),(Ct===null||Ct.child===null)&&(_l(Bt)?ns(Bt):Ct===null||Ct.memoizedState.isDehydrated&&!(Bt.flags&256)||(Bt.flags|=1024,xa!==null&&(m0(xa),xa=null))),Rl(Ct,Bt),Ro(Bt),null;case 5:Ou(Bt),Ut=ts(Hs.current);var ir=Bt.type;if(Ct!==null&&Bt.stateNode!=null)ou(Ct,Bt,ir,qt,Ut),Ct.ref!==Bt.ref&&(Bt.flags|=512,Bt.flags|=2097152);else{if(!qt){if(Bt.stateNode===null)throw Error(at(166));return Ro(Bt),null}if(Ct=ts(Yo.current),_l(Bt)){if(!ar)throw Error(at(175));Ct=Rr(Bt.stateNode,Bt.type,Bt.memoizedProps,Ut,Ct,Bt,!yl),Bt.updateQueue=Ct,Ct!==null&&ns(Bt)}else{var hr=_t(ir,qt,Ut,Ct,Bt);Tl(hr,Bt,!1,!1),Bt.stateNode=hr,Ft(hr,ir,qt,Ut,Ct)&&ns(Bt)}Bt.ref!==null&&(Bt.flags|=512,Bt.flags|=2097152)}return Ro(Bt),null;case 6:if(Ct&&Bt.stateNode!=null)au(Ct,Bt,Ct.memoizedProps,qt);else{if(typeof qt!="string"&&Bt.stateNode===null)throw Error(at(166));if(Ct=ts(Hs.current),Ut=ts(Yo.current),_l(Bt)){if(!ar)throw Error(at(176));if(Ct=Bt.stateNode,qt=Bt.memoizedProps,(Ut=cr(Ct,qt,Bt,!yl))&&(ir=zo,ir!==null))switch(hr=(ir.mode&1)!==0,ir.tag){case 3:xn(ir.stateNode.containerInfo,Ct,qt,hr);break;case 5:An(ir.type,ir.memoizedProps,ir.stateNode,Ct,qt,hr)}Ut&&ns(Bt)}else Bt.stateNode=Kt(qt,Ct,Ut,Bt)}return Ro(Bt),null;case 13:if(jr(po),qt=Bt.memoizedState,co&&Wo!==null&&Bt.mode&1&&!(Bt.flags&128)){for(Ct=Wo;Ct;)Ct=Jt(Ct);return $s(),Bt.flags|=98560,Bt}if(qt!==null&&qt.dehydrated!==null){if(qt=_l(Bt),Ct===null){if(!qt)throw Error(at(318));if(!ar)throw Error(at(344));if(Ct=Bt.memoizedState,Ct=Ct!==null?Ct.dehydrated:null,!Ct)throw Error(at(317));Lr(Ct,Bt)}else $s(),!(Bt.flags&128)&&(Bt.memoizedState=null),Bt.flags|=4;return Ro(Bt),null}return xa!==null&&(m0(xa),xa=null),Bt.flags&128?(Bt.lanes=Ut,Bt):(qt=qt!==null,Ut=!1,Ct===null?_l(Bt):Ut=Ct.memoizedState!==null,qt&&!Ut&&(Bt.child.flags|=8192,Bt.mode&1&&(Ct===null||po.current&1?wo===0&&(wo=3):v0())),Bt.updateQueue!==null&&(Bt.flags|=4),Ro(Bt),null);case 4:return qs(),Rl(Ct,Bt),Ct===null&&vr(Bt.stateNode.containerInfo),Ro(Bt),null;case 10:return Mo(Bt.type._context),Ro(Bt),null;case 17:return Fn(Bt.type)&&$n(),Ro(Bt),null;case 19:if(jr(po),ir=Bt.memoizedState,ir===null)return Ro(Bt),null;if(qt=(Bt.flags&128)!==0,hr=ir.rendering,hr===null)if(qt)Bl(ir,!1);else{if(wo!==0||Ct!==null&&Ct.flags&128)for(Ct=Bt.child;Ct!==null;){if(hr=Jl(Ct),hr!==null){for(Bt.flags|=128,Bl(ir,!1),Ct=hr.updateQueue,Ct!==null&&(Bt.updateQueue=Ct,Bt.flags|=4),Bt.subtreeFlags=0,Ct=Ut,qt=Bt.child;qt!==null;)Ut=qt,ir=Ct,Ut.flags&=14680066,hr=Ut.alternate,hr===null?(Ut.childLanes=0,Ut.lanes=ir,Ut.child=null,Ut.subtreeFlags=0,Ut.memoizedProps=null,Ut.memoizedState=null,Ut.updateQueue=null,Ut.dependencies=null,Ut.stateNode=null):(Ut.childLanes=hr.childLanes,Ut.lanes=hr.lanes,Ut.child=hr.child,Ut.subtreeFlags=0,Ut.deletions=null,Ut.memoizedProps=hr.memoizedProps,Ut.memoizedState=hr.memoizedState,Ut.updateQueue=hr.updateQueue,Ut.type=hr.type,ir=hr.dependencies,Ut.dependencies=ir===null?null:{lanes:ir.lanes,firstContext:ir.firstContext}),qt=qt.sibling;return qr(po,po.current&1|2),Bt.child}Ct=Ct.sibling}ir.tail!==null&&ho()>f0&&(Bt.flags|=128,qt=!0,Bl(ir,!1),Bt.lanes=4194304)}else{if(!qt)if(Ct=Jl(hr),Ct!==null){if(Bt.flags|=128,qt=!0,Ct=Ct.updateQueue,Ct!==null&&(Bt.updateQueue=Ct,Bt.flags|=4),Bl(ir,!0),ir.tail===null&&ir.tailMode==="hidden"&&!hr.alternate&&!co)return Ro(Bt),null}else 2*ho()-ir.renderingStartTime>f0&&Ut!==1073741824&&(Bt.flags|=128,qt=!0,Bl(ir,!1),Bt.lanes=4194304);ir.isBackwards?(hr.sibling=Bt.child,Bt.child=hr):(Ct=ir.last,Ct!==null?Ct.sibling=hr:Bt.child=hr,ir.last=hr)}return ir.tail!==null?(Bt=ir.tail,ir.rendering=Bt,ir.tail=Bt.sibling,ir.renderingStartTime=ho(),Bt.sibling=null,Ct=po.current,qr(po,qt?Ct&1|2:Ct&1),Bt):(Ro(Bt),null);case 22:case 23:return g0(),qt=Bt.memoizedState!==null,Ct!==null&&Ct.memoizedState!==null!==qt&&(Bt.flags|=8192),qt&&Bt.mode&1?jo&1073741824&&(Ro(Bt),rr&&Bt.subtreeFlags&6&&(Bt.flags|=8192)):Ro(Bt),null;case 24:return null;case 25:return null}throw Error(at(156,Bt.tag))}var im=st.ReactCurrentOwner,Vo=!1;function Do(Ct,Bt,Ut,qt){Bt.child=Ct===null?D0(Bt,null,Ut,qt):Gs(Bt,Ct.child,Ut,qt)}function lp(Ct,Bt,Ut,qt,ir){Ut=Ut.render;var hr=Bt.ref;return go(Bt,ir),qt=Hu(Ct,Bt,Ut,qt,hr,ir),Ut=qu(),Ct!==null&&!Vo?(Bt.updateQueue=Ct.updateQueue,Bt.flags&=-2053,Ct.lanes&=~ir,cs(Ct,Bt,ir)):(co&&Ut&&Iu(Bt),Bt.flags|=1,Do(Ct,Bt,qt,ir),Bt.child)}function up(Ct,Bt,Ut,qt,ir){if(Ct===null){var hr=Ut.type;return typeof hr=="function"&&!y0(hr)&&hr.defaultProps===void 0&&Ut.compare===null&&Ut.defaultProps===void 0?(Bt.tag=15,Bt.type=hr,cp(Ct,Bt,hr,qt,ir)):(Ct=Cu(Ut.type,null,qt,Bt,Bt.mode,ir),Ct.ref=Bt.ref,Ct.return=Bt,Bt.child=Ct)}if(hr=Ct.child,!(Ct.lanes&ir)){var kr=hr.memoizedProps;if(Ut=Ut.compare,Ut=Ut!==null?Ut:Ss,Ut(kr,qt)&&Ct.ref===Bt.ref)return cs(Ct,Bt,ir)}return Bt.flags|=1,Ct=_s(hr,qt),Ct.ref=Bt.ref,Ct.return=Bt,Bt.child=Ct}function cp(Ct,Bt,Ut,qt,ir){if(Ct!==null&&Ss(Ct.memoizedProps,qt)&&Ct.ref===Bt.ref)if(Vo=!1,(Ct.lanes&ir)!==0)Ct.flags&131072&&(Vo=!0);else return Bt.lanes=Ct.lanes,cs(Ct,Bt,ir);return Xu(Ct,Bt,Ut,qt,ir)}function fp(Ct,Bt,Ut){var qt=Bt.pendingProps,ir=qt.children,hr=Ct!==null?Ct.memoizedState:null;if(qt.mode==="hidden")if(!(Bt.mode&1))Bt.memoizedState={baseLanes:0,cachePool:null},qr(Ws,jo),jo|=Ut;else if(Ut&1073741824)Bt.memoizedState={baseLanes:0,cachePool:null},qt=hr!==null?hr.baseLanes:Ut,qr(Ws,jo),jo|=qt;else return Ct=hr!==null?hr.baseLanes|Ut:Ut,Bt.lanes=Bt.childLanes=1073741824,Bt.memoizedState={baseLanes:Ct,cachePool:null},Bt.updateQueue=null,qr(Ws,jo),jo|=Ct,null;else hr!==null?(qt=hr.baseLanes|Ut,Bt.memoizedState=null):qt=Ut,qr(Ws,jo),jo|=qt;return Do(Ct,Bt,ir,Ut),Bt.child}function hp(Ct,Bt){var Ut=Bt.ref;(Ct===null&&Ut!==null||Ct!==null&&Ct.ref!==Ut)&&(Bt.flags|=512,Bt.flags|=2097152)}function Xu(Ct,Bt,Ut,qt,ir){var hr=Fn(Ut)?Tn:dn.current;return hr=Ln(Bt,hr),go(Bt,ir),Ut=Hu(Ct,Bt,Ut,qt,hr,ir),qt=qu(),Ct!==null&&!Vo?(Bt.updateQueue=Ct.updateQueue,Bt.flags&=-2053,Ct.lanes&=~ir,cs(Ct,Bt,ir)):(co&&qt&&Iu(Bt),Bt.flags|=1,Do(Ct,Bt,Ut,ir),Bt.child)}function dp(Ct,Bt,Ut,qt,ir){if(Fn(Ut)){var hr=!0;qn(Bt)}else hr=!1;if(go(Bt,ir),Bt.stateNode===null)Ct!==null&&(Ct.alternate=null,Bt.alternate=null,Bt.flags|=2),C0(Bt,Ut,qt),Pu(Bt,Ut,qt,ir),qt=!0;else if(Ct===null){var kr=Bt.stateNode,Qr=Bt.memoizedProps;kr.props=Qr;var vn=kr.context,Bn=Ut.contextType;typeof Bn=="object"&&Bn!==null?Bn=vo(Bn):(Bn=Fn(Ut)?Tn:dn.current,Bn=Ln(Bt,Bn));var Un=Ut.getDerivedStateFromProps,jn=typeof Un=="function"||typeof kr.getSnapshotBeforeUpdate=="function";jn||typeof kr.UNSAFE_componentWillReceiveProps!="function"&&typeof kr.componentWillReceiveProps!="function"||(Qr!==qt||vn!==Bn)&&T0(Bt,kr,qt,Bn),ds=!1;var Hn=Bt.memoizedState;kr.state=Hn,zl(Bt,qt,kr,ir),vn=Bt.memoizedState,Qr!==qt||Hn!==vn||pn.current||ds?(typeof Un=="function"&&(Bu(Bt,Ut,Un,qt),vn=Bt.memoizedState),(Qr=ds||E0(Bt,Ut,Qr,qt,Hn,vn,Bn))?(jn||typeof kr.UNSAFE_componentWillMount!="function"&&typeof kr.componentWillMount!="function"||(typeof kr.componentWillMount=="function"&&kr.componentWillMount(),typeof kr.UNSAFE_componentWillMount=="function"&&kr.UNSAFE_componentWillMount()),typeof kr.componentDidMount=="function"&&(Bt.flags|=4194308)):(typeof kr.componentDidMount=="function"&&(Bt.flags|=4194308),Bt.memoizedProps=qt,Bt.memoizedState=vn),kr.props=qt,kr.state=vn,kr.context=Bn,qt=Qr):(typeof kr.componentDidMount=="function"&&(Bt.flags|=4194308),qt=!1)}else{kr=Bt.stateNode,x0(Ct,Bt),Qr=Bt.memoizedProps,Bn=Bt.type===Bt.elementType?Qr:Lo(Bt.type,Qr),kr.props=Bn,jn=Bt.pendingProps,Hn=kr.context,vn=Ut.contextType,typeof vn=="object"&&vn!==null?vn=vo(vn):(vn=Fn(Ut)?Tn:dn.current,vn=Ln(Bt,vn));var so=Ut.getDerivedStateFromProps;(Un=typeof so=="function"||typeof kr.getSnapshotBeforeUpdate=="function")||typeof kr.UNSAFE_componentWillReceiveProps!="function"&&typeof kr.componentWillReceiveProps!="function"||(Qr!==jn||Hn!==vn)&&T0(Bt,kr,qt,vn),ds=!1,Hn=Bt.memoizedState,kr.state=Hn,zl(Bt,qt,kr,ir);var Gn=Bt.memoizedState;Qr!==jn||Hn!==Gn||pn.current||ds?(typeof so=="function"&&(Bu(Bt,Ut,so,qt),Gn=Bt.memoizedState),(Bn=ds||E0(Bt,Ut,Bn,qt,Hn,Gn,vn)||!1)?(Un||typeof kr.UNSAFE_componentWillUpdate!="function"&&typeof kr.componentWillUpdate!="function"||(typeof kr.componentWillUpdate=="function"&&kr.componentWillUpdate(qt,Gn,vn),typeof kr.UNSAFE_componentWillUpdate=="function"&&kr.UNSAFE_componentWillUpdate(qt,Gn,vn)),typeof kr.componentDidUpdate=="function"&&(Bt.flags|=4),typeof kr.getSnapshotBeforeUpdate=="function"&&(Bt.flags|=1024)):(typeof kr.componentDidUpdate!="function"||Qr===Ct.memoizedProps&&Hn===Ct.memoizedState||(Bt.flags|=4),typeof kr.getSnapshotBeforeUpdate!="function"||Qr===Ct.memoizedProps&&Hn===Ct.memoizedState||(Bt.flags|=1024),Bt.memoizedProps=qt,Bt.memoizedState=Gn),kr.props=qt,kr.state=Gn,kr.context=vn,qt=Bn):(typeof kr.componentDidUpdate!="function"||Qr===Ct.memoizedProps&&Hn===Ct.memoizedState||(Bt.flags|=4),typeof kr.getSnapshotBeforeUpdate!="function"||Qr===Ct.memoizedProps&&Hn===Ct.memoizedState||(Bt.flags|=1024),qt=!1)}return Ju(Ct,Bt,Ut,qt,hr,ir)}function Ju(Ct,Bt,Ut,qt,ir,hr){hp(Ct,Bt);var kr=(Bt.flags&128)!==0;if(!qt&&!kr)return ir&&zn(Bt,Ut,!1),cs(Ct,Bt,hr);qt=Bt.stateNode,im.current=Bt;var Qr=kr&&typeof Ut.getDerivedStateFromError!="function"?null:qt.render();return Bt.flags|=1,Ct!==null&&kr?(Bt.child=Gs(Bt,Ct.child,null,hr),Bt.child=Gs(Bt,null,Qr,hr)):Do(Ct,Bt,Qr,hr),Bt.memoizedState=qt.state,ir&&zn(Bt,Ut,!0),Bt.child}function pp(Ct){var Bt=Ct.stateNode;Bt.pendingContext?On(Ct,Bt.pendingContext,Bt.pendingContext!==Bt.context):Bt.context&&On(Ct,Bt.context,!1),Uu(Ct,Bt.containerInfo)}function mp(Ct,Bt,Ut,qt,ir){return $s(),Fu(ir),Bt.flags|=256,Do(Ct,Bt,Ut,qt),Bt.child}var su={dehydrated:null,treeContext:null,retryLane:0};function lu(Ct){return{baseLanes:Ct,cachePool:null}}function gp(Ct,Bt,Ut){var qt=Bt.pendingProps,ir=po.current,hr=!1,kr=(Bt.flags&128)!==0,Qr;if((Qr=kr)||(Qr=Ct!==null&&Ct.memoizedState===null?!1:(ir&2)!==0),Qr?(hr=!0,Bt.flags&=-129):(Ct===null||Ct.memoizedState!==null)&&(ir|=1),qr(po,ir&1),Ct===null)return Du(Bt),Ct=Bt.memoizedState,Ct!==null&&(Ct=Ct.dehydrated,Ct!==null)?(Bt.mode&1?lr(Ct)?Bt.lanes=8:Bt.lanes=1073741824:Bt.lanes=1,null):(ir=qt.children,Ct=qt.fallback,hr?(qt=Bt.mode,hr=Bt.child,ir={mode:"hidden",children:ir},!(qt&1)&&hr!==null?(hr.childLanes=0,hr.pendingProps=ir):hr=Tu(ir,qt,0,null),Ct=ks(Ct,qt,Ut,null),hr.return=Bt,Ct.return=Bt,hr.sibling=Ct,Bt.child=hr,Bt.child.memoizedState=lu(Ut),Bt.memoizedState=su,Ct):Yu(Bt,ir));if(ir=Ct.memoizedState,ir!==null){if(Qr=ir.dehydrated,Qr!==null){if(kr)return Bt.flags&256?(Bt.flags&=-257,uu(Ct,Bt,Ut,Error(at(422)))):Bt.memoizedState!==null?(Bt.child=Ct.child,Bt.flags|=128,null):(hr=qt.fallback,ir=Bt.mode,qt=Tu({mode:"visible",children:qt.children},ir,0,null),hr=ks(hr,ir,Ut,null),hr.flags|=2,qt.return=Bt,hr.return=Bt,qt.sibling=hr,Bt.child=qt,Bt.mode&1&&Gs(Bt,Ct.child,null,Ut),Bt.child.memoizedState=lu(Ut),Bt.memoizedState=su,hr);if(!(Bt.mode&1))Bt=uu(Ct,Bt,Ut,null);else if(lr(Qr))Bt=uu(Ct,Bt,Ut,Error(at(419)));else if(qt=(Ut&Ct.childLanes)!==0,Vo||qt){if(qt=_o,qt!==null){switch(Ut&-Ut){case 4:hr=2;break;case 16:hr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:hr=32;break;case 536870912:hr=268435456;break;default:hr=0}qt=hr&(qt.suspendedLanes|Ut)?0:hr,qt!==0&&qt!==ir.retryLane&&(ir.retryLane=qt,Zo(Ct,qt,-1))}v0(),Bt=uu(Ct,Bt,Ut,Error(at(421)))}else sr(Qr)?(Bt.flags|=128,Bt.child=Ct.child,Bt=vm.bind(null,Ct),ur(Qr,Bt),Bt=null):(Ut=ir.treeContext,ar&&(Wo=Wr(Qr),zo=Bt,co=!0,xa=null,yl=!1,Ut!==null&&(Xo[Jo++]=ss,Xo[Jo++]=ls,Xo[Jo++]=Es,ss=Ut.id,ls=Ut.overflow,Es=Bt)),Bt=Yu(Bt,Bt.pendingProps.children),Bt.flags|=4096);return Bt}return hr?(qt=yp(Ct,Bt,qt.children,qt.fallback,Ut),hr=Bt.child,ir=Ct.child.memoizedState,hr.memoizedState=ir===null?lu(Ut):{baseLanes:ir.baseLanes|Ut,cachePool:null},hr.childLanes=Ct.childLanes&~Ut,Bt.memoizedState=su,qt):(Ut=vp(Ct,Bt,qt.children,Ut),Bt.memoizedState=null,Ut)}return hr?(qt=yp(Ct,Bt,qt.children,qt.fallback,Ut),hr=Bt.child,ir=Ct.child.memoizedState,hr.memoizedState=ir===null?lu(Ut):{baseLanes:ir.baseLanes|Ut,cachePool:null},hr.childLanes=Ct.childLanes&~Ut,Bt.memoizedState=su,qt):(Ut=vp(Ct,Bt,qt.children,Ut),Bt.memoizedState=null,Ut)}function Yu(Ct,Bt){return Bt=Tu({mode:"visible",children:Bt},Ct.mode,0,null),Bt.return=Ct,Ct.child=Bt}function vp(Ct,Bt,Ut,qt){var ir=Ct.child;return Ct=ir.sibling,Ut=_s(ir,{mode:"visible",children:Ut}),!(Bt.mode&1)&&(Ut.lanes=qt),Ut.return=Bt,Ut.sibling=null,Ct!==null&&(qt=Bt.deletions,qt===null?(Bt.deletions=[Ct],Bt.flags|=16):qt.push(Ct)),Bt.child=Ut}function yp(Ct,Bt,Ut,qt,ir){var hr=Bt.mode;Ct=Ct.child;var kr=Ct.sibling,Qr={mode:"hidden",children:Ut};return!(hr&1)&&Bt.child!==Ct?(Ut=Bt.child,Ut.childLanes=0,Ut.pendingProps=Qr,Bt.deletions=null):(Ut=_s(Ct,Qr),Ut.subtreeFlags=Ct.subtreeFlags&14680064),kr!==null?qt=_s(kr,qt):(qt=ks(qt,hr,ir,null),qt.flags|=2),qt.return=Bt,Ut.return=Bt,Ut.sibling=qt,Bt.child=Ut,qt}function uu(Ct,Bt,Ut,qt){return qt!==null&&Fu(qt),Gs(Bt,Ct.child,null,Ut),Ct=Yu(Bt,Bt.pendingProps.children),Ct.flags|=2,Bt.memoizedState=null,Ct}function _p(Ct,Bt,Ut){Ct.lanes|=Bt;var qt=Ct.alternate;qt!==null&&(qt.lanes|=Bt),ko(Ct.return,Bt,Ut)}function Qu(Ct,Bt,Ut,qt,ir){var hr=Ct.memoizedState;hr===null?Ct.memoizedState={isBackwards:Bt,rendering:null,renderingStartTime:0,last:qt,tail:Ut,tailMode:ir}:(hr.isBackwards=Bt,hr.rendering=null,hr.renderingStartTime=0,hr.last=qt,hr.tail=Ut,hr.tailMode=ir)}function bp(Ct,Bt,Ut){var qt=Bt.pendingProps,ir=qt.revealOrder,hr=qt.tail;if(Do(Ct,Bt,qt.children,Ut),qt=po.current,qt&2)qt=qt&1|2,Bt.flags|=128;else{if(Ct!==null&&Ct.flags&128)e:for(Ct=Bt.child;Ct!==null;){if(Ct.tag===13)Ct.memoizedState!==null&&_p(Ct,Ut,Bt);else if(Ct.tag===19)_p(Ct,Ut,Bt);else if(Ct.child!==null){Ct.child.return=Ct,Ct=Ct.child;continue}if(Ct===Bt)break e;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===Bt)break e;Ct=Ct.return}Ct.sibling.return=Ct.return,Ct=Ct.sibling}qt&=1}if(qr(po,qt),!(Bt.mode&1))Bt.memoizedState=null;else switch(ir){case"forwards":for(Ut=Bt.child,ir=null;Ut!==null;)Ct=Ut.alternate,Ct!==null&&Jl(Ct)===null&&(ir=Ut),Ut=Ut.sibling;Ut=ir,Ut===null?(ir=Bt.child,Bt.child=null):(ir=Ut.sibling,Ut.sibling=null),Qu(Bt,!1,ir,Ut,hr);break;case"backwards":for(Ut=null,ir=Bt.child,Bt.child=null;ir!==null;){if(Ct=ir.alternate,Ct!==null&&Jl(Ct)===null){Bt.child=ir;break}Ct=ir.sibling,ir.sibling=Ut,Ut=ir,ir=Ct}Qu(Bt,!0,Ut,null,hr);break;case"together":Qu(Bt,!1,null,null,void 0);break;default:Bt.memoizedState=null}return Bt.child}function cs(Ct,Bt,Ut){if(Ct!==null&&(Bt.dependencies=Ct.dependencies),Vs|=Bt.lanes,!(Ut&Bt.childLanes))return null;if(Ct!==null&&Bt.child!==Ct.child)throw Error(at(153));if(Bt.child!==null){for(Ct=Bt.child,Ut=_s(Ct,Ct.pendingProps),Bt.child=Ut,Ut.return=Bt;Ct.sibling!==null;)Ct=Ct.sibling,Ut=Ut.sibling=_s(Ct,Ct.pendingProps),Ut.return=Bt;Ut.sibling=null}return Bt.child}function om(Ct,Bt,Ut){switch(Bt.tag){case 3:pp(Bt),$s();break;case 5:F0(Bt);break;case 1:Fn(Bt.type)&&qn(Bt);break;case 4:Uu(Bt,Bt.stateNode.containerInfo);break;case 10:Gl(Bt,Bt.type._context,Bt.memoizedProps.value);break;case 13:var qt=Bt.memoizedState;if(qt!==null)return qt.dehydrated!==null?(qr(po,po.current&1),Bt.flags|=128,null):Ut&Bt.child.childLanes?gp(Ct,Bt,Ut):(qr(po,po.current&1),Ct=cs(Ct,Bt,Ut),Ct!==null?Ct.sibling:null);qr(po,po.current&1);break;case 19:if(qt=(Ut&Bt.childLanes)!==0,Ct.flags&128){if(qt)return bp(Ct,Bt,Ut);Bt.flags|=128}var ir=Bt.memoizedState;if(ir!==null&&(ir.rendering=null,ir.tail=null,ir.lastEffect=null),qr(po,po.current),qt)break;return null;case 22:case 23:return Bt.lanes=0,fp(Ct,Bt,Ut)}return cs(Ct,Bt,Ut)}function am(Ct,Bt){switch(Lu(Bt),Bt.tag){case 1:return Fn(Bt.type)&&$n(),Ct=Bt.flags,Ct&65536?(Bt.flags=Ct&-65537|128,Bt):null;case 3:return qs(),jr(pn),jr(dn),$u(),Ct=Bt.flags,Ct&65536&&!(Ct&128)?(Bt.flags=Ct&-65537|128,Bt):null;case 5:return Ou(Bt),null;case 13:if(jr(po),Ct=Bt.memoizedState,Ct!==null&&Ct.dehydrated!==null){if(Bt.alternate===null)throw Error(at(340));$s()}return Ct=Bt.flags,Ct&65536?(Bt.flags=Ct&-65537|128,Bt):null;case 19:return jr(po),null;case 4:return qs(),null;case 10:return Mo(Bt.type._context),null;case 22:case 23:return g0(),null;case 24:return null;default:return null}}var cu=!1,Rs=!1,sm=typeof WeakSet=="function"?WeakSet:Set,kn=null;function fu(Ct,Bt){var Ut=Ct.ref;if(Ut!==null)if(typeof Ut=="function")try{Ut(null)}catch(qt){$o(Ct,Bt,qt)}else Ut.current=null}function Zu(Ct,Bt,Ut){try{Ut()}catch(qt){$o(Ct,Bt,qt)}}var wp=!1;function lm(Ct,Bt){for(bt(Ct.containerInfo),kn=Bt;kn!==null;)if(Ct=kn,Bt=Ct.child,(Ct.subtreeFlags&1028)!==0&&Bt!==null)Bt.return=Ct,kn=Bt;else for(;kn!==null;){Ct=kn;try{var Ut=Ct.alternate;if(Ct.flags&1024)switch(Ct.tag){case 0:case 11:case 15:break;case 1:if(Ut!==null){var qt=Ut.memoizedProps,ir=Ut.memoizedState,hr=Ct.stateNode,kr=hr.getSnapshotBeforeUpdate(Ct.elementType===Ct.type?qt:Lo(Ct.type,qt),ir);hr.__reactInternalSnapshotBeforeUpdate=kr}break;case 3:rr&&Nr(Ct.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(Qr){$o(Ct,Ct.return,Qr)}if(Bt=Ct.sibling,Bt!==null){Bt.return=Ct.return,kn=Bt;break}kn=Ct.return}return Ut=wp,wp=!1,Ut}function Bs(Ct,Bt,Ut){var qt=Bt.updateQueue;if(qt=qt!==null?qt.lastEffect:null,qt!==null){var ir=qt=qt.next;do{if((ir.tag&Ct)===Ct){var hr=ir.destroy;ir.destroy=void 0,hr!==void 0&&Zu(Bt,Ut,hr)}ir=ir.next}while(ir!==qt)}}function Pl(Ct,Bt){if(Bt=Bt.updateQueue,Bt=Bt!==null?Bt.lastEffect:null,Bt!==null){var Ut=Bt=Bt.next;do{if((Ut.tag&Ct)===Ct){var qt=Ut.create;Ut.destroy=qt()}Ut=Ut.next}while(Ut!==Bt)}}function e0(Ct){var Bt=Ct.ref;if(Bt!==null){var Ut=Ct.stateNode;switch(Ct.tag){case 5:Ct=wt(Ut);break;default:Ct=Ut}typeof Bt=="function"?Bt(Ct):Bt.current=Ct}}function xp(Ct,Bt,Ut){if(Go&&typeof Go.onCommitFiberUnmount=="function")try{Go.onCommitFiberUnmount(xs,Bt)}catch{}switch(Bt.tag){case 0:case 11:case 14:case 15:if(Ct=Bt.updateQueue,Ct!==null&&(Ct=Ct.lastEffect,Ct!==null)){var qt=Ct=Ct.next;do{var ir=qt,hr=ir.destroy;ir=ir.tag,hr!==void 0&&(ir&2||ir&4)&&Zu(Bt,Ut,hr),qt=qt.next}while(qt!==Ct)}break;case 1:if(fu(Bt,Ut),Ct=Bt.stateNode,typeof Ct.componentWillUnmount=="function")try{Ct.props=Bt.memoizedProps,Ct.state=Bt.memoizedState,Ct.componentWillUnmount()}catch(kr){$o(Bt,Ut,kr)}break;case 5:fu(Bt,Ut);break;case 4:rr?Tp(Ct,Bt,Ut):$t&&$t&&(Bt=Bt.stateNode.containerInfo,Ut=Zr(Bt),Pn(Bt,Ut))}}function Mp(Ct,Bt,Ut){for(var qt=Bt;;)if(xp(Ct,qt,Ut),qt.child===null||rr&&qt.tag===4){if(qt===Bt)break;for(;qt.sibling===null;){if(qt.return===null||qt.return===Bt)return;qt=qt.return}qt.sibling.return=qt.return,qt=qt.sibling}else qt.child.return=qt,qt=qt.child}function Sp(Ct){var Bt=Ct.alternate;Bt!==null&&(Ct.alternate=null,Sp(Bt)),Ct.child=null,Ct.deletions=null,Ct.sibling=null,Ct.tag===5&&(Bt=Ct.stateNode,Bt!==null&&Yt(Bt)),Ct.stateNode=null,Ct.return=null,Ct.dependencies=null,Ct.memoizedProps=null,Ct.memoizedState=null,Ct.pendingProps=null,Ct.stateNode=null,Ct.updateQueue=null}function Ap(Ct){return Ct.tag===5||Ct.tag===3||Ct.tag===4}function Ep(Ct){e:for(;;){for(;Ct.sibling===null;){if(Ct.return===null||Ap(Ct.return))return null;Ct=Ct.return}for(Ct.sibling.return=Ct.return,Ct=Ct.sibling;Ct.tag!==5&&Ct.tag!==6&&Ct.tag!==18;){if(Ct.flags&2||Ct.child===null||Ct.tag===4)continue e;Ct.child.return=Ct,Ct=Ct.child}if(!(Ct.flags&2))return Ct.stateNode}}function Cp(Ct){if(rr){e:{for(var Bt=Ct.return;Bt!==null;){if(Ap(Bt))break e;Bt=Bt.return}throw Error(at(160))}var Ut=Bt;switch(Ut.tag){case 5:Bt=Ut.stateNode,Ut.flags&32&&(xr(Bt),Ut.flags&=-33),Ut=Ep(Ct),r0(Ct,Ut,Bt);break;case 3:case 4:Bt=Ut.stateNode.containerInfo,Ut=Ep(Ct),t0(Ct,Ut,Bt);break;default:throw Error(at(161))}}}function t0(Ct,Bt,Ut){var qt=Ct.tag;if(qt===5||qt===6)Ct=Ct.stateNode,Bt?Tr(Ut,Ct,Bt):an(Ut,Ct);else if(qt!==4&&(Ct=Ct.child,Ct!==null))for(t0(Ct,Bt,Ut),Ct=Ct.sibling;Ct!==null;)t0(Ct,Bt,Ut),Ct=Ct.sibling}function r0(Ct,Bt,Ut){var qt=Ct.tag;if(qt===5||qt===6)Ct=Ct.stateNode,Bt?Ir(Ut,Ct,Bt):Ar(Ut,Ct);else if(qt!==4&&(Ct=Ct.child,Ct!==null))for(r0(Ct,Bt,Ut),Ct=Ct.sibling;Ct!==null;)r0(Ct,Bt,Ut),Ct=Ct.sibling}function Tp(Ct,Bt,Ut){for(var qt=Bt,ir=!1,hr,kr;;){if(!ir){ir=qt.return;e:for(;;){if(ir===null)throw Error(at(160));switch(hr=ir.stateNode,ir.tag){case 5:kr=!1;break e;case 3:hr=hr.containerInfo,kr=!0;break e;case 4:hr=hr.containerInfo,kr=!0;break e}ir=ir.return}ir=!0}if(qt.tag===5||qt.tag===6)Mp(Ct,qt,Ut),kr?_r(hr,qt.stateNode):Er(hr,qt.stateNode);else if(qt.tag===18)kr?gn(hr,qt.stateNode):hn(hr,qt.stateNode);else if(qt.tag===4){if(qt.child!==null){hr=qt.stateNode.containerInfo,kr=!0,qt.child.return=qt,qt=qt.child;continue}}else if(xp(Ct,qt,Ut),qt.child!==null){qt.child.return=qt,qt=qt.child;continue}if(qt===Bt)break;for(;qt.sibling===null;){if(qt.return===null||qt.return===Bt)return;qt=qt.return,qt.tag===4&&(ir=!1)}qt.sibling.return=qt.return,qt=qt.sibling}}function n0(Ct,Bt){if(rr){switch(Bt.tag){case 0:case 11:case 14:case 15:Bs(3,Bt,Bt.return),Pl(3,Bt),Bs(5,Bt,Bt.return);return;case 1:return;case 5:var Ut=Bt.stateNode;if(Ut!=null){var qt=Bt.memoizedProps;Ct=Ct!==null?Ct.memoizedProps:qt;var ir=Bt.type,hr=Bt.updateQueue;Bt.updateQueue=null,hr!==null&&ln(Ut,hr,ir,Ct,qt,Bt)}return;case 6:if(Bt.stateNode===null)throw Error(at(162));Ut=Bt.memoizedProps,Br(Bt.stateNode,Ct!==null?Ct.memoizedProps:Ut,Ut);return;case 3:ar&&Ct!==null&&Ct.memoizedState.isDehydrated&&zr(Bt.stateNode.containerInfo);return;case 12:return;case 13:hu(Bt);return;case 19:hu(Bt);return;case 17:return}throw Error(at(163))}switch(Bt.tag){case 0:case 11:case 14:case 15:Bs(3,Bt,Bt.return),Pl(3,Bt),Bs(5,Bt,Bt.return);return;case 12:return;case 13:hu(Bt);return;case 19:hu(Bt);return;case 3:ar&&Ct!==null&&Ct.memoizedState.isDehydrated&&zr(Bt.stateNode.containerInfo);break;case 22:case 23:return}e:if($t){switch(Bt.tag){case 1:case 5:case 6:break e;case 3:case 4:Bt=Bt.stateNode,Pn(Bt.containerInfo,Bt.pendingChildren);break e}throw Error(at(163))}}function hu(Ct){var Bt=Ct.updateQueue;if(Bt!==null){Ct.updateQueue=null;var Ut=Ct.stateNode;Ut===null&&(Ut=Ct.stateNode=new sm),Bt.forEach(function(qt){var ir=ym.bind(null,Ct,qt);Ut.has(qt)||(Ut.add(qt),qt.then(ir,ir))})}}function um(Ct,Bt){for(kn=Bt;kn!==null;){Bt=kn;var Ut=Bt.deletions;if(Ut!==null)for(var qt=0;qt<Ut.length;qt++){var ir=Ut[qt];try{var hr=Ct;rr?Tp(hr,ir,Bt):Mp(hr,ir,Bt);var kr=ir.alternate;kr!==null&&(kr.return=null),ir.return=null}catch(Nn){$o(ir,Bt,Nn)}}if(Ut=Bt.child,Bt.subtreeFlags&12854&&Ut!==null)Ut.return=Bt,kn=Ut;else for(;kn!==null;){Bt=kn;try{var Qr=Bt.flags;if(Qr&32&&rr&&xr(Bt.stateNode),Qr&512){var vn=Bt.alternate;if(vn!==null){var Bn=vn.ref;Bn!==null&&(typeof Bn=="function"?Bn(null):Bn.current=null)}}if(Qr&8192)switch(Bt.tag){case 13:if(Bt.memoizedState!==null){var Un=Bt.alternate;(Un===null||Un.memoizedState===null)&&(c0=ho())}break;case 22:var jn=Bt.memoizedState!==null,Hn=Bt.alternate,so=Hn!==null&&Hn.memoizedState!==null;if(Ut=Bt,rr){e:if(qt=Ut,ir=jn,hr=null,rr)for(var Gn=qt;;){if(Gn.tag===5){if(hr===null){hr=Gn;var Bo=Gn.stateNode;ir?Xr(Bo):Pr(Gn.stateNode,Gn.memoizedProps)}}else if(Gn.tag===6){if(hr===null){var ga=Gn.stateNode;ir?dr(ga):Jr(ga,Gn.memoizedProps)}}else if((Gn.tag!==22&&Gn.tag!==23||Gn.memoizedState===null||Gn===qt)&&Gn.child!==null){Gn.child.return=Gn,Gn=Gn.child;continue}if(Gn===qt)break;for(;Gn.sibling===null;){if(Gn.return===null||Gn.return===qt)break e;hr===Gn&&(hr=null),Gn=Gn.return}hr===Gn&&(hr=null),Gn.sibling.return=Gn.return,Gn=Gn.sibling}}if(jn&&!so&&Ut.mode&1){kn=Ut;for(var fn=Ut.child;fn!==null;){for(Ut=kn=fn;kn!==null;){qt=kn;var nn=qt.child;switch(qt.tag){case 0:case 11:case 14:case 15:Bs(4,qt,qt.return);break;case 1:fu(qt,qt.return);var mn=qt.stateNode;if(typeof mn.componentWillUnmount=="function"){var Dn=qt.return;try{mn.props=qt.memoizedProps,mn.state=qt.memoizedState,mn.componentWillUnmount()}catch(Nn){$o(qt,Dn,Nn)}}break;case 5:fu(qt,qt.return);break;case 22:if(qt.memoizedState!==null){Pp(Ut);continue}}nn!==null?(nn.return=qt,kn=nn):Pp(Ut)}fn=fn.sibling}}}switch(Qr&4102){case 2:Cp(Bt),Bt.flags&=-3;break;case 6:Cp(Bt),Bt.flags&=-3,n0(Bt.alternate,Bt);break;case 4096:Bt.flags&=-4097;break;case 4100:Bt.flags&=-4097,n0(Bt.alternate,Bt);break;case 4:n0(Bt.alternate,Bt)}}catch(Nn){$o(Bt,Bt.return,Nn)}if(Ut=Bt.sibling,Ut!==null){Ut.return=Bt.return,kn=Ut;break}kn=Bt.return}}}function cm(Ct,Bt,Ut){kn=Ct,Rp(Ct)}function Rp(Ct,Bt,Ut){for(var qt=(Ct.mode&1)!==0;kn!==null;){var ir=kn,hr=ir.child;if(ir.tag===22&&qt){var kr=ir.memoizedState!==null||cu;if(!kr){var Qr=ir.alternate,vn=Qr!==null&&Qr.memoizedState!==null||Rs;Qr=cu;var Bn=Rs;if(cu=kr,(Rs=vn)&&!Bn)for(kn=ir;kn!==null;)kr=kn,vn=kr.child,kr.tag===22&&kr.memoizedState!==null?Ip(ir):vn!==null?(vn.return=kr,kn=vn):Ip(ir);for(;hr!==null;)kn=hr,Rp(hr),hr=hr.sibling;kn=ir,cu=Qr,Rs=Bn}Bp(Ct)}else ir.subtreeFlags&8772&&hr!==null?(hr.return=ir,kn=hr):Bp(Ct)}}function Bp(Ct){for(;kn!==null;){var Bt=kn;if(Bt.flags&8772){var Ut=Bt.alternate;try{if(Bt.flags&8772)switch(Bt.tag){case 0:case 11:case 15:Rs||Pl(5,Bt);break;case 1:var qt=Bt.stateNode;if(Bt.flags&4&&!Rs)if(Ut===null)qt.componentDidMount();else{var ir=Bt.elementType===Bt.type?Ut.memoizedProps:Lo(Bt.type,Ut.memoizedProps);qt.componentDidUpdate(ir,Ut.memoizedState,qt.__reactInternalSnapshotBeforeUpdate)}var hr=Bt.updateQueue;hr!==null&&S0(Bt,hr,qt);break;case 3:var kr=Bt.updateQueue;if(kr!==null){if(Ut=null,Bt.child!==null)switch(Bt.child.tag){case 5:Ut=wt(Bt.child.stateNode);break;case 1:Ut=Bt.child.stateNode}S0(Bt,kr,Ut)}break;case 5:var Qr=Bt.stateNode;Ut===null&&Bt.flags&4&&Dr(Qr,Bt.type,Bt.memoizedProps,Bt);break;case 6:break;case 4:break;case 12:break;case 13:if(ar&&Bt.memoizedState===null){var vn=Bt.alternate;if(vn!==null){var Bn=vn.memoizedState;if(Bn!==null){var Un=Bn.dehydrated;Un!==null&&Hr(Un)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(at(163))}Rs||Bt.flags&512&&e0(Bt)}catch(jn){$o(Bt,Bt.return,jn)}}if(Bt===Ct){kn=null;break}if(Ut=Bt.sibling,Ut!==null){Ut.return=Bt.return,kn=Ut;break}kn=Bt.return}}function Pp(Ct){for(;kn!==null;){var Bt=kn;if(Bt===Ct){kn=null;break}var Ut=Bt.sibling;if(Ut!==null){Ut.return=Bt.return,kn=Ut;break}kn=Bt.return}}function Ip(Ct){for(;kn!==null;){var Bt=kn;try{switch(Bt.tag){case 0:case 11:case 15:var Ut=Bt.return;try{Pl(4,Bt)}catch(vn){$o(Bt,Ut,vn)}break;case 1:var qt=Bt.stateNode;if(typeof qt.componentDidMount=="function"){var ir=Bt.return;try{qt.componentDidMount()}catch(vn){$o(Bt,ir,vn)}}var hr=Bt.return;try{e0(Bt)}catch(vn){$o(Bt,hr,vn)}break;case 5:var kr=Bt.return;try{e0(Bt)}catch(vn){$o(Bt,kr,vn)}}}catch(vn){$o(Bt,Bt.return,vn)}if(Bt===Ct){kn=null;break}var Qr=Bt.sibling;if(Qr!==null){Qr.return=Bt.return,kn=Qr;break}kn=Bt.return}}var du=0,pu=1,mu=2,gu=3,vu=4;if(typeof Symbol=="function"&&Symbol.for){var Il=Symbol.for;du=Il("selector.component"),pu=Il("selector.has_pseudo_class"),mu=Il("selector.role"),gu=Il("selector.test_id"),vu=Il("selector.text")}function i0(Ct){var Bt=wr(Ct);if(Bt!=null){if(typeof Bt.memoizedProps["data-testname"]!="string")throw Error(at(364));return Bt}if(Ct=gr(Ct),Ct===null)throw Error(at(362));return Ct.stateNode.current}function o0(Ct,Bt){switch(Bt.$$typeof){case du:if(Ct.type===Bt.value)return!0;break;case pu:e:{Bt=Bt.value,Ct=[Ct,0];for(var Ut=0;Ut<Ct.length;){var qt=Ct[Ut++],ir=Ct[Ut++],hr=Bt[ir];if(qt.tag!==5||!er(qt)){for(;hr!=null&&o0(qt,hr);)ir++,hr=Bt[ir];if(ir===Bt.length){Bt=!0;break e}else for(qt=qt.child;qt!==null;)Ct.push(qt,ir),qt=qt.sibling}}Bt=!1}return Bt;case mu:if(Ct.tag===5&&yr(Ct.stateNode,Bt.value))return!0;break;case vu:if((Ct.tag===5||Ct.tag===6)&&(Ct=pr(Ct),Ct!==null&&0<=Ct.indexOf(Bt.value)))return!0;break;case gu:if(Ct.tag===5&&(Ct=Ct.memoizedProps["data-testname"],typeof Ct=="string"&&Ct.toLowerCase()===Bt.value.toLowerCase()))return!0;break;default:throw Error(at(365))}return!1}function a0(Ct){switch(Ct.$$typeof){case du:return"<"+(Gt(Ct.value)||"Unknown")+">";case pu:return":has("+(a0(Ct)||"")+")";case mu:return'[role="'+Ct.value+'"]';case vu:return'"'+Ct.value+'"';case gu:return'[data-testname="'+Ct.value+'"]';default:throw Error(at(365))}}function Lp(Ct,Bt){var Ut=[];Ct=[Ct,0];for(var qt=0;qt<Ct.length;){var ir=Ct[qt++],hr=Ct[qt++],kr=Bt[hr];if(ir.tag!==5||!er(ir)){for(;kr!=null&&o0(ir,kr);)hr++,kr=Bt[hr];if(hr===Bt.length)Ut.push(ir);else for(ir=ir.child;ir!==null;)Ct.push(ir,hr),ir=ir.sibling}}return Ut}function s0(Ct,Bt){if(!br)throw Error(at(363));Ct=i0(Ct),Ct=Lp(Ct,Bt),Bt=[],Ct=Array.from(Ct);for(var Ut=0;Ut<Ct.length;){var qt=Ct[Ut++];if(qt.tag===5)er(qt)||Bt.push(qt.stateNode);else for(qt=qt.child;qt!==null;)Ct.push(qt),qt=qt.sibling}return Bt}var fm=Math.ceil,yu=st.ReactCurrentDispatcher,l0=st.ReactCurrentOwner,yo=st.ReactCurrentBatchConfig,Zn=0,_o=null,bo=null,Eo=0,jo=0,Ws=un(0),wo=0,Ll=null,Vs=0,_u=0,u0=0,Dl=null,Oo=null,c0=0,f0=1/0;function js(){f0=ho()+500}var bu=!1,h0=null,ms=null,wu=!1,gs=null,xu=0,Fl=0,d0=null,Mu=-1,Su=0;function Fo(){return Zn&6?ho():Mu!==-1?Mu:Mu=ho()}function vs(Ct){return Ct.mode&1?Zn&2&&Eo!==0?Eo&-Eo:Ms.transition!==null?(Su===0&&(Ct=no,no<<=1,!(no&4194240)&&(no=64),Su=Ct),Su):(Ct=_i,Ct!==0?Ct:Qt()):1}function Zo(Ct,Bt,Ut){if(50<Fl)throw Fl=0,d0=null,Error(at(185));var qt=Au(Ct,Bt);return qt===null?null:(ao(qt,Bt,Ut),(!(Zn&2)||qt!==_o)&&(qt===_o&&(!(Zn&2)&&(_u|=Bt),wo===4&&ys(qt,Eo)),No(qt,Ut),Bt===1&&Zn===0&&!(Ct.mode&1)&&(js(),es&&Uo())),qt)}function Au(Ct,Bt){Ct.lanes|=Bt;var Ut=Ct.alternate;for(Ut!==null&&(Ut.lanes|=Bt),Ut=Ct,Ct=Ct.return;Ct!==null;)Ct.childLanes|=Bt,Ut=Ct.alternate,Ut!==null&&(Ut.childLanes|=Bt),Ut=Ct,Ct=Ct.return;return Ut.tag===3?Ut.stateNode:null}function No(Ct,Bt){var Ut=Ct.callbackNode;uo(Ct,Bt);var qt=io(Ct,Ct===_o?Eo:0);if(qt===0)Ut!==null&&Ds(Ut),Ct.callbackNode=null,Ct.callbackPriority=0;else if(Bt=qt&-qt,Ct.callbackPriority!==Bt){if(Ut!=null&&Ds(Ut),Bt===1)Ct.tag===0?Zs(Dp.bind(null,Ct)):Qs(Dp.bind(null,Ct)),Ht?tr(function(){Zn===0&&Uo()}):os(ws,Uo),Ut=null;else{switch(Ks(qt)){case 1:Ut=ws;break;case 4:Ut=Nl;break;case 16:Ut=Po;break;case 536870912:Ut=Js;break;default:Ut=Po}Ut=zp(Ut,kp.bind(null,Ct))}Ct.callbackPriority=Bt,Ct.callbackNode=Ut}}function kp(Ct,Bt){if(Mu=-1,Su=0,Zn&6)throw Error(at(327));var Ut=Ct.callbackNode;if(Ls()&&Ct.callbackNode!==Ut)return null;var qt=io(Ct,Ct===_o?Eo:0);if(qt===0)return null;if(qt&30||qt&Ct.expiredLanes||Bt)Bt=Eu(Ct,qt);else{Bt=qt;var ir=Zn;Zn|=2;var hr=Op();(_o!==Ct||Eo!==Bt)&&(js(),Ps(Ct,Bt));do try{pm();break}catch(Qr){Up(Ct,Qr)}while(1);Us(),yu.current=hr,Zn=ir,bo!==null?Bt=0:(_o=null,Eo=0,Bt=wo)}if(Bt!==0){if(Bt===2&&(ir=lo(Ct),ir!==0&&(qt=ir,Bt=p0(Ct,ir))),Bt===1)throw Ut=Ll,Ps(Ct,0),ys(Ct,qt),No(Ct,ho()),Ut;if(Bt===6)ys(Ct,qt);else{if(ir=Ct.current.alternate,!(qt&30)&&!hm(ir)&&(Bt=Eu(Ct,qt),Bt===2&&(hr=lo(Ct),hr!==0&&(qt=hr,Bt=p0(Ct,hr))),Bt===1))throw Ut=Ll,Ps(Ct,0),ys(Ct,qt),No(Ct,ho()),Ut;switch(Ct.finishedWork=ir,Ct.finishedLanes=qt,Bt){case 0:case 1:throw Error(at(345));case 2:Is(Ct,Oo);break;case 3:if(ys(Ct,qt),(qt&130023424)===qt&&(Bt=c0+500-ho(),10<Bt)){if(io(Ct,0)!==0)break;if(ir=Ct.suspendedLanes,(ir&qt)!==qt){Fo(),Ct.pingedLanes|=Ct.suspendedLanes&ir;break}Ct.timeoutHandle=zt(Is.bind(null,Ct,Oo),Bt);break}Is(Ct,Oo);break;case 4:if(ys(Ct,qt),(qt&4194240)===qt)break;for(Bt=Ct.eventTimes,ir=-1;0<qt;){var kr=31-Wn(qt);hr=1<<kr,kr=Bt[kr],kr>ir&&(ir=kr),qt&=~hr}if(qt=ir,qt=ho()-qt,qt=(120>qt?120:480>qt?480:1080>qt?1080:1920>qt?1920:3e3>qt?3e3:4320>qt?4320:1960*fm(qt/1960))-qt,10<qt){Ct.timeoutHandle=zt(Is.bind(null,Ct,Oo),qt);break}Is(Ct,Oo);break;case 5:Is(Ct,Oo);break;default:throw Error(at(329))}}}return No(Ct,ho()),Ct.callbackNode===Ut?kp.bind(null,Ct):null}function p0(Ct,Bt){var Ut=Dl;return Ct.current.memoizedState.isDehydrated&&(Ps(Ct,Bt).flags|=256),Ct=Eu(Ct,Bt),Ct!==2&&(Bt=Oo,Oo=Ut,Bt!==null&&m0(Bt)),Ct}function m0(Ct){Oo===null?Oo=Ct:Oo.push.apply(Oo,Ct)}function hm(Ct){for(var Bt=Ct;;){if(Bt.flags&16384){var Ut=Bt.updateQueue;if(Ut!==null&&(Ut=Ut.stores,Ut!==null))for(var qt=0;qt<Ut.length;qt++){var ir=Ut[qt],hr=ir.getSnapshot;ir=ir.value;try{if(!Ho(hr(),ir))return!1}catch{return!1}}}if(Ut=Bt.child,Bt.subtreeFlags&16384&&Ut!==null)Ut.return=Bt,Bt=Ut;else{if(Bt===Ct)break;for(;Bt.sibling===null;){if(Bt.return===null||Bt.return===Ct)return!0;Bt=Bt.return}Bt.sibling.return=Bt.return,Bt=Bt.sibling}}return!0}function ys(Ct,Bt){for(Bt&=~u0,Bt&=~_u,Ct.suspendedLanes|=Bt,Ct.pingedLanes&=~Bt,Ct=Ct.expirationTimes;0<Bt;){var Ut=31-Wn(Bt),qt=1<<Ut;Ct[Ut]=-1,Bt&=~qt}}function Dp(Ct){if(Zn&6)throw Error(at(327));Ls();var Bt=io(Ct,0);if(!(Bt&1))return No(Ct,ho()),null;var Ut=Eu(Ct,Bt);if(Ct.tag!==0&&Ut===2){var qt=lo(Ct);qt!==0&&(Bt=qt,Ut=p0(Ct,qt))}if(Ut===1)throw Ut=Ll,Ps(Ct,0),ys(Ct,Bt),No(Ct,ho()),Ut;if(Ut===6)throw Error(at(345));return Ct.finishedWork=Ct.current.alternate,Ct.finishedLanes=Bt,Is(Ct,Oo),No(Ct,ho()),null}function Fp(Ct){gs!==null&&gs.tag===0&&!(Zn&6)&&Ls();var Bt=Zn;Zn|=1;var Ut=yo.transition,qt=_i;try{if(yo.transition=null,_i=1,Ct)return Ct()}finally{_i=qt,yo.transition=Ut,Zn=Bt,!(Zn&6)&&Uo()}}function g0(){jo=Ws.current,jr(Ws)}function Ps(Ct,Bt){Ct.finishedWork=null,Ct.finishedLanes=0;var Ut=Ct.timeoutHandle;if(Ut!==nr&&(Ct.timeoutHandle=nr,Vt(Ut)),bo!==null)for(Ut=bo.return;Ut!==null;){var qt=Ut;switch(Lu(qt),qt.tag){case 1:qt=qt.type.childContextTypes,qt!=null&&$n();break;case 3:qs(),jr(pn),jr(dn),$u();break;case 5:Ou(qt);break;case 4:qs();break;case 13:jr(po);break;case 19:jr(po);break;case 10:Mo(qt.type._context);break;case 22:case 23:g0()}Ut=Ut.return}if(_o=Ct,bo=Ct=_s(Ct.current,null),Eo=jo=Bt,wo=0,Ll=null,u0=_u=Vs=0,Oo=Dl=null,qo!==null){for(Bt=0;Bt<qo.length;Bt++)if(Ut=qo[Bt],qt=Ut.interleaved,qt!==null){Ut.interleaved=null;var ir=qt.next,hr=Ut.pending;if(hr!==null){var kr=hr.next;hr.next=ir,qt.next=kr}Ut.pending=qt}qo=null}return Ct}function Up(Ct,Bt){do{var Ut=bo;try{if(Us(),Yl.current=iu,Ql){for(var qt=mo.memoizedState;qt!==null;){var ir=qt.queue;ir!==null&&(ir.pending=null),qt=qt.next}Ql=!1}if(zs=0,So=Co=mo=null,Sl=!1,Al=0,l0.current=null,Ut===null||Ut.return===null){wo=1,Ll=Bt,bo=null;break}e:{var hr=Ct,kr=Ut.return,Qr=Ut,vn=Bt;if(Bt=Eo,Qr.flags|=32768,vn!==null&&typeof vn=="object"&&typeof vn.then=="function"){var Bn=vn,Un=Qr,jn=Un.tag;if(!(Un.mode&1)&&(jn===0||jn===11||jn===15)){var Hn=Un.alternate;Hn?(Un.updateQueue=Hn.updateQueue,Un.memoizedState=Hn.memoizedState,Un.lanes=Hn.lanes):(Un.updateQueue=null,Un.memoizedState=null)}var so=ip(kr);if(so!==null){so.flags&=-257,op(so,kr,Qr,hr,Bt),so.mode&1&&np(hr,Bn,Bt),Bt=so,vn=Bn;var Gn=Bt.updateQueue;if(Gn===null){var Bo=new Set;Bo.add(vn),Bt.updateQueue=Bo}else Gn.add(vn);break e}else{if(!(Bt&1)){np(hr,Bn,Bt),v0();break e}vn=Error(at(426))}}else if(co&&Qr.mode&1){var ga=ip(kr);if(ga!==null){!(ga.flags&65536)&&(ga.flags|=256),op(ga,kr,Qr,hr,Bt),Fu(vn);break e}}hr=vn,wo!==4&&(wo=2),Dl===null?Dl=[hr]:Dl.push(hr),vn=ju(vn,Qr),Qr=kr;do{switch(Qr.tag){case 3:Qr.flags|=65536,Bt&=-Bt,Qr.lanes|=Bt;var fn=tp(Qr,vn,Bt);M0(Qr,fn);break e;case 1:hr=vn;var nn=Qr.type,mn=Qr.stateNode;if(!(Qr.flags&128)&&(typeof nn.getDerivedStateFromError=="function"||mn!==null&&typeof mn.componentDidCatch=="function"&&(ms===null||!ms.has(mn)))){Qr.flags|=65536,Bt&=-Bt,Qr.lanes|=Bt;var Dn=rp(Qr,hr,Bt);M0(Qr,Dn);break e}}Qr=Qr.return}while(Qr!==null)}$p(Ut)}catch(Nn){Bt=Nn,bo===Ut&&Ut!==null&&(bo=Ut=Ut.return);continue}break}while(1)}function Op(){var Ct=yu.current;return yu.current=iu,Ct===null?iu:Ct}function v0(){(wo===0||wo===3||wo===2)&&(wo=4),_o===null||!(Vs&268435455)&&!(_u&268435455)||ys(_o,Eo)}function Eu(Ct,Bt){var Ut=Zn;Zn|=2;var qt=Op();_o===Ct&&Eo===Bt||Ps(Ct,Bt);do try{dm();break}catch(ir){Up(Ct,ir)}while(1);if(Us(),Zn=Ut,yu.current=qt,bo!==null)throw Error(at(261));return _o=null,Eo=0,wo}function dm(){for(;bo!==null;)Np(bo)}function pm(){for(;bo!==null&&!Xs();)Np(bo)}function Np(Ct){var Bt=qp(Ct.alternate,Ct,jo);Ct.memoizedProps=Ct.pendingProps,Bt===null?$p(Ct):bo=Bt,l0.current=null}function $p(Ct){var Bt=Ct;do{var Ut=Bt.alternate;if(Ct=Bt.return,Bt.flags&32768){if(Ut=am(Ut,Bt),Ut!==null){Ut.flags&=32767,bo=Ut;return}if(Ct!==null)Ct.flags|=32768,Ct.subtreeFlags=0,Ct.deletions=null;else{wo=6,bo=null;return}}else if(Ut=nm(Ut,Bt,jo),Ut!==null){bo=Ut;return}if(Bt=Bt.sibling,Bt!==null){bo=Bt;return}bo=Bt=Ct}while(Bt!==null);wo===0&&(wo=5)}function Is(Ct,Bt){var Ut=_i,qt=yo.transition;try{yo.transition=null,_i=1,mm(Ct,Bt,Ut)}finally{yo.transition=qt,_i=Ut}return null}function mm(Ct,Bt,Ut){do Ls();while(gs!==null);if(Zn&6)throw Error(at(327));var qt=Ct.finishedWork,ir=Ct.finishedLanes;if(qt===null)return null;if(Ct.finishedWork=null,Ct.finishedLanes=0,qt===Ct.current)throw Error(at(177));Ct.callbackNode=null,Ct.callbackPriority=0;var hr=qt.lanes|qt.childLanes;if(fs(Ct,hr),Ct===_o&&(bo=_o=null,Eo=0),!(qt.subtreeFlags&2064)&&!(qt.flags&2064)||wu||(wu=!0,zp(Po,function(){return Ls(),null})),hr=(qt.flags&15990)!==0,qt.subtreeFlags&15990||hr){hr=yo.transition,yo.transition=null;var kr=_i;_i=1;var Qr=Zn;Zn|=4,l0.current=null,lm(Ct,qt),um(Ct,qt),ct(Ct.containerInfo),Ct.current=qt,cm(qt),Ol(),Zn=Qr,_i=kr,yo.transition=hr}else Ct.current=qt;if(wu&&(wu=!1,gs=Ct,xu=ir),hr=Ct.pendingLanes,hr===0&&(ms=null),Ys(qt.stateNode),No(Ct,ho()),Bt!==null)for(Ut=Ct.onRecoverableError,qt=0;qt<Bt.length;qt++)Ut(Bt[qt]);if(bu)throw bu=!1,Ct=h0,h0=null,Ct;return xu&1&&Ct.tag!==0&&Ls(),hr=Ct.pendingLanes,hr&1?Ct===d0?Fl++:(Fl=0,d0=Ct):Fl=0,Uo(),null}function Ls(){if(gs!==null){var Ct=Ks(xu),Bt=yo.transition,Ut=_i;try{if(yo.transition=null,_i=16>Ct?16:Ct,gs===null)var qt=!1;else{if(Ct=gs,gs=null,xu=0,Zn&6)throw Error(at(331));var ir=Zn;for(Zn|=4,kn=Ct.current;kn!==null;){var hr=kn,kr=hr.child;if(kn.flags&16){var Qr=hr.deletions;if(Qr!==null){for(var vn=0;vn<Qr.length;vn++){var Bn=Qr[vn];for(kn=Bn;kn!==null;){var Un=kn;switch(Un.tag){case 0:case 11:case 15:Bs(8,Un,hr)}var jn=Un.child;if(jn!==null)jn.return=Un,kn=jn;else for(;kn!==null;){Un=kn;var Hn=Un.sibling,so=Un.return;if(Sp(Un),Un===Bn){kn=null;break}if(Hn!==null){Hn.return=so,kn=Hn;break}kn=so}}}var Gn=hr.alternate;if(Gn!==null){var Bo=Gn.child;if(Bo!==null){Gn.child=null;do{var ga=Bo.sibling;Bo.sibling=null,Bo=ga}while(Bo!==null)}}kn=hr}}if(hr.subtreeFlags&2064&&kr!==null)kr.return=hr,kn=kr;else e:for(;kn!==null;){if(hr=kn,hr.flags&2048)switch(hr.tag){case 0:case 11:case 15:Bs(9,hr,hr.return)}var fn=hr.sibling;if(fn!==null){fn.return=hr.return,kn=fn;break e}kn=hr.return}}var nn=Ct.current;for(kn=nn;kn!==null;){kr=kn;var mn=kr.child;if(kr.subtreeFlags&2064&&mn!==null)mn.return=kr,kn=mn;else e:for(kr=nn;kn!==null;){if(Qr=kn,Qr.flags&2048)try{switch(Qr.tag){case 0:case 11:case 15:Pl(9,Qr)}}catch(Nn){$o(Qr,Qr.return,Nn)}if(Qr===kr){kn=null;break e}var Dn=Qr.sibling;if(Dn!==null){Dn.return=Qr.return,kn=Dn;break e}kn=Qr.return}}if(Zn=ir,Uo(),Go&&typeof Go.onPostCommitFiberRoot=="function")try{Go.onPostCommitFiberRoot(xs,Ct)}catch{}qt=!0}return qt}finally{_i=Ut,yo.transition=Bt}}return!1}function Gp(Ct,Bt,Ut){Bt=ju(Ut,Bt),Bt=tp(Ct,Bt,1),ps(Ct,Bt),Bt=Fo(),Ct=Au(Ct,1),Ct!==null&&(ao(Ct,1,Bt),No(Ct,Bt))}function $o(Ct,Bt,Ut){if(Ct.tag===3)Gp(Ct,Ct,Ut);else for(;Bt!==null;){if(Bt.tag===3){Gp(Bt,Ct,Ut);break}else if(Bt.tag===1){var qt=Bt.stateNode;if(typeof Bt.type.getDerivedStateFromError=="function"||typeof qt.componentDidCatch=="function"&&(ms===null||!ms.has(qt))){Ct=ju(Ut,Ct),Ct=rp(Bt,Ct,1),ps(Bt,Ct),Ct=Fo(),Bt=Au(Bt,1),Bt!==null&&(ao(Bt,1,Ct),No(Bt,Ct));break}}Bt=Bt.return}}function gm(Ct,Bt,Ut){var qt=Ct.pingCache;qt!==null&&qt.delete(Bt),Bt=Fo(),Ct.pingedLanes|=Ct.suspendedLanes&Ut,_o===Ct&&(Eo&Ut)===Ut&&(wo===4||wo===3&&(Eo&130023424)===Eo&&500>ho()-c0?Ps(Ct,0):u0|=Ut),No(Ct,Bt)}function Hp(Ct,Bt){Bt===0&&(Ct.mode&1?(Bt=Qn,Qn<<=1,!(Qn&130023424)&&(Qn=4194304)):Bt=1);var Ut=Fo();Ct=Au(Ct,Bt),Ct!==null&&(ao(Ct,Bt,Ut),No(Ct,Ut))}function vm(Ct){var Bt=Ct.memoizedState,Ut=0;Bt!==null&&(Ut=Bt.retryLane),Hp(Ct,Ut)}function ym(Ct,Bt){var Ut=0;switch(Ct.tag){case 13:var qt=Ct.stateNode,ir=Ct.memoizedState;ir!==null&&(Ut=ir.retryLane);break;case 19:qt=Ct.stateNode;break;default:throw Error(at(314))}qt!==null&&qt.delete(Bt),Hp(Ct,Ut)}var qp;qp=function(Ct,Bt,Ut){if(Ct!==null)if(Ct.memoizedProps!==Bt.pendingProps||pn.current)Vo=!0;else{if(!(Ct.lanes&Ut)&&!(Bt.flags&128))return Vo=!1,om(Ct,Bt,Ut);Vo=!!(Ct.flags&131072)}else Vo=!1,co&&Bt.flags&1048576&&R0(Bt,Kl,Bt.index);switch(Bt.lanes=0,Bt.tag){case 2:var qt=Bt.type;Ct!==null&&(Ct.alternate=null,Bt.alternate=null,Bt.flags|=2),Ct=Bt.pendingProps;var ir=Ln(Bt,dn.current);go(Bt,Ut),ir=Hu(null,Bt,qt,Ct,ir,Ut);var hr=qu();return Bt.flags|=1,typeof ir=="object"&&ir!==null&&typeof ir.render=="function"&&ir.$$typeof===void 0?(Bt.tag=1,Bt.memoizedState=null,Bt.updateQueue=null,Fn(qt)?(hr=!0,qn(Bt)):hr=!1,Bt.memoizedState=ir.state!==null&&ir.state!==void 0?ir.state:null,Ru(Bt),ir.updater=Wl,Bt.stateNode=ir,ir._reactInternals=Bt,Pu(Bt,qt,Ct,Ut),Bt=Ju(null,Bt,qt,!0,hr,Ut)):(Bt.tag=0,co&&hr&&Iu(Bt),Do(null,Bt,ir,Ut),Bt=Bt.child),Bt;case 16:qt=Bt.elementType;e:{switch(Ct!==null&&(Ct.alternate=null,Bt.alternate=null,Bt.flags|=2),Ct=Bt.pendingProps,ir=qt._init,qt=ir(qt._payload),Bt.type=qt,ir=Bt.tag=bm(qt),Ct=Lo(qt,Ct),ir){case 0:Bt=Xu(null,Bt,qt,Ct,Ut);break e;case 1:Bt=dp(null,Bt,qt,Ct,Ut);break e;case 11:Bt=lp(null,Bt,qt,Ct,Ut);break e;case 14:Bt=up(null,Bt,qt,Lo(qt.type,Ct),Ut);break e}throw Error(at(306,qt,""))}return Bt;case 0:return qt=Bt.type,ir=Bt.pendingProps,ir=Bt.elementType===qt?ir:Lo(qt,ir),Xu(Ct,Bt,qt,ir,Ut);case 1:return qt=Bt.type,ir=Bt.pendingProps,ir=Bt.elementType===qt?ir:Lo(qt,ir),dp(Ct,Bt,qt,ir,Ut);case 3:e:{if(pp(Bt),Ct===null)throw Error(at(387));qt=Bt.pendingProps,hr=Bt.memoizedState,ir=hr.element,x0(Ct,Bt),zl(Bt,qt,null,Ut);var kr=Bt.memoizedState;if(qt=kr.element,ar&&hr.isDehydrated)if(hr={element:qt,isDehydrated:!1,cache:kr.cache,transitions:kr.transitions},Bt.updateQueue.baseState=hr,Bt.memoizedState=hr,Bt.flags&256){ir=Error(at(423)),Bt=mp(Ct,Bt,qt,Ut,ir);break e}else if(qt!==ir){ir=Error(at(424)),Bt=mp(Ct,Bt,qt,Ut,ir);break e}else for(ar&&(Wo=Cr(Bt.stateNode.containerInfo),zo=Bt,co=!0,xa=null,yl=!1),Ut=D0(Bt,null,qt,Ut),Bt.child=Ut;Ut;)Ut.flags=Ut.flags&-3|4096,Ut=Ut.sibling;else{if($s(),qt===ir){Bt=cs(Ct,Bt,Ut);break e}Do(Ct,Bt,qt,Ut)}Bt=Bt.child}return Bt;case 5:return F0(Bt),Ct===null&&Du(Bt),qt=Bt.type,ir=Bt.pendingProps,hr=Ct!==null?Ct.memoizedProps:null,kr=ir.children,Zt(qt,ir)?kr=null:hr!==null&&Zt(qt,hr)&&(Bt.flags|=32),hp(Ct,Bt),Do(Ct,Bt,kr,Ut),Bt.child;case 6:return Ct===null&&Du(Bt),null;case 13:return gp(Ct,Bt,Ut);case 4:return Uu(Bt,Bt.stateNode.containerInfo),qt=Bt.pendingProps,Ct===null?Bt.child=Gs(Bt,null,qt,Ut):Do(Ct,Bt,qt,Ut),Bt.child;case 11:return qt=Bt.type,ir=Bt.pendingProps,ir=Bt.elementType===qt?ir:Lo(qt,ir),lp(Ct,Bt,qt,ir,Ut);case 7:return Do(Ct,Bt,Bt.pendingProps,Ut),Bt.child;case 8:return Do(Ct,Bt,Bt.pendingProps.children,Ut),Bt.child;case 12:return Do(Ct,Bt,Bt.pendingProps.children,Ut),Bt.child;case 10:e:{if(qt=Bt.type._context,ir=Bt.pendingProps,hr=Bt.memoizedProps,kr=ir.value,Gl(Bt,qt,kr),hr!==null)if(Ho(hr.value,kr)){if(hr.children===ir.children&&!pn.current){Bt=cs(Ct,Bt,Ut);break e}}else for(hr=Bt.child,hr!==null&&(hr.return=Bt);hr!==null;){var Qr=hr.dependencies;if(Qr!==null){kr=hr.child;for(var vn=Qr.firstContext;vn!==null;){if(vn.context===qt){if(hr.tag===1){vn=as(-1,Ut&-Ut),vn.tag=2;var Bn=hr.updateQueue;if(Bn!==null){Bn=Bn.shared;var Un=Bn.pending;Un===null?vn.next=vn:(vn.next=Un.next,Un.next=vn),Bn.pending=vn}}hr.lanes|=Ut,vn=hr.alternate,vn!==null&&(vn.lanes|=Ut),ko(hr.return,Ut,Bt),Qr.lanes|=Ut;break}vn=vn.next}}else if(hr.tag===10)kr=hr.type===Bt.type?null:hr.child;else if(hr.tag===18){if(kr=hr.return,kr===null)throw Error(at(341));kr.lanes|=Ut,Qr=kr.alternate,Qr!==null&&(Qr.lanes|=Ut),ko(kr,Ut,Bt),kr=hr.sibling}else kr=hr.child;if(kr!==null)kr.return=hr;else for(kr=hr;kr!==null;){if(kr===Bt){kr=null;break}if(hr=kr.sibling,hr!==null){hr.return=kr.return,kr=hr;break}kr=kr.return}hr=kr}Do(Ct,Bt,ir.children,Ut),Bt=Bt.child}return Bt;case 9:return ir=Bt.type,qt=Bt.pendingProps.children,go(Bt,Ut),ir=vo(ir),qt=qt(ir),Bt.flags|=1,Do(Ct,Bt,qt,Ut),Bt.child;case 14:return qt=Bt.type,ir=Lo(qt,Bt.pendingProps),ir=Lo(qt.type,ir),up(Ct,Bt,qt,ir,Ut);case 15:return cp(Ct,Bt,Bt.type,Bt.pendingProps,Ut);case 17:return qt=Bt.type,ir=Bt.pendingProps,ir=Bt.elementType===qt?ir:Lo(qt,ir),Ct!==null&&(Ct.alternate=null,Bt.alternate=null,Bt.flags|=2),Bt.tag=1,Fn(qt)?(Ct=!0,qn(Bt)):Ct=!1,go(Bt,Ut),C0(Bt,qt,ir),Pu(Bt,qt,ir,Ut),Ju(null,Bt,qt,!0,Ct,Ut);case 19:return bp(Ct,Bt,Ut);case 22:return fp(Ct,Bt,Ut)}throw Error(at(156,Bt.tag))};function zp(Ct,Bt){return os(Ct,Bt)}function _m(Ct,Bt,Ut,qt){this.tag=Ct,this.key=Ut,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Bt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=qt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function na(Ct,Bt,Ut,qt){return new _m(Ct,Bt,Ut,qt)}function y0(Ct){return Ct=Ct.prototype,!(!Ct||!Ct.isReactComponent)}function bm(Ct){if(typeof Ct=="function")return y0(Ct)?1:0;if(Ct!=null){if(Ct=Ct.$$typeof,Ct===St)return 11;if(Ct===Pt)return 14}return 2}function _s(Ct,Bt){var Ut=Ct.alternate;return Ut===null?(Ut=na(Ct.tag,Bt,Ct.key,Ct.mode),Ut.elementType=Ct.elementType,Ut.type=Ct.type,Ut.stateNode=Ct.stateNode,Ut.alternate=Ct,Ct.alternate=Ut):(Ut.pendingProps=Bt,Ut.type=Ct.type,Ut.flags=0,Ut.subtreeFlags=0,Ut.deletions=null),Ut.flags=Ct.flags&14680064,Ut.childLanes=Ct.childLanes,Ut.lanes=Ct.lanes,Ut.child=Ct.child,Ut.memoizedProps=Ct.memoizedProps,Ut.memoizedState=Ct.memoizedState,Ut.updateQueue=Ct.updateQueue,Bt=Ct.dependencies,Ut.dependencies=Bt===null?null:{lanes:Bt.lanes,firstContext:Bt.firstContext},Ut.sibling=Ct.sibling,Ut.index=Ct.index,Ut.ref=Ct.ref,Ut}function Cu(Ct,Bt,Ut,qt,ir,hr){var kr=2;if(qt=Ct,typeof Ct=="function")y0(Ct)&&(kr=1);else if(typeof Ct=="string")kr=5;else e:switch(Ct){case ht:return ks(Ut.children,ir,hr,Bt);case mt:kr=8,ir|=8;break;case gt:return Ct=na(12,Ut,Bt,ir|2),Ct.elementType=gt,Ct.lanes=hr,Ct;case Tt:return Ct=na(13,Ut,Bt,ir),Ct.elementType=Tt,Ct.lanes=hr,Ct;case Mt:return Ct=na(19,Ut,Bt,ir),Ct.elementType=Mt,Ct.lanes=hr,Ct;case kt:return Tu(Ut,ir,hr,Bt);default:if(typeof Ct=="object"&&Ct!==null)switch(Ct.$$typeof){case yt:kr=10;break e;case xt:kr=9;break e;case St:kr=11;break e;case Pt:kr=14;break e;case It:kr=16,qt=null;break e}throw Error(at(130,Ct==null?Ct:typeof Ct,""))}return Bt=na(kr,Ut,Bt,ir),Bt.elementType=Ct,Bt.type=qt,Bt.lanes=hr,Bt}function ks(Ct,Bt,Ut,qt){return Ct=na(7,Ct,qt,Bt),Ct.lanes=Ut,Ct}function Tu(Ct,Bt,Ut,qt){return Ct=na(22,Ct,qt,Bt),Ct.elementType=kt,Ct.lanes=Ut,Ct.stateNode={},Ct}function _0(Ct,Bt,Ut){return Ct=na(6,Ct,null,Bt),Ct.lanes=Ut,Ct}function b0(Ct,Bt,Ut){return Bt=na(4,Ct.children!==null?Ct.children:[],Ct.key,Bt),Bt.lanes=Ut,Bt.stateNode={containerInfo:Ct.containerInfo,pendingChildren:null,implementation:Ct.implementation},Bt}function wm(Ct,Bt,Ut,qt,ir){this.tag=Bt,this.containerInfo=Ct,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=nr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fo(0),this.expirationTimes=fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.identifierPrefix=qt,this.onRecoverableError=ir,ar&&(this.mutableSourceEagerHydrationData=null)}function Wp(Ct,Bt,Ut,qt,ir,hr,kr,Qr,vn){return Ct=new wm(Ct,Bt,Ut,Qr,vn),Bt===1?(Bt=1,hr===!0&&(Bt|=8)):Bt=0,hr=na(3,null,null,Bt),Ct.current=hr,hr.stateNode=Ct,hr.memoizedState={element:qt,isDehydrated:Ut,cache:null,transitions:null},Ru(hr),Ct}function Vp(Ct){if(!Ct)return yn;Ct=Ct._reactInternals;e:{if(Ot(Ct)!==Ct||Ct.tag!==1)throw Error(at(170));var Bt=Ct;do{switch(Bt.tag){case 3:Bt=Bt.stateNode.context;break e;case 1:if(Fn(Bt.type)){Bt=Bt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Bt=Bt.return}while(Bt!==null);throw Error(at(171))}if(Ct.tag===1){var Ut=Ct.type;if(Fn(Ut))return Ur(Ct,Ut,Bt)}return Bt}function jp(Ct){var Bt=Ct._reactInternals;if(Bt===void 0)throw typeof Ct.render=="function"?Error(at(188)):(Ct=Object.keys(Ct).join(","),Error(at(268,Ct)));return Ct=lt(Bt),Ct===null?null:Ct.stateNode}function Kp(Ct,Bt){if(Ct=Ct.memoizedState,Ct!==null&&Ct.dehydrated!==null){var Ut=Ct.retryLane;Ct.retryLane=Ut!==0&&Ut<Bt?Ut:Bt}}function w0(Ct,Bt){Kp(Ct,Bt),(Ct=Ct.alternate)&&Kp(Ct,Bt)}function xm(Ct){return Ct=lt(Ct),Ct===null?null:Ct.stateNode}function Mm(){return null}return tt.attemptContinuousHydration=function(Ct){if(Ct.tag===13){var Bt=Fo();Zo(Ct,134217728,Bt),w0(Ct,134217728)}},tt.attemptHydrationAtCurrentPriority=function(Ct){if(Ct.tag===13){var Bt=Fo(),Ut=vs(Ct);Zo(Ct,Ut,Bt),w0(Ct,Ut)}},tt.attemptSynchronousHydration=function(Ct){switch(Ct.tag){case 3:var Bt=Ct.stateNode;if(Bt.current.memoizedState.isDehydrated){var Ut=eo(Bt.pendingLanes);Ut!==0&&($a(Bt,Ut|1),No(Bt,ho()),!(Zn&6)&&(js(),Uo()))}break;case 13:var qt=Fo();Fp(function(){return Zo(Ct,1,qt)}),w0(Ct,1)}},tt.batchedUpdates=function(Ct,Bt){var Ut=Zn;Zn|=1;try{return Ct(Bt)}finally{Zn=Ut,Zn===0&&(js(),es&&Uo())}},tt.createComponentSelector=function(Ct){return{$$typeof:du,value:Ct}},tt.createContainer=function(Ct,Bt,Ut,qt,ir,hr,kr){return Wp(Ct,Bt,!1,null,Ut,qt,ir,hr,kr)},tt.createHasPseudoClassSelector=function(Ct){return{$$typeof:pu,value:Ct}},tt.createHydrationContainer=function(Ct,Bt,Ut,qt,ir,hr,kr,Qr,vn){return Ct=Wp(Ut,qt,!0,Ct,ir,hr,kr,Qr,vn),Ct.context=Vp(null),Ut=Ct.current,qt=Fo(),ir=vs(Ut),hr=as(qt,ir),hr.callback=Bt??null,ps(Ut,hr),Ct.current.lanes=ir,ao(Ct,ir,qt),No(Ct,qt),Ct},tt.createPortal=function(Ct,Bt,Ut){var qt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ft,key:qt==null?null:""+qt,children:Ct,containerInfo:Bt,implementation:Ut}},tt.createRoleSelector=function(Ct){return{$$typeof:mu,value:Ct}},tt.createTestNameSelector=function(Ct){return{$$typeof:gu,value:Ct}},tt.createTextSelector=function(Ct){return{$$typeof:vu,value:Ct}},tt.deferredUpdates=function(Ct){var Bt=_i,Ut=yo.transition;try{return yo.transition=null,_i=16,Ct()}finally{_i=Bt,yo.transition=Ut}},tt.discreteUpdates=function(Ct,Bt,Ut,qt,ir){var hr=_i,kr=yo.transition;try{return yo.transition=null,_i=1,Ct(Bt,Ut,qt,ir)}finally{_i=hr,yo.transition=kr,Zn===0&&js()}},tt.findAllNodes=s0,tt.findBoundingRects=function(Ct,Bt){if(!br)throw Error(at(363));Bt=s0(Ct,Bt),Ct=[];for(var Ut=0;Ut<Bt.length;Ut++)Ct.push(Sr(Bt[Ut]));for(Bt=Ct.length-1;0<Bt;Bt--){Ut=Ct[Bt];for(var qt=Ut.x,ir=qt+Ut.width,hr=Ut.y,kr=hr+Ut.height,Qr=Bt-1;0<=Qr;Qr--)if(Bt!==Qr){var vn=Ct[Qr],Bn=vn.x,Un=Bn+vn.width,jn=vn.y,Hn=jn+vn.height;if(qt>=Bn&&hr>=jn&&ir<=Un&&kr<=Hn){Ct.splice(Bt,1);break}else if(qt!==Bn||Ut.width!==vn.width||Hn<hr||jn>kr){if(!(hr!==jn||Ut.height!==vn.height||Un<qt||Bn>ir)){Bn>qt&&(vn.width+=Bn-qt,vn.x=qt),Un<ir&&(vn.width=ir-Bn),Ct.splice(Bt,1);break}}else{jn>hr&&(vn.height+=jn-hr,vn.y=hr),Hn<kr&&(vn.height=kr-jn),Ct.splice(Bt,1);break}}}return Ct},tt.findHostInstance=jp,tt.findHostInstanceWithNoPortals=function(Ct){return Ct=Et(Ct),Ct=Ct!==null?pt(Ct):null,Ct===null?null:Ct.stateNode},tt.findHostInstanceWithWarning=function(Ct){return jp(Ct)},tt.flushControlled=function(Ct){var Bt=Zn;Zn|=1;var Ut=yo.transition,qt=_i;try{yo.transition=null,_i=1,Ct()}finally{_i=qt,yo.transition=Ut,Zn=Bt,Zn===0&&(js(),Uo())}},tt.flushPassiveEffects=Ls,tt.flushSync=Fp,tt.focusWithin=function(Ct,Bt){if(!br)throw Error(at(363));for(Ct=i0(Ct),Bt=Lp(Ct,Bt),Bt=Array.from(Bt),Ct=0;Ct<Bt.length;){var Ut=Bt[Ct++];if(!er(Ut)){if(Ut.tag===5&&Gr(Ut.stateNode))return!0;for(Ut=Ut.child;Ut!==null;)Bt.push(Ut),Ut=Ut.sibling}}return!1},tt.getCurrentUpdatePriority=function(){return _i},tt.getFindAllNodesFailureDescription=function(Ct,Bt){if(!br)throw Error(at(363));var Ut=0,qt=[];Ct=[i0(Ct),0];for(var ir=0;ir<Ct.length;){var hr=Ct[ir++],kr=Ct[ir++],Qr=Bt[kr];if((hr.tag!==5||!er(hr))&&(o0(hr,Qr)&&(qt.push(a0(Qr)),kr++,kr>Ut&&(Ut=kr)),kr<Bt.length))for(hr=hr.child;hr!==null;)Ct.push(hr,kr),hr=hr.sibling}if(Ut<Bt.length){for(Ct=[];Ut<Bt.length;Ut++)Ct.push(a0(Bt[Ut]));return`findAllNodes was able to match part of the selector:
  `+(qt.join(" > ")+`

No matching component was found for:
  `)+Ct.join(" > ")}return null},tt.getPublicRootInstance=function(Ct){if(Ct=Ct.current,!Ct.child)return null;switch(Ct.child.tag){case 5:return wt(Ct.child.stateNode);default:return Ct.child.stateNode}},tt.injectIntoDevTools=function(Ct){if(Ct={bundleType:Ct.bundleType,version:Ct.version,rendererPackageName:Ct.rendererPackageName,rendererConfig:Ct.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:xm,findFiberByHostInstance:Ct.findFiberByHostInstance||Mm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")Ct=!1;else{var Bt=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Bt.isDisabled||!Bt.supportsFiber)Ct=!0;else{try{xs=Bt.inject(Ct),Go=Bt}catch{}Ct=!!Bt.checkDCE}}return Ct},tt.isAlreadyRendering=function(){return!1},tt.observeVisibleRects=function(Ct,Bt,Ut,qt){if(!br)throw Error(at(363));Ct=s0(Ct,Bt);var ir=Mr(Ct,Ut,qt).disconnect;return{disconnect:function(){ir()}}},tt.registerMutableSourceForHydration=function(Ct,Bt){var Ut=Bt._getVersion;Ut=Ut(Bt._source),Ct.mutableSourceEagerHydrationData==null?Ct.mutableSourceEagerHydrationData=[Bt,Ut]:Ct.mutableSourceEagerHydrationData.push(Bt,Ut)},tt.runWithPriority=function(Ct,Bt){var Ut=_i;try{return _i=Ct,Bt()}finally{_i=Ut}},tt.shouldError=function(){return null},tt.shouldSuspend=function(){return!1},tt.updateContainer=function(Ct,Bt,Ut,qt){var ir=Bt.current,hr=Fo(),kr=vs(ir);return Ut=Vp(Ut),Bt.context===null?Bt.context=Ut:Bt.pendingContext=Ut,Bt=as(hr,kr),Bt.payload={element:Ct},qt=qt===void 0?null:qt,qt!==null&&(Bt.callback=qt),ps(ir,Bt),Ct=Zo(ir,kr,hr),Ct!==null&&Hl(Ct,ir,kr),kr},tt};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),isPromise=rt=>typeof rt=="object"&&typeof rt.then=="function",globalCache=[];function shallowEqualArrays(rt,et,tt=(nt,ot)=>nt===ot){if(rt===et)return!0;if(!rt||!et)return!1;const nt=rt.length;if(et.length!==nt)return!1;for(let ot=0;ot<nt;ot++)if(!tt(rt[ot],et[ot]))return!1;return!0}function query(rt,et=null,tt=!1,nt={}){et===null&&(et=[rt]);for(const it of globalCache)if(shallowEqualArrays(et,it.keys,it.equal)){if(tt)return;if(Object.prototype.hasOwnProperty.call(it,"error"))throw it.error;if(Object.prototype.hasOwnProperty.call(it,"response"))return nt.lifespan&&nt.lifespan>0&&(it.timeout&&clearTimeout(it.timeout),it.timeout=setTimeout(it.remove,nt.lifespan)),it.response;if(!tt)throw it.promise}const ot={keys:et,equal:nt.equal,remove:()=>{const it=globalCache.indexOf(ot);it!==-1&&globalCache.splice(it,1)},promise:(isPromise(rt)?rt:rt(...et)).then(it=>{ot.response=it,nt.lifespan&&nt.lifespan>0&&(ot.timeout=setTimeout(ot.remove,nt.lifespan))}).catch(it=>ot.error=it)};if(globalCache.push(ot),!tt)throw ot.promise}const suspend=(rt,et,tt)=>query(rt,et,!1,tt),preload=(rt,et,tt)=>void query(rt,et,!0,tt),clear=rt=>{if(rt===void 0||rt.length===0)globalCache.splice(0,globalCache.length);else{const et=globalCache.find(tt=>shallowEqualArrays(rt,tt.keys,tt.equal));et&&et.remove()}},catalogue={},extend=rt=>void Object.assign(catalogue,rt);function createRenderer(rt,et){function tt(ht,{args:mt=[],attach:gt,...yt},xt){let St=`${ht[0].toUpperCase()}${ht.slice(1)}`,Tt;if(ht==="primitive"){if(yt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Mt=yt.object;Tt=prepare(Mt,{type:ht,root:xt,attach:gt,primitive:!0})}else{const Mt=catalogue[St];if(!Mt)throw new Error(`R3F: ${St} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(mt))throw new Error("R3F: The args prop must be an array!");Tt=prepare(new Mt(...mt),{type:ht,root:xt,attach:gt,memoizedProps:{args:mt}})}return Tt.__r3f.attach===void 0&&(Tt instanceof BufferGeometry?Tt.__r3f.attach="geometry":Tt instanceof Material&&(Tt.__r3f.attach="material")),St!=="inject"&&applyProps$1(Tt,yt),Tt}function nt(ht,mt){let gt=!1;if(mt){var yt,xt;(yt=mt.__r3f)!=null&&yt.attach?attach(ht,mt,mt.__r3f.attach):mt.isObject3D&&ht.isObject3D&&(ht.add(mt),gt=!0),gt||(xt=ht.__r3f)==null||xt.objects.push(mt),mt.__r3f||prepare(mt,{}),mt.__r3f.parent=ht,updateInstance(mt),invalidateInstance(mt)}}function ot(ht,mt,gt){let yt=!1;if(mt){var xt,St;if((xt=mt.__r3f)!=null&&xt.attach)attach(ht,mt,mt.__r3f.attach);else if(mt.isObject3D&&ht.isObject3D){mt.parent=ht,mt.dispatchEvent({type:"added"});const Tt=ht.children.filter(Pt=>Pt!==mt),Mt=Tt.indexOf(gt);ht.children=[...Tt.slice(0,Mt),mt,...Tt.slice(Mt)],yt=!0}yt||(St=ht.__r3f)==null||St.objects.push(mt),mt.__r3f||prepare(mt,{}),mt.__r3f.parent=ht,updateInstance(mt),invalidateInstance(mt)}}function it(ht,mt,gt=!1){ht&&[...ht].forEach(yt=>at(mt,yt,gt))}function at(ht,mt,gt){if(mt){var yt,xt,St;if(mt.__r3f&&(mt.__r3f.parent=null),(yt=ht.__r3f)!=null&&yt.objects&&(ht.__r3f.objects=ht.__r3f.objects.filter(kt=>kt!==mt)),(xt=mt.__r3f)!=null&&xt.attach)detach(ht,mt,mt.__r3f.attach);else if(mt.isObject3D&&ht.isObject3D){var Tt;ht.remove(mt),(Tt=mt.__r3f)!=null&&Tt.root&&removeInteractivity(mt.__r3f.root,mt)}const Pt=(St=mt.__r3f)==null?void 0:St.primitive,It=gt===void 0?mt.dispose!==null&&!Pt:gt;if(!Pt){var Mt;it((Mt=mt.__r3f)==null?void 0:Mt.objects,mt,It),it(mt.children,mt,It)}delete mt.__r3f,It&&mt.dispose&&mt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{mt.dispose()}catch{}}),invalidateInstance(ht)}}function st(ht,mt,gt,yt){var xt;const St=(xt=ht.__r3f)==null?void 0:xt.parent;if(!St)return;const Tt=tt(mt,gt,ht.__r3f.root);if(ht.children){for(const Mt of ht.children)Mt.__r3f&&nt(Tt,Mt);ht.children=ht.children.filter(Mt=>!Mt.__r3f)}ht.__r3f.objects.forEach(Mt=>nt(Tt,Mt)),ht.__r3f.objects=[],ht.__r3f.autoRemovedBeforeAppend||at(St,ht),Tt.parent&&(Tt.__r3f.autoRemovedBeforeAppend=!0),nt(St,Tt),Tt.raycast&&Tt.__r3f.eventCount&&Tt.__r3f.root.getState().internal.interaction.push(Tt),[yt,yt.alternate].forEach(Mt=>{Mt!==null&&(Mt.stateNode=Tt,Mt.ref&&(typeof Mt.ref=="function"?Mt.ref(Tt):Mt.ref.current=Tt))})}const ut=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:tt,removeChild:at,appendChild:nt,appendInitialChild:nt,insertBefore:ot,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ht,mt)=>{if(!mt)return;const gt=ht.getState().scene;gt.__r3f&&(gt.__r3f.root=ht,nt(gt,mt))},removeChildFromContainer:(ht,mt)=>{mt&&at(ht.getState().scene,mt)},insertInContainerBefore:(ht,mt,gt)=>{if(!mt||!gt)return;const yt=ht.getState().scene;yt.__r3f&&ot(yt,mt,gt)},getRootHostContext:()=>null,getChildHostContext:ht=>ht,finalizeInitialChildren(ht){var mt;return!!((mt=ht==null?void 0:ht.__r3f)!=null?mt:{}).handlers},prepareUpdate(ht,mt,gt,yt){var xt;if(((xt=ht==null?void 0:ht.__r3f)!=null?xt:{}).primitive&&yt.object&&yt.object!==ht)return[!0];{const{args:Tt=[],children:Mt,...Pt}=yt,{args:It=[],children:kt,...Dt}=gt;if(!Array.isArray(Tt))throw new Error("R3F: the args prop must be an array!");if(Tt.some((Gt,Wt)=>Gt!==It[Wt]))return[!0];const Nt=diffProps(ht,Pt,Dt,!0);return Nt.changes.length?[!1,Nt]:null}},commitUpdate(ht,[mt,gt],yt,xt,St,Tt){mt?st(ht,yt,St,Tt):applyProps$1(ht,gt)},commitMount(ht,mt,gt,yt){var xt;const St=(xt=ht.__r3f)!=null?xt:{};ht.raycast&&St.handlers&&St.eventCount&&ht.__r3f.root.getState().internal.interaction.push(ht)},getPublicInstance:ht=>ht,prepareForCommit:()=>null,preparePortalMount:ht=>prepare(ht.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ht){var mt;const{attach:gt,parent:yt}=(mt=ht.__r3f)!=null?mt:{};gt&&yt&&detach(yt,ht,gt),ht.isObject3D&&(ht.visible=!1),invalidateInstance(ht)},unhideInstance(ht,mt){var gt;const{attach:yt,parent:xt}=(gt=ht.__r3f)!=null?gt:{};yt&&xt&&attach(xt,ht,yt),(ht.isObject3D&&mt.visible==null||mt.visible)&&(ht.visible=!0),invalidateInstance(ht)},createTextInstance:ut,hideTextInstance:ut,unhideTextInstance:ut,getCurrentEventPriority:()=>et?et():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace=rt=>"colorSpace"in rt||"outputColorSpace"in rt,getColorManagement=()=>{var rt;return(rt=catalogue.ColorManagement)!=null?rt:null},isOrthographicCamera=rt=>rt&&rt.isOrthographicCamera,isRef=rt=>rt&&rt.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(rt){const et=reactExports.useRef(rt);return useIsomorphicLayoutEffect$1(()=>void(et.current=rt),[rt]),et}function Block({set:rt}){return useIsomorphicLayoutEffect$1(()=>(rt(new Promise(()=>null)),()=>rt(!1)),[rt]),null}class ErrorBoundary extends reactExports.Component{constructor(...et){super(...et),this.state={error:!1}}componentDidCatch(et){this.props.set(et)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=rt=>rt&&!!rt.memoized&&!!rt.changes;function calculateDpr(rt){var et;const tt=typeof window<"u"?(et=window.devicePixelRatio)!=null?et:2:1;return Array.isArray(rt)?Math.min(Math.max(rt[0],tt),rt[1]):rt}const getRootState=rt=>{var et;return(et=rt.__r3f)==null?void 0:et.root.getState()},is={obj:rt=>rt===Object(rt)&&!is.arr(rt)&&typeof rt!="function",fun:rt=>typeof rt=="function",str:rt=>typeof rt=="string",num:rt=>typeof rt=="number",boo:rt=>typeof rt=="boolean",und:rt=>rt===void 0,arr:rt=>Array.isArray(rt),equ(rt,et,{arrays:tt="shallow",objects:nt="reference",strict:ot=!0}={}){if(typeof rt!=typeof et||!!rt!=!!et)return!1;if(is.str(rt)||is.num(rt))return rt===et;const it=is.obj(rt);if(it&&nt==="reference")return rt===et;const at=is.arr(rt);if(at&&tt==="reference")return rt===et;if((at||it)&&rt===et)return!0;let st;for(st in rt)if(!(st in et))return!1;if(it&&tt==="shallow"&&nt==="shallow"){for(st in ot?et:rt)if(!is.equ(rt[st],et[st],{strict:ot,objects:"reference"}))return!1}else for(st in ot?et:rt)if(rt[st]!==et[st])return!1;if(is.und(st)){if(at&&rt.length===0&&et.length===0||it&&Object.keys(rt).length===0&&Object.keys(et).length===0)return!0;if(rt!==et)return!1}return!0}};function buildGraph(rt){const et={nodes:{},materials:{}};return rt&&rt.traverse(tt=>{tt.name&&(et.nodes[tt.name]=tt),tt.material&&!et.materials[tt.material.name]&&(et.materials[tt.material.name]=tt.material)}),et}function dispose(rt){rt.dispose&&rt.type!=="Scene"&&rt.dispose();for(const et in rt)et.dispose==null||et.dispose(),delete rt[et]}function prepare(rt,et){const tt=rt;return tt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...et},rt}function resolve(rt,et){let tt=rt;if(et.includes("-")){const nt=et.split("-"),ot=nt.pop();return tt=nt.reduce((it,at)=>it[at],rt),{target:tt,key:ot}}else return{target:tt,key:et}}const INDEX_REGEX=/-\d+$/;function attach(rt,et,tt){if(is.str(tt)){if(INDEX_REGEX.test(tt)){const it=tt.replace(INDEX_REGEX,""),{target:at,key:st}=resolve(rt,it);Array.isArray(at[st])||(at[st]=[])}const{target:nt,key:ot}=resolve(rt,tt);et.__r3f.previousAttach=nt[ot],nt[ot]=et}else et.__r3f.previousAttach=tt(rt,et)}function detach(rt,et,tt){var nt,ot;if(is.str(tt)){const{target:it,key:at}=resolve(rt,tt),st=et.__r3f.previousAttach;st===void 0?delete it[at]:it[at]=st}else(nt=et.__r3f)==null||nt.previousAttach==null||nt.previousAttach(rt,et);(ot=et.__r3f)==null||delete ot.previousAttach}function diffProps(rt,{children:et,key:tt,ref:nt,...ot},{children:it,key:at,ref:st,...ut}={},ft=!1){var ht;const mt=(ht=rt==null?void 0:rt.__r3f)!=null?ht:{},gt=Object.entries(ot),yt=[];if(ft){const St=Object.keys(ut);for(let Tt=0;Tt<St.length;Tt++)ot.hasOwnProperty(St[Tt])||gt.unshift([St[Tt],DEFAULT+"remove"])}gt.forEach(([St,Tt])=>{var Mt;if((Mt=rt.__r3f)!=null&&Mt.primitive&&St==="object"||is.equ(Tt,ut[St]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(St))return yt.push([St,Tt,!0,[]]);let Pt=[];St.includes("-")&&(Pt=St.split("-")),yt.push([St,Tt,!1,Pt]);for(const It in ot){const kt=ot[It];It.startsWith(`${St}-`)&&yt.push([It,kt,!1,It.split("-")])}});const xt={...ot};return mt.memoizedProps&&mt.memoizedProps.args&&(xt.args=mt.memoizedProps.args),mt.memoizedProps&&mt.memoizedProps.attach&&(xt.attach=mt.memoizedProps.attach),{memoized:xt,changes:yt}}const __DEV__=typeof api$2<"u"&&!1;function applyProps$1(rt,et){var tt,nt,ot;const it=(tt=rt.__r3f)!=null?tt:{},at=it.root,st=(nt=at==null||at.getState==null?void 0:at.getState())!=null?nt:{},{memoized:ut,changes:ft}=isDiffSet(et)?et:diffProps(rt,et),ht=it.eventCount;rt.__r3f&&(rt.__r3f.memoizedProps=ut);for(let gt=0;gt<ft.length;gt++){let[yt,xt,St,Tt]=ft[gt];if(hasColorSpace(rt)){const kt="srgb",Dt="srgb-linear";yt==="encoding"?(yt="colorSpace",xt=xt===3001?kt:Dt):yt==="outputEncoding"&&(yt="outputColorSpace",xt=xt===3001?kt:Dt)}let Mt=rt,Pt=Mt[yt];if(Tt.length&&(Pt=Tt.reduce((It,kt)=>It[kt],rt),!(Pt&&Pt.set))){const[It,...kt]=Tt.reverse();Mt=kt.reverse().reduce((Dt,Nt)=>Dt[Nt],rt),yt=It}if(xt===DEFAULT+"remove")if(Mt.constructor){let It=DEFAULTS.get(Mt.constructor);It||(It=new Mt.constructor,DEFAULTS.set(Mt.constructor,It)),xt=It[yt]}else xt=0;if(St)xt?it.handlers[yt]=xt:delete it.handlers[yt],it.eventCount=Object.keys(it.handlers).length;else if(Pt&&Pt.set&&(Pt.copy||Pt instanceof Layers)){if(Array.isArray(xt))Pt.fromArray?Pt.fromArray(xt):Pt.set(...xt);else if(Pt.copy&&xt&&xt.constructor&&(__DEV__?Pt.constructor.name===xt.constructor.name:Pt.constructor===xt.constructor))Pt.copy(xt);else if(xt!==void 0){const It=Pt instanceof Color;!It&&Pt.setScalar?Pt.setScalar(xt):Pt instanceof Layers&&xt instanceof Layers?Pt.mask=xt.mask:Pt.set(xt),!getColorManagement()&&!st.linear&&It&&Pt.convertSRGBToLinear()}}else if(Mt[yt]=xt,Mt[yt]instanceof Texture&&Mt[yt].format===RGBAFormat&&Mt[yt].type===UnsignedByteType){const It=Mt[yt];hasColorSpace(It)&&hasColorSpace(st.gl)?It.colorSpace=st.gl.outputColorSpace:It.encoding=st.gl.outputEncoding}invalidateInstance(rt)}if(it.parent&&st.internal&&rt.raycast&&ht!==it.eventCount){const gt=st.internal.interaction.indexOf(rt);gt>-1&&st.internal.interaction.splice(gt,1),it.eventCount&&st.internal.interaction.push(rt)}return!(ft.length===1&&ft[0][0]==="onUpdate")&&ft.length&&(ot=rt.__r3f)!=null&&ot.parent&&updateInstance(rt),rt}function invalidateInstance(rt){var et,tt;const nt=(et=rt.__r3f)==null||(tt=et.root)==null||tt.getState==null?void 0:tt.getState();nt&&nt.internal.frames===0&&nt.invalidate()}function updateInstance(rt){rt.onUpdate==null||rt.onUpdate(rt)}function updateCamera(rt,et){rt.manual||(isOrthographicCamera(rt)?(rt.left=et.width/-2,rt.right=et.width/2,rt.top=et.height/2,rt.bottom=et.height/-2):rt.aspect=et.width/et.height,rt.updateProjectionMatrix(),rt.updateMatrixWorld())}function makeId(rt){return(rt.eventObject||rt.object).uuid+"/"+rt.index+rt.instanceId}function getEventPriority(){var rt;const et=typeof self<"u"&&self||typeof window<"u"&&window;if(!et)return constantsExports.DefaultEventPriority;switch((rt=et.event)==null?void 0:rt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(rt,et,tt,nt){const ot=tt.get(et);ot&&(tt.delete(et),tt.size===0&&(rt.delete(nt),ot.target.releasePointerCapture(nt)))}function removeInteractivity(rt,et){const{internal:tt}=rt.getState();tt.interaction=tt.interaction.filter(nt=>nt!==et),tt.initialHits=tt.initialHits.filter(nt=>nt!==et),tt.hovered.forEach((nt,ot)=>{(nt.eventObject===et||nt.object===et)&&tt.hovered.delete(ot)}),tt.capturedMap.forEach((nt,ot)=>{releaseInternalPointerCapture(tt.capturedMap,et,nt,ot)})}function createEvents(rt){function et(ut){const{internal:ft}=rt.getState(),ht=ut.offsetX-ft.initialClick[0],mt=ut.offsetY-ft.initialClick[1];return Math.round(Math.sqrt(ht*ht+mt*mt))}function tt(ut){return ut.filter(ft=>["Move","Over","Enter","Out","Leave"].some(ht=>{var mt;return(mt=ft.__r3f)==null?void 0:mt.handlers["onPointer"+ht]}))}function nt(ut,ft){const ht=rt.getState(),mt=new Set,gt=[],yt=ft?ft(ht.internal.interaction):ht.internal.interaction;for(let Mt=0;Mt<yt.length;Mt++){const Pt=getRootState(yt[Mt]);Pt&&(Pt.raycaster.camera=void 0)}ht.previousRoot||ht.events.compute==null||ht.events.compute(ut,ht);function xt(Mt){const Pt=getRootState(Mt);if(!Pt||!Pt.events.enabled||Pt.raycaster.camera===null)return[];if(Pt.raycaster.camera===void 0){var It;Pt.events.compute==null||Pt.events.compute(ut,Pt,(It=Pt.previousRoot)==null?void 0:It.getState()),Pt.raycaster.camera===void 0&&(Pt.raycaster.camera=null)}return Pt.raycaster.camera?Pt.raycaster.intersectObject(Mt,!0):[]}let St=yt.flatMap(xt).sort((Mt,Pt)=>{const It=getRootState(Mt.object),kt=getRootState(Pt.object);return!It||!kt?Mt.distance-Pt.distance:kt.events.priority-It.events.priority||Mt.distance-Pt.distance}).filter(Mt=>{const Pt=makeId(Mt);return mt.has(Pt)?!1:(mt.add(Pt),!0)});ht.events.filter&&(St=ht.events.filter(St,ht));for(const Mt of St){let Pt=Mt.object;for(;Pt;){var Tt;(Tt=Pt.__r3f)!=null&&Tt.eventCount&&gt.push({...Mt,eventObject:Pt}),Pt=Pt.parent}}if("pointerId"in ut&&ht.internal.capturedMap.has(ut.pointerId))for(let Mt of ht.internal.capturedMap.get(ut.pointerId).values())mt.has(makeId(Mt.intersection))||gt.push(Mt.intersection);return gt}function ot(ut,ft,ht,mt){const gt=rt.getState();if(ut.length){const yt={stopped:!1};for(const xt of ut){const St=getRootState(xt.object)||gt,{raycaster:Tt,pointer:Mt,camera:Pt,internal:It}=St,kt=new Vector3(Mt.x,Mt.y,0).unproject(Pt),Dt=Xt=>{var Et,lt;return(Et=(lt=It.capturedMap.get(Xt))==null?void 0:lt.has(xt.eventObject))!=null?Et:!1},Nt=Xt=>{const Et={intersection:xt,target:ft.target};It.capturedMap.has(Xt)?It.capturedMap.get(Xt).set(xt.eventObject,Et):It.capturedMap.set(Xt,new Map([[xt.eventObject,Et]])),ft.target.setPointerCapture(Xt)},Gt=Xt=>{const Et=It.capturedMap.get(Xt);Et&&releaseInternalPointerCapture(It.capturedMap,xt.eventObject,Et,Xt)};let Wt={};for(let Xt in ft){let Et=ft[Xt];typeof Et!="function"&&(Wt[Xt]=Et)}let Ot={...xt,...Wt,pointer:Mt,intersections:ut,stopped:yt.stopped,delta:ht,unprojectedPoint:kt,ray:Tt.ray,camera:Pt,stopPropagation(){const Xt="pointerId"in ft&&It.capturedMap.get(ft.pointerId);if((!Xt||Xt.has(xt.eventObject))&&(Ot.stopped=yt.stopped=!0,It.hovered.size&&Array.from(It.hovered.values()).find(Et=>Et.eventObject===xt.eventObject))){const Et=ut.slice(0,ut.indexOf(xt));it([...Et,xt])}},target:{hasPointerCapture:Dt,setPointerCapture:Nt,releasePointerCapture:Gt},currentTarget:{hasPointerCapture:Dt,setPointerCapture:Nt,releasePointerCapture:Gt},nativeEvent:ft};if(mt(Ot),yt.stopped===!0)break}}return ut}function it(ut){const{internal:ft}=rt.getState();for(const ht of ft.hovered.values())if(!ut.length||!ut.find(mt=>mt.object===ht.object&&mt.index===ht.index&&mt.instanceId===ht.instanceId)){const gt=ht.eventObject.__r3f,yt=gt==null?void 0:gt.handlers;if(ft.hovered.delete(makeId(ht)),gt!=null&&gt.eventCount){const xt={...ht,intersections:ut};yt.onPointerOut==null||yt.onPointerOut(xt),yt.onPointerLeave==null||yt.onPointerLeave(xt)}}}function at(ut,ft){for(let ht=0;ht<ft.length;ht++){const mt=ft[ht].__r3f;mt==null||mt.handlers.onPointerMissed==null||mt.handlers.onPointerMissed(ut)}}function st(ut){switch(ut){case"onPointerLeave":case"onPointerCancel":return()=>it([]);case"onLostPointerCapture":return ft=>{const{internal:ht}=rt.getState();"pointerId"in ft&&ht.capturedMap.has(ft.pointerId)&&requestAnimationFrame(()=>{ht.capturedMap.has(ft.pointerId)&&(ht.capturedMap.delete(ft.pointerId),it([]))})}}return function(ht){const{onPointerMissed:mt,internal:gt}=rt.getState();gt.lastEvent.current=ht;const yt=ut==="onPointerMove",xt=ut==="onClick"||ut==="onContextMenu"||ut==="onDoubleClick",Tt=nt(ht,yt?tt:void 0),Mt=xt?et(ht):0;ut==="onPointerDown"&&(gt.initialClick=[ht.offsetX,ht.offsetY],gt.initialHits=Tt.map(It=>It.eventObject)),xt&&!Tt.length&&Mt<=2&&(at(ht,gt.interaction),mt&&mt(ht)),yt&&it(Tt);function Pt(It){const kt=It.eventObject,Dt=kt.__r3f,Nt=Dt==null?void 0:Dt.handlers;if(Dt!=null&&Dt.eventCount)if(yt){if(Nt.onPointerOver||Nt.onPointerEnter||Nt.onPointerOut||Nt.onPointerLeave){const Gt=makeId(It),Wt=gt.hovered.get(Gt);Wt?Wt.stopped&&It.stopPropagation():(gt.hovered.set(Gt,It),Nt.onPointerOver==null||Nt.onPointerOver(It),Nt.onPointerEnter==null||Nt.onPointerEnter(It))}Nt.onPointerMove==null||Nt.onPointerMove(It)}else{const Gt=Nt[ut];Gt?(!xt||gt.initialHits.includes(kt))&&(at(ht,gt.interaction.filter(Wt=>!gt.initialHits.includes(Wt))),Gt(It)):xt&&gt.initialHits.includes(kt)&&at(ht,gt.interaction.filter(Wt=>!gt.initialHits.includes(Wt)))}}ot(Tt,ht,Mt,Pt)}}return{handlePointer:st}}const isRenderer=rt=>!!(rt!=null&&rt.render),context=reactExports.createContext(null),createStore$2=(rt,et)=>{const tt=create$2((st,ut)=>{const ft=new Vector3,ht=new Vector3,mt=new Vector3;function gt(Mt=ut().camera,Pt=ht,It=ut().size){const{width:kt,height:Dt,top:Nt,left:Gt}=It,Wt=kt/Dt;Pt instanceof Vector3?mt.copy(Pt):mt.set(...Pt);const Ot=Mt.getWorldPosition(ft).distanceTo(mt);if(isOrthographicCamera(Mt))return{width:kt/Mt.zoom,height:Dt/Mt.zoom,top:Nt,left:Gt,factor:1,distance:Ot,aspect:Wt};{const Xt=Mt.fov*Math.PI/180,Et=2*Math.tan(Xt/2)*Ot,lt=Et*(kt/Dt);return{width:lt,height:Et,top:Nt,left:Gt,factor:kt/lt,distance:Ot,aspect:Wt}}}let yt;const xt=Mt=>st(Pt=>({performance:{...Pt.performance,current:Mt}})),St=new Vector2;return{set:st,get:ut,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Mt=1)=>rt(ut(),Mt),advance:(Mt,Pt)=>et(Mt,Pt,ut()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:St,mouse:St,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Mt=ut();yt&&clearTimeout(yt),Mt.performance.current!==Mt.performance.min&&xt(Mt.performance.min),yt=setTimeout(()=>xt(ut().performance.max),Mt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:gt},setEvents:Mt=>st(Pt=>({...Pt,events:{...Pt.events,...Mt}})),setSize:(Mt,Pt,It,kt,Dt)=>{const Nt=ut().camera,Gt={width:Mt,height:Pt,top:kt||0,left:Dt||0,updateStyle:It};st(Wt=>({size:Gt,viewport:{...Wt.viewport,...gt(Nt,ht,Gt)}}))},setDpr:Mt=>st(Pt=>{const It=calculateDpr(Mt);return{viewport:{...Pt.viewport,dpr:It,initialDpr:Pt.viewport.initialDpr||It}}}),setFrameloop:(Mt="always")=>{const Pt=ut().clock;Pt.stop(),Pt.elapsedTime=0,Mt!=="never"&&(Pt.start(),Pt.elapsedTime=0),st(()=>({frameloop:Mt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Mt,Pt,It)=>{const kt=ut().internal;return kt.priority=kt.priority+(Pt>0?1:0),kt.subscribers.push({ref:Mt,priority:Pt,store:It}),kt.subscribers=kt.subscribers.sort((Dt,Nt)=>Dt.priority-Nt.priority),()=>{const Dt=ut().internal;Dt!=null&&Dt.subscribers&&(Dt.priority=Dt.priority-(Pt>0?1:0),Dt.subscribers=Dt.subscribers.filter(Nt=>Nt.ref!==Mt))}}}}}),nt=tt.getState();let ot=nt.size,it=nt.viewport.dpr,at=nt.camera;return tt.subscribe(()=>{const{camera:st,size:ut,viewport:ft,gl:ht,set:mt}=tt.getState();if(ut!==ot||ft.dpr!==it){var gt;ot=ut,it=ft.dpr,updateCamera(st,ut),ht.setPixelRatio(ft.dpr);const yt=(gt=ut.updateStyle)!=null?gt:typeof HTMLCanvasElement<"u"&&ht.domElement instanceof HTMLCanvasElement;ht.setSize(ut.width,ut.height,yt)}st!==at&&(at=st,mt(yt=>({viewport:{...yt.viewport,...yt.viewport.getCurrentViewport(st)}})))}),tt.subscribe(st=>rt(st)),tt};let i,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(rt,et){if(rt.size)for(const{callback:tt}of rt.values())tt(et)}function flushGlobalEffects(rt,et){switch(rt){case"before":return run(globalEffects,et);case"after":return run(globalAfterEffects,et);case"tail":return run(globalTailEffects,et)}}let subscribers,subscription;function render$1(rt,et,tt){let nt=et.clock.getDelta();for(et.frameloop==="never"&&typeof rt=="number"&&(nt=rt-et.clock.elapsedTime,et.clock.oldTime=et.clock.elapsedTime,et.clock.elapsedTime=rt),subscribers=et.internal.subscribers,i=0;i<subscribers.length;i++)subscription=subscribers[i],subscription.ref.current(subscription.store.getState(),nt,tt);return!et.internal.priority&&et.gl.render&&et.gl.render(et.scene,et.camera),et.internal.frames=Math.max(0,et.internal.frames-1),et.frameloop==="always"?1:et.internal.frames}function createLoop(rt){let et=!1,tt,nt,ot;function it(ut){nt=requestAnimationFrame(it),et=!0,tt=0,flushGlobalEffects("before",ut);for(const ht of rt.values()){var ft;ot=ht.store.getState(),ot.internal.active&&(ot.frameloop==="always"||ot.internal.frames>0)&&!((ft=ot.gl.xr)!=null&&ft.isPresenting)&&(tt+=render$1(ut,ot))}if(flushGlobalEffects("after",ut),tt===0)return flushGlobalEffects("tail",ut),et=!1,cancelAnimationFrame(nt)}function at(ut,ft=1){var ht;if(!ut)return rt.forEach(mt=>at(mt.store.getState()),ft);(ht=ut.gl.xr)!=null&&ht.isPresenting||!ut.internal.active||ut.frameloop==="never"||(ut.internal.frames=Math.min(60,ut.internal.frames+ft),et||(et=!0,requestAnimationFrame(it)))}function st(ut,ft=!0,ht,mt){if(ft&&flushGlobalEffects("before",ut),ht)render$1(ut,ht,mt);else for(const gt of rt.values())render$1(ut,gt.store.getState());ft&&flushGlobalEffects("after",ut)}return{loop:it,invalidate:at,advance:st}}function useStore$1(){const rt=reactExports.useContext(context);if(!rt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return rt}function useThree(rt=tt=>tt,et){return useStore$1()(rt,et)}function useFrame(rt,et=0){const tt=useStore$1(),nt=tt.getState().internal.subscribe,ot=useMutableCallback(rt);return useIsomorphicLayoutEffect$1(()=>nt(ot,et,tt),[et,nt,tt]),null}const memoizedLoaders=new WeakMap;function loadingFn(rt,et){return function(tt,...nt){let ot=memoizedLoaders.get(tt);return ot||(ot=new tt,memoizedLoaders.set(tt,ot)),rt&&rt(ot),Promise.all(nt.map(it=>new Promise((at,st)=>ot.load(it,ut=>{ut.scene&&Object.assign(ut,buildGraph(ut.scene)),at(ut)},et,ut=>st(new Error(`Could not load ${it}: ${ut==null?void 0:ut.message}`)))))).finally(()=>ot.dispose==null?void 0:ot.dispose())}}function useLoader(rt,et,tt,nt){const ot=Array.isArray(et)?et:[et],it=suspend(loadingFn(tt,nt),[rt,...ot],{equal:is.equ});return Array.isArray(et)?it:it[0]}useLoader.preload=function(rt,et,tt){const nt=Array.isArray(et)?et:[et];return preload(loadingFn(tt),[rt,...nt])};useLoader.clear=function(rt,et){const tt=Array.isArray(et)?et:[et];return clear([rt,...tt])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(rt,et)=>{const tt=typeof rt=="function"?rt(et):rt;return isRenderer(tt)?tt:new WebGLRenderer({powerPreference:"high-performance",canvas:et,antialias:!0,alpha:!0,...rt})};function computeInitialSize(rt,et){if(et)return et;if(typeof HTMLCanvasElement<"u"&&rt instanceof HTMLCanvasElement&&rt.parentElement){const{width:tt,height:nt,top:ot,left:it}=rt.parentElement.getBoundingClientRect();return{width:tt,height:nt,top:ot,left:it}}else if(typeof OffscreenCanvas<"u"&&rt instanceof OffscreenCanvas)return{width:rt.width,height:rt.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(rt){const et=roots.get(rt),tt=et==null?void 0:et.fiber,nt=et==null?void 0:et.store;et&&console.warn("R3F.createRoot should only be called once!");const ot=typeof reportError=="function"?reportError:console.error,it=nt||createStore$2(invalidate,advance),at=tt||reconciler.createContainer(it,constantsExports.ConcurrentRoot,null,!1,null,"",ot,null);et||roots.set(rt,{fiber:at,store:it});let st,ut=!1,ft;return{configure(ht={}){let{gl:mt,size:gt,scene:yt,events:xt,onCreated:St,shadows:Tt=!1,linear:Mt=!1,flat:Pt=!1,legacy:It=!1,orthographic:kt=!1,frameloop:Dt="always",dpr:Nt=[1,2],performance:Gt,raycaster:Wt,camera:Ot,onPointerMissed:Xt}=ht,Et=it.getState(),lt=Et.gl;Et.gl||Et.set({gl:lt=createRendererInstance(mt,rt)});let dt=Et.raycaster;dt||Et.set({raycaster:dt=new Raycaster});const{params:pt,...vt}=Wt||{};if(is.equ(vt,dt,shallowLoose)||applyProps(dt,{...vt}),is.equ(pt,dt.params,shallowLoose)||applyProps(dt,{params:{...dt.params,...pt}}),!Et.camera||Et.camera===ft&&!is.equ(ft,Ot,shallowLoose)){ft=Ot;const Lt=Ot instanceof Camera,Ft=Lt?Ot:kt?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);Lt||(Ft.position.z=5,Ot&&applyProps(Ft,Ot),!Et.camera&&!(Ot!=null&&Ot.rotation)&&Ft.lookAt(0,0,0)),Et.set({camera:Ft})}if(!Et.scene){let Lt;yt instanceof Scene?Lt=yt:(Lt=new Scene,yt&&applyProps(Lt,yt)),Et.set({scene:prepare(Lt)})}if(!Et.xr){var wt;const Lt=(Zt,Kt)=>{const zt=it.getState();zt.frameloop!=="never"&&advance(Zt,!0,zt,Kt)},Ft=()=>{const Zt=it.getState();Zt.gl.xr.enabled=Zt.gl.xr.isPresenting,Zt.gl.xr.setAnimationLoop(Zt.gl.xr.isPresenting?Lt:null),Zt.gl.xr.isPresenting||invalidate(Zt)},jt={connect(){const Zt=it.getState().gl;Zt.xr.addEventListener("sessionstart",Ft),Zt.xr.addEventListener("sessionend",Ft)},disconnect(){const Zt=it.getState().gl;Zt.xr.removeEventListener("sessionstart",Ft),Zt.xr.removeEventListener("sessionend",Ft)}};typeof((wt=lt.xr)==null?void 0:wt.addEventListener)=="function"&&jt.connect(),Et.set({xr:jt})}if(lt.shadowMap){const Lt=lt.shadowMap.enabled,Ft=lt.shadowMap.type;if(lt.shadowMap.enabled=!!Tt,is.boo(Tt))lt.shadowMap.type=PCFSoftShadowMap;else if(is.str(Tt)){var At;const jt={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};lt.shadowMap.type=(At=jt[Tt])!=null?At:PCFSoftShadowMap}else is.obj(Tt)&&Object.assign(lt.shadowMap,Tt);(Lt!==lt.shadowMap.enabled||Ft!==lt.shadowMap.type)&&(lt.shadowMap.needsUpdate=!0)}const Rt=getColorManagement();Rt&&("enabled"in Rt?Rt.enabled=!It:"legacyMode"in Rt&&(Rt.legacyMode=It)),applyProps(lt,{outputEncoding:Mt?3e3:3001,toneMapping:Pt?NoToneMapping:ACESFilmicToneMapping}),Et.legacy!==It&&Et.set(()=>({legacy:It})),Et.linear!==Mt&&Et.set(()=>({linear:Mt})),Et.flat!==Pt&&Et.set(()=>({flat:Pt})),mt&&!is.fun(mt)&&!isRenderer(mt)&&!is.equ(mt,lt,shallowLoose)&&applyProps(lt,mt),xt&&!Et.events.handlers&&Et.set({events:xt(it)});const _t=computeInitialSize(rt,gt);return is.equ(_t,Et.size,shallowLoose)||Et.setSize(_t.width,_t.height,_t.updateStyle,_t.top,_t.left),Nt&&Et.viewport.dpr!==calculateDpr(Nt)&&Et.setDpr(Nt),Et.frameloop!==Dt&&Et.setFrameloop(Dt),Et.onPointerMissed||Et.set({onPointerMissed:Xt}),Gt&&!is.equ(Gt,Et.performance,shallowLoose)&&Et.set(Lt=>({performance:{...Lt.performance,...Gt}})),st=St,ut=!0,this},render(ht){return ut||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:it,children:ht,onCreated:st,rootElement:rt}),at,null,()=>{}),it},unmount(){unmountComponentAtNode(rt)}}}function Provider({store:rt,children:et,onCreated:tt,rootElement:nt}){return useIsomorphicLayoutEffect$1(()=>{const ot=rt.getState();ot.set(it=>({internal:{...it.internal,active:!0}})),tt&&tt(ot),rt.getState().events.connected||ot.events.connect==null||ot.events.connect(nt)},[]),reactExports.createElement(context.Provider,{value:rt},et)}function unmountComponentAtNode(rt,et){const tt=roots.get(rt),nt=tt==null?void 0:tt.fiber;if(nt){const ot=tt==null?void 0:tt.store.getState();ot&&(ot.internal.active=!1),reconciler.updateContainer(null,nt,null,()=>{ot&&setTimeout(()=>{try{var it,at,st,ut;ot.events.disconnect==null||ot.events.disconnect(),(it=ot.gl)==null||(at=it.renderLists)==null||at.dispose==null||at.dispose(),(st=ot.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(ut=ot.gl)!=null&&ut.xr&&ot.xr.disconnect(),dispose(ot),roots.delete(rt),et&&et(rt)}catch{}},500)})}}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function _extends(){return _extends=Object.assign?Object.assign.bind():function(rt){for(var et=1;et<arguments.length;et++){var tt=arguments[et];for(var nt in tt)({}).hasOwnProperty.call(tt,nt)&&(rt[nt]=tt[nt])}return rt},_extends.apply(null,arguments)}function g(rt,et){let tt;return(...nt)=>{window.clearTimeout(tt),tt=window.setTimeout(()=>rt(...nt),et)}}function j({debounce:rt,scroll:et,polyfill:tt,offsetSize:nt}={debounce:0,scroll:!1,offsetSize:!1}){const ot=tt||(typeof window>"u"?class{}:window.ResizeObserver);if(!ot)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[it,at]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),st=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:it,orientationHandler:null}),ut=rt?typeof rt=="number"?rt:rt.scroll:null,ft=rt?typeof rt=="number"?rt:rt.resize:null,ht=reactExports.useRef(!1);reactExports.useEffect(()=>(ht.current=!0,()=>void(ht.current=!1)));const[mt,gt,yt]=reactExports.useMemo(()=>{const Mt=()=>{if(!st.current.element)return;const{left:Pt,top:It,width:kt,height:Dt,bottom:Nt,right:Gt,x:Wt,y:Ot}=st.current.element.getBoundingClientRect(),Xt={left:Pt,top:It,width:kt,height:Dt,bottom:Nt,right:Gt,x:Wt,y:Ot};st.current.element instanceof HTMLElement&&nt&&(Xt.height=st.current.element.offsetHeight,Xt.width=st.current.element.offsetWidth),Object.freeze(Xt),ht.current&&!D(st.current.lastBounds,Xt)&&at(st.current.lastBounds=Xt)};return[Mt,ft?g(Mt,ft):Mt,ut?g(Mt,ut):Mt]},[at,nt,ut,ft]);function xt(){st.current.scrollContainers&&(st.current.scrollContainers.forEach(Mt=>Mt.removeEventListener("scroll",yt,!0)),st.current.scrollContainers=null),st.current.resizeObserver&&(st.current.resizeObserver.disconnect(),st.current.resizeObserver=null),st.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",st.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",st.current.orientationHandler))}function St(){st.current.element&&(st.current.resizeObserver=new ot(yt),st.current.resizeObserver.observe(st.current.element),et&&st.current.scrollContainers&&st.current.scrollContainers.forEach(Mt=>Mt.addEventListener("scroll",yt,{capture:!0,passive:!0})),st.current.orientationHandler=()=>{yt()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",st.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",st.current.orientationHandler))}const Tt=Mt=>{!Mt||Mt===st.current.element||(xt(),st.current.element=Mt,st.current.scrollContainers=E(Mt),St())};return X(yt,!!et),W(gt),reactExports.useEffect(()=>{xt(),St()},[et,yt,gt]),reactExports.useEffect(()=>xt,[]),[Tt,it,mt]}function W(rt){reactExports.useEffect(()=>{const et=rt;return window.addEventListener("resize",et),()=>void window.removeEventListener("resize",et)},[rt])}function X(rt,et){reactExports.useEffect(()=>{if(et){const tt=rt;return window.addEventListener("scroll",tt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",tt,!0)}},[rt,et])}function E(rt){const et=[];if(!rt||rt===document.body)return et;const{overflow:tt,overflowX:nt,overflowY:ot}=window.getComputedStyle(rt);return[tt,nt,ot].some(it=>it==="auto"||it==="scroll")&&et.push(rt),[...et,...E(rt.parentElement)]}const k=["x","y","top","bottom","left","right","width","height"],D=(rt,et)=>k.every(tt=>rt[tt]===et[tt]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(rt,et,tt)=>et in rt?__defProp(rt,et,{enumerable:!0,configurable:!0,writable:!0,value:tt}):rt[et]=tt,__spreadValues=(rt,et)=>{for(var tt in et||(et={}))__hasOwnProp.call(et,tt)&&__defNormalProp(rt,tt,et[tt]);if(__getOwnPropSymbols)for(var tt of __getOwnPropSymbols(et))__propIsEnum.call(et,tt)&&__defNormalProp(rt,tt,et[tt]);return rt},__spreadProps=(rt,et)=>__defProps(rt,__getOwnPropDescs(et)),_a,_b;typeof window<"u"&&((_a=window.document)!=null&&_a.createElement||((_b=window.navigator)==null?void 0:_b.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(rt,et,tt){if(!rt)return;if(tt(rt)===!0)return rt;let nt=et?rt.return:rt.child;for(;nt;){const ot=traverseFiber(nt,et,tt);if(ot)return ot;nt=et?null:nt.sibling}}function wrapContext(rt){try{return Object.defineProperties(rt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return rt}}const error=console.error;console.error=function(){const rt=[...arguments].join("");if(rt!=null&&rt.startsWith("Warning:")&&rt.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const rt=reactExports.useContext(FiberContext);if(rt===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const et=reactExports.useId();return reactExports.useMemo(()=>{for(const nt of[rt,rt==null?void 0:rt.alternate]){if(!nt)continue;const ot=traverseFiber(nt,!1,it=>{let at=it.memoizedState;for(;at;){if(at.memoizedState===et)return!0;at=at.next}});if(ot)return ot}},[rt,et])}function useContextMap(){const rt=useFiber(),[et]=reactExports.useState(()=>new Map);et.clear();let tt=rt;for(;tt;){if(tt.type&&typeof tt.type=="object"){const ot=tt.type._context===void 0&&tt.type.Provider===tt.type?tt.type:tt.type._context;ot&&ot!==FiberContext&&!et.has(ot)&&et.set(ot,reactExports.useContext(wrapContext(ot)))}tt=tt.return}return et}function useContextBridge(){const rt=useContextMap();return reactExports.useMemo(()=>Array.from(rt.keys()).reduce((et,tt)=>nt=>reactExports.createElement(et,null,reactExports.createElement(tt.Provider,__spreadProps(__spreadValues({},nt),{value:rt.get(tt)}))),et=>reactExports.createElement(FiberProvider,__spreadValues({},et))),[rt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(rt){const{handlePointer:et}=createEvents(rt);return{priority:1,enabled:!0,compute(tt,nt,ot){nt.pointer.set(tt.offsetX/nt.size.width*2-1,-(tt.offsetY/nt.size.height)*2+1),nt.raycaster.setFromCamera(nt.pointer,nt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((tt,nt)=>({...tt,[nt]:et(nt)}),{}),update:()=>{var tt;const{events:nt,internal:ot}=rt.getState();(tt=ot.lastEvent)!=null&&tt.current&&nt.handlers&&nt.handlers.onPointerMove(ot.lastEvent.current)},connect:tt=>{var nt;const{set:ot,events:it}=rt.getState();it.disconnect==null||it.disconnect(),ot(at=>({events:{...at.events,connected:tt}})),Object.entries((nt=it.handlers)!=null?nt:[]).forEach(([at,st])=>{const[ut,ft]=DOM_EVENTS[at];tt.addEventListener(ut,st,{passive:ft})})},disconnect:()=>{const{set:tt,events:nt}=rt.getState();if(nt.connected){var ot;Object.entries((ot=nt.handlers)!=null?ot:[]).forEach(([it,at])=>{if(nt&&nt.connected instanceof HTMLElement){const[st]=DOM_EVENTS[it];nt.connected.removeEventListener(st,at)}}),tt(it=>({events:{...it.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function rt({children:et,fallback:tt,resize:nt,style:ot,gl:it,events:at=createPointerEvents,eventSource:st,eventPrefix:ut,shadows:ft,linear:ht,flat:mt,legacy:gt,orthographic:yt,frameloop:xt,dpr:St,performance:Tt,raycaster:Mt,camera:Pt,scene:It,onPointerMissed:kt,onCreated:Dt,...Nt},Gt){reactExports.useMemo(()=>extend(THREE),[]);const Wt=useContextBridge(),[Ot,Xt]=j({scroll:!0,debounce:{scroll:50,resize:0},...nt}),Et=reactExports.useRef(null),lt=reactExports.useRef(null);reactExports.useImperativeHandle(Gt,()=>Et.current);const dt=useMutableCallback(kt),[pt,vt]=reactExports.useState(!1),[wt,At]=reactExports.useState(!1);if(pt)throw pt;if(wt)throw wt;const Rt=reactExports.useRef(null);useIsomorphicLayoutEffect$1(()=>{const ct=Et.current;Xt.width>0&&Xt.height>0&&ct&&(Rt.current||(Rt.current=createRoot(ct)),Rt.current.configure({gl:it,events:at,shadows:ft,linear:ht,flat:mt,legacy:gt,orthographic:yt,frameloop:xt,dpr:St,performance:Tt,raycaster:Mt,camera:Pt,scene:It,size:Xt,onPointerMissed:(..._t)=>dt.current==null?void 0:dt.current(..._t),onCreated:_t=>{_t.events.connect==null||_t.events.connect(st?isRef(st)?st.current:st:lt.current),ut&&_t.setEvents({compute:(Lt,Ft)=>{const jt=Lt[ut+"X"],Zt=Lt[ut+"Y"];Ft.pointer.set(jt/Ft.size.width*2-1,-(Zt/Ft.size.height)*2+1),Ft.raycaster.setFromCamera(Ft.pointer,Ft.camera)}}),Dt==null||Dt(_t)}}),Rt.current.render(reactExports.createElement(Wt,null,reactExports.createElement(ErrorBoundary,{set:At},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:vt})},et)))))}),reactExports.useEffect(()=>{const ct=Et.current;if(ct)return()=>unmountComponentAtNode(ct)},[]);const bt=st?"none":"auto";return reactExports.createElement("div",_extends({ref:lt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:bt,...ot}},Nt),reactExports.createElement("div",{ref:Ot,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:Et,style:{display:"block"}},tt)))}),Canvas=reactExports.forwardRef(function rt(et,tt){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends({},et,{ref:tt})))});function createStore$1(rt){let et;const tt=new Set,nt=(ft,ht)=>{const mt=typeof ft=="function"?ft(et):ft;if(mt!==et){const gt=et;et=ht?mt:Object.assign({},et,mt),tt.forEach(yt=>yt(et,gt))}},ot=()=>et,it=(ft,ht=ot,mt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let gt=ht(et);function yt(){const xt=ht(et);if(!mt(gt,xt)){const St=gt;ft(gt=xt,St)}}return tt.add(yt),()=>tt.delete(yt)},ut={setState:nt,getState:ot,subscribe:(ft,ht,mt)=>ht||mt?it(ft,ht,mt):(tt.add(ft),()=>tt.delete(ft)),destroy:()=>tt.clear()};return et=rt(nt,ot,ut),ut}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(rt){const et=typeof rt=="function"?createStore$1(rt):rt,tt=(nt=et.getState,ot=Object.is)=>{const[,it]=reactExports.useReducer(Tt=>Tt+1,0),at=et.getState(),st=reactExports.useRef(at),ut=reactExports.useRef(nt),ft=reactExports.useRef(ot),ht=reactExports.useRef(!1),mt=reactExports.useRef();mt.current===void 0&&(mt.current=nt(at));let gt,yt=!1;(st.current!==at||ut.current!==nt||ft.current!==ot||ht.current)&&(gt=nt(at),yt=!ot(mt.current,gt)),useIsomorphicLayoutEffect(()=>{yt&&(mt.current=gt),st.current=at,ut.current=nt,ft.current=ot,ht.current=!1});const xt=reactExports.useRef(at);useIsomorphicLayoutEffect(()=>{const Tt=()=>{try{const Pt=et.getState(),It=ut.current(Pt);ft.current(mt.current,It)||(st.current=Pt,mt.current=It,it())}catch{ht.current=!0,it()}},Mt=et.subscribe(Tt);return et.getState()!==xt.current&&Tt(),Mt},[]);const St=yt?gt:mt.current;return reactExports.useDebugValue(St),St};return Object.assign(tt,et),tt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const nt=[tt,et];return{next(){const ot=nt.length<=0;return{value:nt.shift(),done:ot}}}},tt}let saveLastTotalLoaded=0;const useProgress=create$1(rt=>(DefaultLoadingManager.onStart=(et,tt,nt)=>{rt({active:!0,item:et,loaded:tt,total:nt,progress:(tt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{rt({active:!1})},DefaultLoadingManager.onError=et=>rt(tt=>({errors:[...tt.errors,et]})),DefaultLoadingManager.onProgress=(et,tt,nt)=>{tt===nt&&(saveLastTotalLoaded=nt),rt({active:!0,item:et,loaded:tt,total:nt,progress:(tt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),defaultDataInterpolation=rt=>`Loading ${rt.toFixed(2)}%`;function Loader({containerStyles:rt,innerStyles:et,barStyles:tt,dataStyles:nt,dataInterpolation:ot=defaultDataInterpolation,initialState:it=at=>at}){const{active:at,progress:st}=useProgress(),ut=reactExports.useRef(0),ft=reactExports.useRef(0),ht=reactExports.useRef(null),[mt,gt]=reactExports.useState(it(at));reactExports.useEffect(()=>{let xt;return at!==mt&&(xt=setTimeout(()=>gt(at),300)),()=>clearTimeout(xt)},[mt,at]);const yt=reactExports.useCallback(()=>{ht.current&&(ut.current+=(st-ut.current)/2,(ut.current>.95*st||st===100)&&(ut.current=st),ht.current.innerText=ot(ut.current),ut.current<st&&(ft.current=requestAnimationFrame(yt)))},[ot,st]);return reactExports.useEffect(()=>(yt(),()=>cancelAnimationFrame(ft.current)),[yt]),mt?reactExports.createElement("div",{style:{...styles.container,opacity:at?1:0,...rt}},reactExports.createElement("div",null,reactExports.createElement("div",{style:{...styles.inner,...et}},reactExports.createElement("div",{style:{...styles.bar,transform:`scaleX(${st/100})`,...tt}}),reactExports.createElement("span",{ref:ht,style:{...styles.data,...nt}})))):null}const styles={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},version=(()=>parseInt(REVISION.replace(/\D+/g,"")))();function toTrianglesDrawMode(rt,et){if(et===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),rt;if(et===TriangleFanDrawMode||et===TriangleStripDrawMode){let tt=rt.getIndex();if(tt===null){const at=[],st=rt.getAttribute("position");if(st!==void 0){for(let ut=0;ut<st.count;ut++)at.push(ut);rt.setIndex(at),tt=rt.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),rt}const nt=tt.count-2,ot=[];if(tt)if(et===TriangleFanDrawMode)for(let at=1;at<=nt;at++)ot.push(tt.getX(0)),ot.push(tt.getX(at)),ot.push(tt.getX(at+1));else for(let at=0;at<nt;at++)at%2===0?(ot.push(tt.getX(at)),ot.push(tt.getX(at+1)),ot.push(tt.getX(at+2))):(ot.push(tt.getX(at+2)),ot.push(tt.getX(at+1)),ot.push(tt.getX(at)));ot.length/3!==nt&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const it=rt.clone();return it.setIndex(ot),it.clearGroups(),it}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",et),rt}function decodeText(rt){if(typeof TextDecoder<"u")return new TextDecoder().decode(rt);let et="";for(let tt=0,nt=rt.length;tt<nt;tt++)et+=String.fromCharCode(rt[tt]);try{return decodeURIComponent(escape(et))}catch{return et}}const SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",sRGBEncoding=3001,LinearEncoding=3e3;class GLTFLoader extends Loader$1{constructor(et){super(et),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(tt){return new GLTFMaterialsClearcoatExtension(tt)}),this.register(function(tt){return new GLTFMaterialsDispersionExtension(tt)}),this.register(function(tt){return new GLTFTextureBasisUExtension(tt)}),this.register(function(tt){return new GLTFTextureWebPExtension(tt)}),this.register(function(tt){return new GLTFTextureAVIFExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSheenExtension(tt)}),this.register(function(tt){return new GLTFMaterialsTransmissionExtension(tt)}),this.register(function(tt){return new GLTFMaterialsVolumeExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIorExtension(tt)}),this.register(function(tt){return new GLTFMaterialsEmissiveStrengthExtension(tt)}),this.register(function(tt){return new GLTFMaterialsSpecularExtension(tt)}),this.register(function(tt){return new GLTFMaterialsIridescenceExtension(tt)}),this.register(function(tt){return new GLTFMaterialsAnisotropyExtension(tt)}),this.register(function(tt){return new GLTFMaterialsBumpExtension(tt)}),this.register(function(tt){return new GLTFLightsExtension(tt)}),this.register(function(tt){return new GLTFMeshoptCompression(tt)}),this.register(function(tt){return new GLTFMeshGpuInstancing(tt)})}load(et,tt,nt,ot){const it=this;let at;if(this.resourcePath!=="")at=this.resourcePath;else if(this.path!==""){const ft=LoaderUtils.extractUrlBase(et);at=LoaderUtils.resolveURL(ft,this.path)}else at=LoaderUtils.extractUrlBase(et);this.manager.itemStart(et);const st=function(ft){ot?ot(ft):console.error(ft),it.manager.itemError(et),it.manager.itemEnd(et)},ut=new FileLoader(this.manager);ut.setPath(this.path),ut.setResponseType("arraybuffer"),ut.setRequestHeader(this.requestHeader),ut.setWithCredentials(this.withCredentials),ut.load(et,function(ft){try{it.parse(ft,at,function(ht){tt(ht),it.manager.itemEnd(et)},st)}catch(ht){st(ht)}},nt,st)}setDRACOLoader(et){return this.dracoLoader=et,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(et){return this.ktx2Loader=et,this}setMeshoptDecoder(et){return this.meshoptDecoder=et,this}register(et){return this.pluginCallbacks.indexOf(et)===-1&&this.pluginCallbacks.push(et),this}unregister(et){return this.pluginCallbacks.indexOf(et)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(et),1),this}parse(et,tt,nt,ot){let it;const at={},st={};if(typeof et=="string")it=JSON.parse(et);else if(et instanceof ArrayBuffer)if(decodeText(new Uint8Array(et.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{at[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(et)}catch(ht){ot&&ot(ht);return}it=JSON.parse(at[EXTENSIONS.KHR_BINARY_GLTF].content)}else it=JSON.parse(decodeText(new Uint8Array(et)));else it=et;if(it.asset===void 0||it.asset.version[0]<2){ot&&ot(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const ut=new GLTFParser(it,{path:tt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});ut.fileLoader.setRequestHeader(this.requestHeader);for(let ft=0;ft<this.pluginCallbacks.length;ft++){const ht=this.pluginCallbacks[ft](ut);ht.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),st[ht.name]=ht,at[ht.name]=!0}if(it.extensionsUsed)for(let ft=0;ft<it.extensionsUsed.length;++ft){const ht=it.extensionsUsed[ft],mt=it.extensionsRequired||[];switch(ht){case EXTENSIONS.KHR_MATERIALS_UNLIT:at[ht]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:at[ht]=new GLTFDracoMeshCompressionExtension(it,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:at[ht]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:at[ht]=new GLTFMeshQuantizationExtension;break;default:mt.indexOf(ht)>=0&&st[ht]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+ht+'".')}}ut.setExtensions(at),ut.setPlugins(st),ut.parse(nt,ot)}parseAsync(et,tt){const nt=this;return new Promise(function(ot,it){nt.parse(et,tt,ot,it)})}}function GLTFRegistry(){let rt={};return{get:function(et){return rt[et]},add:function(et,tt){rt[et]=tt},remove:function(et){delete rt[et]},removeAll:function(){rt={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const et=this.parser,tt=this.parser.json.nodes||[];for(let nt=0,ot=tt.length;nt<ot;nt++){const it=tt[nt];it.extensions&&it.extensions[this.name]&&it.extensions[this.name].light!==void 0&&et._addNodeRef(this.cache,it.extensions[this.name].light)}}_loadLight(et){const tt=this.parser,nt="light:"+et;let ot=tt.cache.get(nt);if(ot)return ot;const it=tt.json,ut=((it.extensions&&it.extensions[this.name]||{}).lights||[])[et];let ft;const ht=new Color(16777215);ut.color!==void 0&&ht.setRGB(ut.color[0],ut.color[1],ut.color[2],LinearSRGBColorSpace);const mt=ut.range!==void 0?ut.range:0;switch(ut.type){case"directional":ft=new DirectionalLight(ht),ft.target.position.set(0,0,-1),ft.add(ft.target);break;case"point":ft=new PointLight(ht),ft.distance=mt;break;case"spot":ft=new SpotLight(ht),ft.distance=mt,ut.spot=ut.spot||{},ut.spot.innerConeAngle=ut.spot.innerConeAngle!==void 0?ut.spot.innerConeAngle:0,ut.spot.outerConeAngle=ut.spot.outerConeAngle!==void 0?ut.spot.outerConeAngle:Math.PI/4,ft.angle=ut.spot.outerConeAngle,ft.penumbra=1-ut.spot.innerConeAngle/ut.spot.outerConeAngle,ft.target.position.set(0,0,-1),ft.add(ft.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+ut.type)}return ft.position.set(0,0,0),ft.decay=2,assignExtrasToUserData(ft,ut),ut.intensity!==void 0&&(ft.intensity=ut.intensity),ft.name=tt.createUniqueName(ut.name||"light_"+et),ot=Promise.resolve(ft),tt.cache.add(nt,ot),ot}getDependency(et,tt){if(et==="light")return this._loadLight(tt)}createNodeAttachment(et){const tt=this,nt=this.parser,it=nt.json.nodes[et],st=(it.extensions&&it.extensions[this.name]||{}).light;return st===void 0?null:this._loadLight(st).then(function(ut){return nt._getNodeRef(tt.cache,st,ut)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(et,tt,nt){const ot=[];et.color=new Color(1,1,1),et.opacity=1;const it=tt.pbrMetallicRoughness;if(it){if(Array.isArray(it.baseColorFactor)){const at=it.baseColorFactor;et.color.setRGB(at[0],at[1],at[2],LinearSRGBColorSpace),et.opacity=at[3]}it.baseColorTexture!==void 0&&ot.push(nt.assignTexture(et,"map",it.baseColorTexture,SRGBColorSpace))}return Promise.all(ot)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(et,tt){const ot=this.parser.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=ot.extensions[this.name].emissiveStrength;return it!==void 0&&(tt.emissiveIntensity=it),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];if(at.clearcoatFactor!==void 0&&(tt.clearcoat=at.clearcoatFactor),at.clearcoatTexture!==void 0&&it.push(nt.assignTexture(tt,"clearcoatMap",at.clearcoatTexture)),at.clearcoatRoughnessFactor!==void 0&&(tt.clearcoatRoughness=at.clearcoatRoughnessFactor),at.clearcoatRoughnessTexture!==void 0&&it.push(nt.assignTexture(tt,"clearcoatRoughnessMap",at.clearcoatRoughnessTexture)),at.clearcoatNormalTexture!==void 0&&(it.push(nt.assignTexture(tt,"clearcoatNormalMap",at.clearcoatNormalTexture)),at.clearcoatNormalTexture.scale!==void 0)){const st=at.clearcoatNormalTexture.scale;tt.clearcoatNormalScale=new Vector2(st,st)}return Promise.all(it)}}class GLTFMaterialsDispersionExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const ot=this.parser.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=ot.extensions[this.name];return tt.dispersion=it.dispersion!==void 0?it.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];return at.iridescenceFactor!==void 0&&(tt.iridescence=at.iridescenceFactor),at.iridescenceTexture!==void 0&&it.push(nt.assignTexture(tt,"iridescenceMap",at.iridescenceTexture)),at.iridescenceIor!==void 0&&(tt.iridescenceIOR=at.iridescenceIor),tt.iridescenceThicknessRange===void 0&&(tt.iridescenceThicknessRange=[100,400]),at.iridescenceThicknessMinimum!==void 0&&(tt.iridescenceThicknessRange[0]=at.iridescenceThicknessMinimum),at.iridescenceThicknessMaximum!==void 0&&(tt.iridescenceThicknessRange[1]=at.iridescenceThicknessMaximum),at.iridescenceThicknessTexture!==void 0&&it.push(nt.assignTexture(tt,"iridescenceThicknessMap",at.iridescenceThicknessTexture)),Promise.all(it)}}class GLTFMaterialsSheenExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[];tt.sheenColor=new Color(0,0,0),tt.sheenRoughness=0,tt.sheen=1;const at=ot.extensions[this.name];if(at.sheenColorFactor!==void 0){const st=at.sheenColorFactor;tt.sheenColor.setRGB(st[0],st[1],st[2],LinearSRGBColorSpace)}return at.sheenRoughnessFactor!==void 0&&(tt.sheenRoughness=at.sheenRoughnessFactor),at.sheenColorTexture!==void 0&&it.push(nt.assignTexture(tt,"sheenColorMap",at.sheenColorTexture,SRGBColorSpace)),at.sheenRoughnessTexture!==void 0&&it.push(nt.assignTexture(tt,"sheenRoughnessMap",at.sheenRoughnessTexture)),Promise.all(it)}}class GLTFMaterialsTransmissionExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];return at.transmissionFactor!==void 0&&(tt.transmission=at.transmissionFactor),at.transmissionTexture!==void 0&&it.push(nt.assignTexture(tt,"transmissionMap",at.transmissionTexture)),Promise.all(it)}}class GLTFMaterialsVolumeExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];tt.thickness=at.thicknessFactor!==void 0?at.thicknessFactor:0,at.thicknessTexture!==void 0&&it.push(nt.assignTexture(tt,"thicknessMap",at.thicknessTexture)),tt.attenuationDistance=at.attenuationDistance||1/0;const st=at.attenuationColor||[1,1,1];return tt.attenuationColor=new Color().setRGB(st[0],st[1],st[2],LinearSRGBColorSpace),Promise.all(it)}}class GLTFMaterialsIorExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const ot=this.parser.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=ot.extensions[this.name];return tt.ior=it.ior!==void 0?it.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];tt.specularIntensity=at.specularFactor!==void 0?at.specularFactor:1,at.specularTexture!==void 0&&it.push(nt.assignTexture(tt,"specularIntensityMap",at.specularTexture));const st=at.specularColorFactor||[1,1,1];return tt.specularColor=new Color().setRGB(st[0],st[1],st[2],LinearSRGBColorSpace),at.specularColorTexture!==void 0&&it.push(nt.assignTexture(tt,"specularColorMap",at.specularColorTexture,SRGBColorSpace)),Promise.all(it)}}class GLTFMaterialsBumpExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];return tt.bumpScale=at.bumpFactor!==void 0?at.bumpFactor:1,at.bumpTexture!==void 0&&it.push(nt.assignTexture(tt,"bumpMap",at.bumpTexture)),Promise.all(it)}}class GLTFMaterialsAnisotropyExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,tt){const nt=this.parser,ot=nt.json.materials[et];if(!ot.extensions||!ot.extensions[this.name])return Promise.resolve();const it=[],at=ot.extensions[this.name];return at.anisotropyStrength!==void 0&&(tt.anisotropy=at.anisotropyStrength),at.anisotropyRotation!==void 0&&(tt.anisotropyRotation=at.anisotropyRotation),at.anisotropyTexture!==void 0&&it.push(nt.assignTexture(tt,"anisotropyMap",at.anisotropyTexture)),Promise.all(it)}}class GLTFTextureBasisUExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(et){const tt=this.parser,nt=tt.json,ot=nt.textures[et];if(!ot.extensions||!ot.extensions[this.name])return null;const it=ot.extensions[this.name],at=tt.options.ktx2Loader;if(!at){if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return tt.loadTextureImage(et,it.source,at)}}class GLTFTextureWebPExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(et){const tt=this.name,nt=this.parser,ot=nt.json,it=ot.textures[et];if(!it.extensions||!it.extensions[tt])return null;const at=it.extensions[tt],st=ot.images[at.source];let ut=nt.textureLoader;if(st.uri){const ft=nt.options.manager.getHandler(st.uri);ft!==null&&(ut=ft)}return this.detectSupport().then(function(ft){if(ft)return nt.loadTextureImage(et,at.source,ut);if(ot.extensionsRequired&&ot.extensionsRequired.indexOf(tt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return nt.loadTexture(et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(et){const tt=new Image;tt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",tt.onload=tt.onerror=function(){et(tt.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(et){const tt=this.name,nt=this.parser,ot=nt.json,it=ot.textures[et];if(!it.extensions||!it.extensions[tt])return null;const at=it.extensions[tt],st=ot.images[at.source];let ut=nt.textureLoader;if(st.uri){const ft=nt.options.manager.getHandler(st.uri);ft!==null&&(ut=ft)}return this.detectSupport().then(function(ft){if(ft)return nt.loadTextureImage(et,at.source,ut);if(ot.extensionsRequired&&ot.extensionsRequired.indexOf(tt)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return nt.loadTexture(et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(et){const tt=new Image;tt.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",tt.onload=tt.onerror=function(){et(tt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(et){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=et}loadBufferView(et){const tt=this.parser.json,nt=tt.bufferViews[et];if(nt.extensions&&nt.extensions[this.name]){const ot=nt.extensions[this.name],it=this.parser.getDependency("buffer",ot.buffer),at=this.parser.options.meshoptDecoder;if(!at||!at.supported){if(tt.extensionsRequired&&tt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return it.then(function(st){const ut=ot.byteOffset||0,ft=ot.byteLength||0,ht=ot.count,mt=ot.byteStride,gt=new Uint8Array(st,ut,ft);return at.decodeGltfBufferAsync?at.decodeGltfBufferAsync(ht,mt,gt,ot.mode,ot.filter).then(function(yt){return yt.buffer}):at.ready.then(function(){const yt=new ArrayBuffer(ht*mt);return at.decodeGltfBuffer(new Uint8Array(yt),ht,mt,gt,ot.mode,ot.filter),yt})})}else return null}}class GLTFMeshGpuInstancing{constructor(et){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=et}createNodeMesh(et){const tt=this.parser.json,nt=tt.nodes[et];if(!nt.extensions||!nt.extensions[this.name]||nt.mesh===void 0)return null;const ot=tt.meshes[nt.mesh];for(const ft of ot.primitives)if(ft.mode!==WEBGL_CONSTANTS.TRIANGLES&&ft.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&ft.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&ft.mode!==void 0)return null;const at=nt.extensions[this.name].attributes,st=[],ut={};for(const ft in at)st.push(this.parser.getDependency("accessor",at[ft]).then(ht=>(ut[ft]=ht,ut[ft])));return st.length<1?null:(st.push(this.parser.createNodeMesh(et)),Promise.all(st).then(ft=>{const ht=ft.pop(),mt=ht.isGroup?ht.children:[ht],gt=ft[0].count,yt=[];for(const xt of mt){const St=new Matrix4,Tt=new Vector3,Mt=new Quaternion,Pt=new Vector3(1,1,1),It=new InstancedMesh(xt.geometry,xt.material,gt);for(let kt=0;kt<gt;kt++)ut.TRANSLATION&&Tt.fromBufferAttribute(ut.TRANSLATION,kt),ut.ROTATION&&Mt.fromBufferAttribute(ut.ROTATION,kt),ut.SCALE&&Pt.fromBufferAttribute(ut.SCALE,kt),It.setMatrixAt(kt,St.compose(Tt,Mt,Pt));for(const kt in ut)if(kt==="_COLOR_0"){const Dt=ut[kt];It.instanceColor=new InstancedBufferAttribute(Dt.array,Dt.itemSize,Dt.normalized)}else kt!=="TRANSLATION"&&kt!=="ROTATION"&&kt!=="SCALE"&&xt.geometry.setAttribute(kt,ut[kt]);Object3D.prototype.copy.call(It,xt),this.parser.assignFinalMaterial(It),yt.push(It)}return ht.isGroup?(ht.clear(),ht.add(...yt),ht):yt[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(et){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const tt=new DataView(et,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:decodeText(new Uint8Array(et.slice(0,4))),version:tt.getUint32(4,!0),length:tt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const nt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,ot=new DataView(et,BINARY_EXTENSION_HEADER_LENGTH);let it=0;for(;it<nt;){const at=ot.getUint32(it,!0);it+=4;const st=ot.getUint32(it,!0);if(it+=4,st===BINARY_EXTENSION_CHUNK_TYPES.JSON){const ut=new Uint8Array(et,BINARY_EXTENSION_HEADER_LENGTH+it,at);this.content=decodeText(ut)}else if(st===BINARY_EXTENSION_CHUNK_TYPES.BIN){const ut=BINARY_EXTENSION_HEADER_LENGTH+it;this.body=et.slice(ut,ut+at)}it+=at}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(et,tt){if(!tt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=et,this.dracoLoader=tt,this.dracoLoader.preload()}decodePrimitive(et,tt){const nt=this.json,ot=this.dracoLoader,it=et.extensions[this.name].bufferView,at=et.extensions[this.name].attributes,st={},ut={},ft={};for(const ht in at){const mt=ATTRIBUTES[ht]||ht.toLowerCase();st[mt]=at[ht]}for(const ht in et.attributes){const mt=ATTRIBUTES[ht]||ht.toLowerCase();if(at[ht]!==void 0){const gt=nt.accessors[et.attributes[ht]],yt=WEBGL_COMPONENT_TYPES[gt.componentType];ft[mt]=yt.name,ut[mt]=gt.normalized===!0}}return tt.getDependency("bufferView",it).then(function(ht){return new Promise(function(mt,gt){ot.decodeDracoFile(ht,function(yt){for(const xt in yt.attributes){const St=yt.attributes[xt],Tt=ut[xt];Tt!==void 0&&(St.normalized=Tt)}mt(yt)},st,ft,LinearSRGBColorSpace,gt)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(et,tt){return(tt.texCoord===void 0||tt.texCoord===et.channel)&&tt.offset===void 0&&tt.rotation===void 0&&tt.scale===void 0||(et=et.clone(),tt.texCoord!==void 0&&(et.channel=tt.texCoord),tt.offset!==void 0&&et.offset.fromArray(tt.offset),tt.rotation!==void 0&&(et.rotation=tt.rotation),tt.scale!==void 0&&et.repeat.fromArray(tt.scale),et.needsUpdate=!0),et}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(et,tt,nt,ot){super(et,tt,nt,ot)}copySampleValue_(et){const tt=this.resultBuffer,nt=this.sampleValues,ot=this.valueSize,it=et*ot*3+ot;for(let at=0;at!==ot;at++)tt[at]=nt[it+at];return tt}interpolate_(et,tt,nt,ot){const it=this.resultBuffer,at=this.sampleValues,st=this.valueSize,ut=st*2,ft=st*3,ht=ot-tt,mt=(nt-tt)/ht,gt=mt*mt,yt=gt*mt,xt=et*ft,St=xt-ft,Tt=-2*yt+3*gt,Mt=yt-gt,Pt=1-Tt,It=Mt-gt+mt;for(let kt=0;kt!==st;kt++){const Dt=at[St+kt+st],Nt=at[St+kt+ut]*ht,Gt=at[xt+kt+st],Wt=at[xt+kt]*ht;it[kt]=Pt*Dt+It*Nt+Tt*Gt+Mt*Wt}return it}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(et,tt,nt,ot){const it=super.interpolate_(et,tt,nt,ot);return _q.fromArray(it).normalize().toArray(it),it}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...version>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(rt){return rt.DefaultMaterial===void 0&&(rt.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),rt.DefaultMaterial}function addUnknownExtensionsToUserData(rt,et,tt){for(const nt in tt.extensions)rt[nt]===void 0&&(et.userData.gltfExtensions=et.userData.gltfExtensions||{},et.userData.gltfExtensions[nt]=tt.extensions[nt])}function assignExtrasToUserData(rt,et){et.extras!==void 0&&(typeof et.extras=="object"?Object.assign(rt.userData,et.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+et.extras))}function addMorphTargets(rt,et,tt){let nt=!1,ot=!1,it=!1;for(let ft=0,ht=et.length;ft<ht;ft++){const mt=et[ft];if(mt.POSITION!==void 0&&(nt=!0),mt.NORMAL!==void 0&&(ot=!0),mt.COLOR_0!==void 0&&(it=!0),nt&&ot&&it)break}if(!nt&&!ot&&!it)return Promise.resolve(rt);const at=[],st=[],ut=[];for(let ft=0,ht=et.length;ft<ht;ft++){const mt=et[ft];if(nt){const gt=mt.POSITION!==void 0?tt.getDependency("accessor",mt.POSITION):rt.attributes.position;at.push(gt)}if(ot){const gt=mt.NORMAL!==void 0?tt.getDependency("accessor",mt.NORMAL):rt.attributes.normal;st.push(gt)}if(it){const gt=mt.COLOR_0!==void 0?tt.getDependency("accessor",mt.COLOR_0):rt.attributes.color;ut.push(gt)}}return Promise.all([Promise.all(at),Promise.all(st),Promise.all(ut)]).then(function(ft){const ht=ft[0],mt=ft[1],gt=ft[2];return nt&&(rt.morphAttributes.position=ht),ot&&(rt.morphAttributes.normal=mt),it&&(rt.morphAttributes.color=gt),rt.morphTargetsRelative=!0,rt})}function updateMorphTargets(rt,et){if(rt.updateMorphTargets(),et.weights!==void 0)for(let tt=0,nt=et.weights.length;tt<nt;tt++)rt.morphTargetInfluences[tt]=et.weights[tt];if(et.extras&&Array.isArray(et.extras.targetNames)){const tt=et.extras.targetNames;if(rt.morphTargetInfluences.length===tt.length){rt.morphTargetDictionary={};for(let nt=0,ot=tt.length;nt<ot;nt++)rt.morphTargetDictionary[tt[nt]]=nt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(rt){let et;const tt=rt.extensions&&rt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(tt?et="draco:"+tt.bufferView+":"+tt.indices+":"+createAttributesKey(tt.attributes):et=rt.indices+":"+createAttributesKey(rt.attributes)+":"+rt.mode,rt.targets!==void 0)for(let nt=0,ot=rt.targets.length;nt<ot;nt++)et+=":"+createAttributesKey(rt.targets[nt]);return et}function createAttributesKey(rt){let et="";const tt=Object.keys(rt).sort();for(let nt=0,ot=tt.length;nt<ot;nt++)et+=tt[nt]+":"+rt[tt[nt]]+";";return et}function getNormalizedComponentScale(rt){switch(rt){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(rt){return rt.search(/\.jpe?g($|\?)/i)>0||rt.search(/^data\:image\/jpeg/)===0?"image/jpeg":rt.search(/\.webp($|\?)/i)>0||rt.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(et={},tt={}){this.json=et,this.extensions={},this.plugins={},this.options=tt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let nt=!1,ot=!1,it=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(nt=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,ot=navigator.userAgent.indexOf("Firefox")>-1,it=ot?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||nt||ot&&it<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(et){this.extensions=et}setPlugins(et){this.plugins=et}parse(et,tt){const nt=this,ot=this.json,it=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(at){return at._markDefs&&at._markDefs()}),Promise.all(this._invokeAll(function(at){return at.beforeRoot&&at.beforeRoot()})).then(function(){return Promise.all([nt.getDependencies("scene"),nt.getDependencies("animation"),nt.getDependencies("camera")])}).then(function(at){const st={scene:at[0][ot.scene||0],scenes:at[0],animations:at[1],cameras:at[2],asset:ot.asset,parser:nt,userData:{}};return addUnknownExtensionsToUserData(it,st,ot),assignExtrasToUserData(st,ot),Promise.all(nt._invokeAll(function(ut){return ut.afterRoot&&ut.afterRoot(st)})).then(function(){for(const ut of st.scenes)ut.updateMatrixWorld();et(st)})}).catch(tt)}_markDefs(){const et=this.json.nodes||[],tt=this.json.skins||[],nt=this.json.meshes||[];for(let ot=0,it=tt.length;ot<it;ot++){const at=tt[ot].joints;for(let st=0,ut=at.length;st<ut;st++)et[at[st]].isBone=!0}for(let ot=0,it=et.length;ot<it;ot++){const at=et[ot];at.mesh!==void 0&&(this._addNodeRef(this.meshCache,at.mesh),at.skin!==void 0&&(nt[at.mesh].isSkinnedMesh=!0)),at.camera!==void 0&&this._addNodeRef(this.cameraCache,at.camera)}}_addNodeRef(et,tt){tt!==void 0&&(et.refs[tt]===void 0&&(et.refs[tt]=et.uses[tt]=0),et.refs[tt]++)}_getNodeRef(et,tt,nt){if(et.refs[tt]<=1)return nt;const ot=nt.clone(),it=(at,st)=>{const ut=this.associations.get(at);ut!=null&&this.associations.set(st,ut);for(const[ft,ht]of at.children.entries())it(ht,st.children[ft])};return it(nt,ot),ot.name+="_instance_"+et.uses[tt]++,ot}_invokeOne(et){const tt=Object.values(this.plugins);tt.push(this);for(let nt=0;nt<tt.length;nt++){const ot=et(tt[nt]);if(ot)return ot}return null}_invokeAll(et){const tt=Object.values(this.plugins);tt.unshift(this);const nt=[];for(let ot=0;ot<tt.length;ot++){const it=et(tt[ot]);it&&nt.push(it)}return nt}getDependency(et,tt){const nt=et+":"+tt;let ot=this.cache.get(nt);if(!ot){switch(et){case"scene":ot=this.loadScene(tt);break;case"node":ot=this._invokeOne(function(it){return it.loadNode&&it.loadNode(tt)});break;case"mesh":ot=this._invokeOne(function(it){return it.loadMesh&&it.loadMesh(tt)});break;case"accessor":ot=this.loadAccessor(tt);break;case"bufferView":ot=this._invokeOne(function(it){return it.loadBufferView&&it.loadBufferView(tt)});break;case"buffer":ot=this.loadBuffer(tt);break;case"material":ot=this._invokeOne(function(it){return it.loadMaterial&&it.loadMaterial(tt)});break;case"texture":ot=this._invokeOne(function(it){return it.loadTexture&&it.loadTexture(tt)});break;case"skin":ot=this.loadSkin(tt);break;case"animation":ot=this._invokeOne(function(it){return it.loadAnimation&&it.loadAnimation(tt)});break;case"camera":ot=this.loadCamera(tt);break;default:if(ot=this._invokeOne(function(it){return it!=this&&it.getDependency&&it.getDependency(et,tt)}),!ot)throw new Error("Unknown type: "+et);break}this.cache.add(nt,ot)}return ot}getDependencies(et){let tt=this.cache.get(et);if(!tt){const nt=this,ot=this.json[et+(et==="mesh"?"es":"s")]||[];tt=Promise.all(ot.map(function(it,at){return nt.getDependency(et,at)})),this.cache.add(et,tt)}return tt}loadBuffer(et){const tt=this.json.buffers[et],nt=this.fileLoader;if(tt.type&&tt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+tt.type+" buffer type is not supported.");if(tt.uri===void 0&&et===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const ot=this.options;return new Promise(function(it,at){nt.load(LoaderUtils.resolveURL(tt.uri,ot.path),it,void 0,function(){at(new Error('THREE.GLTFLoader: Failed to load buffer "'+tt.uri+'".'))})})}loadBufferView(et){const tt=this.json.bufferViews[et];return this.getDependency("buffer",tt.buffer).then(function(nt){const ot=tt.byteLength||0,it=tt.byteOffset||0;return nt.slice(it,it+ot)})}loadAccessor(et){const tt=this,nt=this.json,ot=this.json.accessors[et];if(ot.bufferView===void 0&&ot.sparse===void 0){const at=WEBGL_TYPE_SIZES[ot.type],st=WEBGL_COMPONENT_TYPES[ot.componentType],ut=ot.normalized===!0,ft=new st(ot.count*at);return Promise.resolve(new BufferAttribute(ft,at,ut))}const it=[];return ot.bufferView!==void 0?it.push(this.getDependency("bufferView",ot.bufferView)):it.push(null),ot.sparse!==void 0&&(it.push(this.getDependency("bufferView",ot.sparse.indices.bufferView)),it.push(this.getDependency("bufferView",ot.sparse.values.bufferView))),Promise.all(it).then(function(at){const st=at[0],ut=WEBGL_TYPE_SIZES[ot.type],ft=WEBGL_COMPONENT_TYPES[ot.componentType],ht=ft.BYTES_PER_ELEMENT,mt=ht*ut,gt=ot.byteOffset||0,yt=ot.bufferView!==void 0?nt.bufferViews[ot.bufferView].byteStride:void 0,xt=ot.normalized===!0;let St,Tt;if(yt&&yt!==mt){const Mt=Math.floor(gt/yt),Pt="InterleavedBuffer:"+ot.bufferView+":"+ot.componentType+":"+Mt+":"+ot.count;let It=tt.cache.get(Pt);It||(St=new ft(st,Mt*yt,ot.count*yt/ht),It=new InterleavedBuffer(St,yt/ht),tt.cache.add(Pt,It)),Tt=new InterleavedBufferAttribute(It,ut,gt%yt/ht,xt)}else st===null?St=new ft(ot.count*ut):St=new ft(st,gt,ot.count*ut),Tt=new BufferAttribute(St,ut,xt);if(ot.sparse!==void 0){const Mt=WEBGL_TYPE_SIZES.SCALAR,Pt=WEBGL_COMPONENT_TYPES[ot.sparse.indices.componentType],It=ot.sparse.indices.byteOffset||0,kt=ot.sparse.values.byteOffset||0,Dt=new Pt(at[1],It,ot.sparse.count*Mt),Nt=new ft(at[2],kt,ot.sparse.count*ut);st!==null&&(Tt=new BufferAttribute(Tt.array.slice(),Tt.itemSize,Tt.normalized));for(let Gt=0,Wt=Dt.length;Gt<Wt;Gt++){const Ot=Dt[Gt];if(Tt.setX(Ot,Nt[Gt*ut]),ut>=2&&Tt.setY(Ot,Nt[Gt*ut+1]),ut>=3&&Tt.setZ(Ot,Nt[Gt*ut+2]),ut>=4&&Tt.setW(Ot,Nt[Gt*ut+3]),ut>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return Tt})}loadTexture(et){const tt=this.json,nt=this.options,it=tt.textures[et].source,at=tt.images[it];let st=this.textureLoader;if(at.uri){const ut=nt.manager.getHandler(at.uri);ut!==null&&(st=ut)}return this.loadTextureImage(et,it,st)}loadTextureImage(et,tt,nt){const ot=this,it=this.json,at=it.textures[et],st=it.images[tt],ut=(st.uri||st.bufferView)+":"+at.sampler;if(this.textureCache[ut])return this.textureCache[ut];const ft=this.loadImageSource(tt,nt).then(function(ht){ht.flipY=!1,ht.name=at.name||st.name||"",ht.name===""&&typeof st.uri=="string"&&st.uri.startsWith("data:image/")===!1&&(ht.name=st.uri);const gt=(it.samplers||{})[at.sampler]||{};return ht.magFilter=WEBGL_FILTERS[gt.magFilter]||LinearFilter,ht.minFilter=WEBGL_FILTERS[gt.minFilter]||LinearMipmapLinearFilter,ht.wrapS=WEBGL_WRAPPINGS[gt.wrapS]||RepeatWrapping,ht.wrapT=WEBGL_WRAPPINGS[gt.wrapT]||RepeatWrapping,ot.associations.set(ht,{textures:et}),ht}).catch(function(){return null});return this.textureCache[ut]=ft,ft}loadImageSource(et,tt){const nt=this,ot=this.json,it=this.options;if(this.sourceCache[et]!==void 0)return this.sourceCache[et].then(mt=>mt.clone());const at=ot.images[et],st=self.URL||self.webkitURL;let ut=at.uri||"",ft=!1;if(at.bufferView!==void 0)ut=nt.getDependency("bufferView",at.bufferView).then(function(mt){ft=!0;const gt=new Blob([mt],{type:at.mimeType});return ut=st.createObjectURL(gt),ut});else if(at.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+et+" is missing URI and bufferView");const ht=Promise.resolve(ut).then(function(mt){return new Promise(function(gt,yt){let xt=gt;tt.isImageBitmapLoader===!0&&(xt=function(St){const Tt=new Texture(St);Tt.needsUpdate=!0,gt(Tt)}),tt.load(LoaderUtils.resolveURL(mt,it.path),xt,void 0,yt)})}).then(function(mt){return ft===!0&&st.revokeObjectURL(ut),assignExtrasToUserData(mt,at),mt.userData.mimeType=at.mimeType||getImageURIMimeType(at.uri),mt}).catch(function(mt){throw console.error("THREE.GLTFLoader: Couldn't load texture",ut),mt});return this.sourceCache[et]=ht,ht}assignTexture(et,tt,nt,ot){const it=this;return this.getDependency("texture",nt.index).then(function(at){if(!at)return null;if(nt.texCoord!==void 0&&nt.texCoord>0&&(at=at.clone(),at.channel=nt.texCoord),it.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const st=nt.extensions!==void 0?nt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(st){const ut=it.associations.get(at);at=it.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(at,st),it.associations.set(at,ut)}}return ot!==void 0&&(typeof ot=="number"&&(ot=ot===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace),"colorSpace"in at?at.colorSpace=ot:at.encoding=ot===SRGBColorSpace?sRGBEncoding:LinearEncoding),et[tt]=at,at})}assignFinalMaterial(et){const tt=et.geometry;let nt=et.material;const ot=tt.attributes.tangent===void 0,it=tt.attributes.color!==void 0,at=tt.attributes.normal===void 0;if(et.isPoints){const st="PointsMaterial:"+nt.uuid;let ut=this.cache.get(st);ut||(ut=new PointsMaterial,Material.prototype.copy.call(ut,nt),ut.color.copy(nt.color),ut.map=nt.map,ut.sizeAttenuation=!1,this.cache.add(st,ut)),nt=ut}else if(et.isLine){const st="LineBasicMaterial:"+nt.uuid;let ut=this.cache.get(st);ut||(ut=new LineBasicMaterial,Material.prototype.copy.call(ut,nt),ut.color.copy(nt.color),ut.map=nt.map,this.cache.add(st,ut)),nt=ut}if(ot||it||at){let st="ClonedMaterial:"+nt.uuid+":";ot&&(st+="derivative-tangents:"),it&&(st+="vertex-colors:"),at&&(st+="flat-shading:");let ut=this.cache.get(st);ut||(ut=nt.clone(),it&&(ut.vertexColors=!0),at&&(ut.flatShading=!0),ot&&(ut.normalScale&&(ut.normalScale.y*=-1),ut.clearcoatNormalScale&&(ut.clearcoatNormalScale.y*=-1)),this.cache.add(st,ut),this.associations.set(ut,this.associations.get(nt))),nt=ut}et.material=nt}getMaterialType(){return MeshStandardMaterial}loadMaterial(et){const tt=this,nt=this.json,ot=this.extensions,it=nt.materials[et];let at;const st={},ut=it.extensions||{},ft=[];if(ut[EXTENSIONS.KHR_MATERIALS_UNLIT]){const mt=ot[EXTENSIONS.KHR_MATERIALS_UNLIT];at=mt.getMaterialType(),ft.push(mt.extendParams(st,it,tt))}else{const mt=it.pbrMetallicRoughness||{};if(st.color=new Color(1,1,1),st.opacity=1,Array.isArray(mt.baseColorFactor)){const gt=mt.baseColorFactor;st.color.setRGB(gt[0],gt[1],gt[2],LinearSRGBColorSpace),st.opacity=gt[3]}mt.baseColorTexture!==void 0&&ft.push(tt.assignTexture(st,"map",mt.baseColorTexture,SRGBColorSpace)),st.metalness=mt.metallicFactor!==void 0?mt.metallicFactor:1,st.roughness=mt.roughnessFactor!==void 0?mt.roughnessFactor:1,mt.metallicRoughnessTexture!==void 0&&(ft.push(tt.assignTexture(st,"metalnessMap",mt.metallicRoughnessTexture)),ft.push(tt.assignTexture(st,"roughnessMap",mt.metallicRoughnessTexture))),at=this._invokeOne(function(gt){return gt.getMaterialType&&gt.getMaterialType(et)}),ft.push(Promise.all(this._invokeAll(function(gt){return gt.extendMaterialParams&&gt.extendMaterialParams(et,st)})))}it.doubleSided===!0&&(st.side=DoubleSide);const ht=it.alphaMode||ALPHA_MODES.OPAQUE;if(ht===ALPHA_MODES.BLEND?(st.transparent=!0,st.depthWrite=!1):(st.transparent=!1,ht===ALPHA_MODES.MASK&&(st.alphaTest=it.alphaCutoff!==void 0?it.alphaCutoff:.5)),it.normalTexture!==void 0&&at!==MeshBasicMaterial&&(ft.push(tt.assignTexture(st,"normalMap",it.normalTexture)),st.normalScale=new Vector2(1,1),it.normalTexture.scale!==void 0)){const mt=it.normalTexture.scale;st.normalScale.set(mt,mt)}if(it.occlusionTexture!==void 0&&at!==MeshBasicMaterial&&(ft.push(tt.assignTexture(st,"aoMap",it.occlusionTexture)),it.occlusionTexture.strength!==void 0&&(st.aoMapIntensity=it.occlusionTexture.strength)),it.emissiveFactor!==void 0&&at!==MeshBasicMaterial){const mt=it.emissiveFactor;st.emissive=new Color().setRGB(mt[0],mt[1],mt[2],LinearSRGBColorSpace)}return it.emissiveTexture!==void 0&&at!==MeshBasicMaterial&&ft.push(tt.assignTexture(st,"emissiveMap",it.emissiveTexture,SRGBColorSpace)),Promise.all(ft).then(function(){const mt=new at(st);return it.name&&(mt.name=it.name),assignExtrasToUserData(mt,it),tt.associations.set(mt,{materials:et}),it.extensions&&addUnknownExtensionsToUserData(ot,mt,it),mt})}createUniqueName(et){const tt=PropertyBinding.sanitizeNodeName(et||"");return tt in this.nodeNamesUsed?tt+"_"+ ++this.nodeNamesUsed[tt]:(this.nodeNamesUsed[tt]=0,tt)}loadGeometries(et){const tt=this,nt=this.extensions,ot=this.primitiveCache;function it(st){return nt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(st,tt).then(function(ut){return addPrimitiveAttributes(ut,st,tt)})}const at=[];for(let st=0,ut=et.length;st<ut;st++){const ft=et[st],ht=createPrimitiveKey(ft),mt=ot[ht];if(mt)at.push(mt.promise);else{let gt;ft.extensions&&ft.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?gt=it(ft):gt=addPrimitiveAttributes(new BufferGeometry,ft,tt),ot[ht]={primitive:ft,promise:gt},at.push(gt)}}return Promise.all(at)}loadMesh(et){const tt=this,nt=this.json,ot=this.extensions,it=nt.meshes[et],at=it.primitives,st=[];for(let ut=0,ft=at.length;ut<ft;ut++){const ht=at[ut].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",at[ut].material);st.push(ht)}return st.push(tt.loadGeometries(at)),Promise.all(st).then(function(ut){const ft=ut.slice(0,ut.length-1),ht=ut[ut.length-1],mt=[];for(let yt=0,xt=ht.length;yt<xt;yt++){const St=ht[yt],Tt=at[yt];let Mt;const Pt=ft[yt];if(Tt.mode===WEBGL_CONSTANTS.TRIANGLES||Tt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||Tt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||Tt.mode===void 0)Mt=it.isSkinnedMesh===!0?new SkinnedMesh(St,Pt):new Mesh(St,Pt),Mt.isSkinnedMesh===!0&&Mt.normalizeSkinWeights(),Tt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Mt.geometry=toTrianglesDrawMode(Mt.geometry,TriangleStripDrawMode):Tt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Mt.geometry=toTrianglesDrawMode(Mt.geometry,TriangleFanDrawMode));else if(Tt.mode===WEBGL_CONSTANTS.LINES)Mt=new LineSegments(St,Pt);else if(Tt.mode===WEBGL_CONSTANTS.LINE_STRIP)Mt=new Line(St,Pt);else if(Tt.mode===WEBGL_CONSTANTS.LINE_LOOP)Mt=new LineLoop(St,Pt);else if(Tt.mode===WEBGL_CONSTANTS.POINTS)Mt=new Points(St,Pt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+Tt.mode);Object.keys(Mt.geometry.morphAttributes).length>0&&updateMorphTargets(Mt,it),Mt.name=tt.createUniqueName(it.name||"mesh_"+et),assignExtrasToUserData(Mt,it),Tt.extensions&&addUnknownExtensionsToUserData(ot,Mt,Tt),tt.assignFinalMaterial(Mt),mt.push(Mt)}for(let yt=0,xt=mt.length;yt<xt;yt++)tt.associations.set(mt[yt],{meshes:et,primitives:yt});if(mt.length===1)return it.extensions&&addUnknownExtensionsToUserData(ot,mt[0],it),mt[0];const gt=new Group;it.extensions&&addUnknownExtensionsToUserData(ot,gt,it),tt.associations.set(gt,{meshes:et});for(let yt=0,xt=mt.length;yt<xt;yt++)gt.add(mt[yt]);return gt})}loadCamera(et){let tt;const nt=this.json.cameras[et],ot=nt[nt.type];if(!ot){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return nt.type==="perspective"?tt=new PerspectiveCamera(MathUtils.radToDeg(ot.yfov),ot.aspectRatio||1,ot.znear||1,ot.zfar||2e6):nt.type==="orthographic"&&(tt=new OrthographicCamera(-ot.xmag,ot.xmag,ot.ymag,-ot.ymag,ot.znear,ot.zfar)),nt.name&&(tt.name=this.createUniqueName(nt.name)),assignExtrasToUserData(tt,nt),Promise.resolve(tt)}loadSkin(et){const tt=this.json.skins[et],nt=[];for(let ot=0,it=tt.joints.length;ot<it;ot++)nt.push(this._loadNodeShallow(tt.joints[ot]));return tt.inverseBindMatrices!==void 0?nt.push(this.getDependency("accessor",tt.inverseBindMatrices)):nt.push(null),Promise.all(nt).then(function(ot){const it=ot.pop(),at=ot,st=[],ut=[];for(let ft=0,ht=at.length;ft<ht;ft++){const mt=at[ft];if(mt){st.push(mt);const gt=new Matrix4;it!==null&&gt.fromArray(it.array,ft*16),ut.push(gt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',tt.joints[ft])}return new Skeleton(st,ut)})}loadAnimation(et){const tt=this.json,nt=this,ot=tt.animations[et],it=ot.name?ot.name:"animation_"+et,at=[],st=[],ut=[],ft=[],ht=[];for(let mt=0,gt=ot.channels.length;mt<gt;mt++){const yt=ot.channels[mt],xt=ot.samplers[yt.sampler],St=yt.target,Tt=St.node,Mt=ot.parameters!==void 0?ot.parameters[xt.input]:xt.input,Pt=ot.parameters!==void 0?ot.parameters[xt.output]:xt.output;St.node!==void 0&&(at.push(this.getDependency("node",Tt)),st.push(this.getDependency("accessor",Mt)),ut.push(this.getDependency("accessor",Pt)),ft.push(xt),ht.push(St))}return Promise.all([Promise.all(at),Promise.all(st),Promise.all(ut),Promise.all(ft),Promise.all(ht)]).then(function(mt){const gt=mt[0],yt=mt[1],xt=mt[2],St=mt[3],Tt=mt[4],Mt=[];for(let Pt=0,It=gt.length;Pt<It;Pt++){const kt=gt[Pt],Dt=yt[Pt],Nt=xt[Pt],Gt=St[Pt],Wt=Tt[Pt];if(kt===void 0)continue;kt.updateMatrix&&kt.updateMatrix();const Ot=nt._createAnimationTracks(kt,Dt,Nt,Gt,Wt);if(Ot)for(let Xt=0;Xt<Ot.length;Xt++)Mt.push(Ot[Xt])}return new AnimationClip(it,void 0,Mt)})}createNodeMesh(et){const tt=this.json,nt=this,ot=tt.nodes[et];return ot.mesh===void 0?null:nt.getDependency("mesh",ot.mesh).then(function(it){const at=nt._getNodeRef(nt.meshCache,ot.mesh,it);return ot.weights!==void 0&&at.traverse(function(st){if(st.isMesh)for(let ut=0,ft=ot.weights.length;ut<ft;ut++)st.morphTargetInfluences[ut]=ot.weights[ut]}),at})}loadNode(et){const tt=this.json,nt=this,ot=tt.nodes[et],it=nt._loadNodeShallow(et),at=[],st=ot.children||[];for(let ft=0,ht=st.length;ft<ht;ft++)at.push(nt.getDependency("node",st[ft]));const ut=ot.skin===void 0?Promise.resolve(null):nt.getDependency("skin",ot.skin);return Promise.all([it,Promise.all(at),ut]).then(function(ft){const ht=ft[0],mt=ft[1],gt=ft[2];gt!==null&&ht.traverse(function(yt){yt.isSkinnedMesh&&yt.bind(gt,_identityMatrix)});for(let yt=0,xt=mt.length;yt<xt;yt++)ht.add(mt[yt]);return ht})}_loadNodeShallow(et){const tt=this.json,nt=this.extensions,ot=this;if(this.nodeCache[et]!==void 0)return this.nodeCache[et];const it=tt.nodes[et],at=it.name?ot.createUniqueName(it.name):"",st=[],ut=ot._invokeOne(function(ft){return ft.createNodeMesh&&ft.createNodeMesh(et)});return ut&&st.push(ut),it.camera!==void 0&&st.push(ot.getDependency("camera",it.camera).then(function(ft){return ot._getNodeRef(ot.cameraCache,it.camera,ft)})),ot._invokeAll(function(ft){return ft.createNodeAttachment&&ft.createNodeAttachment(et)}).forEach(function(ft){st.push(ft)}),this.nodeCache[et]=Promise.all(st).then(function(ft){let ht;if(it.isBone===!0?ht=new Bone:ft.length>1?ht=new Group:ft.length===1?ht=ft[0]:ht=new Object3D,ht!==ft[0])for(let mt=0,gt=ft.length;mt<gt;mt++)ht.add(ft[mt]);if(it.name&&(ht.userData.name=it.name,ht.name=at),assignExtrasToUserData(ht,it),it.extensions&&addUnknownExtensionsToUserData(nt,ht,it),it.matrix!==void 0){const mt=new Matrix4;mt.fromArray(it.matrix),ht.applyMatrix4(mt)}else it.translation!==void 0&&ht.position.fromArray(it.translation),it.rotation!==void 0&&ht.quaternion.fromArray(it.rotation),it.scale!==void 0&&ht.scale.fromArray(it.scale);return ot.associations.has(ht)||ot.associations.set(ht,{}),ot.associations.get(ht).nodes=et,ht}),this.nodeCache[et]}loadScene(et){const tt=this.extensions,nt=this.json.scenes[et],ot=this,it=new Group;nt.name&&(it.name=ot.createUniqueName(nt.name)),assignExtrasToUserData(it,nt),nt.extensions&&addUnknownExtensionsToUserData(tt,it,nt);const at=nt.nodes||[],st=[];for(let ut=0,ft=at.length;ut<ft;ut++)st.push(ot.getDependency("node",at[ut]));return Promise.all(st).then(function(ut){for(let ht=0,mt=ut.length;ht<mt;ht++)it.add(ut[ht]);const ft=ht=>{const mt=new Map;for(const[gt,yt]of ot.associations)(gt instanceof Material||gt instanceof Texture)&&mt.set(gt,yt);return ht.traverse(gt=>{const yt=ot.associations.get(gt);yt!=null&&mt.set(gt,yt)}),mt};return ot.associations=ft(it),it})}_createAnimationTracks(et,tt,nt,ot,it){const at=[],st=et.name?et.name:et.uuid,ut=[];PATH_PROPERTIES[it.path]===PATH_PROPERTIES.weights?et.traverse(function(gt){gt.morphTargetInfluences&&ut.push(gt.name?gt.name:gt.uuid)}):ut.push(st);let ft;switch(PATH_PROPERTIES[it.path]){case PATH_PROPERTIES.weights:ft=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:ft=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:ft=VectorKeyframeTrack;break;default:switch(nt.itemSize){case 1:ft=NumberKeyframeTrack;break;case 2:case 3:default:ft=VectorKeyframeTrack;break}break}const ht=ot.interpolation!==void 0?INTERPOLATION[ot.interpolation]:InterpolateLinear,mt=this._getArrayFromAccessor(nt);for(let gt=0,yt=ut.length;gt<yt;gt++){const xt=new ft(ut[gt]+"."+PATH_PROPERTIES[it.path],tt.array,mt,ht);ot.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(xt),at.push(xt)}return at}_getArrayFromAccessor(et){let tt=et.array;if(et.normalized){const nt=getNormalizedComponentScale(tt.constructor),ot=new Float32Array(tt.length);for(let it=0,at=tt.length;it<at;it++)ot[it]=tt[it]*nt;tt=ot}return tt}_createCubicSplineTrackInterpolant(et){et.createInterpolant=function(nt){const ot=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new ot(this.times,this.values,this.getValueSize()/3,nt)},et.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(rt,et,tt){const nt=et.attributes,ot=new Box3;if(nt.POSITION!==void 0){const st=tt.json.accessors[nt.POSITION],ut=st.min,ft=st.max;if(ut!==void 0&&ft!==void 0){if(ot.set(new Vector3(ut[0],ut[1],ut[2]),new Vector3(ft[0],ft[1],ft[2])),st.normalized){const ht=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[st.componentType]);ot.min.multiplyScalar(ht),ot.max.multiplyScalar(ht)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const it=et.targets;if(it!==void 0){const st=new Vector3,ut=new Vector3;for(let ft=0,ht=it.length;ft<ht;ft++){const mt=it[ft];if(mt.POSITION!==void 0){const gt=tt.json.accessors[mt.POSITION],yt=gt.min,xt=gt.max;if(yt!==void 0&&xt!==void 0){if(ut.setX(Math.max(Math.abs(yt[0]),Math.abs(xt[0]))),ut.setY(Math.max(Math.abs(yt[1]),Math.abs(xt[1]))),ut.setZ(Math.max(Math.abs(yt[2]),Math.abs(xt[2]))),gt.normalized){const St=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[gt.componentType]);ut.multiplyScalar(St)}st.max(ut)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}ot.expandByVector(st)}rt.boundingBox=ot;const at=new Sphere;ot.getCenter(at.center),at.radius=ot.min.distanceTo(ot.max)/2,rt.boundingSphere=at}function addPrimitiveAttributes(rt,et,tt){const nt=et.attributes,ot=[];function it(at,st){return tt.getDependency("accessor",at).then(function(ut){rt.setAttribute(st,ut)})}for(const at in nt){const st=ATTRIBUTES[at]||at.toLowerCase();st in rt.attributes||ot.push(it(nt[at],st))}if(et.indices!==void 0&&!rt.index){const at=tt.getDependency("accessor",et.indices).then(function(st){rt.setIndex(st)});ot.push(at)}return assignExtrasToUserData(rt,et),computeBounds(rt,et,tt),Promise.all(ot).then(function(){return et.targets!==void 0?addMorphTargets(rt,et.targets,tt):rt})}const _taskCache=new WeakMap;class DRACOLoader extends Loader$1{constructor(et){super(et),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(et){return this.decoderPath=et,this}setDecoderConfig(et){return this.decoderConfig=et,this}setWorkerLimit(et){return this.workerLimit=et,this}load(et,tt,nt,ot){const it=new FileLoader(this.manager);it.setPath(this.path),it.setResponseType("arraybuffer"),it.setRequestHeader(this.requestHeader),it.setWithCredentials(this.withCredentials),it.load(et,at=>{const st={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(at,st).then(tt).catch(ot)},nt,ot)}decodeDracoFile(et,tt,nt,ot){const it={attributeIDs:nt||this.defaultAttributeIDs,attributeTypes:ot||this.defaultAttributeTypes,useUniqueIDs:!!nt};this.decodeGeometry(et,it).then(tt)}decodeGeometry(et,tt){for(const ut in tt.attributeTypes){const ft=tt.attributeTypes[ut];ft.BYTES_PER_ELEMENT!==void 0&&(tt.attributeTypes[ut]=ft.name)}const nt=JSON.stringify(tt);if(_taskCache.has(et)){const ut=_taskCache.get(et);if(ut.key===nt)return ut.promise;if(et.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let ot;const it=this.workerNextTaskID++,at=et.byteLength,st=this._getWorker(it,at).then(ut=>(ot=ut,new Promise((ft,ht)=>{ot._callbacks[it]={resolve:ft,reject:ht},ot.postMessage({type:"decode",id:it,taskConfig:tt,buffer:et},[et])}))).then(ut=>this._createGeometry(ut.geometry));return st.catch(()=>!0).then(()=>{ot&&it&&this._releaseTask(ot,it)}),_taskCache.set(et,{key:nt,promise:st}),st}_createGeometry(et){const tt=new BufferGeometry;et.index&&tt.setIndex(new BufferAttribute(et.index.array,1));for(let nt=0;nt<et.attributes.length;nt++){const ot=et.attributes[nt],it=ot.name,at=ot.array,st=ot.itemSize;tt.setAttribute(it,new BufferAttribute(at,st))}return tt}_loadLibrary(et,tt){const nt=new FileLoader(this.manager);return nt.setPath(this.decoderPath),nt.setResponseType(tt),nt.setWithCredentials(this.withCredentials),new Promise((ot,it)=>{nt.load(et,ot,void 0,it)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const et=typeof WebAssembly!="object"||this.decoderConfig.type==="js",tt=[];return et?tt.push(this._loadLibrary("draco_decoder.js","text")):(tt.push(this._loadLibrary("draco_wasm_wrapper.js","text")),tt.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(tt).then(nt=>{const ot=nt[0];et||(this.decoderConfig.wasmBinary=nt[1]);const it=DRACOWorker.toString(),at=["/* draco decoder */",ot,"","/* worker */",it.substring(it.indexOf("{")+1,it.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([at]))}),this.decoderPending}_getWorker(et,tt){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const ot=new Worker(this.workerSourceURL);ot._callbacks={},ot._taskCosts={},ot._taskLoad=0,ot.postMessage({type:"init",decoderConfig:this.decoderConfig}),ot.onmessage=function(it){const at=it.data;switch(at.type){case"decode":ot._callbacks[at.id].resolve(at);break;case"error":ot._callbacks[at.id].reject(at);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+at.type+'"')}},this.workerPool.push(ot)}else this.workerPool.sort(function(ot,it){return ot._taskLoad>it._taskLoad?-1:1});const nt=this.workerPool[this.workerPool.length-1];return nt._taskCosts[et]=tt,nt._taskLoad+=tt,nt})}_releaseTask(et,tt){et._taskLoad-=et._taskCosts[tt],delete et._callbacks[tt],delete et._taskCosts[tt]}debug(){console.log("Task load: ",this.workerPool.map(et=>et._taskLoad))}dispose(){for(let et=0;et<this.workerPool.length;++et)this.workerPool[et].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let rt,et;onmessage=function(at){const st=at.data;switch(st.type){case"init":rt=st.decoderConfig,et=new Promise(function(ht){rt.onModuleLoaded=function(mt){ht({draco:mt})},DracoDecoderModule(rt)});break;case"decode":const ut=st.buffer,ft=st.taskConfig;et.then(ht=>{const mt=ht.draco,gt=new mt.Decoder,yt=new mt.DecoderBuffer;yt.Init(new Int8Array(ut),ut.byteLength);try{const xt=tt(mt,gt,yt,ft),St=xt.attributes.map(Tt=>Tt.array.buffer);xt.index&&St.push(xt.index.array.buffer),self.postMessage({type:"decode",id:st.id,geometry:xt},St)}catch(xt){console.error(xt),self.postMessage({type:"error",id:st.id,error:xt.message})}finally{mt.destroy(yt),mt.destroy(gt)}});break}};function tt(at,st,ut,ft){const ht=ft.attributeIDs,mt=ft.attributeTypes;let gt,yt;const xt=st.GetEncodedGeometryType(ut);if(xt===at.TRIANGULAR_MESH)gt=new at.Mesh,yt=st.DecodeBufferToMesh(ut,gt);else if(xt===at.POINT_CLOUD)gt=new at.PointCloud,yt=st.DecodeBufferToPointCloud(ut,gt);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!yt.ok()||gt.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+yt.error_msg());const St={index:null,attributes:[]};for(const Tt in ht){const Mt=self[mt[Tt]];let Pt,It;if(ft.useUniqueIDs)It=ht[Tt],Pt=st.GetAttributeByUniqueId(gt,It);else{if(It=st.GetAttributeId(gt,at[ht[Tt]]),It===-1)continue;Pt=st.GetAttribute(gt,It)}St.attributes.push(ot(at,st,gt,Tt,Mt,Pt))}return xt===at.TRIANGULAR_MESH&&(St.index=nt(at,st,gt)),at.destroy(gt),St}function nt(at,st,ut){const ht=ut.num_faces()*3,mt=ht*4,gt=at._malloc(mt);st.GetTrianglesUInt32Array(ut,mt,gt);const yt=new Uint32Array(at.HEAPF32.buffer,gt,ht).slice();return at._free(gt),{array:yt,itemSize:1}}function ot(at,st,ut,ft,ht,mt){const gt=mt.num_components(),xt=ut.num_points()*gt,St=xt*ht.BYTES_PER_ELEMENT,Tt=it(at,ht),Mt=at._malloc(St);st.GetAttributeDataArrayForAllPoints(ut,mt,Tt,St,Mt);const Pt=new ht(at.HEAPF32.buffer,Mt,xt).slice();return at._free(Mt),{name:ft,array:Pt,itemSize:gt}}function it(at,st){switch(st){case Float32Array:return at.DT_FLOAT32;case Int8Array:return at.DT_INT8;case Int16Array:return at.DT_INT16;case Int32Array:return at.DT_INT32;case Uint8Array:return at.DT_UINT8;case Uint16Array:return at.DT_UINT16;case Uint32Array:return at.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const rt="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",et="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",tt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),nt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let ot=rt;WebAssembly.validate(tt)&&(ot=et);let it;const at=WebAssembly.instantiate(st(ot),{}).then(mt=>{it=mt.instance,it.exports.__wasm_call_ctors()});function st(mt){const gt=new Uint8Array(mt.length);for(let xt=0;xt<mt.length;++xt){const St=mt.charCodeAt(xt);gt[xt]=St>96?St-71:St>64?St-65:St>47?St+4:St>46?63:62}let yt=0;for(let xt=0;xt<mt.length;++xt)gt[yt++]=gt[xt]<60?nt[gt[xt]]:(gt[xt]-60)*64+gt[++xt];return gt.buffer.slice(0,yt)}function ut(mt,gt,yt,xt,St,Tt){const Mt=it.exports.sbrk,Pt=yt+3&-4,It=Mt(Pt*xt),kt=Mt(St.length),Dt=new Uint8Array(it.exports.memory.buffer);Dt.set(St,kt);const Nt=mt(It,yt,xt,kt,St.length);if(Nt===0&&Tt&&Tt(It,Pt,xt),gt.set(Dt.subarray(It,It+yt*xt)),Mt(It-Mt(0)),Nt!==0)throw new Error(`Malformed buffer data: ${Nt}`)}const ft={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ht={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:at,supported:!0,decodeVertexBuffer(mt,gt,yt,xt,St){ut(it.exports.meshopt_decodeVertexBuffer,mt,gt,yt,xt,it.exports[ft[St]])},decodeIndexBuffer(mt,gt,yt,xt){ut(it.exports.meshopt_decodeIndexBuffer,mt,gt,yt,xt)},decodeIndexSequence(mt,gt,yt,xt){ut(it.exports.meshopt_decodeIndexSequence,mt,gt,yt,xt)},decodeGltfBuffer(mt,gt,yt,xt,St,Tt){ut(it.exports[ht[St]],mt,gt,yt,xt,it.exports[ft[Tt]])}},generated};function workerBootstrap(){var rt=Object.create(null);function et(ot,it){var at=ot.id,st=ot.name,ut=ot.dependencies;ut===void 0&&(ut=[]);var ft=ot.init;ft===void 0&&(ft=function(){});var ht=ot.getTransferables;if(ht===void 0&&(ht=null),!rt[at])try{ut=ut.map(function(gt){return gt&&gt.isWorkerModule&&(et(gt,function(yt){if(yt instanceof Error)throw yt}),gt=rt[gt.id].value),gt}),ft=nt("<"+st+">.init",ft),ht&&(ht=nt("<"+st+">.getTransferables",ht));var mt=null;typeof ft=="function"?mt=ft.apply(void 0,ut):console.error("worker module init function failed to rehydrate"),rt[at]={id:at,value:mt,getTransferables:ht},it(mt)}catch(gt){gt&&gt.noLog||console.error(gt),it(gt)}}function tt(ot,it){var at,st=ot.id,ut=ot.args;(!rt[st]||typeof rt[st].value!="function")&&it(new Error("Worker module "+st+": not found or its 'init' did not return a function"));try{var ft=(at=rt[st]).value.apply(at,ut);ft&&typeof ft.then=="function"?ft.then(ht,function(mt){return it(mt instanceof Error?mt:new Error(""+mt))}):ht(ft)}catch(mt){it(mt)}function ht(mt){try{var gt=rt[st].getTransferables&&rt[st].getTransferables(mt);(!gt||!Array.isArray(gt)||!gt.length)&&(gt=void 0),it(mt,gt)}catch(yt){console.error(yt),it(yt)}}}function nt(ot,it){var at=void 0;self.troikaDefine=function(ut){return at=ut};var st=URL.createObjectURL(new Blob(["/** "+ot.replace(/\*/g,"")+` **/

troikaDefine(
`+it+`
)`],{type:"application/javascript"}));try{importScripts(st)}catch(ut){console.error(ut)}return URL.revokeObjectURL(st),delete self.troikaDefine,at}self.addEventListener("message",function(ot){var it=ot.data,at=it.messageId,st=it.action,ut=it.data;try{st==="registerModule"&&et(ut,function(ft){ft instanceof Error?postMessage({messageId:at,success:!1,error:ft.message}):postMessage({messageId:at,success:!0,result:{isCallable:typeof ft=="function"}})}),st==="callModule"&&tt(ut,function(ft,ht){ft instanceof Error?postMessage({messageId:at,success:!1,error:ft.message}):postMessage({messageId:at,success:!0,result:ft},ht||void 0)})}catch(ft){postMessage({messageId:at,success:!1,error:ft.stack})}})}function defineMainThreadModule(rt){var et=function(){for(var tt=[],nt=arguments.length;nt--;)tt[nt]=arguments[nt];return et._getInitResult().then(function(ot){if(typeof ot=="function")return ot.apply(void 0,tt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return et._getInitResult=function(){var tt=rt.dependencies,nt=rt.init;tt=Array.isArray(tt)?tt.map(function(it){return it&&it._getInitResult?it._getInitResult():it}):[];var ot=Promise.all(tt).then(function(it){return nt.apply(null,it)});return et._getInitResult=function(){return ot},ot},et}var supportsWorkers=function(){var rt=!1;if(typeof window<"u"&&typeof window.document<"u")try{var et=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));et.terminate(),rt=!0}catch(tt){typeof api$2<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+tt.message+"]")}return supportsWorkers=function(){return rt},rt},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(rt){if((!rt||typeof rt.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var et=rt.dependencies,tt=rt.init,nt=rt.getTransferables,ot=rt.workerId;if(!supportsWorkers())return defineMainThreadModule(rt);ot==null&&(ot="#default");var it="workerModule"+ ++_workerModuleId,at=rt.name||it,st=null;et=et&&et.map(function(ft){return typeof ft=="function"&&!ft.workerModuleData&&(_allowInitAsString=!0,ft=defineWorkerModule({workerId:ot,name:"<"+at+"> function dependency: "+ft.name,init:`function(){return (
`+stringifyFunction(ft)+`
)}`}),_allowInitAsString=!1),ft&&ft.workerModuleData&&(ft=ft.workerModuleData),ft});function ut(){for(var ft=[],ht=arguments.length;ht--;)ft[ht]=arguments[ht];if(!st){st=callWorker(ot,"registerModule",ut.workerModuleData);var mt=function(){st=null,registeredModules[ot].delete(mt)};(registeredModules[ot]||(registeredModules[ot]=new Set)).add(mt)}return st.then(function(gt){var yt=gt.isCallable;if(yt)return callWorker(ot,"callModule",{id:it,args:ft});throw new Error("Worker module function was called but `init` did not return a callable function")})}return ut.workerModuleData={isWorkerModule:!0,id:it,name:at,dependencies:et,init:stringifyFunction(tt),getTransferables:nt&&stringifyFunction(nt)},ut}function terminateWorker(rt){registeredModules[rt]&&registeredModules[rt].forEach(function(et){et()}),workers[rt]&&(workers[rt].terminate(),delete workers[rt])}function stringifyFunction(rt){var et=rt.toString();return!/^function/.test(et)&&/^\w+\s*\(/.test(et)&&(et="function "+et),et}function getWorker(rt){var et=workers[rt];if(!et){var tt=stringifyFunction(workerBootstrap);et=workers[rt]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+rt.replace(/\*/g,"")+` **/

;(`+tt+")()"],{type:"application/javascript"}))),et.onmessage=function(nt){var ot=nt.data,it=ot.messageId,at=openRequests[it];if(!at)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[it],at(ot)}}return et}function callWorker(rt,et,tt){return new Promise(function(nt,ot){var it=++_messageId;openRequests[it]=function(at){at.success?nt(at.result):ot(new Error("Error in worker "+et+" call: "+at.error))},getWorker(rt).postMessage({messageId:it,action:et,data:tt})})}function SDFGenerator(){var rt=function(et){function tt(bt,ct,_t,Lt,Ft,jt,Zt,Kt){var zt=1-Zt;Kt.x=zt*zt*bt+2*zt*Zt*_t+Zt*Zt*Ft,Kt.y=zt*zt*ct+2*zt*Zt*Lt+Zt*Zt*jt}function nt(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt){var nr=1-zt;Vt.x=nr*nr*nr*bt+3*nr*nr*zt*_t+3*nr*zt*zt*Ft+zt*zt*zt*Zt,Vt.y=nr*nr*nr*ct+3*nr*nr*zt*Lt+3*nr*zt*zt*jt+zt*zt*zt*Kt}function ot(bt,ct){for(var _t=/([MLQCZ])([^MLQCZ]*)/g,Lt,Ft,jt,Zt,Kt;Lt=_t.exec(bt);){var zt=Lt[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Vt){return parseFloat(Vt)});switch(Lt[1]){case"M":Zt=Ft=zt[0],Kt=jt=zt[1];break;case"L":(zt[0]!==Zt||zt[1]!==Kt)&&ct("L",Zt,Kt,Zt=zt[0],Kt=zt[1]);break;case"Q":{ct("Q",Zt,Kt,Zt=zt[2],Kt=zt[3],zt[0],zt[1]);break}case"C":{ct("C",Zt,Kt,Zt=zt[4],Kt=zt[5],zt[0],zt[1],zt[2],zt[3]);break}case"Z":(Zt!==Ft||Kt!==jt)&&ct("L",Zt,Kt,Ft,jt);break}}}function it(bt,ct,_t){_t===void 0&&(_t=16);var Lt={x:0,y:0};ot(bt,function(Ft,jt,Zt,Kt,zt,Vt,nr,or,rr){switch(Ft){case"L":ct(jt,Zt,Kt,zt);break;case"Q":{for(var $t=jt,ar=Zt,wr=1;wr<_t;wr++)tt(jt,Zt,Vt,nr,Kt,zt,wr/(_t-1),Lt),ct($t,ar,Lt.x,Lt.y),$t=Lt.x,ar=Lt.y;break}case"C":{for(var vr=jt,Qt=Zt,Yt=1;Yt<_t;Yt++)nt(jt,Zt,Vt,nr,or,rr,Kt,zt,Yt/(_t-1),Lt),ct(vr,Qt,Lt.x,Lt.y),vr=Lt.x,Qt=Lt.y;break}}})}var at="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",st="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",ut=new WeakMap,ft={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function ht(bt,ct){var _t=bt.getContext?bt.getContext("webgl",ft):bt,Lt=ut.get(_t);if(!Lt){let vr=function(gr){var Sr=jt[gr];if(!Sr&&(Sr=jt[gr]=_t.getExtension(gr),!Sr))throw new Error(gr+" not supported");return Sr},Qt=function(gr,Sr){var pr=_t.createShader(Sr);return _t.shaderSource(pr,gr),_t.compileShader(pr),pr},Yt=function(gr,Sr,pr,er){if(!Zt[gr]){var yr={},Gr={},Mr=_t.createProgram();_t.attachShader(Mr,Qt(Sr,_t.VERTEX_SHADER)),_t.attachShader(Mr,Qt(pr,_t.FRAGMENT_SHADER)),_t.linkProgram(Mr),Zt[gr]={program:Mr,transaction:function(an){_t.useProgram(Mr),an({setUniform:function(Dr,ln){for(var Ir=[],Tr=arguments.length-2;Tr-- >0;)Ir[Tr]=arguments[Tr+2];var Er=Gr[ln]||(Gr[ln]=_t.getUniformLocation(Mr,ln));_t["uniform"+Dr].apply(_t,[Er].concat(Ir))},setAttribute:function(Dr,ln,Ir,Tr,Er){var _r=yr[Dr];_r||(_r=yr[Dr]={buf:_t.createBuffer(),loc:_t.getAttribLocation(Mr,Dr),data:null}),_t.bindBuffer(_t.ARRAY_BUFFER,_r.buf),_t.vertexAttribPointer(_r.loc,ln,_t.FLOAT,!1,0,0),_t.enableVertexAttribArray(_r.loc),Ft?_t.vertexAttribDivisor(_r.loc,Tr):vr("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(_r.loc,Tr),Er!==_r.data&&(_t.bufferData(_t.ARRAY_BUFFER,Er,Ir),_r.data=Er)}})}}}Zt[gr].transaction(er)},Ht=function(gr,Sr){zt++;try{_t.activeTexture(_t.TEXTURE0+zt);var pr=Kt[gr];pr||(pr=Kt[gr]=_t.createTexture(),_t.bindTexture(_t.TEXTURE_2D,pr),_t.texParameteri(_t.TEXTURE_2D,_t.TEXTURE_MIN_FILTER,_t.NEAREST),_t.texParameteri(_t.TEXTURE_2D,_t.TEXTURE_MAG_FILTER,_t.NEAREST)),_t.bindTexture(_t.TEXTURE_2D,pr),Sr(pr,zt)}finally{zt--}},tr=function(gr,Sr,pr){var er=_t.createFramebuffer();Vt.push(er),_t.bindFramebuffer(_t.FRAMEBUFFER,er),_t.activeTexture(_t.TEXTURE0+Sr),_t.bindTexture(_t.TEXTURE_2D,gr),_t.framebufferTexture2D(_t.FRAMEBUFFER,_t.COLOR_ATTACHMENT0,_t.TEXTURE_2D,gr,0);try{pr(er)}finally{_t.deleteFramebuffer(er),_t.bindFramebuffer(_t.FRAMEBUFFER,Vt[--Vt.length-1]||null)}},br=function(){jt={},Zt={},Kt={},zt=-1,Vt.length=0};var nr=vr,or=Qt,rr=Yt,$t=Ht,ar=tr,wr=br,Ft=typeof WebGL2RenderingContext<"u"&&_t instanceof WebGL2RenderingContext,jt={},Zt={},Kt={},zt=-1,Vt=[];_t.canvas.addEventListener("webglcontextlost",function(gr){br(),gr.preventDefault()},!1),ut.set(_t,Lt={gl:_t,isWebGL2:Ft,getExtension:vr,withProgram:Yt,withTexture:Ht,withTextureFramebuffer:tr,handleContextLoss:br})}ct(Lt)}function mt(bt,ct,_t,Lt,Ft,jt,Zt,Kt){Zt===void 0&&(Zt=15),Kt===void 0&&(Kt=null),ht(bt,function(zt){var Vt=zt.gl,nr=zt.withProgram,or=zt.withTexture;or("copy",function(rr,$t){Vt.texImage2D(Vt.TEXTURE_2D,0,Vt.RGBA,Ft,jt,0,Vt.RGBA,Vt.UNSIGNED_BYTE,ct),nr("copy",at,st,function(ar){var wr=ar.setUniform,vr=ar.setAttribute;vr("aUV",2,Vt.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),wr("1i","image",$t),Vt.bindFramebuffer(Vt.FRAMEBUFFER,Kt||null),Vt.disable(Vt.BLEND),Vt.colorMask(Zt&8,Zt&4,Zt&2,Zt&1),Vt.viewport(_t,Lt,Ft,jt),Vt.scissor(_t,Lt,Ft,jt),Vt.drawArrays(Vt.TRIANGLES,0,3)})})})}function gt(bt,ct,_t){var Lt=bt.width,Ft=bt.height;ht(bt,function(jt){var Zt=jt.gl,Kt=new Uint8Array(Lt*Ft*4);Zt.readPixels(0,0,Lt,Ft,Zt.RGBA,Zt.UNSIGNED_BYTE,Kt),bt.width=ct,bt.height=_t,mt(Zt,Kt,0,0,Lt,Ft)})}var yt=Object.freeze({__proto__:null,withWebGLContext:ht,renderImageData:mt,resizeWebGLCanvasWithoutClearing:gt});function xt(bt,ct,_t,Lt,Ft,jt){jt===void 0&&(jt=1);var Zt=new Uint8Array(bt*ct),Kt=Lt[2]-Lt[0],zt=Lt[3]-Lt[1],Vt=[];it(_t,function(vr,Qt,Yt,Ht){Vt.push({x1:vr,y1:Qt,x2:Yt,y2:Ht,minX:Math.min(vr,Yt),minY:Math.min(Qt,Ht),maxX:Math.max(vr,Yt),maxY:Math.max(Qt,Ht)})}),Vt.sort(function(vr,Qt){return vr.maxX-Qt.maxX});for(var nr=0;nr<bt;nr++)for(var or=0;or<ct;or++){var rr=ar(Lt[0]+Kt*(nr+.5)/bt,Lt[1]+zt*(or+.5)/ct),$t=Math.pow(1-Math.abs(rr)/Ft,jt)/2;rr<0&&($t=1-$t),$t=Math.max(0,Math.min(255,Math.round($t*255))),Zt[or*bt+nr]=$t}return Zt;function ar(vr,Qt){for(var Yt=1/0,Ht=1/0,tr=Vt.length;tr--;){var br=Vt[tr];if(br.maxX+Ht<=vr)break;if(vr+Ht>br.minX&&Qt-Ht<br.maxY&&Qt+Ht>br.minY){var gr=Mt(vr,Qt,br.x1,br.y1,br.x2,br.y2);gr<Yt&&(Yt=gr,Ht=Math.sqrt(Yt))}}return wr(vr,Qt)&&(Ht=-Ht),Ht}function wr(vr,Qt){for(var Yt=0,Ht=Vt.length;Ht--;){var tr=Vt[Ht];if(tr.maxX<=vr)break;var br=tr.y1>Qt!=tr.y2>Qt&&vr<(tr.x2-tr.x1)*(Qt-tr.y1)/(tr.y2-tr.y1)+tr.x1;br&&(Yt+=tr.y1<tr.y2?1:-1)}return Yt!==0}}function St(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt){jt===void 0&&(jt=1),Kt===void 0&&(Kt=0),zt===void 0&&(zt=0),Vt===void 0&&(Vt=0),Tt(bt,ct,_t,Lt,Ft,jt,Zt,null,Kt,zt,Vt)}function Tt(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt,nr){jt===void 0&&(jt=1),zt===void 0&&(zt=0),Vt===void 0&&(Vt=0),nr===void 0&&(nr=0);for(var or=xt(bt,ct,_t,Lt,Ft,jt),rr=new Uint8Array(or.length*4),$t=0;$t<or.length;$t++)rr[$t*4+nr]=or[$t];mt(Zt,rr,zt,Vt,bt,ct,1<<3-nr,Kt)}function Mt(bt,ct,_t,Lt,Ft,jt){var Zt=Ft-_t,Kt=jt-Lt,zt=Zt*Zt+Kt*Kt,Vt=zt?Math.max(0,Math.min(1,((bt-_t)*Zt+(ct-Lt)*Kt)/zt)):0,nr=bt-(_t+Vt*Zt),or=ct-(Lt+Vt*Kt);return nr*nr+or*or}var Pt=Object.freeze({__proto__:null,generate:xt,generateIntoCanvas:St,generateIntoFramebuffer:Tt}),It="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",kt="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",Dt="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Nt=new Float32Array([0,0,2,0,0,2]),Gt=null,Wt=!1,Ot={},Xt=new WeakMap;function Et(bt){if(!Wt&&!vt(bt))throw new Error("WebGL generation not supported")}function lt(bt,ct,_t,Lt,Ft,jt,Zt){if(jt===void 0&&(jt=1),Zt===void 0&&(Zt=null),!Zt&&(Zt=Gt,!Zt)){var Kt=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Kt)throw new Error("OffscreenCanvas or DOM canvas not supported");Zt=Gt=Kt.getContext("webgl",{depth:!1})}Et(Zt);var zt=new Uint8Array(bt*ct*4);ht(Zt,function(rr){var $t=rr.gl,ar=rr.withTexture,wr=rr.withTextureFramebuffer;ar("readable",function(vr,Qt){$t.texImage2D($t.TEXTURE_2D,0,$t.RGBA,bt,ct,0,$t.RGBA,$t.UNSIGNED_BYTE,null),wr(vr,Qt,function(Yt){pt(bt,ct,_t,Lt,Ft,jt,$t,Yt,0,0,0),$t.readPixels(0,0,bt,ct,$t.RGBA,$t.UNSIGNED_BYTE,zt)})})});for(var Vt=new Uint8Array(bt*ct),nr=0,or=0;nr<zt.length;nr+=4)Vt[or++]=zt[nr];return Vt}function dt(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt){jt===void 0&&(jt=1),Kt===void 0&&(Kt=0),zt===void 0&&(zt=0),Vt===void 0&&(Vt=0),pt(bt,ct,_t,Lt,Ft,jt,Zt,null,Kt,zt,Vt)}function pt(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt,nr){jt===void 0&&(jt=1),zt===void 0&&(zt=0),Vt===void 0&&(Vt=0),nr===void 0&&(nr=0),Et(Zt);var or=[];it(_t,function(rr,$t,ar,wr){or.push(rr,$t,ar,wr)}),or=new Float32Array(or),ht(Zt,function(rr){var $t=rr.gl,ar=rr.isWebGL2,wr=rr.getExtension,vr=rr.withProgram,Qt=rr.withTexture,Yt=rr.withTextureFramebuffer,Ht=rr.handleContextLoss;if(Qt("rawDistances",function(tr,br){(bt!==tr._lastWidth||ct!==tr._lastHeight)&&$t.texImage2D($t.TEXTURE_2D,0,$t.RGBA,tr._lastWidth=bt,tr._lastHeight=ct,0,$t.RGBA,$t.UNSIGNED_BYTE,null),vr("main",It,kt,function(gr){var Sr=gr.setAttribute,pr=gr.setUniform,er=!ar&&wr("ANGLE_instanced_arrays"),yr=!ar&&wr("EXT_blend_minmax");Sr("aUV",2,$t.STATIC_DRAW,0,Nt),Sr("aLineSegment",4,$t.DYNAMIC_DRAW,1,or),pr.apply(void 0,["4f","uGlyphBounds"].concat(Lt)),pr("1f","uMaxDistance",Ft),pr("1f","uExponent",jt),Yt(tr,br,function(Gr){$t.enable($t.BLEND),$t.colorMask(!0,!0,!0,!0),$t.viewport(0,0,bt,ct),$t.scissor(0,0,bt,ct),$t.blendFunc($t.ONE,$t.ONE),$t.blendEquationSeparate($t.FUNC_ADD,ar?$t.MAX:yr.MAX_EXT),$t.clear($t.COLOR_BUFFER_BIT),ar?$t.drawArraysInstanced($t.TRIANGLES,0,3,or.length/4):er.drawArraysInstancedANGLE($t.TRIANGLES,0,3,or.length/4)})}),vr("post",at,Dt,function(gr){gr.setAttribute("aUV",2,$t.STATIC_DRAW,0,Nt),gr.setUniform("1i","tex",br),$t.bindFramebuffer($t.FRAMEBUFFER,Kt),$t.disable($t.BLEND),$t.colorMask(nr===0,nr===1,nr===2,nr===3),$t.viewport(zt,Vt,bt,ct),$t.scissor(zt,Vt,bt,ct),$t.drawArrays($t.TRIANGLES,0,3)})}),$t.isContextLost())throw Ht(),new Error("webgl context lost")})}function vt(bt){var ct=!bt||bt===Gt?Ot:bt.canvas||bt,_t=Xt.get(ct);if(_t===void 0){Wt=!0;var Lt=null;try{var Ft=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],jt=lt(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,bt);_t=jt&&Ft.length===jt.length&&jt.every(function(Zt,Kt){return Zt===Ft[Kt]}),_t||(Lt="bad trial run results",console.info(Ft,jt))}catch(Zt){_t=!1,Lt=Zt.message}Lt&&console.warn("WebGL SDF generation not supported:",Lt),Wt=!1,Xt.set(ct,_t)}return _t}var wt=Object.freeze({__proto__:null,generate:lt,generateIntoCanvas:dt,generateIntoFramebuffer:pt,isSupported:vt});function At(bt,ct,_t,Lt,Ft,jt){Ft===void 0&&(Ft=Math.max(Lt[2]-Lt[0],Lt[3]-Lt[1])/2),jt===void 0&&(jt=1);try{return lt.apply(wt,arguments)}catch(Zt){return console.info("WebGL SDF generation failed, falling back to JS",Zt),xt.apply(Pt,arguments)}}function Rt(bt,ct,_t,Lt,Ft,jt,Zt,Kt,zt,Vt){Ft===void 0&&(Ft=Math.max(Lt[2]-Lt[0],Lt[3]-Lt[1])/2),jt===void 0&&(jt=1),Kt===void 0&&(Kt=0),zt===void 0&&(zt=0),Vt===void 0&&(Vt=0);try{return dt.apply(wt,arguments)}catch(nr){return console.info("WebGL SDF generation failed, falling back to JS",nr),St.apply(Pt,arguments)}}return et.forEachPathCommand=ot,et.generate=At,et.generateIntoCanvas=Rt,et.javascript=Pt,et.pathToLineSegments=it,et.webgl=wt,et.webglUtils=yt,Object.defineProperty(et,"__esModule",{value:!0}),et}({});return rt}function bidiFactory(){var rt=function(et){var tt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},nt={},ot={};nt.L=1,ot[1]="L",Object.keys(tt).forEach(function(Ht,tr){nt[Ht]=1<<tr+1,ot[nt[Ht]]=Ht}),Object.freeze(nt);var it=nt.LRI|nt.RLI|nt.FSI,at=nt.L|nt.R|nt.AL,st=nt.B|nt.S|nt.WS|nt.ON|nt.FSI|nt.LRI|nt.RLI|nt.PDI,ut=nt.BN|nt.RLE|nt.LRE|nt.RLO|nt.LRO|nt.PDF,ft=nt.S|nt.WS|nt.B|it|nt.PDI|ut,ht=null;function mt(){if(!ht){ht=new Map;var Ht=function(br){if(tt.hasOwnProperty(br)){var gr=0;tt[br].split(",").forEach(function(Sr){var pr=Sr.split("+"),er=pr[0],yr=pr[1];er=parseInt(er,36),yr=yr?parseInt(yr,36):0,ht.set(gr+=er,nt[br]);for(var Gr=0;Gr<yr;Gr++)ht.set(++gr,nt[br])})}};for(var tr in tt)Ht(tr)}}function gt(Ht){return mt(),ht.get(Ht.codePointAt(0))||nt.L}function yt(Ht){return ot[gt(Ht)]}var xt={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function St(Ht,tr){var br=36,gr=0,Sr=new Map,pr=tr&&new Map,er;return Ht.split(",").forEach(function yr(Gr){if(Gr.indexOf("+")!==-1)for(var Mr=+Gr;Mr--;)yr(er);else{er=Gr;var Ar=Gr.split(">"),an=Ar[0],Br=Ar[1];an=String.fromCodePoint(gr+=parseInt(an,br)),Br=String.fromCodePoint(gr+=parseInt(Br,br)),Sr.set(an,Br),tr&&pr.set(Br,an)}}),{map:Sr,reverseMap:pr}}var Tt,Mt,Pt;function It(){if(!Tt){var Ht=St(xt.pairs,!0),tr=Ht.map,br=Ht.reverseMap;Tt=tr,Mt=br,Pt=St(xt.canonical,!1).map}}function kt(Ht){return It(),Tt.get(Ht)||null}function Dt(Ht){return It(),Mt.get(Ht)||null}function Nt(Ht){return It(),Pt.get(Ht)||null}var Gt=nt.L,Wt=nt.R,Ot=nt.EN,Xt=nt.ES,Et=nt.ET,lt=nt.AN,dt=nt.CS,pt=nt.B,vt=nt.S,wt=nt.ON,At=nt.BN,Rt=nt.NSM,bt=nt.AL,ct=nt.LRO,_t=nt.RLO,Lt=nt.LRE,Ft=nt.RLE,jt=nt.PDF,Zt=nt.LRI,Kt=nt.RLI,zt=nt.FSI,Vt=nt.PDI;function nr(Ht,tr){for(var br=125,gr=new Uint32Array(Ht.length),Sr=0;Sr<Ht.length;Sr++)gr[Sr]=gt(Ht[Sr]);var pr=new Map;function er(Mo,ko){var go=gr[Mo];gr[Mo]=ko,pr.set(go,pr.get(go)-1),go&st&&pr.set(st,pr.get(st)-1),pr.set(ko,(pr.get(ko)||0)+1),ko&st&&pr.set(st,(pr.get(st)||0)+1)}for(var yr=new Uint8Array(Ht.length),Gr=new Map,Mr=[],Ar=null,an=0;an<Ht.length;an++)Ar||Mr.push(Ar={start:an,end:Ht.length-1,level:tr==="rtl"?1:tr==="ltr"?0:Us(an,!1)}),gr[an]&pt&&(Ar.end=an,Ar=null);for(var Br=Ft|Lt|_t|ct|it|Vt|jt|pt,Dr=function(Mo){return Mo+(Mo&1?1:2)},ln=function(Mo){return Mo+(Mo&1?2:1)},Ir=0;Ir<Mr.length;Ir++){Ar=Mr[Ir];var Tr=[{_level:Ar.level,_override:0,_isolate:0}],Er=void 0,_r=0,xr=0,Xr=0;pr.clear();for(var dr=Ar.start;dr<=Ar.end;dr++){var Pr=gr[dr];if(Er=Tr[Tr.length-1],pr.set(Pr,(pr.get(Pr)||0)+1),Pr&st&&pr.set(st,(pr.get(st)||0)+1),Pr&Br)if(Pr&(Ft|Lt)){yr[dr]=Er._level;var Jr=(Pr===Ft?ln:Dr)(Er._level);Jr<=br&&!_r&&!xr?Tr.push({_level:Jr,_override:0,_isolate:0}):_r||xr++}else if(Pr&(_t|ct)){yr[dr]=Er._level;var Nr=(Pr===_t?ln:Dr)(Er._level);Nr<=br&&!_r&&!xr?Tr.push({_level:Nr,_override:Pr&_t?Wt:Gt,_isolate:0}):_r||xr++}else if(Pr&it){Pr&zt&&(Pr=Us(dr+1,!0)===1?Kt:Zt),yr[dr]=Er._level,Er._override&&er(dr,Er._override);var $r=(Pr===Kt?ln:Dr)(Er._level);$r<=br&&_r===0&&xr===0?(Xr++,Tr.push({_level:$r,_override:0,_isolate:1,_isolInitIndex:dr})):_r++}else if(Pr&Vt){if(_r>0)_r--;else if(Xr>0){for(xr=0;!Tr[Tr.length-1]._isolate;)Tr.pop();var Zr=Tr[Tr.length-1]._isolInitIndex;Zr!=null&&(Gr.set(Zr,dr),Gr.set(dr,Zr)),Tr.pop(),Xr--}Er=Tr[Tr.length-1],yr[dr]=Er._level,Er._override&&er(dr,Er._override)}else Pr&jt?(_r===0&&(xr>0?xr--:!Er._isolate&&Tr.length>1&&(Tr.pop(),Er=Tr[Tr.length-1])),yr[dr]=Er._level):Pr&pt&&(yr[dr]=Ar.level);else yr[dr]=Er._level,Er._override&&Pr!==At&&er(dr,Er._override)}for(var Or=[],Kr=null,Pn=Ar.start;Pn<=Ar.end;Pn++){var Yr=gr[Pn];if(!(Yr&ut)){var sn=yr[Pn],In=Yr&it,rn=Yr===Vt;Kr&&sn===Kr._level?(Kr._end=Pn,Kr._endsWithIsolInit=In):Or.push(Kr={_start:Pn,_end:Pn,_level:sn,_startsWithPDI:rn,_endsWithIsolInit:In})}}for(var Vr=[],sr=0;sr<Or.length;sr++){var lr=Or[sr];if(!lr._startsWithPDI||lr._startsWithPDI&&!Gr.has(lr._start)){for(var ur=[Kr=lr],Jt=void 0;Kr&&Kr._endsWithIsolInit&&(Jt=Gr.get(Kr._end))!=null;)for(var fr=sr+1;fr<Or.length;fr++)if(Or[fr]._start===Jt){ur.push(Kr=Or[fr]);break}for(var Cr=[],Wr=0;Wr<ur.length;Wr++)for(var Rr=ur[Wr],cr=Rr._start;cr<=Rr._end;cr++)Cr.push(cr);for(var Lr=yr[Cr[0]],Fr=Ar.level,zr=Cr[0]-1;zr>=0;zr--)if(!(gr[zr]&ut)){Fr=yr[zr];break}var Hr=Cr[Cr.length-1],hn=yr[Hr],gn=Ar.level;if(!(gr[Hr]&it)){for(var wn=Hr+1;wn<=Ar.end;wn++)if(!(gr[wn]&ut)){gn=yr[wn];break}}Vr.push({_seqIndices:Cr,_sosType:Math.max(Fr,Lr)%2?Wt:Gt,_eosType:Math.max(gn,hn)%2?Wt:Gt})}}for(var xn=0;xn<Vr.length;xn++){var An=Vr[xn],tn=An._seqIndices,_n=An._sosType,Mn=An._eosType,En=yr[tn[0]]&1?Wt:Gt;if(pr.get(Rt))for(var Cn=0;Cn<tn.length;Cn++){var Rn=tn[Cn];if(gr[Rn]&Rt){for(var Sn=_n,un=Cn-1;un>=0;un--)if(!(gr[tn[un]]&ut)){Sn=gr[tn[un]];break}er(Rn,Sn&(it|Vt)?wt:Sn)}}if(pr.get(Ot))for(var jr=0;jr<tn.length;jr++){var qr=tn[jr];if(gr[qr]&Ot)for(var yn=jr-1;yn>=-1;yn--){var dn=yn===-1?_n:gr[tn[yn]];if(dn&at){dn===bt&&er(qr,lt);break}}}if(pr.get(bt))for(var pn=0;pn<tn.length;pn++){var Tn=tn[pn];gr[Tn]&bt&&er(Tn,Wt)}if(pr.get(Xt)||pr.get(dt))for(var Ln=1;Ln<tn.length-1;Ln++){var Fn=tn[Ln];if(gr[Fn]&(Xt|dt)){for(var $n=0,On=0,Ur=Ln-1;Ur>=0&&($n=gr[tn[Ur]],!!($n&ut));Ur--);for(var qn=Ln+1;qn<tn.length&&(On=gr[tn[qn]],!!(On&ut));qn++);$n===On&&(gr[Fn]===Xt?$n===Ot:$n&(Ot|lt))&&er(Fn,$n)}}if(pr.get(Ot))for(var zn=0;zn<tn.length;zn++){var Wn=tn[zn];if(gr[Wn]&Ot){for(var Vn=zn-1;Vn>=0&&gr[tn[Vn]]&(Et|ut);Vn--)er(tn[Vn],Ot);for(zn++;zn<tn.length&&gr[tn[zn]]&(Et|ut|Ot);zn++)gr[tn[zn]]!==Ot&&er(tn[zn],Ot)}}if(pr.get(Et)||pr.get(Xt)||pr.get(dt))for(var Xn=0;Xn<tn.length;Xn++){var Yn=tn[Xn];if(gr[Yn]&(Et|Xt|dt)){er(Yn,wt);for(var no=Xn-1;no>=0&&gr[tn[no]]&ut;no--)er(tn[no],wt);for(var Qn=Xn+1;Qn<tn.length&&gr[tn[Qn]]&ut;Qn++)er(tn[Qn],wt)}}if(pr.get(Ot))for(var eo=0,io=_n;eo<tn.length;eo++){var oo=tn[eo],uo=gr[oo];uo&Ot?io===Gt&&er(oo,Gt):uo&at&&(io=uo)}if(pr.get(st)){var lo=Wt|Ot|lt,fo=lo|Gt,ao=[];{for(var fs=[],$a=0;$a<tn.length;$a++)if(gr[tn[$a]]&st){var _i=Ht[tn[$a]],Ks=void 0;if(kt(_i)!==null)if(fs.length<63)fs.push({char:_i,seqIndex:$a});else break;else if((Ks=Dt(_i))!==null)for(var os=fs.length-1;os>=0;os--){var Ds=fs[os].char;if(Ds===Ks||Ds===Dt(Nt(_i))||kt(Nt(Ds))===_i){ao.push([fs[os].seqIndex,$a]),fs.length=os;break}}}ao.sort(function(Mo,ko){return Mo[0]-ko[0]})}for(var Xs=0;Xs<ao.length;Xs++){for(var Ol=ao[Xs],ho=Ol[0],ws=Ol[1],Nl=!1,Po=0,Js=ho+1;Js<ws;Js++){var xs=tn[Js];if(gr[xs]&fo){Nl=!0;var Go=gr[xs]&lo?Wt:Gt;if(Go===En){Po=Go;break}}}if(Nl&&!Po){Po=_n;for(var Ys=ho-1;Ys>=0;Ys--){var $l=tn[Ys];if(gr[$l]&fo){var Ho=gr[$l]&lo?Wt:Gt;Ho!==En?Po=Ho:Po=En;break}}}if(Po){if(gr[tn[ho]]=gr[tn[ws]]=Po,Po!==En){for(var Io=ho+1;Io<tn.length;Io++)if(!(gr[tn[Io]]&ut)){gt(Ht[tn[Io]])&Rt&&(gr[tn[Io]]=Po);break}}if(Po!==En){for(var es=ws+1;es<tn.length;es++)if(!(gr[tn[es]]&ut)){gt(Ht[tn[es]])&Rt&&(gr[tn[es]]=Po);break}}}}for(var Ko=0;Ko<tn.length;Ko++)if(gr[tn[Ko]]&st){for(var Qs=Ko,Zs=Ko,Uo=_n,Ms=Ko-1;Ms>=0;Ms--)if(gr[tn[Ms]]&ut)Qs=Ms;else{Uo=gr[tn[Ms]]&lo?Wt:Gt;break}for(var Ss=Mn,As=Ko+1;As<tn.length;As++)if(gr[tn[As]]&(st|ut))Zs=As;else{Ss=gr[tn[As]]&lo?Wt:Gt;break}for(var Lo=Qs;Lo<=Zs;Lo++)gr[tn[Lo]]=Uo===Ss?Uo:En;Ko=Zs}}}for(var xo=Ar.start;xo<=Ar.end;xo++){var Fs=yr[xo],ba=gr[xo];if(Fs&1?ba&(Gt|Ot|lt)&&yr[xo]++:ba&Wt?yr[xo]++:ba&(lt|Ot)&&(yr[xo]+=2),ba&ut&&(yr[xo]=xo===0?Ar.level:yr[xo-1]),xo===Ar.end||gt(Ht[xo])&(vt|pt))for(var hs=xo;hs>=0&&gt(Ht[hs])&ft;hs--)yr[hs]=Ar.level}}return{levels:yr,paragraphs:Mr};function Us(Mo,ko){for(var go=Mo;go<Ht.length;go++){var vo=gr[go];if(vo&(Wt|bt))return 1;if(vo&(pt|Gt)||ko&&vo===Vt)return 0;if(vo&it){var qo=Gl(go);go=qo===-1?Ht.length:qo}}return 0}function Gl(Mo){for(var ko=1,go=Mo+1;go<Ht.length;go++){var vo=gr[go];if(vo&pt)break;if(vo&Vt){if(--ko===0)return go}else vo&it&&ko++}return-1}}var or="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",rr;function $t(){if(!rr){var Ht=St(or,!0),tr=Ht.map,br=Ht.reverseMap;br.forEach(function(gr,Sr){tr.set(Sr,gr)}),rr=tr}}function ar(Ht){return $t(),rr.get(Ht)||null}function wr(Ht,tr,br,gr){var Sr=Ht.length;br=Math.max(0,br==null?0:+br),gr=Math.min(Sr-1,gr==null?Sr-1:+gr);for(var pr=new Map,er=br;er<=gr;er++)if(tr[er]&1){var yr=ar(Ht[er]);yr!==null&&pr.set(er,yr)}return pr}function vr(Ht,tr,br,gr){var Sr=Ht.length;br=Math.max(0,br==null?0:+br),gr=Math.min(Sr-1,gr==null?Sr-1:+gr);var pr=[];return tr.paragraphs.forEach(function(er){var yr=Math.max(br,er.start),Gr=Math.min(gr,er.end);if(yr<Gr){for(var Mr=tr.levels.slice(yr,Gr+1),Ar=Gr;Ar>=yr&&gt(Ht[Ar])&ft;Ar--)Mr[Ar]=er.level;for(var an=er.level,Br=1/0,Dr=0;Dr<Mr.length;Dr++){var ln=Mr[Dr];ln>an&&(an=ln),ln<Br&&(Br=ln|1)}for(var Ir=an;Ir>=Br;Ir--)for(var Tr=0;Tr<Mr.length;Tr++)if(Mr[Tr]>=Ir){for(var Er=Tr;Tr+1<Mr.length&&Mr[Tr+1]>=Ir;)Tr++;Tr>Er&&pr.push([Er+yr,Tr+yr])}}}),pr}function Qt(Ht,tr,br,gr){var Sr=Yt(Ht,tr,br,gr),pr=[].concat(Ht);return Sr.forEach(function(er,yr){pr[yr]=(tr.levels[er]&1?ar(Ht[er]):null)||Ht[er]}),pr.join("")}function Yt(Ht,tr,br,gr){for(var Sr=vr(Ht,tr,br,gr),pr=[],er=0;er<Ht.length;er++)pr[er]=er;return Sr.forEach(function(yr){for(var Gr=yr[0],Mr=yr[1],Ar=pr.slice(Gr,Mr+1),an=Ar.length;an--;)pr[Mr-an]=Ar[an]}),pr}return et.closingToOpeningBracket=Dt,et.getBidiCharType=gt,et.getBidiCharTypeName=yt,et.getCanonicalBracket=Nt,et.getEmbeddingLevels=nr,et.getMirroredCharacter=ar,et.getMirroredCharactersMap=wr,et.getReorderSegments=vr,et.getReorderedIndices=Yt,et.getReorderedString=Qt,et.openingToClosingBracket=kt,Object.defineProperty(et,"__esModule",{value:!0}),et}({});return rt}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(rt){const et=/^[ \t]*#include +<([\w\d./]+)>/gm;function tt(nt,ot){let it=ShaderChunk[ot];return it?expandShaderIncludes(it):nt}return rt.replace(et,tt)}const _lut=[];for(let rt=0;rt<256;rt++)_lut[rt]=(rt<16?"0":"")+rt.toString(16);function generateUUID(){const rt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,tt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut[rt&255]+_lut[rt>>8&255]+_lut[rt>>16&255]+_lut[rt>>24&255]+"-"+_lut[et&255]+_lut[et>>8&255]+"-"+_lut[et>>16&15|64]+_lut[et>>24&255]+"-"+_lut[tt&63|128]+_lut[tt>>8&255]+"-"+_lut[tt>>16&255]+_lut[tt>>24&255]+_lut[nt&255]+_lut[nt>>8&255]+_lut[nt>>16&255]+_lut[nt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let rt=arguments[0];for(let et=1,tt=arguments.length;et<tt;et++){let nt=arguments[et];if(nt)for(let ot in nt)Object.prototype.hasOwnProperty.call(nt,ot)&&(rt[ot]=nt[ot])}return rt},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(rt,et){const tt=getKeyForOptions(et);let nt=CONSTRUCTOR_CACHE.get(rt);if(nt||CONSTRUCTOR_CACHE.set(rt,nt=Object.create(null)),nt[tt])return new nt[tt];const ot=`_onBeforeCompile${tt}`,it=function(ft,ht){rt.onBeforeCompile.call(this,ft,ht);const mt=this.customProgramCacheKey()+"|"+ft.vertexShader+"|"+ft.fragmentShader;let gt=SHADER_UPGRADE_CACHE[mt];if(!gt){const yt=upgradeShaders(this,ft,et,tt);gt=SHADER_UPGRADE_CACHE[mt]=yt}ft.vertexShader=gt.vertexShader,ft.fragmentShader=gt.fragmentShader,assign$1(ft.uniforms,this.uniforms),et.timeUniform&&(ft.uniforms[et.timeUniform]={get value(){return Date.now()-epoch}}),this[ot]&&this[ot](ft)},at=function(){return st(et.chained?rt:rt.clone())},st=function(ft){const ht=Object.create(ft,ut);return Object.defineProperty(ht,"baseMaterial",{value:rt}),Object.defineProperty(ht,"id",{value:materialInstanceId++}),ht.uuid=generateUUID(),ht.uniforms=assign$1({},ft.uniforms,et.uniforms),ht.defines=assign$1({},ft.defines,et.defines),ht.defines[`TROIKA_DERIVED_MATERIAL_${tt}`]="",ht.extensions=assign$1({},ft.extensions,et.extensions),ht._listeners=void 0,ht},ut={constructor:{value:at},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return rt.customProgramCacheKey()+"|"+tt}},onBeforeCompile:{get(){return it},set(ft){this[ot]=ft}},copy:{writable:!0,configurable:!0,value:function(ft){return rt.copy.call(this,ft),!rt.isShaderMaterial&&!rt.isDerivedMaterial&&(assign$1(this.extensions,ft.extensions),assign$1(this.defines,ft.defines),assign$1(this.uniforms,UniformsUtils.clone(ft.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const ft=new rt.constructor;return st(ft).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let ft=this._depthMaterial;return ft||(ft=this._depthMaterial=createDerivedMaterial(rt.isDerivedMaterial?rt.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),et),ft.defines.IS_DEPTH_MATERIAL="",ft.uniforms=this.uniforms),ft}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let ft=this._distanceMaterial;return ft||(ft=this._distanceMaterial=createDerivedMaterial(rt.isDerivedMaterial?rt.getDistanceMaterial():new MeshDistanceMaterial,et),ft.defines.IS_DISTANCE_MATERIAL="",ft.uniforms=this.uniforms),ft}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:ft,_distanceMaterial:ht}=this;ft&&ft.dispose(),ht&&ht.dispose(),rt.dispose.call(this)}}};return nt[tt]=at,new at}function upgradeShaders(rt,{vertexShader:et,fragmentShader:tt},nt,ot){let{vertexDefs:it,vertexMainIntro:at,vertexMainOutro:st,vertexTransform:ut,fragmentDefs:ft,fragmentMainIntro:ht,fragmentMainOutro:mt,fragmentColorTransform:gt,customRewriter:yt,timeUniform:xt}=nt;if(it=it||"",at=at||"",st=st||"",ft=ft||"",ht=ht||"",mt=mt||"",(ut||yt)&&(et=expandShaderIncludes(et)),(gt||yt)&&(tt=tt.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),tt=expandShaderIncludes(tt)),yt){let St=yt({vertexShader:et,fragmentShader:tt});et=St.vertexShader,tt=St.fragmentShader}if(gt){let St=[];tt=tt.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,Tt=>(St.push(Tt),"")),mt=`${gt}
${St.join(`
`)}
${mt}`}if(xt){const St=`
uniform float ${xt};
`;it=St+it,ft=St+ft}return ut&&(et=`vec3 troika_position_${ot};
vec3 troika_normal_${ot};
vec2 troika_uv_${ot};
${et}
`,it=`${it}
void troikaVertexTransform${ot}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${ut}
}
`,at=`
troika_position_${ot} = vec3(position);
troika_normal_${ot} = vec3(normal);
troika_uv_${ot} = vec2(uv);
troikaVertexTransform${ot}(troika_position_${ot}, troika_normal_${ot}, troika_uv_${ot});
${at}
`,et=et.replace(/\b(position|normal|uv)\b/g,(St,Tt,Mt,Pt)=>/\battribute\s+vec[23]\s+$/.test(Pt.substr(0,Mt))?Tt:`troika_${Tt}_${ot}`),rt.map&&rt.map.channel>0||(et=et.replace(/\bMAP_UV\b/g,`troika_uv_${ot}`))),et=injectIntoShaderCode(et,ot,it,at,st),tt=injectIntoShaderCode(tt,ot,ft,ht,mt),{vertexShader:et,fragmentShader:tt}}function injectIntoShaderCode(rt,et,tt,nt,ot){return(nt||ot||tt)&&(rt=rt.replace(voidMainRegExp,`
${tt}
void troikaOrigMain${et}() {`),rt+=`
void main() {
  ${nt}
  troikaOrigMain${et}();
  ${ot}
}`),rt}function optionsJsonReplacer(rt,et){return rt==="uniforms"?void 0:typeof et=="function"?et.toString():et}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(rt){const et=JSON.stringify(rt,optionsJsonReplacer);let tt=optionsHashesToIds.get(et);return tt==null&&optionsHashesToIds.set(et,tt=++_idCtr),tt}function createTypesetter(rt,et,tt){const{defaultFontURL:nt}=tt,ot=Object.create(null),it=1/0,at=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,st="[^\\S\\u00A0]",ut=new RegExp(`${st}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function ft(Pt,It){function kt(){const Dt=Nt=>{console.error(`Failure loading font ${Pt}${Pt===nt?"":"; trying fallback"}`,Nt),Pt!==nt&&(Pt=nt,kt())};try{const Nt=new XMLHttpRequest;Nt.open("get",Pt,!0),Nt.responseType="arraybuffer",Nt.onload=function(){if(Nt.status>=400)Dt(new Error(Nt.statusText));else if(Nt.status>0)try{const Gt=rt(Nt.response);It(Gt)}catch(Gt){Dt(Gt)}},Nt.onerror=Dt,Nt.send()}catch(Nt){Dt(Nt)}}kt()}function ht(Pt,It){Pt||(Pt=nt);let kt=ot[Pt];kt?kt.pending?kt.pending.push(It):It(kt):(ot[Pt]={pending:[It]},ft(Pt,Dt=>{let Nt=ot[Pt].pending;ot[Pt]=Dt,Nt.forEach(Gt=>Gt(Dt))}))}function mt({text:Pt="",font:It=nt,sdfGlyphSize:kt=64,fontSize:Dt=1,letterSpacing:Nt=0,lineHeight:Gt="normal",maxWidth:Wt=it,direction:Ot,textAlign:Xt="left",textIndent:Et=0,whiteSpace:lt="normal",overflowWrap:dt="normal",anchorX:pt=0,anchorY:vt=0,includeCaretPositions:wt=!1,chunkedBoundsSize:At=8192,colorRanges:Rt=null},bt,ct=!1){const _t=St(),Lt={fontLoad:0,typesetting:0};Pt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),Pt=Pt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),Dt=+Dt,Nt=+Nt,Wt=+Wt,Gt=Gt||"normal",Et=+Et,ht(It,Ft=>{const jt=isFinite(Wt);let Zt=null,Kt=null,zt=null,Vt=null,nr=null,or=null,rr=null,$t=0,ar=0,wr=lt!=="nowrap";const{ascender:vr,descender:Qt,unitsPerEm:Yt,lineGap:Ht,capHeight:tr,xHeight:br}=Ft;Lt.fontLoad=St()-_t;const gr=St(),Sr=Dt/Yt;Gt==="normal"&&(Gt=(vr-Qt+Ht)/Yt),Gt=Gt*Dt;const pr=(Gt-(vr-Qt)*Sr)/2,er=-(vr*Sr+pr),yr=Math.min(Gt,(vr-Qt)*Sr),Gr=(vr+Qt)/2*Sr-yr/2;let Mr=Et,Ar=new Tt;const an=[Ar];Ft.forEachGlyph(Pt,Dt,Nt,(ln,Ir,Tr)=>{const Er=Pt.charAt(Tr),_r=ln.advanceWidth*Sr,xr=Ar.count;let Xr;if("isEmpty"in ln||(ln.isWhitespace=!!Er&&new RegExp(st).test(Er),ln.canBreakAfter=!!Er&&ut.test(Er),ln.isEmpty=ln.xMin===ln.xMax||ln.yMin===ln.yMax||at.test(Er)),!ln.isWhitespace&&!ln.isEmpty&&ar++,wr&&jt&&!ln.isWhitespace&&Ir+_r+Mr>Wt&&xr){if(Ar.glyphAt(xr-1).glyphObj.canBreakAfter)Xr=new Tt,Mr=-Ir;else for(let Pr=xr;Pr--;)if(Pr===0&&dt==="break-word"){Xr=new Tt,Mr=-Ir;break}else if(Ar.glyphAt(Pr).glyphObj.canBreakAfter){Xr=Ar.splitAt(Pr+1);const Jr=Xr.glyphAt(0).x;Mr-=Jr;for(let Nr=Xr.count;Nr--;)Xr.glyphAt(Nr).x-=Jr;break}Xr&&(Ar.isSoftWrapped=!0,Ar=Xr,an.push(Ar),$t=Wt)}let dr=Ar.glyphAt(Ar.count);dr.glyphObj=ln,dr.x=Ir+Mr,dr.width=_r,dr.charIndex=Tr,Er===`
`&&(Ar=new Tt,an.push(Ar),Mr=-(Ir+_r+Nt*Dt)+Et)}),an.forEach(ln=>{for(let Ir=ln.count;Ir--;){let{glyphObj:Tr,x:Er,width:_r}=ln.glyphAt(Ir);if(!Tr.isWhitespace){ln.width=Er+_r,ln.width>$t&&($t=ln.width);return}}});let Br=0,Dr=0;if(pt&&(typeof pt=="number"?Br=-pt:typeof pt=="string"&&(Br=-$t*(pt==="left"?0:pt==="center"?.5:pt==="right"?1:yt(pt)))),vt){if(typeof vt=="number")Dr=-vt;else if(typeof vt=="string"){let ln=an.length*Gt;Dr=vt==="top"?0:vt==="top-baseline"?-er:vt==="top-cap"?-er-tr*Sr:vt==="top-ex"?-er-br*Sr:vt==="middle"?ln/2:vt==="bottom"?ln:vt==="bottom-baseline"?ln-pr+Qt*Sr:yt(vt)*ln}}if(!ct){const ln=et.getEmbeddingLevels(Pt,Ot);Zt=new Uint16Array(ar),Kt=new Float32Array(ar*2),zt={},or=[it,it,-it,-it],rr=[];let Ir=er;wt&&(nr=new Float32Array(Pt.length*3)),Rt&&(Vt=new Uint8Array(ar*3));let Tr=0,Er=-1,_r=-1,xr,Xr;if(an.forEach((dr,Pr)=>{let{count:Jr,width:Nr}=dr;if(Jr>0){let $r=0;for(let sn=Jr;sn--&&dr.glyphAt(sn).glyphObj.isWhitespace;)$r++;let Zr=0,Or=0;if(Xt==="center")Zr=($t-Nr)/2;else if(Xt==="right")Zr=$t-Nr;else if(Xt==="justify"&&dr.isSoftWrapped){let sn=0;for(let In=Jr-$r;In--;)dr.glyphAt(In).glyphObj.isWhitespace&&sn++;Or=($t-Nr)/sn}if(Or||Zr){let sn=0;for(let In=0;In<Jr;In++){let rn=dr.glyphAt(In);const Vr=rn.glyphObj;rn.x+=Zr+sn,Or!==0&&Vr.isWhitespace&&In<Jr-$r&&(sn+=Or,rn.width+=Or)}}const Kr=et.getReorderSegments(Pt,ln,dr.glyphAt(0).charIndex,dr.glyphAt(dr.count-1).charIndex);for(let sn=0;sn<Kr.length;sn++){const[In,rn]=Kr[sn];let Vr=1/0,sr=-1/0;for(let lr=0;lr<Jr;lr++)if(dr.glyphAt(lr).charIndex>=In){let ur=lr,Jt=lr;for(;Jt<Jr;Jt++){let fr=dr.glyphAt(Jt);if(fr.charIndex>rn)break;Jt<Jr-$r&&(Vr=Math.min(Vr,fr.x),sr=Math.max(sr,fr.x+fr.width))}for(let fr=ur;fr<Jt;fr++){const Cr=dr.glyphAt(fr);Cr.x=sr-(Cr.x+Cr.width-Vr)}break}}let Pn;const Yr=sn=>Pn=sn;for(let sn=0;sn<Jr;sn++){let In=dr.glyphAt(sn);Pn=In.glyphObj;const rn=Pn.index,Vr=ln.levels[In.charIndex]&1;if(Vr){const sr=et.getMirroredCharacter(Pt[In.charIndex]);sr&&Ft.forEachGlyph(sr,0,0,Yr)}if(wt){const{charIndex:sr}=In,lr=In.x+Br,ur=In.x+In.width+Br;nr[sr*3]=Vr?ur:lr,nr[sr*3+1]=Vr?lr:ur,nr[sr*3+2]=Ir+Gr+Dr;const Jt=sr-Er;Jt>1&&xt(nr,Er,Jt),Er=sr}if(Rt){const{charIndex:sr}=In;for(;sr>_r;)_r++,Rt.hasOwnProperty(_r)&&(Xr=Rt[_r])}if(!Pn.isWhitespace&&!Pn.isEmpty){const sr=Tr++;zt[rn]||(zt[rn]={path:Pn.path,pathBounds:[Pn.xMin,Pn.yMin,Pn.xMax,Pn.yMax]});const lr=In.x+Br,ur=Ir+Dr;Kt[sr*2]=lr,Kt[sr*2+1]=ur;const Jt=lr+Pn.xMin*Sr,fr=ur+Pn.yMin*Sr,Cr=lr+Pn.xMax*Sr,Wr=ur+Pn.yMax*Sr;Jt<or[0]&&(or[0]=Jt),fr<or[1]&&(or[1]=fr),Cr>or[2]&&(or[2]=Cr),Wr>or[3]&&(or[3]=Wr),sr%At===0&&(xr={start:sr,end:sr,rect:[it,it,-it,-it]},rr.push(xr)),xr.end++;const Rr=xr.rect;if(Jt<Rr[0]&&(Rr[0]=Jt),fr<Rr[1]&&(Rr[1]=fr),Cr>Rr[2]&&(Rr[2]=Cr),Wr>Rr[3]&&(Rr[3]=Wr),Zt[sr]=rn,Rt){const cr=sr*3;Vt[cr]=Xr>>16&255,Vt[cr+1]=Xr>>8&255,Vt[cr+2]=Xr&255}}}}Ir-=Gt}),nr){const dr=Pt.length-Er;dr>1&&xt(nr,Er,dr)}}Lt.typesetting=St()-gr,bt({glyphIds:Zt,glyphPositions:Kt,glyphData:zt,caretPositions:nr,caretHeight:yr,glyphColors:Vt,chunkedBounds:rr,fontSize:Dt,unitsPerEm:Yt,ascender:vr*Sr,descender:Qt*Sr,capHeight:tr*Sr,xHeight:br*Sr,lineHeight:Gt,topBaseline:er,blockBounds:[Br,Dr-an.length*Gt,Br+$t,Dr],visibleBounds:or,timings:Lt})})}function gt(Pt,It){mt(Pt,kt=>{const[Dt,Nt,Gt,Wt]=kt.blockBounds;It({width:Gt-Dt,height:Wt-Nt})},{metricsOnly:!0})}function yt(Pt){let It=Pt.match(/^([\d.]+)%$/),kt=It?parseFloat(It[1]):NaN;return isNaN(kt)?0:kt/100}function xt(Pt,It,kt){const Dt=Pt[It*3],Nt=Pt[It*3+1],Gt=Pt[It*3+2],Wt=(Nt-Dt)/kt;for(let Ot=0;Ot<kt;Ot++){const Xt=(It+Ot)*3;Pt[Xt]=Dt+Wt*Ot,Pt[Xt+1]=Dt+Wt*(Ot+1),Pt[Xt+2]=Gt}}function St(){return(self.performance||Date).now()}function Tt(){this.data=[]}const Mt=["glyphObj","x","width","charIndex"];return Tt.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Mt.length)},glyphAt(Pt){let It=Tt.flyweight;return It.data=this.data,It.index=Pt,It},splitAt(Pt){let It=new Tt;return It.data=this.data.splice(Pt*Mt.length),It}},Tt.flyweight=Mt.reduce((Pt,It,kt,Dt)=>(Object.defineProperty(Pt,It,{get(){return this.data[this.index*Mt.length+kt]},set(Nt){this.data[this.index*Mt.length+kt]=Nt}}),Pt),{data:null,index:0}),{typeset:mt,measure:gt,loadFont:ht}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(rt,et,tt,nt,ot,it,at,st,ut,ft,ht=!0){return ht?generateSDF_GL(rt,et,tt,nt,ot,it,at,st,ut,ft).then(null,mt=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",mt),warned=!0),generateSDF_JS_Worker(rt,et,tt,nt,ot,it,at,st,ut,ft))):generateSDF_JS_Worker(rt,et,tt,nt,ot,it,at,st,ut,ft)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const rt=now();for(;queue.length&&now()-rt<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...rt)=>new Promise((et,tt)=>{queue.push(()=>{const nt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...rt),et({timing:now()-nt})}catch(ot){tt(ot)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(rt,et,tt,nt,ot,it,at,st,ut,ft){const ht="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let mt=threads[ht];return mt||(mt=threads[ht]={workerModule:defineWorkerModule({name:ht,workerId:ht,dependencies:[SDFGenerator,now],init(gt,yt){const xt=gt().javascript.generate;return function(...St){const Tt=yt();return{textureData:xt(...St),timing:yt()-Tt}}},getTransferables(gt){return[gt.textureData.buffer]}}),requests:0,idleTimer:null}),mt.requests++,clearTimeout(mt.idleTimer),mt.workerModule(rt,et,tt,nt,ot,it).then(({textureData:gt,timing:yt})=>{const xt=now(),St=new Uint8Array(gt.length*4);for(let Tt=0;Tt<gt.length;Tt++)St[Tt*4+ft]=gt[Tt];return mainThreadGenerator.webglUtils.renderImageData(at,St,st,ut,rt,et,1<<3-ft),yt+=now()-xt,--mt.requests===0&&(mt.idleTimer=setTimeout(()=>{terminateWorker(ht)},idleTimeout)),{timing:yt}})}function warmUpSDFCanvas(rt){rt._warm||(mainThreadGenerator.webgl.isSupported(rt),rt._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(rt){var et={parse:function(ot){var it=et._bin,at=new Uint8Array(ot);if(it.readASCII(at,0,4)=="ttcf"){var st=4;it.readUshort(at,st),st+=2,it.readUshort(at,st),st+=2;var ut=it.readUint(at,st);st+=4;for(var ft=[],ht=0;ht<ut;ht++){var mt=it.readUint(at,st);st+=4,ft.push(et._readFont(at,mt))}return ft}return[et._readFont(at,0)]},_readFont:function(ot,it){var at=et._bin,st=it;at.readFixed(ot,it),it+=4;var ut=at.readUshort(ot,it);it+=2,at.readUshort(ot,it),it+=2,at.readUshort(ot,it),it+=2,at.readUshort(ot,it),it+=2;for(var ft=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],ht={_data:ot,_offset:st},mt={},gt=0;gt<ut;gt++){var yt=at.readASCII(ot,it,4);it+=4,at.readUint(ot,it),it+=4;var xt=at.readUint(ot,it);it+=4;var St=at.readUint(ot,it);it+=4,mt[yt]={offset:xt,length:St}}for(gt=0;gt<ft.length;gt++){var Tt=ft[gt];mt[Tt]&&(ht[Tt.trim()]=et[Tt.trim()].parse(ot,mt[Tt].offset,mt[Tt].length,ht))}return ht},_tabOffset:function(ot,it,at){for(var st=et._bin,ut=st.readUshort(ot,at+4),ft=at+12,ht=0;ht<ut;ht++){var mt=st.readASCII(ot,ft,4);ft+=4,st.readUint(ot,ft),ft+=4;var gt=st.readUint(ot,ft);if(ft+=4,st.readUint(ot,ft),ft+=4,mt==it)return gt}return 0}};et._bin={readFixed:function(ot,it){return(ot[it]<<8|ot[it+1])+(ot[it+2]<<8|ot[it+3])/65540},readF2dot14:function(ot,it){return et._bin.readShort(ot,it)/16384},readInt:function(ot,it){return et._bin._view(ot).getInt32(it)},readInt8:function(ot,it){return et._bin._view(ot).getInt8(it)},readShort:function(ot,it){return et._bin._view(ot).getInt16(it)},readUshort:function(ot,it){return et._bin._view(ot).getUint16(it)},readUshorts:function(ot,it,at){for(var st=[],ut=0;ut<at;ut++)st.push(et._bin.readUshort(ot,it+2*ut));return st},readUint:function(ot,it){return et._bin._view(ot).getUint32(it)},readUint64:function(ot,it){return 4294967296*et._bin.readUint(ot,it)+et._bin.readUint(ot,it+4)},readASCII:function(ot,it,at){for(var st="",ut=0;ut<at;ut++)st+=String.fromCharCode(ot[it+ut]);return st},readUnicode:function(ot,it,at){for(var st="",ut=0;ut<at;ut++){var ft=ot[it++]<<8|ot[it++];st+=String.fromCharCode(ft)}return st},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(ot,it,at){var st=et._bin._tdec;return st&&it==0&&at==ot.length?st.decode(ot):et._bin.readASCII(ot,it,at)},readBytes:function(ot,it,at){for(var st=[],ut=0;ut<at;ut++)st.push(ot[it+ut]);return st},readASCIIArray:function(ot,it,at){for(var st=[],ut=0;ut<at;ut++)st.push(String.fromCharCode(ot[it+ut]));return st},_view:function(ot){return ot._dataView||(ot._dataView=ot.buffer?new DataView(ot.buffer,ot.byteOffset,ot.byteLength):new DataView(new Uint8Array(ot).buffer))}},et._lctf={},et._lctf.parse=function(ot,it,at,st,ut){var ft=et._bin,ht={},mt=it;ft.readFixed(ot,it),it+=4;var gt=ft.readUshort(ot,it);it+=2;var yt=ft.readUshort(ot,it);it+=2;var xt=ft.readUshort(ot,it);return it+=2,ht.scriptList=et._lctf.readScriptList(ot,mt+gt),ht.featureList=et._lctf.readFeatureList(ot,mt+yt),ht.lookupList=et._lctf.readLookupList(ot,mt+xt,ut),ht},et._lctf.readLookupList=function(ot,it,at){var st=et._bin,ut=it,ft=[],ht=st.readUshort(ot,it);it+=2;for(var mt=0;mt<ht;mt++){var gt=st.readUshort(ot,it);it+=2;var yt=et._lctf.readLookupTable(ot,ut+gt,at);ft.push(yt)}return ft},et._lctf.readLookupTable=function(ot,it,at){var st=et._bin,ut=it,ft={tabs:[]};ft.ltype=st.readUshort(ot,it),it+=2,ft.flag=st.readUshort(ot,it),it+=2;var ht=st.readUshort(ot,it);it+=2;for(var mt=ft.ltype,gt=0;gt<ht;gt++){var yt=st.readUshort(ot,it);it+=2;var xt=at(ot,mt,ut+yt,ft);ft.tabs.push(xt)}return ft},et._lctf.numOfOnes=function(ot){for(var it=0,at=0;at<32;at++)ot>>>at&1&&it++;return it},et._lctf.readClassDef=function(ot,it){var at=et._bin,st=[],ut=at.readUshort(ot,it);if(it+=2,ut==1){var ft=at.readUshort(ot,it);it+=2;var ht=at.readUshort(ot,it);it+=2;for(var mt=0;mt<ht;mt++)st.push(ft+mt),st.push(ft+mt),st.push(at.readUshort(ot,it)),it+=2}if(ut==2){var gt=at.readUshort(ot,it);for(it+=2,mt=0;mt<gt;mt++)st.push(at.readUshort(ot,it)),it+=2,st.push(at.readUshort(ot,it)),it+=2,st.push(at.readUshort(ot,it)),it+=2}return st},et._lctf.getInterval=function(ot,it){for(var at=0;at<ot.length;at+=3){var st=ot[at],ut=ot[at+1];if(ot[at+2],st<=it&&it<=ut)return at}return-1},et._lctf.readCoverage=function(ot,it){var at=et._bin,st={};st.fmt=at.readUshort(ot,it),it+=2;var ut=at.readUshort(ot,it);return it+=2,st.fmt==1&&(st.tab=at.readUshorts(ot,it,ut)),st.fmt==2&&(st.tab=at.readUshorts(ot,it,3*ut)),st},et._lctf.coverageIndex=function(ot,it){var at=ot.tab;if(ot.fmt==1)return at.indexOf(it);if(ot.fmt==2){var st=et._lctf.getInterval(at,it);if(st!=-1)return at[st+2]+(it-at[st])}return-1},et._lctf.readFeatureList=function(ot,it){var at=et._bin,st=it,ut=[],ft=at.readUshort(ot,it);it+=2;for(var ht=0;ht<ft;ht++){var mt=at.readASCII(ot,it,4);it+=4;var gt=at.readUshort(ot,it);it+=2;var yt=et._lctf.readFeatureTable(ot,st+gt);yt.tag=mt.trim(),ut.push(yt)}return ut},et._lctf.readFeatureTable=function(ot,it){var at=et._bin,st=it,ut={},ft=at.readUshort(ot,it);it+=2,ft>0&&(ut.featureParams=st+ft);var ht=at.readUshort(ot,it);it+=2,ut.tab=[];for(var mt=0;mt<ht;mt++)ut.tab.push(at.readUshort(ot,it+2*mt));return ut},et._lctf.readScriptList=function(ot,it){var at=et._bin,st=it,ut={},ft=at.readUshort(ot,it);it+=2;for(var ht=0;ht<ft;ht++){var mt=at.readASCII(ot,it,4);it+=4;var gt=at.readUshort(ot,it);it+=2,ut[mt.trim()]=et._lctf.readScriptTable(ot,st+gt)}return ut},et._lctf.readScriptTable=function(ot,it){var at=et._bin,st=it,ut={},ft=at.readUshort(ot,it);it+=2,ut.default=et._lctf.readLangSysTable(ot,st+ft);var ht=at.readUshort(ot,it);it+=2;for(var mt=0;mt<ht;mt++){var gt=at.readASCII(ot,it,4);it+=4;var yt=at.readUshort(ot,it);it+=2,ut[gt.trim()]=et._lctf.readLangSysTable(ot,st+yt)}return ut},et._lctf.readLangSysTable=function(ot,it){var at=et._bin,st={};at.readUshort(ot,it),it+=2,st.reqFeature=at.readUshort(ot,it),it+=2;var ut=at.readUshort(ot,it);return it+=2,st.features=at.readUshorts(ot,it,ut),st},et.CFF={},et.CFF.parse=function(ot,it,at){var st=et._bin;(ot=new Uint8Array(ot.buffer,it,at))[it=0],ot[++it],ot[++it],ot[++it],it++;var ut=[];it=et.CFF.readIndex(ot,it,ut);for(var ft=[],ht=0;ht<ut.length-1;ht++)ft.push(st.readASCII(ot,it+ut[ht],ut[ht+1]-ut[ht]));it+=ut[ut.length-1];var mt=[];it=et.CFF.readIndex(ot,it,mt);var gt=[];for(ht=0;ht<mt.length-1;ht++)gt.push(et.CFF.readDict(ot,it+mt[ht],it+mt[ht+1]));it+=mt[mt.length-1];var yt=gt[0],xt=[];it=et.CFF.readIndex(ot,it,xt);var St=[];for(ht=0;ht<xt.length-1;ht++)St.push(st.readASCII(ot,it+xt[ht],xt[ht+1]-xt[ht]));if(it+=xt[xt.length-1],et.CFF.readSubrs(ot,it,yt),yt.CharStrings){it=yt.CharStrings,xt=[],it=et.CFF.readIndex(ot,it,xt);var Tt=[];for(ht=0;ht<xt.length-1;ht++)Tt.push(st.readBytes(ot,it+xt[ht],xt[ht+1]-xt[ht]));yt.CharStrings=Tt}if(yt.ROS){it=yt.FDArray;var Mt=[];for(it=et.CFF.readIndex(ot,it,Mt),yt.FDArray=[],ht=0;ht<Mt.length-1;ht++){var Pt=et.CFF.readDict(ot,it+Mt[ht],it+Mt[ht+1]);et.CFF._readFDict(ot,Pt,St),yt.FDArray.push(Pt)}it+=Mt[Mt.length-1],it=yt.FDSelect,yt.FDSelect=[];var It=ot[it];if(it++,It!=3)throw It;var kt=st.readUshort(ot,it);for(it+=2,ht=0;ht<kt+1;ht++)yt.FDSelect.push(st.readUshort(ot,it),ot[it+2]),it+=3}return yt.Encoding&&(yt.Encoding=et.CFF.readEncoding(ot,yt.Encoding,yt.CharStrings.length)),yt.charset&&(yt.charset=et.CFF.readCharset(ot,yt.charset,yt.CharStrings.length)),et.CFF._readFDict(ot,yt,St),yt},et.CFF._readFDict=function(ot,it,at){var st;for(var ut in it.Private&&(st=it.Private[1],it.Private=et.CFF.readDict(ot,st,st+it.Private[0]),it.Private.Subrs&&et.CFF.readSubrs(ot,st+it.Private.Subrs,it.Private)),it)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(ut)!=-1&&(it[ut]=at[it[ut]-426+35])},et.CFF.readSubrs=function(ot,it,at){var st=et._bin,ut=[];it=et.CFF.readIndex(ot,it,ut);var ft,ht=ut.length;ft=ht<1240?107:ht<33900?1131:32768,at.Bias=ft,at.Subrs=[];for(var mt=0;mt<ut.length-1;mt++)at.Subrs.push(st.readBytes(ot,it+ut[mt],ut[mt+1]-ut[mt]))},et.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],et.CFF.glyphByUnicode=function(ot,it){for(var at=0;at<ot.charset.length;at++)if(ot.charset[at]==it)return at;return-1},et.CFF.glyphBySE=function(ot,it){return it<0||it>255?-1:et.CFF.glyphByUnicode(ot,et.CFF.tableSE[it])},et.CFF.readEncoding=function(ot,it,at){et._bin;var st=[".notdef"],ut=ot[it];if(it++,ut!=0)throw"error: unknown encoding format: "+ut;var ft=ot[it];it++;for(var ht=0;ht<ft;ht++)st.push(ot[it+ht]);return st},et.CFF.readCharset=function(ot,it,at){var st=et._bin,ut=[".notdef"],ft=ot[it];if(it++,ft==0)for(var ht=0;ht<at;ht++){var mt=st.readUshort(ot,it);it+=2,ut.push(mt)}else{if(ft!=1&&ft!=2)throw"error: format: "+ft;for(;ut.length<at;){mt=st.readUshort(ot,it),it+=2;var gt=0;for(ft==1?(gt=ot[it],it++):(gt=st.readUshort(ot,it),it+=2),ht=0;ht<=gt;ht++)ut.push(mt),mt++}}return ut},et.CFF.readIndex=function(ot,it,at){var st=et._bin,ut=st.readUshort(ot,it)+1,ft=ot[it+=2];if(it++,ft==1)for(var ht=0;ht<ut;ht++)at.push(ot[it+ht]);else if(ft==2)for(ht=0;ht<ut;ht++)at.push(st.readUshort(ot,it+2*ht));else if(ft==3)for(ht=0;ht<ut;ht++)at.push(16777215&st.readUint(ot,it+3*ht-1));else if(ut!=1)throw"unsupported offset size: "+ft+", count: "+ut;return(it+=ut*ft)-1},et.CFF.getCharString=function(ot,it,at){var st=et._bin,ut=ot[it],ft=ot[it+1];ot[it+2],ot[it+3],ot[it+4];var ht=1,mt=null,gt=null;ut<=20&&(mt=ut,ht=1),ut==12&&(mt=100*ut+ft,ht=2),21<=ut&&ut<=27&&(mt=ut,ht=1),ut==28&&(gt=st.readShort(ot,it+1),ht=3),29<=ut&&ut<=31&&(mt=ut,ht=1),32<=ut&&ut<=246&&(gt=ut-139,ht=1),247<=ut&&ut<=250&&(gt=256*(ut-247)+ft+108,ht=2),251<=ut&&ut<=254&&(gt=256*-(ut-251)-ft-108,ht=2),ut==255&&(gt=st.readInt(ot,it+1)/65535,ht=5),at.val=gt??"o"+mt,at.size=ht},et.CFF.readCharString=function(ot,it,at){for(var st=it+at,ut=et._bin,ft=[];it<st;){var ht=ot[it],mt=ot[it+1];ot[it+2],ot[it+3],ot[it+4];var gt=1,yt=null,xt=null;ht<=20&&(yt=ht,gt=1),ht==12&&(yt=100*ht+mt,gt=2),ht!=19&&ht!=20||(yt=ht,gt=2),21<=ht&&ht<=27&&(yt=ht,gt=1),ht==28&&(xt=ut.readShort(ot,it+1),gt=3),29<=ht&&ht<=31&&(yt=ht,gt=1),32<=ht&&ht<=246&&(xt=ht-139,gt=1),247<=ht&&ht<=250&&(xt=256*(ht-247)+mt+108,gt=2),251<=ht&&ht<=254&&(xt=256*-(ht-251)-mt-108,gt=2),ht==255&&(xt=ut.readInt(ot,it+1)/65535,gt=5),ft.push(xt??"o"+yt),it+=gt}return ft},et.CFF.readDict=function(ot,it,at){for(var st=et._bin,ut={},ft=[];it<at;){var ht=ot[it],mt=ot[it+1];ot[it+2],ot[it+3],ot[it+4];var gt=1,yt=null,xt=null;if(ht==28&&(xt=st.readShort(ot,it+1),gt=3),ht==29&&(xt=st.readInt(ot,it+1),gt=5),32<=ht&&ht<=246&&(xt=ht-139,gt=1),247<=ht&&ht<=250&&(xt=256*(ht-247)+mt+108,gt=2),251<=ht&&ht<=254&&(xt=256*-(ht-251)-mt-108,gt=2),ht==255)throw xt=st.readInt(ot,it+1)/65535,gt=5,"unknown number";if(ht==30){var St=[];for(gt=1;;){var Tt=ot[it+gt];gt++;var Mt=Tt>>4,Pt=15&Tt;if(Mt!=15&&St.push(Mt),Pt!=15&&St.push(Pt),Pt==15)break}for(var It="",kt=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],Dt=0;Dt<St.length;Dt++)It+=kt[St[Dt]];xt=parseFloat(It)}ht<=21&&(yt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][ht],gt=1,ht==12&&(yt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][mt],gt=2)),yt!=null?(ut[yt]=ft.length==1?ft[0]:ft,ft=[]):ft.push(xt),it+=gt}return ut},et.cmap={},et.cmap.parse=function(ot,it,at){ot=new Uint8Array(ot.buffer,it,at),it=0;var st=et._bin,ut={};st.readUshort(ot,it),it+=2;var ft=st.readUshort(ot,it);it+=2;var ht=[];ut.tables=[];for(var mt=0;mt<ft;mt++){var gt=st.readUshort(ot,it);it+=2;var yt=st.readUshort(ot,it);it+=2;var xt=st.readUint(ot,it);it+=4;var St="p"+gt+"e"+yt,Tt=ht.indexOf(xt);if(Tt==-1){var Mt;Tt=ut.tables.length,ht.push(xt);var Pt=st.readUshort(ot,xt);Pt==0?Mt=et.cmap.parse0(ot,xt):Pt==4?Mt=et.cmap.parse4(ot,xt):Pt==6?Mt=et.cmap.parse6(ot,xt):Pt==12?Mt=et.cmap.parse12(ot,xt):console.debug("unknown format: "+Pt,gt,yt,xt),ut.tables.push(Mt)}if(ut[St]!=null)throw"multiple tables for one platform+encoding";ut[St]=Tt}return ut},et.cmap.parse0=function(ot,it){var at=et._bin,st={};st.format=at.readUshort(ot,it),it+=2;var ut=at.readUshort(ot,it);it+=2,at.readUshort(ot,it),it+=2,st.map=[];for(var ft=0;ft<ut-6;ft++)st.map.push(ot[it+ft]);return st},et.cmap.parse4=function(ot,it){var at=et._bin,st=it,ut={};ut.format=at.readUshort(ot,it),it+=2;var ft=at.readUshort(ot,it);it+=2,at.readUshort(ot,it),it+=2;var ht=at.readUshort(ot,it);it+=2;var mt=ht/2;ut.searchRange=at.readUshort(ot,it),it+=2,ut.entrySelector=at.readUshort(ot,it),it+=2,ut.rangeShift=at.readUshort(ot,it),it+=2,ut.endCount=at.readUshorts(ot,it,mt),it+=2*mt,it+=2,ut.startCount=at.readUshorts(ot,it,mt),it+=2*mt,ut.idDelta=[];for(var gt=0;gt<mt;gt++)ut.idDelta.push(at.readShort(ot,it)),it+=2;for(ut.idRangeOffset=at.readUshorts(ot,it,mt),it+=2*mt,ut.glyphIdArray=[];it<st+ft;)ut.glyphIdArray.push(at.readUshort(ot,it)),it+=2;return ut},et.cmap.parse6=function(ot,it){var at=et._bin,st={};st.format=at.readUshort(ot,it),it+=2,at.readUshort(ot,it),it+=2,at.readUshort(ot,it),it+=2,st.firstCode=at.readUshort(ot,it),it+=2;var ut=at.readUshort(ot,it);it+=2,st.glyphIdArray=[];for(var ft=0;ft<ut;ft++)st.glyphIdArray.push(at.readUshort(ot,it)),it+=2;return st},et.cmap.parse12=function(ot,it){var at=et._bin,st={};st.format=at.readUshort(ot,it),it+=2,it+=2,at.readUint(ot,it),it+=4,at.readUint(ot,it),it+=4;var ut=at.readUint(ot,it);it+=4,st.groups=[];for(var ft=0;ft<ut;ft++){var ht=it+12*ft,mt=at.readUint(ot,ht+0),gt=at.readUint(ot,ht+4),yt=at.readUint(ot,ht+8);st.groups.push([mt,gt,yt])}return st},et.glyf={},et.glyf.parse=function(ot,it,at,st){for(var ut=[],ft=0;ft<st.maxp.numGlyphs;ft++)ut.push(null);return ut},et.glyf._parseGlyf=function(ot,it){var at=et._bin,st=ot._data,ut=et._tabOffset(st,"glyf",ot._offset)+ot.loca[it];if(ot.loca[it]==ot.loca[it+1])return null;var ft={};if(ft.noc=at.readShort(st,ut),ut+=2,ft.xMin=at.readShort(st,ut),ut+=2,ft.yMin=at.readShort(st,ut),ut+=2,ft.xMax=at.readShort(st,ut),ut+=2,ft.yMax=at.readShort(st,ut),ut+=2,ft.xMin>=ft.xMax||ft.yMin>=ft.yMax)return null;if(ft.noc>0){ft.endPts=[];for(var ht=0;ht<ft.noc;ht++)ft.endPts.push(at.readUshort(st,ut)),ut+=2;var mt=at.readUshort(st,ut);if(ut+=2,st.length-ut<mt)return null;ft.instructions=at.readBytes(st,ut,mt),ut+=mt;var gt=ft.endPts[ft.noc-1]+1;for(ft.flags=[],ht=0;ht<gt;ht++){var yt=st[ut];if(ut++,ft.flags.push(yt),(8&yt)!=0){var xt=st[ut];ut++;for(var St=0;St<xt;St++)ft.flags.push(yt),ht++}}for(ft.xs=[],ht=0;ht<gt;ht++){var Tt=(2&ft.flags[ht])!=0,Mt=(16&ft.flags[ht])!=0;Tt?(ft.xs.push(Mt?st[ut]:-st[ut]),ut++):Mt?ft.xs.push(0):(ft.xs.push(at.readShort(st,ut)),ut+=2)}for(ft.ys=[],ht=0;ht<gt;ht++)Tt=(4&ft.flags[ht])!=0,Mt=(32&ft.flags[ht])!=0,Tt?(ft.ys.push(Mt?st[ut]:-st[ut]),ut++):Mt?ft.ys.push(0):(ft.ys.push(at.readShort(st,ut)),ut+=2);var Pt=0,It=0;for(ht=0;ht<gt;ht++)Pt+=ft.xs[ht],It+=ft.ys[ht],ft.xs[ht]=Pt,ft.ys[ht]=It}else{var kt;ft.parts=[];do{kt=at.readUshort(st,ut),ut+=2;var Dt={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(ft.parts.push(Dt),Dt.glyphIndex=at.readUshort(st,ut),ut+=2,1&kt){var Nt=at.readShort(st,ut);ut+=2;var Gt=at.readShort(st,ut);ut+=2}else Nt=at.readInt8(st,ut),ut++,Gt=at.readInt8(st,ut),ut++;2&kt?(Dt.m.tx=Nt,Dt.m.ty=Gt):(Dt.p1=Nt,Dt.p2=Gt),8&kt?(Dt.m.a=Dt.m.d=at.readF2dot14(st,ut),ut+=2):64&kt?(Dt.m.a=at.readF2dot14(st,ut),ut+=2,Dt.m.d=at.readF2dot14(st,ut),ut+=2):128&kt&&(Dt.m.a=at.readF2dot14(st,ut),ut+=2,Dt.m.b=at.readF2dot14(st,ut),ut+=2,Dt.m.c=at.readF2dot14(st,ut),ut+=2,Dt.m.d=at.readF2dot14(st,ut),ut+=2)}while(32&kt);if(256&kt){var Wt=at.readUshort(st,ut);for(ut+=2,ft.instr=[],ht=0;ht<Wt;ht++)ft.instr.push(st[ut]),ut++}}return ft},et.GPOS={},et.GPOS.parse=function(ot,it,at,st){return et._lctf.parse(ot,it,at,st,et.GPOS.subt)},et.GPOS.subt=function(ot,it,at,st){var ut=et._bin,ft=at,ht={};if(ht.fmt=ut.readUshort(ot,at),at+=2,it==1||it==2||it==3||it==7||it==8&&ht.fmt<=2){var mt=ut.readUshort(ot,at);at+=2,ht.coverage=et._lctf.readCoverage(ot,mt+ft)}if(it==1&&ht.fmt==1){var gt=ut.readUshort(ot,at);at+=2;var yt=et._lctf.numOfOnes(gt);gt!=0&&(ht.pos=et.GPOS.readValueRecord(ot,at,gt))}else if(it==2&&ht.fmt>=1&&ht.fmt<=2){gt=ut.readUshort(ot,at),at+=2;var xt=ut.readUshort(ot,at);at+=2,yt=et._lctf.numOfOnes(gt);var St=et._lctf.numOfOnes(xt);if(ht.fmt==1){ht.pairsets=[];var Tt=ut.readUshort(ot,at);at+=2;for(var Mt=0;Mt<Tt;Mt++){var Pt=ft+ut.readUshort(ot,at);at+=2;var It=ut.readUshort(ot,Pt);Pt+=2;for(var kt=[],Dt=0;Dt<It;Dt++){var Nt=ut.readUshort(ot,Pt);Pt+=2,gt!=0&&(lt=et.GPOS.readValueRecord(ot,Pt,gt),Pt+=2*yt),xt!=0&&(dt=et.GPOS.readValueRecord(ot,Pt,xt),Pt+=2*St),kt.push({gid2:Nt,val1:lt,val2:dt})}ht.pairsets.push(kt)}}if(ht.fmt==2){var Gt=ut.readUshort(ot,at);at+=2;var Wt=ut.readUshort(ot,at);at+=2;var Ot=ut.readUshort(ot,at);at+=2;var Xt=ut.readUshort(ot,at);for(at+=2,ht.classDef1=et._lctf.readClassDef(ot,ft+Gt),ht.classDef2=et._lctf.readClassDef(ot,ft+Wt),ht.matrix=[],Mt=0;Mt<Ot;Mt++){var Et=[];for(Dt=0;Dt<Xt;Dt++){var lt=null,dt=null;gt!=0&&(lt=et.GPOS.readValueRecord(ot,at,gt),at+=2*yt),xt!=0&&(dt=et.GPOS.readValueRecord(ot,at,xt),at+=2*St),Et.push({val1:lt,val2:dt})}ht.matrix.push(Et)}}}else{if(it==9&&ht.fmt==1){var pt=ut.readUshort(ot,at);at+=2;var vt=ut.readUint(ot,at);if(at+=4,st.ltype==9)st.ltype=pt;else if(st.ltype!=pt)throw"invalid extension substitution";return et.GPOS.subt(ot,st.ltype,ft+vt)}console.debug("unsupported GPOS table LookupType",it,"format",ht.fmt)}return ht},et.GPOS.readValueRecord=function(ot,it,at){var st=et._bin,ut=[];return ut.push(1&at?st.readShort(ot,it):0),it+=1&at?2:0,ut.push(2&at?st.readShort(ot,it):0),it+=2&at?2:0,ut.push(4&at?st.readShort(ot,it):0),it+=4&at?2:0,ut.push(8&at?st.readShort(ot,it):0),it+=8&at?2:0,ut},et.GSUB={},et.GSUB.parse=function(ot,it,at,st){return et._lctf.parse(ot,it,at,st,et.GSUB.subt)},et.GSUB.subt=function(ot,it,at,st){var ut=et._bin,ft=at,ht={};if(ht.fmt=ut.readUshort(ot,at),at+=2,it!=1&&it!=4&&it!=5&&it!=6)return null;if(it==1||it==4||it==5&&ht.fmt<=2||it==6&&ht.fmt<=2){var mt=ut.readUshort(ot,at);at+=2,ht.coverage=et._lctf.readCoverage(ot,ft+mt)}if(it==1&&ht.fmt>=1&&ht.fmt<=2){if(ht.fmt==1)ht.delta=ut.readShort(ot,at),at+=2;else if(ht.fmt==2){var gt=ut.readUshort(ot,at);at+=2,ht.newg=ut.readUshorts(ot,at,gt),at+=2*ht.newg.length}}else if(it==4){ht.vals=[],gt=ut.readUshort(ot,at),at+=2;for(var yt=0;yt<gt;yt++){var xt=ut.readUshort(ot,at);at+=2,ht.vals.push(et.GSUB.readLigatureSet(ot,ft+xt))}}else if(it==5&&ht.fmt==2){if(ht.fmt==2){var St=ut.readUshort(ot,at);at+=2,ht.cDef=et._lctf.readClassDef(ot,ft+St),ht.scset=[];var Tt=ut.readUshort(ot,at);for(at+=2,yt=0;yt<Tt;yt++){var Mt=ut.readUshort(ot,at);at+=2,ht.scset.push(Mt==0?null:et.GSUB.readSubClassSet(ot,ft+Mt))}}}else if(it==6&&ht.fmt==3){if(ht.fmt==3){for(yt=0;yt<3;yt++){gt=ut.readUshort(ot,at),at+=2;for(var Pt=[],It=0;It<gt;It++)Pt.push(et._lctf.readCoverage(ot,ft+ut.readUshort(ot,at+2*It)));at+=2*gt,yt==0&&(ht.backCvg=Pt),yt==1&&(ht.inptCvg=Pt),yt==2&&(ht.ahedCvg=Pt)}gt=ut.readUshort(ot,at),at+=2,ht.lookupRec=et.GSUB.readSubstLookupRecords(ot,at,gt)}}else{if(it==7&&ht.fmt==1){var kt=ut.readUshort(ot,at);at+=2;var Dt=ut.readUint(ot,at);if(at+=4,st.ltype==9)st.ltype=kt;else if(st.ltype!=kt)throw"invalid extension substitution";return et.GSUB.subt(ot,st.ltype,ft+Dt)}console.debug("unsupported GSUB table LookupType",it,"format",ht.fmt)}return ht},et.GSUB.readSubClassSet=function(ot,it){var at=et._bin.readUshort,st=it,ut=[],ft=at(ot,it);it+=2;for(var ht=0;ht<ft;ht++){var mt=at(ot,it);it+=2,ut.push(et.GSUB.readSubClassRule(ot,st+mt))}return ut},et.GSUB.readSubClassRule=function(ot,it){var at=et._bin.readUshort,st={},ut=at(ot,it),ft=at(ot,it+=2);it+=2,st.input=[];for(var ht=0;ht<ut-1;ht++)st.input.push(at(ot,it)),it+=2;return st.substLookupRecords=et.GSUB.readSubstLookupRecords(ot,it,ft),st},et.GSUB.readSubstLookupRecords=function(ot,it,at){for(var st=et._bin.readUshort,ut=[],ft=0;ft<at;ft++)ut.push(st(ot,it),st(ot,it+2)),it+=4;return ut},et.GSUB.readChainSubClassSet=function(ot,it){var at=et._bin,st=it,ut=[],ft=at.readUshort(ot,it);it+=2;for(var ht=0;ht<ft;ht++){var mt=at.readUshort(ot,it);it+=2,ut.push(et.GSUB.readChainSubClassRule(ot,st+mt))}return ut},et.GSUB.readChainSubClassRule=function(ot,it){for(var at=et._bin,st={},ut=["backtrack","input","lookahead"],ft=0;ft<ut.length;ft++){var ht=at.readUshort(ot,it);it+=2,ft==1&&ht--,st[ut[ft]]=at.readUshorts(ot,it,ht),it+=2*st[ut[ft]].length}return ht=at.readUshort(ot,it),it+=2,st.subst=at.readUshorts(ot,it,2*ht),it+=2*st.subst.length,st},et.GSUB.readLigatureSet=function(ot,it){var at=et._bin,st=it,ut=[],ft=at.readUshort(ot,it);it+=2;for(var ht=0;ht<ft;ht++){var mt=at.readUshort(ot,it);it+=2,ut.push(et.GSUB.readLigature(ot,st+mt))}return ut},et.GSUB.readLigature=function(ot,it){var at=et._bin,st={chain:[]};st.nglyph=at.readUshort(ot,it),it+=2;var ut=at.readUshort(ot,it);it+=2;for(var ft=0;ft<ut-1;ft++)st.chain.push(at.readUshort(ot,it)),it+=2;return st},et.head={},et.head.parse=function(ot,it,at){var st=et._bin,ut={};return st.readFixed(ot,it),it+=4,ut.fontRevision=st.readFixed(ot,it),it+=4,st.readUint(ot,it),it+=4,st.readUint(ot,it),it+=4,ut.flags=st.readUshort(ot,it),it+=2,ut.unitsPerEm=st.readUshort(ot,it),it+=2,ut.created=st.readUint64(ot,it),it+=8,ut.modified=st.readUint64(ot,it),it+=8,ut.xMin=st.readShort(ot,it),it+=2,ut.yMin=st.readShort(ot,it),it+=2,ut.xMax=st.readShort(ot,it),it+=2,ut.yMax=st.readShort(ot,it),it+=2,ut.macStyle=st.readUshort(ot,it),it+=2,ut.lowestRecPPEM=st.readUshort(ot,it),it+=2,ut.fontDirectionHint=st.readShort(ot,it),it+=2,ut.indexToLocFormat=st.readShort(ot,it),it+=2,ut.glyphDataFormat=st.readShort(ot,it),it+=2,ut},et.hhea={},et.hhea.parse=function(ot,it,at){var st=et._bin,ut={};return st.readFixed(ot,it),it+=4,ut.ascender=st.readShort(ot,it),it+=2,ut.descender=st.readShort(ot,it),it+=2,ut.lineGap=st.readShort(ot,it),it+=2,ut.advanceWidthMax=st.readUshort(ot,it),it+=2,ut.minLeftSideBearing=st.readShort(ot,it),it+=2,ut.minRightSideBearing=st.readShort(ot,it),it+=2,ut.xMaxExtent=st.readShort(ot,it),it+=2,ut.caretSlopeRise=st.readShort(ot,it),it+=2,ut.caretSlopeRun=st.readShort(ot,it),it+=2,ut.caretOffset=st.readShort(ot,it),it+=2,it+=8,ut.metricDataFormat=st.readShort(ot,it),it+=2,ut.numberOfHMetrics=st.readUshort(ot,it),it+=2,ut},et.hmtx={},et.hmtx.parse=function(ot,it,at,st){for(var ut=et._bin,ft={aWidth:[],lsBearing:[]},ht=0,mt=0,gt=0;gt<st.maxp.numGlyphs;gt++)gt<st.hhea.numberOfHMetrics&&(ht=ut.readUshort(ot,it),it+=2,mt=ut.readShort(ot,it),it+=2),ft.aWidth.push(ht),ft.lsBearing.push(mt);return ft},et.kern={},et.kern.parse=function(ot,it,at,st){var ut=et._bin,ft=ut.readUshort(ot,it);if(it+=2,ft==1)return et.kern.parseV1(ot,it-2,at,st);var ht=ut.readUshort(ot,it);it+=2;for(var mt={glyph1:[],rval:[]},gt=0;gt<ht;gt++){it+=2,at=ut.readUshort(ot,it),it+=2;var yt=ut.readUshort(ot,it);it+=2;var xt=yt>>>8;if((xt&=15)!=0)throw"unknown kern table format: "+xt;it=et.kern.readFormat0(ot,it,mt)}return mt},et.kern.parseV1=function(ot,it,at,st){var ut=et._bin;ut.readFixed(ot,it),it+=4;var ft=ut.readUint(ot,it);it+=4;for(var ht={glyph1:[],rval:[]},mt=0;mt<ft;mt++){ut.readUint(ot,it),it+=4;var gt=ut.readUshort(ot,it);it+=2,ut.readUshort(ot,it),it+=2;var yt=gt>>>8;if((yt&=15)!=0)throw"unknown kern table format: "+yt;it=et.kern.readFormat0(ot,it,ht)}return ht},et.kern.readFormat0=function(ot,it,at){var st=et._bin,ut=-1,ft=st.readUshort(ot,it);it+=2,st.readUshort(ot,it),it+=2,st.readUshort(ot,it),it+=2,st.readUshort(ot,it),it+=2;for(var ht=0;ht<ft;ht++){var mt=st.readUshort(ot,it);it+=2;var gt=st.readUshort(ot,it);it+=2;var yt=st.readShort(ot,it);it+=2,mt!=ut&&(at.glyph1.push(mt),at.rval.push({glyph2:[],vals:[]}));var xt=at.rval[at.rval.length-1];xt.glyph2.push(gt),xt.vals.push(yt),ut=mt}return it},et.loca={},et.loca.parse=function(ot,it,at,st){var ut=et._bin,ft=[],ht=st.head.indexToLocFormat,mt=st.maxp.numGlyphs+1;if(ht==0)for(var gt=0;gt<mt;gt++)ft.push(ut.readUshort(ot,it+(gt<<1))<<1);if(ht==1)for(gt=0;gt<mt;gt++)ft.push(ut.readUint(ot,it+(gt<<2)));return ft},et.maxp={},et.maxp.parse=function(ot,it,at){var st=et._bin,ut={},ft=st.readUint(ot,it);return it+=4,ut.numGlyphs=st.readUshort(ot,it),it+=2,ft==65536&&(ut.maxPoints=st.readUshort(ot,it),it+=2,ut.maxContours=st.readUshort(ot,it),it+=2,ut.maxCompositePoints=st.readUshort(ot,it),it+=2,ut.maxCompositeContours=st.readUshort(ot,it),it+=2,ut.maxZones=st.readUshort(ot,it),it+=2,ut.maxTwilightPoints=st.readUshort(ot,it),it+=2,ut.maxStorage=st.readUshort(ot,it),it+=2,ut.maxFunctionDefs=st.readUshort(ot,it),it+=2,ut.maxInstructionDefs=st.readUshort(ot,it),it+=2,ut.maxStackElements=st.readUshort(ot,it),it+=2,ut.maxSizeOfInstructions=st.readUshort(ot,it),it+=2,ut.maxComponentElements=st.readUshort(ot,it),it+=2,ut.maxComponentDepth=st.readUshort(ot,it),it+=2),ut},et.name={},et.name.parse=function(ot,it,at){var st=et._bin,ut={};st.readUshort(ot,it),it+=2;var ft=st.readUshort(ot,it);it+=2,st.readUshort(ot,it);for(var ht,mt=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],gt=it+=2,yt=0;yt<ft;yt++){var xt=st.readUshort(ot,it);it+=2;var St=st.readUshort(ot,it);it+=2;var Tt=st.readUshort(ot,it);it+=2;var Mt=st.readUshort(ot,it);it+=2;var Pt=st.readUshort(ot,it);it+=2;var It=st.readUshort(ot,it);it+=2;var kt,Dt=mt[Mt],Nt=gt+12*ft+It;if(xt==0)kt=st.readUnicode(ot,Nt,Pt/2);else if(xt==3&&St==0)kt=st.readUnicode(ot,Nt,Pt/2);else if(St==0)kt=st.readASCII(ot,Nt,Pt);else if(St==1)kt=st.readUnicode(ot,Nt,Pt/2);else if(St==3)kt=st.readUnicode(ot,Nt,Pt/2);else{if(xt!=1)throw"unknown encoding "+St+", platformID: "+xt;kt=st.readASCII(ot,Nt,Pt),console.debug("reading unknown MAC encoding "+St+" as ASCII")}var Gt="p"+xt+","+Tt.toString(16);ut[Gt]==null&&(ut[Gt]={}),ut[Gt][Dt!==void 0?Dt:Mt]=kt,ut[Gt]._lang=Tt}for(var Wt in ut)if(ut[Wt].postScriptName!=null&&ut[Wt]._lang==1033)return ut[Wt];for(var Wt in ut)if(ut[Wt].postScriptName!=null&&ut[Wt]._lang==0)return ut[Wt];for(var Wt in ut)if(ut[Wt].postScriptName!=null&&ut[Wt]._lang==3084)return ut[Wt];for(var Wt in ut)if(ut[Wt].postScriptName!=null)return ut[Wt];for(var Wt in ut){ht=Wt;break}return console.debug("returning name table with languageID "+ut[ht]._lang),ut[ht]},et["OS/2"]={},et["OS/2"].parse=function(ot,it,at){var st=et._bin.readUshort(ot,it);it+=2;var ut={};if(st==0)et["OS/2"].version0(ot,it,ut);else if(st==1)et["OS/2"].version1(ot,it,ut);else if(st==2||st==3||st==4)et["OS/2"].version2(ot,it,ut);else{if(st!=5)throw"unknown OS/2 table version: "+st;et["OS/2"].version5(ot,it,ut)}return ut},et["OS/2"].version0=function(ot,it,at){var st=et._bin;return at.xAvgCharWidth=st.readShort(ot,it),it+=2,at.usWeightClass=st.readUshort(ot,it),it+=2,at.usWidthClass=st.readUshort(ot,it),it+=2,at.fsType=st.readUshort(ot,it),it+=2,at.ySubscriptXSize=st.readShort(ot,it),it+=2,at.ySubscriptYSize=st.readShort(ot,it),it+=2,at.ySubscriptXOffset=st.readShort(ot,it),it+=2,at.ySubscriptYOffset=st.readShort(ot,it),it+=2,at.ySuperscriptXSize=st.readShort(ot,it),it+=2,at.ySuperscriptYSize=st.readShort(ot,it),it+=2,at.ySuperscriptXOffset=st.readShort(ot,it),it+=2,at.ySuperscriptYOffset=st.readShort(ot,it),it+=2,at.yStrikeoutSize=st.readShort(ot,it),it+=2,at.yStrikeoutPosition=st.readShort(ot,it),it+=2,at.sFamilyClass=st.readShort(ot,it),it+=2,at.panose=st.readBytes(ot,it,10),it+=10,at.ulUnicodeRange1=st.readUint(ot,it),it+=4,at.ulUnicodeRange2=st.readUint(ot,it),it+=4,at.ulUnicodeRange3=st.readUint(ot,it),it+=4,at.ulUnicodeRange4=st.readUint(ot,it),it+=4,at.achVendID=[st.readInt8(ot,it),st.readInt8(ot,it+1),st.readInt8(ot,it+2),st.readInt8(ot,it+3)],it+=4,at.fsSelection=st.readUshort(ot,it),it+=2,at.usFirstCharIndex=st.readUshort(ot,it),it+=2,at.usLastCharIndex=st.readUshort(ot,it),it+=2,at.sTypoAscender=st.readShort(ot,it),it+=2,at.sTypoDescender=st.readShort(ot,it),it+=2,at.sTypoLineGap=st.readShort(ot,it),it+=2,at.usWinAscent=st.readUshort(ot,it),it+=2,at.usWinDescent=st.readUshort(ot,it),it+=2},et["OS/2"].version1=function(ot,it,at){var st=et._bin;return it=et["OS/2"].version0(ot,it,at),at.ulCodePageRange1=st.readUint(ot,it),it+=4,at.ulCodePageRange2=st.readUint(ot,it),it+=4},et["OS/2"].version2=function(ot,it,at){var st=et._bin;return it=et["OS/2"].version1(ot,it,at),at.sxHeight=st.readShort(ot,it),it+=2,at.sCapHeight=st.readShort(ot,it),it+=2,at.usDefault=st.readUshort(ot,it),it+=2,at.usBreak=st.readUshort(ot,it),it+=2,at.usMaxContext=st.readUshort(ot,it),it+=2},et["OS/2"].version5=function(ot,it,at){var st=et._bin;return it=et["OS/2"].version2(ot,it,at),at.usLowerOpticalPointSize=st.readUshort(ot,it),it+=2,at.usUpperOpticalPointSize=st.readUshort(ot,it),it+=2},et.post={},et.post.parse=function(ot,it,at){var st=et._bin,ut={};return ut.version=st.readFixed(ot,it),it+=4,ut.italicAngle=st.readFixed(ot,it),it+=4,ut.underlinePosition=st.readShort(ot,it),it+=2,ut.underlineThickness=st.readShort(ot,it),it+=2,ut},et==null&&(et={}),et.U==null&&(et.U={}),et.U.codeToGlyph=function(ot,it){var at=ot.cmap,st=-1;if(at.p0e4!=null?st=at.p0e4:at.p3e1!=null?st=at.p3e1:at.p1e0!=null?st=at.p1e0:at.p0e3!=null&&(st=at.p0e3),st==-1)throw"no familiar platform and encoding!";var ut=at.tables[st];if(ut.format==0)return it>=ut.map.length?0:ut.map[it];if(ut.format==4){for(var ft=-1,ht=0;ht<ut.endCount.length;ht++)if(it<=ut.endCount[ht]){ft=ht;break}return ft==-1||ut.startCount[ft]>it?0:65535&(ut.idRangeOffset[ft]!=0?ut.glyphIdArray[it-ut.startCount[ft]+(ut.idRangeOffset[ft]>>1)-(ut.idRangeOffset.length-ft)]:it+ut.idDelta[ft])}if(ut.format==12){if(it>ut.groups[ut.groups.length-1][1])return 0;for(ht=0;ht<ut.groups.length;ht++){var mt=ut.groups[ht];if(mt[0]<=it&&it<=mt[1])return mt[2]+(it-mt[0])}return 0}throw"unknown cmap table format "+ut.format},et.U.glyphToPath=function(ot,it){var at={cmds:[],crds:[]};if(ot.SVG&&ot.SVG.entries[it]){var st=ot.SVG.entries[it];return st==null?at:(typeof st=="string"&&(st=et.SVG.toPath(st),ot.SVG.entries[it]=st),st)}if(ot.CFF){var ut={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:ot.CFF.Private?ot.CFF.Private.defaultWidthX:0,open:!1},ft=ot.CFF,ht=ot.CFF.Private;if(ft.ROS){for(var mt=0;ft.FDSelect[mt+2]<=it;)mt+=2;ht=ft.FDArray[ft.FDSelect[mt+1]].Private}et.U._drawCFF(ot.CFF.CharStrings[it],ut,ft,ht,at)}else ot.glyf&&et.U._drawGlyf(it,ot,at);return at},et.U._drawGlyf=function(ot,it,at){var st=it.glyf[ot];st==null&&(st=it.glyf[ot]=et.glyf._parseGlyf(it,ot)),st!=null&&(st.noc>-1?et.U._simpleGlyph(st,at):et.U._compoGlyph(st,it,at))},et.U._simpleGlyph=function(ot,it){for(var at=0;at<ot.noc;at++){for(var st=at==0?0:ot.endPts[at-1]+1,ut=ot.endPts[at],ft=st;ft<=ut;ft++){var ht=ft==st?ut:ft-1,mt=ft==ut?st:ft+1,gt=1&ot.flags[ft],yt=1&ot.flags[ht],xt=1&ot.flags[mt],St=ot.xs[ft],Tt=ot.ys[ft];if(ft==st)if(gt){if(!yt){et.U.P.moveTo(it,St,Tt);continue}et.U.P.moveTo(it,ot.xs[ht],ot.ys[ht])}else yt?et.U.P.moveTo(it,ot.xs[ht],ot.ys[ht]):et.U.P.moveTo(it,(ot.xs[ht]+St)/2,(ot.ys[ht]+Tt)/2);gt?yt&&et.U.P.lineTo(it,St,Tt):xt?et.U.P.qcurveTo(it,St,Tt,ot.xs[mt],ot.ys[mt]):et.U.P.qcurveTo(it,St,Tt,(St+ot.xs[mt])/2,(Tt+ot.ys[mt])/2)}et.U.P.closePath(it)}},et.U._compoGlyph=function(ot,it,at){for(var st=0;st<ot.parts.length;st++){var ut={cmds:[],crds:[]},ft=ot.parts[st];et.U._drawGlyf(ft.glyphIndex,it,ut);for(var ht=ft.m,mt=0;mt<ut.crds.length;mt+=2){var gt=ut.crds[mt],yt=ut.crds[mt+1];at.crds.push(gt*ht.a+yt*ht.b+ht.tx),at.crds.push(gt*ht.c+yt*ht.d+ht.ty)}for(mt=0;mt<ut.cmds.length;mt++)at.cmds.push(ut.cmds[mt])}},et.U._getGlyphClass=function(ot,it){var at=et._lctf.getInterval(it,ot);return at==-1?0:it[at+2]},et.U.getPairAdjustment=function(ot,it,at){var st=!1;if(ot.GPOS)for(var ut=ot.GPOS,ft=ut.lookupList,ht=ut.featureList,mt=[],gt=0;gt<ht.length;gt++){var yt=ht[gt];if(yt.tag=="kern"){st=!0;for(var xt=0;xt<yt.tab.length;xt++)if(!mt[yt.tab[xt]]){mt[yt.tab[xt]]=!0;for(var St=ft[yt.tab[xt]],Tt=0;Tt<St.tabs.length;Tt++)if(St.tabs[Tt]!=null){var Mt,Pt=St.tabs[Tt];if((!Pt.coverage||(Mt=et._lctf.coverageIndex(Pt.coverage,it))!=-1)&&St.ltype!=1){if(St.ltype==2){var It=null;if(Pt.fmt==1){var kt=Pt.pairsets[Mt];for(gt=0;gt<kt.length;gt++)kt[gt].gid2==at&&(It=kt[gt])}else if(Pt.fmt==2){var Dt=et.U._getGlyphClass(it,Pt.classDef1),Nt=et.U._getGlyphClass(at,Pt.classDef2);It=Pt.matrix[Dt][Nt]}if(It){var Gt=0;return It.val1&&It.val1[2]&&(Gt+=It.val1[2]),It.val2&&It.val2[0]&&(Gt+=It.val2[0]),Gt}}}}}}}if(ot.kern&&!st){var Wt=ot.kern.glyph1.indexOf(it);if(Wt!=-1){var Ot=ot.kern.rval[Wt].glyph2.indexOf(at);if(Ot!=-1)return ot.kern.rval[Wt].vals[Ot]}}return 0},et.U._applySubs=function(ot,it,at,st){for(var ut=ot.length-it-1,ft=0;ft<at.tabs.length;ft++)if(at.tabs[ft]!=null){var ht,mt=at.tabs[ft];if(!mt.coverage||(ht=et._lctf.coverageIndex(mt.coverage,ot[it]))!=-1){if(at.ltype==1)ot[it],mt.fmt==1?ot[it]=ot[it]+mt.delta:ot[it]=mt.newg[ht];else if(at.ltype==4)for(var gt=mt.vals[ht],yt=0;yt<gt.length;yt++){var xt=gt[yt],St=xt.chain.length;if(!(St>ut)){for(var Tt=!0,Mt=0,Pt=0;Pt<St;Pt++){for(;ot[it+Mt+(1+Pt)]==-1;)Mt++;xt.chain[Pt]!=ot[it+Mt+(1+Pt)]&&(Tt=!1)}if(Tt){for(ot[it]=xt.nglyph,Pt=0;Pt<St+Mt;Pt++)ot[it+Pt+1]=-1;break}}}else if(at.ltype==5&&mt.fmt==2)for(var It=et._lctf.getInterval(mt.cDef,ot[it]),kt=mt.cDef[It+2],Dt=mt.scset[kt],Nt=0;Nt<Dt.length;Nt++){var Gt=Dt[Nt],Wt=Gt.input;if(!(Wt.length>ut)){for(Tt=!0,Pt=0;Pt<Wt.length;Pt++){var Ot=et._lctf.getInterval(mt.cDef,ot[it+1+Pt]);if(It==-1&&mt.cDef[Ot+2]!=Wt[Pt]){Tt=!1;break}}if(Tt){var Xt=Gt.substLookupRecords;for(yt=0;yt<Xt.length;yt+=2)Xt[yt],Xt[yt+1]}}}else if(at.ltype==6&&mt.fmt==3){if(!et.U._glsCovered(ot,mt.backCvg,it-mt.backCvg.length)||!et.U._glsCovered(ot,mt.inptCvg,it)||!et.U._glsCovered(ot,mt.ahedCvg,it+mt.inptCvg.length))continue;var Et=mt.lookupRec;for(Nt=0;Nt<Et.length;Nt+=2){It=Et[Nt];var lt=st[Et[Nt+1]];et.U._applySubs(ot,it+It,lt,st)}}}}},et.U._glsCovered=function(ot,it,at){for(var st=0;st<it.length;st++)if(et._lctf.coverageIndex(it[st],ot[at+st])==-1)return!1;return!0},et.U.glyphsToPath=function(ot,it,at){for(var st={cmds:[],crds:[]},ut=0,ft=0;ft<it.length;ft++){var ht=it[ft];if(ht!=-1){for(var mt=ft<it.length-1&&it[ft+1]!=-1?it[ft+1]:0,gt=et.U.glyphToPath(ot,ht),yt=0;yt<gt.crds.length;yt+=2)st.crds.push(gt.crds[yt]+ut),st.crds.push(gt.crds[yt+1]);for(at&&st.cmds.push(at),yt=0;yt<gt.cmds.length;yt++)st.cmds.push(gt.cmds[yt]);at&&st.cmds.push("X"),ut+=ot.hmtx.aWidth[ht],ft<it.length-1&&(ut+=et.U.getPairAdjustment(ot,ht,mt))}}return st},et.U.P={},et.U.P.moveTo=function(ot,it,at){ot.cmds.push("M"),ot.crds.push(it,at)},et.U.P.lineTo=function(ot,it,at){ot.cmds.push("L"),ot.crds.push(it,at)},et.U.P.curveTo=function(ot,it,at,st,ut,ft,ht){ot.cmds.push("C"),ot.crds.push(it,at,st,ut,ft,ht)},et.U.P.qcurveTo=function(ot,it,at,st,ut){ot.cmds.push("Q"),ot.crds.push(it,at,st,ut)},et.U.P.closePath=function(ot){ot.cmds.push("Z")},et.U._drawCFF=function(ot,it,at,st,ut){for(var ft=it.stack,ht=it.nStems,mt=it.haveWidth,gt=it.width,yt=it.open,xt=0,St=it.x,Tt=it.y,Mt=0,Pt=0,It=0,kt=0,Dt=0,Nt=0,Gt=0,Wt=0,Ot=0,Xt=0,Et={val:0,size:0};xt<ot.length;){et.CFF.getCharString(ot,xt,Et);var lt=Et.val;if(xt+=Et.size,lt=="o1"||lt=="o18")ft.length%2!=0&&!mt&&(gt=ft.shift()+st.nominalWidthX),ht+=ft.length>>1,ft.length=0,mt=!0;else if(lt=="o3"||lt=="o23")ft.length%2!=0&&!mt&&(gt=ft.shift()+st.nominalWidthX),ht+=ft.length>>1,ft.length=0,mt=!0;else if(lt=="o4")ft.length>1&&!mt&&(gt=ft.shift()+st.nominalWidthX,mt=!0),yt&&et.U.P.closePath(ut),Tt+=ft.pop(),et.U.P.moveTo(ut,St,Tt),yt=!0;else if(lt=="o5")for(;ft.length>0;)St+=ft.shift(),Tt+=ft.shift(),et.U.P.lineTo(ut,St,Tt);else if(lt=="o6"||lt=="o7")for(var dt=ft.length,pt=lt=="o6",vt=0;vt<dt;vt++){var wt=ft.shift();pt?St+=wt:Tt+=wt,pt=!pt,et.U.P.lineTo(ut,St,Tt)}else if(lt=="o8"||lt=="o24"){dt=ft.length;for(var At=0;At+6<=dt;)Mt=St+ft.shift(),Pt=Tt+ft.shift(),It=Mt+ft.shift(),kt=Pt+ft.shift(),St=It+ft.shift(),Tt=kt+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,St,Tt),At+=6;lt=="o24"&&(St+=ft.shift(),Tt+=ft.shift(),et.U.P.lineTo(ut,St,Tt))}else{if(lt=="o11")break;if(lt=="o1234"||lt=="o1235"||lt=="o1236"||lt=="o1237")lt=="o1234"&&(Pt=Tt,It=(Mt=St+ft.shift())+ft.shift(),Xt=kt=Pt+ft.shift(),Nt=kt,Wt=Tt,St=(Gt=(Dt=(Ot=It+ft.shift())+ft.shift())+ft.shift())+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,Ot,Xt),et.U.P.curveTo(ut,Dt,Nt,Gt,Wt,St,Tt)),lt=="o1235"&&(Mt=St+ft.shift(),Pt=Tt+ft.shift(),It=Mt+ft.shift(),kt=Pt+ft.shift(),Ot=It+ft.shift(),Xt=kt+ft.shift(),Dt=Ot+ft.shift(),Nt=Xt+ft.shift(),Gt=Dt+ft.shift(),Wt=Nt+ft.shift(),St=Gt+ft.shift(),Tt=Wt+ft.shift(),ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,Ot,Xt),et.U.P.curveTo(ut,Dt,Nt,Gt,Wt,St,Tt)),lt=="o1236"&&(Mt=St+ft.shift(),Pt=Tt+ft.shift(),It=Mt+ft.shift(),Xt=kt=Pt+ft.shift(),Nt=kt,Gt=(Dt=(Ot=It+ft.shift())+ft.shift())+ft.shift(),Wt=Nt+ft.shift(),St=Gt+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,Ot,Xt),et.U.P.curveTo(ut,Dt,Nt,Gt,Wt,St,Tt)),lt=="o1237"&&(Mt=St+ft.shift(),Pt=Tt+ft.shift(),It=Mt+ft.shift(),kt=Pt+ft.shift(),Ot=It+ft.shift(),Xt=kt+ft.shift(),Dt=Ot+ft.shift(),Nt=Xt+ft.shift(),Gt=Dt+ft.shift(),Wt=Nt+ft.shift(),Math.abs(Gt-St)>Math.abs(Wt-Tt)?St=Gt+ft.shift():Tt=Wt+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,Ot,Xt),et.U.P.curveTo(ut,Dt,Nt,Gt,Wt,St,Tt));else if(lt=="o14"){if(ft.length>0&&!mt&&(gt=ft.shift()+at.nominalWidthX,mt=!0),ft.length==4){var Rt=ft.shift(),bt=ft.shift(),ct=ft.shift(),_t=ft.shift(),Lt=et.CFF.glyphBySE(at,ct),Ft=et.CFF.glyphBySE(at,_t);et.U._drawCFF(at.CharStrings[Lt],it,at,st,ut),it.x=Rt,it.y=bt,et.U._drawCFF(at.CharStrings[Ft],it,at,st,ut)}yt&&(et.U.P.closePath(ut),yt=!1)}else if(lt=="o19"||lt=="o20")ft.length%2!=0&&!mt&&(gt=ft.shift()+st.nominalWidthX),ht+=ft.length>>1,ft.length=0,mt=!0,xt+=ht+7>>3;else if(lt=="o21")ft.length>2&&!mt&&(gt=ft.shift()+st.nominalWidthX,mt=!0),Tt+=ft.pop(),St+=ft.pop(),yt&&et.U.P.closePath(ut),et.U.P.moveTo(ut,St,Tt),yt=!0;else if(lt=="o22")ft.length>1&&!mt&&(gt=ft.shift()+st.nominalWidthX,mt=!0),St+=ft.pop(),yt&&et.U.P.closePath(ut),et.U.P.moveTo(ut,St,Tt),yt=!0;else if(lt=="o25"){for(;ft.length>6;)St+=ft.shift(),Tt+=ft.shift(),et.U.P.lineTo(ut,St,Tt);Mt=St+ft.shift(),Pt=Tt+ft.shift(),It=Mt+ft.shift(),kt=Pt+ft.shift(),St=It+ft.shift(),Tt=kt+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,St,Tt)}else if(lt=="o26")for(ft.length%2&&(St+=ft.shift());ft.length>0;)Mt=St,Pt=Tt+ft.shift(),St=It=Mt+ft.shift(),Tt=(kt=Pt+ft.shift())+ft.shift(),et.U.P.curveTo(ut,Mt,Pt,It,kt,St,Tt);else if(lt=="o27")for(ft.length%2&&(Tt+=ft.shift());ft.length>0;)Pt=Tt,It=(Mt=St+ft.shift())+ft.shift(),kt=Pt+ft.shift(),St=It+ft.shift(),Tt=kt,et.U.P.curveTo(ut,Mt,Pt,It,kt,St,Tt);else if(lt=="o10"||lt=="o29"){var jt=lt=="o10"?st:at;if(ft.length==0)console.debug("error: empty stack");else{var Zt=ft.pop(),Kt=jt.Subrs[Zt+jt.Bias];it.x=St,it.y=Tt,it.nStems=ht,it.haveWidth=mt,it.width=gt,it.open=yt,et.U._drawCFF(Kt,it,at,st,ut),St=it.x,Tt=it.y,ht=it.nStems,mt=it.haveWidth,gt=it.width,yt=it.open}}else if(lt=="o30"||lt=="o31"){var zt=ft.length,Vt=(At=0,lt=="o31");for(At+=zt-(dt=-3&zt);At<dt;)Vt?(Pt=Tt,It=(Mt=St+ft.shift())+ft.shift(),Tt=(kt=Pt+ft.shift())+ft.shift(),dt-At==5?(St=It+ft.shift(),At++):St=It,Vt=!1):(Mt=St,Pt=Tt+ft.shift(),It=Mt+ft.shift(),kt=Pt+ft.shift(),St=It+ft.shift(),dt-At==5?(Tt=kt+ft.shift(),At++):Tt=kt,Vt=!0),et.U.P.curveTo(ut,Mt,Pt,It,kt,St,Tt),At+=4}else{if((lt+"").charAt(0)=="o")throw console.debug("Unknown operation: "+lt,ot),lt;ft.push(lt)}}}it.x=St,it.y=Tt,it.nStems=ht,it.haveWidth=mt,it.width=gt,it.open=yt};var tt=et,nt={Typr:tt};return rt.Typr=tt,rt.default=nt,Object.defineProperty(rt,"__esModule",{value:!0}),rt}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(rt){var et=Uint8Array,tt=Uint16Array,nt=Uint32Array,ot=new et([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),it=new et([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),at=new et([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),st=function(lt,dt){for(var pt=new tt(31),vt=0;vt<31;++vt)pt[vt]=dt+=1<<lt[vt-1];var wt=new nt(pt[30]);for(vt=1;vt<30;++vt)for(var At=pt[vt];At<pt[vt+1];++At)wt[At]=At-pt[vt]<<5|vt;return[pt,wt]},ut=st(ot,2),ft=ut[0],ht=ut[1];ft[28]=258,ht[258]=28;for(var mt=st(it,0)[0],gt=new tt(32768),yt=0;yt<32768;++yt){var xt=(43690&yt)>>>1|(21845&yt)<<1;xt=(61680&(xt=(52428&xt)>>>2|(13107&xt)<<2))>>>4|(3855&xt)<<4,gt[yt]=((65280&xt)>>>8|(255&xt)<<8)>>>1}var St=function(lt,dt,pt){for(var vt=lt.length,wt=0,At=new tt(dt);wt<vt;++wt)++At[lt[wt]-1];var Rt,bt=new tt(dt);for(wt=0;wt<dt;++wt)bt[wt]=bt[wt-1]+At[wt-1]<<1;if(pt){Rt=new tt(1<<dt);var ct=15-dt;for(wt=0;wt<vt;++wt)if(lt[wt])for(var _t=wt<<4|lt[wt],Lt=dt-lt[wt],Ft=bt[lt[wt]-1]++<<Lt,jt=Ft|(1<<Lt)-1;Ft<=jt;++Ft)Rt[gt[Ft]>>>ct]=_t}else for(Rt=new tt(vt),wt=0;wt<vt;++wt)lt[wt]&&(Rt[wt]=gt[bt[lt[wt]-1]++]>>>15-lt[wt]);return Rt},Tt=new et(288);for(yt=0;yt<144;++yt)Tt[yt]=8;for(yt=144;yt<256;++yt)Tt[yt]=9;for(yt=256;yt<280;++yt)Tt[yt]=7;for(yt=280;yt<288;++yt)Tt[yt]=8;var Mt=new et(32);for(yt=0;yt<32;++yt)Mt[yt]=5;var Pt=St(Tt,9,1),It=St(Mt,5,1),kt=function(lt){for(var dt=lt[0],pt=1;pt<lt.length;++pt)lt[pt]>dt&&(dt=lt[pt]);return dt},Dt=function(lt,dt,pt){var vt=dt/8|0;return(lt[vt]|lt[vt+1]<<8)>>(7&dt)&pt},Nt=function(lt,dt){var pt=dt/8|0;return(lt[pt]|lt[pt+1]<<8|lt[pt+2]<<16)>>(7&dt)},Gt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wt=function(lt,dt,pt){var vt=new Error(dt||Gt[lt]);if(vt.code=lt,Error.captureStackTrace&&Error.captureStackTrace(vt,Wt),!pt)throw vt;return vt},Ot=function(lt,dt,pt){var vt=lt.length;if(!vt||pt&&!pt.l&&vt<5)return dt||new et(0);var wt=!dt||pt,At=!pt||pt.i;pt||(pt={}),dt||(dt=new et(3*vt));var Rt,bt=function(Er){var _r=dt.length;if(Er>_r){var xr=new et(Math.max(2*_r,Er));xr.set(dt),dt=xr}},ct=pt.f||0,_t=pt.p||0,Lt=pt.b||0,Ft=pt.l,jt=pt.d,Zt=pt.m,Kt=pt.n,zt=8*vt;do{if(!Ft){pt.f=ct=Dt(lt,_t,1);var Vt=Dt(lt,_t+1,3);if(_t+=3,!Vt){var nr=lt[(br=((Rt=_t)/8|0)+(7&Rt&&1)+4)-4]|lt[br-3]<<8,or=br+nr;if(or>vt){At&&Wt(0);break}wt&&bt(Lt+nr),dt.set(lt.subarray(br,or),Lt),pt.b=Lt+=nr,pt.p=_t=8*or;continue}if(Vt==1)Ft=Pt,jt=It,Zt=9,Kt=5;else if(Vt==2){var rr=Dt(lt,_t,31)+257,$t=Dt(lt,_t+10,15)+4,ar=rr+Dt(lt,_t+5,31)+1;_t+=14;for(var wr=new et(ar),vr=new et(19),Qt=0;Qt<$t;++Qt)vr[at[Qt]]=Dt(lt,_t+3*Qt,7);_t+=3*$t;var Yt=kt(vr),Ht=(1<<Yt)-1,tr=St(vr,Yt,1);for(Qt=0;Qt<ar;){var br,gr=tr[Dt(lt,_t,Ht)];if(_t+=15&gr,(br=gr>>>4)<16)wr[Qt++]=br;else{var Sr=0,pr=0;for(br==16?(pr=3+Dt(lt,_t,3),_t+=2,Sr=wr[Qt-1]):br==17?(pr=3+Dt(lt,_t,7),_t+=3):br==18&&(pr=11+Dt(lt,_t,127),_t+=7);pr--;)wr[Qt++]=Sr}}var er=wr.subarray(0,rr),yr=wr.subarray(rr);Zt=kt(er),Kt=kt(yr),Ft=St(er,Zt,1),jt=St(yr,Kt,1)}else Wt(1);if(_t>zt){At&&Wt(0);break}}wt&&bt(Lt+131072);for(var Gr=(1<<Zt)-1,Mr=(1<<Kt)-1,Ar=_t;;Ar=_t){var an=(Sr=Ft[Nt(lt,_t)&Gr])>>>4;if((_t+=15&Sr)>zt){At&&Wt(0);break}if(Sr||Wt(2),an<256)dt[Lt++]=an;else{if(an==256){Ar=_t,Ft=null;break}var Br=an-254;if(an>264){var Dr=ot[Qt=an-257];Br=Dt(lt,_t,(1<<Dr)-1)+ft[Qt],_t+=Dr}var ln=jt[Nt(lt,_t)&Mr],Ir=ln>>>4;if(ln||Wt(3),_t+=15&ln,yr=mt[Ir],Ir>3&&(Dr=it[Ir],yr+=Nt(lt,_t)&(1<<Dr)-1,_t+=Dr),_t>zt){At&&Wt(0);break}wt&&bt(Lt+131072);for(var Tr=Lt+Br;Lt<Tr;Lt+=4)dt[Lt]=dt[Lt-yr],dt[Lt+1]=dt[Lt+1-yr],dt[Lt+2]=dt[Lt+2-yr],dt[Lt+3]=dt[Lt+3-yr];Lt=Tr}}pt.l=Ft,pt.p=Ar,pt.b=Lt,Ft&&(ct=1,pt.m=Zt,pt.d=jt,pt.n=Kt)}while(!ct);return Lt==dt.length?dt:function(Er,_r,xr){(_r==null||_r<0)&&(_r=0),(xr==null||xr>Er.length)&&(xr=Er.length);var Xr=new(Er instanceof tt?tt:Er instanceof nt?nt:et)(xr-_r);return Xr.set(Er.subarray(_r,xr)),Xr}(dt,0,Lt)},Xt=new et(0),Et=typeof TextDecoder<"u"&&new TextDecoder;try{Et.decode(Xt,{stream:!0})}catch{}return rt.convert_streams=function(lt){var dt=new DataView(lt),pt=0;function vt(){var rr=dt.getUint16(pt);return pt+=2,rr}function wt(){var rr=dt.getUint32(pt);return pt+=4,rr}function At(rr){nr.setUint16(or,rr),or+=2}function Rt(rr){nr.setUint32(or,rr),or+=4}for(var bt={signature:wt(),flavor:wt(),length:wt(),numTables:vt(),reserved:vt(),totalSfntSize:wt(),majorVersion:vt(),minorVersion:vt(),metaOffset:wt(),metaLength:wt(),metaOrigLength:wt(),privOffset:wt(),privLength:wt()},ct=0;Math.pow(2,ct)<=bt.numTables;)ct++;ct--;for(var _t=16*Math.pow(2,ct),Lt=16*bt.numTables-_t,Ft=12,jt=[],Zt=0;Zt<bt.numTables;Zt++)jt.push({tag:wt(),offset:wt(),compLength:wt(),origLength:wt(),origChecksum:wt()}),Ft+=16;var Kt,zt=new Uint8Array(12+16*jt.length+jt.reduce(function(rr,$t){return rr+$t.origLength+4},0)),Vt=zt.buffer,nr=new DataView(Vt),or=0;return Rt(bt.flavor),At(bt.numTables),At(_t),At(ct),At(Lt),jt.forEach(function(rr){Rt(rr.tag),Rt(rr.origChecksum),Rt(Ft),Rt(rr.origLength),rr.outOffset=Ft,(Ft+=rr.origLength)%4!=0&&(Ft+=4-Ft%4)}),jt.forEach(function(rr){var $t,ar=lt.slice(rr.offset,rr.offset+rr.compLength);if(rr.compLength!=rr.origLength){var wr=new Uint8Array(rr.origLength);$t=new Uint8Array(ar,2),Ot($t,wr)}else wr=new Uint8Array(ar);zt.set(wr,rr.outOffset);var vr=0;(Ft=rr.outOffset+rr.origLength)%4!=0&&(vr=4-Ft%4),zt.set(new Uint8Array(vr).buffer,rr.outOffset+rr.origLength),Kt=Ft+vr}),Vt.slice(0,Kt)},Object.defineProperty(rt,"__esModule",{value:!0}),rt}({}).convert_streams}function parserFactory(rt,et){const tt={M:2,L:2,Q:4,C:6,Z:0},nt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},ot=1,it=2,at=4,st=8,ut=16,ft=32;let ht;function mt(Dt){if(!ht){const Nt={R:it,L:ot,D:at,C:ut,U:ft,T:st};ht=new Map;for(let Gt in nt){let Wt=0;nt[Gt].split(",").forEach(Ot=>{let[Xt,Et]=Ot.split("+");Xt=parseInt(Xt,36),Et=Et?parseInt(Et,36):0,ht.set(Wt+=Xt,Nt[Gt]);for(let lt=Et;lt--;)ht.set(++Wt,Nt[Gt])})}}return ht.get(Dt)||ft}const gt=1,yt=2,xt=3,St=4,Tt=[null,"isol","init","fina","medi"];function Mt(Dt){const Nt=new Uint8Array(Dt.length);let Gt=ft,Wt=gt,Ot=-1;for(let Xt=0;Xt<Dt.length;Xt++){const Et=Dt.codePointAt(Xt);let lt=mt(Et)|0,dt=gt;lt&st||(Gt&(ot|at|ut)?lt&(it|at|ut)?(dt=xt,(Wt===gt||Wt===xt)&&Nt[Ot]++):lt&(ot|ft)&&(Wt===yt||Wt===St)&&Nt[Ot]--:Gt&(it|ft)&&(Wt===yt||Wt===St)&&Nt[Ot]--,Wt=Nt[Xt]=dt,Gt=lt,Ot=Xt,Et>65535&&Xt++)}return Nt}function Pt(Dt,Nt){const Gt=[];for(let Ot=0;Ot<Nt.length;Ot++){const Xt=Nt.codePointAt(Ot);Xt>65535&&Ot++,Gt.push(rt.U.codeToGlyph(Dt,Xt))}const Wt=Dt.GSUB;if(Wt){const{lookupList:Ot,featureList:Xt}=Wt;let Et;const lt=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,dt=[];Xt.forEach(pt=>{if(lt.test(pt.tag))for(let vt=0;vt<pt.tab.length;vt++){if(dt[pt.tab[vt]])continue;dt[pt.tab[vt]]=!0;const wt=Ot[pt.tab[vt]],At=/^(isol|init|fina|medi)$/.test(pt.tag);At&&!Et&&(Et=Mt(Nt));for(let Rt=0;Rt<Gt.length;Rt++)(!Et||!At||Tt[Et[Rt]]===pt.tag)&&rt.U._applySubs(Gt,Rt,wt,Ot)}})}return Gt}function It(...Dt){for(let Nt=0;Nt<Dt.length;Nt++)if(typeof Dt[Nt]=="number")return Dt[Nt]}function kt(Dt){const Nt=Object.create(null),Gt=Dt["OS/2"],Wt=Dt.hhea,Ot=Dt.head.unitsPerEm,Xt=It(Gt&&Gt.sTypoAscender,Wt&&Wt.ascender,Ot),Et={unitsPerEm:Ot,ascender:Xt,descender:It(Gt&&Gt.sTypoDescender,Wt&&Wt.descender,0),capHeight:It(Gt&&Gt.sCapHeight,Xt),xHeight:It(Gt&&Gt.sxHeight,Xt),lineGap:It(Gt&&Gt.sTypoLineGap,Wt&&Wt.lineGap),forEachGlyph(lt,dt,pt,vt){let wt=0;const At=1/Et.unitsPerEm*dt,Rt=Pt(Dt,lt);let bt=0,ct=-1;return Rt.forEach((_t,Lt)=>{if(_t!==-1){let Ft=Nt[_t];if(!Ft){const{cmds:jt,crds:Zt}=rt.U.glyphToPath(Dt,_t);let Kt="",zt=0;for(let $t=0,ar=jt.length;$t<ar;$t++){const wr=tt[jt[$t]];Kt+=jt[$t];for(let vr=1;vr<=wr;vr++)Kt+=(vr>1?",":"")+Zt[zt++]}let Vt,nr,or,rr;if(Zt.length){Vt=nr=1/0,or=rr=-1/0;for(let $t=0,ar=Zt.length;$t<ar;$t+=2){let wr=Zt[$t],vr=Zt[$t+1];wr<Vt&&(Vt=wr),vr<nr&&(nr=vr),wr>or&&(or=wr),vr>rr&&(rr=vr)}}else Vt=or=nr=rr=0;Ft=Nt[_t]={index:_t,advanceWidth:Dt.hmtx.aWidth[_t],xMin:Vt,yMin:nr,xMax:or,yMax:rr,path:Kt,pathCommandCount:jt.length}}ct!==-1&&(wt+=rt.U.getPairAdjustment(Dt,ct,_t)*At),vt.call(null,Ft,wt,bt),Ft.advanceWidth&&(wt+=Ft.advanceWidth*At),pt&&(wt+=pt*dt),ct=_t}bt+=lt.codePointAt(bt)>65535?2:1}),wt}};return Et}return function(Nt){const Gt=new Uint8Array(Nt,0,4),Wt=rt._bin.readASCII(Gt,0,4);if(Wt==="wOFF")Nt=et(Nt);else if(Wt==="wOF2")throw new Error("woff2 fonts not supported");return kt(rt.parse(Nt)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(rt,et,tt){const nt=rt(),ot=et();return tt(nt,ot)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(rt,et){rt=assign({},rt);const tt=now$1();if(rt.font=toAbsoluteURL(rt.font||CONFIG.defaultFontURL),rt.text=""+rt.text,rt.sdfGlyphSize=rt.sdfGlyphSize||CONFIG.sdfGlyphSize,rt.colorRanges!=null){let mt={};for(let gt in rt.colorRanges)if(rt.colorRanges.hasOwnProperty(gt)){let yt=rt.colorRanges[gt];typeof yt!="number"&&(yt=tempColor.set(yt).getHex()),mt[gt]=yt}rt.colorRanges=mt}Object.freeze(rt);const{textureWidth:nt,sdfExponent:ot}=CONFIG,{sdfGlyphSize:it}=rt,at=nt/it*4;let st=atlases[it];if(!st){const mt=document.createElement("canvas");mt.width=nt,mt.height=it*256/at,st=atlases[it]={glyphCount:0,sdfGlyphSize:it,sdfCanvas:mt,sdfTexture:new Texture(mt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},st.sdfTexture.generateMipmaps=!1,initContextLossHandling(st)}const{sdfTexture:ut,sdfCanvas:ft}=st;let ht=st.glyphsByFont.get(rt.font);ht||st.glyphsByFont.set(rt.font,ht=new Map),typesetInWorker(rt).then(mt=>{const{glyphIds:gt,glyphPositions:yt,fontSize:xt,unitsPerEm:St,timings:Tt}=mt,Mt=[],Pt=new Float32Array(gt.length*4),It=xt/St;let kt=0,Dt=0;const Nt=now$1();gt.forEach((Et,lt)=>{let dt=ht.get(Et);if(!dt){const{path:At,pathBounds:Rt}=mt.glyphData[Et],bt=Math.max(Rt[2]-Rt[0],Rt[3]-Rt[1])/it*(CONFIG.sdfMargin*it+.5),ct=st.glyphCount++,_t=[Rt[0]-bt,Rt[1]-bt,Rt[2]+bt,Rt[3]+bt];ht.set(Et,dt={path:At,atlasIndex:ct,sdfViewBox:_t}),Mt.push(dt)}const{sdfViewBox:pt}=dt,vt=yt[Dt++],wt=yt[Dt++];Pt[kt++]=vt+pt[0]*It,Pt[kt++]=wt+pt[1]*It,Pt[kt++]=vt+pt[2]*It,Pt[kt++]=wt+pt[3]*It,gt[lt]=dt.atlasIndex}),Tt.quads=(Tt.quads||0)+(now$1()-Nt);const Gt=now$1();Tt.sdf={};const Wt=ft.height,Ot=Math.ceil(st.glyphCount/at),Xt=Math.pow(2,Math.ceil(Math.log2(Ot*it)));Xt>Wt&&(console.info(`Increasing SDF texture size ${Wt}->${Xt}`),resizeWebGLCanvasWithoutClearing(ft,nt,Xt),ut.dispose()),Promise.all(Mt.map(Et=>generateGlyphSDF(Et,st,rt.gpuAccelerateSDF).then(({timing:lt})=>{Tt.sdf[Et.atlasIndex]=lt}))).then(()=>{Mt.length&&!st.contextLost&&(safariPre15Workaround(st),ut.needsUpdate=!0),Tt.sdfTotal=now$1()-Gt,Tt.total=now$1()-tt,et(Object.freeze({parameters:rt,sdfTexture:ut,sdfGlyphSize:it,sdfExponent:ot,glyphBounds:Pt,glyphAtlasIndices:gt,glyphColors:mt.glyphColors,caretPositions:mt.caretPositions,caretHeight:mt.caretHeight,chunkedBounds:mt.chunkedBounds,ascender:mt.ascender,descender:mt.descender,lineHeight:mt.lineHeight,capHeight:mt.capHeight,xHeight:mt.xHeight,topBaseline:mt.topBaseline,blockBounds:mt.blockBounds,visibleBounds:mt.visibleBounds,timings:mt.timings}))})}),Promise.resolve().then(()=>{st.contextLost||warmUpSDFCanvas(ft)})}function generateGlyphSDF({path:rt,atlasIndex:et,sdfViewBox:tt},{sdfGlyphSize:nt,sdfCanvas:ot,contextLost:it},at){if(it)return Promise.resolve({timing:-1});const{textureWidth:st,sdfExponent:ut}=CONFIG,ft=Math.max(tt[2]-tt[0],tt[3]-tt[1]),ht=Math.floor(et/4),mt=ht%(st/nt)*nt,gt=Math.floor(ht/(st/nt))*nt,yt=et%4;return generateSDF(nt,nt,rt,tt,ft,ut,ot,mt,gt,yt,at)}function initContextLossHandling(rt){const et=rt.sdfCanvas;et.addEventListener("webglcontextlost",tt=>{console.log("Context Lost",tt),tt.preventDefault(),rt.contextLost=!0}),et.addEventListener("webglcontextrestored",tt=>{console.log("Context Restored",tt),rt.contextLost=!1;const nt=[];rt.glyphsByFont.forEach(ot=>{ot.forEach(it=>{nt.push(generateGlyphSDF(it,rt,!0))})}),Promise.all(nt).then(()=>{safariPre15Workaround(rt),rt.sdfTexture.needsUpdate=!0})})}function preloadFont({font:rt,characters:et,sdfGlyphSize:tt},nt){let ot=Array.isArray(et)?et.join(`
`):""+et;getTextRenderInfo({font:rt,sdfGlyphSize:tt,text:ot},nt)}function assign(rt,et){for(let tt in et)et.hasOwnProperty(tt)&&(rt[tt]=et[tt]);return rt}let linkEl;function toAbsoluteURL(rt){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=rt,linkEl.href}function safariPre15Workaround(rt){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:et,sdfTexture:tt}=rt,{width:nt,height:ot}=et,it=rt.sdfCanvas.getContext("webgl");let at=tt.image.data;(!at||at.length!==nt*ot*4)&&(at=new Uint8Array(nt*ot*4),tt.image={width:nt,height:ot,data:at},tt.flipY=!1,tt.isDataTexture=!0),it.readPixels(0,0,nt,ot,it.RGBA,it.UNSIGNED_BYTE,at)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(rt,et,tt,nt){const{defaultFontURL:ot}=rt;return tt(et,nt(),{defaultFontURL:ot})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(rt){return function(et){return new Promise(tt=>{rt.typeset(et,tt)})}},getTransferables(rt){const et=[rt.glyphPositions.buffer,rt.glyphIds.buffer];return rt.caretPositions&&et.push(rt.caretPositions.buffer),rt.glyphColors&&et.push(rt.glyphColors.buffer),et}}),templateGeometries={};function getTemplateGeometry(rt){let et=templateGeometries[rt];if(!et){const tt=new PlaneGeometry(1,1,rt,rt),nt=tt.clone(),ot=tt.attributes,it=nt.attributes,at=new BufferGeometry,st=ot.uv.count;for(let ut=0;ut<st;ut++)it.position.array[ut*3]*=-1,it.normal.array[ut*3+2]*=-1;["position","normal","uv"].forEach(ut=>{at.setAttribute(ut,new Float32BufferAttribute([...ot[ut].array,...it[ut].array],ot[ut].itemSize))}),at.setIndex([...tt.index.array,...nt.index.array.map(ut=>ut+st)]),at.translate(.5,.5,0),et=templateGeometries[rt]=at}return et}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(et){const tt=this.getIndex().count;this.setDrawRange(et===BackSide?tt/2:0,et===DoubleSide?tt:tt/2)}set detail(et){if(et!==this._detail){this._detail=et,(typeof et!="number"||et<1)&&(et=1);let tt=getTemplateGeometry(et);["position","normal","uv"].forEach(nt=>{this.attributes[nt]=tt.attributes[nt].clone()}),this.setIndex(tt.getIndex().clone())}}get detail(){return this._detail}set curveRadius(et){et!==this._curveRadius&&(this._curveRadius=et,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(et,tt,nt,ot,it){updateBufferAttr(this,glyphBoundsAttrName,et,4),updateBufferAttr(this,glyphIndexAttrName,tt,1),updateBufferAttr(this,glyphColorAttrName,it,3),this._blockBounds=nt,this._chunkedBounds=ot,this.instanceCount=tt.length,this._updateBounds()}_updateBounds(){const et=this._blockBounds;if(et){const{curveRadius:tt,boundingBox:nt}=this;if(tt){const{PI:ot,floor:it,min:at,max:st,sin:ut,cos:ft}=Math,ht=ot/2,mt=ot*2,gt=Math.abs(tt),yt=et[0]/gt,xt=et[2]/gt,St=it((yt+ht)/mt)!==it((xt+ht)/mt)?-gt:at(ut(yt)*gt,ut(xt)*gt),Tt=it((yt-ht)/mt)!==it((xt-ht)/mt)?gt:st(ut(yt)*gt,ut(xt)*gt),Mt=it((yt+ot)/mt)!==it((xt+ot)/mt)?gt*2:st(gt-ft(yt)*gt,gt-ft(xt)*gt);nt.min.set(St,et[1],tt<0?-Mt:0),nt.max.set(Tt,et[3],tt<0?0:Mt)}else nt.min.set(et[0],et[1],0),nt.max.set(et[2],et[3],0);nt.getBoundingSphere(this.boundingSphere)}}applyClipRect(et){let tt=this.getAttribute(glyphIndexAttrName).count,nt=this._chunkedBounds;if(nt)for(let ot=nt.length;ot--;){tt=nt[ot].end;let it=nt[ot].rect;if(it[1]<et.w&&it[3]>et.y&&it[0]<et.z&&it[2]>et.x)break}this.instanceCount=tt}}function updateBufferAttr(rt,et,tt,nt){const ot=rt.getAttribute(et);tt?ot&&ot.array.length===tt.length?(ot.array.set(tt),ot.needsUpdate=!0):(rt.setAttribute(et,new InstancedBufferAttribute(tt,nt)),delete rt._maxInstanceCount,rt.dispose()):ot&&rt.deleteAttribute(et)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(rt){const et=createDerivedMaterial(rt,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:tt,fragmentShader:nt}){let ot=/\buniform\s+vec3\s+diffuse\b/;return ot.test(nt)&&(nt=nt.replace(ot,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),ot.test(tt)||(tt=tt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:tt,fragmentShader:nt}}});return et.transparent=!0,Object.defineProperties(et,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),et}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(rt){return Array.isArray(rt)?rt[0]:rt}let getFlatRaycastMesh=()=>{const rt=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>rt,rt},getCurvedRaycastMesh=()=>{const rt=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>rt,rt};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const et=new GlyphsGeometry;super(et,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(et){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(et):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},tt=>{this._isSyncing=!1,this._textRenderInfo=tt,this.geometry.updateGlyphs(tt.glyphBounds,tt.glyphAtlasIndices,tt.blockBounds,tt.chunkedBounds,tt.glyphColors);const nt=this._queuedSyncs;nt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{nt.forEach(ot=>ot&&ot())})),this.dispatchEvent(syncCompleteEvent),et&&et()})))}onBeforeRender(et,tt,nt,ot,it,at){this.sync(),it.isTroikaTextMaterial&&this._prepareForRender(it),it._hadOwnSide=it.hasOwnProperty("side"),this.geometry.setSide(it._actualSide=it.side),it.side=FrontSide}onAfterRender(et,tt,nt,ot,it,at){it._hadOwnSide?it.side=it._actualSide:delete it.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let et=this._derivedMaterial;const tt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!et||et.baseMaterial!==tt)&&(et=this._derivedMaterial=createTextDerivedMaterial(tt),tt.addEventListener("dispose",function nt(){tt.removeEventListener("dispose",nt),et.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let nt=et._outlineMtl;return nt||(nt=et._outlineMtl=Object.create(et,{id:{value:et.id+.1}}),nt.isTextOutlineMaterial=!0,nt.depthWrite=!1,nt.map=null,et.addEventListener("dispose",function ot(){et.removeEventListener("dispose",ot),nt.dispose()})),[nt,et]}else return et}set material(et){et&&et.isTroikaTextMaterial?(this._derivedMaterial=et,this._baseMaterial=et.baseMaterial):this._baseMaterial=et}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(et){this.geometry.detail=et}get curveRadius(){return this.geometry.curveRadius}set curveRadius(et){this.geometry.curveRadius=et}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(et){const tt=et.isTextOutlineMaterial,nt=et.uniforms,ot=this.textRenderInfo;if(ot){const{sdfTexture:st,blockBounds:ut}=ot;nt.uTroikaSDFTexture.value=st,nt.uTroikaSDFTextureSize.value.set(st.image.width,st.image.height),nt.uTroikaSDFGlyphSize.value=ot.sdfGlyphSize,nt.uTroikaSDFExponent.value=ot.sdfExponent,nt.uTroikaTotalBounds.value.fromArray(ut),nt.uTroikaUseGlyphColors.value=!tt&&!!ot.glyphColors;let ft=0,ht=0,mt=0,gt,yt,xt,St=0,Tt=0;if(tt){let{outlineWidth:Pt,outlineOffsetX:It,outlineOffsetY:kt,outlineBlur:Dt,outlineOpacity:Nt}=this;ft=this._parsePercent(Pt)||0,ht=Math.max(0,this._parsePercent(Dt)||0),gt=Nt,St=this._parsePercent(It)||0,Tt=this._parsePercent(kt)||0}else mt=Math.max(0,this._parsePercent(this.strokeWidth)||0),mt&&(xt=this.strokeColor,nt.uTroikaStrokeColor.value.set(xt??defaultStrokeColor),yt=this.strokeOpacity,yt==null&&(yt=1)),gt=this.fillOpacity;nt.uTroikaDistanceOffset.value=ft,nt.uTroikaPositionOffset.value.set(St,Tt),nt.uTroikaBlurRadius.value=ht,nt.uTroikaStrokeWidth.value=mt,nt.uTroikaStrokeOpacity.value=yt,nt.uTroikaFillOpacity.value=gt??1,nt.uTroikaCurveRadius.value=this.curveRadius||0;let Mt=this.clipRect;if(Mt&&Array.isArray(Mt)&&Mt.length===4)nt.uTroikaClipRect.value.fromArray(Mt);else{const Pt=(this.fontSize||.1)*100;nt.uTroikaClipRect.value.set(ut[0]-Pt,ut[1]-Pt,ut[2]+Pt,ut[3]+Pt)}this.geometry.applyClipRect(nt.uTroikaClipRect.value)}nt.uTroikaSDFDebug.value=!!this.debugSDF,et.polygonOffset=!!this.depthOffset,et.polygonOffsetFactor=et.polygonOffsetUnits=this.depthOffset||0;const it=tt?this.outlineColor||0:this.color;if(it==null)delete et.color;else{const st=et.hasOwnProperty("color")?et.color:et.color=new Color;(it!==st._input||typeof it=="object")&&st.set(st._input=it)}let at=this.orientation||defaultOrient;if(at!==et._orientation){let st=nt.uTroikaOrient.value;at=at.replace(/[^-+xyz]/g,"");let ut=at!==defaultOrient&&at.match(/^([-+])([xyz])([-+])([xyz])$/);if(ut){let[,ft,ht,mt,gt]=ut;tempVec3a.set(0,0,0)[ht]=ft==="-"?1:-1,tempVec3b.set(0,0,0)[gt]=mt==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),st.setFromMatrix4(tempMat4)}else st.identity();et._orientation=at}}_parsePercent(et){if(typeof et=="string"){let tt=et.match(/^(-?[\d.]+)%$/),nt=tt?parseFloat(tt[1]):NaN;et=(isNaN(nt)?0:nt/100)*this.fontSize}return et}localPositionToTextCoords(et,tt=new Vector2){tt.copy(et);const nt=this.curveRadius;return nt&&(tt.x=Math.atan2(et.x,Math.abs(nt)-Math.abs(et.z))*Math.abs(nt)),tt}worldPositionToTextCoords(et,tt=new Vector2){return tempVec3a.copy(et),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),tt)}raycast(et,tt){const{textRenderInfo:nt,curveRadius:ot}=this;if(nt){const it=nt.blockBounds,at=ot?getCurvedRaycastMesh():getFlatRaycastMesh(),st=at.geometry,{position:ut,uv:ft}=st.attributes;for(let ht=0;ht<ft.count;ht++){let mt=it[0]+ft.getX(ht)*(it[2]-it[0]);const gt=it[1]+ft.getY(ht)*(it[3]-it[1]);let yt=0;ot&&(yt=ot-Math.cos(mt/ot)*ot,mt=Math.sin(mt/ot)*ot),ut.setXYZ(ht,mt,gt,yt)}st.boundingSphere=this.geometry.boundingSphere,st.boundingBox=this.geometry.boundingBox,at.matrixWorld=this.matrixWorld,at.material.side=this.material.side,tempArray.length=0,at.raycast(et,tempArray);for(let ht=0;ht<tempArray.length;ht++)tempArray[ht].object=this,tt.push(tempArray[ht])}}copy(et){const tt=this.geometry;return super.copy(et),this.geometry=tt,COPYABLE_PROPS.forEach(nt=>{this[nt]=et[nt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(rt=>{const et="_private_"+rt;Object.defineProperty(Text$1.prototype,rt,{get(){return this[et]},set(tt){tt!==this[et]&&(this[et]=tt,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({sdfGlyphSize:rt=64,anchorX:et="center",anchorY:tt="middle",font:nt,fontSize:ot=1,children:it,characters:at,onSync:st,...ut},ft)=>{const ht=useThree(({invalidate:xt})=>xt),[mt]=reactExports.useState(()=>new Text$1),[gt,yt]=reactExports.useMemo(()=>{const xt=[];let St="";return reactExports.Children.forEach(it,Tt=>{typeof Tt=="string"||typeof Tt=="number"?St+=Tt:xt.push(Tt)}),[xt,St]},[it]);return suspend(()=>new Promise(xt=>preloadFont({font:nt,characters:at},xt)),["troika-text",nt,at]),reactExports.useLayoutEffect(()=>void mt.sync(()=>{ht(),st&&st(mt)})),reactExports.useEffect(()=>()=>mt.dispose(),[mt]),reactExports.createElement("primitive",_extends({object:mt,ref:ft,font:nt,text:yt,anchorX:et,anchorY:tt,fontSize:ot,sdfGlyphSize:rt},ut),gt)});let dracoLoader=null,decoderPath="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function extensions(rt,et,tt){return nt=>{tt&&tt(nt),rt&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof rt=="string"?rt:decoderPath),nt.setDRACOLoader(dracoLoader)),et&&nt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(rt,et=!0,tt=!0,nt){return useLoader(GLTFLoader,rt,extensions(et,tt,nt))}useGLTF.preload=(rt,et=!0,tt=!0,nt)=>useLoader.preload(GLTFLoader,rt,extensions(et,tt,nt));useGLTF.clear=rt=>useLoader.clear(GLTFLoader,rt);useGLTF.setDecoderPath=rt=>{decoderPath=rt};function useAnimations(rt,et){const tt=reactExports.useRef(),[nt]=reactExports.useState(()=>et?et instanceof Object3D?{current:et}:et:tt),[ot]=reactExports.useState(()=>new AnimationMixer(void 0));reactExports.useLayoutEffect(()=>{et&&(nt.current=et instanceof Object3D?et:et.current),ot._root=nt.current});const it=reactExports.useRef({}),at=reactExports.useMemo(()=>{const st={};return rt.forEach(ut=>Object.defineProperty(st,ut.name,{enumerable:!0,get(){if(nt.current)return it.current[ut.name]||(it.current[ut.name]=ot.clipAction(ut,nt.current))},configurable:!0})),{ref:nt,clips:rt,actions:st,names:rt.map(ut=>ut.name),mixer:ot}},[rt]);return useFrame((st,ut)=>ot.update(ut)),reactExports.useEffect(()=>{const st=nt.current;return()=>{it.current={},ot.stopAllAction(),Object.values(at.actions).forEach(ut=>{st&&ot.uncacheAction(ut,st)})}},[rt]),at}const createStoreImpl=rt=>{let et;const tt=new Set,nt=(ft,ht)=>{const mt=typeof ft=="function"?ft(et):ft;if(!Object.is(mt,et)){const gt=et;et=ht??(typeof mt!="object"||mt===null)?mt:Object.assign({},et,mt),tt.forEach(yt=>yt(et,gt))}},ot=()=>et,st={setState:nt,getState:ot,getInitialState:()=>ut,subscribe:ft=>(tt.add(ft),()=>tt.delete(ft))},ut=et=rt(nt,ot,st);return st},createStore=rt=>rt?createStoreImpl(rt):createStoreImpl,identity=rt=>rt;function useStore(rt,et=identity){const tt=r$1.useSyncExternalStore(rt.subscribe,()=>et(rt.getState()),()=>et(rt.getInitialState()));return r$1.useDebugValue(tt),tt}const createImpl=rt=>{const et=createStore(rt),tt=nt=>useStore(et,nt);return Object.assign(tt,et),tt},create=rt=>rt?createImpl(rt):createImpl,trackedConnections=new Map,getTrackedConnectionState=rt=>{const et=trackedConnections.get(rt);return et?Object.fromEntries(Object.entries(et.stores).map(([tt,nt])=>[tt,nt.getState()])):{}},extractConnectionInformation=(rt,et,tt)=>{if(rt===void 0)return{type:"untracked",connection:et.connect(tt)};const nt=trackedConnections.get(tt.name);if(nt)return{type:"tracked",store:rt,...nt};const ot={connection:et.connect(tt),stores:{}};return trackedConnections.set(tt.name,ot),{type:"tracked",store:rt,...ot}},removeStoreFromTrackedConnections=(rt,et)=>{if(et===void 0)return;const tt=trackedConnections.get(rt);tt&&(delete tt.stores[et],Object.keys(tt.stores).length===0&&trackedConnections.delete(rt))},findCallerName=rt=>{var et,tt;if(!rt)return;const nt=rt.split(`
`),ot=nt.findIndex(at=>at.includes("api.setState"));if(ot<0)return;const it=((et=nt[ot+1])==null?void 0:et.trim())||"";return(tt=/.+ (.+) .+/.exec(it))==null?void 0:tt[1]},devtoolsImpl=(rt,et={})=>(tt,nt,ot)=>{const{enabled:it,anonymousActionType:at,store:st,...ut}=et;let ft;try{ft=(it??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!ft)return rt(tt,nt,ot);const{connection:ht,...mt}=extractConnectionInformation(st,ft,ut);let gt=!0;ot.setState=(St,Tt,Mt)=>{const Pt=tt(St,Tt);if(!gt)return Pt;const It=findCallerName(new Error().stack),kt=Mt===void 0?{type:at||It||"anonymous"}:typeof Mt=="string"?{type:Mt}:Mt;return st===void 0?(ht==null||ht.send(kt,nt()),Pt):(ht==null||ht.send({...kt,type:`${st}/${kt.type}`},{...getTrackedConnectionState(ut.name),[st]:ot.getState()}),Pt)},ot.devtools={cleanup:()=>{ht&&typeof ht.unsubscribe=="function"&&ht.unsubscribe(),removeStoreFromTrackedConnections(ut.name,st)}};const yt=(...St)=>{const Tt=gt;gt=!1,tt(...St),gt=Tt},xt=rt(ot.setState,nt,ot);if(mt.type==="untracked"?ht==null||ht.init(xt):(mt.stores[mt.store]=ot,ht==null||ht.init(Object.fromEntries(Object.entries(mt.stores).map(([St,Tt])=>[St,St===mt.store?xt:Tt.getState()])))),ot.dispatchFromDevtools&&typeof ot.dispatch=="function"){let St=!1;const Tt=ot.dispatch;ot.dispatch=(...Mt)=>{Tt(...Mt)}}return ht.subscribe(St=>{var Tt;switch(St.type){case"ACTION":if(typeof St.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(St.payload,Mt=>{if(Mt.type==="__setState"){if(st===void 0){yt(Mt.state);return}Object.keys(Mt.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const Pt=Mt.state[st];if(Pt==null)return;JSON.stringify(ot.getState())!==JSON.stringify(Pt)&&yt(Pt);return}ot.dispatchFromDevtools&&typeof ot.dispatch=="function"&&ot.dispatch(Mt)});case"DISPATCH":switch(St.payload.type){case"RESET":return yt(xt),st===void 0?ht==null?void 0:ht.init(ot.getState()):ht==null?void 0:ht.init(getTrackedConnectionState(ut.name));case"COMMIT":if(st===void 0){ht==null||ht.init(ot.getState());return}return ht==null?void 0:ht.init(getTrackedConnectionState(ut.name));case"ROLLBACK":return parseJsonThen(St.state,Mt=>{if(st===void 0){yt(Mt),ht==null||ht.init(ot.getState());return}yt(Mt[st]),ht==null||ht.init(getTrackedConnectionState(ut.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(St.state,Mt=>{if(st===void 0){yt(Mt);return}JSON.stringify(ot.getState())!==JSON.stringify(Mt[st])&&yt(Mt[st])});case"IMPORT_STATE":{const{nextLiftedState:Mt}=St.payload,Pt=(Tt=Mt.computedStates.slice(-1)[0])==null?void 0:Tt.state;if(!Pt)return;yt(st===void 0?Pt:Pt[st]),ht==null||ht.send(null,Mt);return}case"PAUSE_RECORDING":return gt=!gt}return}}),xt},devtools=devtoolsImpl,parseJsonThen=(rt,et)=>{let tt;try{tt=JSON.parse(rt)}catch(nt){console.error("[zustand devtools middleware] Could not parse the received json",nt)}tt!==void 0&&et(tt)},initialPlayerState={targetId:null,position:{x:0,z:0},health:1e3,maxHealth:1e3,attackRange:2,speed:5,baseDamage:10,isAttacking:!1,lastAttackTime:0},createPlayerSlice=(rt,et)=>({player:initialPlayerState,setPlayerTarget:tt=>rt(nt=>({player:{...nt.player,targetId:tt}})),updatePlayerPosition:tt=>rt(nt=>({player:{...nt.player,position:tt}})),updatePlayerHealth:tt=>rt(nt=>({player:{...nt.player,health:Math.max(0,Math.min(tt,nt.player.maxHealth))}})),setPlayerAttacking:tt=>rt(nt=>({player:{...nt.player,isAttacking:tt,lastAttackTime:tt?Date.now():nt.player.lastAttackTime}})),resetPlayerAttack:()=>rt(tt=>({player:{...tt.player,isAttacking:!1}}))}),initialEnemies=[{id:"enemy1",position:{x:5,z:5},health:50,maxHealth:50,attackRange:1.5,speed:3,isAttacking:!1,lastAttackTime:0,baseDamage:10,targetId:"player1"},{id:"enemy2",position:{x:-7,z:3},health:50,maxHealth:50,attackRange:1.5,speed:2.5,isAttacking:!1,lastAttackTime:0,baseDamage:10,targetId:"player1"}],createEnemiesSlice=(rt,et)=>({enemies:initialEnemies,updateEnemyPosition:(tt,nt)=>rt(ot=>({enemies:ot.enemies.map(it=>it.id===tt?{...it,position:nt}:it)})),updateEnemyHealth:(tt,nt)=>rt(ot=>({enemies:ot.enemies.map(it=>it.id===tt?{...it,health:Math.max(0,Math.min(nt,it.maxHealth))}:it)})),setEnemyAttacking:(tt,nt)=>rt(ot=>({enemies:ot.enemies.map(it=>it.id===tt?{...it,isAttacking:nt,lastAttackTime:nt?Date.now():it.lastAttackTime}:it)})),removeEnemy:tt=>rt(nt=>({enemies:nt.enemies.filter(ot=>ot.id!==tt)})),addEnemy:tt=>rt(nt=>({enemies:[...nt.enemies,tt]}))}),initialInputState={movement:{x:0,z:0},isMoving:!1,attackPressed:!1},createInputSlice=(rt,et)=>({input:initialInputState,setPlayerMovement:(tt,nt)=>rt(ot=>({input:{...ot.input,movement:{x:tt,z:nt},isMoving:!0}})),stopPlayerMovement:()=>rt(tt=>({input:{...tt.input,movement:{x:0,z:0},isMoving:!1}})),triggerPlayerAttack:()=>rt(tt=>({input:{...tt.input,attackPressed:!0}})),resetPlayerAttack:()=>rt(tt=>({input:{...tt.input,attackPressed:!1}}))}),createGameSlice=(rt,et)=>({gameRunning:!0,setGameRunning:tt=>rt({gameRunning:tt}),startGame:()=>rt({gameRunning:!0}),pauseGame:()=>rt({gameRunning:!1}),stopGame:()=>rt({gameRunning:!1})}),store=create()(devtools((...rt)=>({...createPlayerSlice(...rt),...createEnemiesSlice(...rt),...createInputSlice(...rt),...createGameSlice(...rt)}),{name:"game-store"})),useGameStore=store;function handlePlayerHit(){const rt=store.getState(),{player:et,enemies:tt,updateEnemyHealth:nt,removeEnemy:ot}=rt;if(!et.targetId)return;const it=tt.find(ut=>ut.id===et.targetId);if(!(it!=null&&it.id))return;const at=calculateBasePlayerDamage(et),st=it.health-at;st<=0?ot(it.id):nt(it.id,st)}function calculateBasePlayerDamage(rt){return rt.baseDamage}function lerpAngle(rt,et,tt){const nt=(et-rt+Math.PI)%(2*Math.PI)-Math.PI;return rt+nt*tt}function useLookAtTarget({selfRef:rt,targetPosition:et,enabled:tt=!0,smooth:nt=!0,instantLookAt:ot=!1,rotationSpeed:it=5,fallbackMovement:at}){const st=reactExports.useRef(new Vector3),ut=reactExports.useRef(0),ft=reactExports.useRef(tt);reactExports.useEffect(()=>{if(rt!=null&&rt.current){if(ft.current&&!tt&&at){const{x:ht,z:mt}=at;if(ht*ht+mt*mt>1e-4){const yt=Math.atan2(ht,mt);rt.current.rotation.y=yt,ut.current=yt}}ft.current=tt}},[tt,at]),reactExports.useEffect(()=>{!tt||!(rt!=null&&rt.current)||!et||ot&&(st.current.set(et.x,et.y??0,et.z),rt.current.lookAt(st.current))},[tt,ot,et==null?void 0:et.x,et==null?void 0:et.z]),useFrame((ht,mt)=>{if(!tt||!(rt!=null&&rt.current)||!et||ot)return;const gt=rt.current;st.current.set(et.x,gt.position.y,et.z);const yt=st.current.clone().sub(gt.position);if(yt.y=0,yt.lengthSq()<1e-4)return;const xt=Math.atan2(yt.x,yt.z);nt?(ut.current=lerpAngle(ut.current,xt,it*mt),gt.rotation.y=ut.current):(gt.rotation.y=xt,ut.current=xt)})}function useAttackBehavior({isAttacking:rt,attackAction:et,hitTime:tt=.5,onHit:nt,onAttackComplete:ot,selfRef:it,targetPosition:at}){const st=reactExports.useRef(0),ut=reactExports.useRef(0),ft=reactExports.useRef(!1);useLookAtTarget({selfRef:it,targetPosition:at,enabled:rt,smooth:!0}),reactExports.useEffect(()=>{if(!rt||!et)return;const ht=et.getMixer(),mt=et.getClip();st.current=mt.duration/(et.timeScale||1),ut.current=performance.now(),ft.current=!1,et.clampWhenFinished=!0,et.reset().setLoop(LoopOnce,1).play();const gt=yt=>{yt.action===et&&(ot==null||ot(yt),rt&&(et.reset().play(),ut.current=performance.now(),ft.current=!1))};return ht.addEventListener("finished",gt),()=>{ht.removeEventListener("finished",gt),et.stop()}},[rt,et]),useFrame(()=>{if(!rt||!et||ft.current)return;const ht=(performance.now()-ut.current)/1e3,mt=st.current*tt;ht>=mt&&(nt==null||nt(),ft.current=!0)})}function useMovementDirectionTracker({isMoving:rt,movementVec:et,selfRef:tt}){const nt=reactExports.useRef(new Vector3(0,0,1));reactExports.useEffect(()=>{rt&&(et.x!==0||et.z!==0)&&nt.current.set(et.x,0,et.z).normalize()},[rt,et.x,et.z]),reactExports.useEffect(()=>{if(!rt&&(tt!=null&&tt.current)){const ot=nt.current,it=Math.atan2(ot.x,ot.z);tt.current.rotation.y=it}},[rt])}function useMovementBehavior({isMoving:rt,isAttacking:et,runAction:tt,combatMoveAction:nt,idleAction:ot,selfRef:it,targetPosition:at}){const st=useGameStore(ut=>ut.input.movement);useLookAtTarget({selfRef:it,targetPosition:at,enabled:et,smooth:!0,fallbackMovement:st}),useMovementDirectionTracker({isMoving:rt,movementVec:st,selfRef:it}),reactExports.useEffect(()=>{const ut=[tt,nt,ot];let ft;rt?ft=et?nt:tt:ft=ot,ut.forEach(ht=>{ht&&ht!==ft&&ht.fadeOut(.2)}),ft==null||ft.reset().fadeIn(.2).play()},[rt,et,tt,nt,ot])}function useEnableShadows(rt,et){reactExports.useEffect(()=>{if(!rt)return;const{castShadow:tt=!0,receiveShadow:nt=!1}=et||{};rt.traverse(ot=>{ot instanceof Mesh&&(ot.castShadow=tt,ot.receiveShadow=nt)})},[rt,et])}function Player({position:rt,isMoving:et,isAttacking:tt,health:nt,maxHealth:ot,rotation:it}){const at=useGameStore(Mt=>Mt.enemies),st=useGameStore(Mt=>Mt.player.targetId),ut=reactExports.useRef(null),{scene:ft,animations:ht}=useGLTF("models/player.glb"),{actions:mt}=useAnimations(ht,ut),gt=reactExports.useMemo(()=>at.find(Mt=>Mt.id===st),[at,st]),yt=mt.Attack,xt=mt.Run,St=mt.Idle,Tt=mt.Combat;return useAttackBehavior({isAttacking:tt,attackAction:yt,hitTime:.4,onHit:handlePlayerHit,onAttackComplete:()=>console.log(" "),selfRef:ut,targetPosition:gt==null?void 0:gt.position}),useMovementBehavior({isMoving:et,isAttacking:tt,runAction:xt,combatMoveAction:Tt,idleAction:St,selfRef:ut,targetPosition:gt==null?void 0:gt.position}),useEnableShadows(ft),jsxs("group",{children:[jsx("primitive",{ref:ut,object:ft,position:[rt.x,.5,rt.z],rotation:[0,it,0]}),jsx(Text,{position:[rt.x,2.5,rt.z],fontSize:.3,color:"red",anchorX:"center",anchorY:"middle",children:`${nt}/${ot}`})]})}function Enemy({enemy:rt,playerPosition:et,onAttack:tt}){const nt=reactExports.useRef(null),[ot,it]=reactExports.useState(rt.position);return useFrame((at,st)=>{if(!nt.current)return;const ut=Math.sqrt(Math.pow(et.x-rt.position.x,2)+Math.pow(et.z-rt.position.z,2));if(ut<=rt.attackRange)Date.now()-rt.lastAttackTime>1e3&&!rt.isAttacking&&tt(rt.id);else if(ut>rt.attackRange){const ht={x:et.x-rt.position.x,z:et.z-rt.position.z},mt=Math.sqrt(ht.x*ht.x+ht.z*ht.z);if(mt>.1){const gt={x:ht.x/mt,z:ht.z/mt};it({x:rt.position.x+gt.x*rt.speed*st,z:rt.position.z+gt.z*rt.speed*st})}}const ft=Math.atan2(et.x-rt.position.x,et.z-rt.position.z);if(nt.current.rotation.y=ft,rt.isAttacking){const ht=at.clock.elapsedTime;nt.current.position.y=.5+Math.sin(ht*15)*.2}else{const ht=at.clock.elapsedTime;nt.current.position.y=.5+Math.sin(ht*4)*.08}}),reactExports.useEffect(()=>{rt.position=ot},[ot,rt]),jsxs("group",{children:[jsxs("group",{ref:nt,position:[rt.position.x,.5,rt.position.z],children:[jsxs("mesh",{castShadow:!0,children:[jsx("boxGeometry",{args:[.5,1,.3]}),jsx("meshStandardMaterial",{color:"#dc2626"})]}),jsxs("mesh",{castShadow:!0,position:[0,.7,0],children:[jsx("sphereGeometry",{args:[.25]}),jsx("meshStandardMaterial",{color:"#7f1d1d"})]}),jsxs("mesh",{castShadow:!0,position:[-.4,.2,0],children:[jsx("boxGeometry",{args:[.15,.6,.15]}),jsx("meshStandardMaterial",{color:"#7f1d1d"})]}),jsxs("mesh",{castShadow:!0,position:[.4,.2,0],children:[jsx("boxGeometry",{args:[.15,.6,.15]}),jsx("meshStandardMaterial",{color:"#7f1d1d"})]}),jsxs("mesh",{castShadow:!0,position:[-.12,-.8,0],children:[jsx("boxGeometry",{args:[.15,.4,.15]}),jsx("meshStandardMaterial",{color:"#1f2937"})]}),jsxs("mesh",{castShadow:!0,position:[.12,-.8,0],children:[jsx("boxGeometry",{args:[.15,.4,.15]}),jsx("meshStandardMaterial",{color:"#1f2937"})]})]}),jsx(Text,{position:[rt.position.x,2.2,rt.position.z],fontSize:.25,color:"darkred",anchorX:"center",anchorY:"middle",children:`${rt.health}/${rt.maxHealth}`})]})}function Terrain(){const rt=reactExports.useMemo(()=>Array.from({length:8}).map((tt,nt)=>({id:nt,position:[(Math.random()-.5)*40,Math.random()*.5,(Math.random()-.5)*40],geometry:[Math.random()*3+1,Math.random()*4+2,Math.random()*2+1,8]})),[]),et=reactExports.useMemo(()=>Array.from({length:15}).map((tt,nt)=>({id:nt,position:[(Math.random()-.5)*45,Math.random()*.3,(Math.random()-.5)*45],size:Math.random()*.8+.3})),[]);return jsxs("group",{children:[jsxs("mesh",{receiveShadow:!0,rotation:[-Math.PI/2,0,0],position:[0,-.1,0],children:[jsx("planeGeometry",{args:[50,50]}),jsx("meshStandardMaterial",{color:"#4a5d23"})]}),rt.map(tt=>jsxs("mesh",{castShadow:!0,receiveShadow:!0,position:tt.position,children:[jsx("cylinderGeometry",{args:tt.geometry}),jsx("meshStandardMaterial",{color:"#3a4d1a"})]},tt.id)),et.map(tt=>jsxs("mesh",{castShadow:!0,receiveShadow:!0,position:tt.position,children:[jsx("dodecahedronGeometry",{args:[tt.size]}),jsx("meshStandardMaterial",{color:"#6b7280"})]},`rock-${tt.id}`))]})}function IsometricCamera({target:rt}){const{camera:et}=useThree();return useFrame(()=>{const tt={x:8,y:12,z:8};et.position.set(rt.x+tt.x,tt.y,rt.z+tt.z),et.lookAt(rt.x,0,rt.z)}),null}function GameUI({playerPosition:rt,playerHealth:et,enemyCount:tt}){return jsxs(Fragment,{children:[et<=0&&jsx(Text,{position:[rt.x,5,rt.z],fontSize:1,color:"red",anchorX:"center",anchorY:"middle",children:"GAME OVER"}),tt===0&&et>0&&jsx(Text,{position:[rt.x,5,rt.z],fontSize:1,color:"green",anchorX:"center",anchorY:"middle",children:"VICTORY!"})]})}function GameControls(){return jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",color:"white",fontSize:"14px",background:"rgba(0,0,0,0.7)",padding:"10px",borderRadius:"5px"},children:[jsx("div",{children:"WASD/ - "}),jsx("div",{children:" - "})]})}function MobileControls({onMove:rt,onAttack:et,onStopMove:tt}){const nt=reactExports.useRef(null),ot=reactExports.useRef(null),[it,at]=reactExports.useState({isDragging:!1,startPos:{x:0,y:0},currentPos:{x:0,y:0},touchId:null}),st=50,ut=reactExports.useCallback((Tt,Mt,Pt)=>{if(!nt.current)return;const It=nt.current.getBoundingClientRect(),kt=It.left+It.width/2,Dt=It.top+It.height/2;at({isDragging:!0,startPos:{x:kt,y:Dt},currentPos:{x:Tt,y:Mt},touchId:Pt??null})},[]),ft=reactExports.useCallback((Tt,Mt)=>{if(!it.isDragging)return;const Pt=Tt-it.startPos.x,It=Mt-it.startPos.y,kt=Math.sqrt(Pt*Pt+It*It);let Dt=Pt,Nt=It;kt>st&&(Dt=Pt/kt*st,Nt=It/kt*st),at(Ot=>({...Ot,currentPos:{x:it.startPos.x+Dt,y:it.startPos.y+Nt}}));const Gt=Dt/st,Wt=Nt/st;(Math.abs(Gt)>.1||Math.abs(Wt)>.1)&&rt({x:Gt,z:Wt})},[it,rt,st]),ht=reactExports.useCallback(()=>{at({isDragging:!1,startPos:{x:0,y:0},currentPos:{x:0,y:0},touchId:null}),tt()},[tt]),mt=Tt=>{Tt.preventDefault(),Tt.stopPropagation();const Mt=Tt.touches[0];ut(Mt.clientX,Mt.clientY,Mt.identifier)},gt=Tt=>{if(Tt.preventDefault(),Tt.stopPropagation(),!it.isDragging||it.touchId===null)return;const Mt=Array.from(Tt.touches).find(Pt=>Pt.identifier===it.touchId);Mt&&ft(Mt.clientX,Mt.clientY)},yt=Tt=>{Tt.preventDefault(),Tt.stopPropagation(),Array.from(Tt.changedTouches).some(Pt=>Pt.identifier===it.touchId)&&ht()},xt=Tt=>{Tt.preventDefault(),ut(Tt.clientX,Tt.clientY)};reactExports.useEffect(()=>{const Tt=kt=>{ft(kt.clientX,kt.clientY)},Mt=()=>{ht()},Pt=kt=>{if(it.isDragging&&it.touchId!==null){const Dt=Array.from(kt.touches).find(Nt=>Nt.identifier===it.touchId);Dt&&ft(Dt.clientX,Dt.clientY)}},It=kt=>{it.isDragging&&it.touchId!==null&&Array.from(kt.changedTouches).some(Nt=>Nt.identifier===it.touchId)&&ht()};return it.isDragging&&(document.addEventListener("mousemove",Tt),document.addEventListener("mouseup",Mt),document.addEventListener("touchmove",Pt,{passive:!1}),document.addEventListener("touchend",It),document.addEventListener("touchcancel",It)),()=>{document.removeEventListener("mousemove",Tt),document.removeEventListener("mouseup",Mt),document.removeEventListener("touchmove",Pt),document.removeEventListener("touchend",It),document.removeEventListener("touchcancel",It)}},[it.isDragging,ft,ht]);const St=it.isDragging&&nt.current?{transform:`translate(${it.currentPos.x-it.startPos.x}px, ${it.currentPos.y-it.startPos.y}px)`}:{};return jsxs("div",{"data-game-control":!0,style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none",zIndex:1e3},children:[jsxs("div",{ref:nt,"data-game-control":!0,style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.3)",position:"relative",pointerEvents:"auto",touchAction:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},onTouchStart:mt,onTouchMove:gt,onTouchEnd:yt,onMouseDown:xt,children:[jsx("div",{ref:ot,style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.8)",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:it.isDragging?"none":"transform 0.2s ease",...St}}),jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"24px",color:"rgba(255, 255, 255, 0.7)",pointerEvents:"none"},children:""})]}),jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"center"},children:[jsx("button",{"data-game-control":!0,style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"rgba(255, 0, 0, 0.7)",border:"3px solid rgba(255, 255, 255, 0.3)",color:"white",fontSize:"18px",fontWeight:"bold",cursor:"pointer",pointerEvents:"auto",touchAction:"manipulation",display:"flex",alignItems:"center",justifyContent:"center"},onTouchStart:Tt=>{Tt.preventDefault(),Tt.stopPropagation(),et()},onTouchEnd:Tt=>{Tt.preventDefault(),Tt.stopPropagation()},onMouseDown:Tt=>{Tt.preventDefault(),Tt.stopPropagation(),et()},children:""}),jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"rgba(100, 100, 100, 0.3)",border:"2px dashed rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255, 255, 255, 0.4)",fontSize:"12px"},children:"SKILL"})]})]})}function isInRange(rt,et,tt){const nt=et.x-rt.x,ot=et.z-rt.z,it=nt*nt+ot*ot;return{inRange:it<=tt*tt,distance:it}}function useAutoTarget({selfPosition:rt,currentTargetId:et,range:tt,targets:nt,setTarget:ot,onTargetChanged:it}){reactExports.useEffect(()=>{if(!nt.length){et!==null&&(ot(null),it==null||it(!1));return}if(et!==null){nt.some(ht=>ht.id===et&&isInRange(rt,ht.position,tt).inRange)||(ot(null),it==null||it(!1));return}let at=null,st=1/0,ut=!1;for(const ft of nt){const{distance:ht,inRange:mt}=isInRange(rt,ft.position,tt);ht<st&&(st=ht,at=ft.id),mt&&(ut=!0)}if(!ut){et!==null&&(ot(null),it==null||it(!1));return}at!==et&&(ot(at),it==null||it(!0))},[rt.x,rt.z,et,tt,nt.map(at=>`${at.id}:${at.position.x},${at.position.z}`).join("|")])}function useGameLogic(){const rt=useGameStore(gt=>gt.gameRunning),et=useGameStore(gt=>gt.player),tt=useGameStore(gt=>gt.enemies),nt=useGameStore(gt=>gt.input),ot=useGameStore(gt=>gt.updatePlayerPosition),it=useGameStore(gt=>gt.setPlayerTarget),at=useGameStore(gt=>gt.updatePlayerHealth),st=useGameStore(gt=>gt.setPlayerAttacking),ut=useGameStore(gt=>gt.updateEnemyPosition),ft=useGameStore(gt=>gt.updateEnemyHealth),ht=useGameStore(gt=>gt.setEnemyAttacking),mt=useGameStore(gt=>gt.removeEnemy);return useAutoTarget({selfPosition:et.position,currentTargetId:et.targetId,range:et.attackRange,targets:tt,setTarget:it,onTargetChanged:st}),useFrame((gt,yt)=>{if(rt){if(nt.isMoving){const xt=et.isAttacking?et.speed/1.4:et.speed,St={x:et.position.x+nt.movement.x*xt*yt,z:et.position.z+nt.movement.z*xt*yt};ot(St)}if(nt.attackPressed&&Date.now()-et.lastAttackTime>800){let St=!1;tt.forEach(Tt=>{if(Math.sqrt(Math.pow(Tt.position.x-et.position.x,2)+Math.pow(Tt.position.z-et.position.z,2))<=et.attackRange){const Pt=Tt.health-20;Pt<=0?mt(Tt.id):ft(Tt.id,Pt),St=!0}}),st(!0)}tt.forEach(xt=>{const St=Math.sqrt(Math.pow(xt.position.x-et.position.x,2)+Math.pow(xt.position.z-et.position.z,2));if(St<=xt.attackRange)Date.now()-xt.lastAttackTime>1200&&(ht(xt.id,!0),at(et.health-xt.baseDamage));else if(St<10){const Tt={x:et.position.x-xt.position.x,z:et.position.z-xt.position.z},Mt=Math.sqrt(Tt.x*Tt.x+Tt.z*Tt.z);Mt>0&&(Tt.x/=Mt,Tt.z/=Mt);const Pt={x:xt.position.x+Tt.x*xt.speed*yt,z:xt.position.z+Tt.z*xt.speed*yt};ut(xt.id,Pt)}})}}),{player:et,enemies:tt,gameRunning:rt,playerRotation:nt.isMoving?Math.atan2(nt.movement.x,nt.movement.z):0,isMoving:nt.isMoving}}function useKeyboardInput(){const rt=reactExports.useRef(new Set),et=useGameStore(ot=>ot.setPlayerMovement),tt=useGameStore(ot=>ot.stopPlayerMovement),nt=useGameStore(ot=>ot.triggerPlayerAttack);return reactExports.useEffect(()=>{const ot=st=>{const ut=st.key.toLowerCase();rt.current.add(ut),at(),ut===" "&&(st.preventDefault(),nt())},it=st=>{const ut=st.key.toLowerCase();rt.current.delete(ut),at()},at=()=>{let st=0,ut=0;if((rt.current.has("w")||rt.current.has(""))&&(ut-=1,st-=1),(rt.current.has("s")||rt.current.has(""))&&(ut+=1,st+=1),(rt.current.has("a")||rt.current.has(""))&&(st-=1,ut+=1),(rt.current.has("d")||rt.current.has(""))&&(st+=1,ut-=1),st!==0||ut!==0){const ft=Math.sqrt(st*st+ut*ut);ft>0&&(st/=ft,ut/=ft),et(st,ut)}else tt()};return window.addEventListener("keydown",ot),window.addEventListener("keyup",it),()=>{window.removeEventListener("keydown",ot),window.removeEventListener("keyup",it)}},[et,tt,nt]),{keysPressed:rt.current}}function useMobileInput(){const rt=useGameStore(at=>at.setPlayerMovement),et=useGameStore(at=>at.stopPlayerMovement),tt=useGameStore(at=>at.triggerPlayerAttack);return{handleMove:at=>{const st=Math.sqrt(at.x*at.x+at.z*at.z);if(st>0){const ut=at.x/st,ft=at.z/st;rt(ut,ft)}},handleStopMove:()=>{et()},handleAttack:()=>{tt()}}}var c=function(rt){var et,tt;function nt(it){var at;return(at=rt.call(this,it)||this).state={hasError:!1,error:null},at}tt=rt,(et=nt).prototype=Object.create(tt.prototype),et.prototype.constructor=et,et.__proto__=tt,nt.getDerivedStateFromError=function(it){return{hasError:!0,error:it}};var ot=nt.prototype;return ot.componentDidCatch=function(it,at){return this.props.onDidCatch(it,at)},ot.render=function(){var it=this.state,at=this.props,st=at.render,ut=at.children,ft=at.renderError;return it.hasError?ft?ft({error:it.error}):null:st?st():ut||null},nt}(reactExports.PureComponent),u=function(rt,et){switch(et.type){case"catch":return{didCatch:!0,error:et.error};case"reset":return{didCatch:!1,error:null};default:return rt}};function a(rt){var et=reactExports.useReducer(u,{didCatch:!1,error:null}),tt=et[0],nt=et[1],ot=reactExports.useRef(null);function it(){return ut=function(ft,ht){nt({type:"catch",error:ft}),rt&&rt.onDidCatch&&rt.onDidCatch(ft,ht)},function(ft){return r$1.createElement(c,{onDidCatch:ut,children:ft.children,render:ft.render,renderError:ft.renderError})};var ut}var at,st=reactExports.useCallback(function(){ot.current=it(),nt({type:"reset"})},[]);return{ErrorBoundary:(at=ot.current,at!==null?at:(ot.current=it(),ot.current)),didCatch:tt.didCatch,error:tt.error,reset:st}}function GameLogic(){const{player:rt,enemies:et,playerRotation:tt,isMoving:nt}=useGameLogic();return jsxs(Fragment,{children:[jsx(IsometricCamera,{target:rt.position}),jsx(Terrain,{}),jsx(Player,{position:rt.position,isMoving:nt,isAttacking:rt.isAttacking,health:rt.health,maxHealth:rt.maxHealth,rotation:tt}),et.map(ot=>jsx(Enemy,{enemy:ot,playerPosition:rt.position,onAttack:()=>{}},ot.id)),jsx(GameUI,{playerPosition:rt.position,playerHealth:rt.health,enemyCount:et.length})]})}function GameCanvas(){const{didCatch:rt,error:et}=a();useKeyboardInput();const tt=useMobileInput(),nt="ontouchstart"in window;return rt?jsx("div",{children:et.message}):jsxs("div",{style:{position:"relative",width:"100%",height:"500px"},children:[jsxs(Canvas,{shadows:!0,camera:{position:[8,12,8],fov:40,near:.1,far:1e3},style:{width:"100%",height:"100%"},children:[jsx("ambientLight",{intensity:.7}),jsx("directionalLight",{position:[10,10,5],intensity:1,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048,"shadow-camera-far":50,"shadow-camera-left":-20,"shadow-camera-right":20,"shadow-camera-top":20,"shadow-camera-bottom":-20}),jsx(GameLogic,{})]}),nt?jsx(MobileControls,{onMove:tt.handleMove,onAttack:tt.handleAttack,onStopMove:tt.handleStopMove}):jsx(GameControls,{})]})}const TAG="[activities]";async function fetchActivities(){const rt=await api.get("/activities");return console.info(`${TAG}: fetch activities response.data`,rt.data),rt.data}async function reward(rt,et){const tt=await api.post("/activities/reward",{id:rt,args:et});console.info(`${TAG} response`,tt)}function useActivities(){const[rt,et]=reactExports.useState([]),[tt,nt]=reactExports.useState(!0),[ot,it]=reactExports.useState(null);return reactExports.useEffect(()=>{let at=!0;async function st(){try{const ut=await fetchActivities();at&&et(ut)}catch(ut){at&&it(ut)}finally{at&&nt(!1)}}return st(),()=>{at=!1}},[]),{activities:rt,loading:tt,error:ot,reward}}const ActivitiesContext=reactExports.createContext(void 0);function ActivitiesProvider({children:rt}){const{activities:et,loading:tt,error:nt}=useActivities(),ot=reactExports.useMemo(()=>{const ut={};return(et??[]).forEach(ft=>{ut[ft.id]=ft}),ut},[et]),it=ut=>ot[ut],at=ut=>{var ft;return(ft=ot[ut])==null?void 0:ft.token},st=reactExports.useMemo(()=>Object.keys(ot),[ot]);return jsx(ActivitiesContext.Provider,{value:{activities:et,loading:tt,error:nt,getActivityById:it,getTokenById:at,activityIds:st},children:rt})}function App(){return jsx(UserProvider,{children:jsx(ActivitiesProvider,{children:jsxs(StyledApp,{children:[jsx(Loader,{}),jsx(AppContainer,{children:jsxs(FlexBoxCol,{children:[jsx(AppHeader,{}),jsx(GameCanvas,{})]})})]})})})}function tgConfig(){var rt;(rt=window.Telegram)!=null&&rt.WebApp&&window.addEventListener("load",()=>{if(window.Telegram&&window.Telegram.WebApp){const et=window.Telegram.WebApp;et.expand(),et.disableVerticalSwipes&&et.disableVerticalSwipes(),et.setHeaderColor("#000000"),et.ready()}document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.overscrollBehavior="none",document.documentElement.style.overscrollBehavior="none"})}const index="";tgConfig();const manifestUrl="https://clayzenx.github.io/twa-gta/tonconnect-manifest.json",queryClient=new QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});client.createRoot(document.getElementById("root")).render(jsx(TonConnectUIProvider$1,{manifestUrl,children:jsx(QueryClientProvider,{client:queryClient,children:jsx(App,{})})}));
