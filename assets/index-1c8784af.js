var hP=Object.defineProperty;var dP=(ut,lt,ht)=>lt in ut?hP(ut,lt,{enumerable:!0,configurable:!0,writable:!0,value:ht}):ut[lt]=ht;var uB=(ut,lt,ht)=>(dP(ut,typeof lt!="symbol"?lt+"":lt,ht),ht);(function(){const lt=document.createElement("link").relList;if(lt&&lt.supports&&lt.supports("modulepreload"))return;for(const At of document.querySelectorAll('link[rel="modulepreload"]'))_t(At);new MutationObserver(At=>{for(const qt of At)if(qt.type==="childList")for(const Zt of qt.addedNodes)Zt.tagName==="LINK"&&Zt.rel==="modulepreload"&&_t(Zt)}).observe(document,{childList:!0,subtree:!0});function ht(At){const qt={};return At.integrity&&(qt.integrity=At.integrity),At.referrerPolicy&&(qt.referrerPolicy=At.referrerPolicy),At.crossOrigin==="use-credentials"?qt.credentials="include":At.crossOrigin==="anonymous"?qt.credentials="omit":qt.credentials="same-origin",qt}function _t(At){if(At.ep)return;At.ep=!0;const qt=ht(At);fetch(At.href,qt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(ut){return ut&&ut.__esModule&&Object.prototype.hasOwnProperty.call(ut,"default")?ut.default:ut}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$3=Symbol.for("react.element"),n$3=Symbol.for("react.portal"),p$4=Symbol.for("react.fragment"),q$3=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t$2=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$3=Symbol.for("react.forward_ref"),w$2=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(ut){return ut===null||typeof ut!="object"?null:(ut=z$3&&ut[z$3]||ut["@@iterator"],typeof ut=="function"?ut:null)}var B$2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(ut,lt,ht){this.props=ut,this.context=lt,this.refs=D$3,this.updater=ht||B$2}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(ut,lt){if(typeof ut!="object"&&typeof ut!="function"&&ut!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ut,lt,"setState")};E$3.prototype.forceUpdate=function(ut){this.updater.enqueueForceUpdate(this,ut,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$2(ut,lt,ht){this.props=ut,this.context=lt,this.refs=D$3,this.updater=ht||B$2}var H$2=G$2.prototype=new F$2;H$2.constructor=G$2;C$2(H$2,E$3.prototype);H$2.isPureReactComponent=!0;var I$2=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$2(ut,lt,ht){var _t,At={},qt=null,Zt=null;if(lt!=null)for(_t in lt.ref!==void 0&&(Zt=lt.ref),lt.key!==void 0&&(qt=""+lt.key),lt)J$1.call(lt,_t)&&!L$2.hasOwnProperty(_t)&&(At[_t]=lt[_t]);var cr=arguments.length-2;if(cr===1)At.children=ht;else if(1<cr){for(var Gr=Array(cr),Zr=0;Zr<cr;Zr++)Gr[Zr]=arguments[Zr+2];At.children=Gr}if(ut&&ut.defaultProps)for(_t in cr=ut.defaultProps,cr)At[_t]===void 0&&(At[_t]=cr[_t]);return{$$typeof:l$3,type:ut,key:qt,ref:Zt,props:At,_owner:K$2.current}}function N$2(ut,lt){return{$$typeof:l$3,type:ut.type,key:lt,ref:ut.ref,props:ut.props,_owner:ut._owner}}function O$1(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===l$3}function escape$1(ut){var lt={"=":"=0",":":"=2"};return"$"+ut.replace(/[=:]/g,function(ht){return lt[ht]})}var P$2=/\/+/g;function Q$2(ut,lt){return typeof ut=="object"&&ut!==null&&ut.key!=null?escape$1(""+ut.key):lt.toString(36)}function R$1(ut,lt,ht,_t,At){var qt=typeof ut;(qt==="undefined"||qt==="boolean")&&(ut=null);var Zt=!1;if(ut===null)Zt=!0;else switch(qt){case"string":case"number":Zt=!0;break;case"object":switch(ut.$$typeof){case l$3:case n$3:Zt=!0}}if(Zt)return Zt=ut,At=At(Zt),ut=_t===""?"."+Q$2(Zt,0):_t,I$2(At)?(ht="",ut!=null&&(ht=ut.replace(P$2,"$&/")+"/"),R$1(At,lt,ht,"",function(Zr){return Zr})):At!=null&&(O$1(At)&&(At=N$2(At,ht+(!At.key||Zt&&Zt.key===At.key?"":(""+At.key).replace(P$2,"$&/")+"/")+ut)),lt.push(At)),1;if(Zt=0,_t=_t===""?".":_t+":",I$2(ut))for(var cr=0;cr<ut.length;cr++){qt=ut[cr];var Gr=_t+Q$2(qt,cr);Zt+=R$1(qt,lt,ht,Gr,At)}else if(Gr=A$2(ut),typeof Gr=="function")for(ut=Gr.call(ut),cr=0;!(qt=ut.next()).done;)qt=qt.value,Gr=_t+Q$2(qt,cr++),Zt+=R$1(qt,lt,ht,Gr,At);else if(qt==="object")throw lt=String(ut),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(ut).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.");return Zt}function S$2(ut,lt,ht){if(ut==null)return ut;var _t=[],At=0;return R$1(ut,_t,"","",function(qt){return lt.call(ht,qt,At++)}),_t}function T$3(ut){if(ut._status===-1){var lt=ut._result;lt=lt(),lt.then(function(ht){(ut._status===0||ut._status===-1)&&(ut._status=1,ut._result=ht)},function(ht){(ut._status===0||ut._status===-1)&&(ut._status=2,ut._result=ht)}),ut._status===-1&&(ut._status=0,ut._result=lt)}if(ut._status===1)return ut._result.default;throw ut._result}var U$2={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$2,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(ut,lt,ht){S$2(ut,function(){lt.apply(this,arguments)},ht)},count:function(ut){var lt=0;return S$2(ut,function(){lt++}),lt},toArray:function(ut){return S$2(ut,function(lt){return lt})||[]},only:function(ut){if(!O$1(ut))throw Error("React.Children.only expected to receive a single React element child.");return ut}};react_production_min.Component=E$3;react_production_min.Fragment=p$4;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$2;react_production_min.StrictMode=q$3;react_production_min.Suspense=w$2;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(ut,lt,ht){if(ut==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ut+".");var _t=C$2({},ut.props),At=ut.key,qt=ut.ref,Zt=ut._owner;if(lt!=null){if(lt.ref!==void 0&&(qt=lt.ref,Zt=K$2.current),lt.key!==void 0&&(At=""+lt.key),ut.type&&ut.type.defaultProps)var cr=ut.type.defaultProps;for(Gr in lt)J$1.call(lt,Gr)&&!L$2.hasOwnProperty(Gr)&&(_t[Gr]=lt[Gr]===void 0&&cr!==void 0?cr[Gr]:lt[Gr])}var Gr=arguments.length-2;if(Gr===1)_t.children=ht;else if(1<Gr){cr=Array(Gr);for(var Zr=0;Zr<Gr;Zr++)cr[Zr]=arguments[Zr+2];_t.children=cr}return{$$typeof:l$3,type:ut.type,key:At,ref:qt,props:_t,_owner:Zt}};react_production_min.createContext=function(ut){return ut={$$typeof:u$2,_currentValue:ut,_currentValue2:ut,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ut.Provider={$$typeof:t$2,_context:ut},ut.Consumer=ut};react_production_min.createElement=M$2;react_production_min.createFactory=function(ut){var lt=M$2.bind(null,ut);return lt.type=ut,lt};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(ut){return{$$typeof:v$3,render:ut}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(ut){return{$$typeof:y$2,_payload:{_status:-1,_result:ut},_init:T$3}};react_production_min.memo=function(ut,lt){return{$$typeof:x$3,type:ut,compare:lt===void 0?null:lt}};react_production_min.startTransition=function(ut){var lt=V$2.transition;V$2.transition={};try{ut()}finally{V$2.transition=lt}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(ut,lt){return U$2.current.useCallback(ut,lt)};react_production_min.useContext=function(ut){return U$2.current.useContext(ut)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(ut){return U$2.current.useDeferredValue(ut)};react_production_min.useEffect=function(ut,lt){return U$2.current.useEffect(ut,lt)};react_production_min.useId=function(){return U$2.current.useId()};react_production_min.useImperativeHandle=function(ut,lt,ht){return U$2.current.useImperativeHandle(ut,lt,ht)};react_production_min.useInsertionEffect=function(ut,lt){return U$2.current.useInsertionEffect(ut,lt)};react_production_min.useLayoutEffect=function(ut,lt){return U$2.current.useLayoutEffect(ut,lt)};react_production_min.useMemo=function(ut,lt){return U$2.current.useMemo(ut,lt)};react_production_min.useReducer=function(ut,lt,ht){return U$2.current.useReducer(ut,lt,ht)};react_production_min.useRef=function(ut){return U$2.current.useRef(ut)};react_production_min.useState=function(ut){return U$2.current.useState(ut)};react_production_min.useSyncExternalStore=function(ut,lt,ht){return U$2.current.useSyncExternalStore(ut,lt,ht)};react_production_min.useTransition=function(){return U$2.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const r$1=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$1=reactExports,k$3=Symbol.for("react.element"),l$2=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$2=f$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$3={key:!0,ref:!0,__self:!0,__source:!0};function q$2(ut,lt,ht){var _t,At={},qt=null,Zt=null;ht!==void 0&&(qt=""+ht),lt.key!==void 0&&(qt=""+lt.key),lt.ref!==void 0&&(Zt=lt.ref);for(_t in lt)m$3.call(lt,_t)&&!p$3.hasOwnProperty(_t)&&(At[_t]=lt[_t]);if(ut&&ut.defaultProps)for(_t in lt=ut.defaultProps,lt)At[_t]===void 0&&(At[_t]=lt[_t]);return{$$typeof:k$3,type:ut,key:qt,ref:Zt,props:At,_owner:n$2.current}}reactJsxRuntime_production_min.Fragment=l$2;reactJsxRuntime_production_min.jsx=q$2;reactJsxRuntime_production_min.jsxs=q$2;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports;const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;class Subscribable{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(lt){const ht={listener:lt};return this.listeners.add(ht),this.onSubscribe(),()=>{this.listeners.delete(ht),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const isServer=typeof window>"u"||"Deno"in window;function noop$3(){}function functionalUpdate(ut,lt){return typeof ut=="function"?ut(lt):ut}function isValidTimeout(ut){return typeof ut=="number"&&ut>=0&&ut!==1/0}function timeUntilStale(ut,lt){return Math.max(ut+(lt||0)-Date.now(),0)}function parseQueryArgs(ut,lt,ht){return isQueryKey(ut)?typeof lt=="function"?{...ht,queryKey:ut,queryFn:lt}:{...lt,queryKey:ut}:ut}function parseFilterArgs(ut,lt,ht){return isQueryKey(ut)?[{...lt,queryKey:ut},ht]:[ut||{},lt]}function matchQuery(ut,lt){const{type:ht="all",exact:_t,fetchStatus:At,predicate:qt,queryKey:Zt,stale:cr}=ut;if(isQueryKey(Zt)){if(_t){if(lt.queryHash!==hashQueryKeyByOptions(Zt,lt.options))return!1}else if(!partialMatchKey(lt.queryKey,Zt))return!1}if(ht!=="all"){const Gr=lt.isActive();if(ht==="active"&&!Gr||ht==="inactive"&&Gr)return!1}return!(typeof cr=="boolean"&&lt.isStale()!==cr||typeof At<"u"&&At!==lt.state.fetchStatus||qt&&!qt(lt))}function matchMutation(ut,lt){const{exact:ht,fetching:_t,predicate:At,mutationKey:qt}=ut;if(isQueryKey(qt)){if(!lt.options.mutationKey)return!1;if(ht){if(hashQueryKey(lt.options.mutationKey)!==hashQueryKey(qt))return!1}else if(!partialMatchKey(lt.options.mutationKey,qt))return!1}return!(typeof _t=="boolean"&&lt.state.status==="loading"!==_t||At&&!At(lt))}function hashQueryKeyByOptions(ut,lt){return((lt==null?void 0:lt.queryKeyHashFn)||hashQueryKey)(ut)}function hashQueryKey(ut){return JSON.stringify(ut,(lt,ht)=>isPlainObject$2(ht)?Object.keys(ht).sort().reduce((_t,At)=>(_t[At]=ht[At],_t),{}):ht)}function partialMatchKey(ut,lt){return partialDeepEqual(ut,lt)}function partialDeepEqual(ut,lt){return ut===lt?!0:typeof ut!=typeof lt?!1:ut&&lt&&typeof ut=="object"&&typeof lt=="object"?!Object.keys(lt).some(ht=>!partialDeepEqual(ut[ht],lt[ht])):!1}function replaceEqualDeep(ut,lt){if(ut===lt)return ut;const ht=isPlainArray(ut)&&isPlainArray(lt);if(ht||isPlainObject$2(ut)&&isPlainObject$2(lt)){const _t=ht?ut.length:Object.keys(ut).length,At=ht?lt:Object.keys(lt),qt=At.length,Zt=ht?[]:{};let cr=0;for(let Gr=0;Gr<qt;Gr++){const Zr=ht?Gr:At[Gr];Zt[Zr]=replaceEqualDeep(ut[Zr],lt[Zr]),Zt[Zr]===ut[Zr]&&cr++}return _t===qt&&cr===_t?ut:Zt}return lt}function isPlainArray(ut){return Array.isArray(ut)&&ut.length===Object.keys(ut).length}function isPlainObject$2(ut){if(!hasObjectPrototype(ut))return!1;const lt=ut.constructor;if(typeof lt>"u")return!0;const ht=lt.prototype;return!(!hasObjectPrototype(ht)||!ht.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(ut){return Object.prototype.toString.call(ut)==="[object Object]"}function isQueryKey(ut){return Array.isArray(ut)}function sleep(ut){return new Promise(lt=>{setTimeout(lt,ut)})}function scheduleMicrotask(ut){sleep(0).then(ut)}function getAbortController(){if(typeof AbortController=="function")return new AbortController}function replaceData(ut,lt,ht){return ht.isDataEqual!=null&&ht.isDataEqual(ut,lt)?ut:typeof ht.structuralSharing=="function"?ht.structuralSharing(ut,lt):ht.structuralSharing!==!1?replaceEqualDeep(ut,lt):lt}class FocusManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const ht=()=>lt();return window.addEventListener("visibilitychange",ht,!1),window.addEventListener("focus",ht,!1),()=>{window.removeEventListener("visibilitychange",ht),window.removeEventListener("focus",ht)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var ht;this.setup=lt,(ht=this.cleanup)==null||ht.call(this),this.cleanup=lt(_t=>{typeof _t=="boolean"?this.setFocused(_t):this.onFocus()})}setFocused(lt){this.focused!==lt&&(this.focused=lt,this.onFocus())}onFocus(){this.listeners.forEach(({listener:lt})=>{lt()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const focusManager=new FocusManager,onlineEvents=["online","offline"];class OnlineManager extends Subscribable{constructor(){super(),this.setup=lt=>{if(!isServer&&window.addEventListener){const ht=()=>lt();return onlineEvents.forEach(_t=>{window.addEventListener(_t,ht,!1)}),()=>{onlineEvents.forEach(_t=>{window.removeEventListener(_t,ht)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var lt;(lt=this.cleanup)==null||lt.call(this),this.cleanup=void 0}}setEventListener(lt){var ht;this.setup=lt,(ht=this.cleanup)==null||ht.call(this),this.cleanup=lt(_t=>{typeof _t=="boolean"?this.setOnline(_t):this.onOnline()})}setOnline(lt){this.online!==lt&&(this.online=lt,this.onOnline())}onOnline(){this.listeners.forEach(({listener:lt})=>{lt()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const onlineManager=new OnlineManager;function defaultRetryDelay(ut){return Math.min(1e3*2**ut,3e4)}function canFetch(ut){return(ut??"online")==="online"?onlineManager.isOnline():!0}class CancelledError{constructor(lt){this.revert=lt==null?void 0:lt.revert,this.silent=lt==null?void 0:lt.silent}}function isCancelledError(ut){return ut instanceof CancelledError}function createRetryer(ut){let lt=!1,ht=0,_t=!1,At,qt,Zt;const cr=new Promise((ep,Al)=>{qt=ep,Zt=Al}),Gr=ep=>{_t||(ls(new CancelledError(ep)),ut.abort==null||ut.abort())},Zr=()=>{lt=!0},xn=()=>{lt=!1},On=()=>!focusManager.isFocused()||ut.networkMode!=="always"&&!onlineManager.isOnline(),ss=ep=>{_t||(_t=!0,ut.onSuccess==null||ut.onSuccess(ep),At==null||At(),qt(ep))},ls=ep=>{_t||(_t=!0,ut.onError==null||ut.onError(ep),At==null||At(),Zt(ep))},cs=()=>new Promise(ep=>{At=Al=>{const np=_t||!On();return np&&ep(Al),np},ut.onPause==null||ut.onPause()}).then(()=>{At=void 0,_t||ut.onContinue==null||ut.onContinue()}),wl=()=>{if(_t)return;let ep;try{ep=ut.fn()}catch(Al){ep=Promise.reject(Al)}Promise.resolve(ep).then(ss).catch(Al=>{var np,cp;if(_t)return;const Cp=(np=ut.retry)!=null?np:3,Lp=(cp=ut.retryDelay)!=null?cp:defaultRetryDelay,jp=typeof Lp=="function"?Lp(ht,Al):Lp,nm=Cp===!0||typeof Cp=="number"&&ht<Cp||typeof Cp=="function"&&Cp(ht,Al);if(lt||!nm){ls(Al);return}ht++,ut.onFail==null||ut.onFail(ht,Al),sleep(jp).then(()=>{if(On())return cs()}).then(()=>{lt?ls(Al):wl()})})};return canFetch(ut.networkMode)?wl():cs().then(wl),{promise:cr,cancel:Gr,continue:()=>(At==null?void 0:At())?cr:Promise.resolve(),cancelRetry:Zr,continueRetry:xn}}const defaultLogger=console;function createNotifyManager(){let ut=[],lt=0,ht=xn=>{xn()},_t=xn=>{xn()};const At=xn=>{let On;lt++;try{On=xn()}finally{lt--,lt||cr()}return On},qt=xn=>{lt?ut.push(xn):scheduleMicrotask(()=>{ht(xn)})},Zt=xn=>(...On)=>{qt(()=>{xn(...On)})},cr=()=>{const xn=ut;ut=[],xn.length&&scheduleMicrotask(()=>{_t(()=>{xn.forEach(On=>{ht(On)})})})};return{batch:At,batchCalls:Zt,schedule:qt,setNotifyFunction:xn=>{ht=xn},setBatchNotifyFunction:xn=>{_t=xn}}}const notifyManager=createNotifyManager();class Removable{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(lt){this.cacheTime=Math.max(this.cacheTime||0,lt??(isServer?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class Query extends Removable{constructor(lt){super(),this.abortSignalConsumed=!1,this.defaultOptions=lt.defaultOptions,this.setOptions(lt.options),this.observers=[],this.cache=lt.cache,this.logger=lt.logger||defaultLogger,this.queryKey=lt.queryKey,this.queryHash=lt.queryHash,this.initialState=lt.state||getDefaultState$1(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(lt,ht){const _t=replaceData(this.state.data,lt,this.options);return this.dispatch({data:_t,type:"success",dataUpdatedAt:ht==null?void 0:ht.updatedAt,manual:ht==null?void 0:ht.manual}),_t}setState(lt,ht){this.dispatch({type:"setState",state:lt,setStateOptions:ht})}cancel(lt){var ht;const _t=this.promise;return(ht=this.retryer)==null||ht.cancel(lt),_t?_t.then(noop$3).catch(noop$3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(lt=>lt.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(lt=>lt.getCurrentResult().isStale)}isStaleByTime(lt=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,lt)}onFocus(){var lt;const ht=this.observers.find(_t=>_t.shouldFetchOnWindowFocus());ht&&ht.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}onOnline(){var lt;const ht=this.observers.find(_t=>_t.shouldFetchOnReconnect());ht&&ht.refetch({cancelRefetch:!1}),(lt=this.retryer)==null||lt.continue()}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:lt}))}removeObserver(lt){this.observers.includes(lt)&&(this.observers=this.observers.filter(ht=>ht!==lt),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:lt}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(lt,ht){var _t,At;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&ht!=null&&ht.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var qt;return(qt=this.retryer)==null||qt.continueRetry(),this.promise}}if(lt&&this.setOptions(lt),!this.options.queryFn){const ls=this.observers.find(cs=>cs.options.queryFn);ls&&this.setOptions(ls.options)}const Zt=getAbortController(),cr={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},Gr=ls=>{Object.defineProperty(ls,"signal",{enumerable:!0,get:()=>{if(Zt)return this.abortSignalConsumed=!0,Zt.signal}})};Gr(cr);const Zr=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(cr)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),xn={fetchOptions:ht,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:Zr};if(Gr(xn),(_t=this.options.behavior)==null||_t.onFetch(xn),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((At=xn.fetchOptions)==null?void 0:At.meta)){var On;this.dispatch({type:"fetch",meta:(On=xn.fetchOptions)==null?void 0:On.meta})}const ss=ls=>{if(isCancelledError(ls)&&ls.silent||this.dispatch({type:"error",error:ls}),!isCancelledError(ls)){var cs,wl,ep,Al;(cs=(wl=this.cache.config).onError)==null||cs.call(wl,ls,this),(ep=(Al=this.cache.config).onSettled)==null||ep.call(Al,this.state.data,ls,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=createRetryer({fn:xn.fetchFn,abort:Zt==null?void 0:Zt.abort.bind(Zt),onSuccess:ls=>{var cs,wl,ep,Al;if(typeof ls>"u"){ss(new Error(this.queryHash+" data is undefined"));return}this.setData(ls),(cs=(wl=this.cache.config).onSuccess)==null||cs.call(wl,ls,this),(ep=(Al=this.cache.config).onSettled)==null||ep.call(Al,ls,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:ss,onFail:(ls,cs)=>{this.dispatch({type:"failed",failureCount:ls,error:cs})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:xn.options.retry,retryDelay:xn.options.retryDelay,networkMode:xn.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(lt){const ht=_t=>{var At,qt;switch(lt.type){case"failed":return{..._t,fetchFailureCount:lt.failureCount,fetchFailureReason:lt.error};case"pause":return{..._t,fetchStatus:"paused"};case"continue":return{..._t,fetchStatus:"fetching"};case"fetch":return{..._t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(At=lt.meta)!=null?At:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused",...!_t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{..._t,data:lt.data,dataUpdateCount:_t.dataUpdateCount+1,dataUpdatedAt:(qt=lt.dataUpdatedAt)!=null?qt:Date.now(),error:null,isInvalidated:!1,status:"success",...!lt.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const Zt=lt.error;return isCancelledError(Zt)&&Zt.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{..._t,error:Zt,errorUpdateCount:_t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:_t.fetchFailureCount+1,fetchFailureReason:Zt,fetchStatus:"idle",status:"error"};case"invalidate":return{..._t,isInvalidated:!0};case"setState":return{..._t,...lt.state}}};this.state=ht(this.state),notifyManager.batch(()=>{this.observers.forEach(_t=>{_t.onQueryUpdate(lt)}),this.cache.notify({query:this,type:"updated",action:lt})})}}function getDefaultState$1(ut){const lt=typeof ut.initialData=="function"?ut.initialData():ut.initialData,ht=typeof lt<"u",_t=ht?typeof ut.initialDataUpdatedAt=="function"?ut.initialDataUpdatedAt():ut.initialDataUpdatedAt:0;return{data:lt,dataUpdateCount:0,dataUpdatedAt:ht?_t??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:ht?"success":"loading",fetchStatus:"idle"}}class QueryCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.queries=[],this.queriesMap={}}build(lt,ht,_t){var At;const qt=ht.queryKey,Zt=(At=ht.queryHash)!=null?At:hashQueryKeyByOptions(qt,ht);let cr=this.get(Zt);return cr||(cr=new Query({cache:this,logger:lt.getLogger(),queryKey:qt,queryHash:Zt,options:lt.defaultQueryOptions(ht),state:_t,defaultOptions:lt.getQueryDefaults(qt)}),this.add(cr)),cr}add(lt){this.queriesMap[lt.queryHash]||(this.queriesMap[lt.queryHash]=lt,this.queries.push(lt),this.notify({type:"added",query:lt}))}remove(lt){const ht=this.queriesMap[lt.queryHash];ht&&(lt.destroy(),this.queries=this.queries.filter(_t=>_t!==lt),ht===lt&&delete this.queriesMap[lt.queryHash],this.notify({type:"removed",query:lt}))}clear(){notifyManager.batch(()=>{this.queries.forEach(lt=>{this.remove(lt)})})}get(lt){return this.queriesMap[lt]}getAll(){return this.queries}find(lt,ht){const[_t]=parseFilterArgs(lt,ht);return typeof _t.exact>"u"&&(_t.exact=!0),this.queries.find(At=>matchQuery(_t,At))}findAll(lt,ht){const[_t]=parseFilterArgs(lt,ht);return Object.keys(_t).length>0?this.queries.filter(At=>matchQuery(_t,At)):this.queries}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:ht})=>{ht(lt)})})}onFocus(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.queries.forEach(lt=>{lt.onOnline()})})}}class Mutation extends Removable{constructor(lt){super(),this.defaultOptions=lt.defaultOptions,this.mutationId=lt.mutationId,this.mutationCache=lt.mutationCache,this.logger=lt.logger||defaultLogger,this.observers=[],this.state=lt.state||getDefaultState(),this.setOptions(lt.options),this.scheduleGc()}setOptions(lt){this.options={...this.defaultOptions,...lt},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(lt){this.dispatch({type:"setState",state:lt})}addObserver(lt){this.observers.includes(lt)||(this.observers.push(lt),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:lt}))}removeObserver(lt){this.observers=this.observers.filter(ht=>ht!==lt),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:lt})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var lt,ht;return(lt=(ht=this.retryer)==null?void 0:ht.continue())!=null?lt:this.execute()}async execute(){const lt=()=>{var nm;return this.retryer=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(zm,i1)=>{this.dispatch({type:"failed",failureCount:zm,error:i1})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(nm=this.options.retry)!=null?nm:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},ht=this.state.status==="loading";try{var _t,At,qt,Zt,cr,Gr,Zr,xn;if(!ht){var On,ss,ls,cs;this.dispatch({type:"loading",variables:this.options.variables}),await((On=(ss=this.mutationCache.config).onMutate)==null?void 0:On.call(ss,this.state.variables,this));const zm=await((ls=(cs=this.options).onMutate)==null?void 0:ls.call(cs,this.state.variables));zm!==this.state.context&&this.dispatch({type:"loading",context:zm,variables:this.state.variables})}const nm=await lt();return await((_t=(At=this.mutationCache.config).onSuccess)==null?void 0:_t.call(At,nm,this.state.variables,this.state.context,this)),await((qt=(Zt=this.options).onSuccess)==null?void 0:qt.call(Zt,nm,this.state.variables,this.state.context)),await((cr=(Gr=this.mutationCache.config).onSettled)==null?void 0:cr.call(Gr,nm,null,this.state.variables,this.state.context,this)),await((Zr=(xn=this.options).onSettled)==null?void 0:Zr.call(xn,nm,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:nm}),nm}catch(nm){try{var wl,ep,Al,np,cp,Cp,Lp,jp;throw await((wl=(ep=this.mutationCache.config).onError)==null?void 0:wl.call(ep,nm,this.state.variables,this.state.context,this)),await((Al=(np=this.options).onError)==null?void 0:Al.call(np,nm,this.state.variables,this.state.context)),await((cp=(Cp=this.mutationCache.config).onSettled)==null?void 0:cp.call(Cp,void 0,nm,this.state.variables,this.state.context,this)),await((Lp=(jp=this.options).onSettled)==null?void 0:Lp.call(jp,void 0,nm,this.state.variables,this.state.context)),nm}finally{this.dispatch({type:"error",error:nm})}}}dispatch(lt){const ht=_t=>{switch(lt.type){case"failed":return{..._t,failureCount:lt.failureCount,failureReason:lt.error};case"pause":return{..._t,isPaused:!0};case"continue":return{..._t,isPaused:!1};case"loading":return{..._t,context:lt.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"loading",variables:lt.variables};case"success":return{..._t,data:lt.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{..._t,data:void 0,error:lt.error,failureCount:_t.failureCount+1,failureReason:lt.error,isPaused:!1,status:"error"};case"setState":return{..._t,...lt.state}}};this.state=ht(this.state),notifyManager.batch(()=>{this.observers.forEach(_t=>{_t.onMutationUpdate(lt)}),this.mutationCache.notify({mutation:this,type:"updated",action:lt})})}}function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class MutationCache extends Subscribable{constructor(lt){super(),this.config=lt||{},this.mutations=[],this.mutationId=0}build(lt,ht,_t){const At=new Mutation({mutationCache:this,logger:lt.getLogger(),mutationId:++this.mutationId,options:lt.defaultMutationOptions(ht),state:_t,defaultOptions:ht.mutationKey?lt.getMutationDefaults(ht.mutationKey):void 0});return this.add(At),At}add(lt){this.mutations.push(lt),this.notify({type:"added",mutation:lt})}remove(lt){this.mutations=this.mutations.filter(ht=>ht!==lt),this.notify({type:"removed",mutation:lt})}clear(){notifyManager.batch(()=>{this.mutations.forEach(lt=>{this.remove(lt)})})}getAll(){return this.mutations}find(lt){return typeof lt.exact>"u"&&(lt.exact=!0),this.mutations.find(ht=>matchMutation(lt,ht))}findAll(lt){return this.mutations.filter(ht=>matchMutation(lt,ht))}notify(lt){notifyManager.batch(()=>{this.listeners.forEach(({listener:ht})=>{ht(lt)})})}resumePausedMutations(){var lt;return this.resuming=((lt=this.resuming)!=null?lt:Promise.resolve()).then(()=>{const ht=this.mutations.filter(_t=>_t.state.isPaused);return notifyManager.batch(()=>ht.reduce((_t,At)=>_t.then(()=>At.continue().catch(noop$3)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function infiniteQueryBehavior(){return{onFetch:ut=>{ut.fetchFn=()=>{var lt,ht,_t,At,qt,Zt;const cr=(lt=ut.fetchOptions)==null||(ht=lt.meta)==null?void 0:ht.refetchPage,Gr=(_t=ut.fetchOptions)==null||(At=_t.meta)==null?void 0:At.fetchMore,Zr=Gr==null?void 0:Gr.pageParam,xn=(Gr==null?void 0:Gr.direction)==="forward",On=(Gr==null?void 0:Gr.direction)==="backward",ss=((qt=ut.state.data)==null?void 0:qt.pages)||[],ls=((Zt=ut.state.data)==null?void 0:Zt.pageParams)||[];let cs=ls,wl=!1;const ep=jp=>{Object.defineProperty(jp,"signal",{enumerable:!0,get:()=>{var nm;if((nm=ut.signal)!=null&&nm.aborted)wl=!0;else{var zm;(zm=ut.signal)==null||zm.addEventListener("abort",()=>{wl=!0})}return ut.signal}})},Al=ut.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+ut.options.queryHash+"'")),np=(jp,nm,zm,i1)=>(cs=i1?[nm,...cs]:[...cs,nm],i1?[zm,...jp]:[...jp,zm]),cp=(jp,nm,zm,i1)=>{if(wl)return Promise.reject("Cancelled");if(typeof zm>"u"&&!nm&&jp.length)return Promise.resolve(jp);const d3={queryKey:ut.queryKey,pageParam:zm,meta:ut.options.meta};ep(d3);const op=Al(d3);return Promise.resolve(op).then(Fo=>np(jp,zm,Fo,i1))};let Cp;if(!ss.length)Cp=cp([]);else if(xn){const jp=typeof Zr<"u",nm=jp?Zr:getNextPageParam(ut.options,ss);Cp=cp(ss,jp,nm)}else if(On){const jp=typeof Zr<"u",nm=jp?Zr:getPreviousPageParam(ut.options,ss);Cp=cp(ss,jp,nm,!0)}else{cs=[];const jp=typeof ut.options.getNextPageParam>"u";Cp=(cr&&ss[0]?cr(ss[0],0,ss):!0)?cp([],jp,ls[0]):Promise.resolve(np([],ls[0],ss[0]));for(let zm=1;zm<ss.length;zm++)Cp=Cp.then(i1=>{if(cr&&ss[zm]?cr(ss[zm],zm,ss):!0){const op=jp?ls[zm]:getNextPageParam(ut.options,i1);return cp(i1,jp,op)}return Promise.resolve(np(i1,ls[zm],ss[zm]))})}return Cp.then(jp=>({pages:jp,pageParams:cs}))}}}}function getNextPageParam(ut,lt){return ut.getNextPageParam==null?void 0:ut.getNextPageParam(lt[lt.length-1],lt)}function getPreviousPageParam(ut,lt){return ut.getPreviousPageParam==null?void 0:ut.getPreviousPageParam(lt[0],lt)}class QueryClient{constructor(lt={}){this.queryCache=lt.queryCache||new QueryCache,this.mutationCache=lt.mutationCache||new MutationCache,this.logger=lt.logger||defaultLogger,this.defaultOptions=lt.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=focusManager.subscribe(()=>{focusManager.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=onlineManager.subscribe(()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var lt,ht;this.mountCount--,this.mountCount===0&&((lt=this.unsubscribeFocus)==null||lt.call(this),this.unsubscribeFocus=void 0,(ht=this.unsubscribeOnline)==null||ht.call(this),this.unsubscribeOnline=void 0)}isFetching(lt,ht){const[_t]=parseFilterArgs(lt,ht);return _t.fetchStatus="fetching",this.queryCache.findAll(_t).length}isMutating(lt){return this.mutationCache.findAll({...lt,fetching:!0}).length}getQueryData(lt,ht){var _t;return(_t=this.queryCache.find(lt,ht))==null?void 0:_t.state.data}ensureQueryData(lt,ht,_t){const At=parseQueryArgs(lt,ht,_t),qt=this.getQueryData(At.queryKey);return qt?Promise.resolve(qt):this.fetchQuery(At)}getQueriesData(lt){return this.getQueryCache().findAll(lt).map(({queryKey:ht,state:_t})=>{const At=_t.data;return[ht,At]})}setQueryData(lt,ht,_t){const At=this.queryCache.find(lt),qt=At==null?void 0:At.state.data,Zt=functionalUpdate(ht,qt);if(typeof Zt>"u")return;const cr=parseQueryArgs(lt),Gr=this.defaultQueryOptions(cr);return this.queryCache.build(this,Gr).setData(Zt,{..._t,manual:!0})}setQueriesData(lt,ht,_t){return notifyManager.batch(()=>this.getQueryCache().findAll(lt).map(({queryKey:At})=>[At,this.setQueryData(At,ht,_t)]))}getQueryState(lt,ht){var _t;return(_t=this.queryCache.find(lt,ht))==null?void 0:_t.state}removeQueries(lt,ht){const[_t]=parseFilterArgs(lt,ht),At=this.queryCache;notifyManager.batch(()=>{At.findAll(_t).forEach(qt=>{At.remove(qt)})})}resetQueries(lt,ht,_t){const[At,qt]=parseFilterArgs(lt,ht,_t),Zt=this.queryCache,cr={type:"active",...At};return notifyManager.batch(()=>(Zt.findAll(At).forEach(Gr=>{Gr.reset()}),this.refetchQueries(cr,qt)))}cancelQueries(lt,ht,_t){const[At,qt={}]=parseFilterArgs(lt,ht,_t);typeof qt.revert>"u"&&(qt.revert=!0);const Zt=notifyManager.batch(()=>this.queryCache.findAll(At).map(cr=>cr.cancel(qt)));return Promise.all(Zt).then(noop$3).catch(noop$3)}invalidateQueries(lt,ht,_t){const[At,qt]=parseFilterArgs(lt,ht,_t);return notifyManager.batch(()=>{var Zt,cr;if(this.queryCache.findAll(At).forEach(Zr=>{Zr.invalidate()}),At.refetchType==="none")return Promise.resolve();const Gr={...At,type:(Zt=(cr=At.refetchType)!=null?cr:At.type)!=null?Zt:"active"};return this.refetchQueries(Gr,qt)})}refetchQueries(lt,ht,_t){const[At,qt]=parseFilterArgs(lt,ht,_t),Zt=notifyManager.batch(()=>this.queryCache.findAll(At).filter(Gr=>!Gr.isDisabled()).map(Gr=>{var Zr;return Gr.fetch(void 0,{...qt,cancelRefetch:(Zr=qt==null?void 0:qt.cancelRefetch)!=null?Zr:!0,meta:{refetchPage:At.refetchPage}})}));let cr=Promise.all(Zt).then(noop$3);return qt!=null&&qt.throwOnError||(cr=cr.catch(noop$3)),cr}fetchQuery(lt,ht,_t){const At=parseQueryArgs(lt,ht,_t),qt=this.defaultQueryOptions(At);typeof qt.retry>"u"&&(qt.retry=!1);const Zt=this.queryCache.build(this,qt);return Zt.isStaleByTime(qt.staleTime)?Zt.fetch(qt):Promise.resolve(Zt.state.data)}prefetchQuery(lt,ht,_t){return this.fetchQuery(lt,ht,_t).then(noop$3).catch(noop$3)}fetchInfiniteQuery(lt,ht,_t){const At=parseQueryArgs(lt,ht,_t);return At.behavior=infiniteQueryBehavior(),this.fetchQuery(At)}prefetchInfiniteQuery(lt,ht,_t){return this.fetchInfiniteQuery(lt,ht,_t).then(noop$3).catch(noop$3)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(lt){this.defaultOptions=lt}setQueryDefaults(lt,ht){const _t=this.queryDefaults.find(At=>hashQueryKey(lt)===hashQueryKey(At.queryKey));_t?_t.defaultOptions=ht:this.queryDefaults.push({queryKey:lt,defaultOptions:ht})}getQueryDefaults(lt){if(!lt)return;const ht=this.queryDefaults.find(_t=>partialMatchKey(lt,_t.queryKey));return ht==null?void 0:ht.defaultOptions}setMutationDefaults(lt,ht){const _t=this.mutationDefaults.find(At=>hashQueryKey(lt)===hashQueryKey(At.mutationKey));_t?_t.defaultOptions=ht:this.mutationDefaults.push({mutationKey:lt,defaultOptions:ht})}getMutationDefaults(lt){if(!lt)return;const ht=this.mutationDefaults.find(_t=>partialMatchKey(lt,_t.mutationKey));return ht==null?void 0:ht.defaultOptions}defaultQueryOptions(lt){if(lt!=null&&lt._defaulted)return lt;const ht={...this.defaultOptions.queries,...this.getQueryDefaults(lt==null?void 0:lt.queryKey),...lt,_defaulted:!0};return!ht.queryHash&&ht.queryKey&&(ht.queryHash=hashQueryKeyByOptions(ht.queryKey,ht)),typeof ht.refetchOnReconnect>"u"&&(ht.refetchOnReconnect=ht.networkMode!=="always"),typeof ht.useErrorBoundary>"u"&&(ht.useErrorBoundary=!!ht.suspense),ht}defaultMutationOptions(lt){return lt!=null&&lt._defaulted?lt:{...this.defaultOptions.mutations,...this.getMutationDefaults(lt==null?void 0:lt.mutationKey),...lt,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}var reactDom={exports:{}},reactDom_production_min={},scheduler$1={exports:{}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ut){function lt(lp,pu){var go=lp.length;lp.push(pu);e:for(;0<go;){var h0=go-1>>>1,kp=lp[h0];if(0<At(kp,pu))lp[h0]=pu,lp[go]=kp,go=h0;else break e}}function ht(lp){return lp.length===0?null:lp[0]}function _t(lp){if(lp.length===0)return null;var pu=lp[0],go=lp.pop();if(go!==pu){lp[0]=go;e:for(var h0=0,kp=lp.length,cm=kp>>>1;h0<cm;){var b3=2*(h0+1)-1,L_=lp[b3],Ym=b3+1,Xm=lp[Ym];if(0>At(L_,go))Ym<kp&&0>At(Xm,L_)?(lp[h0]=Xm,lp[Ym]=go,h0=Ym):(lp[h0]=L_,lp[b3]=go,h0=b3);else if(Ym<kp&&0>At(Xm,go))lp[h0]=Xm,lp[Ym]=go,h0=Ym;else break e}}return pu}function At(lp,pu){var go=lp.sortIndex-pu.sortIndex;return go!==0?go:lp.id-pu.id}if(typeof performance=="object"&&typeof performance.now=="function"){var qt=performance;ut.unstable_now=function(){return qt.now()}}else{var Zt=Date,cr=Zt.now();ut.unstable_now=function(){return Zt.now()-cr}}var Gr=[],Zr=[],xn=1,On=null,ss=3,ls=!1,cs=!1,wl=!1,ep=typeof setTimeout=="function"?setTimeout:null,Al=typeof clearTimeout=="function"?clearTimeout:null,np=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function cp(lp){for(var pu=ht(Zr);pu!==null;){if(pu.callback===null)_t(Zr);else if(pu.startTime<=lp)_t(Zr),pu.sortIndex=pu.expirationTime,lt(Gr,pu);else break;pu=ht(Zr)}}function Cp(lp){if(wl=!1,cp(lp),!cs)if(ht(Gr)!==null)cs=!0,xl(Lp);else{var pu=ht(Zr);pu!==null&&ip(Cp,pu.startTime-lp)}}function Lp(lp,pu){cs=!1,wl&&(wl=!1,Al(zm),zm=-1),ls=!0;var go=ss;try{for(cp(pu),On=ht(Gr);On!==null&&(!(On.expirationTime>pu)||lp&&!op());){var h0=On.callback;if(typeof h0=="function"){On.callback=null,ss=On.priorityLevel;var kp=h0(On.expirationTime<=pu);pu=ut.unstable_now(),typeof kp=="function"?On.callback=kp:On===ht(Gr)&&_t(Gr),cp(pu)}else _t(Gr);On=ht(Gr)}if(On!==null)var cm=!0;else{var b3=ht(Zr);b3!==null&&ip(Cp,b3.startTime-pu),cm=!1}return cm}finally{On=null,ss=go,ls=!1}}var jp=!1,nm=null,zm=-1,i1=5,d3=-1;function op(){return!(ut.unstable_now()-d3<i1)}function Sn(){if(nm!==null){var lp=ut.unstable_now();d3=lp;var pu=!0;try{pu=nm(!0,lp)}finally{pu?Fo():(jp=!1,nm=null)}}else jp=!1}var Fo;if(typeof np=="function")Fo=function(){np(Sn)};else if(typeof MessageChannel<"u"){var as=new MessageChannel,us=as.port2;as.port1.onmessage=Sn,Fo=function(){us.postMessage(null)}}else Fo=function(){ep(Sn,0)};function xl(lp){nm=lp,jp||(jp=!0,Fo())}function ip(lp,pu){zm=ep(function(){lp(ut.unstable_now())},pu)}ut.unstable_IdlePriority=5,ut.unstable_ImmediatePriority=1,ut.unstable_LowPriority=4,ut.unstable_NormalPriority=3,ut.unstable_Profiling=null,ut.unstable_UserBlockingPriority=2,ut.unstable_cancelCallback=function(lp){lp.callback=null},ut.unstable_continueExecution=function(){cs||ls||(cs=!0,xl(Lp))},ut.unstable_forceFrameRate=function(lp){0>lp||125<lp?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):i1=0<lp?Math.floor(1e3/lp):5},ut.unstable_getCurrentPriorityLevel=function(){return ss},ut.unstable_getFirstCallbackNode=function(){return ht(Gr)},ut.unstable_next=function(lp){switch(ss){case 1:case 2:case 3:var pu=3;break;default:pu=ss}var go=ss;ss=pu;try{return lp()}finally{ss=go}},ut.unstable_pauseExecution=function(){},ut.unstable_requestPaint=function(){},ut.unstable_runWithPriority=function(lp,pu){switch(lp){case 1:case 2:case 3:case 4:case 5:break;default:lp=3}var go=ss;ss=lp;try{return pu()}finally{ss=go}},ut.unstable_scheduleCallback=function(lp,pu,go){var h0=ut.unstable_now();switch(typeof go=="object"&&go!==null?(go=go.delay,go=typeof go=="number"&&0<go?h0+go:h0):go=h0,lp){case 1:var kp=-1;break;case 2:kp=250;break;case 5:kp=1073741823;break;case 4:kp=1e4;break;default:kp=5e3}return kp=go+kp,lp={id:xn++,callback:pu,priorityLevel:lp,startTime:go,expirationTime:kp,sortIndex:-1},go>h0?(lp.sortIndex=go,lt(Zr,lp),ht(Gr)===null&&lp===ht(Zr)&&(wl?(Al(zm),zm=-1):wl=!0,ip(Cp,go-h0))):(lp.sortIndex=kp,lt(Gr,lp),cs||ls||(cs=!0,xl(Lp))),lp},ut.unstable_shouldYield=op,ut.unstable_wrapCallback=function(lp){var pu=ss;return function(){var go=ss;ss=pu;try{return lp.apply(this,arguments)}finally{ss=go}}}})(scheduler_production_min$1);scheduler$1.exports=scheduler_production_min$1;var schedulerExports$1=scheduler$1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports$1;function p$2(ut){for(var lt="https://reactjs.org/docs/error-decoder.html?invariant="+ut,ht=1;ht<arguments.length;ht++)lt+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified React error #"+ut+"; visit "+lt+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(ut,lt){ha$1(ut,lt),ha$1(ut+"Capture",lt)}function ha$1(ut,lt){for(ea$1[ut]=lt,ut=0;ut<lt.length;ut++)da$1.add(lt[ut])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$1={},ma$1={};function oa$1(ut){return ja$1.call(ma$1,ut)?!0:ja$1.call(la$1,ut)?!1:ka$1.test(ut)?ma$1[ut]=!0:(la$1[ut]=!0,!1)}function pa$1(ut,lt,ht,_t){if(ht!==null&&ht.type===0)return!1;switch(typeof lt){case"function":case"symbol":return!0;case"boolean":return _t?!1:ht!==null?!ht.acceptsBooleans:(ut=ut.toLowerCase().slice(0,5),ut!=="data-"&&ut!=="aria-");default:return!1}}function qa$1(ut,lt,ht,_t){if(lt===null||typeof lt>"u"||pa$1(ut,lt,ht,_t))return!0;if(_t)return!1;if(ht!==null)switch(ht.type){case 3:return!lt;case 4:return lt===!1;case 5:return isNaN(lt);case 6:return isNaN(lt)||1>lt}return!1}function v$2(ut,lt,ht,_t,At,qt,Zt){this.acceptsBooleans=lt===2||lt===3||lt===4,this.attributeName=_t,this.attributeNamespace=At,this.mustUseProperty=ht,this.propertyName=ut,this.type=lt,this.sanitizeURL=qt,this.removeEmptyString=Zt}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(ut){z$2[ut]=new v$2(ut,0,!1,ut,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(ut){var lt=ut[0];z$2[lt]=new v$2(lt,1,!1,ut[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(ut){z$2[ut]=new v$2(ut,2,!1,ut.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(ut){z$2[ut]=new v$2(ut,2,!1,ut,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(ut){z$2[ut]=new v$2(ut,3,!1,ut.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(ut){z$2[ut]=new v$2(ut,3,!0,ut,null,!1,!1)});["capture","download"].forEach(function(ut){z$2[ut]=new v$2(ut,4,!1,ut,null,!1,!1)});["cols","rows","size","span"].forEach(function(ut){z$2[ut]=new v$2(ut,6,!1,ut,null,!1,!1)});["rowSpan","start"].forEach(function(ut){z$2[ut]=new v$2(ut,5,!1,ut.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(ut){return ut[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(ut){var lt=ut.replace(ra$1,sa$1);z$2[lt]=new v$2(lt,1,!1,ut,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(ut){var lt=ut.replace(ra$1,sa$1);z$2[lt]=new v$2(lt,1,!1,ut,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(ut){var lt=ut.replace(ra$1,sa$1);z$2[lt]=new v$2(lt,1,!1,ut,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(ut){z$2[ut]=new v$2(ut,1,!1,ut.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(ut){z$2[ut]=new v$2(ut,1,!1,ut.toLowerCase(),null,!0,!0)});function ta$1(ut,lt,ht,_t){var At=z$2.hasOwnProperty(lt)?z$2[lt]:null;(At!==null?At.type!==0:_t||!(2<lt.length)||lt[0]!=="o"&&lt[0]!=="O"||lt[1]!=="n"&&lt[1]!=="N")&&(qa$1(lt,ht,At,_t)&&(ht=null),_t||At===null?oa$1(lt)&&(ht===null?ut.removeAttribute(lt):ut.setAttribute(lt,""+ht)):At.mustUseProperty?ut[At.propertyName]=ht===null?At.type===3?!1:"":ht:(lt=At.attributeName,_t=At.attributeNamespace,ht===null?ut.removeAttribute(lt):(At=At.type,ht=At===3||At===4&&ht===!0?"":""+ht,_t?ut.setAttributeNS(_t,lt,ht):ut.setAttribute(lt,ht))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(ut){return ut===null||typeof ut!="object"?null:(ut=Ja$1&&ut[Ja$1]||ut["@@iterator"],typeof ut=="function"?ut:null)}var A$1=Object.assign,La$1;function Ma(ut){if(La$1===void 0)try{throw Error()}catch(ht){var lt=ht.stack.trim().match(/\n( *(at )?)/);La$1=lt&&lt[1]||""}return`
`+La$1+ut}var Na$1=!1;function Oa$1(ut,lt){if(!ut||Na$1)return"";Na$1=!0;var ht=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(lt)if(lt=function(){throw Error()},Object.defineProperty(lt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(lt,[])}catch(Zr){var _t=Zr}Reflect.construct(ut,[],lt)}else{try{lt.call()}catch(Zr){_t=Zr}ut.call(lt.prototype)}else{try{throw Error()}catch(Zr){_t=Zr}ut()}}catch(Zr){if(Zr&&_t&&typeof Zr.stack=="string"){for(var At=Zr.stack.split(`
`),qt=_t.stack.split(`
`),Zt=At.length-1,cr=qt.length-1;1<=Zt&&0<=cr&&At[Zt]!==qt[cr];)cr--;for(;1<=Zt&&0<=cr;Zt--,cr--)if(At[Zt]!==qt[cr]){if(Zt!==1||cr!==1)do if(Zt--,cr--,0>cr||At[Zt]!==qt[cr]){var Gr=`
`+At[Zt].replace(" at new "," at ");return ut.displayName&&Gr.includes("<anonymous>")&&(Gr=Gr.replace("<anonymous>",ut.displayName)),Gr}while(1<=Zt&&0<=cr);break}}}finally{Na$1=!1,Error.prepareStackTrace=ht}return(ut=ut?ut.displayName||ut.name:"")?Ma(ut):""}function Pa$1(ut){switch(ut.tag){case 5:return Ma(ut.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return ut=Oa$1(ut.type,!1),ut;case 11:return ut=Oa$1(ut.type.render,!1),ut;case 1:return ut=Oa$1(ut.type,!0),ut;default:return""}}function Qa$1(ut){if(ut==null)return null;if(typeof ut=="function")return ut.displayName||ut.name||null;if(typeof ut=="string")return ut;switch(ut){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof ut=="object")switch(ut.$$typeof){case Ca$1:return(ut.displayName||"Context")+".Consumer";case Ba$1:return(ut._context.displayName||"Context")+".Provider";case Da$1:var lt=ut.render;return ut=ut.displayName,ut||(ut=lt.displayName||lt.name||"",ut=ut!==""?"ForwardRef("+ut+")":"ForwardRef"),ut;case Ga$1:return lt=ut.displayName||null,lt!==null?lt:Qa$1(ut.type)||"Memo";case Ha$1:lt=ut._payload,ut=ut._init;try{return Qa$1(ut(lt))}catch{}}return null}function Ra$1(ut){var lt=ut.type;switch(ut.tag){case 24:return"Cache";case 9:return(lt.displayName||"Context")+".Consumer";case 10:return(lt._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return ut=lt.render,ut=ut.displayName||ut.name||"",lt.displayName||(ut!==""?"ForwardRef("+ut+")":"ForwardRef");case 7:return"Fragment";case 5:return lt;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(lt);case 8:return lt===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof lt=="function")return lt.displayName||lt.name||null;if(typeof lt=="string")return lt}return null}function Sa$1(ut){switch(typeof ut){case"boolean":case"number":case"string":case"undefined":return ut;case"object":return ut;default:return""}}function Ta$1(ut){var lt=ut.type;return(ut=ut.nodeName)&&ut.toLowerCase()==="input"&&(lt==="checkbox"||lt==="radio")}function Ua$1(ut){var lt=Ta$1(ut)?"checked":"value",ht=Object.getOwnPropertyDescriptor(ut.constructor.prototype,lt),_t=""+ut[lt];if(!ut.hasOwnProperty(lt)&&typeof ht<"u"&&typeof ht.get=="function"&&typeof ht.set=="function"){var At=ht.get,qt=ht.set;return Object.defineProperty(ut,lt,{configurable:!0,get:function(){return At.call(this)},set:function(Zt){_t=""+Zt,qt.call(this,Zt)}}),Object.defineProperty(ut,lt,{enumerable:ht.enumerable}),{getValue:function(){return _t},setValue:function(Zt){_t=""+Zt},stopTracking:function(){ut._valueTracker=null,delete ut[lt]}}}}function Va$1(ut){ut._valueTracker||(ut._valueTracker=Ua$1(ut))}function Wa$1(ut){if(!ut)return!1;var lt=ut._valueTracker;if(!lt)return!0;var ht=lt.getValue(),_t="";return ut&&(_t=Ta$1(ut)?ut.checked?"true":"false":ut.value),ut=_t,ut!==ht?(lt.setValue(ut),!0):!1}function Xa$1(ut){if(ut=ut||(typeof document<"u"?document:void 0),typeof ut>"u")return null;try{return ut.activeElement||ut.body}catch{return ut.body}}function Ya$1(ut,lt){var ht=lt.checked;return A$1({},lt,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:ht??ut._wrapperState.initialChecked})}function Za$1(ut,lt){var ht=lt.defaultValue==null?"":lt.defaultValue,_t=lt.checked!=null?lt.checked:lt.defaultChecked;ht=Sa$1(lt.value!=null?lt.value:ht),ut._wrapperState={initialChecked:_t,initialValue:ht,controlled:lt.type==="checkbox"||lt.type==="radio"?lt.checked!=null:lt.value!=null}}function ab$1(ut,lt){lt=lt.checked,lt!=null&&ta$1(ut,"checked",lt,!1)}function bb$1(ut,lt){ab$1(ut,lt);var ht=Sa$1(lt.value),_t=lt.type;if(ht!=null)_t==="number"?(ht===0&&ut.value===""||ut.value!=ht)&&(ut.value=""+ht):ut.value!==""+ht&&(ut.value=""+ht);else if(_t==="submit"||_t==="reset"){ut.removeAttribute("value");return}lt.hasOwnProperty("value")?cb$1(ut,lt.type,ht):lt.hasOwnProperty("defaultValue")&&cb$1(ut,lt.type,Sa$1(lt.defaultValue)),lt.checked==null&&lt.defaultChecked!=null&&(ut.defaultChecked=!!lt.defaultChecked)}function db$1(ut,lt,ht){if(lt.hasOwnProperty("value")||lt.hasOwnProperty("defaultValue")){var _t=lt.type;if(!(_t!=="submit"&&_t!=="reset"||lt.value!==void 0&&lt.value!==null))return;lt=""+ut._wrapperState.initialValue,ht||lt===ut.value||(ut.value=lt),ut.defaultValue=lt}ht=ut.name,ht!==""&&(ut.name=""),ut.defaultChecked=!!ut._wrapperState.initialChecked,ht!==""&&(ut.name=ht)}function cb$1(ut,lt,ht){(lt!=="number"||Xa$1(ut.ownerDocument)!==ut)&&(ht==null?ut.defaultValue=""+ut._wrapperState.initialValue:ut.defaultValue!==""+ht&&(ut.defaultValue=""+ht))}var eb$1=Array.isArray;function fb$1(ut,lt,ht,_t){if(ut=ut.options,lt){lt={};for(var At=0;At<ht.length;At++)lt["$"+ht[At]]=!0;for(ht=0;ht<ut.length;ht++)At=lt.hasOwnProperty("$"+ut[ht].value),ut[ht].selected!==At&&(ut[ht].selected=At),At&&_t&&(ut[ht].defaultSelected=!0)}else{for(ht=""+Sa$1(ht),lt=null,At=0;At<ut.length;At++){if(ut[At].value===ht){ut[At].selected=!0,_t&&(ut[At].defaultSelected=!0);return}lt!==null||ut[At].disabled||(lt=ut[At])}lt!==null&&(lt.selected=!0)}}function gb$1(ut,lt){if(lt.dangerouslySetInnerHTML!=null)throw Error(p$2(91));return A$1({},lt,{value:void 0,defaultValue:void 0,children:""+ut._wrapperState.initialValue})}function hb$1(ut,lt){var ht=lt.value;if(ht==null){if(ht=lt.children,lt=lt.defaultValue,ht!=null){if(lt!=null)throw Error(p$2(92));if(eb$1(ht)){if(1<ht.length)throw Error(p$2(93));ht=ht[0]}lt=ht}lt==null&&(lt=""),ht=lt}ut._wrapperState={initialValue:Sa$1(ht)}}function ib$1(ut,lt){var ht=Sa$1(lt.value),_t=Sa$1(lt.defaultValue);ht!=null&&(ht=""+ht,ht!==ut.value&&(ut.value=ht),lt.defaultValue==null&&ut.defaultValue!==ht&&(ut.defaultValue=ht)),_t!=null&&(ut.defaultValue=""+_t)}function jb$1(ut){var lt=ut.textContent;lt===ut._wrapperState.initialValue&&lt!==""&&lt!==null&&(ut.value=lt)}function kb$1(ut){switch(ut){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(ut,lt){return ut==null||ut==="http://www.w3.org/1999/xhtml"?kb$1(lt):ut==="http://www.w3.org/2000/svg"&&lt==="foreignObject"?"http://www.w3.org/1999/xhtml":ut}var mb$1,nb$1=function(ut){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(lt,ht,_t,At){MSApp.execUnsafeLocalFunction(function(){return ut(lt,ht,_t,At)})}:ut}(function(ut,lt){if(ut.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in ut)ut.innerHTML=lt;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+lt.valueOf().toString()+"</svg>",lt=mb$1.firstChild;ut.firstChild;)ut.removeChild(ut.firstChild);for(;lt.firstChild;)ut.appendChild(lt.firstChild)}});function ob$1(ut,lt){if(lt){var ht=ut.firstChild;if(ht&&ht===ut.lastChild&&ht.nodeType===3){ht.nodeValue=lt;return}}ut.textContent=lt}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(ut){qb$1.forEach(function(lt){lt=lt+ut.charAt(0).toUpperCase()+ut.substring(1),pb$1[lt]=pb$1[ut]})});function rb$1(ut,lt,ht){return lt==null||typeof lt=="boolean"||lt===""?"":ht||typeof lt!="number"||lt===0||pb$1.hasOwnProperty(ut)&&pb$1[ut]?(""+lt).trim():lt+"px"}function sb$1(ut,lt){ut=ut.style;for(var ht in lt)if(lt.hasOwnProperty(ht)){var _t=ht.indexOf("--")===0,At=rb$1(ht,lt[ht],_t);ht==="float"&&(ht="cssFloat"),_t?ut.setProperty(ht,At):ut[ht]=At}}var tb$1=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(ut,lt){if(lt){if(tb$1[ut]&&(lt.children!=null||lt.dangerouslySetInnerHTML!=null))throw Error(p$2(137,ut));if(lt.dangerouslySetInnerHTML!=null){if(lt.children!=null)throw Error(p$2(60));if(typeof lt.dangerouslySetInnerHTML!="object"||!("__html"in lt.dangerouslySetInnerHTML))throw Error(p$2(61))}if(lt.style!=null&&typeof lt.style!="object")throw Error(p$2(62))}}function vb$1(ut,lt){if(ut.indexOf("-")===-1)return typeof lt.is=="string";switch(ut){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(ut){return ut=ut.target||ut.srcElement||window,ut.correspondingUseElement&&(ut=ut.correspondingUseElement),ut.nodeType===3?ut.parentNode:ut}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(ut){if(ut=Cb$1(ut)){if(typeof yb$1!="function")throw Error(p$2(280));var lt=ut.stateNode;lt&&(lt=Db$1(lt),yb$1(ut.stateNode,ut.type,lt))}}function Eb$1(ut){zb$1?Ab$1?Ab$1.push(ut):Ab$1=[ut]:zb$1=ut}function Fb$1(){if(zb$1){var ut=zb$1,lt=Ab$1;if(Ab$1=zb$1=null,Bb$1(ut),lt)for(ut=0;ut<lt.length;ut++)Bb$1(lt[ut])}}function Gb$1(ut,lt){return ut(lt)}function Hb$1(){}var Ib$1=!1;function Jb$1(ut,lt,ht){if(Ib$1)return ut(lt,ht);Ib$1=!0;try{return Gb$1(ut,lt,ht)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(ut,lt){var ht=ut.stateNode;if(ht===null)return null;var _t=Db$1(ht);if(_t===null)return null;ht=_t[lt];e:switch(lt){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_t=!_t.disabled)||(ut=ut.type,_t=!(ut==="button"||ut==="input"||ut==="select"||ut==="textarea")),ut=!_t;break e;default:ut=!1}if(ut)return null;if(ht&&typeof ht!="function")throw Error(p$2(231,lt,typeof ht));return ht}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(ut,lt,ht,_t,At,qt,Zt,cr,Gr){var Zr=Array.prototype.slice.call(arguments,3);try{lt.apply(ht,Zr)}catch(xn){this.onError(xn)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(ut){Ob$1=!0,Pb$1=ut}};function Tb$1(ut,lt,ht,_t,At,qt,Zt,cr,Gr){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(ut,lt,ht,_t,At,qt,Zt,cr,Gr){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var Zr=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$2(198));Qb$1||(Qb$1=!0,Rb$1=Zr)}}function Vb$1(ut){var lt=ut,ht=ut;if(ut.alternate)for(;lt.return;)lt=lt.return;else{ut=lt;do lt=ut,lt.flags&4098&&(ht=lt.return),ut=lt.return;while(ut)}return lt.tag===3?ht:null}function Wb$1(ut){if(ut.tag===13){var lt=ut.memoizedState;if(lt===null&&(ut=ut.alternate,ut!==null&&(lt=ut.memoizedState)),lt!==null)return lt.dehydrated}return null}function Xb$1(ut){if(Vb$1(ut)!==ut)throw Error(p$2(188))}function Yb$1(ut){var lt=ut.alternate;if(!lt){if(lt=Vb$1(ut),lt===null)throw Error(p$2(188));return lt!==ut?null:ut}for(var ht=ut,_t=lt;;){var At=ht.return;if(At===null)break;var qt=At.alternate;if(qt===null){if(_t=At.return,_t!==null){ht=_t;continue}break}if(At.child===qt.child){for(qt=At.child;qt;){if(qt===ht)return Xb$1(At),ut;if(qt===_t)return Xb$1(At),lt;qt=qt.sibling}throw Error(p$2(188))}if(ht.return!==_t.return)ht=At,_t=qt;else{for(var Zt=!1,cr=At.child;cr;){if(cr===ht){Zt=!0,ht=At,_t=qt;break}if(cr===_t){Zt=!0,_t=At,ht=qt;break}cr=cr.sibling}if(!Zt){for(cr=qt.child;cr;){if(cr===ht){Zt=!0,ht=qt,_t=At;break}if(cr===_t){Zt=!0,_t=qt,ht=At;break}cr=cr.sibling}if(!Zt)throw Error(p$2(189))}}if(ht.alternate!==_t)throw Error(p$2(190))}if(ht.tag!==3)throw Error(p$2(188));return ht.stateNode.current===ht?ut:lt}function Zb$1(ut){return ut=Yb$1(ut),ut!==null?$b$1(ut):null}function $b$1(ut){if(ut.tag===5||ut.tag===6)return ut;for(ut=ut.child;ut!==null;){var lt=$b$1(ut);if(lt!==null)return lt;ut=ut.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc=ca$1.unstable_requestPaint,B$1=ca$1.unstable_now,ec$2=ca$1.unstable_getCurrentPriorityLevel,fc=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc(ut){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,ut,void 0,(ut.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc,pc$1=Math.log,qc$1=Math.LN2;function nc(ut){return ut>>>=0,ut===0?32:31-(pc$1(ut)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc(ut){switch(ut&-ut){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ut&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return ut&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return ut}}function uc$1(ut,lt){var ht=ut.pendingLanes;if(ht===0)return 0;var _t=0,At=ut.suspendedLanes,qt=ut.pingedLanes,Zt=ht&268435455;if(Zt!==0){var cr=Zt&~At;cr!==0?_t=tc(cr):(qt&=Zt,qt!==0&&(_t=tc(qt)))}else Zt=ht&~At,Zt!==0?_t=tc(Zt):qt!==0&&(_t=tc(qt));if(_t===0)return 0;if(lt!==0&&lt!==_t&&!(lt&At)&&(At=_t&-_t,qt=lt&-lt,At>=qt||At===16&&(qt&4194240)!==0))return lt;if(_t&4&&(_t|=ht&16),lt=ut.entangledLanes,lt!==0)for(ut=ut.entanglements,lt&=_t;0<lt;)ht=31-oc$1(lt),At=1<<ht,_t|=ut[ht],lt&=~At;return _t}function vc$1(ut,lt){switch(ut){case 1:case 2:case 4:return lt+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return lt+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(ut,lt){for(var ht=ut.suspendedLanes,_t=ut.pingedLanes,At=ut.expirationTimes,qt=ut.pendingLanes;0<qt;){var Zt=31-oc$1(qt),cr=1<<Zt,Gr=At[Zt];Gr===-1?(!(cr&ht)||cr&_t)&&(At[Zt]=vc$1(cr,lt)):Gr<=lt&&(ut.expiredLanes|=cr),qt&=~cr}}function xc$1(ut){return ut=ut.pendingLanes&-1073741825,ut!==0?ut:ut&1073741824?1073741824:0}function yc$1(){var ut=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),ut}function zc$1(ut){for(var lt=[],ht=0;31>ht;ht++)lt.push(ut);return lt}function Ac$1(ut,lt,ht){ut.pendingLanes|=lt,lt!==536870912&&(ut.suspendedLanes=0,ut.pingedLanes=0),ut=ut.eventTimes,lt=31-oc$1(lt),ut[lt]=ht}function Bc$1(ut,lt){var ht=ut.pendingLanes&~lt;ut.pendingLanes=lt,ut.suspendedLanes=0,ut.pingedLanes=0,ut.expiredLanes&=lt,ut.mutableReadLanes&=lt,ut.entangledLanes&=lt,lt=ut.entanglements;var _t=ut.eventTimes;for(ut=ut.expirationTimes;0<ht;){var At=31-oc$1(ht),qt=1<<At;lt[At]=0,_t[At]=-1,ut[At]=-1,ht&=~qt}}function Cc$1(ut,lt){var ht=ut.entangledLanes|=lt;for(ut=ut.entanglements;ht;){var _t=31-oc$1(ht),At=1<<_t;At&lt|ut[_t]&lt&&(ut[_t]|=lt),ht&=~At}}var C$1=0;function Dc$1(ut){return ut&=-ut,1<ut?4<ut?ut&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(ut,lt){switch(ut){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(lt.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(lt.pointerId)}}function Tc$1(ut,lt,ht,_t,At,qt){return ut===null||ut.nativeEvent!==qt?(ut={blockedOn:lt,domEventName:ht,eventSystemFlags:_t,nativeEvent:qt,targetContainers:[At]},lt!==null&&(lt=Cb$1(lt),lt!==null&&Fc$1(lt)),ut):(ut.eventSystemFlags|=_t,lt=ut.targetContainers,At!==null&&lt.indexOf(At)===-1&&lt.push(At),ut)}function Uc$1(ut,lt,ht,_t,At){switch(lt){case"focusin":return Lc$1=Tc$1(Lc$1,ut,lt,ht,_t,At),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,ut,lt,ht,_t,At),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,ut,lt,ht,_t,At),!0;case"pointerover":var qt=At.pointerId;return Oc$1.set(qt,Tc$1(Oc$1.get(qt)||null,ut,lt,ht,_t,At)),!0;case"gotpointercapture":return qt=At.pointerId,Pc$1.set(qt,Tc$1(Pc$1.get(qt)||null,ut,lt,ht,_t,At)),!0}return!1}function Vc$1(ut){var lt=Wc$1(ut.target);if(lt!==null){var ht=Vb$1(lt);if(ht!==null){if(lt=ht.tag,lt===13){if(lt=Wb$1(ht),lt!==null){ut.blockedOn=lt,Ic$1(ut.priority,function(){Gc$1(ht)});return}}else if(lt===3&&ht.stateNode.current.memoizedState.isDehydrated){ut.blockedOn=ht.tag===3?ht.stateNode.containerInfo:null;return}}}ut.blockedOn=null}function Xc$1(ut){if(ut.blockedOn!==null)return!1;for(var lt=ut.targetContainers;0<lt.length;){var ht=Yc$1(ut.domEventName,ut.eventSystemFlags,lt[0],ut.nativeEvent);if(ht===null){ht=ut.nativeEvent;var _t=new ht.constructor(ht.type,ht);wb$1=_t,ht.target.dispatchEvent(_t),wb$1=null}else return lt=Cb$1(ht),lt!==null&&Fc$1(lt),ut.blockedOn=ht,!1;lt.shift()}return!0}function Zc$1(ut,lt,ht){Xc$1(ut)&&ht.delete(lt)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(ut,lt){ut.blockedOn===lt&&(ut.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(ut){function lt(At){return ad$1(At,ut)}if(0<Kc$1.length){ad$1(Kc$1[0],ut);for(var ht=1;ht<Kc$1.length;ht++){var _t=Kc$1[ht];_t.blockedOn===ut&&(_t.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,ut),Mc$1!==null&&ad$1(Mc$1,ut),Nc$1!==null&&ad$1(Nc$1,ut),Oc$1.forEach(lt),Pc$1.forEach(lt),ht=0;ht<Qc$1.length;ht++)_t=Qc$1[ht],_t.blockedOn===ut&&(_t.blockedOn=null);for(;0<Qc$1.length&&(ht=Qc$1[0],ht.blockedOn===null);)Vc$1(ht),ht.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(ut,lt,ht,_t){var At=C$1,qt=cd$1.transition;cd$1.transition=null;try{C$1=1,fd$2(ut,lt,ht,_t)}finally{C$1=At,cd$1.transition=qt}}function gd$1(ut,lt,ht,_t){var At=C$1,qt=cd$1.transition;cd$1.transition=null;try{C$1=4,fd$2(ut,lt,ht,_t)}finally{C$1=At,cd$1.transition=qt}}function fd$2(ut,lt,ht,_t){if(dd$1){var At=Yc$1(ut,lt,ht,_t);if(At===null)hd$1(ut,lt,_t,id$1,ht),Sc$1(ut,_t);else if(Uc$1(At,ut,lt,ht,_t))_t.stopPropagation();else if(Sc$1(ut,_t),lt&4&&-1<Rc$1.indexOf(ut)){for(;At!==null;){var qt=Cb$1(At);if(qt!==null&&Ec$1(qt),qt=Yc$1(ut,lt,ht,_t),qt===null&&hd$1(ut,lt,_t,id$1,ht),qt===At)break;At=qt}At!==null&&_t.stopPropagation()}else hd$1(ut,lt,_t,null,ht)}}var id$1=null;function Yc$1(ut,lt,ht,_t){if(id$1=null,ut=xb$1(_t),ut=Wc$1(ut),ut!==null)if(lt=Vb$1(ut),lt===null)ut=null;else if(ht=lt.tag,ht===13){if(ut=Wb$1(lt),ut!==null)return ut;ut=null}else if(ht===3){if(lt.stateNode.current.memoizedState.isDehydrated)return lt.tag===3?lt.stateNode.containerInfo:null;ut=null}else lt!==ut&&(ut=null);return id$1=ut,null}function jd$1(ut){switch(ut){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc:return 1;case gc$1:return 4;case hc:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var ut,lt=ld$1,ht=lt.length,_t,At="value"in kd$1?kd$1.value:kd$1.textContent,qt=At.length;for(ut=0;ut<ht&&lt[ut]===At[ut];ut++);var Zt=ht-ut;for(_t=1;_t<=Zt&&lt[ht-_t]===At[qt-_t];_t++);return md$1=At.slice(ut,1<_t?1-_t:void 0)}function od$1(ut){var lt=ut.keyCode;return"charCode"in ut?(ut=ut.charCode,ut===0&&lt===13&&(ut=13)):ut=lt,ut===10&&(ut=13),32<=ut||ut===13?ut:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(ut){function lt(ht,_t,At,qt,Zt){this._reactName=ht,this._targetInst=At,this.type=_t,this.nativeEvent=qt,this.target=Zt,this.currentTarget=null;for(var cr in ut)ut.hasOwnProperty(cr)&&(ht=ut[cr],this[cr]=ht?ht(qt):qt[cr]);return this.isDefaultPrevented=(qt.defaultPrevented!=null?qt.defaultPrevented:qt.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$1(lt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ht=this.nativeEvent;ht&&(ht.preventDefault?ht.preventDefault():typeof ht.returnValue!="unknown"&&(ht.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var ht=this.nativeEvent;ht&&(ht.stopPropagation?ht.stopPropagation():typeof ht.cancelBubble!="unknown"&&(ht.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),lt}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ut){return ut.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$2=rd$1(sd$1),ud$1=A$1({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$1({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(ut){return ut.relatedTarget===void 0?ut.fromElement===ut.srcElement?ut.toElement:ut.fromElement:ut.relatedTarget},movementX:function(ut){return"movementX"in ut?ut.movementX:(ut!==yd$1&&(yd$1&&ut.type==="mousemove"?(wd$1=ut.screenX-yd$1.screenX,xd$1=ut.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=ut),wd$1)},movementY:function(ut){return"movementY"in ut?ut.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$1({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$1({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$1({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$1({},sd$1,{clipboardData:function(ut){return"clipboardData"in ut?ut.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$1({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(ut){var lt=this.nativeEvent;return lt.getModifierState?lt.getModifierState(ut):(ut=Od$1[ut])?!!lt[ut]:!1}function zd$1(){return Pd$1}var Qd$1=A$1({},ud$1,{key:function(ut){if(ut.key){var lt=Md$1[ut.key]||ut.key;if(lt!=="Unidentified")return lt}return ut.type==="keypress"?(ut=od$1(ut),ut===13?"Enter":String.fromCharCode(ut)):ut.type==="keydown"||ut.type==="keyup"?Nd$1[ut.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(ut){return ut.type==="keypress"?od$1(ut):0},keyCode:function(ut){return ut.type==="keydown"||ut.type==="keyup"?ut.keyCode:0},which:function(ut){return ut.type==="keypress"?od$1(ut):ut.type==="keydown"||ut.type==="keyup"?ut.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$1({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$1({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$1({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$1({},Ad$1,{deltaX:function(ut){return"deltaX"in ut?ut.deltaX:"wheelDeltaX"in ut?-ut.wheelDeltaX:0},deltaY:function(ut){return"deltaY"in ut?ut.deltaY:"wheelDeltaY"in ut?-ut.wheelDeltaY:"wheelDelta"in ut?-ut.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce$2=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge$1(ut,lt){switch(ut){case"keyup":return $d$1.indexOf(lt.keyCode)!==-1;case"keydown":return lt.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(ut){return ut=ut.detail,typeof ut=="object"&&"data"in ut?ut.data:null}var ie$1=!1;function je$1(ut,lt){switch(ut){case"compositionend":return he$1(lt);case"keypress":return lt.which!==32?null:(fe$1=!0,ee$1);case"textInput":return ut=lt.data,ut===ee$1&&fe$1?null:ut;default:return null}}function ke$2(ut,lt){if(ie$1)return ut==="compositionend"||!ae$1&&ge$1(ut,lt)?(ut=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,ut):null;switch(ut){case"paste":return null;case"keypress":if(!(lt.ctrlKey||lt.altKey||lt.metaKey)||lt.ctrlKey&&lt.altKey){if(lt.char&&1<lt.char.length)return lt.char;if(lt.which)return String.fromCharCode(lt.which)}return null;case"compositionend":return de$1&&lt.locale!=="ko"?null:lt.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(ut){var lt=ut&&ut.nodeName&&ut.nodeName.toLowerCase();return lt==="input"?!!le$1[ut.type]:lt==="textarea"}function ne$1(ut,lt,ht,_t){Eb$1(_t),lt=oe$1(lt,"onChange"),0<lt.length&&(ht=new td$2("onChange","change",null,ht,_t),ut.push({event:ht,listeners:lt}))}var pe$1=null,qe$2=null;function re$1(ut){se$1(ut,0)}function te$1(ut){var lt=ue(ut);if(Wa$1(lt))return ut}function ve$1(ut,lt){if(ut==="change")return lt}var we$1=!1;if(ia$1){var xe$1;if(ia$1){var ye$2="oninput"in document;if(!ye$2){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$2=typeof ze$2.oninput=="function"}xe$1=ye$2}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be$2),qe$2=pe$1=null)}function Be$2(ut){if(ut.propertyName==="value"&&te$1(qe$2)){var lt=[];ne$1(lt,qe$2,ut,xb$1(ut)),Jb$1(re$1,lt)}}function Ce$1(ut,lt,ht){ut==="focusin"?(Ae$1(),pe$1=lt,qe$2=ht,pe$1.attachEvent("onpropertychange",Be$2)):ut==="focusout"&&Ae$1()}function De$1(ut){if(ut==="selectionchange"||ut==="keyup"||ut==="keydown")return te$1(qe$2)}function Ee$1(ut,lt){if(ut==="click")return te$1(lt)}function Fe$1(ut,lt){if(ut==="input"||ut==="change")return te$1(lt)}function Ge(ut,lt){return ut===lt&&(ut!==0||1/ut===1/lt)||ut!==ut&&lt!==lt}var He$1=typeof Object.is=="function"?Object.is:Ge;function Ie$1(ut,lt){if(He$1(ut,lt))return!0;if(typeof ut!="object"||ut===null||typeof lt!="object"||lt===null)return!1;var ht=Object.keys(ut),_t=Object.keys(lt);if(ht.length!==_t.length)return!1;for(_t=0;_t<ht.length;_t++){var At=ht[_t];if(!ja$1.call(lt,At)||!He$1(ut[At],lt[At]))return!1}return!0}function Je(ut){for(;ut&&ut.firstChild;)ut=ut.firstChild;return ut}function Ke(ut,lt){var ht=Je(ut);ut=0;for(var _t;ht;){if(ht.nodeType===3){if(_t=ut+ht.textContent.length,ut<=lt&&_t>=lt)return{node:ht,offset:lt-ut};ut=_t}e:{for(;ht;){if(ht.nextSibling){ht=ht.nextSibling;break e}ht=ht.parentNode}ht=void 0}ht=Je(ht)}}function Le$1(ut,lt){return ut&&lt?ut===lt?!0:ut&&ut.nodeType===3?!1:lt&&lt.nodeType===3?Le$1(ut,lt.parentNode):"contains"in ut?ut.contains(lt):ut.compareDocumentPosition?!!(ut.compareDocumentPosition(lt)&16):!1:!1}function Me$2(){for(var ut=window,lt=Xa$1();lt instanceof ut.HTMLIFrameElement;){try{var ht=typeof lt.contentWindow.location.href=="string"}catch{ht=!1}if(ht)ut=lt.contentWindow;else break;lt=Xa$1(ut.document)}return lt}function Ne$1(ut){var lt=ut&&ut.nodeName&&ut.nodeName.toLowerCase();return lt&&(lt==="input"&&(ut.type==="text"||ut.type==="search"||ut.type==="tel"||ut.type==="url"||ut.type==="password")||lt==="textarea"||ut.contentEditable==="true")}function Oe$2(ut){var lt=Me$2(),ht=ut.focusedElem,_t=ut.selectionRange;if(lt!==ht&&ht&&ht.ownerDocument&&Le$1(ht.ownerDocument.documentElement,ht)){if(_t!==null&&Ne$1(ht)){if(lt=_t.start,ut=_t.end,ut===void 0&&(ut=lt),"selectionStart"in ht)ht.selectionStart=lt,ht.selectionEnd=Math.min(ut,ht.value.length);else if(ut=(lt=ht.ownerDocument||document)&&lt.defaultView||window,ut.getSelection){ut=ut.getSelection();var At=ht.textContent.length,qt=Math.min(_t.start,At);_t=_t.end===void 0?qt:Math.min(_t.end,At),!ut.extend&&qt>_t&&(At=_t,_t=qt,qt=At),At=Ke(ht,qt);var Zt=Ke(ht,_t);At&&Zt&&(ut.rangeCount!==1||ut.anchorNode!==At.node||ut.anchorOffset!==At.offset||ut.focusNode!==Zt.node||ut.focusOffset!==Zt.offset)&&(lt=lt.createRange(),lt.setStart(At.node,At.offset),ut.removeAllRanges(),qt>_t?(ut.addRange(lt),ut.extend(Zt.node,Zt.offset)):(lt.setEnd(Zt.node,Zt.offset),ut.addRange(lt)))}}for(lt=[],ut=ht;ut=ut.parentNode;)ut.nodeType===1&&lt.push({element:ut,left:ut.scrollLeft,top:ut.scrollTop});for(typeof ht.focus=="function"&&ht.focus(),ht=0;ht<lt.length;ht++)ut=lt[ht],ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}var Pe=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$2=!1;function Ue(ut,lt,ht){var _t=ht.window===ht?ht.document:ht.nodeType===9?ht:ht.ownerDocument;Te$2||Qe$1==null||Qe$1!==Xa$1(_t)||(_t=Qe$1,"selectionStart"in _t&&Ne$1(_t)?_t={start:_t.selectionStart,end:_t.selectionEnd}:(_t=(_t.ownerDocument&&_t.ownerDocument.defaultView||window).getSelection(),_t={anchorNode:_t.anchorNode,anchorOffset:_t.anchorOffset,focusNode:_t.focusNode,focusOffset:_t.focusOffset}),Se$1&&Ie$1(Se$1,_t)||(Se$1=_t,_t=oe$1(Re$1,"onSelect"),0<_t.length&&(lt=new td$2("onSelect","select",null,lt,ht),ut.push({event:lt,listeners:_t}),lt.target=Qe$1)))}function Ve$1(ut,lt){var ht={};return ht[ut.toLowerCase()]=lt.toLowerCase(),ht["Webkit"+ut]="webkit"+lt,ht["Moz"+ut]="moz"+lt,ht}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze(ut){if(Xe$1[ut])return Xe$1[ut];if(!We$1[ut])return ut;var lt=We$1[ut],ht;for(ht in lt)if(lt.hasOwnProperty(ht)&&ht in Ye$1)return Xe$1[ut]=lt[ht];return ut}var $e$1=Ze("animationend"),af$1=Ze("animationiteration"),bf$1=Ze("animationstart"),cf$1=Ze("transitionend"),df$1=new Map,ef$1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff$1(ut,lt){df$1.set(ut,lt),fa$1(lt,[ut])}for(var gf$1=0;gf$1<ef$1.length;gf$1++){var hf$1=ef$1[gf$1],jf$1=hf$1.toLowerCase(),kf$1=hf$1[0].toUpperCase()+hf$1.slice(1);ff$1(jf$1,"on"+kf$1)}ff$1($e$1,"onAnimationEnd");ff$1(af$1,"onAnimationIteration");ff$1(bf$1,"onAnimationStart");ff$1("dblclick","onDoubleClick");ff$1("focusin","onFocus");ff$1("focusout","onBlur");ff$1(cf$1,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf$1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf$1=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf$1));function nf$1(ut,lt,ht){var _t=ut.type||"unknown-event";ut.currentTarget=ht,Ub$1(_t,lt,void 0,ut),ut.currentTarget=null}function se$1(ut,lt){lt=(lt&4)!==0;for(var ht=0;ht<ut.length;ht++){var _t=ut[ht],At=_t.event;_t=_t.listeners;e:{var qt=void 0;if(lt)for(var Zt=_t.length-1;0<=Zt;Zt--){var cr=_t[Zt],Gr=cr.instance,Zr=cr.currentTarget;if(cr=cr.listener,Gr!==qt&&At.isPropagationStopped())break e;nf$1(At,cr,Zr),qt=Gr}else for(Zt=0;Zt<_t.length;Zt++){if(cr=_t[Zt],Gr=cr.instance,Zr=cr.currentTarget,cr=cr.listener,Gr!==qt&&At.isPropagationStopped())break e;nf$1(At,cr,Zr),qt=Gr}}}if(Qb$1)throw ut=Rb$1,Qb$1=!1,Rb$1=null,ut}function D$2(ut,lt){var ht=lt[of$1];ht===void 0&&(ht=lt[of$1]=new Set);var _t=ut+"__bubble";ht.has(_t)||(pf$1(lt,ut,2,!1),ht.add(_t))}function qf$1(ut,lt,ht){var _t=0;lt&&(_t|=4),pf$1(ht,ut,_t,lt)}var rf$1="_reactListening"+Math.random().toString(36).slice(2);function sf$1(ut){if(!ut[rf$1]){ut[rf$1]=!0,da$1.forEach(function(ht){ht!=="selectionchange"&&(mf$1.has(ht)||qf$1(ht,!1,ut),qf$1(ht,!0,ut))});var lt=ut.nodeType===9?ut:ut.ownerDocument;lt===null||lt[rf$1]||(lt[rf$1]=!0,qf$1("selectionchange",!1,lt))}}function pf$1(ut,lt,ht,_t){switch(jd$1(lt)){case 1:var At=ed$1;break;case 4:At=gd$1;break;default:At=fd$2}ht=At.bind(null,lt,ht,ut),At=void 0,!Lb$1||lt!=="touchstart"&&lt!=="touchmove"&&lt!=="wheel"||(At=!0),_t?At!==void 0?ut.addEventListener(lt,ht,{capture:!0,passive:At}):ut.addEventListener(lt,ht,!0):At!==void 0?ut.addEventListener(lt,ht,{passive:At}):ut.addEventListener(lt,ht,!1)}function hd$1(ut,lt,ht,_t,At){var qt=_t;if(!(lt&1)&&!(lt&2)&&_t!==null)e:for(;;){if(_t===null)return;var Zt=_t.tag;if(Zt===3||Zt===4){var cr=_t.stateNode.containerInfo;if(cr===At||cr.nodeType===8&&cr.parentNode===At)break;if(Zt===4)for(Zt=_t.return;Zt!==null;){var Gr=Zt.tag;if((Gr===3||Gr===4)&&(Gr=Zt.stateNode.containerInfo,Gr===At||Gr.nodeType===8&&Gr.parentNode===At))return;Zt=Zt.return}for(;cr!==null;){if(Zt=Wc$1(cr),Zt===null)return;if(Gr=Zt.tag,Gr===5||Gr===6){_t=qt=Zt;continue e}cr=cr.parentNode}}_t=_t.return}Jb$1(function(){var Zr=qt,xn=xb$1(ht),On=[];e:{var ss=df$1.get(ut);if(ss!==void 0){var ls=td$2,cs=ut;switch(ut){case"keypress":if(od$1(ht)===0)break e;case"keydown":case"keyup":ls=Rd$1;break;case"focusin":cs="focus",ls=Fd$1;break;case"focusout":cs="blur",ls=Fd$1;break;case"beforeblur":case"afterblur":ls=Fd$1;break;case"click":if(ht.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ls=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ls=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ls=Vd$1;break;case $e$1:case af$1:case bf$1:ls=Hd$1;break;case cf$1:ls=Xd$1;break;case"scroll":ls=vd$1;break;case"wheel":ls=Zd$1;break;case"copy":case"cut":case"paste":ls=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ls=Td$1}var wl=(lt&4)!==0,ep=!wl&&ut==="scroll",Al=wl?ss!==null?ss+"Capture":null:ss;wl=[];for(var np=Zr,cp;np!==null;){cp=np;var Cp=cp.stateNode;if(cp.tag===5&&Cp!==null&&(cp=Cp,Al!==null&&(Cp=Kb$1(np,Al),Cp!=null&&wl.push(tf$1(np,Cp,cp)))),ep)break;np=np.return}0<wl.length&&(ss=new ls(ss,cs,null,ht,xn),On.push({event:ss,listeners:wl}))}}if(!(lt&7)){e:{if(ss=ut==="mouseover"||ut==="pointerover",ls=ut==="mouseout"||ut==="pointerout",ss&&ht!==wb$1&&(cs=ht.relatedTarget||ht.fromElement)&&(Wc$1(cs)||cs[uf$1]))break e;if((ls||ss)&&(ss=xn.window===xn?xn:(ss=xn.ownerDocument)?ss.defaultView||ss.parentWindow:window,ls?(cs=ht.relatedTarget||ht.toElement,ls=Zr,cs=cs?Wc$1(cs):null,cs!==null&&(ep=Vb$1(cs),cs!==ep||cs.tag!==5&&cs.tag!==6)&&(cs=null)):(ls=null,cs=Zr),ls!==cs)){if(wl=Bd$1,Cp="onMouseLeave",Al="onMouseEnter",np="mouse",(ut==="pointerout"||ut==="pointerover")&&(wl=Td$1,Cp="onPointerLeave",Al="onPointerEnter",np="pointer"),ep=ls==null?ss:ue(ls),cp=cs==null?ss:ue(cs),ss=new wl(Cp,np+"leave",ls,ht,xn),ss.target=ep,ss.relatedTarget=cp,Cp=null,Wc$1(xn)===Zr&&(wl=new wl(Al,np+"enter",cs,ht,xn),wl.target=cp,wl.relatedTarget=ep,Cp=wl),ep=Cp,ls&&cs)t:{for(wl=ls,Al=cs,np=0,cp=wl;cp;cp=vf$1(cp))np++;for(cp=0,Cp=Al;Cp;Cp=vf$1(Cp))cp++;for(;0<np-cp;)wl=vf$1(wl),np--;for(;0<cp-np;)Al=vf$1(Al),cp--;for(;np--;){if(wl===Al||Al!==null&&wl===Al.alternate)break t;wl=vf$1(wl),Al=vf$1(Al)}wl=null}else wl=null;ls!==null&&wf$1(On,ss,ls,wl,!1),cs!==null&&ep!==null&&wf$1(On,ep,cs,wl,!0)}}e:{if(ss=Zr?ue(Zr):window,ls=ss.nodeName&&ss.nodeName.toLowerCase(),ls==="select"||ls==="input"&&ss.type==="file")var Lp=ve$1;else if(me(ss))if(we$1)Lp=Fe$1;else{Lp=De$1;var jp=Ce$1}else(ls=ss.nodeName)&&ls.toLowerCase()==="input"&&(ss.type==="checkbox"||ss.type==="radio")&&(Lp=Ee$1);if(Lp&&(Lp=Lp(ut,Zr))){ne$1(On,Lp,ht,xn);break e}jp&&jp(ut,ss,Zr),ut==="focusout"&&(jp=ss._wrapperState)&&jp.controlled&&ss.type==="number"&&cb$1(ss,"number",ss.value)}switch(jp=Zr?ue(Zr):window,ut){case"focusin":(me(jp)||jp.contentEditable==="true")&&(Qe$1=jp,Re$1=Zr,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$2=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$2=!1,Ue(On,ht,xn);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(On,ht,xn)}var nm;if(ae$1)e:{switch(ut){case"compositionstart":var zm="onCompositionStart";break e;case"compositionend":zm="onCompositionEnd";break e;case"compositionupdate":zm="onCompositionUpdate";break e}zm=void 0}else ie$1?ge$1(ut,ht)&&(zm="onCompositionEnd"):ut==="keydown"&&ht.keyCode===229&&(zm="onCompositionStart");zm&&(de$1&&ht.locale!=="ko"&&(ie$1||zm!=="onCompositionStart"?zm==="onCompositionEnd"&&ie$1&&(nm=nd$1()):(kd$1=xn,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),jp=oe$1(Zr,zm),0<jp.length&&(zm=new Ld$1(zm,ut,null,ht,xn),On.push({event:zm,listeners:jp}),nm?zm.data=nm:(nm=he$1(ht),nm!==null&&(zm.data=nm)))),(nm=ce$2?je$1(ut,ht):ke$2(ut,ht))&&(Zr=oe$1(Zr,"onBeforeInput"),0<Zr.length&&(xn=new Ld$1("onBeforeInput","beforeinput",null,ht,xn),On.push({event:xn,listeners:Zr}),xn.data=nm))}se$1(On,lt)})}function tf$1(ut,lt,ht){return{instance:ut,listener:lt,currentTarget:ht}}function oe$1(ut,lt){for(var ht=lt+"Capture",_t=[];ut!==null;){var At=ut,qt=At.stateNode;At.tag===5&&qt!==null&&(At=qt,qt=Kb$1(ut,ht),qt!=null&&_t.unshift(tf$1(ut,qt,At)),qt=Kb$1(ut,lt),qt!=null&&_t.push(tf$1(ut,qt,At))),ut=ut.return}return _t}function vf$1(ut){if(ut===null)return null;do ut=ut.return;while(ut&&ut.tag!==5);return ut||null}function wf$1(ut,lt,ht,_t,At){for(var qt=lt._reactName,Zt=[];ht!==null&&ht!==_t;){var cr=ht,Gr=cr.alternate,Zr=cr.stateNode;if(Gr!==null&&Gr===_t)break;cr.tag===5&&Zr!==null&&(cr=Zr,At?(Gr=Kb$1(ht,qt),Gr!=null&&Zt.unshift(tf$1(ht,Gr,cr))):At||(Gr=Kb$1(ht,qt),Gr!=null&&Zt.push(tf$1(ht,Gr,cr)))),ht=ht.return}Zt.length!==0&&ut.push({event:lt,listeners:Zt})}var xf$1=/\r\n?/g,yf$1=/\u0000|\uFFFD/g;function zf$1(ut){return(typeof ut=="string"?ut:""+ut).replace(xf$1,`
`).replace(yf$1,"")}function Af$1(ut,lt,ht){if(lt=zf$1(lt),zf$1(ut)!==lt&&ht)throw Error(p$2(425))}function Bf$1(){}var Cf$1=null,Df$1=null;function Ef$1(ut,lt){return ut==="textarea"||ut==="noscript"||typeof lt.children=="string"||typeof lt.children=="number"||typeof lt.dangerouslySetInnerHTML=="object"&&lt.dangerouslySetInnerHTML!==null&&lt.dangerouslySetInnerHTML.__html!=null}var Ff$1=typeof setTimeout=="function"?setTimeout:void 0,Gf$1=typeof clearTimeout=="function"?clearTimeout:void 0,Hf$1=typeof Promise=="function"?Promise:void 0,Jf$1=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf$1<"u"?function(ut){return Hf$1.resolve(null).then(ut).catch(If$1)}:Ff$1;function If$1(ut){setTimeout(function(){throw ut})}function Kf$1(ut,lt){var ht=lt,_t=0;do{var At=ht.nextSibling;if(ut.removeChild(ht),At&&At.nodeType===8)if(ht=At.data,ht==="/$"){if(_t===0){ut.removeChild(At),bd$1(lt);return}_t--}else ht!=="$"&&ht!=="$?"&&ht!=="$!"||_t++;ht=At}while(ht);bd$1(lt)}function Lf$1(ut){for(;ut!=null;ut=ut.nextSibling){var lt=ut.nodeType;if(lt===1||lt===3)break;if(lt===8){if(lt=ut.data,lt==="$"||lt==="$!"||lt==="$?")break;if(lt==="/$")return null}}return ut}function Mf$1(ut){ut=ut.previousSibling;for(var lt=0;ut;){if(ut.nodeType===8){var ht=ut.data;if(ht==="$"||ht==="$!"||ht==="$?"){if(lt===0)return ut;lt--}else ht==="/$"&&lt++}ut=ut.previousSibling}return null}var Nf$1=Math.random().toString(36).slice(2),Of$1="__reactFiber$"+Nf$1,Pf$1="__reactProps$"+Nf$1,uf$1="__reactContainer$"+Nf$1,of$1="__reactEvents$"+Nf$1,Qf$1="__reactListeners$"+Nf$1,Rf$1="__reactHandles$"+Nf$1;function Wc$1(ut){var lt=ut[Of$1];if(lt)return lt;for(var ht=ut.parentNode;ht;){if(lt=ht[uf$1]||ht[Of$1]){if(ht=lt.alternate,lt.child!==null||ht!==null&&ht.child!==null)for(ut=Mf$1(ut);ut!==null;){if(ht=ut[Of$1])return ht;ut=Mf$1(ut)}return lt}ut=ht,ht=ut.parentNode}return null}function Cb$1(ut){return ut=ut[Of$1]||ut[uf$1],!ut||ut.tag!==5&&ut.tag!==6&&ut.tag!==13&&ut.tag!==3?null:ut}function ue(ut){if(ut.tag===5||ut.tag===6)return ut.stateNode;throw Error(p$2(33))}function Db$1(ut){return ut[Pf$1]||null}var Sf$1=[],Tf$1=-1;function Uf$1(ut){return{current:ut}}function E$2(ut){0>Tf$1||(ut.current=Sf$1[Tf$1],Sf$1[Tf$1]=null,Tf$1--)}function G$1(ut,lt){Tf$1++,Sf$1[Tf$1]=ut.current,ut.current=lt}var Vf$1={},H$1=Uf$1(Vf$1),Wf$1=Uf$1(!1),Xf$1=Vf$1;function Yf$1(ut,lt){var ht=ut.type.contextTypes;if(!ht)return Vf$1;var _t=ut.stateNode;if(_t&&_t.__reactInternalMemoizedUnmaskedChildContext===lt)return _t.__reactInternalMemoizedMaskedChildContext;var At={},qt;for(qt in ht)At[qt]=lt[qt];return _t&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=lt,ut.__reactInternalMemoizedMaskedChildContext=At),At}function Zf$1(ut){return ut=ut.childContextTypes,ut!=null}function $f$1(){E$2(Wf$1),E$2(H$1)}function ag$1(ut,lt,ht){if(H$1.current!==Vf$1)throw Error(p$2(168));G$1(H$1,lt),G$1(Wf$1,ht)}function bg$1(ut,lt,ht){var _t=ut.stateNode;if(lt=lt.childContextTypes,typeof _t.getChildContext!="function")return ht;_t=_t.getChildContext();for(var At in _t)if(!(At in lt))throw Error(p$2(108,Ra$1(ut)||"Unknown",At));return A$1({},ht,_t)}function cg$1(ut){return ut=(ut=ut.stateNode)&&ut.__reactInternalMemoizedMergedChildContext||Vf$1,Xf$1=H$1.current,G$1(H$1,ut),G$1(Wf$1,Wf$1.current),!0}function dg$1(ut,lt,ht){var _t=ut.stateNode;if(!_t)throw Error(p$2(169));ht?(ut=bg$1(ut,lt,Xf$1),_t.__reactInternalMemoizedMergedChildContext=ut,E$2(Wf$1),E$2(H$1),G$1(H$1,ut)):E$2(Wf$1),G$1(Wf$1,ht)}var eg$1=null,fg$1=!1,gg$1=!1;function hg$1(ut){eg$1===null?eg$1=[ut]:eg$1.push(ut)}function ig$1(ut){fg$1=!0,hg$1(ut)}function jg$1(){if(!gg$1&&eg$1!==null){gg$1=!0;var ut=0,lt=C$1;try{var ht=eg$1;for(C$1=1;ut<ht.length;ut++){var _t=ht[ut];do _t=_t(!0);while(_t!==null)}eg$1=null,fg$1=!1}catch(At){throw eg$1!==null&&(eg$1=eg$1.slice(ut+1)),ac$1(fc,jg$1),At}finally{C$1=lt,gg$1=!1}}return null}var kg$1=[],lg$1=0,mg$1=null,ng$1=0,og$1=[],pg$1=0,qg$1=null,rg$1=1,sg$1="";function tg$1(ut,lt){kg$1[lg$1++]=ng$1,kg$1[lg$1++]=mg$1,mg$1=ut,ng$1=lt}function ug$1(ut,lt,ht){og$1[pg$1++]=rg$1,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg$1,qg$1=ut;var _t=rg$1;ut=sg$1;var At=32-oc$1(_t)-1;_t&=~(1<<At),ht+=1;var qt=32-oc$1(lt)+At;if(30<qt){var Zt=At-At%5;qt=(_t&(1<<Zt)-1).toString(32),_t>>=Zt,At-=Zt,rg$1=1<<32-oc$1(lt)+At|ht<<At|_t,sg$1=qt+ut}else rg$1=1<<qt|ht<<At|_t,sg$1=ut}function vg(ut){ut.return!==null&&(tg$1(ut,1),ug$1(ut,1,0))}function wg$1(ut){for(;ut===mg$1;)mg$1=kg$1[--lg$1],kg$1[lg$1]=null,ng$1=kg$1[--lg$1],kg$1[lg$1]=null;for(;ut===qg$1;)qg$1=og$1[--pg$1],og$1[pg$1]=null,sg$1=og$1[--pg$1],og$1[pg$1]=null,rg$1=og$1[--pg$1],og$1[pg$1]=null}var xg$1=null,yg$1=null,I$1=!1,zg$1=null;function Ag(ut,lt){var ht=Bg$1(5,null,null,0);ht.elementType="DELETED",ht.stateNode=lt,ht.return=ut,lt=ut.deletions,lt===null?(ut.deletions=[ht],ut.flags|=16):lt.push(ht)}function Cg$1(ut,lt){switch(ut.tag){case 5:var ht=ut.type;return lt=lt.nodeType!==1||ht.toLowerCase()!==lt.nodeName.toLowerCase()?null:lt,lt!==null?(ut.stateNode=lt,xg$1=ut,yg$1=Lf$1(lt.firstChild),!0):!1;case 6:return lt=ut.pendingProps===""||lt.nodeType!==3?null:lt,lt!==null?(ut.stateNode=lt,xg$1=ut,yg$1=null,!0):!1;case 13:return lt=lt.nodeType!==8?null:lt,lt!==null?(ht=qg$1!==null?{id:rg$1,overflow:sg$1}:null,ut.memoizedState={dehydrated:lt,treeContext:ht,retryLane:1073741824},ht=Bg$1(18,null,null,0),ht.stateNode=lt,ht.return=ut,ut.child=ht,xg$1=ut,yg$1=null,!0):!1;default:return!1}}function Dg(ut){return(ut.mode&1)!==0&&(ut.flags&128)===0}function Eg$1(ut){if(I$1){var lt=yg$1;if(lt){var ht=lt;if(!Cg$1(ut,lt)){if(Dg(ut))throw Error(p$2(418));lt=Lf$1(ht.nextSibling);var _t=xg$1;lt&&Cg$1(ut,lt)?Ag(_t,ht):(ut.flags=ut.flags&-4097|2,I$1=!1,xg$1=ut)}}else{if(Dg(ut))throw Error(p$2(418));ut.flags=ut.flags&-4097|2,I$1=!1,xg$1=ut}}}function Fg$1(ut){for(ut=ut.return;ut!==null&&ut.tag!==5&&ut.tag!==3&&ut.tag!==13;)ut=ut.return;xg$1=ut}function Gg$1(ut){if(ut!==xg$1)return!1;if(!I$1)return Fg$1(ut),I$1=!0,!1;var lt;if((lt=ut.tag!==3)&&!(lt=ut.tag!==5)&&(lt=ut.type,lt=lt!=="head"&&lt!=="body"&&!Ef$1(ut.type,ut.memoizedProps)),lt&&(lt=yg$1)){if(Dg(ut))throw Hg$1(),Error(p$2(418));for(;lt;)Ag(ut,lt),lt=Lf$1(lt.nextSibling)}if(Fg$1(ut),ut.tag===13){if(ut=ut.memoizedState,ut=ut!==null?ut.dehydrated:null,!ut)throw Error(p$2(317));e:{for(ut=ut.nextSibling,lt=0;ut;){if(ut.nodeType===8){var ht=ut.data;if(ht==="/$"){if(lt===0){yg$1=Lf$1(ut.nextSibling);break e}lt--}else ht!=="$"&&ht!=="$!"&&ht!=="$?"||lt++}ut=ut.nextSibling}yg$1=null}}else yg$1=xg$1?Lf$1(ut.stateNode.nextSibling):null;return!0}function Hg$1(){for(var ut=yg$1;ut;)ut=Lf$1(ut.nextSibling)}function Ig$1(){yg$1=xg$1=null,I$1=!1}function Jg$1(ut){zg$1===null?zg$1=[ut]:zg$1.push(ut)}var Kg$1=ua$1.ReactCurrentBatchConfig;function Lg$1(ut,lt,ht){if(ut=ht.ref,ut!==null&&typeof ut!="function"&&typeof ut!="object"){if(ht._owner){if(ht=ht._owner,ht){if(ht.tag!==1)throw Error(p$2(309));var _t=ht.stateNode}if(!_t)throw Error(p$2(147,ut));var At=_t,qt=""+ut;return lt!==null&&lt.ref!==null&&typeof lt.ref=="function"&&lt.ref._stringRef===qt?lt.ref:(lt=function(Zt){var cr=At.refs;Zt===null?delete cr[qt]:cr[qt]=Zt},lt._stringRef=qt,lt)}if(typeof ut!="string")throw Error(p$2(284));if(!ht._owner)throw Error(p$2(290,ut))}return ut}function Mg$1(ut,lt){throw ut=Object.prototype.toString.call(lt),Error(p$2(31,ut==="[object Object]"?"object with keys {"+Object.keys(lt).join(", ")+"}":ut))}function Ng$1(ut){var lt=ut._init;return lt(ut._payload)}function Og(ut){function lt(Al,np){if(ut){var cp=Al.deletions;cp===null?(Al.deletions=[np],Al.flags|=16):cp.push(np)}}function ht(Al,np){if(!ut)return null;for(;np!==null;)lt(Al,np),np=np.sibling;return null}function _t(Al,np){for(Al=new Map;np!==null;)np.key!==null?Al.set(np.key,np):Al.set(np.index,np),np=np.sibling;return Al}function At(Al,np){return Al=Pg(Al,np),Al.index=0,Al.sibling=null,Al}function qt(Al,np,cp){return Al.index=cp,ut?(cp=Al.alternate,cp!==null?(cp=cp.index,cp<np?(Al.flags|=2,np):cp):(Al.flags|=2,np)):(Al.flags|=1048576,np)}function Zt(Al){return ut&&Al.alternate===null&&(Al.flags|=2),Al}function cr(Al,np,cp,Cp){return np===null||np.tag!==6?(np=Qg$1(cp,Al.mode,Cp),np.return=Al,np):(np=At(np,cp),np.return=Al,np)}function Gr(Al,np,cp,Cp){var Lp=cp.type;return Lp===ya$1?xn(Al,np,cp.props.children,Cp,cp.key):np!==null&&(np.elementType===Lp||typeof Lp=="object"&&Lp!==null&&Lp.$$typeof===Ha$1&&Ng$1(Lp)===np.type)?(Cp=At(np,cp.props),Cp.ref=Lg$1(Al,np,cp),Cp.return=Al,Cp):(Cp=Rg(cp.type,cp.key,cp.props,null,Al.mode,Cp),Cp.ref=Lg$1(Al,np,cp),Cp.return=Al,Cp)}function Zr(Al,np,cp,Cp){return np===null||np.tag!==4||np.stateNode.containerInfo!==cp.containerInfo||np.stateNode.implementation!==cp.implementation?(np=Sg$1(cp,Al.mode,Cp),np.return=Al,np):(np=At(np,cp.children||[]),np.return=Al,np)}function xn(Al,np,cp,Cp,Lp){return np===null||np.tag!==7?(np=Tg$1(cp,Al.mode,Cp,Lp),np.return=Al,np):(np=At(np,cp),np.return=Al,np)}function On(Al,np,cp){if(typeof np=="string"&&np!==""||typeof np=="number")return np=Qg$1(""+np,Al.mode,cp),np.return=Al,np;if(typeof np=="object"&&np!==null){switch(np.$$typeof){case va$1:return cp=Rg(np.type,np.key,np.props,null,Al.mode,cp),cp.ref=Lg$1(Al,null,np),cp.return=Al,cp;case wa$1:return np=Sg$1(np,Al.mode,cp),np.return=Al,np;case Ha$1:var Cp=np._init;return On(Al,Cp(np._payload),cp)}if(eb$1(np)||Ka$1(np))return np=Tg$1(np,Al.mode,cp,null),np.return=Al,np;Mg$1(Al,np)}return null}function ss(Al,np,cp,Cp){var Lp=np!==null?np.key:null;if(typeof cp=="string"&&cp!==""||typeof cp=="number")return Lp!==null?null:cr(Al,np,""+cp,Cp);if(typeof cp=="object"&&cp!==null){switch(cp.$$typeof){case va$1:return cp.key===Lp?Gr(Al,np,cp,Cp):null;case wa$1:return cp.key===Lp?Zr(Al,np,cp,Cp):null;case Ha$1:return Lp=cp._init,ss(Al,np,Lp(cp._payload),Cp)}if(eb$1(cp)||Ka$1(cp))return Lp!==null?null:xn(Al,np,cp,Cp,null);Mg$1(Al,cp)}return null}function ls(Al,np,cp,Cp,Lp){if(typeof Cp=="string"&&Cp!==""||typeof Cp=="number")return Al=Al.get(cp)||null,cr(np,Al,""+Cp,Lp);if(typeof Cp=="object"&&Cp!==null){switch(Cp.$$typeof){case va$1:return Al=Al.get(Cp.key===null?cp:Cp.key)||null,Gr(np,Al,Cp,Lp);case wa$1:return Al=Al.get(Cp.key===null?cp:Cp.key)||null,Zr(np,Al,Cp,Lp);case Ha$1:var jp=Cp._init;return ls(Al,np,cp,jp(Cp._payload),Lp)}if(eb$1(Cp)||Ka$1(Cp))return Al=Al.get(cp)||null,xn(np,Al,Cp,Lp,null);Mg$1(np,Cp)}return null}function cs(Al,np,cp,Cp){for(var Lp=null,jp=null,nm=np,zm=np=0,i1=null;nm!==null&&zm<cp.length;zm++){nm.index>zm?(i1=nm,nm=null):i1=nm.sibling;var d3=ss(Al,nm,cp[zm],Cp);if(d3===null){nm===null&&(nm=i1);break}ut&&nm&&d3.alternate===null&&lt(Al,nm),np=qt(d3,np,zm),jp===null?Lp=d3:jp.sibling=d3,jp=d3,nm=i1}if(zm===cp.length)return ht(Al,nm),I$1&&tg$1(Al,zm),Lp;if(nm===null){for(;zm<cp.length;zm++)nm=On(Al,cp[zm],Cp),nm!==null&&(np=qt(nm,np,zm),jp===null?Lp=nm:jp.sibling=nm,jp=nm);return I$1&&tg$1(Al,zm),Lp}for(nm=_t(Al,nm);zm<cp.length;zm++)i1=ls(nm,Al,zm,cp[zm],Cp),i1!==null&&(ut&&i1.alternate!==null&&nm.delete(i1.key===null?zm:i1.key),np=qt(i1,np,zm),jp===null?Lp=i1:jp.sibling=i1,jp=i1);return ut&&nm.forEach(function(op){return lt(Al,op)}),I$1&&tg$1(Al,zm),Lp}function wl(Al,np,cp,Cp){var Lp=Ka$1(cp);if(typeof Lp!="function")throw Error(p$2(150));if(cp=Lp.call(cp),cp==null)throw Error(p$2(151));for(var jp=Lp=null,nm=np,zm=np=0,i1=null,d3=cp.next();nm!==null&&!d3.done;zm++,d3=cp.next()){nm.index>zm?(i1=nm,nm=null):i1=nm.sibling;var op=ss(Al,nm,d3.value,Cp);if(op===null){nm===null&&(nm=i1);break}ut&&nm&&op.alternate===null&&lt(Al,nm),np=qt(op,np,zm),jp===null?Lp=op:jp.sibling=op,jp=op,nm=i1}if(d3.done)return ht(Al,nm),I$1&&tg$1(Al,zm),Lp;if(nm===null){for(;!d3.done;zm++,d3=cp.next())d3=On(Al,d3.value,Cp),d3!==null&&(np=qt(d3,np,zm),jp===null?Lp=d3:jp.sibling=d3,jp=d3);return I$1&&tg$1(Al,zm),Lp}for(nm=_t(Al,nm);!d3.done;zm++,d3=cp.next())d3=ls(nm,Al,zm,d3.value,Cp),d3!==null&&(ut&&d3.alternate!==null&&nm.delete(d3.key===null?zm:d3.key),np=qt(d3,np,zm),jp===null?Lp=d3:jp.sibling=d3,jp=d3);return ut&&nm.forEach(function(Sn){return lt(Al,Sn)}),I$1&&tg$1(Al,zm),Lp}function ep(Al,np,cp,Cp){if(typeof cp=="object"&&cp!==null&&cp.type===ya$1&&cp.key===null&&(cp=cp.props.children),typeof cp=="object"&&cp!==null){switch(cp.$$typeof){case va$1:e:{for(var Lp=cp.key,jp=np;jp!==null;){if(jp.key===Lp){if(Lp=cp.type,Lp===ya$1){if(jp.tag===7){ht(Al,jp.sibling),np=At(jp,cp.props.children),np.return=Al,Al=np;break e}}else if(jp.elementType===Lp||typeof Lp=="object"&&Lp!==null&&Lp.$$typeof===Ha$1&&Ng$1(Lp)===jp.type){ht(Al,jp.sibling),np=At(jp,cp.props),np.ref=Lg$1(Al,jp,cp),np.return=Al,Al=np;break e}ht(Al,jp);break}else lt(Al,jp);jp=jp.sibling}cp.type===ya$1?(np=Tg$1(cp.props.children,Al.mode,Cp,cp.key),np.return=Al,Al=np):(Cp=Rg(cp.type,cp.key,cp.props,null,Al.mode,Cp),Cp.ref=Lg$1(Al,np,cp),Cp.return=Al,Al=Cp)}return Zt(Al);case wa$1:e:{for(jp=cp.key;np!==null;){if(np.key===jp)if(np.tag===4&&np.stateNode.containerInfo===cp.containerInfo&&np.stateNode.implementation===cp.implementation){ht(Al,np.sibling),np=At(np,cp.children||[]),np.return=Al,Al=np;break e}else{ht(Al,np);break}else lt(Al,np);np=np.sibling}np=Sg$1(cp,Al.mode,Cp),np.return=Al,Al=np}return Zt(Al);case Ha$1:return jp=cp._init,ep(Al,np,jp(cp._payload),Cp)}if(eb$1(cp))return cs(Al,np,cp,Cp);if(Ka$1(cp))return wl(Al,np,cp,Cp);Mg$1(Al,cp)}return typeof cp=="string"&&cp!==""||typeof cp=="number"?(cp=""+cp,np!==null&&np.tag===6?(ht(Al,np.sibling),np=At(np,cp),np.return=Al,Al=np):(ht(Al,np),np=Qg$1(cp,Al.mode,Cp),np.return=Al,Al=np),Zt(Al)):ht(Al,np)}return ep}var Ug$1=Og(!0),Vg$1=Og(!1),Wg$1=Uf$1(null),Xg$1=null,Yg$1=null,Zg$1=null;function $g$1(){Zg$1=Yg$1=Xg$1=null}function ah$1(ut){var lt=Wg$1.current;E$2(Wg$1),ut._currentValue=lt}function bh$1(ut,lt,ht){for(;ut!==null;){var _t=ut.alternate;if((ut.childLanes&lt)!==lt?(ut.childLanes|=lt,_t!==null&&(_t.childLanes|=lt)):_t!==null&&(_t.childLanes&lt)!==lt&&(_t.childLanes|=lt),ut===ht)break;ut=ut.return}}function ch$1(ut,lt){Xg$1=ut,Zg$1=Yg$1=null,ut=ut.dependencies,ut!==null&&ut.firstContext!==null&&(ut.lanes&lt&&(dh$2=!0),ut.firstContext=null)}function eh$1(ut){var lt=ut._currentValue;if(Zg$1!==ut)if(ut={context:ut,memoizedValue:lt,next:null},Yg$1===null){if(Xg$1===null)throw Error(p$2(308));Yg$1=ut,Xg$1.dependencies={lanes:0,firstContext:ut}}else Yg$1=Yg$1.next=ut;return lt}var fh$1=null;function gh$1(ut){fh$1===null?fh$1=[ut]:fh$1.push(ut)}function hh$1(ut,lt,ht,_t){var At=lt.interleaved;return At===null?(ht.next=ht,gh$1(lt)):(ht.next=At.next,At.next=ht),lt.interleaved=ht,ih$1(ut,_t)}function ih$1(ut,lt){ut.lanes|=lt;var ht=ut.alternate;for(ht!==null&&(ht.lanes|=lt),ht=ut,ut=ut.return;ut!==null;)ut.childLanes|=lt,ht=ut.alternate,ht!==null&&(ht.childLanes|=lt),ht=ut,ut=ut.return;return ht.tag===3?ht.stateNode:null}var jh$1=!1;function kh$1(ut){ut.updateQueue={baseState:ut.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh$1(ut,lt){ut=ut.updateQueue,lt.updateQueue===ut&&(lt.updateQueue={baseState:ut.baseState,firstBaseUpdate:ut.firstBaseUpdate,lastBaseUpdate:ut.lastBaseUpdate,shared:ut.shared,effects:ut.effects})}function mh$1(ut,lt){return{eventTime:ut,lane:lt,tag:0,payload:null,callback:null,next:null}}function nh$1(ut,lt,ht){var _t=ut.updateQueue;if(_t===null)return null;if(_t=_t.shared,K$1&2){var At=_t.pending;return At===null?lt.next=lt:(lt.next=At.next,At.next=lt),_t.pending=lt,ih$1(ut,ht)}return At=_t.interleaved,At===null?(lt.next=lt,gh$1(_t)):(lt.next=At.next,At.next=lt),_t.interleaved=lt,ih$1(ut,ht)}function oh$1(ut,lt,ht){if(lt=lt.updateQueue,lt!==null&&(lt=lt.shared,(ht&4194240)!==0)){var _t=lt.lanes;_t&=ut.pendingLanes,ht|=_t,lt.lanes=ht,Cc$1(ut,ht)}}function ph$1(ut,lt){var ht=ut.updateQueue,_t=ut.alternate;if(_t!==null&&(_t=_t.updateQueue,ht===_t)){var At=null,qt=null;if(ht=ht.firstBaseUpdate,ht!==null){do{var Zt={eventTime:ht.eventTime,lane:ht.lane,tag:ht.tag,payload:ht.payload,callback:ht.callback,next:null};qt===null?At=qt=Zt:qt=qt.next=Zt,ht=ht.next}while(ht!==null);qt===null?At=qt=lt:qt=qt.next=lt}else At=qt=lt;ht={baseState:_t.baseState,firstBaseUpdate:At,lastBaseUpdate:qt,shared:_t.shared,effects:_t.effects},ut.updateQueue=ht;return}ut=ht.lastBaseUpdate,ut===null?ht.firstBaseUpdate=lt:ut.next=lt,ht.lastBaseUpdate=lt}function qh$1(ut,lt,ht,_t){var At=ut.updateQueue;jh$1=!1;var qt=At.firstBaseUpdate,Zt=At.lastBaseUpdate,cr=At.shared.pending;if(cr!==null){At.shared.pending=null;var Gr=cr,Zr=Gr.next;Gr.next=null,Zt===null?qt=Zr:Zt.next=Zr,Zt=Gr;var xn=ut.alternate;xn!==null&&(xn=xn.updateQueue,cr=xn.lastBaseUpdate,cr!==Zt&&(cr===null?xn.firstBaseUpdate=Zr:cr.next=Zr,xn.lastBaseUpdate=Gr))}if(qt!==null){var On=At.baseState;Zt=0,xn=Zr=Gr=null,cr=qt;do{var ss=cr.lane,ls=cr.eventTime;if((_t&ss)===ss){xn!==null&&(xn=xn.next={eventTime:ls,lane:0,tag:cr.tag,payload:cr.payload,callback:cr.callback,next:null});e:{var cs=ut,wl=cr;switch(ss=lt,ls=ht,wl.tag){case 1:if(cs=wl.payload,typeof cs=="function"){On=cs.call(ls,On,ss);break e}On=cs;break e;case 3:cs.flags=cs.flags&-65537|128;case 0:if(cs=wl.payload,ss=typeof cs=="function"?cs.call(ls,On,ss):cs,ss==null)break e;On=A$1({},On,ss);break e;case 2:jh$1=!0}}cr.callback!==null&&cr.lane!==0&&(ut.flags|=64,ss=At.effects,ss===null?At.effects=[cr]:ss.push(cr))}else ls={eventTime:ls,lane:ss,tag:cr.tag,payload:cr.payload,callback:cr.callback,next:null},xn===null?(Zr=xn=ls,Gr=On):xn=xn.next=ls,Zt|=ss;if(cr=cr.next,cr===null){if(cr=At.shared.pending,cr===null)break;ss=cr,cr=ss.next,ss.next=null,At.lastBaseUpdate=ss,At.shared.pending=null}}while(1);if(xn===null&&(Gr=On),At.baseState=Gr,At.firstBaseUpdate=Zr,At.lastBaseUpdate=xn,lt=At.shared.interleaved,lt!==null){At=lt;do Zt|=At.lane,At=At.next;while(At!==lt)}else qt===null&&(At.shared.lanes=0);rh$1|=Zt,ut.lanes=Zt,ut.memoizedState=On}}function sh$1(ut,lt,ht){if(ut=lt.effects,lt.effects=null,ut!==null)for(lt=0;lt<ut.length;lt++){var _t=ut[lt],At=_t.callback;if(At!==null){if(_t.callback=null,_t=ht,typeof At!="function")throw Error(p$2(191,At));At.call(_t)}}}var th$1={},uh$1=Uf$1(th$1),vh$1=Uf$1(th$1),wh$1=Uf$1(th$1);function xh$1(ut){if(ut===th$1)throw Error(p$2(174));return ut}function yh$1(ut,lt){switch(G$1(wh$1,lt),G$1(vh$1,ut),G$1(uh$1,th$1),ut=lt.nodeType,ut){case 9:case 11:lt=(lt=lt.documentElement)?lt.namespaceURI:lb$1(null,"");break;default:ut=ut===8?lt.parentNode:lt,lt=ut.namespaceURI||null,ut=ut.tagName,lt=lb$1(lt,ut)}E$2(uh$1),G$1(uh$1,lt)}function zh(){E$2(uh$1),E$2(vh$1),E$2(wh$1)}function Ah$1(ut){xh$1(wh$1.current);var lt=xh$1(uh$1.current),ht=lb$1(lt,ut.type);lt!==ht&&(G$1(vh$1,ut),G$1(uh$1,ht))}function Bh$1(ut){vh$1.current===ut&&(E$2(uh$1),E$2(vh$1))}var L$1=Uf$1(0);function Ch$1(ut){for(var lt=ut;lt!==null;){if(lt.tag===13){var ht=lt.memoizedState;if(ht!==null&&(ht=ht.dehydrated,ht===null||ht.data==="$?"||ht.data==="$!"))return lt}else if(lt.tag===19&&lt.memoizedProps.revealOrder!==void 0){if(lt.flags&128)return lt}else if(lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===ut)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===ut)return null;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}return null}var Dh$1=[];function Eh$1(){for(var ut=0;ut<Dh$1.length;ut++)Dh$1[ut]._workInProgressVersionPrimary=null;Dh$1.length=0}var Fh$1=ua$1.ReactCurrentDispatcher,Gh$1=ua$1.ReactCurrentBatchConfig,Hh$1=0,M$1=null,N$1=null,O=null,Ih$1=!1,Jh$1=!1,Kh$1=0,Lh$1=0;function P$1(){throw Error(p$2(321))}function Mh$1(ut,lt){if(lt===null)return!1;for(var ht=0;ht<lt.length&&ht<ut.length;ht++)if(!He$1(ut[ht],lt[ht]))return!1;return!0}function Nh$1(ut,lt,ht,_t,At,qt){if(Hh$1=qt,M$1=lt,lt.memoizedState=null,lt.updateQueue=null,lt.lanes=0,Fh$1.current=ut===null||ut.memoizedState===null?Oh$1:Ph$1,ut=ht(_t,At),Jh$1){qt=0;do{if(Jh$1=!1,Kh$1=0,25<=qt)throw Error(p$2(301));qt+=1,O=N$1=null,lt.updateQueue=null,Fh$1.current=Qh$1,ut=ht(_t,At)}while(Jh$1)}if(Fh$1.current=Rh$1,lt=N$1!==null&&N$1.next!==null,Hh$1=0,O=N$1=M$1=null,Ih$1=!1,lt)throw Error(p$2(300));return ut}function Sh$1(){var ut=Kh$1!==0;return Kh$1=0,ut}function Th$1(){var ut={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M$1.memoizedState=O=ut:O=O.next=ut,O}function Uh$1(){if(N$1===null){var ut=M$1.alternate;ut=ut!==null?ut.memoizedState:null}else ut=N$1.next;var lt=O===null?M$1.memoizedState:O.next;if(lt!==null)O=lt,N$1=ut;else{if(ut===null)throw Error(p$2(310));N$1=ut,ut={memoizedState:N$1.memoizedState,baseState:N$1.baseState,baseQueue:N$1.baseQueue,queue:N$1.queue,next:null},O===null?M$1.memoizedState=O=ut:O=O.next=ut}return O}function Vh$1(ut,lt){return typeof lt=="function"?lt(ut):lt}function Wh$1(ut){var lt=Uh$1(),ht=lt.queue;if(ht===null)throw Error(p$2(311));ht.lastRenderedReducer=ut;var _t=N$1,At=_t.baseQueue,qt=ht.pending;if(qt!==null){if(At!==null){var Zt=At.next;At.next=qt.next,qt.next=Zt}_t.baseQueue=At=qt,ht.pending=null}if(At!==null){qt=At.next,_t=_t.baseState;var cr=Zt=null,Gr=null,Zr=qt;do{var xn=Zr.lane;if((Hh$1&xn)===xn)Gr!==null&&(Gr=Gr.next={lane:0,action:Zr.action,hasEagerState:Zr.hasEagerState,eagerState:Zr.eagerState,next:null}),_t=Zr.hasEagerState?Zr.eagerState:ut(_t,Zr.action);else{var On={lane:xn,action:Zr.action,hasEagerState:Zr.hasEagerState,eagerState:Zr.eagerState,next:null};Gr===null?(cr=Gr=On,Zt=_t):Gr=Gr.next=On,M$1.lanes|=xn,rh$1|=xn}Zr=Zr.next}while(Zr!==null&&Zr!==qt);Gr===null?Zt=_t:Gr.next=cr,He$1(_t,lt.memoizedState)||(dh$2=!0),lt.memoizedState=_t,lt.baseState=Zt,lt.baseQueue=Gr,ht.lastRenderedState=_t}if(ut=ht.interleaved,ut!==null){At=ut;do qt=At.lane,M$1.lanes|=qt,rh$1|=qt,At=At.next;while(At!==ut)}else At===null&&(ht.lanes=0);return[lt.memoizedState,ht.dispatch]}function Xh$1(ut){var lt=Uh$1(),ht=lt.queue;if(ht===null)throw Error(p$2(311));ht.lastRenderedReducer=ut;var _t=ht.dispatch,At=ht.pending,qt=lt.memoizedState;if(At!==null){ht.pending=null;var Zt=At=At.next;do qt=ut(qt,Zt.action),Zt=Zt.next;while(Zt!==At);He$1(qt,lt.memoizedState)||(dh$2=!0),lt.memoizedState=qt,lt.baseQueue===null&&(lt.baseState=qt),ht.lastRenderedState=qt}return[qt,_t]}function Yh(){}function Zh(ut,lt){var ht=M$1,_t=Uh$1(),At=lt(),qt=!He$1(_t.memoizedState,At);if(qt&&(_t.memoizedState=At,dh$2=!0),_t=_t.queue,$h(ai$1.bind(null,ht,_t,ut),[ut]),_t.getSnapshot!==lt||qt||O!==null&&O.memoizedState.tag&1){if(ht.flags|=2048,bi$1(9,ci$1.bind(null,ht,_t,At,lt),void 0,null),Q$1===null)throw Error(p$2(349));Hh$1&30||di$1(ht,lt,At)}return At}function di$1(ut,lt,ht){ut.flags|=16384,ut={getSnapshot:lt,value:ht},lt=M$1.updateQueue,lt===null?(lt={lastEffect:null,stores:null},M$1.updateQueue=lt,lt.stores=[ut]):(ht=lt.stores,ht===null?lt.stores=[ut]:ht.push(ut))}function ci$1(ut,lt,ht,_t){lt.value=ht,lt.getSnapshot=_t,ei$1(lt)&&fi$1(ut)}function ai$1(ut,lt,ht){return ht(function(){ei$1(lt)&&fi$1(ut)})}function ei$1(ut){var lt=ut.getSnapshot;ut=ut.value;try{var ht=lt();return!He$1(ut,ht)}catch{return!0}}function fi$1(ut){var lt=ih$1(ut,1);lt!==null&&gi$1(lt,ut,1,-1)}function hi(ut){var lt=Th$1();return typeof ut=="function"&&(ut=ut()),lt.memoizedState=lt.baseState=ut,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh$1,lastRenderedState:ut},lt.queue=ut,ut=ut.dispatch=ii$1.bind(null,M$1,ut),[lt.memoizedState,ut]}function bi$1(ut,lt,ht,_t){return ut={tag:ut,create:lt,destroy:ht,deps:_t,next:null},lt=M$1.updateQueue,lt===null?(lt={lastEffect:null,stores:null},M$1.updateQueue=lt,lt.lastEffect=ut.next=ut):(ht=lt.lastEffect,ht===null?lt.lastEffect=ut.next=ut:(_t=ht.next,ht.next=ut,ut.next=_t,lt.lastEffect=ut)),ut}function ji(){return Uh$1().memoizedState}function ki$1(ut,lt,ht,_t){var At=Th$1();M$1.flags|=ut,At.memoizedState=bi$1(1|lt,ht,void 0,_t===void 0?null:_t)}function li$1(ut,lt,ht,_t){var At=Uh$1();_t=_t===void 0?null:_t;var qt=void 0;if(N$1!==null){var Zt=N$1.memoizedState;if(qt=Zt.destroy,_t!==null&&Mh$1(_t,Zt.deps)){At.memoizedState=bi$1(lt,ht,qt,_t);return}}M$1.flags|=ut,At.memoizedState=bi$1(1|lt,ht,qt,_t)}function mi$1(ut,lt){return ki$1(8390656,8,ut,lt)}function $h(ut,lt){return li$1(2048,8,ut,lt)}function ni$1(ut,lt){return li$1(4,2,ut,lt)}function oi$1(ut,lt){return li$1(4,4,ut,lt)}function pi$1(ut,lt){if(typeof lt=="function")return ut=ut(),lt(ut),function(){lt(null)};if(lt!=null)return ut=ut(),lt.current=ut,function(){lt.current=null}}function qi$1(ut,lt,ht){return ht=ht!=null?ht.concat([ut]):null,li$1(4,4,pi$1.bind(null,lt,ut),ht)}function ri$1(){}function si$1(ut,lt){var ht=Uh$1();lt=lt===void 0?null:lt;var _t=ht.memoizedState;return _t!==null&&lt!==null&&Mh$1(lt,_t[1])?_t[0]:(ht.memoizedState=[ut,lt],ut)}function ti$1(ut,lt){var ht=Uh$1();lt=lt===void 0?null:lt;var _t=ht.memoizedState;return _t!==null&&lt!==null&&Mh$1(lt,_t[1])?_t[0]:(ut=ut(),ht.memoizedState=[ut,lt],ut)}function ui$1(ut,lt,ht){return Hh$1&21?(He$1(ht,lt)||(ht=yc$1(),M$1.lanes|=ht,rh$1|=ht,ut.baseState=!0),lt):(ut.baseState&&(ut.baseState=!1,dh$2=!0),ut.memoizedState=ht)}function vi$1(ut,lt){var ht=C$1;C$1=ht!==0&&4>ht?ht:4,ut(!0);var _t=Gh$1.transition;Gh$1.transition={};try{ut(!1),lt()}finally{C$1=ht,Gh$1.transition=_t}}function wi$1(){return Uh$1().memoizedState}function xi$1(ut,lt,ht){var _t=yi$1(ut);if(ht={lane:_t,action:ht,hasEagerState:!1,eagerState:null,next:null},zi$1(ut))Ai$1(lt,ht);else if(ht=hh$1(ut,lt,ht,_t),ht!==null){var At=R();gi$1(ht,ut,_t,At),Bi$1(ht,lt,_t)}}function ii$1(ut,lt,ht){var _t=yi$1(ut),At={lane:_t,action:ht,hasEagerState:!1,eagerState:null,next:null};if(zi$1(ut))Ai$1(lt,At);else{var qt=ut.alternate;if(ut.lanes===0&&(qt===null||qt.lanes===0)&&(qt=lt.lastRenderedReducer,qt!==null))try{var Zt=lt.lastRenderedState,cr=qt(Zt,ht);if(At.hasEagerState=!0,At.eagerState=cr,He$1(cr,Zt)){var Gr=lt.interleaved;Gr===null?(At.next=At,gh$1(lt)):(At.next=Gr.next,Gr.next=At),lt.interleaved=At;return}}catch{}finally{}ht=hh$1(ut,lt,At,_t),ht!==null&&(At=R(),gi$1(ht,ut,_t,At),Bi$1(ht,lt,_t))}}function zi$1(ut){var lt=ut.alternate;return ut===M$1||lt!==null&&lt===M$1}function Ai$1(ut,lt){Jh$1=Ih$1=!0;var ht=ut.pending;ht===null?lt.next=lt:(lt.next=ht.next,ht.next=lt),ut.pending=lt}function Bi$1(ut,lt,ht){if(ht&4194240){var _t=lt.lanes;_t&=ut.pendingLanes,ht|=_t,lt.lanes=ht,Cc$1(ut,ht)}}var Rh$1={readContext:eh$1,useCallback:P$1,useContext:P$1,useEffect:P$1,useImperativeHandle:P$1,useInsertionEffect:P$1,useLayoutEffect:P$1,useMemo:P$1,useReducer:P$1,useRef:P$1,useState:P$1,useDebugValue:P$1,useDeferredValue:P$1,useTransition:P$1,useMutableSource:P$1,useSyncExternalStore:P$1,useId:P$1,unstable_isNewReconciler:!1},Oh$1={readContext:eh$1,useCallback:function(ut,lt){return Th$1().memoizedState=[ut,lt===void 0?null:lt],ut},useContext:eh$1,useEffect:mi$1,useImperativeHandle:function(ut,lt,ht){return ht=ht!=null?ht.concat([ut]):null,ki$1(4194308,4,pi$1.bind(null,lt,ut),ht)},useLayoutEffect:function(ut,lt){return ki$1(4194308,4,ut,lt)},useInsertionEffect:function(ut,lt){return ki$1(4,2,ut,lt)},useMemo:function(ut,lt){var ht=Th$1();return lt=lt===void 0?null:lt,ut=ut(),ht.memoizedState=[ut,lt],ut},useReducer:function(ut,lt,ht){var _t=Th$1();return lt=ht!==void 0?ht(lt):lt,_t.memoizedState=_t.baseState=lt,ut={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ut,lastRenderedState:lt},_t.queue=ut,ut=ut.dispatch=xi$1.bind(null,M$1,ut),[_t.memoizedState,ut]},useRef:function(ut){var lt=Th$1();return ut={current:ut},lt.memoizedState=ut},useState:hi,useDebugValue:ri$1,useDeferredValue:function(ut){return Th$1().memoizedState=ut},useTransition:function(){var ut=hi(!1),lt=ut[0];return ut=vi$1.bind(null,ut[1]),Th$1().memoizedState=ut,[lt,ut]},useMutableSource:function(){},useSyncExternalStore:function(ut,lt,ht){var _t=M$1,At=Th$1();if(I$1){if(ht===void 0)throw Error(p$2(407));ht=ht()}else{if(ht=lt(),Q$1===null)throw Error(p$2(349));Hh$1&30||di$1(_t,lt,ht)}At.memoizedState=ht;var qt={value:ht,getSnapshot:lt};return At.queue=qt,mi$1(ai$1.bind(null,_t,qt,ut),[ut]),_t.flags|=2048,bi$1(9,ci$1.bind(null,_t,qt,ht,lt),void 0,null),ht},useId:function(){var ut=Th$1(),lt=Q$1.identifierPrefix;if(I$1){var ht=sg$1,_t=rg$1;ht=(_t&~(1<<32-oc$1(_t)-1)).toString(32)+ht,lt=":"+lt+"R"+ht,ht=Kh$1++,0<ht&&(lt+="H"+ht.toString(32)),lt+=":"}else ht=Lh$1++,lt=":"+lt+"r"+ht.toString(32)+":";return ut.memoizedState=lt},unstable_isNewReconciler:!1},Ph$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh$1,useRef:ji,useState:function(){return Wh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(ut){var lt=Uh$1();return ui$1(lt,N$1.memoizedState,ut)},useTransition:function(){var ut=Wh$1(Vh$1)[0],lt=Uh$1().memoizedState;return[ut,lt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1},Qh$1={readContext:eh$1,useCallback:si$1,useContext:eh$1,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh$1,useRef:ji,useState:function(){return Xh$1(Vh$1)},useDebugValue:ri$1,useDeferredValue:function(ut){var lt=Uh$1();return N$1===null?lt.memoizedState=ut:ui$1(lt,N$1.memoizedState,ut)},useTransition:function(){var ut=Xh$1(Vh$1)[0],lt=Uh$1().memoizedState;return[ut,lt]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1};function Ci$1(ut,lt){if(ut&&ut.defaultProps){lt=A$1({},lt),ut=ut.defaultProps;for(var ht in ut)lt[ht]===void 0&&(lt[ht]=ut[ht]);return lt}return lt}function Di$1(ut,lt,ht,_t){lt=ut.memoizedState,ht=ht(_t,lt),ht=ht==null?lt:A$1({},lt,ht),ut.memoizedState=ht,ut.lanes===0&&(ut.updateQueue.baseState=ht)}var Ei$1={isMounted:function(ut){return(ut=ut._reactInternals)?Vb$1(ut)===ut:!1},enqueueSetState:function(ut,lt,ht){ut=ut._reactInternals;var _t=R(),At=yi$1(ut),qt=mh$1(_t,At);qt.payload=lt,ht!=null&&(qt.callback=ht),lt=nh$1(ut,qt,At),lt!==null&&(gi$1(lt,ut,At,_t),oh$1(lt,ut,At))},enqueueReplaceState:function(ut,lt,ht){ut=ut._reactInternals;var _t=R(),At=yi$1(ut),qt=mh$1(_t,At);qt.tag=1,qt.payload=lt,ht!=null&&(qt.callback=ht),lt=nh$1(ut,qt,At),lt!==null&&(gi$1(lt,ut,At,_t),oh$1(lt,ut,At))},enqueueForceUpdate:function(ut,lt){ut=ut._reactInternals;var ht=R(),_t=yi$1(ut),At=mh$1(ht,_t);At.tag=2,lt!=null&&(At.callback=lt),lt=nh$1(ut,At,_t),lt!==null&&(gi$1(lt,ut,_t,ht),oh$1(lt,ut,_t))}};function Fi(ut,lt,ht,_t,At,qt,Zt){return ut=ut.stateNode,typeof ut.shouldComponentUpdate=="function"?ut.shouldComponentUpdate(_t,qt,Zt):lt.prototype&&lt.prototype.isPureReactComponent?!Ie$1(ht,_t)||!Ie$1(At,qt):!0}function Gi$1(ut,lt,ht){var _t=!1,At=Vf$1,qt=lt.contextType;return typeof qt=="object"&&qt!==null?qt=eh$1(qt):(At=Zf$1(lt)?Xf$1:H$1.current,_t=lt.contextTypes,qt=(_t=_t!=null)?Yf$1(ut,At):Vf$1),lt=new lt(ht,qt),ut.memoizedState=lt.state!==null&&lt.state!==void 0?lt.state:null,lt.updater=Ei$1,ut.stateNode=lt,lt._reactInternals=ut,_t&&(ut=ut.stateNode,ut.__reactInternalMemoizedUnmaskedChildContext=At,ut.__reactInternalMemoizedMaskedChildContext=qt),lt}function Hi$1(ut,lt,ht,_t){ut=lt.state,typeof lt.componentWillReceiveProps=="function"&&lt.componentWillReceiveProps(ht,_t),typeof lt.UNSAFE_componentWillReceiveProps=="function"&&lt.UNSAFE_componentWillReceiveProps(ht,_t),lt.state!==ut&&Ei$1.enqueueReplaceState(lt,lt.state,null)}function Ii$1(ut,lt,ht,_t){var At=ut.stateNode;At.props=ht,At.state=ut.memoizedState,At.refs={},kh$1(ut);var qt=lt.contextType;typeof qt=="object"&&qt!==null?At.context=eh$1(qt):(qt=Zf$1(lt)?Xf$1:H$1.current,At.context=Yf$1(ut,qt)),At.state=ut.memoizedState,qt=lt.getDerivedStateFromProps,typeof qt=="function"&&(Di$1(ut,lt,qt,ht),At.state=ut.memoizedState),typeof lt.getDerivedStateFromProps=="function"||typeof At.getSnapshotBeforeUpdate=="function"||typeof At.UNSAFE_componentWillMount!="function"&&typeof At.componentWillMount!="function"||(lt=At.state,typeof At.componentWillMount=="function"&&At.componentWillMount(),typeof At.UNSAFE_componentWillMount=="function"&&At.UNSAFE_componentWillMount(),lt!==At.state&&Ei$1.enqueueReplaceState(At,At.state,null),qh$1(ut,ht,At,_t),At.state=ut.memoizedState),typeof At.componentDidMount=="function"&&(ut.flags|=4194308)}function Ji$1(ut,lt){try{var ht="",_t=lt;do ht+=Pa$1(_t),_t=_t.return;while(_t);var At=ht}catch(qt){At=`
Error generating stack: `+qt.message+`
`+qt.stack}return{value:ut,source:lt,stack:At,digest:null}}function Ki$1(ut,lt,ht){return{value:ut,source:null,stack:ht??null,digest:lt??null}}function Li$1(ut,lt){try{console.error(lt.value)}catch(ht){setTimeout(function(){throw ht})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(ut,lt,ht){ht=mh$1(-1,ht),ht.tag=3,ht.payload={element:null};var _t=lt.value;return ht.callback=function(){Oi$1||(Oi$1=!0,Pi$1=_t),Li$1(ut,lt)},ht}function Qi$1(ut,lt,ht){ht=mh$1(-1,ht),ht.tag=3;var _t=ut.type.getDerivedStateFromError;if(typeof _t=="function"){var At=lt.value;ht.payload=function(){return _t(At)},ht.callback=function(){Li$1(ut,lt)}}var qt=ut.stateNode;return qt!==null&&typeof qt.componentDidCatch=="function"&&(ht.callback=function(){Li$1(ut,lt),typeof _t!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var Zt=lt.stack;this.componentDidCatch(lt.value,{componentStack:Zt!==null?Zt:""})}),ht}function Si$1(ut,lt,ht){var _t=ut.pingCache;if(_t===null){_t=ut.pingCache=new Mi$1;var At=new Set;_t.set(lt,At)}else At=_t.get(lt),At===void 0&&(At=new Set,_t.set(lt,At));At.has(ht)||(At.add(ht),ut=Ti$1.bind(null,ut,lt,ht),lt.then(ut,ut))}function Ui(ut){do{var lt;if((lt=ut.tag===13)&&(lt=ut.memoizedState,lt=lt!==null?lt.dehydrated!==null:!0),lt)return ut;ut=ut.return}while(ut!==null);return null}function Vi$1(ut,lt,ht,_t,At){return ut.mode&1?(ut.flags|=65536,ut.lanes=At,ut):(ut===lt?ut.flags|=65536:(ut.flags|=128,ht.flags|=131072,ht.flags&=-52805,ht.tag===1&&(ht.alternate===null?ht.tag=17:(lt=mh$1(-1,1),lt.tag=2,nh$1(ht,lt,1))),ht.lanes|=1),ut)}var Wi=ua$1.ReactCurrentOwner,dh$2=!1;function Xi$1(ut,lt,ht,_t){lt.child=ut===null?Vg$1(lt,null,ht,_t):Ug$1(lt,ut.child,ht,_t)}function Yi$1(ut,lt,ht,_t,At){ht=ht.render;var qt=lt.ref;return ch$1(lt,At),_t=Nh$1(ut,lt,ht,_t,qt,At),ht=Sh$1(),ut!==null&&!dh$2?(lt.updateQueue=ut.updateQueue,lt.flags&=-2053,ut.lanes&=~At,Zi$1(ut,lt,At)):(I$1&&ht&&vg(lt),lt.flags|=1,Xi$1(ut,lt,_t,At),lt.child)}function $i$1(ut,lt,ht,_t,At){if(ut===null){var qt=ht.type;return typeof qt=="function"&&!aj(qt)&&qt.defaultProps===void 0&&ht.compare===null&&ht.defaultProps===void 0?(lt.tag=15,lt.type=qt,bj(ut,lt,qt,_t,At)):(ut=Rg(ht.type,null,_t,lt,lt.mode,At),ut.ref=lt.ref,ut.return=lt,lt.child=ut)}if(qt=ut.child,!(ut.lanes&At)){var Zt=qt.memoizedProps;if(ht=ht.compare,ht=ht!==null?ht:Ie$1,ht(Zt,_t)&&ut.ref===lt.ref)return Zi$1(ut,lt,At)}return lt.flags|=1,ut=Pg(qt,_t),ut.ref=lt.ref,ut.return=lt,lt.child=ut}function bj(ut,lt,ht,_t,At){if(ut!==null){var qt=ut.memoizedProps;if(Ie$1(qt,_t)&&ut.ref===lt.ref)if(dh$2=!1,lt.pendingProps=_t=qt,(ut.lanes&At)!==0)ut.flags&131072&&(dh$2=!0);else return lt.lanes=ut.lanes,Zi$1(ut,lt,At)}return cj(ut,lt,ht,_t,At)}function dj(ut,lt,ht){var _t=lt.pendingProps,At=_t.children,qt=ut!==null?ut.memoizedState:null;if(_t.mode==="hidden")if(!(lt.mode&1))lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$1(ej,fj),fj|=ht;else{if(!(ht&1073741824))return ut=qt!==null?qt.baseLanes|ht:ht,lt.lanes=lt.childLanes=1073741824,lt.memoizedState={baseLanes:ut,cachePool:null,transitions:null},lt.updateQueue=null,G$1(ej,fj),fj|=ut,null;lt.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t=qt!==null?qt.baseLanes:ht,G$1(ej,fj),fj|=_t}else qt!==null?(_t=qt.baseLanes|ht,lt.memoizedState=null):_t=ht,G$1(ej,fj),fj|=_t;return Xi$1(ut,lt,At,ht),lt.child}function gj(ut,lt){var ht=lt.ref;(ut===null&&ht!==null||ut!==null&&ut.ref!==ht)&&(lt.flags|=512,lt.flags|=2097152)}function cj(ut,lt,ht,_t,At){var qt=Zf$1(ht)?Xf$1:H$1.current;return qt=Yf$1(lt,qt),ch$1(lt,At),ht=Nh$1(ut,lt,ht,_t,qt,At),_t=Sh$1(),ut!==null&&!dh$2?(lt.updateQueue=ut.updateQueue,lt.flags&=-2053,ut.lanes&=~At,Zi$1(ut,lt,At)):(I$1&&_t&&vg(lt),lt.flags|=1,Xi$1(ut,lt,ht,At),lt.child)}function hj(ut,lt,ht,_t,At){if(Zf$1(ht)){var qt=!0;cg$1(lt)}else qt=!1;if(ch$1(lt,At),lt.stateNode===null)ij(ut,lt),Gi$1(lt,ht,_t),Ii$1(lt,ht,_t,At),_t=!0;else if(ut===null){var Zt=lt.stateNode,cr=lt.memoizedProps;Zt.props=cr;var Gr=Zt.context,Zr=ht.contextType;typeof Zr=="object"&&Zr!==null?Zr=eh$1(Zr):(Zr=Zf$1(ht)?Xf$1:H$1.current,Zr=Yf$1(lt,Zr));var xn=ht.getDerivedStateFromProps,On=typeof xn=="function"||typeof Zt.getSnapshotBeforeUpdate=="function";On||typeof Zt.UNSAFE_componentWillReceiveProps!="function"&&typeof Zt.componentWillReceiveProps!="function"||(cr!==_t||Gr!==Zr)&&Hi$1(lt,Zt,_t,Zr),jh$1=!1;var ss=lt.memoizedState;Zt.state=ss,qh$1(lt,_t,Zt,At),Gr=lt.memoizedState,cr!==_t||ss!==Gr||Wf$1.current||jh$1?(typeof xn=="function"&&(Di$1(lt,ht,xn,_t),Gr=lt.memoizedState),(cr=jh$1||Fi(lt,ht,cr,_t,ss,Gr,Zr))?(On||typeof Zt.UNSAFE_componentWillMount!="function"&&typeof Zt.componentWillMount!="function"||(typeof Zt.componentWillMount=="function"&&Zt.componentWillMount(),typeof Zt.UNSAFE_componentWillMount=="function"&&Zt.UNSAFE_componentWillMount()),typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308)):(typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308),lt.memoizedProps=_t,lt.memoizedState=Gr),Zt.props=_t,Zt.state=Gr,Zt.context=Zr,_t=cr):(typeof Zt.componentDidMount=="function"&&(lt.flags|=4194308),_t=!1)}else{Zt=lt.stateNode,lh$1(ut,lt),cr=lt.memoizedProps,Zr=lt.type===lt.elementType?cr:Ci$1(lt.type,cr),Zt.props=Zr,On=lt.pendingProps,ss=Zt.context,Gr=ht.contextType,typeof Gr=="object"&&Gr!==null?Gr=eh$1(Gr):(Gr=Zf$1(ht)?Xf$1:H$1.current,Gr=Yf$1(lt,Gr));var ls=ht.getDerivedStateFromProps;(xn=typeof ls=="function"||typeof Zt.getSnapshotBeforeUpdate=="function")||typeof Zt.UNSAFE_componentWillReceiveProps!="function"&&typeof Zt.componentWillReceiveProps!="function"||(cr!==On||ss!==Gr)&&Hi$1(lt,Zt,_t,Gr),jh$1=!1,ss=lt.memoizedState,Zt.state=ss,qh$1(lt,_t,Zt,At);var cs=lt.memoizedState;cr!==On||ss!==cs||Wf$1.current||jh$1?(typeof ls=="function"&&(Di$1(lt,ht,ls,_t),cs=lt.memoizedState),(Zr=jh$1||Fi(lt,ht,Zr,_t,ss,cs,Gr)||!1)?(xn||typeof Zt.UNSAFE_componentWillUpdate!="function"&&typeof Zt.componentWillUpdate!="function"||(typeof Zt.componentWillUpdate=="function"&&Zt.componentWillUpdate(_t,cs,Gr),typeof Zt.UNSAFE_componentWillUpdate=="function"&&Zt.UNSAFE_componentWillUpdate(_t,cs,Gr)),typeof Zt.componentDidUpdate=="function"&&(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate=="function"&&(lt.flags|=1024)):(typeof Zt.componentDidUpdate!="function"||cr===ut.memoizedProps&&ss===ut.memoizedState||(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate!="function"||cr===ut.memoizedProps&&ss===ut.memoizedState||(lt.flags|=1024),lt.memoizedProps=_t,lt.memoizedState=cs),Zt.props=_t,Zt.state=cs,Zt.context=Gr,_t=Zr):(typeof Zt.componentDidUpdate!="function"||cr===ut.memoizedProps&&ss===ut.memoizedState||(lt.flags|=4),typeof Zt.getSnapshotBeforeUpdate!="function"||cr===ut.memoizedProps&&ss===ut.memoizedState||(lt.flags|=1024),_t=!1)}return jj(ut,lt,ht,_t,qt,At)}function jj(ut,lt,ht,_t,At,qt){gj(ut,lt);var Zt=(lt.flags&128)!==0;if(!_t&&!Zt)return At&&dg$1(lt,ht,!1),Zi$1(ut,lt,qt);_t=lt.stateNode,Wi.current=lt;var cr=Zt&&typeof ht.getDerivedStateFromError!="function"?null:_t.render();return lt.flags|=1,ut!==null&&Zt?(lt.child=Ug$1(lt,ut.child,null,qt),lt.child=Ug$1(lt,null,cr,qt)):Xi$1(ut,lt,cr,qt),lt.memoizedState=_t.state,At&&dg$1(lt,ht,!0),lt.child}function kj(ut){var lt=ut.stateNode;lt.pendingContext?ag$1(ut,lt.pendingContext,lt.pendingContext!==lt.context):lt.context&&ag$1(ut,lt.context,!1),yh$1(ut,lt.containerInfo)}function lj(ut,lt,ht,_t,At){return Ig$1(),Jg$1(At),lt.flags|=256,Xi$1(ut,lt,ht,_t),lt.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(ut){return{baseLanes:ut,cachePool:null,transitions:null}}function oj(ut,lt,ht){var _t=lt.pendingProps,At=L$1.current,qt=!1,Zt=(lt.flags&128)!==0,cr;if((cr=Zt)||(cr=ut!==null&&ut.memoizedState===null?!1:(At&2)!==0),cr?(qt=!0,lt.flags&=-129):(ut===null||ut.memoizedState!==null)&&(At|=1),G$1(L$1,At&1),ut===null)return Eg$1(lt),ut=lt.memoizedState,ut!==null&&(ut=ut.dehydrated,ut!==null)?(lt.mode&1?ut.data==="$!"?lt.lanes=8:lt.lanes=1073741824:lt.lanes=1,null):(Zt=_t.children,ut=_t.fallback,qt?(_t=lt.mode,qt=lt.child,Zt={mode:"hidden",children:Zt},!(_t&1)&&qt!==null?(qt.childLanes=0,qt.pendingProps=Zt):qt=pj(Zt,_t,0,null),ut=Tg$1(ut,_t,ht,null),qt.return=lt,ut.return=lt,qt.sibling=ut,lt.child=qt,lt.child.memoizedState=nj(ht),lt.memoizedState=mj,ut):qj(lt,Zt));if(At=ut.memoizedState,At!==null&&(cr=At.dehydrated,cr!==null))return rj(ut,lt,Zt,_t,cr,At,ht);if(qt){qt=_t.fallback,Zt=lt.mode,At=ut.child,cr=At.sibling;var Gr={mode:"hidden",children:_t.children};return!(Zt&1)&&lt.child!==At?(_t=lt.child,_t.childLanes=0,_t.pendingProps=Gr,lt.deletions=null):(_t=Pg(At,Gr),_t.subtreeFlags=At.subtreeFlags&14680064),cr!==null?qt=Pg(cr,qt):(qt=Tg$1(qt,Zt,ht,null),qt.flags|=2),qt.return=lt,_t.return=lt,_t.sibling=qt,lt.child=_t,_t=qt,qt=lt.child,Zt=ut.child.memoizedState,Zt=Zt===null?nj(ht):{baseLanes:Zt.baseLanes|ht,cachePool:null,transitions:Zt.transitions},qt.memoizedState=Zt,qt.childLanes=ut.childLanes&~ht,lt.memoizedState=mj,_t}return qt=ut.child,ut=qt.sibling,_t=Pg(qt,{mode:"visible",children:_t.children}),!(lt.mode&1)&&(_t.lanes=ht),_t.return=lt,_t.sibling=null,ut!==null&&(ht=lt.deletions,ht===null?(lt.deletions=[ut],lt.flags|=16):ht.push(ut)),lt.child=_t,lt.memoizedState=null,_t}function qj(ut,lt){return lt=pj({mode:"visible",children:lt},ut.mode,0,null),lt.return=ut,ut.child=lt}function sj(ut,lt,ht,_t){return _t!==null&&Jg$1(_t),Ug$1(lt,ut.child,null,ht),ut=qj(lt,lt.pendingProps.children),ut.flags|=2,lt.memoizedState=null,ut}function rj(ut,lt,ht,_t,At,qt,Zt){if(ht)return lt.flags&256?(lt.flags&=-257,_t=Ki$1(Error(p$2(422))),sj(ut,lt,Zt,_t)):lt.memoizedState!==null?(lt.child=ut.child,lt.flags|=128,null):(qt=_t.fallback,At=lt.mode,_t=pj({mode:"visible",children:_t.children},At,0,null),qt=Tg$1(qt,At,Zt,null),qt.flags|=2,_t.return=lt,qt.return=lt,_t.sibling=qt,lt.child=_t,lt.mode&1&&Ug$1(lt,ut.child,null,Zt),lt.child.memoizedState=nj(Zt),lt.memoizedState=mj,qt);if(!(lt.mode&1))return sj(ut,lt,Zt,null);if(At.data==="$!"){if(_t=At.nextSibling&&At.nextSibling.dataset,_t)var cr=_t.dgst;return _t=cr,qt=Error(p$2(419)),_t=Ki$1(qt,_t,void 0),sj(ut,lt,Zt,_t)}if(cr=(Zt&ut.childLanes)!==0,dh$2||cr){if(_t=Q$1,_t!==null){switch(Zt&-Zt){case 4:At=2;break;case 16:At=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:At=32;break;case 536870912:At=268435456;break;default:At=0}At=At&(_t.suspendedLanes|Zt)?0:At,At!==0&&At!==qt.retryLane&&(qt.retryLane=At,ih$1(ut,At),gi$1(_t,ut,At,-1))}return tj(),_t=Ki$1(Error(p$2(421))),sj(ut,lt,Zt,_t)}return At.data==="$?"?(lt.flags|=128,lt.child=ut.child,lt=uj.bind(null,ut),At._reactRetry=lt,null):(ut=qt.treeContext,yg$1=Lf$1(At.nextSibling),xg$1=lt,I$1=!0,zg$1=null,ut!==null&&(og$1[pg$1++]=rg$1,og$1[pg$1++]=sg$1,og$1[pg$1++]=qg$1,rg$1=ut.id,sg$1=ut.overflow,qg$1=lt),lt=qj(lt,_t.children),lt.flags|=4096,lt)}function vj(ut,lt,ht){ut.lanes|=lt;var _t=ut.alternate;_t!==null&&(_t.lanes|=lt),bh$1(ut.return,lt,ht)}function wj(ut,lt,ht,_t,At){var qt=ut.memoizedState;qt===null?ut.memoizedState={isBackwards:lt,rendering:null,renderingStartTime:0,last:_t,tail:ht,tailMode:At}:(qt.isBackwards=lt,qt.rendering=null,qt.renderingStartTime=0,qt.last=_t,qt.tail=ht,qt.tailMode=At)}function xj(ut,lt,ht){var _t=lt.pendingProps,At=_t.revealOrder,qt=_t.tail;if(Xi$1(ut,lt,_t.children,ht),_t=L$1.current,_t&2)_t=_t&1|2,lt.flags|=128;else{if(ut!==null&&ut.flags&128)e:for(ut=lt.child;ut!==null;){if(ut.tag===13)ut.memoizedState!==null&&vj(ut,ht,lt);else if(ut.tag===19)vj(ut,ht,lt);else if(ut.child!==null){ut.child.return=ut,ut=ut.child;continue}if(ut===lt)break e;for(;ut.sibling===null;){if(ut.return===null||ut.return===lt)break e;ut=ut.return}ut.sibling.return=ut.return,ut=ut.sibling}_t&=1}if(G$1(L$1,_t),!(lt.mode&1))lt.memoizedState=null;else switch(At){case"forwards":for(ht=lt.child,At=null;ht!==null;)ut=ht.alternate,ut!==null&&Ch$1(ut)===null&&(At=ht),ht=ht.sibling;ht=At,ht===null?(At=lt.child,lt.child=null):(At=ht.sibling,ht.sibling=null),wj(lt,!1,At,ht,qt);break;case"backwards":for(ht=null,At=lt.child,lt.child=null;At!==null;){if(ut=At.alternate,ut!==null&&Ch$1(ut)===null){lt.child=At;break}ut=At.sibling,At.sibling=ht,ht=At,At=ut}wj(lt,!0,ht,null,qt);break;case"together":wj(lt,!1,null,null,void 0);break;default:lt.memoizedState=null}return lt.child}function ij(ut,lt){!(lt.mode&1)&&ut!==null&&(ut.alternate=null,lt.alternate=null,lt.flags|=2)}function Zi$1(ut,lt,ht){if(ut!==null&&(lt.dependencies=ut.dependencies),rh$1|=lt.lanes,!(ht&lt.childLanes))return null;if(ut!==null&&lt.child!==ut.child)throw Error(p$2(153));if(lt.child!==null){for(ut=lt.child,ht=Pg(ut,ut.pendingProps),lt.child=ht,ht.return=lt;ut.sibling!==null;)ut=ut.sibling,ht=ht.sibling=Pg(ut,ut.pendingProps),ht.return=lt;ht.sibling=null}return lt.child}function yj(ut,lt,ht){switch(lt.tag){case 3:kj(lt),Ig$1();break;case 5:Ah$1(lt);break;case 1:Zf$1(lt.type)&&cg$1(lt);break;case 4:yh$1(lt,lt.stateNode.containerInfo);break;case 10:var _t=lt.type._context,At=lt.memoizedProps.value;G$1(Wg$1,_t._currentValue),_t._currentValue=At;break;case 13:if(_t=lt.memoizedState,_t!==null)return _t.dehydrated!==null?(G$1(L$1,L$1.current&1),lt.flags|=128,null):ht&lt.child.childLanes?oj(ut,lt,ht):(G$1(L$1,L$1.current&1),ut=Zi$1(ut,lt,ht),ut!==null?ut.sibling:null);G$1(L$1,L$1.current&1);break;case 19:if(_t=(ht&lt.childLanes)!==0,ut.flags&128){if(_t)return xj(ut,lt,ht);lt.flags|=128}if(At=lt.memoizedState,At!==null&&(At.rendering=null,At.tail=null,At.lastEffect=null),G$1(L$1,L$1.current),_t)break;return null;case 22:case 23:return lt.lanes=0,dj(ut,lt,ht)}return Zi$1(ut,lt,ht)}var zj,Aj,Bj,Cj;zj=function(ut,lt){for(var ht=lt.child;ht!==null;){if(ht.tag===5||ht.tag===6)ut.appendChild(ht.stateNode);else if(ht.tag!==4&&ht.child!==null){ht.child.return=ht,ht=ht.child;continue}if(ht===lt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===lt)return;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}};Aj=function(){};Bj=function(ut,lt,ht,_t){var At=ut.memoizedProps;if(At!==_t){ut=lt.stateNode,xh$1(uh$1.current);var qt=null;switch(ht){case"input":At=Ya$1(ut,At),_t=Ya$1(ut,_t),qt=[];break;case"select":At=A$1({},At,{value:void 0}),_t=A$1({},_t,{value:void 0}),qt=[];break;case"textarea":At=gb$1(ut,At),_t=gb$1(ut,_t),qt=[];break;default:typeof At.onClick!="function"&&typeof _t.onClick=="function"&&(ut.onclick=Bf$1)}ub$1(ht,_t);var Zt;ht=null;for(Zr in At)if(!_t.hasOwnProperty(Zr)&&At.hasOwnProperty(Zr)&&At[Zr]!=null)if(Zr==="style"){var cr=At[Zr];for(Zt in cr)cr.hasOwnProperty(Zt)&&(ht||(ht={}),ht[Zt]="")}else Zr!=="dangerouslySetInnerHTML"&&Zr!=="children"&&Zr!=="suppressContentEditableWarning"&&Zr!=="suppressHydrationWarning"&&Zr!=="autoFocus"&&(ea$1.hasOwnProperty(Zr)?qt||(qt=[]):(qt=qt||[]).push(Zr,null));for(Zr in _t){var Gr=_t[Zr];if(cr=At!=null?At[Zr]:void 0,_t.hasOwnProperty(Zr)&&Gr!==cr&&(Gr!=null||cr!=null))if(Zr==="style")if(cr){for(Zt in cr)!cr.hasOwnProperty(Zt)||Gr&&Gr.hasOwnProperty(Zt)||(ht||(ht={}),ht[Zt]="");for(Zt in Gr)Gr.hasOwnProperty(Zt)&&cr[Zt]!==Gr[Zt]&&(ht||(ht={}),ht[Zt]=Gr[Zt])}else ht||(qt||(qt=[]),qt.push(Zr,ht)),ht=Gr;else Zr==="dangerouslySetInnerHTML"?(Gr=Gr?Gr.__html:void 0,cr=cr?cr.__html:void 0,Gr!=null&&cr!==Gr&&(qt=qt||[]).push(Zr,Gr)):Zr==="children"?typeof Gr!="string"&&typeof Gr!="number"||(qt=qt||[]).push(Zr,""+Gr):Zr!=="suppressContentEditableWarning"&&Zr!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(Zr)?(Gr!=null&&Zr==="onScroll"&&D$2("scroll",ut),qt||cr===Gr||(qt=[])):(qt=qt||[]).push(Zr,Gr))}ht&&(qt=qt||[]).push("style",ht);var Zr=qt;(lt.updateQueue=Zr)&&(lt.flags|=4)}};Cj=function(ut,lt,ht,_t){ht!==_t&&(lt.flags|=4)};function Dj(ut,lt){if(!I$1)switch(ut.tailMode){case"hidden":lt=ut.tail;for(var ht=null;lt!==null;)lt.alternate!==null&&(ht=lt),lt=lt.sibling;ht===null?ut.tail=null:ht.sibling=null;break;case"collapsed":ht=ut.tail;for(var _t=null;ht!==null;)ht.alternate!==null&&(_t=ht),ht=ht.sibling;_t===null?lt||ut.tail===null?ut.tail=null:ut.tail.sibling=null:_t.sibling=null}}function S$1(ut){var lt=ut.alternate!==null&&ut.alternate.child===ut.child,ht=0,_t=0;if(lt)for(var At=ut.child;At!==null;)ht|=At.lanes|At.childLanes,_t|=At.subtreeFlags&14680064,_t|=At.flags&14680064,At.return=ut,At=At.sibling;else for(At=ut.child;At!==null;)ht|=At.lanes|At.childLanes,_t|=At.subtreeFlags,_t|=At.flags,At.return=ut,At=At.sibling;return ut.subtreeFlags|=_t,ut.childLanes=ht,lt}function Ej(ut,lt,ht){var _t=lt.pendingProps;switch(wg$1(lt),lt.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(lt),null;case 1:return Zf$1(lt.type)&&$f$1(),S$1(lt),null;case 3:return _t=lt.stateNode,zh(),E$2(Wf$1),E$2(H$1),Eh$1(),_t.pendingContext&&(_t.context=_t.pendingContext,_t.pendingContext=null),(ut===null||ut.child===null)&&(Gg$1(lt)?lt.flags|=4:ut===null||ut.memoizedState.isDehydrated&&!(lt.flags&256)||(lt.flags|=1024,zg$1!==null&&(Fj(zg$1),zg$1=null))),Aj(ut,lt),S$1(lt),null;case 5:Bh$1(lt);var At=xh$1(wh$1.current);if(ht=lt.type,ut!==null&&lt.stateNode!=null)Bj(ut,lt,ht,_t,At),ut.ref!==lt.ref&&(lt.flags|=512,lt.flags|=2097152);else{if(!_t){if(lt.stateNode===null)throw Error(p$2(166));return S$1(lt),null}if(ut=xh$1(uh$1.current),Gg$1(lt)){_t=lt.stateNode,ht=lt.type;var qt=lt.memoizedProps;switch(_t[Of$1]=lt,_t[Pf$1]=qt,ut=(lt.mode&1)!==0,ht){case"dialog":D$2("cancel",_t),D$2("close",_t);break;case"iframe":case"object":case"embed":D$2("load",_t);break;case"video":case"audio":for(At=0;At<lf$1.length;At++)D$2(lf$1[At],_t);break;case"source":D$2("error",_t);break;case"img":case"image":case"link":D$2("error",_t),D$2("load",_t);break;case"details":D$2("toggle",_t);break;case"input":Za$1(_t,qt),D$2("invalid",_t);break;case"select":_t._wrapperState={wasMultiple:!!qt.multiple},D$2("invalid",_t);break;case"textarea":hb$1(_t,qt),D$2("invalid",_t)}ub$1(ht,qt),At=null;for(var Zt in qt)if(qt.hasOwnProperty(Zt)){var cr=qt[Zt];Zt==="children"?typeof cr=="string"?_t.textContent!==cr&&(qt.suppressHydrationWarning!==!0&&Af$1(_t.textContent,cr,ut),At=["children",cr]):typeof cr=="number"&&_t.textContent!==""+cr&&(qt.suppressHydrationWarning!==!0&&Af$1(_t.textContent,cr,ut),At=["children",""+cr]):ea$1.hasOwnProperty(Zt)&&cr!=null&&Zt==="onScroll"&&D$2("scroll",_t)}switch(ht){case"input":Va$1(_t),db$1(_t,qt,!0);break;case"textarea":Va$1(_t),jb$1(_t);break;case"select":case"option":break;default:typeof qt.onClick=="function"&&(_t.onclick=Bf$1)}_t=At,lt.updateQueue=_t,_t!==null&&(lt.flags|=4)}else{Zt=At.nodeType===9?At:At.ownerDocument,ut==="http://www.w3.org/1999/xhtml"&&(ut=kb$1(ht)),ut==="http://www.w3.org/1999/xhtml"?ht==="script"?(ut=Zt.createElement("div"),ut.innerHTML="<script><\/script>",ut=ut.removeChild(ut.firstChild)):typeof _t.is=="string"?ut=Zt.createElement(ht,{is:_t.is}):(ut=Zt.createElement(ht),ht==="select"&&(Zt=ut,_t.multiple?Zt.multiple=!0:_t.size&&(Zt.size=_t.size))):ut=Zt.createElementNS(ut,ht),ut[Of$1]=lt,ut[Pf$1]=_t,zj(ut,lt,!1,!1),lt.stateNode=ut;e:{switch(Zt=vb$1(ht,_t),ht){case"dialog":D$2("cancel",ut),D$2("close",ut),At=_t;break;case"iframe":case"object":case"embed":D$2("load",ut),At=_t;break;case"video":case"audio":for(At=0;At<lf$1.length;At++)D$2(lf$1[At],ut);At=_t;break;case"source":D$2("error",ut),At=_t;break;case"img":case"image":case"link":D$2("error",ut),D$2("load",ut),At=_t;break;case"details":D$2("toggle",ut),At=_t;break;case"input":Za$1(ut,_t),At=Ya$1(ut,_t),D$2("invalid",ut);break;case"option":At=_t;break;case"select":ut._wrapperState={wasMultiple:!!_t.multiple},At=A$1({},_t,{value:void 0}),D$2("invalid",ut);break;case"textarea":hb$1(ut,_t),At=gb$1(ut,_t),D$2("invalid",ut);break;default:At=_t}ub$1(ht,At),cr=At;for(qt in cr)if(cr.hasOwnProperty(qt)){var Gr=cr[qt];qt==="style"?sb$1(ut,Gr):qt==="dangerouslySetInnerHTML"?(Gr=Gr?Gr.__html:void 0,Gr!=null&&nb$1(ut,Gr)):qt==="children"?typeof Gr=="string"?(ht!=="textarea"||Gr!=="")&&ob$1(ut,Gr):typeof Gr=="number"&&ob$1(ut,""+Gr):qt!=="suppressContentEditableWarning"&&qt!=="suppressHydrationWarning"&&qt!=="autoFocus"&&(ea$1.hasOwnProperty(qt)?Gr!=null&&qt==="onScroll"&&D$2("scroll",ut):Gr!=null&&ta$1(ut,qt,Gr,Zt))}switch(ht){case"input":Va$1(ut),db$1(ut,_t,!1);break;case"textarea":Va$1(ut),jb$1(ut);break;case"option":_t.value!=null&&ut.setAttribute("value",""+Sa$1(_t.value));break;case"select":ut.multiple=!!_t.multiple,qt=_t.value,qt!=null?fb$1(ut,!!_t.multiple,qt,!1):_t.defaultValue!=null&&fb$1(ut,!!_t.multiple,_t.defaultValue,!0);break;default:typeof At.onClick=="function"&&(ut.onclick=Bf$1)}switch(ht){case"button":case"input":case"select":case"textarea":_t=!!_t.autoFocus;break e;case"img":_t=!0;break e;default:_t=!1}}_t&&(lt.flags|=4)}lt.ref!==null&&(lt.flags|=512,lt.flags|=2097152)}return S$1(lt),null;case 6:if(ut&&lt.stateNode!=null)Cj(ut,lt,ut.memoizedProps,_t);else{if(typeof _t!="string"&&lt.stateNode===null)throw Error(p$2(166));if(ht=xh$1(wh$1.current),xh$1(uh$1.current),Gg$1(lt)){if(_t=lt.stateNode,ht=lt.memoizedProps,_t[Of$1]=lt,(qt=_t.nodeValue!==ht)&&(ut=xg$1,ut!==null))switch(ut.tag){case 3:Af$1(_t.nodeValue,ht,(ut.mode&1)!==0);break;case 5:ut.memoizedProps.suppressHydrationWarning!==!0&&Af$1(_t.nodeValue,ht,(ut.mode&1)!==0)}qt&&(lt.flags|=4)}else _t=(ht.nodeType===9?ht:ht.ownerDocument).createTextNode(_t),_t[Of$1]=lt,lt.stateNode=_t}return S$1(lt),null;case 13:if(E$2(L$1),_t=lt.memoizedState,ut===null||ut.memoizedState!==null&&ut.memoizedState.dehydrated!==null){if(I$1&&yg$1!==null&&lt.mode&1&&!(lt.flags&128))Hg$1(),Ig$1(),lt.flags|=98560,qt=!1;else if(qt=Gg$1(lt),_t!==null&&_t.dehydrated!==null){if(ut===null){if(!qt)throw Error(p$2(318));if(qt=lt.memoizedState,qt=qt!==null?qt.dehydrated:null,!qt)throw Error(p$2(317));qt[Of$1]=lt}else Ig$1(),!(lt.flags&128)&&(lt.memoizedState=null),lt.flags|=4;S$1(lt),qt=!1}else zg$1!==null&&(Fj(zg$1),zg$1=null),qt=!0;if(!qt)return lt.flags&65536?lt:null}return lt.flags&128?(lt.lanes=ht,lt):(_t=_t!==null,_t!==(ut!==null&&ut.memoizedState!==null)&&_t&&(lt.child.flags|=8192,lt.mode&1&&(ut===null||L$1.current&1?T$2===0&&(T$2=3):tj())),lt.updateQueue!==null&&(lt.flags|=4),S$1(lt),null);case 4:return zh(),Aj(ut,lt),ut===null&&sf$1(lt.stateNode.containerInfo),S$1(lt),null;case 10:return ah$1(lt.type._context),S$1(lt),null;case 17:return Zf$1(lt.type)&&$f$1(),S$1(lt),null;case 19:if(E$2(L$1),qt=lt.memoizedState,qt===null)return S$1(lt),null;if(_t=(lt.flags&128)!==0,Zt=qt.rendering,Zt===null)if(_t)Dj(qt,!1);else{if(T$2!==0||ut!==null&&ut.flags&128)for(ut=lt.child;ut!==null;){if(Zt=Ch$1(ut),Zt!==null){for(lt.flags|=128,Dj(qt,!1),_t=Zt.updateQueue,_t!==null&&(lt.updateQueue=_t,lt.flags|=4),lt.subtreeFlags=0,_t=ht,ht=lt.child;ht!==null;)qt=ht,ut=_t,qt.flags&=14680066,Zt=qt.alternate,Zt===null?(qt.childLanes=0,qt.lanes=ut,qt.child=null,qt.subtreeFlags=0,qt.memoizedProps=null,qt.memoizedState=null,qt.updateQueue=null,qt.dependencies=null,qt.stateNode=null):(qt.childLanes=Zt.childLanes,qt.lanes=Zt.lanes,qt.child=Zt.child,qt.subtreeFlags=0,qt.deletions=null,qt.memoizedProps=Zt.memoizedProps,qt.memoizedState=Zt.memoizedState,qt.updateQueue=Zt.updateQueue,qt.type=Zt.type,ut=Zt.dependencies,qt.dependencies=ut===null?null:{lanes:ut.lanes,firstContext:ut.firstContext}),ht=ht.sibling;return G$1(L$1,L$1.current&1|2),lt.child}ut=ut.sibling}qt.tail!==null&&B$1()>Gj&&(lt.flags|=128,_t=!0,Dj(qt,!1),lt.lanes=4194304)}else{if(!_t)if(ut=Ch$1(Zt),ut!==null){if(lt.flags|=128,_t=!0,ht=ut.updateQueue,ht!==null&&(lt.updateQueue=ht,lt.flags|=4),Dj(qt,!0),qt.tail===null&&qt.tailMode==="hidden"&&!Zt.alternate&&!I$1)return S$1(lt),null}else 2*B$1()-qt.renderingStartTime>Gj&&ht!==1073741824&&(lt.flags|=128,_t=!0,Dj(qt,!1),lt.lanes=4194304);qt.isBackwards?(Zt.sibling=lt.child,lt.child=Zt):(ht=qt.last,ht!==null?ht.sibling=Zt:lt.child=Zt,qt.last=Zt)}return qt.tail!==null?(lt=qt.tail,qt.rendering=lt,qt.tail=lt.sibling,qt.renderingStartTime=B$1(),lt.sibling=null,ht=L$1.current,G$1(L$1,_t?ht&1|2:ht&1),lt):(S$1(lt),null);case 22:case 23:return Hj(),_t=lt.memoizedState!==null,ut!==null&&ut.memoizedState!==null!==_t&&(lt.flags|=8192),_t&&lt.mode&1?fj&1073741824&&(S$1(lt),lt.subtreeFlags&6&&(lt.flags|=8192)):S$1(lt),null;case 24:return null;case 25:return null}throw Error(p$2(156,lt.tag))}function Ij(ut,lt){switch(wg$1(lt),lt.tag){case 1:return Zf$1(lt.type)&&$f$1(),ut=lt.flags,ut&65536?(lt.flags=ut&-65537|128,lt):null;case 3:return zh(),E$2(Wf$1),E$2(H$1),Eh$1(),ut=lt.flags,ut&65536&&!(ut&128)?(lt.flags=ut&-65537|128,lt):null;case 5:return Bh$1(lt),null;case 13:if(E$2(L$1),ut=lt.memoizedState,ut!==null&&ut.dehydrated!==null){if(lt.alternate===null)throw Error(p$2(340));Ig$1()}return ut=lt.flags,ut&65536?(lt.flags=ut&-65537|128,lt):null;case 19:return E$2(L$1),null;case 4:return zh(),null;case 10:return ah$1(lt.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$1=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Lj(ut,lt){var ht=ut.ref;if(ht!==null)if(typeof ht=="function")try{ht(null)}catch(_t){W$2(ut,lt,_t)}else ht.current=null}function Mj(ut,lt,ht){try{ht()}catch(_t){W$2(ut,lt,_t)}}var Nj=!1;function Oj(ut,lt){if(Cf$1=dd$1,ut=Me$2(),Ne$1(ut)){if("selectionStart"in ut)var ht={start:ut.selectionStart,end:ut.selectionEnd};else e:{ht=(ht=ut.ownerDocument)&&ht.defaultView||window;var _t=ht.getSelection&&ht.getSelection();if(_t&&_t.rangeCount!==0){ht=_t.anchorNode;var At=_t.anchorOffset,qt=_t.focusNode;_t=_t.focusOffset;try{ht.nodeType,qt.nodeType}catch{ht=null;break e}var Zt=0,cr=-1,Gr=-1,Zr=0,xn=0,On=ut,ss=null;t:for(;;){for(var ls;On!==ht||At!==0&&On.nodeType!==3||(cr=Zt+At),On!==qt||_t!==0&&On.nodeType!==3||(Gr=Zt+_t),On.nodeType===3&&(Zt+=On.nodeValue.length),(ls=On.firstChild)!==null;)ss=On,On=ls;for(;;){if(On===ut)break t;if(ss===ht&&++Zr===At&&(cr=Zt),ss===qt&&++xn===_t&&(Gr=Zt),(ls=On.nextSibling)!==null)break;On=ss,ss=On.parentNode}On=ls}ht=cr===-1||Gr===-1?null:{start:cr,end:Gr}}else ht=null}ht=ht||{start:0,end:0}}else ht=null;for(Df$1={focusedElem:ut,selectionRange:ht},dd$1=!1,V$1=lt;V$1!==null;)if(lt=V$1,ut=lt.child,(lt.subtreeFlags&1028)!==0&&ut!==null)ut.return=lt,V$1=ut;else for(;V$1!==null;){lt=V$1;try{var cs=lt.alternate;if(lt.flags&1024)switch(lt.tag){case 0:case 11:case 15:break;case 1:if(cs!==null){var wl=cs.memoizedProps,ep=cs.memoizedState,Al=lt.stateNode,np=Al.getSnapshotBeforeUpdate(lt.elementType===lt.type?wl:Ci$1(lt.type,wl),ep);Al.__reactInternalSnapshotBeforeUpdate=np}break;case 3:var cp=lt.stateNode.containerInfo;cp.nodeType===1?cp.textContent="":cp.nodeType===9&&cp.documentElement&&cp.removeChild(cp.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$2(163))}}catch(Cp){W$2(lt,lt.return,Cp)}if(ut=lt.sibling,ut!==null){ut.return=lt.return,V$1=ut;break}V$1=lt.return}return cs=Nj,Nj=!1,cs}function Pj(ut,lt,ht){var _t=lt.updateQueue;if(_t=_t!==null?_t.lastEffect:null,_t!==null){var At=_t=_t.next;do{if((At.tag&ut)===ut){var qt=At.destroy;At.destroy=void 0,qt!==void 0&&Mj(lt,ht,qt)}At=At.next}while(At!==_t)}}function Qj(ut,lt){if(lt=lt.updateQueue,lt=lt!==null?lt.lastEffect:null,lt!==null){var ht=lt=lt.next;do{if((ht.tag&ut)===ut){var _t=ht.create;ht.destroy=_t()}ht=ht.next}while(ht!==lt)}}function Rj(ut){var lt=ut.ref;if(lt!==null){var ht=ut.stateNode;switch(ut.tag){case 5:ut=ht;break;default:ut=ht}typeof lt=="function"?lt(ut):lt.current=ut}}function Sj(ut){var lt=ut.alternate;lt!==null&&(ut.alternate=null,Sj(lt)),ut.child=null,ut.deletions=null,ut.sibling=null,ut.tag===5&&(lt=ut.stateNode,lt!==null&&(delete lt[Of$1],delete lt[Pf$1],delete lt[of$1],delete lt[Qf$1],delete lt[Rf$1])),ut.stateNode=null,ut.return=null,ut.dependencies=null,ut.memoizedProps=null,ut.memoizedState=null,ut.pendingProps=null,ut.stateNode=null,ut.updateQueue=null}function Tj(ut){return ut.tag===5||ut.tag===3||ut.tag===4}function Uj(ut){e:for(;;){for(;ut.sibling===null;){if(ut.return===null||Tj(ut.return))return null;ut=ut.return}for(ut.sibling.return=ut.return,ut=ut.sibling;ut.tag!==5&&ut.tag!==6&&ut.tag!==18;){if(ut.flags&2||ut.child===null||ut.tag===4)continue e;ut.child.return=ut,ut=ut.child}if(!(ut.flags&2))return ut.stateNode}}function Vj(ut,lt,ht){var _t=ut.tag;if(_t===5||_t===6)ut=ut.stateNode,lt?ht.nodeType===8?ht.parentNode.insertBefore(ut,lt):ht.insertBefore(ut,lt):(ht.nodeType===8?(lt=ht.parentNode,lt.insertBefore(ut,ht)):(lt=ht,lt.appendChild(ut)),ht=ht._reactRootContainer,ht!=null||lt.onclick!==null||(lt.onclick=Bf$1));else if(_t!==4&&(ut=ut.child,ut!==null))for(Vj(ut,lt,ht),ut=ut.sibling;ut!==null;)Vj(ut,lt,ht),ut=ut.sibling}function Wj(ut,lt,ht){var _t=ut.tag;if(_t===5||_t===6)ut=ut.stateNode,lt?ht.insertBefore(ut,lt):ht.appendChild(ut);else if(_t!==4&&(ut=ut.child,ut!==null))for(Wj(ut,lt,ht),ut=ut.sibling;ut!==null;)Wj(ut,lt,ht),ut=ut.sibling}var X$2=null,Xj=!1;function Yj(ut,lt,ht){for(ht=ht.child;ht!==null;)Zj(ut,lt,ht),ht=ht.sibling}function Zj(ut,lt,ht){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,ht)}catch{}switch(ht.tag){case 5:U$1||Lj(ht,lt);case 6:var _t=X$2,At=Xj;X$2=null,Yj(ut,lt,ht),X$2=_t,Xj=At,X$2!==null&&(Xj?(ut=X$2,ht=ht.stateNode,ut.nodeType===8?ut.parentNode.removeChild(ht):ut.removeChild(ht)):X$2.removeChild(ht.stateNode));break;case 18:X$2!==null&&(Xj?(ut=X$2,ht=ht.stateNode,ut.nodeType===8?Kf$1(ut.parentNode,ht):ut.nodeType===1&&Kf$1(ut,ht),bd$1(ut)):Kf$1(X$2,ht.stateNode));break;case 4:_t=X$2,At=Xj,X$2=ht.stateNode.containerInfo,Xj=!0,Yj(ut,lt,ht),X$2=_t,Xj=At;break;case 0:case 11:case 14:case 15:if(!U$1&&(_t=ht.updateQueue,_t!==null&&(_t=_t.lastEffect,_t!==null))){At=_t=_t.next;do{var qt=At,Zt=qt.destroy;qt=qt.tag,Zt!==void 0&&(qt&2||qt&4)&&Mj(ht,lt,Zt),At=At.next}while(At!==_t)}Yj(ut,lt,ht);break;case 1:if(!U$1&&(Lj(ht,lt),_t=ht.stateNode,typeof _t.componentWillUnmount=="function"))try{_t.props=ht.memoizedProps,_t.state=ht.memoizedState,_t.componentWillUnmount()}catch(cr){W$2(ht,lt,cr)}Yj(ut,lt,ht);break;case 21:Yj(ut,lt,ht);break;case 22:ht.mode&1?(U$1=(_t=U$1)||ht.memoizedState!==null,Yj(ut,lt,ht),U$1=_t):Yj(ut,lt,ht);break;default:Yj(ut,lt,ht)}}function ak(ut){var lt=ut.updateQueue;if(lt!==null){ut.updateQueue=null;var ht=ut.stateNode;ht===null&&(ht=ut.stateNode=new Kj),lt.forEach(function(_t){var At=bk.bind(null,ut,_t);ht.has(_t)||(ht.add(_t),_t.then(At,At))})}}function ck(ut,lt){var ht=lt.deletions;if(ht!==null)for(var _t=0;_t<ht.length;_t++){var At=ht[_t];try{var qt=ut,Zt=lt,cr=Zt;e:for(;cr!==null;){switch(cr.tag){case 5:X$2=cr.stateNode,Xj=!1;break e;case 3:X$2=cr.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=cr.stateNode.containerInfo,Xj=!0;break e}cr=cr.return}if(X$2===null)throw Error(p$2(160));Zj(qt,Zt,At),X$2=null,Xj=!1;var Gr=At.alternate;Gr!==null&&(Gr.return=null),At.return=null}catch(Zr){W$2(At,lt,Zr)}}if(lt.subtreeFlags&12854)for(lt=lt.child;lt!==null;)dk(lt,ut),lt=lt.sibling}function dk(ut,lt){var ht=ut.alternate,_t=ut.flags;switch(ut.tag){case 0:case 11:case 14:case 15:if(ck(lt,ut),ek(ut),_t&4){try{Pj(3,ut,ut.return),Qj(3,ut)}catch(wl){W$2(ut,ut.return,wl)}try{Pj(5,ut,ut.return)}catch(wl){W$2(ut,ut.return,wl)}}break;case 1:ck(lt,ut),ek(ut),_t&512&&ht!==null&&Lj(ht,ht.return);break;case 5:if(ck(lt,ut),ek(ut),_t&512&&ht!==null&&Lj(ht,ht.return),ut.flags&32){var At=ut.stateNode;try{ob$1(At,"")}catch(wl){W$2(ut,ut.return,wl)}}if(_t&4&&(At=ut.stateNode,At!=null)){var qt=ut.memoizedProps,Zt=ht!==null?ht.memoizedProps:qt,cr=ut.type,Gr=ut.updateQueue;if(ut.updateQueue=null,Gr!==null)try{cr==="input"&&qt.type==="radio"&&qt.name!=null&&ab$1(At,qt),vb$1(cr,Zt);var Zr=vb$1(cr,qt);for(Zt=0;Zt<Gr.length;Zt+=2){var xn=Gr[Zt],On=Gr[Zt+1];xn==="style"?sb$1(At,On):xn==="dangerouslySetInnerHTML"?nb$1(At,On):xn==="children"?ob$1(At,On):ta$1(At,xn,On,Zr)}switch(cr){case"input":bb$1(At,qt);break;case"textarea":ib$1(At,qt);break;case"select":var ss=At._wrapperState.wasMultiple;At._wrapperState.wasMultiple=!!qt.multiple;var ls=qt.value;ls!=null?fb$1(At,!!qt.multiple,ls,!1):ss!==!!qt.multiple&&(qt.defaultValue!=null?fb$1(At,!!qt.multiple,qt.defaultValue,!0):fb$1(At,!!qt.multiple,qt.multiple?[]:"",!1))}At[Pf$1]=qt}catch(wl){W$2(ut,ut.return,wl)}}break;case 6:if(ck(lt,ut),ek(ut),_t&4){if(ut.stateNode===null)throw Error(p$2(162));At=ut.stateNode,qt=ut.memoizedProps;try{At.nodeValue=qt}catch(wl){W$2(ut,ut.return,wl)}}break;case 3:if(ck(lt,ut),ek(ut),_t&4&&ht!==null&&ht.memoizedState.isDehydrated)try{bd$1(lt.containerInfo)}catch(wl){W$2(ut,ut.return,wl)}break;case 4:ck(lt,ut),ek(ut);break;case 13:ck(lt,ut),ek(ut),At=ut.child,At.flags&8192&&(qt=At.memoizedState!==null,At.stateNode.isHidden=qt,!qt||At.alternate!==null&&At.alternate.memoizedState!==null||(fk=B$1())),_t&4&&ak(ut);break;case 22:if(xn=ht!==null&&ht.memoizedState!==null,ut.mode&1?(U$1=(Zr=U$1)||xn,ck(lt,ut),U$1=Zr):ck(lt,ut),ek(ut),_t&8192){if(Zr=ut.memoizedState!==null,(ut.stateNode.isHidden=Zr)&&!xn&&ut.mode&1)for(V$1=ut,xn=ut.child;xn!==null;){for(On=V$1=xn;V$1!==null;){switch(ss=V$1,ls=ss.child,ss.tag){case 0:case 11:case 14:case 15:Pj(4,ss,ss.return);break;case 1:Lj(ss,ss.return);var cs=ss.stateNode;if(typeof cs.componentWillUnmount=="function"){_t=ss,ht=ss.return;try{lt=_t,cs.props=lt.memoizedProps,cs.state=lt.memoizedState,cs.componentWillUnmount()}catch(wl){W$2(_t,ht,wl)}}break;case 5:Lj(ss,ss.return);break;case 22:if(ss.memoizedState!==null){gk(On);continue}}ls!==null?(ls.return=ss,V$1=ls):gk(On)}xn=xn.sibling}e:for(xn=null,On=ut;;){if(On.tag===5){if(xn===null){xn=On;try{At=On.stateNode,Zr?(qt=At.style,typeof qt.setProperty=="function"?qt.setProperty("display","none","important"):qt.display="none"):(cr=On.stateNode,Gr=On.memoizedProps.style,Zt=Gr!=null&&Gr.hasOwnProperty("display")?Gr.display:null,cr.style.display=rb$1("display",Zt))}catch(wl){W$2(ut,ut.return,wl)}}}else if(On.tag===6){if(xn===null)try{On.stateNode.nodeValue=Zr?"":On.memoizedProps}catch(wl){W$2(ut,ut.return,wl)}}else if((On.tag!==22&&On.tag!==23||On.memoizedState===null||On===ut)&&On.child!==null){On.child.return=On,On=On.child;continue}if(On===ut)break e;for(;On.sibling===null;){if(On.return===null||On.return===ut)break e;xn===On&&(xn=null),On=On.return}xn===On&&(xn=null),On.sibling.return=On.return,On=On.sibling}}break;case 19:ck(lt,ut),ek(ut),_t&4&&ak(ut);break;case 21:break;default:ck(lt,ut),ek(ut)}}function ek(ut){var lt=ut.flags;if(lt&2){try{e:{for(var ht=ut.return;ht!==null;){if(Tj(ht)){var _t=ht;break e}ht=ht.return}throw Error(p$2(160))}switch(_t.tag){case 5:var At=_t.stateNode;_t.flags&32&&(ob$1(At,""),_t.flags&=-33);var qt=Uj(ut);Wj(ut,qt,At);break;case 3:case 4:var Zt=_t.stateNode.containerInfo,cr=Uj(ut);Vj(ut,cr,Zt);break;default:throw Error(p$2(161))}}catch(Gr){W$2(ut,ut.return,Gr)}ut.flags&=-3}lt&4096&&(ut.flags&=-4097)}function hk(ut,lt,ht){V$1=ut,ik(ut)}function ik(ut,lt,ht){for(var _t=(ut.mode&1)!==0;V$1!==null;){var At=V$1,qt=At.child;if(At.tag===22&&_t){var Zt=At.memoizedState!==null||Jj;if(!Zt){var cr=At.alternate,Gr=cr!==null&&cr.memoizedState!==null||U$1;cr=Jj;var Zr=U$1;if(Jj=Zt,(U$1=Gr)&&!Zr)for(V$1=At;V$1!==null;)Zt=V$1,Gr=Zt.child,Zt.tag===22&&Zt.memoizedState!==null?jk(At):Gr!==null?(Gr.return=Zt,V$1=Gr):jk(At);for(;qt!==null;)V$1=qt,ik(qt),qt=qt.sibling;V$1=At,Jj=cr,U$1=Zr}kk(ut)}else At.subtreeFlags&8772&&qt!==null?(qt.return=At,V$1=qt):kk(ut)}}function kk(ut){for(;V$1!==null;){var lt=V$1;if(lt.flags&8772){var ht=lt.alternate;try{if(lt.flags&8772)switch(lt.tag){case 0:case 11:case 15:U$1||Qj(5,lt);break;case 1:var _t=lt.stateNode;if(lt.flags&4&&!U$1)if(ht===null)_t.componentDidMount();else{var At=lt.elementType===lt.type?ht.memoizedProps:Ci$1(lt.type,ht.memoizedProps);_t.componentDidUpdate(At,ht.memoizedState,_t.__reactInternalSnapshotBeforeUpdate)}var qt=lt.updateQueue;qt!==null&&sh$1(lt,qt,_t);break;case 3:var Zt=lt.updateQueue;if(Zt!==null){if(ht=null,lt.child!==null)switch(lt.child.tag){case 5:ht=lt.child.stateNode;break;case 1:ht=lt.child.stateNode}sh$1(lt,Zt,ht)}break;case 5:var cr=lt.stateNode;if(ht===null&&lt.flags&4){ht=cr;var Gr=lt.memoizedProps;switch(lt.type){case"button":case"input":case"select":case"textarea":Gr.autoFocus&&ht.focus();break;case"img":Gr.src&&(ht.src=Gr.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(lt.memoizedState===null){var Zr=lt.alternate;if(Zr!==null){var xn=Zr.memoizedState;if(xn!==null){var On=xn.dehydrated;On!==null&&bd$1(On)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$2(163))}U$1||lt.flags&512&&Rj(lt)}catch(ss){W$2(lt,lt.return,ss)}}if(lt===ut){V$1=null;break}if(ht=lt.sibling,ht!==null){ht.return=lt.return,V$1=ht;break}V$1=lt.return}}function gk(ut){for(;V$1!==null;){var lt=V$1;if(lt===ut){V$1=null;break}var ht=lt.sibling;if(ht!==null){ht.return=lt.return,V$1=ht;break}V$1=lt.return}}function jk(ut){for(;V$1!==null;){var lt=V$1;try{switch(lt.tag){case 0:case 11:case 15:var ht=lt.return;try{Qj(4,lt)}catch(Gr){W$2(lt,ht,Gr)}break;case 1:var _t=lt.stateNode;if(typeof _t.componentDidMount=="function"){var At=lt.return;try{_t.componentDidMount()}catch(Gr){W$2(lt,At,Gr)}}var qt=lt.return;try{Rj(lt)}catch(Gr){W$2(lt,qt,Gr)}break;case 5:var Zt=lt.return;try{Rj(lt)}catch(Gr){W$2(lt,Zt,Gr)}}}catch(Gr){W$2(lt,lt.return,Gr)}if(lt===ut){V$1=null;break}var cr=lt.sibling;if(cr!==null){cr.return=lt.return,V$1=cr;break}V$1=lt.return}}var lk=Math.ceil,mk=ua$1.ReactCurrentDispatcher,nk=ua$1.ReactCurrentOwner,ok=ua$1.ReactCurrentBatchConfig,K$1=0,Q$1=null,Y$1=null,Z$1=0,fj=0,ej=Uf$1(0),T$2=0,pk=null,rh$1=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K$1&6?B$1():Ak!==-1?Ak:Ak=B$1()}function yi$1(ut){return ut.mode&1?K$1&2&&Z$1!==0?Z$1&-Z$1:Kg$1.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(ut=C$1,ut!==0||(ut=window.event,ut=ut===void 0?16:jd$1(ut.type)),ut):1}function gi$1(ut,lt,ht,_t){if(50<yk)throw yk=0,zk=null,Error(p$2(185));Ac$1(ut,ht,_t),(!(K$1&2)||ut!==Q$1)&&(ut===Q$1&&(!(K$1&2)&&(qk|=ht),T$2===4&&Ck(ut,Z$1)),Dk(ut,_t),ht===1&&K$1===0&&!(lt.mode&1)&&(Gj=B$1()+500,fg$1&&jg$1()))}function Dk(ut,lt){var ht=ut.callbackNode;wc$1(ut,lt);var _t=uc$1(ut,ut===Q$1?Z$1:0);if(_t===0)ht!==null&&bc$1(ht),ut.callbackNode=null,ut.callbackPriority=0;else if(lt=_t&-_t,ut.callbackPriority!==lt){if(ht!=null&&bc$1(ht),lt===1)ut.tag===0?ig$1(Ek.bind(null,ut)):hg$1(Ek.bind(null,ut)),Jf$1(function(){!(K$1&6)&&jg$1()}),ht=null;else{switch(Dc$1(_t)){case 1:ht=fc;break;case 4:ht=gc$1;break;case 16:ht=hc;break;case 536870912:ht=jc$1;break;default:ht=hc}ht=Fk(ht,Gk.bind(null,ut))}ut.callbackPriority=lt,ut.callbackNode=ht}}function Gk(ut,lt){if(Ak=-1,Bk=0,K$1&6)throw Error(p$2(327));var ht=ut.callbackNode;if(Hk()&&ut.callbackNode!==ht)return null;var _t=uc$1(ut,ut===Q$1?Z$1:0);if(_t===0)return null;if(_t&30||_t&ut.expiredLanes||lt)lt=Ik(ut,_t);else{lt=_t;var At=K$1;K$1|=2;var qt=Jk();(Q$1!==ut||Z$1!==lt)&&(uk=null,Gj=B$1()+500,Kk(ut,lt));do try{Lk();break}catch(cr){Mk(ut,cr)}while(1);$g$1(),mk.current=qt,K$1=At,Y$1!==null?lt=0:(Q$1=null,Z$1=0,lt=T$2)}if(lt!==0){if(lt===2&&(At=xc$1(ut),At!==0&&(_t=At,lt=Nk(ut,At))),lt===1)throw ht=pk,Kk(ut,0),Ck(ut,_t),Dk(ut,B$1()),ht;if(lt===6)Ck(ut,_t);else{if(At=ut.current.alternate,!(_t&30)&&!Ok(At)&&(lt=Ik(ut,_t),lt===2&&(qt=xc$1(ut),qt!==0&&(_t=qt,lt=Nk(ut,qt))),lt===1))throw ht=pk,Kk(ut,0),Ck(ut,_t),Dk(ut,B$1()),ht;switch(ut.finishedWork=At,ut.finishedLanes=_t,lt){case 0:case 1:throw Error(p$2(345));case 2:Pk(ut,tk,uk);break;case 3:if(Ck(ut,_t),(_t&130023424)===_t&&(lt=fk+500-B$1(),10<lt)){if(uc$1(ut,0)!==0)break;if(At=ut.suspendedLanes,(At&_t)!==_t){R(),ut.pingedLanes|=ut.suspendedLanes&At;break}ut.timeoutHandle=Ff$1(Pk.bind(null,ut,tk,uk),lt);break}Pk(ut,tk,uk);break;case 4:if(Ck(ut,_t),(_t&4194240)===_t)break;for(lt=ut.eventTimes,At=-1;0<_t;){var Zt=31-oc$1(_t);qt=1<<Zt,Zt=lt[Zt],Zt>At&&(At=Zt),_t&=~qt}if(_t=At,_t=B$1()-_t,_t=(120>_t?120:480>_t?480:1080>_t?1080:1920>_t?1920:3e3>_t?3e3:4320>_t?4320:1960*lk(_t/1960))-_t,10<_t){ut.timeoutHandle=Ff$1(Pk.bind(null,ut,tk,uk),_t);break}Pk(ut,tk,uk);break;case 5:Pk(ut,tk,uk);break;default:throw Error(p$2(329))}}}return Dk(ut,B$1()),ut.callbackNode===ht?Gk.bind(null,ut):null}function Nk(ut,lt){var ht=sk;return ut.current.memoizedState.isDehydrated&&(Kk(ut,lt).flags|=256),ut=Ik(ut,lt),ut!==2&&(lt=tk,tk=ht,lt!==null&&Fj(lt)),ut}function Fj(ut){tk===null?tk=ut:tk.push.apply(tk,ut)}function Ok(ut){for(var lt=ut;;){if(lt.flags&16384){var ht=lt.updateQueue;if(ht!==null&&(ht=ht.stores,ht!==null))for(var _t=0;_t<ht.length;_t++){var At=ht[_t],qt=At.getSnapshot;At=At.value;try{if(!He$1(qt(),At))return!1}catch{return!1}}}if(ht=lt.child,lt.subtreeFlags&16384&&ht!==null)ht.return=lt,lt=ht;else{if(lt===ut)break;for(;lt.sibling===null;){if(lt.return===null||lt.return===ut)return!0;lt=lt.return}lt.sibling.return=lt.return,lt=lt.sibling}}return!0}function Ck(ut,lt){for(lt&=~rk,lt&=~qk,ut.suspendedLanes|=lt,ut.pingedLanes&=~lt,ut=ut.expirationTimes;0<lt;){var ht=31-oc$1(lt),_t=1<<ht;ut[ht]=-1,lt&=~_t}}function Ek(ut){if(K$1&6)throw Error(p$2(327));Hk();var lt=uc$1(ut,0);if(!(lt&1))return Dk(ut,B$1()),null;var ht=Ik(ut,lt);if(ut.tag!==0&&ht===2){var _t=xc$1(ut);_t!==0&&(lt=_t,ht=Nk(ut,_t))}if(ht===1)throw ht=pk,Kk(ut,0),Ck(ut,lt),Dk(ut,B$1()),ht;if(ht===6)throw Error(p$2(345));return ut.finishedWork=ut.current.alternate,ut.finishedLanes=lt,Pk(ut,tk,uk),Dk(ut,B$1()),null}function Qk(ut,lt){var ht=K$1;K$1|=1;try{return ut(lt)}finally{K$1=ht,K$1===0&&(Gj=B$1()+500,fg$1&&jg$1())}}function Rk(ut){wk!==null&&wk.tag===0&&!(K$1&6)&&Hk();var lt=K$1;K$1|=1;var ht=ok.transition,_t=C$1;try{if(ok.transition=null,C$1=1,ut)return ut()}finally{C$1=_t,ok.transition=ht,K$1=lt,!(K$1&6)&&jg$1()}}function Hj(){fj=ej.current,E$2(ej)}function Kk(ut,lt){ut.finishedWork=null,ut.finishedLanes=0;var ht=ut.timeoutHandle;if(ht!==-1&&(ut.timeoutHandle=-1,Gf$1(ht)),Y$1!==null)for(ht=Y$1.return;ht!==null;){var _t=ht;switch(wg$1(_t),_t.tag){case 1:_t=_t.type.childContextTypes,_t!=null&&$f$1();break;case 3:zh(),E$2(Wf$1),E$2(H$1),Eh$1();break;case 5:Bh$1(_t);break;case 4:zh();break;case 13:E$2(L$1);break;case 19:E$2(L$1);break;case 10:ah$1(_t.type._context);break;case 22:case 23:Hj()}ht=ht.return}if(Q$1=ut,Y$1=ut=Pg(ut.current,null),Z$1=fj=lt,T$2=0,pk=null,rk=qk=rh$1=0,tk=sk=null,fh$1!==null){for(lt=0;lt<fh$1.length;lt++)if(ht=fh$1[lt],_t=ht.interleaved,_t!==null){ht.interleaved=null;var At=_t.next,qt=ht.pending;if(qt!==null){var Zt=qt.next;qt.next=At,_t.next=Zt}ht.pending=_t}fh$1=null}return ut}function Mk(ut,lt){do{var ht=Y$1;try{if($g$1(),Fh$1.current=Rh$1,Ih$1){for(var _t=M$1.memoizedState;_t!==null;){var At=_t.queue;At!==null&&(At.pending=null),_t=_t.next}Ih$1=!1}if(Hh$1=0,O=N$1=M$1=null,Jh$1=!1,Kh$1=0,nk.current=null,ht===null||ht.return===null){T$2=1,pk=lt,Y$1=null;break}e:{var qt=ut,Zt=ht.return,cr=ht,Gr=lt;if(lt=Z$1,cr.flags|=32768,Gr!==null&&typeof Gr=="object"&&typeof Gr.then=="function"){var Zr=Gr,xn=cr,On=xn.tag;if(!(xn.mode&1)&&(On===0||On===11||On===15)){var ss=xn.alternate;ss?(xn.updateQueue=ss.updateQueue,xn.memoizedState=ss.memoizedState,xn.lanes=ss.lanes):(xn.updateQueue=null,xn.memoizedState=null)}var ls=Ui(Zt);if(ls!==null){ls.flags&=-257,Vi$1(ls,Zt,cr,qt,lt),ls.mode&1&&Si$1(qt,Zr,lt),lt=ls,Gr=Zr;var cs=lt.updateQueue;if(cs===null){var wl=new Set;wl.add(Gr),lt.updateQueue=wl}else cs.add(Gr);break e}else{if(!(lt&1)){Si$1(qt,Zr,lt),tj();break e}Gr=Error(p$2(426))}}else if(I$1&&cr.mode&1){var ep=Ui(Zt);if(ep!==null){!(ep.flags&65536)&&(ep.flags|=256),Vi$1(ep,Zt,cr,qt,lt),Jg$1(Ji$1(Gr,cr));break e}}qt=Gr=Ji$1(Gr,cr),T$2!==4&&(T$2=2),sk===null?sk=[qt]:sk.push(qt),qt=Zt;do{switch(qt.tag){case 3:qt.flags|=65536,lt&=-lt,qt.lanes|=lt;var Al=Ni$1(qt,Gr,lt);ph$1(qt,Al);break e;case 1:cr=Gr;var np=qt.type,cp=qt.stateNode;if(!(qt.flags&128)&&(typeof np.getDerivedStateFromError=="function"||cp!==null&&typeof cp.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(cp)))){qt.flags|=65536,lt&=-lt,qt.lanes|=lt;var Cp=Qi$1(qt,cr,lt);ph$1(qt,Cp);break e}}qt=qt.return}while(qt!==null)}Sk(ht)}catch(Lp){lt=Lp,Y$1===ht&&ht!==null&&(Y$1=ht=ht.return);continue}break}while(1)}function Jk(){var ut=mk.current;return mk.current=Rh$1,ut===null?Rh$1:ut}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q$1===null||!(rh$1&268435455)&&!(qk&268435455)||Ck(Q$1,Z$1)}function Ik(ut,lt){var ht=K$1;K$1|=2;var _t=Jk();(Q$1!==ut||Z$1!==lt)&&(uk=null,Kk(ut,lt));do try{Tk();break}catch(At){Mk(ut,At)}while(1);if($g$1(),K$1=ht,mk.current=_t,Y$1!==null)throw Error(p$2(261));return Q$1=null,Z$1=0,T$2}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc$1();)Uk(Y$1)}function Uk(ut){var lt=Vk(ut.alternate,ut,fj);ut.memoizedProps=ut.pendingProps,lt===null?Sk(ut):Y$1=lt,nk.current=null}function Sk(ut){var lt=ut;do{var ht=lt.alternate;if(ut=lt.return,lt.flags&32768){if(ht=Ij(ht,lt),ht!==null){ht.flags&=32767,Y$1=ht;return}if(ut!==null)ut.flags|=32768,ut.subtreeFlags=0,ut.deletions=null;else{T$2=6,Y$1=null;return}}else if(ht=Ej(ht,lt,fj),ht!==null){Y$1=ht;return}if(lt=lt.sibling,lt!==null){Y$1=lt;return}Y$1=lt=ut}while(lt!==null);T$2===0&&(T$2=5)}function Pk(ut,lt,ht){var _t=C$1,At=ok.transition;try{ok.transition=null,C$1=1,Wk(ut,lt,ht,_t)}finally{ok.transition=At,C$1=_t}return null}function Wk(ut,lt,ht,_t){do Hk();while(wk!==null);if(K$1&6)throw Error(p$2(327));ht=ut.finishedWork;var At=ut.finishedLanes;if(ht===null)return null;if(ut.finishedWork=null,ut.finishedLanes=0,ht===ut.current)throw Error(p$2(177));ut.callbackNode=null,ut.callbackPriority=0;var qt=ht.lanes|ht.childLanes;if(Bc$1(ut,qt),ut===Q$1&&(Y$1=Q$1=null,Z$1=0),!(ht.subtreeFlags&2064)&&!(ht.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),qt=(ht.flags&15990)!==0,ht.subtreeFlags&15990||qt){qt=ok.transition,ok.transition=null;var Zt=C$1;C$1=1;var cr=K$1;K$1|=4,nk.current=null,Oj(ut,ht),dk(ht,ut),Oe$2(Df$1),dd$1=!!Cf$1,Df$1=Cf$1=null,ut.current=ht,hk(ht),dc(),K$1=cr,C$1=Zt,ok.transition=qt}else ut.current=ht;if(vk&&(vk=!1,wk=ut,xk=At),qt=ut.pendingLanes,qt===0&&(Ri$1=null),mc(ht.stateNode),Dk(ut,B$1()),lt!==null)for(_t=ut.onRecoverableError,ht=0;ht<lt.length;ht++)At=lt[ht],_t(At.value,{componentStack:At.stack,digest:At.digest});if(Oi$1)throw Oi$1=!1,ut=Pi$1,Pi$1=null,ut;return xk&1&&ut.tag!==0&&Hk(),qt=ut.pendingLanes,qt&1?ut===zk?yk++:(yk=0,zk=ut):yk=0,jg$1(),null}function Hk(){if(wk!==null){var ut=Dc$1(xk),lt=ok.transition,ht=C$1;try{if(ok.transition=null,C$1=16>ut?16:ut,wk===null)var _t=!1;else{if(ut=wk,wk=null,xk=0,K$1&6)throw Error(p$2(331));var At=K$1;for(K$1|=4,V$1=ut.current;V$1!==null;){var qt=V$1,Zt=qt.child;if(V$1.flags&16){var cr=qt.deletions;if(cr!==null){for(var Gr=0;Gr<cr.length;Gr++){var Zr=cr[Gr];for(V$1=Zr;V$1!==null;){var xn=V$1;switch(xn.tag){case 0:case 11:case 15:Pj(8,xn,qt)}var On=xn.child;if(On!==null)On.return=xn,V$1=On;else for(;V$1!==null;){xn=V$1;var ss=xn.sibling,ls=xn.return;if(Sj(xn),xn===Zr){V$1=null;break}if(ss!==null){ss.return=ls,V$1=ss;break}V$1=ls}}}var cs=qt.alternate;if(cs!==null){var wl=cs.child;if(wl!==null){cs.child=null;do{var ep=wl.sibling;wl.sibling=null,wl=ep}while(wl!==null)}}V$1=qt}}if(qt.subtreeFlags&2064&&Zt!==null)Zt.return=qt,V$1=Zt;else e:for(;V$1!==null;){if(qt=V$1,qt.flags&2048)switch(qt.tag){case 0:case 11:case 15:Pj(9,qt,qt.return)}var Al=qt.sibling;if(Al!==null){Al.return=qt.return,V$1=Al;break e}V$1=qt.return}}var np=ut.current;for(V$1=np;V$1!==null;){Zt=V$1;var cp=Zt.child;if(Zt.subtreeFlags&2064&&cp!==null)cp.return=Zt,V$1=cp;else e:for(Zt=np;V$1!==null;){if(cr=V$1,cr.flags&2048)try{switch(cr.tag){case 0:case 11:case 15:Qj(9,cr)}}catch(Lp){W$2(cr,cr.return,Lp)}if(cr===Zt){V$1=null;break e}var Cp=cr.sibling;if(Cp!==null){Cp.return=cr.return,V$1=Cp;break e}V$1=cr.return}}if(K$1=At,jg$1(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,ut)}catch{}_t=!0}return _t}finally{C$1=ht,ok.transition=lt}}return!1}function Xk(ut,lt,ht){lt=Ji$1(ht,lt),lt=Ni$1(ut,lt,1),ut=nh$1(ut,lt,1),lt=R(),ut!==null&&(Ac$1(ut,1,lt),Dk(ut,lt))}function W$2(ut,lt,ht){if(ut.tag===3)Xk(ut,ut,ht);else for(;lt!==null;){if(lt.tag===3){Xk(lt,ut,ht);break}else if(lt.tag===1){var _t=lt.stateNode;if(typeof lt.type.getDerivedStateFromError=="function"||typeof _t.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(_t))){ut=Ji$1(ht,ut),ut=Qi$1(lt,ut,1),lt=nh$1(lt,ut,1),ut=R(),lt!==null&&(Ac$1(lt,1,ut),Dk(lt,ut));break}}lt=lt.return}}function Ti$1(ut,lt,ht){var _t=ut.pingCache;_t!==null&&_t.delete(lt),lt=R(),ut.pingedLanes|=ut.suspendedLanes&ht,Q$1===ut&&(Z$1&ht)===ht&&(T$2===4||T$2===3&&(Z$1&130023424)===Z$1&&500>B$1()-fk?Kk(ut,0):rk|=ht),Dk(ut,lt)}function Yk(ut,lt){lt===0&&(ut.mode&1?(lt=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):lt=1);var ht=R();ut=ih$1(ut,lt),ut!==null&&(Ac$1(ut,lt,ht),Dk(ut,ht))}function uj(ut){var lt=ut.memoizedState,ht=0;lt!==null&&(ht=lt.retryLane),Yk(ut,ht)}function bk(ut,lt){var ht=0;switch(ut.tag){case 13:var _t=ut.stateNode,At=ut.memoizedState;At!==null&&(ht=At.retryLane);break;case 19:_t=ut.stateNode;break;default:throw Error(p$2(314))}_t!==null&&_t.delete(lt),Yk(ut,ht)}var Vk;Vk=function(ut,lt,ht){if(ut!==null)if(ut.memoizedProps!==lt.pendingProps||Wf$1.current)dh$2=!0;else{if(!(ut.lanes&ht)&&!(lt.flags&128))return dh$2=!1,yj(ut,lt,ht);dh$2=!!(ut.flags&131072)}else dh$2=!1,I$1&&lt.flags&1048576&&ug$1(lt,ng$1,lt.index);switch(lt.lanes=0,lt.tag){case 2:var _t=lt.type;ij(ut,lt),ut=lt.pendingProps;var At=Yf$1(lt,H$1.current);ch$1(lt,ht),At=Nh$1(null,lt,_t,ut,At,ht);var qt=Sh$1();return lt.flags|=1,typeof At=="object"&&At!==null&&typeof At.render=="function"&&At.$$typeof===void 0?(lt.tag=1,lt.memoizedState=null,lt.updateQueue=null,Zf$1(_t)?(qt=!0,cg$1(lt)):qt=!1,lt.memoizedState=At.state!==null&&At.state!==void 0?At.state:null,kh$1(lt),At.updater=Ei$1,lt.stateNode=At,At._reactInternals=lt,Ii$1(lt,_t,ut,ht),lt=jj(null,lt,_t,!0,qt,ht)):(lt.tag=0,I$1&&qt&&vg(lt),Xi$1(null,lt,At,ht),lt=lt.child),lt;case 16:_t=lt.elementType;e:{switch(ij(ut,lt),ut=lt.pendingProps,At=_t._init,_t=At(_t._payload),lt.type=_t,At=lt.tag=Zk(_t),ut=Ci$1(_t,ut),At){case 0:lt=cj(null,lt,_t,ut,ht);break e;case 1:lt=hj(null,lt,_t,ut,ht);break e;case 11:lt=Yi$1(null,lt,_t,ut,ht);break e;case 14:lt=$i$1(null,lt,_t,Ci$1(_t.type,ut),ht);break e}throw Error(p$2(306,_t,""))}return lt;case 0:return _t=lt.type,At=lt.pendingProps,At=lt.elementType===_t?At:Ci$1(_t,At),cj(ut,lt,_t,At,ht);case 1:return _t=lt.type,At=lt.pendingProps,At=lt.elementType===_t?At:Ci$1(_t,At),hj(ut,lt,_t,At,ht);case 3:e:{if(kj(lt),ut===null)throw Error(p$2(387));_t=lt.pendingProps,qt=lt.memoizedState,At=qt.element,lh$1(ut,lt),qh$1(lt,_t,null,ht);var Zt=lt.memoizedState;if(_t=Zt.element,qt.isDehydrated)if(qt={element:_t,isDehydrated:!1,cache:Zt.cache,pendingSuspenseBoundaries:Zt.pendingSuspenseBoundaries,transitions:Zt.transitions},lt.updateQueue.baseState=qt,lt.memoizedState=qt,lt.flags&256){At=Ji$1(Error(p$2(423)),lt),lt=lj(ut,lt,_t,ht,At);break e}else if(_t!==At){At=Ji$1(Error(p$2(424)),lt),lt=lj(ut,lt,_t,ht,At);break e}else for(yg$1=Lf$1(lt.stateNode.containerInfo.firstChild),xg$1=lt,I$1=!0,zg$1=null,ht=Vg$1(lt,null,_t,ht),lt.child=ht;ht;)ht.flags=ht.flags&-3|4096,ht=ht.sibling;else{if(Ig$1(),_t===At){lt=Zi$1(ut,lt,ht);break e}Xi$1(ut,lt,_t,ht)}lt=lt.child}return lt;case 5:return Ah$1(lt),ut===null&&Eg$1(lt),_t=lt.type,At=lt.pendingProps,qt=ut!==null?ut.memoizedProps:null,Zt=At.children,Ef$1(_t,At)?Zt=null:qt!==null&&Ef$1(_t,qt)&&(lt.flags|=32),gj(ut,lt),Xi$1(ut,lt,Zt,ht),lt.child;case 6:return ut===null&&Eg$1(lt),null;case 13:return oj(ut,lt,ht);case 4:return yh$1(lt,lt.stateNode.containerInfo),_t=lt.pendingProps,ut===null?lt.child=Ug$1(lt,null,_t,ht):Xi$1(ut,lt,_t,ht),lt.child;case 11:return _t=lt.type,At=lt.pendingProps,At=lt.elementType===_t?At:Ci$1(_t,At),Yi$1(ut,lt,_t,At,ht);case 7:return Xi$1(ut,lt,lt.pendingProps,ht),lt.child;case 8:return Xi$1(ut,lt,lt.pendingProps.children,ht),lt.child;case 12:return Xi$1(ut,lt,lt.pendingProps.children,ht),lt.child;case 10:e:{if(_t=lt.type._context,At=lt.pendingProps,qt=lt.memoizedProps,Zt=At.value,G$1(Wg$1,_t._currentValue),_t._currentValue=Zt,qt!==null)if(He$1(qt.value,Zt)){if(qt.children===At.children&&!Wf$1.current){lt=Zi$1(ut,lt,ht);break e}}else for(qt=lt.child,qt!==null&&(qt.return=lt);qt!==null;){var cr=qt.dependencies;if(cr!==null){Zt=qt.child;for(var Gr=cr.firstContext;Gr!==null;){if(Gr.context===_t){if(qt.tag===1){Gr=mh$1(-1,ht&-ht),Gr.tag=2;var Zr=qt.updateQueue;if(Zr!==null){Zr=Zr.shared;var xn=Zr.pending;xn===null?Gr.next=Gr:(Gr.next=xn.next,xn.next=Gr),Zr.pending=Gr}}qt.lanes|=ht,Gr=qt.alternate,Gr!==null&&(Gr.lanes|=ht),bh$1(qt.return,ht,lt),cr.lanes|=ht;break}Gr=Gr.next}}else if(qt.tag===10)Zt=qt.type===lt.type?null:qt.child;else if(qt.tag===18){if(Zt=qt.return,Zt===null)throw Error(p$2(341));Zt.lanes|=ht,cr=Zt.alternate,cr!==null&&(cr.lanes|=ht),bh$1(Zt,ht,lt),Zt=qt.sibling}else Zt=qt.child;if(Zt!==null)Zt.return=qt;else for(Zt=qt;Zt!==null;){if(Zt===lt){Zt=null;break}if(qt=Zt.sibling,qt!==null){qt.return=Zt.return,Zt=qt;break}Zt=Zt.return}qt=Zt}Xi$1(ut,lt,At.children,ht),lt=lt.child}return lt;case 9:return At=lt.type,_t=lt.pendingProps.children,ch$1(lt,ht),At=eh$1(At),_t=_t(At),lt.flags|=1,Xi$1(ut,lt,_t,ht),lt.child;case 14:return _t=lt.type,At=Ci$1(_t,lt.pendingProps),At=Ci$1(_t.type,At),$i$1(ut,lt,_t,At,ht);case 15:return bj(ut,lt,lt.type,lt.pendingProps,ht);case 17:return _t=lt.type,At=lt.pendingProps,At=lt.elementType===_t?At:Ci$1(_t,At),ij(ut,lt),lt.tag=1,Zf$1(_t)?(ut=!0,cg$1(lt)):ut=!1,ch$1(lt,ht),Gi$1(lt,_t,At),Ii$1(lt,_t,At,ht),jj(null,lt,_t,!0,ut,ht);case 19:return xj(ut,lt,ht);case 22:return dj(ut,lt,ht)}throw Error(p$2(156,lt.tag))};function Fk(ut,lt){return ac$1(ut,lt)}function $k(ut,lt,ht,_t){this.tag=ut,this.key=ht,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=lt,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg$1(ut,lt,ht,_t){return new $k(ut,lt,ht,_t)}function aj(ut){return ut=ut.prototype,!(!ut||!ut.isReactComponent)}function Zk(ut){if(typeof ut=="function")return aj(ut)?1:0;if(ut!=null){if(ut=ut.$$typeof,ut===Da$1)return 11;if(ut===Ga$1)return 14}return 2}function Pg(ut,lt){var ht=ut.alternate;return ht===null?(ht=Bg$1(ut.tag,lt,ut.key,ut.mode),ht.elementType=ut.elementType,ht.type=ut.type,ht.stateNode=ut.stateNode,ht.alternate=ut,ut.alternate=ht):(ht.pendingProps=lt,ht.type=ut.type,ht.flags=0,ht.subtreeFlags=0,ht.deletions=null),ht.flags=ut.flags&14680064,ht.childLanes=ut.childLanes,ht.lanes=ut.lanes,ht.child=ut.child,ht.memoizedProps=ut.memoizedProps,ht.memoizedState=ut.memoizedState,ht.updateQueue=ut.updateQueue,lt=ut.dependencies,ht.dependencies=lt===null?null:{lanes:lt.lanes,firstContext:lt.firstContext},ht.sibling=ut.sibling,ht.index=ut.index,ht.ref=ut.ref,ht}function Rg(ut,lt,ht,_t,At,qt){var Zt=2;if(_t=ut,typeof ut=="function")aj(ut)&&(Zt=1);else if(typeof ut=="string")Zt=5;else e:switch(ut){case ya$1:return Tg$1(ht.children,At,qt,lt);case za$1:Zt=8,At|=8;break;case Aa$1:return ut=Bg$1(12,ht,lt,At|2),ut.elementType=Aa$1,ut.lanes=qt,ut;case Ea$1:return ut=Bg$1(13,ht,lt,At),ut.elementType=Ea$1,ut.lanes=qt,ut;case Fa$1:return ut=Bg$1(19,ht,lt,At),ut.elementType=Fa$1,ut.lanes=qt,ut;case Ia$1:return pj(ht,At,qt,lt);default:if(typeof ut=="object"&&ut!==null)switch(ut.$$typeof){case Ba$1:Zt=10;break e;case Ca$1:Zt=9;break e;case Da$1:Zt=11;break e;case Ga$1:Zt=14;break e;case Ha$1:Zt=16,_t=null;break e}throw Error(p$2(130,ut==null?ut:typeof ut,""))}return lt=Bg$1(Zt,ht,lt,At),lt.elementType=ut,lt.type=_t,lt.lanes=qt,lt}function Tg$1(ut,lt,ht,_t){return ut=Bg$1(7,ut,_t,lt),ut.lanes=ht,ut}function pj(ut,lt,ht,_t){return ut=Bg$1(22,ut,_t,lt),ut.elementType=Ia$1,ut.lanes=ht,ut.stateNode={isHidden:!1},ut}function Qg$1(ut,lt,ht){return ut=Bg$1(6,ut,null,lt),ut.lanes=ht,ut}function Sg$1(ut,lt,ht){return lt=Bg$1(4,ut.children!==null?ut.children:[],ut.key,lt),lt.lanes=ht,lt.stateNode={containerInfo:ut.containerInfo,pendingChildren:null,implementation:ut.implementation},lt}function al$1(ut,lt,ht,_t,At){this.tag=lt,this.containerInfo=ut,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=_t,this.onRecoverableError=At,this.mutableSourceEagerHydrationData=null}function bl(ut,lt,ht,_t,At,qt,Zt,cr,Gr){return ut=new al$1(ut,lt,ht,cr,Gr),lt===1?(lt=1,qt===!0&&(lt|=8)):lt=0,qt=Bg$1(3,null,null,lt),ut.current=qt,qt.stateNode=ut,qt.memoizedState={element:_t,isDehydrated:ht,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh$1(qt),ut}function cl$1(ut,lt,ht){var _t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:_t==null?null:""+_t,children:ut,containerInfo:lt,implementation:ht}}function dl$1(ut){if(!ut)return Vf$1;ut=ut._reactInternals;e:{if(Vb$1(ut)!==ut||ut.tag!==1)throw Error(p$2(170));var lt=ut;do{switch(lt.tag){case 3:lt=lt.stateNode.context;break e;case 1:if(Zf$1(lt.type)){lt=lt.stateNode.__reactInternalMemoizedMergedChildContext;break e}}lt=lt.return}while(lt!==null);throw Error(p$2(171))}if(ut.tag===1){var ht=ut.type;if(Zf$1(ht))return bg$1(ut,ht,lt)}return lt}function el$1(ut,lt,ht,_t,At,qt,Zt,cr,Gr){return ut=bl(ht,_t,!0,ut,At,qt,Zt,cr,Gr),ut.context=dl$1(null),ht=ut.current,_t=R(),At=yi$1(ht),qt=mh$1(_t,At),qt.callback=lt??null,nh$1(ht,qt,At),ut.current.lanes=At,Ac$1(ut,At,_t),Dk(ut,_t),ut}function fl$2(ut,lt,ht,_t){var At=lt.current,qt=R(),Zt=yi$1(At);return ht=dl$1(ht),lt.context===null?lt.context=ht:lt.pendingContext=ht,lt=mh$1(qt,Zt),lt.payload={element:ut},_t=_t===void 0?null:_t,_t!==null&&(lt.callback=_t),ut=nh$1(At,lt,Zt),ut!==null&&(gi$1(ut,At,Zt,qt),oh$1(ut,At,Zt)),Zt}function gl$1(ut){if(ut=ut.current,!ut.child)return null;switch(ut.child.tag){case 5:return ut.child.stateNode;default:return ut.child.stateNode}}function hl$1(ut,lt){if(ut=ut.memoizedState,ut!==null&&ut.dehydrated!==null){var ht=ut.retryLane;ut.retryLane=ht!==0&&ht<lt?ht:lt}}function il$1(ut,lt){hl$1(ut,lt),(ut=ut.alternate)&&hl$1(ut,lt)}function jl$1(){return null}var kl$1=typeof reportError=="function"?reportError:function(ut){console.error(ut)};function ll$1(ut){this._internalRoot=ut}ml$1.prototype.render=ll$1.prototype.render=function(ut){var lt=this._internalRoot;if(lt===null)throw Error(p$2(409));fl$2(ut,lt,null,null)};ml$1.prototype.unmount=ll$1.prototype.unmount=function(){var ut=this._internalRoot;if(ut!==null){this._internalRoot=null;var lt=ut.containerInfo;Rk(function(){fl$2(null,ut,null,null)}),lt[uf$1]=null}};function ml$1(ut){this._internalRoot=ut}ml$1.prototype.unstable_scheduleHydration=function(ut){if(ut){var lt=Hc$1();ut={blockedOn:null,target:ut,priority:lt};for(var ht=0;ht<Qc$1.length&&lt!==0&&lt<Qc$1[ht].priority;ht++);Qc$1.splice(ht,0,ut),ht===0&&Vc$1(ut)}};function nl$1(ut){return!(!ut||ut.nodeType!==1&&ut.nodeType!==9&&ut.nodeType!==11)}function ol$1(ut){return!(!ut||ut.nodeType!==1&&ut.nodeType!==9&&ut.nodeType!==11&&(ut.nodeType!==8||ut.nodeValue!==" react-mount-point-unstable "))}function pl$1(){}function ql$1(ut,lt,ht,_t,At){if(At){if(typeof _t=="function"){var qt=_t;_t=function(){var Zr=gl$1(Zt);qt.call(Zr)}}var Zt=el$1(lt,_t,ut,0,null,!1,!1,"",pl$1);return ut._reactRootContainer=Zt,ut[uf$1]=Zt.current,sf$1(ut.nodeType===8?ut.parentNode:ut),Rk(),Zt}for(;At=ut.lastChild;)ut.removeChild(At);if(typeof _t=="function"){var cr=_t;_t=function(){var Zr=gl$1(Gr);cr.call(Zr)}}var Gr=bl(ut,0,!1,null,null,!1,!1,"",pl$1);return ut._reactRootContainer=Gr,ut[uf$1]=Gr.current,sf$1(ut.nodeType===8?ut.parentNode:ut),Rk(function(){fl$2(lt,Gr,ht,_t)}),Gr}function rl$1(ut,lt,ht,_t,At){var qt=ht._reactRootContainer;if(qt){var Zt=qt;if(typeof At=="function"){var cr=At;At=function(){var Gr=gl$1(Zt);cr.call(Gr)}}fl$2(lt,Zt,ut,At)}else Zt=ql$1(ht,lt,ut,At,_t);return gl$1(Zt)}Ec$1=function(ut){switch(ut.tag){case 3:var lt=ut.stateNode;if(lt.current.memoizedState.isDehydrated){var ht=tc(lt.pendingLanes);ht!==0&&(Cc$1(lt,ht|1),Dk(lt,B$1()),!(K$1&6)&&(Gj=B$1()+500,jg$1()))}break;case 13:Rk(function(){var _t=ih$1(ut,1);if(_t!==null){var At=R();gi$1(_t,ut,1,At)}}),il$1(ut,1)}};Fc$1=function(ut){if(ut.tag===13){var lt=ih$1(ut,134217728);if(lt!==null){var ht=R();gi$1(lt,ut,134217728,ht)}il$1(ut,134217728)}};Gc$1=function(ut){if(ut.tag===13){var lt=yi$1(ut),ht=ih$1(ut,lt);if(ht!==null){var _t=R();gi$1(ht,ut,lt,_t)}il$1(ut,lt)}};Hc$1=function(){return C$1};Ic$1=function(ut,lt){var ht=C$1;try{return C$1=ut,lt()}finally{C$1=ht}};yb$1=function(ut,lt,ht){switch(lt){case"input":if(bb$1(ut,ht),lt=ht.name,ht.type==="radio"&&lt!=null){for(ht=ut;ht.parentNode;)ht=ht.parentNode;for(ht=ht.querySelectorAll("input[name="+JSON.stringify(""+lt)+'][type="radio"]'),lt=0;lt<ht.length;lt++){var _t=ht[lt];if(_t!==ut&&_t.form===ut.form){var At=Db$1(_t);if(!At)throw Error(p$2(90));Wa$1(_t),bb$1(_t,At)}}}break;case"textarea":ib$1(ut,ht);break;case"select":lt=ht.value,lt!=null&&fb$1(ut,!!ht.multiple,lt,!1)}};Gb$1=Qk;Hb$1=Rk;var sl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue,Db$1,Eb$1,Fb$1,Qk]},tl$1={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul$1={bundleType:tl$1.bundleType,version:tl$1.version,rendererPackageName:tl$1.rendererPackageName,rendererConfig:tl$1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(ut){return ut=Zb$1(ut),ut===null?null:ut.stateNode},findFiberByHostInstance:tl$1.findFiberByHostInstance||jl$1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul$1),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl$1;reactDom_production_min.createPortal=function(ut,lt){var ht=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl$1(lt))throw Error(p$2(200));return cl$1(ut,lt,null,ht)};reactDom_production_min.createRoot=function(ut,lt){if(!nl$1(ut))throw Error(p$2(299));var ht=!1,_t="",At=kl$1;return lt!=null&&(lt.unstable_strictMode===!0&&(ht=!0),lt.identifierPrefix!==void 0&&(_t=lt.identifierPrefix),lt.onRecoverableError!==void 0&&(At=lt.onRecoverableError)),lt=bl(ut,1,!1,null,null,ht,!1,_t,At),ut[uf$1]=lt.current,sf$1(ut.nodeType===8?ut.parentNode:ut),new ll$1(lt)};reactDom_production_min.findDOMNode=function(ut){if(ut==null)return null;if(ut.nodeType===1)return ut;var lt=ut._reactInternals;if(lt===void 0)throw typeof ut.render=="function"?Error(p$2(188)):(ut=Object.keys(ut).join(","),Error(p$2(268,ut)));return ut=Zb$1(lt),ut=ut===null?null:ut.stateNode,ut};reactDom_production_min.flushSync=function(ut){return Rk(ut)};reactDom_production_min.hydrate=function(ut,lt,ht){if(!ol$1(lt))throw Error(p$2(200));return rl$1(null,ut,lt,!0,ht)};reactDom_production_min.hydrateRoot=function(ut,lt,ht){if(!nl$1(ut))throw Error(p$2(405));var _t=ht!=null&&ht.hydratedSources||null,At=!1,qt="",Zt=kl$1;if(ht!=null&&(ht.unstable_strictMode===!0&&(At=!0),ht.identifierPrefix!==void 0&&(qt=ht.identifierPrefix),ht.onRecoverableError!==void 0&&(Zt=ht.onRecoverableError)),lt=el$1(lt,null,ut,1,ht??null,At,!1,qt,Zt),ut[uf$1]=lt.current,sf$1(ut),_t)for(ut=0;ut<_t.length;ut++)ht=_t[ut],At=ht._getVersion,At=At(ht._source),lt.mutableSourceEagerHydrationData==null?lt.mutableSourceEagerHydrationData=[ht,At]:lt.mutableSourceEagerHydrationData.push(ht,At);return new ml$1(lt)};reactDom_production_min.render=function(ut,lt,ht){if(!ol$1(lt))throw Error(p$2(200));return rl$1(null,ut,lt,!1,ht)};reactDom_production_min.unmountComponentAtNode=function(ut){if(!ol$1(ut))throw Error(p$2(40));return ut._reactRootContainer?(Rk(function(){rl$1(null,null,ut,!1,function(){ut._reactRootContainer=null,ut[uf$1]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(ut,lt,ht,_t){if(!ol$1(ht))throw Error(p$2(200));if(ut==null||ut._reactInternals===void 0)throw Error(p$2(38));return rl$1(ut,lt,ht,!1,_t)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(ut){console.error(ut)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const Wt=getDefaultExportFromCjs(reactDomExports),defaultContext=reactExports.createContext(void 0),QueryClientSharingContext=reactExports.createContext(!1);function getQueryClientContext(ut,lt){return ut||(lt&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=defaultContext),window.ReactQueryClientContext):defaultContext)}const QueryClientProvider=({client:ut,children:lt,context:ht,contextSharing:_t=!1})=>{reactExports.useEffect(()=>(ut.mount(),()=>{ut.unmount()}),[ut]);const At=getQueryClientContext(ht,_t);return reactExports.createElement(QueryClientSharingContext.Provider,{value:!ht&&_t},reactExports.createElement(At.Provider,{value:ut},lt))};var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len=code.length;i$3<len;++i$3)lookup$1[i$3]=code[i$3],revLookup[code.charCodeAt(i$3)]=i$3;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(ut){var lt=ut.length;if(lt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ht=ut.indexOf("=");ht===-1&&(ht=lt);var _t=ht===lt?0:4-ht%4;return[ht,_t]}function byteLength(ut){var lt=getLens(ut),ht=lt[0],_t=lt[1];return(ht+_t)*3/4-_t}function _byteLength(ut,lt,ht){return(lt+ht)*3/4-ht}function toByteArray(ut){var lt,ht=getLens(ut),_t=ht[0],At=ht[1],qt=new Arr(_byteLength(ut,_t,At)),Zt=0,cr=At>0?_t-4:_t,Gr;for(Gr=0;Gr<cr;Gr+=4)lt=revLookup[ut.charCodeAt(Gr)]<<18|revLookup[ut.charCodeAt(Gr+1)]<<12|revLookup[ut.charCodeAt(Gr+2)]<<6|revLookup[ut.charCodeAt(Gr+3)],qt[Zt++]=lt>>16&255,qt[Zt++]=lt>>8&255,qt[Zt++]=lt&255;return At===2&&(lt=revLookup[ut.charCodeAt(Gr)]<<2|revLookup[ut.charCodeAt(Gr+1)]>>4,qt[Zt++]=lt&255),At===1&&(lt=revLookup[ut.charCodeAt(Gr)]<<10|revLookup[ut.charCodeAt(Gr+1)]<<4|revLookup[ut.charCodeAt(Gr+2)]>>2,qt[Zt++]=lt>>8&255,qt[Zt++]=lt&255),qt}function tripletToBase64(ut){return lookup$1[ut>>18&63]+lookup$1[ut>>12&63]+lookup$1[ut>>6&63]+lookup$1[ut&63]}function encodeChunk(ut,lt,ht){for(var _t,At=[],qt=lt;qt<ht;qt+=3)_t=(ut[qt]<<16&16711680)+(ut[qt+1]<<8&65280)+(ut[qt+2]&255),At.push(tripletToBase64(_t));return At.join("")}function fromByteArray(ut){for(var lt,ht=ut.length,_t=ht%3,At=[],qt=16383,Zt=0,cr=ht-_t;Zt<cr;Zt+=qt)At.push(encodeChunk(ut,Zt,Zt+qt>cr?cr:Zt+qt));return _t===1?(lt=ut[ht-1],At.push(lookup$1[lt>>2]+lookup$1[lt<<4&63]+"==")):_t===2&&(lt=(ut[ht-2]<<8)+ut[ht-1],At.push(lookup$1[lt>>10]+lookup$1[lt>>4&63]+lookup$1[lt<<2&63]+"=")),At.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(ut,lt,ht,_t,At){var qt,Zt,cr=At*8-_t-1,Gr=(1<<cr)-1,Zr=Gr>>1,xn=-7,On=ht?At-1:0,ss=ht?-1:1,ls=ut[lt+On];for(On+=ss,qt=ls&(1<<-xn)-1,ls>>=-xn,xn+=cr;xn>0;qt=qt*256+ut[lt+On],On+=ss,xn-=8);for(Zt=qt&(1<<-xn)-1,qt>>=-xn,xn+=_t;xn>0;Zt=Zt*256+ut[lt+On],On+=ss,xn-=8);if(qt===0)qt=1-Zr;else{if(qt===Gr)return Zt?NaN:(ls?-1:1)*(1/0);Zt=Zt+Math.pow(2,_t),qt=qt-Zr}return(ls?-1:1)*Zt*Math.pow(2,qt-_t)};ieee754.write=function(ut,lt,ht,_t,At,qt){var Zt,cr,Gr,Zr=qt*8-At-1,xn=(1<<Zr)-1,On=xn>>1,ss=At===23?Math.pow(2,-24)-Math.pow(2,-77):0,ls=_t?0:qt-1,cs=_t?1:-1,wl=lt<0||lt===0&&1/lt<0?1:0;for(lt=Math.abs(lt),isNaN(lt)||lt===1/0?(cr=isNaN(lt)?1:0,Zt=xn):(Zt=Math.floor(Math.log(lt)/Math.LN2),lt*(Gr=Math.pow(2,-Zt))<1&&(Zt--,Gr*=2),Zt+On>=1?lt+=ss/Gr:lt+=ss*Math.pow(2,1-On),lt*Gr>=2&&(Zt++,Gr/=2),Zt+On>=xn?(cr=0,Zt=xn):Zt+On>=1?(cr=(lt*Gr-1)*Math.pow(2,At),Zt=Zt+On):(cr=lt*Math.pow(2,On-1)*Math.pow(2,At),Zt=0));At>=8;ut[ht+ls]=cr&255,ls+=cs,cr/=256,At-=8);for(Zt=Zt<<At|cr,Zr+=At;Zr>0;ut[ht+ls]=Zt&255,ls+=cs,Zt/=256,Zr-=8);ut[ht+ls-cs]|=wl*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(ut){var lt=base64Js,ht=ieee754,_t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ut.Buffer=cr,ut.SlowBuffer=np,ut.INSPECT_MAX_BYTES=50;var At=2147483647;ut.kMaxLength=At,cr.TYPED_ARRAY_SUPPORT=qt(),!cr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qt(){try{var Dp=new Uint8Array(1),a1={foo:function(){return 42}};return Object.setPrototypeOf(a1,Uint8Array.prototype),Object.setPrototypeOf(Dp,a1),Dp.foo()===42}catch{return!1}}Object.defineProperty(cr.prototype,"parent",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.buffer}}),Object.defineProperty(cr.prototype,"offset",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.byteOffset}});function Zt(Dp){if(Dp>At)throw new RangeError('The value "'+Dp+'" is invalid for option "size"');var a1=new Uint8Array(Dp);return Object.setPrototypeOf(a1,cr.prototype),a1}function cr(Dp,a1,zp){if(typeof Dp=="number"){if(typeof a1=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return On(Dp)}return Gr(Dp,a1,zp)}cr.poolSize=8192;function Gr(Dp,a1,zp){if(typeof Dp=="string")return ss(Dp,a1);if(ArrayBuffer.isView(Dp))return cs(Dp);if(Dp==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dp);if(W_(Dp,ArrayBuffer)||Dp&&W_(Dp.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W_(Dp,SharedArrayBuffer)||Dp&&W_(Dp.buffer,SharedArrayBuffer)))return wl(Dp,a1,zp);if(typeof Dp=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var v3=Dp.valueOf&&Dp.valueOf();if(v3!=null&&v3!==Dp)return cr.from(v3,a1,zp);var Mw=ep(Dp);if(Mw)return Mw;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Dp[Symbol.toPrimitive]=="function")return cr.from(Dp[Symbol.toPrimitive]("string"),a1,zp);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dp)}cr.from=function(Dp,a1,zp){return Gr(Dp,a1,zp)},Object.setPrototypeOf(cr.prototype,Uint8Array.prototype),Object.setPrototypeOf(cr,Uint8Array);function Zr(Dp){if(typeof Dp!="number")throw new TypeError('"size" argument must be of type number');if(Dp<0)throw new RangeError('The value "'+Dp+'" is invalid for option "size"')}function xn(Dp,a1,zp){return Zr(Dp),Dp<=0?Zt(Dp):a1!==void 0?typeof zp=="string"?Zt(Dp).fill(a1,zp):Zt(Dp).fill(a1):Zt(Dp)}cr.alloc=function(Dp,a1,zp){return xn(Dp,a1,zp)};function On(Dp){return Zr(Dp),Zt(Dp<0?0:Al(Dp)|0)}cr.allocUnsafe=function(Dp){return On(Dp)},cr.allocUnsafeSlow=function(Dp){return On(Dp)};function ss(Dp,a1){if((typeof a1!="string"||a1==="")&&(a1="utf8"),!cr.isEncoding(a1))throw new TypeError("Unknown encoding: "+a1);var zp=cp(Dp,a1)|0,v3=Zt(zp),Mw=v3.write(Dp,a1);return Mw!==zp&&(v3=v3.slice(0,Mw)),v3}function ls(Dp){for(var a1=Dp.length<0?0:Al(Dp.length)|0,zp=Zt(a1),v3=0;v3<a1;v3+=1)zp[v3]=Dp[v3]&255;return zp}function cs(Dp){if(W_(Dp,Uint8Array)){var a1=new Uint8Array(Dp);return wl(a1.buffer,a1.byteOffset,a1.byteLength)}return ls(Dp)}function wl(Dp,a1,zp){if(a1<0||Dp.byteLength<a1)throw new RangeError('"offset" is outside of buffer bounds');if(Dp.byteLength<a1+(zp||0))throw new RangeError('"length" is outside of buffer bounds');var v3;return a1===void 0&&zp===void 0?v3=new Uint8Array(Dp):zp===void 0?v3=new Uint8Array(Dp,a1):v3=new Uint8Array(Dp,a1,zp),Object.setPrototypeOf(v3,cr.prototype),v3}function ep(Dp){if(cr.isBuffer(Dp)){var a1=Al(Dp.length)|0,zp=Zt(a1);return zp.length===0||Dp.copy(zp,0,0,a1),zp}if(Dp.length!==void 0)return typeof Dp.length!="number"||t4(Dp.length)?Zt(0):ls(Dp);if(Dp.type==="Buffer"&&Array.isArray(Dp.data))return ls(Dp.data)}function Al(Dp){if(Dp>=At)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+At.toString(16)+" bytes");return Dp|0}function np(Dp){return+Dp!=Dp&&(Dp=0),cr.alloc(+Dp)}cr.isBuffer=function(a1){return a1!=null&&a1._isBuffer===!0&&a1!==cr.prototype},cr.compare=function(a1,zp){if(W_(a1,Uint8Array)&&(a1=cr.from(a1,a1.offset,a1.byteLength)),W_(zp,Uint8Array)&&(zp=cr.from(zp,zp.offset,zp.byteLength)),!cr.isBuffer(a1)||!cr.isBuffer(zp))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a1===zp)return 0;for(var v3=a1.length,Mw=zp.length,nw=0,n4=Math.min(v3,Mw);nw<n4;++nw)if(a1[nw]!==zp[nw]){v3=a1[nw],Mw=zp[nw];break}return v3<Mw?-1:Mw<v3?1:0},cr.isEncoding=function(a1){switch(String(a1).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(a1,zp){if(!Array.isArray(a1))throw new TypeError('"list" argument must be an Array of Buffers');if(a1.length===0)return cr.alloc(0);var v3;if(zp===void 0)for(zp=0,v3=0;v3<a1.length;++v3)zp+=a1[v3].length;var Mw=cr.allocUnsafe(zp),nw=0;for(v3=0;v3<a1.length;++v3){var n4=a1[v3];if(W_(n4,Uint8Array))nw+n4.length>Mw.length?cr.from(n4).copy(Mw,nw):Uint8Array.prototype.set.call(Mw,n4,nw);else if(cr.isBuffer(n4))n4.copy(Mw,nw);else throw new TypeError('"list" argument must be an Array of Buffers');nw+=n4.length}return Mw};function cp(Dp,a1){if(cr.isBuffer(Dp))return Dp.length;if(ArrayBuffer.isView(Dp)||W_(Dp,ArrayBuffer))return Dp.byteLength;if(typeof Dp!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Dp);var zp=Dp.length,v3=arguments.length>2&&arguments[2]===!0;if(!v3&&zp===0)return 0;for(var Mw=!1;;)switch(a1){case"ascii":case"latin1":case"binary":return zp;case"utf8":case"utf-8":return Jm(Dp).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zp*2;case"hex":return zp>>>1;case"base64":return h3(Dp).length;default:if(Mw)return v3?-1:Jm(Dp).length;a1=(""+a1).toLowerCase(),Mw=!0}}cr.byteLength=cp;function Cp(Dp,a1,zp){var v3=!1;if((a1===void 0||a1<0)&&(a1=0),a1>this.length||((zp===void 0||zp>this.length)&&(zp=this.length),zp<=0)||(zp>>>=0,a1>>>=0,zp<=a1))return"";for(Dp||(Dp="utf8");;)switch(Dp){case"hex":return pu(this,a1,zp);case"utf8":case"utf-8":return as(this,a1,zp);case"ascii":return ip(this,a1,zp);case"latin1":case"binary":return lp(this,a1,zp);case"base64":return Fo(this,a1,zp);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return go(this,a1,zp);default:if(v3)throw new TypeError("Unknown encoding: "+Dp);Dp=(Dp+"").toLowerCase(),v3=!0}}cr.prototype._isBuffer=!0;function Lp(Dp,a1,zp){var v3=Dp[a1];Dp[a1]=Dp[zp],Dp[zp]=v3}cr.prototype.swap16=function(){var a1=this.length;if(a1%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var zp=0;zp<a1;zp+=2)Lp(this,zp,zp+1);return this},cr.prototype.swap32=function(){var a1=this.length;if(a1%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var zp=0;zp<a1;zp+=4)Lp(this,zp,zp+3),Lp(this,zp+1,zp+2);return this},cr.prototype.swap64=function(){var a1=this.length;if(a1%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var zp=0;zp<a1;zp+=8)Lp(this,zp,zp+7),Lp(this,zp+1,zp+6),Lp(this,zp+2,zp+5),Lp(this,zp+3,zp+4);return this},cr.prototype.toString=function(){var a1=this.length;return a1===0?"":arguments.length===0?as(this,0,a1):Cp.apply(this,arguments)},cr.prototype.toLocaleString=cr.prototype.toString,cr.prototype.equals=function(a1){if(!cr.isBuffer(a1))throw new TypeError("Argument must be a Buffer");return this===a1?!0:cr.compare(this,a1)===0},cr.prototype.inspect=function(){var a1="",zp=ut.INSPECT_MAX_BYTES;return a1=this.toString("hex",0,zp).replace(/(.{2})/g,"$1 ").trim(),this.length>zp&&(a1+=" ... "),"<Buffer "+a1+">"},_t&&(cr.prototype[_t]=cr.prototype.inspect),cr.prototype.compare=function(a1,zp,v3,Mw,nw){if(W_(a1,Uint8Array)&&(a1=cr.from(a1,a1.offset,a1.byteLength)),!cr.isBuffer(a1))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a1);if(zp===void 0&&(zp=0),v3===void 0&&(v3=a1?a1.length:0),Mw===void 0&&(Mw=0),nw===void 0&&(nw=this.length),zp<0||v3>a1.length||Mw<0||nw>this.length)throw new RangeError("out of range index");if(Mw>=nw&&zp>=v3)return 0;if(Mw>=nw)return-1;if(zp>=v3)return 1;if(zp>>>=0,v3>>>=0,Mw>>>=0,nw>>>=0,this===a1)return 0;for(var n4=nw-Mw,Ww=v3-zp,F_=Math.min(n4,Ww),qx=this.slice(Mw,nw),nM=a1.slice(zp,v3),Hm=0;Hm<F_;++Hm)if(qx[Hm]!==nM[Hm]){n4=qx[Hm],Ww=nM[Hm];break}return n4<Ww?-1:Ww<n4?1:0};function jp(Dp,a1,zp,v3,Mw){if(Dp.length===0)return-1;if(typeof zp=="string"?(v3=zp,zp=0):zp>2147483647?zp=2147483647:zp<-2147483648&&(zp=-2147483648),zp=+zp,t4(zp)&&(zp=Mw?0:Dp.length-1),zp<0&&(zp=Dp.length+zp),zp>=Dp.length){if(Mw)return-1;zp=Dp.length-1}else if(zp<0)if(Mw)zp=0;else return-1;if(typeof a1=="string"&&(a1=cr.from(a1,v3)),cr.isBuffer(a1))return a1.length===0?-1:nm(Dp,a1,zp,v3,Mw);if(typeof a1=="number")return a1=a1&255,typeof Uint8Array.prototype.indexOf=="function"?Mw?Uint8Array.prototype.indexOf.call(Dp,a1,zp):Uint8Array.prototype.lastIndexOf.call(Dp,a1,zp):nm(Dp,[a1],zp,v3,Mw);throw new TypeError("val must be string, number or Buffer")}function nm(Dp,a1,zp,v3,Mw){var nw=1,n4=Dp.length,Ww=a1.length;if(v3!==void 0&&(v3=String(v3).toLowerCase(),v3==="ucs2"||v3==="ucs-2"||v3==="utf16le"||v3==="utf-16le")){if(Dp.length<2||a1.length<2)return-1;nw=2,n4/=2,Ww/=2,zp/=2}function F_(Q_,Uw){return nw===1?Q_[Uw]:Q_.readUInt16BE(Uw*nw)}var qx;if(Mw){var nM=-1;for(qx=zp;qx<n4;qx++)if(F_(Dp,qx)===F_(a1,nM===-1?0:qx-nM)){if(nM===-1&&(nM=qx),qx-nM+1===Ww)return nM*nw}else nM!==-1&&(qx-=qx-nM),nM=-1}else for(zp+Ww>n4&&(zp=n4-Ww),qx=zp;qx>=0;qx--){for(var Hm=!0,y3=0;y3<Ww;y3++)if(F_(Dp,qx+y3)!==F_(a1,y3)){Hm=!1;break}if(Hm)return qx}return-1}cr.prototype.includes=function(a1,zp,v3){return this.indexOf(a1,zp,v3)!==-1},cr.prototype.indexOf=function(a1,zp,v3){return jp(this,a1,zp,v3,!0)},cr.prototype.lastIndexOf=function(a1,zp,v3){return jp(this,a1,zp,v3,!1)};function zm(Dp,a1,zp,v3){zp=Number(zp)||0;var Mw=Dp.length-zp;v3?(v3=Number(v3),v3>Mw&&(v3=Mw)):v3=Mw;var nw=a1.length;v3>nw/2&&(v3=nw/2);for(var n4=0;n4<v3;++n4){var Ww=parseInt(a1.substr(n4*2,2),16);if(t4(Ww))return n4;Dp[zp+n4]=Ww}return n4}function i1(Dp,a1,zp,v3){return Fp(Jm(a1,Dp.length-zp),Dp,zp,v3)}function d3(Dp,a1,zp,v3){return Fp($_(a1),Dp,zp,v3)}function op(Dp,a1,zp,v3){return Fp(h3(a1),Dp,zp,v3)}function Sn(Dp,a1,zp,v3){return Fp(j_(a1,Dp.length-zp),Dp,zp,v3)}cr.prototype.write=function(a1,zp,v3,Mw){if(zp===void 0)Mw="utf8",v3=this.length,zp=0;else if(v3===void 0&&typeof zp=="string")Mw=zp,v3=this.length,zp=0;else if(isFinite(zp))zp=zp>>>0,isFinite(v3)?(v3=v3>>>0,Mw===void 0&&(Mw="utf8")):(Mw=v3,v3=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var nw=this.length-zp;if((v3===void 0||v3>nw)&&(v3=nw),a1.length>0&&(v3<0||zp<0)||zp>this.length)throw new RangeError("Attempt to write outside buffer bounds");Mw||(Mw="utf8");for(var n4=!1;;)switch(Mw){case"hex":return zm(this,a1,zp,v3);case"utf8":case"utf-8":return i1(this,a1,zp,v3);case"ascii":case"latin1":case"binary":return d3(this,a1,zp,v3);case"base64":return op(this,a1,zp,v3);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,a1,zp,v3);default:if(n4)throw new TypeError("Unknown encoding: "+Mw);Mw=(""+Mw).toLowerCase(),n4=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fo(Dp,a1,zp){return a1===0&&zp===Dp.length?lt.fromByteArray(Dp):lt.fromByteArray(Dp.slice(a1,zp))}function as(Dp,a1,zp){zp=Math.min(Dp.length,zp);for(var v3=[],Mw=a1;Mw<zp;){var nw=Dp[Mw],n4=null,Ww=nw>239?4:nw>223?3:nw>191?2:1;if(Mw+Ww<=zp){var F_,qx,nM,Hm;switch(Ww){case 1:nw<128&&(n4=nw);break;case 2:F_=Dp[Mw+1],(F_&192)===128&&(Hm=(nw&31)<<6|F_&63,Hm>127&&(n4=Hm));break;case 3:F_=Dp[Mw+1],qx=Dp[Mw+2],(F_&192)===128&&(qx&192)===128&&(Hm=(nw&15)<<12|(F_&63)<<6|qx&63,Hm>2047&&(Hm<55296||Hm>57343)&&(n4=Hm));break;case 4:F_=Dp[Mw+1],qx=Dp[Mw+2],nM=Dp[Mw+3],(F_&192)===128&&(qx&192)===128&&(nM&192)===128&&(Hm=(nw&15)<<18|(F_&63)<<12|(qx&63)<<6|nM&63,Hm>65535&&Hm<1114112&&(n4=Hm))}}n4===null?(n4=65533,Ww=1):n4>65535&&(n4-=65536,v3.push(n4>>>10&1023|55296),n4=56320|n4&1023),v3.push(n4),Mw+=Ww}return xl(v3)}var us=4096;function xl(Dp){var a1=Dp.length;if(a1<=us)return String.fromCharCode.apply(String,Dp);for(var zp="",v3=0;v3<a1;)zp+=String.fromCharCode.apply(String,Dp.slice(v3,v3+=us));return zp}function ip(Dp,a1,zp){var v3="";zp=Math.min(Dp.length,zp);for(var Mw=a1;Mw<zp;++Mw)v3+=String.fromCharCode(Dp[Mw]&127);return v3}function lp(Dp,a1,zp){var v3="";zp=Math.min(Dp.length,zp);for(var Mw=a1;Mw<zp;++Mw)v3+=String.fromCharCode(Dp[Mw]);return v3}function pu(Dp,a1,zp){var v3=Dp.length;(!a1||a1<0)&&(a1=0),(!zp||zp<0||zp>v3)&&(zp=v3);for(var Mw="",nw=a1;nw<zp;++nw)Mw+=Nw[Dp[nw]];return Mw}function go(Dp,a1,zp){for(var v3=Dp.slice(a1,zp),Mw="",nw=0;nw<v3.length-1;nw+=2)Mw+=String.fromCharCode(v3[nw]+v3[nw+1]*256);return Mw}cr.prototype.slice=function(a1,zp){var v3=this.length;a1=~~a1,zp=zp===void 0?v3:~~zp,a1<0?(a1+=v3,a1<0&&(a1=0)):a1>v3&&(a1=v3),zp<0?(zp+=v3,zp<0&&(zp=0)):zp>v3&&(zp=v3),zp<a1&&(zp=a1);var Mw=this.subarray(a1,zp);return Object.setPrototypeOf(Mw,cr.prototype),Mw};function h0(Dp,a1,zp){if(Dp%1!==0||Dp<0)throw new RangeError("offset is not uint");if(Dp+a1>zp)throw new RangeError("Trying to access beyond buffer length")}cr.prototype.readUintLE=cr.prototype.readUIntLE=function(a1,zp,v3){a1=a1>>>0,zp=zp>>>0,v3||h0(a1,zp,this.length);for(var Mw=this[a1],nw=1,n4=0;++n4<zp&&(nw*=256);)Mw+=this[a1+n4]*nw;return Mw},cr.prototype.readUintBE=cr.prototype.readUIntBE=function(a1,zp,v3){a1=a1>>>0,zp=zp>>>0,v3||h0(a1,zp,this.length);for(var Mw=this[a1+--zp],nw=1;zp>0&&(nw*=256);)Mw+=this[a1+--zp]*nw;return Mw},cr.prototype.readUint8=cr.prototype.readUInt8=function(a1,zp){return a1=a1>>>0,zp||h0(a1,1,this.length),this[a1]},cr.prototype.readUint16LE=cr.prototype.readUInt16LE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,2,this.length),this[a1]|this[a1+1]<<8},cr.prototype.readUint16BE=cr.prototype.readUInt16BE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,2,this.length),this[a1]<<8|this[a1+1]},cr.prototype.readUint32LE=cr.prototype.readUInt32LE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),(this[a1]|this[a1+1]<<8|this[a1+2]<<16)+this[a1+3]*16777216},cr.prototype.readUint32BE=cr.prototype.readUInt32BE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),this[a1]*16777216+(this[a1+1]<<16|this[a1+2]<<8|this[a1+3])},cr.prototype.readIntLE=function(a1,zp,v3){a1=a1>>>0,zp=zp>>>0,v3||h0(a1,zp,this.length);for(var Mw=this[a1],nw=1,n4=0;++n4<zp&&(nw*=256);)Mw+=this[a1+n4]*nw;return nw*=128,Mw>=nw&&(Mw-=Math.pow(2,8*zp)),Mw},cr.prototype.readIntBE=function(a1,zp,v3){a1=a1>>>0,zp=zp>>>0,v3||h0(a1,zp,this.length);for(var Mw=zp,nw=1,n4=this[a1+--Mw];Mw>0&&(nw*=256);)n4+=this[a1+--Mw]*nw;return nw*=128,n4>=nw&&(n4-=Math.pow(2,8*zp)),n4},cr.prototype.readInt8=function(a1,zp){return a1=a1>>>0,zp||h0(a1,1,this.length),this[a1]&128?(255-this[a1]+1)*-1:this[a1]},cr.prototype.readInt16LE=function(a1,zp){a1=a1>>>0,zp||h0(a1,2,this.length);var v3=this[a1]|this[a1+1]<<8;return v3&32768?v3|4294901760:v3},cr.prototype.readInt16BE=function(a1,zp){a1=a1>>>0,zp||h0(a1,2,this.length);var v3=this[a1+1]|this[a1]<<8;return v3&32768?v3|4294901760:v3},cr.prototype.readInt32LE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),this[a1]|this[a1+1]<<8|this[a1+2]<<16|this[a1+3]<<24},cr.prototype.readInt32BE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),this[a1]<<24|this[a1+1]<<16|this[a1+2]<<8|this[a1+3]},cr.prototype.readFloatLE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),ht.read(this,a1,!0,23,4)},cr.prototype.readFloatBE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,4,this.length),ht.read(this,a1,!1,23,4)},cr.prototype.readDoubleLE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,8,this.length),ht.read(this,a1,!0,52,8)},cr.prototype.readDoubleBE=function(a1,zp){return a1=a1>>>0,zp||h0(a1,8,this.length),ht.read(this,a1,!1,52,8)};function kp(Dp,a1,zp,v3,Mw,nw){if(!cr.isBuffer(Dp))throw new TypeError('"buffer" argument must be a Buffer instance');if(a1>Mw||a1<nw)throw new RangeError('"value" argument is out of bounds');if(zp+v3>Dp.length)throw new RangeError("Index out of range")}cr.prototype.writeUintLE=cr.prototype.writeUIntLE=function(a1,zp,v3,Mw){if(a1=+a1,zp=zp>>>0,v3=v3>>>0,!Mw){var nw=Math.pow(2,8*v3)-1;kp(this,a1,zp,v3,nw,0)}var n4=1,Ww=0;for(this[zp]=a1&255;++Ww<v3&&(n4*=256);)this[zp+Ww]=a1/n4&255;return zp+v3},cr.prototype.writeUintBE=cr.prototype.writeUIntBE=function(a1,zp,v3,Mw){if(a1=+a1,zp=zp>>>0,v3=v3>>>0,!Mw){var nw=Math.pow(2,8*v3)-1;kp(this,a1,zp,v3,nw,0)}var n4=v3-1,Ww=1;for(this[zp+n4]=a1&255;--n4>=0&&(Ww*=256);)this[zp+n4]=a1/Ww&255;return zp+v3},cr.prototype.writeUint8=cr.prototype.writeUInt8=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,1,255,0),this[zp]=a1&255,zp+1},cr.prototype.writeUint16LE=cr.prototype.writeUInt16LE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,2,65535,0),this[zp]=a1&255,this[zp+1]=a1>>>8,zp+2},cr.prototype.writeUint16BE=cr.prototype.writeUInt16BE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,2,65535,0),this[zp]=a1>>>8,this[zp+1]=a1&255,zp+2},cr.prototype.writeUint32LE=cr.prototype.writeUInt32LE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,4,4294967295,0),this[zp+3]=a1>>>24,this[zp+2]=a1>>>16,this[zp+1]=a1>>>8,this[zp]=a1&255,zp+4},cr.prototype.writeUint32BE=cr.prototype.writeUInt32BE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,4,4294967295,0),this[zp]=a1>>>24,this[zp+1]=a1>>>16,this[zp+2]=a1>>>8,this[zp+3]=a1&255,zp+4},cr.prototype.writeIntLE=function(a1,zp,v3,Mw){if(a1=+a1,zp=zp>>>0,!Mw){var nw=Math.pow(2,8*v3-1);kp(this,a1,zp,v3,nw-1,-nw)}var n4=0,Ww=1,F_=0;for(this[zp]=a1&255;++n4<v3&&(Ww*=256);)a1<0&&F_===0&&this[zp+n4-1]!==0&&(F_=1),this[zp+n4]=(a1/Ww>>0)-F_&255;return zp+v3},cr.prototype.writeIntBE=function(a1,zp,v3,Mw){if(a1=+a1,zp=zp>>>0,!Mw){var nw=Math.pow(2,8*v3-1);kp(this,a1,zp,v3,nw-1,-nw)}var n4=v3-1,Ww=1,F_=0;for(this[zp+n4]=a1&255;--n4>=0&&(Ww*=256);)a1<0&&F_===0&&this[zp+n4+1]!==0&&(F_=1),this[zp+n4]=(a1/Ww>>0)-F_&255;return zp+v3},cr.prototype.writeInt8=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,1,127,-128),a1<0&&(a1=255+a1+1),this[zp]=a1&255,zp+1},cr.prototype.writeInt16LE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,2,32767,-32768),this[zp]=a1&255,this[zp+1]=a1>>>8,zp+2},cr.prototype.writeInt16BE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,2,32767,-32768),this[zp]=a1>>>8,this[zp+1]=a1&255,zp+2},cr.prototype.writeInt32LE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,4,2147483647,-2147483648),this[zp]=a1&255,this[zp+1]=a1>>>8,this[zp+2]=a1>>>16,this[zp+3]=a1>>>24,zp+4},cr.prototype.writeInt32BE=function(a1,zp,v3){return a1=+a1,zp=zp>>>0,v3||kp(this,a1,zp,4,2147483647,-2147483648),a1<0&&(a1=4294967295+a1+1),this[zp]=a1>>>24,this[zp+1]=a1>>>16,this[zp+2]=a1>>>8,this[zp+3]=a1&255,zp+4};function cm(Dp,a1,zp,v3,Mw,nw){if(zp+v3>Dp.length)throw new RangeError("Index out of range");if(zp<0)throw new RangeError("Index out of range")}function b3(Dp,a1,zp,v3,Mw){return a1=+a1,zp=zp>>>0,Mw||cm(Dp,a1,zp,4),ht.write(Dp,a1,zp,v3,23,4),zp+4}cr.prototype.writeFloatLE=function(a1,zp,v3){return b3(this,a1,zp,!0,v3)},cr.prototype.writeFloatBE=function(a1,zp,v3){return b3(this,a1,zp,!1,v3)};function L_(Dp,a1,zp,v3,Mw){return a1=+a1,zp=zp>>>0,Mw||cm(Dp,a1,zp,8),ht.write(Dp,a1,zp,v3,52,8),zp+8}cr.prototype.writeDoubleLE=function(a1,zp,v3){return L_(this,a1,zp,!0,v3)},cr.prototype.writeDoubleBE=function(a1,zp,v3){return L_(this,a1,zp,!1,v3)},cr.prototype.copy=function(a1,zp,v3,Mw){if(!cr.isBuffer(a1))throw new TypeError("argument should be a Buffer");if(v3||(v3=0),!Mw&&Mw!==0&&(Mw=this.length),zp>=a1.length&&(zp=a1.length),zp||(zp=0),Mw>0&&Mw<v3&&(Mw=v3),Mw===v3||a1.length===0||this.length===0)return 0;if(zp<0)throw new RangeError("targetStart out of bounds");if(v3<0||v3>=this.length)throw new RangeError("Index out of range");if(Mw<0)throw new RangeError("sourceEnd out of bounds");Mw>this.length&&(Mw=this.length),a1.length-zp<Mw-v3&&(Mw=a1.length-zp+v3);var nw=Mw-v3;return this===a1&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(zp,v3,Mw):Uint8Array.prototype.set.call(a1,this.subarray(v3,Mw),zp),nw},cr.prototype.fill=function(a1,zp,v3,Mw){if(typeof a1=="string"){if(typeof zp=="string"?(Mw=zp,zp=0,v3=this.length):typeof v3=="string"&&(Mw=v3,v3=this.length),Mw!==void 0&&typeof Mw!="string")throw new TypeError("encoding must be a string");if(typeof Mw=="string"&&!cr.isEncoding(Mw))throw new TypeError("Unknown encoding: "+Mw);if(a1.length===1){var nw=a1.charCodeAt(0);(Mw==="utf8"&&nw<128||Mw==="latin1")&&(a1=nw)}}else typeof a1=="number"?a1=a1&255:typeof a1=="boolean"&&(a1=Number(a1));if(zp<0||this.length<zp||this.length<v3)throw new RangeError("Out of range index");if(v3<=zp)return this;zp=zp>>>0,v3=v3===void 0?this.length:v3>>>0,a1||(a1=0);var n4;if(typeof a1=="number")for(n4=zp;n4<v3;++n4)this[n4]=a1;else{var Ww=cr.isBuffer(a1)?a1:cr.from(a1,Mw),F_=Ww.length;if(F_===0)throw new TypeError('The value "'+a1+'" is invalid for argument "value"');for(n4=0;n4<v3-zp;++n4)this[n4+zp]=Ww[n4%F_]}return this};var Ym=/[^+/0-9A-Za-z-_]/g;function Xm(Dp){if(Dp=Dp.split("=")[0],Dp=Dp.trim().replace(Ym,""),Dp.length<2)return"";for(;Dp.length%4!==0;)Dp=Dp+"=";return Dp}function Jm(Dp,a1){a1=a1||1/0;for(var zp,v3=Dp.length,Mw=null,nw=[],n4=0;n4<v3;++n4){if(zp=Dp.charCodeAt(n4),zp>55295&&zp<57344){if(!Mw){if(zp>56319){(a1-=3)>-1&&nw.push(239,191,189);continue}else if(n4+1===v3){(a1-=3)>-1&&nw.push(239,191,189);continue}Mw=zp;continue}if(zp<56320){(a1-=3)>-1&&nw.push(239,191,189),Mw=zp;continue}zp=(Mw-55296<<10|zp-56320)+65536}else Mw&&(a1-=3)>-1&&nw.push(239,191,189);if(Mw=null,zp<128){if((a1-=1)<0)break;nw.push(zp)}else if(zp<2048){if((a1-=2)<0)break;nw.push(zp>>6|192,zp&63|128)}else if(zp<65536){if((a1-=3)<0)break;nw.push(zp>>12|224,zp>>6&63|128,zp&63|128)}else if(zp<1114112){if((a1-=4)<0)break;nw.push(zp>>18|240,zp>>12&63|128,zp>>6&63|128,zp&63|128)}else throw new Error("Invalid code point")}return nw}function $_(Dp){for(var a1=[],zp=0;zp<Dp.length;++zp)a1.push(Dp.charCodeAt(zp)&255);return a1}function j_(Dp,a1){for(var zp,v3,Mw,nw=[],n4=0;n4<Dp.length&&!((a1-=2)<0);++n4)zp=Dp.charCodeAt(n4),v3=zp>>8,Mw=zp%256,nw.push(Mw),nw.push(v3);return nw}function h3(Dp){return lt.toByteArray(Xm(Dp))}function Fp(Dp,a1,zp,v3){for(var Mw=0;Mw<v3&&!(Mw+zp>=a1.length||Mw>=Dp.length);++Mw)a1[Mw+zp]=Dp[Mw];return Mw}function W_(Dp,a1){return Dp instanceof a1||Dp!=null&&Dp.constructor!=null&&Dp.constructor.name!=null&&Dp.constructor.name===a1.name}function t4(Dp){return Dp!==Dp}var Nw=function(){for(var Dp="0123456789abcdef",a1=new Array(256),zp=0;zp<16;++zp)for(var v3=zp*16,Mw=0;Mw<16;++Mw)a1[v3+Mw]=Dp[zp]+Dp[Mw];return a1}()})(buffer$1);var browser$1$1={exports:{}},process=browser$1$1.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(ut){if(cachedSetTimeout===setTimeout)return setTimeout(ut,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(ut,0);try{return cachedSetTimeout(ut,0)}catch{try{return cachedSetTimeout.call(null,ut,0)}catch{return cachedSetTimeout.call(this,ut,0)}}}function runClearTimeout(ut){if(cachedClearTimeout===clearTimeout)return clearTimeout(ut);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(ut);try{return cachedClearTimeout(ut)}catch{try{return cachedClearTimeout.call(null,ut)}catch{return cachedClearTimeout.call(this,ut)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var ut=runTimeout(cleanUpNextTick);draining=!0;for(var lt=queue$1.length;lt;){for(currentQueue=queue$1,queue$1=[];++queueIndex<lt;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,lt=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(ut)}}process.nextTick=function(ut){var lt=new Array(arguments.length-1);if(arguments.length>1)for(var ht=1;ht<arguments.length;ht++)lt[ht-1]=arguments[ht];queue$1.push(new Item(ut,lt)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(ut,lt){this.fun=ut,this.array=lt}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$1(){}process.on=noop$1;process.addListener=noop$1;process.once=noop$1;process.off=noop$1;process.removeListener=noop$1;process.removeAllListeners=noop$1;process.emit=noop$1;process.prependListener=noop$1;process.prependOnceListener=noop$1;process.listeners=function(ut){return[]};process.binding=function(ut){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(ut){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};function noop$2(){}var browser$c=browser$1$1.exports.browser,emitWarning=noop$2,binding=browser$1$1.exports.binding,exit=noop$2,pid=1,features={},kill=noop$2,dlopen=noop$2,uptime=noop$2,memoryUsage=noop$2,uvCounters=noop$2,platform$3="browser",arch="browser",execPath="browser",execArgv=[],api$2={nextTick:browser$1$1.exports.nextTick,title:browser$1$1.exports.title,browser:browser$c,env:browser$1$1.exports.env,argv:browser$1$1.exports.argv,version:browser$1$1.exports.version,versions:browser$1$1.exports.versions,on:browser$1$1.exports.on,addListener:browser$1$1.exports.addListener,once:browser$1$1.exports.once,off:browser$1$1.exports.off,removeListener:browser$1$1.exports.removeListener,removeAllListeners:browser$1$1.exports.removeAllListeners,emit:browser$1$1.exports.emit,emitWarning,prependListener:browser$1$1.exports.prependListener,prependOnceListener:browser$1$1.exports.prependOnceListener,listeners:browser$1$1.exports.listeners,binding,cwd:browser$1$1.exports.cwd,chdir:browser$1$1.exports.chdir,umask:browser$1$1.exports.umask,exit,pid,features,kill,dlopen,uptime,memoryUsage,uvCounters,platform:platform$3,arch,execPath,execArgv};browser$1$1.exports.addListener;browser$1$1.exports.argv;browser$1$1.exports.chdir;browser$1$1.exports.cwd;browser$1$1.exports.emit;browser$1$1.exports.env;browser$1$1.exports.listeners;browser$1$1.exports.nextTick;browser$1$1.exports.off;browser$1$1.exports.on;browser$1$1.exports.once;browser$1$1.exports.prependListener;browser$1$1.exports.prependOnceListener;browser$1$1.exports.removeAllListeners;browser$1$1.exports.removeListener;browser$1$1.exports.title;browser$1$1.exports.umask;browser$1$1.exports.version;browser$1$1.exports.versions;var _globalThis=function(ut){function lt(){var _t=this||self;return delete ut.prototype.__magic__,_t}if(typeof globalThis=="object")return globalThis;if(this)return lt();ut.defineProperty(ut.prototype,"__magic__",{configurable:!0,get:lt});var ht=__magic__;return ht}(Object),_global$1=_globalThis,naclUtil={exports:{}};(function(ut){(function(lt,ht){ut.exports?ut.exports=ht():(lt.nacl||(lt.nacl={}),lt.nacl.util=ht())})(commonjsGlobal,function(){var lt={};function ht(_t){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(_t))throw new TypeError("invalid encoding")}return lt.decodeUTF8=function(_t){if(typeof _t!="string")throw new TypeError("expected string");var At,qt=unescape(encodeURIComponent(_t)),Zt=new Uint8Array(qt.length);for(At=0;At<qt.length;At++)Zt[At]=qt.charCodeAt(At);return Zt},lt.encodeUTF8=function(_t){var At,qt=[];for(At=0;At<_t.length;At++)qt.push(String.fromCharCode(_t[At]));return decodeURIComponent(escape(qt.join("")))},typeof atob>"u"?typeof buffer$1.Buffer.from<"u"?(lt.encodeBase64=function(_t){return buffer$1.Buffer.from(_t).toString("base64")},lt.decodeBase64=function(_t){return ht(_t),new Uint8Array(Array.prototype.slice.call(buffer$1.Buffer.from(_t,"base64"),0))}):(lt.encodeBase64=function(_t){return new buffer$1.Buffer(_t).toString("base64")},lt.decodeBase64=function(_t){return ht(_t),new Uint8Array(Array.prototype.slice.call(new buffer$1.Buffer(_t,"base64"),0))}):(lt.encodeBase64=function(_t){var At,qt=[],Zt=_t.length;for(At=0;At<Zt;At++)qt.push(String.fromCharCode(_t[At]));return btoa(qt.join(""))},lt.decodeBase64=function(_t){ht(_t);var At,qt=atob(_t),Zt=new Uint8Array(qt.length);for(At=0;At<qt.length;At++)Zt[At]=qt.charCodeAt(At);return Zt}),lt})})(naclUtil);var naclUtilExports=naclUtil.exports;const nacl=getDefaultExportFromCjs(naclUtilExports);function commonjsRequire(ut){throw new Error('Could not dynamically require "'+ut+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}},cryptoBrowserify={},browser$b={exports:{}},safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,function(ut,lt){var ht=buffer$1,_t=ht.Buffer;function At(Zt,cr){for(var Gr in Zt)cr[Gr]=Zt[Gr]}_t.from&&_t.alloc&&_t.allocUnsafe&&_t.allocUnsafeSlow?ut.exports=ht:(At(ht,lt),lt.Buffer=qt);function qt(Zt,cr,Gr){return _t(Zt,cr,Gr)}qt.prototype=Object.create(_t.prototype),At(_t,qt),qt.from=function(Zt,cr,Gr){if(typeof Zt=="number")throw new TypeError("Argument must not be a number");return _t(Zt,cr,Gr)},qt.alloc=function(Zt,cr,Gr){if(typeof Zt!="number")throw new TypeError("Argument must be a number");var Zr=_t(Zt);return cr!==void 0?typeof Gr=="string"?Zr.fill(cr,Gr):Zr.fill(cr):Zr.fill(0),Zr},qt.allocUnsafe=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return _t(Zt)},qt.allocUnsafeSlow=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return ht.SlowBuffer(Zt)}}(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var ut=65536,lt=4294967295;function ht(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var _t=requireSafeBuffer$1().Buffer,At=commonjsGlobal.crypto||commonjsGlobal.msCrypto;At&&At.getRandomValues?browser$b.exports=qt:browser$b.exports=ht;function qt(Zt,cr){if(Zt>lt)throw new RangeError("requested too many random bytes");var Gr=_t.allocUnsafe(Zt);if(Zt>0)if(Zt>ut)for(var Zr=0;Zr<Zt;Zr+=ut)At.getRandomValues(Gr.slice(Zr,Zr+ut));else At.getRandomValues(Gr);return typeof cr=="function"?api$2.nextTick(function(){cr(null,Gr)}):Gr}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(lt,ht){ht&&(lt.super_=ht,lt.prototype=Object.create(ht.prototype,{constructor:{value:lt,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(lt,ht){if(ht){lt.super_=ht;var _t=function(){};_t.prototype=ht.prototype,lt.prototype=new _t,lt.prototype.constructor=lt}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var ut=typeof Reflect=="object"?Reflect:null,lt=ut&&typeof ut.apply=="function"?ut.apply:function(Lp,jp,nm){return Function.prototype.apply.call(Lp,jp,nm)},ht;ut&&typeof ut.ownKeys=="function"?ht=ut.ownKeys:Object.getOwnPropertySymbols?ht=function(Lp){return Object.getOwnPropertyNames(Lp).concat(Object.getOwnPropertySymbols(Lp))}:ht=function(Lp){return Object.getOwnPropertyNames(Lp)};function _t(Cp){console&&console.warn&&console.warn(Cp)}var At=Number.isNaN||function(Lp){return Lp!==Lp};function qt(){qt.init.call(this)}events.exports=qt,events.exports.once=Al,qt.EventEmitter=qt,qt.prototype._events=void 0,qt.prototype._eventsCount=0,qt.prototype._maxListeners=void 0;var Zt=10;function cr(Cp){if(typeof Cp!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Cp)}Object.defineProperty(qt,"defaultMaxListeners",{enumerable:!0,get:function(){return Zt},set:function(Cp){if(typeof Cp!="number"||Cp<0||At(Cp))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Cp+".");Zt=Cp}}),qt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},qt.prototype.setMaxListeners=function(Lp){if(typeof Lp!="number"||Lp<0||At(Lp))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Lp+".");return this._maxListeners=Lp,this};function Gr(Cp){return Cp._maxListeners===void 0?qt.defaultMaxListeners:Cp._maxListeners}qt.prototype.getMaxListeners=function(){return Gr(this)},qt.prototype.emit=function(Lp){for(var jp=[],nm=1;nm<arguments.length;nm++)jp.push(arguments[nm]);var zm=Lp==="error",i1=this._events;if(i1!==void 0)zm=zm&&i1.error===void 0;else if(!zm)return!1;if(zm){var d3;if(jp.length>0&&(d3=jp[0]),d3 instanceof Error)throw d3;var op=new Error("Unhandled error."+(d3?" ("+d3.message+")":""));throw op.context=d3,op}var Sn=i1[Lp];if(Sn===void 0)return!1;if(typeof Sn=="function")lt(Sn,this,jp);else for(var Fo=Sn.length,as=cs(Sn,Fo),nm=0;nm<Fo;++nm)lt(as[nm],this,jp);return!0};function Zr(Cp,Lp,jp,nm){var zm,i1,d3;if(cr(jp),i1=Cp._events,i1===void 0?(i1=Cp._events=Object.create(null),Cp._eventsCount=0):(i1.newListener!==void 0&&(Cp.emit("newListener",Lp,jp.listener?jp.listener:jp),i1=Cp._events),d3=i1[Lp]),d3===void 0)d3=i1[Lp]=jp,++Cp._eventsCount;else if(typeof d3=="function"?d3=i1[Lp]=nm?[jp,d3]:[d3,jp]:nm?d3.unshift(jp):d3.push(jp),zm=Gr(Cp),zm>0&&d3.length>zm&&!d3.warned){d3.warned=!0;var op=new Error("Possible EventEmitter memory leak detected. "+d3.length+" "+String(Lp)+" listeners added. Use emitter.setMaxListeners() to increase limit");op.name="MaxListenersExceededWarning",op.emitter=Cp,op.type=Lp,op.count=d3.length,_t(op)}return Cp}qt.prototype.addListener=function(Lp,jp){return Zr(this,Lp,jp,!1)},qt.prototype.on=qt.prototype.addListener,qt.prototype.prependListener=function(Lp,jp){return Zr(this,Lp,jp,!0)};function xn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function On(Cp,Lp,jp){var nm={fired:!1,wrapFn:void 0,target:Cp,type:Lp,listener:jp},zm=xn.bind(nm);return zm.listener=jp,nm.wrapFn=zm,zm}qt.prototype.once=function(Lp,jp){return cr(jp),this.on(Lp,On(this,Lp,jp)),this},qt.prototype.prependOnceListener=function(Lp,jp){return cr(jp),this.prependListener(Lp,On(this,Lp,jp)),this},qt.prototype.removeListener=function(Lp,jp){var nm,zm,i1,d3,op;if(cr(jp),zm=this._events,zm===void 0)return this;if(nm=zm[Lp],nm===void 0)return this;if(nm===jp||nm.listener===jp)--this._eventsCount===0?this._events=Object.create(null):(delete zm[Lp],zm.removeListener&&this.emit("removeListener",Lp,nm.listener||jp));else if(typeof nm!="function"){for(i1=-1,d3=nm.length-1;d3>=0;d3--)if(nm[d3]===jp||nm[d3].listener===jp){op=nm[d3].listener,i1=d3;break}if(i1<0)return this;i1===0?nm.shift():wl(nm,i1),nm.length===1&&(zm[Lp]=nm[0]),zm.removeListener!==void 0&&this.emit("removeListener",Lp,op||jp)}return this},qt.prototype.off=qt.prototype.removeListener,qt.prototype.removeAllListeners=function(Lp){var jp,nm,zm;if(nm=this._events,nm===void 0)return this;if(nm.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):nm[Lp]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete nm[Lp]),this;if(arguments.length===0){var i1=Object.keys(nm),d3;for(zm=0;zm<i1.length;++zm)d3=i1[zm],d3!=="removeListener"&&this.removeAllListeners(d3);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(jp=nm[Lp],typeof jp=="function")this.removeListener(Lp,jp);else if(jp!==void 0)for(zm=jp.length-1;zm>=0;zm--)this.removeListener(Lp,jp[zm]);return this};function ss(Cp,Lp,jp){var nm=Cp._events;if(nm===void 0)return[];var zm=nm[Lp];return zm===void 0?[]:typeof zm=="function"?jp?[zm.listener||zm]:[zm]:jp?ep(zm):cs(zm,zm.length)}qt.prototype.listeners=function(Lp){return ss(this,Lp,!0)},qt.prototype.rawListeners=function(Lp){return ss(this,Lp,!1)},qt.listenerCount=function(Cp,Lp){return typeof Cp.listenerCount=="function"?Cp.listenerCount(Lp):ls.call(Cp,Lp)},qt.prototype.listenerCount=ls;function ls(Cp){var Lp=this._events;if(Lp!==void 0){var jp=Lp[Cp];if(typeof jp=="function")return 1;if(jp!==void 0)return jp.length}return 0}qt.prototype.eventNames=function(){return this._eventsCount>0?ht(this._events):[]};function cs(Cp,Lp){for(var jp=new Array(Lp),nm=0;nm<Lp;++nm)jp[nm]=Cp[nm];return jp}function wl(Cp,Lp){for(;Lp+1<Cp.length;Lp++)Cp[Lp]=Cp[Lp+1];Cp.pop()}function ep(Cp){for(var Lp=new Array(Cp.length),jp=0;jp<Lp.length;++jp)Lp[jp]=Cp[jp].listener||Cp[jp];return Lp}function Al(Cp,Lp){return new Promise(function(jp,nm){function zm(d3){Cp.removeListener(Lp,i1),nm(d3)}function i1(){typeof Cp.removeListener=="function"&&Cp.removeListener("error",zm),jp([].slice.call(arguments))}cp(Cp,Lp,i1,{once:!0}),Lp!=="error"&&np(Cp,zm,{once:!0})})}function np(Cp,Lp,jp){typeof Cp.on=="function"&&cp(Cp,"error",Lp,jp)}function cp(Cp,Lp,jp,nm){if(typeof Cp.on=="function")nm.once?Cp.once(Lp,jp):Cp.on(Lp,jp);else if(typeof Cp.addEventListener=="function")Cp.addEventListener(Lp,function zm(i1){nm.once&&Cp.removeEventListener(Lp,zm),jp(i1)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Cp)}return events.exports}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var lt={},ht=Symbol("test"),_t=Object(ht);if(typeof ht=="string"||Object.prototype.toString.call(ht)!=="[object Symbol]"||Object.prototype.toString.call(_t)!=="[object Symbol]")return!1;var At=42;lt[ht]=At;for(var qt in lt)return!1;if(typeof Object.keys=="function"&&Object.keys(lt).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(lt).length!==0)return!1;var Zt=Object.getOwnPropertySymbols(lt);if(Zt.length!==1||Zt[0]!==ht||!Object.prototype.propertyIsEnumerable.call(lt,ht))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var cr=Object.getOwnPropertyDescriptor(lt,ht);if(cr.value!==At||cr.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var ut=requireShams$1();return shams=function(){return ut()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max$2,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max$2=Math.max),max$2}var min$1,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min$1=Math.min),min$1}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round$1,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round$1=Math.round),round$1}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(lt){return lt!==lt}),_isNaN}var sign$2,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$2;hasRequiredSign$1=1;var ut=require_isNaN();return sign$2=function(ht){return ut(ht)||ht===0?ht:ht<0?-1:1},sign$2}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var ut=requireGOPD();if(ut)try{ut([],"length")}catch{ut=null}return gopd=ut,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var ut=Object.defineProperty||!1;if(ut)try{ut({},"a",{value:1})}catch{ut=!1}return esDefineProperty=ut,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var ut=typeof Symbol<"u"&&Symbol,lt=requireShams$1();return hasSymbols=function(){return typeof ut!="function"||typeof Symbol!="function"||typeof ut("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:lt()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var ut=requireEsObjectAtoms();return Object_getPrototypeOf=ut.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var ut="Function.prototype.bind called on incompatible ",lt=Object.prototype.toString,ht=Math.max,_t="[object Function]",At=function(Gr,Zr){for(var xn=[],On=0;On<Gr.length;On+=1)xn[On]=Gr[On];for(var ss=0;ss<Zr.length;ss+=1)xn[ss+Gr.length]=Zr[ss];return xn},qt=function(Gr,Zr){for(var xn=[],On=Zr||0,ss=0;On<Gr.length;On+=1,ss+=1)xn[ss]=Gr[On];return xn},Zt=function(cr,Gr){for(var Zr="",xn=0;xn<cr.length;xn+=1)Zr+=cr[xn],xn+1<cr.length&&(Zr+=Gr);return Zr};return implementation=function(Gr){var Zr=this;if(typeof Zr!="function"||lt.apply(Zr)!==_t)throw new TypeError(ut+Zr);for(var xn=qt(arguments,1),On,ss=function(){if(this instanceof On){var Al=Zr.apply(this,At(xn,arguments));return Object(Al)===Al?Al:this}return Zr.apply(Gr,At(xn,arguments))},ls=ht(0,Zr.length-xn.length),cs=[],wl=0;wl<ls;wl++)cs[wl]="$"+wl;if(On=Function("binder","return function ("+Zt(cs,",")+"){ return binder.apply(this,arguments); }")(ss),Zr.prototype){var ep=function(){};ep.prototype=Zr.prototype,On.prototype=new ep,ep.prototype=null}return On},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var ut=requireImplementation();return functionBind=Function.prototype.bind||ut,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var ut=requireFunctionBind(),lt=requireFunctionApply(),ht=requireFunctionCall(),_t=requireReflectApply();return actualApply=_t||ut.call(ht,lt),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var ut=requireFunctionBind(),lt=requireType(),ht=requireFunctionCall(),_t=requireActualApply();return callBindApplyHelpers=function(qt){if(qt.length<1||typeof qt[0]!="function")throw new lt("a function is required");return _t(ut,ht,qt)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var ut=requireCallBindApplyHelpers(),lt=requireGopd(),ht;try{ht=[].__proto__===Array.prototype}catch(Zt){if(!Zt||typeof Zt!="object"||!("code"in Zt)||Zt.code!=="ERR_PROTO_ACCESS")throw Zt}var _t=!!ht&&lt&&lt(Object.prototype,"__proto__"),At=Object,qt=At.getPrototypeOf;return get=_t&&typeof _t.get=="function"?ut([_t.get]):typeof qt=="function"?function(cr){return qt(cr==null?cr:At(cr))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var ut=requireReflect_getPrototypeOf(),lt=requireObject_getPrototypeOf(),ht=requireGet();return getProto=ut?function(At){return ut(At)}:lt?function(At){if(!At||typeof At!="object"&&typeof At!="function")throw new TypeError("getProto: not an object");return lt(At)}:ht?function(At){return ht(At)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var ut=Function.prototype.call,lt=Object.prototype.hasOwnProperty,ht=requireFunctionBind();return hasown=ht.call(ut,lt),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var ut,lt=requireEsObjectAtoms(),ht=requireEsErrors(),_t=require_eval(),At=requireRange(),qt=requireRef(),Zt=requireSyntax(),cr=requireType(),Gr=requireUri(),Zr=requireAbs(),xn=requireFloor(),On=requireMax(),ss=requireMin(),ls=requirePow(),cs=requireRound(),wl=requireSign$1(),ep=Function,Al=function($_){try{return ep('"use strict"; return ('+$_+").constructor;")()}catch{}},np=requireGopd(),cp=requireEsDefineProperty(),Cp=function(){throw new cr},Lp=np?function(){try{return arguments.callee,Cp}catch{try{return np(arguments,"callee").get}catch{return Cp}}}():Cp,jp=requireHasSymbols()(),nm=requireGetProto(),zm=requireObject_getPrototypeOf(),i1=requireReflect_getPrototypeOf(),d3=requireFunctionApply(),op=requireFunctionCall(),Sn={},Fo=typeof Uint8Array>"u"||!nm?ut:nm(Uint8Array),as={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ut:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ut:ArrayBuffer,"%ArrayIteratorPrototype%":jp&&nm?nm([][Symbol.iterator]()):ut,"%AsyncFromSyncIteratorPrototype%":ut,"%AsyncFunction%":Sn,"%AsyncGenerator%":Sn,"%AsyncGeneratorFunction%":Sn,"%AsyncIteratorPrototype%":Sn,"%Atomics%":typeof Atomics>"u"?ut:Atomics,"%BigInt%":typeof BigInt>"u"?ut:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ut:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ut:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ut:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":ht,"%eval%":eval,"%EvalError%":_t,"%Float16Array%":typeof Float16Array>"u"?ut:Float16Array,"%Float32Array%":typeof Float32Array>"u"?ut:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ut:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ut:FinalizationRegistry,"%Function%":ep,"%GeneratorFunction%":Sn,"%Int8Array%":typeof Int8Array>"u"?ut:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ut:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ut:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":jp&&nm?nm(nm([][Symbol.iterator]())):ut,"%JSON%":typeof JSON=="object"?JSON:ut,"%Map%":typeof Map>"u"?ut:Map,"%MapIteratorPrototype%":typeof Map>"u"||!jp||!nm?ut:nm(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":lt,"%Object.getOwnPropertyDescriptor%":np,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ut:Promise,"%Proxy%":typeof Proxy>"u"?ut:Proxy,"%RangeError%":At,"%ReferenceError%":qt,"%Reflect%":typeof Reflect>"u"?ut:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ut:Set,"%SetIteratorPrototype%":typeof Set>"u"||!jp||!nm?ut:nm(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ut:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":jp&&nm?nm(""[Symbol.iterator]()):ut,"%Symbol%":jp?Symbol:ut,"%SyntaxError%":Zt,"%ThrowTypeError%":Lp,"%TypedArray%":Fo,"%TypeError%":cr,"%Uint8Array%":typeof Uint8Array>"u"?ut:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ut:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ut:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ut:Uint32Array,"%URIError%":Gr,"%WeakMap%":typeof WeakMap>"u"?ut:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ut:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ut:WeakSet,"%Function.prototype.call%":op,"%Function.prototype.apply%":d3,"%Object.defineProperty%":cp,"%Object.getPrototypeOf%":zm,"%Math.abs%":Zr,"%Math.floor%":xn,"%Math.max%":On,"%Math.min%":ss,"%Math.pow%":ls,"%Math.round%":cs,"%Math.sign%":wl,"%Reflect.getPrototypeOf%":i1};if(nm)try{null.error}catch($_){var us=nm(nm($_));as["%Error.prototype%"]=us}var xl=function $_(j_){var h3;if(j_==="%AsyncFunction%")h3=Al("async function () {}");else if(j_==="%GeneratorFunction%")h3=Al("function* () {}");else if(j_==="%AsyncGeneratorFunction%")h3=Al("async function* () {}");else if(j_==="%AsyncGenerator%"){var Fp=$_("%AsyncGeneratorFunction%");Fp&&(h3=Fp.prototype)}else if(j_==="%AsyncIteratorPrototype%"){var W_=$_("%AsyncGenerator%");W_&&nm&&(h3=nm(W_.prototype))}return as[j_]=h3,h3},ip={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},lp=requireFunctionBind(),pu=requireHasown(),go=lp.call(op,Array.prototype.concat),h0=lp.call(d3,Array.prototype.splice),kp=lp.call(op,String.prototype.replace),cm=lp.call(op,String.prototype.slice),b3=lp.call(op,RegExp.prototype.exec),L_=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ym=/\\(\\)?/g,Xm=function(j_){var h3=cm(j_,0,1),Fp=cm(j_,-1);if(h3==="%"&&Fp!=="%")throw new Zt("invalid intrinsic syntax, expected closing `%`");if(Fp==="%"&&h3!=="%")throw new Zt("invalid intrinsic syntax, expected opening `%`");var W_=[];return kp(j_,L_,function(t4,Nw,Dp,a1){W_[W_.length]=Dp?kp(a1,Ym,"$1"):Nw||t4}),W_},Jm=function(j_,h3){var Fp=j_,W_;if(pu(ip,Fp)&&(W_=ip[Fp],Fp="%"+W_[0]+"%"),pu(as,Fp)){var t4=as[Fp];if(t4===Sn&&(t4=xl(Fp)),typeof t4>"u"&&!h3)throw new cr("intrinsic "+j_+" exists, but is not available. Please file an issue!");return{alias:W_,name:Fp,value:t4}}throw new Zt("intrinsic "+j_+" does not exist!")};return getIntrinsic=function(j_,h3){if(typeof j_!="string"||j_.length===0)throw new cr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof h3!="boolean")throw new cr('"allowMissing" argument must be a boolean');if(b3(/^%?[^%]*%?$/,j_)===null)throw new Zt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Fp=Xm(j_),W_=Fp.length>0?Fp[0]:"",t4=Jm("%"+W_+"%",h3),Nw=t4.name,Dp=t4.value,a1=!1,zp=t4.alias;zp&&(W_=zp[0],h0(Fp,go([0,1],zp)));for(var v3=1,Mw=!0;v3<Fp.length;v3+=1){var nw=Fp[v3],n4=cm(nw,0,1),Ww=cm(nw,-1);if((n4==='"'||n4==="'"||n4==="`"||Ww==='"'||Ww==="'"||Ww==="`")&&n4!==Ww)throw new Zt("property names with quotes must have matching quotes");if((nw==="constructor"||!Mw)&&(a1=!0),W_+="."+nw,Nw="%"+W_+"%",pu(as,Nw))Dp=as[Nw];else if(Dp!=null){if(!(nw in Dp)){if(!h3)throw new cr("base intrinsic for "+j_+" exists, but the property is not available.");return}if(np&&v3+1>=Fp.length){var F_=np(Dp,nw);Mw=!!F_,Mw&&"get"in F_&&!("originalValue"in F_.get)?Dp=F_.get:Dp=Dp[nw]}else Mw=pu(Dp,nw),Dp=Dp[nw];Mw&&!a1&&(as[Nw]=Dp)}}return Dp},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var ut=requireGetIntrinsic(),lt=requireCallBindApplyHelpers(),ht=lt([ut("%String.prototype.indexOf%")]);return callBound=function(At,qt){var Zt=ut(At,!!qt);return typeof Zt=="function"&&ht(At,".prototype.")>-1?lt([Zt]):Zt},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var ut=requireShams()(),lt=requireCallBound(),ht=lt("Object.prototype.toString"),_t=function(cr){return ut&&cr&&typeof cr=="object"&&Symbol.toStringTag in cr?!1:ht(cr)==="[object Arguments]"},At=function(cr){return _t(cr)?!0:cr!==null&&typeof cr=="object"&&"length"in cr&&typeof cr.length=="number"&&cr.length>=0&&ht(cr)!=="[object Array]"&&"callee"in cr&&ht(cr.callee)==="[object Function]"},qt=function(){return _t(arguments)}();return _t.isLegacyArguments=At,isArguments=qt?_t:At,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var ut=requireCallBound(),lt=requireShams()(),ht=requireHasown(),_t=requireGopd(),At;if(lt){var qt=ut("RegExp.prototype.exec"),Zt={},cr=function(){throw Zt},Gr={toString:cr,valueOf:cr};typeof Symbol.toPrimitive=="symbol"&&(Gr[Symbol.toPrimitive]=cr),At=function(ss){if(!ss||typeof ss!="object")return!1;var ls=_t(ss,"lastIndex"),cs=ls&&ht(ls,"value");if(!cs)return!1;try{qt(ss,Gr)}catch(wl){return wl===Zt}}}else{var Zr=ut("Object.prototype.toString"),xn="[object RegExp]";At=function(ss){return!ss||typeof ss!="object"&&typeof ss!="function"?!1:Zr(ss)===xn}}return isRegex=At,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var ut=requireCallBound(),lt=requireIsRegex(),ht=ut("RegExp.prototype.exec"),_t=requireType();return safeRegexTest=function(qt){if(!lt(qt))throw new _t("`regex` must be a RegExp");return function(cr){return ht(qt,cr)!==null}},safeRegexTest}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var ut=requireCallBound(),lt=requireSafeRegexTest(),ht=lt(/^\s*(?:function)?\*/),_t=requireShams()(),At=requireGetProto(),qt=ut("Object.prototype.toString"),Zt=ut("Function.prototype.toString"),cr=function(){if(!_t)return!1;try{return Function("return function*() {}")()}catch{}},Gr;return isGeneratorFunction=function(xn){if(typeof xn!="function")return!1;if(ht(Zt(xn)))return!0;if(!_t){var On=qt(xn);return On==="[object GeneratorFunction]"}if(!At)return!1;if(typeof Gr>"u"){var ss=cr();Gr=ss?At(ss):!1}return At(xn)===Gr},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var ut=Function.prototype.toString,lt=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ht,_t;if(typeof lt=="function"&&typeof Object.defineProperty=="function")try{ht=Object.defineProperty({},"length",{get:function(){throw _t}}),_t={},lt(function(){throw 42},null,ht)}catch(np){np!==_t&&(lt=null)}else lt=null;var At=/^\s*class\b/,qt=function(cp){try{var Cp=ut.call(cp);return At.test(Cp)}catch{return!1}},Zt=function(cp){try{return qt(cp)?!1:(ut.call(cp),!0)}catch{return!1}},cr=Object.prototype.toString,Gr="[object Object]",Zr="[object Function]",xn="[object GeneratorFunction]",On="[object HTMLAllCollection]",ss="[object HTML document.all class]",ls="[object HTMLCollection]",cs=typeof Symbol=="function"&&!!Symbol.toStringTag,wl=!(0 in[,]),ep=function(){return!1};if(typeof document=="object"){var Al=document.all;cr.call(Al)===cr.call(document.all)&&(ep=function(cp){if((wl||!cp)&&(typeof cp>"u"||typeof cp=="object"))try{var Cp=cr.call(cp);return(Cp===On||Cp===ss||Cp===ls||Cp===Gr)&&cp("")==null}catch{}return!1})}return isCallable=lt?function(cp){if(ep(cp))return!0;if(!cp||typeof cp!="function"&&typeof cp!="object")return!1;try{lt(cp,null,ht)}catch(Cp){if(Cp!==_t)return!1}return!qt(cp)&&Zt(cp)}:function(cp){if(ep(cp))return!0;if(!cp||typeof cp!="function"&&typeof cp!="object")return!1;if(cs)return Zt(cp);if(qt(cp))return!1;var Cp=cr.call(cp);return Cp!==Zr&&Cp!==xn&&!/^\[object HTML/.test(Cp)?!1:Zt(cp)},isCallable}var forEach$1,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach$1;hasRequiredForEach=1;var ut=requireIsCallable(),lt=Object.prototype.toString,ht=Object.prototype.hasOwnProperty,_t=function(Gr,Zr,xn){for(var On=0,ss=Gr.length;On<ss;On++)ht.call(Gr,On)&&(xn==null?Zr(Gr[On],On,Gr):Zr.call(xn,Gr[On],On,Gr))},At=function(Gr,Zr,xn){for(var On=0,ss=Gr.length;On<ss;On++)xn==null?Zr(Gr.charAt(On),On,Gr):Zr.call(xn,Gr.charAt(On),On,Gr)},qt=function(Gr,Zr,xn){for(var On in Gr)ht.call(Gr,On)&&(xn==null?Zr(Gr[On],On,Gr):Zr.call(xn,Gr[On],On,Gr))};function Zt(cr){return lt.call(cr)==="[object Array]"}return forEach$1=function(Gr,Zr,xn){if(!ut(Zr))throw new TypeError("iterator must be a function");var On;arguments.length>=3&&(On=xn),Zt(Gr)?_t(Gr,Zr,On):typeof Gr=="string"?At(Gr,Zr,On):qt(Gr,Zr,On)},forEach$1}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var ut=requirePossibleTypedArrayNames(),lt=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var _t=[],At=0;At<ut.length;At++)typeof lt[ut[At]]=="function"&&(_t[_t.length]=ut[At]);return _t},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var ut=requireEsDefineProperty(),lt=requireSyntax(),ht=requireType(),_t=requireGopd();return defineDataProperty=function(qt,Zt,cr){if(!qt||typeof qt!="object"&&typeof qt!="function")throw new ht("`obj` must be an object or a function`");if(typeof Zt!="string"&&typeof Zt!="symbol")throw new ht("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ht("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ht("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ht("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ht("`loose`, if provided, must be a boolean");var Gr=arguments.length>3?arguments[3]:null,Zr=arguments.length>4?arguments[4]:null,xn=arguments.length>5?arguments[5]:null,On=arguments.length>6?arguments[6]:!1,ss=!!_t&&_t(qt,Zt);if(ut)ut(qt,Zt,{configurable:xn===null&&ss?ss.configurable:!xn,enumerable:Gr===null&&ss?ss.enumerable:!Gr,value:cr,writable:Zr===null&&ss?ss.writable:!Zr});else if(On||!Gr&&!Zr&&!xn)qt[Zt]=cr;else throw new lt("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var ut=requireEsDefineProperty(),lt=function(){return!!ut};return lt.hasArrayLengthDefineBug=function(){if(!ut)return null;try{return ut([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=lt,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var ut=requireGetIntrinsic(),lt=requireDefineDataProperty(),ht=requireHasPropertyDescriptors()(),_t=requireGopd(),At=requireType(),qt=ut("%Math.floor%");return setFunctionLength=function(cr,Gr){if(typeof cr!="function")throw new At("`fn` is not a function");if(typeof Gr!="number"||Gr<0||Gr>4294967295||qt(Gr)!==Gr)throw new At("`length` must be a positive 32-bit integer");var Zr=arguments.length>2&&!!arguments[2],xn=!0,On=!0;if("length"in cr&&_t){var ss=_t(cr,"length");ss&&!ss.configurable&&(xn=!1),ss&&!ss.writable&&(On=!1)}return(xn||On||!Zr)&&(ht?lt(cr,"length",Gr,!0,!0):lt(cr,"length",Gr)),cr},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var ut=requireFunctionBind(),lt=requireFunctionApply(),ht=requireActualApply();return applyBind=function(){return ht(ut,lt,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(ut){var lt=requireSetFunctionLength(),ht=requireEsDefineProperty(),_t=requireCallBindApplyHelpers(),At=requireApplyBind();ut.exports=function(Zt){var cr=_t(arguments),Gr=Zt.length-(arguments.length-1);return lt(cr,1+(Gr>0?Gr:0),!0)},ht?ht(ut.exports,"apply",{value:At}):ut.exports.apply=At}(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var ut=requireForEach(),lt=requireAvailableTypedArrays(),ht=requireCallBind(),_t=requireCallBound(),At=requireGopd(),qt=requireGetProto(),Zt=_t("Object.prototype.toString"),cr=requireShams()(),Gr=typeof globalThis>"u"?commonjsGlobal:globalThis,Zr=lt(),xn=_t("String.prototype.slice"),On=_t("Array.prototype.indexOf",!0)||function(ep,Al){for(var np=0;np<ep.length;np+=1)if(ep[np]===Al)return np;return-1},ss={__proto__:null};cr&&At&&qt?ut(Zr,function(wl){var ep=new Gr[wl];if(Symbol.toStringTag in ep&&qt){var Al=qt(ep),np=At(Al,Symbol.toStringTag);if(!np&&Al){var cp=qt(Al);np=At(cp,Symbol.toStringTag)}ss["$"+wl]=ht(np.get)}}):ut(Zr,function(wl){var ep=new Gr[wl],Al=ep.slice||ep.set;Al&&(ss["$"+wl]=ht(Al))});var ls=function(ep){var Al=!1;return ut(ss,function(np,cp){if(!Al)try{"$"+np(ep)===cp&&(Al=xn(cp,1))}catch{}}),Al},cs=function(ep){var Al=!1;return ut(ss,function(np,cp){if(!Al)try{np(ep),Al=xn(cp,1)}catch{}}),Al};return whichTypedArray=function(ep){if(!ep||typeof ep!="object")return!1;if(!cr){var Al=xn(Zt(ep),8,-1);return On(Zr,Al)>-1?Al:Al!=="Object"?!1:cs(ep)}return At?ls(ep):null},whichTypedArray}var isTypedArray$2,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray$2;hasRequiredIsTypedArray=1;var ut=requireWhichTypedArray();return isTypedArray$2=function(ht){return!!ut(ht)},isTypedArray$2}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(ut){var lt=requireIsArguments(),ht=requireIsGeneratorFunction(),_t=requireWhichTypedArray(),At=requireIsTypedArray();function qt(v3){return v3.call.bind(v3)}var Zt=typeof BigInt<"u",cr=typeof Symbol<"u",Gr=qt(Object.prototype.toString),Zr=qt(Number.prototype.valueOf),xn=qt(String.prototype.valueOf),On=qt(Boolean.prototype.valueOf);if(Zt)var ss=qt(BigInt.prototype.valueOf);if(cr)var ls=qt(Symbol.prototype.valueOf);function cs(v3,Mw){if(typeof v3!="object")return!1;try{return Mw(v3),!0}catch{return!1}}ut.isArgumentsObject=lt,ut.isGeneratorFunction=ht,ut.isTypedArray=At;function wl(v3){return typeof Promise<"u"&&v3 instanceof Promise||v3!==null&&typeof v3=="object"&&typeof v3.then=="function"&&typeof v3.catch=="function"}ut.isPromise=wl;function ep(v3){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(v3):At(v3)||cm(v3)}ut.isArrayBufferView=ep;function Al(v3){return _t(v3)==="Uint8Array"}ut.isUint8Array=Al;function np(v3){return _t(v3)==="Uint8ClampedArray"}ut.isUint8ClampedArray=np;function cp(v3){return _t(v3)==="Uint16Array"}ut.isUint16Array=cp;function Cp(v3){return _t(v3)==="Uint32Array"}ut.isUint32Array=Cp;function Lp(v3){return _t(v3)==="Int8Array"}ut.isInt8Array=Lp;function jp(v3){return _t(v3)==="Int16Array"}ut.isInt16Array=jp;function nm(v3){return _t(v3)==="Int32Array"}ut.isInt32Array=nm;function zm(v3){return _t(v3)==="Float32Array"}ut.isFloat32Array=zm;function i1(v3){return _t(v3)==="Float64Array"}ut.isFloat64Array=i1;function d3(v3){return _t(v3)==="BigInt64Array"}ut.isBigInt64Array=d3;function op(v3){return _t(v3)==="BigUint64Array"}ut.isBigUint64Array=op;function Sn(v3){return Gr(v3)==="[object Map]"}Sn.working=typeof Map<"u"&&Sn(new Map);function Fo(v3){return typeof Map>"u"?!1:Sn.working?Sn(v3):v3 instanceof Map}ut.isMap=Fo;function as(v3){return Gr(v3)==="[object Set]"}as.working=typeof Set<"u"&&as(new Set);function us(v3){return typeof Set>"u"?!1:as.working?as(v3):v3 instanceof Set}ut.isSet=us;function xl(v3){return Gr(v3)==="[object WeakMap]"}xl.working=typeof WeakMap<"u"&&xl(new WeakMap);function ip(v3){return typeof WeakMap>"u"?!1:xl.working?xl(v3):v3 instanceof WeakMap}ut.isWeakMap=ip;function lp(v3){return Gr(v3)==="[object WeakSet]"}lp.working=typeof WeakSet<"u"&&lp(new WeakSet);function pu(v3){return lp(v3)}ut.isWeakSet=pu;function go(v3){return Gr(v3)==="[object ArrayBuffer]"}go.working=typeof ArrayBuffer<"u"&&go(new ArrayBuffer);function h0(v3){return typeof ArrayBuffer>"u"?!1:go.working?go(v3):v3 instanceof ArrayBuffer}ut.isArrayBuffer=h0;function kp(v3){return Gr(v3)==="[object DataView]"}kp.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&kp(new DataView(new ArrayBuffer(1),0,1));function cm(v3){return typeof DataView>"u"?!1:kp.working?kp(v3):v3 instanceof DataView}ut.isDataView=cm;var b3=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function L_(v3){return Gr(v3)==="[object SharedArrayBuffer]"}function Ym(v3){return typeof b3>"u"?!1:(typeof L_.working>"u"&&(L_.working=L_(new b3)),L_.working?L_(v3):v3 instanceof b3)}ut.isSharedArrayBuffer=Ym;function Xm(v3){return Gr(v3)==="[object AsyncFunction]"}ut.isAsyncFunction=Xm;function Jm(v3){return Gr(v3)==="[object Map Iterator]"}ut.isMapIterator=Jm;function $_(v3){return Gr(v3)==="[object Set Iterator]"}ut.isSetIterator=$_;function j_(v3){return Gr(v3)==="[object Generator]"}ut.isGeneratorObject=j_;function h3(v3){return Gr(v3)==="[object WebAssembly.Module]"}ut.isWebAssemblyCompiledModule=h3;function Fp(v3){return cs(v3,Zr)}ut.isNumberObject=Fp;function W_(v3){return cs(v3,xn)}ut.isStringObject=W_;function t4(v3){return cs(v3,On)}ut.isBooleanObject=t4;function Nw(v3){return Zt&&cs(v3,ss)}ut.isBigIntObject=Nw;function Dp(v3){return cr&&cs(v3,ls)}ut.isSymbolObject=Dp;function a1(v3){return Fp(v3)||W_(v3)||t4(v3)||Nw(v3)||Dp(v3)}ut.isBoxedPrimitive=a1;function zp(v3){return typeof Uint8Array<"u"&&(h0(v3)||Ym(v3))}ut.isAnyArrayBuffer=zp,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(v3){Object.defineProperty(ut,v3,{enumerable:!1,value:function(){throw new Error(v3+" is not supported in userland")}})})}(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(lt){return lt&&typeof lt=="object"&&typeof lt.copy=="function"&&typeof lt.fill=="function"&&typeof lt.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,function(ut){var lt=Object.getOwnPropertyDescriptors||function(cm){for(var b3=Object.keys(cm),L_={},Ym=0;Ym<b3.length;Ym++)L_[b3[Ym]]=Object.getOwnPropertyDescriptor(cm,b3[Ym]);return L_},ht=/%[sdj%]/g;ut.format=function(kp){if(!Lp(kp)){for(var cm=[],b3=0;b3<arguments.length;b3++)cm.push(Zt(arguments[b3]));return cm.join(" ")}for(var b3=1,L_=arguments,Ym=L_.length,Xm=String(kp).replace(ht,function($_){if($_==="%%")return"%";if(b3>=Ym)return $_;switch($_){case"%s":return String(L_[b3++]);case"%d":return Number(L_[b3++]);case"%j":try{return JSON.stringify(L_[b3++])}catch{return"[Circular]"}default:return $_}}),Jm=L_[b3];b3<Ym;Jm=L_[++b3])np(Jm)||!i1(Jm)?Xm+=" "+Jm:Xm+=" "+Zt(Jm);return Xm},ut.deprecate=function(kp,cm){if(typeof api$2<"u"&&api$2.noDeprecation===!0)return kp;if(typeof api$2>"u")return function(){return ut.deprecate(kp,cm).apply(this,arguments)};var b3=!1;function L_(){if(!b3){if(api$2.throwDeprecation)throw new Error(cm);api$2.traceDeprecation?console.trace(cm):console.error(cm),b3=!0}return kp.apply(this,arguments)}return L_};var _t={},At=/^$/;if({}.NODE_DEBUG){var qt={}.NODE_DEBUG;qt=qt.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),At=new RegExp("^"+qt+"$","i")}ut.debuglog=function(kp){if(kp=kp.toUpperCase(),!_t[kp])if(At.test(kp)){var cm=api$2.pid;_t[kp]=function(){var b3=ut.format.apply(ut,arguments);console.error("%s %d: %s",kp,cm,b3)}}else _t[kp]=function(){};return _t[kp]};function Zt(kp,cm){var b3={seen:[],stylize:Gr};return arguments.length>=3&&(b3.depth=arguments[2]),arguments.length>=4&&(b3.colors=arguments[3]),Al(cm)?b3.showHidden=cm:cm&&ut._extend(b3,cm),nm(b3.showHidden)&&(b3.showHidden=!1),nm(b3.depth)&&(b3.depth=2),nm(b3.colors)&&(b3.colors=!1),nm(b3.customInspect)&&(b3.customInspect=!0),b3.colors&&(b3.stylize=cr),xn(b3,kp,b3.depth)}ut.inspect=Zt,Zt.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Zt.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function cr(kp,cm){var b3=Zt.styles[cm];return b3?"\x1B["+Zt.colors[b3][0]+"m"+kp+"\x1B["+Zt.colors[b3][1]+"m":kp}function Gr(kp,cm){return kp}function Zr(kp){var cm={};return kp.forEach(function(b3,L_){cm[b3]=!0}),cm}function xn(kp,cm,b3){if(kp.customInspect&&cm&&Sn(cm.inspect)&&cm.inspect!==ut.inspect&&!(cm.constructor&&cm.constructor.prototype===cm)){var L_=cm.inspect(b3,kp);return Lp(L_)||(L_=xn(kp,L_,b3)),L_}var Ym=On(kp,cm);if(Ym)return Ym;var Xm=Object.keys(cm),Jm=Zr(Xm);if(kp.showHidden&&(Xm=Object.getOwnPropertyNames(cm)),op(cm)&&(Xm.indexOf("message")>=0||Xm.indexOf("description")>=0))return ss(cm);if(Xm.length===0){if(Sn(cm)){var $_=cm.name?": "+cm.name:"";return kp.stylize("[Function"+$_+"]","special")}if(zm(cm))return kp.stylize(RegExp.prototype.toString.call(cm),"regexp");if(d3(cm))return kp.stylize(Date.prototype.toString.call(cm),"date");if(op(cm))return ss(cm)}var j_="",h3=!1,Fp=["{","}"];if(ep(cm)&&(h3=!0,Fp=["[","]"]),Sn(cm)){var W_=cm.name?": "+cm.name:"";j_=" [Function"+W_+"]"}if(zm(cm)&&(j_=" "+RegExp.prototype.toString.call(cm)),d3(cm)&&(j_=" "+Date.prototype.toUTCString.call(cm)),op(cm)&&(j_=" "+ss(cm)),Xm.length===0&&(!h3||cm.length==0))return Fp[0]+j_+Fp[1];if(b3<0)return zm(cm)?kp.stylize(RegExp.prototype.toString.call(cm),"regexp"):kp.stylize("[Object]","special");kp.seen.push(cm);var t4;return h3?t4=ls(kp,cm,b3,Jm,Xm):t4=Xm.map(function(Nw){return cs(kp,cm,b3,Jm,Nw,h3)}),kp.seen.pop(),wl(t4,j_,Fp)}function On(kp,cm){if(nm(cm))return kp.stylize("undefined","undefined");if(Lp(cm)){var b3="'"+JSON.stringify(cm).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return kp.stylize(b3,"string")}if(Cp(cm))return kp.stylize(""+cm,"number");if(Al(cm))return kp.stylize(""+cm,"boolean");if(np(cm))return kp.stylize("null","null")}function ss(kp){return"["+Error.prototype.toString.call(kp)+"]"}function ls(kp,cm,b3,L_,Ym){for(var Xm=[],Jm=0,$_=cm.length;Jm<$_;++Jm)lp(cm,String(Jm))?Xm.push(cs(kp,cm,b3,L_,String(Jm),!0)):Xm.push("");return Ym.forEach(function(j_){j_.match(/^\d+$/)||Xm.push(cs(kp,cm,b3,L_,j_,!0))}),Xm}function cs(kp,cm,b3,L_,Ym,Xm){var Jm,$_,j_;if(j_=Object.getOwnPropertyDescriptor(cm,Ym)||{value:cm[Ym]},j_.get?j_.set?$_=kp.stylize("[Getter/Setter]","special"):$_=kp.stylize("[Getter]","special"):j_.set&&($_=kp.stylize("[Setter]","special")),lp(L_,Ym)||(Jm="["+Ym+"]"),$_||(kp.seen.indexOf(j_.value)<0?(np(b3)?$_=xn(kp,j_.value,null):$_=xn(kp,j_.value,b3-1),$_.indexOf(`
`)>-1&&(Xm?$_=$_.split(`
`).map(function(h3){return"  "+h3}).join(`
`).slice(2):$_=`
`+$_.split(`
`).map(function(h3){return"   "+h3}).join(`
`))):$_=kp.stylize("[Circular]","special")),nm(Jm)){if(Xm&&Ym.match(/^\d+$/))return $_;Jm=JSON.stringify(""+Ym),Jm.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Jm=Jm.slice(1,-1),Jm=kp.stylize(Jm,"name")):(Jm=Jm.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Jm=kp.stylize(Jm,"string"))}return Jm+": "+$_}function wl(kp,cm,b3){var L_=kp.reduce(function(Ym,Xm){return Xm.indexOf(`
`)>=0,Ym+Xm.replace(/\u001b\[\d\d?m/g,"").length+1},0);return L_>60?b3[0]+(cm===""?"":cm+`
 `)+" "+kp.join(`,
  `)+" "+b3[1]:b3[0]+cm+" "+kp.join(", ")+" "+b3[1]}ut.types=requireTypes();function ep(kp){return Array.isArray(kp)}ut.isArray=ep;function Al(kp){return typeof kp=="boolean"}ut.isBoolean=Al;function np(kp){return kp===null}ut.isNull=np;function cp(kp){return kp==null}ut.isNullOrUndefined=cp;function Cp(kp){return typeof kp=="number"}ut.isNumber=Cp;function Lp(kp){return typeof kp=="string"}ut.isString=Lp;function jp(kp){return typeof kp=="symbol"}ut.isSymbol=jp;function nm(kp){return kp===void 0}ut.isUndefined=nm;function zm(kp){return i1(kp)&&as(kp)==="[object RegExp]"}ut.isRegExp=zm,ut.types.isRegExp=zm;function i1(kp){return typeof kp=="object"&&kp!==null}ut.isObject=i1;function d3(kp){return i1(kp)&&as(kp)==="[object Date]"}ut.isDate=d3,ut.types.isDate=d3;function op(kp){return i1(kp)&&(as(kp)==="[object Error]"||kp instanceof Error)}ut.isError=op,ut.types.isNativeError=op;function Sn(kp){return typeof kp=="function"}ut.isFunction=Sn;function Fo(kp){return kp===null||typeof kp=="boolean"||typeof kp=="number"||typeof kp=="string"||typeof kp=="symbol"||typeof kp>"u"}ut.isPrimitive=Fo,ut.isBuffer=requireIsBufferBrowser();function as(kp){return Object.prototype.toString.call(kp)}function us(kp){return kp<10?"0"+kp.toString(10):kp.toString(10)}var xl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ip(){var kp=new Date,cm=[us(kp.getHours()),us(kp.getMinutes()),us(kp.getSeconds())].join(":");return[kp.getDate(),xl[kp.getMonth()],cm].join(" ")}ut.log=function(){console.log("%s - %s",ip(),ut.format.apply(ut,arguments))},ut.inherits=requireInherits_browser(),ut._extend=function(kp,cm){if(!cm||!i1(cm))return kp;for(var b3=Object.keys(cm),L_=b3.length;L_--;)kp[b3[L_]]=cm[b3[L_]];return kp};function lp(kp,cm){return Object.prototype.hasOwnProperty.call(kp,cm)}var pu=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;ut.promisify=function(cm){if(typeof cm!="function")throw new TypeError('The "original" argument must be of type Function');if(pu&&cm[pu]){var b3=cm[pu];if(typeof b3!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b3,pu,{value:b3,enumerable:!1,writable:!1,configurable:!0}),b3}function b3(){for(var L_,Ym,Xm=new Promise(function(j_,h3){L_=j_,Ym=h3}),Jm=[],$_=0;$_<arguments.length;$_++)Jm.push(arguments[$_]);Jm.push(function(j_,h3){j_?Ym(j_):L_(h3)});try{cm.apply(this,Jm)}catch(j_){Ym(j_)}return Xm}return Object.setPrototypeOf(b3,Object.getPrototypeOf(cm)),pu&&Object.defineProperty(b3,pu,{value:b3,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b3,lt(cm))},ut.promisify.custom=pu;function go(kp,cm){if(!kp){var b3=new Error("Promise was rejected with a falsy value");b3.reason=kp,kp=b3}return cm(kp)}function h0(kp){if(typeof kp!="function")throw new TypeError('The "original" argument must be of type Function');function cm(){for(var b3=[],L_=0;L_<arguments.length;L_++)b3.push(arguments[L_]);var Ym=b3.pop();if(typeof Ym!="function")throw new TypeError("The last argument must be of type Function");var Xm=this,Jm=function(){return Ym.apply(Xm,arguments)};kp.apply(this,b3).then(function($_){api$2.nextTick(Jm.bind(null,null,$_))},function($_){api$2.nextTick(go.bind(null,$_,Jm))})}return Object.setPrototypeOf(cm,Object.getPrototypeOf(kp)),Object.defineProperties(cm,lt(kp)),cm}ut.callbackify=h0}(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function ut(cs,wl){var ep=Object.keys(cs);if(Object.getOwnPropertySymbols){var Al=Object.getOwnPropertySymbols(cs);wl&&(Al=Al.filter(function(np){return Object.getOwnPropertyDescriptor(cs,np).enumerable})),ep.push.apply(ep,Al)}return ep}function lt(cs){for(var wl=1;wl<arguments.length;wl++){var ep=arguments[wl]!=null?arguments[wl]:{};wl%2?ut(Object(ep),!0).forEach(function(Al){ht(cs,Al,ep[Al])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cs,Object.getOwnPropertyDescriptors(ep)):ut(Object(ep)).forEach(function(Al){Object.defineProperty(cs,Al,Object.getOwnPropertyDescriptor(ep,Al))})}return cs}function ht(cs,wl,ep){return wl=Zt(wl),wl in cs?Object.defineProperty(cs,wl,{value:ep,enumerable:!0,configurable:!0,writable:!0}):cs[wl]=ep,cs}function _t(cs,wl){if(!(cs instanceof wl))throw new TypeError("Cannot call a class as a function")}function At(cs,wl){for(var ep=0;ep<wl.length;ep++){var Al=wl[ep];Al.enumerable=Al.enumerable||!1,Al.configurable=!0,"value"in Al&&(Al.writable=!0),Object.defineProperty(cs,Zt(Al.key),Al)}}function qt(cs,wl,ep){return wl&&At(cs.prototype,wl),ep&&At(cs,ep),Object.defineProperty(cs,"prototype",{writable:!1}),cs}function Zt(cs){var wl=cr(cs,"string");return typeof wl=="symbol"?wl:String(wl)}function cr(cs,wl){if(typeof cs!="object"||cs===null)return cs;var ep=cs[Symbol.toPrimitive];if(ep!==void 0){var Al=ep.call(cs,wl||"default");if(typeof Al!="object")return Al;throw new TypeError("@@toPrimitive must return a primitive value.")}return(wl==="string"?String:Number)(cs)}var Gr=buffer$1,Zr=Gr.Buffer,xn=requireUtil$1(),On=xn.inspect,ss=On&&On.custom||"inspect";function ls(cs,wl,ep){Zr.prototype.copy.call(cs,wl,ep)}return buffer_list=function(){function cs(){_t(this,cs),this.head=null,this.tail=null,this.length=0}return qt(cs,[{key:"push",value:function(ep){var Al={data:ep,next:null};this.length>0?this.tail.next=Al:this.head=Al,this.tail=Al,++this.length}},{key:"unshift",value:function(ep){var Al={data:ep,next:this.head};this.length===0&&(this.tail=Al),this.head=Al,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ep=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ep}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ep){if(this.length===0)return"";for(var Al=this.head,np=""+Al.data;Al=Al.next;)np+=ep+Al.data;return np}},{key:"concat",value:function(ep){if(this.length===0)return Zr.alloc(0);for(var Al=Zr.allocUnsafe(ep>>>0),np=this.head,cp=0;np;)ls(np.data,Al,cp),cp+=np.data.length,np=np.next;return Al}},{key:"consume",value:function(ep,Al){var np;return ep<this.head.data.length?(np=this.head.data.slice(0,ep),this.head.data=this.head.data.slice(ep)):ep===this.head.data.length?np=this.shift():np=Al?this._getString(ep):this._getBuffer(ep),np}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ep){var Al=this.head,np=1,cp=Al.data;for(ep-=cp.length;Al=Al.next;){var Cp=Al.data,Lp=ep>Cp.length?Cp.length:ep;if(Lp===Cp.length?cp+=Cp:cp+=Cp.slice(0,ep),ep-=Lp,ep===0){Lp===Cp.length?(++np,Al.next?this.head=Al.next:this.head=this.tail=null):(this.head=Al,Al.data=Cp.slice(Lp));break}++np}return this.length-=np,cp}},{key:"_getBuffer",value:function(ep){var Al=Zr.allocUnsafe(ep),np=this.head,cp=1;for(np.data.copy(Al),ep-=np.data.length;np=np.next;){var Cp=np.data,Lp=ep>Cp.length?Cp.length:ep;if(Cp.copy(Al,Al.length-ep,0,Lp),ep-=Lp,ep===0){Lp===Cp.length?(++cp,np.next?this.head=np.next:this.head=this.tail=null):(this.head=np,np.data=Cp.slice(Lp));break}++cp}return this.length-=cp,Al}},{key:ss,value:function(ep,Al){return On(this,lt(lt({},Al),{},{depth:0,customInspect:!1}))}}]),cs}(),buffer_list}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;function ut(Zt,cr){var Gr=this,Zr=this._readableState&&this._readableState.destroyed,xn=this._writableState&&this._writableState.destroyed;return Zr||xn?(cr?cr(Zt):Zt&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,api$2.nextTick(At,this,Zt)):api$2.nextTick(At,this,Zt)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(Zt||null,function(On){!cr&&On?Gr._writableState?Gr._writableState.errorEmitted?api$2.nextTick(ht,Gr):(Gr._writableState.errorEmitted=!0,api$2.nextTick(lt,Gr,On)):api$2.nextTick(lt,Gr,On):cr?(api$2.nextTick(ht,Gr),cr(On)):api$2.nextTick(ht,Gr)}),this)}function lt(Zt,cr){At(Zt,cr),ht(Zt)}function ht(Zt){Zt._writableState&&!Zt._writableState.emitClose||Zt._readableState&&!Zt._readableState.emitClose||Zt.emit("close")}function _t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function At(Zt,cr){Zt.emit("error",cr)}function qt(Zt,cr){var Gr=Zt._readableState,Zr=Zt._writableState;Gr&&Gr.autoDestroy||Zr&&Zr.autoDestroy?Zt.destroy(cr):Zt.emit("error",cr)}return destroy_1$1={destroy:ut,undestroy:_t,errorOrDestroy:qt},destroy_1$1}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function ut(cr,Gr){cr.prototype=Object.create(Gr.prototype),cr.prototype.constructor=cr,cr.__proto__=Gr}var lt={};function ht(cr,Gr,Zr){Zr||(Zr=Error);function xn(ss,ls,cs){return typeof Gr=="string"?Gr:Gr(ss,ls,cs)}var On=function(ss){ut(ls,ss);function ls(cs,wl,ep){return ss.call(this,xn(cs,wl,ep))||this}return ls}(Zr);On.prototype.name=Zr.name,On.prototype.code=cr,lt[cr]=On}function _t(cr,Gr){if(Array.isArray(cr)){var Zr=cr.length;return cr=cr.map(function(xn){return String(xn)}),Zr>2?"one of ".concat(Gr," ").concat(cr.slice(0,Zr-1).join(", "),", or ")+cr[Zr-1]:Zr===2?"one of ".concat(Gr," ").concat(cr[0]," or ").concat(cr[1]):"of ".concat(Gr," ").concat(cr[0])}else return"of ".concat(Gr," ").concat(String(cr))}function At(cr,Gr,Zr){return cr.substr(!Zr||Zr<0?0:+Zr,Gr.length)===Gr}function qt(cr,Gr,Zr){return(Zr===void 0||Zr>cr.length)&&(Zr=cr.length),cr.substring(Zr-Gr.length,Zr)===Gr}function Zt(cr,Gr,Zr){return typeof Zr!="number"&&(Zr=0),Zr+Gr.length>cr.length?!1:cr.indexOf(Gr,Zr)!==-1}return ht("ERR_INVALID_OPT_VALUE",function(cr,Gr){return'The value "'+Gr+'" is invalid for option "'+cr+'"'},TypeError),ht("ERR_INVALID_ARG_TYPE",function(cr,Gr,Zr){var xn;typeof Gr=="string"&&At(Gr,"not ")?(xn="must not be",Gr=Gr.replace(/^not /,"")):xn="must be";var On;if(qt(cr," argument"))On="The ".concat(cr," ").concat(xn," ").concat(_t(Gr,"type"));else{var ss=Zt(cr,".")?"property":"argument";On='The "'.concat(cr,'" ').concat(ss," ").concat(xn," ").concat(_t(Gr,"type"))}return On+=". Received type ".concat(typeof Zr),On},TypeError),ht("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),ht("ERR_METHOD_NOT_IMPLEMENTED",function(cr){return"The "+cr+" method is not implemented"}),ht("ERR_STREAM_PREMATURE_CLOSE","Premature close"),ht("ERR_STREAM_DESTROYED",function(cr){return"Cannot call "+cr+" after a stream was destroyed"}),ht("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),ht("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),ht("ERR_STREAM_WRITE_AFTER_END","write after end"),ht("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),ht("ERR_UNKNOWN_ENCODING",function(cr){return"Unknown encoding: "+cr},TypeError),ht("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=lt,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var ut=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function lt(_t,At,qt){return _t.highWaterMark!=null?_t.highWaterMark:At?_t[qt]:null}function ht(_t,At,qt,Zt){var cr=lt(At,Zt,qt);if(cr!=null){if(!(isFinite(cr)&&Math.floor(cr)===cr)||cr<0){var Gr=Zt?qt:"highWaterMark";throw new ut(Gr,cr)}return Math.floor(cr)}return _t.objectMode?16:16*1024}return state={getHighWaterMark:ht},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=ut;function ut(ht,_t){if(lt("noDeprecation"))return ht;var At=!1;function qt(){if(!At){if(lt("throwDeprecation"))throw new Error(_t);lt("traceDeprecation")?console.trace(_t):console.warn(_t),At=!0}return ht.apply(this,arguments)}return qt}function lt(ht){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var _t=commonjsGlobal.localStorage[ht];return _t==null?!1:String(_t).toLowerCase()==="true"}return browser$a}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1,_stream_writable$1=zm;function ut(Ym){var Xm=this;this.next=null,this.entry=null,this.finish=function(){L_(Xm,Ym)}}var lt;zm.WritableState=jp;var ht={deprecate:requireBrowser$a()},_t=requireStreamBrowser$1(),At=buffer$1.Buffer,qt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zt(Ym){return At.from(Ym)}function cr(Ym){return At.isBuffer(Ym)||Ym instanceof qt}var Gr=requireDestroy$1(),Zr=requireState(),xn=Zr.getHighWaterMark,On=requireErrorsBrowser().codes,ss=On.ERR_INVALID_ARG_TYPE,ls=On.ERR_METHOD_NOT_IMPLEMENTED,cs=On.ERR_MULTIPLE_CALLBACK,wl=On.ERR_STREAM_CANNOT_PIPE,ep=On.ERR_STREAM_DESTROYED,Al=On.ERR_STREAM_NULL_VALUES,np=On.ERR_STREAM_WRITE_AFTER_END,cp=On.ERR_UNKNOWN_ENCODING,Cp=Gr.errorOrDestroy;requireInherits_browser()(zm,_t);function Lp(){}function jp(Ym,Xm,Jm){lt=lt||require_stream_duplex$1(),Ym=Ym||{},typeof Jm!="boolean"&&(Jm=Xm instanceof lt),this.objectMode=!!Ym.objectMode,Jm&&(this.objectMode=this.objectMode||!!Ym.writableObjectMode),this.highWaterMark=xn(this,Ym,"writableHighWaterMark",Jm),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $_=Ym.decodeStrings===!1;this.decodeStrings=!$_,this.defaultEncoding=Ym.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j_){xl(Xm,j_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ym.emitClose!==!1,this.autoDestroy=!!Ym.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ut(this)}jp.prototype.getBuffer=function(){for(var Xm=this.bufferedRequest,Jm=[];Xm;)Jm.push(Xm),Xm=Xm.next;return Jm},function(){try{Object.defineProperty(jp.prototype,"buffer",{get:ht.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var nm;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nm=Function.prototype[Symbol.hasInstance],Object.defineProperty(zm,Symbol.hasInstance,{value:function(Xm){return nm.call(this,Xm)?!0:this!==zm?!1:Xm&&Xm._writableState instanceof jp}})):nm=function(Xm){return Xm instanceof this};function zm(Ym){lt=lt||require_stream_duplex$1();var Xm=this instanceof lt;if(!Xm&&!nm.call(zm,this))return new zm(Ym);this._writableState=new jp(Ym,this,Xm),this.writable=!0,Ym&&(typeof Ym.write=="function"&&(this._write=Ym.write),typeof Ym.writev=="function"&&(this._writev=Ym.writev),typeof Ym.destroy=="function"&&(this._destroy=Ym.destroy),typeof Ym.final=="function"&&(this._final=Ym.final)),_t.call(this)}zm.prototype.pipe=function(){Cp(this,new wl)};function i1(Ym,Xm){var Jm=new np;Cp(Ym,Jm),api$2.nextTick(Xm,Jm)}function d3(Ym,Xm,Jm,$_){var j_;return Jm===null?j_=new Al:typeof Jm!="string"&&!Xm.objectMode&&(j_=new ss("chunk",["string","Buffer"],Jm)),j_?(Cp(Ym,j_),api$2.nextTick($_,j_),!1):!0}zm.prototype.write=function(Ym,Xm,Jm){var $_=this._writableState,j_=!1,h3=!$_.objectMode&&cr(Ym);return h3&&!At.isBuffer(Ym)&&(Ym=Zt(Ym)),typeof Xm=="function"&&(Jm=Xm,Xm=null),h3?Xm="buffer":Xm||(Xm=$_.defaultEncoding),typeof Jm!="function"&&(Jm=Lp),$_.ending?i1(this,Jm):(h3||d3(this,$_,Ym,Jm))&&($_.pendingcb++,j_=Sn(this,$_,h3,Ym,Xm,Jm)),j_},zm.prototype.cork=function(){this._writableState.corked++},zm.prototype.uncork=function(){var Ym=this._writableState;Ym.corked&&(Ym.corked--,!Ym.writing&&!Ym.corked&&!Ym.bufferProcessing&&Ym.bufferedRequest&&pu(this,Ym))},zm.prototype.setDefaultEncoding=function(Xm){if(typeof Xm=="string"&&(Xm=Xm.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Xm+"").toLowerCase())>-1))throw new cp(Xm);return this._writableState.defaultEncoding=Xm,this},Object.defineProperty(zm.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function op(Ym,Xm,Jm){return!Ym.objectMode&&Ym.decodeStrings!==!1&&typeof Xm=="string"&&(Xm=At.from(Xm,Jm)),Xm}Object.defineProperty(zm.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Sn(Ym,Xm,Jm,$_,j_,h3){if(!Jm){var Fp=op(Xm,$_,j_);$_!==Fp&&(Jm=!0,j_="buffer",$_=Fp)}var W_=Xm.objectMode?1:$_.length;Xm.length+=W_;var t4=Xm.length<Xm.highWaterMark;if(t4||(Xm.needDrain=!0),Xm.writing||Xm.corked){var Nw=Xm.lastBufferedRequest;Xm.lastBufferedRequest={chunk:$_,encoding:j_,isBuf:Jm,callback:h3,next:null},Nw?Nw.next=Xm.lastBufferedRequest:Xm.bufferedRequest=Xm.lastBufferedRequest,Xm.bufferedRequestCount+=1}else Fo(Ym,Xm,!1,W_,$_,j_,h3);return t4}function Fo(Ym,Xm,Jm,$_,j_,h3,Fp){Xm.writelen=$_,Xm.writecb=Fp,Xm.writing=!0,Xm.sync=!0,Xm.destroyed?Xm.onwrite(new ep("write")):Jm?Ym._writev(j_,Xm.onwrite):Ym._write(j_,h3,Xm.onwrite),Xm.sync=!1}function as(Ym,Xm,Jm,$_,j_){--Xm.pendingcb,Jm?(api$2.nextTick(j_,$_),api$2.nextTick(cm,Ym,Xm),Ym._writableState.errorEmitted=!0,Cp(Ym,$_)):(j_($_),Ym._writableState.errorEmitted=!0,Cp(Ym,$_),cm(Ym,Xm))}function us(Ym){Ym.writing=!1,Ym.writecb=null,Ym.length-=Ym.writelen,Ym.writelen=0}function xl(Ym,Xm){var Jm=Ym._writableState,$_=Jm.sync,j_=Jm.writecb;if(typeof j_!="function")throw new cs;if(us(Jm),Xm)as(Ym,Jm,$_,Xm,j_);else{var h3=go(Jm)||Ym.destroyed;!h3&&!Jm.corked&&!Jm.bufferProcessing&&Jm.bufferedRequest&&pu(Ym,Jm),$_?api$2.nextTick(ip,Ym,Jm,h3,j_):ip(Ym,Jm,h3,j_)}}function ip(Ym,Xm,Jm,$_){Jm||lp(Ym,Xm),Xm.pendingcb--,$_(),cm(Ym,Xm)}function lp(Ym,Xm){Xm.length===0&&Xm.needDrain&&(Xm.needDrain=!1,Ym.emit("drain"))}function pu(Ym,Xm){Xm.bufferProcessing=!0;var Jm=Xm.bufferedRequest;if(Ym._writev&&Jm&&Jm.next){var $_=Xm.bufferedRequestCount,j_=new Array($_),h3=Xm.corkedRequestsFree;h3.entry=Jm;for(var Fp=0,W_=!0;Jm;)j_[Fp]=Jm,Jm.isBuf||(W_=!1),Jm=Jm.next,Fp+=1;j_.allBuffers=W_,Fo(Ym,Xm,!0,Xm.length,j_,"",h3.finish),Xm.pendingcb++,Xm.lastBufferedRequest=null,h3.next?(Xm.corkedRequestsFree=h3.next,h3.next=null):Xm.corkedRequestsFree=new ut(Xm),Xm.bufferedRequestCount=0}else{for(;Jm;){var t4=Jm.chunk,Nw=Jm.encoding,Dp=Jm.callback,a1=Xm.objectMode?1:t4.length;if(Fo(Ym,Xm,!1,a1,t4,Nw,Dp),Jm=Jm.next,Xm.bufferedRequestCount--,Xm.writing)break}Jm===null&&(Xm.lastBufferedRequest=null)}Xm.bufferedRequest=Jm,Xm.bufferProcessing=!1}zm.prototype._write=function(Ym,Xm,Jm){Jm(new ls("_write()"))},zm.prototype._writev=null,zm.prototype.end=function(Ym,Xm,Jm){var $_=this._writableState;return typeof Ym=="function"?(Jm=Ym,Ym=null,Xm=null):typeof Xm=="function"&&(Jm=Xm,Xm=null),Ym!=null&&this.write(Ym,Xm),$_.corked&&($_.corked=1,this.uncork()),$_.ending||b3(this,$_,Jm),this},Object.defineProperty(zm.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function go(Ym){return Ym.ending&&Ym.length===0&&Ym.bufferedRequest===null&&!Ym.finished&&!Ym.writing}function h0(Ym,Xm){Ym._final(function(Jm){Xm.pendingcb--,Jm&&Cp(Ym,Jm),Xm.prefinished=!0,Ym.emit("prefinish"),cm(Ym,Xm)})}function kp(Ym,Xm){!Xm.prefinished&&!Xm.finalCalled&&(typeof Ym._final=="function"&&!Xm.destroyed?(Xm.pendingcb++,Xm.finalCalled=!0,api$2.nextTick(h0,Ym,Xm)):(Xm.prefinished=!0,Ym.emit("prefinish")))}function cm(Ym,Xm){var Jm=go(Xm);if(Jm&&(kp(Ym,Xm),Xm.pendingcb===0&&(Xm.finished=!0,Ym.emit("finish"),Xm.autoDestroy))){var $_=Ym._readableState;(!$_||$_.autoDestroy&&$_.endEmitted)&&Ym.destroy()}return Jm}function b3(Ym,Xm,Jm){Xm.ending=!0,cm(Ym,Xm),Jm&&(Xm.finished?api$2.nextTick(Jm):Ym.once("finish",Jm)),Xm.ended=!0,Ym.writable=!1}function L_(Ym,Xm,Jm){var $_=Ym.entry;for(Ym.entry=null;$_;){var j_=$_.callback;Xm.pendingcb--,j_(Jm),$_=$_.next}Xm.corkedRequestsFree.next=Ym}return Object.defineProperty(zm.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Xm){this._writableState&&(this._writableState.destroyed=Xm)}}),zm.prototype.destroy=Gr.destroy,zm.prototype._undestroy=Gr.undestroy,zm.prototype._destroy=function(Ym,Xm){Xm(Ym)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var ut=Object.keys||function(Zr){var xn=[];for(var On in Zr)xn.push(On);return xn};_stream_duplex$1=Zt;var lt=require_stream_readable$1(),ht=require_stream_writable$1();requireInherits_browser()(Zt,lt);for(var _t=ut(ht.prototype),At=0;At<_t.length;At++){var qt=_t[At];Zt.prototype[qt]||(Zt.prototype[qt]=ht.prototype[qt])}function Zt(Zr){if(!(this instanceof Zt))return new Zt(Zr);lt.call(this,Zr),ht.call(this,Zr),this.allowHalfOpen=!0,Zr&&(Zr.readable===!1&&(this.readable=!1),Zr.writable===!1&&(this.writable=!1),Zr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",cr)))}Object.defineProperty(Zt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Zt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Zt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cr(){this._writableState.ended||api$2.nextTick(Gr,this)}function Gr(Zr){Zr.end()}return Object.defineProperty(Zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(xn){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=xn,this._writableState.destroyed=xn)}}),_stream_duplex$1}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var ut=requireSafeBuffer$1().Buffer,lt=ut.isEncoding||function(Al){switch(Al=""+Al,Al&&Al.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ht(Al){if(!Al)return"utf8";for(var np;;)switch(Al){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Al;default:if(np)return;Al=(""+Al).toLowerCase(),np=!0}}function _t(Al){var np=ht(Al);if(typeof np!="string"&&(ut.isEncoding===lt||!lt(Al)))throw new Error("Unknown encoding: "+Al);return np||Al}string_decoder.StringDecoder=At;function At(Al){this.encoding=_t(Al);var np;switch(this.encoding){case"utf16le":this.text=On,this.end=ss,np=4;break;case"utf8":this.fillLast=Gr,np=4;break;case"base64":this.text=ls,this.end=cs,np=3;break;default:this.write=wl,this.end=ep;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ut.allocUnsafe(np)}At.prototype.write=function(Al){if(Al.length===0)return"";var np,cp;if(this.lastNeed){if(np=this.fillLast(Al),np===void 0)return"";cp=this.lastNeed,this.lastNeed=0}else cp=0;return cp<Al.length?np?np+this.text(Al,cp):this.text(Al,cp):np||""},At.prototype.end=xn,At.prototype.text=Zr,At.prototype.fillLast=function(Al){if(this.lastNeed<=Al.length)return Al.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Al.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Al.length),this.lastNeed-=Al.length};function qt(Al){return Al<=127?0:Al>>5===6?2:Al>>4===14?3:Al>>3===30?4:Al>>6===2?-1:-2}function Zt(Al,np,cp){var Cp=np.length-1;if(Cp<cp)return 0;var Lp=qt(np[Cp]);return Lp>=0?(Lp>0&&(Al.lastNeed=Lp-1),Lp):--Cp<cp||Lp===-2?0:(Lp=qt(np[Cp]),Lp>=0?(Lp>0&&(Al.lastNeed=Lp-2),Lp):--Cp<cp||Lp===-2?0:(Lp=qt(np[Cp]),Lp>=0?(Lp>0&&(Lp===2?Lp=0:Al.lastNeed=Lp-3),Lp):0))}function cr(Al,np,cp){if((np[0]&192)!==128)return Al.lastNeed=0,"";if(Al.lastNeed>1&&np.length>1){if((np[1]&192)!==128)return Al.lastNeed=1,"";if(Al.lastNeed>2&&np.length>2&&(np[2]&192)!==128)return Al.lastNeed=2,""}}function Gr(Al){var np=this.lastTotal-this.lastNeed,cp=cr(this,Al);if(cp!==void 0)return cp;if(this.lastNeed<=Al.length)return Al.copy(this.lastChar,np,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Al.copy(this.lastChar,np,0,Al.length),this.lastNeed-=Al.length}function Zr(Al,np){var cp=Zt(this,Al,np);if(!this.lastNeed)return Al.toString("utf8",np);this.lastTotal=cp;var Cp=Al.length-(cp-this.lastNeed);return Al.copy(this.lastChar,0,Cp),Al.toString("utf8",np,Cp)}function xn(Al){var np=Al&&Al.length?this.write(Al):"";return this.lastNeed?np+"":np}function On(Al,np){if((Al.length-np)%2===0){var cp=Al.toString("utf16le",np);if(cp){var Cp=cp.charCodeAt(cp.length-1);if(Cp>=55296&&Cp<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Al[Al.length-2],this.lastChar[1]=Al[Al.length-1],cp.slice(0,-1)}return cp}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Al[Al.length-1],Al.toString("utf16le",np,Al.length-1)}function ss(Al){var np=Al&&Al.length?this.write(Al):"";if(this.lastNeed){var cp=this.lastTotal-this.lastNeed;return np+this.lastChar.toString("utf16le",0,cp)}return np}function ls(Al,np){var cp=(Al.length-np)%3;return cp===0?Al.toString("base64",np):(this.lastNeed=3-cp,this.lastTotal=3,cp===1?this.lastChar[0]=Al[Al.length-1]:(this.lastChar[0]=Al[Al.length-2],this.lastChar[1]=Al[Al.length-1]),Al.toString("base64",np,Al.length-cp))}function cs(Al){var np=Al&&Al.length?this.write(Al):"";return this.lastNeed?np+this.lastChar.toString("base64",0,3-this.lastNeed):np}function wl(Al){return Al.toString(this.encoding)}function ep(Al){return Al&&Al.length?this.write(Al):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var ut=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function lt(qt){var Zt=!1;return function(){if(!Zt){Zt=!0;for(var cr=arguments.length,Gr=new Array(cr),Zr=0;Zr<cr;Zr++)Gr[Zr]=arguments[Zr];qt.apply(this,Gr)}}}function ht(){}function _t(qt){return qt.setHeader&&typeof qt.abort=="function"}function At(qt,Zt,cr){if(typeof Zt=="function")return At(qt,null,Zt);Zt||(Zt={}),cr=lt(cr||ht);var Gr=Zt.readable||Zt.readable!==!1&&qt.readable,Zr=Zt.writable||Zt.writable!==!1&&qt.writable,xn=function(){qt.writable||ss()},On=qt._writableState&&qt._writableState.finished,ss=function(){Zr=!1,On=!0,Gr||cr.call(qt)},ls=qt._readableState&&qt._readableState.endEmitted,cs=function(){Gr=!1,ls=!0,Zr||cr.call(qt)},wl=function(cp){cr.call(qt,cp)},ep=function(){var cp;if(Gr&&!ls)return(!qt._readableState||!qt._readableState.ended)&&(cp=new ut),cr.call(qt,cp);if(Zr&&!On)return(!qt._writableState||!qt._writableState.ended)&&(cp=new ut),cr.call(qt,cp)},Al=function(){qt.req.on("finish",ss)};return _t(qt)?(qt.on("complete",ss),qt.on("abort",ep),qt.req?Al():qt.on("request",Al)):Zr&&!qt._writableState&&(qt.on("end",xn),qt.on("close",xn)),qt.on("end",cs),qt.on("finish",ss),Zt.error!==!1&&qt.on("error",wl),qt.on("close",ep),function(){qt.removeListener("complete",ss),qt.removeListener("abort",ep),qt.removeListener("request",Al),qt.req&&qt.req.removeListener("finish",ss),qt.removeListener("end",xn),qt.removeListener("close",xn),qt.removeListener("finish",ss),qt.removeListener("end",cs),qt.removeListener("error",wl),qt.removeListener("close",ep)}}return endOfStream=At,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var ut;function lt(cp,Cp,Lp){return Cp=ht(Cp),Cp in cp?Object.defineProperty(cp,Cp,{value:Lp,enumerable:!0,configurable:!0,writable:!0}):cp[Cp]=Lp,cp}function ht(cp){var Cp=_t(cp,"string");return typeof Cp=="symbol"?Cp:String(Cp)}function _t(cp,Cp){if(typeof cp!="object"||cp===null)return cp;var Lp=cp[Symbol.toPrimitive];if(Lp!==void 0){var jp=Lp.call(cp,Cp||"default");if(typeof jp!="object")return jp;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Cp==="string"?String:Number)(cp)}var At=requireEndOfStream(),qt=Symbol("lastResolve"),Zt=Symbol("lastReject"),cr=Symbol("error"),Gr=Symbol("ended"),Zr=Symbol("lastPromise"),xn=Symbol("handlePromise"),On=Symbol("stream");function ss(cp,Cp){return{value:cp,done:Cp}}function ls(cp){var Cp=cp[qt];if(Cp!==null){var Lp=cp[On].read();Lp!==null&&(cp[Zr]=null,cp[qt]=null,cp[Zt]=null,Cp(ss(Lp,!1)))}}function cs(cp){api$2.nextTick(ls,cp)}function wl(cp,Cp){return function(Lp,jp){cp.then(function(){if(Cp[Gr]){Lp(ss(void 0,!0));return}Cp[xn](Lp,jp)},jp)}}var ep=Object.getPrototypeOf(function(){}),Al=Object.setPrototypeOf((ut={get stream(){return this[On]},next:function(){var Cp=this,Lp=this[cr];if(Lp!==null)return Promise.reject(Lp);if(this[Gr])return Promise.resolve(ss(void 0,!0));if(this[On].destroyed)return new Promise(function(i1,d3){api$2.nextTick(function(){Cp[cr]?d3(Cp[cr]):i1(ss(void 0,!0))})});var jp=this[Zr],nm;if(jp)nm=new Promise(wl(jp,this));else{var zm=this[On].read();if(zm!==null)return Promise.resolve(ss(zm,!1));nm=new Promise(this[xn])}return this[Zr]=nm,nm}},lt(ut,Symbol.asyncIterator,function(){return this}),lt(ut,"return",function(){var Cp=this;return new Promise(function(Lp,jp){Cp[On].destroy(null,function(nm){if(nm){jp(nm);return}Lp(ss(void 0,!0))})})}),ut),ep),np=function(Cp){var Lp,jp=Object.create(Al,(Lp={},lt(Lp,On,{value:Cp,writable:!0}),lt(Lp,qt,{value:null,writable:!0}),lt(Lp,Zt,{value:null,writable:!0}),lt(Lp,cr,{value:null,writable:!0}),lt(Lp,Gr,{value:Cp._readableState.endEmitted,writable:!0}),lt(Lp,xn,{value:function(zm,i1){var d3=jp[On].read();d3?(jp[Zr]=null,jp[qt]=null,jp[Zt]=null,zm(ss(d3,!1))):(jp[qt]=zm,jp[Zt]=i1)},writable:!0}),Lp));return jp[Zr]=null,At(Cp,function(nm){if(nm&&nm.code!=="ERR_STREAM_PREMATURE_CLOSE"){var zm=jp[Zt];zm!==null&&(jp[Zr]=null,jp[qt]=null,jp[Zt]=null,zm(nm)),jp[cr]=nm;return}var i1=jp[qt];i1!==null&&(jp[Zr]=null,jp[qt]=null,jp[Zt]=null,i1(ss(void 0,!0))),jp[Gr]=!0}),Cp.on("readable",cs.bind(null,jp)),jp};return async_iterator=np,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1,_stream_readable$1=i1;var ut;i1.ReadableState=zm,requireEvents().EventEmitter;var lt=function(Fp,W_){return Fp.listeners(W_).length},ht=requireStreamBrowser$1(),_t=buffer$1.Buffer,At=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function qt(h3){return _t.from(h3)}function Zt(h3){return _t.isBuffer(h3)||h3 instanceof At}var cr=requireUtil$1(),Gr;cr&&cr.debuglog?Gr=cr.debuglog("stream"):Gr=function(){};var Zr=requireBuffer_list(),xn=requireDestroy$1(),On=requireState(),ss=On.getHighWaterMark,ls=requireErrorsBrowser().codes,cs=ls.ERR_INVALID_ARG_TYPE,wl=ls.ERR_STREAM_PUSH_AFTER_EOF,ep=ls.ERR_METHOD_NOT_IMPLEMENTED,Al=ls.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,np,cp,Cp;requireInherits_browser()(i1,ht);var Lp=xn.errorOrDestroy,jp=["error","close","destroy","pause","resume"];function nm(h3,Fp,W_){if(typeof h3.prependListener=="function")return h3.prependListener(Fp,W_);!h3._events||!h3._events[Fp]?h3.on(Fp,W_):Array.isArray(h3._events[Fp])?h3._events[Fp].unshift(W_):h3._events[Fp]=[W_,h3._events[Fp]]}function zm(h3,Fp,W_){ut=ut||require_stream_duplex$1(),h3=h3||{},typeof W_!="boolean"&&(W_=Fp instanceof ut),this.objectMode=!!h3.objectMode,W_&&(this.objectMode=this.objectMode||!!h3.readableObjectMode),this.highWaterMark=ss(this,h3,"readableHighWaterMark",W_),this.buffer=new Zr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h3.emitClose!==!1,this.autoDestroy=!!h3.autoDestroy,this.destroyed=!1,this.defaultEncoding=h3.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h3.encoding&&(np||(np=requireString_decoder().StringDecoder),this.decoder=new np(h3.encoding),this.encoding=h3.encoding)}function i1(h3){if(ut=ut||require_stream_duplex$1(),!(this instanceof i1))return new i1(h3);var Fp=this instanceof ut;this._readableState=new zm(h3,this,Fp),this.readable=!0,h3&&(typeof h3.read=="function"&&(this._read=h3.read),typeof h3.destroy=="function"&&(this._destroy=h3.destroy)),ht.call(this)}Object.defineProperty(i1.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Fp){this._readableState&&(this._readableState.destroyed=Fp)}}),i1.prototype.destroy=xn.destroy,i1.prototype._undestroy=xn.undestroy,i1.prototype._destroy=function(h3,Fp){Fp(h3)},i1.prototype.push=function(h3,Fp){var W_=this._readableState,t4;return W_.objectMode?t4=!0:typeof h3=="string"&&(Fp=Fp||W_.defaultEncoding,Fp!==W_.encoding&&(h3=_t.from(h3,Fp),Fp=""),t4=!0),d3(this,h3,Fp,!1,t4)},i1.prototype.unshift=function(h3){return d3(this,h3,null,!0,!1)};function d3(h3,Fp,W_,t4,Nw){Gr("readableAddChunk",Fp);var Dp=h3._readableState;if(Fp===null)Dp.reading=!1,xl(h3,Dp);else{var a1;if(Nw||(a1=Sn(Dp,Fp)),a1)Lp(h3,a1);else if(Dp.objectMode||Fp&&Fp.length>0)if(typeof Fp!="string"&&!Dp.objectMode&&Object.getPrototypeOf(Fp)!==_t.prototype&&(Fp=qt(Fp)),t4)Dp.endEmitted?Lp(h3,new Al):op(h3,Dp,Fp,!0);else if(Dp.ended)Lp(h3,new wl);else{if(Dp.destroyed)return!1;Dp.reading=!1,Dp.decoder&&!W_?(Fp=Dp.decoder.write(Fp),Dp.objectMode||Fp.length!==0?op(h3,Dp,Fp,!1):pu(h3,Dp)):op(h3,Dp,Fp,!1)}else t4||(Dp.reading=!1,pu(h3,Dp))}return!Dp.ended&&(Dp.length<Dp.highWaterMark||Dp.length===0)}function op(h3,Fp,W_,t4){Fp.flowing&&Fp.length===0&&!Fp.sync?(Fp.awaitDrain=0,h3.emit("data",W_)):(Fp.length+=Fp.objectMode?1:W_.length,t4?Fp.buffer.unshift(W_):Fp.buffer.push(W_),Fp.needReadable&&ip(h3)),pu(h3,Fp)}function Sn(h3,Fp){var W_;return!Zt(Fp)&&typeof Fp!="string"&&Fp!==void 0&&!h3.objectMode&&(W_=new cs("chunk",["string","Buffer","Uint8Array"],Fp)),W_}i1.prototype.isPaused=function(){return this._readableState.flowing===!1},i1.prototype.setEncoding=function(h3){np||(np=requireString_decoder().StringDecoder);var Fp=new np(h3);this._readableState.decoder=Fp,this._readableState.encoding=this._readableState.decoder.encoding;for(var W_=this._readableState.buffer.head,t4="";W_!==null;)t4+=Fp.write(W_.data),W_=W_.next;return this._readableState.buffer.clear(),t4!==""&&this._readableState.buffer.push(t4),this._readableState.length=t4.length,this};var Fo=1073741824;function as(h3){return h3>=Fo?h3=Fo:(h3--,h3|=h3>>>1,h3|=h3>>>2,h3|=h3>>>4,h3|=h3>>>8,h3|=h3>>>16,h3++),h3}function us(h3,Fp){return h3<=0||Fp.length===0&&Fp.ended?0:Fp.objectMode?1:h3!==h3?Fp.flowing&&Fp.length?Fp.buffer.head.data.length:Fp.length:(h3>Fp.highWaterMark&&(Fp.highWaterMark=as(h3)),h3<=Fp.length?h3:Fp.ended?Fp.length:(Fp.needReadable=!0,0))}i1.prototype.read=function(h3){Gr("read",h3),h3=parseInt(h3,10);var Fp=this._readableState,W_=h3;if(h3!==0&&(Fp.emittedReadable=!1),h3===0&&Fp.needReadable&&((Fp.highWaterMark!==0?Fp.length>=Fp.highWaterMark:Fp.length>0)||Fp.ended))return Gr("read: emitReadable",Fp.length,Fp.ended),Fp.length===0&&Fp.ended?Jm(this):ip(this),null;if(h3=us(h3,Fp),h3===0&&Fp.ended)return Fp.length===0&&Jm(this),null;var t4=Fp.needReadable;Gr("need readable",t4),(Fp.length===0||Fp.length-h3<Fp.highWaterMark)&&(t4=!0,Gr("length less than watermark",t4)),Fp.ended||Fp.reading?(t4=!1,Gr("reading or ended",t4)):t4&&(Gr("do read"),Fp.reading=!0,Fp.sync=!0,Fp.length===0&&(Fp.needReadable=!0),this._read(Fp.highWaterMark),Fp.sync=!1,Fp.reading||(h3=us(W_,Fp)));var Nw;return h3>0?Nw=Xm(h3,Fp):Nw=null,Nw===null?(Fp.needReadable=Fp.length<=Fp.highWaterMark,h3=0):(Fp.length-=h3,Fp.awaitDrain=0),Fp.length===0&&(Fp.ended||(Fp.needReadable=!0),W_!==h3&&Fp.ended&&Jm(this)),Nw!==null&&this.emit("data",Nw),Nw};function xl(h3,Fp){if(Gr("onEofChunk"),!Fp.ended){if(Fp.decoder){var W_=Fp.decoder.end();W_&&W_.length&&(Fp.buffer.push(W_),Fp.length+=Fp.objectMode?1:W_.length)}Fp.ended=!0,Fp.sync?ip(h3):(Fp.needReadable=!1,Fp.emittedReadable||(Fp.emittedReadable=!0,lp(h3)))}}function ip(h3){var Fp=h3._readableState;Gr("emitReadable",Fp.needReadable,Fp.emittedReadable),Fp.needReadable=!1,Fp.emittedReadable||(Gr("emitReadable",Fp.flowing),Fp.emittedReadable=!0,api$2.nextTick(lp,h3))}function lp(h3){var Fp=h3._readableState;Gr("emitReadable_",Fp.destroyed,Fp.length,Fp.ended),!Fp.destroyed&&(Fp.length||Fp.ended)&&(h3.emit("readable"),Fp.emittedReadable=!1),Fp.needReadable=!Fp.flowing&&!Fp.ended&&Fp.length<=Fp.highWaterMark,Ym(h3)}function pu(h3,Fp){Fp.readingMore||(Fp.readingMore=!0,api$2.nextTick(go,h3,Fp))}function go(h3,Fp){for(;!Fp.reading&&!Fp.ended&&(Fp.length<Fp.highWaterMark||Fp.flowing&&Fp.length===0);){var W_=Fp.length;if(Gr("maybeReadMore read 0"),h3.read(0),W_===Fp.length)break}Fp.readingMore=!1}i1.prototype._read=function(h3){Lp(this,new ep("_read()"))},i1.prototype.pipe=function(h3,Fp){var W_=this,t4=this._readableState;switch(t4.pipesCount){case 0:t4.pipes=h3;break;case 1:t4.pipes=[t4.pipes,h3];break;default:t4.pipes.push(h3);break}t4.pipesCount+=1,Gr("pipe count=%d opts=%j",t4.pipesCount,Fp);var Nw=(!Fp||Fp.end!==!1)&&h3!==api$2.stdout&&h3!==api$2.stderr,Dp=Nw?zp:nM;t4.endEmitted?api$2.nextTick(Dp):W_.once("end",Dp),h3.on("unpipe",a1);function a1(Hm,y3){Gr("onunpipe"),Hm===W_&&y3&&y3.hasUnpiped===!1&&(y3.hasUnpiped=!0,nw())}function zp(){Gr("onend"),h3.end()}var v3=h0(W_);h3.on("drain",v3);var Mw=!1;function nw(){Gr("cleanup"),h3.removeListener("close",F_),h3.removeListener("finish",qx),h3.removeListener("drain",v3),h3.removeListener("error",Ww),h3.removeListener("unpipe",a1),W_.removeListener("end",zp),W_.removeListener("end",nM),W_.removeListener("data",n4),Mw=!0,t4.awaitDrain&&(!h3._writableState||h3._writableState.needDrain)&&v3()}W_.on("data",n4);function n4(Hm){Gr("ondata");var y3=h3.write(Hm);Gr("dest.write",y3),y3===!1&&((t4.pipesCount===1&&t4.pipes===h3||t4.pipesCount>1&&j_(t4.pipes,h3)!==-1)&&!Mw&&(Gr("false write response, pause",t4.awaitDrain),t4.awaitDrain++),W_.pause())}function Ww(Hm){Gr("onerror",Hm),nM(),h3.removeListener("error",Ww),lt(h3,"error")===0&&Lp(h3,Hm)}nm(h3,"error",Ww);function F_(){h3.removeListener("finish",qx),nM()}h3.once("close",F_);function qx(){Gr("onfinish"),h3.removeListener("close",F_),nM()}h3.once("finish",qx);function nM(){Gr("unpipe"),W_.unpipe(h3)}return h3.emit("pipe",W_),t4.flowing||(Gr("pipe resume"),W_.resume()),h3};function h0(h3){return function(){var W_=h3._readableState;Gr("pipeOnDrain",W_.awaitDrain),W_.awaitDrain&&W_.awaitDrain--,W_.awaitDrain===0&&lt(h3,"data")&&(W_.flowing=!0,Ym(h3))}}i1.prototype.unpipe=function(h3){var Fp=this._readableState,W_={hasUnpiped:!1};if(Fp.pipesCount===0)return this;if(Fp.pipesCount===1)return h3&&h3!==Fp.pipes?this:(h3||(h3=Fp.pipes),Fp.pipes=null,Fp.pipesCount=0,Fp.flowing=!1,h3&&h3.emit("unpipe",this,W_),this);if(!h3){var t4=Fp.pipes,Nw=Fp.pipesCount;Fp.pipes=null,Fp.pipesCount=0,Fp.flowing=!1;for(var Dp=0;Dp<Nw;Dp++)t4[Dp].emit("unpipe",this,{hasUnpiped:!1});return this}var a1=j_(Fp.pipes,h3);return a1===-1?this:(Fp.pipes.splice(a1,1),Fp.pipesCount-=1,Fp.pipesCount===1&&(Fp.pipes=Fp.pipes[0]),h3.emit("unpipe",this,W_),this)},i1.prototype.on=function(h3,Fp){var W_=ht.prototype.on.call(this,h3,Fp),t4=this._readableState;return h3==="data"?(t4.readableListening=this.listenerCount("readable")>0,t4.flowing!==!1&&this.resume()):h3==="readable"&&!t4.endEmitted&&!t4.readableListening&&(t4.readableListening=t4.needReadable=!0,t4.flowing=!1,t4.emittedReadable=!1,Gr("on readable",t4.length,t4.reading),t4.length?ip(this):t4.reading||api$2.nextTick(cm,this)),W_},i1.prototype.addListener=i1.prototype.on,i1.prototype.removeListener=function(h3,Fp){var W_=ht.prototype.removeListener.call(this,h3,Fp);return h3==="readable"&&api$2.nextTick(kp,this),W_},i1.prototype.removeAllListeners=function(h3){var Fp=ht.prototype.removeAllListeners.apply(this,arguments);return(h3==="readable"||h3===void 0)&&api$2.nextTick(kp,this),Fp};function kp(h3){var Fp=h3._readableState;Fp.readableListening=h3.listenerCount("readable")>0,Fp.resumeScheduled&&!Fp.paused?Fp.flowing=!0:h3.listenerCount("data")>0&&h3.resume()}function cm(h3){Gr("readable nexttick read 0"),h3.read(0)}i1.prototype.resume=function(){var h3=this._readableState;return h3.flowing||(Gr("resume"),h3.flowing=!h3.readableListening,b3(this,h3)),h3.paused=!1,this};function b3(h3,Fp){Fp.resumeScheduled||(Fp.resumeScheduled=!0,api$2.nextTick(L_,h3,Fp))}function L_(h3,Fp){Gr("resume",Fp.reading),Fp.reading||h3.read(0),Fp.resumeScheduled=!1,h3.emit("resume"),Ym(h3),Fp.flowing&&!Fp.reading&&h3.read(0)}i1.prototype.pause=function(){return Gr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Gr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ym(h3){var Fp=h3._readableState;for(Gr("flow",Fp.flowing);Fp.flowing&&h3.read()!==null;);}i1.prototype.wrap=function(h3){var Fp=this,W_=this._readableState,t4=!1;h3.on("end",function(){if(Gr("wrapped end"),W_.decoder&&!W_.ended){var a1=W_.decoder.end();a1&&a1.length&&Fp.push(a1)}Fp.push(null)}),h3.on("data",function(a1){if(Gr("wrapped data"),W_.decoder&&(a1=W_.decoder.write(a1)),!(W_.objectMode&&a1==null)&&!(!W_.objectMode&&(!a1||!a1.length))){var zp=Fp.push(a1);zp||(t4=!0,h3.pause())}});for(var Nw in h3)this[Nw]===void 0&&typeof h3[Nw]=="function"&&(this[Nw]=function(zp){return function(){return h3[zp].apply(h3,arguments)}}(Nw));for(var Dp=0;Dp<jp.length;Dp++)h3.on(jp[Dp],this.emit.bind(this,jp[Dp]));return this._read=function(a1){Gr("wrapped _read",a1),t4&&(t4=!1,h3.resume())},this},typeof Symbol=="function"&&(i1.prototype[Symbol.asyncIterator]=function(){return cp===void 0&&(cp=requireAsync_iterator()),cp(this)}),Object.defineProperty(i1.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i1.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i1.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Fp){this._readableState&&(this._readableState.flowing=Fp)}}),i1._fromList=Xm,Object.defineProperty(i1.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Xm(h3,Fp){if(Fp.length===0)return null;var W_;return Fp.objectMode?W_=Fp.buffer.shift():!h3||h3>=Fp.length?(Fp.decoder?W_=Fp.buffer.join(""):Fp.buffer.length===1?W_=Fp.buffer.first():W_=Fp.buffer.concat(Fp.length),Fp.buffer.clear()):W_=Fp.buffer.consume(h3,Fp.decoder),W_}function Jm(h3){var Fp=h3._readableState;Gr("endReadable",Fp.endEmitted),Fp.endEmitted||(Fp.ended=!0,api$2.nextTick($_,Fp,h3))}function $_(h3,Fp){if(Gr("endReadableNT",h3.endEmitted,h3.length),!h3.endEmitted&&h3.length===0&&(h3.endEmitted=!0,Fp.readable=!1,Fp.emit("end"),h3.autoDestroy)){var W_=Fp._writableState;(!W_||W_.autoDestroy&&W_.finished)&&Fp.destroy()}}typeof Symbol=="function"&&(i1.from=function(h3,Fp){return Cp===void 0&&(Cp=requireFromBrowser()),Cp(i1,h3,Fp)});function j_(h3,Fp){for(var W_=0,t4=h3.length;W_<t4;W_++)if(h3[W_]===Fp)return W_;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=cr;var ut=requireErrorsBrowser().codes,lt=ut.ERR_METHOD_NOT_IMPLEMENTED,ht=ut.ERR_MULTIPLE_CALLBACK,_t=ut.ERR_TRANSFORM_ALREADY_TRANSFORMING,At=ut.ERR_TRANSFORM_WITH_LENGTH_0,qt=require_stream_duplex$1();requireInherits_browser()(cr,qt);function Zt(xn,On){var ss=this._transformState;ss.transforming=!1;var ls=ss.writecb;if(ls===null)return this.emit("error",new ht);ss.writechunk=null,ss.writecb=null,On!=null&&this.push(On),ls(xn);var cs=this._readableState;cs.reading=!1,(cs.needReadable||cs.length<cs.highWaterMark)&&this._read(cs.highWaterMark)}function cr(xn){if(!(this instanceof cr))return new cr(xn);qt.call(this,xn),this._transformState={afterTransform:Zt.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,xn&&(typeof xn.transform=="function"&&(this._transform=xn.transform),typeof xn.flush=="function"&&(this._flush=xn.flush)),this.on("prefinish",Gr)}function Gr(){var xn=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(On,ss){Zr(xn,On,ss)}):Zr(this,null,null)}cr.prototype.push=function(xn,On){return this._transformState.needTransform=!1,qt.prototype.push.call(this,xn,On)},cr.prototype._transform=function(xn,On,ss){ss(new lt("_transform()"))},cr.prototype._write=function(xn,On,ss){var ls=this._transformState;if(ls.writecb=ss,ls.writechunk=xn,ls.writeencoding=On,!ls.transforming){var cs=this._readableState;(ls.needTransform||cs.needReadable||cs.length<cs.highWaterMark)&&this._read(cs.highWaterMark)}},cr.prototype._read=function(xn){var On=this._transformState;On.writechunk!==null&&!On.transforming?(On.transforming=!0,this._transform(On.writechunk,On.writeencoding,On.afterTransform)):On.needTransform=!0},cr.prototype._destroy=function(xn,On){qt.prototype._destroy.call(this,xn,function(ss){On(ss)})};function Zr(xn,On,ss){if(On)return xn.emit("error",On);if(ss!=null&&xn.push(ss),xn._writableState.length)throw new At;if(xn._transformState.transforming)throw new _t;return xn.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=lt;var ut=require_stream_transform$1();requireInherits_browser()(lt,ut);function lt(ht){if(!(this instanceof lt))return new lt(ht);ut.call(this,ht)}return lt.prototype._transform=function(ht,_t,At){At(null,ht)},_stream_passthrough$1}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var ut;function lt(ss){var ls=!1;return function(){ls||(ls=!0,ss.apply(void 0,arguments))}}var ht=requireErrorsBrowser().codes,_t=ht.ERR_MISSING_ARGS,At=ht.ERR_STREAM_DESTROYED;function qt(ss){if(ss)throw ss}function Zt(ss){return ss.setHeader&&typeof ss.abort=="function"}function cr(ss,ls,cs,wl){wl=lt(wl);var ep=!1;ss.on("close",function(){ep=!0}),ut===void 0&&(ut=requireEndOfStream()),ut(ss,{readable:ls,writable:cs},function(np){if(np)return wl(np);ep=!0,wl()});var Al=!1;return function(np){if(!ep&&!Al){if(Al=!0,Zt(ss))return ss.abort();if(typeof ss.destroy=="function")return ss.destroy();wl(np||new At("pipe"))}}}function Gr(ss){ss()}function Zr(ss,ls){return ss.pipe(ls)}function xn(ss){return!ss.length||typeof ss[ss.length-1]!="function"?qt:ss.pop()}function On(){for(var ss=arguments.length,ls=new Array(ss),cs=0;cs<ss;cs++)ls[cs]=arguments[cs];var wl=xn(ls);if(Array.isArray(ls[0])&&(ls=ls[0]),ls.length<2)throw new _t("streams");var ep,Al=ls.map(function(np,cp){var Cp=cp<ls.length-1,Lp=cp>0;return cr(np,Cp,Lp,function(jp){ep||(ep=jp),jp&&Al.forEach(Gr),!Cp&&(Al.forEach(Gr),wl(ep))})});return ls.reduce(Zr)}return pipeline_1=On,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=ht;var ut=requireEvents().EventEmitter,lt=requireInherits_browser();lt(ht,ut),ht.Readable=require_stream_readable$1(),ht.Writable=require_stream_writable$1(),ht.Duplex=require_stream_duplex$1(),ht.Transform=require_stream_transform$1(),ht.PassThrough=require_stream_passthrough$1(),ht.finished=requireEndOfStream(),ht.pipeline=requirePipeline(),ht.Stream=ht;function ht(){ut.call(this)}return ht.prototype.pipe=function(_t,At){var qt=this;function Zt(ls){_t.writable&&_t.write(ls)===!1&&qt.pause&&qt.pause()}qt.on("data",Zt);function cr(){qt.readable&&qt.resume&&qt.resume()}_t.on("drain",cr),!_t._isStdio&&(!At||At.end!==!1)&&(qt.on("end",Zr),qt.on("close",xn));var Gr=!1;function Zr(){Gr||(Gr=!0,_t.end())}function xn(){Gr||(Gr=!0,typeof _t.destroy=="function"&&_t.destroy())}function On(ls){if(ss(),ut.listenerCount(this,"error")===0)throw ls}qt.on("error",On),_t.on("error",On);function ss(){qt.removeListener("data",Zt),_t.removeListener("drain",cr),qt.removeListener("end",Zr),qt.removeListener("close",xn),qt.removeListener("error",On),_t.removeListener("error",On),qt.removeListener("end",ss),qt.removeListener("close",ss),_t.removeListener("close",ss)}return qt.on("end",ss),qt.on("close",ss),_t.on("close",ss),_t.emit("pipe",qt),_t},streamBrowserify}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var ut=requireSafeBuffer$1().Buffer,lt=requireStreamBrowserify().Transform,ht=requireInherits_browser();function _t(cr){lt.call(this),this._block=ut.allocUnsafe(cr),this._blockSize=cr,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}ht(_t,lt),_t.prototype._transform=function(cr,Gr,Zr){var xn=null;try{this.update(cr,Gr)}catch(On){xn=On}Zr(xn)},_t.prototype._flush=function(cr){var Gr=null;try{this.push(this.digest())}catch(Zr){Gr=Zr}cr(Gr)};var At=typeof Uint8Array<"u",qt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(ut.prototype instanceof Uint8Array||ut.TYPED_ARRAY_SUPPORT);function Zt(cr,Gr){if(cr instanceof ut)return cr;if(typeof cr=="string")return ut.from(cr,Gr);if(qt&&ArrayBuffer.isView(cr)){if(cr.byteLength===0)return ut.alloc(0);var Zr=ut.from(cr.buffer,cr.byteOffset,cr.byteLength);if(Zr.byteLength===cr.byteLength)return Zr}if(At&&cr instanceof Uint8Array||ut.isBuffer(cr)&&cr.constructor&&typeof cr.constructor.isBuffer=="function"&&cr.constructor.isBuffer(cr))return ut.from(cr);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return _t.prototype.update=function(cr,Gr){if(this._finalized)throw new Error("Digest already called");cr=Zt(cr,Gr);for(var Zr=this._block,xn=0;this._blockOffset+cr.length-xn>=this._blockSize;){for(var On=this._blockOffset;On<this._blockSize;)Zr[On++]=cr[xn++];this._update(),this._blockOffset=0}for(;xn<cr.length;)Zr[this._blockOffset++]=cr[xn++];for(var ss=0,ls=cr.length*8;ls>0;++ss)this._length[ss]+=ls,ls=this._length[ss]/4294967296|0,ls>0&&(this._length[ss]-=4294967296*ls);return this},_t.prototype._update=function(){throw new Error("_update is not implemented")},_t.prototype.digest=function(cr){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var Gr=this._digest();cr!==void 0&&(Gr=Gr.toString(cr)),this._block.fill(0),this._blockOffset=0;for(var Zr=0;Zr<4;++Zr)this._length[Zr]=0;return Gr},_t.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=_t,hashBase}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var ut=requireInherits_browser(),lt=requireHashBase(),ht=requireSafeBuffer$1().Buffer,_t=new Array(16);function At(){lt.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}ut(At,lt),At.prototype._update=function(){for(var xn=_t,On=0;On<16;++On)xn[On]=this._block.readInt32LE(On*4);var ss=this._a,ls=this._b,cs=this._c,wl=this._d;ss=Zt(ss,ls,cs,wl,xn[0],3614090360,7),wl=Zt(wl,ss,ls,cs,xn[1],3905402710,12),cs=Zt(cs,wl,ss,ls,xn[2],606105819,17),ls=Zt(ls,cs,wl,ss,xn[3],3250441966,22),ss=Zt(ss,ls,cs,wl,xn[4],4118548399,7),wl=Zt(wl,ss,ls,cs,xn[5],1200080426,12),cs=Zt(cs,wl,ss,ls,xn[6],2821735955,17),ls=Zt(ls,cs,wl,ss,xn[7],4249261313,22),ss=Zt(ss,ls,cs,wl,xn[8],1770035416,7),wl=Zt(wl,ss,ls,cs,xn[9],2336552879,12),cs=Zt(cs,wl,ss,ls,xn[10],4294925233,17),ls=Zt(ls,cs,wl,ss,xn[11],2304563134,22),ss=Zt(ss,ls,cs,wl,xn[12],1804603682,7),wl=Zt(wl,ss,ls,cs,xn[13],4254626195,12),cs=Zt(cs,wl,ss,ls,xn[14],2792965006,17),ls=Zt(ls,cs,wl,ss,xn[15],1236535329,22),ss=cr(ss,ls,cs,wl,xn[1],4129170786,5),wl=cr(wl,ss,ls,cs,xn[6],3225465664,9),cs=cr(cs,wl,ss,ls,xn[11],643717713,14),ls=cr(ls,cs,wl,ss,xn[0],3921069994,20),ss=cr(ss,ls,cs,wl,xn[5],3593408605,5),wl=cr(wl,ss,ls,cs,xn[10],38016083,9),cs=cr(cs,wl,ss,ls,xn[15],3634488961,14),ls=cr(ls,cs,wl,ss,xn[4],3889429448,20),ss=cr(ss,ls,cs,wl,xn[9],568446438,5),wl=cr(wl,ss,ls,cs,xn[14],3275163606,9),cs=cr(cs,wl,ss,ls,xn[3],4107603335,14),ls=cr(ls,cs,wl,ss,xn[8],1163531501,20),ss=cr(ss,ls,cs,wl,xn[13],2850285829,5),wl=cr(wl,ss,ls,cs,xn[2],4243563512,9),cs=cr(cs,wl,ss,ls,xn[7],1735328473,14),ls=cr(ls,cs,wl,ss,xn[12],2368359562,20),ss=Gr(ss,ls,cs,wl,xn[5],4294588738,4),wl=Gr(wl,ss,ls,cs,xn[8],2272392833,11),cs=Gr(cs,wl,ss,ls,xn[11],1839030562,16),ls=Gr(ls,cs,wl,ss,xn[14],4259657740,23),ss=Gr(ss,ls,cs,wl,xn[1],2763975236,4),wl=Gr(wl,ss,ls,cs,xn[4],1272893353,11),cs=Gr(cs,wl,ss,ls,xn[7],4139469664,16),ls=Gr(ls,cs,wl,ss,xn[10],3200236656,23),ss=Gr(ss,ls,cs,wl,xn[13],681279174,4),wl=Gr(wl,ss,ls,cs,xn[0],3936430074,11),cs=Gr(cs,wl,ss,ls,xn[3],3572445317,16),ls=Gr(ls,cs,wl,ss,xn[6],76029189,23),ss=Gr(ss,ls,cs,wl,xn[9],3654602809,4),wl=Gr(wl,ss,ls,cs,xn[12],3873151461,11),cs=Gr(cs,wl,ss,ls,xn[15],530742520,16),ls=Gr(ls,cs,wl,ss,xn[2],3299628645,23),ss=Zr(ss,ls,cs,wl,xn[0],4096336452,6),wl=Zr(wl,ss,ls,cs,xn[7],1126891415,10),cs=Zr(cs,wl,ss,ls,xn[14],2878612391,15),ls=Zr(ls,cs,wl,ss,xn[5],4237533241,21),ss=Zr(ss,ls,cs,wl,xn[12],1700485571,6),wl=Zr(wl,ss,ls,cs,xn[3],2399980690,10),cs=Zr(cs,wl,ss,ls,xn[10],4293915773,15),ls=Zr(ls,cs,wl,ss,xn[1],2240044497,21),ss=Zr(ss,ls,cs,wl,xn[8],1873313359,6),wl=Zr(wl,ss,ls,cs,xn[15],4264355552,10),cs=Zr(cs,wl,ss,ls,xn[6],2734768916,15),ls=Zr(ls,cs,wl,ss,xn[13],1309151649,21),ss=Zr(ss,ls,cs,wl,xn[4],4149444226,6),wl=Zr(wl,ss,ls,cs,xn[11],3174756917,10),cs=Zr(cs,wl,ss,ls,xn[2],718787259,15),ls=Zr(ls,cs,wl,ss,xn[9],3951481745,21),this._a=this._a+ss|0,this._b=this._b+ls|0,this._c=this._c+cs|0,this._d=this._d+wl|0},At.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var xn=ht.allocUnsafe(16);return xn.writeInt32LE(this._a,0),xn.writeInt32LE(this._b,4),xn.writeInt32LE(this._c,8),xn.writeInt32LE(this._d,12),xn};function qt(xn,On){return xn<<On|xn>>>32-On}function Zt(xn,On,ss,ls,cs,wl,ep){return qt(xn+(On&ss|~On&ls)+cs+wl|0,ep)+On|0}function cr(xn,On,ss,ls,cs,wl,ep){return qt(xn+(On&ls|ss&~ls)+cs+wl|0,ep)+On|0}function Gr(xn,On,ss,ls,cs,wl,ep){return qt(xn+(On^ss^ls)+cs+wl|0,ep)+On|0}function Zr(xn,On,ss,ls,cs,wl,ep){return qt(xn+(ss^(On|~ls))+cs+wl|0,ep)+On|0}return md5_js=At,md5_js}var ripemd160,hasRequiredRipemd160;function requireRipemd160(){if(hasRequiredRipemd160)return ripemd160;hasRequiredRipemd160=1;var ut=buffer$1.Buffer,lt=requireInherits_browser(),ht=requireHashBase(),_t=new Array(16),At=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],qt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Zt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Gr=[0,1518500249,1859775393,2400959708,2840853838],Zr=[1352829926,1548603684,1836072691,2053994217,0];function xn(){ht.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}lt(xn,ht),xn.prototype._update=function(){for(var Al=_t,np=0;np<16;++np)Al[np]=this._block.readInt32LE(np*4);for(var cp=this._a|0,Cp=this._b|0,Lp=this._c|0,jp=this._d|0,nm=this._e|0,zm=this._a|0,i1=this._b|0,d3=this._c|0,op=this._d|0,Sn=this._e|0,Fo=0;Fo<80;Fo+=1){var as,us;Fo<16?(as=ss(cp,Cp,Lp,jp,nm,Al[At[Fo]],Gr[0],Zt[Fo]),us=ep(zm,i1,d3,op,Sn,Al[qt[Fo]],Zr[0],cr[Fo])):Fo<32?(as=ls(cp,Cp,Lp,jp,nm,Al[At[Fo]],Gr[1],Zt[Fo]),us=wl(zm,i1,d3,op,Sn,Al[qt[Fo]],Zr[1],cr[Fo])):Fo<48?(as=cs(cp,Cp,Lp,jp,nm,Al[At[Fo]],Gr[2],Zt[Fo]),us=cs(zm,i1,d3,op,Sn,Al[qt[Fo]],Zr[2],cr[Fo])):Fo<64?(as=wl(cp,Cp,Lp,jp,nm,Al[At[Fo]],Gr[3],Zt[Fo]),us=ls(zm,i1,d3,op,Sn,Al[qt[Fo]],Zr[3],cr[Fo])):(as=ep(cp,Cp,Lp,jp,nm,Al[At[Fo]],Gr[4],Zt[Fo]),us=ss(zm,i1,d3,op,Sn,Al[qt[Fo]],Zr[4],cr[Fo])),cp=nm,nm=jp,jp=On(Lp,10),Lp=Cp,Cp=as,zm=Sn,Sn=op,op=On(d3,10),d3=i1,i1=us}var xl=this._b+Lp+op|0;this._b=this._c+jp+Sn|0,this._c=this._d+nm+zm|0,this._d=this._e+cp+i1|0,this._e=this._a+Cp+d3|0,this._a=xl},xn.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var Al=ut.alloc?ut.alloc(20):new ut(20);return Al.writeInt32LE(this._a,0),Al.writeInt32LE(this._b,4),Al.writeInt32LE(this._c,8),Al.writeInt32LE(this._d,12),Al.writeInt32LE(this._e,16),Al};function On(Al,np){return Al<<np|Al>>>32-np}function ss(Al,np,cp,Cp,Lp,jp,nm,zm){return On(Al+(np^cp^Cp)+jp+nm|0,zm)+Lp|0}function ls(Al,np,cp,Cp,Lp,jp,nm,zm){return On(Al+(np&cp|~np&Cp)+jp+nm|0,zm)+Lp|0}function cs(Al,np,cp,Cp,Lp,jp,nm,zm){return On(Al+((np|~cp)^Cp)+jp+nm|0,zm)+Lp|0}function wl(Al,np,cp,Cp,Lp,jp,nm,zm){return On(Al+(np&Cp|cp&~Cp)+jp+nm|0,zm)+Lp|0}function ep(Al,np,cp,Cp,Lp,jp,nm,zm){return On(Al+(np^(cp|~Cp))+jp+nm|0,zm)+Lp|0}return ripemd160=xn,ripemd160}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var ut=requireSafeBuffer$1().Buffer;function lt(ht,_t){this._block=ut.alloc(ht),this._finalSize=_t,this._blockSize=ht,this._len=0}return lt.prototype.update=function(ht,_t){typeof ht=="string"&&(_t=_t||"utf8",ht=ut.from(ht,_t));for(var At=this._block,qt=this._blockSize,Zt=ht.length,cr=this._len,Gr=0;Gr<Zt;){for(var Zr=cr%qt,xn=Math.min(Zt-Gr,qt-Zr),On=0;On<xn;On++)At[Zr+On]=ht[Gr+On];cr+=xn,Gr+=xn,cr%qt===0&&this._update(At)}return this._len+=Zt,this},lt.prototype.digest=function(ht){var _t=this._len%this._blockSize;this._block[_t]=128,this._block.fill(0,_t+1),_t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var At=this._len*8;if(At<=4294967295)this._block.writeUInt32BE(At,this._blockSize-4);else{var qt=(At&4294967295)>>>0,Zt=(At-qt)/4294967296;this._block.writeUInt32BE(Zt,this._blockSize-8),this._block.writeUInt32BE(qt,this._blockSize-4)}this._update(this._block);var cr=this._hash();return ht?cr.toString(ht):cr},lt.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=lt,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var ut=requireInherits_browser(),lt=requireHash$1(),ht=requireSafeBuffer$1().Buffer,_t=[1518500249,1859775393,-1894007588,-899497514],At=new Array(80);function qt(){this.init(),this._w=At,lt.call(this,64,56)}ut(qt,lt),qt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Zt(Zr){return Zr<<5|Zr>>>27}function cr(Zr){return Zr<<30|Zr>>>2}function Gr(Zr,xn,On,ss){return Zr===0?xn&On|~xn&ss:Zr===2?xn&On|xn&ss|On&ss:xn^On^ss}return qt.prototype._update=function(Zr){for(var xn=this._w,On=this._a|0,ss=this._b|0,ls=this._c|0,cs=this._d|0,wl=this._e|0,ep=0;ep<16;++ep)xn[ep]=Zr.readInt32BE(ep*4);for(;ep<80;++ep)xn[ep]=xn[ep-3]^xn[ep-8]^xn[ep-14]^xn[ep-16];for(var Al=0;Al<80;++Al){var np=~~(Al/20),cp=Zt(On)+Gr(np,ss,ls,cs)+wl+xn[Al]+_t[np]|0;wl=cs,cs=ls,ls=cr(ss),ss=On,On=cp}this._a=On+this._a|0,this._b=ss+this._b|0,this._c=ls+this._c|0,this._d=cs+this._d|0,this._e=wl+this._e|0},qt.prototype._hash=function(){var Zr=ht.allocUnsafe(20);return Zr.writeInt32BE(this._a|0,0),Zr.writeInt32BE(this._b|0,4),Zr.writeInt32BE(this._c|0,8),Zr.writeInt32BE(this._d|0,12),Zr.writeInt32BE(this._e|0,16),Zr},sha$1=qt,sha$1}var sha1,hasRequiredSha1;function requireSha1(){if(hasRequiredSha1)return sha1;hasRequiredSha1=1;var ut=requireInherits_browser(),lt=requireHash$1(),ht=requireSafeBuffer$1().Buffer,_t=[1518500249,1859775393,-1894007588,-899497514],At=new Array(80);function qt(){this.init(),this._w=At,lt.call(this,64,56)}ut(qt,lt),qt.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Zt(xn){return xn<<1|xn>>>31}function cr(xn){return xn<<5|xn>>>27}function Gr(xn){return xn<<30|xn>>>2}function Zr(xn,On,ss,ls){return xn===0?On&ss|~On&ls:xn===2?On&ss|On&ls|ss&ls:On^ss^ls}return qt.prototype._update=function(xn){for(var On=this._w,ss=this._a|0,ls=this._b|0,cs=this._c|0,wl=this._d|0,ep=this._e|0,Al=0;Al<16;++Al)On[Al]=xn.readInt32BE(Al*4);for(;Al<80;++Al)On[Al]=Zt(On[Al-3]^On[Al-8]^On[Al-14]^On[Al-16]);for(var np=0;np<80;++np){var cp=~~(np/20),Cp=cr(ss)+Zr(cp,ls,cs,wl)+ep+On[np]+_t[cp]|0;ep=wl,wl=cs,cs=Gr(ls),ls=ss,ss=Cp}this._a=ss+this._a|0,this._b=ls+this._b|0,this._c=cs+this._c|0,this._d=wl+this._d|0,this._e=ep+this._e|0},qt.prototype._hash=function(){var xn=ht.allocUnsafe(20);return xn.writeInt32BE(this._a|0,0),xn.writeInt32BE(this._b|0,4),xn.writeInt32BE(this._c|0,8),xn.writeInt32BE(this._d|0,12),xn.writeInt32BE(this._e|0,16),xn},sha1=qt,sha1}var sha256$1,hasRequiredSha256;function requireSha256(){if(hasRequiredSha256)return sha256$1;hasRequiredSha256=1;var ut=requireInherits_browser(),lt=requireHash$1(),ht=requireSafeBuffer$1().Buffer,_t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],At=new Array(64);function qt(){this.init(),this._w=At,lt.call(this,64,56)}ut(qt,lt),qt.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Zt(ss,ls,cs){return cs^ss&(ls^cs)}function cr(ss,ls,cs){return ss&ls|cs&(ss|ls)}function Gr(ss){return(ss>>>2|ss<<30)^(ss>>>13|ss<<19)^(ss>>>22|ss<<10)}function Zr(ss){return(ss>>>6|ss<<26)^(ss>>>11|ss<<21)^(ss>>>25|ss<<7)}function xn(ss){return(ss>>>7|ss<<25)^(ss>>>18|ss<<14)^ss>>>3}function On(ss){return(ss>>>17|ss<<15)^(ss>>>19|ss<<13)^ss>>>10}return qt.prototype._update=function(ss){for(var ls=this._w,cs=this._a|0,wl=this._b|0,ep=this._c|0,Al=this._d|0,np=this._e|0,cp=this._f|0,Cp=this._g|0,Lp=this._h|0,jp=0;jp<16;++jp)ls[jp]=ss.readInt32BE(jp*4);for(;jp<64;++jp)ls[jp]=On(ls[jp-2])+ls[jp-7]+xn(ls[jp-15])+ls[jp-16]|0;for(var nm=0;nm<64;++nm){var zm=Lp+Zr(np)+Zt(np,cp,Cp)+_t[nm]+ls[nm]|0,i1=Gr(cs)+cr(cs,wl,ep)|0;Lp=Cp,Cp=cp,cp=np,np=Al+zm|0,Al=ep,ep=wl,wl=cs,cs=zm+i1|0}this._a=cs+this._a|0,this._b=wl+this._b|0,this._c=ep+this._c|0,this._d=Al+this._d|0,this._e=np+this._e|0,this._f=cp+this._f|0,this._g=Cp+this._g|0,this._h=Lp+this._h|0},qt.prototype._hash=function(){var ss=ht.allocUnsafe(32);return ss.writeInt32BE(this._a,0),ss.writeInt32BE(this._b,4),ss.writeInt32BE(this._c,8),ss.writeInt32BE(this._d,12),ss.writeInt32BE(this._e,16),ss.writeInt32BE(this._f,20),ss.writeInt32BE(this._g,24),ss.writeInt32BE(this._h,28),ss},sha256$1=qt,sha256$1}var sha224$1,hasRequiredSha224;function requireSha224(){if(hasRequiredSha224)return sha224$1;hasRequiredSha224=1;var ut=requireInherits_browser(),lt=requireSha256(),ht=requireHash$1(),_t=requireSafeBuffer$1().Buffer,At=new Array(64);function qt(){this.init(),this._w=At,ht.call(this,64,56)}return ut(qt,lt),qt.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},qt.prototype._hash=function(){var Zt=_t.allocUnsafe(28);return Zt.writeInt32BE(this._a,0),Zt.writeInt32BE(this._b,4),Zt.writeInt32BE(this._c,8),Zt.writeInt32BE(this._d,12),Zt.writeInt32BE(this._e,16),Zt.writeInt32BE(this._f,20),Zt.writeInt32BE(this._g,24),Zt},sha224$1=qt,sha224$1}var sha512$1,hasRequiredSha512;function requireSha512(){if(hasRequiredSha512)return sha512$1;hasRequiredSha512=1;var ut=requireInherits_browser(),lt=requireHash$1(),ht=requireSafeBuffer$1().Buffer,_t=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],At=new Array(160);function qt(){this.init(),this._w=At,lt.call(this,128,112)}ut(qt,lt),qt.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Zt(wl,ep,Al){return Al^wl&(ep^Al)}function cr(wl,ep,Al){return wl&ep|Al&(wl|ep)}function Gr(wl,ep){return(wl>>>28|ep<<4)^(ep>>>2|wl<<30)^(ep>>>7|wl<<25)}function Zr(wl,ep){return(wl>>>14|ep<<18)^(wl>>>18|ep<<14)^(ep>>>9|wl<<23)}function xn(wl,ep){return(wl>>>1|ep<<31)^(wl>>>8|ep<<24)^wl>>>7}function On(wl,ep){return(wl>>>1|ep<<31)^(wl>>>8|ep<<24)^(wl>>>7|ep<<25)}function ss(wl,ep){return(wl>>>19|ep<<13)^(ep>>>29|wl<<3)^wl>>>6}function ls(wl,ep){return(wl>>>19|ep<<13)^(ep>>>29|wl<<3)^(wl>>>6|ep<<26)}function cs(wl,ep){return wl>>>0<ep>>>0?1:0}return qt.prototype._update=function(wl){for(var ep=this._w,Al=this._ah|0,np=this._bh|0,cp=this._ch|0,Cp=this._dh|0,Lp=this._eh|0,jp=this._fh|0,nm=this._gh|0,zm=this._hh|0,i1=this._al|0,d3=this._bl|0,op=this._cl|0,Sn=this._dl|0,Fo=this._el|0,as=this._fl|0,us=this._gl|0,xl=this._hl|0,ip=0;ip<32;ip+=2)ep[ip]=wl.readInt32BE(ip*4),ep[ip+1]=wl.readInt32BE(ip*4+4);for(;ip<160;ip+=2){var lp=ep[ip-30],pu=ep[ip-15*2+1],go=xn(lp,pu),h0=On(pu,lp);lp=ep[ip-2*2],pu=ep[ip-2*2+1];var kp=ss(lp,pu),cm=ls(pu,lp),b3=ep[ip-7*2],L_=ep[ip-7*2+1],Ym=ep[ip-16*2],Xm=ep[ip-16*2+1],Jm=h0+L_|0,$_=go+b3+cs(Jm,h0)|0;Jm=Jm+cm|0,$_=$_+kp+cs(Jm,cm)|0,Jm=Jm+Xm|0,$_=$_+Ym+cs(Jm,Xm)|0,ep[ip]=$_,ep[ip+1]=Jm}for(var j_=0;j_<160;j_+=2){$_=ep[j_],Jm=ep[j_+1];var h3=cr(Al,np,cp),Fp=cr(i1,d3,op),W_=Gr(Al,i1),t4=Gr(i1,Al),Nw=Zr(Lp,Fo),Dp=Zr(Fo,Lp),a1=_t[j_],zp=_t[j_+1],v3=Zt(Lp,jp,nm),Mw=Zt(Fo,as,us),nw=xl+Dp|0,n4=zm+Nw+cs(nw,xl)|0;nw=nw+Mw|0,n4=n4+v3+cs(nw,Mw)|0,nw=nw+zp|0,n4=n4+a1+cs(nw,zp)|0,nw=nw+Jm|0,n4=n4+$_+cs(nw,Jm)|0;var Ww=t4+Fp|0,F_=W_+h3+cs(Ww,t4)|0;zm=nm,xl=us,nm=jp,us=as,jp=Lp,as=Fo,Fo=Sn+nw|0,Lp=Cp+n4+cs(Fo,Sn)|0,Cp=cp,Sn=op,cp=np,op=d3,np=Al,d3=i1,i1=nw+Ww|0,Al=n4+F_+cs(i1,nw)|0}this._al=this._al+i1|0,this._bl=this._bl+d3|0,this._cl=this._cl+op|0,this._dl=this._dl+Sn|0,this._el=this._el+Fo|0,this._fl=this._fl+as|0,this._gl=this._gl+us|0,this._hl=this._hl+xl|0,this._ah=this._ah+Al+cs(this._al,i1)|0,this._bh=this._bh+np+cs(this._bl,d3)|0,this._ch=this._ch+cp+cs(this._cl,op)|0,this._dh=this._dh+Cp+cs(this._dl,Sn)|0,this._eh=this._eh+Lp+cs(this._el,Fo)|0,this._fh=this._fh+jp+cs(this._fl,as)|0,this._gh=this._gh+nm+cs(this._gl,us)|0,this._hh=this._hh+zm+cs(this._hl,xl)|0},qt.prototype._hash=function(){var wl=ht.allocUnsafe(64);function ep(Al,np,cp){wl.writeInt32BE(Al,cp),wl.writeInt32BE(np,cp+4)}return ep(this._ah,this._al,0),ep(this._bh,this._bl,8),ep(this._ch,this._cl,16),ep(this._dh,this._dl,24),ep(this._eh,this._el,32),ep(this._fh,this._fl,40),ep(this._gh,this._gl,48),ep(this._hh,this._hl,56),wl},sha512$1=qt,sha512$1}var sha384$1,hasRequiredSha384;function requireSha384(){if(hasRequiredSha384)return sha384$1;hasRequiredSha384=1;var ut=requireInherits_browser(),lt=requireSha512(),ht=requireHash$1(),_t=requireSafeBuffer$1().Buffer,At=new Array(160);function qt(){this.init(),this._w=At,ht.call(this,128,112)}return ut(qt,lt),qt.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},qt.prototype._hash=function(){var Zt=_t.allocUnsafe(48);function cr(Gr,Zr,xn){Zt.writeInt32BE(Gr,xn),Zt.writeInt32BE(Zr,xn+4)}return cr(this._ah,this._al,0),cr(this._bh,this._bl,8),cr(this._ch,this._cl,16),cr(this._dh,this._dl,24),cr(this._eh,this._el,32),cr(this._fh,this._fl,40),Zt},sha384$1=qt,sha384$1}var hasRequiredSha_js;function requireSha_js(){if(hasRequiredSha_js)return sha_js.exports;hasRequiredSha_js=1;var ut=sha_js.exports=function(ht){ht=ht.toLowerCase();var _t=ut[ht];if(!_t)throw new Error(ht+" is not supported (we accept pull requests)");return new _t};return ut.sha=requireSha$1(),ut.sha1=requireSha1(),ut.sha224=requireSha224(),ut.sha256=requireSha256(),ut.sha384=requireSha384(),ut.sha512=requireSha512(),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var ut=requireSafeBuffer$1().Buffer,lt=requireStreamBrowserify().Transform,ht=requireString_decoder().StringDecoder,_t=requireInherits_browser();function At(Gr){lt.call(this),this.hashMode=typeof Gr=="string",this.hashMode?this[Gr]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}_t(At,lt);var qt=typeof Uint8Array<"u",Zt=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(ut.prototype instanceof Uint8Array||ut.TYPED_ARRAY_SUPPORT);function cr(Gr,Zr){if(Gr instanceof ut)return Gr;if(typeof Gr=="string")return ut.from(Gr,Zr);if(Zt&&ArrayBuffer.isView(Gr)){if(Gr.byteLength===0)return ut.alloc(0);var xn=ut.from(Gr.buffer,Gr.byteOffset,Gr.byteLength);if(xn.byteLength===Gr.byteLength)return xn}if(qt&&Gr instanceof Uint8Array||ut.isBuffer(Gr)&&Gr.constructor&&typeof Gr.constructor.isBuffer=="function"&&Gr.constructor.isBuffer(Gr))return ut.from(Gr);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return At.prototype.update=function(Gr,Zr,xn){var On=cr(Gr,Zr),ss=this._update(On);return this.hashMode?this:(xn&&(ss=this._toString(ss,xn)),ss)},At.prototype.setAutoPadding=function(){},At.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},At.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},At.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},At.prototype._transform=function(Gr,Zr,xn){var On;try{this.hashMode?this._update(Gr):this.push(this._update(Gr))}catch(ss){On=ss}finally{xn(On)}},At.prototype._flush=function(Gr){var Zr;try{this.push(this.__final())}catch(xn){Zr=xn}Gr(Zr)},At.prototype._finalOrDigest=function(Gr){var Zr=this.__final()||ut.alloc(0);return Gr&&(Zr=this._toString(Zr,Gr,!0)),Zr},At.prototype._toString=function(Gr,Zr,xn){if(this._decoder||(this._decoder=new ht(Zr),this._encoding=Zr),this._encoding!==Zr)throw new Error("cant switch encodings");var On=this._decoder.write(Gr);return xn&&(On+=this._decoder.end()),On},cipherBase=At,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var ut=requireInherits_browser(),lt=requireMd5_js(),ht=requireRipemd160(),_t=requireSha_js(),At=requireCipherBase();function qt(Zt){At.call(this,"digest"),this._hash=Zt}return ut(qt,At),qt.prototype._update=function(Zt){this._hash.update(Zt)},qt.prototype._final=function(){return this._hash.digest()},browser$9=function(cr){return cr=cr.toLowerCase(),cr==="md5"?new lt:cr==="rmd160"||cr==="ripemd160"?new ht:new qt(_t(cr))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var ut=requireInherits_browser(),lt=requireSafeBuffer$1().Buffer,ht=requireCipherBase(),_t=lt.alloc(128),At=64;function qt(Zt,cr){ht.call(this,"digest"),typeof cr=="string"&&(cr=lt.from(cr)),this._alg=Zt,this._key=cr,cr.length>At?cr=Zt(cr):cr.length<At&&(cr=lt.concat([cr,_t],At));for(var Gr=this._ipad=lt.allocUnsafe(At),Zr=this._opad=lt.allocUnsafe(At),xn=0;xn<At;xn++)Gr[xn]=cr[xn]^54,Zr[xn]=cr[xn]^92;this._hash=[Gr]}return ut(qt,ht),qt.prototype._update=function(Zt){this._hash.push(Zt)},qt.prototype._final=function(){var Zt=this._alg(lt.concat(this._hash));return this._alg(lt.concat([this._opad,Zt]))},legacy=qt,legacy}var md5,hasRequiredMd5;function requireMd5(){if(hasRequiredMd5)return md5;hasRequiredMd5=1;var ut=requireMd5_js();return md5=function(lt){return new ut().update(lt).digest()},md5}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var ut=requireInherits_browser(),lt=requireLegacy(),ht=requireCipherBase(),_t=requireSafeBuffer$1().Buffer,At=requireMd5(),qt=requireRipemd160(),Zt=requireSha_js(),cr=_t.alloc(128);function Gr(Zr,xn){ht.call(this,"digest"),typeof xn=="string"&&(xn=_t.from(xn));var On=Zr==="sha512"||Zr==="sha384"?128:64;if(this._alg=Zr,this._key=xn,xn.length>On){var ss=Zr==="rmd160"?new qt:Zt(Zr);xn=ss.update(xn).digest()}else xn.length<On&&(xn=_t.concat([xn,cr],On));for(var ls=this._ipad=_t.allocUnsafe(On),cs=this._opad=_t.allocUnsafe(On),wl=0;wl<On;wl++)ls[wl]=xn[wl]^54,cs[wl]=xn[wl]^92;this._hash=Zr==="rmd160"?new qt:Zt(Zr),this._hash.update(ls)}return ut(Gr,ht),Gr.prototype._update=function(Zr){this._hash.update(Zr)},Gr.prototype._final=function(){var Zr=this._hash.digest(),xn=this._alg==="rmd160"?new qt:Zt(this._alg);return xn.update(this._opad).update(Zr).digest()},browser$8=function(xn,On){return xn=xn.toLowerCase(),xn==="rmd160"||xn==="ripemd160"?new Gr("rmd160",On):xn==="md5"?new lt(At,On):new Gr(xn,On)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256={sign:"ecdsa",hash:"sha256",id:""},sha224={sign:"ecdsa",hash:"sha224",id:""},sha384={sign:"ecdsa",hash:"sha384",id:""},sha512={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256,sha224,sha384,sha512,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var ut=Math.pow(2,30)-1;return precondition=function(lt,ht){if(typeof lt!="number")throw new TypeError("Iterations not a number");if(lt<0)throw new TypeError("Bad iterations");if(typeof ht!="number")throw new TypeError("Key length not a number");if(ht<0||ht>ut||ht!==ht)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var ut;if(commonjsGlobal.process&&commonjsGlobal.process.browser)ut="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var lt=parseInt(api$2.version.split(".")[0].slice(1),10);ut=lt>=6?"utf-8":"binary"}else ut="utf-8";return defaultEncoding_1=ut,defaultEncoding_1}var toBuffer,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer;hasRequiredToBuffer=1;var ut=requireSafeBuffer$1().Buffer;return toBuffer=function(lt,ht,_t){if(ut.isBuffer(lt))return lt;if(typeof lt=="string")return ut.from(lt,ht);if(ArrayBuffer.isView(lt))return ut.from(lt.buffer);throw new TypeError(_t+" must be a string, a Buffer, a typed array or a DataView")},toBuffer}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var ut=requireMd5(),lt=requireRipemd160(),ht=requireSha_js(),_t=requireSafeBuffer$1().Buffer,At=requirePrecondition(),qt=requireDefaultEncoding(),Zt=requireToBuffer(),cr=_t.alloc(128),Gr={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Zr(ss,ls,cs){var wl=xn(ss),ep=ss==="sha512"||ss==="sha384"?128:64;ls.length>ep?ls=wl(ls):ls.length<ep&&(ls=_t.concat([ls,cr],ep));for(var Al=_t.allocUnsafe(ep+Gr[ss]),np=_t.allocUnsafe(ep+Gr[ss]),cp=0;cp<ep;cp++)Al[cp]=ls[cp]^54,np[cp]=ls[cp]^92;var Cp=_t.allocUnsafe(ep+cs+4);Al.copy(Cp,0,0,ep),this.ipad1=Cp,this.ipad2=Al,this.opad=np,this.alg=ss,this.blocksize=ep,this.hash=wl,this.size=Gr[ss]}Zr.prototype.run=function(ss,ls){ss.copy(ls,this.blocksize);var cs=this.hash(ls);return cs.copy(this.opad,this.blocksize),this.hash(this.opad)};function xn(ss){function ls(wl){return ht(ss).update(wl).digest()}function cs(wl){return new lt().update(wl).digest()}return ss==="rmd160"||ss==="ripemd160"?cs:ss==="md5"?ut:ls}function On(ss,ls,cs,wl,ep){At(cs,wl),ss=Zt(ss,qt,"Password"),ls=Zt(ls,qt,"Salt"),ep=ep||"sha1";var Al=new Zr(ep,ss,ls.length),np=_t.allocUnsafe(wl),cp=_t.allocUnsafe(ls.length+4);ls.copy(cp,0,0,ls.length);for(var Cp=0,Lp=Gr[ep],jp=Math.ceil(wl/Lp),nm=1;nm<=jp;nm++){cp.writeUInt32BE(nm,ls.length);for(var zm=Al.run(cp,Al.ipad1),i1=zm,d3=1;d3<cs;d3++){i1=Al.run(i1,Al.ipad2);for(var op=0;op<Lp;op++)zm[op]^=i1[op]}zm.copy(np,Cp),Cp+=Lp}return np}return syncBrowser=On,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var ut=requireSafeBuffer$1().Buffer,lt=requirePrecondition(),ht=requireDefaultEncoding(),_t=requireSyncBrowser(),At=requireToBuffer(),qt,Zt=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,cr={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Gr=[];function Zr(cs){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!Zt||!Zt.importKey||!Zt.deriveBits)return Promise.resolve(!1);if(Gr[cs]!==void 0)return Gr[cs];qt=qt||ut.alloc(8);var wl=ss(qt,qt,10,128,cs).then(function(){return!0}).catch(function(){return!1});return Gr[cs]=wl,wl}var xn;function On(){return xn||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?xn=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?xn=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?xn=commonjsGlobal.setImmediate:xn=commonjsGlobal.setTimeout,xn)}function ss(cs,wl,ep,Al,np){return Zt.importKey("raw",cs,{name:"PBKDF2"},!1,["deriveBits"]).then(function(cp){return Zt.deriveBits({name:"PBKDF2",salt:wl,iterations:ep,hash:{name:np}},cp,Al<<3)}).then(function(cp){return ut.from(cp)})}function ls(cs,wl){cs.then(function(ep){On()(function(){wl(null,ep)})},function(ep){On()(function(){wl(ep)})})}return async=function(cs,wl,ep,Al,np,cp){typeof np=="function"&&(cp=np,np=void 0),np=np||"sha1";var Cp=cr[np.toLowerCase()];if(!Cp||typeof commonjsGlobal.Promise!="function"){On()(function(){var Lp;try{Lp=_t(cs,wl,ep,Al,np)}catch(jp){return cp(jp)}cp(null,Lp)});return}if(lt(ep,Al),cs=At(cs,ht,"Password"),wl=At(wl,ht,"Salt"),typeof cp!="function")throw new Error("No callback provided to pbkdf2");ls(Zr(Cp).then(function(Lp){return Lp?ss(cs,wl,ep,Al,Cp):_t(cs,wl,ep,Al,np)}),cp)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$5={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$5;hasRequiredUtils$3=1,utils$5.readUInt32BE=function(At,qt){var Zt=At[0+qt]<<24|At[1+qt]<<16|At[2+qt]<<8|At[3+qt];return Zt>>>0},utils$5.writeUInt32BE=function(At,qt,Zt){At[0+Zt]=qt>>>24,At[1+Zt]=qt>>>16&255,At[2+Zt]=qt>>>8&255,At[3+Zt]=qt&255},utils$5.ip=function(At,qt,Zt,cr){for(var Gr=0,Zr=0,xn=6;xn>=0;xn-=2){for(var On=0;On<=24;On+=8)Gr<<=1,Gr|=qt>>>On+xn&1;for(var On=0;On<=24;On+=8)Gr<<=1,Gr|=At>>>On+xn&1}for(var xn=6;xn>=0;xn-=2){for(var On=1;On<=25;On+=8)Zr<<=1,Zr|=qt>>>On+xn&1;for(var On=1;On<=25;On+=8)Zr<<=1,Zr|=At>>>On+xn&1}Zt[cr+0]=Gr>>>0,Zt[cr+1]=Zr>>>0},utils$5.rip=function(At,qt,Zt,cr){for(var Gr=0,Zr=0,xn=0;xn<4;xn++)for(var On=24;On>=0;On-=8)Gr<<=1,Gr|=qt>>>On+xn&1,Gr<<=1,Gr|=At>>>On+xn&1;for(var xn=4;xn<8;xn++)for(var On=24;On>=0;On-=8)Zr<<=1,Zr|=qt>>>On+xn&1,Zr<<=1,Zr|=At>>>On+xn&1;Zt[cr+0]=Gr>>>0,Zt[cr+1]=Zr>>>0},utils$5.pc1=function(At,qt,Zt,cr){for(var Gr=0,Zr=0,xn=7;xn>=5;xn--){for(var On=0;On<=24;On+=8)Gr<<=1,Gr|=qt>>On+xn&1;for(var On=0;On<=24;On+=8)Gr<<=1,Gr|=At>>On+xn&1}for(var On=0;On<=24;On+=8)Gr<<=1,Gr|=qt>>On+xn&1;for(var xn=1;xn<=3;xn++){for(var On=0;On<=24;On+=8)Zr<<=1,Zr|=qt>>On+xn&1;for(var On=0;On<=24;On+=8)Zr<<=1,Zr|=At>>On+xn&1}for(var On=0;On<=24;On+=8)Zr<<=1,Zr|=At>>On+xn&1;Zt[cr+0]=Gr>>>0,Zt[cr+1]=Zr>>>0},utils$5.r28shl=function(At,qt){return At<<qt&268435455|At>>>28-qt};var ut=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$5.pc2=function(At,qt,Zt,cr){for(var Gr=0,Zr=0,xn=ut.length>>>1,On=0;On<xn;On++)Gr<<=1,Gr|=At>>>ut[On]&1;for(var On=xn;On<ut.length;On++)Zr<<=1,Zr|=qt>>>ut[On]&1;Zt[cr+0]=Gr>>>0,Zt[cr+1]=Zr>>>0},utils$5.expand=function(At,qt,Zt){var cr=0,Gr=0;cr=(At&1)<<5|At>>>27;for(var Zr=23;Zr>=15;Zr-=4)cr<<=6,cr|=At>>>Zr&63;for(var Zr=11;Zr>=3;Zr-=4)Gr|=At>>>Zr&63,Gr<<=6;Gr|=(At&31)<<1|At>>>31,qt[Zt+0]=cr>>>0,qt[Zt+1]=Gr>>>0};var lt=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$5.substitute=function(At,qt){for(var Zt=0,cr=0;cr<4;cr++){var Gr=At>>>18-cr*6&63,Zr=lt[cr*64+Gr];Zt<<=4,Zt|=Zr}for(var cr=0;cr<4;cr++){var Gr=qt>>>18-cr*6&63,Zr=lt[4*64+cr*64+Gr];Zt<<=4,Zt|=Zr}return Zt>>>0};var ht=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$5.permute=function(At){for(var qt=0,Zt=0;Zt<ht.length;Zt++)qt<<=1,qt|=At>>>ht[Zt]&1;return qt>>>0},utils$5.padSplit=function(At,qt,Zt){for(var cr=At.toString(2);cr.length<qt;)cr="0"+cr;for(var Gr=[],Zr=0;Zr<qt;Zr+=Zt)Gr.push(cr.slice(Zr,Zr+Zt));return Gr.join(" ")},utils$5}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=ut;function ut(lt,ht){if(!lt)throw new Error(ht||"Assertion failed")}return ut.equal=function(ht,_t,At){if(ht!=_t)throw new Error(At||"Assertion failed: "+ht+" != "+_t)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var ut=requireMinimalisticAssert();function lt(ht){this.options=ht,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=ht.padding!==!1}return cipher=lt,lt.prototype._init=function(){},lt.prototype.update=function(_t){return _t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(_t):this._updateEncrypt(_t)},lt.prototype._buffer=function(_t,At){for(var qt=Math.min(this.buffer.length-this.bufferOff,_t.length-At),Zt=0;Zt<qt;Zt++)this.buffer[this.bufferOff+Zt]=_t[At+Zt];return this.bufferOff+=qt,qt},lt.prototype._flushBuffer=function(_t,At){return this._update(this.buffer,0,_t,At),this.bufferOff=0,this.blockSize},lt.prototype._updateEncrypt=function(_t){var At=0,qt=0,Zt=(this.bufferOff+_t.length)/this.blockSize|0,cr=new Array(Zt*this.blockSize);this.bufferOff!==0&&(At+=this._buffer(_t,At),this.bufferOff===this.buffer.length&&(qt+=this._flushBuffer(cr,qt)));for(var Gr=_t.length-(_t.length-At)%this.blockSize;At<Gr;At+=this.blockSize)this._update(_t,At,cr,qt),qt+=this.blockSize;for(;At<_t.length;At++,this.bufferOff++)this.buffer[this.bufferOff]=_t[At];return cr},lt.prototype._updateDecrypt=function(_t){for(var At=0,qt=0,Zt=Math.ceil((this.bufferOff+_t.length)/this.blockSize)-1,cr=new Array(Zt*this.blockSize);Zt>0;Zt--)At+=this._buffer(_t,At),qt+=this._flushBuffer(cr,qt);return At+=this._buffer(_t,At),cr},lt.prototype.final=function(_t){var At;_t&&(At=this.update(_t));var qt;return this.type==="encrypt"?qt=this._finalEncrypt():qt=this._finalDecrypt(),At?At.concat(qt):qt},lt.prototype._pad=function(_t,At){if(At===0)return!1;for(;At<_t.length;)_t[At++]=0;return!0},lt.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var _t=new Array(this.blockSize);return this._update(this.buffer,0,_t,0),_t},lt.prototype._unpad=function(_t){return _t},lt.prototype._finalDecrypt=function(){ut.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var _t=new Array(this.blockSize);return this._flushBuffer(_t,0),this._unpad(_t)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var ut=requireMinimalisticAssert(),lt=requireInherits_browser(),ht=requireUtils$3(),_t=requireCipher();function At(){this.tmp=new Array(2),this.keys=null}function qt(cr){_t.call(this,cr);var Gr=new At;this._desState=Gr,this.deriveKeys(Gr,cr.key)}lt(qt,_t),des=qt,qt.create=function(Gr){return new qt(Gr)};var Zt=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return qt.prototype.deriveKeys=function(Gr,Zr){Gr.keys=new Array(16*2),ut.equal(Zr.length,this.blockSize,"Invalid key length");var xn=ht.readUInt32BE(Zr,0),On=ht.readUInt32BE(Zr,4);ht.pc1(xn,On,Gr.tmp,0),xn=Gr.tmp[0],On=Gr.tmp[1];for(var ss=0;ss<Gr.keys.length;ss+=2){var ls=Zt[ss>>>1];xn=ht.r28shl(xn,ls),On=ht.r28shl(On,ls),ht.pc2(xn,On,Gr.keys,ss)}},qt.prototype._update=function(Gr,Zr,xn,On){var ss=this._desState,ls=ht.readUInt32BE(Gr,Zr),cs=ht.readUInt32BE(Gr,Zr+4);ht.ip(ls,cs,ss.tmp,0),ls=ss.tmp[0],cs=ss.tmp[1],this.type==="encrypt"?this._encrypt(ss,ls,cs,ss.tmp,0):this._decrypt(ss,ls,cs,ss.tmp,0),ls=ss.tmp[0],cs=ss.tmp[1],ht.writeUInt32BE(xn,ls,On),ht.writeUInt32BE(xn,cs,On+4)},qt.prototype._pad=function(Gr,Zr){if(this.padding===!1)return!1;for(var xn=Gr.length-Zr,On=Zr;On<Gr.length;On++)Gr[On]=xn;return!0},qt.prototype._unpad=function(Gr){if(this.padding===!1)return Gr;for(var Zr=Gr[Gr.length-1],xn=Gr.length-Zr;xn<Gr.length;xn++)ut.equal(Gr[xn],Zr);return Gr.slice(0,Gr.length-Zr)},qt.prototype._encrypt=function(Gr,Zr,xn,On,ss){for(var ls=Zr,cs=xn,wl=0;wl<Gr.keys.length;wl+=2){var ep=Gr.keys[wl],Al=Gr.keys[wl+1];ht.expand(cs,Gr.tmp,0),ep^=Gr.tmp[0],Al^=Gr.tmp[1];var np=ht.substitute(ep,Al),cp=ht.permute(np),Cp=cs;cs=(ls^cp)>>>0,ls=Cp}ht.rip(cs,ls,On,ss)},qt.prototype._decrypt=function(Gr,Zr,xn,On,ss){for(var ls=xn,cs=Zr,wl=Gr.keys.length-2;wl>=0;wl-=2){var ep=Gr.keys[wl],Al=Gr.keys[wl+1];ht.expand(ls,Gr.tmp,0),ep^=Gr.tmp[0],Al^=Gr.tmp[1];var np=ht.substitute(ep,Al),cp=ht.permute(np),Cp=ls;ls=(cs^cp)>>>0,cs=Cp}ht.rip(ls,cs,On,ss)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var ut=requireMinimalisticAssert(),lt=requireInherits_browser(),ht={};function _t(qt){ut.equal(qt.length,8,"Invalid IV length"),this.iv=new Array(8);for(var Zt=0;Zt<this.iv.length;Zt++)this.iv[Zt]=qt[Zt]}function At(qt){function Zt(xn){qt.call(this,xn),this._cbcInit()}lt(Zt,qt);for(var cr=Object.keys(ht),Gr=0;Gr<cr.length;Gr++){var Zr=cr[Gr];Zt.prototype[Zr]=ht[Zr]}return Zt.create=function(On){return new Zt(On)},Zt}return cbc$1.instantiate=At,ht._cbcInit=function(){var Zt=new _t(this.options.iv);this._cbcState=Zt},ht._update=function(Zt,cr,Gr,Zr){var xn=this._cbcState,On=this.constructor.super_.prototype,ss=xn.iv;if(this.type==="encrypt"){for(var ls=0;ls<this.blockSize;ls++)ss[ls]^=Zt[cr+ls];On._update.call(this,ss,0,Gr,Zr);for(var ls=0;ls<this.blockSize;ls++)ss[ls]=Gr[Zr+ls]}else{On._update.call(this,Zt,cr,Gr,Zr);for(var ls=0;ls<this.blockSize;ls++)Gr[Zr+ls]^=ss[ls];for(var ls=0;ls<this.blockSize;ls++)ss[ls]=Zt[cr+ls]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var ut=requireMinimalisticAssert(),lt=requireInherits_browser(),ht=requireCipher(),_t=requireDes$1();function At(Zt,cr){ut.equal(cr.length,24,"Invalid key length");var Gr=cr.slice(0,8),Zr=cr.slice(8,16),xn=cr.slice(16,24);Zt==="encrypt"?this.ciphers=[_t.create({type:"encrypt",key:Gr}),_t.create({type:"decrypt",key:Zr}),_t.create({type:"encrypt",key:xn})]:this.ciphers=[_t.create({type:"decrypt",key:xn}),_t.create({type:"encrypt",key:Zr}),_t.create({type:"decrypt",key:Gr})]}function qt(Zt){ht.call(this,Zt);var cr=new At(this.type,this.options.key);this._edeState=cr}return lt(qt,ht),ede=qt,qt.create=function(cr){return new qt(cr)},qt.prototype._update=function(cr,Gr,Zr,xn){var On=this._edeState;On.ciphers[0]._update(cr,Gr,Zr,xn),On.ciphers[1]._update(Zr,xn,Zr,xn),On.ciphers[2]._update(Zr,xn,Zr,xn)},qt.prototype._pad=_t.prototype._pad,qt.prototype._unpad=_t.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var ut=requireCipherBase(),lt=requireDes(),ht=requireInherits_browser(),_t=requireSafeBuffer$1().Buffer,At={"des-ede3-cbc":lt.CBC.instantiate(lt.EDE),"des-ede3":lt.EDE,"des-ede-cbc":lt.CBC.instantiate(lt.EDE),"des-ede":lt.EDE,"des-cbc":lt.CBC.instantiate(lt.DES),"des-ecb":lt.DES};At.des=At["des-cbc"],At.des3=At["des-ede3-cbc"],browserifyDes=qt,ht(qt,ut);function qt(Zt){ut.call(this);var cr=Zt.mode.toLowerCase(),Gr=At[cr],Zr;Zt.decrypt?Zr="decrypt":Zr="encrypt";var xn=Zt.key;_t.isBuffer(xn)||(xn=_t.from(xn)),(cr==="des-ede"||cr==="des-ede-cbc")&&(xn=_t.concat([xn,xn.slice(0,8)]));var On=Zt.iv;_t.isBuffer(On)||(On=_t.from(On)),this._des=Gr.create({key:xn,iv:On,type:Zr})}return qt.prototype._update=function(Zt){return _t.from(this._des.update(Zt))},qt.prototype._final=function(){return _t.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(ut,lt){return ut._cipher.encryptBlock(lt)},ecb.decrypt=function(ut,lt){return ut._cipher.decryptBlock(lt)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(lt,ht){for(var _t=Math.min(lt.length,ht.length),At=new buffer$1.Buffer(_t),qt=0;qt<_t;++qt)At[qt]=lt[qt]^ht[qt];return At}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var ut=requireBufferXor();return cbc.encrypt=function(lt,ht){var _t=ut(ht,lt._prev);return lt._prev=lt._cipher.encryptBlock(_t),lt._prev},cbc.decrypt=function(lt,ht){var _t=lt._prev;lt._prev=ht;var At=lt._cipher.decryptBlock(ht);return ut(At,_t)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var ut=requireSafeBuffer$1().Buffer,lt=requireBufferXor();function ht(_t,At,qt){var Zt=At.length,cr=lt(At,_t._cache);return _t._cache=_t._cache.slice(Zt),_t._prev=ut.concat([_t._prev,qt?At:cr]),cr}return cfb.encrypt=function(_t,At,qt){for(var Zt=ut.allocUnsafe(0),cr;At.length;)if(_t._cache.length===0&&(_t._cache=_t._cipher.encryptBlock(_t._prev),_t._prev=ut.allocUnsafe(0)),_t._cache.length<=At.length)cr=_t._cache.length,Zt=ut.concat([Zt,ht(_t,At.slice(0,cr),qt)]),At=At.slice(cr);else{Zt=ut.concat([Zt,ht(_t,At,qt)]);break}return Zt},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var ut=requireSafeBuffer$1().Buffer;function lt(ht,_t,At){var qt=ht._cipher.encryptBlock(ht._prev),Zt=qt[0]^_t;return ht._prev=ut.concat([ht._prev.slice(1),ut.from([At?_t:Zt])]),Zt}return cfb8.encrypt=function(ht,_t,At){for(var qt=_t.length,Zt=ut.allocUnsafe(qt),cr=-1;++cr<qt;)Zt[cr]=lt(ht,_t[cr],At);return Zt},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var ut=requireSafeBuffer$1().Buffer;function lt(_t,At,qt){for(var Zt,cr=-1,Gr=8,Zr=0,xn,On;++cr<Gr;)Zt=_t._cipher.encryptBlock(_t._prev),xn=At&1<<7-cr?128:0,On=Zt[0]^xn,Zr+=(On&128)>>cr%8,_t._prev=ht(_t._prev,qt?xn:On);return Zr}function ht(_t,At){var qt=_t.length,Zt=-1,cr=ut.allocUnsafe(_t.length);for(_t=ut.concat([_t,ut.from([At])]);++Zt<qt;)cr[Zt]=_t[Zt]<<1|_t[Zt+1]>>7;return cr}return cfb1.encrypt=function(_t,At,qt){for(var Zt=At.length,cr=ut.allocUnsafe(Zt),Gr=-1;++Gr<Zt;)cr[Gr]=lt(_t,At[Gr],qt);return cr},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var ut=requireBufferXor();function lt(ht){return ht._prev=ht._cipher.encryptBlock(ht._prev),ht._prev}return ofb.encrypt=function(ht,_t){for(;ht._cache.length<_t.length;)ht._cache=buffer$1.Buffer.concat([ht._cache,lt(ht)]);var At=ht._cache.slice(0,_t.length);return ht._cache=ht._cache.slice(_t.length),ut(_t,At)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function ut(lt){for(var ht=lt.length,_t;ht--;)if(_t=lt.readUInt8(ht),_t===255)lt.writeUInt8(0,ht);else{_t++,lt.writeUInt8(_t,ht);break}}return incr32_1=ut,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var ut=requireBufferXor(),lt=requireSafeBuffer$1().Buffer,ht=requireIncr32();function _t(qt){var Zt=qt._cipher.encryptBlockRaw(qt._prev);return ht(qt._prev),Zt}var At=16;return ctr.encrypt=function(qt,Zt){var cr=Math.ceil(Zt.length/At),Gr=qt._cache.length;qt._cache=lt.concat([qt._cache,lt.allocUnsafe(cr*At)]);for(var Zr=0;Zr<cr;Zr++){var xn=_t(qt),On=Gr+Zr*At;qt._cache.writeUInt32BE(xn[0],On+0),qt._cache.writeUInt32BE(xn[1],On+4),qt._cache.writeUInt32BE(xn[2],On+8),qt._cache.writeUInt32BE(xn[3],On+12)}var ss=qt._cache.slice(0,Zt.length);return qt._cache=qt._cache.slice(Zt.length),ut(Zt,ss)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var ut={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},lt=require$$2;for(var ht in lt)lt[ht].module=ut[lt[ht].mode];return modes_1=lt,modes_1}var aes={},hasRequiredAes;function requireAes(){if(hasRequiredAes)return aes;hasRequiredAes=1;var ut=requireSafeBuffer$1().Buffer;function lt(cr){ut.isBuffer(cr)||(cr=ut.from(cr));for(var Gr=cr.length/4|0,Zr=new Array(Gr),xn=0;xn<Gr;xn++)Zr[xn]=cr.readUInt32BE(xn*4);return Zr}function ht(cr){for(var Gr=0;Gr<cr.length;cr++)cr[Gr]=0}function _t(cr,Gr,Zr,xn,On){for(var ss=Zr[0],ls=Zr[1],cs=Zr[2],wl=Zr[3],ep=cr[0]^Gr[0],Al=cr[1]^Gr[1],np=cr[2]^Gr[2],cp=cr[3]^Gr[3],Cp,Lp,jp,nm,zm=4,i1=1;i1<On;i1++)Cp=ss[ep>>>24]^ls[Al>>>16&255]^cs[np>>>8&255]^wl[cp&255]^Gr[zm++],Lp=ss[Al>>>24]^ls[np>>>16&255]^cs[cp>>>8&255]^wl[ep&255]^Gr[zm++],jp=ss[np>>>24]^ls[cp>>>16&255]^cs[ep>>>8&255]^wl[Al&255]^Gr[zm++],nm=ss[cp>>>24]^ls[ep>>>16&255]^cs[Al>>>8&255]^wl[np&255]^Gr[zm++],ep=Cp,Al=Lp,np=jp,cp=nm;return Cp=(xn[ep>>>24]<<24|xn[Al>>>16&255]<<16|xn[np>>>8&255]<<8|xn[cp&255])^Gr[zm++],Lp=(xn[Al>>>24]<<24|xn[np>>>16&255]<<16|xn[cp>>>8&255]<<8|xn[ep&255])^Gr[zm++],jp=(xn[np>>>24]<<24|xn[cp>>>16&255]<<16|xn[ep>>>8&255]<<8|xn[Al&255])^Gr[zm++],nm=(xn[cp>>>24]<<24|xn[ep>>>16&255]<<16|xn[Al>>>8&255]<<8|xn[np&255])^Gr[zm++],Cp=Cp>>>0,Lp=Lp>>>0,jp=jp>>>0,nm=nm>>>0,[Cp,Lp,jp,nm]}var At=[0,1,2,4,8,16,32,64,128,27,54],qt=function(){for(var cr=new Array(256),Gr=0;Gr<256;Gr++)Gr<128?cr[Gr]=Gr<<1:cr[Gr]=Gr<<1^283;for(var Zr=[],xn=[],On=[[],[],[],[]],ss=[[],[],[],[]],ls=0,cs=0,wl=0;wl<256;++wl){var ep=cs^cs<<1^cs<<2^cs<<3^cs<<4;ep=ep>>>8^ep&255^99,Zr[ls]=ep,xn[ep]=ls;var Al=cr[ls],np=cr[Al],cp=cr[np],Cp=cr[ep]*257^ep*16843008;On[0][ls]=Cp<<24|Cp>>>8,On[1][ls]=Cp<<16|Cp>>>16,On[2][ls]=Cp<<8|Cp>>>24,On[3][ls]=Cp,Cp=cp*16843009^np*65537^Al*257^ls*16843008,ss[0][ep]=Cp<<24|Cp>>>8,ss[1][ep]=Cp<<16|Cp>>>16,ss[2][ep]=Cp<<8|Cp>>>24,ss[3][ep]=Cp,ls===0?ls=cs=1:(ls=Al^cr[cr[cr[cp^Al]]],cs^=cr[cr[cs]])}return{SBOX:Zr,INV_SBOX:xn,SUB_MIX:On,INV_SUB_MIX:ss}}();function Zt(cr){this._key=lt(cr),this._reset()}return Zt.blockSize=4*4,Zt.keySize=256/8,Zt.prototype.blockSize=Zt.blockSize,Zt.prototype.keySize=Zt.keySize,Zt.prototype._reset=function(){for(var cr=this._key,Gr=cr.length,Zr=Gr+6,xn=(Zr+1)*4,On=[],ss=0;ss<Gr;ss++)On[ss]=cr[ss];for(ss=Gr;ss<xn;ss++){var ls=On[ss-1];ss%Gr===0?(ls=ls<<8|ls>>>24,ls=qt.SBOX[ls>>>24]<<24|qt.SBOX[ls>>>16&255]<<16|qt.SBOX[ls>>>8&255]<<8|qt.SBOX[ls&255],ls^=At[ss/Gr|0]<<24):Gr>6&&ss%Gr===4&&(ls=qt.SBOX[ls>>>24]<<24|qt.SBOX[ls>>>16&255]<<16|qt.SBOX[ls>>>8&255]<<8|qt.SBOX[ls&255]),On[ss]=On[ss-Gr]^ls}for(var cs=[],wl=0;wl<xn;wl++){var ep=xn-wl,Al=On[ep-(wl%4?0:4)];wl<4||ep<=4?cs[wl]=Al:cs[wl]=qt.INV_SUB_MIX[0][qt.SBOX[Al>>>24]]^qt.INV_SUB_MIX[1][qt.SBOX[Al>>>16&255]]^qt.INV_SUB_MIX[2][qt.SBOX[Al>>>8&255]]^qt.INV_SUB_MIX[3][qt.SBOX[Al&255]]}this._nRounds=Zr,this._keySchedule=On,this._invKeySchedule=cs},Zt.prototype.encryptBlockRaw=function(cr){return cr=lt(cr),_t(cr,this._keySchedule,qt.SUB_MIX,qt.SBOX,this._nRounds)},Zt.prototype.encryptBlock=function(cr){var Gr=this.encryptBlockRaw(cr),Zr=ut.allocUnsafe(16);return Zr.writeUInt32BE(Gr[0],0),Zr.writeUInt32BE(Gr[1],4),Zr.writeUInt32BE(Gr[2],8),Zr.writeUInt32BE(Gr[3],12),Zr},Zt.prototype.decryptBlock=function(cr){cr=lt(cr);var Gr=cr[1];cr[1]=cr[3],cr[3]=Gr;var Zr=_t(cr,this._invKeySchedule,qt.INV_SUB_MIX,qt.INV_SBOX,this._nRounds),xn=ut.allocUnsafe(16);return xn.writeUInt32BE(Zr[0],0),xn.writeUInt32BE(Zr[3],4),xn.writeUInt32BE(Zr[2],8),xn.writeUInt32BE(Zr[1],12),xn},Zt.prototype.scrub=function(){ht(this._keySchedule),ht(this._invKeySchedule),ht(this._key)},aes.AES=Zt,aes}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var ut=requireSafeBuffer$1().Buffer,lt=ut.alloc(16,0);function ht(qt){return[qt.readUInt32BE(0),qt.readUInt32BE(4),qt.readUInt32BE(8),qt.readUInt32BE(12)]}function _t(qt){var Zt=ut.allocUnsafe(16);return Zt.writeUInt32BE(qt[0]>>>0,0),Zt.writeUInt32BE(qt[1]>>>0,4),Zt.writeUInt32BE(qt[2]>>>0,8),Zt.writeUInt32BE(qt[3]>>>0,12),Zt}function At(qt){this.h=qt,this.state=ut.alloc(16,0),this.cache=ut.allocUnsafe(0)}return At.prototype.ghash=function(qt){for(var Zt=-1;++Zt<qt.length;)this.state[Zt]^=qt[Zt];this._multiply()},At.prototype._multiply=function(){for(var qt=ht(this.h),Zt=[0,0,0,0],cr,Gr,Zr,xn=-1;++xn<128;){for(Gr=(this.state[~~(xn/8)]&1<<7-xn%8)!==0,Gr&&(Zt[0]^=qt[0],Zt[1]^=qt[1],Zt[2]^=qt[2],Zt[3]^=qt[3]),Zr=(qt[3]&1)!==0,cr=3;cr>0;cr--)qt[cr]=qt[cr]>>>1|(qt[cr-1]&1)<<31;qt[0]=qt[0]>>>1,Zr&&(qt[0]=qt[0]^225<<24)}this.state=_t(Zt)},At.prototype.update=function(qt){this.cache=ut.concat([this.cache,qt]);for(var Zt;this.cache.length>=16;)Zt=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(Zt)},At.prototype.final=function(qt,Zt){return this.cache.length&&this.ghash(ut.concat([this.cache,lt],16)),this.ghash(_t([0,qt,0,Zt])),this.state},ghash=At,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var ut=requireAes(),lt=requireSafeBuffer$1().Buffer,ht=requireCipherBase(),_t=requireInherits_browser(),At=requireGhash(),qt=requireBufferXor(),Zt=requireIncr32();function cr(xn,On){var ss=0;xn.length!==On.length&&ss++;for(var ls=Math.min(xn.length,On.length),cs=0;cs<ls;++cs)ss+=xn[cs]^On[cs];return ss}function Gr(xn,On,ss){if(On.length===12)return xn._finID=lt.concat([On,lt.from([0,0,0,1])]),lt.concat([On,lt.from([0,0,0,2])]);var ls=new At(ss),cs=On.length,wl=cs%16;ls.update(On),wl&&(wl=16-wl,ls.update(lt.alloc(wl,0))),ls.update(lt.alloc(8,0));var ep=cs*8,Al=lt.alloc(8);Al.writeUIntBE(ep,0,8),ls.update(Al),xn._finID=ls.state;var np=lt.from(xn._finID);return Zt(np),np}function Zr(xn,On,ss,ls){ht.call(this);var cs=lt.alloc(4,0);this._cipher=new ut.AES(On);var wl=this._cipher.encryptBlock(cs);this._ghash=new At(wl),ss=Gr(this,ss,wl),this._prev=lt.from(ss),this._cache=lt.allocUnsafe(0),this._secCache=lt.allocUnsafe(0),this._decrypt=ls,this._alen=0,this._len=0,this._mode=xn,this._authTag=null,this._called=!1}return _t(Zr,ht),Zr.prototype._update=function(xn){if(!this._called&&this._alen){var On=16-this._alen%16;On<16&&(On=lt.alloc(On,0),this._ghash.update(On))}this._called=!0;var ss=this._mode.encrypt(this,xn);return this._decrypt?this._ghash.update(xn):this._ghash.update(ss),this._len+=xn.length,ss},Zr.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var xn=qt(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&cr(xn,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=xn,this._cipher.scrub()},Zr.prototype.getAuthTag=function(){if(this._decrypt||!lt.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},Zr.prototype.setAuthTag=function(On){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=On},Zr.prototype.setAAD=function(On){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(On),this._alen+=On.length},authCipher=Zr,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var ut=requireAes(),lt=requireSafeBuffer$1().Buffer,ht=requireCipherBase(),_t=requireInherits_browser();function At(qt,Zt,cr,Gr){ht.call(this),this._cipher=new ut.AES(Zt),this._prev=lt.from(cr),this._cache=lt.allocUnsafe(0),this._secCache=lt.allocUnsafe(0),this._decrypt=Gr,this._mode=qt}return _t(At,ht),At.prototype._update=function(qt){return this._mode.encrypt(this,qt,this._decrypt)},At.prototype._final=function(){this._cipher.scrub()},streamCipher=At,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var ut=requireSafeBuffer$1().Buffer,lt=requireMd5_js();function ht(_t,At,qt,Zt){if(ut.isBuffer(_t)||(_t=ut.from(_t,"binary")),At&&(ut.isBuffer(At)||(At=ut.from(At,"binary")),At.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var cr=qt/8,Gr=ut.alloc(cr),Zr=ut.alloc(Zt||0),xn=ut.alloc(0);cr>0||Zt>0;){var On=new lt;On.update(xn),On.update(_t),At&&On.update(At),xn=On.digest();var ss=0;if(cr>0){var ls=Gr.length-cr;ss=Math.min(cr,xn.length),xn.copy(Gr,ls,0,ss),cr-=ss}if(ss<xn.length&&Zt>0){var cs=Zr.length-Zt,wl=Math.min(Zt,xn.length-ss);xn.copy(Zr,cs,ss,ss+wl),Zt-=wl}}return xn.fill(0),{key:Gr,iv:Zr}}return evp_bytestokey=ht,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var ut=requireModes$1(),lt=requireAuthCipher(),ht=requireSafeBuffer$1().Buffer,_t=requireStreamCipher(),At=requireCipherBase(),qt=requireAes(),Zt=requireEvp_bytestokey(),cr=requireInherits_browser();function Gr(ls,cs,wl){At.call(this),this._cache=new xn,this._cipher=new qt.AES(cs),this._prev=ht.from(wl),this._mode=ls,this._autopadding=!0}cr(Gr,At),Gr.prototype._update=function(ls){this._cache.add(ls);for(var cs,wl,ep=[];cs=this._cache.get();)wl=this._mode.encrypt(this,cs),ep.push(wl);return ht.concat(ep)};var Zr=ht.alloc(16,16);Gr.prototype._final=function(){var ls=this._cache.flush();if(this._autopadding)return ls=this._mode.encrypt(this,ls),this._cipher.scrub(),ls;if(!ls.equals(Zr))throw this._cipher.scrub(),new Error("data not multiple of block length")},Gr.prototype.setAutoPadding=function(ls){return this._autopadding=!!ls,this};function xn(){this.cache=ht.allocUnsafe(0)}xn.prototype.add=function(ls){this.cache=ht.concat([this.cache,ls])},xn.prototype.get=function(){if(this.cache.length>15){var ls=this.cache.slice(0,16);return this.cache=this.cache.slice(16),ls}return null},xn.prototype.flush=function(){for(var ls=16-this.cache.length,cs=ht.allocUnsafe(ls),wl=-1;++wl<ls;)cs.writeUInt8(ls,wl);return ht.concat([this.cache,cs])};function On(ls,cs,wl){var ep=ut[ls.toLowerCase()];if(!ep)throw new TypeError("invalid suite type");if(typeof cs=="string"&&(cs=ht.from(cs)),cs.length!==ep.key/8)throw new TypeError("invalid key length "+cs.length);if(typeof wl=="string"&&(wl=ht.from(wl)),ep.mode!=="GCM"&&wl.length!==ep.iv)throw new TypeError("invalid iv length "+wl.length);return ep.type==="stream"?new _t(ep.module,cs,wl):ep.type==="auth"?new lt(ep.module,cs,wl):new Gr(ep.module,cs,wl)}function ss(ls,cs){var wl=ut[ls.toLowerCase()];if(!wl)throw new TypeError("invalid suite type");var ep=Zt(cs,!1,wl.key,wl.iv);return On(ls,ep.key,ep.iv)}return encrypter.createCipheriv=On,encrypter.createCipher=ss,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var ut=requireAuthCipher(),lt=requireSafeBuffer$1().Buffer,ht=requireModes$1(),_t=requireStreamCipher(),At=requireCipherBase(),qt=requireAes(),Zt=requireEvp_bytestokey(),cr=requireInherits_browser();function Gr(ls,cs,wl){At.call(this),this._cache=new Zr,this._last=void 0,this._cipher=new qt.AES(cs),this._prev=lt.from(wl),this._mode=ls,this._autopadding=!0}cr(Gr,At),Gr.prototype._update=function(ls){this._cache.add(ls);for(var cs,wl,ep=[];cs=this._cache.get(this._autopadding);)wl=this._mode.decrypt(this,cs),ep.push(wl);return lt.concat(ep)},Gr.prototype._final=function(){var ls=this._cache.flush();if(this._autopadding)return xn(this._mode.decrypt(this,ls));if(ls)throw new Error("data not multiple of block length")},Gr.prototype.setAutoPadding=function(ls){return this._autopadding=!!ls,this};function Zr(){this.cache=lt.allocUnsafe(0)}Zr.prototype.add=function(ls){this.cache=lt.concat([this.cache,ls])},Zr.prototype.get=function(ls){var cs;if(ls){if(this.cache.length>16)return cs=this.cache.slice(0,16),this.cache=this.cache.slice(16),cs}else if(this.cache.length>=16)return cs=this.cache.slice(0,16),this.cache=this.cache.slice(16),cs;return null},Zr.prototype.flush=function(){if(this.cache.length)return this.cache};function xn(ls){var cs=ls[15];if(cs<1||cs>16)throw new Error("unable to decrypt data");for(var wl=-1;++wl<cs;)if(ls[wl+(16-cs)]!==cs)throw new Error("unable to decrypt data");if(cs!==16)return ls.slice(0,16-cs)}function On(ls,cs,wl){var ep=ht[ls.toLowerCase()];if(!ep)throw new TypeError("invalid suite type");if(typeof wl=="string"&&(wl=lt.from(wl)),ep.mode!=="GCM"&&wl.length!==ep.iv)throw new TypeError("invalid iv length "+wl.length);if(typeof cs=="string"&&(cs=lt.from(cs)),cs.length!==ep.key/8)throw new TypeError("invalid key length "+cs.length);return ep.type==="stream"?new _t(ep.module,cs,wl,!0):ep.type==="auth"?new ut(ep.module,cs,wl,!0):new Gr(ep.module,cs,wl)}function ss(ls,cs){var wl=ht[ls.toLowerCase()];if(!wl)throw new TypeError("invalid suite type");var ep=Zt(cs,!1,wl.key,wl.iv);return On(ls,ep.key,ep.iv)}return decrypter.createDecipher=ss,decrypter.createDecipheriv=On,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var ut=requireEncrypter(),lt=requireDecrypter(),ht=require$$2;function _t(){return Object.keys(ht)}return browser$5.createCipher=browser$5.Cipher=ut.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=ut.createCipheriv,browser$5.createDecipher=browser$5.Decipher=lt.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=lt.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=_t,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,function(ut){ut["des-ecb"]={key:8,iv:0},ut["des-cbc"]=ut.des={key:8,iv:8},ut["des-ede3-cbc"]=ut.des3={key:24,iv:8},ut["des-ede3"]={key:24,iv:0},ut["des-ede-cbc"]={key:16,iv:8},ut["des-ede"]={key:16,iv:0}}(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var ut=requireBrowserifyDes(),lt=requireBrowser$6(),ht=requireModes$1(),_t=requireModes(),At=requireEvp_bytestokey();function qt(xn,On){xn=xn.toLowerCase();var ss,ls;if(ht[xn])ss=ht[xn].key,ls=ht[xn].iv;else if(_t[xn])ss=_t[xn].key*8,ls=_t[xn].iv;else throw new TypeError("invalid suite type");var cs=At(On,!1,ss,ls);return cr(xn,cs.key,cs.iv)}function Zt(xn,On){xn=xn.toLowerCase();var ss,ls;if(ht[xn])ss=ht[xn].key,ls=ht[xn].iv;else if(_t[xn])ss=_t[xn].key*8,ls=_t[xn].iv;else throw new TypeError("invalid suite type");var cs=At(On,!1,ss,ls);return Gr(xn,cs.key,cs.iv)}function cr(xn,On,ss){if(xn=xn.toLowerCase(),ht[xn])return lt.createCipheriv(xn,On,ss);if(_t[xn])return new ut({key:On,iv:ss,mode:xn});throw new TypeError("invalid suite type")}function Gr(xn,On,ss){if(xn=xn.toLowerCase(),ht[xn])return lt.createDecipheriv(xn,On,ss);if(_t[xn])return new ut({key:On,iv:ss,mode:xn,decrypt:!0});throw new TypeError("invalid suite type")}function Zr(){return Object.keys(_t).concat(lt.getCiphers())}return browser$6.createCipher=browser$6.Cipher=qt,browser$6.createCipheriv=browser$6.Cipheriv=cr,browser$6.createDecipher=browser$6.Decipher=Zt,browser$6.createDecipheriv=browser$6.Decipheriv=Gr,browser$6.listCiphers=browser$6.getCiphers=Zr,browser$6}var browser$4={},bn$7={exports:{}};bn$7.exports;var hasRequiredBn$6;function requireBn$6(){return hasRequiredBn$6||(hasRequiredBn$6=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$7)),bn$7.exports}var bn$6={exports:{}};bn$6.exports;var hasRequiredBn$5;function requireBn$5(){return hasRequiredBn$5||(hasRequiredBn$5=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$6)),bn$6.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var ut;brorand.exports=function(At){return ut||(ut=new lt(null)),ut.generate(At)};function lt(_t){this.rand=_t}if(brorand.exports.Rand=lt,lt.prototype.generate=function(At){return this._rand(At)},lt.prototype._rand=function(At){if(this.rand.getBytes)return this.rand.getBytes(At);for(var qt=new Uint8Array(At),Zt=0;Zt<qt.length;Zt++)qt[Zt]=this.rand.getByte();return qt},typeof self=="object")self.crypto&&self.crypto.getRandomValues?lt.prototype._rand=function(At){var qt=new Uint8Array(At);return self.crypto.getRandomValues(qt),qt}:self.msCrypto&&self.msCrypto.getRandomValues?lt.prototype._rand=function(At){var qt=new Uint8Array(At);return self.msCrypto.getRandomValues(qt),qt}:typeof window=="object"&&(lt.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var ht=requireCryptoBrowserify();if(typeof ht.randomBytes!="function")throw new Error("Not supported");lt.prototype._rand=function(At){return ht.randomBytes(At)}}catch{}return brorand.exports}var mr$1,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr$1;hasRequiredMr=1;var ut=requireBn$5(),lt=requireBrorand();function ht(_t){this.rand=_t||new lt.Rand}return mr$1=ht,ht.create=function(At){return new ht(At)},ht.prototype._randbelow=function(At){var qt=At.bitLength(),Zt=Math.ceil(qt/8);do var cr=new ut(this.rand.generate(Zt));while(cr.cmp(At)>=0);return cr},ht.prototype._randrange=function(At,qt){var Zt=qt.sub(At);return At.add(this._randbelow(Zt))},ht.prototype.test=function(At,qt,Zt){var cr=At.bitLength(),Gr=ut.mont(At),Zr=new ut(1).toRed(Gr);qt||(qt=Math.max(1,cr/48|0));for(var xn=At.subn(1),On=0;!xn.testn(On);On++);for(var ss=At.shrn(On),ls=xn.toRed(Gr),cs=!0;qt>0;qt--){var wl=this._randrange(new ut(2),xn);Zt&&Zt(wl);var ep=wl.toRed(Gr).redPow(ss);if(!(ep.cmp(Zr)===0||ep.cmp(ls)===0)){for(var Al=1;Al<On;Al++){if(ep=ep.redSqr(),ep.cmp(Zr)===0)return!1;if(ep.cmp(ls)===0)break}if(Al===On)return!1}}return cs},ht.prototype.getDivisor=function(At,qt){var Zt=At.bitLength(),cr=ut.mont(At),Gr=new ut(1).toRed(cr);qt||(qt=Math.max(1,Zt/48|0));for(var Zr=At.subn(1),xn=0;!Zr.testn(xn);xn++);for(var On=At.shrn(xn),ss=Zr.toRed(cr);qt>0;qt--){var ls=this._randrange(new ut(2),Zr),cs=At.gcd(ls);if(cs.cmpn(1)!==0)return cs;var wl=ls.toRed(cr).redPow(On);if(!(wl.cmp(Gr)===0||wl.cmp(ss)===0)){for(var ep=1;ep<xn;ep++){if(wl=wl.redSqr(),wl.cmp(Gr)===0)return wl.fromRed().subn(1).gcd(At);if(wl.cmp(ss)===0)break}if(ep===xn)return wl=wl.redSqr(),wl.fromRed().subn(1).gcd(At)}}return!1},mr$1}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var ut=requireBrowser$b();generatePrime=ep,ep.simpleSieve=cs,ep.fermatTest=wl;var lt=requireBn$6(),ht=new lt(24),_t=requireMr(),At=new _t,qt=new lt(1),Zt=new lt(2),cr=new lt(5);new lt(16),new lt(8);var Gr=new lt(10),Zr=new lt(3);new lt(7);var xn=new lt(11),On=new lt(4);new lt(12);var ss=null;function ls(){if(ss!==null)return ss;var Al=1048576,np=[];np[0]=2;for(var cp=1,Cp=3;Cp<Al;Cp+=2){for(var Lp=Math.ceil(Math.sqrt(Cp)),jp=0;jp<cp&&np[jp]<=Lp&&Cp%np[jp]!==0;jp++);cp!==jp&&np[jp]<=Lp||(np[cp++]=Cp)}return ss=np,np}function cs(Al){for(var np=ls(),cp=0;cp<np.length;cp++)if(Al.modn(np[cp])===0)return Al.cmpn(np[cp])===0;return!0}function wl(Al){var np=lt.mont(Al);return Zt.toRed(np).redPow(Al.subn(1)).fromRed().cmpn(1)===0}function ep(Al,np){if(Al<16)return np===2||np===5?new lt([140,123]):new lt([140,39]);np=new lt(np);for(var cp,Cp;;){for(cp=new lt(ut(Math.ceil(Al/8)));cp.bitLength()>Al;)cp.ishrn(1);if(cp.isEven()&&cp.iadd(qt),cp.testn(1)||cp.iadd(Zt),np.cmp(Zt)){if(!np.cmp(cr))for(;cp.mod(Gr).cmp(Zr);)cp.iadd(On)}else for(;cp.mod(ht).cmp(xn);)cp.iadd(On);if(Cp=cp.shrn(1),cs(Cp)&&cs(cp)&&wl(Cp)&&wl(cp)&&At.test(Cp)&&At.test(cp))return cp}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh$1,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh$1;hasRequiredDh=1;var ut=requireBn$6(),lt=requireMr(),ht=new lt,_t=new ut(24),At=new ut(11),qt=new ut(10),Zt=new ut(3),cr=new ut(7),Gr=requireGeneratePrime(),Zr=requireBrowser$b();dh$1=cs;function xn(ep,Al){return Al=Al||"utf8",buffer$1.Buffer.isBuffer(ep)||(ep=new buffer$1.Buffer(ep,Al)),this._pub=new ut(ep),this}function On(ep,Al){return Al=Al||"utf8",buffer$1.Buffer.isBuffer(ep)||(ep=new buffer$1.Buffer(ep,Al)),this._priv=new ut(ep),this}var ss={};function ls(ep,Al){var np=Al.toString("hex"),cp=[np,ep.toString(16)].join("_");if(cp in ss)return ss[cp];var Cp=0;if(ep.isEven()||!Gr.simpleSieve||!Gr.fermatTest(ep)||!ht.test(ep))return Cp+=1,np==="02"||np==="05"?Cp+=8:Cp+=4,ss[cp]=Cp,Cp;ht.test(ep.shrn(1))||(Cp+=2);var Lp;switch(np){case"02":ep.mod(_t).cmp(At)&&(Cp+=8);break;case"05":Lp=ep.mod(qt),Lp.cmp(Zt)&&Lp.cmp(cr)&&(Cp+=8);break;default:Cp+=4}return ss[cp]=Cp,Cp}function cs(ep,Al,np){this.setGenerator(Al),this.__prime=new ut(ep),this._prime=ut.mont(this.__prime),this._primeLen=ep.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,np?(this.setPublicKey=xn,this.setPrivateKey=On):this._primeCode=8}Object.defineProperty(cs.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=ls(this.__prime,this.__gen)),this._primeCode}}),cs.prototype.generateKeys=function(){return this._priv||(this._priv=new ut(Zr(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},cs.prototype.computeSecret=function(ep){ep=new ut(ep),ep=ep.toRed(this._prime);var Al=ep.redPow(this._priv).fromRed(),np=new buffer$1.Buffer(Al.toArray()),cp=this.getPrime();if(np.length<cp.length){var Cp=new buffer$1.Buffer(cp.length-np.length);Cp.fill(0),np=buffer$1.Buffer.concat([Cp,np])}return np},cs.prototype.getPublicKey=function(Al){return wl(this._pub,Al)},cs.prototype.getPrivateKey=function(Al){return wl(this._priv,Al)},cs.prototype.getPrime=function(ep){return wl(this.__prime,ep)},cs.prototype.getGenerator=function(ep){return wl(this._gen,ep)},cs.prototype.setGenerator=function(ep,Al){return Al=Al||"utf8",buffer$1.Buffer.isBuffer(ep)||(ep=new buffer$1.Buffer(ep,Al)),this.__gen=ep,this._gen=new ut(ep),this};function wl(ep,Al){var np=new buffer$1.Buffer(ep.toArray());return Al?np.toString(Al):np}return dh$1}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var ut=requireGeneratePrime(),lt=require$$1$1,ht=requireDh();function _t(Zt){var cr=new buffer$1.Buffer(lt[Zt].prime,"hex"),Gr=new buffer$1.Buffer(lt[Zt].gen,"hex");return new ht(cr,Gr)}var At={binary:!0,hex:!0,base64:!0};function qt(Zt,cr,Gr,Zr){return buffer$1.Buffer.isBuffer(cr)||At[cr]===void 0?qt(Zt,"binary",cr,Gr):(cr=cr||"binary",Zr=Zr||"binary",Gr=Gr||new buffer$1.Buffer([2]),buffer$1.Buffer.isBuffer(Gr)||(Gr=new buffer$1.Buffer(Gr,Zr)),typeof Zt=="number"?new ht(ut(Zt,Gr),Gr,!0):(buffer$1.Buffer.isBuffer(Zt)||(Zt=new buffer$1.Buffer(Zt,cr)),new ht(Zt,Gr,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=_t,browser$4.createDiffieHellman=browser$4.DiffieHellman=qt,browser$4}var readableBrowser={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof api$2>"u"||!api$2.version||api$2.version.indexOf("v0.")===0||api$2.version.indexOf("v1.")===0&&api$2.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:ut}:processNextickArgs.exports=api$2;function ut(lt,ht,_t,At){if(typeof lt!="function")throw new TypeError('"callback" argument must be a function');var qt=arguments.length,Zt,cr;switch(qt){case 0:case 1:return api$2.nextTick(lt);case 2:return api$2.nextTick(function(){lt.call(null,ht)});case 3:return api$2.nextTick(function(){lt.call(null,ht,_t)});case 4:return api$2.nextTick(function(){lt.call(null,ht,_t,At)});default:for(Zt=new Array(qt-1),cr=0;cr<Zt.length;)Zt[cr++]=arguments[cr];return api$2.nextTick(function(){lt.apply(null,Zt)})}}return processNextickArgs.exports}var isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var ut={}.toString;return isarray=Array.isArray||function(lt){return ut.call(lt)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,function(ut,lt){var ht=buffer$1,_t=ht.Buffer;function At(Zt,cr){for(var Gr in Zt)cr[Gr]=Zt[Gr]}_t.from&&_t.alloc&&_t.allocUnsafe&&_t.allocUnsafeSlow?ut.exports=ht:(At(ht,lt),lt.Buffer=qt);function qt(Zt,cr,Gr){return _t(Zt,cr,Gr)}At(_t,qt),qt.from=function(Zt,cr,Gr){if(typeof Zt=="number")throw new TypeError("Argument must not be a number");return _t(Zt,cr,Gr)},qt.alloc=function(Zt,cr,Gr){if(typeof Zt!="number")throw new TypeError("Argument must be a number");var Zr=_t(Zt);return cr!==void 0?typeof Gr=="string"?Zr.fill(cr,Gr):Zr.fill(cr):Zr.fill(0),Zr},qt.allocUnsafe=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return _t(Zt)},qt.allocUnsafeSlow=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return ht.SlowBuffer(Zt)}}(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function ut(wl){return Array.isArray?Array.isArray(wl):cs(wl)==="[object Array]"}util.isArray=ut;function lt(wl){return typeof wl=="boolean"}util.isBoolean=lt;function ht(wl){return wl===null}util.isNull=ht;function _t(wl){return wl==null}util.isNullOrUndefined=_t;function At(wl){return typeof wl=="number"}util.isNumber=At;function qt(wl){return typeof wl=="string"}util.isString=qt;function Zt(wl){return typeof wl=="symbol"}util.isSymbol=Zt;function cr(wl){return wl===void 0}util.isUndefined=cr;function Gr(wl){return cs(wl)==="[object RegExp]"}util.isRegExp=Gr;function Zr(wl){return typeof wl=="object"&&wl!==null}util.isObject=Zr;function xn(wl){return cs(wl)==="[object Date]"}util.isDate=xn;function On(wl){return cs(wl)==="[object Error]"||wl instanceof Error}util.isError=On;function ss(wl){return typeof wl=="function"}util.isFunction=ss;function ls(wl){return wl===null||typeof wl=="boolean"||typeof wl=="number"||typeof wl=="string"||typeof wl=="symbol"||typeof wl>"u"}util.isPrimitive=ls,util.isBuffer=buffer$1.Buffer.isBuffer;function cs(wl){return Object.prototype.toString.call(wl)}return util}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(ut){function lt(qt,Zt){if(!(qt instanceof Zt))throw new TypeError("Cannot call a class as a function")}var ht=requireSafeBuffer().Buffer,_t=requireUtil$1();function At(qt,Zt,cr){qt.copy(Zt,cr)}ut.exports=function(){function qt(){lt(this,qt),this.head=null,this.tail=null,this.length=0}return qt.prototype.push=function(cr){var Gr={data:cr,next:null};this.length>0?this.tail.next=Gr:this.head=Gr,this.tail=Gr,++this.length},qt.prototype.unshift=function(cr){var Gr={data:cr,next:this.head};this.length===0&&(this.tail=Gr),this.head=Gr,++this.length},qt.prototype.shift=function(){if(this.length!==0){var cr=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,cr}},qt.prototype.clear=function(){this.head=this.tail=null,this.length=0},qt.prototype.join=function(cr){if(this.length===0)return"";for(var Gr=this.head,Zr=""+Gr.data;Gr=Gr.next;)Zr+=cr+Gr.data;return Zr},qt.prototype.concat=function(cr){if(this.length===0)return ht.alloc(0);for(var Gr=ht.allocUnsafe(cr>>>0),Zr=this.head,xn=0;Zr;)At(Zr.data,Gr,xn),xn+=Zr.data.length,Zr=Zr.next;return Gr},qt}(),_t&&_t.inspect&&_t.inspect.custom&&(ut.exports.prototype[_t.inspect.custom]=function(){var qt=_t.inspect({length:this.length});return this.constructor.name+" "+qt})}(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var ut=requireProcessNextickArgs();function lt(At,qt){var Zt=this,cr=this._readableState&&this._readableState.destroyed,Gr=this._writableState&&this._writableState.destroyed;return cr||Gr?(qt?qt(At):At&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ut.nextTick(_t,this,At)):ut.nextTick(_t,this,At)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(At||null,function(Zr){!qt&&Zr?Zt._writableState?Zt._writableState.errorEmitted||(Zt._writableState.errorEmitted=!0,ut.nextTick(_t,Zt,Zr)):ut.nextTick(_t,Zt,Zr):qt&&qt(Zr)}),this)}function ht(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function _t(At,qt){At.emit("error",qt)}return destroy_1={destroy:lt,undestroy:ht},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var ut=requireProcessNextickArgs();_stream_writable=wl;function lt(ip){var lp=this;this.next=null,this.entry=null,this.finish=function(){xl(lp,ip)}}var ht=!api$2.browser&&["v0.10","v0.9."].indexOf(api$2.version.slice(0,5))>-1?setImmediate:ut.nextTick,_t;wl.WritableState=ls;var At=Object.create(requireUtil());At.inherits=requireInherits_browser();var qt={deprecate:requireBrowser$a()},Zt=requireStreamBrowser(),cr=requireSafeBuffer().Buffer,Gr=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function Zr(ip){return cr.from(ip)}function xn(ip){return cr.isBuffer(ip)||ip instanceof Gr}var On=requireDestroy();At.inherits(wl,Zt);function ss(){}function ls(ip,lp){_t=_t||require_stream_duplex(),ip=ip||{};var pu=lp instanceof _t;this.objectMode=!!ip.objectMode,pu&&(this.objectMode=this.objectMode||!!ip.writableObjectMode);var go=ip.highWaterMark,h0=ip.writableHighWaterMark,kp=this.objectMode?16:16*1024;go||go===0?this.highWaterMark=go:pu&&(h0||h0===0)?this.highWaterMark=h0:this.highWaterMark=kp,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var cm=ip.decodeStrings===!1;this.decodeStrings=!cm,this.defaultEncoding=ip.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(b3){nm(lp,b3)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new lt(this)}ls.prototype.getBuffer=function(){for(var lp=this.bufferedRequest,pu=[];lp;)pu.push(lp),lp=lp.next;return pu},function(){try{Object.defineProperty(ls.prototype,"buffer",{get:qt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var cs;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(cs=Function.prototype[Symbol.hasInstance],Object.defineProperty(wl,Symbol.hasInstance,{value:function(ip){return cs.call(this,ip)?!0:this!==wl?!1:ip&&ip._writableState instanceof ls}})):cs=function(ip){return ip instanceof this};function wl(ip){if(_t=_t||require_stream_duplex(),!cs.call(wl,this)&&!(this instanceof _t))return new wl(ip);this._writableState=new ls(ip,this),this.writable=!0,ip&&(typeof ip.write=="function"&&(this._write=ip.write),typeof ip.writev=="function"&&(this._writev=ip.writev),typeof ip.destroy=="function"&&(this._destroy=ip.destroy),typeof ip.final=="function"&&(this._final=ip.final)),Zt.call(this)}wl.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function ep(ip,lp){var pu=new Error("write after end");ip.emit("error",pu),ut.nextTick(lp,pu)}function Al(ip,lp,pu,go){var h0=!0,kp=!1;return pu===null?kp=new TypeError("May not write null values to stream"):typeof pu!="string"&&pu!==void 0&&!lp.objectMode&&(kp=new TypeError("Invalid non-string/buffer chunk")),kp&&(ip.emit("error",kp),ut.nextTick(go,kp),h0=!1),h0}wl.prototype.write=function(ip,lp,pu){var go=this._writableState,h0=!1,kp=!go.objectMode&&xn(ip);return kp&&!cr.isBuffer(ip)&&(ip=Zr(ip)),typeof lp=="function"&&(pu=lp,lp=null),kp?lp="buffer":lp||(lp=go.defaultEncoding),typeof pu!="function"&&(pu=ss),go.ended?ep(this,pu):(kp||Al(this,go,ip,pu))&&(go.pendingcb++,h0=cp(this,go,kp,ip,lp,pu)),h0},wl.prototype.cork=function(){var ip=this._writableState;ip.corked++},wl.prototype.uncork=function(){var ip=this._writableState;ip.corked&&(ip.corked--,!ip.writing&&!ip.corked&&!ip.bufferProcessing&&ip.bufferedRequest&&d3(this,ip))},wl.prototype.setDefaultEncoding=function(lp){if(typeof lp=="string"&&(lp=lp.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((lp+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+lp);return this._writableState.defaultEncoding=lp,this};function np(ip,lp,pu){return!ip.objectMode&&ip.decodeStrings!==!1&&typeof lp=="string"&&(lp=cr.from(lp,pu)),lp}Object.defineProperty(wl.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function cp(ip,lp,pu,go,h0,kp){if(!pu){var cm=np(lp,go,h0);go!==cm&&(pu=!0,h0="buffer",go=cm)}var b3=lp.objectMode?1:go.length;lp.length+=b3;var L_=lp.length<lp.highWaterMark;if(L_||(lp.needDrain=!0),lp.writing||lp.corked){var Ym=lp.lastBufferedRequest;lp.lastBufferedRequest={chunk:go,encoding:h0,isBuf:pu,callback:kp,next:null},Ym?Ym.next=lp.lastBufferedRequest:lp.bufferedRequest=lp.lastBufferedRequest,lp.bufferedRequestCount+=1}else Cp(ip,lp,!1,b3,go,h0,kp);return L_}function Cp(ip,lp,pu,go,h0,kp,cm){lp.writelen=go,lp.writecb=cm,lp.writing=!0,lp.sync=!0,pu?ip._writev(h0,lp.onwrite):ip._write(h0,kp,lp.onwrite),lp.sync=!1}function Lp(ip,lp,pu,go,h0){--lp.pendingcb,pu?(ut.nextTick(h0,go),ut.nextTick(as,ip,lp),ip._writableState.errorEmitted=!0,ip.emit("error",go)):(h0(go),ip._writableState.errorEmitted=!0,ip.emit("error",go),as(ip,lp))}function jp(ip){ip.writing=!1,ip.writecb=null,ip.length-=ip.writelen,ip.writelen=0}function nm(ip,lp){var pu=ip._writableState,go=pu.sync,h0=pu.writecb;if(jp(pu),lp)Lp(ip,pu,go,lp,h0);else{var kp=op(pu);!kp&&!pu.corked&&!pu.bufferProcessing&&pu.bufferedRequest&&d3(ip,pu),go?ht(zm,ip,pu,kp,h0):zm(ip,pu,kp,h0)}}function zm(ip,lp,pu,go){pu||i1(ip,lp),lp.pendingcb--,go(),as(ip,lp)}function i1(ip,lp){lp.length===0&&lp.needDrain&&(lp.needDrain=!1,ip.emit("drain"))}function d3(ip,lp){lp.bufferProcessing=!0;var pu=lp.bufferedRequest;if(ip._writev&&pu&&pu.next){var go=lp.bufferedRequestCount,h0=new Array(go),kp=lp.corkedRequestsFree;kp.entry=pu;for(var cm=0,b3=!0;pu;)h0[cm]=pu,pu.isBuf||(b3=!1),pu=pu.next,cm+=1;h0.allBuffers=b3,Cp(ip,lp,!0,lp.length,h0,"",kp.finish),lp.pendingcb++,lp.lastBufferedRequest=null,kp.next?(lp.corkedRequestsFree=kp.next,kp.next=null):lp.corkedRequestsFree=new lt(lp),lp.bufferedRequestCount=0}else{for(;pu;){var L_=pu.chunk,Ym=pu.encoding,Xm=pu.callback,Jm=lp.objectMode?1:L_.length;if(Cp(ip,lp,!1,Jm,L_,Ym,Xm),pu=pu.next,lp.bufferedRequestCount--,lp.writing)break}pu===null&&(lp.lastBufferedRequest=null)}lp.bufferedRequest=pu,lp.bufferProcessing=!1}wl.prototype._write=function(ip,lp,pu){pu(new Error("_write() is not implemented"))},wl.prototype._writev=null,wl.prototype.end=function(ip,lp,pu){var go=this._writableState;typeof ip=="function"?(pu=ip,ip=null,lp=null):typeof lp=="function"&&(pu=lp,lp=null),ip!=null&&this.write(ip,lp),go.corked&&(go.corked=1,this.uncork()),go.ending||us(this,go,pu)};function op(ip){return ip.ending&&ip.length===0&&ip.bufferedRequest===null&&!ip.finished&&!ip.writing}function Sn(ip,lp){ip._final(function(pu){lp.pendingcb--,pu&&ip.emit("error",pu),lp.prefinished=!0,ip.emit("prefinish"),as(ip,lp)})}function Fo(ip,lp){!lp.prefinished&&!lp.finalCalled&&(typeof ip._final=="function"?(lp.pendingcb++,lp.finalCalled=!0,ut.nextTick(Sn,ip,lp)):(lp.prefinished=!0,ip.emit("prefinish")))}function as(ip,lp){var pu=op(lp);return pu&&(Fo(ip,lp),lp.pendingcb===0&&(lp.finished=!0,ip.emit("finish"))),pu}function us(ip,lp,pu){lp.ending=!0,as(ip,lp),pu&&(lp.finished?ut.nextTick(pu):ip.once("finish",pu)),lp.ended=!0,ip.writable=!1}function xl(ip,lp,pu){var go=ip.entry;for(ip.entry=null;go;){var h0=go.callback;lp.pendingcb--,h0(pu),go=go.next}lp.corkedRequestsFree.next=ip}return Object.defineProperty(wl.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ip){this._writableState&&(this._writableState.destroyed=ip)}}),wl.prototype.destroy=On.destroy,wl.prototype._undestroy=On.undestroy,wl.prototype._destroy=function(ip,lp){this.end(),lp(ip)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var ut=requireProcessNextickArgs(),lt=Object.keys||function(On){var ss=[];for(var ls in On)ss.push(ls);return ss};_stream_duplex=Gr;var ht=Object.create(requireUtil());ht.inherits=requireInherits_browser();var _t=require_stream_readable(),At=require_stream_writable();ht.inherits(Gr,_t);for(var qt=lt(At.prototype),Zt=0;Zt<qt.length;Zt++){var cr=qt[Zt];Gr.prototype[cr]||(Gr.prototype[cr]=At.prototype[cr])}function Gr(On){if(!(this instanceof Gr))return new Gr(On);_t.call(this,On),At.call(this,On),On&&On.readable===!1&&(this.readable=!1),On&&On.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,On&&On.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Zr)}Object.defineProperty(Gr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Zr(){this.allowHalfOpen||this._writableState.ended||ut.nextTick(xn,this)}function xn(On){On.end()}return Object.defineProperty(Gr.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(On){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=On,this._writableState.destroyed=On)}}),Gr.prototype._destroy=function(On,ss){this.push(null),this.end(),ut.nextTick(ss,On)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var ut=requireProcessNextickArgs();_stream_readable=np;var lt=requireIsarray(),ht;np.ReadableState=Al,requireEvents().EventEmitter;var _t=function(Xm,Jm){return Xm.listeners(Jm).length},At=requireStreamBrowser(),qt=requireSafeBuffer().Buffer,Zt=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function cr(Xm){return qt.from(Xm)}function Gr(Xm){return qt.isBuffer(Xm)||Xm instanceof Zt}var Zr=Object.create(requireUtil());Zr.inherits=requireInherits_browser();var xn=requireUtil$1(),On=void 0;xn&&xn.debuglog?On=xn.debuglog("stream"):On=function(){};var ss=requireBufferList(),ls=requireDestroy(),cs;Zr.inherits(np,At);var wl=["error","close","destroy","pause","resume"];function ep(Xm,Jm,$_){if(typeof Xm.prependListener=="function")return Xm.prependListener(Jm,$_);!Xm._events||!Xm._events[Jm]?Xm.on(Jm,$_):lt(Xm._events[Jm])?Xm._events[Jm].unshift($_):Xm._events[Jm]=[$_,Xm._events[Jm]]}function Al(Xm,Jm){ht=ht||require_stream_duplex(),Xm=Xm||{};var $_=Jm instanceof ht;this.objectMode=!!Xm.objectMode,$_&&(this.objectMode=this.objectMode||!!Xm.readableObjectMode);var j_=Xm.highWaterMark,h3=Xm.readableHighWaterMark,Fp=this.objectMode?16:16*1024;j_||j_===0?this.highWaterMark=j_:$_&&(h3||h3===0)?this.highWaterMark=h3:this.highWaterMark=Fp,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new ss,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Xm.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Xm.encoding&&(cs||(cs=requireString_decoder().StringDecoder),this.decoder=new cs(Xm.encoding),this.encoding=Xm.encoding)}function np(Xm){if(ht=ht||require_stream_duplex(),!(this instanceof np))return new np(Xm);this._readableState=new Al(Xm,this),this.readable=!0,Xm&&(typeof Xm.read=="function"&&(this._read=Xm.read),typeof Xm.destroy=="function"&&(this._destroy=Xm.destroy)),At.call(this)}Object.defineProperty(np.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Xm){this._readableState&&(this._readableState.destroyed=Xm)}}),np.prototype.destroy=ls.destroy,np.prototype._undestroy=ls.undestroy,np.prototype._destroy=function(Xm,Jm){this.push(null),Jm(Xm)},np.prototype.push=function(Xm,Jm){var $_=this._readableState,j_;return $_.objectMode?j_=!0:typeof Xm=="string"&&(Jm=Jm||$_.defaultEncoding,Jm!==$_.encoding&&(Xm=qt.from(Xm,Jm),Jm=""),j_=!0),cp(this,Xm,Jm,!1,j_)},np.prototype.unshift=function(Xm){return cp(this,Xm,null,!0,!1)};function cp(Xm,Jm,$_,j_,h3){var Fp=Xm._readableState;if(Jm===null)Fp.reading=!1,d3(Xm,Fp);else{var W_;h3||(W_=Lp(Fp,Jm)),W_?Xm.emit("error",W_):Fp.objectMode||Jm&&Jm.length>0?(typeof Jm!="string"&&!Fp.objectMode&&Object.getPrototypeOf(Jm)!==qt.prototype&&(Jm=cr(Jm)),j_?Fp.endEmitted?Xm.emit("error",new Error("stream.unshift() after end event")):Cp(Xm,Fp,Jm,!0):Fp.ended?Xm.emit("error",new Error("stream.push() after EOF")):(Fp.reading=!1,Fp.decoder&&!$_?(Jm=Fp.decoder.write(Jm),Fp.objectMode||Jm.length!==0?Cp(Xm,Fp,Jm,!1):Fo(Xm,Fp)):Cp(Xm,Fp,Jm,!1))):j_||(Fp.reading=!1)}return jp(Fp)}function Cp(Xm,Jm,$_,j_){Jm.flowing&&Jm.length===0&&!Jm.sync?(Xm.emit("data",$_),Xm.read(0)):(Jm.length+=Jm.objectMode?1:$_.length,j_?Jm.buffer.unshift($_):Jm.buffer.push($_),Jm.needReadable&&op(Xm)),Fo(Xm,Jm)}function Lp(Xm,Jm){var $_;return!Gr(Jm)&&typeof Jm!="string"&&Jm!==void 0&&!Xm.objectMode&&($_=new TypeError("Invalid non-string/buffer chunk")),$_}function jp(Xm){return!Xm.ended&&(Xm.needReadable||Xm.length<Xm.highWaterMark||Xm.length===0)}np.prototype.isPaused=function(){return this._readableState.flowing===!1},np.prototype.setEncoding=function(Xm){return cs||(cs=requireString_decoder().StringDecoder),this._readableState.decoder=new cs(Xm),this._readableState.encoding=Xm,this};var nm=8388608;function zm(Xm){return Xm>=nm?Xm=nm:(Xm--,Xm|=Xm>>>1,Xm|=Xm>>>2,Xm|=Xm>>>4,Xm|=Xm>>>8,Xm|=Xm>>>16,Xm++),Xm}function i1(Xm,Jm){return Xm<=0||Jm.length===0&&Jm.ended?0:Jm.objectMode?1:Xm!==Xm?Jm.flowing&&Jm.length?Jm.buffer.head.data.length:Jm.length:(Xm>Jm.highWaterMark&&(Jm.highWaterMark=zm(Xm)),Xm<=Jm.length?Xm:Jm.ended?Jm.length:(Jm.needReadable=!0,0))}np.prototype.read=function(Xm){On("read",Xm),Xm=parseInt(Xm,10);var Jm=this._readableState,$_=Xm;if(Xm!==0&&(Jm.emittedReadable=!1),Xm===0&&Jm.needReadable&&(Jm.length>=Jm.highWaterMark||Jm.ended))return On("read: emitReadable",Jm.length,Jm.ended),Jm.length===0&&Jm.ended?b3(this):op(this),null;if(Xm=i1(Xm,Jm),Xm===0&&Jm.ended)return Jm.length===0&&b3(this),null;var j_=Jm.needReadable;On("need readable",j_),(Jm.length===0||Jm.length-Xm<Jm.highWaterMark)&&(j_=!0,On("length less than watermark",j_)),Jm.ended||Jm.reading?(j_=!1,On("reading or ended",j_)):j_&&(On("do read"),Jm.reading=!0,Jm.sync=!0,Jm.length===0&&(Jm.needReadable=!0),this._read(Jm.highWaterMark),Jm.sync=!1,Jm.reading||(Xm=i1($_,Jm)));var h3;return Xm>0?h3=go(Xm,Jm):h3=null,h3===null?(Jm.needReadable=!0,Xm=0):Jm.length-=Xm,Jm.length===0&&(Jm.ended||(Jm.needReadable=!0),$_!==Xm&&Jm.ended&&b3(this)),h3!==null&&this.emit("data",h3),h3};function d3(Xm,Jm){if(!Jm.ended){if(Jm.decoder){var $_=Jm.decoder.end();$_&&$_.length&&(Jm.buffer.push($_),Jm.length+=Jm.objectMode?1:$_.length)}Jm.ended=!0,op(Xm)}}function op(Xm){var Jm=Xm._readableState;Jm.needReadable=!1,Jm.emittedReadable||(On("emitReadable",Jm.flowing),Jm.emittedReadable=!0,Jm.sync?ut.nextTick(Sn,Xm):Sn(Xm))}function Sn(Xm){On("emit readable"),Xm.emit("readable"),pu(Xm)}function Fo(Xm,Jm){Jm.readingMore||(Jm.readingMore=!0,ut.nextTick(as,Xm,Jm))}function as(Xm,Jm){for(var $_=Jm.length;!Jm.reading&&!Jm.flowing&&!Jm.ended&&Jm.length<Jm.highWaterMark&&(On("maybeReadMore read 0"),Xm.read(0),$_!==Jm.length);)$_=Jm.length;Jm.readingMore=!1}np.prototype._read=function(Xm){this.emit("error",new Error("_read() is not implemented"))},np.prototype.pipe=function(Xm,Jm){var $_=this,j_=this._readableState;switch(j_.pipesCount){case 0:j_.pipes=Xm;break;case 1:j_.pipes=[j_.pipes,Xm];break;default:j_.pipes.push(Xm);break}j_.pipesCount+=1,On("pipe count=%d opts=%j",j_.pipesCount,Jm);var h3=(!Jm||Jm.end!==!1)&&Xm!==api$2.stdout&&Xm!==api$2.stderr,Fp=h3?t4:Ww;j_.endEmitted?ut.nextTick(Fp):$_.once("end",Fp),Xm.on("unpipe",W_);function W_(F_,qx){On("onunpipe"),F_===$_&&qx&&qx.hasUnpiped===!1&&(qx.hasUnpiped=!0,a1())}function t4(){On("onend"),Xm.end()}var Nw=us($_);Xm.on("drain",Nw);var Dp=!1;function a1(){On("cleanup"),Xm.removeListener("close",nw),Xm.removeListener("finish",n4),Xm.removeListener("drain",Nw),Xm.removeListener("error",Mw),Xm.removeListener("unpipe",W_),$_.removeListener("end",t4),$_.removeListener("end",Ww),$_.removeListener("data",v3),Dp=!0,j_.awaitDrain&&(!Xm._writableState||Xm._writableState.needDrain)&&Nw()}var zp=!1;$_.on("data",v3);function v3(F_){On("ondata"),zp=!1;var qx=Xm.write(F_);qx===!1&&!zp&&((j_.pipesCount===1&&j_.pipes===Xm||j_.pipesCount>1&&Ym(j_.pipes,Xm)!==-1)&&!Dp&&(On("false write response, pause",j_.awaitDrain),j_.awaitDrain++,zp=!0),$_.pause())}function Mw(F_){On("onerror",F_),Ww(),Xm.removeListener("error",Mw),_t(Xm,"error")===0&&Xm.emit("error",F_)}ep(Xm,"error",Mw);function nw(){Xm.removeListener("finish",n4),Ww()}Xm.once("close",nw);function n4(){On("onfinish"),Xm.removeListener("close",nw),Ww()}Xm.once("finish",n4);function Ww(){On("unpipe"),$_.unpipe(Xm)}return Xm.emit("pipe",$_),j_.flowing||(On("pipe resume"),$_.resume()),Xm};function us(Xm){return function(){var Jm=Xm._readableState;On("pipeOnDrain",Jm.awaitDrain),Jm.awaitDrain&&Jm.awaitDrain--,Jm.awaitDrain===0&&_t(Xm,"data")&&(Jm.flowing=!0,pu(Xm))}}np.prototype.unpipe=function(Xm){var Jm=this._readableState,$_={hasUnpiped:!1};if(Jm.pipesCount===0)return this;if(Jm.pipesCount===1)return Xm&&Xm!==Jm.pipes?this:(Xm||(Xm=Jm.pipes),Jm.pipes=null,Jm.pipesCount=0,Jm.flowing=!1,Xm&&Xm.emit("unpipe",this,$_),this);if(!Xm){var j_=Jm.pipes,h3=Jm.pipesCount;Jm.pipes=null,Jm.pipesCount=0,Jm.flowing=!1;for(var Fp=0;Fp<h3;Fp++)j_[Fp].emit("unpipe",this,{hasUnpiped:!1});return this}var W_=Ym(Jm.pipes,Xm);return W_===-1?this:(Jm.pipes.splice(W_,1),Jm.pipesCount-=1,Jm.pipesCount===1&&(Jm.pipes=Jm.pipes[0]),Xm.emit("unpipe",this,$_),this)},np.prototype.on=function(Xm,Jm){var $_=At.prototype.on.call(this,Xm,Jm);if(Xm==="data")this._readableState.flowing!==!1&&this.resume();else if(Xm==="readable"){var j_=this._readableState;!j_.endEmitted&&!j_.readableListening&&(j_.readableListening=j_.needReadable=!0,j_.emittedReadable=!1,j_.reading?j_.length&&op(this):ut.nextTick(xl,this))}return $_},np.prototype.addListener=np.prototype.on;function xl(Xm){On("readable nexttick read 0"),Xm.read(0)}np.prototype.resume=function(){var Xm=this._readableState;return Xm.flowing||(On("resume"),Xm.flowing=!0,ip(this,Xm)),this};function ip(Xm,Jm){Jm.resumeScheduled||(Jm.resumeScheduled=!0,ut.nextTick(lp,Xm,Jm))}function lp(Xm,Jm){Jm.reading||(On("resume read 0"),Xm.read(0)),Jm.resumeScheduled=!1,Jm.awaitDrain=0,Xm.emit("resume"),pu(Xm),Jm.flowing&&!Jm.reading&&Xm.read(0)}np.prototype.pause=function(){return On("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(On("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function pu(Xm){var Jm=Xm._readableState;for(On("flow",Jm.flowing);Jm.flowing&&Xm.read()!==null;);}np.prototype.wrap=function(Xm){var Jm=this,$_=this._readableState,j_=!1;Xm.on("end",function(){if(On("wrapped end"),$_.decoder&&!$_.ended){var W_=$_.decoder.end();W_&&W_.length&&Jm.push(W_)}Jm.push(null)}),Xm.on("data",function(W_){if(On("wrapped data"),$_.decoder&&(W_=$_.decoder.write(W_)),!($_.objectMode&&W_==null)&&!(!$_.objectMode&&(!W_||!W_.length))){var t4=Jm.push(W_);t4||(j_=!0,Xm.pause())}});for(var h3 in Xm)this[h3]===void 0&&typeof Xm[h3]=="function"&&(this[h3]=function(W_){return function(){return Xm[W_].apply(Xm,arguments)}}(h3));for(var Fp=0;Fp<wl.length;Fp++)Xm.on(wl[Fp],this.emit.bind(this,wl[Fp]));return this._read=function(W_){On("wrapped _read",W_),j_&&(j_=!1,Xm.resume())},this},Object.defineProperty(np.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),np._fromList=go;function go(Xm,Jm){if(Jm.length===0)return null;var $_;return Jm.objectMode?$_=Jm.buffer.shift():!Xm||Xm>=Jm.length?(Jm.decoder?$_=Jm.buffer.join(""):Jm.buffer.length===1?$_=Jm.buffer.head.data:$_=Jm.buffer.concat(Jm.length),Jm.buffer.clear()):$_=h0(Xm,Jm.buffer,Jm.decoder),$_}function h0(Xm,Jm,$_){var j_;return Xm<Jm.head.data.length?(j_=Jm.head.data.slice(0,Xm),Jm.head.data=Jm.head.data.slice(Xm)):Xm===Jm.head.data.length?j_=Jm.shift():j_=$_?kp(Xm,Jm):cm(Xm,Jm),j_}function kp(Xm,Jm){var $_=Jm.head,j_=1,h3=$_.data;for(Xm-=h3.length;$_=$_.next;){var Fp=$_.data,W_=Xm>Fp.length?Fp.length:Xm;if(W_===Fp.length?h3+=Fp:h3+=Fp.slice(0,Xm),Xm-=W_,Xm===0){W_===Fp.length?(++j_,$_.next?Jm.head=$_.next:Jm.head=Jm.tail=null):(Jm.head=$_,$_.data=Fp.slice(W_));break}++j_}return Jm.length-=j_,h3}function cm(Xm,Jm){var $_=qt.allocUnsafe(Xm),j_=Jm.head,h3=1;for(j_.data.copy($_),Xm-=j_.data.length;j_=j_.next;){var Fp=j_.data,W_=Xm>Fp.length?Fp.length:Xm;if(Fp.copy($_,$_.length-Xm,0,W_),Xm-=W_,Xm===0){W_===Fp.length?(++h3,j_.next?Jm.head=j_.next:Jm.head=Jm.tail=null):(Jm.head=j_,j_.data=Fp.slice(W_));break}++h3}return Jm.length-=h3,$_}function b3(Xm){var Jm=Xm._readableState;if(Jm.length>0)throw new Error('"endReadable()" called on non-empty stream');Jm.endEmitted||(Jm.ended=!0,ut.nextTick(L_,Jm,Xm))}function L_(Xm,Jm){!Xm.endEmitted&&Xm.length===0&&(Xm.endEmitted=!0,Jm.readable=!1,Jm.emit("end"))}function Ym(Xm,Jm){for(var $_=0,j_=Xm.length;$_<j_;$_++)if(Xm[$_]===Jm)return $_;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=_t;var ut=require_stream_duplex(),lt=Object.create(requireUtil());lt.inherits=requireInherits_browser(),lt.inherits(_t,ut);function ht(Zt,cr){var Gr=this._transformState;Gr.transforming=!1;var Zr=Gr.writecb;if(!Zr)return this.emit("error",new Error("write callback called multiple times"));Gr.writechunk=null,Gr.writecb=null,cr!=null&&this.push(cr),Zr(Zt);var xn=this._readableState;xn.reading=!1,(xn.needReadable||xn.length<xn.highWaterMark)&&this._read(xn.highWaterMark)}function _t(Zt){if(!(this instanceof _t))return new _t(Zt);ut.call(this,Zt),this._transformState={afterTransform:ht.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,Zt&&(typeof Zt.transform=="function"&&(this._transform=Zt.transform),typeof Zt.flush=="function"&&(this._flush=Zt.flush)),this.on("prefinish",At)}function At(){var Zt=this;typeof this._flush=="function"?this._flush(function(cr,Gr){qt(Zt,cr,Gr)}):qt(this,null,null)}_t.prototype.push=function(Zt,cr){return this._transformState.needTransform=!1,ut.prototype.push.call(this,Zt,cr)},_t.prototype._transform=function(Zt,cr,Gr){throw new Error("_transform() is not implemented")},_t.prototype._write=function(Zt,cr,Gr){var Zr=this._transformState;if(Zr.writecb=Gr,Zr.writechunk=Zt,Zr.writeencoding=cr,!Zr.transforming){var xn=this._readableState;(Zr.needTransform||xn.needReadable||xn.length<xn.highWaterMark)&&this._read(xn.highWaterMark)}},_t.prototype._read=function(Zt){var cr=this._transformState;cr.writechunk!==null&&cr.writecb&&!cr.transforming?(cr.transforming=!0,this._transform(cr.writechunk,cr.writeencoding,cr.afterTransform)):cr.needTransform=!0},_t.prototype._destroy=function(Zt,cr){var Gr=this;ut.prototype._destroy.call(this,Zt,function(Zr){cr(Zr),Gr.emit("close")})};function qt(Zt,cr,Gr){if(cr)return Zt.emit("error",cr);if(Gr!=null&&Zt.push(Gr),Zt._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(Zt._transformState.transforming)throw new Error("Calling transform done when still transforming");return Zt.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=ht;var ut=require_stream_transform(),lt=Object.create(requireUtil());lt.inherits=requireInherits_browser(),lt.inherits(ht,ut);function ht(_t){if(!(this instanceof ht))return new ht(_t);ut.call(this,_t)}return ht.prototype._transform=function(_t,At,qt){qt(null,_t)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,function(ut,lt){lt=ut.exports=require_stream_readable(),lt.Stream=lt,lt.Readable=lt,lt.Writable=require_stream_writable(),lt.Duplex=require_stream_duplex(),lt.Transform=require_stream_transform(),lt.PassThrough=require_stream_passthrough()}(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$5={exports:{}};bn$5.exports;var hasRequiredBn$4;function requireBn$4(){return hasRequiredBn$4||(hasRequiredBn$4=1,function(ut){(function(lt,ht){function _t(Fo,as){if(!Fo)throw new Error(as||"Assertion failed")}function At(Fo,as){Fo.super_=as;var us=function(){};us.prototype=as.prototype,Fo.prototype=new us,Fo.prototype.constructor=Fo}function qt(Fo,as,us){if(qt.isBN(Fo))return Fo;this.negative=0,this.words=null,this.length=0,this.red=null,Fo!==null&&((as==="le"||as==="be")&&(us=as,as=10),this._init(Fo||0,as||10,us||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(as){return as instanceof qt?!0:as!==null&&typeof as=="object"&&as.constructor.wordSize===qt.wordSize&&Array.isArray(as.words)},qt.max=function(as,us){return as.cmp(us)>0?as:us},qt.min=function(as,us){return as.cmp(us)<0?as:us},qt.prototype._init=function(as,us,xl){if(typeof as=="number")return this._initNumber(as,us,xl);if(typeof as=="object")return this._initArray(as,us,xl);us==="hex"&&(us=16),_t(us===(us|0)&&us>=2&&us<=36),as=as.toString().replace(/\s+/g,"");var ip=0;as[0]==="-"&&(ip++,this.negative=1),ip<as.length&&(us===16?this._parseHex(as,ip,xl):(this._parseBase(as,us,ip),xl==="le"&&this._initArray(this.toArray(),us,xl)))},qt.prototype._initNumber=function(as,us,xl){as<0&&(this.negative=1,as=-as),as<67108864?(this.words=[as&67108863],this.length=1):as<4503599627370496?(this.words=[as&67108863,as/67108864&67108863],this.length=2):(_t(as<9007199254740992),this.words=[as&67108863,as/67108864&67108863,1],this.length=3),xl==="le"&&this._initArray(this.toArray(),us,xl)},qt.prototype._initArray=function(as,us,xl){if(_t(typeof as.length=="number"),as.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(as.length/3),this.words=new Array(this.length);for(var ip=0;ip<this.length;ip++)this.words[ip]=0;var lp,pu,go=0;if(xl==="be")for(ip=as.length-1,lp=0;ip>=0;ip-=3)pu=as[ip]|as[ip-1]<<8|as[ip-2]<<16,this.words[lp]|=pu<<go&67108863,this.words[lp+1]=pu>>>26-go&67108863,go+=24,go>=26&&(go-=26,lp++);else if(xl==="le")for(ip=0,lp=0;ip<as.length;ip+=3)pu=as[ip]|as[ip+1]<<8|as[ip+2]<<16,this.words[lp]|=pu<<go&67108863,this.words[lp+1]=pu>>>26-go&67108863,go+=24,go>=26&&(go-=26,lp++);return this._strip()};function cr(Fo,as){var us=Fo.charCodeAt(as);if(us>=48&&us<=57)return us-48;if(us>=65&&us<=70)return us-55;if(us>=97&&us<=102)return us-87;_t(!1,"Invalid character in "+Fo)}function Gr(Fo,as,us){var xl=cr(Fo,us);return us-1>=as&&(xl|=cr(Fo,us-1)<<4),xl}qt.prototype._parseHex=function(as,us,xl){this.length=Math.ceil((as.length-us)/6),this.words=new Array(this.length);for(var ip=0;ip<this.length;ip++)this.words[ip]=0;var lp=0,pu=0,go;if(xl==="be")for(ip=as.length-1;ip>=us;ip-=2)go=Gr(as,us,ip)<<lp,this.words[pu]|=go&67108863,lp>=18?(lp-=18,pu+=1,this.words[pu]|=go>>>26):lp+=8;else{var h0=as.length-us;for(ip=h0%2===0?us+1:us;ip<as.length;ip+=2)go=Gr(as,us,ip)<<lp,this.words[pu]|=go&67108863,lp>=18?(lp-=18,pu+=1,this.words[pu]|=go>>>26):lp+=8}this._strip()};function Zr(Fo,as,us,xl){for(var ip=0,lp=0,pu=Math.min(Fo.length,us),go=as;go<pu;go++){var h0=Fo.charCodeAt(go)-48;ip*=xl,h0>=49?lp=h0-49+10:h0>=17?lp=h0-17+10:lp=h0,_t(h0>=0&&lp<xl,"Invalid character"),ip+=lp}return ip}qt.prototype._parseBase=function(as,us,xl){this.words=[0],this.length=1;for(var ip=0,lp=1;lp<=67108863;lp*=us)ip++;ip--,lp=lp/us|0;for(var pu=as.length-xl,go=pu%ip,h0=Math.min(pu,pu-go)+xl,kp=0,cm=xl;cm<h0;cm+=ip)kp=Zr(as,cm,cm+ip,us),this.imuln(lp),this.words[0]+kp<67108864?this.words[0]+=kp:this._iaddn(kp);if(go!==0){var b3=1;for(kp=Zr(as,cm,as.length,us),cm=0;cm<go;cm++)b3*=us;this.imuln(b3),this.words[0]+kp<67108864?this.words[0]+=kp:this._iaddn(kp)}this._strip()},qt.prototype.copy=function(as){as.words=new Array(this.length);for(var us=0;us<this.length;us++)as.words[us]=this.words[us];as.length=this.length,as.negative=this.negative,as.red=this.red};function xn(Fo,as){Fo.words=as.words,Fo.length=as.length,Fo.negative=as.negative,Fo.red=as.red}if(qt.prototype._move=function(as){xn(as,this)},qt.prototype.clone=function(){var as=new qt(null);return this.copy(as),as},qt.prototype._expand=function(as){for(;this.length<as;)this.words[this.length++]=0;return this},qt.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{qt.prototype[Symbol.for("nodejs.util.inspect.custom")]=On}catch{qt.prototype.inspect=On}else qt.prototype.inspect=On;function On(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var ss=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ls=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],cs=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(as,us){as=as||10,us=us|0||1;var xl;if(as===16||as==="hex"){xl="";for(var ip=0,lp=0,pu=0;pu<this.length;pu++){var go=this.words[pu],h0=((go<<ip|lp)&16777215).toString(16);lp=go>>>24-ip&16777215,ip+=2,ip>=26&&(ip-=26,pu--),lp!==0||pu!==this.length-1?xl=ss[6-h0.length]+h0+xl:xl=h0+xl}for(lp!==0&&(xl=lp.toString(16)+xl);xl.length%us!==0;)xl="0"+xl;return this.negative!==0&&(xl="-"+xl),xl}if(as===(as|0)&&as>=2&&as<=36){var kp=ls[as],cm=cs[as];xl="";var b3=this.clone();for(b3.negative=0;!b3.isZero();){var L_=b3.modrn(cm).toString(as);b3=b3.idivn(cm),b3.isZero()?xl=L_+xl:xl=ss[kp-L_.length]+L_+xl}for(this.isZero()&&(xl="0"+xl);xl.length%us!==0;)xl="0"+xl;return this.negative!==0&&(xl="-"+xl),xl}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var as=this.words[0];return this.length===2?as+=this.words[1]*67108864:this.length===3&&this.words[2]===1?as+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-as:as},qt.prototype.toJSON=function(){return this.toString(16,2)},Zt&&(qt.prototype.toBuffer=function(as,us){return this.toArrayLike(Zt,as,us)}),qt.prototype.toArray=function(as,us){return this.toArrayLike(Array,as,us)};var wl=function(as,us){return as.allocUnsafe?as.allocUnsafe(us):new as(us)};qt.prototype.toArrayLike=function(as,us,xl){this._strip();var ip=this.byteLength(),lp=xl||Math.max(1,ip);_t(ip<=lp,"byte array longer than desired length"),_t(lp>0,"Requested array length <= 0");var pu=wl(as,lp),go=us==="le"?"LE":"BE";return this["_toArrayLike"+go](pu,ip),pu},qt.prototype._toArrayLikeLE=function(as,us){for(var xl=0,ip=0,lp=0,pu=0;lp<this.length;lp++){var go=this.words[lp]<<pu|ip;as[xl++]=go&255,xl<as.length&&(as[xl++]=go>>8&255),xl<as.length&&(as[xl++]=go>>16&255),pu===6?(xl<as.length&&(as[xl++]=go>>24&255),ip=0,pu=0):(ip=go>>>24,pu+=2)}if(xl<as.length)for(as[xl++]=ip;xl<as.length;)as[xl++]=0},qt.prototype._toArrayLikeBE=function(as,us){for(var xl=as.length-1,ip=0,lp=0,pu=0;lp<this.length;lp++){var go=this.words[lp]<<pu|ip;as[xl--]=go&255,xl>=0&&(as[xl--]=go>>8&255),xl>=0&&(as[xl--]=go>>16&255),pu===6?(xl>=0&&(as[xl--]=go>>24&255),ip=0,pu=0):(ip=go>>>24,pu+=2)}if(xl>=0)for(as[xl--]=ip;xl>=0;)as[xl--]=0},Math.clz32?qt.prototype._countBits=function(as){return 32-Math.clz32(as)}:qt.prototype._countBits=function(as){var us=as,xl=0;return us>=4096&&(xl+=13,us>>>=13),us>=64&&(xl+=7,us>>>=7),us>=8&&(xl+=4,us>>>=4),us>=2&&(xl+=2,us>>>=2),xl+us},qt.prototype._zeroBits=function(as){if(as===0)return 26;var us=as,xl=0;return us&8191||(xl+=13,us>>>=13),us&127||(xl+=7,us>>>=7),us&15||(xl+=4,us>>>=4),us&3||(xl+=2,us>>>=2),us&1||xl++,xl},qt.prototype.bitLength=function(){var as=this.words[this.length-1],us=this._countBits(as);return(this.length-1)*26+us};function ep(Fo){for(var as=new Array(Fo.bitLength()),us=0;us<as.length;us++){var xl=us/26|0,ip=us%26;as[us]=Fo.words[xl]>>>ip&1}return as}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var as=0,us=0;us<this.length;us++){var xl=this._zeroBits(this.words[us]);if(as+=xl,xl!==26)break}return as},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(as){return this.negative!==0?this.abs().inotn(as).iaddn(1):this.clone()},qt.prototype.fromTwos=function(as){return this.testn(as-1)?this.notn(as).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(as){for(;this.length<as.length;)this.words[this.length++]=0;for(var us=0;us<as.length;us++)this.words[us]=this.words[us]|as.words[us];return this._strip()},qt.prototype.ior=function(as){return _t((this.negative|as.negative)===0),this.iuor(as)},qt.prototype.or=function(as){return this.length>as.length?this.clone().ior(as):as.clone().ior(this)},qt.prototype.uor=function(as){return this.length>as.length?this.clone().iuor(as):as.clone().iuor(this)},qt.prototype.iuand=function(as){var us;this.length>as.length?us=as:us=this;for(var xl=0;xl<us.length;xl++)this.words[xl]=this.words[xl]&as.words[xl];return this.length=us.length,this._strip()},qt.prototype.iand=function(as){return _t((this.negative|as.negative)===0),this.iuand(as)},qt.prototype.and=function(as){return this.length>as.length?this.clone().iand(as):as.clone().iand(this)},qt.prototype.uand=function(as){return this.length>as.length?this.clone().iuand(as):as.clone().iuand(this)},qt.prototype.iuxor=function(as){var us,xl;this.length>as.length?(us=this,xl=as):(us=as,xl=this);for(var ip=0;ip<xl.length;ip++)this.words[ip]=us.words[ip]^xl.words[ip];if(this!==us)for(;ip<us.length;ip++)this.words[ip]=us.words[ip];return this.length=us.length,this._strip()},qt.prototype.ixor=function(as){return _t((this.negative|as.negative)===0),this.iuxor(as)},qt.prototype.xor=function(as){return this.length>as.length?this.clone().ixor(as):as.clone().ixor(this)},qt.prototype.uxor=function(as){return this.length>as.length?this.clone().iuxor(as):as.clone().iuxor(this)},qt.prototype.inotn=function(as){_t(typeof as=="number"&&as>=0);var us=Math.ceil(as/26)|0,xl=as%26;this._expand(us),xl>0&&us--;for(var ip=0;ip<us;ip++)this.words[ip]=~this.words[ip]&67108863;return xl>0&&(this.words[ip]=~this.words[ip]&67108863>>26-xl),this._strip()},qt.prototype.notn=function(as){return this.clone().inotn(as)},qt.prototype.setn=function(as,us){_t(typeof as=="number"&&as>=0);var xl=as/26|0,ip=as%26;return this._expand(xl+1),us?this.words[xl]=this.words[xl]|1<<ip:this.words[xl]=this.words[xl]&~(1<<ip),this._strip()},qt.prototype.iadd=function(as){var us;if(this.negative!==0&&as.negative===0)return this.negative=0,us=this.isub(as),this.negative^=1,this._normSign();if(this.negative===0&&as.negative!==0)return as.negative=0,us=this.isub(as),as.negative=1,us._normSign();var xl,ip;this.length>as.length?(xl=this,ip=as):(xl=as,ip=this);for(var lp=0,pu=0;pu<ip.length;pu++)us=(xl.words[pu]|0)+(ip.words[pu]|0)+lp,this.words[pu]=us&67108863,lp=us>>>26;for(;lp!==0&&pu<xl.length;pu++)us=(xl.words[pu]|0)+lp,this.words[pu]=us&67108863,lp=us>>>26;if(this.length=xl.length,lp!==0)this.words[this.length]=lp,this.length++;else if(xl!==this)for(;pu<xl.length;pu++)this.words[pu]=xl.words[pu];return this},qt.prototype.add=function(as){var us;return as.negative!==0&&this.negative===0?(as.negative=0,us=this.sub(as),as.negative^=1,us):as.negative===0&&this.negative!==0?(this.negative=0,us=as.sub(this),this.negative=1,us):this.length>as.length?this.clone().iadd(as):as.clone().iadd(this)},qt.prototype.isub=function(as){if(as.negative!==0){as.negative=0;var us=this.iadd(as);return as.negative=1,us._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(as),this.negative=1,this._normSign();var xl=this.cmp(as);if(xl===0)return this.negative=0,this.length=1,this.words[0]=0,this;var ip,lp;xl>0?(ip=this,lp=as):(ip=as,lp=this);for(var pu=0,go=0;go<lp.length;go++)us=(ip.words[go]|0)-(lp.words[go]|0)+pu,pu=us>>26,this.words[go]=us&67108863;for(;pu!==0&&go<ip.length;go++)us=(ip.words[go]|0)+pu,pu=us>>26,this.words[go]=us&67108863;if(pu===0&&go<ip.length&&ip!==this)for(;go<ip.length;go++)this.words[go]=ip.words[go];return this.length=Math.max(this.length,go),ip!==this&&(this.negative=1),this._strip()},qt.prototype.sub=function(as){return this.clone().isub(as)};function Al(Fo,as,us){us.negative=as.negative^Fo.negative;var xl=Fo.length+as.length|0;us.length=xl,xl=xl-1|0;var ip=Fo.words[0]|0,lp=as.words[0]|0,pu=ip*lp,go=pu&67108863,h0=pu/67108864|0;us.words[0]=go;for(var kp=1;kp<xl;kp++){for(var cm=h0>>>26,b3=h0&67108863,L_=Math.min(kp,as.length-1),Ym=Math.max(0,kp-Fo.length+1);Ym<=L_;Ym++){var Xm=kp-Ym|0;ip=Fo.words[Xm]|0,lp=as.words[Ym]|0,pu=ip*lp+b3,cm+=pu/67108864|0,b3=pu&67108863}us.words[kp]=b3|0,h0=cm|0}return h0!==0?us.words[kp]=h0|0:us.length--,us._strip()}var np=function(as,us,xl){var ip=as.words,lp=us.words,pu=xl.words,go=0,h0,kp,cm,b3=ip[0]|0,L_=b3&8191,Ym=b3>>>13,Xm=ip[1]|0,Jm=Xm&8191,$_=Xm>>>13,j_=ip[2]|0,h3=j_&8191,Fp=j_>>>13,W_=ip[3]|0,t4=W_&8191,Nw=W_>>>13,Dp=ip[4]|0,a1=Dp&8191,zp=Dp>>>13,v3=ip[5]|0,Mw=v3&8191,nw=v3>>>13,n4=ip[6]|0,Ww=n4&8191,F_=n4>>>13,qx=ip[7]|0,nM=qx&8191,Hm=qx>>>13,y3=ip[8]|0,Q_=y3&8191,Uw=y3>>>13,s4=ip[9]|0,rM=s4&8191,c4=s4>>>13,tM=lp[0]|0,R5=tM&8191,r4=tM>>>13,a4=lp[1]|0,cM=a4&8191,Yx=a4>>>13,D5=lp[2]|0,wM=D5&8191,uM=D5>>>13,fM=lp[3]|0,AM=fM&8191,lM=fM>>>13,vM=lp[4]|0,HM=vM&8191,xM=vM>>>13,RM=lp[5]|0,VM=RM&8191,SM=RM>>>13,gM=lp[6]|0,Z_=gM&8191,Bw=gM>>>13,Fw=lp[7]|0,B_=Fw&8191,Lw=Fw>>>13,eM=lp[8]|0,mM=eM&8191,G_=eM>>>13,r_=lp[9]|0,Vx=r_&8191,l4=r_>>>13;xl.negative=as.negative^us.negative,xl.length=19,h0=Math.imul(L_,R5),kp=Math.imul(L_,r4),kp=kp+Math.imul(Ym,R5)|0,cm=Math.imul(Ym,r4);var R4=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(R4>>>26)|0,R4&=67108863,h0=Math.imul(Jm,R5),kp=Math.imul(Jm,r4),kp=kp+Math.imul($_,R5)|0,cm=Math.imul($_,r4),h0=h0+Math.imul(L_,cM)|0,kp=kp+Math.imul(L_,Yx)|0,kp=kp+Math.imul(Ym,cM)|0,cm=cm+Math.imul(Ym,Yx)|0;var u4=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(u4>>>26)|0,u4&=67108863,h0=Math.imul(h3,R5),kp=Math.imul(h3,r4),kp=kp+Math.imul(Fp,R5)|0,cm=Math.imul(Fp,r4),h0=h0+Math.imul(Jm,cM)|0,kp=kp+Math.imul(Jm,Yx)|0,kp=kp+Math.imul($_,cM)|0,cm=cm+Math.imul($_,Yx)|0,h0=h0+Math.imul(L_,wM)|0,kp=kp+Math.imul(L_,uM)|0,kp=kp+Math.imul(Ym,wM)|0,cm=cm+Math.imul(Ym,uM)|0;var iM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(iM>>>26)|0,iM&=67108863,h0=Math.imul(t4,R5),kp=Math.imul(t4,r4),kp=kp+Math.imul(Nw,R5)|0,cm=Math.imul(Nw,r4),h0=h0+Math.imul(h3,cM)|0,kp=kp+Math.imul(h3,Yx)|0,kp=kp+Math.imul(Fp,cM)|0,cm=cm+Math.imul(Fp,Yx)|0,h0=h0+Math.imul(Jm,wM)|0,kp=kp+Math.imul(Jm,uM)|0,kp=kp+Math.imul($_,wM)|0,cm=cm+Math.imul($_,uM)|0,h0=h0+Math.imul(L_,AM)|0,kp=kp+Math.imul(L_,lM)|0,kp=kp+Math.imul(Ym,AM)|0,cm=cm+Math.imul(Ym,lM)|0;var hM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(hM>>>26)|0,hM&=67108863,h0=Math.imul(a1,R5),kp=Math.imul(a1,r4),kp=kp+Math.imul(zp,R5)|0,cm=Math.imul(zp,r4),h0=h0+Math.imul(t4,cM)|0,kp=kp+Math.imul(t4,Yx)|0,kp=kp+Math.imul(Nw,cM)|0,cm=cm+Math.imul(Nw,Yx)|0,h0=h0+Math.imul(h3,wM)|0,kp=kp+Math.imul(h3,uM)|0,kp=kp+Math.imul(Fp,wM)|0,cm=cm+Math.imul(Fp,uM)|0,h0=h0+Math.imul(Jm,AM)|0,kp=kp+Math.imul(Jm,lM)|0,kp=kp+Math.imul($_,AM)|0,cm=cm+Math.imul($_,lM)|0,h0=h0+Math.imul(L_,HM)|0,kp=kp+Math.imul(L_,xM)|0,kp=kp+Math.imul(Ym,HM)|0,cm=cm+Math.imul(Ym,xM)|0;var bM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(bM>>>26)|0,bM&=67108863,h0=Math.imul(Mw,R5),kp=Math.imul(Mw,r4),kp=kp+Math.imul(nw,R5)|0,cm=Math.imul(nw,r4),h0=h0+Math.imul(a1,cM)|0,kp=kp+Math.imul(a1,Yx)|0,kp=kp+Math.imul(zp,cM)|0,cm=cm+Math.imul(zp,Yx)|0,h0=h0+Math.imul(t4,wM)|0,kp=kp+Math.imul(t4,uM)|0,kp=kp+Math.imul(Nw,wM)|0,cm=cm+Math.imul(Nw,uM)|0,h0=h0+Math.imul(h3,AM)|0,kp=kp+Math.imul(h3,lM)|0,kp=kp+Math.imul(Fp,AM)|0,cm=cm+Math.imul(Fp,lM)|0,h0=h0+Math.imul(Jm,HM)|0,kp=kp+Math.imul(Jm,xM)|0,kp=kp+Math.imul($_,HM)|0,cm=cm+Math.imul($_,xM)|0,h0=h0+Math.imul(L_,VM)|0,kp=kp+Math.imul(L_,SM)|0,kp=kp+Math.imul(Ym,VM)|0,cm=cm+Math.imul(Ym,SM)|0;var yM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(yM>>>26)|0,yM&=67108863,h0=Math.imul(Ww,R5),kp=Math.imul(Ww,r4),kp=kp+Math.imul(F_,R5)|0,cm=Math.imul(F_,r4),h0=h0+Math.imul(Mw,cM)|0,kp=kp+Math.imul(Mw,Yx)|0,kp=kp+Math.imul(nw,cM)|0,cm=cm+Math.imul(nw,Yx)|0,h0=h0+Math.imul(a1,wM)|0,kp=kp+Math.imul(a1,uM)|0,kp=kp+Math.imul(zp,wM)|0,cm=cm+Math.imul(zp,uM)|0,h0=h0+Math.imul(t4,AM)|0,kp=kp+Math.imul(t4,lM)|0,kp=kp+Math.imul(Nw,AM)|0,cm=cm+Math.imul(Nw,lM)|0,h0=h0+Math.imul(h3,HM)|0,kp=kp+Math.imul(h3,xM)|0,kp=kp+Math.imul(Fp,HM)|0,cm=cm+Math.imul(Fp,xM)|0,h0=h0+Math.imul(Jm,VM)|0,kp=kp+Math.imul(Jm,SM)|0,kp=kp+Math.imul($_,VM)|0,cm=cm+Math.imul($_,SM)|0,h0=h0+Math.imul(L_,Z_)|0,kp=kp+Math.imul(L_,Bw)|0,kp=kp+Math.imul(Ym,Z_)|0,cm=cm+Math.imul(Ym,Bw)|0;var _M=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(_M>>>26)|0,_M&=67108863,h0=Math.imul(nM,R5),kp=Math.imul(nM,r4),kp=kp+Math.imul(Hm,R5)|0,cm=Math.imul(Hm,r4),h0=h0+Math.imul(Ww,cM)|0,kp=kp+Math.imul(Ww,Yx)|0,kp=kp+Math.imul(F_,cM)|0,cm=cm+Math.imul(F_,Yx)|0,h0=h0+Math.imul(Mw,wM)|0,kp=kp+Math.imul(Mw,uM)|0,kp=kp+Math.imul(nw,wM)|0,cm=cm+Math.imul(nw,uM)|0,h0=h0+Math.imul(a1,AM)|0,kp=kp+Math.imul(a1,lM)|0,kp=kp+Math.imul(zp,AM)|0,cm=cm+Math.imul(zp,lM)|0,h0=h0+Math.imul(t4,HM)|0,kp=kp+Math.imul(t4,xM)|0,kp=kp+Math.imul(Nw,HM)|0,cm=cm+Math.imul(Nw,xM)|0,h0=h0+Math.imul(h3,VM)|0,kp=kp+Math.imul(h3,SM)|0,kp=kp+Math.imul(Fp,VM)|0,cm=cm+Math.imul(Fp,SM)|0,h0=h0+Math.imul(Jm,Z_)|0,kp=kp+Math.imul(Jm,Bw)|0,kp=kp+Math.imul($_,Z_)|0,cm=cm+Math.imul($_,Bw)|0,h0=h0+Math.imul(L_,B_)|0,kp=kp+Math.imul(L_,Lw)|0,kp=kp+Math.imul(Ym,B_)|0,cm=cm+Math.imul(Ym,Lw)|0;var oM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(oM>>>26)|0,oM&=67108863,h0=Math.imul(Q_,R5),kp=Math.imul(Q_,r4),kp=kp+Math.imul(Uw,R5)|0,cm=Math.imul(Uw,r4),h0=h0+Math.imul(nM,cM)|0,kp=kp+Math.imul(nM,Yx)|0,kp=kp+Math.imul(Hm,cM)|0,cm=cm+Math.imul(Hm,Yx)|0,h0=h0+Math.imul(Ww,wM)|0,kp=kp+Math.imul(Ww,uM)|0,kp=kp+Math.imul(F_,wM)|0,cm=cm+Math.imul(F_,uM)|0,h0=h0+Math.imul(Mw,AM)|0,kp=kp+Math.imul(Mw,lM)|0,kp=kp+Math.imul(nw,AM)|0,cm=cm+Math.imul(nw,lM)|0,h0=h0+Math.imul(a1,HM)|0,kp=kp+Math.imul(a1,xM)|0,kp=kp+Math.imul(zp,HM)|0,cm=cm+Math.imul(zp,xM)|0,h0=h0+Math.imul(t4,VM)|0,kp=kp+Math.imul(t4,SM)|0,kp=kp+Math.imul(Nw,VM)|0,cm=cm+Math.imul(Nw,SM)|0,h0=h0+Math.imul(h3,Z_)|0,kp=kp+Math.imul(h3,Bw)|0,kp=kp+Math.imul(Fp,Z_)|0,cm=cm+Math.imul(Fp,Bw)|0,h0=h0+Math.imul(Jm,B_)|0,kp=kp+Math.imul(Jm,Lw)|0,kp=kp+Math.imul($_,B_)|0,cm=cm+Math.imul($_,Lw)|0,h0=h0+Math.imul(L_,mM)|0,kp=kp+Math.imul(L_,G_)|0,kp=kp+Math.imul(Ym,mM)|0,cm=cm+Math.imul(Ym,G_)|0;var LM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(LM>>>26)|0,LM&=67108863,h0=Math.imul(rM,R5),kp=Math.imul(rM,r4),kp=kp+Math.imul(c4,R5)|0,cm=Math.imul(c4,r4),h0=h0+Math.imul(Q_,cM)|0,kp=kp+Math.imul(Q_,Yx)|0,kp=kp+Math.imul(Uw,cM)|0,cm=cm+Math.imul(Uw,Yx)|0,h0=h0+Math.imul(nM,wM)|0,kp=kp+Math.imul(nM,uM)|0,kp=kp+Math.imul(Hm,wM)|0,cm=cm+Math.imul(Hm,uM)|0,h0=h0+Math.imul(Ww,AM)|0,kp=kp+Math.imul(Ww,lM)|0,kp=kp+Math.imul(F_,AM)|0,cm=cm+Math.imul(F_,lM)|0,h0=h0+Math.imul(Mw,HM)|0,kp=kp+Math.imul(Mw,xM)|0,kp=kp+Math.imul(nw,HM)|0,cm=cm+Math.imul(nw,xM)|0,h0=h0+Math.imul(a1,VM)|0,kp=kp+Math.imul(a1,SM)|0,kp=kp+Math.imul(zp,VM)|0,cm=cm+Math.imul(zp,SM)|0,h0=h0+Math.imul(t4,Z_)|0,kp=kp+Math.imul(t4,Bw)|0,kp=kp+Math.imul(Nw,Z_)|0,cm=cm+Math.imul(Nw,Bw)|0,h0=h0+Math.imul(h3,B_)|0,kp=kp+Math.imul(h3,Lw)|0,kp=kp+Math.imul(Fp,B_)|0,cm=cm+Math.imul(Fp,Lw)|0,h0=h0+Math.imul(Jm,mM)|0,kp=kp+Math.imul(Jm,G_)|0,kp=kp+Math.imul($_,mM)|0,cm=cm+Math.imul($_,G_)|0,h0=h0+Math.imul(L_,Vx)|0,kp=kp+Math.imul(L_,l4)|0,kp=kp+Math.imul(Ym,Vx)|0,cm=cm+Math.imul(Ym,l4)|0;var EM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(EM>>>26)|0,EM&=67108863,h0=Math.imul(rM,cM),kp=Math.imul(rM,Yx),kp=kp+Math.imul(c4,cM)|0,cm=Math.imul(c4,Yx),h0=h0+Math.imul(Q_,wM)|0,kp=kp+Math.imul(Q_,uM)|0,kp=kp+Math.imul(Uw,wM)|0,cm=cm+Math.imul(Uw,uM)|0,h0=h0+Math.imul(nM,AM)|0,kp=kp+Math.imul(nM,lM)|0,kp=kp+Math.imul(Hm,AM)|0,cm=cm+Math.imul(Hm,lM)|0,h0=h0+Math.imul(Ww,HM)|0,kp=kp+Math.imul(Ww,xM)|0,kp=kp+Math.imul(F_,HM)|0,cm=cm+Math.imul(F_,xM)|0,h0=h0+Math.imul(Mw,VM)|0,kp=kp+Math.imul(Mw,SM)|0,kp=kp+Math.imul(nw,VM)|0,cm=cm+Math.imul(nw,SM)|0,h0=h0+Math.imul(a1,Z_)|0,kp=kp+Math.imul(a1,Bw)|0,kp=kp+Math.imul(zp,Z_)|0,cm=cm+Math.imul(zp,Bw)|0,h0=h0+Math.imul(t4,B_)|0,kp=kp+Math.imul(t4,Lw)|0,kp=kp+Math.imul(Nw,B_)|0,cm=cm+Math.imul(Nw,Lw)|0,h0=h0+Math.imul(h3,mM)|0,kp=kp+Math.imul(h3,G_)|0,kp=kp+Math.imul(Fp,mM)|0,cm=cm+Math.imul(Fp,G_)|0,h0=h0+Math.imul(Jm,Vx)|0,kp=kp+Math.imul(Jm,l4)|0,kp=kp+Math.imul($_,Vx)|0,cm=cm+Math.imul($_,l4)|0;var BM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(BM>>>26)|0,BM&=67108863,h0=Math.imul(rM,wM),kp=Math.imul(rM,uM),kp=kp+Math.imul(c4,wM)|0,cm=Math.imul(c4,uM),h0=h0+Math.imul(Q_,AM)|0,kp=kp+Math.imul(Q_,lM)|0,kp=kp+Math.imul(Uw,AM)|0,cm=cm+Math.imul(Uw,lM)|0,h0=h0+Math.imul(nM,HM)|0,kp=kp+Math.imul(nM,xM)|0,kp=kp+Math.imul(Hm,HM)|0,cm=cm+Math.imul(Hm,xM)|0,h0=h0+Math.imul(Ww,VM)|0,kp=kp+Math.imul(Ww,SM)|0,kp=kp+Math.imul(F_,VM)|0,cm=cm+Math.imul(F_,SM)|0,h0=h0+Math.imul(Mw,Z_)|0,kp=kp+Math.imul(Mw,Bw)|0,kp=kp+Math.imul(nw,Z_)|0,cm=cm+Math.imul(nw,Bw)|0,h0=h0+Math.imul(a1,B_)|0,kp=kp+Math.imul(a1,Lw)|0,kp=kp+Math.imul(zp,B_)|0,cm=cm+Math.imul(zp,Lw)|0,h0=h0+Math.imul(t4,mM)|0,kp=kp+Math.imul(t4,G_)|0,kp=kp+Math.imul(Nw,mM)|0,cm=cm+Math.imul(Nw,G_)|0,h0=h0+Math.imul(h3,Vx)|0,kp=kp+Math.imul(h3,l4)|0,kp=kp+Math.imul(Fp,Vx)|0,cm=cm+Math.imul(Fp,l4)|0;var IM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(IM>>>26)|0,IM&=67108863,h0=Math.imul(rM,AM),kp=Math.imul(rM,lM),kp=kp+Math.imul(c4,AM)|0,cm=Math.imul(c4,lM),h0=h0+Math.imul(Q_,HM)|0,kp=kp+Math.imul(Q_,xM)|0,kp=kp+Math.imul(Uw,HM)|0,cm=cm+Math.imul(Uw,xM)|0,h0=h0+Math.imul(nM,VM)|0,kp=kp+Math.imul(nM,SM)|0,kp=kp+Math.imul(Hm,VM)|0,cm=cm+Math.imul(Hm,SM)|0,h0=h0+Math.imul(Ww,Z_)|0,kp=kp+Math.imul(Ww,Bw)|0,kp=kp+Math.imul(F_,Z_)|0,cm=cm+Math.imul(F_,Bw)|0,h0=h0+Math.imul(Mw,B_)|0,kp=kp+Math.imul(Mw,Lw)|0,kp=kp+Math.imul(nw,B_)|0,cm=cm+Math.imul(nw,Lw)|0,h0=h0+Math.imul(a1,mM)|0,kp=kp+Math.imul(a1,G_)|0,kp=kp+Math.imul(zp,mM)|0,cm=cm+Math.imul(zp,G_)|0,h0=h0+Math.imul(t4,Vx)|0,kp=kp+Math.imul(t4,l4)|0,kp=kp+Math.imul(Nw,Vx)|0,cm=cm+Math.imul(Nw,l4)|0;var $M=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+($M>>>26)|0,$M&=67108863,h0=Math.imul(rM,HM),kp=Math.imul(rM,xM),kp=kp+Math.imul(c4,HM)|0,cm=Math.imul(c4,xM),h0=h0+Math.imul(Q_,VM)|0,kp=kp+Math.imul(Q_,SM)|0,kp=kp+Math.imul(Uw,VM)|0,cm=cm+Math.imul(Uw,SM)|0,h0=h0+Math.imul(nM,Z_)|0,kp=kp+Math.imul(nM,Bw)|0,kp=kp+Math.imul(Hm,Z_)|0,cm=cm+Math.imul(Hm,Bw)|0,h0=h0+Math.imul(Ww,B_)|0,kp=kp+Math.imul(Ww,Lw)|0,kp=kp+Math.imul(F_,B_)|0,cm=cm+Math.imul(F_,Lw)|0,h0=h0+Math.imul(Mw,mM)|0,kp=kp+Math.imul(Mw,G_)|0,kp=kp+Math.imul(nw,mM)|0,cm=cm+Math.imul(nw,G_)|0,h0=h0+Math.imul(a1,Vx)|0,kp=kp+Math.imul(a1,l4)|0,kp=kp+Math.imul(zp,Vx)|0,cm=cm+Math.imul(zp,l4)|0;var NM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(NM>>>26)|0,NM&=67108863,h0=Math.imul(rM,VM),kp=Math.imul(rM,SM),kp=kp+Math.imul(c4,VM)|0,cm=Math.imul(c4,SM),h0=h0+Math.imul(Q_,Z_)|0,kp=kp+Math.imul(Q_,Bw)|0,kp=kp+Math.imul(Uw,Z_)|0,cm=cm+Math.imul(Uw,Bw)|0,h0=h0+Math.imul(nM,B_)|0,kp=kp+Math.imul(nM,Lw)|0,kp=kp+Math.imul(Hm,B_)|0,cm=cm+Math.imul(Hm,Lw)|0,h0=h0+Math.imul(Ww,mM)|0,kp=kp+Math.imul(Ww,G_)|0,kp=kp+Math.imul(F_,mM)|0,cm=cm+Math.imul(F_,G_)|0,h0=h0+Math.imul(Mw,Vx)|0,kp=kp+Math.imul(Mw,l4)|0,kp=kp+Math.imul(nw,Vx)|0,cm=cm+Math.imul(nw,l4)|0;var CM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(CM>>>26)|0,CM&=67108863,h0=Math.imul(rM,Z_),kp=Math.imul(rM,Bw),kp=kp+Math.imul(c4,Z_)|0,cm=Math.imul(c4,Bw),h0=h0+Math.imul(Q_,B_)|0,kp=kp+Math.imul(Q_,Lw)|0,kp=kp+Math.imul(Uw,B_)|0,cm=cm+Math.imul(Uw,Lw)|0,h0=h0+Math.imul(nM,mM)|0,kp=kp+Math.imul(nM,G_)|0,kp=kp+Math.imul(Hm,mM)|0,cm=cm+Math.imul(Hm,G_)|0,h0=h0+Math.imul(Ww,Vx)|0,kp=kp+Math.imul(Ww,l4)|0,kp=kp+Math.imul(F_,Vx)|0,cm=cm+Math.imul(F_,l4)|0;var pM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(pM>>>26)|0,pM&=67108863,h0=Math.imul(rM,B_),kp=Math.imul(rM,Lw),kp=kp+Math.imul(c4,B_)|0,cm=Math.imul(c4,Lw),h0=h0+Math.imul(Q_,mM)|0,kp=kp+Math.imul(Q_,G_)|0,kp=kp+Math.imul(Uw,mM)|0,cm=cm+Math.imul(Uw,G_)|0,h0=h0+Math.imul(nM,Vx)|0,kp=kp+Math.imul(nM,l4)|0,kp=kp+Math.imul(Hm,Vx)|0,cm=cm+Math.imul(Hm,l4)|0;var dM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(dM>>>26)|0,dM&=67108863,h0=Math.imul(rM,mM),kp=Math.imul(rM,G_),kp=kp+Math.imul(c4,mM)|0,cm=Math.imul(c4,G_),h0=h0+Math.imul(Q_,Vx)|0,kp=kp+Math.imul(Q_,l4)|0,kp=kp+Math.imul(Uw,Vx)|0,cm=cm+Math.imul(Uw,l4)|0;var PM=(go+h0|0)+((kp&8191)<<13)|0;go=(cm+(kp>>>13)|0)+(PM>>>26)|0,PM&=67108863,h0=Math.imul(rM,Vx),kp=Math.imul(rM,l4),kp=kp+Math.imul(c4,Vx)|0,cm=Math.imul(c4,l4);var DM=(go+h0|0)+((kp&8191)<<13)|0;return go=(cm+(kp>>>13)|0)+(DM>>>26)|0,DM&=67108863,pu[0]=R4,pu[1]=u4,pu[2]=iM,pu[3]=hM,pu[4]=bM,pu[5]=yM,pu[6]=_M,pu[7]=oM,pu[8]=LM,pu[9]=EM,pu[10]=BM,pu[11]=IM,pu[12]=$M,pu[13]=NM,pu[14]=CM,pu[15]=pM,pu[16]=dM,pu[17]=PM,pu[18]=DM,go!==0&&(pu[19]=go,xl.length++),xl};Math.imul||(np=Al);function cp(Fo,as,us){us.negative=as.negative^Fo.negative,us.length=Fo.length+as.length;for(var xl=0,ip=0,lp=0;lp<us.length-1;lp++){var pu=ip;ip=0;for(var go=xl&67108863,h0=Math.min(lp,as.length-1),kp=Math.max(0,lp-Fo.length+1);kp<=h0;kp++){var cm=lp-kp,b3=Fo.words[cm]|0,L_=as.words[kp]|0,Ym=b3*L_,Xm=Ym&67108863;pu=pu+(Ym/67108864|0)|0,Xm=Xm+go|0,go=Xm&67108863,pu=pu+(Xm>>>26)|0,ip+=pu>>>26,pu&=67108863}us.words[lp]=go,xl=pu,pu=ip}return xl!==0?us.words[lp]=xl:us.length--,us._strip()}function Cp(Fo,as,us){return cp(Fo,as,us)}qt.prototype.mulTo=function(as,us){var xl,ip=this.length+as.length;return this.length===10&&as.length===10?xl=np(this,as,us):ip<63?xl=Al(this,as,us):ip<1024?xl=cp(this,as,us):xl=Cp(this,as,us),xl},qt.prototype.mul=function(as){var us=new qt(null);return us.words=new Array(this.length+as.length),this.mulTo(as,us)},qt.prototype.mulf=function(as){var us=new qt(null);return us.words=new Array(this.length+as.length),Cp(this,as,us)},qt.prototype.imul=function(as){return this.clone().mulTo(as,this)},qt.prototype.imuln=function(as){var us=as<0;us&&(as=-as),_t(typeof as=="number"),_t(as<67108864);for(var xl=0,ip=0;ip<this.length;ip++){var lp=(this.words[ip]|0)*as,pu=(lp&67108863)+(xl&67108863);xl>>=26,xl+=lp/67108864|0,xl+=pu>>>26,this.words[ip]=pu&67108863}return xl!==0&&(this.words[ip]=xl,this.length++),this.length=as===0?1:this.length,us?this.ineg():this},qt.prototype.muln=function(as){return this.clone().imuln(as)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(as){var us=ep(as);if(us.length===0)return new qt(1);for(var xl=this,ip=0;ip<us.length&&us[ip]===0;ip++,xl=xl.sqr());if(++ip<us.length)for(var lp=xl.sqr();ip<us.length;ip++,lp=lp.sqr())us[ip]!==0&&(xl=xl.mul(lp));return xl},qt.prototype.iushln=function(as){_t(typeof as=="number"&&as>=0);var us=as%26,xl=(as-us)/26,ip=67108863>>>26-us<<26-us,lp;if(us!==0){var pu=0;for(lp=0;lp<this.length;lp++){var go=this.words[lp]&ip,h0=(this.words[lp]|0)-go<<us;this.words[lp]=h0|pu,pu=go>>>26-us}pu&&(this.words[lp]=pu,this.length++)}if(xl!==0){for(lp=this.length-1;lp>=0;lp--)this.words[lp+xl]=this.words[lp];for(lp=0;lp<xl;lp++)this.words[lp]=0;this.length+=xl}return this._strip()},qt.prototype.ishln=function(as){return _t(this.negative===0),this.iushln(as)},qt.prototype.iushrn=function(as,us,xl){_t(typeof as=="number"&&as>=0);var ip;us?ip=(us-us%26)/26:ip=0;var lp=as%26,pu=Math.min((as-lp)/26,this.length),go=67108863^67108863>>>lp<<lp,h0=xl;if(ip-=pu,ip=Math.max(0,ip),h0){for(var kp=0;kp<pu;kp++)h0.words[kp]=this.words[kp];h0.length=pu}if(pu!==0)if(this.length>pu)for(this.length-=pu,kp=0;kp<this.length;kp++)this.words[kp]=this.words[kp+pu];else this.words[0]=0,this.length=1;var cm=0;for(kp=this.length-1;kp>=0&&(cm!==0||kp>=ip);kp--){var b3=this.words[kp]|0;this.words[kp]=cm<<26-lp|b3>>>lp,cm=b3&go}return h0&&cm!==0&&(h0.words[h0.length++]=cm),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},qt.prototype.ishrn=function(as,us,xl){return _t(this.negative===0),this.iushrn(as,us,xl)},qt.prototype.shln=function(as){return this.clone().ishln(as)},qt.prototype.ushln=function(as){return this.clone().iushln(as)},qt.prototype.shrn=function(as){return this.clone().ishrn(as)},qt.prototype.ushrn=function(as){return this.clone().iushrn(as)},qt.prototype.testn=function(as){_t(typeof as=="number"&&as>=0);var us=as%26,xl=(as-us)/26,ip=1<<us;if(this.length<=xl)return!1;var lp=this.words[xl];return!!(lp&ip)},qt.prototype.imaskn=function(as){_t(typeof as=="number"&&as>=0);var us=as%26,xl=(as-us)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=xl)return this;if(us!==0&&xl++,this.length=Math.min(xl,this.length),us!==0){var ip=67108863^67108863>>>us<<us;this.words[this.length-1]&=ip}return this._strip()},qt.prototype.maskn=function(as){return this.clone().imaskn(as)},qt.prototype.iaddn=function(as){return _t(typeof as=="number"),_t(as<67108864),as<0?this.isubn(-as):this.negative!==0?this.length===1&&(this.words[0]|0)<=as?(this.words[0]=as-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(as),this.negative=1,this):this._iaddn(as)},qt.prototype._iaddn=function(as){this.words[0]+=as;for(var us=0;us<this.length&&this.words[us]>=67108864;us++)this.words[us]-=67108864,us===this.length-1?this.words[us+1]=1:this.words[us+1]++;return this.length=Math.max(this.length,us+1),this},qt.prototype.isubn=function(as){if(_t(typeof as=="number"),_t(as<67108864),as<0)return this.iaddn(-as);if(this.negative!==0)return this.negative=0,this.iaddn(as),this.negative=1,this;if(this.words[0]-=as,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var us=0;us<this.length&&this.words[us]<0;us++)this.words[us]+=67108864,this.words[us+1]-=1;return this._strip()},qt.prototype.addn=function(as){return this.clone().iaddn(as)},qt.prototype.subn=function(as){return this.clone().isubn(as)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(as,us,xl){var ip=as.length+xl,lp;this._expand(ip);var pu,go=0;for(lp=0;lp<as.length;lp++){pu=(this.words[lp+xl]|0)+go;var h0=(as.words[lp]|0)*us;pu-=h0&67108863,go=(pu>>26)-(h0/67108864|0),this.words[lp+xl]=pu&67108863}for(;lp<this.length-xl;lp++)pu=(this.words[lp+xl]|0)+go,go=pu>>26,this.words[lp+xl]=pu&67108863;if(go===0)return this._strip();for(_t(go===-1),go=0,lp=0;lp<this.length;lp++)pu=-(this.words[lp]|0)+go,go=pu>>26,this.words[lp]=pu&67108863;return this.negative=1,this._strip()},qt.prototype._wordDiv=function(as,us){var xl=this.length-as.length,ip=this.clone(),lp=as,pu=lp.words[lp.length-1]|0,go=this._countBits(pu);xl=26-go,xl!==0&&(lp=lp.ushln(xl),ip.iushln(xl),pu=lp.words[lp.length-1]|0);var h0=ip.length-lp.length,kp;if(us!=="mod"){kp=new qt(null),kp.length=h0+1,kp.words=new Array(kp.length);for(var cm=0;cm<kp.length;cm++)kp.words[cm]=0}var b3=ip.clone()._ishlnsubmul(lp,1,h0);b3.negative===0&&(ip=b3,kp&&(kp.words[h0]=1));for(var L_=h0-1;L_>=0;L_--){var Ym=(ip.words[lp.length+L_]|0)*67108864+(ip.words[lp.length+L_-1]|0);for(Ym=Math.min(Ym/pu|0,67108863),ip._ishlnsubmul(lp,Ym,L_);ip.negative!==0;)Ym--,ip.negative=0,ip._ishlnsubmul(lp,1,L_),ip.isZero()||(ip.negative^=1);kp&&(kp.words[L_]=Ym)}return kp&&kp._strip(),ip._strip(),us!=="div"&&xl!==0&&ip.iushrn(xl),{div:kp||null,mod:ip}},qt.prototype.divmod=function(as,us,xl){if(_t(!as.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var ip,lp,pu;return this.negative!==0&&as.negative===0?(pu=this.neg().divmod(as,us),us!=="mod"&&(ip=pu.div.neg()),us!=="div"&&(lp=pu.mod.neg(),xl&&lp.negative!==0&&lp.iadd(as)),{div:ip,mod:lp}):this.negative===0&&as.negative!==0?(pu=this.divmod(as.neg(),us),us!=="mod"&&(ip=pu.div.neg()),{div:ip,mod:pu.mod}):this.negative&as.negative?(pu=this.neg().divmod(as.neg(),us),us!=="div"&&(lp=pu.mod.neg(),xl&&lp.negative!==0&&lp.isub(as)),{div:pu.div,mod:lp}):as.length>this.length||this.cmp(as)<0?{div:new qt(0),mod:this}:as.length===1?us==="div"?{div:this.divn(as.words[0]),mod:null}:us==="mod"?{div:null,mod:new qt(this.modrn(as.words[0]))}:{div:this.divn(as.words[0]),mod:new qt(this.modrn(as.words[0]))}:this._wordDiv(as,us)},qt.prototype.div=function(as){return this.divmod(as,"div",!1).div},qt.prototype.mod=function(as){return this.divmod(as,"mod",!1).mod},qt.prototype.umod=function(as){return this.divmod(as,"mod",!0).mod},qt.prototype.divRound=function(as){var us=this.divmod(as);if(us.mod.isZero())return us.div;var xl=us.div.negative!==0?us.mod.isub(as):us.mod,ip=as.ushrn(1),lp=as.andln(1),pu=xl.cmp(ip);return pu<0||lp===1&&pu===0?us.div:us.div.negative!==0?us.div.isubn(1):us.div.iaddn(1)},qt.prototype.modrn=function(as){var us=as<0;us&&(as=-as),_t(as<=67108863);for(var xl=(1<<26)%as,ip=0,lp=this.length-1;lp>=0;lp--)ip=(xl*ip+(this.words[lp]|0))%as;return us?-ip:ip},qt.prototype.modn=function(as){return this.modrn(as)},qt.prototype.idivn=function(as){var us=as<0;us&&(as=-as),_t(as<=67108863);for(var xl=0,ip=this.length-1;ip>=0;ip--){var lp=(this.words[ip]|0)+xl*67108864;this.words[ip]=lp/as|0,xl=lp%as}return this._strip(),us?this.ineg():this},qt.prototype.divn=function(as){return this.clone().idivn(as)},qt.prototype.egcd=function(as){_t(as.negative===0),_t(!as.isZero());var us=this,xl=as.clone();us.negative!==0?us=us.umod(as):us=us.clone();for(var ip=new qt(1),lp=new qt(0),pu=new qt(0),go=new qt(1),h0=0;us.isEven()&&xl.isEven();)us.iushrn(1),xl.iushrn(1),++h0;for(var kp=xl.clone(),cm=us.clone();!us.isZero();){for(var b3=0,L_=1;!(us.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(us.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(kp),lp.isub(cm)),ip.iushrn(1),lp.iushrn(1);for(var Ym=0,Xm=1;!(xl.words[0]&Xm)&&Ym<26;++Ym,Xm<<=1);if(Ym>0)for(xl.iushrn(Ym);Ym-- >0;)(pu.isOdd()||go.isOdd())&&(pu.iadd(kp),go.isub(cm)),pu.iushrn(1),go.iushrn(1);us.cmp(xl)>=0?(us.isub(xl),ip.isub(pu),lp.isub(go)):(xl.isub(us),pu.isub(ip),go.isub(lp))}return{a:pu,b:go,gcd:xl.iushln(h0)}},qt.prototype._invmp=function(as){_t(as.negative===0),_t(!as.isZero());var us=this,xl=as.clone();us.negative!==0?us=us.umod(as):us=us.clone();for(var ip=new qt(1),lp=new qt(0),pu=xl.clone();us.cmpn(1)>0&&xl.cmpn(1)>0;){for(var go=0,h0=1;!(us.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(us.iushrn(go);go-- >0;)ip.isOdd()&&ip.iadd(pu),ip.iushrn(1);for(var kp=0,cm=1;!(xl.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(xl.iushrn(kp);kp-- >0;)lp.isOdd()&&lp.iadd(pu),lp.iushrn(1);us.cmp(xl)>=0?(us.isub(xl),ip.isub(lp)):(xl.isub(us),lp.isub(ip))}var b3;return us.cmpn(1)===0?b3=ip:b3=lp,b3.cmpn(0)<0&&b3.iadd(as),b3},qt.prototype.gcd=function(as){if(this.isZero())return as.abs();if(as.isZero())return this.abs();var us=this.clone(),xl=as.clone();us.negative=0,xl.negative=0;for(var ip=0;us.isEven()&&xl.isEven();ip++)us.iushrn(1),xl.iushrn(1);do{for(;us.isEven();)us.iushrn(1);for(;xl.isEven();)xl.iushrn(1);var lp=us.cmp(xl);if(lp<0){var pu=us;us=xl,xl=pu}else if(lp===0||xl.cmpn(1)===0)break;us.isub(xl)}while(!0);return xl.iushln(ip)},qt.prototype.invm=function(as){return this.egcd(as).a.umod(as)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(as){return this.words[0]&as},qt.prototype.bincn=function(as){_t(typeof as=="number");var us=as%26,xl=(as-us)/26,ip=1<<us;if(this.length<=xl)return this._expand(xl+1),this.words[xl]|=ip,this;for(var lp=ip,pu=xl;lp!==0&&pu<this.length;pu++){var go=this.words[pu]|0;go+=lp,lp=go>>>26,go&=67108863,this.words[pu]=go}return lp!==0&&(this.words[pu]=lp,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(as){var us=as<0;if(this.negative!==0&&!us)return-1;if(this.negative===0&&us)return 1;this._strip();var xl;if(this.length>1)xl=1;else{us&&(as=-as),_t(as<=67108863,"Number is too big");var ip=this.words[0]|0;xl=ip===as?0:ip<as?-1:1}return this.negative!==0?-xl|0:xl},qt.prototype.cmp=function(as){if(this.negative!==0&&as.negative===0)return-1;if(this.negative===0&&as.negative!==0)return 1;var us=this.ucmp(as);return this.negative!==0?-us|0:us},qt.prototype.ucmp=function(as){if(this.length>as.length)return 1;if(this.length<as.length)return-1;for(var us=0,xl=this.length-1;xl>=0;xl--){var ip=this.words[xl]|0,lp=as.words[xl]|0;if(ip!==lp){ip<lp?us=-1:ip>lp&&(us=1);break}}return us},qt.prototype.gtn=function(as){return this.cmpn(as)===1},qt.prototype.gt=function(as){return this.cmp(as)===1},qt.prototype.gten=function(as){return this.cmpn(as)>=0},qt.prototype.gte=function(as){return this.cmp(as)>=0},qt.prototype.ltn=function(as){return this.cmpn(as)===-1},qt.prototype.lt=function(as){return this.cmp(as)===-1},qt.prototype.lten=function(as){return this.cmpn(as)<=0},qt.prototype.lte=function(as){return this.cmp(as)<=0},qt.prototype.eqn=function(as){return this.cmpn(as)===0},qt.prototype.eq=function(as){return this.cmp(as)===0},qt.red=function(as){return new op(as)},qt.prototype.toRed=function(as){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),as.convertTo(this)._forceRed(as)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(as){return this.red=as,this},qt.prototype.forceRed=function(as){return _t(!this.red,"Already a number in reduction context"),this._forceRed(as)},qt.prototype.redAdd=function(as){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,as)},qt.prototype.redIAdd=function(as){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,as)},qt.prototype.redSub=function(as){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,as)},qt.prototype.redISub=function(as){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,as)},qt.prototype.redShl=function(as){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,as)},qt.prototype.redMul=function(as){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,as),this.red.mul(this,as)},qt.prototype.redIMul=function(as){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,as),this.red.imul(this,as)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(as){return _t(this.red&&!as.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,as)};var Lp={k256:null,p224:null,p192:null,p25519:null};function jp(Fo,as){this.name=Fo,this.p=new qt(as,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}jp.prototype._tmp=function(){var as=new qt(null);return as.words=new Array(Math.ceil(this.n/13)),as},jp.prototype.ireduce=function(as){var us=as,xl;do this.split(us,this.tmp),us=this.imulK(us),us=us.iadd(this.tmp),xl=us.bitLength();while(xl>this.n);var ip=xl<this.n?-1:us.ucmp(this.p);return ip===0?(us.words[0]=0,us.length=1):ip>0?us.isub(this.p):us.strip!==void 0?us.strip():us._strip(),us},jp.prototype.split=function(as,us){as.iushrn(this.n,0,us)},jp.prototype.imulK=function(as){return as.imul(this.k)};function nm(){jp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(nm,jp),nm.prototype.split=function(as,us){for(var xl=4194303,ip=Math.min(as.length,9),lp=0;lp<ip;lp++)us.words[lp]=as.words[lp];if(us.length=ip,as.length<=9){as.words[0]=0,as.length=1;return}var pu=as.words[9];for(us.words[us.length++]=pu&xl,lp=10;lp<as.length;lp++){var go=as.words[lp]|0;as.words[lp-10]=(go&xl)<<4|pu>>>22,pu=go}pu>>>=22,as.words[lp-10]=pu,pu===0&&as.length>10?as.length-=10:as.length-=9},nm.prototype.imulK=function(as){as.words[as.length]=0,as.words[as.length+1]=0,as.length+=2;for(var us=0,xl=0;xl<as.length;xl++){var ip=as.words[xl]|0;us+=ip*977,as.words[xl]=us&67108863,us=ip*64+(us/67108864|0)}return as.words[as.length-1]===0&&(as.length--,as.words[as.length-1]===0&&as.length--),as};function zm(){jp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(zm,jp);function i1(){jp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(i1,jp);function d3(){jp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(d3,jp),d3.prototype.imulK=function(as){for(var us=0,xl=0;xl<as.length;xl++){var ip=(as.words[xl]|0)*19+us,lp=ip&67108863;ip>>>=26,as.words[xl]=lp,us=ip}return us!==0&&(as.words[as.length++]=us),as},qt._prime=function(as){if(Lp[as])return Lp[as];var us;if(as==="k256")us=new nm;else if(as==="p224")us=new zm;else if(as==="p192")us=new i1;else if(as==="p25519")us=new d3;else throw new Error("Unknown prime "+as);return Lp[as]=us,us};function op(Fo){if(typeof Fo=="string"){var as=qt._prime(Fo);this.m=as.p,this.prime=as}else _t(Fo.gtn(1),"modulus must be greater than 1"),this.m=Fo,this.prime=null}op.prototype._verify1=function(as){_t(as.negative===0,"red works only with positives"),_t(as.red,"red works only with red numbers")},op.prototype._verify2=function(as,us){_t((as.negative|us.negative)===0,"red works only with positives"),_t(as.red&&as.red===us.red,"red works only with red numbers")},op.prototype.imod=function(as){return this.prime?this.prime.ireduce(as)._forceRed(this):(xn(as,as.umod(this.m)._forceRed(this)),as)},op.prototype.neg=function(as){return as.isZero()?as.clone():this.m.sub(as)._forceRed(this)},op.prototype.add=function(as,us){this._verify2(as,us);var xl=as.add(us);return xl.cmp(this.m)>=0&&xl.isub(this.m),xl._forceRed(this)},op.prototype.iadd=function(as,us){this._verify2(as,us);var xl=as.iadd(us);return xl.cmp(this.m)>=0&&xl.isub(this.m),xl},op.prototype.sub=function(as,us){this._verify2(as,us);var xl=as.sub(us);return xl.cmpn(0)<0&&xl.iadd(this.m),xl._forceRed(this)},op.prototype.isub=function(as,us){this._verify2(as,us);var xl=as.isub(us);return xl.cmpn(0)<0&&xl.iadd(this.m),xl},op.prototype.shl=function(as,us){return this._verify1(as),this.imod(as.ushln(us))},op.prototype.imul=function(as,us){return this._verify2(as,us),this.imod(as.imul(us))},op.prototype.mul=function(as,us){return this._verify2(as,us),this.imod(as.mul(us))},op.prototype.isqr=function(as){return this.imul(as,as.clone())},op.prototype.sqr=function(as){return this.mul(as,as)},op.prototype.sqrt=function(as){if(as.isZero())return as.clone();var us=this.m.andln(3);if(_t(us%2===1),us===3){var xl=this.m.add(new qt(1)).iushrn(2);return this.pow(as,xl)}for(var ip=this.m.subn(1),lp=0;!ip.isZero()&&ip.andln(1)===0;)lp++,ip.iushrn(1);_t(!ip.isZero());var pu=new qt(1).toRed(this),go=pu.redNeg(),h0=this.m.subn(1).iushrn(1),kp=this.m.bitLength();for(kp=new qt(2*kp*kp).toRed(this);this.pow(kp,h0).cmp(go)!==0;)kp.redIAdd(go);for(var cm=this.pow(kp,ip),b3=this.pow(as,ip.addn(1).iushrn(1)),L_=this.pow(as,ip),Ym=lp;L_.cmp(pu)!==0;){for(var Xm=L_,Jm=0;Xm.cmp(pu)!==0;Jm++)Xm=Xm.redSqr();_t(Jm<Ym);var $_=this.pow(cm,new qt(1).iushln(Ym-Jm-1));b3=b3.redMul($_),cm=$_.redSqr(),L_=L_.redMul(cm),Ym=Jm}return b3},op.prototype.invm=function(as){var us=as._invmp(this.m);return us.negative!==0?(us.negative=0,this.imod(us).redNeg()):this.imod(us)},op.prototype.pow=function(as,us){if(us.isZero())return new qt(1).toRed(this);if(us.cmpn(1)===0)return as.clone();var xl=4,ip=new Array(1<<xl);ip[0]=new qt(1).toRed(this),ip[1]=as;for(var lp=2;lp<ip.length;lp++)ip[lp]=this.mul(ip[lp-1],as);var pu=ip[0],go=0,h0=0,kp=us.bitLength()%26;for(kp===0&&(kp=26),lp=us.length-1;lp>=0;lp--){for(var cm=us.words[lp],b3=kp-1;b3>=0;b3--){var L_=cm>>b3&1;if(pu!==ip[0]&&(pu=this.sqr(pu)),L_===0&&go===0){h0=0;continue}go<<=1,go|=L_,h0++,!(h0!==xl&&(lp!==0||b3!==0))&&(pu=this.mul(pu,ip[go]),h0=0,go=0)}kp=26}return pu},op.prototype.convertTo=function(as){var us=as.umod(this.m);return us===as?us.clone():us},op.prototype.convertFrom=function(as){var us=as.clone();return us.red=null,us},qt.mont=function(as){return new Sn(as)};function Sn(Fo){op.call(this,Fo),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(Sn,op),Sn.prototype.convertTo=function(as){return this.imod(as.ushln(this.shift))},Sn.prototype.convertFrom=function(as){var us=this.imod(as.mul(this.rinv));return us.red=null,us},Sn.prototype.imul=function(as,us){if(as.isZero()||us.isZero())return as.words[0]=0,as.length=1,as;var xl=as.imul(us),ip=xl.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lp=xl.isub(ip).iushrn(this.shift),pu=lp;return lp.cmp(this.m)>=0?pu=lp.isub(this.m):lp.cmpn(0)<0&&(pu=lp.iadd(this.m)),pu._forceRed(this)},Sn.prototype.mul=function(as,us){if(as.isZero()||us.isZero())return new qt(0)._forceRed(this);var xl=as.mul(us),ip=xl.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),lp=xl.isub(ip).iushrn(this.shift),pu=lp;return lp.cmp(this.m)>=0?pu=lp.isub(this.m):lp.cmpn(0)<0&&(pu=lp.iadd(this.m)),pu._forceRed(this)},Sn.prototype.invm=function(as){var us=this.imod(as._invmp(this.m).mul(this.r2));return us._forceRed(this)}})(ut,commonjsGlobal)}(bn$5)),bn$5.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var ut=requireBn$4(),lt=requireBrowser$b(),ht=requireSafeBuffer$1().Buffer;function _t(Zt){var cr=Zt.modulus.byteLength(),Gr;do Gr=new ut(lt(cr));while(Gr.cmp(Zt.modulus)>=0||!Gr.umod(Zt.prime1)||!Gr.umod(Zt.prime2));return Gr}function At(Zt){var cr=_t(Zt),Gr=cr.toRed(ut.mont(Zt.modulus)).redPow(new ut(Zt.publicExponent)).fromRed();return{blinder:Gr,unblinder:cr.invm(Zt.modulus)}}function qt(Zt,cr){var Gr=At(cr),Zr=cr.modulus.byteLength(),xn=new ut(Zt).mul(Gr.blinder).umod(cr.modulus),On=xn.toRed(ut.mont(cr.prime1)),ss=xn.toRed(ut.mont(cr.prime2)),ls=cr.coefficient,cs=cr.prime1,wl=cr.prime2,ep=On.redPow(cr.exponent1).fromRed(),Al=ss.redPow(cr.exponent2).fromRed(),np=ep.isub(Al).imul(ls).umod(cs).imul(wl);return Al.iadd(np).imul(Gr.unblinder).umod(cr.modulus).toArrayLike(ht,"be",Zr)}return qt.getr=_t,browserifyRsa=qt,browserifyRsa}var elliptic={};const name="elliptic",version$1="6.6.1",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},require$$0={name,version:version$1,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies};var utils$4={},bn$4={exports:{}};bn$4.exports;var hasRequiredBn$3;function requireBn$3(){return hasRequiredBn$3||(hasRequiredBn$3=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$4)),bn$4.exports}var utils$3={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,function(ut){var lt=ut;function ht(qt,Zt){if(Array.isArray(qt))return qt.slice();if(!qt)return[];var cr=[];if(typeof qt!="string"){for(var Gr=0;Gr<qt.length;Gr++)cr[Gr]=qt[Gr]|0;return cr}if(Zt==="hex"){qt=qt.replace(/[^a-z0-9]+/ig,""),qt.length%2!==0&&(qt="0"+qt);for(var Gr=0;Gr<qt.length;Gr+=2)cr.push(parseInt(qt[Gr]+qt[Gr+1],16))}else for(var Gr=0;Gr<qt.length;Gr++){var Zr=qt.charCodeAt(Gr),xn=Zr>>8,On=Zr&255;xn?cr.push(xn,On):cr.push(On)}return cr}lt.toArray=ht;function _t(qt){return qt.length===1?"0"+qt:qt}lt.zero2=_t;function At(qt){for(var Zt="",cr=0;cr<qt.length;cr++)Zt+=_t(qt[cr].toString(16));return Zt}lt.toHex=At,lt.encode=function(Zt,cr){return cr==="hex"?At(Zt):Zt}}(utils$3)),utils$3}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,function(ut){var lt=ut,ht=requireBn$3(),_t=requireMinimalisticAssert(),At=requireUtils$2();lt.assert=_t,lt.toArray=At.toArray,lt.zero2=At.zero2,lt.toHex=At.toHex,lt.encode=At.encode;function qt(xn,On,ss){var ls=new Array(Math.max(xn.bitLength(),ss)+1),cs;for(cs=0;cs<ls.length;cs+=1)ls[cs]=0;var wl=1<<On+1,ep=xn.clone();for(cs=0;cs<ls.length;cs++){var Al,np=ep.andln(wl-1);ep.isOdd()?(np>(wl>>1)-1?Al=(wl>>1)-np:Al=np,ep.isubn(Al)):Al=0,ls[cs]=Al,ep.iushrn(1)}return ls}lt.getNAF=qt;function Zt(xn,On){var ss=[[],[]];xn=xn.clone(),On=On.clone();for(var ls=0,cs=0,wl;xn.cmpn(-ls)>0||On.cmpn(-cs)>0;){var ep=xn.andln(3)+ls&3,Al=On.andln(3)+cs&3;ep===3&&(ep=-1),Al===3&&(Al=-1);var np;ep&1?(wl=xn.andln(7)+ls&7,(wl===3||wl===5)&&Al===2?np=-ep:np=ep):np=0,ss[0].push(np);var cp;Al&1?(wl=On.andln(7)+cs&7,(wl===3||wl===5)&&ep===2?cp=-Al:cp=Al):cp=0,ss[1].push(cp),2*ls===np+1&&(ls=1-ls),2*cs===cp+1&&(cs=1-cs),xn.iushrn(1),On.iushrn(1)}return ss}lt.getJSF=Zt;function cr(xn,On,ss){var ls="_"+On;xn.prototype[On]=function(){return this[ls]!==void 0?this[ls]:this[ls]=ss.call(this)}}lt.cachedProperty=cr;function Gr(xn){return typeof xn=="string"?lt.toArray(xn,"hex"):xn}lt.parseBytes=Gr;function Zr(xn){return new ht(xn,"hex","le")}lt.intFromLE=Zr}(utils$4)),utils$4}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var ut=requireBn$3(),lt=requireUtils$1(),ht=lt.getNAF,_t=lt.getJSF,At=lt.assert;function qt(cr,Gr){this.type=cr,this.p=new ut(Gr.p,16),this.red=Gr.prime?ut.red(Gr.prime):ut.mont(this.p),this.zero=new ut(0).toRed(this.red),this.one=new ut(1).toRed(this.red),this.two=new ut(2).toRed(this.red),this.n=Gr.n&&new ut(Gr.n,16),this.g=Gr.g&&this.pointFromJSON(Gr.g,Gr.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var Zr=this.n&&this.p.div(this.n);!Zr||Zr.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=qt,qt.prototype.point=function(){throw new Error("Not implemented")},qt.prototype.validate=function(){throw new Error("Not implemented")},qt.prototype._fixedNafMul=function(Gr,Zr){At(Gr.precomputed);var xn=Gr._getDoubles(),On=ht(Zr,1,this._bitLength),ss=(1<<xn.step+1)-(xn.step%2===0?2:1);ss/=3;var ls=[],cs,wl;for(cs=0;cs<On.length;cs+=xn.step){wl=0;for(var ep=cs+xn.step-1;ep>=cs;ep--)wl=(wl<<1)+On[ep];ls.push(wl)}for(var Al=this.jpoint(null,null,null),np=this.jpoint(null,null,null),cp=ss;cp>0;cp--){for(cs=0;cs<ls.length;cs++)wl=ls[cs],wl===cp?np=np.mixedAdd(xn.points[cs]):wl===-cp&&(np=np.mixedAdd(xn.points[cs].neg()));Al=Al.add(np)}return Al.toP()},qt.prototype._wnafMul=function(Gr,Zr){var xn=4,On=Gr._getNAFPoints(xn);xn=On.wnd;for(var ss=On.points,ls=ht(Zr,xn,this._bitLength),cs=this.jpoint(null,null,null),wl=ls.length-1;wl>=0;wl--){for(var ep=0;wl>=0&&ls[wl]===0;wl--)ep++;if(wl>=0&&ep++,cs=cs.dblp(ep),wl<0)break;var Al=ls[wl];At(Al!==0),Gr.type==="affine"?Al>0?cs=cs.mixedAdd(ss[Al-1>>1]):cs=cs.mixedAdd(ss[-Al-1>>1].neg()):Al>0?cs=cs.add(ss[Al-1>>1]):cs=cs.add(ss[-Al-1>>1].neg())}return Gr.type==="affine"?cs.toP():cs},qt.prototype._wnafMulAdd=function(Gr,Zr,xn,On,ss){var ls=this._wnafT1,cs=this._wnafT2,wl=this._wnafT3,ep=0,Al,np,cp;for(Al=0;Al<On;Al++){cp=Zr[Al];var Cp=cp._getNAFPoints(Gr);ls[Al]=Cp.wnd,cs[Al]=Cp.points}for(Al=On-1;Al>=1;Al-=2){var Lp=Al-1,jp=Al;if(ls[Lp]!==1||ls[jp]!==1){wl[Lp]=ht(xn[Lp],ls[Lp],this._bitLength),wl[jp]=ht(xn[jp],ls[jp],this._bitLength),ep=Math.max(wl[Lp].length,ep),ep=Math.max(wl[jp].length,ep);continue}var nm=[Zr[Lp],null,null,Zr[jp]];Zr[Lp].y.cmp(Zr[jp].y)===0?(nm[1]=Zr[Lp].add(Zr[jp]),nm[2]=Zr[Lp].toJ().mixedAdd(Zr[jp].neg())):Zr[Lp].y.cmp(Zr[jp].y.redNeg())===0?(nm[1]=Zr[Lp].toJ().mixedAdd(Zr[jp]),nm[2]=Zr[Lp].add(Zr[jp].neg())):(nm[1]=Zr[Lp].toJ().mixedAdd(Zr[jp]),nm[2]=Zr[Lp].toJ().mixedAdd(Zr[jp].neg()));var zm=[-3,-1,-5,-7,0,7,5,1,3],i1=_t(xn[Lp],xn[jp]);for(ep=Math.max(i1[0].length,ep),wl[Lp]=new Array(ep),wl[jp]=new Array(ep),np=0;np<ep;np++){var d3=i1[0][np]|0,op=i1[1][np]|0;wl[Lp][np]=zm[(d3+1)*3+(op+1)],wl[jp][np]=0,cs[Lp]=nm}}var Sn=this.jpoint(null,null,null),Fo=this._wnafT4;for(Al=ep;Al>=0;Al--){for(var as=0;Al>=0;){var us=!0;for(np=0;np<On;np++)Fo[np]=wl[np][Al]|0,Fo[np]!==0&&(us=!1);if(!us)break;as++,Al--}if(Al>=0&&as++,Sn=Sn.dblp(as),Al<0)break;for(np=0;np<On;np++){var xl=Fo[np];xl!==0&&(xl>0?cp=cs[np][xl-1>>1]:xl<0&&(cp=cs[np][-xl-1>>1].neg()),cp.type==="affine"?Sn=Sn.mixedAdd(cp):Sn=Sn.add(cp))}}for(Al=0;Al<On;Al++)cs[Al]=null;return ss?Sn:Sn.toP()};function Zt(cr,Gr){this.curve=cr,this.type=Gr,this.precomputed=null}return qt.BasePoint=Zt,Zt.prototype.eq=function(){throw new Error("Not implemented")},Zt.prototype.validate=function(){return this.curve.validate(this)},qt.prototype.decodePoint=function(Gr,Zr){Gr=lt.toArray(Gr,Zr);var xn=this.p.byteLength();if((Gr[0]===4||Gr[0]===6||Gr[0]===7)&&Gr.length-1===2*xn){Gr[0]===6?At(Gr[Gr.length-1]%2===0):Gr[0]===7&&At(Gr[Gr.length-1]%2===1);var On=this.point(Gr.slice(1,1+xn),Gr.slice(1+xn,1+2*xn));return On}else if((Gr[0]===2||Gr[0]===3)&&Gr.length-1===xn)return this.pointFromX(Gr.slice(1,1+xn),Gr[0]===3);throw new Error("Unknown point format")},Zt.prototype.encodeCompressed=function(Gr){return this.encode(Gr,!0)},Zt.prototype._encode=function(Gr){var Zr=this.curve.p.byteLength(),xn=this.getX().toArray("be",Zr);return Gr?[this.getY().isEven()?2:3].concat(xn):[4].concat(xn,this.getY().toArray("be",Zr))},Zt.prototype.encode=function(Gr,Zr){return lt.encode(this._encode(Zr),Gr)},Zt.prototype.precompute=function(Gr){if(this.precomputed)return this;var Zr={doubles:null,naf:null,beta:null};return Zr.naf=this._getNAFPoints(8),Zr.doubles=this._getDoubles(4,Gr),Zr.beta=this._getBeta(),this.precomputed=Zr,this},Zt.prototype._hasDoubles=function(Gr){if(!this.precomputed)return!1;var Zr=this.precomputed.doubles;return Zr?Zr.points.length>=Math.ceil((Gr.bitLength()+1)/Zr.step):!1},Zt.prototype._getDoubles=function(Gr,Zr){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var xn=[this],On=this,ss=0;ss<Zr;ss+=Gr){for(var ls=0;ls<Gr;ls++)On=On.dbl();xn.push(On)}return{step:Gr,points:xn}},Zt.prototype._getNAFPoints=function(Gr){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var Zr=[this],xn=(1<<Gr)-1,On=xn===1?null:this.dbl(),ss=1;ss<xn;ss++)Zr[ss]=Zr[ss-1].add(On);return{wnd:Gr,points:Zr}},Zt.prototype._getBeta=function(){return null},Zt.prototype.dblp=function(Gr){for(var Zr=this,xn=0;xn<Gr;xn++)Zr=Zr.dbl();return Zr},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var ut=requireUtils$1(),lt=requireBn$3(),ht=requireInherits_browser(),_t=requireBase$1(),At=ut.assert;function qt(Gr){_t.call(this,"short",Gr),this.a=new lt(Gr.a,16).toRed(this.red),this.b=new lt(Gr.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(Gr),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ht(qt,_t),short=qt,qt.prototype._getEndomorphism=function(Zr){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var xn,On;if(Zr.beta)xn=new lt(Zr.beta,16).toRed(this.red);else{var ss=this._getEndoRoots(this.p);xn=ss[0].cmp(ss[1])<0?ss[0]:ss[1],xn=xn.toRed(this.red)}if(Zr.lambda)On=new lt(Zr.lambda,16);else{var ls=this._getEndoRoots(this.n);this.g.mul(ls[0]).x.cmp(this.g.x.redMul(xn))===0?On=ls[0]:(On=ls[1],At(this.g.mul(On).x.cmp(this.g.x.redMul(xn))===0))}var cs;return Zr.basis?cs=Zr.basis.map(function(wl){return{a:new lt(wl.a,16),b:new lt(wl.b,16)}}):cs=this._getEndoBasis(On),{beta:xn,lambda:On,basis:cs}}},qt.prototype._getEndoRoots=function(Zr){var xn=Zr===this.p?this.red:lt.mont(Zr),On=new lt(2).toRed(xn).redInvm(),ss=On.redNeg(),ls=new lt(3).toRed(xn).redNeg().redSqrt().redMul(On),cs=ss.redAdd(ls).fromRed(),wl=ss.redSub(ls).fromRed();return[cs,wl]},qt.prototype._getEndoBasis=function(Zr){for(var xn=this.n.ushrn(Math.floor(this.n.bitLength()/2)),On=Zr,ss=this.n.clone(),ls=new lt(1),cs=new lt(0),wl=new lt(0),ep=new lt(1),Al,np,cp,Cp,Lp,jp,nm,zm=0,i1,d3;On.cmpn(0)!==0;){var op=ss.div(On);i1=ss.sub(op.mul(On)),d3=wl.sub(op.mul(ls));var Sn=ep.sub(op.mul(cs));if(!cp&&i1.cmp(xn)<0)Al=nm.neg(),np=ls,cp=i1.neg(),Cp=d3;else if(cp&&++zm===2)break;nm=i1,ss=On,On=i1,wl=ls,ls=d3,ep=cs,cs=Sn}Lp=i1.neg(),jp=d3;var Fo=cp.sqr().add(Cp.sqr()),as=Lp.sqr().add(jp.sqr());return as.cmp(Fo)>=0&&(Lp=Al,jp=np),cp.negative&&(cp=cp.neg(),Cp=Cp.neg()),Lp.negative&&(Lp=Lp.neg(),jp=jp.neg()),[{a:cp,b:Cp},{a:Lp,b:jp}]},qt.prototype._endoSplit=function(Zr){var xn=this.endo.basis,On=xn[0],ss=xn[1],ls=ss.b.mul(Zr).divRound(this.n),cs=On.b.neg().mul(Zr).divRound(this.n),wl=ls.mul(On.a),ep=cs.mul(ss.a),Al=ls.mul(On.b),np=cs.mul(ss.b),cp=Zr.sub(wl).sub(ep),Cp=Al.add(np).neg();return{k1:cp,k2:Cp}},qt.prototype.pointFromX=function(Zr,xn){Zr=new lt(Zr,16),Zr.red||(Zr=Zr.toRed(this.red));var On=Zr.redSqr().redMul(Zr).redIAdd(Zr.redMul(this.a)).redIAdd(this.b),ss=On.redSqrt();if(ss.redSqr().redSub(On).cmp(this.zero)!==0)throw new Error("invalid point");var ls=ss.fromRed().isOdd();return(xn&&!ls||!xn&&ls)&&(ss=ss.redNeg()),this.point(Zr,ss)},qt.prototype.validate=function(Zr){if(Zr.inf)return!0;var xn=Zr.x,On=Zr.y,ss=this.a.redMul(xn),ls=xn.redSqr().redMul(xn).redIAdd(ss).redIAdd(this.b);return On.redSqr().redISub(ls).cmpn(0)===0},qt.prototype._endoWnafMulAdd=function(Zr,xn,On){for(var ss=this._endoWnafT1,ls=this._endoWnafT2,cs=0;cs<Zr.length;cs++){var wl=this._endoSplit(xn[cs]),ep=Zr[cs],Al=ep._getBeta();wl.k1.negative&&(wl.k1.ineg(),ep=ep.neg(!0)),wl.k2.negative&&(wl.k2.ineg(),Al=Al.neg(!0)),ss[cs*2]=ep,ss[cs*2+1]=Al,ls[cs*2]=wl.k1,ls[cs*2+1]=wl.k2}for(var np=this._wnafMulAdd(1,ss,ls,cs*2,On),cp=0;cp<cs*2;cp++)ss[cp]=null,ls[cp]=null;return np};function Zt(Gr,Zr,xn,On){_t.BasePoint.call(this,Gr,"affine"),Zr===null&&xn===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new lt(Zr,16),this.y=new lt(xn,16),On&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ht(Zt,_t.BasePoint),qt.prototype.point=function(Zr,xn,On){return new Zt(this,Zr,xn,On)},qt.prototype.pointFromJSON=function(Zr,xn){return Zt.fromJSON(this,Zr,xn)},Zt.prototype._getBeta=function(){if(this.curve.endo){var Zr=this.precomputed;if(Zr&&Zr.beta)return Zr.beta;var xn=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(Zr){var On=this.curve,ss=function(ls){return On.point(ls.x.redMul(On.endo.beta),ls.y)};Zr.beta=xn,xn.precomputed={beta:null,naf:Zr.naf&&{wnd:Zr.naf.wnd,points:Zr.naf.points.map(ss)},doubles:Zr.doubles&&{step:Zr.doubles.step,points:Zr.doubles.points.map(ss)}}}return xn}},Zt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Zt.fromJSON=function(Zr,xn,On){typeof xn=="string"&&(xn=JSON.parse(xn));var ss=Zr.point(xn[0],xn[1],On);if(!xn[2])return ss;function ls(wl){return Zr.point(wl[0],wl[1],On)}var cs=xn[2];return ss.precomputed={beta:null,doubles:cs.doubles&&{step:cs.doubles.step,points:[ss].concat(cs.doubles.points.map(ls))},naf:cs.naf&&{wnd:cs.naf.wnd,points:[ss].concat(cs.naf.points.map(ls))}},ss},Zt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Zt.prototype.isInfinity=function(){return this.inf},Zt.prototype.add=function(Zr){if(this.inf)return Zr;if(Zr.inf)return this;if(this.eq(Zr))return this.dbl();if(this.neg().eq(Zr))return this.curve.point(null,null);if(this.x.cmp(Zr.x)===0)return this.curve.point(null,null);var xn=this.y.redSub(Zr.y);xn.cmpn(0)!==0&&(xn=xn.redMul(this.x.redSub(Zr.x).redInvm()));var On=xn.redSqr().redISub(this.x).redISub(Zr.x),ss=xn.redMul(this.x.redSub(On)).redISub(this.y);return this.curve.point(On,ss)},Zt.prototype.dbl=function(){if(this.inf)return this;var Zr=this.y.redAdd(this.y);if(Zr.cmpn(0)===0)return this.curve.point(null,null);var xn=this.curve.a,On=this.x.redSqr(),ss=Zr.redInvm(),ls=On.redAdd(On).redIAdd(On).redIAdd(xn).redMul(ss),cs=ls.redSqr().redISub(this.x.redAdd(this.x)),wl=ls.redMul(this.x.redSub(cs)).redISub(this.y);return this.curve.point(cs,wl)},Zt.prototype.getX=function(){return this.x.fromRed()},Zt.prototype.getY=function(){return this.y.fromRed()},Zt.prototype.mul=function(Zr){return Zr=new lt(Zr,16),this.isInfinity()?this:this._hasDoubles(Zr)?this.curve._fixedNafMul(this,Zr):this.curve.endo?this.curve._endoWnafMulAdd([this],[Zr]):this.curve._wnafMul(this,Zr)},Zt.prototype.mulAdd=function(Zr,xn,On){var ss=[this,xn],ls=[Zr,On];return this.curve.endo?this.curve._endoWnafMulAdd(ss,ls):this.curve._wnafMulAdd(1,ss,ls,2)},Zt.prototype.jmulAdd=function(Zr,xn,On){var ss=[this,xn],ls=[Zr,On];return this.curve.endo?this.curve._endoWnafMulAdd(ss,ls,!0):this.curve._wnafMulAdd(1,ss,ls,2,!0)},Zt.prototype.eq=function(Zr){return this===Zr||this.inf===Zr.inf&&(this.inf||this.x.cmp(Zr.x)===0&&this.y.cmp(Zr.y)===0)},Zt.prototype.neg=function(Zr){if(this.inf)return this;var xn=this.curve.point(this.x,this.y.redNeg());if(Zr&&this.precomputed){var On=this.precomputed,ss=function(ls){return ls.neg()};xn.precomputed={naf:On.naf&&{wnd:On.naf.wnd,points:On.naf.points.map(ss)},doubles:On.doubles&&{step:On.doubles.step,points:On.doubles.points.map(ss)}}}return xn},Zt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var Zr=this.curve.jpoint(this.x,this.y,this.curve.one);return Zr};function cr(Gr,Zr,xn,On){_t.BasePoint.call(this,Gr,"jacobian"),Zr===null&&xn===null&&On===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new lt(0)):(this.x=new lt(Zr,16),this.y=new lt(xn,16),this.z=new lt(On,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return ht(cr,_t.BasePoint),qt.prototype.jpoint=function(Zr,xn,On){return new cr(this,Zr,xn,On)},cr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var Zr=this.z.redInvm(),xn=Zr.redSqr(),On=this.x.redMul(xn),ss=this.y.redMul(xn).redMul(Zr);return this.curve.point(On,ss)},cr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},cr.prototype.add=function(Zr){if(this.isInfinity())return Zr;if(Zr.isInfinity())return this;var xn=Zr.z.redSqr(),On=this.z.redSqr(),ss=this.x.redMul(xn),ls=Zr.x.redMul(On),cs=this.y.redMul(xn.redMul(Zr.z)),wl=Zr.y.redMul(On.redMul(this.z)),ep=ss.redSub(ls),Al=cs.redSub(wl);if(ep.cmpn(0)===0)return Al.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var np=ep.redSqr(),cp=np.redMul(ep),Cp=ss.redMul(np),Lp=Al.redSqr().redIAdd(cp).redISub(Cp).redISub(Cp),jp=Al.redMul(Cp.redISub(Lp)).redISub(cs.redMul(cp)),nm=this.z.redMul(Zr.z).redMul(ep);return this.curve.jpoint(Lp,jp,nm)},cr.prototype.mixedAdd=function(Zr){if(this.isInfinity())return Zr.toJ();if(Zr.isInfinity())return this;var xn=this.z.redSqr(),On=this.x,ss=Zr.x.redMul(xn),ls=this.y,cs=Zr.y.redMul(xn).redMul(this.z),wl=On.redSub(ss),ep=ls.redSub(cs);if(wl.cmpn(0)===0)return ep.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var Al=wl.redSqr(),np=Al.redMul(wl),cp=On.redMul(Al),Cp=ep.redSqr().redIAdd(np).redISub(cp).redISub(cp),Lp=ep.redMul(cp.redISub(Cp)).redISub(ls.redMul(np)),jp=this.z.redMul(wl);return this.curve.jpoint(Cp,Lp,jp)},cr.prototype.dblp=function(Zr){if(Zr===0)return this;if(this.isInfinity())return this;if(!Zr)return this.dbl();var xn;if(this.curve.zeroA||this.curve.threeA){var On=this;for(xn=0;xn<Zr;xn++)On=On.dbl();return On}var ss=this.curve.a,ls=this.curve.tinv,cs=this.x,wl=this.y,ep=this.z,Al=ep.redSqr().redSqr(),np=wl.redAdd(wl);for(xn=0;xn<Zr;xn++){var cp=cs.redSqr(),Cp=np.redSqr(),Lp=Cp.redSqr(),jp=cp.redAdd(cp).redIAdd(cp).redIAdd(ss.redMul(Al)),nm=cs.redMul(Cp),zm=jp.redSqr().redISub(nm.redAdd(nm)),i1=nm.redISub(zm),d3=jp.redMul(i1);d3=d3.redIAdd(d3).redISub(Lp);var op=np.redMul(ep);xn+1<Zr&&(Al=Al.redMul(Lp)),cs=zm,ep=op,np=d3}return this.curve.jpoint(cs,np.redMul(ls),ep)},cr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},cr.prototype._zeroDbl=function(){var Zr,xn,On;if(this.zOne){var ss=this.x.redSqr(),ls=this.y.redSqr(),cs=ls.redSqr(),wl=this.x.redAdd(ls).redSqr().redISub(ss).redISub(cs);wl=wl.redIAdd(wl);var ep=ss.redAdd(ss).redIAdd(ss),Al=ep.redSqr().redISub(wl).redISub(wl),np=cs.redIAdd(cs);np=np.redIAdd(np),np=np.redIAdd(np),Zr=Al,xn=ep.redMul(wl.redISub(Al)).redISub(np),On=this.y.redAdd(this.y)}else{var cp=this.x.redSqr(),Cp=this.y.redSqr(),Lp=Cp.redSqr(),jp=this.x.redAdd(Cp).redSqr().redISub(cp).redISub(Lp);jp=jp.redIAdd(jp);var nm=cp.redAdd(cp).redIAdd(cp),zm=nm.redSqr(),i1=Lp.redIAdd(Lp);i1=i1.redIAdd(i1),i1=i1.redIAdd(i1),Zr=zm.redISub(jp).redISub(jp),xn=nm.redMul(jp.redISub(Zr)).redISub(i1),On=this.y.redMul(this.z),On=On.redIAdd(On)}return this.curve.jpoint(Zr,xn,On)},cr.prototype._threeDbl=function(){var Zr,xn,On;if(this.zOne){var ss=this.x.redSqr(),ls=this.y.redSqr(),cs=ls.redSqr(),wl=this.x.redAdd(ls).redSqr().redISub(ss).redISub(cs);wl=wl.redIAdd(wl);var ep=ss.redAdd(ss).redIAdd(ss).redIAdd(this.curve.a),Al=ep.redSqr().redISub(wl).redISub(wl);Zr=Al;var np=cs.redIAdd(cs);np=np.redIAdd(np),np=np.redIAdd(np),xn=ep.redMul(wl.redISub(Al)).redISub(np),On=this.y.redAdd(this.y)}else{var cp=this.z.redSqr(),Cp=this.y.redSqr(),Lp=this.x.redMul(Cp),jp=this.x.redSub(cp).redMul(this.x.redAdd(cp));jp=jp.redAdd(jp).redIAdd(jp);var nm=Lp.redIAdd(Lp);nm=nm.redIAdd(nm);var zm=nm.redAdd(nm);Zr=jp.redSqr().redISub(zm),On=this.y.redAdd(this.z).redSqr().redISub(Cp).redISub(cp);var i1=Cp.redSqr();i1=i1.redIAdd(i1),i1=i1.redIAdd(i1),i1=i1.redIAdd(i1),xn=jp.redMul(nm.redISub(Zr)).redISub(i1)}return this.curve.jpoint(Zr,xn,On)},cr.prototype._dbl=function(){var Zr=this.curve.a,xn=this.x,On=this.y,ss=this.z,ls=ss.redSqr().redSqr(),cs=xn.redSqr(),wl=On.redSqr(),ep=cs.redAdd(cs).redIAdd(cs).redIAdd(Zr.redMul(ls)),Al=xn.redAdd(xn);Al=Al.redIAdd(Al);var np=Al.redMul(wl),cp=ep.redSqr().redISub(np.redAdd(np)),Cp=np.redISub(cp),Lp=wl.redSqr();Lp=Lp.redIAdd(Lp),Lp=Lp.redIAdd(Lp),Lp=Lp.redIAdd(Lp);var jp=ep.redMul(Cp).redISub(Lp),nm=On.redAdd(On).redMul(ss);return this.curve.jpoint(cp,jp,nm)},cr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var Zr=this.x.redSqr(),xn=this.y.redSqr(),On=this.z.redSqr(),ss=xn.redSqr(),ls=Zr.redAdd(Zr).redIAdd(Zr),cs=ls.redSqr(),wl=this.x.redAdd(xn).redSqr().redISub(Zr).redISub(ss);wl=wl.redIAdd(wl),wl=wl.redAdd(wl).redIAdd(wl),wl=wl.redISub(cs);var ep=wl.redSqr(),Al=ss.redIAdd(ss);Al=Al.redIAdd(Al),Al=Al.redIAdd(Al),Al=Al.redIAdd(Al);var np=ls.redIAdd(wl).redSqr().redISub(cs).redISub(ep).redISub(Al),cp=xn.redMul(np);cp=cp.redIAdd(cp),cp=cp.redIAdd(cp);var Cp=this.x.redMul(ep).redISub(cp);Cp=Cp.redIAdd(Cp),Cp=Cp.redIAdd(Cp);var Lp=this.y.redMul(np.redMul(Al.redISub(np)).redISub(wl.redMul(ep)));Lp=Lp.redIAdd(Lp),Lp=Lp.redIAdd(Lp),Lp=Lp.redIAdd(Lp);var jp=this.z.redAdd(wl).redSqr().redISub(On).redISub(ep);return this.curve.jpoint(Cp,Lp,jp)},cr.prototype.mul=function(Zr,xn){return Zr=new lt(Zr,xn),this.curve._wnafMul(this,Zr)},cr.prototype.eq=function(Zr){if(Zr.type==="affine")return this.eq(Zr.toJ());if(this===Zr)return!0;var xn=this.z.redSqr(),On=Zr.z.redSqr();if(this.x.redMul(On).redISub(Zr.x.redMul(xn)).cmpn(0)!==0)return!1;var ss=xn.redMul(this.z),ls=On.redMul(Zr.z);return this.y.redMul(ls).redISub(Zr.y.redMul(ss)).cmpn(0)===0},cr.prototype.eqXToP=function(Zr){var xn=this.z.redSqr(),On=Zr.toRed(this.curve.red).redMul(xn);if(this.x.cmp(On)===0)return!0;for(var ss=Zr.clone(),ls=this.curve.redN.redMul(xn);;){if(ss.iadd(this.curve.n),ss.cmp(this.curve.p)>=0)return!1;if(On.redIAdd(ls),this.x.cmp(On)===0)return!0}},cr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},cr.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var ut=requireBn$3(),lt=requireInherits_browser(),ht=requireBase$1(),_t=requireUtils$1();function At(Zt){ht.call(this,"mont",Zt),this.a=new ut(Zt.a,16).toRed(this.red),this.b=new ut(Zt.b,16).toRed(this.red),this.i4=new ut(4).toRed(this.red).redInvm(),this.two=new ut(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}lt(At,ht),mont=At,At.prototype.validate=function(cr){var Gr=cr.normalize().x,Zr=Gr.redSqr(),xn=Zr.redMul(Gr).redAdd(Zr.redMul(this.a)).redAdd(Gr),On=xn.redSqrt();return On.redSqr().cmp(xn)===0};function qt(Zt,cr,Gr){ht.BasePoint.call(this,Zt,"projective"),cr===null&&Gr===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new ut(cr,16),this.z=new ut(Gr,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return lt(qt,ht.BasePoint),At.prototype.decodePoint=function(cr,Gr){return this.point(_t.toArray(cr,Gr),1)},At.prototype.point=function(cr,Gr){return new qt(this,cr,Gr)},At.prototype.pointFromJSON=function(cr){return qt.fromJSON(this,cr)},qt.prototype.precompute=function(){},qt.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},qt.fromJSON=function(cr,Gr){return new qt(cr,Gr[0],Gr[1]||cr.one)},qt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},qt.prototype.isInfinity=function(){return this.z.cmpn(0)===0},qt.prototype.dbl=function(){var cr=this.x.redAdd(this.z),Gr=cr.redSqr(),Zr=this.x.redSub(this.z),xn=Zr.redSqr(),On=Gr.redSub(xn),ss=Gr.redMul(xn),ls=On.redMul(xn.redAdd(this.curve.a24.redMul(On)));return this.curve.point(ss,ls)},qt.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},qt.prototype.diffAdd=function(cr,Gr){var Zr=this.x.redAdd(this.z),xn=this.x.redSub(this.z),On=cr.x.redAdd(cr.z),ss=cr.x.redSub(cr.z),ls=ss.redMul(Zr),cs=On.redMul(xn),wl=Gr.z.redMul(ls.redAdd(cs).redSqr()),ep=Gr.x.redMul(ls.redISub(cs).redSqr());return this.curve.point(wl,ep)},qt.prototype.mul=function(cr){for(var Gr=cr.clone(),Zr=this,xn=this.curve.point(null,null),On=this,ss=[];Gr.cmpn(0)!==0;Gr.iushrn(1))ss.push(Gr.andln(1));for(var ls=ss.length-1;ls>=0;ls--)ss[ls]===0?(Zr=Zr.diffAdd(xn,On),xn=xn.dbl()):(xn=Zr.diffAdd(xn,On),Zr=Zr.dbl());return xn},qt.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},qt.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},qt.prototype.eq=function(cr){return this.getX().cmp(cr.getX())===0},qt.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},qt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var ut=requireUtils$1(),lt=requireBn$3(),ht=requireInherits_browser(),_t=requireBase$1(),At=ut.assert;function qt(cr){this.twisted=(cr.a|0)!==1,this.mOneA=this.twisted&&(cr.a|0)===-1,this.extended=this.mOneA,_t.call(this,"edwards",cr),this.a=new lt(cr.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new lt(cr.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new lt(cr.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),At(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(cr.c|0)===1}ht(qt,_t),edwards=qt,qt.prototype._mulA=function(Gr){return this.mOneA?Gr.redNeg():this.a.redMul(Gr)},qt.prototype._mulC=function(Gr){return this.oneC?Gr:this.c.redMul(Gr)},qt.prototype.jpoint=function(Gr,Zr,xn,On){return this.point(Gr,Zr,xn,On)},qt.prototype.pointFromX=function(Gr,Zr){Gr=new lt(Gr,16),Gr.red||(Gr=Gr.toRed(this.red));var xn=Gr.redSqr(),On=this.c2.redSub(this.a.redMul(xn)),ss=this.one.redSub(this.c2.redMul(this.d).redMul(xn)),ls=On.redMul(ss.redInvm()),cs=ls.redSqrt();if(cs.redSqr().redSub(ls).cmp(this.zero)!==0)throw new Error("invalid point");var wl=cs.fromRed().isOdd();return(Zr&&!wl||!Zr&&wl)&&(cs=cs.redNeg()),this.point(Gr,cs)},qt.prototype.pointFromY=function(Gr,Zr){Gr=new lt(Gr,16),Gr.red||(Gr=Gr.toRed(this.red));var xn=Gr.redSqr(),On=xn.redSub(this.c2),ss=xn.redMul(this.d).redMul(this.c2).redSub(this.a),ls=On.redMul(ss.redInvm());if(ls.cmp(this.zero)===0){if(Zr)throw new Error("invalid point");return this.point(this.zero,Gr)}var cs=ls.redSqrt();if(cs.redSqr().redSub(ls).cmp(this.zero)!==0)throw new Error("invalid point");return cs.fromRed().isOdd()!==Zr&&(cs=cs.redNeg()),this.point(cs,Gr)},qt.prototype.validate=function(Gr){if(Gr.isInfinity())return!0;Gr.normalize();var Zr=Gr.x.redSqr(),xn=Gr.y.redSqr(),On=Zr.redMul(this.a).redAdd(xn),ss=this.c2.redMul(this.one.redAdd(this.d.redMul(Zr).redMul(xn)));return On.cmp(ss)===0};function Zt(cr,Gr,Zr,xn,On){_t.BasePoint.call(this,cr,"projective"),Gr===null&&Zr===null&&xn===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new lt(Gr,16),this.y=new lt(Zr,16),this.z=xn?new lt(xn,16):this.curve.one,this.t=On&&new lt(On,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return ht(Zt,_t.BasePoint),qt.prototype.pointFromJSON=function(Gr){return Zt.fromJSON(this,Gr)},qt.prototype.point=function(Gr,Zr,xn,On){return new Zt(this,Gr,Zr,xn,On)},Zt.fromJSON=function(Gr,Zr){return new Zt(Gr,Zr[0],Zr[1],Zr[2])},Zt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Zt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},Zt.prototype._extDbl=function(){var Gr=this.x.redSqr(),Zr=this.y.redSqr(),xn=this.z.redSqr();xn=xn.redIAdd(xn);var On=this.curve._mulA(Gr),ss=this.x.redAdd(this.y).redSqr().redISub(Gr).redISub(Zr),ls=On.redAdd(Zr),cs=ls.redSub(xn),wl=On.redSub(Zr),ep=ss.redMul(cs),Al=ls.redMul(wl),np=ss.redMul(wl),cp=cs.redMul(ls);return this.curve.point(ep,Al,cp,np)},Zt.prototype._projDbl=function(){var Gr=this.x.redAdd(this.y).redSqr(),Zr=this.x.redSqr(),xn=this.y.redSqr(),On,ss,ls,cs,wl,ep;if(this.curve.twisted){cs=this.curve._mulA(Zr);var Al=cs.redAdd(xn);this.zOne?(On=Gr.redSub(Zr).redSub(xn).redMul(Al.redSub(this.curve.two)),ss=Al.redMul(cs.redSub(xn)),ls=Al.redSqr().redSub(Al).redSub(Al)):(wl=this.z.redSqr(),ep=Al.redSub(wl).redISub(wl),On=Gr.redSub(Zr).redISub(xn).redMul(ep),ss=Al.redMul(cs.redSub(xn)),ls=Al.redMul(ep))}else cs=Zr.redAdd(xn),wl=this.curve._mulC(this.z).redSqr(),ep=cs.redSub(wl).redSub(wl),On=this.curve._mulC(Gr.redISub(cs)).redMul(ep),ss=this.curve._mulC(cs).redMul(Zr.redISub(xn)),ls=cs.redMul(ep);return this.curve.point(On,ss,ls)},Zt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},Zt.prototype._extAdd=function(Gr){var Zr=this.y.redSub(this.x).redMul(Gr.y.redSub(Gr.x)),xn=this.y.redAdd(this.x).redMul(Gr.y.redAdd(Gr.x)),On=this.t.redMul(this.curve.dd).redMul(Gr.t),ss=this.z.redMul(Gr.z.redAdd(Gr.z)),ls=xn.redSub(Zr),cs=ss.redSub(On),wl=ss.redAdd(On),ep=xn.redAdd(Zr),Al=ls.redMul(cs),np=wl.redMul(ep),cp=ls.redMul(ep),Cp=cs.redMul(wl);return this.curve.point(Al,np,Cp,cp)},Zt.prototype._projAdd=function(Gr){var Zr=this.z.redMul(Gr.z),xn=Zr.redSqr(),On=this.x.redMul(Gr.x),ss=this.y.redMul(Gr.y),ls=this.curve.d.redMul(On).redMul(ss),cs=xn.redSub(ls),wl=xn.redAdd(ls),ep=this.x.redAdd(this.y).redMul(Gr.x.redAdd(Gr.y)).redISub(On).redISub(ss),Al=Zr.redMul(cs).redMul(ep),np,cp;return this.curve.twisted?(np=Zr.redMul(wl).redMul(ss.redSub(this.curve._mulA(On))),cp=cs.redMul(wl)):(np=Zr.redMul(wl).redMul(ss.redSub(On)),cp=this.curve._mulC(cs).redMul(wl)),this.curve.point(Al,np,cp)},Zt.prototype.add=function(Gr){return this.isInfinity()?Gr:Gr.isInfinity()?this:this.curve.extended?this._extAdd(Gr):this._projAdd(Gr)},Zt.prototype.mul=function(Gr){return this._hasDoubles(Gr)?this.curve._fixedNafMul(this,Gr):this.curve._wnafMul(this,Gr)},Zt.prototype.mulAdd=function(Gr,Zr,xn){return this.curve._wnafMulAdd(1,[this,Zr],[Gr,xn],2,!1)},Zt.prototype.jmulAdd=function(Gr,Zr,xn){return this.curve._wnafMulAdd(1,[this,Zr],[Gr,xn],2,!0)},Zt.prototype.normalize=function(){if(this.zOne)return this;var Gr=this.z.redInvm();return this.x=this.x.redMul(Gr),this.y=this.y.redMul(Gr),this.t&&(this.t=this.t.redMul(Gr)),this.z=this.curve.one,this.zOne=!0,this},Zt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},Zt.prototype.getX=function(){return this.normalize(),this.x.fromRed()},Zt.prototype.getY=function(){return this.normalize(),this.y.fromRed()},Zt.prototype.eq=function(Gr){return this===Gr||this.getX().cmp(Gr.getX())===0&&this.getY().cmp(Gr.getY())===0},Zt.prototype.eqXToP=function(Gr){var Zr=Gr.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(Zr)===0)return!0;for(var xn=Gr.clone(),On=this.curve.redN.redMul(this.z);;){if(xn.iadd(this.curve.n),xn.cmp(this.curve.p)>=0)return!1;if(Zr.redIAdd(On),this.x.cmp(Zr)===0)return!0}},Zt.prototype.toP=Zt.prototype.normalize,Zt.prototype.mixedAdd=Zt.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,function(ut){var lt=ut;lt.base=requireBase$1(),lt.short=requireShort(),lt.mont=requireMont(),lt.edwards=requireEdwards()}(curve)),curve}var curves={},hash={},utils$2={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$2;hasRequiredUtils=1;var ut=requireMinimalisticAssert(),lt=requireInherits_browser();utils$2.inherits=lt;function ht(Sn,Fo){return(Sn.charCodeAt(Fo)&64512)!==55296||Fo<0||Fo+1>=Sn.length?!1:(Sn.charCodeAt(Fo+1)&64512)===56320}function _t(Sn,Fo){if(Array.isArray(Sn))return Sn.slice();if(!Sn)return[];var as=[];if(typeof Sn=="string")if(Fo){if(Fo==="hex")for(Sn=Sn.replace(/[^a-z0-9]+/ig,""),Sn.length%2!==0&&(Sn="0"+Sn),xl=0;xl<Sn.length;xl+=2)as.push(parseInt(Sn[xl]+Sn[xl+1],16))}else for(var us=0,xl=0;xl<Sn.length;xl++){var ip=Sn.charCodeAt(xl);ip<128?as[us++]=ip:ip<2048?(as[us++]=ip>>6|192,as[us++]=ip&63|128):ht(Sn,xl)?(ip=65536+((ip&1023)<<10)+(Sn.charCodeAt(++xl)&1023),as[us++]=ip>>18|240,as[us++]=ip>>12&63|128,as[us++]=ip>>6&63|128,as[us++]=ip&63|128):(as[us++]=ip>>12|224,as[us++]=ip>>6&63|128,as[us++]=ip&63|128)}else for(xl=0;xl<Sn.length;xl++)as[xl]=Sn[xl]|0;return as}utils$2.toArray=_t;function At(Sn){for(var Fo="",as=0;as<Sn.length;as++)Fo+=cr(Sn[as].toString(16));return Fo}utils$2.toHex=At;function qt(Sn){var Fo=Sn>>>24|Sn>>>8&65280|Sn<<8&16711680|(Sn&255)<<24;return Fo>>>0}utils$2.htonl=qt;function Zt(Sn,Fo){for(var as="",us=0;us<Sn.length;us++){var xl=Sn[us];Fo==="little"&&(xl=qt(xl)),as+=Gr(xl.toString(16))}return as}utils$2.toHex32=Zt;function cr(Sn){return Sn.length===1?"0"+Sn:Sn}utils$2.zero2=cr;function Gr(Sn){return Sn.length===7?"0"+Sn:Sn.length===6?"00"+Sn:Sn.length===5?"000"+Sn:Sn.length===4?"0000"+Sn:Sn.length===3?"00000"+Sn:Sn.length===2?"000000"+Sn:Sn.length===1?"0000000"+Sn:Sn}utils$2.zero8=Gr;function Zr(Sn,Fo,as,us){var xl=as-Fo;ut(xl%4===0);for(var ip=new Array(xl/4),lp=0,pu=Fo;lp<ip.length;lp++,pu+=4){var go;us==="big"?go=Sn[pu]<<24|Sn[pu+1]<<16|Sn[pu+2]<<8|Sn[pu+3]:go=Sn[pu+3]<<24|Sn[pu+2]<<16|Sn[pu+1]<<8|Sn[pu],ip[lp]=go>>>0}return ip}utils$2.join32=Zr;function xn(Sn,Fo){for(var as=new Array(Sn.length*4),us=0,xl=0;us<Sn.length;us++,xl+=4){var ip=Sn[us];Fo==="big"?(as[xl]=ip>>>24,as[xl+1]=ip>>>16&255,as[xl+2]=ip>>>8&255,as[xl+3]=ip&255):(as[xl+3]=ip>>>24,as[xl+2]=ip>>>16&255,as[xl+1]=ip>>>8&255,as[xl]=ip&255)}return as}utils$2.split32=xn;function On(Sn,Fo){return Sn>>>Fo|Sn<<32-Fo}utils$2.rotr32=On;function ss(Sn,Fo){return Sn<<Fo|Sn>>>32-Fo}utils$2.rotl32=ss;function ls(Sn,Fo){return Sn+Fo>>>0}utils$2.sum32=ls;function cs(Sn,Fo,as){return Sn+Fo+as>>>0}utils$2.sum32_3=cs;function wl(Sn,Fo,as,us){return Sn+Fo+as+us>>>0}utils$2.sum32_4=wl;function ep(Sn,Fo,as,us,xl){return Sn+Fo+as+us+xl>>>0}utils$2.sum32_5=ep;function Al(Sn,Fo,as,us){var xl=Sn[Fo],ip=Sn[Fo+1],lp=us+ip>>>0,pu=(lp<us?1:0)+as+xl;Sn[Fo]=pu>>>0,Sn[Fo+1]=lp}utils$2.sum64=Al;function np(Sn,Fo,as,us){var xl=Fo+us>>>0,ip=(xl<Fo?1:0)+Sn+as;return ip>>>0}utils$2.sum64_hi=np;function cp(Sn,Fo,as,us){var xl=Fo+us;return xl>>>0}utils$2.sum64_lo=cp;function Cp(Sn,Fo,as,us,xl,ip,lp,pu){var go=0,h0=Fo;h0=h0+us>>>0,go+=h0<Fo?1:0,h0=h0+ip>>>0,go+=h0<ip?1:0,h0=h0+pu>>>0,go+=h0<pu?1:0;var kp=Sn+as+xl+lp+go;return kp>>>0}utils$2.sum64_4_hi=Cp;function Lp(Sn,Fo,as,us,xl,ip,lp,pu){var go=Fo+us+ip+pu;return go>>>0}utils$2.sum64_4_lo=Lp;function jp(Sn,Fo,as,us,xl,ip,lp,pu,go,h0){var kp=0,cm=Fo;cm=cm+us>>>0,kp+=cm<Fo?1:0,cm=cm+ip>>>0,kp+=cm<ip?1:0,cm=cm+pu>>>0,kp+=cm<pu?1:0,cm=cm+h0>>>0,kp+=cm<h0?1:0;var b3=Sn+as+xl+lp+go+kp;return b3>>>0}utils$2.sum64_5_hi=jp;function nm(Sn,Fo,as,us,xl,ip,lp,pu,go,h0){var kp=Fo+us+ip+pu+h0;return kp>>>0}utils$2.sum64_5_lo=nm;function zm(Sn,Fo,as){var us=Fo<<32-as|Sn>>>as;return us>>>0}utils$2.rotr64_hi=zm;function i1(Sn,Fo,as){var us=Sn<<32-as|Fo>>>as;return us>>>0}utils$2.rotr64_lo=i1;function d3(Sn,Fo,as){return Sn>>>as}utils$2.shr64_hi=d3;function op(Sn,Fo,as){var us=Sn<<32-as|Fo>>>as;return us>>>0}return utils$2.shr64_lo=op,utils$2}var common$4={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$4;hasRequiredCommon$1=1;var ut=requireUtils(),lt=requireMinimalisticAssert();function ht(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$4.BlockHash=ht,ht.prototype.update=function(At,qt){if(At=ut.toArray(At,qt),this.pending?this.pending=this.pending.concat(At):this.pending=At,this.pendingTotal+=At.length,this.pending.length>=this._delta8){At=this.pending;var Zt=At.length%this._delta8;this.pending=At.slice(At.length-Zt,At.length),this.pending.length===0&&(this.pending=null),At=ut.join32(At,0,At.length-Zt,this.endian);for(var cr=0;cr<At.length;cr+=this._delta32)this._update(At,cr,cr+this._delta32)}return this},ht.prototype.digest=function(At){return this.update(this._pad()),lt(this.pending===null),this._digest(At)},ht.prototype._pad=function(){var At=this.pendingTotal,qt=this._delta8,Zt=qt-(At+this.padLength)%qt,cr=new Array(Zt+this.padLength);cr[0]=128;for(var Gr=1;Gr<Zt;Gr++)cr[Gr]=0;if(At<<=3,this.endian==="big"){for(var Zr=8;Zr<this.padLength;Zr++)cr[Gr++]=0;cr[Gr++]=0,cr[Gr++]=0,cr[Gr++]=0,cr[Gr++]=0,cr[Gr++]=At>>>24&255,cr[Gr++]=At>>>16&255,cr[Gr++]=At>>>8&255,cr[Gr++]=At&255}else for(cr[Gr++]=At&255,cr[Gr++]=At>>>8&255,cr[Gr++]=At>>>16&255,cr[Gr++]=At>>>24&255,cr[Gr++]=0,cr[Gr++]=0,cr[Gr++]=0,cr[Gr++]=0,Zr=8;Zr<this.padLength;Zr++)cr[Gr++]=0;return cr},common$4}var sha={},common$3={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common$3;hasRequiredCommon=1;var ut=requireUtils(),lt=ut.rotr32;function ht(xn,On,ss,ls){if(xn===0)return _t(On,ss,ls);if(xn===1||xn===3)return qt(On,ss,ls);if(xn===2)return At(On,ss,ls)}common$3.ft_1=ht;function _t(xn,On,ss){return xn&On^~xn&ss}common$3.ch32=_t;function At(xn,On,ss){return xn&On^xn&ss^On&ss}common$3.maj32=At;function qt(xn,On,ss){return xn^On^ss}common$3.p32=qt;function Zt(xn){return lt(xn,2)^lt(xn,13)^lt(xn,22)}common$3.s0_256=Zt;function cr(xn){return lt(xn,6)^lt(xn,11)^lt(xn,25)}common$3.s1_256=cr;function Gr(xn){return lt(xn,7)^lt(xn,18)^xn>>>3}common$3.g0_256=Gr;function Zr(xn){return lt(xn,17)^lt(xn,19)^xn>>>10}return common$3.g1_256=Zr,common$3}var _1$1,hasRequired_1;function require_1(){if(hasRequired_1)return _1$1;hasRequired_1=1;var ut=requireUtils(),lt=requireCommon$1(),ht=requireCommon(),_t=ut.rotl32,At=ut.sum32,qt=ut.sum32_5,Zt=ht.ft_1,cr=lt.BlockHash,Gr=[1518500249,1859775393,2400959708,3395469782];function Zr(){if(!(this instanceof Zr))return new Zr;cr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return ut.inherits(Zr,cr),_1$1=Zr,Zr.blockSize=512,Zr.outSize=160,Zr.hmacStrength=80,Zr.padLength=64,Zr.prototype._update=function(On,ss){for(var ls=this.W,cs=0;cs<16;cs++)ls[cs]=On[ss+cs];for(;cs<ls.length;cs++)ls[cs]=_t(ls[cs-3]^ls[cs-8]^ls[cs-14]^ls[cs-16],1);var wl=this.h[0],ep=this.h[1],Al=this.h[2],np=this.h[3],cp=this.h[4];for(cs=0;cs<ls.length;cs++){var Cp=~~(cs/20),Lp=qt(_t(wl,5),Zt(Cp,ep,Al,np),cp,ls[cs],Gr[Cp]);cp=np,np=Al,Al=_t(ep,30),ep=wl,wl=Lp}this.h[0]=At(this.h[0],wl),this.h[1]=At(this.h[1],ep),this.h[2]=At(this.h[2],Al),this.h[3]=At(this.h[3],np),this.h[4]=At(this.h[4],cp)},Zr.prototype._digest=function(On){return On==="hex"?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")},_1$1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var ut=requireUtils(),lt=requireCommon$1(),ht=requireCommon(),_t=requireMinimalisticAssert(),At=ut.sum32,qt=ut.sum32_4,Zt=ut.sum32_5,cr=ht.ch32,Gr=ht.maj32,Zr=ht.s0_256,xn=ht.s1_256,On=ht.g0_256,ss=ht.g1_256,ls=lt.BlockHash,cs=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wl(){if(!(this instanceof wl))return new wl;ls.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cs,this.W=new Array(64)}return ut.inherits(wl,ls),_256=wl,wl.blockSize=512,wl.outSize=256,wl.hmacStrength=192,wl.padLength=64,wl.prototype._update=function(Al,np){for(var cp=this.W,Cp=0;Cp<16;Cp++)cp[Cp]=Al[np+Cp];for(;Cp<cp.length;Cp++)cp[Cp]=qt(ss(cp[Cp-2]),cp[Cp-7],On(cp[Cp-15]),cp[Cp-16]);var Lp=this.h[0],jp=this.h[1],nm=this.h[2],zm=this.h[3],i1=this.h[4],d3=this.h[5],op=this.h[6],Sn=this.h[7];for(_t(this.k.length===cp.length),Cp=0;Cp<cp.length;Cp++){var Fo=Zt(Sn,xn(i1),cr(i1,d3,op),this.k[Cp],cp[Cp]),as=At(Zr(Lp),Gr(Lp,jp,nm));Sn=op,op=d3,d3=i1,i1=At(zm,Fo),zm=nm,nm=jp,jp=Lp,Lp=At(Fo,as)}this.h[0]=At(this.h[0],Lp),this.h[1]=At(this.h[1],jp),this.h[2]=At(this.h[2],nm),this.h[3]=At(this.h[3],zm),this.h[4]=At(this.h[4],i1),this.h[5]=At(this.h[5],d3),this.h[6]=At(this.h[6],op),this.h[7]=At(this.h[7],Sn)},wl.prototype._digest=function(Al){return Al==="hex"?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var ut=requireUtils(),lt=require_256();function ht(){if(!(this instanceof ht))return new ht;lt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return ut.inherits(ht,lt),_224=ht,ht.blockSize=512,ht.outSize=224,ht.hmacStrength=192,ht.padLength=64,ht.prototype._digest=function(At){return At==="hex"?ut.toHex32(this.h.slice(0,7),"big"):ut.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var ut=requireUtils(),lt=requireCommon$1(),ht=requireMinimalisticAssert(),_t=ut.rotr64_hi,At=ut.rotr64_lo,qt=ut.shr64_hi,Zt=ut.shr64_lo,cr=ut.sum64,Gr=ut.sum64_hi,Zr=ut.sum64_lo,xn=ut.sum64_4_hi,On=ut.sum64_4_lo,ss=ut.sum64_5_hi,ls=ut.sum64_5_lo,cs=lt.BlockHash,wl=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ep(){if(!(this instanceof ep))return new ep;cs.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=wl,this.W=new Array(160)}ut.inherits(ep,cs),_512=ep,ep.blockSize=1024,ep.outSize=512,ep.hmacStrength=192,ep.padLength=128,ep.prototype._prepareBlock=function(as,us){for(var xl=this.W,ip=0;ip<32;ip++)xl[ip]=as[us+ip];for(;ip<xl.length;ip+=2){var lp=op(xl[ip-4],xl[ip-3]),pu=Sn(xl[ip-4],xl[ip-3]),go=xl[ip-14],h0=xl[ip-13],kp=i1(xl[ip-30],xl[ip-29]),cm=d3(xl[ip-30],xl[ip-29]),b3=xl[ip-32],L_=xl[ip-31];xl[ip]=xn(lp,pu,go,h0,kp,cm,b3,L_),xl[ip+1]=On(lp,pu,go,h0,kp,cm,b3,L_)}},ep.prototype._update=function(as,us){this._prepareBlock(as,us);var xl=this.W,ip=this.h[0],lp=this.h[1],pu=this.h[2],go=this.h[3],h0=this.h[4],kp=this.h[5],cm=this.h[6],b3=this.h[7],L_=this.h[8],Ym=this.h[9],Xm=this.h[10],Jm=this.h[11],$_=this.h[12],j_=this.h[13],h3=this.h[14],Fp=this.h[15];ht(this.k.length===xl.length);for(var W_=0;W_<xl.length;W_+=2){var t4=h3,Nw=Fp,Dp=nm(L_,Ym),a1=zm(L_,Ym),zp=Al(L_,Ym,Xm,Jm,$_),v3=np(L_,Ym,Xm,Jm,$_,j_),Mw=this.k[W_],nw=this.k[W_+1],n4=xl[W_],Ww=xl[W_+1],F_=ss(t4,Nw,Dp,a1,zp,v3,Mw,nw,n4,Ww),qx=ls(t4,Nw,Dp,a1,zp,v3,Mw,nw,n4,Ww);t4=Lp(ip,lp),Nw=jp(ip,lp),Dp=cp(ip,lp,pu,go,h0),a1=Cp(ip,lp,pu,go,h0,kp);var nM=Gr(t4,Nw,Dp,a1),Hm=Zr(t4,Nw,Dp,a1);h3=$_,Fp=j_,$_=Xm,j_=Jm,Xm=L_,Jm=Ym,L_=Gr(cm,b3,F_,qx),Ym=Zr(b3,b3,F_,qx),cm=h0,b3=kp,h0=pu,kp=go,pu=ip,go=lp,ip=Gr(F_,qx,nM,Hm),lp=Zr(F_,qx,nM,Hm)}cr(this.h,0,ip,lp),cr(this.h,2,pu,go),cr(this.h,4,h0,kp),cr(this.h,6,cm,b3),cr(this.h,8,L_,Ym),cr(this.h,10,Xm,Jm),cr(this.h,12,$_,j_),cr(this.h,14,h3,Fp)},ep.prototype._digest=function(as){return as==="hex"?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")};function Al(Fo,as,us,xl,ip){var lp=Fo&us^~Fo&ip;return lp<0&&(lp+=4294967296),lp}function np(Fo,as,us,xl,ip,lp){var pu=as&xl^~as&lp;return pu<0&&(pu+=4294967296),pu}function cp(Fo,as,us,xl,ip){var lp=Fo&us^Fo&ip^us&ip;return lp<0&&(lp+=4294967296),lp}function Cp(Fo,as,us,xl,ip,lp){var pu=as&xl^as&lp^xl&lp;return pu<0&&(pu+=4294967296),pu}function Lp(Fo,as){var us=_t(Fo,as,28),xl=_t(as,Fo,2),ip=_t(as,Fo,7),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function jp(Fo,as){var us=At(Fo,as,28),xl=At(as,Fo,2),ip=At(as,Fo,7),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function nm(Fo,as){var us=_t(Fo,as,14),xl=_t(Fo,as,18),ip=_t(as,Fo,9),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function zm(Fo,as){var us=At(Fo,as,14),xl=At(Fo,as,18),ip=At(as,Fo,9),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function i1(Fo,as){var us=_t(Fo,as,1),xl=_t(Fo,as,8),ip=qt(Fo,as,7),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function d3(Fo,as){var us=At(Fo,as,1),xl=At(Fo,as,8),ip=Zt(Fo,as,7),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function op(Fo,as){var us=_t(Fo,as,19),xl=_t(as,Fo,29),ip=qt(Fo,as,6),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}function Sn(Fo,as){var us=At(Fo,as,19),xl=At(as,Fo,29),ip=Zt(Fo,as,6),lp=us^xl^ip;return lp<0&&(lp+=4294967296),lp}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var ut=requireUtils(),lt=require_512();function ht(){if(!(this instanceof ht))return new ht;lt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return ut.inherits(ht,lt),_384=ht,ht.blockSize=1024,ht.outSize=384,ht.hmacStrength=192,ht.padLength=128,ht.prototype._digest=function(At){return At==="hex"?ut.toHex32(this.h.slice(0,12),"big"):ut.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var ut=requireUtils(),lt=requireCommon$1(),ht=ut.rotl32,_t=ut.sum32,At=ut.sum32_3,qt=ut.sum32_4,Zt=lt.BlockHash;function cr(){if(!(this instanceof cr))return new cr;Zt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ut.inherits(cr,Zt),ripemd.ripemd160=cr,cr.blockSize=512,cr.outSize=160,cr.hmacStrength=192,cr.padLength=64,cr.prototype._update=function(ep,Al){for(var np=this.h[0],cp=this.h[1],Cp=this.h[2],Lp=this.h[3],jp=this.h[4],nm=np,zm=cp,i1=Cp,d3=Lp,op=jp,Sn=0;Sn<80;Sn++){var Fo=_t(ht(qt(np,Gr(Sn,cp,Cp,Lp),ep[On[Sn]+Al],Zr(Sn)),ls[Sn]),jp);np=jp,jp=Lp,Lp=ht(Cp,10),Cp=cp,cp=Fo,Fo=_t(ht(qt(nm,Gr(79-Sn,zm,i1,d3),ep[ss[Sn]+Al],xn(Sn)),cs[Sn]),op),nm=op,op=d3,d3=ht(i1,10),i1=zm,zm=Fo}Fo=At(this.h[1],Cp,d3),this.h[1]=At(this.h[2],Lp,op),this.h[2]=At(this.h[3],jp,nm),this.h[3]=At(this.h[4],np,zm),this.h[4]=At(this.h[0],cp,i1),this.h[0]=Fo},cr.prototype._digest=function(ep){return ep==="hex"?ut.toHex32(this.h,"little"):ut.split32(this.h,"little")};function Gr(wl,ep,Al,np){return wl<=15?ep^Al^np:wl<=31?ep&Al|~ep&np:wl<=47?(ep|~Al)^np:wl<=63?ep&np|Al&~np:ep^(Al|~np)}function Zr(wl){return wl<=15?0:wl<=31?1518500249:wl<=47?1859775393:wl<=63?2400959708:2840853838}function xn(wl){return wl<=15?1352829926:wl<=31?1548603684:wl<=47?1836072691:wl<=63?2053994217:0}var On=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ss=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ls=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],cs=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac,hasRequiredHmac;function requireHmac(){if(hasRequiredHmac)return hmac;hasRequiredHmac=1;var ut=requireUtils(),lt=requireMinimalisticAssert();function ht(_t,At,qt){if(!(this instanceof ht))return new ht(_t,At,qt);this.Hash=_t,this.blockSize=_t.blockSize/8,this.outSize=_t.outSize/8,this.inner=null,this.outer=null,this._init(ut.toArray(At,qt))}return hmac=ht,ht.prototype._init=function(At){At.length>this.blockSize&&(At=new this.Hash().update(At).digest()),lt(At.length<=this.blockSize);for(var qt=At.length;qt<this.blockSize;qt++)At.push(0);for(qt=0;qt<At.length;qt++)At[qt]^=54;for(this.inner=new this.Hash().update(At),qt=0;qt<At.length;qt++)At[qt]^=106;this.outer=new this.Hash().update(At)},ht.prototype.update=function(At,qt){return this.inner.update(At,qt),this},ht.prototype.digest=function(At){return this.outer.update(this.inner.digest()),this.outer.digest(At)},hmac}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,function(ut){var lt=ut;lt.utils=requireUtils(),lt.common=requireCommon$1(),lt.sha=requireSha(),lt.ripemd=requireRipemd(),lt.hmac=requireHmac(),lt.sha1=lt.sha.sha1,lt.sha256=lt.sha.sha256,lt.sha224=lt.sha.sha224,lt.sha384=lt.sha.sha384,lt.sha512=lt.sha.sha512,lt.ripemd160=lt.ripemd.ripemd160}(hash)),hash}var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,function(ut){var lt=ut,ht=requireHash(),_t=requireCurve(),At=requireUtils$1(),qt=At.assert;function Zt(Zr){Zr.type==="short"?this.curve=new _t.short(Zr):Zr.type==="edwards"?this.curve=new _t.edwards(Zr):this.curve=new _t.mont(Zr),this.g=this.curve.g,this.n=this.curve.n,this.hash=Zr.hash,qt(this.g.validate(),"Invalid curve"),qt(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}lt.PresetCurve=Zt;function cr(Zr,xn){Object.defineProperty(lt,Zr,{configurable:!0,enumerable:!0,get:function(){var On=new Zt(xn);return Object.defineProperty(lt,Zr,{configurable:!0,enumerable:!0,value:On}),On}})}cr("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ht.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),cr("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ht.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),cr("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ht.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),cr("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ht.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),cr("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ht.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),cr("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ht.sha256,gRed:!1,g:["9"]}),cr("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ht.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var Gr;try{Gr=requireSecp256k1()}catch{Gr=void 0}cr("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ht.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",Gr]})}(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var ut=requireHash(),lt=requireUtils$2(),ht=requireMinimalisticAssert();function _t(At){if(!(this instanceof _t))return new _t(At);this.hash=At.hash,this.predResist=!!At.predResist,this.outLen=this.hash.outSize,this.minEntropy=At.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var qt=lt.toArray(At.entropy,At.entropyEnc||"hex"),Zt=lt.toArray(At.nonce,At.nonceEnc||"hex"),cr=lt.toArray(At.pers,At.persEnc||"hex");ht(qt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(qt,Zt,cr)}return hmacDrbg=_t,_t.prototype._init=function(qt,Zt,cr){var Gr=qt.concat(Zt).concat(cr);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var Zr=0;Zr<this.V.length;Zr++)this.K[Zr]=0,this.V[Zr]=1;this._update(Gr),this._reseed=1,this.reseedInterval=281474976710656},_t.prototype._hmac=function(){return new ut.hmac(this.hash,this.K)},_t.prototype._update=function(qt){var Zt=this._hmac().update(this.V).update([0]);qt&&(Zt=Zt.update(qt)),this.K=Zt.digest(),this.V=this._hmac().update(this.V).digest(),qt&&(this.K=this._hmac().update(this.V).update([1]).update(qt).digest(),this.V=this._hmac().update(this.V).digest())},_t.prototype.reseed=function(qt,Zt,cr,Gr){typeof Zt!="string"&&(Gr=cr,cr=Zt,Zt=null),qt=lt.toArray(qt,Zt),cr=lt.toArray(cr,Gr),ht(qt.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(qt.concat(cr||[])),this._reseed=1},_t.prototype.generate=function(qt,Zt,cr,Gr){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof Zt!="string"&&(Gr=cr,cr=Zt,Zt=null),cr&&(cr=lt.toArray(cr,Gr||"hex"),this._update(cr));for(var Zr=[];Zr.length<qt;)this.V=this._hmac().update(this.V).digest(),Zr=Zr.concat(this.V);var xn=Zr.slice(0,qt);return this._update(cr),this._reseed++,lt.encode(xn,Zt)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var ut=requireBn$3(),lt=requireUtils$1(),ht=lt.assert;function _t(At,qt){this.ec=At,this.priv=null,this.pub=null,qt.priv&&this._importPrivate(qt.priv,qt.privEnc),qt.pub&&this._importPublic(qt.pub,qt.pubEnc)}return key$1=_t,_t.fromPublic=function(qt,Zt,cr){return Zt instanceof _t?Zt:new _t(qt,{pub:Zt,pubEnc:cr})},_t.fromPrivate=function(qt,Zt,cr){return Zt instanceof _t?Zt:new _t(qt,{priv:Zt,privEnc:cr})},_t.prototype.validate=function(){var qt=this.getPublic();return qt.isInfinity()?{result:!1,reason:"Invalid public key"}:qt.validate()?qt.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},_t.prototype.getPublic=function(qt,Zt){return typeof qt=="string"&&(Zt=qt,qt=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),Zt?this.pub.encode(Zt,qt):this.pub},_t.prototype.getPrivate=function(qt){return qt==="hex"?this.priv.toString(16,2):this.priv},_t.prototype._importPrivate=function(qt,Zt){this.priv=new ut(qt,Zt||16),this.priv=this.priv.umod(this.ec.curve.n)},_t.prototype._importPublic=function(qt,Zt){if(qt.x||qt.y){this.ec.curve.type==="mont"?ht(qt.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&ht(qt.x&&qt.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(qt.x,qt.y);return}this.pub=this.ec.curve.decodePoint(qt,Zt)},_t.prototype.derive=function(qt){return qt.validate()||ht(qt.validate(),"public point not validated"),qt.mul(this.priv).getX()},_t.prototype.sign=function(qt,Zt,cr){return this.ec.sign(qt,this,Zt,cr)},_t.prototype.verify=function(qt,Zt,cr){return this.ec.verify(qt,Zt,this,void 0,cr)},_t.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var ut=requireBn$3(),lt=requireUtils$1(),ht=lt.assert;function _t(Gr,Zr){if(Gr instanceof _t)return Gr;this._importDER(Gr,Zr)||(ht(Gr.r&&Gr.s,"Signature without r or s"),this.r=new ut(Gr.r,16),this.s=new ut(Gr.s,16),Gr.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=Gr.recoveryParam)}signature$1=_t;function At(){this.place=0}function qt(Gr,Zr){var xn=Gr[Zr.place++];if(!(xn&128))return xn;var On=xn&15;if(On===0||On>4||Gr[Zr.place]===0)return!1;for(var ss=0,ls=0,cs=Zr.place;ls<On;ls++,cs++)ss<<=8,ss|=Gr[cs],ss>>>=0;return ss<=127?!1:(Zr.place=cs,ss)}function Zt(Gr){for(var Zr=0,xn=Gr.length-1;!Gr[Zr]&&!(Gr[Zr+1]&128)&&Zr<xn;)Zr++;return Zr===0?Gr:Gr.slice(Zr)}_t.prototype._importDER=function(Zr,xn){Zr=lt.toArray(Zr,xn);var On=new At;if(Zr[On.place++]!==48)return!1;var ss=qt(Zr,On);if(ss===!1||ss+On.place!==Zr.length||Zr[On.place++]!==2)return!1;var ls=qt(Zr,On);if(ls===!1||Zr[On.place]&128)return!1;var cs=Zr.slice(On.place,ls+On.place);if(On.place+=ls,Zr[On.place++]!==2)return!1;var wl=qt(Zr,On);if(wl===!1||Zr.length!==wl+On.place||Zr[On.place]&128)return!1;var ep=Zr.slice(On.place,wl+On.place);if(cs[0]===0)if(cs[1]&128)cs=cs.slice(1);else return!1;if(ep[0]===0)if(ep[1]&128)ep=ep.slice(1);else return!1;return this.r=new ut(cs),this.s=new ut(ep),this.recoveryParam=null,!0};function cr(Gr,Zr){if(Zr<128){Gr.push(Zr);return}var xn=1+(Math.log(Zr)/Math.LN2>>>3);for(Gr.push(xn|128);--xn;)Gr.push(Zr>>>(xn<<3)&255);Gr.push(Zr)}return _t.prototype.toDER=function(Zr){var xn=this.r.toArray(),On=this.s.toArray();for(xn[0]&128&&(xn=[0].concat(xn)),On[0]&128&&(On=[0].concat(On)),xn=Zt(xn),On=Zt(On);!On[0]&&!(On[1]&128);)On=On.slice(1);var ss=[2];cr(ss,xn.length),ss=ss.concat(xn),ss.push(2),cr(ss,On.length);var ls=ss.concat(On),cs=[48];return cr(cs,ls.length),cs=cs.concat(ls),lt.encode(cs,Zr)},signature$1}var ec$1,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$1;hasRequiredEc=1;var ut=requireBn$3(),lt=requireHmacDrbg(),ht=requireUtils$1(),_t=requireCurves(),At=requireBrorand(),qt=ht.assert,Zt=requireKey$1(),cr=requireSignature$1();function Gr(Zr){if(!(this instanceof Gr))return new Gr(Zr);typeof Zr=="string"&&(qt(Object.prototype.hasOwnProperty.call(_t,Zr),"Unknown curve "+Zr),Zr=_t[Zr]),Zr instanceof _t.PresetCurve&&(Zr={curve:Zr}),this.curve=Zr.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=Zr.curve.g,this.g.precompute(Zr.curve.n.bitLength()+1),this.hash=Zr.hash||Zr.curve.hash}return ec$1=Gr,Gr.prototype.keyPair=function(xn){return new Zt(this,xn)},Gr.prototype.keyFromPrivate=function(xn,On){return Zt.fromPrivate(this,xn,On)},Gr.prototype.keyFromPublic=function(xn,On){return Zt.fromPublic(this,xn,On)},Gr.prototype.genKeyPair=function(xn){xn||(xn={});for(var On=new lt({hash:this.hash,pers:xn.pers,persEnc:xn.persEnc||"utf8",entropy:xn.entropy||At(this.hash.hmacStrength),entropyEnc:xn.entropy&&xn.entropyEnc||"utf8",nonce:this.n.toArray()}),ss=this.n.byteLength(),ls=this.n.sub(new ut(2));;){var cs=new ut(On.generate(ss));if(!(cs.cmp(ls)>0))return cs.iaddn(1),this.keyFromPrivate(cs)}},Gr.prototype._truncateToN=function(xn,On,ss){var ls;if(ut.isBN(xn)||typeof xn=="number")xn=new ut(xn,16),ls=xn.byteLength();else if(typeof xn=="object")ls=xn.length,xn=new ut(xn,16);else{var cs=xn.toString();ls=cs.length+1>>>1,xn=new ut(cs,16)}typeof ss!="number"&&(ss=ls*8);var wl=ss-this.n.bitLength();return wl>0&&(xn=xn.ushrn(wl)),!On&&xn.cmp(this.n)>=0?xn.sub(this.n):xn},Gr.prototype.sign=function(xn,On,ss,ls){if(typeof ss=="object"&&(ls=ss,ss=null),ls||(ls={}),typeof xn!="string"&&typeof xn!="number"&&!ut.isBN(xn)){qt(typeof xn=="object"&&xn&&typeof xn.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),qt(xn.length>>>0===xn.length);for(var cs=0;cs<xn.length;cs++)qt((xn[cs]&255)===xn[cs])}On=this.keyFromPrivate(On,ss),xn=this._truncateToN(xn,!1,ls.msgBitLength),qt(!xn.isNeg(),"Can not sign a negative message");var wl=this.n.byteLength(),ep=On.getPrivate().toArray("be",wl),Al=xn.toArray("be",wl);qt(new ut(Al).eq(xn),"Can not sign message");for(var np=new lt({hash:this.hash,entropy:ep,nonce:Al,pers:ls.pers,persEnc:ls.persEnc||"utf8"}),cp=this.n.sub(new ut(1)),Cp=0;;Cp++){var Lp=ls.k?ls.k(Cp):new ut(np.generate(this.n.byteLength()));if(Lp=this._truncateToN(Lp,!0),!(Lp.cmpn(1)<=0||Lp.cmp(cp)>=0)){var jp=this.g.mul(Lp);if(!jp.isInfinity()){var nm=jp.getX(),zm=nm.umod(this.n);if(zm.cmpn(0)!==0){var i1=Lp.invm(this.n).mul(zm.mul(On.getPrivate()).iadd(xn));if(i1=i1.umod(this.n),i1.cmpn(0)!==0){var d3=(jp.getY().isOdd()?1:0)|(nm.cmp(zm)!==0?2:0);return ls.canonical&&i1.cmp(this.nh)>0&&(i1=this.n.sub(i1),d3^=1),new cr({r:zm,s:i1,recoveryParam:d3})}}}}}},Gr.prototype.verify=function(xn,On,ss,ls,cs){cs||(cs={}),xn=this._truncateToN(xn,!1,cs.msgBitLength),ss=this.keyFromPublic(ss,ls),On=new cr(On,"hex");var wl=On.r,ep=On.s;if(wl.cmpn(1)<0||wl.cmp(this.n)>=0||ep.cmpn(1)<0||ep.cmp(this.n)>=0)return!1;var Al=ep.invm(this.n),np=Al.mul(xn).umod(this.n),cp=Al.mul(wl).umod(this.n),Cp;return this.curve._maxwellTrick?(Cp=this.g.jmulAdd(np,ss.getPublic(),cp),Cp.isInfinity()?!1:Cp.eqXToP(wl)):(Cp=this.g.mulAdd(np,ss.getPublic(),cp),Cp.isInfinity()?!1:Cp.getX().umod(this.n).cmp(wl)===0)},Gr.prototype.recoverPubKey=function(Zr,xn,On,ss){qt((3&On)===On,"The recovery param is more than two bits"),xn=new cr(xn,ss);var ls=this.n,cs=new ut(Zr),wl=xn.r,ep=xn.s,Al=On&1,np=On>>1;if(wl.cmp(this.curve.p.umod(this.curve.n))>=0&&np)throw new Error("Unable to find sencond key candinate");np?wl=this.curve.pointFromX(wl.add(this.curve.n),Al):wl=this.curve.pointFromX(wl,Al);var cp=xn.r.invm(ls),Cp=ls.sub(cs).mul(cp).umod(ls),Lp=ep.mul(cp).umod(ls);return this.g.mulAdd(Cp,wl,Lp)},Gr.prototype.getKeyRecoveryParam=function(Zr,xn,On,ss){if(xn=new cr(xn,ss),xn.recoveryParam!==null)return xn.recoveryParam;for(var ls=0;ls<4;ls++){var cs;try{cs=this.recoverPubKey(Zr,xn,ls)}catch{continue}if(cs.eq(On))return ls}throw new Error("Unable to find valid recovery factor")},ec$1}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var ut=requireUtils$1(),lt=ut.assert,ht=ut.parseBytes,_t=ut.cachedProperty;function At(qt,Zt){this.eddsa=qt,this._secret=ht(Zt.secret),qt.isPoint(Zt.pub)?this._pub=Zt.pub:this._pubBytes=ht(Zt.pub)}return At.fromPublic=function(Zt,cr){return cr instanceof At?cr:new At(Zt,{pub:cr})},At.fromSecret=function(Zt,cr){return cr instanceof At?cr:new At(Zt,{secret:cr})},At.prototype.secret=function(){return this._secret},_t(At,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),_t(At,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),_t(At,"privBytes",function(){var Zt=this.eddsa,cr=this.hash(),Gr=Zt.encodingLength-1,Zr=cr.slice(0,Zt.encodingLength);return Zr[0]&=248,Zr[Gr]&=127,Zr[Gr]|=64,Zr}),_t(At,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),_t(At,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),_t(At,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),At.prototype.sign=function(Zt){return lt(this._secret,"KeyPair can only verify"),this.eddsa.sign(Zt,this)},At.prototype.verify=function(Zt,cr){return this.eddsa.verify(Zt,cr,this)},At.prototype.getSecret=function(Zt){return lt(this._secret,"KeyPair is public only"),ut.encode(this.secret(),Zt)},At.prototype.getPublic=function(Zt){return ut.encode(this.pubBytes(),Zt)},key=At,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var ut=requireBn$3(),lt=requireUtils$1(),ht=lt.assert,_t=lt.cachedProperty,At=lt.parseBytes;function qt(Zt,cr){this.eddsa=Zt,typeof cr!="object"&&(cr=At(cr)),Array.isArray(cr)&&(ht(cr.length===Zt.encodingLength*2,"Signature has invalid size"),cr={R:cr.slice(0,Zt.encodingLength),S:cr.slice(Zt.encodingLength)}),ht(cr.R&&cr.S,"Signature without R or S"),Zt.isPoint(cr.R)&&(this._R=cr.R),cr.S instanceof ut&&(this._S=cr.S),this._Rencoded=Array.isArray(cr.R)?cr.R:cr.Rencoded,this._Sencoded=Array.isArray(cr.S)?cr.S:cr.Sencoded}return _t(qt,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),_t(qt,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),_t(qt,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),_t(qt,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),qt.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},qt.prototype.toHex=function(){return lt.encode(this.toBytes(),"hex").toUpperCase()},signature=qt,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var ut=requireHash(),lt=requireCurves(),ht=requireUtils$1(),_t=ht.assert,At=ht.parseBytes,qt=requireKey(),Zt=requireSignature();function cr(Gr){if(_t(Gr==="ed25519","only tested with ed25519 so far"),!(this instanceof cr))return new cr(Gr);Gr=lt[Gr].curve,this.curve=Gr,this.g=Gr.g,this.g.precompute(Gr.n.bitLength()+1),this.pointClass=Gr.point().constructor,this.encodingLength=Math.ceil(Gr.n.bitLength()/8),this.hash=ut.sha512}return eddsa=cr,cr.prototype.sign=function(Zr,xn){Zr=At(Zr);var On=this.keyFromSecret(xn),ss=this.hashInt(On.messagePrefix(),Zr),ls=this.g.mul(ss),cs=this.encodePoint(ls),wl=this.hashInt(cs,On.pubBytes(),Zr).mul(On.priv()),ep=ss.add(wl).umod(this.curve.n);return this.makeSignature({R:ls,S:ep,Rencoded:cs})},cr.prototype.verify=function(Zr,xn,On){if(Zr=At(Zr),xn=this.makeSignature(xn),xn.S().gte(xn.eddsa.curve.n)||xn.S().isNeg())return!1;var ss=this.keyFromPublic(On),ls=this.hashInt(xn.Rencoded(),ss.pubBytes(),Zr),cs=this.g.mul(xn.S()),wl=xn.R().add(ss.pub().mul(ls));return wl.eq(cs)},cr.prototype.hashInt=function(){for(var Zr=this.hash(),xn=0;xn<arguments.length;xn++)Zr.update(arguments[xn]);return ht.intFromLE(Zr.digest()).umod(this.curve.n)},cr.prototype.keyFromPublic=function(Zr){return qt.fromPublic(this,Zr)},cr.prototype.keyFromSecret=function(Zr){return qt.fromSecret(this,Zr)},cr.prototype.makeSignature=function(Zr){return Zr instanceof Zt?Zr:new Zt(this,Zr)},cr.prototype.encodePoint=function(Zr){var xn=Zr.getY().toArray("le",this.encodingLength);return xn[this.encodingLength-1]|=Zr.getX().isOdd()?128:0,xn},cr.prototype.decodePoint=function(Zr){Zr=ht.parseBytes(Zr);var xn=Zr.length-1,On=Zr.slice(0,xn).concat(Zr[xn]&-129),ss=(Zr[xn]&128)!==0,ls=ht.intFromLE(On);return this.curve.pointFromY(ls,ss)},cr.prototype.encodeInt=function(Zr){return Zr.toArray("le",this.encodingLength)},cr.prototype.decodeInt=function(Zr){return ht.intFromLE(Zr)},cr.prototype.isPoint=function(Zr){return Zr instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(ut){var lt=ut;lt.version=require$$0.version,lt.utils=requireUtils$1(),lt.rand=requireBrorand(),lt.curve=requireCurve(),lt.curves=requireCurves(),lt.ec=requireEc(),lt.eddsa=requireEddsa()}(elliptic)),elliptic}var asn1$1={},asn1={},bn$3={exports:{}};bn$3.exports;var hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$3)),bn$3.exports}var api$1={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(ut,lt){if(ut.indexOf)return ut.indexOf(lt);for(var ht=0;ht<ut.length;ht++)if(ut[ht]===lt)return ht;return-1},Object_keys=function(ut){if(Object.keys)return Object.keys(ut);var lt=[];for(var ht in ut)lt.push(ht);return lt},forEach=function(ut,lt){if(ut.forEach)return ut.forEach(lt);for(var ht=0;ht<ut.length;ht++)lt(ut[ht],ht,ut)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(ut,lt,ht){Object.defineProperty(ut,lt,{writable:!0,enumerable:!1,configurable:!0,value:ht})}}catch{return function(lt,ht,_t){lt[ht]=_t}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(lt){if(!(this instanceof Script))return new Script(lt);this.code=lt};Script.prototype.runInContext=function(ut){if(!(ut instanceof Context))throw new TypeError("needs a 'context' argument.");var lt=document.createElement("iframe");lt.style||(lt.style={}),lt.style.display="none",document.body.appendChild(lt);var ht=lt.contentWindow,_t=ht.eval,At=ht.execScript;!_t&&At&&(At.call(ht,"null"),_t=ht.eval),forEach(Object_keys(ut),function(cr){ht[cr]=ut[cr]}),forEach(globals,function(cr){ut[cr]&&(ht[cr]=ut[cr])});var qt=Object_keys(ht),Zt=_t.call(ht,this.code);return forEach(Object_keys(ht),function(cr){(cr in ut||indexOf(qt,cr)===-1)&&(ut[cr]=ht[cr])}),forEach(globals,function(cr){cr in ut||defineProp(ut,cr,ht[cr])}),document.body.removeChild(lt),Zt},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(ut){var lt=Script.createContext(ut),ht=this.runInContext(lt);return ut&&forEach(Object_keys(lt),function(_t){ut[_t]=lt[_t]}),ht},forEach(Object_keys(Script.prototype),function(ut){exports[ut]=Script[ut]=function(lt){var ht=Script(lt);return ht[ut].apply(ht,[].slice.call(arguments,1))}}),exports.isContext=function(ut){return ut instanceof Context},exports.createScript=function(ut){return exports.Script(ut)},exports.createContext=Script.createContext=function(ut){var lt=new Context;return typeof ut=="object"&&forEach(Object_keys(ut),function(ht){lt[ht]=ut[ht]}),lt}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(ut){var lt=requireAsn1$1(),ht=requireInherits_browser(),_t=ut;_t.define=function(Zt,cr){return new At(Zt,cr)};function At(qt,Zt){this.name=qt,this.body=Zt,this.decoders={},this.encoders={}}At.prototype._createNamed=function(Zt){var cr;try{cr=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{cr=function(Zr){this._initNamed(Zr)}}return ht(cr,Zt),cr.prototype._initNamed=function(Zr){Zt.call(this,Zr)},new cr(this)},At.prototype._getDecoder=function(Zt){return Zt=Zt||"der",this.decoders.hasOwnProperty(Zt)||(this.decoders[Zt]=this._createNamed(lt.decoders[Zt])),this.decoders[Zt]},At.prototype.decode=function(Zt,cr,Gr){return this._getDecoder(cr).decode(Zt,Gr)},At.prototype._getEncoder=function(Zt){return Zt=Zt||"der",this.encoders.hasOwnProperty(Zt)||(this.encoders[Zt]=this._createNamed(lt.encoders[Zt])),this.encoders[Zt]},At.prototype.encode=function(Zt,cr,Gr){return this._getEncoder(cr).encode(Zt,Gr)}}(api$1)),api$1}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var ut=requireInherits_browser();function lt(_t){this._reporterState={obj:null,path:[],options:_t||{},errors:[]}}reporter.Reporter=lt,lt.prototype.isError=function(At){return At instanceof ht},lt.prototype.save=function(){var At=this._reporterState;return{obj:At.obj,pathLen:At.path.length}},lt.prototype.restore=function(At){var qt=this._reporterState;qt.obj=At.obj,qt.path=qt.path.slice(0,At.pathLen)},lt.prototype.enterKey=function(At){return this._reporterState.path.push(At)},lt.prototype.exitKey=function(At){var qt=this._reporterState;qt.path=qt.path.slice(0,At-1)},lt.prototype.leaveKey=function(At,qt,Zt){var cr=this._reporterState;this.exitKey(At),cr.obj!==null&&(cr.obj[qt]=Zt)},lt.prototype.path=function(){return this._reporterState.path.join("/")},lt.prototype.enterObject=function(){var At=this._reporterState,qt=At.obj;return At.obj={},qt},lt.prototype.leaveObject=function(At){var qt=this._reporterState,Zt=qt.obj;return qt.obj=At,Zt},lt.prototype.error=function(At){var qt,Zt=this._reporterState,cr=At instanceof ht;if(cr?qt=At:qt=new ht(Zt.path.map(function(Gr){return"["+JSON.stringify(Gr)+"]"}).join(""),At.message||At,At.stack),!Zt.options.partial)throw qt;return cr||Zt.errors.push(qt),qt},lt.prototype.wrapResult=function(At){var qt=this._reporterState;return qt.options.partial?{result:this.isError(At)?null:At,errors:qt.errors}:At};function ht(_t,At){this.path=_t,this.rethrow(At)}return ut(ht,Error),ht.prototype.rethrow=function(At){if(this.message=At+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ht),!this.stack)try{throw new Error(this.message)}catch(qt){this.stack=qt.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var ut=requireInherits_browser(),lt=requireBase().Reporter,ht=buffer$1.Buffer;function _t(qt,Zt){if(lt.call(this,Zt),!ht.isBuffer(qt)){this.error("Input not Buffer");return}this.base=qt,this.offset=0,this.length=qt.length}ut(_t,lt),buffer.DecoderBuffer=_t,_t.prototype.save=function(){return{offset:this.offset,reporter:lt.prototype.save.call(this)}},_t.prototype.restore=function(Zt){var cr=new _t(this.base);return cr.offset=Zt.offset,cr.length=this.offset,this.offset=Zt.offset,lt.prototype.restore.call(this,Zt.reporter),cr},_t.prototype.isEmpty=function(){return this.offset===this.length},_t.prototype.readUInt8=function(Zt){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(Zt||"DecoderBuffer overrun")},_t.prototype.skip=function(Zt,cr){if(!(this.offset+Zt<=this.length))return this.error(cr||"DecoderBuffer overrun");var Gr=new _t(this.base);return Gr._reporterState=this._reporterState,Gr.offset=this.offset,Gr.length=this.offset+Zt,this.offset+=Zt,Gr},_t.prototype.raw=function(Zt){return this.base.slice(Zt?Zt.offset:this.offset,this.length)};function At(qt,Zt){if(Array.isArray(qt))this.length=0,this.value=qt.map(function(cr){return cr instanceof At||(cr=new At(cr,Zt)),this.length+=cr.length,cr},this);else if(typeof qt=="number"){if(!(0<=qt&&qt<=255))return Zt.error("non-byte EncoderBuffer value");this.value=qt,this.length=1}else if(typeof qt=="string")this.value=qt,this.length=ht.byteLength(qt);else if(ht.isBuffer(qt))this.value=qt,this.length=qt.length;else return Zt.error("Unsupported type: "+typeof qt)}return buffer.EncoderBuffer=At,At.prototype.join=function(Zt,cr){return Zt||(Zt=new ht(this.length)),cr||(cr=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(Gr){Gr.join(Zt,cr),cr+=Gr.length}):(typeof this.value=="number"?Zt[cr]=this.value:typeof this.value=="string"?Zt.write(this.value,cr):ht.isBuffer(this.value)&&this.value.copy(Zt,cr),cr+=this.length)),Zt},buffer}var node,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node;hasRequiredNode=1;var ut=requireBase().Reporter,lt=requireBase().EncoderBuffer,ht=requireBase().DecoderBuffer,_t=requireMinimalisticAssert(),At=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],qt=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(At),Zt=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function cr(Zr,xn){var On={};this._baseState=On,On.enc=Zr,On.parent=xn||null,On.children=null,On.tag=null,On.args=null,On.reverseArgs=null,On.choice=null,On.optional=!1,On.any=!1,On.obj=!1,On.use=null,On.useDecoder=null,On.key=null,On.default=null,On.explicit=null,On.implicit=null,On.contains=null,On.parent||(On.children=[],this._wrap())}node=cr;var Gr=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return cr.prototype.clone=function(){var xn=this._baseState,On={};Gr.forEach(function(ls){On[ls]=xn[ls]});var ss=new this.constructor(On.parent);return ss._baseState=On,ss},cr.prototype._wrap=function(){var xn=this._baseState;qt.forEach(function(On){this[On]=function(){var ls=new this.constructor(this);return xn.children.push(ls),ls[On].apply(ls,arguments)}},this)},cr.prototype._init=function(xn){var On=this._baseState;_t(On.parent===null),xn.call(this),On.children=On.children.filter(function(ss){return ss._baseState.parent===this},this),_t.equal(On.children.length,1,"Root node can have only one child")},cr.prototype._useArgs=function(xn){var On=this._baseState,ss=xn.filter(function(ls){return ls instanceof this.constructor},this);xn=xn.filter(function(ls){return!(ls instanceof this.constructor)},this),ss.length!==0&&(_t(On.children===null),On.children=ss,ss.forEach(function(ls){ls._baseState.parent=this},this)),xn.length!==0&&(_t(On.args===null),On.args=xn,On.reverseArgs=xn.map(function(ls){if(typeof ls!="object"||ls.constructor!==Object)return ls;var cs={};return Object.keys(ls).forEach(function(wl){wl==(wl|0)&&(wl|=0);var ep=ls[wl];cs[ep]=wl}),cs}))},Zt.forEach(function(Zr){cr.prototype[Zr]=function(){var On=this._baseState;throw new Error(Zr+" not implemented for encoding: "+On.enc)}}),At.forEach(function(Zr){cr.prototype[Zr]=function(){var On=this._baseState,ss=Array.prototype.slice.call(arguments);return _t(On.tag===null),On.tag=Zr,this._useArgs(ss),this}}),cr.prototype.use=function(xn){_t(xn);var On=this._baseState;return _t(On.use===null),On.use=xn,this},cr.prototype.optional=function(){var xn=this._baseState;return xn.optional=!0,this},cr.prototype.def=function(xn){var On=this._baseState;return _t(On.default===null),On.default=xn,On.optional=!0,this},cr.prototype.explicit=function(xn){var On=this._baseState;return _t(On.explicit===null&&On.implicit===null),On.explicit=xn,this},cr.prototype.implicit=function(xn){var On=this._baseState;return _t(On.explicit===null&&On.implicit===null),On.implicit=xn,this},cr.prototype.obj=function(){var xn=this._baseState,On=Array.prototype.slice.call(arguments);return xn.obj=!0,On.length!==0&&this._useArgs(On),this},cr.prototype.key=function(xn){var On=this._baseState;return _t(On.key===null),On.key=xn,this},cr.prototype.any=function(){var xn=this._baseState;return xn.any=!0,this},cr.prototype.choice=function(xn){var On=this._baseState;return _t(On.choice===null),On.choice=xn,this._useArgs(Object.keys(xn).map(function(ss){return xn[ss]})),this},cr.prototype.contains=function(xn){var On=this._baseState;return _t(On.use===null),On.contains=xn,this},cr.prototype._decode=function(xn,On){var ss=this._baseState;if(ss.parent===null)return xn.wrapResult(ss.children[0]._decode(xn,On));var ls=ss.default,cs=!0,wl=null;if(ss.key!==null&&(wl=xn.enterKey(ss.key)),ss.optional){var ep=null;if(ss.explicit!==null?ep=ss.explicit:ss.implicit!==null?ep=ss.implicit:ss.tag!==null&&(ep=ss.tag),ep===null&&!ss.any){var Al=xn.save();try{ss.choice===null?this._decodeGeneric(ss.tag,xn,On):this._decodeChoice(xn,On),cs=!0}catch{cs=!1}xn.restore(Al)}else if(cs=this._peekTag(xn,ep,ss.any),xn.isError(cs))return cs}var np;if(ss.obj&&cs&&(np=xn.enterObject()),cs){if(ss.explicit!==null){var cp=this._decodeTag(xn,ss.explicit);if(xn.isError(cp))return cp;xn=cp}var Cp=xn.offset;if(ss.use===null&&ss.choice===null){if(ss.any)var Al=xn.save();var Lp=this._decodeTag(xn,ss.implicit!==null?ss.implicit:ss.tag,ss.any);if(xn.isError(Lp))return Lp;ss.any?ls=xn.raw(Al):xn=Lp}if(On&&On.track&&ss.tag!==null&&On.track(xn.path(),Cp,xn.length,"tagged"),On&&On.track&&ss.tag!==null&&On.track(xn.path(),xn.offset,xn.length,"content"),ss.any?ls=ls:ss.choice===null?ls=this._decodeGeneric(ss.tag,xn,On):ls=this._decodeChoice(xn,On),xn.isError(ls))return ls;if(!ss.any&&ss.choice===null&&ss.children!==null&&ss.children.forEach(function(zm){zm._decode(xn,On)}),ss.contains&&(ss.tag==="octstr"||ss.tag==="bitstr")){var jp=new ht(ls);ls=this._getUse(ss.contains,xn._reporterState.obj)._decode(jp,On)}}return ss.obj&&cs&&(ls=xn.leaveObject(np)),ss.key!==null&&(ls!==null||cs===!0)?xn.leaveKey(wl,ss.key,ls):wl!==null&&xn.exitKey(wl),ls},cr.prototype._decodeGeneric=function(xn,On,ss){var ls=this._baseState;return xn==="seq"||xn==="set"?null:xn==="seqof"||xn==="setof"?this._decodeList(On,xn,ls.args[0],ss):/str$/.test(xn)?this._decodeStr(On,xn,ss):xn==="objid"&&ls.args?this._decodeObjid(On,ls.args[0],ls.args[1],ss):xn==="objid"?this._decodeObjid(On,null,null,ss):xn==="gentime"||xn==="utctime"?this._decodeTime(On,xn,ss):xn==="null_"?this._decodeNull(On,ss):xn==="bool"?this._decodeBool(On,ss):xn==="objDesc"?this._decodeStr(On,xn,ss):xn==="int"||xn==="enum"?this._decodeInt(On,ls.args&&ls.args[0],ss):ls.use!==null?this._getUse(ls.use,On._reporterState.obj)._decode(On,ss):On.error("unknown tag: "+xn)},cr.prototype._getUse=function(xn,On){var ss=this._baseState;return ss.useDecoder=this._use(xn,On),_t(ss.useDecoder._baseState.parent===null),ss.useDecoder=ss.useDecoder._baseState.children[0],ss.implicit!==ss.useDecoder._baseState.implicit&&(ss.useDecoder=ss.useDecoder.clone(),ss.useDecoder._baseState.implicit=ss.implicit),ss.useDecoder},cr.prototype._decodeChoice=function(xn,On){var ss=this._baseState,ls=null,cs=!1;return Object.keys(ss.choice).some(function(wl){var ep=xn.save(),Al=ss.choice[wl];try{var np=Al._decode(xn,On);if(xn.isError(np))return!1;ls={type:wl,value:np},cs=!0}catch{return xn.restore(ep),!1}return!0},this),cs?ls:xn.error("Choice not matched")},cr.prototype._createEncoderBuffer=function(xn){return new lt(xn,this.reporter)},cr.prototype._encode=function(xn,On,ss){var ls=this._baseState;if(!(ls.default!==null&&ls.default===xn)){var cs=this._encodeValue(xn,On,ss);if(cs!==void 0&&!this._skipDefault(cs,On,ss))return cs}},cr.prototype._encodeValue=function(xn,On,ss){var ls=this._baseState;if(ls.parent===null)return ls.children[0]._encode(xn,On||new ut);var Al=null;if(this.reporter=On,ls.optional&&xn===void 0)if(ls.default!==null)xn=ls.default;else return;var cs=null,wl=!1;if(ls.any)Al=this._createEncoderBuffer(xn);else if(ls.choice)Al=this._encodeChoice(xn,On);else if(ls.contains)cs=this._getUse(ls.contains,ss)._encode(xn,On),wl=!0;else if(ls.children)cs=ls.children.map(function(Cp){if(Cp._baseState.tag==="null_")return Cp._encode(null,On,xn);if(Cp._baseState.key===null)return On.error("Child should have a key");var Lp=On.enterKey(Cp._baseState.key);if(typeof xn!="object")return On.error("Child expected, but input is not object");var jp=Cp._encode(xn[Cp._baseState.key],On,xn);return On.leaveKey(Lp),jp},this).filter(function(Cp){return Cp}),cs=this._createEncoderBuffer(cs);else if(ls.tag==="seqof"||ls.tag==="setof"){if(!(ls.args&&ls.args.length===1))return On.error("Too many args for : "+ls.tag);if(!Array.isArray(xn))return On.error("seqof/setof, but data is not Array");var ep=this.clone();ep._baseState.implicit=null,cs=this._createEncoderBuffer(xn.map(function(Cp){var Lp=this._baseState;return this._getUse(Lp.args[0],xn)._encode(Cp,On)},ep))}else ls.use!==null?Al=this._getUse(ls.use,ss)._encode(xn,On):(cs=this._encodePrimitive(ls.tag,xn),wl=!0);var Al;if(!ls.any&&ls.choice===null){var np=ls.implicit!==null?ls.implicit:ls.tag,cp=ls.implicit===null?"universal":"context";np===null?ls.use===null&&On.error("Tag could be omitted only for .use()"):ls.use===null&&(Al=this._encodeComposite(np,wl,cp,cs))}return ls.explicit!==null&&(Al=this._encodeComposite(ls.explicit,!1,"context",Al)),Al},cr.prototype._encodeChoice=function(xn,On){var ss=this._baseState,ls=ss.choice[xn.type];return ls||_t(!1,xn.type+" not found in "+JSON.stringify(Object.keys(ss.choice))),ls._encode(xn.value,On)},cr.prototype._encodePrimitive=function(xn,On){var ss=this._baseState;if(/str$/.test(xn))return this._encodeStr(On,xn);if(xn==="objid"&&ss.args)return this._encodeObjid(On,ss.reverseArgs[0],ss.args[1]);if(xn==="objid")return this._encodeObjid(On,null,null);if(xn==="gentime"||xn==="utctime")return this._encodeTime(On,xn);if(xn==="null_")return this._encodeNull();if(xn==="int"||xn==="enum")return this._encodeInt(On,ss.args&&ss.reverseArgs[0]);if(xn==="bool")return this._encodeBool(On);if(xn==="objDesc")return this._encodeStr(On,xn);throw new Error("Unsupported tag: "+xn)},cr.prototype._isNumstr=function(xn){return/^[0-9 ]*$/.test(xn)},cr.prototype._isPrintstr=function(xn){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(xn)},node}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(ut){var lt=ut;lt.Reporter=requireReporter().Reporter,lt.DecoderBuffer=requireBuffer().DecoderBuffer,lt.EncoderBuffer=requireBuffer().EncoderBuffer,lt.Node=requireNode()}(base)),base}var constants$1={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(ut){var lt=requireConstants();ut.tagClass={0:"universal",1:"application",2:"context",3:"private"},ut.tagClassByName=lt._reverse(ut.tagClass),ut.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},ut.tagByName=lt._reverse(ut.tag)}(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(ut){var lt=ut;lt._reverse=function(_t){var At={};return Object.keys(_t).forEach(function(qt){(qt|0)==qt&&(qt=qt|0);var Zt=_t[qt];At[Zt]=qt}),At},lt.der=requireDer$2()}(constants$1)),constants$1}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var ut=requireInherits_browser(),lt=requireAsn1$1(),ht=lt.base,_t=lt.bignum,At=lt.constants.der;function qt(Zr){this.enc="der",this.name=Zr.name,this.entity=Zr,this.tree=new Zt,this.tree._init(Zr.body)}der_1$1=qt,qt.prototype.decode=function(xn,On){return xn instanceof ht.DecoderBuffer||(xn=new ht.DecoderBuffer(xn,On)),this.tree._decode(xn,On)};function Zt(Zr){ht.Node.call(this,"der",Zr)}ut(Zt,ht.Node),Zt.prototype._peekTag=function(xn,On,ss){if(xn.isEmpty())return!1;var ls=xn.save(),cs=cr(xn,'Failed to peek tag: "'+On+'"');return xn.isError(cs)?cs:(xn.restore(ls),cs.tag===On||cs.tagStr===On||cs.tagStr+"of"===On||ss)},Zt.prototype._decodeTag=function(xn,On,ss){var ls=cr(xn,'Failed to decode tag of "'+On+'"');if(xn.isError(ls))return ls;var cs=Gr(xn,ls.primitive,'Failed to get length of "'+On+'"');if(xn.isError(cs))return cs;if(!ss&&ls.tag!==On&&ls.tagStr!==On&&ls.tagStr+"of"!==On)return xn.error('Failed to match tag: "'+On+'"');if(ls.primitive||cs!==null)return xn.skip(cs,'Failed to match body of: "'+On+'"');var wl=xn.save(),ep=this._skipUntilEnd(xn,'Failed to skip indefinite length body: "'+this.tag+'"');return xn.isError(ep)?ep:(cs=xn.offset-wl.offset,xn.restore(wl),xn.skip(cs,'Failed to match body of: "'+On+'"'))},Zt.prototype._skipUntilEnd=function(xn,On){for(;;){var ss=cr(xn,On);if(xn.isError(ss))return ss;var ls=Gr(xn,ss.primitive,On);if(xn.isError(ls))return ls;var cs;if(ss.primitive||ls!==null?cs=xn.skip(ls):cs=this._skipUntilEnd(xn,On),xn.isError(cs))return cs;if(ss.tagStr==="end")break}},Zt.prototype._decodeList=function(xn,On,ss,ls){for(var cs=[];!xn.isEmpty();){var wl=this._peekTag(xn,"end");if(xn.isError(wl))return wl;var ep=ss.decode(xn,"der",ls);if(xn.isError(ep)&&wl)break;cs.push(ep)}return cs},Zt.prototype._decodeStr=function(xn,On){if(On==="bitstr"){var ss=xn.readUInt8();return xn.isError(ss)?ss:{unused:ss,data:xn.raw()}}else if(On==="bmpstr"){var ls=xn.raw();if(ls.length%2===1)return xn.error("Decoding of string type: bmpstr length mismatch");for(var cs="",wl=0;wl<ls.length/2;wl++)cs+=String.fromCharCode(ls.readUInt16BE(wl*2));return cs}else if(On==="numstr"){var ep=xn.raw().toString("ascii");return this._isNumstr(ep)?ep:xn.error("Decoding of string type: numstr unsupported characters")}else{if(On==="octstr")return xn.raw();if(On==="objDesc")return xn.raw();if(On==="printstr"){var Al=xn.raw().toString("ascii");return this._isPrintstr(Al)?Al:xn.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(On)?xn.raw().toString():xn.error("Decoding of string type: "+On+" unsupported")}},Zt.prototype._decodeObjid=function(xn,On,ss){for(var ls,cs=[],wl=0;!xn.isEmpty();){var ep=xn.readUInt8();wl<<=7,wl|=ep&127,ep&128||(cs.push(wl),wl=0)}ep&128&&cs.push(wl);var Al=cs[0]/40|0,np=cs[0]%40;if(ss?ls=cs:ls=[Al,np].concat(cs.slice(1)),On){var cp=On[ls.join(" ")];cp===void 0&&(cp=On[ls.join(".")]),cp!==void 0&&(ls=cp)}return ls},Zt.prototype._decodeTime=function(xn,On){var ss=xn.raw().toString();if(On==="gentime")var ls=ss.slice(0,4)|0,cs=ss.slice(4,6)|0,wl=ss.slice(6,8)|0,ep=ss.slice(8,10)|0,Al=ss.slice(10,12)|0,np=ss.slice(12,14)|0;else if(On==="utctime"){var ls=ss.slice(0,2)|0,cs=ss.slice(2,4)|0,wl=ss.slice(4,6)|0,ep=ss.slice(6,8)|0,Al=ss.slice(8,10)|0,np=ss.slice(10,12)|0;ls<70?ls=2e3+ls:ls=1900+ls}else return xn.error("Decoding "+On+" time is not supported yet");return Date.UTC(ls,cs-1,wl,ep,Al,np,0)},Zt.prototype._decodeNull=function(xn){return null},Zt.prototype._decodeBool=function(xn){var On=xn.readUInt8();return xn.isError(On)?On:On!==0},Zt.prototype._decodeInt=function(xn,On){var ss=xn.raw(),ls=new _t(ss);return On&&(ls=On[ls.toString(10)]||ls),ls},Zt.prototype._use=function(xn,On){return typeof xn=="function"&&(xn=xn(On)),xn._getDecoder("der").tree};function cr(Zr,xn){var On=Zr.readUInt8(xn);if(Zr.isError(On))return On;var ss=At.tagClass[On>>6],ls=(On&32)===0;if((On&31)===31){var cs=On;for(On=0;(cs&128)===128;){if(cs=Zr.readUInt8(xn),Zr.isError(cs))return cs;On<<=7,On|=cs&127}}else On&=31;var wl=At.tag[On];return{cls:ss,primitive:ls,tag:On,tagStr:wl}}function Gr(Zr,xn,On){var ss=Zr.readUInt8(On);if(Zr.isError(ss))return ss;if(!xn&&ss===128)return null;if(!(ss&128))return ss;var ls=ss&127;if(ls>4)return Zr.error("length octect is too long");ss=0;for(var cs=0;cs<ls;cs++){ss<<=8;var wl=Zr.readUInt8(On);if(Zr.isError(wl))return wl;ss|=wl}return ss}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var ut=requireInherits_browser(),lt=buffer$1.Buffer,ht=requireDer$1();function _t(At){ht.call(this,At),this.enc="pem"}return ut(_t,ht),pem$1=_t,_t.prototype.decode=function(qt,Zt){for(var cr=qt.toString().split(/[\r\n]+/g),Gr=Zt.label.toUpperCase(),Zr=/^-----(BEGIN|END) ([^-]+)-----$/,xn=-1,On=-1,ss=0;ss<cr.length;ss++){var ls=cr[ss].match(Zr);if(ls!==null&&ls[2]===Gr)if(xn===-1){if(ls[1]!=="BEGIN")break;xn=ss}else{if(ls[1]!=="END")break;On=ss;break}}if(xn===-1||On===-1)throw new Error("PEM section not found for: "+Gr);var cs=cr.slice(xn+1,On).join("");cs.replace(/[^a-z0-9\+\/=]+/gi,"");var wl=new lt(cs,"base64");return ht.prototype.decode.call(this,wl,Zt)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(ut){var lt=ut;lt.der=requireDer$1(),lt.pem=requirePem$1()}(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var ut=requireInherits_browser(),lt=buffer$1.Buffer,ht=requireAsn1$1(),_t=ht.base,At=ht.constants.der;function qt(Zr){this.enc="der",this.name=Zr.name,this.entity=Zr,this.tree=new Zt,this.tree._init(Zr.body)}der_1=qt,qt.prototype.encode=function(xn,On){return this.tree._encode(xn,On).join()};function Zt(Zr){_t.Node.call(this,"der",Zr)}ut(Zt,_t.Node),Zt.prototype._encodeComposite=function(xn,On,ss,ls){var cs=Gr(xn,On,ss,this.reporter);if(ls.length<128){var Al=new lt(2);return Al[0]=cs,Al[1]=ls.length,this._createEncoderBuffer([Al,ls])}for(var wl=1,ep=ls.length;ep>=256;ep>>=8)wl++;var Al=new lt(1+1+wl);Al[0]=cs,Al[1]=128|wl;for(var ep=1+wl,np=ls.length;np>0;ep--,np>>=8)Al[ep]=np&255;return this._createEncoderBuffer([Al,ls])},Zt.prototype._encodeStr=function(xn,On){if(On==="bitstr")return this._createEncoderBuffer([xn.unused|0,xn.data]);if(On==="bmpstr"){for(var ss=new lt(xn.length*2),ls=0;ls<xn.length;ls++)ss.writeUInt16BE(xn.charCodeAt(ls),ls*2);return this._createEncoderBuffer(ss)}else return On==="numstr"?this._isNumstr(xn)?this._createEncoderBuffer(xn):this.reporter.error("Encoding of string type: numstr supports only digits and space"):On==="printstr"?this._isPrintstr(xn)?this._createEncoderBuffer(xn):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(On)?this._createEncoderBuffer(xn):On==="objDesc"?this._createEncoderBuffer(xn):this.reporter.error("Encoding of string type: "+On+" unsupported")},Zt.prototype._encodeObjid=function(xn,On,ss){if(typeof xn=="string"){if(!On)return this.reporter.error("string objid given, but no values map found");if(!On.hasOwnProperty(xn))return this.reporter.error("objid not found in values map");xn=On[xn].split(/[\s\.]+/g);for(var ls=0;ls<xn.length;ls++)xn[ls]|=0}else if(Array.isArray(xn)){xn=xn.slice();for(var ls=0;ls<xn.length;ls++)xn[ls]|=0}if(!Array.isArray(xn))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(xn));if(!ss){if(xn[1]>=40)return this.reporter.error("Second objid identifier OOB");xn.splice(0,2,xn[0]*40+xn[1])}for(var cs=0,ls=0;ls<xn.length;ls++){var wl=xn[ls];for(cs++;wl>=128;wl>>=7)cs++}for(var ep=new lt(cs),Al=ep.length-1,ls=xn.length-1;ls>=0;ls--){var wl=xn[ls];for(ep[Al--]=wl&127;(wl>>=7)>0;)ep[Al--]=128|wl&127}return this._createEncoderBuffer(ep)};function cr(Zr){return Zr<10?"0"+Zr:Zr}Zt.prototype._encodeTime=function(xn,On){var ss,ls=new Date(xn);return On==="gentime"?ss=[cr(ls.getFullYear()),cr(ls.getUTCMonth()+1),cr(ls.getUTCDate()),cr(ls.getUTCHours()),cr(ls.getUTCMinutes()),cr(ls.getUTCSeconds()),"Z"].join(""):On==="utctime"?ss=[cr(ls.getFullYear()%100),cr(ls.getUTCMonth()+1),cr(ls.getUTCDate()),cr(ls.getUTCHours()),cr(ls.getUTCMinutes()),cr(ls.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+On+" time is not supported yet"),this._encodeStr(ss,"octstr")},Zt.prototype._encodeNull=function(){return this._createEncoderBuffer("")},Zt.prototype._encodeInt=function(xn,On){if(typeof xn=="string"){if(!On)return this.reporter.error("String int or enum given, but no values map");if(!On.hasOwnProperty(xn))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(xn));xn=On[xn]}if(typeof xn!="number"&&!lt.isBuffer(xn)){var ss=xn.toArray();!xn.sign&&ss[0]&128&&ss.unshift(0),xn=new lt(ss)}if(lt.isBuffer(xn)){var ls=xn.length;xn.length===0&&ls++;var wl=new lt(ls);return xn.copy(wl),xn.length===0&&(wl[0]=0),this._createEncoderBuffer(wl)}if(xn<128)return this._createEncoderBuffer(xn);if(xn<256)return this._createEncoderBuffer([0,xn]);for(var ls=1,cs=xn;cs>=256;cs>>=8)ls++;for(var wl=new Array(ls),cs=wl.length-1;cs>=0;cs--)wl[cs]=xn&255,xn>>=8;return wl[0]&128&&wl.unshift(0),this._createEncoderBuffer(new lt(wl))},Zt.prototype._encodeBool=function(xn){return this._createEncoderBuffer(xn?255:0)},Zt.prototype._use=function(xn,On){return typeof xn=="function"&&(xn=xn(On)),xn._getEncoder("der").tree},Zt.prototype._skipDefault=function(xn,On,ss){var ls=this._baseState,cs;if(ls.default===null)return!1;var wl=xn.join();if(ls.defaultBuffer===void 0&&(ls.defaultBuffer=this._encodeValue(ls.default,On,ss).join()),wl.length!==ls.defaultBuffer.length)return!1;for(cs=0;cs<wl.length;cs++)if(wl[cs]!==ls.defaultBuffer[cs])return!1;return!0};function Gr(Zr,xn,On,ss){var ls;if(Zr==="seqof"?Zr="seq":Zr==="setof"&&(Zr="set"),At.tagByName.hasOwnProperty(Zr))ls=At.tagByName[Zr];else if(typeof Zr=="number"&&(Zr|0)===Zr)ls=Zr;else return ss.error("Unknown tag: "+Zr);return ls>=31?ss.error("Multi-octet tag encoding unsupported"):(xn||(ls|=32),ls|=At.tagClassByName[On||"universal"]<<6,ls)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var ut=requireInherits_browser(),lt=requireDer();function ht(_t){lt.call(this,_t),this.enc="pem"}return ut(ht,lt),pem=ht,ht.prototype.encode=function(At,qt){for(var Zt=lt.prototype.encode.call(this,At),cr=Zt.toString("base64"),Gr=["-----BEGIN "+qt.label+"-----"],Zr=0;Zr<cr.length;Zr+=64)Gr.push(cr.slice(Zr,Zr+64));return Gr.push("-----END "+qt.label+"-----"),Gr.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(ut){var lt=ut;lt.der=requireDer(),lt.pem=requirePem()}(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,function(ut){var lt=ut;lt.bignum=requireBn$2(),lt.define=requireApi().define,lt.base=requireBase(),lt.constants=requireConstants(),lt.decoders=requireDecoders(),lt.encoders=requireEncoders()}(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var ut=requireAsn1$1(),lt=ut.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),ht=ut.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),_t=ut.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),At=ut.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_t),this.key("subjectPublicKey").bitstr())}),qt=ut.define("RelativeDistinguishedName",function(){this.setof(ht)}),Zt=ut.define("RDNSequence",function(){this.seqof(qt)}),cr=ut.define("Name",function(){this.choice({rdnSequence:this.use(Zt)})}),Gr=ut.define("Validity",function(){this.seq().obj(this.key("notBefore").use(lt),this.key("notAfter").use(lt))}),Zr=ut.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),xn=ut.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(_t),this.key("issuer").use(cr),this.key("validity").use(Gr),this.key("subject").use(cr),this.key("subjectPublicKeyInfo").use(At),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Zr).optional())}),On=ut.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(xn),this.key("signatureAlgorithm").use(_t),this.key("signatureValue").bitstr())});return certificate=On,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var ut=requireAsn1$1();asn1$1.certificate=requireCertificate();var lt=ut.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=lt;var ht=ut.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=ht;var _t=ut.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),At=ut.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(_t),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=At;var qt=ut.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(_t),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=qt;var Zt=ut.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=Zt;var cr=ut.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=cr,asn1$1.DSAparam=ut.define("DSAparam",function(){this.int()});var Gr=ut.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),Zr=ut.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(Gr),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=Zr,asn1$1.signature=ut.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var ut=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,lt=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,ht=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,_t=requireEvp_bytestokey(),At=requireBrowser$6(),qt=requireSafeBuffer$1().Buffer;return fixProc=function(Zt,cr){var Gr=Zt.toString(),Zr=Gr.match(ut),xn;if(Zr){var ss="aes"+Zr[1],ls=qt.from(Zr[2],"hex"),cs=qt.from(Zr[3].replace(/[\r\n]/g,""),"base64"),wl=_t(cr,ls.slice(0,8),parseInt(Zr[1],10)).key,ep=[],Al=At.createDecipheriv(ss,wl,ls);ep.push(Al.update(cs)),ep.push(Al.final()),xn=qt.concat(ep)}else{var On=Gr.match(ht);xn=qt.from(On[2].replace(/[\r\n]/g,""),"base64")}var np=Gr.match(lt)[1];return{tag:np,data:xn}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var ut=requireAsn1(),lt=require$$1,ht=requireFixProc(),_t=requireBrowser$6(),At=requireBrowser$7(),qt=requireSafeBuffer$1().Buffer;function Zt(Gr,Zr){var xn=Gr.algorithm.decrypt.kde.kdeparams.salt,On=parseInt(Gr.algorithm.decrypt.kde.kdeparams.iters.toString(),10),ss=lt[Gr.algorithm.decrypt.cipher.algo.join(".")],ls=Gr.algorithm.decrypt.cipher.iv,cs=Gr.subjectPrivateKey,wl=parseInt(ss.split("-")[1],10)/8,ep=At.pbkdf2Sync(Zr,xn,On,wl,"sha1"),Al=_t.createDecipheriv(ss,ep,ls),np=[];return np.push(Al.update(cs)),np.push(Al.final()),qt.concat(np)}function cr(Gr){var Zr;typeof Gr=="object"&&!qt.isBuffer(Gr)&&(Zr=Gr.passphrase,Gr=Gr.key),typeof Gr=="string"&&(Gr=qt.from(Gr));var xn=ht(Gr,Zr),On=xn.tag,ss=xn.data,ls,cs;switch(On){case"CERTIFICATE":cs=ut.certificate.decode(ss,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(cs||(cs=ut.PublicKey.decode(ss,"der")),ls=cs.algorithm.algorithm.join("."),ls){case"1.2.840.113549.1.1.1":return ut.RSAPublicKey.decode(cs.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return cs.subjectPrivateKey=cs.subjectPublicKey,{type:"ec",data:cs};case"1.2.840.10040.4.1":return cs.algorithm.params.pub_key=ut.DSAparam.decode(cs.subjectPublicKey.data,"der"),{type:"dsa",data:cs.algorithm.params};default:throw new Error("unknown key id "+ls)}case"ENCRYPTED PRIVATE KEY":ss=ut.EncryptedPrivateKey.decode(ss,"der"),ss=Zt(ss,Zr);case"PRIVATE KEY":switch(cs=ut.PrivateKey.decode(ss,"der"),ls=cs.algorithm.algorithm.join("."),ls){case"1.2.840.113549.1.1.1":return ut.RSAPrivateKey.decode(cs.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:cs.algorithm.curve,privateKey:ut.ECPrivateKey.decode(cs.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return cs.algorithm.params.priv_key=ut.DSAparam.decode(cs.subjectPrivateKey,"der"),{type:"dsa",params:cs.algorithm.params};default:throw new Error("unknown key id "+ls)}case"RSA PUBLIC KEY":return ut.RSAPublicKey.decode(ss,"der");case"RSA PRIVATE KEY":return ut.RSAPrivateKey.decode(ss,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ut.DSAPrivateKey.decode(ss,"der")};case"EC PRIVATE KEY":return ss=ut.ECPrivateKey.decode(ss,"der"),{curve:ss.parameters.value,privateKey:ss.privateKey};default:throw new Error("unknown key type "+On)}}return cr.signature=ut.signature,parseAsn1=cr,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var ut=requireSafeBuffer$1().Buffer,lt=requireBrowser$8(),ht=requireBrowserifyRsa(),_t=requireElliptic().ec,At=requireBn$4(),qt=requireParseAsn1(),Zt=require$$4,cr=1;function Gr(Al,np,cp,Cp,Lp){var jp=qt(np);if(jp.curve){if(Cp!=="ecdsa"&&Cp!=="ecdsa/rsa")throw new Error("wrong private key type");return Zr(Al,jp)}else if(jp.type==="dsa"){if(Cp!=="dsa")throw new Error("wrong private key type");return xn(Al,jp,cp)}if(Cp!=="rsa"&&Cp!=="ecdsa/rsa")throw new Error("wrong private key type");if(np.padding!==void 0&&np.padding!==cr)throw new Error("illegal or unsupported padding mode");Al=ut.concat([Lp,Al]);for(var nm=jp.modulus.byteLength(),zm=[0,1];Al.length+zm.length+1<nm;)zm.push(255);zm.push(0);for(var i1=-1;++i1<Al.length;)zm.push(Al[i1]);var d3=ht(zm,jp);return d3}function Zr(Al,np){var cp=Zt[np.curve.join(".")];if(!cp)throw new Error("unknown curve "+np.curve.join("."));var Cp=new _t(cp),Lp=Cp.keyFromPrivate(np.privateKey),jp=Lp.sign(Al);return ut.from(jp.toDER())}function xn(Al,np,cp){for(var Cp=np.params.priv_key,Lp=np.params.p,jp=np.params.q,nm=np.params.g,zm=new At(0),i1,d3=ls(Al,jp).mod(jp),op=!1,Sn=ss(Cp,jp,Al,cp);op===!1;)i1=wl(jp,Sn,cp),zm=ep(nm,i1,Lp,jp),op=i1.invm(jp).imul(d3.add(Cp.mul(zm))).mod(jp),op.cmpn(0)===0&&(op=!1,zm=new At(0));return On(zm,op)}function On(Al,np){Al=Al.toArray(),np=np.toArray(),Al[0]&128&&(Al=[0].concat(Al)),np[0]&128&&(np=[0].concat(np));var cp=Al.length+np.length+4,Cp=[48,cp,2,Al.length];return Cp=Cp.concat(Al,[2,np.length],np),ut.from(Cp)}function ss(Al,np,cp,Cp){if(Al=ut.from(Al.toArray()),Al.length<np.byteLength()){var Lp=ut.alloc(np.byteLength()-Al.length);Al=ut.concat([Lp,Al])}var jp=cp.length,nm=cs(cp,np),zm=ut.alloc(jp);zm.fill(1);var i1=ut.alloc(jp);return i1=lt(Cp,i1).update(zm).update(ut.from([0])).update(Al).update(nm).digest(),zm=lt(Cp,i1).update(zm).digest(),i1=lt(Cp,i1).update(zm).update(ut.from([1])).update(Al).update(nm).digest(),zm=lt(Cp,i1).update(zm).digest(),{k:i1,v:zm}}function ls(Al,np){var cp=new At(Al),Cp=(Al.length<<3)-np.bitLength();return Cp>0&&cp.ishrn(Cp),cp}function cs(Al,np){Al=ls(Al,np),Al=Al.mod(np);var cp=ut.from(Al.toArray());if(cp.length<np.byteLength()){var Cp=ut.alloc(np.byteLength()-cp.length);cp=ut.concat([Cp,cp])}return cp}function wl(Al,np,cp){var Cp,Lp;do{for(Cp=ut.alloc(0);Cp.length*8<Al.bitLength();)np.v=lt(cp,np.k).update(np.v).digest(),Cp=ut.concat([Cp,np.v]);Lp=ls(Cp,Al),np.k=lt(cp,np.k).update(np.v).update(ut.from([0])).digest(),np.v=lt(cp,np.k).update(np.v).digest()}while(Lp.cmp(Al)!==-1);return Lp}function ep(Al,np,cp,Cp){return Al.toRed(At.mont(cp)).redPow(np).fromRed().mod(Cp)}return sign$1.exports=Gr,sign$1.exports.getKey=ss,sign$1.exports.makeKey=wl,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var ut=requireSafeBuffer$1().Buffer,lt=requireBn$4(),ht=requireElliptic().ec,_t=requireParseAsn1(),At=require$$4;function qt(Zr,xn,On,ss,ls){var cs=_t(On);if(cs.type==="ec"){if(ss!=="ecdsa"&&ss!=="ecdsa/rsa")throw new Error("wrong public key type");return Zt(Zr,xn,cs)}else if(cs.type==="dsa"){if(ss!=="dsa")throw new Error("wrong public key type");return cr(Zr,xn,cs)}if(ss!=="rsa"&&ss!=="ecdsa/rsa")throw new Error("wrong public key type");xn=ut.concat([ls,xn]);for(var wl=cs.modulus.byteLength(),ep=[1],Al=0;xn.length+ep.length+2<wl;)ep.push(255),Al+=1;ep.push(0);for(var np=-1;++np<xn.length;)ep.push(xn[np]);ep=ut.from(ep);var cp=lt.mont(cs.modulus);Zr=new lt(Zr).toRed(cp),Zr=Zr.redPow(new lt(cs.publicExponent)),Zr=ut.from(Zr.fromRed().toArray());var Cp=Al<8?1:0;for(wl=Math.min(Zr.length,ep.length),Zr.length!==ep.length&&(Cp=1),np=-1;++np<wl;)Cp|=Zr[np]^ep[np];return Cp===0}function Zt(Zr,xn,On){var ss=At[On.data.algorithm.curve.join(".")];if(!ss)throw new Error("unknown curve "+On.data.algorithm.curve.join("."));var ls=new ht(ss),cs=On.data.subjectPrivateKey.data;return ls.verify(xn,Zr,cs)}function cr(Zr,xn,On){var ss=On.data.p,ls=On.data.q,cs=On.data.g,wl=On.data.pub_key,ep=_t.signature.decode(Zr,"der"),Al=ep.s,np=ep.r;Gr(Al,ls),Gr(np,ls);var cp=lt.mont(ss),Cp=Al.invm(ls),Lp=cs.toRed(cp).redPow(new lt(xn).mul(Cp).mod(ls)).fromRed().mul(wl.toRed(cp).redPow(np.mul(Cp).mod(ls)).fromRed()).mod(ss).mod(ls);return Lp.cmp(np)===0}function Gr(Zr,xn){if(Zr.cmpn(0)<=0)throw new Error("invalid sig");if(Zr.cmp(xn)>=0)throw new Error("invalid sig")}return verify_1=qt,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var ut=requireSafeBuffer$1().Buffer,lt=requireBrowser$9(),ht=requireReadableBrowser(),_t=requireInherits_browser(),At=requireSign(),qt=requireVerify(),Zt=require$$6;Object.keys(Zt).forEach(function(On){Zt[On].id=ut.from(Zt[On].id,"hex"),Zt[On.toLowerCase()]=Zt[On]});function cr(On){ht.Writable.call(this);var ss=Zt[On];if(!ss)throw new Error("Unknown message digest");this._hashType=ss.hash,this._hash=lt(ss.hash),this._tag=ss.id,this._signType=ss.sign}_t(cr,ht.Writable),cr.prototype._write=function(ss,ls,cs){this._hash.update(ss),cs()},cr.prototype.update=function(ss,ls){return this._hash.update(typeof ss=="string"?ut.from(ss,ls):ss),this},cr.prototype.sign=function(ss,ls){this.end();var cs=this._hash.digest(),wl=At(cs,ss,this._hashType,this._signType,this._tag);return ls?wl.toString(ls):wl};function Gr(On){ht.Writable.call(this);var ss=Zt[On];if(!ss)throw new Error("Unknown message digest");this._hash=lt(ss.hash),this._tag=ss.id,this._signType=ss.sign}_t(Gr,ht.Writable),Gr.prototype._write=function(ss,ls,cs){this._hash.update(ss),cs()},Gr.prototype.update=function(ss,ls){return this._hash.update(typeof ss=="string"?ut.from(ss,ls):ss),this},Gr.prototype.verify=function(ss,ls,cs){var wl=typeof ls=="string"?ut.from(ls,cs):ls;this.end();var ep=this._hash.digest();return qt(wl,ep,ss,this._signType,this._tag)};function Zr(On){return new cr(On)}function xn(On){return new Gr(On)}return browser$3={Sign:Zr,Verify:xn,createSign:Zr,createVerify:xn},browser$3}var bn$2={exports:{}};bn$2.exports;var hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$2)),bn$2.exports}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var ut=requireElliptic(),lt=requireBn$1();browser$2=function(Zt){return new _t(Zt)};var ht={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};ht.p224=ht.secp224r1,ht.p256=ht.secp256r1=ht.prime256v1,ht.p192=ht.secp192r1=ht.prime192v1,ht.p384=ht.secp384r1,ht.p521=ht.secp521r1;function _t(qt){this.curveType=ht[qt],this.curveType||(this.curveType={name:qt}),this.curve=new ut.ec(this.curveType.name),this.keys=void 0}_t.prototype.generateKeys=function(qt,Zt){return this.keys=this.curve.genKeyPair(),this.getPublicKey(qt,Zt)},_t.prototype.computeSecret=function(qt,Zt,cr){Zt=Zt||"utf8",buffer$1.Buffer.isBuffer(qt)||(qt=new buffer$1.Buffer(qt,Zt));var Gr=this.curve.keyFromPublic(qt).getPublic(),Zr=Gr.mul(this.keys.getPrivate()).getX();return At(Zr,cr,this.curveType.byteLength)},_t.prototype.getPublicKey=function(qt,Zt){var cr=this.keys.getPublic(Zt==="compressed",!0);return Zt==="hybrid"&&(cr[cr.length-1]%2?cr[0]=7:cr[0]=6),At(cr,qt)},_t.prototype.getPrivateKey=function(qt){return At(this.keys.getPrivate(),qt)},_t.prototype.setPublicKey=function(qt,Zt){return Zt=Zt||"utf8",buffer$1.Buffer.isBuffer(qt)||(qt=new buffer$1.Buffer(qt,Zt)),this.keys._importPublic(qt),this},_t.prototype.setPrivateKey=function(qt,Zt){Zt=Zt||"utf8",buffer$1.Buffer.isBuffer(qt)||(qt=new buffer$1.Buffer(qt,Zt));var cr=new lt(qt);return cr=cr.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(cr),this};function At(qt,Zt,cr){Array.isArray(qt)||(qt=qt.toArray());var Gr=new buffer$1.Buffer(qt);if(cr&&Gr.length<cr){var Zr=new buffer$1.Buffer(cr-Gr.length);Zr.fill(0),Gr=buffer$1.Buffer.concat([Zr,Gr])}return Zt?Gr.toString(Zt):Gr}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var ut=requireBrowser$9(),lt=requireSafeBuffer$1().Buffer;mgf=function(_t,At){for(var qt=lt.alloc(0),Zt=0,cr;qt.length<At;)cr=ht(Zt++),qt=lt.concat([qt,ut("sha1").update(_t).update(cr).digest()]);return qt.slice(0,At)};function ht(_t){var At=lt.allocUnsafe(4);return At.writeUInt32BE(_t,0),At}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(lt,ht){for(var _t=lt.length,At=-1;++At<_t;)lt[At]^=ht[At];return lt}),xor}var bn$1={exports:{}};bn$1.exports;var hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,function(ut){(function(lt,ht){function _t(op,Sn){if(!op)throw new Error(Sn||"Assertion failed")}function At(op,Sn){op.super_=Sn;var Fo=function(){};Fo.prototype=Sn.prototype,op.prototype=new Fo,op.prototype.constructor=op}function qt(op,Sn,Fo){if(qt.isBN(op))return op;this.negative=0,this.words=null,this.length=0,this.red=null,op!==null&&((Sn==="le"||Sn==="be")&&(Fo=Sn,Sn=10),this._init(op||0,Sn||10,Fo||"be"))}typeof lt=="object"?lt.exports=qt:ht.BN=qt,qt.BN=qt,qt.wordSize=26;var Zt;try{typeof window<"u"&&typeof window.Buffer<"u"?Zt=window.Buffer:Zt=buffer$1.Buffer}catch{}qt.isBN=function(Sn){return Sn instanceof qt?!0:Sn!==null&&typeof Sn=="object"&&Sn.constructor.wordSize===qt.wordSize&&Array.isArray(Sn.words)},qt.max=function(Sn,Fo){return Sn.cmp(Fo)>0?Sn:Fo},qt.min=function(Sn,Fo){return Sn.cmp(Fo)<0?Sn:Fo},qt.prototype._init=function(Sn,Fo,as){if(typeof Sn=="number")return this._initNumber(Sn,Fo,as);if(typeof Sn=="object")return this._initArray(Sn,Fo,as);Fo==="hex"&&(Fo=16),_t(Fo===(Fo|0)&&Fo>=2&&Fo<=36),Sn=Sn.toString().replace(/\s+/g,"");var us=0;Sn[0]==="-"&&(us++,this.negative=1),us<Sn.length&&(Fo===16?this._parseHex(Sn,us,as):(this._parseBase(Sn,Fo,us),as==="le"&&this._initArray(this.toArray(),Fo,as)))},qt.prototype._initNumber=function(Sn,Fo,as){Sn<0&&(this.negative=1,Sn=-Sn),Sn<67108864?(this.words=[Sn&67108863],this.length=1):Sn<4503599627370496?(this.words=[Sn&67108863,Sn/67108864&67108863],this.length=2):(_t(Sn<9007199254740992),this.words=[Sn&67108863,Sn/67108864&67108863,1],this.length=3),as==="le"&&this._initArray(this.toArray(),Fo,as)},qt.prototype._initArray=function(Sn,Fo,as){if(_t(typeof Sn.length=="number"),Sn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(Sn.length/3),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl,ip,lp=0;if(as==="be")for(us=Sn.length-1,xl=0;us>=0;us-=3)ip=Sn[us]|Sn[us-1]<<8|Sn[us-2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);else if(as==="le")for(us=0,xl=0;us<Sn.length;us+=3)ip=Sn[us]|Sn[us+1]<<8|Sn[us+2]<<16,this.words[xl]|=ip<<lp&67108863,this.words[xl+1]=ip>>>26-lp&67108863,lp+=24,lp>=26&&(lp-=26,xl++);return this.strip()};function cr(op,Sn){var Fo=op.charCodeAt(Sn);return Fo>=65&&Fo<=70?Fo-55:Fo>=97&&Fo<=102?Fo-87:Fo-48&15}function Gr(op,Sn,Fo){var as=cr(op,Fo);return Fo-1>=Sn&&(as|=cr(op,Fo-1)<<4),as}qt.prototype._parseHex=function(Sn,Fo,as){this.length=Math.ceil((Sn.length-Fo)/6),this.words=new Array(this.length);for(var us=0;us<this.length;us++)this.words[us]=0;var xl=0,ip=0,lp;if(as==="be")for(us=Sn.length-1;us>=Fo;us-=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8;else{var pu=Sn.length-Fo;for(us=pu%2===0?Fo+1:Fo;us<Sn.length;us+=2)lp=Gr(Sn,Fo,us)<<xl,this.words[ip]|=lp&67108863,xl>=18?(xl-=18,ip+=1,this.words[ip]|=lp>>>26):xl+=8}this.strip()};function Zr(op,Sn,Fo,as){for(var us=0,xl=Math.min(op.length,Fo),ip=Sn;ip<xl;ip++){var lp=op.charCodeAt(ip)-48;us*=as,lp>=49?us+=lp-49+10:lp>=17?us+=lp-17+10:us+=lp}return us}qt.prototype._parseBase=function(Sn,Fo,as){this.words=[0],this.length=1;for(var us=0,xl=1;xl<=67108863;xl*=Fo)us++;us--,xl=xl/Fo|0;for(var ip=Sn.length-as,lp=ip%us,pu=Math.min(ip,ip-lp)+as,go=0,h0=as;h0<pu;h0+=us)go=Zr(Sn,h0,h0+us,Fo),this.imuln(xl),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go);if(lp!==0){var kp=1;for(go=Zr(Sn,h0,Sn.length,Fo),h0=0;h0<lp;h0++)kp*=Fo;this.imuln(kp),this.words[0]+go<67108864?this.words[0]+=go:this._iaddn(go)}this.strip()},qt.prototype.copy=function(Sn){Sn.words=new Array(this.length);for(var Fo=0;Fo<this.length;Fo++)Sn.words[Fo]=this.words[Fo];Sn.length=this.length,Sn.negative=this.negative,Sn.red=this.red},qt.prototype.clone=function(){var Sn=new qt(null);return this.copy(Sn),Sn},qt.prototype._expand=function(Sn){for(;this.length<Sn;)this.words[this.length++]=0;return this},qt.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},qt.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},qt.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var xn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],On=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],ss=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];qt.prototype.toString=function(Sn,Fo){Sn=Sn||10,Fo=Fo|0||1;var as;if(Sn===16||Sn==="hex"){as="";for(var us=0,xl=0,ip=0;ip<this.length;ip++){var lp=this.words[ip],pu=((lp<<us|xl)&16777215).toString(16);xl=lp>>>24-us&16777215,us+=2,us>=26&&(us-=26,ip--),xl!==0||ip!==this.length-1?as=xn[6-pu.length]+pu+as:as=pu+as}for(xl!==0&&(as=xl.toString(16)+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}if(Sn===(Sn|0)&&Sn>=2&&Sn<=36){var go=On[Sn],h0=ss[Sn];as="";var kp=this.clone();for(kp.negative=0;!kp.isZero();){var cm=kp.modn(h0).toString(Sn);kp=kp.idivn(h0),kp.isZero()?as=cm+as:as=xn[go-cm.length]+cm+as}for(this.isZero()&&(as="0"+as);as.length%Fo!==0;)as="0"+as;return this.negative!==0&&(as="-"+as),as}_t(!1,"Base should be between 2 and 36")},qt.prototype.toNumber=function(){var Sn=this.words[0];return this.length===2?Sn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?Sn+=4503599627370496+this.words[1]*67108864:this.length>2&&_t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-Sn:Sn},qt.prototype.toJSON=function(){return this.toString(16)},qt.prototype.toBuffer=function(Sn,Fo){return _t(typeof Zt<"u"),this.toArrayLike(Zt,Sn,Fo)},qt.prototype.toArray=function(Sn,Fo){return this.toArrayLike(Array,Sn,Fo)},qt.prototype.toArrayLike=function(Sn,Fo,as){var us=this.byteLength(),xl=as||Math.max(1,us);_t(us<=xl,"byte array longer than desired length"),_t(xl>0,"Requested array length <= 0"),this.strip();var ip=Fo==="le",lp=new Sn(xl),pu,go,h0=this.clone();if(ip){for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[go]=pu;for(;go<xl;go++)lp[go]=0}else{for(go=0;go<xl-us;go++)lp[go]=0;for(go=0;!h0.isZero();go++)pu=h0.andln(255),h0.iushrn(8),lp[xl-go-1]=pu}return lp},Math.clz32?qt.prototype._countBits=function(Sn){return 32-Math.clz32(Sn)}:qt.prototype._countBits=function(Sn){var Fo=Sn,as=0;return Fo>=4096&&(as+=13,Fo>>>=13),Fo>=64&&(as+=7,Fo>>>=7),Fo>=8&&(as+=4,Fo>>>=4),Fo>=2&&(as+=2,Fo>>>=2),as+Fo},qt.prototype._zeroBits=function(Sn){if(Sn===0)return 26;var Fo=Sn,as=0;return Fo&8191||(as+=13,Fo>>>=13),Fo&127||(as+=7,Fo>>>=7),Fo&15||(as+=4,Fo>>>=4),Fo&3||(as+=2,Fo>>>=2),Fo&1||as++,as},qt.prototype.bitLength=function(){var Sn=this.words[this.length-1],Fo=this._countBits(Sn);return(this.length-1)*26+Fo};function ls(op){for(var Sn=new Array(op.bitLength()),Fo=0;Fo<Sn.length;Fo++){var as=Fo/26|0,us=Fo%26;Sn[Fo]=(op.words[as]&1<<us)>>>us}return Sn}qt.prototype.zeroBits=function(){if(this.isZero())return 0;for(var Sn=0,Fo=0;Fo<this.length;Fo++){var as=this._zeroBits(this.words[Fo]);if(Sn+=as,as!==26)break}return Sn},qt.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},qt.prototype.toTwos=function(Sn){return this.negative!==0?this.abs().inotn(Sn).iaddn(1):this.clone()},qt.prototype.fromTwos=function(Sn){return this.testn(Sn-1)?this.notn(Sn).iaddn(1).ineg():this.clone()},qt.prototype.isNeg=function(){return this.negative!==0},qt.prototype.neg=function(){return this.clone().ineg()},qt.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},qt.prototype.iuor=function(Sn){for(;this.length<Sn.length;)this.words[this.length++]=0;for(var Fo=0;Fo<Sn.length;Fo++)this.words[Fo]=this.words[Fo]|Sn.words[Fo];return this.strip()},qt.prototype.ior=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuor(Sn)},qt.prototype.or=function(Sn){return this.length>Sn.length?this.clone().ior(Sn):Sn.clone().ior(this)},qt.prototype.uor=function(Sn){return this.length>Sn.length?this.clone().iuor(Sn):Sn.clone().iuor(this)},qt.prototype.iuand=function(Sn){var Fo;this.length>Sn.length?Fo=Sn:Fo=this;for(var as=0;as<Fo.length;as++)this.words[as]=this.words[as]&Sn.words[as];return this.length=Fo.length,this.strip()},qt.prototype.iand=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuand(Sn)},qt.prototype.and=function(Sn){return this.length>Sn.length?this.clone().iand(Sn):Sn.clone().iand(this)},qt.prototype.uand=function(Sn){return this.length>Sn.length?this.clone().iuand(Sn):Sn.clone().iuand(this)},qt.prototype.iuxor=function(Sn){var Fo,as;this.length>Sn.length?(Fo=this,as=Sn):(Fo=Sn,as=this);for(var us=0;us<as.length;us++)this.words[us]=Fo.words[us]^as.words[us];if(this!==Fo)for(;us<Fo.length;us++)this.words[us]=Fo.words[us];return this.length=Fo.length,this.strip()},qt.prototype.ixor=function(Sn){return _t((this.negative|Sn.negative)===0),this.iuxor(Sn)},qt.prototype.xor=function(Sn){return this.length>Sn.length?this.clone().ixor(Sn):Sn.clone().ixor(this)},qt.prototype.uxor=function(Sn){return this.length>Sn.length?this.clone().iuxor(Sn):Sn.clone().iuxor(this)},qt.prototype.inotn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Math.ceil(Sn/26)|0,as=Sn%26;this._expand(Fo),as>0&&Fo--;for(var us=0;us<Fo;us++)this.words[us]=~this.words[us]&67108863;return as>0&&(this.words[us]=~this.words[us]&67108863>>26-as),this.strip()},qt.prototype.notn=function(Sn){return this.clone().inotn(Sn)},qt.prototype.setn=function(Sn,Fo){_t(typeof Sn=="number"&&Sn>=0);var as=Sn/26|0,us=Sn%26;return this._expand(as+1),Fo?this.words[as]=this.words[as]|1<<us:this.words[as]=this.words[as]&~(1<<us),this.strip()},qt.prototype.iadd=function(Sn){var Fo;if(this.negative!==0&&Sn.negative===0)return this.negative=0,Fo=this.isub(Sn),this.negative^=1,this._normSign();if(this.negative===0&&Sn.negative!==0)return Sn.negative=0,Fo=this.isub(Sn),Sn.negative=1,Fo._normSign();var as,us;this.length>Sn.length?(as=this,us=Sn):(as=Sn,us=this);for(var xl=0,ip=0;ip<us.length;ip++)Fo=(as.words[ip]|0)+(us.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;for(;xl!==0&&ip<as.length;ip++)Fo=(as.words[ip]|0)+xl,this.words[ip]=Fo&67108863,xl=Fo>>>26;if(this.length=as.length,xl!==0)this.words[this.length]=xl,this.length++;else if(as!==this)for(;ip<as.length;ip++)this.words[ip]=as.words[ip];return this},qt.prototype.add=function(Sn){var Fo;return Sn.negative!==0&&this.negative===0?(Sn.negative=0,Fo=this.sub(Sn),Sn.negative^=1,Fo):Sn.negative===0&&this.negative!==0?(this.negative=0,Fo=Sn.sub(this),this.negative=1,Fo):this.length>Sn.length?this.clone().iadd(Sn):Sn.clone().iadd(this)},qt.prototype.isub=function(Sn){if(Sn.negative!==0){Sn.negative=0;var Fo=this.iadd(Sn);return Sn.negative=1,Fo._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(Sn),this.negative=1,this._normSign();var as=this.cmp(Sn);if(as===0)return this.negative=0,this.length=1,this.words[0]=0,this;var us,xl;as>0?(us=this,xl=Sn):(us=Sn,xl=this);for(var ip=0,lp=0;lp<xl.length;lp++)Fo=(us.words[lp]|0)-(xl.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;for(;ip!==0&&lp<us.length;lp++)Fo=(us.words[lp]|0)+ip,ip=Fo>>26,this.words[lp]=Fo&67108863;if(ip===0&&lp<us.length&&us!==this)for(;lp<us.length;lp++)this.words[lp]=us.words[lp];return this.length=Math.max(this.length,lp),us!==this&&(this.negative=1),this.strip()},qt.prototype.sub=function(Sn){return this.clone().isub(Sn)};function cs(op,Sn,Fo){Fo.negative=Sn.negative^op.negative;var as=op.length+Sn.length|0;Fo.length=as,as=as-1|0;var us=op.words[0]|0,xl=Sn.words[0]|0,ip=us*xl,lp=ip&67108863,pu=ip/67108864|0;Fo.words[0]=lp;for(var go=1;go<as;go++){for(var h0=pu>>>26,kp=pu&67108863,cm=Math.min(go,Sn.length-1),b3=Math.max(0,go-op.length+1);b3<=cm;b3++){var L_=go-b3|0;us=op.words[L_]|0,xl=Sn.words[b3]|0,ip=us*xl+kp,h0+=ip/67108864|0,kp=ip&67108863}Fo.words[go]=kp|0,pu=h0|0}return pu!==0?Fo.words[go]=pu|0:Fo.length--,Fo.strip()}var wl=function(Sn,Fo,as){var us=Sn.words,xl=Fo.words,ip=as.words,lp=0,pu,go,h0,kp=us[0]|0,cm=kp&8191,b3=kp>>>13,L_=us[1]|0,Ym=L_&8191,Xm=L_>>>13,Jm=us[2]|0,$_=Jm&8191,j_=Jm>>>13,h3=us[3]|0,Fp=h3&8191,W_=h3>>>13,t4=us[4]|0,Nw=t4&8191,Dp=t4>>>13,a1=us[5]|0,zp=a1&8191,v3=a1>>>13,Mw=us[6]|0,nw=Mw&8191,n4=Mw>>>13,Ww=us[7]|0,F_=Ww&8191,qx=Ww>>>13,nM=us[8]|0,Hm=nM&8191,y3=nM>>>13,Q_=us[9]|0,Uw=Q_&8191,s4=Q_>>>13,rM=xl[0]|0,c4=rM&8191,tM=rM>>>13,R5=xl[1]|0,r4=R5&8191,a4=R5>>>13,cM=xl[2]|0,Yx=cM&8191,D5=cM>>>13,wM=xl[3]|0,uM=wM&8191,fM=wM>>>13,AM=xl[4]|0,lM=AM&8191,vM=AM>>>13,HM=xl[5]|0,xM=HM&8191,RM=HM>>>13,VM=xl[6]|0,SM=VM&8191,gM=VM>>>13,Z_=xl[7]|0,Bw=Z_&8191,Fw=Z_>>>13,B_=xl[8]|0,Lw=B_&8191,eM=B_>>>13,mM=xl[9]|0,G_=mM&8191,r_=mM>>>13;as.negative=Sn.negative^Fo.negative,as.length=19,pu=Math.imul(cm,c4),go=Math.imul(cm,tM),go=go+Math.imul(b3,c4)|0,h0=Math.imul(b3,tM);var Vx=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(Vx>>>26)|0,Vx&=67108863,pu=Math.imul(Ym,c4),go=Math.imul(Ym,tM),go=go+Math.imul(Xm,c4)|0,h0=Math.imul(Xm,tM),pu=pu+Math.imul(cm,r4)|0,go=go+Math.imul(cm,a4)|0,go=go+Math.imul(b3,r4)|0,h0=h0+Math.imul(b3,a4)|0;var l4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(l4>>>26)|0,l4&=67108863,pu=Math.imul($_,c4),go=Math.imul($_,tM),go=go+Math.imul(j_,c4)|0,h0=Math.imul(j_,tM),pu=pu+Math.imul(Ym,r4)|0,go=go+Math.imul(Ym,a4)|0,go=go+Math.imul(Xm,r4)|0,h0=h0+Math.imul(Xm,a4)|0,pu=pu+Math.imul(cm,Yx)|0,go=go+Math.imul(cm,D5)|0,go=go+Math.imul(b3,Yx)|0,h0=h0+Math.imul(b3,D5)|0;var R4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(R4>>>26)|0,R4&=67108863,pu=Math.imul(Fp,c4),go=Math.imul(Fp,tM),go=go+Math.imul(W_,c4)|0,h0=Math.imul(W_,tM),pu=pu+Math.imul($_,r4)|0,go=go+Math.imul($_,a4)|0,go=go+Math.imul(j_,r4)|0,h0=h0+Math.imul(j_,a4)|0,pu=pu+Math.imul(Ym,Yx)|0,go=go+Math.imul(Ym,D5)|0,go=go+Math.imul(Xm,Yx)|0,h0=h0+Math.imul(Xm,D5)|0,pu=pu+Math.imul(cm,uM)|0,go=go+Math.imul(cm,fM)|0,go=go+Math.imul(b3,uM)|0,h0=h0+Math.imul(b3,fM)|0;var u4=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(u4>>>26)|0,u4&=67108863,pu=Math.imul(Nw,c4),go=Math.imul(Nw,tM),go=go+Math.imul(Dp,c4)|0,h0=Math.imul(Dp,tM),pu=pu+Math.imul(Fp,r4)|0,go=go+Math.imul(Fp,a4)|0,go=go+Math.imul(W_,r4)|0,h0=h0+Math.imul(W_,a4)|0,pu=pu+Math.imul($_,Yx)|0,go=go+Math.imul($_,D5)|0,go=go+Math.imul(j_,Yx)|0,h0=h0+Math.imul(j_,D5)|0,pu=pu+Math.imul(Ym,uM)|0,go=go+Math.imul(Ym,fM)|0,go=go+Math.imul(Xm,uM)|0,h0=h0+Math.imul(Xm,fM)|0,pu=pu+Math.imul(cm,lM)|0,go=go+Math.imul(cm,vM)|0,go=go+Math.imul(b3,lM)|0,h0=h0+Math.imul(b3,vM)|0;var iM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(iM>>>26)|0,iM&=67108863,pu=Math.imul(zp,c4),go=Math.imul(zp,tM),go=go+Math.imul(v3,c4)|0,h0=Math.imul(v3,tM),pu=pu+Math.imul(Nw,r4)|0,go=go+Math.imul(Nw,a4)|0,go=go+Math.imul(Dp,r4)|0,h0=h0+Math.imul(Dp,a4)|0,pu=pu+Math.imul(Fp,Yx)|0,go=go+Math.imul(Fp,D5)|0,go=go+Math.imul(W_,Yx)|0,h0=h0+Math.imul(W_,D5)|0,pu=pu+Math.imul($_,uM)|0,go=go+Math.imul($_,fM)|0,go=go+Math.imul(j_,uM)|0,h0=h0+Math.imul(j_,fM)|0,pu=pu+Math.imul(Ym,lM)|0,go=go+Math.imul(Ym,vM)|0,go=go+Math.imul(Xm,lM)|0,h0=h0+Math.imul(Xm,vM)|0,pu=pu+Math.imul(cm,xM)|0,go=go+Math.imul(cm,RM)|0,go=go+Math.imul(b3,xM)|0,h0=h0+Math.imul(b3,RM)|0;var hM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(hM>>>26)|0,hM&=67108863,pu=Math.imul(nw,c4),go=Math.imul(nw,tM),go=go+Math.imul(n4,c4)|0,h0=Math.imul(n4,tM),pu=pu+Math.imul(zp,r4)|0,go=go+Math.imul(zp,a4)|0,go=go+Math.imul(v3,r4)|0,h0=h0+Math.imul(v3,a4)|0,pu=pu+Math.imul(Nw,Yx)|0,go=go+Math.imul(Nw,D5)|0,go=go+Math.imul(Dp,Yx)|0,h0=h0+Math.imul(Dp,D5)|0,pu=pu+Math.imul(Fp,uM)|0,go=go+Math.imul(Fp,fM)|0,go=go+Math.imul(W_,uM)|0,h0=h0+Math.imul(W_,fM)|0,pu=pu+Math.imul($_,lM)|0,go=go+Math.imul($_,vM)|0,go=go+Math.imul(j_,lM)|0,h0=h0+Math.imul(j_,vM)|0,pu=pu+Math.imul(Ym,xM)|0,go=go+Math.imul(Ym,RM)|0,go=go+Math.imul(Xm,xM)|0,h0=h0+Math.imul(Xm,RM)|0,pu=pu+Math.imul(cm,SM)|0,go=go+Math.imul(cm,gM)|0,go=go+Math.imul(b3,SM)|0,h0=h0+Math.imul(b3,gM)|0;var bM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(bM>>>26)|0,bM&=67108863,pu=Math.imul(F_,c4),go=Math.imul(F_,tM),go=go+Math.imul(qx,c4)|0,h0=Math.imul(qx,tM),pu=pu+Math.imul(nw,r4)|0,go=go+Math.imul(nw,a4)|0,go=go+Math.imul(n4,r4)|0,h0=h0+Math.imul(n4,a4)|0,pu=pu+Math.imul(zp,Yx)|0,go=go+Math.imul(zp,D5)|0,go=go+Math.imul(v3,Yx)|0,h0=h0+Math.imul(v3,D5)|0,pu=pu+Math.imul(Nw,uM)|0,go=go+Math.imul(Nw,fM)|0,go=go+Math.imul(Dp,uM)|0,h0=h0+Math.imul(Dp,fM)|0,pu=pu+Math.imul(Fp,lM)|0,go=go+Math.imul(Fp,vM)|0,go=go+Math.imul(W_,lM)|0,h0=h0+Math.imul(W_,vM)|0,pu=pu+Math.imul($_,xM)|0,go=go+Math.imul($_,RM)|0,go=go+Math.imul(j_,xM)|0,h0=h0+Math.imul(j_,RM)|0,pu=pu+Math.imul(Ym,SM)|0,go=go+Math.imul(Ym,gM)|0,go=go+Math.imul(Xm,SM)|0,h0=h0+Math.imul(Xm,gM)|0,pu=pu+Math.imul(cm,Bw)|0,go=go+Math.imul(cm,Fw)|0,go=go+Math.imul(b3,Bw)|0,h0=h0+Math.imul(b3,Fw)|0;var yM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(yM>>>26)|0,yM&=67108863,pu=Math.imul(Hm,c4),go=Math.imul(Hm,tM),go=go+Math.imul(y3,c4)|0,h0=Math.imul(y3,tM),pu=pu+Math.imul(F_,r4)|0,go=go+Math.imul(F_,a4)|0,go=go+Math.imul(qx,r4)|0,h0=h0+Math.imul(qx,a4)|0,pu=pu+Math.imul(nw,Yx)|0,go=go+Math.imul(nw,D5)|0,go=go+Math.imul(n4,Yx)|0,h0=h0+Math.imul(n4,D5)|0,pu=pu+Math.imul(zp,uM)|0,go=go+Math.imul(zp,fM)|0,go=go+Math.imul(v3,uM)|0,h0=h0+Math.imul(v3,fM)|0,pu=pu+Math.imul(Nw,lM)|0,go=go+Math.imul(Nw,vM)|0,go=go+Math.imul(Dp,lM)|0,h0=h0+Math.imul(Dp,vM)|0,pu=pu+Math.imul(Fp,xM)|0,go=go+Math.imul(Fp,RM)|0,go=go+Math.imul(W_,xM)|0,h0=h0+Math.imul(W_,RM)|0,pu=pu+Math.imul($_,SM)|0,go=go+Math.imul($_,gM)|0,go=go+Math.imul(j_,SM)|0,h0=h0+Math.imul(j_,gM)|0,pu=pu+Math.imul(Ym,Bw)|0,go=go+Math.imul(Ym,Fw)|0,go=go+Math.imul(Xm,Bw)|0,h0=h0+Math.imul(Xm,Fw)|0,pu=pu+Math.imul(cm,Lw)|0,go=go+Math.imul(cm,eM)|0,go=go+Math.imul(b3,Lw)|0,h0=h0+Math.imul(b3,eM)|0;var _M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(_M>>>26)|0,_M&=67108863,pu=Math.imul(Uw,c4),go=Math.imul(Uw,tM),go=go+Math.imul(s4,c4)|0,h0=Math.imul(s4,tM),pu=pu+Math.imul(Hm,r4)|0,go=go+Math.imul(Hm,a4)|0,go=go+Math.imul(y3,r4)|0,h0=h0+Math.imul(y3,a4)|0,pu=pu+Math.imul(F_,Yx)|0,go=go+Math.imul(F_,D5)|0,go=go+Math.imul(qx,Yx)|0,h0=h0+Math.imul(qx,D5)|0,pu=pu+Math.imul(nw,uM)|0,go=go+Math.imul(nw,fM)|0,go=go+Math.imul(n4,uM)|0,h0=h0+Math.imul(n4,fM)|0,pu=pu+Math.imul(zp,lM)|0,go=go+Math.imul(zp,vM)|0,go=go+Math.imul(v3,lM)|0,h0=h0+Math.imul(v3,vM)|0,pu=pu+Math.imul(Nw,xM)|0,go=go+Math.imul(Nw,RM)|0,go=go+Math.imul(Dp,xM)|0,h0=h0+Math.imul(Dp,RM)|0,pu=pu+Math.imul(Fp,SM)|0,go=go+Math.imul(Fp,gM)|0,go=go+Math.imul(W_,SM)|0,h0=h0+Math.imul(W_,gM)|0,pu=pu+Math.imul($_,Bw)|0,go=go+Math.imul($_,Fw)|0,go=go+Math.imul(j_,Bw)|0,h0=h0+Math.imul(j_,Fw)|0,pu=pu+Math.imul(Ym,Lw)|0,go=go+Math.imul(Ym,eM)|0,go=go+Math.imul(Xm,Lw)|0,h0=h0+Math.imul(Xm,eM)|0,pu=pu+Math.imul(cm,G_)|0,go=go+Math.imul(cm,r_)|0,go=go+Math.imul(b3,G_)|0,h0=h0+Math.imul(b3,r_)|0;var oM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(oM>>>26)|0,oM&=67108863,pu=Math.imul(Uw,r4),go=Math.imul(Uw,a4),go=go+Math.imul(s4,r4)|0,h0=Math.imul(s4,a4),pu=pu+Math.imul(Hm,Yx)|0,go=go+Math.imul(Hm,D5)|0,go=go+Math.imul(y3,Yx)|0,h0=h0+Math.imul(y3,D5)|0,pu=pu+Math.imul(F_,uM)|0,go=go+Math.imul(F_,fM)|0,go=go+Math.imul(qx,uM)|0,h0=h0+Math.imul(qx,fM)|0,pu=pu+Math.imul(nw,lM)|0,go=go+Math.imul(nw,vM)|0,go=go+Math.imul(n4,lM)|0,h0=h0+Math.imul(n4,vM)|0,pu=pu+Math.imul(zp,xM)|0,go=go+Math.imul(zp,RM)|0,go=go+Math.imul(v3,xM)|0,h0=h0+Math.imul(v3,RM)|0,pu=pu+Math.imul(Nw,SM)|0,go=go+Math.imul(Nw,gM)|0,go=go+Math.imul(Dp,SM)|0,h0=h0+Math.imul(Dp,gM)|0,pu=pu+Math.imul(Fp,Bw)|0,go=go+Math.imul(Fp,Fw)|0,go=go+Math.imul(W_,Bw)|0,h0=h0+Math.imul(W_,Fw)|0,pu=pu+Math.imul($_,Lw)|0,go=go+Math.imul($_,eM)|0,go=go+Math.imul(j_,Lw)|0,h0=h0+Math.imul(j_,eM)|0,pu=pu+Math.imul(Ym,G_)|0,go=go+Math.imul(Ym,r_)|0,go=go+Math.imul(Xm,G_)|0,h0=h0+Math.imul(Xm,r_)|0;var LM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(LM>>>26)|0,LM&=67108863,pu=Math.imul(Uw,Yx),go=Math.imul(Uw,D5),go=go+Math.imul(s4,Yx)|0,h0=Math.imul(s4,D5),pu=pu+Math.imul(Hm,uM)|0,go=go+Math.imul(Hm,fM)|0,go=go+Math.imul(y3,uM)|0,h0=h0+Math.imul(y3,fM)|0,pu=pu+Math.imul(F_,lM)|0,go=go+Math.imul(F_,vM)|0,go=go+Math.imul(qx,lM)|0,h0=h0+Math.imul(qx,vM)|0,pu=pu+Math.imul(nw,xM)|0,go=go+Math.imul(nw,RM)|0,go=go+Math.imul(n4,xM)|0,h0=h0+Math.imul(n4,RM)|0,pu=pu+Math.imul(zp,SM)|0,go=go+Math.imul(zp,gM)|0,go=go+Math.imul(v3,SM)|0,h0=h0+Math.imul(v3,gM)|0,pu=pu+Math.imul(Nw,Bw)|0,go=go+Math.imul(Nw,Fw)|0,go=go+Math.imul(Dp,Bw)|0,h0=h0+Math.imul(Dp,Fw)|0,pu=pu+Math.imul(Fp,Lw)|0,go=go+Math.imul(Fp,eM)|0,go=go+Math.imul(W_,Lw)|0,h0=h0+Math.imul(W_,eM)|0,pu=pu+Math.imul($_,G_)|0,go=go+Math.imul($_,r_)|0,go=go+Math.imul(j_,G_)|0,h0=h0+Math.imul(j_,r_)|0;var EM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(EM>>>26)|0,EM&=67108863,pu=Math.imul(Uw,uM),go=Math.imul(Uw,fM),go=go+Math.imul(s4,uM)|0,h0=Math.imul(s4,fM),pu=pu+Math.imul(Hm,lM)|0,go=go+Math.imul(Hm,vM)|0,go=go+Math.imul(y3,lM)|0,h0=h0+Math.imul(y3,vM)|0,pu=pu+Math.imul(F_,xM)|0,go=go+Math.imul(F_,RM)|0,go=go+Math.imul(qx,xM)|0,h0=h0+Math.imul(qx,RM)|0,pu=pu+Math.imul(nw,SM)|0,go=go+Math.imul(nw,gM)|0,go=go+Math.imul(n4,SM)|0,h0=h0+Math.imul(n4,gM)|0,pu=pu+Math.imul(zp,Bw)|0,go=go+Math.imul(zp,Fw)|0,go=go+Math.imul(v3,Bw)|0,h0=h0+Math.imul(v3,Fw)|0,pu=pu+Math.imul(Nw,Lw)|0,go=go+Math.imul(Nw,eM)|0,go=go+Math.imul(Dp,Lw)|0,h0=h0+Math.imul(Dp,eM)|0,pu=pu+Math.imul(Fp,G_)|0,go=go+Math.imul(Fp,r_)|0,go=go+Math.imul(W_,G_)|0,h0=h0+Math.imul(W_,r_)|0;var BM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(BM>>>26)|0,BM&=67108863,pu=Math.imul(Uw,lM),go=Math.imul(Uw,vM),go=go+Math.imul(s4,lM)|0,h0=Math.imul(s4,vM),pu=pu+Math.imul(Hm,xM)|0,go=go+Math.imul(Hm,RM)|0,go=go+Math.imul(y3,xM)|0,h0=h0+Math.imul(y3,RM)|0,pu=pu+Math.imul(F_,SM)|0,go=go+Math.imul(F_,gM)|0,go=go+Math.imul(qx,SM)|0,h0=h0+Math.imul(qx,gM)|0,pu=pu+Math.imul(nw,Bw)|0,go=go+Math.imul(nw,Fw)|0,go=go+Math.imul(n4,Bw)|0,h0=h0+Math.imul(n4,Fw)|0,pu=pu+Math.imul(zp,Lw)|0,go=go+Math.imul(zp,eM)|0,go=go+Math.imul(v3,Lw)|0,h0=h0+Math.imul(v3,eM)|0,pu=pu+Math.imul(Nw,G_)|0,go=go+Math.imul(Nw,r_)|0,go=go+Math.imul(Dp,G_)|0,h0=h0+Math.imul(Dp,r_)|0;var IM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(IM>>>26)|0,IM&=67108863,pu=Math.imul(Uw,xM),go=Math.imul(Uw,RM),go=go+Math.imul(s4,xM)|0,h0=Math.imul(s4,RM),pu=pu+Math.imul(Hm,SM)|0,go=go+Math.imul(Hm,gM)|0,go=go+Math.imul(y3,SM)|0,h0=h0+Math.imul(y3,gM)|0,pu=pu+Math.imul(F_,Bw)|0,go=go+Math.imul(F_,Fw)|0,go=go+Math.imul(qx,Bw)|0,h0=h0+Math.imul(qx,Fw)|0,pu=pu+Math.imul(nw,Lw)|0,go=go+Math.imul(nw,eM)|0,go=go+Math.imul(n4,Lw)|0,h0=h0+Math.imul(n4,eM)|0,pu=pu+Math.imul(zp,G_)|0,go=go+Math.imul(zp,r_)|0,go=go+Math.imul(v3,G_)|0,h0=h0+Math.imul(v3,r_)|0;var $M=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+($M>>>26)|0,$M&=67108863,pu=Math.imul(Uw,SM),go=Math.imul(Uw,gM),go=go+Math.imul(s4,SM)|0,h0=Math.imul(s4,gM),pu=pu+Math.imul(Hm,Bw)|0,go=go+Math.imul(Hm,Fw)|0,go=go+Math.imul(y3,Bw)|0,h0=h0+Math.imul(y3,Fw)|0,pu=pu+Math.imul(F_,Lw)|0,go=go+Math.imul(F_,eM)|0,go=go+Math.imul(qx,Lw)|0,h0=h0+Math.imul(qx,eM)|0,pu=pu+Math.imul(nw,G_)|0,go=go+Math.imul(nw,r_)|0,go=go+Math.imul(n4,G_)|0,h0=h0+Math.imul(n4,r_)|0;var NM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(NM>>>26)|0,NM&=67108863,pu=Math.imul(Uw,Bw),go=Math.imul(Uw,Fw),go=go+Math.imul(s4,Bw)|0,h0=Math.imul(s4,Fw),pu=pu+Math.imul(Hm,Lw)|0,go=go+Math.imul(Hm,eM)|0,go=go+Math.imul(y3,Lw)|0,h0=h0+Math.imul(y3,eM)|0,pu=pu+Math.imul(F_,G_)|0,go=go+Math.imul(F_,r_)|0,go=go+Math.imul(qx,G_)|0,h0=h0+Math.imul(qx,r_)|0;var CM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(CM>>>26)|0,CM&=67108863,pu=Math.imul(Uw,Lw),go=Math.imul(Uw,eM),go=go+Math.imul(s4,Lw)|0,h0=Math.imul(s4,eM),pu=pu+Math.imul(Hm,G_)|0,go=go+Math.imul(Hm,r_)|0,go=go+Math.imul(y3,G_)|0,h0=h0+Math.imul(y3,r_)|0;var pM=(lp+pu|0)+((go&8191)<<13)|0;lp=(h0+(go>>>13)|0)+(pM>>>26)|0,pM&=67108863,pu=Math.imul(Uw,G_),go=Math.imul(Uw,r_),go=go+Math.imul(s4,G_)|0,h0=Math.imul(s4,r_);var dM=(lp+pu|0)+((go&8191)<<13)|0;return lp=(h0+(go>>>13)|0)+(dM>>>26)|0,dM&=67108863,ip[0]=Vx,ip[1]=l4,ip[2]=R4,ip[3]=u4,ip[4]=iM,ip[5]=hM,ip[6]=bM,ip[7]=yM,ip[8]=_M,ip[9]=oM,ip[10]=LM,ip[11]=EM,ip[12]=BM,ip[13]=IM,ip[14]=$M,ip[15]=NM,ip[16]=CM,ip[17]=pM,ip[18]=dM,lp!==0&&(ip[19]=lp,as.length++),as};Math.imul||(wl=cs);function ep(op,Sn,Fo){Fo.negative=Sn.negative^op.negative,Fo.length=op.length+Sn.length;for(var as=0,us=0,xl=0;xl<Fo.length-1;xl++){var ip=us;us=0;for(var lp=as&67108863,pu=Math.min(xl,Sn.length-1),go=Math.max(0,xl-op.length+1);go<=pu;go++){var h0=xl-go,kp=op.words[h0]|0,cm=Sn.words[go]|0,b3=kp*cm,L_=b3&67108863;ip=ip+(b3/67108864|0)|0,L_=L_+lp|0,lp=L_&67108863,ip=ip+(L_>>>26)|0,us+=ip>>>26,ip&=67108863}Fo.words[xl]=lp,as=ip,ip=us}return as!==0?Fo.words[xl]=as:Fo.length--,Fo.strip()}function Al(op,Sn,Fo){var as=new np;return as.mulp(op,Sn,Fo)}qt.prototype.mulTo=function(Sn,Fo){var as,us=this.length+Sn.length;return this.length===10&&Sn.length===10?as=wl(this,Sn,Fo):us<63?as=cs(this,Sn,Fo):us<1024?as=ep(this,Sn,Fo):as=Al(this,Sn,Fo),as};function np(op,Sn){this.x=op,this.y=Sn}np.prototype.makeRBT=function(Sn){for(var Fo=new Array(Sn),as=qt.prototype._countBits(Sn)-1,us=0;us<Sn;us++)Fo[us]=this.revBin(us,as,Sn);return Fo},np.prototype.revBin=function(Sn,Fo,as){if(Sn===0||Sn===as-1)return Sn;for(var us=0,xl=0;xl<Fo;xl++)us|=(Sn&1)<<Fo-xl-1,Sn>>=1;return us},np.prototype.permute=function(Sn,Fo,as,us,xl,ip){for(var lp=0;lp<ip;lp++)us[lp]=Fo[Sn[lp]],xl[lp]=as[Sn[lp]]},np.prototype.transform=function(Sn,Fo,as,us,xl,ip){this.permute(ip,Sn,Fo,as,us,xl);for(var lp=1;lp<xl;lp<<=1)for(var pu=lp<<1,go=Math.cos(2*Math.PI/pu),h0=Math.sin(2*Math.PI/pu),kp=0;kp<xl;kp+=pu)for(var cm=go,b3=h0,L_=0;L_<lp;L_++){var Ym=as[kp+L_],Xm=us[kp+L_],Jm=as[kp+L_+lp],$_=us[kp+L_+lp],j_=cm*Jm-b3*$_;$_=cm*$_+b3*Jm,Jm=j_,as[kp+L_]=Ym+Jm,us[kp+L_]=Xm+$_,as[kp+L_+lp]=Ym-Jm,us[kp+L_+lp]=Xm-$_,L_!==pu&&(j_=go*cm-h0*b3,b3=go*b3+h0*cm,cm=j_)}},np.prototype.guessLen13b=function(Sn,Fo){var as=Math.max(Fo,Sn)|1,us=as&1,xl=0;for(as=as/2|0;as;as=as>>>1)xl++;return 1<<xl+1+us},np.prototype.conjugate=function(Sn,Fo,as){if(!(as<=1))for(var us=0;us<as/2;us++){var xl=Sn[us];Sn[us]=Sn[as-us-1],Sn[as-us-1]=xl,xl=Fo[us],Fo[us]=-Fo[as-us-1],Fo[as-us-1]=-xl}},np.prototype.normalize13b=function(Sn,Fo){for(var as=0,us=0;us<Fo/2;us++){var xl=Math.round(Sn[2*us+1]/Fo)*8192+Math.round(Sn[2*us]/Fo)+as;Sn[us]=xl&67108863,xl<67108864?as=0:as=xl/67108864|0}return Sn},np.prototype.convert13b=function(Sn,Fo,as,us){for(var xl=0,ip=0;ip<Fo;ip++)xl=xl+(Sn[ip]|0),as[2*ip]=xl&8191,xl=xl>>>13,as[2*ip+1]=xl&8191,xl=xl>>>13;for(ip=2*Fo;ip<us;++ip)as[ip]=0;_t(xl===0),_t((xl&-8192)===0)},np.prototype.stub=function(Sn){for(var Fo=new Array(Sn),as=0;as<Sn;as++)Fo[as]=0;return Fo},np.prototype.mulp=function(Sn,Fo,as){var us=2*this.guessLen13b(Sn.length,Fo.length),xl=this.makeRBT(us),ip=this.stub(us),lp=new Array(us),pu=new Array(us),go=new Array(us),h0=new Array(us),kp=new Array(us),cm=new Array(us),b3=as.words;b3.length=us,this.convert13b(Sn.words,Sn.length,lp,us),this.convert13b(Fo.words,Fo.length,h0,us),this.transform(lp,ip,pu,go,us,xl),this.transform(h0,ip,kp,cm,us,xl);for(var L_=0;L_<us;L_++){var Ym=pu[L_]*kp[L_]-go[L_]*cm[L_];go[L_]=pu[L_]*cm[L_]+go[L_]*kp[L_],pu[L_]=Ym}return this.conjugate(pu,go,us),this.transform(pu,go,b3,ip,us,xl),this.conjugate(b3,ip,us),this.normalize13b(b3,us),as.negative=Sn.negative^Fo.negative,as.length=Sn.length+Fo.length,as.strip()},qt.prototype.mul=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),this.mulTo(Sn,Fo)},qt.prototype.mulf=function(Sn){var Fo=new qt(null);return Fo.words=new Array(this.length+Sn.length),Al(this,Sn,Fo)},qt.prototype.imul=function(Sn){return this.clone().mulTo(Sn,this)},qt.prototype.imuln=function(Sn){_t(typeof Sn=="number"),_t(Sn<67108864);for(var Fo=0,as=0;as<this.length;as++){var us=(this.words[as]|0)*Sn,xl=(us&67108863)+(Fo&67108863);Fo>>=26,Fo+=us/67108864|0,Fo+=xl>>>26,this.words[as]=xl&67108863}return Fo!==0&&(this.words[as]=Fo,this.length++),this.length=Sn===0?1:this.length,this},qt.prototype.muln=function(Sn){return this.clone().imuln(Sn)},qt.prototype.sqr=function(){return this.mul(this)},qt.prototype.isqr=function(){return this.imul(this.clone())},qt.prototype.pow=function(Sn){var Fo=ls(Sn);if(Fo.length===0)return new qt(1);for(var as=this,us=0;us<Fo.length&&Fo[us]===0;us++,as=as.sqr());if(++us<Fo.length)for(var xl=as.sqr();us<Fo.length;us++,xl=xl.sqr())Fo[us]!==0&&(as=as.mul(xl));return as},qt.prototype.iushln=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=67108863>>>26-Fo<<26-Fo,xl;if(Fo!==0){var ip=0;for(xl=0;xl<this.length;xl++){var lp=this.words[xl]&us,pu=(this.words[xl]|0)-lp<<Fo;this.words[xl]=pu|ip,ip=lp>>>26-Fo}ip&&(this.words[xl]=ip,this.length++)}if(as!==0){for(xl=this.length-1;xl>=0;xl--)this.words[xl+as]=this.words[xl];for(xl=0;xl<as;xl++)this.words[xl]=0;this.length+=as}return this.strip()},qt.prototype.ishln=function(Sn){return _t(this.negative===0),this.iushln(Sn)},qt.prototype.iushrn=function(Sn,Fo,as){_t(typeof Sn=="number"&&Sn>=0);var us;Fo?us=(Fo-Fo%26)/26:us=0;var xl=Sn%26,ip=Math.min((Sn-xl)/26,this.length),lp=67108863^67108863>>>xl<<xl,pu=as;if(us-=ip,us=Math.max(0,us),pu){for(var go=0;go<ip;go++)pu.words[go]=this.words[go];pu.length=ip}if(ip!==0)if(this.length>ip)for(this.length-=ip,go=0;go<this.length;go++)this.words[go]=this.words[go+ip];else this.words[0]=0,this.length=1;var h0=0;for(go=this.length-1;go>=0&&(h0!==0||go>=us);go--){var kp=this.words[go]|0;this.words[go]=h0<<26-xl|kp>>>xl,h0=kp&lp}return pu&&h0!==0&&(pu.words[pu.length++]=h0),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},qt.prototype.ishrn=function(Sn,Fo,as){return _t(this.negative===0),this.iushrn(Sn,Fo,as)},qt.prototype.shln=function(Sn){return this.clone().ishln(Sn)},qt.prototype.ushln=function(Sn){return this.clone().iushln(Sn)},qt.prototype.shrn=function(Sn){return this.clone().ishrn(Sn)},qt.prototype.ushrn=function(Sn){return this.clone().iushrn(Sn)},qt.prototype.testn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return!1;var xl=this.words[as];return!!(xl&us)},qt.prototype.imaskn=function(Sn){_t(typeof Sn=="number"&&Sn>=0);var Fo=Sn%26,as=(Sn-Fo)/26;if(_t(this.negative===0,"imaskn works only with positive numbers"),this.length<=as)return this;if(Fo!==0&&as++,this.length=Math.min(as,this.length),Fo!==0){var us=67108863^67108863>>>Fo<<Fo;this.words[this.length-1]&=us}return this.strip()},qt.prototype.maskn=function(Sn){return this.clone().imaskn(Sn)},qt.prototype.iaddn=function(Sn){return _t(typeof Sn=="number"),_t(Sn<67108864),Sn<0?this.isubn(-Sn):this.negative!==0?this.length===1&&(this.words[0]|0)<Sn?(this.words[0]=Sn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(Sn),this.negative=1,this):this._iaddn(Sn)},qt.prototype._iaddn=function(Sn){this.words[0]+=Sn;for(var Fo=0;Fo<this.length&&this.words[Fo]>=67108864;Fo++)this.words[Fo]-=67108864,Fo===this.length-1?this.words[Fo+1]=1:this.words[Fo+1]++;return this.length=Math.max(this.length,Fo+1),this},qt.prototype.isubn=function(Sn){if(_t(typeof Sn=="number"),_t(Sn<67108864),Sn<0)return this.iaddn(-Sn);if(this.negative!==0)return this.negative=0,this.iaddn(Sn),this.negative=1,this;if(this.words[0]-=Sn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var Fo=0;Fo<this.length&&this.words[Fo]<0;Fo++)this.words[Fo]+=67108864,this.words[Fo+1]-=1;return this.strip()},qt.prototype.addn=function(Sn){return this.clone().iaddn(Sn)},qt.prototype.subn=function(Sn){return this.clone().isubn(Sn)},qt.prototype.iabs=function(){return this.negative=0,this},qt.prototype.abs=function(){return this.clone().iabs()},qt.prototype._ishlnsubmul=function(Sn,Fo,as){var us=Sn.length+as,xl;this._expand(us);var ip,lp=0;for(xl=0;xl<Sn.length;xl++){ip=(this.words[xl+as]|0)+lp;var pu=(Sn.words[xl]|0)*Fo;ip-=pu&67108863,lp=(ip>>26)-(pu/67108864|0),this.words[xl+as]=ip&67108863}for(;xl<this.length-as;xl++)ip=(this.words[xl+as]|0)+lp,lp=ip>>26,this.words[xl+as]=ip&67108863;if(lp===0)return this.strip();for(_t(lp===-1),lp=0,xl=0;xl<this.length;xl++)ip=-(this.words[xl]|0)+lp,lp=ip>>26,this.words[xl]=ip&67108863;return this.negative=1,this.strip()},qt.prototype._wordDiv=function(Sn,Fo){var as=this.length-Sn.length,us=this.clone(),xl=Sn,ip=xl.words[xl.length-1]|0,lp=this._countBits(ip);as=26-lp,as!==0&&(xl=xl.ushln(as),us.iushln(as),ip=xl.words[xl.length-1]|0);var pu=us.length-xl.length,go;if(Fo!=="mod"){go=new qt(null),go.length=pu+1,go.words=new Array(go.length);for(var h0=0;h0<go.length;h0++)go.words[h0]=0}var kp=us.clone()._ishlnsubmul(xl,1,pu);kp.negative===0&&(us=kp,go&&(go.words[pu]=1));for(var cm=pu-1;cm>=0;cm--){var b3=(us.words[xl.length+cm]|0)*67108864+(us.words[xl.length+cm-1]|0);for(b3=Math.min(b3/ip|0,67108863),us._ishlnsubmul(xl,b3,cm);us.negative!==0;)b3--,us.negative=0,us._ishlnsubmul(xl,1,cm),us.isZero()||(us.negative^=1);go&&(go.words[cm]=b3)}return go&&go.strip(),us.strip(),Fo!=="div"&&as!==0&&us.iushrn(as),{div:go||null,mod:us}},qt.prototype.divmod=function(Sn,Fo,as){if(_t(!Sn.isZero()),this.isZero())return{div:new qt(0),mod:new qt(0)};var us,xl,ip;return this.negative!==0&&Sn.negative===0?(ip=this.neg().divmod(Sn,Fo),Fo!=="mod"&&(us=ip.div.neg()),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.iadd(Sn)),{div:us,mod:xl}):this.negative===0&&Sn.negative!==0?(ip=this.divmod(Sn.neg(),Fo),Fo!=="mod"&&(us=ip.div.neg()),{div:us,mod:ip.mod}):this.negative&Sn.negative?(ip=this.neg().divmod(Sn.neg(),Fo),Fo!=="div"&&(xl=ip.mod.neg(),as&&xl.negative!==0&&xl.isub(Sn)),{div:ip.div,mod:xl}):Sn.length>this.length||this.cmp(Sn)<0?{div:new qt(0),mod:this}:Sn.length===1?Fo==="div"?{div:this.divn(Sn.words[0]),mod:null}:Fo==="mod"?{div:null,mod:new qt(this.modn(Sn.words[0]))}:{div:this.divn(Sn.words[0]),mod:new qt(this.modn(Sn.words[0]))}:this._wordDiv(Sn,Fo)},qt.prototype.div=function(Sn){return this.divmod(Sn,"div",!1).div},qt.prototype.mod=function(Sn){return this.divmod(Sn,"mod",!1).mod},qt.prototype.umod=function(Sn){return this.divmod(Sn,"mod",!0).mod},qt.prototype.divRound=function(Sn){var Fo=this.divmod(Sn);if(Fo.mod.isZero())return Fo.div;var as=Fo.div.negative!==0?Fo.mod.isub(Sn):Fo.mod,us=Sn.ushrn(1),xl=Sn.andln(1),ip=as.cmp(us);return ip<0||xl===1&&ip===0?Fo.div:Fo.div.negative!==0?Fo.div.isubn(1):Fo.div.iaddn(1)},qt.prototype.modn=function(Sn){_t(Sn<=67108863);for(var Fo=(1<<26)%Sn,as=0,us=this.length-1;us>=0;us--)as=(Fo*as+(this.words[us]|0))%Sn;return as},qt.prototype.idivn=function(Sn){_t(Sn<=67108863);for(var Fo=0,as=this.length-1;as>=0;as--){var us=(this.words[as]|0)+Fo*67108864;this.words[as]=us/Sn|0,Fo=us%Sn}return this.strip()},qt.prototype.divn=function(Sn){return this.clone().idivn(Sn)},qt.prototype.egcd=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=new qt(0),lp=new qt(1),pu=0;Fo.isEven()&&as.isEven();)Fo.iushrn(1),as.iushrn(1),++pu;for(var go=as.clone(),h0=Fo.clone();!Fo.isZero();){for(var kp=0,cm=1;!(Fo.words[0]&cm)&&kp<26;++kp,cm<<=1);if(kp>0)for(Fo.iushrn(kp);kp-- >0;)(us.isOdd()||xl.isOdd())&&(us.iadd(go),xl.isub(h0)),us.iushrn(1),xl.iushrn(1);for(var b3=0,L_=1;!(as.words[0]&L_)&&b3<26;++b3,L_<<=1);if(b3>0)for(as.iushrn(b3);b3-- >0;)(ip.isOdd()||lp.isOdd())&&(ip.iadd(go),lp.isub(h0)),ip.iushrn(1),lp.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(ip),xl.isub(lp)):(as.isub(Fo),ip.isub(us),lp.isub(xl))}return{a:ip,b:lp,gcd:as.iushln(pu)}},qt.prototype._invmp=function(Sn){_t(Sn.negative===0),_t(!Sn.isZero());var Fo=this,as=Sn.clone();Fo.negative!==0?Fo=Fo.umod(Sn):Fo=Fo.clone();for(var us=new qt(1),xl=new qt(0),ip=as.clone();Fo.cmpn(1)>0&&as.cmpn(1)>0;){for(var lp=0,pu=1;!(Fo.words[0]&pu)&&lp<26;++lp,pu<<=1);if(lp>0)for(Fo.iushrn(lp);lp-- >0;)us.isOdd()&&us.iadd(ip),us.iushrn(1);for(var go=0,h0=1;!(as.words[0]&h0)&&go<26;++go,h0<<=1);if(go>0)for(as.iushrn(go);go-- >0;)xl.isOdd()&&xl.iadd(ip),xl.iushrn(1);Fo.cmp(as)>=0?(Fo.isub(as),us.isub(xl)):(as.isub(Fo),xl.isub(us))}var kp;return Fo.cmpn(1)===0?kp=us:kp=xl,kp.cmpn(0)<0&&kp.iadd(Sn),kp},qt.prototype.gcd=function(Sn){if(this.isZero())return Sn.abs();if(Sn.isZero())return this.abs();var Fo=this.clone(),as=Sn.clone();Fo.negative=0,as.negative=0;for(var us=0;Fo.isEven()&&as.isEven();us++)Fo.iushrn(1),as.iushrn(1);do{for(;Fo.isEven();)Fo.iushrn(1);for(;as.isEven();)as.iushrn(1);var xl=Fo.cmp(as);if(xl<0){var ip=Fo;Fo=as,as=ip}else if(xl===0||as.cmpn(1)===0)break;Fo.isub(as)}while(!0);return as.iushln(us)},qt.prototype.invm=function(Sn){return this.egcd(Sn).a.umod(Sn)},qt.prototype.isEven=function(){return(this.words[0]&1)===0},qt.prototype.isOdd=function(){return(this.words[0]&1)===1},qt.prototype.andln=function(Sn){return this.words[0]&Sn},qt.prototype.bincn=function(Sn){_t(typeof Sn=="number");var Fo=Sn%26,as=(Sn-Fo)/26,us=1<<Fo;if(this.length<=as)return this._expand(as+1),this.words[as]|=us,this;for(var xl=us,ip=as;xl!==0&&ip<this.length;ip++){var lp=this.words[ip]|0;lp+=xl,xl=lp>>>26,lp&=67108863,this.words[ip]=lp}return xl!==0&&(this.words[ip]=xl,this.length++),this},qt.prototype.isZero=function(){return this.length===1&&this.words[0]===0},qt.prototype.cmpn=function(Sn){var Fo=Sn<0;if(this.negative!==0&&!Fo)return-1;if(this.negative===0&&Fo)return 1;this.strip();var as;if(this.length>1)as=1;else{Fo&&(Sn=-Sn),_t(Sn<=67108863,"Number is too big");var us=this.words[0]|0;as=us===Sn?0:us<Sn?-1:1}return this.negative!==0?-as|0:as},qt.prototype.cmp=function(Sn){if(this.negative!==0&&Sn.negative===0)return-1;if(this.negative===0&&Sn.negative!==0)return 1;var Fo=this.ucmp(Sn);return this.negative!==0?-Fo|0:Fo},qt.prototype.ucmp=function(Sn){if(this.length>Sn.length)return 1;if(this.length<Sn.length)return-1;for(var Fo=0,as=this.length-1;as>=0;as--){var us=this.words[as]|0,xl=Sn.words[as]|0;if(us!==xl){us<xl?Fo=-1:us>xl&&(Fo=1);break}}return Fo},qt.prototype.gtn=function(Sn){return this.cmpn(Sn)===1},qt.prototype.gt=function(Sn){return this.cmp(Sn)===1},qt.prototype.gten=function(Sn){return this.cmpn(Sn)>=0},qt.prototype.gte=function(Sn){return this.cmp(Sn)>=0},qt.prototype.ltn=function(Sn){return this.cmpn(Sn)===-1},qt.prototype.lt=function(Sn){return this.cmp(Sn)===-1},qt.prototype.lten=function(Sn){return this.cmpn(Sn)<=0},qt.prototype.lte=function(Sn){return this.cmp(Sn)<=0},qt.prototype.eqn=function(Sn){return this.cmpn(Sn)===0},qt.prototype.eq=function(Sn){return this.cmp(Sn)===0},qt.red=function(Sn){return new i1(Sn)},qt.prototype.toRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),_t(this.negative===0,"red works only with positives"),Sn.convertTo(this)._forceRed(Sn)},qt.prototype.fromRed=function(){return _t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},qt.prototype._forceRed=function(Sn){return this.red=Sn,this},qt.prototype.forceRed=function(Sn){return _t(!this.red,"Already a number in reduction context"),this._forceRed(Sn)},qt.prototype.redAdd=function(Sn){return _t(this.red,"redAdd works only with red numbers"),this.red.add(this,Sn)},qt.prototype.redIAdd=function(Sn){return _t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,Sn)},qt.prototype.redSub=function(Sn){return _t(this.red,"redSub works only with red numbers"),this.red.sub(this,Sn)},qt.prototype.redISub=function(Sn){return _t(this.red,"redISub works only with red numbers"),this.red.isub(this,Sn)},qt.prototype.redShl=function(Sn){return _t(this.red,"redShl works only with red numbers"),this.red.shl(this,Sn)},qt.prototype.redMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.mul(this,Sn)},qt.prototype.redIMul=function(Sn){return _t(this.red,"redMul works only with red numbers"),this.red._verify2(this,Sn),this.red.imul(this,Sn)},qt.prototype.redSqr=function(){return _t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},qt.prototype.redISqr=function(){return _t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},qt.prototype.redSqrt=function(){return _t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},qt.prototype.redInvm=function(){return _t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},qt.prototype.redNeg=function(){return _t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},qt.prototype.redPow=function(Sn){return _t(this.red&&!Sn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,Sn)};var cp={k256:null,p224:null,p192:null,p25519:null};function Cp(op,Sn){this.name=op,this.p=new qt(Sn,16),this.n=this.p.bitLength(),this.k=new qt(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Cp.prototype._tmp=function(){var Sn=new qt(null);return Sn.words=new Array(Math.ceil(this.n/13)),Sn},Cp.prototype.ireduce=function(Sn){var Fo=Sn,as;do this.split(Fo,this.tmp),Fo=this.imulK(Fo),Fo=Fo.iadd(this.tmp),as=Fo.bitLength();while(as>this.n);var us=as<this.n?-1:Fo.ucmp(this.p);return us===0?(Fo.words[0]=0,Fo.length=1):us>0?Fo.isub(this.p):Fo.strip!==void 0?Fo.strip():Fo._strip(),Fo},Cp.prototype.split=function(Sn,Fo){Sn.iushrn(this.n,0,Fo)},Cp.prototype.imulK=function(Sn){return Sn.imul(this.k)};function Lp(){Cp.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}At(Lp,Cp),Lp.prototype.split=function(Sn,Fo){for(var as=4194303,us=Math.min(Sn.length,9),xl=0;xl<us;xl++)Fo.words[xl]=Sn.words[xl];if(Fo.length=us,Sn.length<=9){Sn.words[0]=0,Sn.length=1;return}var ip=Sn.words[9];for(Fo.words[Fo.length++]=ip&as,xl=10;xl<Sn.length;xl++){var lp=Sn.words[xl]|0;Sn.words[xl-10]=(lp&as)<<4|ip>>>22,ip=lp}ip>>>=22,Sn.words[xl-10]=ip,ip===0&&Sn.length>10?Sn.length-=10:Sn.length-=9},Lp.prototype.imulK=function(Sn){Sn.words[Sn.length]=0,Sn.words[Sn.length+1]=0,Sn.length+=2;for(var Fo=0,as=0;as<Sn.length;as++){var us=Sn.words[as]|0;Fo+=us*977,Sn.words[as]=Fo&67108863,Fo=us*64+(Fo/67108864|0)}return Sn.words[Sn.length-1]===0&&(Sn.length--,Sn.words[Sn.length-1]===0&&Sn.length--),Sn};function jp(){Cp.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}At(jp,Cp);function nm(){Cp.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}At(nm,Cp);function zm(){Cp.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}At(zm,Cp),zm.prototype.imulK=function(Sn){for(var Fo=0,as=0;as<Sn.length;as++){var us=(Sn.words[as]|0)*19+Fo,xl=us&67108863;us>>>=26,Sn.words[as]=xl,Fo=us}return Fo!==0&&(Sn.words[Sn.length++]=Fo),Sn},qt._prime=function(Sn){if(cp[Sn])return cp[Sn];var Fo;if(Sn==="k256")Fo=new Lp;else if(Sn==="p224")Fo=new jp;else if(Sn==="p192")Fo=new nm;else if(Sn==="p25519")Fo=new zm;else throw new Error("Unknown prime "+Sn);return cp[Sn]=Fo,Fo};function i1(op){if(typeof op=="string"){var Sn=qt._prime(op);this.m=Sn.p,this.prime=Sn}else _t(op.gtn(1),"modulus must be greater than 1"),this.m=op,this.prime=null}i1.prototype._verify1=function(Sn){_t(Sn.negative===0,"red works only with positives"),_t(Sn.red,"red works only with red numbers")},i1.prototype._verify2=function(Sn,Fo){_t((Sn.negative|Fo.negative)===0,"red works only with positives"),_t(Sn.red&&Sn.red===Fo.red,"red works only with red numbers")},i1.prototype.imod=function(Sn){return this.prime?this.prime.ireduce(Sn)._forceRed(this):Sn.umod(this.m)._forceRed(this)},i1.prototype.neg=function(Sn){return Sn.isZero()?Sn.clone():this.m.sub(Sn)._forceRed(this)},i1.prototype.add=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.add(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as._forceRed(this)},i1.prototype.iadd=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.iadd(Fo);return as.cmp(this.m)>=0&&as.isub(this.m),as},i1.prototype.sub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.sub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as._forceRed(this)},i1.prototype.isub=function(Sn,Fo){this._verify2(Sn,Fo);var as=Sn.isub(Fo);return as.cmpn(0)<0&&as.iadd(this.m),as},i1.prototype.shl=function(Sn,Fo){return this._verify1(Sn),this.imod(Sn.ushln(Fo))},i1.prototype.imul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.imul(Fo))},i1.prototype.mul=function(Sn,Fo){return this._verify2(Sn,Fo),this.imod(Sn.mul(Fo))},i1.prototype.isqr=function(Sn){return this.imul(Sn,Sn.clone())},i1.prototype.sqr=function(Sn){return this.mul(Sn,Sn)},i1.prototype.sqrt=function(Sn){if(Sn.isZero())return Sn.clone();var Fo=this.m.andln(3);if(_t(Fo%2===1),Fo===3){var as=this.m.add(new qt(1)).iushrn(2);return this.pow(Sn,as)}for(var us=this.m.subn(1),xl=0;!us.isZero()&&us.andln(1)===0;)xl++,us.iushrn(1);_t(!us.isZero());var ip=new qt(1).toRed(this),lp=ip.redNeg(),pu=this.m.subn(1).iushrn(1),go=this.m.bitLength();for(go=new qt(2*go*go).toRed(this);this.pow(go,pu).cmp(lp)!==0;)go.redIAdd(lp);for(var h0=this.pow(go,us),kp=this.pow(Sn,us.addn(1).iushrn(1)),cm=this.pow(Sn,us),b3=xl;cm.cmp(ip)!==0;){for(var L_=cm,Ym=0;L_.cmp(ip)!==0;Ym++)L_=L_.redSqr();_t(Ym<b3);var Xm=this.pow(h0,new qt(1).iushln(b3-Ym-1));kp=kp.redMul(Xm),h0=Xm.redSqr(),cm=cm.redMul(h0),b3=Ym}return kp},i1.prototype.invm=function(Sn){var Fo=Sn._invmp(this.m);return Fo.negative!==0?(Fo.negative=0,this.imod(Fo).redNeg()):this.imod(Fo)},i1.prototype.pow=function(Sn,Fo){if(Fo.isZero())return new qt(1).toRed(this);if(Fo.cmpn(1)===0)return Sn.clone();var as=4,us=new Array(1<<as);us[0]=new qt(1).toRed(this),us[1]=Sn;for(var xl=2;xl<us.length;xl++)us[xl]=this.mul(us[xl-1],Sn);var ip=us[0],lp=0,pu=0,go=Fo.bitLength()%26;for(go===0&&(go=26),xl=Fo.length-1;xl>=0;xl--){for(var h0=Fo.words[xl],kp=go-1;kp>=0;kp--){var cm=h0>>kp&1;if(ip!==us[0]&&(ip=this.sqr(ip)),cm===0&&lp===0){pu=0;continue}lp<<=1,lp|=cm,pu++,!(pu!==as&&(xl!==0||kp!==0))&&(ip=this.mul(ip,us[lp]),pu=0,lp=0)}go=26}return ip},i1.prototype.convertTo=function(Sn){var Fo=Sn.umod(this.m);return Fo===Sn?Fo.clone():Fo},i1.prototype.convertFrom=function(Sn){var Fo=Sn.clone();return Fo.red=null,Fo},qt.mont=function(Sn){return new d3(Sn)};function d3(op){i1.call(this,op),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new qt(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}At(d3,i1),d3.prototype.convertTo=function(Sn){return this.imod(Sn.ushln(this.shift))},d3.prototype.convertFrom=function(Sn){var Fo=this.imod(Sn.mul(this.rinv));return Fo.red=null,Fo},d3.prototype.imul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return Sn.words[0]=0,Sn.length=1,Sn;var as=Sn.imul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.mul=function(Sn,Fo){if(Sn.isZero()||Fo.isZero())return new qt(0)._forceRed(this);var as=Sn.mul(Fo),us=as.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xl=as.isub(us).iushrn(this.shift),ip=xl;return xl.cmp(this.m)>=0?ip=xl.isub(this.m):xl.cmpn(0)<0&&(ip=xl.iadd(this.m)),ip._forceRed(this)},d3.prototype.invm=function(Sn){var Fo=this.imod(Sn._invmp(this.m).mul(this.r2));return Fo._forceRed(this)}})(ut,commonjsGlobal)}(bn$1)),bn$1.exports}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var ut=requireBn(),lt=requireSafeBuffer$1().Buffer;function ht(_t,At){return lt.from(_t.toRed(ut.mont(At.modulus)).redPow(new ut(At.publicExponent)).fromRed().toArray())}return withPublic_1=ht,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var ut=requireParseAsn1(),lt=requireBrowser$b(),ht=requireBrowser$9(),_t=requireMgf(),At=requireXor(),qt=requireBn(),Zt=requireWithPublic(),cr=requireBrowserifyRsa(),Gr=requireSafeBuffer$1().Buffer;publicEncrypt=function(ls,cs,wl){var ep;ls.padding?ep=ls.padding:wl?ep=1:ep=4;var Al=ut(ls),np;if(ep===4)np=Zr(Al,cs);else if(ep===1)np=xn(Al,cs,wl);else if(ep===3){if(np=new qt(cs),np.cmp(Al.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return wl?cr(np,Al):Zt(np,Al)};function Zr(ss,ls){var cs=ss.modulus.byteLength(),wl=ls.length,ep=ht("sha1").update(Gr.alloc(0)).digest(),Al=ep.length,np=2*Al;if(wl>cs-np-2)throw new Error("message too long");var cp=Gr.alloc(cs-wl-np-2),Cp=cs-Al-1,Lp=lt(Al),jp=At(Gr.concat([ep,cp,Gr.alloc(1,1),ls],Cp),_t(Lp,Cp)),nm=At(Lp,_t(jp,Al));return new qt(Gr.concat([Gr.alloc(1),nm,jp],cs))}function xn(ss,ls,cs){var wl=ls.length,ep=ss.modulus.byteLength();if(wl>ep-11)throw new Error("message too long");var Al;return cs?Al=Gr.alloc(ep-wl-3,255):Al=On(ep-wl-3),new qt(Gr.concat([Gr.from([0,cs?1:2]),Al,Gr.alloc(1),ls],ep))}function On(ss){for(var ls=Gr.allocUnsafe(ss),cs=0,wl=lt(ss*2),ep=0,Al;cs<ss;)ep===wl.length&&(wl=lt(ss*2),ep=0),Al=wl[ep++],Al&&(ls[cs++]=Al);return ls}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var ut=requireParseAsn1(),lt=requireMgf(),ht=requireXor(),_t=requireBn(),At=requireBrowserifyRsa(),qt=requireBrowser$9(),Zt=requireWithPublic(),cr=requireSafeBuffer$1().Buffer;privateDecrypt=function(ss,ls,cs){var wl;ss.padding?wl=ss.padding:cs?wl=1:wl=4;var ep=ut(ss),Al=ep.modulus.byteLength();if(ls.length>Al||new _t(ls).cmp(ep.modulus)>=0)throw new Error("decryption error");var np;cs?np=Zt(new _t(ls),ep):np=At(ls,ep);var cp=cr.alloc(Al-np.length);if(np=cr.concat([cp,np],Al),wl===4)return Gr(ep,np);if(wl===1)return Zr(ep,np,cs);if(wl===3)return np;throw new Error("unknown padding")};function Gr(On,ss){var ls=On.modulus.byteLength(),cs=qt("sha1").update(cr.alloc(0)).digest(),wl=cs.length;if(ss[0]!==0)throw new Error("decryption error");var ep=ss.slice(1,wl+1),Al=ss.slice(wl+1),np=ht(ep,lt(Al,wl)),cp=ht(Al,lt(np,ls-wl-1));if(xn(cs,cp.slice(0,wl)))throw new Error("decryption error");for(var Cp=wl;cp[Cp]===0;)Cp++;if(cp[Cp++]!==1)throw new Error("decryption error");return cp.slice(Cp)}function Zr(On,ss,ls){for(var cs=ss.slice(0,2),wl=2,ep=0;ss[wl++]!==0;)if(wl>=ss.length){ep++;break}var Al=ss.slice(2,wl-1);if((cs.toString("hex")!=="0002"&&!ls||cs.toString("hex")!=="0001"&&ls)&&ep++,Al.length<8&&ep++,ep)throw new Error("decryption error");return ss.slice(wl)}function xn(On,ss){On=cr.from(On),ss=cr.from(ss);var ls=0,cs=On.length;On.length!==ss.length&&(ls++,cs=Math.min(On.length,ss.length));for(var wl=-1;++wl<cs;)ls+=On[wl]^ss[wl];return ls}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,function(ut){ut.publicEncrypt=requirePublicEncrypt(),ut.privateDecrypt=requirePrivateDecrypt(),ut.privateEncrypt=function(ht,_t){return ut.publicEncrypt(ht,_t,!0)},ut.publicDecrypt=function(ht,_t){return ut.privateDecrypt(ht,_t,!0)}}(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function ut(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var lt=requireSafeBuffer$1(),ht=requireBrowser$b(),_t=lt.Buffer,At=lt.kMaxLength,qt=commonjsGlobal.crypto||commonjsGlobal.msCrypto,Zt=Math.pow(2,32)-1;function cr(ss,ls){if(typeof ss!="number"||ss!==ss)throw new TypeError("offset must be a number");if(ss>Zt||ss<0)throw new TypeError("offset must be a uint32");if(ss>At||ss>ls)throw new RangeError("offset out of range")}function Gr(ss,ls,cs){if(typeof ss!="number"||ss!==ss)throw new TypeError("size must be a number");if(ss>Zt||ss<0)throw new TypeError("size must be a uint32");if(ss+ls>cs||ss>At)throw new RangeError("buffer too small")}qt&&qt.getRandomValues||!api$2.browser?(browser.randomFill=Zr,browser.randomFillSync=On):(browser.randomFill=ut,browser.randomFillSync=ut);function Zr(ss,ls,cs,wl){if(!_t.isBuffer(ss)&&!(ss instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof ls=="function")wl=ls,ls=0,cs=ss.length;else if(typeof cs=="function")wl=cs,cs=ss.length-ls;else if(typeof wl!="function")throw new TypeError('"cb" argument must be a function');return cr(ls,ss.length),Gr(cs,ls,ss.length),xn(ss,ls,cs,wl)}function xn(ss,ls,cs,wl){if(api$2.browser){var ep=ss.buffer,Al=new Uint8Array(ep,ls,cs);if(qt.getRandomValues(Al),wl){api$2.nextTick(function(){wl(null,ss)});return}return ss}if(wl){ht(cs,function(cp,Cp){if(cp)return wl(cp);Cp.copy(ss,ls),wl(null,ss)});return}var np=ht(cs);return np.copy(ss,ls),ss}function On(ss,ls,cs){if(typeof ls>"u"&&(ls=0),!_t.isBuffer(ss)&&!(ss instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return cr(ls,ss.length),cs===void 0&&(cs=ss.length-ls),Gr(cs,ls,ss.length),xn(ss,ls,cs)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var ut=requireAlgos(),lt=Object.keys(ut),ht=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(lt);cryptoBrowserify.getHashes=function(){return ht};var _t=requireBrowser$7();cryptoBrowserify.pbkdf2=_t.pbkdf2,cryptoBrowserify.pbkdf2Sync=_t.pbkdf2Sync;var At=requireBrowser$5();cryptoBrowserify.Cipher=At.Cipher,cryptoBrowserify.createCipher=At.createCipher,cryptoBrowserify.Cipheriv=At.Cipheriv,cryptoBrowserify.createCipheriv=At.createCipheriv,cryptoBrowserify.Decipher=At.Decipher,cryptoBrowserify.createDecipher=At.createDecipher,cryptoBrowserify.Decipheriv=At.Decipheriv,cryptoBrowserify.createDecipheriv=At.createDecipheriv,cryptoBrowserify.getCiphers=At.getCiphers,cryptoBrowserify.listCiphers=At.listCiphers;var qt=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=qt.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=qt.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=qt.getDiffieHellman,cryptoBrowserify.createDiffieHellman=qt.createDiffieHellman,cryptoBrowserify.DiffieHellman=qt.DiffieHellman;var Zt=requireBrowser$3();cryptoBrowserify.createSign=Zt.createSign,cryptoBrowserify.Sign=Zt.Sign,cryptoBrowserify.createVerify=Zt.createVerify,cryptoBrowserify.Verify=Zt.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var cr=requireBrowser$1();cryptoBrowserify.publicEncrypt=cr.publicEncrypt,cryptoBrowserify.privateEncrypt=cr.privateEncrypt,cryptoBrowserify.publicDecrypt=cr.publicDecrypt,cryptoBrowserify.privateDecrypt=cr.privateDecrypt;var Gr=requireBrowser();return cryptoBrowserify.randomFill=Gr.randomFill,cryptoBrowserify.randomFillSync=Gr.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}(function(ut){(function(lt){var ht=function(Z_){var Bw,Fw=new Float64Array(16);if(Z_)for(Bw=0;Bw<Z_.length;Bw++)Fw[Bw]=Z_[Bw];return Fw},_t=function(){throw new Error("no PRNG")},At=new Uint8Array(16),qt=new Uint8Array(32);qt[0]=9;var Zt=ht(),cr=ht([1]),Gr=ht([56129,1]),Zr=ht([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),xn=ht([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),On=ht([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ss=ht([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ls=ht([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function cs(Z_,Bw,Fw,B_){Z_[Bw]=Fw>>24&255,Z_[Bw+1]=Fw>>16&255,Z_[Bw+2]=Fw>>8&255,Z_[Bw+3]=Fw&255,Z_[Bw+4]=B_>>24&255,Z_[Bw+5]=B_>>16&255,Z_[Bw+6]=B_>>8&255,Z_[Bw+7]=B_&255}function wl(Z_,Bw,Fw,B_,Lw){var eM,mM=0;for(eM=0;eM<Lw;eM++)mM|=Z_[Bw+eM]^Fw[B_+eM];return(1&mM-1>>>8)-1}function ep(Z_,Bw,Fw,B_){return wl(Z_,Bw,Fw,B_,16)}function Al(Z_,Bw,Fw,B_){return wl(Z_,Bw,Fw,B_,32)}function np(Z_,Bw,Fw,B_){for(var Lw=B_[0]&255|(B_[1]&255)<<8|(B_[2]&255)<<16|(B_[3]&255)<<24,eM=Fw[0]&255|(Fw[1]&255)<<8|(Fw[2]&255)<<16|(Fw[3]&255)<<24,mM=Fw[4]&255|(Fw[5]&255)<<8|(Fw[6]&255)<<16|(Fw[7]&255)<<24,G_=Fw[8]&255|(Fw[9]&255)<<8|(Fw[10]&255)<<16|(Fw[11]&255)<<24,r_=Fw[12]&255|(Fw[13]&255)<<8|(Fw[14]&255)<<16|(Fw[15]&255)<<24,Vx=B_[4]&255|(B_[5]&255)<<8|(B_[6]&255)<<16|(B_[7]&255)<<24,l4=Bw[0]&255|(Bw[1]&255)<<8|(Bw[2]&255)<<16|(Bw[3]&255)<<24,R4=Bw[4]&255|(Bw[5]&255)<<8|(Bw[6]&255)<<16|(Bw[7]&255)<<24,u4=Bw[8]&255|(Bw[9]&255)<<8|(Bw[10]&255)<<16|(Bw[11]&255)<<24,iM=Bw[12]&255|(Bw[13]&255)<<8|(Bw[14]&255)<<16|(Bw[15]&255)<<24,hM=B_[8]&255|(B_[9]&255)<<8|(B_[10]&255)<<16|(B_[11]&255)<<24,bM=Fw[16]&255|(Fw[17]&255)<<8|(Fw[18]&255)<<16|(Fw[19]&255)<<24,yM=Fw[20]&255|(Fw[21]&255)<<8|(Fw[22]&255)<<16|(Fw[23]&255)<<24,_M=Fw[24]&255|(Fw[25]&255)<<8|(Fw[26]&255)<<16|(Fw[27]&255)<<24,oM=Fw[28]&255|(Fw[29]&255)<<8|(Fw[30]&255)<<16|(Fw[31]&255)<<24,LM=B_[12]&255|(B_[13]&255)<<8|(B_[14]&255)<<16|(B_[15]&255)<<24,EM=Lw,BM=eM,IM=mM,$M=G_,NM=r_,CM=Vx,pM=l4,dM=R4,PM=u4,DM=iM,kM=hM,UM=bM,WM=yM,KM=_M,QM=oM,GM=LM,sM,XM=0;XM<20;XM+=2)sM=EM+WM|0,NM^=sM<<7|sM>>>32-7,sM=NM+EM|0,PM^=sM<<9|sM>>>32-9,sM=PM+NM|0,WM^=sM<<13|sM>>>32-13,sM=WM+PM|0,EM^=sM<<18|sM>>>32-18,sM=CM+BM|0,DM^=sM<<7|sM>>>32-7,sM=DM+CM|0,KM^=sM<<9|sM>>>32-9,sM=KM+DM|0,BM^=sM<<13|sM>>>32-13,sM=BM+KM|0,CM^=sM<<18|sM>>>32-18,sM=kM+pM|0,QM^=sM<<7|sM>>>32-7,sM=QM+kM|0,IM^=sM<<9|sM>>>32-9,sM=IM+QM|0,pM^=sM<<13|sM>>>32-13,sM=pM+IM|0,kM^=sM<<18|sM>>>32-18,sM=GM+UM|0,$M^=sM<<7|sM>>>32-7,sM=$M+GM|0,dM^=sM<<9|sM>>>32-9,sM=dM+$M|0,UM^=sM<<13|sM>>>32-13,sM=UM+dM|0,GM^=sM<<18|sM>>>32-18,sM=EM+$M|0,BM^=sM<<7|sM>>>32-7,sM=BM+EM|0,IM^=sM<<9|sM>>>32-9,sM=IM+BM|0,$M^=sM<<13|sM>>>32-13,sM=$M+IM|0,EM^=sM<<18|sM>>>32-18,sM=CM+NM|0,pM^=sM<<7|sM>>>32-7,sM=pM+CM|0,dM^=sM<<9|sM>>>32-9,sM=dM+pM|0,NM^=sM<<13|sM>>>32-13,sM=NM+dM|0,CM^=sM<<18|sM>>>32-18,sM=kM+DM|0,UM^=sM<<7|sM>>>32-7,sM=UM+kM|0,PM^=sM<<9|sM>>>32-9,sM=PM+UM|0,DM^=sM<<13|sM>>>32-13,sM=DM+PM|0,kM^=sM<<18|sM>>>32-18,sM=GM+QM|0,WM^=sM<<7|sM>>>32-7,sM=WM+GM|0,KM^=sM<<9|sM>>>32-9,sM=KM+WM|0,QM^=sM<<13|sM>>>32-13,sM=QM+KM|0,GM^=sM<<18|sM>>>32-18;EM=EM+Lw|0,BM=BM+eM|0,IM=IM+mM|0,$M=$M+G_|0,NM=NM+r_|0,CM=CM+Vx|0,pM=pM+l4|0,dM=dM+R4|0,PM=PM+u4|0,DM=DM+iM|0,kM=kM+hM|0,UM=UM+bM|0,WM=WM+yM|0,KM=KM+_M|0,QM=QM+oM|0,GM=GM+LM|0,Z_[0]=EM>>>0&255,Z_[1]=EM>>>8&255,Z_[2]=EM>>>16&255,Z_[3]=EM>>>24&255,Z_[4]=BM>>>0&255,Z_[5]=BM>>>8&255,Z_[6]=BM>>>16&255,Z_[7]=BM>>>24&255,Z_[8]=IM>>>0&255,Z_[9]=IM>>>8&255,Z_[10]=IM>>>16&255,Z_[11]=IM>>>24&255,Z_[12]=$M>>>0&255,Z_[13]=$M>>>8&255,Z_[14]=$M>>>16&255,Z_[15]=$M>>>24&255,Z_[16]=NM>>>0&255,Z_[17]=NM>>>8&255,Z_[18]=NM>>>16&255,Z_[19]=NM>>>24&255,Z_[20]=CM>>>0&255,Z_[21]=CM>>>8&255,Z_[22]=CM>>>16&255,Z_[23]=CM>>>24&255,Z_[24]=pM>>>0&255,Z_[25]=pM>>>8&255,Z_[26]=pM>>>16&255,Z_[27]=pM>>>24&255,Z_[28]=dM>>>0&255,Z_[29]=dM>>>8&255,Z_[30]=dM>>>16&255,Z_[31]=dM>>>24&255,Z_[32]=PM>>>0&255,Z_[33]=PM>>>8&255,Z_[34]=PM>>>16&255,Z_[35]=PM>>>24&255,Z_[36]=DM>>>0&255,Z_[37]=DM>>>8&255,Z_[38]=DM>>>16&255,Z_[39]=DM>>>24&255,Z_[40]=kM>>>0&255,Z_[41]=kM>>>8&255,Z_[42]=kM>>>16&255,Z_[43]=kM>>>24&255,Z_[44]=UM>>>0&255,Z_[45]=UM>>>8&255,Z_[46]=UM>>>16&255,Z_[47]=UM>>>24&255,Z_[48]=WM>>>0&255,Z_[49]=WM>>>8&255,Z_[50]=WM>>>16&255,Z_[51]=WM>>>24&255,Z_[52]=KM>>>0&255,Z_[53]=KM>>>8&255,Z_[54]=KM>>>16&255,Z_[55]=KM>>>24&255,Z_[56]=QM>>>0&255,Z_[57]=QM>>>8&255,Z_[58]=QM>>>16&255,Z_[59]=QM>>>24&255,Z_[60]=GM>>>0&255,Z_[61]=GM>>>8&255,Z_[62]=GM>>>16&255,Z_[63]=GM>>>24&255}function cp(Z_,Bw,Fw,B_){for(var Lw=B_[0]&255|(B_[1]&255)<<8|(B_[2]&255)<<16|(B_[3]&255)<<24,eM=Fw[0]&255|(Fw[1]&255)<<8|(Fw[2]&255)<<16|(Fw[3]&255)<<24,mM=Fw[4]&255|(Fw[5]&255)<<8|(Fw[6]&255)<<16|(Fw[7]&255)<<24,G_=Fw[8]&255|(Fw[9]&255)<<8|(Fw[10]&255)<<16|(Fw[11]&255)<<24,r_=Fw[12]&255|(Fw[13]&255)<<8|(Fw[14]&255)<<16|(Fw[15]&255)<<24,Vx=B_[4]&255|(B_[5]&255)<<8|(B_[6]&255)<<16|(B_[7]&255)<<24,l4=Bw[0]&255|(Bw[1]&255)<<8|(Bw[2]&255)<<16|(Bw[3]&255)<<24,R4=Bw[4]&255|(Bw[5]&255)<<8|(Bw[6]&255)<<16|(Bw[7]&255)<<24,u4=Bw[8]&255|(Bw[9]&255)<<8|(Bw[10]&255)<<16|(Bw[11]&255)<<24,iM=Bw[12]&255|(Bw[13]&255)<<8|(Bw[14]&255)<<16|(Bw[15]&255)<<24,hM=B_[8]&255|(B_[9]&255)<<8|(B_[10]&255)<<16|(B_[11]&255)<<24,bM=Fw[16]&255|(Fw[17]&255)<<8|(Fw[18]&255)<<16|(Fw[19]&255)<<24,yM=Fw[20]&255|(Fw[21]&255)<<8|(Fw[22]&255)<<16|(Fw[23]&255)<<24,_M=Fw[24]&255|(Fw[25]&255)<<8|(Fw[26]&255)<<16|(Fw[27]&255)<<24,oM=Fw[28]&255|(Fw[29]&255)<<8|(Fw[30]&255)<<16|(Fw[31]&255)<<24,LM=B_[12]&255|(B_[13]&255)<<8|(B_[14]&255)<<16|(B_[15]&255)<<24,EM=Lw,BM=eM,IM=mM,$M=G_,NM=r_,CM=Vx,pM=l4,dM=R4,PM=u4,DM=iM,kM=hM,UM=bM,WM=yM,KM=_M,QM=oM,GM=LM,sM,XM=0;XM<20;XM+=2)sM=EM+WM|0,NM^=sM<<7|sM>>>32-7,sM=NM+EM|0,PM^=sM<<9|sM>>>32-9,sM=PM+NM|0,WM^=sM<<13|sM>>>32-13,sM=WM+PM|0,EM^=sM<<18|sM>>>32-18,sM=CM+BM|0,DM^=sM<<7|sM>>>32-7,sM=DM+CM|0,KM^=sM<<9|sM>>>32-9,sM=KM+DM|0,BM^=sM<<13|sM>>>32-13,sM=BM+KM|0,CM^=sM<<18|sM>>>32-18,sM=kM+pM|0,QM^=sM<<7|sM>>>32-7,sM=QM+kM|0,IM^=sM<<9|sM>>>32-9,sM=IM+QM|0,pM^=sM<<13|sM>>>32-13,sM=pM+IM|0,kM^=sM<<18|sM>>>32-18,sM=GM+UM|0,$M^=sM<<7|sM>>>32-7,sM=$M+GM|0,dM^=sM<<9|sM>>>32-9,sM=dM+$M|0,UM^=sM<<13|sM>>>32-13,sM=UM+dM|0,GM^=sM<<18|sM>>>32-18,sM=EM+$M|0,BM^=sM<<7|sM>>>32-7,sM=BM+EM|0,IM^=sM<<9|sM>>>32-9,sM=IM+BM|0,$M^=sM<<13|sM>>>32-13,sM=$M+IM|0,EM^=sM<<18|sM>>>32-18,sM=CM+NM|0,pM^=sM<<7|sM>>>32-7,sM=pM+CM|0,dM^=sM<<9|sM>>>32-9,sM=dM+pM|0,NM^=sM<<13|sM>>>32-13,sM=NM+dM|0,CM^=sM<<18|sM>>>32-18,sM=kM+DM|0,UM^=sM<<7|sM>>>32-7,sM=UM+kM|0,PM^=sM<<9|sM>>>32-9,sM=PM+UM|0,DM^=sM<<13|sM>>>32-13,sM=DM+PM|0,kM^=sM<<18|sM>>>32-18,sM=GM+QM|0,WM^=sM<<7|sM>>>32-7,sM=WM+GM|0,KM^=sM<<9|sM>>>32-9,sM=KM+WM|0,QM^=sM<<13|sM>>>32-13,sM=QM+KM|0,GM^=sM<<18|sM>>>32-18;Z_[0]=EM>>>0&255,Z_[1]=EM>>>8&255,Z_[2]=EM>>>16&255,Z_[3]=EM>>>24&255,Z_[4]=CM>>>0&255,Z_[5]=CM>>>8&255,Z_[6]=CM>>>16&255,Z_[7]=CM>>>24&255,Z_[8]=kM>>>0&255,Z_[9]=kM>>>8&255,Z_[10]=kM>>>16&255,Z_[11]=kM>>>24&255,Z_[12]=GM>>>0&255,Z_[13]=GM>>>8&255,Z_[14]=GM>>>16&255,Z_[15]=GM>>>24&255,Z_[16]=pM>>>0&255,Z_[17]=pM>>>8&255,Z_[18]=pM>>>16&255,Z_[19]=pM>>>24&255,Z_[20]=dM>>>0&255,Z_[21]=dM>>>8&255,Z_[22]=dM>>>16&255,Z_[23]=dM>>>24&255,Z_[24]=PM>>>0&255,Z_[25]=PM>>>8&255,Z_[26]=PM>>>16&255,Z_[27]=PM>>>24&255,Z_[28]=DM>>>0&255,Z_[29]=DM>>>8&255,Z_[30]=DM>>>16&255,Z_[31]=DM>>>24&255}function Cp(Z_,Bw,Fw,B_){np(Z_,Bw,Fw,B_)}function Lp(Z_,Bw,Fw,B_){cp(Z_,Bw,Fw,B_)}var jp=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function nm(Z_,Bw,Fw,B_,Lw,eM,mM){var G_=new Uint8Array(16),r_=new Uint8Array(64),Vx,l4;for(l4=0;l4<16;l4++)G_[l4]=0;for(l4=0;l4<8;l4++)G_[l4]=eM[l4];for(;Lw>=64;){for(Cp(r_,G_,mM,jp),l4=0;l4<64;l4++)Z_[Bw+l4]=Fw[B_+l4]^r_[l4];for(Vx=1,l4=8;l4<16;l4++)Vx=Vx+(G_[l4]&255)|0,G_[l4]=Vx&255,Vx>>>=8;Lw-=64,Bw+=64,B_+=64}if(Lw>0)for(Cp(r_,G_,mM,jp),l4=0;l4<Lw;l4++)Z_[Bw+l4]=Fw[B_+l4]^r_[l4];return 0}function zm(Z_,Bw,Fw,B_,Lw){var eM=new Uint8Array(16),mM=new Uint8Array(64),G_,r_;for(r_=0;r_<16;r_++)eM[r_]=0;for(r_=0;r_<8;r_++)eM[r_]=B_[r_];for(;Fw>=64;){for(Cp(mM,eM,Lw,jp),r_=0;r_<64;r_++)Z_[Bw+r_]=mM[r_];for(G_=1,r_=8;r_<16;r_++)G_=G_+(eM[r_]&255)|0,eM[r_]=G_&255,G_>>>=8;Fw-=64,Bw+=64}if(Fw>0)for(Cp(mM,eM,Lw,jp),r_=0;r_<Fw;r_++)Z_[Bw+r_]=mM[r_];return 0}function i1(Z_,Bw,Fw,B_,Lw){var eM=new Uint8Array(32);Lp(eM,B_,Lw,jp);for(var mM=new Uint8Array(8),G_=0;G_<8;G_++)mM[G_]=B_[G_+16];return zm(Z_,Bw,Fw,mM,eM)}function d3(Z_,Bw,Fw,B_,Lw,eM,mM){var G_=new Uint8Array(32);Lp(G_,eM,mM,jp);for(var r_=new Uint8Array(8),Vx=0;Vx<8;Vx++)r_[Vx]=eM[Vx+16];return nm(Z_,Bw,Fw,B_,Lw,r_,G_)}var op=function(Z_){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Bw,Fw,B_,Lw,eM,mM,G_,r_;Bw=Z_[0]&255|(Z_[1]&255)<<8,this.r[0]=Bw&8191,Fw=Z_[2]&255|(Z_[3]&255)<<8,this.r[1]=(Bw>>>13|Fw<<3)&8191,B_=Z_[4]&255|(Z_[5]&255)<<8,this.r[2]=(Fw>>>10|B_<<6)&7939,Lw=Z_[6]&255|(Z_[7]&255)<<8,this.r[3]=(B_>>>7|Lw<<9)&8191,eM=Z_[8]&255|(Z_[9]&255)<<8,this.r[4]=(Lw>>>4|eM<<12)&255,this.r[5]=eM>>>1&8190,mM=Z_[10]&255|(Z_[11]&255)<<8,this.r[6]=(eM>>>14|mM<<2)&8191,G_=Z_[12]&255|(Z_[13]&255)<<8,this.r[7]=(mM>>>11|G_<<5)&8065,r_=Z_[14]&255|(Z_[15]&255)<<8,this.r[8]=(G_>>>8|r_<<8)&8191,this.r[9]=r_>>>5&127,this.pad[0]=Z_[16]&255|(Z_[17]&255)<<8,this.pad[1]=Z_[18]&255|(Z_[19]&255)<<8,this.pad[2]=Z_[20]&255|(Z_[21]&255)<<8,this.pad[3]=Z_[22]&255|(Z_[23]&255)<<8,this.pad[4]=Z_[24]&255|(Z_[25]&255)<<8,this.pad[5]=Z_[26]&255|(Z_[27]&255)<<8,this.pad[6]=Z_[28]&255|(Z_[29]&255)<<8,this.pad[7]=Z_[30]&255|(Z_[31]&255)<<8};op.prototype.blocks=function(Z_,Bw,Fw){for(var B_=this.fin?0:2048,Lw,eM,mM,G_,r_,Vx,l4,R4,u4,iM,hM,bM,yM,_M,oM,LM,EM,BM,IM,$M=this.h[0],NM=this.h[1],CM=this.h[2],pM=this.h[3],dM=this.h[4],PM=this.h[5],DM=this.h[6],kM=this.h[7],UM=this.h[8],WM=this.h[9],KM=this.r[0],QM=this.r[1],GM=this.r[2],sM=this.r[3],XM=this.r[4],jM=this.r[5],eE=this.r[6],iE=this.r[7],nE=this.r[8],sE=this.r[9];Fw>=16;)Lw=Z_[Bw+0]&255|(Z_[Bw+1]&255)<<8,$M+=Lw&8191,eM=Z_[Bw+2]&255|(Z_[Bw+3]&255)<<8,NM+=(Lw>>>13|eM<<3)&8191,mM=Z_[Bw+4]&255|(Z_[Bw+5]&255)<<8,CM+=(eM>>>10|mM<<6)&8191,G_=Z_[Bw+6]&255|(Z_[Bw+7]&255)<<8,pM+=(mM>>>7|G_<<9)&8191,r_=Z_[Bw+8]&255|(Z_[Bw+9]&255)<<8,dM+=(G_>>>4|r_<<12)&8191,PM+=r_>>>1&8191,Vx=Z_[Bw+10]&255|(Z_[Bw+11]&255)<<8,DM+=(r_>>>14|Vx<<2)&8191,l4=Z_[Bw+12]&255|(Z_[Bw+13]&255)<<8,kM+=(Vx>>>11|l4<<5)&8191,R4=Z_[Bw+14]&255|(Z_[Bw+15]&255)<<8,UM+=(l4>>>8|R4<<8)&8191,WM+=R4>>>5|B_,u4=0,iM=u4,iM+=$M*KM,iM+=NM*(5*sE),iM+=CM*(5*nE),iM+=pM*(5*iE),iM+=dM*(5*eE),u4=iM>>>13,iM&=8191,iM+=PM*(5*jM),iM+=DM*(5*XM),iM+=kM*(5*sM),iM+=UM*(5*GM),iM+=WM*(5*QM),u4+=iM>>>13,iM&=8191,hM=u4,hM+=$M*QM,hM+=NM*KM,hM+=CM*(5*sE),hM+=pM*(5*nE),hM+=dM*(5*iE),u4=hM>>>13,hM&=8191,hM+=PM*(5*eE),hM+=DM*(5*jM),hM+=kM*(5*XM),hM+=UM*(5*sM),hM+=WM*(5*GM),u4+=hM>>>13,hM&=8191,bM=u4,bM+=$M*GM,bM+=NM*QM,bM+=CM*KM,bM+=pM*(5*sE),bM+=dM*(5*nE),u4=bM>>>13,bM&=8191,bM+=PM*(5*iE),bM+=DM*(5*eE),bM+=kM*(5*jM),bM+=UM*(5*XM),bM+=WM*(5*sM),u4+=bM>>>13,bM&=8191,yM=u4,yM+=$M*sM,yM+=NM*GM,yM+=CM*QM,yM+=pM*KM,yM+=dM*(5*sE),u4=yM>>>13,yM&=8191,yM+=PM*(5*nE),yM+=DM*(5*iE),yM+=kM*(5*eE),yM+=UM*(5*jM),yM+=WM*(5*XM),u4+=yM>>>13,yM&=8191,_M=u4,_M+=$M*XM,_M+=NM*sM,_M+=CM*GM,_M+=pM*QM,_M+=dM*KM,u4=_M>>>13,_M&=8191,_M+=PM*(5*sE),_M+=DM*(5*nE),_M+=kM*(5*iE),_M+=UM*(5*eE),_M+=WM*(5*jM),u4+=_M>>>13,_M&=8191,oM=u4,oM+=$M*jM,oM+=NM*XM,oM+=CM*sM,oM+=pM*GM,oM+=dM*QM,u4=oM>>>13,oM&=8191,oM+=PM*KM,oM+=DM*(5*sE),oM+=kM*(5*nE),oM+=UM*(5*iE),oM+=WM*(5*eE),u4+=oM>>>13,oM&=8191,LM=u4,LM+=$M*eE,LM+=NM*jM,LM+=CM*XM,LM+=pM*sM,LM+=dM*GM,u4=LM>>>13,LM&=8191,LM+=PM*QM,LM+=DM*KM,LM+=kM*(5*sE),LM+=UM*(5*nE),LM+=WM*(5*iE),u4+=LM>>>13,LM&=8191,EM=u4,EM+=$M*iE,EM+=NM*eE,EM+=CM*jM,EM+=pM*XM,EM+=dM*sM,u4=EM>>>13,EM&=8191,EM+=PM*GM,EM+=DM*QM,EM+=kM*KM,EM+=UM*(5*sE),EM+=WM*(5*nE),u4+=EM>>>13,EM&=8191,BM=u4,BM+=$M*nE,BM+=NM*iE,BM+=CM*eE,BM+=pM*jM,BM+=dM*XM,u4=BM>>>13,BM&=8191,BM+=PM*sM,BM+=DM*GM,BM+=kM*QM,BM+=UM*KM,BM+=WM*(5*sE),u4+=BM>>>13,BM&=8191,IM=u4,IM+=$M*sE,IM+=NM*nE,IM+=CM*iE,IM+=pM*eE,IM+=dM*jM,u4=IM>>>13,IM&=8191,IM+=PM*XM,IM+=DM*sM,IM+=kM*GM,IM+=UM*QM,IM+=WM*KM,u4+=IM>>>13,IM&=8191,u4=(u4<<2)+u4|0,u4=u4+iM|0,iM=u4&8191,u4=u4>>>13,hM+=u4,$M=iM,NM=hM,CM=bM,pM=yM,dM=_M,PM=oM,DM=LM,kM=EM,UM=BM,WM=IM,Bw+=16,Fw-=16;this.h[0]=$M,this.h[1]=NM,this.h[2]=CM,this.h[3]=pM,this.h[4]=dM,this.h[5]=PM,this.h[6]=DM,this.h[7]=kM,this.h[8]=UM,this.h[9]=WM},op.prototype.finish=function(Z_,Bw){var Fw=new Uint16Array(10),B_,Lw,eM,mM;if(this.leftover){for(mM=this.leftover,this.buffer[mM++]=1;mM<16;mM++)this.buffer[mM]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(B_=this.h[1]>>>13,this.h[1]&=8191,mM=2;mM<10;mM++)this.h[mM]+=B_,B_=this.h[mM]>>>13,this.h[mM]&=8191;for(this.h[0]+=B_*5,B_=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=B_,B_=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=B_,Fw[0]=this.h[0]+5,B_=Fw[0]>>>13,Fw[0]&=8191,mM=1;mM<10;mM++)Fw[mM]=this.h[mM]+B_,B_=Fw[mM]>>>13,Fw[mM]&=8191;for(Fw[9]-=8192,Lw=(B_^1)-1,mM=0;mM<10;mM++)Fw[mM]&=Lw;for(Lw=~Lw,mM=0;mM<10;mM++)this.h[mM]=this.h[mM]&Lw|Fw[mM];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,eM=this.h[0]+this.pad[0],this.h[0]=eM&65535,mM=1;mM<8;mM++)eM=(this.h[mM]+this.pad[mM]|0)+(eM>>>16)|0,this.h[mM]=eM&65535;Z_[Bw+0]=this.h[0]>>>0&255,Z_[Bw+1]=this.h[0]>>>8&255,Z_[Bw+2]=this.h[1]>>>0&255,Z_[Bw+3]=this.h[1]>>>8&255,Z_[Bw+4]=this.h[2]>>>0&255,Z_[Bw+5]=this.h[2]>>>8&255,Z_[Bw+6]=this.h[3]>>>0&255,Z_[Bw+7]=this.h[3]>>>8&255,Z_[Bw+8]=this.h[4]>>>0&255,Z_[Bw+9]=this.h[4]>>>8&255,Z_[Bw+10]=this.h[5]>>>0&255,Z_[Bw+11]=this.h[5]>>>8&255,Z_[Bw+12]=this.h[6]>>>0&255,Z_[Bw+13]=this.h[6]>>>8&255,Z_[Bw+14]=this.h[7]>>>0&255,Z_[Bw+15]=this.h[7]>>>8&255},op.prototype.update=function(Z_,Bw,Fw){var B_,Lw;if(this.leftover){for(Lw=16-this.leftover,Lw>Fw&&(Lw=Fw),B_=0;B_<Lw;B_++)this.buffer[this.leftover+B_]=Z_[Bw+B_];if(Fw-=Lw,Bw+=Lw,this.leftover+=Lw,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(Fw>=16&&(Lw=Fw-Fw%16,this.blocks(Z_,Bw,Lw),Bw+=Lw,Fw-=Lw),Fw){for(B_=0;B_<Fw;B_++)this.buffer[this.leftover+B_]=Z_[Bw+B_];this.leftover+=Fw}};function Sn(Z_,Bw,Fw,B_,Lw,eM){var mM=new op(eM);return mM.update(Fw,B_,Lw),mM.finish(Z_,Bw),0}function Fo(Z_,Bw,Fw,B_,Lw,eM){var mM=new Uint8Array(16);return Sn(mM,0,Fw,B_,Lw,eM),ep(Z_,Bw,mM,0)}function as(Z_,Bw,Fw,B_,Lw){var eM;if(Fw<32)return-1;for(d3(Z_,0,Bw,0,Fw,B_,Lw),Sn(Z_,16,Z_,32,Fw-32,Z_),eM=0;eM<16;eM++)Z_[eM]=0;return 0}function us(Z_,Bw,Fw,B_,Lw){var eM,mM=new Uint8Array(32);if(Fw<32||(i1(mM,0,32,B_,Lw),Fo(Bw,16,Bw,32,Fw-32,mM)!==0))return-1;for(d3(Z_,0,Bw,0,Fw,B_,Lw),eM=0;eM<32;eM++)Z_[eM]=0;return 0}function xl(Z_,Bw){var Fw;for(Fw=0;Fw<16;Fw++)Z_[Fw]=Bw[Fw]|0}function ip(Z_){var Bw,Fw,B_=1;for(Bw=0;Bw<16;Bw++)Fw=Z_[Bw]+B_+65535,B_=Math.floor(Fw/65536),Z_[Bw]=Fw-B_*65536;Z_[0]+=B_-1+37*(B_-1)}function lp(Z_,Bw,Fw){for(var B_,Lw=~(Fw-1),eM=0;eM<16;eM++)B_=Lw&(Z_[eM]^Bw[eM]),Z_[eM]^=B_,Bw[eM]^=B_}function pu(Z_,Bw){var Fw,B_,Lw,eM=ht(),mM=ht();for(Fw=0;Fw<16;Fw++)mM[Fw]=Bw[Fw];for(ip(mM),ip(mM),ip(mM),B_=0;B_<2;B_++){for(eM[0]=mM[0]-65517,Fw=1;Fw<15;Fw++)eM[Fw]=mM[Fw]-65535-(eM[Fw-1]>>16&1),eM[Fw-1]&=65535;eM[15]=mM[15]-32767-(eM[14]>>16&1),Lw=eM[15]>>16&1,eM[14]&=65535,lp(mM,eM,1-Lw)}for(Fw=0;Fw<16;Fw++)Z_[2*Fw]=mM[Fw]&255,Z_[2*Fw+1]=mM[Fw]>>8}function go(Z_,Bw){var Fw=new Uint8Array(32),B_=new Uint8Array(32);return pu(Fw,Z_),pu(B_,Bw),Al(Fw,0,B_,0)}function h0(Z_){var Bw=new Uint8Array(32);return pu(Bw,Z_),Bw[0]&1}function kp(Z_,Bw){var Fw;for(Fw=0;Fw<16;Fw++)Z_[Fw]=Bw[2*Fw]+(Bw[2*Fw+1]<<8);Z_[15]&=32767}function cm(Z_,Bw,Fw){for(var B_=0;B_<16;B_++)Z_[B_]=Bw[B_]+Fw[B_]}function b3(Z_,Bw,Fw){for(var B_=0;B_<16;B_++)Z_[B_]=Bw[B_]-Fw[B_]}function L_(Z_,Bw,Fw){var B_,Lw,eM=0,mM=0,G_=0,r_=0,Vx=0,l4=0,R4=0,u4=0,iM=0,hM=0,bM=0,yM=0,_M=0,oM=0,LM=0,EM=0,BM=0,IM=0,$M=0,NM=0,CM=0,pM=0,dM=0,PM=0,DM=0,kM=0,UM=0,WM=0,KM=0,QM=0,GM=0,sM=Fw[0],XM=Fw[1],jM=Fw[2],eE=Fw[3],iE=Fw[4],nE=Fw[5],sE=Fw[6],vE=Fw[7],cE=Fw[8],pE=Fw[9],yE=Fw[10],bE=Fw[11],AE=Fw[12],xE=Fw[13],ME=Fw[14],_E=Fw[15];B_=Bw[0],eM+=B_*sM,mM+=B_*XM,G_+=B_*jM,r_+=B_*eE,Vx+=B_*iE,l4+=B_*nE,R4+=B_*sE,u4+=B_*vE,iM+=B_*cE,hM+=B_*pE,bM+=B_*yE,yM+=B_*bE,_M+=B_*AE,oM+=B_*xE,LM+=B_*ME,EM+=B_*_E,B_=Bw[1],mM+=B_*sM,G_+=B_*XM,r_+=B_*jM,Vx+=B_*eE,l4+=B_*iE,R4+=B_*nE,u4+=B_*sE,iM+=B_*vE,hM+=B_*cE,bM+=B_*pE,yM+=B_*yE,_M+=B_*bE,oM+=B_*AE,LM+=B_*xE,EM+=B_*ME,BM+=B_*_E,B_=Bw[2],G_+=B_*sM,r_+=B_*XM,Vx+=B_*jM,l4+=B_*eE,R4+=B_*iE,u4+=B_*nE,iM+=B_*sE,hM+=B_*vE,bM+=B_*cE,yM+=B_*pE,_M+=B_*yE,oM+=B_*bE,LM+=B_*AE,EM+=B_*xE,BM+=B_*ME,IM+=B_*_E,B_=Bw[3],r_+=B_*sM,Vx+=B_*XM,l4+=B_*jM,R4+=B_*eE,u4+=B_*iE,iM+=B_*nE,hM+=B_*sE,bM+=B_*vE,yM+=B_*cE,_M+=B_*pE,oM+=B_*yE,LM+=B_*bE,EM+=B_*AE,BM+=B_*xE,IM+=B_*ME,$M+=B_*_E,B_=Bw[4],Vx+=B_*sM,l4+=B_*XM,R4+=B_*jM,u4+=B_*eE,iM+=B_*iE,hM+=B_*nE,bM+=B_*sE,yM+=B_*vE,_M+=B_*cE,oM+=B_*pE,LM+=B_*yE,EM+=B_*bE,BM+=B_*AE,IM+=B_*xE,$M+=B_*ME,NM+=B_*_E,B_=Bw[5],l4+=B_*sM,R4+=B_*XM,u4+=B_*jM,iM+=B_*eE,hM+=B_*iE,bM+=B_*nE,yM+=B_*sE,_M+=B_*vE,oM+=B_*cE,LM+=B_*pE,EM+=B_*yE,BM+=B_*bE,IM+=B_*AE,$M+=B_*xE,NM+=B_*ME,CM+=B_*_E,B_=Bw[6],R4+=B_*sM,u4+=B_*XM,iM+=B_*jM,hM+=B_*eE,bM+=B_*iE,yM+=B_*nE,_M+=B_*sE,oM+=B_*vE,LM+=B_*cE,EM+=B_*pE,BM+=B_*yE,IM+=B_*bE,$M+=B_*AE,NM+=B_*xE,CM+=B_*ME,pM+=B_*_E,B_=Bw[7],u4+=B_*sM,iM+=B_*XM,hM+=B_*jM,bM+=B_*eE,yM+=B_*iE,_M+=B_*nE,oM+=B_*sE,LM+=B_*vE,EM+=B_*cE,BM+=B_*pE,IM+=B_*yE,$M+=B_*bE,NM+=B_*AE,CM+=B_*xE,pM+=B_*ME,dM+=B_*_E,B_=Bw[8],iM+=B_*sM,hM+=B_*XM,bM+=B_*jM,yM+=B_*eE,_M+=B_*iE,oM+=B_*nE,LM+=B_*sE,EM+=B_*vE,BM+=B_*cE,IM+=B_*pE,$M+=B_*yE,NM+=B_*bE,CM+=B_*AE,pM+=B_*xE,dM+=B_*ME,PM+=B_*_E,B_=Bw[9],hM+=B_*sM,bM+=B_*XM,yM+=B_*jM,_M+=B_*eE,oM+=B_*iE,LM+=B_*nE,EM+=B_*sE,BM+=B_*vE,IM+=B_*cE,$M+=B_*pE,NM+=B_*yE,CM+=B_*bE,pM+=B_*AE,dM+=B_*xE,PM+=B_*ME,DM+=B_*_E,B_=Bw[10],bM+=B_*sM,yM+=B_*XM,_M+=B_*jM,oM+=B_*eE,LM+=B_*iE,EM+=B_*nE,BM+=B_*sE,IM+=B_*vE,$M+=B_*cE,NM+=B_*pE,CM+=B_*yE,pM+=B_*bE,dM+=B_*AE,PM+=B_*xE,DM+=B_*ME,kM+=B_*_E,B_=Bw[11],yM+=B_*sM,_M+=B_*XM,oM+=B_*jM,LM+=B_*eE,EM+=B_*iE,BM+=B_*nE,IM+=B_*sE,$M+=B_*vE,NM+=B_*cE,CM+=B_*pE,pM+=B_*yE,dM+=B_*bE,PM+=B_*AE,DM+=B_*xE,kM+=B_*ME,UM+=B_*_E,B_=Bw[12],_M+=B_*sM,oM+=B_*XM,LM+=B_*jM,EM+=B_*eE,BM+=B_*iE,IM+=B_*nE,$M+=B_*sE,NM+=B_*vE,CM+=B_*cE,pM+=B_*pE,dM+=B_*yE,PM+=B_*bE,DM+=B_*AE,kM+=B_*xE,UM+=B_*ME,WM+=B_*_E,B_=Bw[13],oM+=B_*sM,LM+=B_*XM,EM+=B_*jM,BM+=B_*eE,IM+=B_*iE,$M+=B_*nE,NM+=B_*sE,CM+=B_*vE,pM+=B_*cE,dM+=B_*pE,PM+=B_*yE,DM+=B_*bE,kM+=B_*AE,UM+=B_*xE,WM+=B_*ME,KM+=B_*_E,B_=Bw[14],LM+=B_*sM,EM+=B_*XM,BM+=B_*jM,IM+=B_*eE,$M+=B_*iE,NM+=B_*nE,CM+=B_*sE,pM+=B_*vE,dM+=B_*cE,PM+=B_*pE,DM+=B_*yE,kM+=B_*bE,UM+=B_*AE,WM+=B_*xE,KM+=B_*ME,QM+=B_*_E,B_=Bw[15],EM+=B_*sM,BM+=B_*XM,IM+=B_*jM,$M+=B_*eE,NM+=B_*iE,CM+=B_*nE,pM+=B_*sE,dM+=B_*vE,PM+=B_*cE,DM+=B_*pE,kM+=B_*yE,UM+=B_*bE,WM+=B_*AE,KM+=B_*xE,QM+=B_*ME,GM+=B_*_E,eM+=38*BM,mM+=38*IM,G_+=38*$M,r_+=38*NM,Vx+=38*CM,l4+=38*pM,R4+=38*dM,u4+=38*PM,iM+=38*DM,hM+=38*kM,bM+=38*UM,yM+=38*WM,_M+=38*KM,oM+=38*QM,LM+=38*GM,Lw=1,B_=eM+Lw+65535,Lw=Math.floor(B_/65536),eM=B_-Lw*65536,B_=mM+Lw+65535,Lw=Math.floor(B_/65536),mM=B_-Lw*65536,B_=G_+Lw+65535,Lw=Math.floor(B_/65536),G_=B_-Lw*65536,B_=r_+Lw+65535,Lw=Math.floor(B_/65536),r_=B_-Lw*65536,B_=Vx+Lw+65535,Lw=Math.floor(B_/65536),Vx=B_-Lw*65536,B_=l4+Lw+65535,Lw=Math.floor(B_/65536),l4=B_-Lw*65536,B_=R4+Lw+65535,Lw=Math.floor(B_/65536),R4=B_-Lw*65536,B_=u4+Lw+65535,Lw=Math.floor(B_/65536),u4=B_-Lw*65536,B_=iM+Lw+65535,Lw=Math.floor(B_/65536),iM=B_-Lw*65536,B_=hM+Lw+65535,Lw=Math.floor(B_/65536),hM=B_-Lw*65536,B_=bM+Lw+65535,Lw=Math.floor(B_/65536),bM=B_-Lw*65536,B_=yM+Lw+65535,Lw=Math.floor(B_/65536),yM=B_-Lw*65536,B_=_M+Lw+65535,Lw=Math.floor(B_/65536),_M=B_-Lw*65536,B_=oM+Lw+65535,Lw=Math.floor(B_/65536),oM=B_-Lw*65536,B_=LM+Lw+65535,Lw=Math.floor(B_/65536),LM=B_-Lw*65536,B_=EM+Lw+65535,Lw=Math.floor(B_/65536),EM=B_-Lw*65536,eM+=Lw-1+37*(Lw-1),Lw=1,B_=eM+Lw+65535,Lw=Math.floor(B_/65536),eM=B_-Lw*65536,B_=mM+Lw+65535,Lw=Math.floor(B_/65536),mM=B_-Lw*65536,B_=G_+Lw+65535,Lw=Math.floor(B_/65536),G_=B_-Lw*65536,B_=r_+Lw+65535,Lw=Math.floor(B_/65536),r_=B_-Lw*65536,B_=Vx+Lw+65535,Lw=Math.floor(B_/65536),Vx=B_-Lw*65536,B_=l4+Lw+65535,Lw=Math.floor(B_/65536),l4=B_-Lw*65536,B_=R4+Lw+65535,Lw=Math.floor(B_/65536),R4=B_-Lw*65536,B_=u4+Lw+65535,Lw=Math.floor(B_/65536),u4=B_-Lw*65536,B_=iM+Lw+65535,Lw=Math.floor(B_/65536),iM=B_-Lw*65536,B_=hM+Lw+65535,Lw=Math.floor(B_/65536),hM=B_-Lw*65536,B_=bM+Lw+65535,Lw=Math.floor(B_/65536),bM=B_-Lw*65536,B_=yM+Lw+65535,Lw=Math.floor(B_/65536),yM=B_-Lw*65536,B_=_M+Lw+65535,Lw=Math.floor(B_/65536),_M=B_-Lw*65536,B_=oM+Lw+65535,Lw=Math.floor(B_/65536),oM=B_-Lw*65536,B_=LM+Lw+65535,Lw=Math.floor(B_/65536),LM=B_-Lw*65536,B_=EM+Lw+65535,Lw=Math.floor(B_/65536),EM=B_-Lw*65536,eM+=Lw-1+37*(Lw-1),Z_[0]=eM,Z_[1]=mM,Z_[2]=G_,Z_[3]=r_,Z_[4]=Vx,Z_[5]=l4,Z_[6]=R4,Z_[7]=u4,Z_[8]=iM,Z_[9]=hM,Z_[10]=bM,Z_[11]=yM,Z_[12]=_M,Z_[13]=oM,Z_[14]=LM,Z_[15]=EM}function Ym(Z_,Bw){L_(Z_,Bw,Bw)}function Xm(Z_,Bw){var Fw=ht(),B_;for(B_=0;B_<16;B_++)Fw[B_]=Bw[B_];for(B_=253;B_>=0;B_--)Ym(Fw,Fw),B_!==2&&B_!==4&&L_(Fw,Fw,Bw);for(B_=0;B_<16;B_++)Z_[B_]=Fw[B_]}function Jm(Z_,Bw){var Fw=ht(),B_;for(B_=0;B_<16;B_++)Fw[B_]=Bw[B_];for(B_=250;B_>=0;B_--)Ym(Fw,Fw),B_!==1&&L_(Fw,Fw,Bw);for(B_=0;B_<16;B_++)Z_[B_]=Fw[B_]}function $_(Z_,Bw,Fw){var B_=new Uint8Array(32),Lw=new Float64Array(80),eM,mM,G_=ht(),r_=ht(),Vx=ht(),l4=ht(),R4=ht(),u4=ht();for(mM=0;mM<31;mM++)B_[mM]=Bw[mM];for(B_[31]=Bw[31]&127|64,B_[0]&=248,kp(Lw,Fw),mM=0;mM<16;mM++)r_[mM]=Lw[mM],l4[mM]=G_[mM]=Vx[mM]=0;for(G_[0]=l4[0]=1,mM=254;mM>=0;--mM)eM=B_[mM>>>3]>>>(mM&7)&1,lp(G_,r_,eM),lp(Vx,l4,eM),cm(R4,G_,Vx),b3(G_,G_,Vx),cm(Vx,r_,l4),b3(r_,r_,l4),Ym(l4,R4),Ym(u4,G_),L_(G_,Vx,G_),L_(Vx,r_,R4),cm(R4,G_,Vx),b3(G_,G_,Vx),Ym(r_,G_),b3(Vx,l4,u4),L_(G_,Vx,Gr),cm(G_,G_,l4),L_(Vx,Vx,G_),L_(G_,l4,u4),L_(l4,r_,Lw),Ym(r_,R4),lp(G_,r_,eM),lp(Vx,l4,eM);for(mM=0;mM<16;mM++)Lw[mM+16]=G_[mM],Lw[mM+32]=Vx[mM],Lw[mM+48]=r_[mM],Lw[mM+64]=l4[mM];var iM=Lw.subarray(32),hM=Lw.subarray(16);return Xm(iM,iM),L_(hM,hM,iM),pu(Z_,hM),0}function j_(Z_,Bw){return $_(Z_,Bw,qt)}function h3(Z_,Bw){return _t(Bw,32),j_(Z_,Bw)}function Fp(Z_,Bw,Fw){var B_=new Uint8Array(32);return $_(B_,Fw,Bw),Lp(Z_,At,B_,jp)}var W_=as,t4=us;function Nw(Z_,Bw,Fw,B_,Lw,eM){var mM=new Uint8Array(32);return Fp(mM,Lw,eM),W_(Z_,Bw,Fw,B_,mM)}function Dp(Z_,Bw,Fw,B_,Lw,eM){var mM=new Uint8Array(32);return Fp(mM,Lw,eM),t4(Z_,Bw,Fw,B_,mM)}var a1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function zp(Z_,Bw,Fw,B_){for(var Lw=new Int32Array(16),eM=new Int32Array(16),mM,G_,r_,Vx,l4,R4,u4,iM,hM,bM,yM,_M,oM,LM,EM,BM,IM,$M,NM,CM,pM,dM,PM,DM,kM,UM,WM=Z_[0],KM=Z_[1],QM=Z_[2],GM=Z_[3],sM=Z_[4],XM=Z_[5],jM=Z_[6],eE=Z_[7],iE=Bw[0],nE=Bw[1],sE=Bw[2],vE=Bw[3],cE=Bw[4],pE=Bw[5],yE=Bw[6],bE=Bw[7],AE=0;B_>=128;){for(NM=0;NM<16;NM++)CM=8*NM+AE,Lw[NM]=Fw[CM+0]<<24|Fw[CM+1]<<16|Fw[CM+2]<<8|Fw[CM+3],eM[NM]=Fw[CM+4]<<24|Fw[CM+5]<<16|Fw[CM+6]<<8|Fw[CM+7];for(NM=0;NM<80;NM++)if(mM=WM,G_=KM,r_=QM,Vx=GM,l4=sM,R4=XM,u4=jM,iM=eE,hM=iE,bM=nE,yM=sE,_M=vE,oM=cE,LM=pE,EM=yE,BM=bE,pM=eE,dM=bE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=(sM>>>14|cE<<32-14)^(sM>>>18|cE<<32-18)^(cE>>>41-32|sM<<32-(41-32)),dM=(cE>>>14|sM<<32-14)^(cE>>>18|sM<<32-18)^(sM>>>41-32|cE<<32-(41-32)),PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,pM=sM&XM^~sM&jM,dM=cE&pE^~cE&yE,PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,pM=a1[NM*2],dM=a1[NM*2+1],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,pM=Lw[NM%16],dM=eM[NM%16],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,IM=kM&65535|UM<<16,$M=PM&65535|DM<<16,pM=IM,dM=$M,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=(WM>>>28|iE<<32-28)^(iE>>>34-32|WM<<32-(34-32))^(iE>>>39-32|WM<<32-(39-32)),dM=(iE>>>28|WM<<32-28)^(WM>>>34-32|iE<<32-(34-32))^(WM>>>39-32|iE<<32-(39-32)),PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,pM=WM&KM^WM&QM^KM&QM,dM=iE&nE^iE&sE^nE&sE,PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,iM=kM&65535|UM<<16,BM=PM&65535|DM<<16,pM=Vx,dM=_M,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=IM,dM=$M,PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Vx=kM&65535|UM<<16,_M=PM&65535|DM<<16,KM=mM,QM=G_,GM=r_,sM=Vx,XM=l4,jM=R4,eE=u4,WM=iM,nE=hM,sE=bM,vE=yM,cE=_M,pE=oM,yE=LM,bE=EM,iE=BM,NM%16===15)for(CM=0;CM<16;CM++)pM=Lw[CM],dM=eM[CM],PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Lw[(CM+9)%16],dM=eM[(CM+9)%16],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,IM=Lw[(CM+1)%16],$M=eM[(CM+1)%16],pM=(IM>>>1|$M<<32-1)^(IM>>>8|$M<<32-8)^IM>>>7,dM=($M>>>1|IM<<32-1)^($M>>>8|IM<<32-8)^($M>>>7|IM<<32-7),PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,IM=Lw[(CM+14)%16],$M=eM[(CM+14)%16],pM=(IM>>>19|$M<<32-19)^($M>>>61-32|IM<<32-(61-32))^IM>>>6,dM=($M>>>19|IM<<32-19)^(IM>>>61-32|$M<<32-(61-32))^($M>>>6|IM<<32-6),PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Lw[CM]=kM&65535|UM<<16,eM[CM]=PM&65535|DM<<16;pM=WM,dM=iE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[0],dM=Bw[0],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[0]=WM=kM&65535|UM<<16,Bw[0]=iE=PM&65535|DM<<16,pM=KM,dM=nE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[1],dM=Bw[1],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[1]=KM=kM&65535|UM<<16,Bw[1]=nE=PM&65535|DM<<16,pM=QM,dM=sE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[2],dM=Bw[2],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[2]=QM=kM&65535|UM<<16,Bw[2]=sE=PM&65535|DM<<16,pM=GM,dM=vE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[3],dM=Bw[3],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[3]=GM=kM&65535|UM<<16,Bw[3]=vE=PM&65535|DM<<16,pM=sM,dM=cE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[4],dM=Bw[4],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[4]=sM=kM&65535|UM<<16,Bw[4]=cE=PM&65535|DM<<16,pM=XM,dM=pE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[5],dM=Bw[5],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[5]=XM=kM&65535|UM<<16,Bw[5]=pE=PM&65535|DM<<16,pM=jM,dM=yE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[6],dM=Bw[6],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[6]=jM=kM&65535|UM<<16,Bw[6]=yE=PM&65535|DM<<16,pM=eE,dM=bE,PM=dM&65535,DM=dM>>>16,kM=pM&65535,UM=pM>>>16,pM=Z_[7],dM=Bw[7],PM+=dM&65535,DM+=dM>>>16,kM+=pM&65535,UM+=pM>>>16,DM+=PM>>>16,kM+=DM>>>16,UM+=kM>>>16,Z_[7]=eE=kM&65535|UM<<16,Bw[7]=bE=PM&65535|DM<<16,AE+=128,B_-=128}return B_}function v3(Z_,Bw,Fw){var B_=new Int32Array(8),Lw=new Int32Array(8),eM=new Uint8Array(256),mM,G_=Fw;for(B_[0]=1779033703,B_[1]=3144134277,B_[2]=1013904242,B_[3]=2773480762,B_[4]=1359893119,B_[5]=2600822924,B_[6]=528734635,B_[7]=1541459225,Lw[0]=4089235720,Lw[1]=2227873595,Lw[2]=4271175723,Lw[3]=1595750129,Lw[4]=2917565137,Lw[5]=725511199,Lw[6]=4215389547,Lw[7]=327033209,zp(B_,Lw,Bw,Fw),Fw%=128,mM=0;mM<Fw;mM++)eM[mM]=Bw[G_-Fw+mM];for(eM[Fw]=128,Fw=256-128*(Fw<112?1:0),eM[Fw-9]=0,cs(eM,Fw-8,G_/536870912|0,G_<<3),zp(B_,Lw,eM,Fw),mM=0;mM<8;mM++)cs(Z_,8*mM,B_[mM],Lw[mM]);return 0}function Mw(Z_,Bw){var Fw=ht(),B_=ht(),Lw=ht(),eM=ht(),mM=ht(),G_=ht(),r_=ht(),Vx=ht(),l4=ht();b3(Fw,Z_[1],Z_[0]),b3(l4,Bw[1],Bw[0]),L_(Fw,Fw,l4),cm(B_,Z_[0],Z_[1]),cm(l4,Bw[0],Bw[1]),L_(B_,B_,l4),L_(Lw,Z_[3],Bw[3]),L_(Lw,Lw,xn),L_(eM,Z_[2],Bw[2]),cm(eM,eM,eM),b3(mM,B_,Fw),b3(G_,eM,Lw),cm(r_,eM,Lw),cm(Vx,B_,Fw),L_(Z_[0],mM,G_),L_(Z_[1],Vx,r_),L_(Z_[2],r_,G_),L_(Z_[3],mM,Vx)}function nw(Z_,Bw,Fw){var B_;for(B_=0;B_<4;B_++)lp(Z_[B_],Bw[B_],Fw)}function n4(Z_,Bw){var Fw=ht(),B_=ht(),Lw=ht();Xm(Lw,Bw[2]),L_(Fw,Bw[0],Lw),L_(B_,Bw[1],Lw),pu(Z_,B_),Z_[31]^=h0(Fw)<<7}function Ww(Z_,Bw,Fw){var B_,Lw;for(xl(Z_[0],Zt),xl(Z_[1],cr),xl(Z_[2],cr),xl(Z_[3],Zt),Lw=255;Lw>=0;--Lw)B_=Fw[Lw/8|0]>>(Lw&7)&1,nw(Z_,Bw,B_),Mw(Bw,Z_),Mw(Z_,Z_),nw(Z_,Bw,B_)}function F_(Z_,Bw){var Fw=[ht(),ht(),ht(),ht()];xl(Fw[0],On),xl(Fw[1],ss),xl(Fw[2],cr),L_(Fw[3],On,ss),Ww(Z_,Fw,Bw)}function qx(Z_,Bw,Fw){var B_=new Uint8Array(64),Lw=[ht(),ht(),ht(),ht()],eM;for(Fw||_t(Bw,32),v3(B_,Bw,32),B_[0]&=248,B_[31]&=127,B_[31]|=64,F_(Lw,B_),n4(Z_,Lw),eM=0;eM<32;eM++)Bw[eM+32]=Z_[eM];return 0}var nM=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Hm(Z_,Bw){var Fw,B_,Lw,eM;for(B_=63;B_>=32;--B_){for(Fw=0,Lw=B_-32,eM=B_-12;Lw<eM;++Lw)Bw[Lw]+=Fw-16*Bw[B_]*nM[Lw-(B_-32)],Fw=Math.floor((Bw[Lw]+128)/256),Bw[Lw]-=Fw*256;Bw[Lw]+=Fw,Bw[B_]=0}for(Fw=0,Lw=0;Lw<32;Lw++)Bw[Lw]+=Fw-(Bw[31]>>4)*nM[Lw],Fw=Bw[Lw]>>8,Bw[Lw]&=255;for(Lw=0;Lw<32;Lw++)Bw[Lw]-=Fw*nM[Lw];for(B_=0;B_<32;B_++)Bw[B_+1]+=Bw[B_]>>8,Z_[B_]=Bw[B_]&255}function y3(Z_){var Bw=new Float64Array(64),Fw;for(Fw=0;Fw<64;Fw++)Bw[Fw]=Z_[Fw];for(Fw=0;Fw<64;Fw++)Z_[Fw]=0;Hm(Z_,Bw)}function Q_(Z_,Bw,Fw,B_){var Lw=new Uint8Array(64),eM=new Uint8Array(64),mM=new Uint8Array(64),G_,r_,Vx=new Float64Array(64),l4=[ht(),ht(),ht(),ht()];v3(Lw,B_,32),Lw[0]&=248,Lw[31]&=127,Lw[31]|=64;var R4=Fw+64;for(G_=0;G_<Fw;G_++)Z_[64+G_]=Bw[G_];for(G_=0;G_<32;G_++)Z_[32+G_]=Lw[32+G_];for(v3(mM,Z_.subarray(32),Fw+32),y3(mM),F_(l4,mM),n4(Z_,l4),G_=32;G_<64;G_++)Z_[G_]=B_[G_];for(v3(eM,Z_,Fw+64),y3(eM),G_=0;G_<64;G_++)Vx[G_]=0;for(G_=0;G_<32;G_++)Vx[G_]=mM[G_];for(G_=0;G_<32;G_++)for(r_=0;r_<32;r_++)Vx[G_+r_]+=eM[G_]*Lw[r_];return Hm(Z_.subarray(32),Vx),R4}function Uw(Z_,Bw){var Fw=ht(),B_=ht(),Lw=ht(),eM=ht(),mM=ht(),G_=ht(),r_=ht();return xl(Z_[2],cr),kp(Z_[1],Bw),Ym(Lw,Z_[1]),L_(eM,Lw,Zr),b3(Lw,Lw,Z_[2]),cm(eM,Z_[2],eM),Ym(mM,eM),Ym(G_,mM),L_(r_,G_,mM),L_(Fw,r_,Lw),L_(Fw,Fw,eM),Jm(Fw,Fw),L_(Fw,Fw,Lw),L_(Fw,Fw,eM),L_(Fw,Fw,eM),L_(Z_[0],Fw,eM),Ym(B_,Z_[0]),L_(B_,B_,eM),go(B_,Lw)&&L_(Z_[0],Z_[0],ls),Ym(B_,Z_[0]),L_(B_,B_,eM),go(B_,Lw)?-1:(h0(Z_[0])===Bw[31]>>7&&b3(Z_[0],Zt,Z_[0]),L_(Z_[3],Z_[0],Z_[1]),0)}function s4(Z_,Bw,Fw,B_){var Lw,eM=new Uint8Array(32),mM=new Uint8Array(64),G_=[ht(),ht(),ht(),ht()],r_=[ht(),ht(),ht(),ht()];if(Fw<64||Uw(r_,B_))return-1;for(Lw=0;Lw<Fw;Lw++)Z_[Lw]=Bw[Lw];for(Lw=0;Lw<32;Lw++)Z_[Lw+32]=B_[Lw];if(v3(mM,Z_,Fw),y3(mM),Ww(G_,r_,mM),F_(r_,Bw.subarray(32)),Mw(G_,r_),n4(eM,G_),Fw-=64,Al(Bw,0,eM,0)){for(Lw=0;Lw<Fw;Lw++)Z_[Lw]=0;return-1}for(Lw=0;Lw<Fw;Lw++)Z_[Lw]=Bw[Lw+64];return Fw}var rM=32,c4=24,tM=32,R5=16,r4=32,a4=32,cM=32,Yx=32,D5=32,wM=c4,uM=tM,fM=R5,AM=64,lM=32,vM=64,HM=32,xM=64;lt.lowlevel={crypto_core_hsalsa20:Lp,crypto_stream_xor:d3,crypto_stream:i1,crypto_stream_salsa20_xor:nm,crypto_stream_salsa20:zm,crypto_onetimeauth:Sn,crypto_onetimeauth_verify:Fo,crypto_verify_16:ep,crypto_verify_32:Al,crypto_secretbox:as,crypto_secretbox_open:us,crypto_scalarmult:$_,crypto_scalarmult_base:j_,crypto_box_beforenm:Fp,crypto_box_afternm:W_,crypto_box:Nw,crypto_box_open:Dp,crypto_box_keypair:h3,crypto_hash:v3,crypto_sign:Q_,crypto_sign_keypair:qx,crypto_sign_open:s4,crypto_secretbox_KEYBYTES:rM,crypto_secretbox_NONCEBYTES:c4,crypto_secretbox_ZEROBYTES:tM,crypto_secretbox_BOXZEROBYTES:R5,crypto_scalarmult_BYTES:r4,crypto_scalarmult_SCALARBYTES:a4,crypto_box_PUBLICKEYBYTES:cM,crypto_box_SECRETKEYBYTES:Yx,crypto_box_BEFORENMBYTES:D5,crypto_box_NONCEBYTES:wM,crypto_box_ZEROBYTES:uM,crypto_box_BOXZEROBYTES:fM,crypto_sign_BYTES:AM,crypto_sign_PUBLICKEYBYTES:lM,crypto_sign_SECRETKEYBYTES:vM,crypto_sign_SEEDBYTES:HM,crypto_hash_BYTES:xM,gf:ht,D:Zr,L:nM,pack25519:pu,unpack25519:kp,M:L_,A:cm,S:Ym,Z:b3,pow2523:Jm,add:Mw,set25519:xl,modL:Hm,scalarmult:Ww,scalarbase:F_};function RM(Z_,Bw){if(Z_.length!==rM)throw new Error("bad key size");if(Bw.length!==c4)throw new Error("bad nonce size")}function VM(Z_,Bw){if(Z_.length!==cM)throw new Error("bad public key size");if(Bw.length!==Yx)throw new Error("bad secret key size")}function SM(){for(var Z_=0;Z_<arguments.length;Z_++)if(!(arguments[Z_]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function gM(Z_){for(var Bw=0;Bw<Z_.length;Bw++)Z_[Bw]=0}lt.randomBytes=function(Z_){var Bw=new Uint8Array(Z_);return _t(Bw,Z_),Bw},lt.secretbox=function(Z_,Bw,Fw){SM(Z_,Bw,Fw),RM(Fw,Bw);for(var B_=new Uint8Array(tM+Z_.length),Lw=new Uint8Array(B_.length),eM=0;eM<Z_.length;eM++)B_[eM+tM]=Z_[eM];return as(Lw,B_,B_.length,Bw,Fw),Lw.subarray(R5)},lt.secretbox.open=function(Z_,Bw,Fw){SM(Z_,Bw,Fw),RM(Fw,Bw);for(var B_=new Uint8Array(R5+Z_.length),Lw=new Uint8Array(B_.length),eM=0;eM<Z_.length;eM++)B_[eM+R5]=Z_[eM];return B_.length<32||us(Lw,B_,B_.length,Bw,Fw)!==0?null:Lw.subarray(tM)},lt.secretbox.keyLength=rM,lt.secretbox.nonceLength=c4,lt.secretbox.overheadLength=R5,lt.scalarMult=function(Z_,Bw){if(SM(Z_,Bw),Z_.length!==a4)throw new Error("bad n size");if(Bw.length!==r4)throw new Error("bad p size");var Fw=new Uint8Array(r4);return $_(Fw,Z_,Bw),Fw},lt.scalarMult.base=function(Z_){if(SM(Z_),Z_.length!==a4)throw new Error("bad n size");var Bw=new Uint8Array(r4);return j_(Bw,Z_),Bw},lt.scalarMult.scalarLength=a4,lt.scalarMult.groupElementLength=r4,lt.box=function(Z_,Bw,Fw,B_){var Lw=lt.box.before(Fw,B_);return lt.secretbox(Z_,Bw,Lw)},lt.box.before=function(Z_,Bw){SM(Z_,Bw),VM(Z_,Bw);var Fw=new Uint8Array(D5);return Fp(Fw,Z_,Bw),Fw},lt.box.after=lt.secretbox,lt.box.open=function(Z_,Bw,Fw,B_){var Lw=lt.box.before(Fw,B_);return lt.secretbox.open(Z_,Bw,Lw)},lt.box.open.after=lt.secretbox.open,lt.box.keyPair=function(){var Z_=new Uint8Array(cM),Bw=new Uint8Array(Yx);return h3(Z_,Bw),{publicKey:Z_,secretKey:Bw}},lt.box.keyPair.fromSecretKey=function(Z_){if(SM(Z_),Z_.length!==Yx)throw new Error("bad secret key size");var Bw=new Uint8Array(cM);return j_(Bw,Z_),{publicKey:Bw,secretKey:new Uint8Array(Z_)}},lt.box.publicKeyLength=cM,lt.box.secretKeyLength=Yx,lt.box.sharedKeyLength=D5,lt.box.nonceLength=wM,lt.box.overheadLength=lt.secretbox.overheadLength,lt.sign=function(Z_,Bw){if(SM(Z_,Bw),Bw.length!==vM)throw new Error("bad secret key size");var Fw=new Uint8Array(AM+Z_.length);return Q_(Fw,Z_,Z_.length,Bw),Fw},lt.sign.open=function(Z_,Bw){if(SM(Z_,Bw),Bw.length!==lM)throw new Error("bad public key size");var Fw=new Uint8Array(Z_.length),B_=s4(Fw,Z_,Z_.length,Bw);if(B_<0)return null;for(var Lw=new Uint8Array(B_),eM=0;eM<Lw.length;eM++)Lw[eM]=Fw[eM];return Lw},lt.sign.detached=function(Z_,Bw){for(var Fw=lt.sign(Z_,Bw),B_=new Uint8Array(AM),Lw=0;Lw<B_.length;Lw++)B_[Lw]=Fw[Lw];return B_},lt.sign.detached.verify=function(Z_,Bw,Fw){if(SM(Z_,Bw,Fw),Bw.length!==AM)throw new Error("bad signature size");if(Fw.length!==lM)throw new Error("bad public key size");var B_=new Uint8Array(AM+Z_.length),Lw=new Uint8Array(AM+Z_.length),eM;for(eM=0;eM<AM;eM++)B_[eM]=Bw[eM];for(eM=0;eM<Z_.length;eM++)B_[eM+AM]=Z_[eM];return s4(Lw,B_,B_.length,Fw)>=0},lt.sign.keyPair=function(){var Z_=new Uint8Array(lM),Bw=new Uint8Array(vM);return qx(Z_,Bw),{publicKey:Z_,secretKey:Bw}},lt.sign.keyPair.fromSecretKey=function(Z_){if(SM(Z_),Z_.length!==vM)throw new Error("bad secret key size");for(var Bw=new Uint8Array(lM),Fw=0;Fw<Bw.length;Fw++)Bw[Fw]=Z_[32+Fw];return{publicKey:Bw,secretKey:new Uint8Array(Z_)}},lt.sign.keyPair.fromSeed=function(Z_){if(SM(Z_),Z_.length!==HM)throw new Error("bad seed size");for(var Bw=new Uint8Array(lM),Fw=new Uint8Array(vM),B_=0;B_<32;B_++)Fw[B_]=Z_[B_];return qx(Bw,Fw,!0),{publicKey:Bw,secretKey:Fw}},lt.sign.publicKeyLength=lM,lt.sign.secretKeyLength=vM,lt.sign.seedLength=HM,lt.sign.signatureLength=AM,lt.hash=function(Z_){SM(Z_);var Bw=new Uint8Array(xM);return v3(Bw,Z_,Z_.length),Bw},lt.hash.hashLength=xM,lt.verify=function(Z_,Bw){return SM(Z_,Bw),Z_.length===0||Bw.length===0||Z_.length!==Bw.length?!1:wl(Z_,0,Bw,0,Z_.length)===0},lt.setPRNG=function(Z_){_t=Z_},function(){var Z_=typeof self<"u"?self.crypto||self.msCrypto:null;if(Z_&&Z_.getRandomValues){var Bw=65536;lt.setPRNG(function(Fw,B_){var Lw,eM=new Uint8Array(B_);for(Lw=0;Lw<B_;Lw+=Bw)Z_.getRandomValues(eM.subarray(Lw,Lw+Math.min(B_-Lw,Bw)));for(Lw=0;Lw<B_;Lw++)Fw[Lw]=eM[Lw];gM(eM)})}else typeof commonjsRequire<"u"&&(Z_=requireCryptoBrowserify(),Z_&&Z_.randomBytes&&lt.setPRNG(function(Fw,B_){var Lw,eM=Z_.randomBytes(B_);for(Lw=0;Lw<B_;Lw++)Fw[Lw]=eM[Lw];gM(eM)}))}()})(ut.exports?ut.exports:self.nacl=self.nacl||{})})(naclFast);var naclFastExports=naclFast.exports;const nacl$1=getDefaultExportFromCjs(naclFastExports);var CONNECT_EVENT_ERROR_CODES;(function(ut){ut[ut.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ut[ut.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",ut[ut.MANIFEST_NOT_FOUND_ERROR=2]="MANIFEST_NOT_FOUND_ERROR",ut[ut.MANIFEST_CONTENT_ERROR=3]="MANIFEST_CONTENT_ERROR",ut[ut.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",ut[ut.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",ut[ut.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_EVENT_ERROR_CODES||(CONNECT_EVENT_ERROR_CODES={}));var CONNECT_ITEM_ERROR_CODES;(function(ut){ut[ut.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ut[ut.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(CONNECT_ITEM_ERROR_CODES||(CONNECT_ITEM_ERROR_CODES={}));var SEND_TRANSACTION_ERROR_CODES;(function(ut){ut[ut.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ut[ut.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",ut[ut.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",ut[ut.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",ut[ut.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SEND_TRANSACTION_ERROR_CODES||(SEND_TRANSACTION_ERROR_CODES={}));var SIGN_DATA_ERROR_CODES;(function(ut){ut[ut.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ut[ut.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",ut[ut.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",ut[ut.USER_REJECTS_ERROR=300]="USER_REJECTS_ERROR",ut[ut.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(SIGN_DATA_ERROR_CODES||(SIGN_DATA_ERROR_CODES={}));var DISCONNECT_ERROR_CODES;(function(ut){ut[ut.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",ut[ut.BAD_REQUEST_ERROR=1]="BAD_REQUEST_ERROR",ut[ut.UNKNOWN_APP_ERROR=100]="UNKNOWN_APP_ERROR",ut[ut.METHOD_NOT_SUPPORTED=400]="METHOD_NOT_SUPPORTED"})(DISCONNECT_ERROR_CODES||(DISCONNECT_ERROR_CODES={}));var CHAIN;(function(ut){ut.MAINNET="-239",ut.TESTNET="-3"})(CHAIN||(CHAIN={}));function encodeUint8Array(ut,lt){const ht=nacl.encodeBase64(ut);return lt?encodeURIComponent(ht):ht}function decodeToUint8Array(ut,lt){return lt&&(ut=decodeURIComponent(ut)),nacl.decodeBase64(ut)}function encode$2(ut,lt=!1){let ht;return ut instanceof Uint8Array?ht=ut:(typeof ut!="string"&&(ut=JSON.stringify(ut)),ht=nacl.decodeUTF8(ut)),encodeUint8Array(ht,lt)}function decode(ut,lt=!1){const ht=decodeToUint8Array(ut,lt);return{toString(){return nacl.encodeUTF8(ht)},toObject(){try{return JSON.parse(nacl.encodeUTF8(ht))}catch{return null}},toUint8Array(){return ht}}}const Base64={encode:encode$2,decode};function concatUint8Arrays(ut,lt){const ht=new Uint8Array(ut.length+lt.length);return ht.set(ut),ht.set(lt,ut.length),ht}function splitToUint8Arrays(ut,lt){if(lt>=ut.length)throw new Error("Index is out of buffer");const ht=ut.slice(0,lt),_t=ut.slice(lt);return[ht,_t]}function toHexString(ut){let lt="";return ut.forEach(ht=>{lt+=("0"+(ht&255).toString(16)).slice(-2)}),lt}function hexToByteArray(ut){if(ut.length%2!==0)throw new Error(`Cannot convert ${ut} to bytesArray`);const lt=new Uint8Array(ut.length/2);for(let ht=0;ht<ut.length;ht+=2)lt[ht/2]=parseInt(ut.slice(ht,ht+2),16);return lt}class SessionCrypto{constructor(lt){this.nonceLength=24,this.keyPair=lt?this.createKeypairFromString(lt):this.createKeypair(),this.sessionId=toHexString(this.keyPair.publicKey)}createKeypair(){return nacl$1.box.keyPair()}createKeypairFromString(lt){return{publicKey:hexToByteArray(lt.publicKey),secretKey:hexToByteArray(lt.secretKey)}}createNonce(){return nacl$1.randomBytes(this.nonceLength)}encrypt(lt,ht){const _t=new TextEncoder().encode(lt),At=this.createNonce(),qt=nacl$1.box(_t,At,ht,this.keyPair.secretKey);return concatUint8Arrays(At,qt)}decrypt(lt,ht){const[_t,At]=splitToUint8Arrays(lt,this.nonceLength),qt=nacl$1.box.open(At,_t,ht,this.keyPair.secretKey);if(!qt)throw new Error(`Decryption error: 
 message: ${lt.toString()} 
 sender pubkey: ${ht.toString()} 
 keypair pubkey: ${this.keyPair.publicKey.toString()} 
 keypair secretkey: ${this.keyPair.secretKey.toString()}`);return new TextDecoder().decode(qt)}stringifyKeypair(){return{publicKey:toHexString(this.keyPair.publicKey),secretKey:toHexString(this.keyPair.secretKey)}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(ut,lt){var ht={};for(var _t in ut)Object.prototype.hasOwnProperty.call(ut,_t)&&lt.indexOf(_t)<0&&(ht[_t]=ut[_t]);if(ut!=null&&typeof Object.getOwnPropertySymbols=="function")for(var At=0,_t=Object.getOwnPropertySymbols(ut);At<_t.length;At++)lt.indexOf(_t[At])<0&&Object.prototype.propertyIsEnumerable.call(ut,_t[At])&&(ht[_t[At]]=ut[_t[At]]);return ht}function __awaiter(ut,lt,ht,_t){function At(qt){return qt instanceof ht?qt:new ht(function(Zt){Zt(qt)})}return new(ht||(ht=Promise))(function(qt,Zt){function cr(xn){try{Zr(_t.next(xn))}catch(On){Zt(On)}}function Gr(xn){try{Zr(_t.throw(xn))}catch(On){Zt(On)}}function Zr(xn){xn.done?qt(xn.value):At(xn.value).then(cr,Gr)}Zr((_t=_t.apply(ut,lt||[])).next())})}class TonConnectError extends Error{constructor(lt,ht){super(lt,ht),this.message=`${TonConnectError.prefix} ${this.constructor.name}${this.info?": "+this.info:""}${lt?`
`+lt:""}`,Object.setPrototypeOf(this,TonConnectError.prototype)}get info(){return""}}TonConnectError.prefix="[TON_CONNECT_SDK_ERROR]";class DappMetadataError extends TonConnectError{get info(){return"Passed DappMetadata is in incorrect format."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,DappMetadataError.prototype)}}class ManifestContentErrorError extends TonConnectError{get info(){return"Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...lt){super(...lt),Object.setPrototypeOf(this,ManifestContentErrorError.prototype)}}class ManifestNotFoundError extends TonConnectError{get info(){return"Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest"}constructor(...lt){super(...lt),Object.setPrototypeOf(this,ManifestNotFoundError.prototype)}}class WalletAlreadyConnectedError extends TonConnectError{get info(){return"Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,WalletAlreadyConnectedError.prototype)}}class WalletNotConnectedError extends TonConnectError{get info(){return"Send transaction or other protocol methods called while wallet is not connected."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,WalletNotConnectedError.prototype)}}class WalletNotInjectedError extends TonConnectError{get info(){return"There is an attempt to connect to the injected wallet while it is not exists in the webpage."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,WalletNotInjectedError.prototype)}}class WalletNotSupportFeatureError extends TonConnectError{get info(){return"Wallet doesn't support requested feature method."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,WalletNotSupportFeatureError.prototype)}}class WalletMissingRequiredFeaturesError extends TonConnectError{get info(){return"Missing required features. You need to update your wallet."}constructor(lt,ht){super(lt,ht),Object.setPrototypeOf(this,WalletMissingRequiredFeaturesError.prototype)}}function isWalletConnectionSourceJS(ut){return"jsBridgeKey"in ut}class UserRejectsError extends TonConnectError{get info(){return"User rejects the action in the wallet."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,UserRejectsError.prototype)}}class BadRequestError extends TonConnectError{get info(){return"Request to the wallet contains errors."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,BadRequestError.prototype)}}class UnknownAppError extends TonConnectError{get info(){return"App tries to send rpc request to the injected wallet while not connected."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,UnknownAppError.prototype)}}class FetchWalletsError extends TonConnectError{get info(){return"An error occurred while fetching the wallets list."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,FetchWalletsError.prototype)}}class WrongAddressError extends TonConnectError{get info(){return"Passed address is in incorrect format."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,WrongAddressError.prototype)}}class ParseHexError extends TonConnectError{get info(){return"Passed hex is in incorrect format."}constructor(...lt){super(...lt),Object.setPrototypeOf(this,ParseHexError.prototype)}}class UnknownError extends TonConnectError{constructor(...lt){super(...lt),Object.setPrototypeOf(this,UnknownError.prototype)}}const connectEventErrorsCodes={[CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[CONNECT_EVENT_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_NOT_FOUND_ERROR]:ManifestNotFoundError,[CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR]:ManifestContentErrorError};class ConnectErrorsParser{parseError(lt){let ht=UnknownError;return lt.code in connectEventErrorsCodes&&(ht=connectEventErrorsCodes[lt.code]||UnknownError),new ht(lt.message)}}const connectErrorsParser=new ConnectErrorsParser;class RpcParser{isError(lt){return"error"in lt}}const sendTransactionErrors={[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR]:UnknownError,[SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR]:UserRejectsError,[SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR]:BadRequestError,[SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR]:UnknownAppError};class SendTransactionParser extends RpcParser{convertToRpcRequest(lt){return{method:"sendTransaction",params:[JSON.stringify(lt)]}}parseAndThrowError(lt){let ht=UnknownError;throw lt.error.code in sendTransactionErrors&&(ht=sendTransactionErrors[lt.error.code]||UnknownError),new ht(lt.error.message)}convertFromRpcResponse(lt){return{boc:lt.result}}}const sendTransactionParser=new SendTransactionParser;class HttpBridgeGatewayStorage{constructor(lt,ht){this.storage=lt,this.storeKey="ton-connect-storage_http-bridge-gateway::"+ht}storeLastEventId(lt){return __awaiter(this,void 0,void 0,function*(){return this.storage.setItem(this.storeKey,lt)})}removeLastEventId(){return __awaiter(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getLastEventId(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.storage.getItem(this.storeKey);return lt||null})}}function removeUrlLastSlash(ut){return ut.slice(-1)==="/"?ut.slice(0,-1):ut}function addPathToUrl(ut,lt){return removeUrlLastSlash(ut)+"/"+lt}function isTelegramUrl(ut){if(!ut)return!1;const lt=new URL(ut);return lt.protocol==="tg:"||lt.hostname==="t.me"}function encodeTelegramUrlParameters(ut){return ut.replaceAll(".","%2E").replaceAll("-","%2D").replaceAll("_","%5F").replaceAll("&","-").replaceAll("=","__").replaceAll("%","--")}function delay(ut,lt){return __awaiter(this,void 0,void 0,function*(){return new Promise((ht,_t)=>{var At,qt;if(!((At=lt==null?void 0:lt.signal)===null||At===void 0)&&At.aborted){_t(new TonConnectError("Delay aborted"));return}const Zt=setTimeout(()=>ht(),ut);(qt=lt==null?void 0:lt.signal)===null||qt===void 0||qt.addEventListener("abort",()=>{clearTimeout(Zt),_t(new TonConnectError("Delay aborted"))})})})}function createAbortController(ut){const lt=new AbortController;return ut!=null&&ut.aborted?lt.abort():ut==null||ut.addEventListener("abort",()=>lt.abort(),{once:!0}),lt}function callForSuccess(ut,lt){var ht,_t;return __awaiter(this,void 0,void 0,function*(){const At=(ht=lt==null?void 0:lt.attempts)!==null&&ht!==void 0?ht:10,qt=(_t=lt==null?void 0:lt.delayMs)!==null&&_t!==void 0?_t:200,Zt=createAbortController(lt==null?void 0:lt.signal);if(typeof ut!="function")throw new TonConnectError(`Expected a function, got ${typeof ut}`);let cr=0,Gr;for(;cr<At;){if(Zt.signal.aborted)throw new TonConnectError(`Aborted after attempts ${cr}`);try{return yield ut({signal:Zt.signal})}catch(Zr){Gr=Zr,cr++,cr<At&&(yield delay(qt))}}throw Gr})}function logDebug$1(...ut){try{console.debug("[TON_CONNECT_SDK]",...ut)}catch{}}function logError$1(...ut){try{console.error("[TON_CONNECT_SDK]",...ut)}catch{}}function logWarning$1(...ut){try{console.warn("[TON_CONNECT_SDK]",...ut)}catch{}}function createResource$1(ut,lt){let ht=null,_t=null,At=null,qt=null,Zt=null;const cr=(On,...ss)=>__awaiter(this,void 0,void 0,function*(){if(qt=On??null,Zt==null||Zt.abort(),Zt=createAbortController(On),Zt.signal.aborted)throw new TonConnectError("Resource creation was aborted");_t=ss??null;const ls=ut(Zt.signal,...ss);At=ls;const cs=yield ls;if(At!==ls&&cs!==ht)throw yield lt(cs),new TonConnectError("Resource creation was aborted by a new resource creation");return ht=cs,ht});return{create:cr,current:()=>ht??null,dispose:()=>__awaiter(this,void 0,void 0,function*(){try{const On=ht;ht=null;const ss=At;At=null;try{Zt==null||Zt.abort()}catch{}yield Promise.allSettled([On?lt(On):Promise.resolve(),ss?lt(yield ss):Promise.resolve()])}catch{}}),recreate:On=>__awaiter(this,void 0,void 0,function*(){const ss=ht,ls=At,cs=_t,wl=qt;if(yield delay(On),ss===ht&&ls===At&&cs===_t&&wl===qt)return yield cr(qt,...cs??[]);throw new TonConnectError("Resource recreation was aborted by a new resource creation")})}}function timeout(ut,lt){const ht=lt==null?void 0:lt.timeout,_t=lt==null?void 0:lt.signal,At=createAbortController(_t);return new Promise((qt,Zt)=>__awaiter(this,void 0,void 0,function*(){if(At.signal.aborted){Zt(new TonConnectError("Operation aborted"));return}let cr;typeof ht<"u"&&(cr=setTimeout(()=>{At.abort(),Zt(new TonConnectError(`Timeout after ${ht}ms`))},ht)),At.signal.addEventListener("abort",()=>{clearTimeout(cr),Zt(new TonConnectError("Operation aborted"))},{once:!0});const Gr={timeout:ht,abort:At.signal};yield ut((...Zr)=>{clearTimeout(cr),qt(...Zr)},()=>{clearTimeout(cr),Zt()},Gr)}))}class BridgeGateway{constructor(lt,ht,_t,At,qt){this.bridgeUrl=ht,this.sessionId=_t,this.listener=At,this.errorsListener=qt,this.ssePath="events",this.postPath="message",this.heartbeatMessage="heartbeat",this.defaultTtl=300,this.defaultReconnectDelay=2e3,this.defaultResendDelay=5e3,this.eventSource=createResource$1((Zt,cr)=>__awaiter(this,void 0,void 0,function*(){const Gr={bridgeUrl:this.bridgeUrl,ssePath:this.ssePath,sessionId:this.sessionId,bridgeGatewayStorage:this.bridgeGatewayStorage,errorHandler:this.errorsHandler.bind(this),messageHandler:this.messagesHandler.bind(this),signal:Zt,openingDeadlineMS:cr};return yield createEventSource(Gr)}),Zt=>__awaiter(this,void 0,void 0,function*(){Zt.close()})),this.bridgeGatewayStorage=new HttpBridgeGatewayStorage(lt,ht)}get isReady(){const lt=this.eventSource.current();return(lt==null?void 0:lt.readyState)===EventSource.OPEN}get isClosed(){const lt=this.eventSource.current();return(lt==null?void 0:lt.readyState)!==EventSource.OPEN}get isConnecting(){const lt=this.eventSource.current();return(lt==null?void 0:lt.readyState)===EventSource.CONNECTING}registerSession(lt){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.create(lt==null?void 0:lt.signal,lt==null?void 0:lt.openingDeadlineMS)})}send(lt,ht,_t,At){var qt;return __awaiter(this,void 0,void 0,function*(){const Zt={};typeof At=="number"?Zt.ttl=At:(Zt.ttl=At==null?void 0:At.ttl,Zt.signal=At==null?void 0:At.signal,Zt.attempts=At==null?void 0:At.attempts);const cr=new URL(addPathToUrl(this.bridgeUrl,this.postPath));cr.searchParams.append("client_id",this.sessionId),cr.searchParams.append("to",ht),cr.searchParams.append("ttl",((Zt==null?void 0:Zt.ttl)||this.defaultTtl).toString()),cr.searchParams.append("topic",_t);const Gr=Base64.encode(lt);yield callForSuccess(Zr=>__awaiter(this,void 0,void 0,function*(){const xn=yield this.post(cr,Gr,Zr.signal);if(!xn.ok)throw new TonConnectError(`Bridge send failed, status ${xn.status}`)}),{attempts:(qt=Zt==null?void 0:Zt.attempts)!==null&&qt!==void 0?qt:Number.MAX_SAFE_INTEGER,delayMs:this.defaultResendDelay,signal:Zt==null?void 0:Zt.signal})})}pause(){this.eventSource.dispose().catch(lt=>logError$1(`Bridge pause failed, ${lt}`))}unPause(){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.recreate(0)})}close(){return __awaiter(this,void 0,void 0,function*(){yield this.eventSource.dispose().catch(lt=>logError$1(`Bridge close failed, ${lt}`))})}setListener(lt){this.listener=lt}setErrorsListener(lt){this.errorsListener=lt}post(lt,ht,_t){return __awaiter(this,void 0,void 0,function*(){const At=yield fetch(lt,{method:"post",body:ht,signal:_t});if(!At.ok)throw new TonConnectError(`Bridge send failed, status ${At.status}`);return At})}errorsHandler(lt,ht){return __awaiter(this,void 0,void 0,function*(){if(this.isConnecting)throw lt.close(),new TonConnectError("Bridge error, failed to connect");if(this.isReady){try{this.errorsListener(ht)}catch{}return}if(this.isClosed)return lt.close(),logDebug$1(`Bridge reconnecting, ${this.defaultReconnectDelay}ms delay`),yield this.eventSource.recreate(this.defaultReconnectDelay);throw new TonConnectError("Bridge error, unknown state")})}messagesHandler(lt){return __awaiter(this,void 0,void 0,function*(){if(lt.data===this.heartbeatMessage||(yield this.bridgeGatewayStorage.storeLastEventId(lt.lastEventId),this.isClosed))return;let ht;try{ht=JSON.parse(lt.data)}catch(_t){throw new TonConnectError(`Bridge message parse failed, message ${_t.data}`)}this.listener(ht)})}}function createEventSource(ut){return __awaiter(this,void 0,void 0,function*(){return yield timeout((lt,ht,_t)=>__awaiter(this,void 0,void 0,function*(){var At;const Zt=createAbortController(_t.signal).signal;if(Zt.aborted){ht(new TonConnectError("Bridge connection aborted"));return}const cr=new URL(addPathToUrl(ut.bridgeUrl,ut.ssePath));cr.searchParams.append("client_id",ut.sessionId);const Gr=yield ut.bridgeGatewayStorage.getLastEventId();if(Gr&&cr.searchParams.append("last_event_id",Gr),Zt.aborted){ht(new TonConnectError("Bridge connection aborted"));return}const Zr=new EventSource(cr.toString());Zr.onerror=xn=>__awaiter(this,void 0,void 0,function*(){if(Zt.aborted){Zr.close(),ht(new TonConnectError("Bridge connection aborted"));return}try{const On=yield ut.errorHandler(Zr,xn);On!==Zr&&Zr.close(),On&&On!==Zr&&lt(On)}catch(On){Zr.close(),ht(On)}}),Zr.onopen=()=>{if(Zt.aborted){Zr.close(),ht(new TonConnectError("Bridge connection aborted"));return}lt(Zr)},Zr.onmessage=xn=>{if(Zt.aborted){Zr.close(),ht(new TonConnectError("Bridge connection aborted"));return}ut.messageHandler(xn)},(At=ut.signal)===null||At===void 0||At.addEventListener("abort",()=>{Zr.close(),ht(new TonConnectError("Bridge connection aborted"))})}),{timeout:ut.openingDeadlineMS,signal:ut.signal})})}function isPendingConnectionHttp(ut){return!("connectEvent"in ut)}class BridgeConnectionStorage{constructor(lt){this.storage=lt,this.storeKey="ton-connect-storage_bridge-connection"}storeConnection(lt){return __awaiter(this,void 0,void 0,function*(){if(lt.type==="injected")return this.storage.setItem(this.storeKey,JSON.stringify(lt));if(!isPendingConnectionHttp(lt)){const _t={sessionKeyPair:lt.session.sessionCrypto.stringifyKeypair(),walletPublicKey:lt.session.walletPublicKey,bridgeUrl:lt.session.bridgeUrl},At={type:"http",connectEvent:lt.connectEvent,session:_t,lastWalletEventId:lt.lastWalletEventId,nextRpcRequestId:lt.nextRpcRequestId};return this.storage.setItem(this.storeKey,JSON.stringify(At))}const ht={type:"http",connectionSource:lt.connectionSource,sessionCrypto:lt.sessionCrypto.stringifyKeypair()};return this.storage.setItem(this.storeKey,JSON.stringify(ht))})}removeConnection(){return __awaiter(this,void 0,void 0,function*(){return this.storage.removeItem(this.storeKey)})}getConnection(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.storage.getItem(this.storeKey);if(!lt)return null;const ht=JSON.parse(lt);if(ht.type==="injected")return ht;if("connectEvent"in ht){const _t=new SessionCrypto(ht.session.sessionKeyPair);return{type:"http",connectEvent:ht.connectEvent,lastWalletEventId:ht.lastWalletEventId,nextRpcRequestId:ht.nextRpcRequestId,session:{sessionCrypto:_t,bridgeUrl:ht.session.bridgeUrl,walletPublicKey:ht.session.walletPublicKey}}}return{type:"http",sessionCrypto:new SessionCrypto(ht.sessionCrypto),connectionSource:ht.connectionSource}})}getHttpConnection(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();if(!lt)throw new TonConnectError("Trying to read HTTP connection source while nothing is stored");if(lt.type==="injected")throw new TonConnectError("Trying to read HTTP connection source while injected connection is stored");return lt})}getHttpPendingConnection(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();if(!lt)throw new TonConnectError("Trying to read HTTP connection source while nothing is stored");if(lt.type==="injected")throw new TonConnectError("Trying to read HTTP connection source while injected connection is stored");if(!isPendingConnectionHttp(lt))throw new TonConnectError("Trying to read HTTP-pending connection while http connection is stored");return lt})}getInjectedConnection(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();if(!lt)throw new TonConnectError("Trying to read Injected bridge connection source while nothing is stored");if((lt==null?void 0:lt.type)==="http")throw new TonConnectError("Trying to read Injected bridge connection source while HTTP connection is stored");return lt})}storedConnectionType(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.storage.getItem(this.storeKey);return lt?JSON.parse(lt).type:null})}storeLastWalletEventId(lt){return __awaiter(this,void 0,void 0,function*(){const ht=yield this.getConnection();if(ht&&ht.type==="http"&&!isPendingConnectionHttp(ht))return ht.lastWalletEventId=lt,this.storeConnection(ht)})}getLastWalletEventId(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();if(lt&&"lastWalletEventId"in lt)return lt.lastWalletEventId})}increaseNextRpcRequestId(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();if(lt&&"nextRpcRequestId"in lt){const ht=lt.nextRpcRequestId||0;return lt.nextRpcRequestId=ht+1,this.storeConnection(lt)}})}getNextRpcRequestId(){return __awaiter(this,void 0,void 0,function*(){const lt=yield this.getConnection();return lt&&"nextRpcRequestId"in lt&&lt.nextRpcRequestId||0})}}const PROTOCOL_VERSION=2;class BridgeProvider{constructor(lt,ht){this.storage=lt,this.walletConnectionSource=ht,this.type="http",this.standardUniversalLink="tc://",this.pendingRequests=new Map,this.session=null,this.gateway=null,this.pendingGateways=[],this.listeners=[],this.defaultOpeningDeadlineMS=12e3,this.defaultRetryTimeoutMS=2e3,this.connectionStorage=new BridgeConnectionStorage(lt)}static fromStorage(lt){return __awaiter(this,void 0,void 0,function*(){const _t=yield new BridgeConnectionStorage(lt).getHttpConnection();return isPendingConnectionHttp(_t)?new BridgeProvider(lt,_t.connectionSource):new BridgeProvider(lt,{bridgeUrl:_t.session.bridgeUrl})})}connect(lt,ht){var _t;const At=createAbortController(ht==null?void 0:ht.signal);(_t=this.abortController)===null||_t===void 0||_t.abort(),this.abortController=At,this.closeGateways();const qt=new SessionCrypto;this.session={sessionCrypto:qt,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},this.connectionStorage.storeConnection({type:"http",connectionSource:this.walletConnectionSource,sessionCrypto:qt}).then(()=>__awaiter(this,void 0,void 0,function*(){At.signal.aborted||(yield callForSuccess(cr=>{var Gr;return this.openGateways(qt,{openingDeadlineMS:(Gr=ht==null?void 0:ht.openingDeadlineMS)!==null&&Gr!==void 0?Gr:this.defaultOpeningDeadlineMS,signal:cr==null?void 0:cr.signal})},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:At.signal}))}));const Zt="universalLink"in this.walletConnectionSource&&this.walletConnectionSource.universalLink?this.walletConnectionSource.universalLink:this.standardUniversalLink;return this.generateUniversalLink(Zt,lt)}restoreConnection(lt){var ht,_t;return __awaiter(this,void 0,void 0,function*(){const At=createAbortController(lt==null?void 0:lt.signal);if((ht=this.abortController)===null||ht===void 0||ht.abort(),this.abortController=At,At.signal.aborted)return;this.closeGateways();const qt=yield this.connectionStorage.getHttpConnection();if(!qt||At.signal.aborted)return;const Zt=(_t=lt==null?void 0:lt.openingDeadlineMS)!==null&&_t!==void 0?_t:this.defaultOpeningDeadlineMS;if(isPendingConnectionHttp(qt))return this.session={sessionCrypto:qt.sessionCrypto,bridgeUrl:"bridgeUrl"in this.walletConnectionSource?this.walletConnectionSource.bridgeUrl:""},yield this.openGateways(qt.sessionCrypto,{openingDeadlineMS:Zt,signal:At==null?void 0:At.signal});if(Array.isArray(this.walletConnectionSource))throw new TonConnectError("Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.");if(this.session=qt.session,this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,qt.session.sessionCrypto.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),!At.signal.aborted){this.listeners.forEach(cr=>cr(qt.connectEvent));try{yield callForSuccess(cr=>this.gateway.registerSession({openingDeadlineMS:Zt,signal:cr.signal}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:At.signal})}catch{yield this.disconnect({signal:At.signal});return}}})}sendRequest(lt,ht){const _t={};return typeof ht=="function"?_t.onRequestSent=ht:(_t.onRequestSent=ht==null?void 0:ht.onRequestSent,_t.signal=ht==null?void 0:ht.signal,_t.attempts=ht==null?void 0:ht.attempts),new Promise((At,qt)=>__awaiter(this,void 0,void 0,function*(){var Zt;if(!this.gateway||!this.session||!("walletPublicKey"in this.session))throw new TonConnectError("Trying to send bridge request without session");const cr=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),logDebug$1("Send http-bridge request:",Object.assign(Object.assign({},lt),{id:cr}));const Gr=this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({},lt),{id:cr})),hexToByteArray(this.session.walletPublicKey));try{yield this.gateway.send(Gr,this.session.walletPublicKey,lt.method,{attempts:_t==null?void 0:_t.attempts,signal:_t==null?void 0:_t.signal}),(Zt=_t==null?void 0:_t.onRequestSent)===null||Zt===void 0||Zt.call(_t),this.pendingRequests.set(cr.toString(),At)}catch(Zr){qt(Zr)}}))}closeConnection(){this.closeGateways(),this.listeners=[],this.session=null,this.gateway=null}disconnect(lt){return __awaiter(this,void 0,void 0,function*(){return new Promise(ht=>__awaiter(this,void 0,void 0,function*(){let _t=!1,At=null;const qt=()=>{_t||(_t=!0,this.removeBridgeAndSession().then(ht))};try{this.closeGateways();const Zt=createAbortController(lt==null?void 0:lt.signal);At=setTimeout(()=>{Zt.abort()},this.defaultOpeningDeadlineMS),yield this.sendRequest({method:"disconnect",params:[]},{onRequestSent:qt,signal:Zt.signal,attempts:1})}catch(Zt){logDebug$1("Disconnect error:",Zt),_t||this.removeBridgeAndSession().then(ht)}finally{At&&clearTimeout(At),qt()}}))})}listen(lt){return this.listeners.push(lt),()=>this.listeners=this.listeners.filter(ht=>ht!==lt)}pause(){var lt;(lt=this.gateway)===null||lt===void 0||lt.pause(),this.pendingGateways.forEach(ht=>ht.pause())}unPause(){return __awaiter(this,void 0,void 0,function*(){const lt=this.pendingGateways.map(ht=>ht.unPause());this.gateway&&lt.push(this.gateway.unPause()),yield Promise.all(lt)})}pendingGatewaysListener(lt,ht,_t){return __awaiter(this,void 0,void 0,function*(){if(!this.pendingGateways.includes(lt)){yield lt.close();return}return this.closeGateways({except:lt}),this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.session.bridgeUrl=ht,this.gateway=lt,this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this)),this.gateway.setListener(this.gatewayListener.bind(this)),this.gatewayListener(_t)})}gatewayListener(lt){return __awaiter(this,void 0,void 0,function*(){const ht=JSON.parse(this.session.sessionCrypto.decrypt(Base64.decode(lt.message).toUint8Array(),hexToByteArray(lt.from)));if(logDebug$1("Wallet message received:",ht),!("event"in ht)){const At=ht.id.toString(),qt=this.pendingRequests.get(At);if(!qt){logDebug$1(`Response id ${At} doesn't match any request's id`);return}qt(ht),this.pendingRequests.delete(At);return}if(ht.id!==void 0){const At=yield this.connectionStorage.getLastWalletEventId();if(At!==void 0&&ht.id<=At){logError$1(`Received event id (=${ht.id}) must be greater than stored last wallet event id (=${At}) `);return}ht.event!=="connect"&&(yield this.connectionStorage.storeLastWalletEventId(ht.id))}const _t=this.listeners;ht.event==="connect"&&(yield this.updateSession(ht,lt.from)),ht.event==="disconnect"&&(logDebug$1("Removing bridge and session: received disconnect event"),yield this.removeBridgeAndSession()),_t.forEach(At=>At(ht))})}gatewayErrorsListener(lt){return __awaiter(this,void 0,void 0,function*(){throw new TonConnectError(`Bridge error ${JSON.stringify(lt)}`)})}updateSession(lt,ht){return __awaiter(this,void 0,void 0,function*(){this.session=Object.assign(Object.assign({},this.session),{walletPublicKey:ht});const _t=lt.payload.items.find(qt=>qt.name==="ton_addr"),At=Object.assign(Object.assign({},lt),{payload:Object.assign(Object.assign({},lt.payload),{items:[_t]})});yield this.connectionStorage.storeConnection({type:"http",session:this.session,lastWalletEventId:lt.id,connectEvent:At,nextRpcRequestId:0})})}removeBridgeAndSession(){return __awaiter(this,void 0,void 0,function*(){this.closeConnection(),yield this.connectionStorage.removeConnection()})}generateUniversalLink(lt,ht){return isTelegramUrl(lt)?this.generateTGUniversalLink(lt,ht):this.generateRegularUniversalLink(lt,ht)}generateRegularUniversalLink(lt,ht){const _t=new URL(lt);return _t.searchParams.append("v",PROTOCOL_VERSION.toString()),_t.searchParams.append("id",this.session.sessionCrypto.sessionId),_t.searchParams.append("r",JSON.stringify(ht)),_t.toString()}generateTGUniversalLink(lt,ht){const At=this.generateRegularUniversalLink("about:blank",ht).split("?")[1],qt="tonconnect-"+encodeTelegramUrlParameters(At),Zt=this.convertToDirectLink(lt),cr=new URL(Zt);return cr.searchParams.append("startapp",qt),cr.toString()}convertToDirectLink(lt){const ht=new URL(lt);return ht.searchParams.has("attach")&&(ht.searchParams.delete("attach"),ht.pathname+="/start"),ht.toString()}openGateways(lt,ht){return __awaiter(this,void 0,void 0,function*(){if(Array.isArray(this.walletConnectionSource)){this.pendingGateways.map(_t=>_t.close().catch()),this.pendingGateways=this.walletConnectionSource.map(_t=>{const At=new BridgeGateway(this.storage,_t.bridgeUrl,lt.sessionId,()=>{},()=>{});return At.setListener(qt=>this.pendingGatewaysListener(At,_t.bridgeUrl,qt)),At}),yield Promise.allSettled(this.pendingGateways.map(_t=>callForSuccess(At=>{var qt;return this.pendingGateways.some(Zt=>Zt===_t)?_t.registerSession({openingDeadlineMS:(qt=ht==null?void 0:ht.openingDeadlineMS)!==null&&qt!==void 0?qt:this.defaultOpeningDeadlineMS,signal:At.signal}):_t.close()},{attempts:Number.MAX_SAFE_INTEGER,delayMs:this.defaultRetryTimeoutMS,signal:ht==null?void 0:ht.signal})));return}else return this.gateway&&(logDebug$1("Gateway is already opened, closing previous gateway"),yield this.gateway.close()),this.gateway=new BridgeGateway(this.storage,this.walletConnectionSource.bridgeUrl,lt.sessionId,this.gatewayListener.bind(this),this.gatewayErrorsListener.bind(this)),yield this.gateway.registerSession({openingDeadlineMS:ht==null?void 0:ht.openingDeadlineMS,signal:ht==null?void 0:ht.signal})})}closeGateways(lt){var ht;(ht=this.gateway)===null||ht===void 0||ht.close(),this.pendingGateways.filter(_t=>_t!==(lt==null?void 0:lt.except)).forEach(_t=>_t.close()),this.pendingGateways=[]}}function hasProperty(ut,lt){return hasProperties(ut,[lt])}function hasProperties(ut,lt){return!ut||typeof ut!="object"?!1:lt.every(ht=>ht in ut)}function isJSBridgeWithMetadata(ut){try{return!hasProperty(ut,"tonconnect")||!hasProperty(ut.tonconnect,"walletInfo")?!1:hasProperties(ut.tonconnect.walletInfo,["name","app_name","image","about_url","platforms"])}catch{return!1}}let InMemoryStorage$1=class TT{constructor(){this.storage={}}static getInstance(){return TT.instance||(TT.instance=new TT),TT.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(lt){var ht;return(ht=this.storage[lt])!==null&&ht!==void 0?ht:null}key(lt){var ht;const _t=Object.keys(this.storage);return lt<0||lt>=_t.length?null:(ht=_t[lt])!==null&&ht!==void 0?ht:null}removeItem(lt){delete this.storage[lt]}setItem(lt,ht){this.storage[lt]=ht}};function getWindow$2(){if(!(typeof window>"u"))return window}function tryGetWindowKeys(){const ut=getWindow$2();if(!ut)return[];try{return Object.keys(ut)}catch{return[]}}function getDocument(){if(!(typeof document>"u"))return document}function getWebPageManifest(){var ut;const lt=(ut=getWindow$2())===null||ut===void 0?void 0:ut.location.origin;return lt?lt+"/tonconnect-manifest.json":""}function tryGetLocalStorage$1(){if(isLocalStorageAvailable$1())return localStorage;if(isNodeJs$1())throw new TonConnectError("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return InMemoryStorage$1.getInstance()}function isLocalStorageAvailable$1(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs$1(){return typeof api$2<"u"&&api$2.versions!=null&&api$2.versions.node!=null}class InjectedProvider{constructor(lt,ht){this.injectedWalletKey=ht,this.type="injected",this.unsubscribeCallback=null,this.listenSubscriptions=!1,this.listeners=[];const _t=InjectedProvider.window;if(!InjectedProvider.isWindowContainsWallet(_t,ht))throw new WalletNotInjectedError;this.connectionStorage=new BridgeConnectionStorage(lt),this.injectedWallet=_t[ht].tonconnect}static fromStorage(lt){return __awaiter(this,void 0,void 0,function*(){const _t=yield new BridgeConnectionStorage(lt).getInjectedConnection();return new InjectedProvider(lt,_t.jsBridgeKey)})}static isWalletInjected(lt){return InjectedProvider.isWindowContainsWallet(this.window,lt)}static isInsideWalletBrowser(lt){return InjectedProvider.isWindowContainsWallet(this.window,lt)?this.window[lt].tonconnect.isWalletBrowser:!1}static getCurrentlyInjectedWallets(){return this.window?tryGetWindowKeys().filter(([_t,At])=>isJSBridgeWithMetadata(At)).map(([_t,At])=>({name:At.tonconnect.walletInfo.name,appName:At.tonconnect.walletInfo.app_name,aboutUrl:At.tonconnect.walletInfo.about_url,imageUrl:At.tonconnect.walletInfo.image,tondns:At.tonconnect.walletInfo.tondns,jsBridgeKey:_t,injected:!0,embedded:At.tonconnect.isWalletBrowser,platforms:At.tonconnect.walletInfo.platforms,features:At.tonconnect.walletInfo.features})):[]}static isWindowContainsWallet(lt,ht){return!!lt&&ht in lt&&typeof lt[ht]=="object"&&"tonconnect"in lt[ht]}connect(lt){this._connect(PROTOCOL_VERSION,lt)}restoreConnection(){return __awaiter(this,void 0,void 0,function*(){try{logDebug$1("Injected Provider restoring connection...");const lt=yield this.injectedWallet.restoreConnection();logDebug$1("Injected Provider restoring connection response",lt),lt.event==="connect"?(this.makeSubscriptions(),this.listeners.forEach(ht=>ht(lt))):yield this.connectionStorage.removeConnection()}catch(lt){yield this.connectionStorage.removeConnection(),console.error(lt)}})}closeConnection(){this.listenSubscriptions&&this.injectedWallet.disconnect(),this.closeAllListeners()}disconnect(){return __awaiter(this,void 0,void 0,function*(){return new Promise(lt=>{const ht=()=>{this.closeAllListeners(),this.connectionStorage.removeConnection().then(lt)};try{this.injectedWallet.disconnect(),ht()}catch(_t){logDebug$1(_t),this.sendRequest({method:"disconnect",params:[]},ht)}})})}closeAllListeners(){var lt;this.listenSubscriptions=!1,this.listeners=[],(lt=this.unsubscribeCallback)===null||lt===void 0||lt.call(this)}listen(lt){return this.listeners.push(lt),()=>this.listeners=this.listeners.filter(ht=>ht!==lt)}sendRequest(lt,ht){var _t;return __awaiter(this,void 0,void 0,function*(){const At={};typeof ht=="function"?At.onRequestSent=ht:(At.onRequestSent=ht==null?void 0:ht.onRequestSent,At.signal=ht==null?void 0:ht.signal);const qt=(yield this.connectionStorage.getNextRpcRequestId()).toString();yield this.connectionStorage.increaseNextRpcRequestId(),logDebug$1("Send injected-bridge request:",Object.assign(Object.assign({},lt),{id:qt}));const Zt=this.injectedWallet.send(Object.assign(Object.assign({},lt),{id:qt}));return Zt.then(cr=>logDebug$1("Wallet message received:",cr)),(_t=At==null?void 0:At.onRequestSent)===null||_t===void 0||_t.call(At),Zt})}_connect(lt,ht){return __awaiter(this,void 0,void 0,function*(){try{logDebug$1(`Injected Provider connect request: protocolVersion: ${lt}, message:`,ht);const _t=yield this.injectedWallet.connect(lt,ht);logDebug$1("Injected Provider connect response:",_t),_t.event==="connect"&&(yield this.updateSession(),this.makeSubscriptions()),this.listeners.forEach(At=>At(_t))}catch(_t){logDebug$1("Injected Provider connect error:",_t);const At={event:"connect_error",payload:{code:0,message:_t==null?void 0:_t.toString()}};this.listeners.forEach(qt=>qt(At))}})}makeSubscriptions(){this.listenSubscriptions=!0,this.unsubscribeCallback=this.injectedWallet.listen(lt=>{logDebug$1("Wallet message received:",lt),this.listenSubscriptions&&this.listeners.forEach(ht=>ht(lt)),lt.event==="disconnect"&&this.disconnect()})}updateSession(){return this.connectionStorage.storeConnection({type:"injected",jsBridgeKey:this.injectedWalletKey,nextRpcRequestId:0})}}InjectedProvider.window=getWindow$2();class DefaultStorage{constructor(){this.localStorage=tryGetLocalStorage$1()}getItem(lt){return __awaiter(this,void 0,void 0,function*(){return this.localStorage.getItem(lt)})}removeItem(lt){return __awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(lt)})}setItem(lt,ht){return __awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(lt,ht)})}}function isWalletInfoCurrentlyInjected(ut){return isWalletInfoInjectable(ut)&&ut.injected}function isWalletInfoCurrentlyEmbedded(ut){return isWalletInfoCurrentlyInjected(ut)&&ut.embedded}function isWalletInfoInjectable(ut){return"jsBridgeKey"in ut}function isWalletInfoRemote(ut){return"bridgeUrl"in ut}const FALLBACK_WALLETS_LIST=[{app_name:"telegram-wallet",name:"Wallet",image:"https://wallet.tg/images/logo-288.png",about_url:"https://wallet.tg/",universal_url:"https://t.me/wallet?attach=wallet",bridge:[{type:"sse",url:"https://walletbot.me/tonconnect-bridge/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"tonkeeper",name:"Tonkeeper",image:"https://tonkeeper.com/assets/tonconnect-icon.png",tondns:"tonkeeper.ton",about_url:"https://tonkeeper.com",universal_url:"https://app.tonkeeper.com/ton-connect",deepLink:"tonkeeper-tc://",bridge:[{type:"sse",url:"https://bridge.tonapi.io/bridge"},{type:"js",key:"tonkeeper"}],platforms:["ios","android","chrome","firefox","macos"]},{app_name:"mytonwallet",name:"MyTonWallet",image:"https://static.mytonwallet.io/icon-256.png",about_url:"https://mytonwallet.io",universal_url:"https://connect.mytonwallet.org",bridge:[{type:"js",key:"mytonwallet"},{type:"sse",url:"https://tonconnectbridge.mytonwallet.org/bridge/"}],platforms:["chrome","windows","macos","linux","ios","android","firefox"]},{app_name:"tonhub",name:"Tonhub",image:"https://tonhub.com/tonconnect_logo.png",about_url:"https://tonhub.com",universal_url:"https://tonhub.com/ton-connect",bridge:[{type:"js",key:"tonhub"},{type:"sse",url:"https://connect.tonhubapi.com/tonconnect"}],platforms:["ios","android"]},{app_name:"bitgetTonWallet",name:"Bitget Wallet",image:"https://raw.githubusercontent.com/bitgetwallet/download/refs/heads/main/logo/png/bitget_wallet_logo_288_mini.png",about_url:"https://web3.bitget.com",deepLink:"bitkeep://",bridge:[{type:"js",key:"bitgetTonWallet"},{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","chrome"],universal_url:"https://bkcode.vip/ton-connect"},{app_name:"okxMiniWallet",name:"OKX Mini Wallet",image:"https://static.okx.com/cdn/assets/imgs/2411/8BE1A4A434D8F58A.png",about_url:"https://www.okx.com/web3",universal_url:"https://t.me/OKX_WALLET_BOT?attach=wallet",bridge:[{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"binanceWeb3TonWallet",name:"Binance Web3 Wallet",image:"https://public.bnbstatic.com/static/binance-w3w/ton-provider/binancew3w.png",about_url:"https://www.binance.com/en/web3wallet",deepLink:"bnc://app.binance.com/cedefi/ton-connect",bridge:[{type:"js",key:"binancew3w"},{type:"sse",url:"https://wallet.binance.com/tonbridge/bridge"}],platforms:["ios","android","macos","windows","linux"],universal_url:"https://app.binance.com/cedefi/ton-connect"},{app_name:"fintopio-tg",name:"Fintopio",image:"https://fintopio.com/tonconnect-icon.png",about_url:"https://fintopio.com",universal_url:"https://t.me/fintopio?attach=wallet",bridge:[{type:"sse",url:"https://wallet-bridge.fintopio.com/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"okxTonWallet",name:"OKX Wallet",image:"https://static.okx.com/cdn/assets/imgs/247/58E63FEA47A2B7D7.png",about_url:"https://www.okx.com/web3",universal_url:"https://www.okx.com/download?appendQuery=true&deeplink=okx://web3/wallet/tonconnect",bridge:[{type:"js",key:"okxTonWallet"},{type:"sse",url:"https://www.okx.com/tonbridge/discover/rpc/bridge"}],platforms:["chrome","safari","firefox","ios","android"]},{app_name:"hot",name:"HOT",image:"https://raw.githubusercontent.com/hot-dao/media/main/logo.png",about_url:"https://hot-labs.org/",universal_url:"https://t.me/herewalletbot?attach=wallet",bridge:[{type:"sse",url:"https://sse-bridge.hot-labs.org"},{type:"js",key:"hotWallet"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"bybitTonWallet",name:"Bybit Wallet",image:"https://raw.githubusercontent.com/bybit-web3/bybit-web3.github.io/main/docs/images/bybit-logo.png",about_url:"https://www.bybit.com/web3",universal_url:"https://app.bybit.com/ton-connect",deepLink:"bybitapp://",bridge:[{type:"js",key:"bybitTonWallet"},{type:"sse",url:"https://api-node.bybit.com/spot/api/web3/bridge/ton/bridge"}],platforms:["ios","android","chrome"]},{app_name:"dewallet",name:"DeWallet",image:"https://raw.githubusercontent.com/delab-team/manifests-images/main/WalletAvatar.png",about_url:"https://delabwallet.com",universal_url:"https://t.me/dewallet?attach=wallet",bridge:[{type:"sse",url:"https://bridge.dewallet.pro/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"safepalwallet",name:"SafePal",image:"https://s.pvcliping.com/web/public_image/SafePal_x288.png",tondns:"",about_url:"https://www.safepal.com",universal_url:"https://link.safepal.io/ton-connect",deepLink:"safepal-tc://",bridge:[{type:"sse",url:"https://ton-bridge.safepal.com/tonbridge/v1/bridge"},{type:"js",key:"safepalwallet"}],platforms:["ios","android","chrome","firefox"]},{app_name:"GateWallet",name:"GateWallet",image:"https://img.gatedataimg.com/prd-ordinal-imgs/036f07bb8730716e/gateio-0925.png",about_url:"https://www.gate.io/",bridge:[{type:"js",key:"gatetonwallet"},{type:"sse",url:"https://dapp.gateio.services/tonbridge_api/bridge/v1"}],platforms:["ios","android"],universal_url:"https://gateio.go.link/gateio/web3?adj_t=1ff8khdw_1fu4ccc7"},{app_name:"openmask",name:"OpenMask",image:"https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png",about_url:"https://www.openmask.app/",bridge:[{type:"js",key:"openmask"}],platforms:["chrome"]},{app_name:"BitgetWeb3",name:"BitgetWeb3",image:"https://img.bitgetimg.com/image/third/1731638059795.png",about_url:"https://www.bitget.com",universal_url:"https://t.me/BitgetOfficialBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-connect-bridge.bgwapi.io/bridge"}],platforms:["ios","android","windows","macos","linux"]},{app_name:"tobi",name:"Tobi",image:"https://app.tobiwallet.app/icons/logo-288.png",about_url:"https://tobi.fun",universal_url:"https://t.me/TobiCopilotBot?attach=wallet",bridge:[{type:"sse",url:"https://ton-bridge.tobiwallet.app/bridge"}],platforms:["ios","android","macos","windows","linux"]},{app_name:"xtonwallet",name:"XTONWallet",image:"https://xtonwallet.com/assets/img/icon-256-back.png",about_url:"https://xtonwallet.com",bridge:[{type:"js",key:"xtonwallet"}],platforms:["chrome","firefox"]},{app_name:"tonwallet",name:"TON Wallet",image:"https://wallet.ton.org/assets/ui/qr-logo.png",about_url:"https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd",bridge:[{type:"js",key:"tonwallet"}],platforms:["chrome"]}];class WalletsListManager{constructor(lt){var ht;this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null,this.walletsListSource=(ht=lt==null?void 0:lt.walletsListSource)!==null&&ht!==void 0?ht:"https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets-v2.json",this.cacheTTLMs=lt==null?void 0:lt.cacheTTLMs}getWallets(){return __awaiter(this,void 0,void 0,function*(){return this.cacheTTLMs&&this.walletsListCacheCreationTimestamp&&Date.now()>this.walletsListCacheCreationTimestamp+this.cacheTTLMs&&(this.walletsListCache=null),this.walletsListCache||(this.walletsListCache=this.fetchWalletsList(),this.walletsListCache.then(()=>{this.walletsListCacheCreationTimestamp=Date.now()}).catch(()=>{this.walletsListCache=null,this.walletsListCacheCreationTimestamp=null})),this.walletsListCache})}getEmbeddedWallet(){return __awaiter(this,void 0,void 0,function*(){const ht=(yield this.getWallets()).filter(isWalletInfoCurrentlyEmbedded);return ht.length===1?ht[0]:null})}fetchWalletsList(){return __awaiter(this,void 0,void 0,function*(){let lt=[];try{if(lt=yield(yield fetch(this.walletsListSource)).json(),!Array.isArray(lt))throw new FetchWalletsError("Wrong wallets list format, wallets list must be an array.");const At=lt.filter(qt=>!this.isCorrectWalletConfigDTO(qt));At.length&&(logError$1(`Wallet(s) ${At.map(qt=>(qt==null?void 0:qt.name)||"unknown").join(", ")} config format is wrong. They were removed from the wallets list.`),lt=lt.filter(qt=>this.isCorrectWalletConfigDTO(qt)))}catch(_t){logError$1(_t),lt=FALLBACK_WALLETS_LIST}let ht=[];try{ht=InjectedProvider.getCurrentlyInjectedWallets()}catch(_t){logError$1(_t)}return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(lt),ht)})}walletConfigDTOListToWalletConfigList(lt){return lt.map(ht=>{const _t={name:ht.name,appName:ht.app_name,imageUrl:ht.image,aboutUrl:ht.about_url,tondns:ht.tondns,platforms:ht.platforms,features:ht.features};return ht.bridge.forEach(At=>{if(At.type==="sse"&&(_t.bridgeUrl=At.url,_t.universalLink=ht.universal_url,_t.deepLink=ht.deepLink),At.type==="js"){const qt=At.key;_t.jsBridgeKey=qt,_t.injected=InjectedProvider.isWalletInjected(qt),_t.embedded=InjectedProvider.isInsideWalletBrowser(qt)}}),_t})}mergeWalletsLists(lt,ht){return[...new Set(lt.concat(ht).map(At=>At.name)).values()].map(At=>{const qt=lt.find(cr=>cr.name===At),Zt=ht.find(cr=>cr.name===At);return Object.assign(Object.assign({},qt&&Object.assign({},qt)),Zt&&Object.assign({},Zt))})}isCorrectWalletConfigDTO(lt){if(!lt||typeof lt!="object")return!1;const ht="name"in lt,_t="app_name"in lt,At="image"in lt,qt="about_url"in lt,Zt="platforms"in lt;if(!ht||!At||!qt||!Zt||!_t||!lt.platforms||!Array.isArray(lt.platforms)||!lt.platforms.length||!("bridge"in lt)||!Array.isArray(lt.bridge)||!lt.bridge.length)return!1;const cr=lt.bridge;if(cr.some(xn=>!xn||typeof xn!="object"||!("type"in xn)))return!1;const Gr=cr.find(xn=>xn.type==="sse");if(Gr&&(!(typeof Gr=="object"&&"url"in Gr)||!Gr.url||!lt.universal_url))return!1;const Zr=cr.find(xn=>xn.type==="js");return!(Zr&&(typeof Zr!="object"||!("key"in Zr)||!Zr.key))}}function checkSendTransactionSupport(ut,lt){const ht=ut.includes("SendTransaction"),_t=findFeature(ut,"SendTransaction");if(!ht&&!_t)throw new WalletNotSupportFeatureError("Wallet doesn't support SendTransaction feature.");if(lt.requireExtraCurrencies&&(!_t||!_t.extraCurrencySupported))throw new WalletNotSupportFeatureError("Wallet is not able to handle such SendTransaction request. Extra currencies support is required.");if(_t&&_t.maxMessages!==void 0){if(_t.maxMessages<lt.requiredMessagesNumber)throw new WalletNotSupportFeatureError(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${_t.maxMessages}, but ${lt.requiredMessagesNumber} is required.`);return}logWarning$1("Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.")}function checkRequiredWalletFeatures(ut,lt){if(typeof lt!="object")return!0;const{sendTransaction:ht}=lt;if(ht){const _t=findFeature(ut,"SendTransaction");if(!_t||!checkSendTransaction(_t,ht))return!1}return!0}function findFeature(ut,lt){return ut.find(ht=>ht&&typeof ht=="object"&&ht.name===lt)}function checkSendTransaction(ut,lt){const ht=lt.minMessages===void 0||lt.minMessages<=ut.maxMessages,_t=!lt.extraCurrencyRequired||ut.extraCurrencySupported;return!!(ht&&_t)}function createRequestVersionEvent(){return{type:"request-version"}}function createResponseVersionEvent(ut){return{type:"response-version",version:ut}}function createVersionInfo(ut){return{ton_connect_sdk_lib:ut.ton_connect_sdk_lib,ton_connect_ui_lib:ut.ton_connect_ui_lib}}function createConnectionInfo(ut,lt){var ht,_t,At,qt,Zt,cr,Gr,Zr;const On=((ht=lt==null?void 0:lt.connectItems)===null||ht===void 0?void 0:ht.tonProof)&&"proof"in lt.connectItems.tonProof?"ton_proof":"ton_addr";return{wallet_address:(At=(_t=lt==null?void 0:lt.account)===null||_t===void 0?void 0:_t.address)!==null&&At!==void 0?At:null,wallet_type:(qt=lt==null?void 0:lt.device.appName)!==null&&qt!==void 0?qt:null,wallet_version:(Zt=lt==null?void 0:lt.device.appVersion)!==null&&Zt!==void 0?Zt:null,auth_type:On,custom_data:Object.assign({chain_id:(Gr=(cr=lt==null?void 0:lt.account)===null||cr===void 0?void 0:cr.chain)!==null&&Gr!==void 0?Gr:null,provider:(Zr=lt==null?void 0:lt.provider)!==null&&Zr!==void 0?Zr:null},createVersionInfo(ut))}}function createConnectionStartedEvent(ut){return{type:"connection-started",custom_data:createVersionInfo(ut)}}function createConnectionCompletedEvent(ut,lt){return Object.assign({type:"connection-completed",is_success:!0},createConnectionInfo(ut,lt))}function createConnectionErrorEvent(ut,lt,ht){return{type:"connection-error",is_success:!1,error_message:lt,error_code:ht??null,custom_data:createVersionInfo(ut)}}function createConnectionRestoringStartedEvent(ut){return{type:"connection-restoring-started",custom_data:createVersionInfo(ut)}}function createConnectionRestoringCompletedEvent(ut,lt){return Object.assign({type:"connection-restoring-completed",is_success:!0},createConnectionInfo(ut,lt))}function createConnectionRestoringErrorEvent(ut,lt){return{type:"connection-restoring-error",is_success:!1,error_message:lt,custom_data:createVersionInfo(ut)}}function createTransactionInfo(ut,lt){var ht,_t,At,qt;return{valid_until:(ht=String(lt.validUntil))!==null&&ht!==void 0?ht:null,from:(qt=(_t=lt.from)!==null&&_t!==void 0?_t:(At=ut==null?void 0:ut.account)===null||At===void 0?void 0:At.address)!==null&&qt!==void 0?qt:null,messages:lt.messages.map(Zt=>{var cr,Gr;return{address:(cr=Zt.address)!==null&&cr!==void 0?cr:null,amount:(Gr=Zt.amount)!==null&&Gr!==void 0?Gr:null}})}}function createTransactionSentForSignatureEvent(ut,lt,ht){return Object.assign(Object.assign({type:"transaction-sent-for-signature"},createConnectionInfo(ut,lt)),createTransactionInfo(lt,ht))}function createTransactionSignedEvent(ut,lt,ht,_t){return Object.assign(Object.assign({type:"transaction-signed",is_success:!0,signed_transaction:_t.boc},createConnectionInfo(ut,lt)),createTransactionInfo(lt,ht))}function createTransactionSigningFailedEvent(ut,lt,ht,_t,At){return Object.assign(Object.assign({type:"transaction-signing-failed",is_success:!1,error_message:_t,error_code:At??null},createConnectionInfo(ut,lt)),createTransactionInfo(lt,ht))}function createDisconnectionEvent(ut,lt,ht){return Object.assign({type:"disconnection",scope:ht},createConnectionInfo(ut,lt))}class BrowserEventDispatcher{constructor(){this.window=getWindow$2()}dispatchEvent(lt,ht){var _t;return __awaiter(this,void 0,void 0,function*(){const At=new CustomEvent(lt,{detail:ht});(_t=this.window)===null||_t===void 0||_t.dispatchEvent(At)})}addEventListener(lt,ht,_t){var At;return __awaiter(this,void 0,void 0,function*(){return(At=this.window)===null||At===void 0||At.addEventListener(lt,ht,_t),()=>{var qt;return(qt=this.window)===null||qt===void 0?void 0:qt.removeEventListener(lt,ht)}})}}class TonConnectTracker{constructor(lt){var ht;this.eventPrefix="ton-connect-",this.tonConnectUiVersion=null,this.eventDispatcher=(ht=lt==null?void 0:lt.eventDispatcher)!==null&&ht!==void 0?ht:new BrowserEventDispatcher,this.tonConnectSdkVersion=lt.tonConnectSdkVersion,this.init().catch()}get version(){return createVersionInfo({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return __awaiter(this,void 0,void 0,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectUiVersion=yield this.requestTonConnectUiVersion()}catch{}})}setRequestVersionHandler(){return __awaiter(this,void 0,void 0,function*(){yield this.eventDispatcher.addEventListener("ton-connect-request-version",()=>__awaiter(this,void 0,void 0,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-response-version",createResponseVersionEvent(this.tonConnectSdkVersion))}))})}requestTonConnectUiVersion(){return __awaiter(this,void 0,void 0,function*(){return new Promise((lt,ht)=>__awaiter(this,void 0,void 0,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-ui-response-version",_t=>{lt(_t.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-ui-request-version",createRequestVersionEvent())}catch(_t){ht(_t)}}))})}dispatchUserActionEvent(lt){try{this.eventDispatcher.dispatchEvent(`${this.eventPrefix}${lt.type}`,lt).catch()}catch{}}trackConnectionStarted(...lt){try{const ht=createConnectionStartedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionCompleted(...lt){try{const ht=createConnectionCompletedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionError(...lt){try{const ht=createConnectionErrorEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringStarted(...lt){try{const ht=createConnectionRestoringStartedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringCompleted(...lt){try{const ht=createConnectionRestoringCompletedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringError(...lt){try{const ht=createConnectionRestoringErrorEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackDisconnection(...lt){try{const ht=createDisconnectionEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSentForSignature(...lt){try{const ht=createTransactionSentForSignatureEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSigned(...lt){try{const ht=createTransactionSignedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSigningFailed(...lt){try{const ht=createTransactionSigningFailedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}}const tonConnectSdkVersion="3.1.0";class TonConnect{constructor(lt){if(this.walletsList=new WalletsListManager,this._wallet=null,this.provider=null,this.statusChangeSubscriptions=[],this.statusChangeErrorSubscriptions=[],this.dappSettings={manifestUrl:(lt==null?void 0:lt.manifestUrl)||getWebPageManifest(),storage:(lt==null?void 0:lt.storage)||new DefaultStorage},this.walletsRequiredFeatures=lt==null?void 0:lt.walletsRequiredFeatures,this.walletsList=new WalletsListManager({walletsListSource:lt==null?void 0:lt.walletsListSource,cacheTTLMs:lt==null?void 0:lt.walletsListCacheTTLMs}),this.tracker=new TonConnectTracker({eventDispatcher:lt==null?void 0:lt.eventDispatcher,tonConnectSdkVersion}),!this.dappSettings.manifestUrl)throw new DappMetadataError("Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest");this.bridgeConnectionStorage=new BridgeConnectionStorage(this.dappSettings.storage),lt!=null&&lt.disableAutoPauseConnection||this.addWindowFocusAndBlurSubscriptions()}static getWallets(){return this.walletsList.getWallets()}get connected(){return this._wallet!==null}get account(){var lt;return((lt=this._wallet)===null||lt===void 0?void 0:lt.account)||null}get wallet(){return this._wallet}set wallet(lt){this._wallet=lt,this.statusChangeSubscriptions.forEach(ht=>ht(this._wallet))}getWallets(){return this.walletsList.getWallets()}onStatusChange(lt,ht){return this.statusChangeSubscriptions.push(lt),ht&&this.statusChangeErrorSubscriptions.push(ht),()=>{this.statusChangeSubscriptions=this.statusChangeSubscriptions.filter(_t=>_t!==lt),ht&&(this.statusChangeErrorSubscriptions=this.statusChangeErrorSubscriptions.filter(_t=>_t!==ht))}}connect(lt,ht){var _t,At;const qt={};if(typeof ht=="object"&&"tonProof"in ht&&(qt.request=ht),typeof ht=="object"&&("openingDeadlineMS"in ht||"signal"in ht||"request"in ht)&&(qt.request=ht==null?void 0:ht.request,qt.openingDeadlineMS=ht==null?void 0:ht.openingDeadlineMS,qt.signal=ht==null?void 0:ht.signal),this.connected)throw new WalletAlreadyConnectedError;const Zt=createAbortController(qt==null?void 0:qt.signal);if((_t=this.abortController)===null||_t===void 0||_t.abort(),this.abortController=Zt,Zt.signal.aborted)throw new TonConnectError("Connection was aborted");return(At=this.provider)===null||At===void 0||At.closeConnection(),this.provider=this.createProvider(lt),Zt.signal.addEventListener("abort",()=>{var cr;(cr=this.provider)===null||cr===void 0||cr.closeConnection(),this.provider=null}),this.tracker.trackConnectionStarted(),this.provider.connect(this.createConnectRequest(qt==null?void 0:qt.request),{openingDeadlineMS:qt==null?void 0:qt.openingDeadlineMS,signal:Zt.signal})}restoreConnection(lt){var ht,_t;return __awaiter(this,void 0,void 0,function*(){this.tracker.trackConnectionRestoringStarted();const At=createAbortController(lt==null?void 0:lt.signal);if((ht=this.abortController)===null||ht===void 0||ht.abort(),this.abortController=At,At.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}const[qt,Zt]=yield Promise.all([this.bridgeConnectionStorage.storedConnectionType(),this.walletsList.getEmbeddedWallet()]);if(At.signal.aborted){this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}let cr=null;try{switch(qt){case"http":cr=yield BridgeProvider.fromStorage(this.dappSettings.storage);break;case"injected":cr=yield InjectedProvider.fromStorage(this.dappSettings.storage);break;default:if(Zt)cr=this.createProvider(Zt);else return}}catch{this.tracker.trackConnectionRestoringError("Provider is not restored"),yield this.bridgeConnectionStorage.removeConnection(),cr==null||cr.closeConnection(),cr=null;return}if(At.signal.aborted){cr==null||cr.closeConnection(),this.tracker.trackConnectionRestoringError("Connection restoring was aborted");return}if(!cr){logError$1("Provider is not restored"),this.tracker.trackConnectionRestoringError("Provider is not restored");return}(_t=this.provider)===null||_t===void 0||_t.closeConnection(),this.provider=cr,cr.listen(this.walletEventsListener.bind(this));const Gr=()=>{this.tracker.trackConnectionRestoringError("Connection restoring was aborted"),cr==null||cr.closeConnection(),cr=null};At.signal.addEventListener("abort",Gr);const Zr=callForSuccess(On=>__awaiter(this,void 0,void 0,function*(){yield cr==null?void 0:cr.restoreConnection({openingDeadlineMS:lt==null?void 0:lt.openingDeadlineMS,signal:On.signal}),At.signal.removeEventListener("abort",Gr),this.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):this.tracker.trackConnectionRestoringError("Connection restoring failed")}),{attempts:Number.MAX_SAFE_INTEGER,delayMs:2e3,signal:lt==null?void 0:lt.signal}),xn=new Promise(On=>setTimeout(()=>On(),12e3));return Promise.race([Zr,xn])})}sendTransaction(lt,ht){return __awaiter(this,void 0,void 0,function*(){const _t={};typeof ht=="function"?_t.onRequestSent=ht:(_t.onRequestSent=ht==null?void 0:ht.onRequestSent,_t.signal=ht==null?void 0:ht.signal);const At=createAbortController(_t==null?void 0:_t.signal);if(At.signal.aborted)throw new TonConnectError("Transaction sending was aborted");this.checkConnection();const qt=lt.messages.length,Zt=lt.messages.some(cs=>cs.extraCurrency&&Object.keys(cs.extraCurrency).length>0);checkSendTransactionSupport(this.wallet.device.features,{requiredMessagesNumber:qt,requireExtraCurrencies:Zt}),this.tracker.trackTransactionSentForSignature(this.wallet,lt);const{validUntil:cr,messages:Gr}=lt,Zr=__rest(lt,["validUntil","messages"]),xn=lt.from||this.account.address,On=lt.network||this.account.chain,ss=yield this.provider.sendRequest(sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({},Zr),{from:xn,network:On,valid_until:cr,messages:Gr.map(cs=>{var{extraCurrency:wl}=cs,ep=__rest(cs,["extraCurrency"]);return Object.assign(Object.assign({},ep),{extra_currency:wl})})})),{onRequestSent:_t.onRequestSent,signal:At.signal});if(sendTransactionParser.isError(ss))return this.tracker.trackTransactionSigningFailed(this.wallet,lt,ss.error.message,ss.error.code),sendTransactionParser.parseAndThrowError(ss);const ls=sendTransactionParser.convertFromRpcResponse(ss);return this.tracker.trackTransactionSigned(this.wallet,lt,ls),ls})}disconnect(lt){var ht;return __awaiter(this,void 0,void 0,function*(){if(!this.connected)throw new WalletNotConnectedError;const _t=createAbortController(lt==null?void 0:lt.signal),At=this.abortController;if(this.abortController=_t,_t.signal.aborted)throw new TonConnectError("Disconnect was aborted");this.onWalletDisconnected("dapp"),yield(ht=this.provider)===null||ht===void 0?void 0:ht.disconnect({signal:_t.signal}),At==null||At.abort()})}pauseConnection(){var lt;((lt=this.provider)===null||lt===void 0?void 0:lt.type)==="http"&&this.provider.pause()}unPauseConnection(){var lt;return((lt=this.provider)===null||lt===void 0?void 0:lt.type)!=="http"?Promise.resolve():this.provider.unPause()}addWindowFocusAndBlurSubscriptions(){const lt=getDocument();if(lt)try{lt.addEventListener("visibilitychange",()=>{lt.hidden?this.pauseConnection():this.unPauseConnection().catch()})}catch(ht){logError$1("Cannot subscribe to the document.visibilitychange: ",ht)}}createProvider(lt){let ht;return!Array.isArray(lt)&&isWalletConnectionSourceJS(lt)?ht=new InjectedProvider(this.dappSettings.storage,lt.jsBridgeKey):ht=new BridgeProvider(this.dappSettings.storage,lt),ht.listen(this.walletEventsListener.bind(this)),ht}walletEventsListener(lt){switch(lt.event){case"connect":this.onWalletConnected(lt.payload);break;case"connect_error":this.tracker.trackConnectionError(lt.payload.message,lt.payload.code);const ht=connectErrorsParser.parseError(lt.payload);this.onWalletConnectError(ht);break;case"disconnect":this.onWalletDisconnected("wallet")}}onWalletConnected(lt){var ht;const _t=lt.items.find(cr=>cr.name==="ton_addr"),At=lt.items.find(cr=>cr.name==="ton_proof");if(!_t)throw new TonConnectError("ton_addr connection item was not found");if(!checkRequiredWalletFeatures(lt.device.features,this.walletsRequiredFeatures)){(ht=this.provider)===null||ht===void 0||ht.disconnect(),this.onWalletConnectError(new WalletMissingRequiredFeaturesError("Wallet does not support required features",{cause:{connectEvent:lt}}));return}const Zt={device:lt.device,provider:this.provider.type,account:{address:_t.address,chain:_t.network,walletStateInit:_t.walletStateInit,publicKey:_t.publicKey}};At&&(Zt.connectItems={tonProof:At}),this.wallet=Zt,this.tracker.trackConnectionCompleted(Zt)}onWalletConnectError(lt){if(this.statusChangeErrorSubscriptions.forEach(ht=>ht(lt)),logDebug$1(lt),lt instanceof ManifestNotFoundError||lt instanceof ManifestContentErrorError)throw logError$1(lt),lt}onWalletDisconnected(lt){this.tracker.trackDisconnection(this.wallet,lt),this.wallet=null}checkConnection(){if(!this.connected)throw new WalletNotConnectedError}createConnectRequest(lt){const ht=[{name:"ton_addr"}];return lt!=null&&lt.tonProof&&ht.push({name:"ton_proof",payload:lt.tonProof}),{manifestUrl:this.dappSettings.manifestUrl,items:ht}}}TonConnect.walletsList=new WalletsListManager;TonConnect.isWalletInjected=ut=>InjectedProvider.isWalletInjected(ut);TonConnect.isInsideWalletBrowser=ut=>InjectedProvider.isInsideWalletBrowser(ut);const noBounceableTag=81,testOnlyTag=128;function toUserFriendlyAddress(ut,lt=!1){const{wc:ht,hex:_t}=parseHexAddress(ut);let At=noBounceableTag;lt&&(At|=testOnlyTag);const qt=new Int8Array(34);qt[0]=At,qt[1]=ht,qt.set(_t,2);const Zt=new Uint8Array(36);return Zt.set(qt),Zt.set(crc16(qt),34),Base64.encode(Zt).replace(/\+/g,"-").replace(/\//g,"_")}function parseHexAddress(ut){if(!ut.includes(":"))throw new WrongAddressError(`Wrong address ${ut}. Address must include ":".`);const lt=ut.split(":");if(lt.length!==2)throw new WrongAddressError(`Wrong address ${ut}. Address must include ":" only once.`);const ht=parseInt(lt[0]);if(ht!==0&&ht!==-1)throw new WrongAddressError(`Wrong address ${ut}. WC must be eq 0 or -1, but ${ht} received.`);const _t=lt[1];if((_t==null?void 0:_t.length)!==64)throw new WrongAddressError(`Wrong address ${ut}. Hex part must be 64bytes length, but ${_t==null?void 0:_t.length} received.`);return{wc:ht,hex:hexToBytes(_t)}}function crc16(ut){let ht=0;const _t=new Uint8Array(ut.length+2);_t.set(ut);for(let At of _t){let qt=128;for(;qt>0;)ht<<=1,At&qt&&(ht+=1),qt>>=1,ht>65535&&(ht&=65535,ht^=4129)}return new Uint8Array([Math.floor(ht/256),ht%256])}const toByteMap={};for(let ut=0;ut<=255;ut++){let lt=ut.toString(16);lt.length<2&&(lt="0"+lt),toByteMap[lt]=ut}function hexToBytes(ut){ut=ut.toLowerCase();const lt=ut.length;if(lt%2!==0)throw new ParseHexError("Hex string must have length a multiple of 2: "+ut);const ht=lt/2,_t=new Uint8Array(ht);for(let At=0;At<ht;At++){const qt=At*2,Zt=ut.substring(qt,qt+2);if(!toByteMap.hasOwnProperty(Zt))throw new ParseHexError("Invalid hex character: "+Zt);_t[At]=toByteMap[Zt]}return _t}var uaParser={exports:{}};(function(ut,lt){(function(ht,_t){var At="1.0.40",qt="",Zt="?",cr="function",Gr="undefined",Zr="object",xn="string",On="major",ss="model",ls="name",cs="type",wl="vendor",ep="version",Al="architecture",np="console",cp="mobile",Cp="tablet",Lp="smarttv",jp="wearable",nm="embedded",zm=500,i1="Amazon",d3="Apple",op="ASUS",Sn="BlackBerry",Fo="Browser",as="Chrome",us="Edge",xl="Firefox",ip="Google",lp="Huawei",pu="LG",go="Microsoft",h0="Motorola",kp="Opera",cm="Samsung",b3="Sharp",L_="Sony",Ym="Xiaomi",Xm="Zebra",Jm="Facebook",$_="Chromium OS",j_="Mac OS",h3=" Browser",Fp=function(nM,Hm){var y3={};for(var Q_ in nM)Hm[Q_]&&Hm[Q_].length%2===0?y3[Q_]=Hm[Q_].concat(nM[Q_]):y3[Q_]=nM[Q_];return y3},W_=function(nM){for(var Hm={},y3=0;y3<nM.length;y3++)Hm[nM[y3].toUpperCase()]=nM[y3];return Hm},t4=function(nM,Hm){return typeof nM===xn?Nw(Hm).indexOf(Nw(nM))!==-1:!1},Nw=function(nM){return nM.toLowerCase()},Dp=function(nM){return typeof nM===xn?nM.replace(/[^\d\.]/g,qt).split(".")[0]:_t},a1=function(nM,Hm){if(typeof nM===xn)return nM=nM.replace(/^\s\s*/,qt),typeof Hm===Gr?nM:nM.substring(0,zm)},zp=function(nM,Hm){for(var y3=0,Q_,Uw,s4,rM,c4,tM;y3<Hm.length&&!c4;){var R5=Hm[y3],r4=Hm[y3+1];for(Q_=Uw=0;Q_<R5.length&&!c4&&R5[Q_];)if(c4=R5[Q_++].exec(nM),c4)for(s4=0;s4<r4.length;s4++)tM=c4[++Uw],rM=r4[s4],typeof rM===Zr&&rM.length>0?rM.length===2?typeof rM[1]==cr?this[rM[0]]=rM[1].call(this,tM):this[rM[0]]=rM[1]:rM.length===3?typeof rM[1]===cr&&!(rM[1].exec&&rM[1].test)?this[rM[0]]=tM?rM[1].call(this,tM,rM[2]):_t:this[rM[0]]=tM?tM.replace(rM[1],rM[2]):_t:rM.length===4&&(this[rM[0]]=tM?rM[3].call(this,tM.replace(rM[1],rM[2])):_t):this[rM]=tM||_t;y3+=2}},v3=function(nM,Hm){for(var y3 in Hm)if(typeof Hm[y3]===Zr&&Hm[y3].length>0){for(var Q_=0;Q_<Hm[y3].length;Q_++)if(t4(Hm[y3][Q_],nM))return y3===Zt?_t:y3}else if(t4(Hm[y3],nM))return y3===Zt?_t:y3;return Hm.hasOwnProperty("*")?Hm["*"]:nM},Mw={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},nw={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},n4={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ep,[ls,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ep,[ls,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ls,ep],[/opios[\/ ]+([\w\.]+)/i],[ep,[ls,kp+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[ep,[ls,kp+" GX"]],[/\bopr\/([\w\.]+)/i],[ep,[ls,kp]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[ep,[ls,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[ep,[ls,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[ls,ep],[/quark(?:pc)?\/([-\w\.]+)/i],[ep,[ls,"Quark"]],[/\bddg\/([\w\.]+)/i],[ep,[ls,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ep,[ls,"UC"+Fo]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[ep,[ls,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ep,[ls,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ep,[ls,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[ep,[ls,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[ep,[ls,"Smart Lenovo "+Fo]],[/(avast|avg)\/([\w\.]+)/i],[[ls,/(.+)/,"$1 Secure "+Fo],ep],[/\bfocus\/([\w\.]+)/i],[ep,[ls,xl+" Focus"]],[/\bopt\/([\w\.]+)/i],[ep,[ls,kp+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ep,[ls,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ep,[ls,"Dolphin"]],[/coast\/([\w\.]+)/i],[ep,[ls,kp+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[ep,[ls,"MIUI"+h3]],[/fxios\/([\w\.-]+)/i],[ep,[ls,xl]],[/\bqihoobrowser\/?([\w\.]*)/i],[ep,[ls,"360"]],[/\b(qq)\/([\w\.]+)/i],[[ls,/(.+)/,"$1Browser"],ep],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[ls,/(.+)/,"$1"+h3],ep],[/samsungbrowser\/([\w\.]+)/i],[ep,[ls,cm+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[ep,[ls,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[ls,"Sogou Mobile"],ep],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[ls,ep],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[ls],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[ep,ls],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ls,Jm],ep],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[ls,ep],[/\bgsa\/([\w\.]+) .*safari\//i],[ep,[ls,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[ep,[ls,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ep,[ls,as+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ls,as+" WebView"],ep],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ep,[ls,"Android "+Fo]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ls,ep],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ep,[ls,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ep,ls],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ls,[ep,v3,Mw]],[/(webkit|khtml)\/([\w\.]+)/i],[ls,ep],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ls,"Netscape"],ep],[/(wolvic|librewolf)\/([\w\.]+)/i],[ls,ep],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ep,[ls,xl+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ls,[ep,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[ls,[ep,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Al,"amd64"]],[/(ia32(?=;))/i],[[Al,Nw]],[/((?:i[346]|x)86)[;\)]/i],[[Al,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Al,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Al,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Al,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Al,/ower/,qt,Nw]],[/(sun4\w)[;\)]/i],[[Al,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Al,Nw]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ss,[wl,cm],[cs,Cp]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[ss,[wl,cm],[cs,cp]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[ss,[wl,d3],[cs,cp]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ss,[wl,d3],[cs,Cp]],[/(macintosh);/i],[ss,[wl,d3]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ss,[wl,b3],[cs,cp]],[/(?:honor)([-\w ]+)[;\)]/i],[ss,[wl,"Honor"],[cs,cp]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ss,[wl,lp],[cs,Cp]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[ss,[wl,lp],[cs,cp]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[ss,/_/g," "],[wl,Ym],[cs,cp]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ss,/_/g," "],[wl,Ym],[cs,Cp]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ss,[wl,"OPPO"],[cs,cp]],[/\b(opd2\d{3}a?) bui/i],[ss,[wl,"OPPO"],[cs,Cp]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ss,[wl,"Vivo"],[cs,cp]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[ss,[wl,"Realme"],[cs,cp]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ss,[wl,h0],[cs,cp]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ss,[wl,h0],[cs,Cp]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ss,[wl,pu],[cs,Cp]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ss,[wl,pu],[cs,cp]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ss,[wl,"Lenovo"],[cs,Cp]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ss,/_/g," "],[wl,"Nokia"],[cs,cp]],[/(pixel c)\b/i],[ss,[wl,ip],[cs,Cp]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ss,[wl,ip],[cs,cp]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ss,[wl,L_],[cs,cp]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ss,"Xperia Tablet"],[wl,L_],[cs,Cp]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ss,[wl,"OnePlus"],[cs,cp]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ss,[wl,i1],[cs,Cp]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ss,/(.+)/g,"Fire Phone $1"],[wl,i1],[cs,cp]],[/(playbook);[-\w\),; ]+(rim)/i],[ss,wl,[cs,Cp]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ss,[wl,Sn],[cs,cp]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ss,[wl,op],[cs,Cp]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ss,[wl,op],[cs,cp]],[/(nexus 9)/i],[ss,[wl,"HTC"],[cs,Cp]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[wl,[ss,/_/g," "],[cs,cp]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[ss,[wl,"TCL"],[cs,Cp]],[/(itel) ((\w+))/i],[[wl,Nw],ss,[cs,v3,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ss,[wl,"Acer"],[cs,Cp]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ss,[wl,"Meizu"],[cs,cp]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[ss,[wl,"Ulefone"],[cs,cp]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[ss,[wl,"Energizer"],[cs,cp]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[ss,[wl,"Cat"],[cs,cp]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[ss,[wl,"Smartfren"],[cs,cp]],[/droid.+; (a(?:015|06[35]|142p?))/i],[ss,[wl,"Nothing"],[cs,cp]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[wl,ss,[cs,cp]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[wl,ss,[cs,Cp]],[/(surface duo)/i],[ss,[wl,go],[cs,Cp]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ss,[wl,"Fairphone"],[cs,cp]],[/(u304aa)/i],[ss,[wl,"AT&T"],[cs,cp]],[/\bsie-(\w*)/i],[ss,[wl,"Siemens"],[cs,cp]],[/\b(rct\w+) b/i],[ss,[wl,"RCA"],[cs,Cp]],[/\b(venue[\d ]{2,7}) b/i],[ss,[wl,"Dell"],[cs,Cp]],[/\b(q(?:mv|ta)\w+) b/i],[ss,[wl,"Verizon"],[cs,Cp]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ss,[wl,"Barnes & Noble"],[cs,Cp]],[/\b(tm\d{3}\w+) b/i],[ss,[wl,"NuVision"],[cs,Cp]],[/\b(k88) b/i],[ss,[wl,"ZTE"],[cs,Cp]],[/\b(nx\d{3}j) b/i],[ss,[wl,"ZTE"],[cs,cp]],[/\b(gen\d{3}) b.+49h/i],[ss,[wl,"Swiss"],[cs,cp]],[/\b(zur\d{3}) b/i],[ss,[wl,"Swiss"],[cs,Cp]],[/\b((zeki)?tb.*\b) b/i],[ss,[wl,"Zeki"],[cs,Cp]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[wl,"Dragon Touch"],ss,[cs,Cp]],[/\b(ns-?\w{0,9}) b/i],[ss,[wl,"Insignia"],[cs,Cp]],[/\b((nxa|next)-?\w{0,9}) b/i],[ss,[wl,"NextBook"],[cs,Cp]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[wl,"Voice"],ss,[cs,cp]],[/\b(lvtel\-)?(v1[12]) b/i],[[wl,"LvTel"],ss,[cs,cp]],[/\b(ph-1) /i],[ss,[wl,"Essential"],[cs,cp]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ss,[wl,"Envizen"],[cs,Cp]],[/\b(trio[-\w\. ]+) b/i],[ss,[wl,"MachSpeed"],[cs,Cp]],[/\btu_(1491) b/i],[ss,[wl,"Rotor"],[cs,Cp]],[/(shield[\w ]+) b/i],[ss,[wl,"Nvidia"],[cs,Cp]],[/(sprint) (\w+)/i],[wl,ss,[cs,cp]],[/(kin\.[onetw]{3})/i],[[ss,/\./g," "],[wl,go],[cs,cp]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ss,[wl,Xm],[cs,Cp]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ss,[wl,Xm],[cs,cp]],[/smart-tv.+(samsung)/i],[wl,[cs,Lp]],[/hbbtv.+maple;(\d+)/i],[[ss,/^/,"SmartTV"],[wl,cm],[cs,Lp]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[wl,pu],[cs,Lp]],[/(apple) ?tv/i],[wl,[ss,d3+" TV"],[cs,Lp]],[/crkey/i],[[ss,as+"cast"],[wl,ip],[cs,Lp]],[/droid.+aft(\w+)( bui|\))/i],[ss,[wl,i1],[cs,Lp]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[ss,[wl,b3],[cs,Lp]],[/(bravia[\w ]+)( bui|\))/i],[ss,[wl,L_],[cs,Lp]],[/(mitv-\w{5}) bui/i],[ss,[wl,Ym],[cs,Lp]],[/Hbbtv.*(technisat) (.*);/i],[wl,ss,[cs,Lp]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[wl,a1],[ss,a1],[cs,Lp]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[cs,Lp]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[wl,ss,[cs,np]],[/droid.+; (shield) bui/i],[ss,[wl,"Nvidia"],[cs,np]],[/(playstation [345portablevi]+)/i],[ss,[wl,L_],[cs,np]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ss,[wl,go],[cs,np]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[ss,[wl,cm],[cs,jp]],[/((pebble))app/i],[wl,ss,[cs,jp]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[ss,[wl,d3],[cs,jp]],[/droid.+; (glass) \d/i],[ss,[wl,ip],[cs,jp]],[/droid.+; (wt63?0{2,3})\)/i],[ss,[wl,Xm],[cs,jp]],[/droid.+; (glass) \d/i],[ss,[wl,ip],[cs,jp]],[/(pico) (4|neo3(?: link|pro)?)/i],[wl,ss,[cs,jp]],[/; (quest( \d| pro)?)/i],[ss,[wl,Jm],[cs,jp]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[wl,[cs,nm]],[/(aeobc)\b/i],[ss,[wl,i1],[cs,nm]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[ss,[cs,cp]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ss,[cs,Cp]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[cs,Cp]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[cs,cp]],[/(android[-\w\. ]{0,9});.+buil/i],[ss,[wl,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ep,[ls,us+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[ls,ep],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ep,[ls,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[ls,ep],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ep,ls]],os:[[/microsoft (windows) (vista|xp)/i],[ls,ep],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[ls,[ep,v3,nw]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ep,v3,nw],[ls,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[ep,/_/g,"."],[ls,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ls,j_],[ep,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ep,ls],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ls,ep],[/\(bb(10);/i],[ep,[ls,Sn]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ep,[ls,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ep,[ls,xl+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ep,[ls,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[ep,[ls,"watchOS"]],[/crkey\/([\d\.]+)/i],[ep,[ls,as+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[ls,$_],ep],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ls,ep],[/(sunos) ?([\w\.\d]*)/i],[[ls,"Solaris"],ep],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[ls,ep]]},Ww=function(nM,Hm){if(typeof nM===Zr&&(Hm=nM,nM=_t),!(this instanceof Ww))return new Ww(nM,Hm).getResult();var y3=typeof ht!==Gr&&ht.navigator?ht.navigator:_t,Q_=nM||(y3&&y3.userAgent?y3.userAgent:qt),Uw=y3&&y3.userAgentData?y3.userAgentData:_t,s4=Hm?Fp(n4,Hm):n4,rM=y3&&y3.userAgent==Q_;return this.getBrowser=function(){var c4={};return c4[ls]=_t,c4[ep]=_t,zp.call(c4,Q_,s4.browser),c4[On]=Dp(c4[ep]),rM&&y3&&y3.brave&&typeof y3.brave.isBrave==cr&&(c4[ls]="Brave"),c4},this.getCPU=function(){var c4={};return c4[Al]=_t,zp.call(c4,Q_,s4.cpu),c4},this.getDevice=function(){var c4={};return c4[wl]=_t,c4[ss]=_t,c4[cs]=_t,zp.call(c4,Q_,s4.device),rM&&!c4[cs]&&Uw&&Uw.mobile&&(c4[cs]=cp),rM&&c4[ss]=="Macintosh"&&y3&&typeof y3.standalone!==Gr&&y3.maxTouchPoints&&y3.maxTouchPoints>2&&(c4[ss]="iPad",c4[cs]=Cp),c4},this.getEngine=function(){var c4={};return c4[ls]=_t,c4[ep]=_t,zp.call(c4,Q_,s4.engine),c4},this.getOS=function(){var c4={};return c4[ls]=_t,c4[ep]=_t,zp.call(c4,Q_,s4.os),rM&&!c4[ls]&&Uw&&Uw.platform&&Uw.platform!="Unknown"&&(c4[ls]=Uw.platform.replace(/chrome os/i,$_).replace(/macos/i,j_)),c4},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Q_},this.setUA=function(c4){return Q_=typeof c4===xn&&c4.length>zm?a1(c4,zm):c4,this},this.setUA(Q_),this};Ww.VERSION=At,Ww.BROWSER=W_([ls,ep,On]),Ww.CPU=W_([Al]),Ww.DEVICE=W_([ss,wl,cs,np,cp,Lp,Cp,jp,nm]),Ww.ENGINE=Ww.OS=W_([ls,ep]),ut.exports&&(lt=ut.exports=Ww),lt.UAParser=Ww;var F_=typeof ht!==Gr&&(ht.jQuery||ht.Zepto);if(F_&&!F_.ua){var qx=new Ww;F_.ua=qx.getResult(),F_.ua.get=function(){return qx.getUA()},F_.ua.set=function(nM){qx.setUA(nM);var Hm=qx.getResult();for(var y3 in Hm)F_.ua[y3]=Hm[y3]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports;const UAParser=getDefaultExportFromCjs(uaParserExports);var isMergeableObject=function ut(lt){return isNonNullObject(lt)&&!isSpecial(lt)};function isNonNullObject(ut){return!!ut&&typeof ut=="object"}function isSpecial(ut){var lt=Object.prototype.toString.call(ut);return lt==="[object RegExp]"||lt==="[object Date]"||isReactElement(ut)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE$1=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(ut){return ut.$$typeof===REACT_ELEMENT_TYPE$1}function emptyTarget(ut){return Array.isArray(ut)?[]:{}}function cloneUnlessOtherwiseSpecified(ut,lt){return lt.clone!==!1&&lt.isMergeableObject(ut)?deepmerge(emptyTarget(ut),ut,lt):ut}function defaultArrayMerge(ut,lt,ht){return ut.concat(lt).map(function(_t){return cloneUnlessOtherwiseSpecified(_t,ht)})}function getMergeFunction(ut,lt){if(!lt.customMerge)return deepmerge;var ht=lt.customMerge(ut);return typeof ht=="function"?ht:deepmerge}function getEnumerableOwnPropertySymbols(ut){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(ut).filter(function(lt){return Object.propertyIsEnumerable.call(ut,lt)}):[]}function getKeys(ut){return Object.keys(ut).concat(getEnumerableOwnPropertySymbols(ut))}function propertyIsOnObject(ut,lt){try{return lt in ut}catch{return!1}}function propertyIsUnsafe(ut,lt){return propertyIsOnObject(ut,lt)&&!(Object.hasOwnProperty.call(ut,lt)&&Object.propertyIsEnumerable.call(ut,lt))}function mergeObject(ut,lt,ht){var _t={};return ht.isMergeableObject(ut)&&getKeys(ut).forEach(function(At){_t[At]=cloneUnlessOtherwiseSpecified(ut[At],ht)}),getKeys(lt).forEach(function(At){propertyIsUnsafe(ut,At)||(propertyIsOnObject(ut,At)&&ht.isMergeableObject(lt[At])?_t[At]=getMergeFunction(At,ht)(ut[At],lt[At],ht):_t[At]=cloneUnlessOtherwiseSpecified(lt[At],ht))}),_t}function deepmerge(ut,lt,ht){ht=ht||{},ht.arrayMerge=ht.arrayMerge||defaultArrayMerge,ht.isMergeableObject=ht.isMergeableObject||isMergeableObject,ht.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var _t=Array.isArray(lt),At=Array.isArray(ut),qt=_t===At;return qt?_t?ht.arrayMerge(ut,lt,ht):mergeObject(ut,lt,ht):cloneUnlessOtherwiseSpecified(lt,ht)}deepmerge.all=function ut(lt,ht){if(!Array.isArray(lt))throw new Error("first argument should be an array");return lt.reduce(function(_t,At){return deepmerge(_t,At,ht)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs);var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(ut){(function(){var lt={}.hasOwnProperty;function ht(){for(var qt="",Zt=0;Zt<arguments.length;Zt++){var cr=arguments[Zt];cr&&(qt=At(qt,_t(cr)))}return qt}function _t(qt){if(typeof qt=="string"||typeof qt=="number")return qt;if(typeof qt!="object")return"";if(Array.isArray(qt))return ht.apply(null,qt);if(qt.toString!==Object.prototype.toString&&!qt.toString.toString().includes("[native code]"))return qt.toString();var Zt="";for(var cr in qt)lt.call(qt,cr)&&qt[cr]&&(Zt=At(Zt,cr));return Zt}function At(qt,Zt){return Zt?qt?qt+" "+Zt:qt+Zt:qt}ut.exports?(ht.default=ht,ut.exports=ht):window.classNames=ht})()})(classnames);var classnamesExports=classnames.exports;const cn$1=getDefaultExportFromCjs(classnamesExports);var __defProp$2=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(ut,lt,ht)=>lt in ut?__defProp$2(ut,lt,{enumerable:!0,configurable:!0,writable:!0,value:ht}):ut[lt]=ht,__spreadValues$2=(ut,lt)=>{for(var ht in lt||(lt={}))__hasOwnProp$2.call(lt,ht)&&__defNormalProp$2(ut,ht,lt[ht]);if(__getOwnPropSymbols$2)for(var ht of __getOwnPropSymbols$2(lt))__propIsEnum$2.call(lt,ht)&&__defNormalProp$2(ut,ht,lt[ht]);return ut},__spreadProps$1=(ut,lt)=>__defProps$1(ut,__getOwnPropDescs$1(lt)),__publicField=(ut,lt,ht)=>(__defNormalProp$2(ut,typeof lt!="symbol"?lt+"":lt,ht),ht),__async=(ut,lt,ht)=>new Promise((_t,At)=>{var qt=Gr=>{try{cr(ht.next(Gr))}catch(Zr){At(Zr)}},Zt=Gr=>{try{cr(ht.throw(Gr))}catch(Zr){At(Zr)}},cr=Gr=>Gr.done?_t(Gr.value):Promise.resolve(Gr.value).then(qt,Zt);cr((ht=ht.apply(ut,lt)).next())}),_a$2,_b$3,_c$1,_d$1,_e$1,_f$1,_g$1,_h$1;const sharedConfig={};function setHydrateContext(ut){sharedConfig.context=ut}const equalFn=(ut,lt)=>ut===lt,$PROXY=Symbol("solid-proxy"),$TRACK=Symbol("solid-track"),signalOptions={equals:equalFn};let runEffects=runQueue;const STALE=1,PENDING=2,UNOWNED={owned:null,cleanups:null,context:null,owner:null},NO_INIT={};var Owner=null;let Transition$1=null,Listener=null,Updates=null,Effects=null,ExecCount=0;function createRoot$1(ut,lt){const ht=Listener,_t=Owner,At=ut.length===0,qt=At?UNOWNED:{owned:null,cleanups:null,context:null,owner:lt===void 0?_t:lt},Zt=At?ut:()=>ut(()=>untrack(()=>cleanNode(qt)));Owner=qt,Listener=null;try{return runUpdates(Zt,!0)}finally{Listener=ht,Owner=_t}}function createSignal(ut,lt){lt=lt?Object.assign({},signalOptions,lt):signalOptions;const ht={value:ut,observers:null,observerSlots:null,comparator:lt.equals||void 0},_t=At=>(typeof At=="function"&&(At=At(ht.value)),writeSignal(ht,At));return[readSignal.bind(ht),_t]}function createComputed(ut,lt,ht){const _t=createComputation(ut,lt,!0,STALE);updateComputation(_t)}function createRenderEffect(ut,lt,ht){const _t=createComputation(ut,lt,!1,STALE);updateComputation(_t)}function createEffect(ut,lt,ht){runEffects=runUserEffects;const _t=createComputation(ut,lt,!1,STALE);_t.user=!0,Effects?Effects.push(_t):updateComputation(_t)}function createMemo(ut,lt,ht){ht=ht?Object.assign({},signalOptions,ht):signalOptions;const _t=createComputation(ut,lt,!0,0);return _t.observers=null,_t.observerSlots=null,_t.comparator=ht.equals||void 0,updateComputation(_t),readSignal.bind(_t)}function createResource(ut,lt,ht){let _t,At,qt;arguments.length===2&&typeof lt=="object"||arguments.length===1?(_t=!0,At=ut,qt=lt||{}):(_t=ut,At=lt,qt=ht||{});let Zt=null,cr=NO_INIT,Gr=null,Zr=!1,xn="initialValue"in qt,On=typeof _t=="function"&&createMemo(_t);const ss=new Set,[ls,cs]=(qt.storage||createSignal)(qt.initialValue),[wl,ep]=createSignal(void 0),[Al,np]=createSignal(void 0,{equals:!1}),[cp,Cp]=createSignal(xn?"ready":"unresolved");if(sharedConfig.context){Gr=`${sharedConfig.context.id}${sharedConfig.context.count++}`;let i1;qt.ssrLoadFrom==="initial"?cr=qt.initialValue:sharedConfig.load&&(i1=sharedConfig.load(Gr))&&(cr=i1[0])}function Lp(i1,d3,op,Sn){return Zt===i1&&(Zt=null,xn=!0,(i1===cr||d3===cr)&&qt.onHydrated&&queueMicrotask(()=>qt.onHydrated(Sn,{value:d3})),cr=NO_INIT,jp(d3,op)),d3}function jp(i1,d3){runUpdates(()=>{d3===void 0&&cs(()=>i1),Cp(d3!==void 0?"errored":"ready"),ep(d3);for(const op of ss.keys())op.decrement();ss.clear()},!1)}function nm(){const i1=SuspenseContext,d3=ls(),op=wl();if(op!==void 0&&!Zt)throw op;return Listener&&!Listener.user&&i1&&createComputed(()=>{Al(),Zt&&(i1.resolved||ss.has(i1)||(i1.increment(),ss.add(i1)))}),d3}function zm(i1=!0){if(i1!==!1&&Zr)return;Zr=!1;const d3=On?On():_t;if(d3==null||d3===!1){Lp(Zt,untrack(ls));return}const op=cr!==NO_INIT?cr:untrack(()=>At(d3,{value:ls(),refetching:i1}));return typeof op!="object"||!(op&&"then"in op)?(Lp(Zt,op,void 0,d3),op):(Zt=op,Zr=!0,queueMicrotask(()=>Zr=!1),runUpdates(()=>{Cp(xn?"refreshing":"pending"),np()},!1),op.then(Sn=>Lp(op,Sn,void 0,d3),Sn=>Lp(op,void 0,castError(Sn),d3)))}return Object.defineProperties(nm,{state:{get:()=>cp()},error:{get:()=>wl()},loading:{get(){const i1=cp();return i1==="pending"||i1==="refreshing"}},latest:{get(){if(!xn)return nm();const i1=wl();if(i1&&!Zt)throw i1;return ls()}}}),On?createComputed(()=>zm(!1)):zm(!1),[nm,{refetch:zm,mutate:cs}]}function batch(ut){return runUpdates(ut,!1)}function untrack(ut){if(Listener===null)return ut();const lt=Listener;Listener=null;try{return ut()}finally{Listener=lt}}function on$1(ut,lt,ht){const _t=Array.isArray(ut);let At,qt=ht&&ht.defer;return Zt=>{let cr;if(_t){cr=Array(ut.length);for(let Zr=0;Zr<ut.length;Zr++)cr[Zr]=ut[Zr]()}else cr=ut();if(qt){qt=!1;return}const Gr=untrack(()=>lt(cr,At,Zt));return At=cr,Gr}}function onMount(ut){createEffect(()=>untrack(ut))}function onCleanup(ut){return Owner===null||(Owner.cleanups===null?Owner.cleanups=[ut]:Owner.cleanups.push(ut)),ut}function getListener(){return Listener}function getOwner(){return Owner}function createContext(ut,lt){const ht=Symbol("context");return{id:ht,Provider:createProvider(ht),defaultValue:ut}}function useContext(ut){let lt;return(lt=lookup(Owner,ut.id))!==void 0?lt:ut.defaultValue}function children(ut){const lt=createMemo(ut),ht=createMemo(()=>resolveChildren(lt()));return ht.toArray=()=>{const _t=ht();return Array.isArray(_t)?_t:_t!=null?[_t]:[]},ht}let SuspenseContext;function readSignal(){const ut=Transition$1;if(this.sources&&(this.state||ut))if(this.state===STALE||ut)updateComputation(this);else{const lt=Updates;Updates=null,runUpdates(()=>lookUpstream(this),!1),Updates=lt}if(Listener){const lt=this.observers?this.observers.length:0;Listener.sources?(Listener.sources.push(this),Listener.sourceSlots.push(lt)):(Listener.sources=[this],Listener.sourceSlots=[lt]),this.observers?(this.observers.push(Listener),this.observerSlots.push(Listener.sources.length-1)):(this.observers=[Listener],this.observerSlots=[Listener.sources.length-1])}return this.value}function writeSignal(ut,lt,ht){let _t=ut.value;return(!ut.comparator||!ut.comparator(_t,lt))&&(ut.value=lt,ut.observers&&ut.observers.length&&runUpdates(()=>{for(let At=0;At<ut.observers.length;At+=1){const qt=ut.observers[At],Zt=Transition$1&&Transition$1.running;Zt&&Transition$1.disposed.has(qt),(Zt&&!qt.tState||!Zt&&!qt.state)&&(qt.pure?Updates.push(qt):Effects.push(qt),qt.observers&&markDownstream(qt)),Zt||(qt.state=STALE)}if(Updates.length>1e6)throw Updates=[],new Error},!1)),lt}function updateComputation(ut){if(!ut.fn)return;cleanNode(ut);const lt=Owner,ht=Listener,_t=ExecCount;Listener=Owner=ut,runComputation(ut,ut.value,_t),Listener=ht,Owner=lt}function runComputation(ut,lt,ht){let _t;try{_t=ut.fn(lt)}catch(At){ut.pure&&(ut.state=STALE,ut.owned&&ut.owned.forEach(cleanNode),ut.owned=null),handleError(At)}(!ut.updatedAt||ut.updatedAt<=ht)&&(ut.updatedAt!=null&&"observers"in ut?writeSignal(ut,_t):ut.value=_t,ut.updatedAt=ht)}function createComputation(ut,lt,ht,_t=STALE,At){const qt={fn:ut,state:_t,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:lt,owner:Owner,context:null,pure:ht};return Owner===null||Owner!==UNOWNED&&(Owner.owned?Owner.owned.push(qt):Owner.owned=[qt]),qt}function runTop(ut){const lt=Transition$1;if(ut.state===0||lt)return;if(ut.state===PENDING||lt)return lookUpstream(ut);if(ut.suspense&&untrack(ut.suspense.inFallback))return ut.suspense.effects.push(ut);const ht=[ut];for(;(ut=ut.owner)&&(!ut.updatedAt||ut.updatedAt<ExecCount);)(ut.state||lt)&&ht.push(ut);for(let _t=ht.length-1;_t>=0;_t--)if(ut=ht[_t],ut.state===STALE||lt)updateComputation(ut);else if(ut.state===PENDING||lt){const At=Updates;Updates=null,runUpdates(()=>lookUpstream(ut,ht[0]),!1),Updates=At}}function runUpdates(ut,lt){if(Updates)return ut();let ht=!1;lt||(Updates=[]),Effects?ht=!0:Effects=[],ExecCount++;try{const _t=ut();return completeUpdates(ht),_t}catch(_t){ht||(Effects=null),Updates=null,handleError(_t)}}function completeUpdates(ut){if(Updates&&(runQueue(Updates),Updates=null),ut)return;const lt=Effects;Effects=null,lt.length&&runUpdates(()=>runEffects(lt),!1)}function runQueue(ut){for(let lt=0;lt<ut.length;lt++)runTop(ut[lt])}function runUserEffects(ut){let lt,ht=0;for(lt=0;lt<ut.length;lt++){const _t=ut[lt];_t.user?ut[ht++]=_t:runTop(_t)}for(sharedConfig.context&&setHydrateContext(),lt=0;lt<ht;lt++)runTop(ut[lt])}function lookUpstream(ut,lt){const ht=Transition$1;ut.state=0;for(let _t=0;_t<ut.sources.length;_t+=1){const At=ut.sources[_t];At.sources&&(At.state===STALE||ht?At!==lt&&runTop(At):(At.state===PENDING||ht)&&lookUpstream(At,lt))}}function markDownstream(ut){const lt=Transition$1;for(let ht=0;ht<ut.observers.length;ht+=1){const _t=ut.observers[ht];(!_t.state||lt)&&(_t.state=PENDING,_t.pure?Updates.push(_t):Effects.push(_t),_t.observers&&markDownstream(_t))}}function cleanNode(ut){let lt;if(ut.sources)for(;ut.sources.length;){const ht=ut.sources.pop(),_t=ut.sourceSlots.pop(),At=ht.observers;if(At&&At.length){const qt=At.pop(),Zt=ht.observerSlots.pop();_t<At.length&&(qt.sourceSlots[Zt]=_t,At[_t]=qt,ht.observerSlots[_t]=Zt)}}if(ut.owned){for(lt=0;lt<ut.owned.length;lt++)cleanNode(ut.owned[lt]);ut.owned=null}if(ut.cleanups){for(lt=0;lt<ut.cleanups.length;lt++)ut.cleanups[lt]();ut.cleanups=null}ut.state=0,ut.context=null}function castError(ut){return ut instanceof Error||typeof ut=="string"?ut:new Error("Unknown error")}function handleError(ut){throw ut=castError(ut),ut}function lookup(ut,lt){return ut?ut.context&&ut.context[lt]!==void 0?ut.context[lt]:lookup(ut.owner,lt):void 0}function resolveChildren(ut){if(typeof ut=="function"&&!ut.length)return resolveChildren(ut());if(Array.isArray(ut)){const lt=[];for(let ht=0;ht<ut.length;ht++){const _t=resolveChildren(ut[ht]);Array.isArray(_t)?lt.push.apply(lt,_t):lt.push(_t)}return lt}return ut}function createProvider(ut,lt){return function(_t){let At;return createRenderEffect(()=>At=untrack(()=>(Owner.context={[ut]:_t.value},children(()=>_t.children))),void 0),At}}const FALLBACK=Symbol("fallback");function dispose$1(ut){for(let lt=0;lt<ut.length;lt++)ut[lt]()}function mapArray(ut,lt,ht={}){let _t=[],At=[],qt=[],Zt=0,cr=lt.length>1?[]:null;return onCleanup(()=>dispose$1(qt)),()=>{let Gr=ut()||[],Zr,xn;return Gr[$TRACK],untrack(()=>{let ss=Gr.length,ls,cs,wl,ep,Al,np,cp,Cp,Lp;if(ss===0)Zt!==0&&(dispose$1(qt),qt=[],_t=[],At=[],Zt=0,cr&&(cr=[])),ht.fallback&&(_t=[FALLBACK],At[0]=createRoot$1(jp=>(qt[0]=jp,ht.fallback())),Zt=1);else if(Zt===0){for(At=new Array(ss),xn=0;xn<ss;xn++)_t[xn]=Gr[xn],At[xn]=createRoot$1(On);Zt=ss}else{for(wl=new Array(ss),ep=new Array(ss),cr&&(Al=new Array(ss)),np=0,cp=Math.min(Zt,ss);np<cp&&_t[np]===Gr[np];np++);for(cp=Zt-1,Cp=ss-1;cp>=np&&Cp>=np&&_t[cp]===Gr[Cp];cp--,Cp--)wl[Cp]=At[cp],ep[Cp]=qt[cp],cr&&(Al[Cp]=cr[cp]);for(ls=new Map,cs=new Array(Cp+1),xn=Cp;xn>=np;xn--)Lp=Gr[xn],Zr=ls.get(Lp),cs[xn]=Zr===void 0?-1:Zr,ls.set(Lp,xn);for(Zr=np;Zr<=cp;Zr++)Lp=_t[Zr],xn=ls.get(Lp),xn!==void 0&&xn!==-1?(wl[xn]=At[Zr],ep[xn]=qt[Zr],cr&&(Al[xn]=cr[Zr]),xn=cs[xn],ls.set(Lp,xn)):qt[Zr]();for(xn=np;xn<ss;xn++)xn in wl?(At[xn]=wl[xn],qt[xn]=ep[xn],cr&&(cr[xn]=Al[xn],cr[xn](xn))):At[xn]=createRoot$1(On);At=At.slice(0,Zt=ss),_t=Gr.slice(0)}return At});function On(ss){if(qt[xn]=ss,cr){const[ls,cs]=createSignal(xn);return cr[xn]=cs,lt(Gr[xn],ls)}return lt(Gr[xn])}}}function createComponent(ut,lt){return untrack(()=>ut(lt||{}))}function trueFn(){return!0}const propTraps={get(ut,lt,ht){return lt===$PROXY?ht:ut.get(lt)},has(ut,lt){return lt===$PROXY?!0:ut.has(lt)},set:trueFn,deleteProperty:trueFn,getOwnPropertyDescriptor(ut,lt){return{configurable:!0,enumerable:!0,get(){return ut.get(lt)},set:trueFn,deleteProperty:trueFn}},ownKeys(ut){return ut.keys()}};function resolveSource(ut){return(ut=typeof ut=="function"?ut():ut)?ut:{}}function mergeProps(...ut){let lt=!1;for(let _t=0;_t<ut.length;_t++){const At=ut[_t];lt=lt||!!At&&$PROXY in At,ut[_t]=typeof At=="function"?(lt=!0,createMemo(At)):At}if(lt)return new Proxy({get(_t){for(let At=ut.length-1;At>=0;At--){const qt=resolveSource(ut[At])[_t];if(qt!==void 0)return qt}},has(_t){for(let At=ut.length-1;At>=0;At--)if(_t in resolveSource(ut[At]))return!0;return!1},keys(){const _t=[];for(let At=0;At<ut.length;At++)_t.push(...Object.keys(resolveSource(ut[At])));return[...new Set(_t)]}},propTraps);const ht={};for(let _t=ut.length-1;_t>=0;_t--)if(ut[_t]){const At=Object.getOwnPropertyDescriptors(ut[_t]);for(const qt in At)qt in ht||Object.defineProperty(ht,qt,{enumerable:!0,get(){for(let Zt=ut.length-1;Zt>=0;Zt--){const cr=(ut[Zt]||{})[qt];if(cr!==void 0)return cr}}})}return ht}function splitProps(ut,...lt){const ht=new Set(lt.flat());if($PROXY in ut){const At=lt.map(qt=>new Proxy({get(Zt){return qt.includes(Zt)?ut[Zt]:void 0},has(Zt){return qt.includes(Zt)&&Zt in ut},keys(){return qt.filter(Zt=>Zt in ut)}},propTraps));return At.push(new Proxy({get(qt){return ht.has(qt)?void 0:ut[qt]},has(qt){return ht.has(qt)?!1:qt in ut},keys(){return Object.keys(ut).filter(qt=>!ht.has(qt))}},propTraps)),At}const _t=Object.getOwnPropertyDescriptors(ut);return lt.push(Object.keys(_t).filter(At=>!ht.has(At))),lt.map(At=>{const qt={};for(let Zt=0;Zt<At.length;Zt++){const cr=At[Zt];cr in ut&&Object.defineProperty(qt,cr,_t[cr]?_t[cr]:{get(){return ut[cr]},set(){return!0},enumerable:!0})}return qt})}function For(ut){const lt="fallback"in ut&&{fallback:()=>ut.fallback};return createMemo(mapArray(()=>ut.each,ut.children,lt||void 0))}function Show(ut){let lt=!1;const ht=ut.keyed,_t=createMemo(()=>ut.when,void 0,{equals:(At,qt)=>lt?At===qt:!At==!qt});return createMemo(()=>{const At=_t();if(At){const qt=ut.children,Zt=typeof qt=="function"&&qt.length>0;return lt=ht||Zt,Zt?untrack(()=>qt(At)):qt}return ut.fallback},void 0,void 0)}function Switch(ut){let lt=!1,ht=!1;const _t=(Zt,cr)=>Zt[0]===cr[0]&&(lt?Zt[1]===cr[1]:!Zt[1]==!cr[1])&&Zt[2]===cr[2],At=children(()=>ut.children),qt=createMemo(()=>{let Zt=At();Array.isArray(Zt)||(Zt=[Zt]);for(let cr=0;cr<Zt.length;cr++){const Gr=Zt[cr].when;if(Gr)return ht=!!Zt[cr].keyed,[cr,Gr,Zt[cr]]}return[-1]},void 0,{equals:_t});return createMemo(()=>{const[Zt,cr,Gr]=qt();if(Zt<0)return ut.fallback;const Zr=Gr.children,xn=typeof Zr=="function"&&Zr.length>0;return lt=ht||xn,xn?untrack(()=>Zr(cr)):Zr},void 0,void 0)}function Match(ut){return ut}const booleans=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Properties=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...booleans]),ChildProperties=new Set(["innerHTML","textContent","innerText","children"]),Aliases=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),PropAliases=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),DelegatedEvents=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),SVGElements=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),SVGNamespace={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function reconcileArrays(ut,lt,ht){let _t=ht.length,At=lt.length,qt=_t,Zt=0,cr=0,Gr=lt[At-1].nextSibling,Zr=null;for(;Zt<At||cr<qt;){if(lt[Zt]===ht[cr]){Zt++,cr++;continue}for(;lt[At-1]===ht[qt-1];)At--,qt--;if(At===Zt){const xn=qt<_t?cr?ht[cr-1].nextSibling:ht[qt-cr]:Gr;for(;cr<qt;)ut.insertBefore(ht[cr++],xn)}else if(qt===cr)for(;Zt<At;)(!Zr||!Zr.has(lt[Zt]))&&lt[Zt].remove(),Zt++;else if(lt[Zt]===ht[qt-1]&&ht[cr]===lt[At-1]){const xn=lt[--At].nextSibling;ut.insertBefore(ht[cr++],lt[Zt++].nextSibling),ut.insertBefore(ht[--qt],xn),lt[At]=ht[qt]}else{if(!Zr){Zr=new Map;let On=cr;for(;On<qt;)Zr.set(ht[On],On++)}const xn=Zr.get(lt[Zt]);if(xn!=null)if(cr<xn&&xn<qt){let On=Zt,ss=1,ls;for(;++On<At&&On<qt&&!((ls=Zr.get(lt[On]))==null||ls!==xn+ss);)ss++;if(ss>xn-cr){const cs=lt[Zt];for(;cr<xn;)ut.insertBefore(ht[cr++],cs)}else ut.replaceChild(ht[cr++],lt[Zt++])}else Zt++;else lt[Zt++].remove()}}}const $$EVENTS="_$DX_DELEGATE";function render(ut,lt,ht,_t={}){let At;return createRoot$1(qt=>{At=qt,lt===document?ut():insert(lt,ut(),lt.firstChild?null:void 0,ht)},_t.owner),()=>{At(),lt.textContent=""}}function template$1(ut,lt,ht){if(typeof window>"u")return null;const _t=document.createElement("template");_t.innerHTML=ut;let At=_t.content.firstChild;return ht&&(At=At.firstChild),At}function delegateEvents(ut,lt=window.document){const ht=lt[$$EVENTS]||(lt[$$EVENTS]=new Set);for(let _t=0,At=ut.length;_t<At;_t++){const qt=ut[_t];ht.has(qt)||(ht.add(qt),lt.addEventListener(qt,eventHandler))}}function setAttribute(ut,lt,ht){ht==null?ut.removeAttribute(lt):ut.setAttribute(lt,ht)}function setAttributeNS(ut,lt,ht,_t){_t==null?ut.removeAttributeNS(lt,ht):ut.setAttributeNS(lt,ht,_t)}function className(ut,lt){lt==null?ut.removeAttribute("class"):ut.className=lt}function addEventListener(ut,lt,ht,_t){if(_t)Array.isArray(ht)?(ut[`$$${lt}`]=ht[0],ut[`$$${lt}Data`]=ht[1]):ut[`$$${lt}`]=ht;else if(Array.isArray(ht)){const At=ht[0];ut.addEventListener(lt,ht[0]=qt=>At.call(ut,ht[1],qt))}else ut.addEventListener(lt,ht)}function classList(ut,lt,ht={}){const _t=Object.keys(lt||{}),At=Object.keys(ht);let qt,Zt;for(qt=0,Zt=At.length;qt<Zt;qt++){const cr=At[qt];!cr||cr==="undefined"||lt[cr]||(toggleClassKey(ut,cr,!1),delete ht[cr])}for(qt=0,Zt=_t.length;qt<Zt;qt++){const cr=_t[qt],Gr=!!lt[cr];!cr||cr==="undefined"||ht[cr]===Gr||!Gr||(toggleClassKey(ut,cr,!0),ht[cr]=Gr)}return ht}function style(ut,lt,ht){if(!lt)return ht?setAttribute(ut,"style"):lt;const _t=ut.style;if(typeof lt=="string")return _t.cssText=lt;typeof ht=="string"&&(_t.cssText=ht=void 0),ht||(ht={}),lt||(lt={});let At,qt;for(qt in ht)lt[qt]==null&&_t.removeProperty(qt),delete ht[qt];for(qt in lt)At=lt[qt],At!==ht[qt]&&(_t.setProperty(qt,At),ht[qt]=At);return ht}function spread$1(ut,lt={},ht,_t){const At={};return _t||createRenderEffect(()=>At.children=insertExpression(ut,lt.children,At.children)),createRenderEffect(()=>lt.ref&&lt.ref(ut)),createRenderEffect(()=>assign$2(ut,lt,ht,!0,At,!0)),At}function use(ut,lt,ht){return untrack(()=>ut(lt,ht))}function insert(ut,lt,ht,_t){if(ht!==void 0&&!_t&&(_t=[]),typeof lt!="function")return insertExpression(ut,lt,_t,ht);createRenderEffect(At=>insertExpression(ut,lt(),At,ht),_t)}function assign$2(ut,lt,ht,_t,At={},qt=!1){lt||(lt={});for(const Zt in At)if(!(Zt in lt)){if(Zt==="children")continue;At[Zt]=assignProp(ut,Zt,null,At[Zt],ht,qt)}for(const Zt in lt){if(Zt==="children"){_t||insertExpression(ut,lt.children);continue}const cr=lt[Zt];At[Zt]=assignProp(ut,Zt,cr,At[Zt],ht,qt)}}function getNextElement(ut){let lt,ht;return!sharedConfig.context||!(lt=sharedConfig.registry.get(ht=getHydrationKey()))?ut.cloneNode(!0):(sharedConfig.completed&&sharedConfig.completed.add(lt),sharedConfig.registry.delete(ht),lt)}function toPropertyName(ut){return ut.toLowerCase().replace(/-([a-z])/g,(lt,ht)=>ht.toUpperCase())}function toggleClassKey(ut,lt,ht){const _t=lt.trim().split(/\s+/);for(let At=0,qt=_t.length;At<qt;At++)ut.classList.toggle(_t[At],ht)}function assignProp(ut,lt,ht,_t,At,qt){let Zt,cr,Gr;if(lt==="style")return style(ut,ht,_t);if(lt==="classList")return classList(ut,ht,_t);if(ht===_t)return _t;if(lt==="ref")qt||ht(ut);else if(lt.slice(0,3)==="on:"){const Zr=lt.slice(3);_t&&ut.removeEventListener(Zr,_t),ht&&ut.addEventListener(Zr,ht)}else if(lt.slice(0,10)==="oncapture:"){const Zr=lt.slice(10);_t&&ut.removeEventListener(Zr,_t,!0),ht&&ut.addEventListener(Zr,ht,!0)}else if(lt.slice(0,2)==="on"){const Zr=lt.slice(2).toLowerCase(),xn=DelegatedEvents.has(Zr);if(!xn&&_t){const On=Array.isArray(_t)?_t[0]:_t;ut.removeEventListener(Zr,On)}(xn||ht)&&(addEventListener(ut,Zr,ht,xn),xn&&delegateEvents([Zr]))}else if((Gr=ChildProperties.has(lt))||!At&&(PropAliases[lt]||(cr=Properties.has(lt)))||(Zt=ut.nodeName.includes("-")))lt==="class"||lt==="className"?className(ut,ht):Zt&&!cr&&!Gr?ut[toPropertyName(lt)]=ht:ut[PropAliases[lt]||lt]=ht;else{const Zr=At&&lt.indexOf(":")>-1&&SVGNamespace[lt.split(":")[0]];Zr?setAttributeNS(ut,Zr,lt,ht):setAttribute(ut,Aliases[lt]||lt,ht)}return ht}function eventHandler(ut){const lt=`$$${ut.type}`;let ht=ut.composedPath&&ut.composedPath()[0]||ut.target;for(ut.target!==ht&&Object.defineProperty(ut,"target",{configurable:!0,value:ht}),Object.defineProperty(ut,"currentTarget",{configurable:!0,get(){return ht||document}}),sharedConfig.registry&&!sharedConfig.done&&(sharedConfig.done=!0,document.querySelectorAll("[id^=pl-]").forEach(_t=>{for(;_t&&_t.nodeType!==8&&_t.nodeValue!=="pl-"+ut;){let At=_t.nextSibling;_t.remove(),_t=At}_t&&_t.remove()}));ht;){const _t=ht[lt];if(_t&&!ht.disabled){const At=ht[`${lt}Data`];if(At!==void 0?_t.call(ht,At,ut):_t.call(ht,ut),ut.cancelBubble)return}ht=ht._$host||ht.parentNode||ht.host}}function insertExpression(ut,lt,ht,_t,At){for(sharedConfig.context&&!ht&&(ht=[...ut.childNodes]);typeof ht=="function";)ht=ht();if(lt===ht)return ht;const qt=typeof lt,Zt=_t!==void 0;if(ut=Zt&&ht[0]&&ht[0].parentNode||ut,qt==="string"||qt==="number"){if(sharedConfig.context)return ht;if(qt==="number"&&(lt=lt.toString()),Zt){let cr=ht[0];cr&&cr.nodeType===3?cr.data=lt:cr=document.createTextNode(lt),ht=cleanChildren(ut,ht,_t,cr)}else ht!==""&&typeof ht=="string"?ht=ut.firstChild.data=lt:ht=ut.textContent=lt}else if(lt==null||qt==="boolean"){if(sharedConfig.context)return ht;ht=cleanChildren(ut,ht,_t)}else{if(qt==="function")return createRenderEffect(()=>{let cr=lt();for(;typeof cr=="function";)cr=cr();ht=insertExpression(ut,cr,ht,_t)}),()=>ht;if(Array.isArray(lt)){const cr=[],Gr=ht&&Array.isArray(ht);if(normalizeIncomingArray(cr,lt,ht,At))return createRenderEffect(()=>ht=insertExpression(ut,cr,ht,_t,!0)),()=>ht;if(sharedConfig.context){if(!cr.length)return ht;for(let Zr=0;Zr<cr.length;Zr++)if(cr[Zr].parentNode)return ht=cr}if(cr.length===0){if(ht=cleanChildren(ut,ht,_t),Zt)return ht}else Gr?ht.length===0?appendNodes(ut,cr,_t):reconcileArrays(ut,ht,cr):(ht&&cleanChildren(ut),appendNodes(ut,cr));ht=cr}else if(lt instanceof Node){if(sharedConfig.context&&lt.parentNode)return ht=Zt?[lt]:lt;if(Array.isArray(ht)){if(Zt)return ht=cleanChildren(ut,ht,_t,lt);cleanChildren(ut,ht,null,lt)}else ht==null||ht===""||!ut.firstChild?ut.appendChild(lt):ut.replaceChild(lt,ut.firstChild);ht=lt}}return ht}function normalizeIncomingArray(ut,lt,ht,_t){let At=!1;for(let qt=0,Zt=lt.length;qt<Zt;qt++){let cr=lt[qt],Gr=ht&&ht[qt];if(cr instanceof Node)ut.push(cr);else if(!(cr==null||cr===!0||cr===!1))if(Array.isArray(cr))At=normalizeIncomingArray(ut,cr,Gr)||At;else if(typeof cr=="function")if(_t){for(;typeof cr=="function";)cr=cr();At=normalizeIncomingArray(ut,Array.isArray(cr)?cr:[cr],Array.isArray(Gr)?Gr:[Gr])||At}else ut.push(cr),At=!0;else{const Zr=String(cr);Gr&&Gr.nodeType===3&&Gr.data===Zr?ut.push(Gr):ut.push(document.createTextNode(Zr))}}return At}function appendNodes(ut,lt,ht=null){for(let _t=0,At=lt.length;_t<At;_t++)ut.insertBefore(lt[_t],ht)}function cleanChildren(ut,lt,ht,_t){if(ht===void 0)return ut.textContent="";const At=_t||document.createTextNode("");if(lt.length){let qt=!1;for(let Zt=lt.length-1;Zt>=0;Zt--){const cr=lt[Zt];if(At!==cr){const Gr=cr.parentNode===ut;!qt&&!Zt?Gr?ut.replaceChild(At,cr):ut.insertBefore(At,ht):Gr&&cr.remove()}else qt=!0}}else ut.insertBefore(At,ht);return[At]}function getHydrationKey(){const ut=sharedConfig.context;return`${ut.id}${ut.count++}`}const SVG_NAMESPACE="http://www.w3.org/2000/svg";function createElement(ut,lt=!1){return lt?document.createElementNS(SVG_NAMESPACE,ut):document.createElement(ut)}function Portal$1(ut){const{useShadow:lt}=ut,ht=document.createTextNode(""),_t=ut.mount||document.body;function At(){if(sharedConfig.context){const[qt,Zt]=createSignal(!1);return queueMicrotask(()=>Zt(!0)),()=>qt()&&ut.children}else return()=>ut.children}if(_t instanceof HTMLHeadElement){const[qt,Zt]=createSignal(!1),cr=()=>Zt(!0);createRoot$1(Gr=>insert(_t,()=>qt()?Gr():At()(),null)),onCleanup(()=>{sharedConfig.context?queueMicrotask(cr):cr()})}else{const qt=createElement(ut.isSVG?"g":"div",ut.isSVG),Zt=lt&&qt.attachShadow?qt.attachShadow({mode:"open"}):qt;Object.defineProperty(qt,"_$host",{get(){return ht.parentNode},configurable:!0}),insert(Zt,At()),_t.appendChild(qt),ut.ref&&ut.ref(qt),onCleanup(()=>_t.removeChild(qt))}return ht}function Dynamic(ut){const[lt,ht]=splitProps(ut,["component"]),_t=createMemo(()=>lt.component);return createMemo(()=>{const At=_t();switch(typeof At){case"function":return untrack(()=>At(ht));case"string":const qt=SVGElements.has(At),Zt=sharedConfig.context?getNextElement():createElement(At,qt);return spread$1(Zt,ht,qt),Zt}})}var THEME=(ut=>(ut.DARK="DARK",ut.LIGHT="LIGHT",ut))(THEME||{});let e$1={data:""},t$1=ut=>typeof window=="object"?((ut?ut.querySelector("#_goober"):window._goober)||Object.assign((ut||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:ut||e$1,l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$1=/\/\*[^]*?\*\/|  +/g,n$1=/\n+/g,o=(ut,lt)=>{let ht="",_t="",At="";for(let qt in ut){let Zt=ut[qt];qt[0]=="@"?qt[1]=="i"?ht=qt+" "+Zt+";":_t+=qt[1]=="f"?o(Zt,qt):qt+"{"+o(Zt,qt[1]=="k"?"":lt)+"}":typeof Zt=="object"?_t+=o(Zt,lt?lt.replace(/([^,])+/g,cr=>qt.replace(/(^:.*)|([^,])+/g,Gr=>/&/.test(Gr)?Gr.replace(/&/g,cr):cr?cr+" "+Gr:Gr)):qt):Zt!=null&&(qt=/^--/.test(qt)?qt:qt.replace(/[A-Z]/g,"-$&").toLowerCase(),At+=o.p?o.p(qt,Zt):qt+":"+Zt+";")}return ht+(lt&&At?lt+"{"+At+"}":At)+_t},c$2={},s=ut=>{if(typeof ut=="object"){let lt="";for(let ht in ut)lt+=ht+s(ut[ht]);return lt}return ut},i$2=(ut,lt,ht,_t,At)=>{let qt=s(ut),Zt=c$2[qt]||(c$2[qt]=(Gr=>{let Zr=0,xn=11;for(;Zr<Gr.length;)xn=101*xn+Gr.charCodeAt(Zr++)>>>0;return"go"+xn})(qt));if(!c$2[Zt]){let Gr=qt!==ut?ut:(Zr=>{let xn,On,ss=[{}];for(;xn=l$1.exec(Zr.replace(a$1,""));)xn[4]?ss.shift():xn[3]?(On=xn[3].replace(n$1," ").trim(),ss.unshift(ss[0][On]=ss[0][On]||{})):ss[0][xn[1]]=xn[2].replace(n$1," ").trim();return ss[0]})(ut);c$2[Zt]=o(At?{["@keyframes "+Zt]:Gr}:Gr,ht?"":"."+Zt)}let cr=ht&&c$2.g?c$2.g:null;return ht&&(c$2.g=c$2[Zt]),((Gr,Zr,xn,On)=>{On?Zr.data=Zr.data.replace(On,Gr):Zr.data.indexOf(Gr)===-1&&(Zr.data=xn?Gr+Zr.data:Zr.data+Gr)})(c$2[Zt],lt,_t,cr),Zt},p$1=(ut,lt,ht)=>ut.reduce((_t,At,qt)=>{let Zt=lt[qt];if(Zt&&Zt.call){let cr=Zt(ht),Gr=cr&&cr.props&&cr.props.className||/^go/.test(cr)&&cr;Zt=Gr?"."+Gr:cr&&typeof cr=="object"?cr.props?"":o(cr,""):cr===!1?"":cr}return _t+At+(Zt??"")},"");function u$1(ut){let lt=this||{},ht=ut.call?ut(lt.p):ut;return i$2(ht.unshift?ht.raw?p$1(ht,[].slice.call(arguments,1),lt.p):ht.reduce((_t,At)=>Object.assign(_t,At&&At.call?At(lt.p):At),{}):ht,t$1(lt.target),lt.g,lt.o,lt.k)}u$1.bind({g:1});let h$1=u$1.bind({k:1});const ThemeContext=createContext();function ThemeProvider(ut){return createComponent(ThemeContext.Provider,{value:ut.theme,get children(){return ut.children}})}function useTheme(){return useContext(ThemeContext)}function makeStyled(ut){let lt=this||{};return(...ht)=>{const _t=At=>{const qt=useContext(ThemeContext),Zt=mergeProps(At,{theme:qt}),cr=mergeProps(Zt,{get class(){const ls=Zt.class,cs="class"in Zt&&/^go[0-9]+/.test(ls);let wl=u$1.apply({target:lt.target,o:cs,p:Zt,g:lt.g},ht);return[ls,wl].filter(Boolean).join(" ")}}),[Gr,Zr]=splitProps(cr,["as","theme"]),xn=Zr,On=Gr.as||ut;let ss;return typeof On=="function"?ss=On(xn):lt.g==1?(ss=document.createElement(On),spread$1(ss,xn)):ss=Dynamic(mergeProps({component:On},xn)),ss};return _t.class=At=>untrack(()=>u$1.apply({target:lt.target,p:At,g:lt.g},ht)),_t}}const styled$1=new Proxy(makeStyled,{get(ut,lt){return ut(lt)}});function createGlobalStyles(){const ut=makeStyled.call({g:1},"div").apply(null,arguments);return function(ht){return ut(ht),null}}const globalStylesTag="tc-root",disableScrollClass="tc-disable-scroll",usingMouseClass="tc-using-mouse",GlobalStyles=()=>{document.body.addEventListener("mousedown",()=>document.body.classList.add(usingMouseClass)),document.body.addEventListener("keydown",lt=>{lt.key==="Tab"&&document.body.classList.remove(usingMouseClass)});const ut=createGlobalStyles`
    ${globalStylesTag} * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        
        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;        
        -webkit-tap-highlight-color: transparent;
    }
    
    ${globalStylesTag} img {
      -webkit-user-select: none;
      -webkit-touch-callout: none;
    }   
 
    ${globalStylesTag} *:focus {
        outline: #08f auto 2px;
    }
    
    ${globalStylesTag} li {
        list-style: none;
    }
    
    ${globalStylesTag} button {
        outline: none;
    }
    
    body.${disableScrollClass} {
        position: fixed; 
        overflow-y: scroll;
        right: 0;
        left: 0;
    }
    
    body.${usingMouseClass} ${globalStylesTag} *:focus {
        outline: none;
    }
`;return createComponent(ut,{})};function hexToRgb(ut){ut[0]==="#"&&(ut=ut.slice(1));const lt=parseInt(ut,16),ht=lt>>16&255,_t=lt>>8&255,At=lt&255;return[ht,_t,At].join(",")}function rgba(ut,lt){return ut[0]==="#"&&(ut=hexToRgb(ut)),`rgba(${ut}, ${lt})`}function toPx(ut){return ut.toString()+"px"}const _InMemoryStorage=class{constructor(){__publicField(this,"storage",{})}static getInstance(){return _InMemoryStorage.instance||(_InMemoryStorage.instance=new _InMemoryStorage),_InMemoryStorage.instance}get length(){return Object.keys(this.storage).length}clear(){this.storage={}}getItem(ut){var lt;return(lt=this.storage[ut])!=null?lt:null}key(ut){var lt;const ht=Object.keys(this.storage);return ut<0||ut>=ht.length?null:(lt=ht[ut])!=null?lt:null}removeItem(ut){delete this.storage[ut]}setItem(ut,lt){this.storage[ut]=lt}};let InMemoryStorage=_InMemoryStorage;__publicField(InMemoryStorage,"instance");class TonConnectUIError extends TonConnectError{constructor(...lt){super(...lt),Object.setPrototypeOf(this,TonConnectUIError.prototype)}}function logDebug(...ut){try{console.debug("[TON_CONNECT_UI]",...ut)}catch{}}function logError(...ut){try{console.error("[TON_CONNECT_UI]",...ut)}catch{}}function logWarning(...ut){try{console.warn("[TON_CONNECT_UI]",...ut)}catch{}}function openLink(ut,lt="_self"){logDebug("openLink",ut,lt),window.open(ut,lt,"noopener noreferrer")}function openLinkBlank(ut){openLink(ut,"_blank")}function openDeeplinkWithFallback(ut,lt){const ht=()=>{isBrowser("safari")||isOS("android")&&isBrowser("firefox")||lt()},_t=setTimeout(()=>ht(),200);window.addEventListener("blur",()=>clearTimeout(_t),{once:!0}),openLink(ut,"_self")}function getSystemTheme(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?THEME.LIGHT:THEME.DARK}function subscribeToThemeChange(ut){const lt=ht=>ut(ht.matches?THEME.DARK:THEME.LIGHT);return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",lt),()=>window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",lt)}function disableScroll(){document.documentElement.scrollHeight!==document.documentElement.clientHeight&&(document.body.style.top=toPx(-document.documentElement.scrollTop),document.body.classList.add(disableScrollClass))}function enableScroll(){document.body.classList.remove(disableScrollClass),document.documentElement.scrollTo({top:-parseFloat(getComputedStyle(document.body).top)}),document.body.style.top="auto"}function fixMobileSafariActiveTransition(){document.body.hasAttribute("ontouchstart")||document.body.setAttribute("ontouchstart","")}function defineStylesRoot(){customElements.define(globalStylesTag,class extends HTMLElement{})}function createMacrotask(ut){return __async(this,null,function*(){yield new Promise(lt=>requestAnimationFrame(lt)),ut()})}function createMacrotaskAsync(ut){return __async(this,null,function*(){return yield new Promise(lt=>requestAnimationFrame(lt)),ut()})}function preloadImages(ut){document.readyState!=="complete"?window.addEventListener("load",()=>createMacrotask(()=>preloadImages(ut)),{once:!0}):ut.forEach(lt=>{const ht=new window.Image;ht.src=lt})}function getWindow$1(){if(typeof window<"u")return window}function tryGetLocalStorage(){if(isLocalStorageAvailable())return localStorage;if(isNodeJs())throw new TonConnectUIError("`localStorage` is unavailable, but it is required for TonConnect. For more details, see https://github.com/ton-connect/sdk/tree/main/packages/sdk#init-connector");return InMemoryStorage.getInstance()}function isLocalStorageAvailable(){try{return typeof localStorage<"u"}catch{return!1}}function isNodeJs(){return typeof api$2<"u"&&api$2.versions!=null&&api$2.versions.node!=null}function getUserAgent(){var ut,lt,ht;const _t=new UAParser().getResult(),At=(ut=_t.os.name)==null?void 0:ut.toLowerCase(),qt=(lt=_t.device.model)==null?void 0:lt.toLowerCase();let Zt;switch(!0){case qt==="ipad":Zt="ipad";break;case At==="ios":Zt="ios";break;case At==="android":Zt="android";break;case At==="mac os":Zt="macos";break;case At==="linux":Zt="linux";break;case(At==null?void 0:At.includes("windows")):Zt="windows";break}const cr=(ht=_t.browser.name)==null?void 0:ht.toLowerCase();let Gr;switch(!0){case cr==="chrome":Gr="chrome";break;case cr==="firefox":Gr="firefox";break;case(cr==null?void 0:cr.includes("safari")):Gr="safari";break;case(cr==null?void 0:cr.includes("opera")):Gr="opera";break}return{os:Zt,browser:Gr}}function isOS(...ut){return ut.includes(getUserAgent().os)}function isBrowser(...ut){return ut.includes(getUserAgent().browser)}function toDeeplink(ut,lt){const ht=new URL(ut);return lt+ht.search}class WalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_wallet-info"),this.localStorage=tryGetLocalStorage()}setWalletInfo(lt){this.localStorage.setItem(this.storageKey,JSON.stringify(lt))}getWalletInfo(){const lt=this.localStorage.getItem(this.storageKey);return lt?JSON.parse(lt):null}removeWalletInfo(){this.localStorage.removeItem(this.storageKey)}}class PreferredWalletStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_preferred-wallet"),this.localStorage=tryGetLocalStorage()}setPreferredWalletAppName(lt){this.localStorage.setItem(this.storageKey,lt)}getPreferredWalletAppName(){return this.localStorage.getItem(this.storageKey)||void 0}}class LastSelectedWalletInfoStorage{constructor(){__publicField(this,"localStorage"),__publicField(this,"storageKey","ton-connect-ui_last-selected-wallet-info"),this.localStorage=tryGetLocalStorage()}setLastSelectedWalletInfo(lt){this.localStorage.setItem(this.storageKey,JSON.stringify(lt))}getLastSelectedWalletInfo(){const lt=this.localStorage.getItem(this.storageKey);return lt?JSON.parse(lt):null}removeLastSelectedWalletInfo(){this.localStorage.removeItem(this.storageKey)}}const[walletsModalState,setWalletsModalState]=createSignal({status:"closed",closeReason:null}),getWalletsModalIsOpened=createMemo(()=>walletsModalState().status==="opened"),[singleWalletModalState,setSingleWalletModalState]=createSignal({status:"closed",closeReason:null}),getSingleWalletModalIsOpened=createMemo(()=>singleWalletModalState().status==="opened"),getSingleWalletModalWalletInfo=createMemo(()=>{const ut=singleWalletModalState();return ut.status==="opened"?ut.walletInfo:null});let lastSelectedWalletInfoStorage=typeof window<"u"?new LastSelectedWalletInfoStorage:void 0;const[lastSelectedWalletInfo,_setLastSelectedWalletInfo]=createSignal((lastSelectedWalletInfoStorage==null?void 0:lastSelectedWalletInfoStorage.getLastSelectedWalletInfo())||null),setLastSelectedWalletInfo=ut=>{lastSelectedWalletInfoStorage||(lastSelectedWalletInfoStorage=new LastSelectedWalletInfoStorage),ut?lastSelectedWalletInfoStorage.setLastSelectedWalletInfo(ut):lastSelectedWalletInfoStorage.removeLastSelectedWalletInfo(),_setLastSelectedWalletInfo(ut)},[action,setAction]=createSignal(null),common$1={close:"Close",openWallet:"Open wallet",copyLink:"Copy Link",linkCopied:"Link Copied",copied:"Copied",yourWallet:"Your Wallet",retry:"Retry",get:"GET",mobile:"Mobile",browserExtension:"Browser Extension",desktop:"Desktop"},button$1={connectWallet:"Connect Wallet",dropdown:{copy:"Copy address",copied:"Address copied!",disconnect:"Disconnect"}},notifications$1={confirm:{header:"Open {{ name }} toconfirm thetransaction."},transactionSent:{header:"Transaction sent",text:"Your transactionwill beprocessed inafew seconds."},transactionCanceled:{header:"Transaction canceled",text:"There will be no changes toyour account."}},walletItem$1={walletOn:"Wallet in",recent:"Recent",installed:"Installed",popular:"Popular"},walletModal$1={loading:"Loading wallets",wallets:"Wallets",mobileUniversalModal:{connectYourWallet:"Connect your TONwallet",openWalletOnTelegramOrSelect:"Use Wallet in Telegram or choose other application",openWalletOnTelegram:"Connect Wallet in Telegram",chooseOtherApplication:"Choose other application",openLink:"Open Link",scan:"Scan with your mobilewallet"},desktopUniversalModal:{connectYourWallet:"Connect your TON wallet",scan:"Scan with your mobile wallet",availableWallets:"Available wallets"},mobileConnectionModal:{showQR:"Show QR Code",scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesnt support the requested action. Please connect another wallet that supports it",continueIn:"Continue in {{ name }}",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",connectionDeclined:"Connection declined"},desktopConnectionModal:{scanQR:"Scan theQR code below with your phonesor{{ name }}s camera",continueInExtension:"Continue in{{ name }} browser extension",dontHaveExtension:"Seems you don't have installed {{ name }}browserextension",missingFeatures:"Please update {{ name }}, your version does not support required features for this dApp",notSupportedWallet:"{{ name }} doesnt support the requested action. Please connect another wallet that supports it",getWallet:"Get {{ name }}",updateWallet:"Update {{ name }}",chooseAnotherWallet:"Choose Another Wallet",continueOnDesktop:"Continue in{{ name }} on desktop",openWalletOnTelegram:"Connect Wallet in Telegram on desktop",connectionDeclined:"Connection declined"},infoModal:{whatIsAWallet:"What is a wallet",secureDigitalAssets:"Secure digital assets storage",walletProtects:"A wallet protects and manages your digital assetsincluding TON, tokens and collectables.",controlIdentity:"Control your Web3 identity",manageIdentity:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely intheblockchain ecosystem.",effortlessCryptoTransactions:"Effortless crypto transactions",easilySend:"Easily send, receive, monitor your cryptocurrencies.Streamline your operations withdecentralized applications.",getAWallet:"Get a Wallet"},allWallets:{walletsBelowNotSupported:"The wallets below dont support all features ofthe connected service. You can use your recovery phrase in one of the supported wallets above.",walletNotSupportService:"{{ name }} doesnt support connected service"}},actionModal$1={confirmTransaction:{header:"Confirm thetransaction in{{ name }}",text:"It will only take amoment."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},en$1={common:common$1,button:button$1,notifications:notifications$1,walletItem:walletItem$1,walletModal:walletModal$1,actionModal:actionModal$1},common$2={close:"",openWallet:" ",copyLink:"",linkCopied:" ",copied:"",yourWallet:" ",retry:"",get:"",mobile:"",browserExtension:"",desktop:""},button={connectWallet:" ",dropdown:{copy:" ",copied:" !",disconnect:" "}},notifications={confirm:{header:" {{ name }},  ."},transactionSent:{header:" ",text:"    ."},transactionCanceled:{header:" ",text:"   ."}},walletItem={walletOn:"Wallet ",recent:"",installed:"",popular:""},walletModal={loading:" ",wallets:"",mobileUniversalModal:{connectYourWallet:" TON",openWalletOnTelegramOrSelect:" Wallet Telegram   ",openWalletOnTelegram:" Wallet  Telegram",chooseOtherApplication:"  ",openLink:"",scan:"  "},desktopUniversalModal:{connectYourWallet:" TON ",scan:" QR-  ",availableWallets:" "},mobileConnectionModal:{showQR:" QR-",scanQR:" QR-    {{ name }},  ",missingFeatures:" {{ name }},         dApp",notSupportedWallet:"{{ name }}    . ,   ,   ",continueIn:"  {{ name }}",updateWallet:" {{ name }}",chooseAnotherWallet:"  ",connectionDeclined:" "},desktopConnectionModal:{scanQR:" QR-    {{ name }},  ",continueInExtension:"   {{ name }}",dontHaveExtension:",    {{ name }}",missingFeatures:" {{ name }},         dApp",notSupportedWallet:"{{ name }}    . ,   ,   ",getWallet:" {{ name }}",updateWallet:" {{ name }}",chooseAnotherWallet:"  ",continueOnDesktop:" {{ name }} ",openWalletOnTelegram:" Wallet Telegram",connectionDeclined:" "},infoModal:{whatIsAWallet:"  ?",secureDigitalAssets:"   ",walletProtects:"    ,  TON,   ,  .",controlIdentity:"   Web3",manageIdentity:"        .       .",effortlessCryptoTransactions:" ",easilySend:" ,    .      .",getAWallet:" "},allWallets:{walletsBelowNotSupported:"       .            .",walletNotSupportService:"{{ name }}    "}},actionModal={confirmTransaction:{header:"  {{ name }}",text:"   ."},transactionSent:"$notifications.transactionSent",transactionCanceled:"$notifications.transactionCanceled"},ru$1={common:common$2,button,notifications,walletItem,walletModal,actionModal},i18nDictionary={en:parseDictionary(en$1),ru:parseDictionary(ru$1)};function parseDictionary(ut){const lt="$",ht=_t=>{Object.entries(_t).forEach(([At,qt])=>{if(typeof qt=="object"&&qt)return ht(qt);if(typeof qt=="string"){if(qt[0]===lt){const Zt=qt.slice(1).split(".");let cr=ut;Zt.forEach(Gr=>{if(Gr in cr)cr=cr[Gr];else throw new Error(`Cannot parse translations: there is no property ${Gr} in translation`)}),_t[At]=cr}qt.slice(0,2)===`\\${lt}`&&(_t[At]=qt.slice(1))}})};return ht(ut),ut}const ConnectorContext=createContext(),$RAW=Symbol("store-raw"),$NODE=Symbol("store-node"),$NAME=Symbol("store-name");function wrap$1(ut,lt){let ht=ut[$PROXY];if(!ht&&(Object.defineProperty(ut,$PROXY,{value:ht=new Proxy(ut,proxyTraps$1)}),!Array.isArray(ut))){const _t=Object.keys(ut),At=Object.getOwnPropertyDescriptors(ut);for(let qt=0,Zt=_t.length;qt<Zt;qt++){const cr=_t[qt];At[cr].get&&Object.defineProperty(ut,cr,{enumerable:At[cr].enumerable,get:At[cr].get.bind(ht)})}}return ht}function isWrappable(ut){let lt;return ut!=null&&typeof ut=="object"&&(ut[$PROXY]||!(lt=Object.getPrototypeOf(ut))||lt===Object.prototype||Array.isArray(ut))}function unwrap(ut,lt=new Set){let ht,_t,At,qt;if(ht=ut!=null&&ut[$RAW])return ht;if(!isWrappable(ut)||lt.has(ut))return ut;if(Array.isArray(ut)){Object.isFrozen(ut)?ut=ut.slice(0):lt.add(ut);for(let Zt=0,cr=ut.length;Zt<cr;Zt++)At=ut[Zt],(_t=unwrap(At,lt))!==At&&(ut[Zt]=_t)}else{Object.isFrozen(ut)?ut=Object.assign({},ut):lt.add(ut);const Zt=Object.keys(ut),cr=Object.getOwnPropertyDescriptors(ut);for(let Gr=0,Zr=Zt.length;Gr<Zr;Gr++)qt=Zt[Gr],!cr[qt].get&&(At=ut[qt],(_t=unwrap(At,lt))!==At&&(ut[qt]=_t))}return ut}function getDataNodes(ut){let lt=ut[$NODE];return lt||Object.defineProperty(ut,$NODE,{value:lt={}}),lt}function getDataNode(ut,lt,ht){return ut[lt]||(ut[lt]=createDataNode(ht))}function proxyDescriptor$1(ut,lt){const ht=Reflect.getOwnPropertyDescriptor(ut,lt);return!ht||ht.get||!ht.configurable||lt===$PROXY||lt===$NODE||lt===$NAME||(delete ht.value,delete ht.writable,ht.get=()=>ut[$PROXY][lt]),ht}function trackSelf(ut){if(getListener()){const lt=getDataNodes(ut);(lt._||(lt._=createDataNode()))()}}function ownKeys(ut){return trackSelf(ut),Reflect.ownKeys(ut)}function createDataNode(ut){const[lt,ht]=createSignal(ut,{equals:!1,internal:!0});return lt.$=ht,lt}const proxyTraps$1={get(ut,lt,ht){if(lt===$RAW)return ut;if(lt===$PROXY)return ht;if(lt===$TRACK)return trackSelf(ut),ht;const _t=getDataNodes(ut),At=_t.hasOwnProperty(lt);let qt=At?_t[lt]():ut[lt];if(lt===$NODE||lt==="__proto__")return qt;if(!At){const Zt=Object.getOwnPropertyDescriptor(ut,lt);getListener()&&(typeof qt!="function"||ut.hasOwnProperty(lt))&&!(Zt&&Zt.get)&&(qt=getDataNode(_t,lt,qt)())}return isWrappable(qt)?wrap$1(qt):qt},has(ut,lt){return lt===$RAW||lt===$PROXY||lt===$TRACK||lt===$NODE||lt==="__proto__"?!0:(this.get(ut,lt,ut),lt in ut)},set(){return!0},deleteProperty(){return!0},ownKeys,getOwnPropertyDescriptor:proxyDescriptor$1};function setProperty(ut,lt,ht,_t=!1){if(!_t&&ut[lt]===ht)return;const At=ut[lt],qt=ut.length;ht===void 0?delete ut[lt]:ut[lt]=ht;let Zt=getDataNodes(ut),cr;(cr=getDataNode(Zt,lt,At))&&cr.$(()=>ht),Array.isArray(ut)&&ut.length!==qt&&(cr=getDataNode(Zt,"length",qt))&&cr.$(ut.length),(cr=Zt._)&&cr.$()}function mergeStoreNode(ut,lt){const ht=Object.keys(lt);for(let _t=0;_t<ht.length;_t+=1){const At=ht[_t];setProperty(ut,At,lt[At])}}function updateArray(ut,lt){if(typeof lt=="function"&&(lt=lt(ut)),lt=unwrap(lt),Array.isArray(lt)){if(ut===lt)return;let ht=0,_t=lt.length;for(;ht<_t;ht++){const At=lt[ht];ut[ht]!==At&&setProperty(ut,ht,At)}setProperty(ut,"length",_t)}else mergeStoreNode(ut,lt)}function updatePath(ut,lt,ht=[]){let _t,At=ut;if(lt.length>1){_t=lt.shift();const Zt=typeof _t,cr=Array.isArray(ut);if(Array.isArray(_t)){for(let Gr=0;Gr<_t.length;Gr++)updatePath(ut,[_t[Gr]].concat(lt),ht);return}else if(cr&&Zt==="function"){for(let Gr=0;Gr<ut.length;Gr++)_t(ut[Gr],Gr)&&updatePath(ut,[Gr].concat(lt),ht);return}else if(cr&&Zt==="object"){const{from:Gr=0,to:Zr=ut.length-1,by:xn=1}=_t;for(let On=Gr;On<=Zr;On+=xn)updatePath(ut,[On].concat(lt),ht);return}else if(lt.length>1){updatePath(ut[_t],lt,[_t].concat(ht));return}At=ut[_t],ht=[_t].concat(ht)}let qt=lt[0];typeof qt=="function"&&(qt=qt(At,ht),qt===At)||_t===void 0&&qt==null||(qt=unwrap(qt),_t===void 0||isWrappable(At)&&isWrappable(qt)&&!Array.isArray(qt)?mergeStoreNode(At,qt):setProperty(ut,_t,qt))}function createStore$4(...[ut,lt]){const ht=unwrap(ut||{}),_t=Array.isArray(ht),At=wrap$1(ht);function qt(...Zt){batch(()=>{_t&&Zt.length===1?updateArray(ht,Zt[0]):updatePath(ht,Zt)})}return[At,qt]}const defaultLightColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#0098EA",telegramButton:"#0098EA",icon:{primary:"#0F0F0F",secondary:"#7A8999",tertiary:"#C1CAD2",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#FFFFFF",secondary:"#F1F3F5",segment:"#FFFFFF",tint:"#F1F3F5",qr:"#F1F3F5"},text:{primary:"#0F0F0F",secondary:"#6A7785"}},defaultDarkColorsSet={constant:{black:"#000000",white:"#FFFFFF"},connectButton:{background:"#0098EA",foreground:"#FFFFFF"},accent:"#E5E5EA",telegramButton:"#31A6F5",icon:{primary:"#E5E5EA",secondary:"#909099",tertiary:"#434347",success:"#29CC6A",error:"#F5A73B"},background:{primary:"#121214",secondary:"#18181A",segment:"#262629",tint:"#222224",qr:"#FFFFFF"},text:{primary:"#E5E5EA",secondary:"#7D7D85"}};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function isObject$1(ut){return Object.prototype.toString.call(ut)==="[object Object]"}function isPlainObject$1(ut){var lt,ht;return isObject$1(ut)===!1?!1:(lt=ut.constructor,lt===void 0?!0:(ht=lt.prototype,!(isObject$1(ht)===!1||ht.hasOwnProperty("isPrototypeOf")===!1)))}function mergeOptions(ut,lt){return ut?deepmerge$1(lt,ut,{arrayMerge:(_t,At,qt)=>At,isMergeableObject:isPlainObject$1}):lt}const[themeState,setThemeState]=createStore$4({theme:THEME.LIGHT,colors:defaultLightColorsSet,borderRadius:"m"}),themeColorsMappingDefault={[THEME.LIGHT]:defaultLightColorsSet,[THEME.DARK]:defaultDarkColorsSet},themeCustomColors={[THEME.LIGHT]:void 0,[THEME.DARK]:void 0};function setTheme(ut,lt){lt&&(themeCustomColors[THEME.DARK]=mergeOptions(lt[THEME.DARK],themeCustomColors[THEME.DARK]),themeCustomColors[THEME.LIGHT]=mergeOptions(lt[THEME.LIGHT],themeCustomColors[THEME.LIGHT])),setThemeState({theme:ut,colors:mergeOptions(themeCustomColors[ut],themeColorsMappingDefault[ut])})}function setBorderRadius(ut){setThemeState({borderRadius:ut})}function setColors(ut){themeCustomColors[THEME.DARK]=mergeOptions(ut[THEME.DARK],themeCustomColors[THEME.DARK]),themeCustomColors[THEME.LIGHT]=mergeOptions(ut[THEME.LIGHT],themeCustomColors[THEME.LIGHT]),setThemeState(lt=>({colors:mergeOptions(themeCustomColors[lt.theme],themeColorsMappingDefault[lt.theme])}))}const ImagePlaceholder=styled$1.div`
    background-color: ${ut=>ut.theme.colors.background.secondary};
`,Image$1=ut=>{let lt;const[ht,_t]=createSignal(null);return createEffect(()=>{const At=new window.Image;return At.src=ut.src,At.alt=ut.alt||"",At.setAttribute("draggable","false"),ut.class&&At.classList.add(ut.class),At.complete?_t(At):(At.addEventListener("load",()=>_t(At)),()=>At.removeEventListener("load",()=>_t(At)))}),[createComponent(Show,{get when(){return ht()},get children(){return ht()}}),createComponent(Show,{get when(){return!ht()},get children(){return createComponent(ImagePlaceholder,{get class(){return ut.class},ref(At){const qt=lt;typeof qt=="function"?qt(At):lt=At}})}})]};let initParams={};try{let ut=location.hash.toString();initParams=urlParseHashParams(ut)}catch(ut){}let tmaPlatform="unknown";initParams!=null&&initParams.tgWebAppPlatform&&(tmaPlatform=(_a$2=initParams.tgWebAppPlatform)!=null?_a$2:"unknown");if(tmaPlatform==="unknown"){const ut=getWindow$1();tmaPlatform=(_d$1=(_c$1=(_b$3=ut==null?void 0:ut.Telegram)==null?void 0:_b$3.WebApp)==null?void 0:_c$1.platform)!=null?_d$1:"unknown"}let webAppVersion="6.0";initParams!=null&&initParams.tgWebAppVersion&&(webAppVersion=initParams.tgWebAppVersion);if(!webAppVersion){const ut=getWindow$1();webAppVersion=(_g$1=(_f$1=(_e$1=ut==null?void 0:ut.Telegram)==null?void 0:_e$1.WebApp)==null?void 0:_f$1.version)!=null?_g$1:"6.0"}function isTmaPlatform(...ut){return ut.includes(tmaPlatform)}function isInTMA(){var ut;return tmaPlatform!=="unknown"||!!((ut=getWindow$1())!=null&&ut.TelegramWebviewProxy)}function isInTelegramBrowser(){var ut;const lt=!!((ut=getWindow$1())!=null&&ut.TelegramWebview);return(isInTMA()||lt)&&tmaPlatform==="unknown"}function sendExpand(){postEvent("web_app_expand",{})}function sendOpenTelegramLink(ut,lt){const ht=new URL(ut);if(ht.protocol!=="http:"&&ht.protocol!=="https:"){if(lt)return lt();throw new TonConnectUIError(`Url protocol is not supported: ${ht}`)}if(ht.hostname!=="t.me"){if(lt)return lt();throw new TonConnectUIError(`Url host is not supported: ${ht}`)}const _t=ht.pathname+ht.search;isIframe()||versionAtLeast("6.1")?postEvent("web_app_open_tg_link",{path_full:_t}):openLinkBlank("https://t.me"+_t)}function isIframe(){try{const ut=getWindow$1();return ut?ut.parent!=null&&ut!==ut.parent:!1}catch{return!1}}function postEvent(ut,lt){try{const ht=getWindow$1();if(!ht)throw new TonConnectUIError("Can't post event to parent window: window is not defined");if(ht.TelegramWebviewProxy!==void 0)logDebug("postEvent",ut,lt),ht.TelegramWebviewProxy.postEvent(ut,JSON.stringify(lt));else if(ht.external&&"notify"in ht.external)logDebug("postEvent",ut,lt),ht.external.notify(JSON.stringify({eventType:ut,eventData:lt}));else if(isIframe()){const _t="*",At=JSON.stringify({eventType:ut,eventData:lt});logDebug("postEvent",ut,lt),ht.parent.postMessage(At,_t)}else throw new TonConnectUIError("Can't post event to TMA")}catch(ht){logError(`Can't post event to parent window: ${ht}`)}}function urlParseHashParams(ut){ut=ut.replace(/^#/,"");let lt={};if(!ut.length)return lt;if(ut.indexOf("=")<0&&ut.indexOf("?")<0)return lt._path=urlSafeDecode(ut),lt;let ht=ut.indexOf("?");if(ht>=0){let At=ut.substr(0,ht);lt._path=urlSafeDecode(At),ut=ut.substr(ht+1)}let _t=urlParseQueryString(ut);for(let At in _t)lt[At]=_t[At];return lt}function urlSafeDecode(ut){try{return ut=ut.replace(/\+/g,"%20"),decodeURIComponent(ut)}catch{return ut}}function urlParseQueryString(ut){let lt={};if(!ut.length)return lt;let ht=ut.split("&"),_t,At,qt,Zt;for(_t=0;_t<ht.length;_t++)At=ht[_t].split("="),qt=urlSafeDecode(At[0]),Zt=At[1]==null?null:urlSafeDecode(At[1]),lt[qt]=Zt;return lt}function versionCompare(ut,lt){typeof ut!="string"&&(ut=""),typeof lt!="string"&&(lt="");let ht=ut.replace(/^\s+|\s+$/g,"").split("."),_t=lt.replace(/^\s+|\s+$/g,"").split("."),At,qt,Zt,cr;for(At=Math.max(ht.length,_t.length),qt=0;qt<At;qt++)if(Zt=parseInt(ht[qt])||0,cr=parseInt(_t[qt])||0,Zt!==cr)return Zt>cr?1:-1;return 0}function versionAtLeast(ut){return versionCompare(webAppVersion,ut)>=0}const maxWidth={mobile:440,tablet:1020};function isDevice(ut){const lt=getWindow$1();if(!lt)return ut==="desktop";if(isTmaPlatform("weba"))return!0;const ht=lt.innerWidth;switch(ut){case"desktop":return ht>maxWidth.tablet;case"tablet":return ht>maxWidth.mobile;default:case"mobile":return ht<=maxWidth.mobile||isOS("ios","android","ipad")}}function media(ut){switch(ut){case"mobile":return`@media (max-width: ${maxWidth.mobile}px)`;case"tablet":return`@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;default:case"desktop":return`@media (min-width: ${maxWidth.tablet}px)`}}const mediaTouch="@media (hover: none)",mediaNotTouch="@media not all and (hover: none)",borders$5={m:"100vh",s:"8px",none:"0"},scaleValues={s:.02,m:.04},ButtonStyled$1=styled$1.button`
    display: ${ut=>ut.leftIcon||ut.rightIcon?"flex":"inline-block"};
    gap: ${ut=>ut.leftIcon||ut.rightIcon?"6px":"unset"};
    align-items: ${ut=>ut.leftIcon||ut.rightIcon?"center":"unset"};
    justify-content: ${ut=>ut.leftIcon||ut.rightIcon?"space-between":"unset"};
    background-color: ${ut=>ut.appearance==="flat"?"transparent":ut.appearance==="secondary"?ut.theme.colors.background.tint:rgba(ut.theme.colors.accent,.12)};
    color: ${ut=>ut.appearance==="secondary"?ut.theme.colors.text.primary:ut.theme.colors.accent};

    padding: ${ut=>ut.appearance==="flat"?"0":"9px 16px"};
    padding-left: ${ut=>ut.leftIcon&&ut.appearance!=="flat"?"12px":"16px"};
    padding-right: ${ut=>ut.rightIcon&&ut.appearance!=="flat"?"12px":"16px"};
    border: none;
    border-radius: ${ut=>borders$5[ut.theme.borderRadius]};
    cursor: ${ut=>ut.disabled?"not-allowed":"pointer"};

    font-size: 14px;
    font-weight: 510;
    line-height: 18px;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: ${ut=>ut.disabled?"unset":`scale(${1+scaleValues[ut.scale]})`};
        }
    }

    &:active {
        transform: ${ut=>ut.disabled?"unset":`scale(${1-scaleValues[ut.scale]})`};
    }

    ${mediaTouch} {
        &:active {
            transform: ${ut=>ut.disabled?"unset":`scale(${1-scaleValues[ut.scale]*2})`};
        }
    }
`;function useDataAttributes(ut){const lt=untrack(()=>Object.keys(ut).filter(_t=>_t.startsWith("data-"))),[ht]=splitProps(ut,lt);return ht}const Button$1=ut=>{const lt=useDataAttributes(ut);return createComponent(ButtonStyled$1,mergeProps({get appearance(){return ut.appearance||"primary"},get class(){return ut.class},onClick:ht=>{var _t;return(_t=ut.onClick)==null?void 0:_t.call(ut,ht)},onMouseEnter:ht=>{var _t;return(_t=ut.onMouseEnter)==null?void 0:_t.call(ut,ht)},onMouseLeave:ht=>{var _t;return(_t=ut.onMouseLeave)==null?void 0:_t.call(ut,ht)},ref(ht){const _t=ut.ref;typeof _t=="function"?_t(ht):ut.ref=ht},get disabled(){return ut.disabled},get scale(){return ut.scale||"m"},get leftIcon(){return!!ut.leftIcon},get rightIcon(){return!!ut.rightIcon},"data-tc-button":"true"},lt,{get children(){return[createMemo(()=>ut.leftIcon),createMemo(()=>ut.children),createMemo(()=>ut.rightIcon)]}}))};function nextFrame(ut){requestAnimationFrame(()=>{requestAnimationFrame(ut)})}const Transition=ut=>{let lt,ht=!0;const[_t,At]=createSignal(),[qt,Zt]=createSignal(),cr=children(()=>ut.children),{onBeforeEnter:Gr,onEnter:Zr,onAfterEnter:xn,onBeforeExit:On,onExit:ss,onAfterExit:ls}=ut,cs=createMemo(()=>{const Al=ut.name||"s";return{enterActiveClass:ut.enterActiveClass||Al+"-enter-active",enterClass:ut.enterClass||Al+"-enter",enterToClass:ut.enterToClass||Al+"-enter-to",exitActiveClass:ut.exitActiveClass||Al+"-exit-active",exitClass:ut.exitClass||Al+"-exit",exitToClass:ut.exitToClass||Al+"-exit-to"}});function wl(Al,np){if(!ht||ut.appear){let cp=function(nm){Al&&(!nm||nm.target===Al)&&(Al.removeEventListener("transitionend",cp),Al.removeEventListener("animationend",cp),Al.classList.remove(...Lp),Al.classList.remove(...jp),batch(()=>{_t()!==Al&&At(Al),qt()===Al&&Zt(void 0)}),xn&&xn(Al),ut.mode==="inout"&&ep(Al,np))};const Cp=cs().enterClass.split(" "),Lp=cs().enterActiveClass.split(" "),jp=cs().enterToClass.split(" ");Gr&&Gr(Al),Al.classList.add(...Cp),Al.classList.add(...Lp),nextFrame(()=>{Al.classList.remove(...Cp),Al.classList.add(...jp),Zr&&Zr(Al,()=>cp()),(!Zr||Zr.length<2)&&(Al.addEventListener("transitionend",cp),Al.addEventListener("animationend",cp))})}np&&!ut.mode?Zt(Al):At(Al)}function ep(Al,np){const cp=cs().exitClass.split(" "),Cp=cs().exitActiveClass.split(" "),Lp=cs().exitToClass.split(" ");if(!np.parentNode)return jp();On&&On(np),np.classList.add(...cp),np.classList.add(...Cp),nextFrame(()=>{np.classList.remove(...cp),np.classList.add(...Lp)}),ss&&ss(np,()=>jp()),(!ss||ss.length<2)&&(np.addEventListener("transitionend",jp),np.addEventListener("animationend",jp));function jp(nm){(!nm||nm.target===np)&&(np.removeEventListener("transitionend",jp),np.removeEventListener("animationend",jp),np.classList.remove(...Cp),np.classList.remove(...Lp),_t()===np&&At(void 0),ls&&ls(np),ut.mode==="outin"&&wl(Al,np))}}return createComputed(Al=>{for(lt=cr();typeof lt=="function";)lt=lt();return untrack(()=>(lt&&lt!==Al&&(ut.mode!=="outin"?wl(lt,Al):ht&&At(lt)),Al&&Al!==lt&&ut.mode!=="inout"&&ep(lt,Al),ht=!1,lt))}),[_t,qt]};function getRect(ut){const{top:lt,bottom:ht,left:_t,right:At,width:qt,height:Zt}=ut.getBoundingClientRect(),cr=ut.parentNode.getBoundingClientRect();return{top:lt-cr.top,bottom:ht,left:_t-cr.left,right:At,width:qt,height:Zt}}const TransitionGroup=ut=>{const lt=children(()=>ut.children),ht=createMemo(()=>{const ls=ut.name||"s";return{enterActiveClass:ut.enterActiveClass||ls+"-enter-active",enterClass:ut.enterClass||ls+"-enter",enterToClass:ut.enterToClass||ls+"-enter-to",exitActiveClass:ut.exitActiveClass||ls+"-exit-active",exitClass:ut.exitClass||ls+"-exit",exitToClass:ut.exitToClass||ls+"-exit-to",moveClass:ut.moveClass||ls+"-move"}}),{onBeforeEnter:_t,onEnter:At,onAfterEnter:qt,onBeforeExit:Zt,onExit:cr,onAfterExit:Gr}=ut,[Zr,xn]=createSignal();let On=[],ss=!0;return createComputed(()=>{const ls=lt(),cs=[...ls],wl=new Set(ls),ep=new Set(On),Al=ht().enterClass.split(" "),np=ht().enterActiveClass.split(" "),cp=ht().enterToClass.split(" "),Cp=ht().exitClass.split(" "),Lp=ht().exitActiveClass.split(" "),jp=ht().exitToClass.split(" ");for(let nm=0;nm<ls.length;nm++){const zm=ls[nm];if(!ss&&!ep.has(zm)){let i1=function(d3){zm&&(!d3||d3.target===zm)&&(zm.removeEventListener("transitionend",i1),zm.removeEventListener("animationend",i1),zm.classList.remove(...np),zm.classList.remove(...cp),qt&&qt(zm))};_t&&_t(zm),zm.classList.add(...Al),zm.classList.add(...np),nextFrame(()=>{zm.classList.remove(...Al),zm.classList.add(...cp),At&&At(zm,()=>i1()),(!At||At.length<2)&&(zm.addEventListener("transitionend",i1),zm.addEventListener("animationend",i1))})}}for(let nm=0;nm<On.length;nm++){const zm=On[nm];if(!wl.has(zm)&&zm.parentNode){let i1=function(d3){(!d3||d3.target===zm)&&(zm.removeEventListener("transitionend",i1),zm.removeEventListener("animationend",i1),zm.classList.remove(...Lp),zm.classList.remove(...jp),Gr&&Gr(zm),On=On.filter(op=>op!==zm),xn(On))};cs.splice(nm,0,zm),Zt&&Zt(zm),zm.classList.add(...Cp),zm.classList.add(...Lp),nextFrame(()=>{zm.classList.remove(...Cp),zm.classList.add(...jp)}),cr&&cr(zm,()=>i1()),(!cr||cr.length<2)&&(zm.addEventListener("transitionend",i1),zm.addEventListener("animationend",i1))}}On=cs,xn(cs)}),createEffect(ls=>{const cs=Zr();return cs.forEach(wl=>{let ep;(ep=ls.get(wl))?ep.new&&(ep.new=!1,ep.newPos=getRect(wl)):ls.set(wl,ep={pos:getRect(wl),new:!ss}),ep.new&&wl.addEventListener("transitionend",()=>{ep.new=!1,wl.parentNode&&(ep.newPos=getRect(wl))},{once:!0}),ep.newPos&&(ep.pos=ep.newPos),ep.newPos=getRect(wl)}),ss?(ss=!1,ls):(cs.forEach(wl=>{const ep=ls.get(wl),Al=ep.pos,np=ep.newPos,cp=Al.left-np.left,Cp=Al.top-np.top;if(cp||Cp){ep.moved=!0;const Lp=wl.style;Lp.transform=`translate(${cp}px,${Cp}px)`,Lp.transitionDuration="0s"}}),document.body.offsetHeight,cs.forEach(wl=>{const ep=ls.get(wl);if(ep.moved){let Al=function(Cp){Cp&&Cp.target!==wl||!wl.parentNode||(!Cp||/transform$/.test(Cp.propertyName))&&(wl.removeEventListener("transitionend",Al),wl.classList.remove(...cp))};ep.moved=!1;const np=wl.style,cp=ht().moveClass.split(" ");wl.classList.add(...cp),np.transform=np.transitionDuration="",wl.addEventListener("transitionend",Al)}}),ls)},new Map),Zr};function clickOutside$1(ut,lt){const ht=_t=>{var At;return!ut.contains(_t.target)&&((At=lt())==null?void 0:At())};document.body.addEventListener("click",ht),onCleanup(()=>document.body.removeEventListener("click",ht))}function escPressed(ut,lt){const ht=_t=>{var At,qt;_t.key==="Escape"&&((At=document.activeElement)==null||At.blur(),(qt=lt())==null||qt())};document.body.addEventListener("keydown",ht),onCleanup(()=>document.body.removeEventListener("keydown",ht))}function androidBackHandler$1(ut,lt){const{isEnabled:ht,onClose:_t}=lt();if(!ht||!(getUserAgent().os==="android"))return;window.history.pushState(ROUTE_STATE,"");const qt=Zt=>{Zt.preventDefault(),_t()};window.addEventListener("popstate",qt,{once:!0}),onCleanup(()=>{window.removeEventListener("popstate",qt),createMacrotask(()=>{var Zt;((Zt=window.history.state)==null?void 0:Zt[ROUTE_STATE_KEY])===!0&&window.history.back()})})}const ROUTE_STATE_KEY="androidBackHandler",ROUTE_STATE={[ROUTE_STATE_KEY]:!0},_tmpl$$v=template$1('<svg><path fill-rule="evenodd" clip-rule="evenodd" d="M10.2122 14.3407C10.5384 14.0854 10.5959 13.614 10.3406 13.2878L6.20237 8.00003L10.3406 2.71227C10.5959 2.38607 10.5384 1.91469 10.2122 1.6594C9.88604 1.40412 9.41465 1.46161 9.15937 1.7878L4.65937 7.5378C4.44688 7.80932 4.44688 8.19074 4.65937 8.46226L9.15937 14.2123C9.41465 14.5385 9.88604 14.5959 10.2122 14.3407Z"></path></svg>',4,!0),rotationDegrees={left:0,top:90,right:180,bottom:270},ArrowIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary,_t=()=>ut.direction||"left",At=styled$1("svg")`
        transform: rotate(${qt=>rotationDegrees[qt.svgDirection]}deg);
        transition: transform 0.1s ease-in-out;
    `;return createComponent(At,{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",get svgDirection(){return _t()},get children(){const qt=_tmpl$$v.cloneNode(!0);return createRenderEffect(()=>setAttribute(qt,"fill",ht())),qt}})},_tmpl$$u=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.71966 2.71968C3.01255 2.42678 3.48743 2.42677 3.78032 2.71966L8.00002 6.93925L12.2197 2.71967C12.5126 2.42677 12.9874 2.42678 13.2803 2.71967C13.5732 3.01257 13.5732 3.48744 13.2803 3.78033L9.06068 7.99991L13.2803 12.2197C13.5732 12.5126 13.5732 12.9874 13.2803 13.2803C12.9874 13.5732 12.5126 13.5732 12.2197 13.2803L8.00002 9.06057L3.78033 13.2803C3.48744 13.5732 3.01257 13.5732 2.71967 13.2803C2.42678 12.9874 2.42677 12.5126 2.71967 12.2197L6.93936 7.99991L2.71968 3.78034C2.42678 3.48745 2.42677 3.01257 2.71966 2.71968Z"></path></svg>'),CloseIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$u.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},IconButtonStyled=styled$1.button`
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: ${ut=>ut.theme.colors.background.tint};
    border: none;
    cursor: pointer;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,IconButton=ut=>{const lt=useDataAttributes(ut),ht=()=>ut.icon||"close";return createComponent(IconButtonStyled,mergeProps({get class(){return ut.class},onClick:()=>ut.onClick(),"data-tc-icon-button":"true"},lt,{get children(){return[createComponent(Show,{get when(){return!!ut.children},get children(){return ut.children}}),createComponent(Show,{get when(){return!ut.children},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return ht()==="close"},get children(){return createComponent(CloseIcon,{get fill(){return ut.fill}})}}),createComponent(Match,{get when(){return ht()==="arrow"},get children(){return createComponent(ArrowIcon,{get fill(){return ut.fill}})}}),createComponent(Match,{get when(){return ht()==="question"},get children(){return createComponent(QuestionIcon,{get fill(){return ut.fill}})}}),createComponent(Match,{get when(){return typeof ht()!="string"},get children(){return ht()}})]}})}})]}}))},borders$4={m:"24px",s:"16px",none:"0"},ModalBackgroundStyled=styled$1.div`
    display: flex;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    padding: 20px 0;
    overflow-y: auto;

    ${media("mobile")} {
        padding-bottom: 0;
    }
`,ModalWrapperClass=u$1`
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);
    width: fit-content;
    margin: auto;

    ${media("mobile")} {
        width: 100%;
        height: fit-content;
        margin: auto 0 0 0;
    }
`,ModalBodyStyled=styled$1.div`
    position: relative;
    min-height: 100px;
    width: 416px;
    padding: 44px 56px 24px;

    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.04);

    background-color: ${ut=>ut.theme.colors.background.primary};
    border-radius: ${ut=>borders$4[ut.theme.borderRadius]};

    ${media("mobile")} {
        width: 100%;
    }
`,CloseButtonStyled=styled$1(IconButton)`
    position: absolute;
    right: 16px;
    top: 16px;
`,ModalFooterStyled=styled$1.div`
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 16px 16px 18px;
    border-radius: 0 0 ${ut=>borders$4[ut.theme.borderRadius]}
        ${ut=>borders$4[ut.theme.borderRadius]};
`,QuestionButtonStyled=styled$1(IconButton)`
    background-color: ${ut=>rgba(ut.theme.colors.icon.secondary,.12)};
`;class AnimationTimelineNoop{constructor(){__publicField(this,"currentTime",0)}}const _AnimationNoop=class{constructor(){__publicField(this,"currentTime",0),__publicField(this,"playbackRate",1),__publicField(this,"startTime",null),__publicField(this,"timeline",new AnimationTimelineNoop),__publicField(this,"finished",Promise.resolve(this)),__publicField(this,"effect",null),__publicField(this,"id",""),__publicField(this,"pending",!1),__publicField(this,"playState","finished"),__publicField(this,"replaceState","active"),__publicField(this,"ready",Promise.resolve(this)),__publicField(this,"oncancel",null),__publicField(this,"onfinish",null),__publicField(this,"onremove",null)}static create(){return _AnimationNoop._instance||(logWarning("Animation is not supported in this environment: please consider using the `web-animations-js` polyfill to provide a fallback implementation of the Web Animations API."),_AnimationNoop._instance=new _AnimationNoop),_AnimationNoop._instance}cancel(){}finish(){}pause(){}play(){}reverse(){}addEventListener(ut,lt,ht){}dispatchEvent(ut){return!1}removeEventListener(ut,lt,ht){}updatePlaybackRate(ut){}commitStyles(){}persist(){}};let AnimationNoop=_AnimationNoop;__publicField(AnimationNoop,"_instance",null);function animate(ut,lt,ht){return"animate"in ut?ut.animate(lt,ht):AnimationNoop.create()}const _tmpl$$t=template$1("<div></div>"),clickOutside=clickOutside$1,keyPressed=escPressed,androidBackHandler=androidBackHandler$1,Modal=ut=>{const lt=useTheme(),ht=useDataAttributes(ut);return createEffect(()=>{ut.opened?disableScroll():enableScroll()}),createComponent(Transition,{onBeforeEnter:_t=>{const At=isDevice("mobile")?200:100;animate(_t,[{opacity:0},{opacity:1}],{duration:At}),isDevice("mobile")&&animate(_t.firstElementChild,[{transform:"translateY(390px)"},{transform:"translateY(0)"}],{duration:At})},onExit:(_t,At)=>{const qt=isDevice("mobile")?200:100,Zt=animate(_t,[{opacity:1},{opacity:0}],{duration:qt});if(isDevice("mobile")){const cr=animate(_t.firstElementChild,[{transform:"translateY(0)"},{transform:"translateY(390px)"}],{duration:qt});Promise.all([Zt.finished,cr.finished]).then(At)}else Zt.finished.then(At)},get children(){return createComponent(Show,{get when(){return ut.opened},get children(){return createComponent(ModalBackgroundStyled,mergeProps({"data-tc-modal":"true"},ht,{get children(){const _t=_tmpl$$t.cloneNode(!0);return use(androidBackHandler,_t,()=>({isEnabled:ut.enableAndroidBackHandler,onClose:()=>ut.onClose()})),use(keyPressed,_t,()=>()=>ut.onClose()),use(clickOutside,_t,()=>()=>ut.onClose()),insert(_t,createComponent(ModalBodyStyled,{get class(){return ut.class},get children(){return[createComponent(CloseButtonStyled,{icon:"close",onClick:()=>ut.onClose()}),createMemo(()=>ut.children)]}}),null),insert(_t,createComponent(Show,{get when(){return ut.onClickQuestion},get children(){return createComponent(ModalFooterStyled,{get children(){return[createComponent(TonConnectBrand,{}),createComponent(QuestionButtonStyled,{get onClick(){return ut.onClickQuestion},icon:"question"})]}})}}),null),createRenderEffect(()=>className(_t,cn$1(ModalWrapperClass,u$1`
                                border-radius: ${borders$4[lt.borderRadius]};
                                background-color: ${lt.colors.background.tint};

                                ${media("mobile")} {
                                    border-radius: ${borders$4[lt.borderRadius]}
                                        ${borders$4[lt.borderRadius]} 0 0;
                                }
                            `))),_t}}))}})}})},wrapperBorderRadius={m:"22px",s:"12px",none:"0"},sliderBorderRadius={m:"18px",s:"8px",none:"0"},TabBarStyled=styled$1.div`
    display: grid;
    grid-template: 1fr / 1fr 1fr;
    width: fit-content;
    justify-items: center;
    gap: 4px;

    position: relative;
    padding: 4px;
    border-radius: ${ut=>wrapperBorderRadius[ut.theme.borderRadius]};

    background-color: ${ut=>ut.theme.colors.background.secondary};
`,SliderStyled=styled$1.div`
    position: absolute;
    top: 4px;
    left: 4px;

    height: calc(100% - 8px);
    width: calc(50% - 4px);

    border-radius: ${ut=>sliderBorderRadius[ut.theme.borderRadius]};
    background-color: ${ut=>ut.theme.colors.background.segment};

    transform: ${ut=>ut.right?"translateX(100%)":"translateX(0)"};

    transition: transform 0.13s ease-in-out;
`,InputStyled=styled$1.input`
    display: none;
`,LabelStyled=styled$1.label`
    padding: 9px 12px;
    z-index: 1;

    cursor: ${ut=>ut.isActive?"default":"pointer"};

    transition: transform 0.13s ease-in-out;

    &:hover {
        transform: ${ut=>ut.isActive?"none":"scale(1.025)"};
    }

    > * {
        ${ut=>ut.isActive?"":`color: ${ut.theme.colors.text.secondary};`}
    }
`,TabBar=ut=>{const lt="tabBar"+Math.floor(Math.random()*1e4);return createComponent(TabBarStyled,{get class(){return ut.class},"data-tc-tab-bar":"true",get children(){return[createComponent(SliderStyled,{get right(){return ut.selectedTabIndex===1}}),createComponent(LabelStyled,{get isActive(){return ut.selectedTabIndex===0},get children(){return[createComponent(InputStyled,{type:"radio",name:lt,get checked(){return ut.selectedTabIndex===0},onInput:()=>{var ht;return(ht=ut.onSelectedTabIndexChange)==null?void 0:ht.call(ut,0)}}),createMemo(()=>ut.tab1)]}}),createComponent(LabelStyled,{get isActive(){return ut.selectedTabIndex===1},get children(){return[createComponent(InputStyled,{type:"radio",get checked(){return ut.selectedTabIndex===1},name:lt,onInput:()=>{var ht;return(ht=ut.onSelectedTabIndexChange)==null?void 0:ht.call(ut,1)}}),createMemo(()=>ut.tab2)]}})]}})},backgroundBorders={m:"16px",s:"12px",none:"0"},imageBorders={m:"12px",s:"8px",none:"0"},qrNormalSize=256,imgSizeDefault=60,picSizeDefault=48,qrPaddingTop=24,CopyIconButton=styled$1.div`
    width: 52px;
    height: 52px;
    background: transparent;
    position: absolute;
    right: 0;
    bottom: 0;

    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.125s ease-in-out;
`,QrCodeBackground=styled$1.button`
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background-color: ${ut=>ut.theme.colors.background.qr};
    border-radius: ${ut=>backgroundBorders[ut.theme.borderRadius]};
    padding: ${toPx(qrPaddingTop)} 0;
    height: ${toPx(qrNormalSize+qrPaddingTop*2)};
    width: 100%;

    overflow: hidden;
    cursor: pointer;
    border: none;

    ${mediaNotTouch} {
        &:hover {
            ${CopyIconButton.class} {
                transform: scale(1.04);
            }
        }
    }

    &:active {
        ${CopyIconButton.class} {
            transform: scale(0.96);
        }
    }

    ${mediaTouch} {
        &:active {
            ${CopyIconButton.class} {
                transform: scale(0.92);
            }
        }
    }
`,QrCodeWrapper$2=styled$1.div`
    position: relative;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;

    > div:first-child {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    rect {
        fill: transparent;
    }

    path {
        fill: ${ut=>ut.theme.colors.constant.black};
    }
`,ImageBackground=styled$1.div`
    position: absolute;
    width: ${toPx(imgSizeDefault)};
    height: ${toPx(imgSizeDefault)};
    background: ${ut=>ut.theme.colors.background.qr};

    display: flex;
    align-items: center;
    justify-content: center;
`,ImageStyled$3=styled$1(Image$1)`
    width: ${ut=>toPx(ut.size)};
    height: ${ut=>toPx(ut.size)};
    border-radius: ${ut=>imageBorders[ut.theme.borderRadius]};
    background-color: ${ut=>ut.theme.colors.background.qr};
`,CopiedBoxStyled=styled$1.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${ut=>ut.theme.colors.background.segment};
`;var qrcode$1={exports:{}};(function(ut,lt){var ht=function(){var _t=function(Lp,jp){var nm=236,zm=17,i1=Lp,d3=qt[jp],op=null,Sn=0,Fo=null,as=[],us={},xl=function(Jm,$_){Sn=i1*4+17,op=function(j_){for(var h3=new Array(j_),Fp=0;Fp<j_;Fp+=1){h3[Fp]=new Array(j_);for(var W_=0;W_<j_;W_+=1)h3[Fp][W_]=null}return h3}(Sn),ip(0,0),ip(Sn-7,0),ip(0,Sn-7),go(),pu(),kp(Jm,$_),i1>=7&&h0(Jm),Fo==null&&(Fo=L_(i1,d3,as)),cm(Fo,$_)},ip=function(Jm,$_){for(var j_=-1;j_<=7;j_+=1)if(!(Jm+j_<=-1||Sn<=Jm+j_))for(var h3=-1;h3<=7;h3+=1)$_+h3<=-1||Sn<=$_+h3||(0<=j_&&j_<=6&&(h3==0||h3==6)||0<=h3&&h3<=6&&(j_==0||j_==6)||2<=j_&&j_<=4&&2<=h3&&h3<=4?op[Jm+j_][$_+h3]=!0:op[Jm+j_][$_+h3]=!1)},lp=function(){for(var Jm=0,$_=0,j_=0;j_<8;j_+=1){xl(!0,j_);var h3=cr.getLostPoint(us);(j_==0||Jm>h3)&&(Jm=h3,$_=j_)}return $_},pu=function(){for(var Jm=8;Jm<Sn-8;Jm+=1)op[Jm][6]==null&&(op[Jm][6]=Jm%2==0);for(var $_=8;$_<Sn-8;$_+=1)op[6][$_]==null&&(op[6][$_]=$_%2==0)},go=function(){for(var Jm=cr.getPatternPosition(i1),$_=0;$_<Jm.length;$_+=1)for(var j_=0;j_<Jm.length;j_+=1){var h3=Jm[$_],Fp=Jm[j_];if(op[h3][Fp]==null)for(var W_=-2;W_<=2;W_+=1)for(var t4=-2;t4<=2;t4+=1)W_==-2||W_==2||t4==-2||t4==2||W_==0&&t4==0?op[h3+W_][Fp+t4]=!0:op[h3+W_][Fp+t4]=!1}},h0=function(Jm){for(var $_=cr.getBCHTypeNumber(i1),j_=0;j_<18;j_+=1){var h3=!Jm&&($_>>j_&1)==1;op[Math.floor(j_/3)][j_%3+Sn-8-3]=h3}for(var j_=0;j_<18;j_+=1){var h3=!Jm&&($_>>j_&1)==1;op[j_%3+Sn-8-3][Math.floor(j_/3)]=h3}},kp=function(Jm,$_){for(var j_=d3<<3|$_,h3=cr.getBCHTypeInfo(j_),Fp=0;Fp<15;Fp+=1){var W_=!Jm&&(h3>>Fp&1)==1;Fp<6?op[Fp][8]=W_:Fp<8?op[Fp+1][8]=W_:op[Sn-15+Fp][8]=W_}for(var Fp=0;Fp<15;Fp+=1){var W_=!Jm&&(h3>>Fp&1)==1;Fp<8?op[8][Sn-Fp-1]=W_:Fp<9?op[8][15-Fp-1+1]=W_:op[8][15-Fp-1]=W_}op[Sn-8][8]=!Jm},cm=function(Jm,$_){for(var j_=-1,h3=Sn-1,Fp=7,W_=0,t4=cr.getMaskFunction($_),Nw=Sn-1;Nw>0;Nw-=2)for(Nw==6&&(Nw-=1);;){for(var Dp=0;Dp<2;Dp+=1)if(op[h3][Nw-Dp]==null){var a1=!1;W_<Jm.length&&(a1=(Jm[W_]>>>Fp&1)==1);var zp=t4(h3,Nw-Dp);zp&&(a1=!a1),op[h3][Nw-Dp]=a1,Fp-=1,Fp==-1&&(W_+=1,Fp=7)}if(h3+=j_,h3<0||Sn<=h3){h3-=j_,j_=-j_;break}}},b3=function(Jm,$_){for(var j_=0,h3=0,Fp=0,W_=new Array($_.length),t4=new Array($_.length),Nw=0;Nw<$_.length;Nw+=1){var Dp=$_[Nw].dataCount,a1=$_[Nw].totalCount-Dp;h3=Math.max(h3,Dp),Fp=Math.max(Fp,a1),W_[Nw]=new Array(Dp);for(var zp=0;zp<W_[Nw].length;zp+=1)W_[Nw][zp]=255&Jm.getBuffer()[zp+j_];j_+=Dp;var v3=cr.getErrorCorrectPolynomial(a1),Mw=Zr(W_[Nw],v3.getLength()-1),nw=Mw.mod(v3);t4[Nw]=new Array(v3.getLength()-1);for(var zp=0;zp<t4[Nw].length;zp+=1){var n4=zp+nw.getLength()-t4[Nw].length;t4[Nw][zp]=n4>=0?nw.getAt(n4):0}}for(var Ww=0,zp=0;zp<$_.length;zp+=1)Ww+=$_[zp].totalCount;for(var F_=new Array(Ww),qx=0,zp=0;zp<h3;zp+=1)for(var Nw=0;Nw<$_.length;Nw+=1)zp<W_[Nw].length&&(F_[qx]=W_[Nw][zp],qx+=1);for(var zp=0;zp<Fp;zp+=1)for(var Nw=0;Nw<$_.length;Nw+=1)zp<t4[Nw].length&&(F_[qx]=t4[Nw][zp],qx+=1);return F_},L_=function(Jm,$_,j_){for(var h3=xn.getRSBlocks(Jm,$_),Fp=On(),W_=0;W_<j_.length;W_+=1){var t4=j_[W_];Fp.put(t4.getMode(),4),Fp.put(t4.getLength(),cr.getLengthInBits(t4.getMode(),Jm)),t4.write(Fp)}for(var Nw=0,W_=0;W_<h3.length;W_+=1)Nw+=h3[W_].dataCount;if(Fp.getLengthInBits()>Nw*8)throw"code length overflow. ("+Fp.getLengthInBits()+">"+Nw*8+")";for(Fp.getLengthInBits()+4<=Nw*8&&Fp.put(0,4);Fp.getLengthInBits()%8!=0;)Fp.putBit(!1);for(;!(Fp.getLengthInBits()>=Nw*8||(Fp.put(nm,8),Fp.getLengthInBits()>=Nw*8));)Fp.put(zm,8);return b3(Fp,h3)};us.addData=function(Jm,$_){$_=$_||"Byte";var j_=null;switch($_){case"Numeric":j_=ss(Jm);break;case"Alphanumeric":j_=ls(Jm);break;case"Byte":j_=cs(Jm);break;case"Kanji":j_=wl(Jm);break;default:throw"mode:"+$_}as.push(j_),Fo=null},us.isDark=function(Jm,$_){if(Jm<0||Sn<=Jm||$_<0||Sn<=$_)throw Jm+","+$_;return op[Jm][$_]},us.getModuleCount=function(){return Sn},us.make=function(){if(i1<1){for(var Jm=1;Jm<40;Jm++){for(var $_=xn.getRSBlocks(Jm,d3),j_=On(),h3=0;h3<as.length;h3++){var Fp=as[h3];j_.put(Fp.getMode(),4),j_.put(Fp.getLength(),cr.getLengthInBits(Fp.getMode(),Jm)),Fp.write(j_)}for(var W_=0,h3=0;h3<$_.length;h3++)W_+=$_[h3].dataCount;if(j_.getLengthInBits()<=W_*8)break}i1=Jm}xl(!1,lp())},us.createTableTag=function(Jm,$_){Jm=Jm||2,$_=typeof $_>"u"?Jm*4:$_;var j_="";j_+='<table style="',j_+=" border-width: 0px; border-style: none;",j_+=" border-collapse: collapse;",j_+=" padding: 0px; margin: "+$_+"px;",j_+='">',j_+="<tbody>";for(var h3=0;h3<us.getModuleCount();h3+=1){j_+="<tr>";for(var Fp=0;Fp<us.getModuleCount();Fp+=1)j_+='<td style="',j_+=" border-width: 0px; border-style: none;",j_+=" border-collapse: collapse;",j_+=" padding: 0px; margin: 0px;",j_+=" width: "+Jm+"px;",j_+=" height: "+Jm+"px;",j_+=" background-color: ",j_+=us.isDark(h3,Fp)?"#000000":"#ffffff",j_+=";",j_+='"/>';j_+="</tr>"}return j_+="</tbody>",j_+="</table>",j_},us.createSvgTag=function(Jm,$_,j_,h3){var Fp={};typeof arguments[0]=="object"&&(Fp=arguments[0],Jm=Fp.cellSize,$_=Fp.margin,j_=Fp.alt,h3=Fp.title),Jm=Jm||2,$_=typeof $_>"u"?Jm*4:$_,j_=typeof j_=="string"?{text:j_}:j_||{},j_.text=j_.text||null,j_.id=j_.text?j_.id||"qrcode-description":null,h3=typeof h3=="string"?{text:h3}:h3||{},h3.text=h3.text||null,h3.id=h3.text?h3.id||"qrcode-title":null;var W_=us.getModuleCount()*Jm+$_*2,t4,Nw,Dp,a1,zp="",v3;for(v3="l"+Jm+",0 0,"+Jm+" -"+Jm+",0 0,-"+Jm+"z ",zp+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',zp+=Fp.scalable?"":' width="'+W_+'px" height="'+W_+'px"',zp+=' viewBox="0 0 '+W_+" "+W_+'" ',zp+=' preserveAspectRatio="xMinYMin meet"',zp+=h3.text||j_.text?' role="img" aria-labelledby="'+Ym([h3.id,j_.id].join(" ").trim())+'"':"",zp+=">",zp+=h3.text?'<title id="'+Ym(h3.id)+'">'+Ym(h3.text)+"</title>":"",zp+=j_.text?'<description id="'+Ym(j_.id)+'">'+Ym(j_.text)+"</description>":"",zp+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',zp+='<path d="',Dp=0;Dp<us.getModuleCount();Dp+=1)for(a1=Dp*Jm+$_,t4=0;t4<us.getModuleCount();t4+=1)us.isDark(Dp,t4)&&(Nw=t4*Jm+$_,zp+="M"+Nw+","+a1+v3);return zp+='" stroke="transparent" fill="black"/>',zp+="</svg>",zp},us.createDataURL=function(Jm,$_){Jm=Jm||2,$_=typeof $_>"u"?Jm*4:$_;var j_=us.getModuleCount()*Jm+$_*2,h3=$_,Fp=j_-$_;return Cp(j_,j_,function(W_,t4){if(h3<=W_&&W_<Fp&&h3<=t4&&t4<Fp){var Nw=Math.floor((W_-h3)/Jm),Dp=Math.floor((t4-h3)/Jm);return us.isDark(Dp,Nw)?0:1}else return 1})},us.createImgTag=function(Jm,$_,j_){Jm=Jm||2,$_=typeof $_>"u"?Jm*4:$_;var h3=us.getModuleCount()*Jm+$_*2,Fp="";return Fp+="<img",Fp+=' src="',Fp+=us.createDataURL(Jm,$_),Fp+='"',Fp+=' width="',Fp+=h3,Fp+='"',Fp+=' height="',Fp+=h3,Fp+='"',j_&&(Fp+=' alt="',Fp+=Ym(j_),Fp+='"'),Fp+="/>",Fp};var Ym=function(Jm){for(var $_="",j_=0;j_<Jm.length;j_+=1){var h3=Jm.charAt(j_);switch(h3){case"<":$_+="&lt;";break;case">":$_+="&gt;";break;case"&":$_+="&amp;";break;case'"':$_+="&quot;";break;default:$_+=h3;break}}return $_},Xm=function(Jm){var $_=1;Jm=typeof Jm>"u"?$_*2:Jm;var j_=us.getModuleCount()*$_+Jm*2,h3=Jm,Fp=j_-Jm,W_,t4,Nw,Dp,a1,zp={"":""," ":""," ":"","  ":" "},v3={"":""," ":""," ":" ","  ":" "},Mw="";for(W_=0;W_<j_;W_+=2){for(Nw=Math.floor((W_-h3)/$_),Dp=Math.floor((W_+1-h3)/$_),t4=0;t4<j_;t4+=1)a1="",h3<=t4&&t4<Fp&&h3<=W_&&W_<Fp&&us.isDark(Nw,Math.floor((t4-h3)/$_))&&(a1=" "),h3<=t4&&t4<Fp&&h3<=W_+1&&W_+1<Fp&&us.isDark(Dp,Math.floor((t4-h3)/$_))?a1+=" ":a1+="",Mw+=Jm<1&&W_+1>=Fp?v3[a1]:zp[a1];Mw+=`
`}return j_%2&&Jm>0?Mw.substring(0,Mw.length-j_-1)+Array(j_+1).join(""):Mw.substring(0,Mw.length-1)};return us.createASCII=function(Jm,$_){if(Jm=Jm||1,Jm<2)return Xm($_);Jm-=1,$_=typeof $_>"u"?Jm*2:$_;var j_=us.getModuleCount()*Jm+$_*2,h3=$_,Fp=j_-$_,W_,t4,Nw,Dp,a1=Array(Jm+1).join(""),zp=Array(Jm+1).join("  "),v3="",Mw="";for(W_=0;W_<j_;W_+=1){for(Nw=Math.floor((W_-h3)/Jm),Mw="",t4=0;t4<j_;t4+=1)Dp=1,h3<=t4&&t4<Fp&&h3<=W_&&W_<Fp&&us.isDark(Nw,Math.floor((t4-h3)/Jm))&&(Dp=0),Mw+=Dp?a1:zp;for(Nw=0;Nw<Jm;Nw+=1)v3+=Mw+`
`}return v3.substring(0,v3.length-1)},us.renderTo2dContext=function(Jm,$_){$_=$_||2;for(var j_=us.getModuleCount(),h3=0;h3<j_;h3++)for(var Fp=0;Fp<j_;Fp++)Jm.fillStyle=us.isDark(h3,Fp)?"black":"white",Jm.fillRect(h3*$_,Fp*$_,$_,$_)},us};_t.stringToBytesFuncs={default:function(Lp){for(var jp=[],nm=0;nm<Lp.length;nm+=1){var zm=Lp.charCodeAt(nm);jp.push(zm&255)}return jp}},_t.stringToBytes=_t.stringToBytesFuncs.default,_t.createStringToBytes=function(Lp,jp){var nm=function(){for(var i1=np(Lp),d3=function(){var pu=i1.read();if(pu==-1)throw"eof";return pu},op=0,Sn={};;){var Fo=i1.read();if(Fo==-1)break;var as=d3(),us=d3(),xl=d3(),ip=String.fromCharCode(Fo<<8|as),lp=us<<8|xl;Sn[ip]=lp,op+=1}if(op!=jp)throw op+" != "+jp;return Sn}(),zm="?".charCodeAt(0);return function(i1){for(var d3=[],op=0;op<i1.length;op+=1){var Sn=i1.charCodeAt(op);if(Sn<128)d3.push(Sn);else{var Fo=nm[i1.charAt(op)];typeof Fo=="number"?(Fo&255)==Fo?d3.push(Fo):(d3.push(Fo>>>8),d3.push(Fo&255)):d3.push(zm)}}return d3}};var At={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},qt={L:1,M:0,Q:3,H:2},Zt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},cr=function(){var Lp=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],jp=1335,nm=7973,zm=21522,i1={},d3=function(op){for(var Sn=0;op!=0;)Sn+=1,op>>>=1;return Sn};return i1.getBCHTypeInfo=function(op){for(var Sn=op<<10;d3(Sn)-d3(jp)>=0;)Sn^=jp<<d3(Sn)-d3(jp);return(op<<10|Sn)^zm},i1.getBCHTypeNumber=function(op){for(var Sn=op<<12;d3(Sn)-d3(nm)>=0;)Sn^=nm<<d3(Sn)-d3(nm);return op<<12|Sn},i1.getPatternPosition=function(op){return Lp[op-1]},i1.getMaskFunction=function(op){switch(op){case Zt.PATTERN000:return function(Sn,Fo){return(Sn+Fo)%2==0};case Zt.PATTERN001:return function(Sn,Fo){return Sn%2==0};case Zt.PATTERN010:return function(Sn,Fo){return Fo%3==0};case Zt.PATTERN011:return function(Sn,Fo){return(Sn+Fo)%3==0};case Zt.PATTERN100:return function(Sn,Fo){return(Math.floor(Sn/2)+Math.floor(Fo/3))%2==0};case Zt.PATTERN101:return function(Sn,Fo){return Sn*Fo%2+Sn*Fo%3==0};case Zt.PATTERN110:return function(Sn,Fo){return(Sn*Fo%2+Sn*Fo%3)%2==0};case Zt.PATTERN111:return function(Sn,Fo){return(Sn*Fo%3+(Sn+Fo)%2)%2==0};default:throw"bad maskPattern:"+op}},i1.getErrorCorrectPolynomial=function(op){for(var Sn=Zr([1],0),Fo=0;Fo<op;Fo+=1)Sn=Sn.multiply(Zr([1,Gr.gexp(Fo)],0));return Sn},i1.getLengthInBits=function(op,Sn){if(1<=Sn&&Sn<10)switch(op){case At.MODE_NUMBER:return 10;case At.MODE_ALPHA_NUM:return 9;case At.MODE_8BIT_BYTE:return 8;case At.MODE_KANJI:return 8;default:throw"mode:"+op}else if(Sn<27)switch(op){case At.MODE_NUMBER:return 12;case At.MODE_ALPHA_NUM:return 11;case At.MODE_8BIT_BYTE:return 16;case At.MODE_KANJI:return 10;default:throw"mode:"+op}else if(Sn<41)switch(op){case At.MODE_NUMBER:return 14;case At.MODE_ALPHA_NUM:return 13;case At.MODE_8BIT_BYTE:return 16;case At.MODE_KANJI:return 12;default:throw"mode:"+op}else throw"type:"+Sn},i1.getLostPoint=function(op){for(var Sn=op.getModuleCount(),Fo=0,as=0;as<Sn;as+=1)for(var us=0;us<Sn;us+=1){for(var xl=0,ip=op.isDark(as,us),lp=-1;lp<=1;lp+=1)if(!(as+lp<0||Sn<=as+lp))for(var pu=-1;pu<=1;pu+=1)us+pu<0||Sn<=us+pu||lp==0&&pu==0||ip==op.isDark(as+lp,us+pu)&&(xl+=1);xl>5&&(Fo+=3+xl-5)}for(var as=0;as<Sn-1;as+=1)for(var us=0;us<Sn-1;us+=1){var go=0;op.isDark(as,us)&&(go+=1),op.isDark(as+1,us)&&(go+=1),op.isDark(as,us+1)&&(go+=1),op.isDark(as+1,us+1)&&(go+=1),(go==0||go==4)&&(Fo+=3)}for(var as=0;as<Sn;as+=1)for(var us=0;us<Sn-6;us+=1)op.isDark(as,us)&&!op.isDark(as,us+1)&&op.isDark(as,us+2)&&op.isDark(as,us+3)&&op.isDark(as,us+4)&&!op.isDark(as,us+5)&&op.isDark(as,us+6)&&(Fo+=40);for(var us=0;us<Sn;us+=1)for(var as=0;as<Sn-6;as+=1)op.isDark(as,us)&&!op.isDark(as+1,us)&&op.isDark(as+2,us)&&op.isDark(as+3,us)&&op.isDark(as+4,us)&&!op.isDark(as+5,us)&&op.isDark(as+6,us)&&(Fo+=40);for(var h0=0,us=0;us<Sn;us+=1)for(var as=0;as<Sn;as+=1)op.isDark(as,us)&&(h0+=1);var kp=Math.abs(100*h0/Sn/Sn-50)/5;return Fo+=kp*10,Fo},i1}(),Gr=function(){for(var Lp=new Array(256),jp=new Array(256),nm=0;nm<8;nm+=1)Lp[nm]=1<<nm;for(var nm=8;nm<256;nm+=1)Lp[nm]=Lp[nm-4]^Lp[nm-5]^Lp[nm-6]^Lp[nm-8];for(var nm=0;nm<255;nm+=1)jp[Lp[nm]]=nm;var zm={};return zm.glog=function(i1){if(i1<1)throw"glog("+i1+")";return jp[i1]},zm.gexp=function(i1){for(;i1<0;)i1+=255;for(;i1>=256;)i1-=255;return Lp[i1]},zm}();function Zr(Lp,jp){if(typeof Lp.length>"u")throw Lp.length+"/"+jp;var nm=function(){for(var i1=0;i1<Lp.length&&Lp[i1]==0;)i1+=1;for(var d3=new Array(Lp.length-i1+jp),op=0;op<Lp.length-i1;op+=1)d3[op]=Lp[op+i1];return d3}(),zm={};return zm.getAt=function(i1){return nm[i1]},zm.getLength=function(){return nm.length},zm.multiply=function(i1){for(var d3=new Array(zm.getLength()+i1.getLength()-1),op=0;op<zm.getLength();op+=1)for(var Sn=0;Sn<i1.getLength();Sn+=1)d3[op+Sn]^=Gr.gexp(Gr.glog(zm.getAt(op))+Gr.glog(i1.getAt(Sn)));return Zr(d3,0)},zm.mod=function(i1){if(zm.getLength()-i1.getLength()<0)return zm;for(var d3=Gr.glog(zm.getAt(0))-Gr.glog(i1.getAt(0)),op=new Array(zm.getLength()),Sn=0;Sn<zm.getLength();Sn+=1)op[Sn]=zm.getAt(Sn);for(var Sn=0;Sn<i1.getLength();Sn+=1)op[Sn]^=Gr.gexp(Gr.glog(i1.getAt(Sn))+d3);return Zr(op,0).mod(i1)},zm}var xn=function(){var Lp=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],jp=function(i1,d3){var op={};return op.totalCount=i1,op.dataCount=d3,op},nm={},zm=function(i1,d3){switch(d3){case qt.L:return Lp[(i1-1)*4+0];case qt.M:return Lp[(i1-1)*4+1];case qt.Q:return Lp[(i1-1)*4+2];case qt.H:return Lp[(i1-1)*4+3];default:return}};return nm.getRSBlocks=function(i1,d3){var op=zm(i1,d3);if(typeof op>"u")throw"bad rs block @ typeNumber:"+i1+"/errorCorrectionLevel:"+d3;for(var Sn=op.length/3,Fo=[],as=0;as<Sn;as+=1)for(var us=op[as*3+0],xl=op[as*3+1],ip=op[as*3+2],lp=0;lp<us;lp+=1)Fo.push(jp(xl,ip));return Fo},nm}(),On=function(){var Lp=[],jp=0,nm={};return nm.getBuffer=function(){return Lp},nm.getAt=function(zm){var i1=Math.floor(zm/8);return(Lp[i1]>>>7-zm%8&1)==1},nm.put=function(zm,i1){for(var d3=0;d3<i1;d3+=1)nm.putBit((zm>>>i1-d3-1&1)==1)},nm.getLengthInBits=function(){return jp},nm.putBit=function(zm){var i1=Math.floor(jp/8);Lp.length<=i1&&Lp.push(0),zm&&(Lp[i1]|=128>>>jp%8),jp+=1},nm},ss=function(Lp){var jp=At.MODE_NUMBER,nm=Lp,zm={};zm.getMode=function(){return jp},zm.getLength=function(op){return nm.length},zm.write=function(op){for(var Sn=nm,Fo=0;Fo+2<Sn.length;)op.put(i1(Sn.substring(Fo,Fo+3)),10),Fo+=3;Fo<Sn.length&&(Sn.length-Fo==1?op.put(i1(Sn.substring(Fo,Fo+1)),4):Sn.length-Fo==2&&op.put(i1(Sn.substring(Fo,Fo+2)),7))};var i1=function(op){for(var Sn=0,Fo=0;Fo<op.length;Fo+=1)Sn=Sn*10+d3(op.charAt(Fo));return Sn},d3=function(op){if("0"<=op&&op<="9")return op.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+op};return zm},ls=function(Lp){var jp=At.MODE_ALPHA_NUM,nm=Lp,zm={};zm.getMode=function(){return jp},zm.getLength=function(d3){return nm.length},zm.write=function(d3){for(var op=nm,Sn=0;Sn+1<op.length;)d3.put(i1(op.charAt(Sn))*45+i1(op.charAt(Sn+1)),11),Sn+=2;Sn<op.length&&d3.put(i1(op.charAt(Sn)),6)};var i1=function(d3){if("0"<=d3&&d3<="9")return d3.charCodeAt(0)-"0".charCodeAt(0);if("A"<=d3&&d3<="Z")return d3.charCodeAt(0)-"A".charCodeAt(0)+10;switch(d3){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+d3}};return zm},cs=function(Lp){var jp=At.MODE_8BIT_BYTE,nm=_t.stringToBytes(Lp),zm={};return zm.getMode=function(){return jp},zm.getLength=function(i1){return nm.length},zm.write=function(i1){for(var d3=0;d3<nm.length;d3+=1)i1.put(nm[d3],8)},zm},wl=function(Lp){var jp=At.MODE_KANJI,nm=_t.stringToBytesFuncs.SJIS;if(!nm)throw"sjis not supported.";(function(d3,op){var Sn=nm(d3);if(Sn.length!=2||(Sn[0]<<8|Sn[1])!=op)throw"sjis not supported."})("",38726);var zm=nm(Lp),i1={};return i1.getMode=function(){return jp},i1.getLength=function(d3){return~~(zm.length/2)},i1.write=function(d3){for(var op=zm,Sn=0;Sn+1<op.length;){var Fo=(255&op[Sn])<<8|255&op[Sn+1];if(33088<=Fo&&Fo<=40956)Fo-=33088;else if(57408<=Fo&&Fo<=60351)Fo-=49472;else throw"illegal char at "+(Sn+1)+"/"+Fo;Fo=(Fo>>>8&255)*192+(Fo&255),d3.put(Fo,13),Sn+=2}if(Sn<op.length)throw"illegal char at "+(Sn+1)},i1},ep=function(){var Lp=[],jp={};return jp.writeByte=function(nm){Lp.push(nm&255)},jp.writeShort=function(nm){jp.writeByte(nm),jp.writeByte(nm>>>8)},jp.writeBytes=function(nm,zm,i1){zm=zm||0,i1=i1||nm.length;for(var d3=0;d3<i1;d3+=1)jp.writeByte(nm[d3+zm])},jp.writeString=function(nm){for(var zm=0;zm<nm.length;zm+=1)jp.writeByte(nm.charCodeAt(zm))},jp.toByteArray=function(){return Lp},jp.toString=function(){var nm="";nm+="[";for(var zm=0;zm<Lp.length;zm+=1)zm>0&&(nm+=","),nm+=Lp[zm];return nm+="]",nm},jp},Al=function(){var Lp=0,jp=0,nm=0,zm="",i1={},d3=function(Sn){zm+=String.fromCharCode(op(Sn&63))},op=function(Sn){if(!(Sn<0)){if(Sn<26)return 65+Sn;if(Sn<52)return 97+(Sn-26);if(Sn<62)return 48+(Sn-52);if(Sn==62)return 43;if(Sn==63)return 47}throw"n:"+Sn};return i1.writeByte=function(Sn){for(Lp=Lp<<8|Sn&255,jp+=8,nm+=1;jp>=6;)d3(Lp>>>jp-6),jp-=6},i1.flush=function(){if(jp>0&&(d3(Lp<<6-jp),Lp=0,jp=0),nm%3!=0)for(var Sn=3-nm%3,Fo=0;Fo<Sn;Fo+=1)zm+="="},i1.toString=function(){return zm},i1},np=function(Lp){var jp=Lp,nm=0,zm=0,i1=0,d3={};d3.read=function(){for(;i1<8;){if(nm>=jp.length){if(i1==0)return-1;throw"unexpected end of file./"+i1}var Sn=jp.charAt(nm);if(nm+=1,Sn=="=")return i1=0,-1;if(Sn.match(/^\s$/))continue;zm=zm<<6|op(Sn.charCodeAt(0)),i1+=6}var Fo=zm>>>i1-8&255;return i1-=8,Fo};var op=function(Sn){if(65<=Sn&&Sn<=90)return Sn-65;if(97<=Sn&&Sn<=122)return Sn-97+26;if(48<=Sn&&Sn<=57)return Sn-48+52;if(Sn==43)return 62;if(Sn==47)return 63;throw"c:"+Sn};return d3},cp=function(Lp,jp){var nm=Lp,zm=jp,i1=new Array(Lp*jp),d3={};d3.setPixel=function(as,us,xl){i1[us*nm+as]=xl},d3.write=function(as){as.writeString("GIF87a"),as.writeShort(nm),as.writeShort(zm),as.writeByte(128),as.writeByte(0),as.writeByte(0),as.writeByte(0),as.writeByte(0),as.writeByte(0),as.writeByte(255),as.writeByte(255),as.writeByte(255),as.writeString(","),as.writeShort(0),as.writeShort(0),as.writeShort(nm),as.writeShort(zm),as.writeByte(0);var us=2,xl=Sn(us);as.writeByte(us);for(var ip=0;xl.length-ip>255;)as.writeByte(255),as.writeBytes(xl,ip,255),ip+=255;as.writeByte(xl.length-ip),as.writeBytes(xl,ip,xl.length-ip),as.writeByte(0),as.writeString(";")};var op=function(as){var us=as,xl=0,ip=0,lp={};return lp.write=function(pu,go){if(pu>>>go)throw"length over";for(;xl+go>=8;)us.writeByte(255&(pu<<xl|ip)),go-=8-xl,pu>>>=8-xl,ip=0,xl=0;ip=pu<<xl|ip,xl=xl+go},lp.flush=function(){xl>0&&us.writeByte(ip)},lp},Sn=function(as){for(var us=1<<as,xl=(1<<as)+1,ip=as+1,lp=Fo(),pu=0;pu<us;pu+=1)lp.add(String.fromCharCode(pu));lp.add(String.fromCharCode(us)),lp.add(String.fromCharCode(xl));var go=ep(),h0=op(go);h0.write(us,ip);var kp=0,cm=String.fromCharCode(i1[kp]);for(kp+=1;kp<i1.length;){var b3=String.fromCharCode(i1[kp]);kp+=1,lp.contains(cm+b3)?cm=cm+b3:(h0.write(lp.indexOf(cm),ip),lp.size()<4095&&(lp.size()==1<<ip&&(ip+=1),lp.add(cm+b3)),cm=b3)}return h0.write(lp.indexOf(cm),ip),h0.write(xl,ip),h0.flush(),go.toByteArray()},Fo=function(){var as={},us=0,xl={};return xl.add=function(ip){if(xl.contains(ip))throw"dup key:"+ip;as[ip]=us,us+=1},xl.size=function(){return us},xl.indexOf=function(ip){return as[ip]},xl.contains=function(ip){return typeof as[ip]<"u"},xl};return d3},Cp=function(Lp,jp,nm){for(var zm=cp(Lp,jp),i1=0;i1<jp;i1+=1)for(var d3=0;d3<Lp;d3+=1)zm.setPixel(d3,i1,nm(d3,i1));var op=ep();zm.write(op);for(var Sn=Al(),Fo=op.toByteArray(),as=0;as<Fo.length;as+=1)Sn.writeByte(Fo[as]);return Sn.flush(),"data:image/gif;base64,"+Sn};return _t}();(function(){ht.stringToBytesFuncs["UTF-8"]=function(_t){function At(qt){for(var Zt=[],cr=0;cr<qt.length;cr++){var Gr=qt.charCodeAt(cr);Gr<128?Zt.push(Gr):Gr<2048?Zt.push(192|Gr>>6,128|Gr&63):Gr<55296||Gr>=57344?Zt.push(224|Gr>>12,128|Gr>>6&63,128|Gr&63):(cr++,Gr=65536+((Gr&1023)<<10|qt.charCodeAt(cr)&1023),Zt.push(240|Gr>>18,128|Gr>>12&63,128|Gr>>6&63,128|Gr&63))}return Zt}return At(_t)}})(),function(_t){ut.exports=_t()}(function(){return ht})})(qrcode$1);const qrcode=qrcode$1.exports;function copyToClipboard(ut){return __async(this,null,function*(){try{if(!(navigator!=null&&navigator.clipboard))throw new TonConnectUIError("Clipboard API not available");return yield navigator.clipboard.writeText(ut)}catch{}fallbackCopyTextToClipboard(ut)})}function fallbackCopyTextToClipboard(ut){const lt=document.createElement("textarea");lt.value=ut,lt.style.top="0",lt.style.left="0",lt.style.position="fixed",document.body.appendChild(lt),lt.focus(),lt.select();try{document.execCommand("copy")}finally{document.body.removeChild(lt)}}const _tmpl$$s=template$1("<div></div>"),QRCode=ut=>{let lt,ht,_t;const[At,qt]=createSignal(!1),[Zt,cr]=createSignal(picSizeDefault);createEffect(()=>{const ss=qrcode(0,"L");ss.addData(ut.sourceUrl),ss.make(),lt.innerHTML=ss.createSvgTag(4,0);const ls=lt.firstElementChild.clientWidth,cs=Math.round(qrNormalSize/ls*1e5)/1e5;if(_t){const wl=Math.ceil(imgSizeDefault/(cs*4))*4,ep=toPx(Math.ceil((ls-wl)/(2*4))*4);_t.style.top=ep,_t.style.left=ep,_t.style.height=toPx(wl),_t.style.width=toPx(wl),cr(Math.round(picSizeDefault/cs))}ht.style.transform=`scale(${cs})`});let Gr=null;return createComponent(QrCodeBackground,{get class(){return ut.class},onClick:()=>{qt(!0),copyToClipboard(ut.sourceUrl),Gr!=null&&clearTimeout(Gr),Gr=setTimeout(()=>qt(!1),1500)},get children(){return[createComponent(QrCodeWrapper$2,{ref(xn){const On=ht;typeof On=="function"?On(xn):ht=xn},get children(){return[(()=>{const xn=_tmpl$$s.cloneNode(!0),On=lt;return typeof On=="function"?use(On,xn):lt=xn,xn})(),createComponent(Show,{get when(){return ut.imageUrl},get children(){return createComponent(ImageBackground,{ref(xn){const On=_t;typeof On=="function"?On(xn):_t=xn},get children(){return createComponent(ImageStyled$3,{get src(){return ut.imageUrl},alt:"",get size(){return Zt()}})}})}})]}}),createComponent(Transition,{onBeforeEnter:xn=>{animate(xn,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(xn,On)=>{animate(xn,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{On()})},get children(){return createComponent(Show,{get when(){return At()&&!ut.disableCopy},get children(){return createComponent(CopiedBoxStyled,{get children(){return[createComponent(SuccessIcon,{size:"xs"}),createComponent(Text$2,{translationKey:"common.linkCopied",children:"Link Copied"})]}})}})}}),createComponent(Show,{get when(){return!ut.disableCopy},get children(){return createComponent(CopyIconButton,{get children(){return createComponent(CopyLightIcon,{})}})}})]}})};var deepReadObject=(ut,lt,ht)=>{const _t=lt.trim().split(".").reduce((At,qt)=>At?At[qt]:void 0,ut);return _t!==void 0?_t:ht},template=(ut,lt,ht=/{{(.*?)}}/g)=>ut.replace(ht,(_t,At)=>deepReadObject(lt,At,"")),createI18nContext=(ut={},lt=navigator.language in ut?navigator.language:Object.keys(ut)[0])=>{const[ht,_t]=createSignal(lt),[At,qt]=createStore$4(ut);return[(Gr,Zr,xn)=>{const On=deepReadObject(At[ht()],Gr,xn||"");return typeof On=="function"?On(Zr):typeof On=="string"?template(On,Zr||{}):On},{add(Gr,Zr){qt(Gr,xn=>Object.assign(xn||{},Zr))},locale:Gr=>Gr?_t(Gr):ht(),dict:Gr=>deepReadObject(At,Gr)}]},I18nContext=createContext({}),useI18n=()=>useContext(I18nContext);const TextStyled$3=styled$1.div`
    font-style: normal;
    font-weight: ${ut=>ut.fontWeight};
    font-size: ${ut=>ut.fontSize};
    line-height: ${ut=>ut.lineHeight};

    color: ${ut=>ut.color};
`,Text$2=ut=>{const lt=useTheme(),[ht]=useI18n();let _t;const At=()=>ut.color||lt.colors.text.primary,qt=mergeProps({fontSize:"14px",fontWeight:"510",lineHeight:"130%"},ut);return createEffect(()=>{_t&&qt.cursor!=="unset"&&getComputedStyle(_t).cursor!=="pointer"&&(_t.style.cursor="default")}),createComponent(TextStyled$3,{get fontSize(){return qt.fontSize},get fontWeight(){return qt.fontWeight},get lineHeight(){return qt.lineHeight},get color(){return At()},get class(){return qt.class},ref(Zt){const cr=_t;typeof cr=="function"?cr(Zt):_t=Zt},"data-tc-text":"true",get children(){var Zt;return createMemo(()=>!!qt.translationKey)()?ht(qt.translationKey,qt.translationValues,(Zt=qt.children)==null?void 0:Zt.toString()):qt.children}})},ImageContainer=styled$1.div`
    position: relative;

    &::after {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        border: 0.5px solid rgba(0, 0, 0, 0.08);
        border-radius: inherit;
    }
`,ImageStyled$2=styled$1(Image$1)`
    width: 100%;
    height: 100%;
    border-radius: inherit;
`,WalletImage=ut=>createComponent(ImageContainer,{get class(){return ut.class},get children(){return[createComponent(ImageStyled$2,{get src(){return ut.src}}),createMemo(()=>ut.badge)]}}),borders$3={m:"16px",s:"12px",none:"0"},badgeBorders={m:"6px",s:"6px",none:"0"},WalletUlContainer=styled$1.ul`
    display: flex;
    gap: 0;
    width: 100%;
    overflow-x: auto;
    padding: 8px 12px 16px 12px;
    margin: 0;
    list-style: none;
    flex-wrap: nowrap;

    &&::-webkit-scrollbar {
        display: none;
    }
    -ms-overflow-style: none;
    scrollbar-width: none;

    > li {
        display: flex;
        flex: 1;
        min-width: 78px;
        height: fit-content;
    }

    > li > button {
        width: 100%;
    }
`,WalletItemStyled=styled$1.button`
    position: relative;
    cursor: pointer;
    border: none;
    background-color: unset;
    padding: 8px 4px;
    width: 100%;
    min-width: 78px;
    display: flex;
    flex-direction: column;
    align-items: center;

    transition: transform 0.125s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`,ImageStyled$1=styled$1(WalletImage)`
    width: 60px;
    height: 60px;
    border-radius: ${ut=>borders$3[ut.theme.borderRadius]};
    margin-bottom: 8px;
    position: relative;
`,BadgeStyled=styled$1(Image$1)`
    position: absolute;
    right: -6px;
    bottom: -6px;
    width: 24px;
    height: 24px;
    border-radius: ${ut=>badgeBorders[ut.theme.borderRadius]};
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.08);
`,StyledText=styled$1(Text$2)`
    max-width: 90px;
    font-weight: 510;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;

    ${media("mobile")} {
        max-width: 80px;
    }
`,StyledSecondLine=styled$1(Text$2)`
    font-weight: ${ut=>ut.colorPrimary?"510":"400"};
    max-width: 90px;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
    color: ${ut=>ut.colorPrimary?ut.theme.colors.text.primary:ut.theme.colors.text.secondary};

    ${media("mobile")} {
        max-width: 80px;
    }
`,_tmpl$$r=template$1("<div></div>"),WalletItem=ut=>{let lt=null;const ht=()=>{const _t=lt==null?void 0:lt.querySelector("div");if(_t&&_t.scrollWidth>_t.clientWidth){let At=0;const qt=-.4,Zt=.05;for(;_t.scrollWidth>_t.clientWidth&&At>=qt;)At-=Zt,_t.style.letterSpacing=`${At}px`;At!==0&&(At-=Zt,_t.style.letterSpacing=`${At}px`)}};return onMount(()=>ht()),createEffect(()=>{ht()}),createComponent(WalletItemStyled,{get class(){return ut.class},onClick:()=>ut.onClick(),"data-tc-wallet-item":"true",get children(){return[createMemo(()=>createMemo(()=>typeof ut.icon=="string")()?createComponent(ImageStyled$1,{get src(){return ut.icon},get badge(){return createMemo(()=>!!ut.badgeUrl)()&&createComponent(BadgeStyled,{get src(){return ut.badgeUrl}})}}):ut.icon),(()=>{const _t=_tmpl$$r.cloneNode(!0);return use(At=>lt=At,_t),insert(_t,createComponent(StyledText,{get children(){return ut.name}})),_t})(),createMemo(()=>createMemo(()=>!!ut.secondLine)()&&createComponent(StyledSecondLine,{get colorPrimary(){var _t;return(_t=ut.secondLineColorPrimary)!=null?_t:!0},get children(){return ut.secondLine}}))]}})},H1Styled$9=styled$1.h1`
    font-style: normal;
    font-weight: 590;
    font-size: 20px;
    line-height: 28px;

    text-align: center;

    color: ${ut=>ut.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H1$1=ut=>{const[lt]=useI18n();return createComponent(H1Styled$9,{get class(){return ut.class},"data-tc-h1":"true",get children(){var ht;return createMemo(()=>!!ut.translationKey)()?lt(ut.translationKey,ut.translationValues,(ht=ut.children)==null?void 0:ht.toString()):ut.children}})},H2Styled$5=styled$1.h2`
    font-style: normal;
    font-weight: 400;
    font-size: 16px;
    line-height: 22px;

    text-align: center;

    color: ${ut=>ut.theme.colors.text.secondary};

    margin-top: 0;
    margin-bottom: 32px;

    cursor: default;
`,H2$1=ut=>{const[lt]=useI18n();return createComponent(H2Styled$5,{get class(){return ut.class},"data-tc-h2":"true",get children(){var ht;return createMemo(()=>!!ut.translationKey)()?lt(ut.translationKey,ut.translationValues,(ht=ut.children)==null?void 0:ht.toString()):ut.children}})},H3Styled$1=styled$1.h3`
    font-style: normal;
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;

    color: ${ut=>ut.theme.colors.text.primary};

    margin-top: 0;
    margin-bottom: 0;

    cursor: default;
`,H3$1=ut=>{const[lt]=useI18n();return createComponent(H3Styled$1,{"data-tc-h3":"true",get class(){return ut.class},get children(){var ht;return createMemo(()=>!!ut.translationKey)()?lt(ut.translationKey,ut.translationValues,(ht=ut.children)==null?void 0:ht.toString()):ut.children}})},_tmpl$$q=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z"></path></svg>'),TonIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$q.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$p=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><g clip-path="url(#clip0_3783_2045)"><circle cx="8" cy="8.00098" r="8"></circle><path d="M4.75 8.50098L7 10.751L11.75 6.00098" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_3783_2045"><rect width="16" height="16" fill="white" transform="translate(0 0.000976562)"></rect></clipPath></defs></svg>'),_tmpl$2$4=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z"></path></svg>'),_tmpl$3$2=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z"></path></svg>'),SuccessIcon=ut=>{const lt=useTheme(),ht=()=>ut.size||"s",_t=()=>ut.fill||lt.colors.icon.success;return createMemo((()=>{const At=createMemo(()=>ht()==="xs");return()=>At()?(()=>{const qt=_tmpl$$p.cloneNode(!0),Zt=qt.firstChild,cr=Zt.firstChild,Gr=cr.nextSibling;return createRenderEffect(Zr=>{const xn=ut.class,On=_t(),ss=lt.colors.constant.white;return xn!==Zr._v$&&setAttribute(qt,"class",Zr._v$=xn),On!==Zr._v$2&&setAttribute(cr,"fill",Zr._v$2=On),ss!==Zr._v$3&&setAttribute(Gr,"stroke",Zr._v$3=ss),Zr},{_v$:void 0,_v$2:void 0,_v$3:void 0}),qt})():(()=>{const qt=createMemo(()=>ht()==="s");return()=>qt()?(()=>{const Zt=_tmpl$2$4.cloneNode(!0),cr=Zt.firstChild,Gr=cr.nextSibling;return createRenderEffect(Zr=>{const xn=ut.class,On=_t(),ss=lt.colors.constant.white;return xn!==Zr._v$4&&setAttribute(Zt,"class",Zr._v$4=xn),On!==Zr._v$5&&setAttribute(cr,"fill",Zr._v$5=On),ss!==Zr._v$6&&setAttribute(Gr,"fill",Zr._v$6=ss),Zr},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),Zt})():(()=>{const Zt=_tmpl$3$2.cloneNode(!0),cr=Zt.firstChild,Gr=cr.nextSibling;return createRenderEffect(Zr=>{const xn=ut.class,On=_t(),ss=lt.colors.constant.white;return xn!==Zr._v$7&&setAttribute(Zt,"class",Zr._v$7=xn),On!==Zr._v$8&&setAttribute(cr,"fill",Zr._v$8=On),ss!==Zr._v$9&&setAttribute(Gr,"fill",Zr._v$9=ss),Zr},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),Zt})()})()})())},_tmpl$$o=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="36" cy="36" r="33"></circle><path d="M24.0858 26.9142C23.3047 26.1332 23.3047 24.8668 24.0858 24.0858C24.8668 23.3047 26.1332 23.3047 26.9142 24.0858L36 33.1716L45.0858 24.0858C45.8668 23.3047 47.1332 23.3047 47.9142 24.0858C48.6953 24.8668 48.6953 26.1332 47.9142 26.9142L38.8284 36L47.9142 45.0858C48.6953 45.8668 48.6953 47.1332 47.9142 47.9142C47.1332 48.6953 45.8668 48.6953 45.0858 47.9142L36 38.8284L26.9142 47.9142C26.1332 48.6953 24.8668 48.6953 24.0858 47.9142C23.3047 47.1332 23.3047 45.8668 24.0858 45.0858L33.1716 36L24.0858 26.9142Z"></path></svg>'),_tmpl$2$3=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><circle cx="24" cy="24.001" r="22"></circle><path d="M24 24.001L31.5 16.501M24 24.001L16.5 16.501M24 24.001L16.5 31.501M24 24.001L31.5 31.501" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),_tmpl$3$1=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="11"></circle><path d="M7.86361 9.1364C7.51214 8.78493 7.51214 8.21508 7.86361 7.86361C8.21508 7.51214 8.78493 7.51214 9.1364 7.86361L12 10.7272L14.8636 7.86361C15.2151 7.51214 15.7849 7.51214 16.1364 7.86361C16.4879 8.21508 16.4879 8.78493 16.1364 9.1364L13.2728 12L16.1364 14.8636C16.4879 15.2151 16.4879 15.7849 16.1364 16.1364C15.7849 16.4879 15.2151 16.4879 14.8636 16.1364L12 13.2728L9.1364 16.1364C8.78493 16.4879 8.21508 16.4879 7.86361 16.1364C7.51214 15.7849 7.51214 15.2151 7.86361 14.8636L10.7272 12L7.86361 9.1364Z"></path></svg>'),ErrorIcon=ut=>{const lt=useTheme(),ht=()=>ut.size||"m",_t=()=>ut.fill||lt.colors.icon.error;return createMemo((()=>{const At=createMemo(()=>ht()==="m");return()=>At()?(()=>{const qt=_tmpl$$o.cloneNode(!0),Zt=qt.firstChild,cr=Zt.nextSibling;return createRenderEffect(Gr=>{const Zr=ut.class,xn=_t(),On=lt.colors.constant.white;return Zr!==Gr._v$&&setAttribute(qt,"class",Gr._v$=Zr),xn!==Gr._v$2&&setAttribute(Zt,"fill",Gr._v$2=xn),On!==Gr._v$3&&setAttribute(cr,"fill",Gr._v$3=On),Gr},{_v$:void 0,_v$2:void 0,_v$3:void 0}),qt})():(()=>{const qt=createMemo(()=>ht()==="s");return()=>qt()?(()=>{const Zt=_tmpl$2$3.cloneNode(!0),cr=Zt.firstChild,Gr=cr.nextSibling;return createRenderEffect(Zr=>{const xn=ut.class,On=_t(),ss=lt.colors.constant.white;return xn!==Zr._v$4&&setAttribute(Zt,"class",Zr._v$4=xn),On!==Zr._v$5&&setAttribute(cr,"fill",Zr._v$5=On),ss!==Zr._v$6&&setAttribute(Gr,"stroke",Zr._v$6=ss),Zr},{_v$4:void 0,_v$5:void 0,_v$6:void 0}),Zt})():(()=>{const Zt=_tmpl$3$1.cloneNode(!0),cr=Zt.firstChild,Gr=cr.nextSibling;return createRenderEffect(Zr=>{const xn=ut.class,On=_t(),ss=lt.colors.constant.white;return xn!==Zr._v$7&&setAttribute(Zt,"class",Zr._v$7=xn),On!==Zr._v$8&&setAttribute(cr,"fill",Zr._v$8=On),ss!==Zr._v$9&&setAttribute(Gr,"fill",Zr._v$9=ss),Zr},{_v$7:void 0,_v$8:void 0,_v$9:void 0}),Zt})()})()})())},_tmpl$$n=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z"></path></svg>'),_tmpl$2$2=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" viewBox="0 0 44 44" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M22 2.99951C11.5066 2.99951 3 11.5061 3 21.9995C3 32.4929 11.5066 40.9995 22 40.9995C22.8284 40.9995 23.5 41.6711 23.5 42.4995C23.5 43.3279 22.8284 43.9995 22 43.9995C9.84974 43.9995 0 34.1498 0 21.9995C0 9.84925 9.84974 -0.000488281 22 -0.000488281C34.1503 -0.000488281 44 9.84925 44 21.9995C44 22.8279 43.3284 23.4995 42.5 23.4995C41.6716 23.4995 41 22.8279 41 21.9995C41 11.5061 32.4934 2.99951 22 2.99951Z"></path></svg>'),_tmpl$3=template$1('<svg width="72" height="72" viewBox="0 0 72 72" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"></path></svg>'),LoaderIcon=ut=>{const lt=useTheme(),ht=()=>ut.size||"xs",_t=()=>ut.fill||lt.colors.icon.tertiary,At=h$1`
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
    `,qt=u$1`
        animation: ${At} 1s linear infinite;
    `;return createMemo((()=>{const Zt=createMemo(()=>ht()==="xs");return()=>Zt()?(()=>{const cr=_tmpl$$n.cloneNode(!0),Gr=cr.firstChild;return createRenderEffect(Zr=>{const xn=cn$1(qt,ut.class),On=_t();return xn!==Zr._v$&&setAttribute(cr,"class",Zr._v$=xn),On!==Zr._v$2&&setAttribute(Gr,"fill",Zr._v$2=On),Zr},{_v$:void 0,_v$2:void 0}),cr})():(()=>{const cr=createMemo(()=>ht()==="s");return()=>cr()?(()=>{const Gr=_tmpl$2$2.cloneNode(!0),Zr=Gr.firstChild;return createRenderEffect(xn=>{const On=cn$1(qt,ut.class),ss=_t();return On!==xn._v$3&&setAttribute(Gr,"class",xn._v$3=On),ss!==xn._v$4&&setAttribute(Zr,"fill",xn._v$4=ss),xn},{_v$3:void 0,_v$4:void 0}),Gr})():(()=>{const Gr=_tmpl$3.cloneNode(!0),Zr=Gr.firstChild;return createRenderEffect(xn=>{const On=cn$1(qt,ut.class),ss=_t();return On!==xn._v$5&&setAttribute(Gr,"class",xn._v$5=On),ss!==xn._v$6&&setAttribute(Zr,"stroke",xn._v$6=ss),xn},{_v$5:void 0,_v$6:void 0}),Gr})()})()})())},_tmpl$$m=template$1('<svg width="158" height="28" viewBox="0 0 158 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M28 14.001C28 21.733 21.732 28.001 14 28.001C6.26801 28.001 0 21.733 0 14.001C0 6.26899 6.26801 0.000976562 14 0.000976562C21.732 0.000976562 28 6.26899 28 14.001ZM9.21931 8.00098H18.7801H18.7813C20.538 8.00098 21.6522 9.89966 20.7691 11.4302L14.8672 21.6576C14.4822 22.3254 13.5172 22.3254 13.1322 21.6576L7.23158 11.4302C6.34721 9.89726 7.4614 8.00098 9.21931 8.00098ZM13.1262 18.5882V9.74806H9.21811C8.78976 9.74806 8.53708 10.2029 8.74163 10.5578L11.8423 16.1035L13.1262 18.5882ZM16.1559 16.1047L19.2554 10.5566C19.4599 10.2017 19.2073 9.74685 18.7789 9.74685H14.8709V18.5906L16.1559 16.1047Z" fill="#0098EA"></path><path d="M18.7802 8.00098H9.21936C7.46145 8.00098 6.34727 9.89726 7.23164 11.4302L13.1322 21.6576C13.5173 22.3254 14.4823 22.3254 14.8673 21.6576L20.7691 11.4302C21.6523 9.89966 20.5381 8.00098 18.7814 8.00098H18.7802ZM13.1274 18.5906L11.8424 16.1035L8.74168 10.5578C8.53714 10.2029 8.78981 9.74806 9.21816 9.74806H13.1262V18.5918L13.1274 18.5906ZM19.2555 10.5566L16.156 16.1047L14.8709 18.5906V9.74685H18.779C19.2073 9.74685 19.46 10.2017 19.2555 10.5566Z" fill="white"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M51.7483 22.1967C55.7182 22.1967 58.9609 18.954 58.9609 14.9841C58.9609 11.0142 55.7182 7.77148 51.7483 7.77148C47.7588 7.77148 44.5357 11.0142 44.5357 14.9841C44.5357 18.954 47.7588 22.1967 51.7483 22.1967ZM51.7483 19.1702C49.4686 19.1702 47.6802 17.2442 47.6802 14.9841C47.6802 12.724 49.4686 10.798 51.7483 10.798C54.0084 10.798 55.7968 12.724 55.7968 14.9841C55.7968 17.2442 54.0084 19.1702 51.7483 19.1702ZM37.0698 21.9609H40.2142V10.9946H44.2843V8.00732H33V10.9946H37.0698V21.9609ZM69.9379 8.00732H73.0823V21.9609H70.3899L63.59 13.3333V21.9609H60.4652V8.00732H63.1576L69.9379 16.6153V8.00732ZM79.2259 14.9887C79.2259 10.9202 82.351 7.77539 86.4982 7.77539C89.8592 7.77539 92.5519 9.95709 93.2202 12.6891H90.7437C90.154 11.0971 88.4637 9.9964 86.4982 9.9964C83.5893 9.9964 81.5452 12.1781 81.5452 14.9887C81.5452 17.7994 83.5893 19.9811 86.4982 19.9811C88.4637 19.9811 90.154 18.8804 90.7437 17.2884H93.2202C92.5519 20.0204 89.8592 22.2021 86.4982 22.2021C82.351 22.2021 79.2259 19.0573 79.2259 14.9887ZM104.584 17.0525C104.584 19.9025 102.343 22.1628 99.4342 22.1628C96.5253 22.1628 94.2846 19.9025 94.2846 17.0525C94.2846 14.2025 96.5253 11.9422 99.4342 11.9422C102.343 11.9422 104.584 14.2025 104.584 17.0525ZM96.4663 17.0525C96.4663 18.8018 97.6849 20.158 99.4342 20.158C101.164 20.158 102.382 18.8018 102.382 17.0525C102.382 15.3032 101.164 13.947 99.4342 13.947C97.6849 13.947 96.4663 15.3032 96.4663 17.0525ZM108.626 12.1388H106.463V21.9662H108.626V17.1311C108.626 15.0281 109.726 13.9077 111.161 13.9077C112.419 13.9077 113.205 14.8512 113.205 16.4039V21.9662H115.367V16.0501C115.367 13.5539 113.893 11.9422 111.613 11.9422C110.335 11.9422 109.215 12.4926 108.626 13.4753V12.1388ZM117.839 12.1388H120.001V13.4753C120.59 12.4926 121.711 11.9422 122.988 11.9422C125.268 11.9422 126.742 13.5539 126.742 16.0501V21.9662H124.58V16.4039C124.58 14.8512 123.794 13.9077 122.536 13.9077C121.101 13.9077 120.001 15.0281 120.001 17.1311V21.9662H117.839V12.1388ZM133.558 22.1628C136.054 22.1628 137.823 20.728 138.373 18.8804H136.113C135.661 19.8238 134.717 20.2563 133.636 20.2563C131.887 20.2563 130.747 19.077 130.668 17.5832H138.491C138.688 14.2419 136.585 11.9422 133.577 11.9422C130.551 11.9422 128.526 14.1436 128.526 17.0525C128.526 20.0007 130.629 22.1628 133.558 22.1628ZM130.747 16.0501C131.042 14.5367 132.162 13.7505 133.518 13.7505C134.717 13.7505 135.838 14.4581 136.172 16.0501H130.747ZM149.851 18.3694C149.32 20.5511 147.453 22.1628 144.859 22.1628C141.871 22.1628 139.709 19.8828 139.709 17.0525C139.709 14.2222 141.871 11.9422 144.859 11.9422C147.453 11.9422 149.32 13.5539 149.851 15.7356H147.571C147.178 14.6743 146.215 13.9077 144.859 13.9077C143.109 13.9077 141.91 15.2246 141.91 17.0525C141.91 18.8804 143.109 20.1973 144.859 20.1973C146.215 20.1973 147.178 19.4307 147.571 18.3694H149.851ZM155.75 22.0645C156.418 22.0645 156.929 21.9859 157.362 21.8483V19.9221C157.047 20.0401 156.615 20.1187 156.202 20.1187C155.082 20.1187 154.551 19.6666 154.551 18.448V14.065H157.362V12.1388H154.551V9.40675H152.389V12.1388H150.345V14.065H152.389V18.8018C152.389 21.0228 153.863 22.0645 155.75 22.0645Z"></path></svg>'),TonConnectBrand=()=>{const ut=useTheme(),lt=()=>ut.theme===THEME.DARK?ut.colors.constant.white:ut.colors.constant.black;return(()=>{const ht=_tmpl$$m.cloneNode(!0),_t=ht.firstChild,At=_t.nextSibling,qt=At.nextSibling;return createRenderEffect(()=>setAttribute(qt,"fill",lt())),ht})()},_tmpl$$l=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M5.56608 4.42584C5.82527 3.32158 6.8176 2.5 8.00001 2.5C9.38072 2.5 10.5 3.61929 10.5 5C10.5 5.63026 10.3391 6.0386 10.1264 6.34455C9.90018 6.66993 9.58561 6.92478 9.18864 7.20877C9.12579 7.25372 9.05873 7.30025 8.9887 7.34883C8.27392 7.84472 7.25001 8.55507 7.25001 10V10.25C7.25001 10.6642 7.5858 11 8.00001 11C8.41422 11 8.75001 10.6642 8.75001 10.25V10C8.75001 9.36502 9.10777 9.1096 9.94554 8.51149L10.0614 8.42873C10.4769 8.13147 10.9748 7.75194 11.358 7.20076C11.7547 6.63015 12 5.91973 12 5C12 2.79086 10.2091 1 8.00001 1C6.10564 1 4.5205 2.31615 4.10577 4.08308C4.01112 4.48634 4.26129 4.88997 4.66454 4.98462C5.0678 5.07927 5.47143 4.8291 5.56608 4.42584ZM8.00001 15C8.60752 15 9.10001 14.5075 9.10001 13.9C9.10001 13.2925 8.60752 12.8 8.00001 12.8C7.39249 12.8 6.90001 13.2925 6.90001 13.9C6.90001 14.5075 7.39249 15 8.00001 15Z"></path></svg>'),QuestionIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$l.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$k=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.98156 8.75C9.84854 11.4328 9.01206 13.5 8 13.5C6.98794 13.5 6.15146 11.4328 6.01844 8.75H9.98156ZM11.4832 8.75C11.4217 10.1155 11.1929 11.3869 10.8239 12.4017C10.7734 12.5405 10.7188 12.6789 10.6595 12.8154C12.1454 11.993 13.2103 10.5029 13.4493 8.75H11.4832ZM13.4493 7.25H11.4832C11.4217 5.88453 11.1929 4.61314 10.8239 3.5983C10.7734 3.4595 10.7188 3.32111 10.6595 3.18459C12.1454 4.00697 13.2103 5.49709 13.4493 7.25ZM9.98156 7.25H6.01844C6.15144 4.56764 6.98769 2.50062 7.99955 2.5H8C9.01206 2.5 9.84854 4.56724 9.98156 7.25ZM4.51678 7.25C4.57826 5.88453 4.80706 4.61314 5.1761 3.5983C5.22657 3.4595 5.28124 3.32111 5.3405 3.18459C3.85463 4.00697 2.78972 5.49709 2.55071 7.25H4.51678ZM2.55071 8.75C2.78972 10.5029 3.85463 11.993 5.3405 12.8154C5.28124 12.6789 5.22657 12.5405 5.1761 12.4017C4.80706 11.3869 4.57826 10.1155 4.51678 8.75H2.55071ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z"></path></svg>'),BrowserIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$k.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$j=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4.8C2.5 3.11984 2.5 2.27976 2.82698 1.63803C3.1146 1.07354 3.57354 0.614601 4.13803 0.32698C4.77976 0 5.61984 0 7.3 0H8.7C10.3802 0 11.2202 0 11.862 0.32698C12.4265 0.614601 12.8854 1.07354 13.173 1.63803C13.5 2.27976 13.5 3.11984 13.5 4.8V11.2C13.5 12.8802 13.5 13.7202 13.173 14.362C12.8854 14.9265 12.4265 15.3854 11.862 15.673C11.2202 16 10.3802 16 8.7 16H7.3C5.61984 16 4.77976 16 4.13803 15.673C3.57354 15.3854 3.1146 14.9265 2.82698 14.362C2.5 13.7202 2.5 12.8802 2.5 11.2V4.8ZM4 3.9C4 3.05992 4 2.63988 4.16349 2.31901C4.3073 2.03677 4.53677 1.8073 4.81901 1.66349C5.13988 1.5 5.55992 1.5 6.4 1.5H9.6C10.4401 1.5 10.8601 1.5 11.181 1.66349C11.4632 1.8073 11.6927 2.03677 11.8365 2.31901C12 2.63988 12 3.05992 12 3.9V12.1C12 12.9401 12 13.3601 11.8365 13.681C11.6927 13.9632 11.4632 14.1927 11.181 14.3365C10.8601 14.5 10.4401 14.5 9.6 14.5H6.4C5.55992 14.5 5.13988 14.5 4.81901 14.3365C4.53677 14.1927 4.3073 13.9632 4.16349 13.681C4 13.3601 4 12.9401 4 12.1V3.9ZM7 2.5C6.58579 2.5 6.25 2.83579 6.25 3.25C6.25 3.66421 6.58579 4 7 4H9C9.41421 4 9.75 3.66421 9.75 3.25C9.75 2.83579 9.41421 2.5 9 2.5H7Z"></path></svg>'),MobileIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$j.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$i=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 6.8C1.5 5.11984 1.5 4.27976 1.82698 3.63803C2.1146 3.07354 2.57354 2.6146 3.13803 2.32698C3.77976 2 4.61984 2 6.3 2H9.7C11.3802 2 12.2202 2 12.862 2.32698C13.4265 2.6146 13.8854 3.07354 14.173 3.63803C14.5 4.27976 14.5 5.11984 14.5 6.8V11.5H15.25C15.6642 11.5 16 11.8358 16 12.25C16 12.6642 15.6642 13 15.25 13H0.75C0.335786 13 0 12.6642 0 12.25C0 11.8358 0.335786 11.5 0.75 11.5H1.5V6.8ZM3 11.5H13V5.9C13 5.05992 13 4.63988 12.8365 4.31901C12.6927 4.03677 12.4632 3.8073 12.181 3.66349C11.8601 3.5 11.4401 3.5 10.6 3.5H5.4C4.55992 3.5 4.13988 3.5 3.81901 3.66349C3.53677 3.8073 3.3073 4.03677 3.16349 4.31901C3 4.63988 3 5.05992 3 5.9V11.5Z"></path></svg>'),DesktopIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$i.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$h=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1603)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.5 1.25049C15.5 0.836275 15.1642 0.500488 14.75 0.500488C14.3358 0.500488 14 0.836275 14 1.25049V3.67012C12.7187 2.04487 10.7318 1.00049 8.5 1.00049C4.63401 1.00049 1.5 4.1345 1.5 8.00049C1.5 11.8665 4.63401 15.0005 8.5 15.0005C11.6844 15.0005 14.3703 12.8748 15.2199 9.96661C15.3361 9.56902 15.1079 9.15254 14.7103 9.03638C14.3127 8.92023 13.8962 9.14838 13.7801 9.54597C13.1123 11.8319 11 13.5005 8.5 13.5005C5.46243 13.5005 3 11.0381 3 8.00049C3 4.96292 5.46243 2.50049 8.5 2.50049C10.321 2.50049 11.9363 3.3855 12.9377 4.75049H10.5C10.0858 4.75049 9.75 5.08627 9.75 5.50049C9.75 5.9147 10.0858 6.25049 10.5 6.25049H14.75C15.1642 6.25049 15.5 5.9147 15.5 5.50049V1.25049Z"></path></g><defs><clipPath id="clip0_3676_1603"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000488281)"></rect></clipPath></defs></svg>'),RetryIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.accent;return(()=>{const _t=_tmpl$$h.cloneNode(!0),At=_t.firstChild,qt=At.firstChild;return createRenderEffect(()=>setAttribute(qt,"fill",ht())),_t})()},_tmpl$$g=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M13 4.06119V6.75053C13 7.16474 13.3358 7.50053 13.75 7.50053C14.1642 7.50053 14.5 7.16474 14.5 6.75053V2.75053L14.5 2.72807C14.5001 2.63191 14.5003 2.49627 14.4842 2.37627C14.4638 2.22503 14.4063 1.99261 14.2071 1.79342C14.0079 1.59423 13.7755 1.5367 13.6243 1.51637C13.5043 1.50023 13.3686 1.50039 13.2725 1.50051L13.25 1.50053H9.25C8.83579 1.50053 8.5 1.83631 8.5 2.25053C8.5 2.66474 8.83579 3.00053 9.25 3.00053H11.9393L7.21967 7.7202C6.92678 8.01309 6.92678 8.48796 7.21967 8.78086C7.51256 9.07375 7.98744 9.07375 8.28033 8.78086L13 4.06119ZM5.85 1.50053H5.81903H5.81899C5.21528 1.50052 4.71702 1.50051 4.31113 1.53367C3.88956 1.56812 3.50203 1.64204 3.13803 1.82751C2.57354 2.11513 2.1146 2.57407 1.82698 3.13856C1.64151 3.50256 1.56759 3.89009 1.53315 4.31166C1.49998 4.71755 1.49999 5.21581 1.5 5.81953V5.81955V5.85053V10.1505V10.1815V10.1815C1.49999 10.7852 1.49998 11.2835 1.53315 11.6894C1.56759 12.111 1.64151 12.4985 1.82698 12.8625C2.1146 13.427 2.57354 13.8859 3.13803 14.1735C3.50203 14.359 3.88956 14.4329 4.31113 14.4674C4.71702 14.5005 5.21527 14.5005 5.81897 14.5005H5.81901H5.85H10.15H10.181H10.181C10.7847 14.5005 11.283 14.5005 11.6889 14.4674C12.1104 14.4329 12.498 14.359 12.862 14.1735C13.4265 13.8859 13.8854 13.427 14.173 12.8625C14.3585 12.4985 14.4324 12.111 14.4669 11.6894C14.5 11.2835 14.5 10.7853 14.5 10.1816V10.1815V10.1505V9.75053C14.5 9.33631 14.1642 9.00053 13.75 9.00053C13.3358 9.00053 13 9.33631 13 9.75053V10.1505C13 10.793 12.9994 11.2297 12.9718 11.5672C12.945 11.8961 12.8963 12.0642 12.8365 12.1815C12.6927 12.4638 12.4632 12.6932 12.181 12.837C12.0637 12.8968 11.8955 12.9455 11.5667 12.9724C11.2292 12.9999 10.7924 13.0005 10.15 13.0005H5.85C5.20757 13.0005 4.77085 12.9999 4.43328 12.9724C4.10447 12.9455 3.93632 12.8968 3.81902 12.837C3.53677 12.6932 3.3073 12.4638 3.16349 12.1815C3.10372 12.0642 3.05503 11.8961 3.02816 11.5672C3.00058 11.2297 3 10.793 3 10.1505V5.85053C3 5.20809 3.00058 4.77137 3.02816 4.43381C3.05503 4.10499 3.10372 3.93684 3.16349 3.81954C3.3073 3.5373 3.53677 3.30783 3.81902 3.16402C3.93632 3.10425 4.10447 3.05556 4.43328 3.02869C4.77085 3.00111 5.20757 3.00053 5.85 3.00053H6.25C6.66422 3.00053 7 2.66474 7 2.25053C7 1.83631 6.66422 1.50053 6.25 1.50053H5.85Z"></path></svg>'),LinkIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.accent;return(()=>{const _t=_tmpl$$g.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},_tmpl$$f=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16" fill="none"><g clip-path="url(#clip0_3676_1274)"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.82698 2.63901C1.5 3.28074 1.5 4.12082 1.5 5.80098V8.80098V9.00098V10.201C1.5 11.8811 1.5 12.7212 1.82698 13.3629C2.1146 13.9274 2.57354 14.3864 3.13803 14.674C3.77976 15.001 4.61984 15.001 6.3 15.001H11.7C13.3802 15.001 14.2202 15.001 14.862 14.674C15.4265 14.3864 15.8854 13.9274 16.173 13.3629C16.5 12.7212 16.5 11.8811 16.5 10.201V8.80098C16.5 7.12082 16.5 6.28074 16.173 5.63901C15.8854 5.07452 15.4265 4.61558 14.862 4.32796C14.743 4.26733 14.6172 4.21795 14.4805 4.17772C14.4501 3.49449 14.3722 3.02994 14.173 2.63901C13.8854 2.07452 13.4265 1.61558 12.862 1.32796C12.2202 1.00098 11.3802 1.00098 9.7 1.00098H6.3C4.61984 1.00098 3.77976 1.00098 3.13803 1.32796C2.57354 1.61558 2.1146 2.07452 1.82698 2.63901ZM12.9861 4.00942C12.9684 3.7108 12.9281 3.49982 12.8365 3.31999C12.6927 3.03775 12.4632 2.80828 12.181 2.66447C11.8601 2.50098 11.4401 2.50098 10.6 2.50098H5.4C4.55992 2.50098 4.13988 2.50098 3.81901 2.66447C3.53677 2.80828 3.3073 3.03775 3.16349 3.31999C3.03615 3.56991 3.00799 3.88 3.00177 4.40188C3.04646 4.37612 3.09189 4.35146 3.13803 4.32796C3.77976 4.00098 4.61984 4.00098 6.3 4.00098H11.7C12.1966 4.00098 12.6197 4.00098 12.9861 4.00942ZM3 7.90098V8.10098C3 8.47468 3 8.76527 3.01439 9.00098H3V11.101C3 11.9411 3 12.3611 3.16349 12.682C3.3073 12.9642 3.53677 13.1937 3.81901 13.3375C4.13988 13.501 4.55992 13.501 5.4 13.501H12.6C13.4401 13.501 13.8601 13.501 14.181 13.3375C14.4632 13.1937 14.6927 12.9642 14.8365 12.682C15 12.3611 15 11.9411 15 11.101V7.90098C15 7.0609 15 6.64086 14.8365 6.31999C14.6927 6.03775 14.4632 5.80828 14.181 5.66447C13.8601 5.50098 13.4401 5.50098 12.6 5.50098H5.4C4.55992 5.50098 4.13988 5.50098 3.81901 5.66447C3.53677 5.80828 3.3073 6.03775 3.16349 6.31999C3 6.64086 3 7.0609 3 7.90098ZM10.5 9.75098C10.5 9.33676 10.8358 9.00098 11.25 9.00098H12.75C13.1642 9.00098 13.5 9.33676 13.5 9.75098C13.5 10.1652 13.1642 10.501 12.75 10.501H11.25C10.8358 10.501 10.5 10.1652 10.5 9.75098Z"></path></g><defs><clipPath id="clip0_3676_1274"><rect width="16" height="16" fill="white" transform="translate(0.5 0.000976562)"></rect></clipPath></defs></svg>'),WalletIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.accent;return(()=>{const _t=_tmpl$$f.cloneNode(!0),At=_t.firstChild,qt=At.firstChild;return createRenderEffect(()=>setAttribute(qt,"fill",ht())),_t})()},_tmpl$$e=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M39.6319 16.8719C38.3212 16.2041 36.7002 16.0478 34 16.0112V11C34 5.47715 29.5228 1 24 1C18.4772 1 14 5.47715 14 11V16.0112C11.2998 16.0478 9.6788 16.2041 8.36808 16.8719C6.86278 17.6389 5.63893 18.8628 4.87195 20.3681C4 22.0794 4 24.3196 4 28.8V32.2C4 36.6804 4 38.9206 4.87195 40.6319C5.63893 42.1372 6.86278 43.3611 8.36808 44.1281C10.0794 45 12.3196 45 16.8 45H31.2C35.6804 45 37.9206 45 39.6319 44.1281C41.1372 43.3611 42.3611 42.1372 43.1281 40.6319C44 38.9206 44 36.6804 44 32.2V28.8C44 24.3196 44 22.0794 43.1281 20.3681C42.3611 18.8628 41.1372 17.6389 39.6319 16.8719ZM31 11V16H17V11C17 7.13401 20.134 4 24 4C27.866 4 31 7.13401 31 11ZM7.54497 21.73C7 22.7996 7 24.1997 7 27V34C7 36.8003 7 38.2004 7.54497 39.27C8.02433 40.2108 8.78924 40.9757 9.73005 41.455C10.7996 42 12.1997 42 15 42H33C35.8003 42 37.2004 42 38.27 41.455C39.2108 40.9757 39.9757 40.2108 40.455 39.27C41 38.2004 41 36.8003 41 34V27C41 24.1997 41 22.7996 40.455 21.73C39.9757 20.7892 39.2108 20.0243 38.27 19.545C37.2004 19 35.8003 19 33 19H15C12.1997 19 10.7996 19 9.73005 19.545C8.78924 20.0243 8.02433 20.7892 7.54497 21.73ZM24 24C23.1716 24 22.5 24.6716 22.5 25.5V29.5C22.5 30.3284 23.1716 31 24 31C24.8284 31 25.5 30.3284 25.5 29.5V25.5C25.5 24.6716 24.8284 24 24 24Z"></path></svg>'),SecurityIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$e.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ut.class,cr=ht();return Zt!==qt._v$&&setAttribute(_t,"class",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$d=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M37.485 37.3849C40.894 33.9506 43 29.2212 43 24C43 13.5066 34.4934 5 24 5C13.5066 5 5 13.5066 5 24C5 29.2213 7.1061 33.9507 10.5151 37.385C13.3583 32.9438 18.3354 30 24.0001 30C29.6647 30 34.6418 32.9437 37.485 37.3849ZM35.1809 39.3635C32.9143 35.5532 28.7554 33 24.0001 33C19.2448 33 15.0858 35.5533 12.8193 39.3636C15.9564 41.6506 19.8206 43 24 43C28.1795 43 32.0437 41.6505 35.1809 39.3635ZM24 46C36.1503 46 46 36.1503 46 24C46 11.8497 36.1503 2 24 2C11.8497 2 2 11.8497 2 24C2 36.1503 11.8497 46 24 46ZM24 24C26.7614 24 29 21.7614 29 19C29 16.2386 26.7614 14 24 14C21.2386 14 19 16.2386 19 19C19 21.7614 21.2386 24 24 24ZM24 27C28.4183 27 32 23.4183 32 19C32 14.5817 28.4183 11 24 11C19.5817 11 16 14.5817 16 19C16 23.4183 19.5817 27 24 27Z"></path></svg>'),PersonalityIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$d.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ut.class,cr=ht();return Zt!==qt._v$&&setAttribute(_t,"class",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$c=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M34.5607 4.43934C33.9749 3.85355 33.0251 3.85355 32.4393 4.43934C31.8536 5.02513 31.8536 5.97487 32.4393 6.56066L37.8787 12H10.5C9.67157 12 9 12.6716 9 13.5C9 14.3284 9.67157 15 10.5 15H37.8787L32.4393 20.4393C31.8536 21.0251 31.8536 21.9749 32.4393 22.5607C33.0251 23.1464 33.9749 23.1464 34.5607 22.5607L42.5607 14.5607C43.1464 13.9749 43.1464 13.0251 42.5607 12.4393L34.5607 4.43934ZM13.4393 25.4393C14.0251 24.8536 14.9749 24.8536 15.5607 25.4393C16.1464 26.0251 16.1464 26.9749 15.5607 27.5607L10.1213 33H37.5C38.3284 33 39 33.6716 39 34.5C39 35.3284 38.3284 36 37.5 36H10.1213L15.5607 41.4393C16.1464 42.0251 16.1464 42.9749 15.5607 43.5607C14.9749 44.1464 14.0251 44.1464 13.4393 43.5607L5.43934 35.5607C4.85355 34.9749 4.85355 34.0251 5.43934 33.4393L13.4393 25.4393Z"></path></svg>'),SwapIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$c.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ut.class,cr=ht();return Zt!==qt._v$&&setAttribute(_t,"class",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$b=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.75 12.002C1.75 9.20169 1.75 7.80156 2.29497 6.732C2.77433 5.79119 3.53924 5.02629 4.48005 4.54692C5.54961 4.00195 6.94974 4.00195 9.75 4.00195H17.25C20.0503 4.00195 21.4504 4.00195 22.52 4.54692C23.4608 5.02629 24.2257 5.79119 24.705 6.732C24.8256 6.96861 24.9195 7.2214 24.9926 7.50195H21.5C19.6377 7.50195 18.7065 7.50195 17.9609 7.77334C16.711 8.22828 15.7263 9.21291 15.2714 10.4629C15 11.2085 15 12.1396 15 14.002C15 15.8643 15 16.7954 15.2714 17.541C15.7263 18.791 16.711 19.7756 17.9609 20.2306C18.7065 20.502 19.6377 20.502 21.5 20.502H24.9926C24.9195 20.7825 24.8256 21.0353 24.705 21.2719C24.2257 22.2127 23.4608 22.9776 22.52 23.457C21.4504 24.002 20.0503 24.002 17.25 24.002H9.75C6.94974 24.002 5.54961 24.002 4.48005 23.457C3.53924 22.9776 2.77433 22.2127 2.29497 21.2719C1.75 20.2023 1.75 18.8022 1.75 16.002V12.002ZM16.4999 13.802C16.4999 12.1218 16.4999 11.2817 16.8269 10.64C17.1145 10.0755 17.5735 9.61656 18.138 9.32894C18.7797 9.00196 19.6198 9.00196 21.2999 9.00196H23.1999C24.8801 9.00196 25.7202 9.00196 26.3619 9.32894C26.9264 9.61656 27.3853 10.0755 27.673 10.64C27.9999 11.2817 27.9999 12.1218 27.9999 13.802V14.202C27.9999 15.8821 27.9999 16.7222 27.673 17.3639C27.3853 17.9284 26.9264 18.3874 26.3619 18.675C25.7202 19.002 24.8801 19.002 23.1999 19.002H21.2999C19.6198 19.002 18.7797 19.002 18.138 18.675C17.5735 18.3874 17.1145 17.9284 16.8269 17.3639C16.4999 16.7222 16.4999 15.8821 16.4999 14.202V13.802ZM22.4999 14.002C22.4999 14.9685 21.7164 15.752 20.7499 15.752C19.7834 15.752 18.9999 14.9685 18.9999 14.002C18.9999 13.0355 19.7834 12.252 20.7499 12.252C21.7164 12.252 22.4999 13.0355 22.4999 14.002Z"></path></svg>'),AtWalletIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.constant.white;return(()=>{const _t=_tmpl$$b.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ut.class,cr=ht();return Zt!==qt._v$&&setAttribute(_t,"class",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$a=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0001 10.0001C10.0016 8.02333 10.0267 6.98719 10.436 6.18404C10.8195 5.43139 11.4314 4.81947 12.184 4.43597C13.0397 4 14.1598 4 16.4 4H17.6C19.8402 4 20.9603 4 21.816 4.43597C22.5686 4.81947 23.1805 5.43139 23.564 6.18404C24 7.03969 24 8.15979 24 10.4V11.6C24 13.8402 24 14.9603 23.564 15.816C23.1805 16.5686 22.5686 17.1805 21.816 17.564C21.0128 17.9733 19.9767 17.9984 17.9999 17.9999C17.9984 19.9767 17.9733 21.0128 17.564 21.816C17.1805 22.5686 16.5686 23.1805 15.816 23.564C14.9603 24 13.8402 24 11.6 24H10.4C8.15979 24 7.03969 24 6.18404 23.564C5.43139 23.1805 4.81947 22.5686 4.43597 21.816C4 20.9603 4 19.8402 4 17.6V16.4C4 14.1598 4 13.0397 4.43597 12.184C4.81947 11.4314 5.43139 10.8195 6.18404 10.436C6.98719 10.0267 8.02333 10.0016 10.0001 10.0001ZM10 11.5H9.5C8.09987 11.5 7.3998 11.5 6.86502 11.7725C6.39462 12.0122 6.01217 12.3946 5.77248 12.865C5.5 13.3998 5.5 14.0999 5.5 15.5V18.5C5.5 19.9001 5.5 20.6002 5.77248 21.135C6.01217 21.6054 6.39462 21.9878 6.86502 22.2275C7.3998 22.5 8.09987 22.5 9.5 22.5H12.5C13.9001 22.5 14.6002 22.5 15.135 22.2275C15.6054 21.9878 15.9878 21.6054 16.2275 21.135C16.5 20.6002 16.5 19.9001 16.5 18.5V18H16.4C14.1598 18 13.0397 18 12.184 17.564C11.4314 17.1805 10.8195 16.5686 10.436 15.816C10 14.9603 10 13.8402 10 11.6V11.5ZM11.5 9.5C11.5 8.09987 11.5 7.3998 11.7725 6.86502C12.0122 6.39462 12.3946 6.01217 12.865 5.77248C13.3998 5.5 14.0999 5.5 15.5 5.5H18.5C19.9001 5.5 20.6002 5.5 21.135 5.77248C21.6054 6.01217 21.9878 6.39462 22.2275 6.86502C22.5 7.3998 22.5 8.09987 22.5 9.5V12.5C22.5 13.9001 22.5 14.6002 22.2275 15.135C21.9878 15.6054 21.6054 15.9878 21.135 16.2275C20.6002 16.5 19.9001 16.5 18.5 16.5H15.5C14.0999 16.5 13.3998 16.5 12.865 16.2275C12.3946 15.9878 12.0122 15.6054 11.7725 15.135C11.5 14.6002 11.5 13.9001 11.5 12.5V9.5Z"></path></svg>'),CopyLightIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$a.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ht(),cr=ht();return Zt!==qt._v$&&setAttribute(_t,"fill",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$9=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M1 4.12695C1 3.07754 1 2.55284 1.19202 2.14684C1.38986 1.72856 1.7266 1.39181 2.14489 1.19397C2.55088 1.00195 3.07559 1.00195 4.125 1.00195C5.17441 1.00195 5.69912 1.00195 6.10511 1.19397C6.5234 1.39181 6.86014 1.72856 7.05798 2.14684C7.25 2.55284 7.25 3.07754 7.25 4.12695C7.25 5.17636 7.25 5.70107 7.05798 6.10706C6.86014 6.52535 6.5234 6.8621 6.10511 7.05993C5.69912 7.25195 5.17441 7.25195 4.125 7.25195C3.07559 7.25195 2.55088 7.25195 2.14489 7.05993C1.7266 6.8621 1.38986 6.52535 1.19202 6.10706C1 5.70107 1 5.17636 1 4.12695ZM2.5 3.30195C2.5 3.02193 2.5 2.88191 2.5545 2.77496C2.60243 2.68088 2.67892 2.60439 2.773 2.55645C2.87996 2.50195 3.01997 2.50195 3.3 2.50195H4.95C5.23003 2.50195 5.37004 2.50195 5.477 2.55645C5.57108 2.60439 5.64757 2.68088 5.6955 2.77496C5.75 2.88191 5.75 3.02193 5.75 3.30195V4.95195C5.75 5.23198 5.75 5.37199 5.6955 5.47895C5.64757 5.57303 5.57108 5.64952 5.477 5.69746C5.37004 5.75195 5.23003 5.75195 4.95 5.75195H3.3C3.01997 5.75195 2.87996 5.75195 2.773 5.69746C2.67892 5.64952 2.60243 5.57303 2.5545 5.47895C2.5 5.37199 2.5 5.23198 2.5 4.95195V3.30195ZM1 11.877C1 10.8275 1 10.3028 1.19202 9.89684C1.38986 9.47856 1.7266 9.14181 2.14489 8.94397C2.55088 8.75195 3.07559 8.75195 4.125 8.75195C5.17441 8.75195 5.69912 8.75195 6.10511 8.94397C6.5234 9.14181 6.86014 9.47856 7.05798 9.89684C7.25 10.3028 7.25 10.8275 7.25 11.877C7.25 12.9264 7.25 13.4511 7.05798 13.8571C6.86014 14.2753 6.5234 14.6121 6.10511 14.8099C5.69912 15.002 5.17441 15.002 4.125 15.002C3.07559 15.002 2.55088 15.002 2.14489 14.8099C1.7266 14.6121 1.38986 14.2753 1.19202 13.8571C1 13.4511 1 12.9264 1 11.877ZM2.5 11.052C2.5 10.7719 2.5 10.6319 2.5545 10.525C2.60243 10.4309 2.67892 10.3544 2.773 10.3064C2.87996 10.252 3.01997 10.252 3.3 10.252H4.95C5.23003 10.252 5.37004 10.252 5.477 10.3064C5.57108 10.3544 5.64757 10.4309 5.6955 10.525C5.75 10.6319 5.75 10.7719 5.75 11.052V12.702C5.75 12.982 5.75 13.122 5.6955 13.2289C5.64757 13.323 5.57108 13.3995 5.477 13.4475C5.37004 13.502 5.23003 13.502 4.95 13.502H3.3C3.01997 13.502 2.87996 13.502 2.773 13.4475C2.67892 13.3995 2.60243 13.323 2.5545 13.2289C2.5 13.122 2.5 12.982 2.5 12.702V11.052ZM8.94202 2.14684C8.75 2.55284 8.75 3.07754 8.75 4.12695C8.75 5.17636 8.75 5.70107 8.94202 6.10706C9.13986 6.52535 9.4766 6.8621 9.89489 7.05993C10.3009 7.25195 10.8256 7.25195 11.875 7.25195C12.9244 7.25195 13.4491 7.25195 13.8551 7.05993C14.2734 6.8621 14.6101 6.52535 14.808 6.10706C15 5.70107 15 5.17636 15 4.12695C15 3.07754 15 2.55284 14.808 2.14684C14.6101 1.72856 14.2734 1.39181 13.8551 1.19397C13.4491 1.00195 12.9244 1.00195 11.875 1.00195C10.8256 1.00195 10.3009 1.00195 9.89489 1.19397C9.4766 1.39181 9.13986 1.72856 8.94202 2.14684ZM10.3045 2.77496C10.25 2.88191 10.25 3.02193 10.25 3.30195V4.95195C10.25 5.23198 10.25 5.37199 10.3045 5.47895C10.3524 5.57303 10.4289 5.64952 10.523 5.69746C10.63 5.75195 10.77 5.75195 11.05 5.75195H12.7C12.98 5.75195 13.12 5.75195 13.227 5.69746C13.3211 5.64952 13.3976 5.57303 13.4455 5.47895C13.5 5.37199 13.5 5.23198 13.5 4.95195V3.30195C13.5 3.02193 13.5 2.88191 13.4455 2.77496C13.3976 2.68088 13.3211 2.60439 13.227 2.55645C13.12 2.50195 12.98 2.50195 12.7 2.50195H11.05C10.77 2.50195 10.63 2.50195 10.523 2.55645C10.4289 2.60439 10.3524 2.68088 10.3045 2.77496ZM8.80727 9.13518C8.75 9.26242 8.75 9.4256 8.75 9.75195C8.75 10.0783 8.75 10.2415 8.80727 10.3687C8.87245 10.5136 8.9884 10.6295 9.13323 10.6947C9.26047 10.752 9.42365 10.752 9.75 10.752C10.0764 10.752 10.2395 10.752 10.3668 10.6947C10.5116 10.6295 10.6276 10.5136 10.6927 10.3687C10.75 10.2415 10.75 10.0783 10.75 9.75195C10.75 9.4256 10.75 9.26242 10.6927 9.13518C10.6276 8.99035 10.5116 8.8744 10.3668 8.80922C10.2395 8.75195 10.0764 8.75195 9.75 8.75195C9.42365 8.75195 9.26047 8.75195 9.13323 8.80922C8.9884 8.8744 8.87245 8.99035 8.80727 9.13518ZM10.87 11.8771C10.87 11.546 10.87 11.3805 10.9289 11.2517C10.9938 11.1098 11.1077 10.9959 11.2497 10.931C11.3784 10.8721 11.5439 10.8721 11.875 10.8721C12.2061 10.8721 12.3716 10.8721 12.5003 10.931C12.6423 10.9959 12.7562 11.1098 12.8211 11.2517C12.88 11.3805 12.88 11.546 12.88 11.8771C12.88 12.2081 12.88 12.3737 12.8211 12.5024C12.7562 12.6444 12.6423 12.7583 12.5003 12.8232C12.3716 12.8821 12.2061 12.8821 11.875 12.8821C11.5439 12.8821 11.3784 12.8821 11.2497 12.8232C11.1077 12.7583 10.9938 12.6444 10.9289 12.5024C10.87 12.3737 10.87 12.2081 10.87 11.8771ZM8.80727 13.3852C8.75 13.5124 8.75 13.6756 8.75 14.002C8.75 14.3283 8.75 14.4915 8.80727 14.6187C8.87245 14.7636 8.9884 14.8795 9.13323 14.9447C9.26047 15.002 9.42365 15.002 9.75 15.002C10.0764 15.002 10.2395 15.002 10.3668 14.9447C10.5116 14.8795 10.6276 14.7636 10.6927 14.6187C10.75 14.4915 10.75 14.3283 10.75 14.002C10.75 13.6756 10.75 13.5124 10.6927 13.3852C10.6276 13.2404 10.5116 13.1244 10.3668 13.0592C10.2395 13.002 10.0764 13.002 9.75 13.002C9.42365 13.002 9.26047 13.002 9.13323 13.0592C8.9884 13.1244 8.87245 13.2404 8.80727 13.3852ZM13 9.75195C13 9.4256 13 9.26242 13.0573 9.13518C13.1224 8.99035 13.2384 8.8744 13.3832 8.80922C13.5105 8.75195 13.6736 8.75195 14 8.75195C14.3264 8.75195 14.4895 8.75195 14.6168 8.80922C14.7616 8.8744 14.8776 8.99035 14.9427 9.13518C15 9.26242 15 9.4256 15 9.75195C15 10.0783 15 10.2415 14.9427 10.3687C14.8776 10.5136 14.7616 10.6295 14.6168 10.6947C14.4895 10.752 14.3264 10.752 14 10.752C13.6736 10.752 13.5105 10.752 13.3832 10.6947C13.2384 10.6295 13.1224 10.5136 13.0573 10.3687C13 10.2415 13 10.0783 13 9.75195ZM13.0573 13.3852C13 13.5124 13 13.6756 13 14.002C13 14.3283 13 14.4915 13.0573 14.6187C13.1224 14.7636 13.2384 14.8795 13.3832 14.9447C13.5105 15.002 13.6736 15.002 14 15.002C14.3264 15.002 14.4895 15.002 14.6168 14.9447C14.7616 14.8795 14.8776 14.7636 14.9427 14.6187C15 14.4915 15 14.3283 15 14.002C15 13.6756 15 13.5124 14.9427 13.3852C14.8776 13.2404 14.7616 13.1244 14.6168 13.0592C14.4895 13.002 14.3264 13.002 14 13.002C13.6736 13.002 13.5105 13.002 13.3832 13.0592C13.2384 13.1244 13.1224 13.2404 13.0573 13.3852Z"></path></svg>'),QRIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.secondary;return(()=>{const _t=_tmpl$$9.cloneNode(!0),At=_t.firstChild;return createRenderEffect(()=>setAttribute(At,"fill",ht())),_t})()},containerBorders={m:"16px",s:"12px",none:"0"},walletBorders={m:"6px",s:"6px",none:"0"},FourWalletsCard=styled$1.div`
    width: 60px;
    height: 60px;
    padding: 8px;
    margin-bottom: 8px;
    border-radius: ${ut=>containerBorders[ut.theme.borderRadius]};
    background-color: ${ut=>ut.theme.colors.background.tint};
    display: grid;
    grid-template: 1fr 1fr / 1fr 1fr;
    gap: 4px;
`,FourWalletsImage=styled$1(WalletImage)`
    width: 20px;
    height: 20px;
    border-radius: ${ut=>walletBorders[ut.theme.borderRadius]};
`,FourWalletsItem=ut=>createComponent(WalletItem,{get name(){return ut.labelLine1},get secondLine(){return ut.labelLine2},get icon(){return createComponent(FourWalletsCard,{get children(){return createComponent(For,{each:[0,1,2,3],children:lt=>createComponent(FourWalletsImage,{get src(){return ut.images[lt]}})})}})},onClick:()=>ut.onClick()}),AT_WALLET_APP_NAME="telegram-wallet",IMG={TON:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/ton-icon-48.png",TG:"https://raw.githubusercontent.com/ton-connect/sdk/main/assets/tg.png"},WalletLabeledItem=ut=>{const[lt]=useI18n(),ht=()=>{if(ut.wallet.appName!==AT_WALLET_APP_NAME){if("isPreferred"in ut.wallet&&ut.wallet.isPreferred)return lt("walletItem.recent",{},"Recent");if(isWalletInfoCurrentlyInjected(ut.wallet))return lt("walletItem.installed",{},"Installed");if(ut.wallet.name==="Tonkeeper")return lt("walletItem.popular",{},"Popular")}};return createMemo((()=>{const _t=createMemo(()=>ut.wallet.appName===AT_WALLET_APP_NAME);return()=>_t()?createComponent(WalletItem,{get icon(){return ut.wallet.imageUrl},get name(){return lt("walletItem.walletOn",{},"Wallet in")},secondLine:"Telegram",get badgeUrl(){return IMG.TG},onClick:()=>ut.onClick(),get class(){return ut.class}}):createComponent(WalletItem,{get icon(){return ut.wallet.imageUrl},get name(){return ut.wallet.name},get secondLine(){return ht()},secondLineColorPrimary:!1,onClick:()=>ut.onClick(),get class(){return ut.class}})})())},ScrollContainerStyled=styled$1.div`
    width: 100%;
    overflow-y: auto;
    max-height: ${ut=>ut.maxHeight};

    scrollbar-width: none;
    &&::-webkit-scrollbar {
        display: none;
    }

    &&::-webkit-scrollbar-track {
        background: transparent;
    }

    &&::-webkit-scrollbar-thumb {
        display: none;
    }
`,ScrollDivider=styled$1.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.08;
    background: ${ut=>ut.isShown?ut.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${media("mobile")} {
        width: 100%;
        margin: 0;
    }
`,[windowHeight,setWindowHeight]=createSignal(((_h$1=getWindow$1())==null?void 0:_h$1.innerHeight)||0);getWindow$1()&&window.addEventListener("resize",()=>setWindowHeight(window.innerHeight));const[isMobile,setIsMobile]=createSignal(isDevice("mobile")),updateIsMobile=()=>setIsMobile(isDevice("mobile"));getWindow$1()&&(window.addEventListener("resize",()=>updateIsMobile()),window.addEventListener("load",()=>updateIsMobile(),{once:!0}));const ScrollContainer=ut=>{const[lt,ht]=createSignal(!1),_t=Zt=>{ht(Zt.target.scrollTop>0)},At=()=>isMobile()?150:200,qt=()=>ut.maxHeight!==void 0?`${ut.maxHeight}px`:`${windowHeight()-At()}px`;return[createComponent(ScrollDivider,{get isShown(){return lt()}}),createComponent(ScrollContainerStyled,{get maxHeight(){return qt()},onScroll:_t,get class(){return ut.class},get children(){return ut.children}})]},AStyled=styled$1.a`
    display: block;
    text-decoration: unset;
`,Link=ut=>createComponent(AStyled,mergeProps({get href(){return ut.href},get target(){return ut.blank?"_blank":"_self"},get class(){return ut.class}},()=>ut.blank?{rel:"noreferrer noopener"}:{},{get children(){return ut.children}})),TonConnectUiContext=createContext(),_tmpl$$8=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z"></path></svg>'),CopyIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$8.cloneNode(!0),At=_t.firstChild;return createRenderEffect(qt=>{const Zt=ut.class,cr=ht();return Zt!==qt._v$&&setAttribute(_t,"class",qt._v$=Zt),cr!==qt._v$2&&setAttribute(At,"fill",qt._v$2=cr),qt},{_v$:void 0,_v$2:void 0}),_t})()},_tmpl$$7=template$1('<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z"></path><path d="M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z"></path></svg>'),DisconnectIcon=ut=>{const lt=useTheme(),ht=()=>ut.fill||lt.colors.icon.primary;return(()=>{const _t=_tmpl$$7.cloneNode(!0),At=_t.firstChild,qt=At.nextSibling;return createRenderEffect(Zt=>{const cr=ht(),Gr=ht();return cr!==Zt._v$&&setAttribute(At,"fill",Zt._v$=cr),Gr!==Zt._v$2&&setAttribute(qt,"fill",Zt._v$2=Gr),Zt},{_v$:void 0,_v$2:void 0}),_t})()},hoverBorders$1={m:"8px",s:"4px",none:"0"},dropdownBorders={m:"16px",s:"8px",none:"0"},AccountButtonDropdownStyled=styled$1.div`
    width: 256px;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${ut=>dropdownBorders[ut.theme.borderRadius]};

    background-color: ${ut=>ut.theme.colors.background.primary}
           
    color: ${ut=>ut.theme.colors.text.primary}
`,UlStyled=styled$1.ul`
    background-color: ${ut=>ut.theme.colors.background.primary};
    padding: 8px;
`,MenuButtonStyled=styled$1.button`
    display: flex;
    align-items: center;
    gap: 8px;
    height: 40px;
    padding-left: 8px;
    width: 100%;

    background-color: ${ut=>ut.theme.colors.background.primary};
    border: none;
    border-radius: ${ut=>hoverBorders$1[ut.theme.borderRadius]};
    cursor: pointer;

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${ut=>ut.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`,_tmpl$$6=template$1("<li></li>"),MenuItemText=ut=>createComponent(Text$2,{get translationKey(){return ut.translationKey},fontSize:"15px",fontWeight:"590",get children(){return ut.children}}),AccountButtonDropdown=ut=>{const lt=useContext(TonConnectUiContext),[ht,_t]=createSignal(!1),At=()=>__async(void 0,null,function*(){const Zt=toUserFriendlyAddress(lt.account.address,lt.account.chain===CHAIN.TESTNET);yield copyToClipboard(Zt),_t(!0),setTimeout(()=>_t(!1),1e3)}),qt=()=>{lt.disconnect(),ut.onClose()};return createComponent(AccountButtonDropdownStyled,{ref(Zt){const cr=ut.ref;typeof cr=="function"?cr(Zt):ut.ref=Zt},get class(){return ut.class},"data-tc-dropdown":"true",get children(){return createComponent(UlStyled,{get children(){return[(()=>{const Zt=_tmpl$$6.cloneNode(!0);return insert(Zt,createComponent(MenuButtonStyled,{onClick:()=>At(),get children(){return[createComponent(CopyIcon,{}),createComponent(Show,{get when(){return!ht()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copy",children:"Copy address"})}}),createComponent(Show,{get when(){return ht()},get children(){return createComponent(MenuItemText,{translationKey:"button.dropdown.copied",children:"Address copied!"})}})]}})),Zt})(),(()=>{const Zt=_tmpl$$6.cloneNode(!0);return insert(Zt,createComponent(MenuButtonStyled,{onClick:()=>qt(),get children(){return[createComponent(DisconnectIcon,{}),createComponent(MenuItemText,{translationKey:"button.dropdown.disconnect",children:"Disconnect"})]}})),Zt})()]}})}})},borders$2={m:"16px",s:"8px",none:"0"},NotificationStyled=styled$1.div`
    width: 256px;
    padding: 12px 16px;
    display: flex;
    gap: 9px;

    background-color: ${ut=>ut.theme.colors.background.primary};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
    border-radius: ${ut=>borders$2[ut.theme.borderRadius]};
`,NotificationContentStyled=styled$1.div`
    width: 192px;

    > h3 {
        font-size: 15px;
    }
`,TextStyled$2=styled$1(Text$2)`
    margin-top: 4px;
    color: ${ut=>ut.theme.colors.text.secondary};
`,Notification=ut=>{const lt=useDataAttributes(ut);return createComponent(NotificationStyled,mergeProps({get class(){return ut.class},"data-tc-notification":"true"},lt,{get children(){return[createComponent(NotificationContentStyled,{get children(){return[createComponent(H3$1,{get translationKey(){return ut.header.translationKey},get translationValues(){return ut.header.translationValues},get children(){return ut.children}}),createComponent(Show,{get when(){return ut.text},get children(){return createComponent(TextStyled$2,{get translationKey(){return ut.text.translationKey},get translationValues(){return ut.text.translationValues}})}})]}}),createMemo(()=>ut.icon)]}}))},LoaderIconStyled$2=styled$1(LoaderIcon)`
    align-self: center;
`,ConfirmOperationNotification=ut=>{const lt=useContext(TonConnectUiContext),[ht]=useI18n(),_t=()=>lt.wallet&&"name"in lt.wallet?lt.wallet.name:ht("common.yourWallet",{},"Your wallet");return createComponent(Notification,{get header(){return{translationKey:"notifications.confirm.header",translationValues:{name:_t()}}},get class(){return ut.class},get icon(){return createComponent(LoaderIconStyled$2,{})},"data-tc-notification-confirm":"true",children:"Confirm operation in your wallet"})},ErrorIconStyled$2=styled$1(ErrorIcon)`
    margin-top: 2px;
`,ErrorTransactionNotification=ut=>createComponent(Notification,{header:{translationKey:"notifications.transactionCanceled.header"},text:{translationKey:"notifications.transactionCanceled.text"},get icon(){return createComponent(ErrorIconStyled$2,{size:"xs"})},get class(){return ut.class},"data-tc-notification-tx-cancelled":"true",children:"Transaction cancelled"}),SuccessIconStyled=styled$1(SuccessIcon)`
    margin-top: 2px;
`,SuccessTransactionNotification=ut=>createComponent(Notification,{header:{translationKey:"notifications.transactionSent.header"},text:{translationKey:"notifications.transactionSent.text"},get icon(){return createComponent(SuccessIconStyled,{})},get class(){return ut.class},"data-tc-notification-tx-sent":"true",children:"Transaction sent"}),NotificationClass=u$1`
    transform: translateY(-8px);
    margin-bottom: 12px;
`,defaultConfig={timeout:4500},[latestAction,setLatestAction]=createSignal(null);function useOpenedNotifications(ut){const{timeout:lt}=__spreadValues$2(__spreadValues$2({},defaultConfig),ut),[ht,_t]=createSignal([]),[At,qt]=createSignal([]);return createEffect(on$1(action,Zt=>{var cr;if(!Zt||!Zt.showNotification||latestAction()===Zt||((cr=latestAction())==null?void 0:cr.name)==="confirm-transaction"&&Zt.name==="confirm-transaction")return;setLatestAction(Zt),_t(xn=>xn.filter(On=>On.action!=="confirm-transaction"));const Gr={action:Zt.name};_t(xn=>[...xn,Gr]);const Zr=setTimeout(()=>{_t(xn=>xn.filter(On=>On!==Gr)),qt(xn=>xn.filter(On=>On!==Zr))},lt);qt(xn=>[...xn,Zr])})),onCleanup(()=>{At().forEach(Zt=>clearTimeout(Zt))}),ht}const _tmpl$$5=template$1('<div data-tc-list-notifications="true"></div>'),Notifications=ut=>{const lt=useOpenedNotifications();return(()=>{const ht=_tmpl$$5.cloneNode(!0);return insert(ht,createComponent(TransitionGroup,{onBeforeEnter:_t=>{animate(_t,[{opacity:0,transform:"translateY(0)"},{opacity:1,transform:"translateY(-8px)"}],{duration:200})},onExit:(_t,At)=>{animate(_t,[{opacity:1,transform:"translateY(-8px)"},{opacity:0,transform:"translateY(-30px)"}],{duration:200}).finished.then(At)},get children(){return createComponent(For,{get each(){return lt()},children:_t=>createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return _t.action==="transaction-sent"},get children(){return createComponent(SuccessTransactionNotification,{class:NotificationClass})}}),createComponent(Match,{get when(){return _t.action==="transaction-canceled"},get children(){return createComponent(ErrorTransactionNotification,{class:NotificationClass})}}),createComponent(Match,{get when(){return _t.action==="confirm-transaction"},get children(){return createComponent(ConfirmOperationNotification,{class:NotificationClass})}})]}})})}})),createRenderEffect(()=>className(ht,ut.class)),ht})()},AccountButtonStyled=styled$1(Button$1)`
    background-color: ${ut=>ut.theme.colors.connectButton.background};
    color: ${ut=>ut.theme.colors.connectButton.foreground};
    box-shadow: ${ut=>`0 4px 24px ${rgba(ut.theme.colors.constant.black,.16)}`};
    padding: 8px 16px 8px 12px;

    display: flex;
    align-items: center;
    gap: 4px;
    height: 40px;
`,DropdownButtonStyled=styled$1(AccountButtonStyled)`
    padding: 12px 16px;
    min-width: 148px;
    justify-content: center;
    background-color: ${ut=>ut.theme.colors.background.primary};
`,LoaderButtonStyled$1=styled$1(Button$1)`
    min-width: 148px;
    height: 40px;

    background-color: ${ut=>ut.theme.colors.background.primary};
    color: ${ut=>ut.theme.colors.connectButton.foreground};
    box-shadow: ${ut=>`0 4px 24px ${rgba(ut.theme.colors.constant.black,.16)}`};

    display: flex;
    align-items: center;
    justify-content: center;
`,LoaderIconStyled$1=styled$1(LoaderIcon)`
    height: 18px;
    width: 18px;
`,DropdownContainerStyled=styled$1.div`
    width: fit-content;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
`,DropdownStyled=styled$1(AccountButtonDropdown)`
    box-sizing: border-box;
    overflow: hidden;
    margin-top: 12px;
`,NotificationsStyled=styled$1(Notifications)`
    > div:first-child {
        margin-top: 20px;
    }
`;function getSide(ut){return ut.split("-")[0]}function getAlignment(ut){return ut.split("-")[1]}function getMainAxisFromPlacement(ut){return["top","bottom"].includes(getSide(ut))?"x":"y"}function getLengthFromAxis(ut){return ut==="y"?"height":"width"}function computeCoordsFromPlacement(ut,lt,ht){let{reference:_t,floating:At}=ut;const qt=_t.x+_t.width/2-At.width/2,Zt=_t.y+_t.height/2-At.height/2,cr=getMainAxisFromPlacement(lt),Gr=getLengthFromAxis(cr),Zr=_t[Gr]/2-At[Gr]/2,xn=getSide(lt),On=cr==="x";let ss;switch(xn){case"top":ss={x:qt,y:_t.y-At.height};break;case"bottom":ss={x:qt,y:_t.y+_t.height};break;case"right":ss={x:_t.x+_t.width,y:Zt};break;case"left":ss={x:_t.x-At.width,y:Zt};break;default:ss={x:_t.x,y:_t.y}}switch(getAlignment(lt)){case"start":ss[cr]-=Zr*(ht&&On?-1:1);break;case"end":ss[cr]+=Zr*(ht&&On?-1:1);break}return ss}const computePosition$1=(ut,lt,ht)=>__async(void 0,null,function*(){const{placement:_t="bottom",strategy:At="absolute",middleware:qt=[],platform:Zt}=ht,cr=qt.filter(Boolean),Gr=yield Zt.isRTL==null?void 0:Zt.isRTL(lt);if({}.NODE_ENV!=="production"){if(Zt==null&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),cr.filter(wl=>{let{name:ep}=wl;return ep==="autoPlacement"||ep==="flip"}).length>1)throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement` middleware","detected. This will lead to an infinite loop. Ensure only one of","either has been passed to the `middleware` array."].join(" "));(!ut||!lt)&&console.error(["Floating UI: The reference and/or floating element was not defined","when `computePosition()` was called. Ensure that both elements have","been created and can be measured."].join(" "))}let Zr=yield Zt.getElementRects({reference:ut,floating:lt,strategy:At}),{x:xn,y:On}=computeCoordsFromPlacement(Zr,_t,Gr),ss=_t,ls={},cs=0;for(let wl=0;wl<cr.length;wl++){const{name:ep,fn:Al}=cr[wl],{x:np,y:cp,data:Cp,reset:Lp}=yield Al({x:xn,y:On,initialPlacement:_t,placement:ss,strategy:At,middlewareData:ls,rects:Zr,platform:Zt,elements:{reference:ut,floating:lt}});if(xn=np??xn,On=cp??On,ls=__spreadProps$1(__spreadValues$2({},ls),{[ep]:__spreadValues$2(__spreadValues$2({},ls[ep]),Cp)}),{}.NODE_ENV!=="production"&&cs>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),Lp&&cs<=50){cs++,typeof Lp=="object"&&(Lp.placement&&(ss=Lp.placement),Lp.rects&&(Zr=Lp.rects===!0?yield Zt.getElementRects({reference:ut,floating:lt,strategy:At}):Lp.rects),{x:xn,y:On}=computeCoordsFromPlacement(Zr,ss,Gr)),wl=-1;continue}}return{x:xn,y:On,placement:ss,strategy:At,middlewareData:ls}});function rectToClientRect(ut){return __spreadProps$1(__spreadValues$2({},ut),{top:ut.y,left:ut.x,right:ut.x+ut.width,bottom:ut.y+ut.height})}function getWindow(ut){var lt;return((lt=ut.ownerDocument)==null?void 0:lt.defaultView)||window}function getComputedStyle$1(ut){return getWindow(ut).getComputedStyle(ut)}function getNodeName(ut){return isNode(ut)?(ut.nodeName||"").toLowerCase():""}let uaString;function getUAString(){if(uaString)return uaString;const ut=navigator.userAgentData;return ut&&Array.isArray(ut.brands)?(uaString=ut.brands.map(lt=>lt.brand+"/"+lt.version).join(" "),uaString):navigator.userAgent}function isHTMLElement(ut){return ut instanceof getWindow(ut).HTMLElement}function isElement(ut){return ut instanceof getWindow(ut).Element}function isNode(ut){return ut instanceof getWindow(ut).Node}function isShadowRoot(ut){if(typeof ShadowRoot>"u")return!1;const lt=getWindow(ut).ShadowRoot;return ut instanceof lt||ut instanceof ShadowRoot}function isOverflowElement(ut){const{overflow:lt,overflowX:ht,overflowY:_t,display:At}=getComputedStyle$1(ut);return/auto|scroll|overlay|hidden/.test(lt+_t+ht)&&!["inline","contents"].includes(At)}function isTableElement(ut){return["table","td","th"].includes(getNodeName(ut))}function isContainingBlock(ut){const lt=/firefox/i.test(getUAString()),ht=getComputedStyle$1(ut),_t=ht.backdropFilter||ht.WebkitBackdropFilter;return ht.transform!=="none"||ht.perspective!=="none"||(_t?_t!=="none":!1)||lt&&ht.willChange==="filter"||lt&&(ht.filter?ht.filter!=="none":!1)||["transform","perspective"].some(At=>ht.willChange.includes(At))||["paint","layout","strict","content"].some(At=>{const qt=ht.contain;return qt!=null?qt.includes(At):!1})}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function isLastTraversableNode(ut){return["html","body","#document"].includes(getNodeName(ut))}const min=Math.min,max$1=Math.max,round=Math.round,FALLBACK_SCALE={x:1,y:1};function getScale(ut){const lt=!isElement(ut)&&ut.contextElement?ut.contextElement:isElement(ut)?ut:null;if(!lt)return FALLBACK_SCALE;const ht=lt.getBoundingClientRect(),_t=getComputedStyle$1(lt);if(_t.boxSizing!=="border-box")return isHTMLElement(lt)?{x:lt.offsetWidth>0&&round(ht.width)/lt.offsetWidth||1,y:lt.offsetHeight>0&&round(ht.height)/lt.offsetHeight||1}:FALLBACK_SCALE;let At=ht.width/parseFloat(_t.width),qt=ht.height/parseFloat(_t.height);return(!At||!Number.isFinite(At))&&(At=1),(!qt||!Number.isFinite(qt))&&(qt=1),{x:At,y:qt}}function getBoundingClientRect(ut,lt,ht,_t){var At,qt,Zt,cr;lt===void 0&&(lt=!1),ht===void 0&&(ht=!1);const Gr=ut.getBoundingClientRect();let Zr=FALLBACK_SCALE;lt&&(_t?isElement(_t)&&(Zr=getScale(_t)):Zr=getScale(ut));const xn=isElement(ut)?getWindow(ut):window,On=!isLayoutViewport()&&ht,ss=(Gr.left+(On&&(At=(qt=xn.visualViewport)==null?void 0:qt.offsetLeft)!=null?At:0))/Zr.x,ls=(Gr.top+(On&&(Zt=(cr=xn.visualViewport)==null?void 0:cr.offsetTop)!=null?Zt:0))/Zr.y,cs=Gr.width/Zr.x,wl=Gr.height/Zr.y;return{width:cs,height:wl,top:ls,right:ss+cs,bottom:ls+wl,left:ss,x:ss,y:ls}}function getDocumentElement(ut){return((isNode(ut)?ut.ownerDocument:ut.document)||window.document).documentElement}function getNodeScroll(ut){return isElement(ut)?{scrollLeft:ut.scrollLeft,scrollTop:ut.scrollTop}:{scrollLeft:ut.pageXOffset,scrollTop:ut.pageYOffset}}function getWindowScrollBarX(ut){return getBoundingClientRect(getDocumentElement(ut)).left+getNodeScroll(ut).scrollLeft}function getRectRelativeToOffsetParent(ut,lt,ht){const _t=isHTMLElement(lt),At=getDocumentElement(lt),qt=getBoundingClientRect(ut,!0,ht==="fixed",lt);let Zt={scrollLeft:0,scrollTop:0};const cr={x:0,y:0};if(_t||!_t&&ht!=="fixed")if((getNodeName(lt)!=="body"||isOverflowElement(At))&&(Zt=getNodeScroll(lt)),isHTMLElement(lt)){const Gr=getBoundingClientRect(lt,!0);cr.x=Gr.x+lt.clientLeft,cr.y=Gr.y+lt.clientTop}else At&&(cr.x=getWindowScrollBarX(At));return{x:qt.left+Zt.scrollLeft-cr.x,y:qt.top+Zt.scrollTop-cr.y,width:qt.width,height:qt.height}}function getParentNode(ut){if(getNodeName(ut)==="html")return ut;const lt=ut.assignedSlot||ut.parentNode||(isShadowRoot(ut)?ut.host:null)||getDocumentElement(ut);return isShadowRoot(lt)?lt.host:lt}function getTrueOffsetParent(ut){return!isHTMLElement(ut)||getComputedStyle$1(ut).position==="fixed"?null:ut.offsetParent}function getContainingBlock(ut){let lt=getParentNode(ut);for(;isHTMLElement(lt)&&!isLastTraversableNode(lt);){if(isContainingBlock(lt))return lt;lt=getParentNode(lt)}return null}function getOffsetParent(ut){const lt=getWindow(ut);let ht=getTrueOffsetParent(ut);for(;ht&&isTableElement(ht)&&getComputedStyle$1(ht).position==="static";)ht=getTrueOffsetParent(ht);return ht&&(getNodeName(ht)==="html"||getNodeName(ht)==="body"&&getComputedStyle$1(ht).position==="static"&&!isContainingBlock(ht))?lt:ht||getContainingBlock(ut)||lt}function getDimensions(ut){if(isHTMLElement(ut))return{width:ut.offsetWidth,height:ut.offsetHeight};const lt=getBoundingClientRect(ut);return{width:lt.width,height:lt.height}}function convertOffsetParentRelativeRectToViewportRelativeRect(ut){let{rect:lt,offsetParent:ht,strategy:_t}=ut;const At=isHTMLElement(ht),qt=getDocumentElement(ht);if(ht===qt)return lt;let Zt={scrollLeft:0,scrollTop:0},cr={x:1,y:1};const Gr={x:0,y:0};if((At||!At&&_t!=="fixed")&&((getNodeName(ht)!=="body"||isOverflowElement(qt))&&(Zt=getNodeScroll(ht)),isHTMLElement(ht))){const Zr=getBoundingClientRect(ht);cr=getScale(ht),Gr.x=Zr.x+ht.clientLeft,Gr.y=Zr.y+ht.clientTop}return{width:lt.width*cr.x,height:lt.height*cr.y,x:lt.x*cr.x-Zt.scrollLeft*cr.x+Gr.x,y:lt.y*cr.y-Zt.scrollTop*cr.y+Gr.y}}function getViewportRect(ut,lt){const ht=getWindow(ut),_t=getDocumentElement(ut),At=ht.visualViewport;let qt=_t.clientWidth,Zt=_t.clientHeight,cr=0,Gr=0;if(At){qt=At.width,Zt=At.height;const Zr=isLayoutViewport();(Zr||!Zr&&lt==="fixed")&&(cr=At.offsetLeft,Gr=At.offsetTop)}return{width:qt,height:Zt,x:cr,y:Gr}}function getDocumentRect(ut){var lt;const ht=getDocumentElement(ut),_t=getNodeScroll(ut),At=(lt=ut.ownerDocument)==null?void 0:lt.body,qt=max$1(ht.scrollWidth,ht.clientWidth,At?At.scrollWidth:0,At?At.clientWidth:0),Zt=max$1(ht.scrollHeight,ht.clientHeight,At?At.scrollHeight:0,At?At.clientHeight:0);let cr=-_t.scrollLeft+getWindowScrollBarX(ut);const Gr=-_t.scrollTop;return getComputedStyle$1(At||ht).direction==="rtl"&&(cr+=max$1(ht.clientWidth,At?At.clientWidth:0)-qt),{width:qt,height:Zt,x:cr,y:Gr}}function getNearestOverflowAncestor(ut){const lt=getParentNode(ut);return isLastTraversableNode(lt)?ut.ownerDocument.body:isHTMLElement(lt)&&isOverflowElement(lt)?lt:getNearestOverflowAncestor(lt)}function getOverflowAncestors(ut,lt){var ht;lt===void 0&&(lt=[]);const _t=getNearestOverflowAncestor(ut),At=_t===((ht=ut.ownerDocument)==null?void 0:ht.body),qt=getWindow(_t);return At?lt.concat(qt,qt.visualViewport||[],isOverflowElement(_t)?_t:[]):lt.concat(_t,getOverflowAncestors(_t))}function getInnerBoundingClientRect(ut,lt){const ht=getBoundingClientRect(ut,!0,lt==="fixed"),_t=ht.top+ut.clientTop,At=ht.left+ut.clientLeft,qt=isHTMLElement(ut)?getScale(ut):{x:1,y:1},Zt=ut.clientWidth*qt.x,cr=ut.clientHeight*qt.y,Gr=At*qt.x,Zr=_t*qt.y;return{top:Zr,left:Gr,right:Gr+Zt,bottom:Zr+cr,x:Gr,y:Zr,width:Zt,height:cr}}function getClientRectFromClippingAncestor(ut,lt,ht){return lt==="viewport"?rectToClientRect(getViewportRect(ut,ht)):isElement(lt)?getInnerBoundingClientRect(lt,ht):rectToClientRect(getDocumentRect(getDocumentElement(ut)))}function getClippingElementAncestors(ut,lt){const ht=lt.get(ut);if(ht)return ht;let _t=getOverflowAncestors(ut).filter(cr=>isElement(cr)&&getNodeName(cr)!=="body"),At=null;const qt=getComputedStyle$1(ut).position==="fixed";let Zt=qt?getParentNode(ut):ut;for(;isElement(Zt)&&!isLastTraversableNode(Zt);){const cr=getComputedStyle$1(Zt),Gr=isContainingBlock(Zt);(qt?!Gr&&!At:!Gr&&cr.position==="static"&&!!At&&["absolute","fixed"].includes(At.position))?_t=_t.filter(xn=>xn!==Zt):At=cr,Zt=getParentNode(Zt)}return lt.set(ut,_t),_t}function getClippingRect(ut){let{element:lt,boundary:ht,rootBoundary:_t,strategy:At}=ut;const Zt=[...ht==="clippingAncestors"?getClippingElementAncestors(lt,this._c):[].concat(ht),_t],cr=Zt[0],Gr=Zt.reduce((Zr,xn)=>{const On=getClientRectFromClippingAncestor(lt,xn,At);return Zr.top=max$1(On.top,Zr.top),Zr.right=min(On.right,Zr.right),Zr.bottom=min(On.bottom,Zr.bottom),Zr.left=max$1(On.left,Zr.left),Zr},getClientRectFromClippingAncestor(lt,cr,At));return{width:Gr.right-Gr.left,height:Gr.bottom-Gr.top,x:Gr.left,y:Gr.top}}const platform$2={getClippingRect,convertOffsetParentRelativeRectToViewportRelativeRect,isElement,getDimensions,getOffsetParent,getDocumentElement,getScale,getElementRects(ut){return __async(this,null,function*(){let{reference:lt,floating:ht,strategy:_t}=ut;const At=this.getOffsetParent||getOffsetParent,qt=this.getDimensions;return{reference:getRectRelativeToOffsetParent(lt,yield At(ht),_t),floating:__spreadValues$2({x:0,y:0},yield qt(ht))}})},getClientRects:ut=>Array.from(ut.getClientRects()),isRTL:ut=>getComputedStyle$1(ut).direction==="rtl"};function autoUpdate(ut,lt,ht,_t){_t===void 0&&(_t={});const{ancestorScroll:At=!0,ancestorResize:qt=!0,elementResize:Zt=!0,animationFrame:cr=!1}=_t,Gr=At&&!cr,Zr=Gr||qt?[...isElement(ut)?getOverflowAncestors(ut):ut.contextElement?getOverflowAncestors(ut.contextElement):[],...getOverflowAncestors(lt)]:[];Zr.forEach(cs=>{Gr&&cs.addEventListener("scroll",ht,{passive:!0}),qt&&cs.addEventListener("resize",ht)});let xn=null;if(Zt){let cs=!0;xn=new ResizeObserver(()=>{cs||ht(),cs=!1}),isElement(ut)&&!cr&&xn.observe(ut),!isElement(ut)&&ut.contextElement&&!cr&&xn.observe(ut.contextElement),xn.observe(lt)}let On,ss=cr?getBoundingClientRect(ut):null;cr&&ls();function ls(){const cs=getBoundingClientRect(ut);ss&&(cs.x!==ss.x||cs.y!==ss.y||cs.width!==ss.width||cs.height!==ss.height)&&ht(),ss=cs,On=requestAnimationFrame(ls)}return ht(),()=>{var cs;Zr.forEach(wl=>{Gr&&wl.removeEventListener("scroll",ht),qt&&wl.removeEventListener("resize",ht)}),(cs=xn)==null||cs.disconnect(),xn=null,cr&&cancelAnimationFrame(On)}}const computePosition=(ut,lt,ht)=>{const _t=new Map,At=__spreadValues$2({platform:platform$2},ht),qt=__spreadProps$1(__spreadValues$2({},At.platform),{_c:_t});return computePosition$1(ut,lt,__spreadProps$1(__spreadValues$2({},At),{platform:qt}))};function P(ut,lt,ht){let _t=()=>{var On;return(On=ht==null?void 0:ht.placement)!=null?On:"bottom"},At=()=>{var On;return(On=ht==null?void 0:ht.strategy)!=null?On:"absolute"},[qt,Zt]=createSignal({x:null,y:null,placement:_t(),strategy:At(),middlewareData:{}}),[cr,Gr]=createSignal();createEffect(()=>{let On=cr();if(On)throw On.value});let Zr=createMemo(()=>(ut(),lt(),{}));function xn(){let On=ut(),ss=lt();if(On&&ss){let ls=Zr();computePosition(On,ss,{middleware:ht==null?void 0:ht.middleware,placement:_t(),strategy:At()}).then(cs=>{ls===Zr()&&Zt(cs)},cs=>{Gr(cs)})}}return createEffect(()=>{let On=ut(),ss=lt();if(ht==null||ht.middleware,_t(),At(),On&&ss)if(ht!=null&&ht.whileElementsMounted){let ls=ht.whileElementsMounted(On,ss,xn);ls&&onCleanup(ls)}else xn()}),{get x(){return qt().x},get y(){return qt().y},get placement(){return qt().placement},get strategy(){return qt().strategy},get middlewareData(){return qt().middlewareData},update:xn}}const _tmpl$$4=template$1('<tc-root data-tc-dropdown-container="true"></tc-root>'),AccountButton=()=>{const ut=useTheme(),lt=useContext(ConnectorContext),ht=useContext(TonConnectUiContext),[_t,At]=createSignal(!1),[qt,Zt]=createSignal(lt.account),[cr,Gr]=createSignal(!lt.account);let Zr;const[xn,On]=createSignal(),[ss,ls]=createSignal(),cs=P(ss,xn,{whileElementsMounted:autoUpdate,placement:"bottom-end"}),wl=()=>{const np=qt();if(np){const cp=toUserFriendlyAddress(np.address,np.chain===CHAIN.TESTNET);return cp.slice(0,4)+""+cp.slice(-4)}return""};ht.connectionRestored.then(()=>Gr(!1));const ep=lt.onStatusChange(np=>{if(!np){At(!1),Zt(null),Gr(!1);return}Zt(np.account),Gr(!1)}),Al=np=>{if(!qt()||!_t())return;const cp=ss().contains(np.target),Cp=Zr.contains(np.target);!cp&&!Cp&&At(!1)};return onMount(()=>{document.body.addEventListener("click",Al)}),onCleanup(()=>{document.body.removeEventListener("click",Al),ep()}),createComponent(Dynamic,{component:globalStylesTag,get children(){return[createComponent(Show,{get when(){return cr()},get children(){return createComponent(LoaderButtonStyled$1,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return createComponent(LoaderIconStyled$1,{})}})}}),createComponent(Show,{get when(){return!cr()},get children(){return[createComponent(Show,{get when(){return!qt()},get children(){return createComponent(AccountButtonStyled,{onClick:()=>ht.openModal(),"data-tc-connect-button":"true",scale:"s",get children(){return[createComponent(TonIcon,{get fill(){return ut.colors.connectButton.foreground}}),createComponent(Text$2,{translationKey:"button.connectWallet",fontSize:"15px",lineHeight:"18px",fontWeight:"590",get color(){return ut.colors.connectButton.foreground},children:"Connect wallet"})]}})}}),createComponent(Show,{get when(){return qt()},get children(){return createComponent(DropdownContainerStyled,{get children(){return[createComponent(DropdownButtonStyled,{onClick:()=>At(np=>!np),ref:ls,"data-tc-dropdown-button":"true",scale:"s",get children(){return[createComponent(Text$2,{fontSize:"15px",fontWeight:"590",lineHeight:"18px",get children(){return wl()}}),createComponent(ArrowIcon,{direction:"bottom"})]}}),createComponent(Portal$1,{get children(){const np=untrack(()=>document.importNode(_tmpl$$4,!0));return use(On,np),np.style.setProperty("z-index","999"),np._$owner=getOwner(),insert(np,createComponent(Transition,{onBeforeEnter:cp=>{animate(cp,[{opacity:0,transform:"translateY(-8px)"},{opacity:1,transform:"translateY(0)"}],{duration:150})},onExit:(cp,Cp)=>{animate(cp,[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-8px)"}],{duration:150}).finished.then(Cp)},get children(){return createComponent(Show,{get when(){return _t()},get children(){return createComponent(DropdownStyled,{get hidden(){return!_t()},onClose:()=>At(!1),ref(cp){const Cp=Zr;typeof Cp=="function"?Cp(cp):Zr=cp}})}})}}),null),insert(np,createComponent(NotificationsStyled,{}),null),createRenderEffect(cp=>{var Cp,Lp;const jp=cs.strategy,nm=`${(Cp=cs.y)!=null?Cp:0}px`,zm=`${(Lp=cs.x)!=null?Lp:0}px`;return jp!==cp._v$&&np.style.setProperty("position",cp._v$=jp),nm!==cp._v$2&&np.style.setProperty("top",cp._v$2=nm),zm!==cp._v$3&&np.style.setProperty("left",cp._v$3=zm),cp},{_v$:void 0,_v$2:void 0,_v$3:void 0}),np}})]}})}})]}})]}})},StyledModal=styled$1(Modal)`
    padding-left: 24px;
    padding-right: 24px;
    padding-top: 18px;
    padding-bottom: 0;

    ${media("mobile")} {
        padding-left: 0;
        padding-right: 0;
    }
`,H1Styled$8=styled$1(H1$1)`
    margin-top: 12px;

    ${media("mobile")} {
        padding: 0 10px;
    }
`,LoaderContainerStyled=styled$1.div`
    margin: 30px 0;
    width: 100%;
    display: flex;
    justify-content: center;

    ${media("mobile")} {
        height: 160px;
        align-items: center;
    }
`;styled$1(Text$2)`
    min-width: 84px;
    text-align: center;
    font-weight: 590;
`;styled$1(TabBar)`
    margin: 0 auto 22px;
`;const[appState,setAppState]=createStore$4({buttonRootId:null,language:"en",returnStrategy:"back",twaReturnUrl:void 0,walletsListConfiguration:{},enableAndroidBackHandler:!0});function uniq(ut){return[...new Set(ut)]}function mergeConcat(ut,lt,ht){return lt.map(_t=>{const At=ht.find(qt=>qt[ut]===_t[ut]);return ht=ht.filter(qt=>qt[ut]!==_t[ut]),At===void 0?_t:At}).concat(ht)}function uiWalletToWalletInfo(ut){return"jsBridgeKey"in ut?__spreadProps$1(__spreadValues$2({},ut),{injected:TonConnect.isWalletInjected(ut.jsBridgeKey),embedded:TonConnect.isInsideWalletBrowser(ut.jsBridgeKey)}):ut}function applyWalletsListConfiguration(ut,lt){var ht;return lt&&(ht=lt.includeWallets)!=null&&ht.length&&(ut=mergeConcat("name",ut,lt.includeWallets.map(uiWalletToWalletInfo))),ut}function supportsDesktop(ut){return ut.platforms.some(lt=>["macos","linux","windows"].includes(lt))}function supportsMobile(ut){return ut.platforms.some(lt=>["ios","android"].includes(lt))}function supportsExtension(ut){return ut.platforms.some(lt=>["chrome","firefox","safari"].includes(lt))}function eqWalletName(ut,lt){return lt?ut.name.toLowerCase()===lt.toLowerCase()||ut.appName.toLowerCase()===lt.toLowerCase():!1}const DesktopSelectWalletModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
`,H1Styled$7=styled$1(H1$1)`
    margin-bottom: 18px;
`;styled$1.div`
    height: 1px;
    margin: 0 -24px;
    width: calc(100% + 48px);
    opacity: 0.12;
    background: ${ut=>ut.isShown?ut.theme.colors.icon.secondary:"transparent"};
    transition: background 0.15s ease-in-out;

    ${media("mobile")} {
        width: 100%;
    }
`;const WalletsUl=styled$1.ul`
    display: grid;
    grid-template-columns: repeat(auto-fit, 92px);
    grid-template-rows: auto;
    align-content: flex-start;
    row-gap: 8px;
    width: 100%;
    padding: 0 0 16px;
    align-self: flex-start;
    max-width: 400px;
    margin: 0 auto;
    list-style: none;

    > li {
        display: block;
        height: fit-content;
    }

    ${media("mobile")} {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 0;
        padding: 8px 12px 16px;
        max-width: none;

        > li {
            min-width: 78px;
            display: flex;
        }

        > li > * {
            width: 100%;
        }
    }
`;styled$1(Button$1)`
    display: block;
    margin: 0 auto 1px;
    font-size: 15px;
`;const StyledIconButton$3=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,WalletLabeledItemStyled=styled$1(WalletLabeledItem)`
    opacity: ${ut=>ut.withOpacity?"0.4":"1"};
`,WalletsNotSupportedNotifier=styled$1.div`
    display: grid;
    grid-template-columns: auto 28px;
    gap: 16px;
    padding: 16px;
    margin-bottom: 16px;
    border-radius: 16px;
    color: ${ut=>ut.theme.colors.text.secondary};
    background: ${ut=>ut.theme.colors.background.tint};

    ${media("mobile")} {
        margin-left: 16px;
        margin-right: 16px;
    }
`,WalletsNotSupportedNotifierText=styled$1(H2$1)`
    color: ${ut=>ut.theme.colors.text.secondary};
    text-align: left;
    margin: 0;
`,ErrorBoxStyled=styled$1.div`
    position: absolute;
    bottom: 14px;
    left: 50%;
    transform: translate(-50%, 0);

    text-wrap: nowrap;
    display: flex;
    gap: 6px;
    align-items: center;
    border-radius: 18px;
    min-width: 126px;
    padding: 9px 16px 9px 10px;

    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));
    background-color: ${ut=>ut.theme.colors.background.segment};
`,_tmpl$$3=template$1('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_5122_10355)"><circle cx="8" cy="8" r="8"></circle><circle cx="8" cy="11" r="1"></circle><path d="M7.04994 4.99875C7.02277 4.45542 7.45598 4 8 4C8.54402 4 8.97723 4.45541 8.95006 4.99875L8.78745 8.25094C8.76647 8.67055 8.42014 9 8 9C7.57986 9 7.23353 8.67055 7.21255 8.25094L7.04994 4.99875Z"></path></g><defs><clipPath id="clip0_5122_10355"><rect width="16" height="16"></rect></clipPath></defs></svg>'),_tmpl$2$1=template$1('<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" fill="none"><circle cx="14" cy="14" r="12"></circle><circle cx="14" cy="18.9" r="1.4"></circle><path d="M12.6658 8.89845C12.63 8.13698 13.2377 7.5 14 7.5C14.7623 7.5 15.37 8.13698 15.3342 8.89845L15.047 15.0013C15.0207 15.5604 14.5597 16.0002 14 16.0002C13.4403 16.0002 12.9793 15.5604 12.953 15.0013L12.6658 8.89845Z"></path></svg>'),ExclamationIcon=ut=>{const lt=useTheme(),ht=()=>ut.size,_t=()=>ut.fill||lt.colors.icon.error;return createMemo((()=>{const At=createMemo(()=>ht()==="16");return()=>At()?(()=>{const qt=_tmpl$$3.cloneNode(!0),Zt=qt.firstChild,cr=Zt.firstChild,Gr=cr.nextSibling,Zr=Gr.nextSibling,xn=Zt.nextSibling,On=xn.firstChild,ss=On.firstChild;return createRenderEffect(ls=>{const cs=_t(),wl=lt.colors.constant.white,ep=lt.colors.constant.white,Al=lt.colors.constant.white;return cs!==ls._v$&&setAttribute(cr,"fill",ls._v$=cs),wl!==ls._v$2&&setAttribute(Gr,"fill",ls._v$2=wl),ep!==ls._v$3&&setAttribute(Zr,"fill",ls._v$3=ep),Al!==ls._v$4&&setAttribute(ss,"fill",ls._v$4=Al),ls},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),qt})():(()=>{const qt=createMemo(()=>ht()==="28");return()=>qt()?(()=>{const Zt=_tmpl$2$1.cloneNode(!0),cr=Zt.firstChild,Gr=cr.nextSibling,Zr=Gr.nextSibling;return createRenderEffect(xn=>{const On=ut.class,ss=_t(),ls=lt.colors.constant.white,cs=lt.colors.constant.white;return On!==xn._v$5&&setAttribute(Zt,"class",xn._v$5=On),ss!==xn._v$6&&setAttribute(cr,"fill",xn._v$6=ss),ls!==xn._v$7&&setAttribute(Gr,"fill",xn._v$7=ls),cs!==xn._v$8&&setAttribute(Zr,"fill",xn._v$8=cs),xn},{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),Zt})():null})()})())},_tmpl$$2=template$1("<li></li>"),AllWalletsListModal=ut=>{const lt=()=>isMobile()?void 0:510,[ht,_t]=createSignal(null);let At=null;const qt=xn=>{_t(xn),At!=null&&clearTimeout(At),At=setTimeout(()=>_t(null),1500)},Zt=xn=>{if(!xn.isSupportRequiredFeatures){qt(xn);return}ut.onSelect(xn)},cr=()=>isMobile()?ut.walletsList.filter(supportsMobile):ut.walletsList,Gr=()=>cr().filter(xn=>xn.isSupportRequiredFeatures),Zr=()=>cr().filter(xn=>!xn.isSupportRequiredFeatures);return createComponent(DesktopSelectWalletModalStyled,{"data-tc-wallets-modal-list":"true",get children(){return[createComponent(StyledIconButton$3,{icon:"arrow",onClick:()=>ut.onBack()}),createComponent(H1Styled$7,{translationKey:"walletModal.wallets",children:"Wallets"}),createComponent(ScrollContainer,{get maxHeight(){return lt()},get children(){return[createComponent(WalletsUl,{get children(){return createComponent(For,{get each(){return Gr()},children:xn=>(()=>{const On=_tmpl$$2.cloneNode(!0);return insert(On,createComponent(WalletLabeledItemStyled,{wallet:xn,onClick:()=>ut.onSelect(xn)})),On})()})}}),createComponent(Show,{get when(){return Zr().length>0},get children(){return[createComponent(WalletsNotSupportedNotifier,{get children(){return[createComponent(WalletsNotSupportedNotifierText,{translationKey:"walletModal.allWallets.walletsBelowNotSupported",children:"The wallets below dont support all features of the connected service. You can use your recovery phrase in one of the supported wallets above."}),createComponent(ExclamationIcon,{size:"28"})]}}),createComponent(WalletsUl,{get children(){return createComponent(For,{get each(){return Zr()},children:xn=>(()=>{const On=_tmpl$$2.cloneNode(!0);return insert(On,createComponent(WalletLabeledItemStyled,{wallet:xn,onClick:()=>Zt(xn),withOpacity:!0})),On})()})}}),createComponent(Transition,{onBeforeEnter:xn=>{animate(xn,[{opacity:0,transform:"translate(-50%, 44px)"},{opacity:1,transform:"translate(-50%, 0)"}],{duration:150,easing:"ease-out"})},onExit:(xn,On)=>{animate(xn,[{opacity:1,transform:"translate(-50%, 0)"},{opacity:0,transform:"translate(-50%, 44px)"}],{duration:150,easing:"ease-out"}).finished.then(()=>{On()})},get children(){return createComponent(Show,{get when(){return ht()},get children(){return createComponent(ErrorBoxStyled,{get children(){return[createComponent(ErrorIcon,{size:"xs"}),createComponent(Text$2,{translationKey:"walletModal.allWallets.walletNotSupportService",get translationValues(){return{name:ht().name}},get children(){return[createMemo(()=>ht().name)," doesnt support connected service"]}})]}})}})}})]}})]}})]}})},tgButtonBorders={m:"16px",s:"12px",none:"0"},tgIconBorders={m:"6px",s:"6px",none:"0"},DesktopConnectionModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
`,BodyStyled$1=styled$1.div`
    flex: 1;
    margin-top: ${ut=>ut.qr?"0":"18px"};
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,QRCodeStyled$1=styled$1(QRCode)`
    margin-bottom: 24px;
`,H1Styled$6=styled$1(H1$1)`
    max-width: 288px;
    margin: 0 auto 2px;
`,H2Styled$4=styled$1(H2$1)`
    max-width: 288px;
    text-align: center;
    margin: 0 auto 20px;
`,StyledIconButton$2=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,ButtonsContainerStyled$1=styled$1.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,BottomButtonsContainerStyled=styled$1(ButtonsContainerStyled$1)`
    padding-bottom: 0;
`,FooterButton$1=styled$1(Button$1)`
    margin-bottom: 24px;
`,LoaderStyled$1=styled$1(LoaderIcon)`
    margin-bottom: 18px;
    margin-top: 2px;
`,ErrorIconStyled$1=styled$1(ErrorIcon)`
    margin-bottom: 16px;
`,BodyTextStyled$1=styled$1(H2$1)`
    color: ${ut=>ut.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,TgButtonStyled=styled$1(Button$1)`
    margin-top: -8px;
    margin-bottom: 24px;
    width: 100%;
    padding: 12px 12px 12px 20px;
    border-radius: ${ut=>tgButtonBorders[ut.theme.borderRadius]};
    font-size: 16px;
    line-height: 20px;
`,TgImageStyled=styled$1(Image$1)`
    width: 32px;
    height: 32px;
    border-radius: ${ut=>tgIconBorders[ut.theme.borderRadius]};
`,Translation=ut=>{const[lt]=useI18n();return createMemo(()=>{var ht;return lt(ut.translationKey,ut.translationValues,(ht=ut.children)==null?void 0:ht.toString())})};function addReturnStrategy(ut,lt){let ht;typeof lt=="string"?ht=lt:ht=isInTMA()?lt.twaReturnUrl||lt.returnStrategy:"none";const _t=addQueryParameter(ut,"ret",ht);if(!isTelegramUrl(ut))return _t;const At=_t.slice(_t.lastIndexOf("&")+1);return _t.slice(0,_t.lastIndexOf("&"))+"-"+encodeTelegramUrlParameters(At)}function redirectToTelegram(ut,lt){lt=__spreadValues$2({},lt);const ht=convertToTGDirectLink(ut),_t=new URL(ht);if(_t.searchParams.has("startapp")||_t.searchParams.append("startapp","tonconnect"),isInTelegramBrowser()){lt.returnStrategy="back";const At=addReturnStrategy(_t.toString(),lt.returnStrategy);openLinkBlank(At)}else if(isInTMA())if(isTmaPlatform("ios","android","macos","tdesktop","web")){lt.returnStrategy="back";const At=addReturnStrategy(_t.toString(),lt.returnStrategy);sendOpenTelegramLink(At)}else isTmaPlatform("weba")?sendOpenTelegramLink(addReturnStrategy(_t.toString(),lt)):openLinkBlank(addReturnStrategy(_t.toString(),lt));else if(isOS("ios")){lt.returnStrategy==="back"&&(isBrowser("safari")?lt.returnStrategy="back":isBrowser("chrome")?lt.returnStrategy="googlechrome://":isBrowser("firefox")?lt.returnStrategy="firefox://":isBrowser("opera")?lt.returnStrategy="opera-http://":lt.returnStrategy=location.href);const At=isBrowser("chrome"),qt=isBrowser("firefox");if((At||qt)&&!lt.forceRedirect){const cr=addReturnStrategy(_t.toString(),lt.returnStrategy),Gr=convertToTGDeepLink(cr);openDeeplinkWithFallback(Gr,()=>openLinkBlank(cr))}else{const cr=addReturnStrategy(_t.toString(),lt.returnStrategy);openLinkBlank(cr)}}else if(isOS("android")){lt.returnStrategy="back";const At=isBrowser("chrome"),qt=isBrowser("firefox");if((At||qt)&&!lt.forceRedirect){const cr=addReturnStrategy(_t.toString(),lt.returnStrategy),Gr=convertToTGDeepLink(cr);openDeeplinkWithFallback(Gr,()=>openLinkBlank(cr))}else{const cr=addReturnStrategy(_t.toString(),lt.returnStrategy);openLinkBlank(cr)}}else if(isOS("ipad")){lt.returnStrategy==="back"&&(isBrowser("safari")?lt.returnStrategy="back":isBrowser("chrome")?lt.returnStrategy="googlechrome://":isBrowser("firefox")?lt.returnStrategy="firefox://":isBrowser("opera")?lt.returnStrategy="opera-http://":lt.returnStrategy=location.href);const At=isBrowser("chrome"),qt=isBrowser("firefox"),Zt=(At||qt)&&!lt.forceRedirect,cr=addReturnStrategy(_t.toString(),lt.returnStrategy);if(Zt){const Gr=convertToTGDeepLink(cr);openDeeplinkWithFallback(Gr,()=>openLinkBlank(cr))}else openLinkBlank(cr)}else if(isOS("macos","windows","linux")){lt.returnStrategy="back",lt.twaReturnUrl=void 0;const At=addReturnStrategy(_t.toString(),lt.returnStrategy);if(lt.forceRedirect)openLinkBlank(At);else{const qt=convertToTGDeepLink(At);openDeeplinkWithFallback(qt,()=>openLinkBlank(At))}}else openLinkBlank(addReturnStrategy(_t.toString(),lt))}function redirectToWallet(ut,lt,ht,_t){if(ht=__spreadValues$2({},ht),isInTelegramBrowser())if(isOS("ios","android"))ht.returnStrategy==="back"&&(ht.returnStrategy="tg://resolve"),_t("universal-link"),openLink(addReturnStrategy(ut,ht.returnStrategy),"_self");else{_t("universal-link");const At=addReturnStrategy(ut,ht.returnStrategy);openLinkBlank(At)}else if(isInTMA())if(isTmaPlatform("ios","android")){ht.returnStrategy==="back"&&(ht.returnStrategy="tg://resolve"),_t("universal-link");const At=addReturnStrategy(ut,ht.returnStrategy);sendOpenTelegramLink(At,()=>{_t("universal-link"),openLinkBlank(At)})}else if(isTmaPlatform("macos","tdesktop")){ht.returnStrategy==="back"&&(ht.returnStrategy="tg://resolve");const At=addReturnStrategy(ut,ht.returnStrategy);!!lt&&!ht.forceRedirect?(_t("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(At,lt),()=>{_t("universal-link"),openLinkBlank(At)})):(_t("universal-link"),openLinkBlank(At))}else if(isTmaPlatform("weba")){ht.returnStrategy==="back"&&(isBrowser("safari")?ht.returnStrategy=location.href:isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy=location.href);const At=addReturnStrategy(ut,ht.returnStrategy);!!lt&&!ht.forceRedirect?(_t("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(At,lt),()=>{_t("universal-link"),openLinkBlank(At)})):(_t("universal-link"),openLinkBlank(At))}else if(isTmaPlatform("web")){ht.returnStrategy==="back"&&(isBrowser("safari")?ht.returnStrategy=location.href:isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy=location.href);const At=addReturnStrategy(ut,ht.returnStrategy);!!lt&&!ht.forceRedirect?(_t("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(At,lt),()=>{_t("universal-link"),openLinkBlank(At)})):(_t("universal-link"),openLinkBlank(At))}else{_t("universal-link");const At=addReturnStrategy(ut,ht.returnStrategy);openLinkBlank(At)}else if(isOS("ios"))ht.returnStrategy==="back"&&(isBrowser("safari")?ht.returnStrategy="none":isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy=location.href),isBrowser("chrome")?(_t("universal-link"),openLink(addReturnStrategy(ut,ht.returnStrategy),"_self")):(_t("universal-link"),openLinkBlank(addReturnStrategy(ut,ht.returnStrategy)));else if(isOS("android"))ht.returnStrategy==="back"&&(isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy=location.href),_t("universal-link"),openLinkBlank(addReturnStrategy(ut,ht.returnStrategy));else if(isOS("ipad"))ht.returnStrategy==="back"&&(isBrowser("safari")?ht.returnStrategy="none":isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy=location.href),isBrowser("chrome")?(_t("universal-link"),openLink(addReturnStrategy(ut,ht.returnStrategy),"_self")):(_t("universal-link"),openLinkBlank(addReturnStrategy(ut,ht.returnStrategy)));else if(isOS("macos","windows","linux")){ht.returnStrategy==="back"&&(isBrowser("safari")?ht.returnStrategy="none":isBrowser("chrome")?ht.returnStrategy="googlechrome://":isBrowser("firefox")?ht.returnStrategy="firefox://":isBrowser("opera")?ht.returnStrategy="opera-http://":ht.returnStrategy="none");const At=addReturnStrategy(ut,ht.returnStrategy);!!lt&&!ht.forceRedirect?(_t("custom-deeplink"),openDeeplinkWithFallback(toDeeplink(At,lt),()=>{_t("universal-link"),openLinkBlank(At)})):(_t("universal-link"),openLinkBlank(At))}else _t("universal-link"),openLinkBlank(addReturnStrategy(ut,ht.returnStrategy))}function addQueryParameter(ut,lt,ht){const _t=new URL(ut);return _t.searchParams.append(lt,ht),_t.toString()}function convertToTGDirectLink(ut){const lt=new URL(ut);return lt.searchParams.has("attach")&&(lt.searchParams.delete("attach"),lt.pathname+="/start"),lt.toString()}function convertToTGDeepLink(ut){const lt=new URL(ut),[,ht,_t]=lt.pathname.split("/"),At=lt.searchParams.get("startapp");return`tg://resolve?domain=${ht}&appname=${_t}&startapp=${At}`}const DesktopConnectionModal=ut=>{const[lt,ht]=createSignal("mobile"),[_t,At]=createSignal(null);createEffect(()=>{var ep;At((ep=ut.defaultError)!=null?ep:null)});const[qt,Zt]=createSignal(),[cr,Gr]=createSignal(!0),Zr=useContext(ConnectorContext),xn=Zr.onStatusChange(()=>{},ep=>{if(ep instanceof WalletMissingRequiredFeaturesError){At("missing-features");return}ut.wallet.appName!==AT_WALLET_APP_NAME&&At("connection-declined")});onCleanup(xn);const On=()=>{try{const ep=Zr.connect({universalLink:ut.wallet.universalLink,bridgeUrl:ut.wallet.bridgeUrl},ut.additionalRequest);Zt(ep)}catch{}};createEffect(()=>{untrack(lt)!=="extension"&&(supportsMobile(ut.wallet)||supportsDesktop(ut.wallet))&&On()});const ss=()=>{At(null),lt()==="extension"&&On(),ht("mobile"),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:"qrcode"}))},ls=()=>{if(At(null),lt()==="extension"&&On(),ht("desktop"),isTelegramUrl(qt()))cs();else{const ep=!cr();Gr(!1),redirectToWallet(qt(),ut.wallet.deepLink,{returnStrategy:appState.returnStrategy,forceRedirect:ep},Al=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:Al}))})}},cs=()=>{const ep=!cr();Gr(!1),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:"universal-link"})),redirectToTelegram(qt(),{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:ep})},wl=()=>{At(null),ht("extension"),isWalletInfoCurrentlyInjected(ut.wallet)&&(setLastSelectedWalletInfo(ut.wallet),Zr.connect({jsBridgeKey:ut.wallet.jsBridgeKey},ut.additionalRequest))};return supportsMobile(ut.wallet)?ss():supportsExtension(ut.wallet)?wl():ls(),createComponent(DesktopConnectionModalStyled,{"data-tc-wallets-modal-connection-desktop":"true",get children(){return[createComponent(Show,{get when(){return!ut.backDisabled},get children(){return createComponent(StyledIconButton$2,{icon:"arrow",onClick:()=>ut.onBackClick()})}}),createComponent(H1Styled$6,{get children(){return ut.wallet.name}}),createComponent(Show,{get when(){return createMemo(()=>lt()==="mobile")()&&!_t()},get children(){return createComponent(H2Styled$4,{translationKey:"walletModal.desktopConnectionModal.scanQR",get translationValues(){return{name:ut.wallet.name}},get children(){return["Scan the QR code below with your phones or ",createMemo(()=>ut.wallet.name),"s camera"]}})}}),createComponent(BodyStyled$1,{get qr(){return lt()==="mobile"},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return _t()},get children(){return[createComponent(ErrorIconStyled$1,{size:"s"}),createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return _t()==="missing-features"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.missingFeatures",get translationValues(){return{name:ut.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),createComponent(Match,{get when(){return _t()==="connection-declined"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.connectionDeclined",children:"Connection declined"})}}),createComponent(Match,{get when(){return _t()==="not-supported"},get children(){return createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.notSupportedWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return[createMemo(()=>ut.wallet.name)," doesnt support the requested action. Please connect another wallet that supports it."]}})}})]}}),createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(Show,{get when(){return _t()!=="not-supported"},get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},get onClick(){return lt()==="extension"?wl:ls},get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}})}}),createComponent(Show,{get when(){return _t()==="missing-features"},get children(){return createComponent(Link,{get href(){return ut.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.updateWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return["Update ",createMemo(()=>ut.wallet.name)]}})}})}})}}),createComponent(Show,{get when(){return _t()==="not-supported"},get children(){return createComponent(Button$1,{onClick:()=>ut.onBackClick(),get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}})]}})]}}),createComponent(Match,{get when(){return lt()==="mobile"},get children(){return createComponent(QRCodeStyled$1,{disableCopy:!1,get sourceUrl(){return addReturnStrategy(qt(),"none")},get imageUrl(){return ut.wallet.imageUrl}})}}),createComponent(Match,{get when(){return lt()==="extension"},get children(){return[createComponent(Show,{get when(){return isWalletInfoCurrentlyInjected(ut.wallet)},get children(){return[createComponent(LoaderStyled$1,{size:"s"}),createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.continueInExtension",get translationValues(){return{name:ut.wallet.name}},get children(){return["Continue in ",createMemo(()=>ut.wallet.name)," browser extension"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:wl,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}})}})]}}),createComponent(Show,{get when(){return!isWalletInfoCurrentlyInjected(ut.wallet)},get children(){return[createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.dontHaveExtension",get translationValues(){return{name:ut.wallet.name}},get children(){return["Seems you don't have installed ",createMemo(()=>ut.wallet.name)," browser extension"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return createComponent(Link,{get href(){return ut.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(LinkIcon,{})},onClick:wl,get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return["Get ",createMemo(()=>ut.wallet.name)]}})}})}})}})]}})]}}),createComponent(Match,{get when(){return lt()==="desktop"},get children(){return[createComponent(LoaderIcon,{size:"m"}),createComponent(BodyTextStyled$1,{translationKey:"walletModal.desktopConnectionModal.continueOnDesktop",get translationValues(){return{name:ut.wallet.name}},get children(){return["Continue in ",createMemo(()=>ut.wallet.name)," on desktop"]}}),createComponent(ButtonsContainerStyled$1,{get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:ls,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Link,{get href(){return ut.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.getWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return["Get ",createMemo(()=>ut.wallet.name)]}})}})}})]}})]}})]}})}}),createComponent(Show,{get when(){return ut.wallet.appName===AT_WALLET_APP_NAME},get children(){return createComponent(TgButtonStyled,{get rightIcon(){return createComponent(TgImageStyled,{get src(){return IMG.TG}})},scale:"s",onClick:cs,get children(){return createComponent(Translation,{translationKey:"walletModal.desktopConnectionModal.openWalletOnTelegram",children:"Open Wallet in Telegram on desktop"})}})}}),createComponent(Show,{get when(){return ut.wallet.appName!==AT_WALLET_APP_NAME},get children(){return createComponent(BottomButtonsContainerStyled,{get children(){return[createComponent(Show,{get when(){return createMemo(()=>lt()!=="mobile")()&&supportsMobile(ut.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(MobileIcon,{})},onClick:ss,get children(){return createComponent(Translation,{translationKey:"common.mobile",children:"Mobile"})}})}}),createComponent(Show,{get when(){return createMemo(()=>lt()!=="extension")()&&supportsExtension(ut.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(BrowserIcon,{})},onClick:wl,get children(){return createComponent(Translation,{translationKey:"common.browserExtension",children:"Browser Extension"})}})}}),createComponent(Show,{get when(){return createMemo(()=>lt()!=="desktop")()&&supportsDesktop(ut.wallet)},get children(){return createComponent(FooterButton$1,{appearance:"secondary",get leftIcon(){return createComponent(DesktopIcon,{})},onClick:ls,get children(){return createComponent(Translation,{translationKey:"common.desktop",children:"Desktop"})}})}})]}})}})]}})},InfoModalStyled=styled$1.div``,StyledIconButton$1=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,H1Styled$5=styled$1(H1$1)`
    margin-bottom: 18px;
`,InfoBlock=styled$1.div`
    padding: 16px 0;
    display: flex;
    flex-direction: column;
    align-items: center;
`,InfoBlockIconClass=u$1`
    margin-bottom: 12px;
`,H3Styled=styled$1(H3$1)`
    text-align: center;
    margin-bottom: 4px;
`,TextStyled$1=styled$1(Text$2)`
    text-align: center;
    max-width: 352px;
    color: ${ut=>ut.theme.colors.text.secondary};
`,ButtonsBlock=styled$1.div`
    padding: 16px 24px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
`,LINKS={GET_A_WALLET:"https://ton.org/wallets?filters[wallet_features][slug][$in]=dapp-auth&pagination[limit]=-1"},InfoModal=ut=>createComponent(InfoModalStyled,{"data-tc-wallets-modal-info":"true",get children(){return[createComponent(StyledIconButton$1,{icon:"arrow",onClick:()=>ut.onBackClick()}),createComponent(H1Styled$5,{translationKey:"walletModal.infoModal.whatIsAWallet",children:"What is a wallet"}),createComponent(ScrollContainer,{get children(){return[createComponent(InfoBlock,{get children(){return[createComponent(SecurityIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.secureDigitalAssets",children:"Secure digital assets storage"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.walletProtects",children:"A wallet protects and manages your digital assets including TON, tokens and collectables."})]}}),createComponent(InfoBlock,{get children(){return[createComponent(PersonalityIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.controlIdentity",children:"Control your Web3 identity"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.manageIdentity",children:"Manage your digital identity and access decentralized applications with ease. Maintain control over your data and engage securely in the blockchain ecosystem."})]}}),createComponent(InfoBlock,{get children(){return[createComponent(SwapIcon,{class:InfoBlockIconClass}),createComponent(H3Styled,{translationKey:"walletModal.infoModal.effortlessCryptoTransactions",children:"Effortless crypto transactions"}),createComponent(TextStyled$1,{translationKey:"walletModal.infoModal.easilySend",children:"Easily send, receive, monitor your cryptocurrencies. Streamline your operations with decentralized applications."})]}}),createComponent(ButtonsBlock,{get children(){return createComponent(Link,{get href(){return LINKS.GET_A_WALLET},blank:!0,get children(){return createComponent(Button$1,{get rightIcon(){return createComponent(WalletIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.infoModal.getAWallet",children:"Get a Wallet"})}})}})}})]}})]}}),MobileConnectionModalStyled=styled$1.div``,BodyStyled=styled$1.div`
    flex: 1;
    margin-top: 18px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 232px;
`,H1Styled$4=styled$1(H1$1)`
    max-width: 262px;
    margin: 0 auto 8px;
`,StyledIconButton=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,FooterStyled=styled$1.div`
    padding: 16px;
    display: flex;
    align-items: center;
    gap: 12px;
    border-top: 0.5px solid ${ut=>rgba(ut.theme.colors.icon.secondary,.2)};
`,ImageStyled=styled$1(Image$1)`
    width: 36px;
    height: 36px;
    border-radius: 10px;
`,FooterButton=styled$1(Link)`
    margin-left: auto;
`,LoaderStyled=styled$1(LoaderIcon)`
    margin-bottom: 18px;
    margin-top: 2px;
`,ErrorIconStyled=styled$1(ErrorIcon)`
    margin-bottom: 16px;
`,BodyTextStyled=styled$1(H2$1)`
    color: ${ut=>ut.theme.colors.text.secondary};
    text-align: center;
    margin-bottom: 20px;
`,ButtonsContainerStyled=styled$1.div`
    display: flex;
    justify-content: center;
    gap: 8px;
    padding-bottom: 16px;
`,actionButtonBorderRadius$1={m:"16px",s:"8px",none:"0"},H1Styled$3=styled$1(H1$1)`
    margin-bottom: 2px;
    padding: 0 52px;
`,H2Styled$3=styled$1(H2$1)`
    margin-bottom: 20px;
    padding: 0 64px;
`,QrCodeWrapper$1=styled$1.div`
    padding: 0 24px 16px;
`,ButtonsWrapper$1=styled$1.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,ActionButton$1=styled$1(Button$1)`
    width: 100%;
    height: 56px;
    border-radius: ${ut=>actionButtonBorderRadius$1[ut.theme.borderRadius]};
    background-color: ${ut=>rgba(ut.theme.colors.accent,.12)};
    color: ${ut=>ut.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,MobileConnectionQR=ut=>[createComponent(H1Styled$3,{get children(){return ut.walletInfo.name}}),createComponent(H2Styled$3,{translationKey:"walletModal.mobileConnectionModal.scanQR",get translationValues(){return{name:ut.walletInfo.name}},get children(){return["Scan the QR code below with your phones or ",createMemo(()=>ut.walletInfo.name),"s camera"]}}),createComponent(QrCodeWrapper$1,{get children(){return createComponent(QRCode,{get imageUrl(){return ut.walletInfo.imageUrl},get sourceUrl(){return addReturnStrategy(ut.universalLink,"none")},disableCopy:!0})}}),createComponent(ButtonsWrapper$1,{get children(){return[createComponent(ActionButton$1,{appearance:"secondary",onClick:()=>{var lt;return(lt=ut.onOpenLink)==null?void 0:lt.call(ut)},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),createComponent(ActionButton$1,{appearance:"secondary",onClick:()=>{var lt;return(lt=ut.onCopy)==null?void 0:lt.call(ut)},get children(){return createComponent(Translation,{get translationKey(){return ut.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return ut.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})],MobileConnectionModal=ut=>{const lt=useTheme(),[ht,_t]=createSignal(!0),[At,qt]=createSignal(!1),[Zt,cr]=createSignal(null);createEffect(()=>{var cp;cr((cp=ut.defaultError)!=null?cp:null)});const Gr=useContext(ConnectorContext),Zr=Gr.onStatusChange(()=>{},()=>{cr(null)}),xn=createMemo(()=>Gr.connect({universalLink:ut.wallet.universalLink,bridgeUrl:ut.wallet.bridgeUrl},ut.additionalRequest)),On=()=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:"universal-link"})),redirectToTelegram(xn(),{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:!0})},ss=()=>{const cp=xn();if(isTelegramUrl(cp))return On();cr(null);const Cp=!ht();_t(!1),redirectToWallet(xn(),ut.wallet.deepLink,{returnStrategy:appState.returnStrategy,forceRedirect:Cp},Lp=>{setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:Lp}))})},[ls,cs]=createSignal(void 0),wl=()=>__async(void 0,null,function*(){ls()!==void 0&&clearTimeout(ls()),yield copyToClipboard(xn());const cp=setTimeout(()=>cs(void 0),1500);cs(cp)}),ep=()=>{cr(null),qt(!0),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:"qrcode"}))},Al=()=>{qt(!1),setLastSelectedWalletInfo(__spreadProps$1(__spreadValues$2({},ut.wallet),{openMethod:"universal-link"}))},np=()=>{At()?Al():ut.onBackClick()};return onCleanup(Zr),ss(),createComponent(MobileConnectionModalStyled,{"data-tc-wallets-modal-connection-mobile":"true",get children(){return[createComponent(Show,{get when(){return!ut.backDisabled||At()},get children(){return createComponent(StyledIconButton,{icon:"arrow",onClick:np})}}),createComponent(Show,{get when(){return At()},get children(){return createComponent(MobileConnectionQR,{get universalLink(){return xn()},get walletInfo(){return ut.wallet},onOpenLink:ss,onCopy:wl,get isCopiedShown(){return ls()}})}}),createComponent(Show,{get when(){return!At()},get children(){return[createComponent(H1Styled$4,{get children(){return ut.wallet.name}}),createComponent(BodyStyled,{get children(){return[createComponent(Show,{get when(){return Zt()},get children(){return[createComponent(ErrorIconStyled,{size:"s"}),createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return Zt()==="missing-features"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.missingFeatures",get translationValues(){return{name:ut.wallet.name}},children:"Please update Wallet, your version does not support required features for this dApp"})}}),createComponent(Match,{get when(){return Zt()==="connection-declined"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.connectionDeclined",children:"Connection declined"})}}),createComponent(Match,{get when(){return Zt()==="not-supported"},get children(){return createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.notSupportedWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return[createMemo(()=>ut.wallet.name)," doesnt support the requested action. Please connect another wallet that supports it."]}})}})]}}),createComponent(ButtonsContainerStyled,{get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return Zt()==="missing-features"},get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:ss,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Link,{get href(){return ut.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get leftIcon(){return createComponent(LinkIcon,{})},get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.updateWallet",get translationValues(){return{name:ut.wallet.name}},get children(){return["Update ",createMemo(()=>ut.wallet.name)]}})}})}})]}}),createComponent(Match,{get when(){return Zt()==="not-supported"},get children(){return createComponent(Button$1,{onClick:()=>ut.onBackClick(),get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.chooseAnotherWallet",children:"Choose Another Wallet"})}})}}),createComponent(Match,{get when(){return Zt()==="connection-declined"},get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:ss,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Button$1,{get leftIcon(){return createComponent(QRIcon,{get fill(){return lt.colors.accent}})},onClick:ep,get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})}})]}}),createComponent(Show,{get when(){return!Zt()},get children(){return[createComponent(LoaderStyled,{size:"s"}),createComponent(BodyTextStyled,{translationKey:"walletModal.mobileConnectionModal.continueIn",get translationValues(){return{name:ut.wallet.name}},get children(){return["Continue in ",createMemo(()=>ut.wallet.name),""]}}),createComponent(ButtonsContainerStyled,{get children(){return[createComponent(Button$1,{get leftIcon(){return createComponent(RetryIcon,{})},onClick:ss,get children(){return createComponent(Translation,{translationKey:"common.retry",children:"Retry"})}}),createComponent(Button$1,{get leftIcon(){return createComponent(QRIcon,{get fill(){return lt.colors.accent}})},onClick:ep,get children(){return createComponent(Translation,{translationKey:"walletModal.mobileConnectionModal.showQR",children:"Show QR Code"})}})]}})]}})]}}),createComponent(FooterStyled,{get children(){return[createComponent(ImageStyled,{get src(){return ut.wallet.imageUrl}}),createComponent(H3$1,{get children(){return ut.wallet.name}}),createComponent(FooterButton,{get href(){return ut.wallet.aboutUrl},blank:!0,get children(){return createComponent(Button$1,{get children(){return createComponent(Translation,{translationKey:"common.get",children:"GET"})}})}})]}})]}})]}})},borders$1={m:"16px",s:"12px",none:"0"},tgBorders={m:"6px",s:"6px",none:"0"};styled$1.li`
    width: 82px;
    min-width: 82px;
    height: 124px;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 8px 4px;

    text-align: center;
    cursor: pointer;

    transition: transform 0.1s ease-in-out;

    ${mediaNotTouch} {
        &:hover {
            transform: scale(1.04);
        }
    }

    &:active {
        transform: scale(0.96);
    }

    ${mediaTouch} {
        &:active {
            transform: scale(0.92);
        }
    }
`;const H1Styled$2=styled$1(H1$1)`
    margin-top: 38px;
    margin-bottom: 4px;
    padding: 0 24px;
`,H2Styled$2=styled$1(H2$1)`
    margin: ${ut=>{var lt;return(lt=ut.margin)!=null?lt:"0 0 28px 0"}};
    padding: ${ut=>{var lt;return(lt=ut.padding)!=null?lt:"0 24px"}};
    min-height: ${ut=>{var lt;return(lt=ut.padding)!=null?lt:"44px"}};
    max-width: ${ut=>ut.maxWidth}px;
    margin-left: ${ut=>ut.maxWidth?"auto":"0px"};
    margin-right: ${ut=>ut.maxWidth?"auto":"0px"};
`;styled$1(Button$1)`
    display: block;
    margin: 0 auto;
`;const TelegramButtonStyled=styled$1(Button$1)`
    margin: 0 28px 24px;
    width: calc(100% - 56px);
    border-radius: ${ut=>borders$1[ut.theme.borderRadius]};
    padding: 14px 16px 14px 14px;
    background-color: ${ut=>ut.theme.colors.telegramButton};

    color: ${ut=>ut.theme.colors.constant.white};
    font-weight: 500;
    font-size: 16px;
    line-height: 20px;

    @media (max-width: 375px) {
        margin: 0 16px 24px;
        width: calc(100% - 32px);
    }
`,TGImageStyled=styled$1(Image$1)`
    background-color: transparent;
    border-radius: ${ut=>tgBorders[ut.theme.borderRadius]};
    width: 24px;
    height: 24px;
`,StyledLeftActionButton=styled$1(IconButton)`
    position: absolute;
    top: 16px;
    left: 16px;
`,actionButtonBorderRadius={m:"16px",s:"8px",none:"0"},H1Styled$1=styled$1(H1$1)`
    margin-bottom: 2px;
    padding: 0 52px;
`,H2Styled$1=styled$1(H2$1)`
    margin-bottom: 20px;
    padding: 0 64px;
`,QrCodeWrapper=styled$1.div`
    padding: 0 24px 16px;
`,ButtonsWrapper=styled$1.div`
    display: flex;
    flex-direction: row;
    gap: 16px;
    padding: 0 24px 24px;
    margin-top: 0;
`,ActionButton=styled$1(Button$1)`
    width: 100%;
    height: 56px;
    border-radius: ${ut=>actionButtonBorderRadius[ut.theme.borderRadius]};
    background-color: ${ut=>rgba(ut.theme.colors.accent,.12)};
    color: ${ut=>ut.theme.colors.accent};
    font-size: 16px;
    line-height: 20px;
    font-weight: 500;
    padding: 17px 20px 19px 20px;
`,MobileUniversalQR=ut=>[createComponent(H1Styled$1,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),createComponent(H2Styled$1,{translationKey:"walletModal.mobileUniversalModal.scan",children:"Scan with your mobile wallet"}),createComponent(QrCodeWrapper,{get children(){return createComponent(QRCode,{get imageUrl(){return IMG.TON},get sourceUrl(){return addReturnStrategy(ut.universalLink,"none")},disableCopy:!0})}}),createComponent(ButtonsWrapper,{get children(){return[createComponent(ActionButton,{appearance:"secondary",onClick:()=>ut.onOpenLink(),get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openLink",children:"Open Link"})}}),createComponent(ActionButton,{appearance:"secondary",onClick:()=>ut.onCopy(),get children(){return createComponent(Translation,{get translationKey(){return ut.isCopiedShown!==void 0?"common.copied":"common.copyLink"},get children(){return ut.isCopiedShown!==void 0?"Copied":"Copy Link"}})}})]}})];function getUniqueBridges(ut){const lt=new Set(ut.filter(isWalletInfoRemote).map(ht=>ht.bridgeUrl));return Array.from(lt).map(ht=>({bridgeUrl:ht}))}function bridgesIsEqual(ut,lt){const ht=new Set(ut==null?void 0:ut.map(At=>At.bridgeUrl)),_t=new Set(lt==null?void 0:lt.map(At=>At.bridgeUrl));return ht.size===_t.size&&[...ht].every(At=>_t.has(At))}const _tmpl$$1=template$1("<li></li>"),_tmpl$2=template$1('<div data-tc-wallets-modal-universal-mobile="true"></div>'),MobileUniversalModal=ut=>{const[lt,ht]=createSignal(!1),[_t,At]=createSignal(!0),[qt,Zt]=createSignal(null),cr=appState.connector,Gr=()=>ut.walletsList.filter(nm=>supportsMobile(nm)&&nm.appName!==AT_WALLET_APP_NAME),Zr=()=>Gr().length>7,xn=createMemo(()=>getUniqueBridges(ut.walletsList),null,{equals:bridgesIsEqual}),On=createMemo(()=>{var nm,zm;return(zm=(nm=ut.walletsList.find(i1=>i1.appName===AT_WALLET_APP_NAME))==null?void 0:nm.isSupportRequiredFeatures)!=null?zm:!1},null),ss=()=>(qt()||Zt(cr.connect(xn(),ut.additionalRequest)),qt());setLastSelectedWalletInfo({openMethod:"universal-link"});const[ls,cs]=createSignal(void 0),wl=()=>__async(void 0,null,function*(){ls()!==void 0&&clearTimeout(ls()),yield copyToClipboard(ss());const nm=setTimeout(()=>cs(void 0),1500);cs(nm)}),ep=()=>{const nm=!_t();At(!1),redirectToWallet(ss(),void 0,{returnStrategy:appState.returnStrategy,forceRedirect:nm},zm=>{setLastSelectedWalletInfo({openMethod:zm})})},Al=()=>{Zt(null);const nm=ut.walletsList.find(d3=>d3.appName===AT_WALLET_APP_NAME);if(!nm||!isWalletInfoRemote(nm))throw new TonConnectUIError("@wallet bot not found in the wallets list");const zm=cr.connect({bridgeUrl:nm.bridgeUrl,universalLink:nm.universalLink},ut.additionalRequest),i1=!_t();At(!1),redirectToTelegram(zm,{returnStrategy:appState.returnStrategy,twaReturnUrl:appState.twaReturnUrl,forceRedirect:i1})},np=()=>{ht(!0),setLastSelectedWalletInfo({openMethod:"qrcode"})},cp=()=>{ht(!1),setLastSelectedWalletInfo({openMethod:"universal-link"})},Cp=createMemo(()=>Gr().filter(nm=>nm.isSupportRequiredFeatures),null),Lp=createMemo(()=>Cp().slice(0,3),null),jp=createMemo(()=>Gr().filter(nm=>!Lp().find(zm=>zm.appName===nm.appName)).slice(0,4),null);return(()=>{const nm=_tmpl$2.cloneNode(!0);return insert(nm,createComponent(Show,{get when(){return lt()},get children(){return[createComponent(StyledLeftActionButton,{icon:"arrow",onClick:cp}),createComponent(MobileUniversalQR,{get universalLink(){return ss()},get isCopiedShown(){return ls()},onOpenLink:ep,onCopy:wl})]}}),null),insert(nm,createComponent(Show,{get when(){return!lt()},get children(){return[createComponent(StyledLeftActionButton,{get icon(){return createComponent(QRIcon,{})},onClick:np}),createComponent(H1Styled$2,{translationKey:"walletModal.mobileUniversalModal.connectYourWallet",children:"Connect your TON wallet"}),createComponent(Show,{get when(){return On()},get children(){return[createComponent(H2Styled$2,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegramOrSelect",maxWidth:320,children:"Use Wallet in Telegram or choose other application"}),createComponent(TelegramButtonStyled,{get leftIcon(){return createComponent(AtWalletIcon,{})},get rightIcon(){return createComponent(TGImageStyled,{get src(){return IMG.TG}})},onClick:Al,scale:"s",get children(){return createComponent(Translation,{translationKey:"walletModal.mobileUniversalModal.openWalletOnTelegram",children:"Connect Wallet in Telegram"})}})]}}),createComponent(H2Styled$2,{translationKey:"walletModal.mobileUniversalModal.chooseOtherApplication",maxWidth:342,padding:"0 24px 8px 24px",margin:"0",children:"Choose other application"}),createComponent(WalletUlContainer,{get children(){return[createComponent(For,{get each(){return createMemo(()=>!!Zr())()?Lp():Cp()},children:zm=>(()=>{const i1=_tmpl$$1.cloneNode(!0);return insert(i1,createComponent(WalletItem,{get icon(){return zm.imageUrl},get name(){return zm.name},onClick:()=>ut.onSelect(zm)})),i1})()}),createComponent(Show,{get when(){return Zr()},get children(){const zm=_tmpl$$1.cloneNode(!0);return insert(zm,createComponent(FourWalletsItem,{labelLine1:"View all",labelLine2:"wallets",get images(){return jp().map(i1=>i1.imageUrl)},onClick:()=>ut.onSelectAllWallets()})),zm}})]}})]}}),null),nm})()},borders={m:"16px",s:"8px",none:"0"},hoverBorders={m:"8px",s:"4px",none:"0"},DesktopUniversalModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 16px;
`,H2Styled=styled$1(H2$1)`
    max-width: 320px;
    margin-top: 2px;
    margin-bottom: 20px;
`,H2AvailableWalletsStyled=styled$1(H2$1)`
    margin-bottom: 16px;
`,QRCodeStyled=styled$1(QRCode)`
    margin-bottom: 24px;
`,WalletsContainerStyled=styled$1.ul`
    display: flex;
`;styled$1.div`
    display: flex;
    gap: 16px;
    width: 100%;
`;styled$1(Button$1)`
    position: relative;
    font-size: 16px;
    line-height: 20px;
    width: 100%;
    padding: 0 16px;
    height: 56px;
    border-radius: ${ut=>borders[ut.theme.borderRadius]};

    &:hover {
        ${ut=>ut.disableEventsAnimation?"transform: unset;":""}
    }

    &:active {
        ${ut=>ut.disableEventsAnimation?"transform: unset;":""}
    }
`;styled$1.ul`
    position: absolute;
    bottom: 100%;
    left: 0;
    margin: 0;
    padding: 8px;
    width: 188px;
    transform: translateY(-16px);

    background-color: ${ut=>ut.theme.colors.background.primary};
    border-radius: ${ut=>borders[ut.theme.borderRadius]};
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);
`;styled$1.li`
    padding: 8px;

    display: flex;
    align-items: center;
    gap: 8px;

    cursor: pointer;
    border-radius: ${ut=>hoverBorders[ut.theme.borderRadius]};

    transition: background-color, transform 0.1s ease-in-out;

    &:hover {
        background-color: ${ut=>ut.theme.colors.background.secondary};
    }

    &:active {
        transform: scale(0.96);
    }
`;styled$1(Image$1)`
    width: 24px;
    height: 24px;

    border-radius: 6px;
`;styled$1.div`
    margin-top: 23px;
    margin-bottom: 1px;
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
`;styled$1(Text$2)`
    color: ${ut=>ut.theme.colors.text.secondary};
    font-size: 16px;
`;const _tmpl$=template$1("<li></li>"),DesktopUniversalModal=ut=>{const[lt,ht]=createSignal(!1),_t=appState.connector,At=createMemo(()=>getUniqueBridges(ut.walletsList),null,{equals:bridgesIsEqual});setLastSelectedWalletInfo({openMethod:"qrcode"});const qt=createMemo(()=>_t.connect(At(),ut.additionalRequest)),Zt=createMemo(()=>ut.walletsList.filter(Zr=>Zr.isSupportRequiredFeatures),null),cr=createMemo(()=>Zt().slice(0,3),null),Gr=createMemo(()=>ut.walletsList.filter(Zr=>!cr().find(xn=>xn.appName===Zr.appName)).slice(0,4),null);return createComponent(DesktopUniversalModalStyled,{onClick:()=>ht(!1),"data-tc-wallets-modal-universal-desktop":"true",get children(){return[createComponent(H1$1,{translationKey:"walletModal.desktopUniversalModal.connectYourWallet",children:"Connect your wallet"}),createComponent(H2Styled,{translationKey:"walletModal.desktopUniversalModal.scan",children:"Scan with your mobile wallet"}),createComponent(QRCodeStyled,{get sourceUrl(){return addReturnStrategy(qt(),"none")},get disableCopy(){return lt()},get imageUrl(){return IMG.TON}}),createComponent(H2AvailableWalletsStyled,{translationKey:"walletModal.desktopUniversalModal.availableWallets",children:"Available wallets"}),createComponent(WalletsContainerStyled,{get children(){return[createComponent(For,{get each(){return cr()},children:Zr=>(()=>{const xn=_tmpl$.cloneNode(!0);return insert(xn,createComponent(WalletLabeledItem,{wallet:Zr,onClick:()=>ut.onSelect(Zr)})),xn})()}),createComponent(FourWalletsItem,{labelLine1:"View all",labelLine2:"wallets",get images(){return Gr().map(Zr=>Zr.imageUrl)},onClick:()=>ut.onSelectAllWallets()})]}})]}})},WalletsModal=()=>{const{locale:ut}=useI18n()[1];createEffect(()=>ut(appState.language)),createEffect(()=>{getWalletsModalIsOpened()?updateIsMobile():(qt(null),Zr("universal"),On(!1))});const lt=useContext(ConnectorContext),ht=useContext(TonConnectUiContext),[_t]=createResource(()=>ht.getWallets()),[At,qt]=createSignal(null),[Zt,cr]=createSignal(null),[Gr,Zr]=createSignal("universal"),[xn,On]=createSignal(!1),ss=createMemo(()=>{if(_t.state!=="ready")return null;let Cp=applyWalletsListConfiguration(_t(),appState.walletsListConfiguration);const Lp=Cp.filter(isWalletInfoCurrentlyInjected),jp=Cp.filter(Sn=>!isWalletInfoCurrentlyInjected(Sn));Cp=(Lp||[]).concat(jp);const nm=appState.preferredWalletAppName,zm=Cp.find(Sn=>eqWalletName(Sn,nm)),i1=Cp.filter(Sn=>eqWalletName(Sn,nm)).length>=2;nm&&zm&&!i1&&(Cp=[__spreadProps$1(__spreadValues$2({},zm),{isPreferred:!0})].concat(Cp.filter(Sn=>!eqWalletName(Sn,nm))));const d3=Cp.find(Sn=>eqWalletName(Sn,AT_WALLET_APP_NAME));return d3&&(Cp=[d3].concat(Cp.filter(Sn=>!eqWalletName(Sn,AT_WALLET_APP_NAME)))),Cp.map(Sn=>{var Fo;return __spreadProps$1(__spreadValues$2({},Sn),{isSupportRequiredFeatures:ht!=null&&ht.walletsRequiredFeatures?checkRequiredWalletFeatures((Fo=Sn.features)!=null?Fo:[],ht.walletsRequiredFeatures):!0})})}),ls=()=>{var Cp;return((Cp=appState.connectRequestParameters)==null?void 0:Cp.state)==="loading"},cs=createMemo(()=>{var Cp;if(!ls())return(Cp=appState.connectRequestParameters)==null?void 0:Cp.value}),wl=Cp=>{ht.closeModal(Cp)},ep=lt.onStatusChange(Cp=>{Cp&&wl("wallet-selected")},Cp=>{var Lp;if(Cp instanceof WalletMissingRequiredFeaturesError){const jp=Cp.cause.connectEvent.device.appName.toLowerCase(),nm=(Lp=ss())==null?void 0:Lp.find(i1=>i1.appName.toLowerCase()===jp);if(!nm)throw new TonConnectError("Wallet not found");const zm=nm.isSupportRequiredFeatures?"missing-features":"not-supported";cr(zm),qt(nm)}}),Al=()=>{Zr("all-wallets")},np=()=>{Zr("universal")},cp=()=>{qt(null),cr(null)};return onCleanup(()=>{qt(null),cr(null),On(!1)}),onCleanup(ep),createComponent(StyledModal,{get opened(){return getWalletsModalIsOpened()},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>wl("action-cancelled"),onClickQuestion:()=>On(Cp=>!Cp),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return xn()},get children(){return createComponent(InfoModal,{onBackClick:()=>On(!1)})}}),createComponent(Show,{get when(){return!xn()},get children(){return[createComponent(Show,{get when(){return ls()||!ss()},get children(){return[createComponent(H1Styled$8,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),createComponent(LoaderContainerStyled,{get children(){return createComponent(LoaderIcon,{size:"m"})}})]}}),createComponent(Show,{get when(){return createMemo(()=>!ls())()&&ss()},get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return At()},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return At()},get additionalRequest(){return cs()},onBackClick:cp,get defaultError(){return Zt()}})}}),createComponent(Match,{get when(){return Gr()==="universal"},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileUniversalModal:DesktopUniversalModal},onSelect:qt,get walletsList(){return ss()},get additionalRequest(){return cs()},onSelectAllWallets:Al})}}),createComponent(Match,{get when(){return Gr()==="all-wallets"},get children(){return createComponent(AllWalletsListModal,{get walletsList(){return ss()},onBack:np,onSelect:qt})}})]}})}})]}})]}})},ActionModalStyled=styled$1.div`
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-bottom: 8px;
`,H1Styled=styled$1(H1$1)`
    margin-top: 16px;
`,TextStyled=styled$1(Text$2)`
    font-weight: 510;
    font-size: 16px;
    line-height: 20px;
    text-align: center;
    max-width: 250px;

    color: ${ut=>ut.theme.colors.text.secondary};
`,LoaderButtonStyled=styled$1(Button$1)`
    min-width: 112px;
    margin-top: 32px;
`,LoaderIconStyled=styled$1(LoaderIcon)`
    height: 16px;
    width: 16px;
`,ButtonStyled=styled$1(Button$1)`
    margin-top: 32px;
`,ActionModal=ut=>{const lt=useDataAttributes(ut),ht=useContext(TonConnectUiContext),[_t,At]=createSignal(!0),[qt,Zt]=createSignal(!1);createEffect(()=>{const xn=action();Zt(!!xn&&"sent"in xn&&xn.sent)});let cr;ht!=null&&ht.wallet&&"universalLink"in ht.wallet&&(ht.wallet.openMethod==="universal-link"||isTelegramUrl(ht.wallet.universalLink)&&isInTMA())&&(cr=ht.wallet.universalLink);let Gr;ht!=null&&ht.wallet&&"deepLink"in ht.wallet&&(ht.wallet.openMethod==="custom-deeplink"||isTelegramUrl(ht.wallet.deepLink)&&isInTMA())&&(Gr=ht.wallet.deepLink);const Zr=()=>{const xn=action(),On="returnStrategy"in xn?xn.returnStrategy:appState.returnStrategy,ss=!_t();At(!1),isTelegramUrl(cr)?redirectToTelegram(cr,{returnStrategy:On,twaReturnUrl:"twaReturnUrl"in xn?xn.twaReturnUrl:appState.twaReturnUrl,forceRedirect:ss}):redirectToWallet(cr,Gr,{returnStrategy:On,forceRedirect:ss},()=>{})};return createComponent(ActionModalStyled,mergeProps(lt,{get children(){return[createMemo(()=>ut.icon),createComponent(H1Styled,{get translationKey(){return ut.headerTranslationKey},get translationValues(){return ut.headerTranslationValues}}),createComponent(TextStyled,{get translationKey(){return ut.textTranslationKey},get translationValues(){return ut.textTranslationValues}}),createComponent(Show,{get when(){return!qt()&&(ut.showButton==="open-wallet"&&cr||ut.showButton!=="open-wallet")},get children(){return createComponent(LoaderButtonStyled,{disabled:!0,"data-tc-connect-button-loading":"true",get children(){return createComponent(LoaderIconStyled,{})}})}}),createComponent(Show,{get when(){return qt()},get children(){return[createComponent(Show,{get when(){return ut.showButton!=="open-wallet"},get children(){return createComponent(ButtonStyled,{onClick:()=>ut.onClose(),get children(){return createComponent(Translation,{translationKey:"common.close",children:"Close"})}})}}),createComponent(Show,{get when(){return ut.showButton==="open-wallet"&&cr},get children(){return createComponent(ButtonStyled,{onClick:Zr,get children(){return createComponent(Translation,{translationKey:"common.openWallet",children:"Open wallet"})}})}})]}})]}}))},ConfirmTransactionModal=ut=>{const lt=useContext(TonConnectUiContext),[ht]=useI18n(),_t=()=>lt.wallet&&"name"in lt.wallet?lt.wallet.name:ht("common.yourWallet",{},"Your wallet");return createComponent(ActionModal,{headerTranslationKey:"actionModal.confirmTransaction.header",get headerTranslationValues(){return{name:_t()}},textTranslationKey:"actionModal.confirmTransaction.text",get icon(){return createComponent(LoaderIcon,{size:"m"})},onClose:()=>ut.onClose(),showButton:"open-wallet","data-tc-confirm-modal":"true"})},TransactionCanceledModal=ut=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionCanceled.header",textTranslationKey:"actionModal.transactionCanceled.text",get icon(){return createComponent(ErrorIcon,{size:"m"})},onClose:()=>ut.onClose(),"data-tc-transaction-canceled-modal":"true"}),TransactionSentModal=ut=>createComponent(ActionModal,{headerTranslationKey:"actionModal.transactionSent.header",textTranslationKey:"actionModal.transactionSent.text",get icon(){return createComponent(SuccessIcon,{size:"m"})},onClose:()=>ut.onClose(),"data-tc-transaction-sent-modal":"true"}),ActionsModal=()=>createComponent(Modal,{get opened(){var ut;return createMemo(()=>action()!==null)()&&((ut=action())==null?void 0:ut.openModal)===!0},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>setAction(null),"data-tc-actions-modal-container":"true",get children(){return createComponent(Switch,{get children(){return[createComponent(Match,{get when(){return action().name==="transaction-sent"},get children(){return createComponent(TransactionSentModal,{onClose:()=>setAction(null)})}}),createComponent(Match,{get when(){return action().name==="transaction-canceled"},get children(){return createComponent(TransactionCanceledModal,{onClose:()=>setAction(null)})}}),createComponent(Match,{get when(){return action().name==="confirm-transaction"},get children(){return createComponent(ConfirmTransactionModal,{onClose:()=>setAction(null)})}})]}})}}),SingleWalletModal=()=>{const{locale:ut}=useI18n()[1];createEffect(()=>ut(appState.language)),createEffect(()=>{getSingleWalletModalIsOpened()&&updateIsMobile()});const lt=useContext(ConnectorContext),ht=useContext(TonConnectUiContext),[_t,At]=createSignal(!1),qt=()=>{var Zr;return((Zr=appState.connectRequestParameters)==null?void 0:Zr.state)==="loading"},Zt=createMemo(()=>{var Zr;if(!qt())return(Zr=appState.connectRequestParameters)==null?void 0:Zr.value}),cr=Zr=>{ht.closeSingleWalletModal(Zr)},Gr=lt.onStatusChange(Zr=>{Zr&&cr("wallet-selected")});return onCleanup(Gr),onCleanup(()=>{At(!1)}),createComponent(StyledModal,{get opened(){return getSingleWalletModalIsOpened()},get enableAndroidBackHandler(){return appState.enableAndroidBackHandler},onClose:()=>cr("action-cancelled"),onClickQuestion:()=>At(Zr=>!Zr),"data-tc-wallets-modal-container":"true",get children(){return[createComponent(Show,{get when(){return _t()},get children(){return createComponent(InfoModal,{onBackClick:()=>At(!1)})}}),createComponent(Show,{get when(){return!_t()},get children(){return[createComponent(Show,{get when(){return qt()},get children(){return[createComponent(H1Styled$8,{translationKey:"walletModal.loading",children:"Wallets list is loading"}),createComponent(LoaderContainerStyled,{get children(){return createComponent(LoaderIcon,{size:"m"})}})]}}),createComponent(Show,{get when(){return!qt()},get children(){return createComponent(Dynamic,{get component(){return isMobile()?MobileConnectionModal:DesktopConnectionModal},get wallet(){return getSingleWalletModalWalletInfo()},get additionalRequest(){return Zt()},onBackClick:()=>{},backDisabled:!0})}})]}})]}})},App$2=ut=>{const lt=createI18nContext(i18nDictionary,appState.language);return defineStylesRoot(),fixMobileSafariActiveTransition(),createComponent(I18nContext.Provider,{value:lt,get children(){return createComponent(TonConnectUiContext.Provider,{get value(){return ut.tonConnectUI},get children(){return createComponent(ConnectorContext.Provider,{get value(){return appState.connector},get children(){return[createComponent(GlobalStyles,{}),createComponent(ThemeProvider,{theme:themeState,get children(){return[createComponent(Show,{get when(){return appState.buttonRootId},get children(){return createComponent(Portal$1,{get mount(){return document.getElementById(appState.buttonRootId)},get children(){return createComponent(AccountButton,{})}})}}),createComponent(Dynamic,{component:globalStylesTag,get children(){return[createComponent(WalletsModal,{}),createComponent(SingleWalletModal,{}),createComponent(ActionsModal,{})]}})]}})]}})}})}})},widgetController={openWalletsModal:()=>void setTimeout(()=>setWalletsModalState({status:"opened",closeReason:null})),closeWalletsModal:ut=>void setTimeout(()=>setWalletsModalState({status:"closed",closeReason:ut})),openSingleWalletModal:ut=>{setTimeout(()=>setSingleWalletModalState({status:"opened",closeReason:null,walletInfo:ut}))},closeSingleWalletModal:ut=>void setTimeout(()=>setSingleWalletModalState({status:"closed",closeReason:ut})),setAction:ut=>void setTimeout(()=>setAction(ut)),clearAction:()=>void setTimeout(()=>setAction(null)),getSelectedWalletInfo:()=>lastSelectedWalletInfo(),removeSelectedWalletInfo:()=>setLastSelectedWalletInfo(null),renderApp:(ut,lt)=>render(()=>createComponent(App$2,{tonConnectUI:lt}),document.getElementById(ut))};class WalletsModalManager{constructor(lt){__publicField(this,"connector"),__publicField(this,"setConnectRequestParametersCallback"),__publicField(this,"consumers",[]),__publicField(this,"tracker"),__publicField(this,"state",walletsModalState()),this.connector=lt.connector,this.tracker=lt.tracker,this.setConnectRequestParametersCallback=lt.setConnectRequestParametersCallback,createEffect(()=>{const ht=walletsModalState();this.state=ht,this.consumers.forEach(_t=>_t(ht))})}open(){return __async(this,null,function*(){this.tracker.trackConnectionStarted();const ht=(yield this.connector.getWallets()).find(isWalletInfoCurrentlyEmbedded);return ht?this.connectEmbeddedWallet(ht):this.openWalletsModal()})}close(lt="action-cancelled"){lt==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),widgetController.closeWalletsModal(lt)}onStateChange(lt){return this.consumers.push(lt),()=>{this.consumers=this.consumers.filter(ht=>ht!==lt)}}connectEmbeddedWallet(lt){const ht=At=>{setLastSelectedWalletInfo(lt),this.connector.connect({jsBridgeKey:lt.jsBridgeKey},At)},_t=appState.connectRequestParameters;(_t==null?void 0:_t.state)==="loading"?this.setConnectRequestParametersCallback(ht):ht(_t==null?void 0:_t.value)}openWalletsModal(){return __async(this,null,function*(){return isInTMA()&&sendExpand(),widgetController.openWalletsModal(),new Promise(lt=>{const ht=this.onStateChange(_t=>{const{status:At}=_t;At==="opened"&&(ht(),lt())})})})}}class TransactionModalManager{constructor(lt){__publicField(this,"connector"),__publicField(this,"consumers",[]),this.connector=lt.connector,createEffect(()=>{const ht=action();this.consumers.forEach(_t=>_t(ht))})}onStateChange(lt){return this.consumers.push(lt),()=>{this.consumers=this.consumers.filter(ht=>ht!==lt)}}}class SingleWalletModalManager{constructor(lt){__publicField(this,"connector"),__publicField(this,"setConnectRequestParametersCallback"),__publicField(this,"consumers",[]),__publicField(this,"tracker"),__publicField(this,"state",singleWalletModalState()),this.connector=lt.connector,this.tracker=lt.tracker,this.setConnectRequestParametersCallback=lt.setConnectRequestParametersCallback,createEffect(()=>{const ht=singleWalletModalState();this.state=ht,this.consumers.forEach(_t=>_t(ht))})}open(lt){return __async(this,null,function*(){this.tracker.trackConnectionStarted();const ht=yield this.connector.getWallets(),_t=applyWalletsListConfiguration(ht,appState.walletsListConfiguration),At=_t.find(isWalletInfoCurrentlyEmbedded);if(!!At)return this.connectEmbeddedWallet(At);const cr=_t.filter(isWalletInfoRemote).find(xn=>eqWalletName(xn,lt));if(!!cr)return this.openSingleWalletModal(cr);const Zr=`Trying to open modal window with unknown wallet "${lt}".`;throw this.tracker.trackConnectionError(Zr),new TonConnectUIError(Zr)})}close(lt="action-cancelled"){lt==="action-cancelled"&&this.tracker.trackConnectionError("Connection was cancelled"),widgetController.closeSingleWalletModal("action-cancelled")}onStateChange(lt){return this.consumers.push(lt),()=>{this.consumers=this.consumers.filter(ht=>ht!==lt)}}connectEmbeddedWallet(lt){const ht=At=>{setLastSelectedWalletInfo(lt),this.connector.connect({jsBridgeKey:lt.jsBridgeKey},At)},_t=appState.connectRequestParameters;(_t==null?void 0:_t.state)==="loading"?this.setConnectRequestParametersCallback(ht):ht(_t==null?void 0:_t.value)}openSingleWalletModal(lt){return __async(this,null,function*(){return isInTMA()&&sendExpand(),widgetController.openSingleWalletModal(lt),new Promise(ht=>{const _t=this.onStateChange(At=>{const{status:qt}=At;qt==="opened"&&(_t(),ht())})})})}}class TonConnectUITracker{constructor(lt){__publicField(this,"eventPrefix","ton-connect-ui-"),__publicField(this,"tonConnectUiVersion"),__publicField(this,"tonConnectSdkVersion",null),__publicField(this,"eventDispatcher");var ht;this.eventDispatcher=(ht=lt==null?void 0:lt.eventDispatcher)!=null?ht:new BrowserEventDispatcher,this.tonConnectUiVersion=lt.tonConnectUiVersion,this.init().catch()}get version(){return createVersionInfo({ton_connect_sdk_lib:this.tonConnectSdkVersion,ton_connect_ui_lib:this.tonConnectUiVersion})}init(){return __async(this,null,function*(){try{yield this.setRequestVersionHandler(),this.tonConnectSdkVersion=yield this.requestTonConnectSdkVersion()}catch{}})}setRequestVersionHandler(){return __async(this,null,function*(){yield this.eventDispatcher.addEventListener("ton-connect-ui-request-version",()=>__async(this,null,function*(){yield this.eventDispatcher.dispatchEvent("ton-connect-ui-response-version",createResponseVersionEvent(this.tonConnectUiVersion))}))})}requestTonConnectSdkVersion(){return __async(this,null,function*(){return new Promise((lt,ht)=>__async(this,null,function*(){try{yield this.eventDispatcher.addEventListener("ton-connect-response-version",_t=>{lt(_t.detail.version)},{once:!0}),yield this.eventDispatcher.dispatchEvent("ton-connect-request-version",createRequestVersionEvent())}catch(_t){ht(_t)}}))})}dispatchUserActionEvent(lt){var ht;try{(ht=this.eventDispatcher)==null||ht.dispatchEvent(`${this.eventPrefix}${lt.type}`,lt).catch()}catch{}}trackConnectionStarted(...lt){try{const ht=createConnectionStartedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionCompleted(...lt){try{const ht=createConnectionCompletedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionError(...lt){try{const ht=createConnectionErrorEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringStarted(...lt){try{const ht=createConnectionRestoringStartedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringCompleted(...lt){try{const ht=createConnectionRestoringCompletedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackConnectionRestoringError(...lt){try{const ht=createConnectionRestoringErrorEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackDisconnection(...lt){try{const ht=createDisconnectionEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSentForSignature(...lt){try{const ht=createTransactionSentForSignatureEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSigned(...lt){try{const ht=createTransactionSignedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}trackTransactionSigningFailed(...lt){try{const ht=createTransactionSigningFailedEvent(this.version,...lt);this.dispatchUserActionEvent(ht)}catch{}}}const tonConnectUiVersion="2.1.0";class TonConnectUI{constructor(lt){if(__publicField(this,"walletInfoStorage",new WalletInfoStorage),__publicField(this,"preferredWalletStorage",new PreferredWalletStorage),__publicField(this,"tracker"),__publicField(this,"walletInfo",null),__publicField(this,"systemThemeChangeUnsubscribe",null),__publicField(this,"actionsConfiguration"),__publicField(this,"walletsList"),__publicField(this,"walletsRequiredFeatures"),__publicField(this,"connectRequestParametersCallback"),__publicField(this,"connector"),__publicField(this,"modal"),__publicField(this,"singleWalletModal"),__publicField(this,"transactionModal"),__publicField(this,"connectionRestored",Promise.resolve(!1)),lt&&"connector"in lt&&lt.connector)this.connector=lt.connector;else if(lt&&"manifestUrl"in lt&&lt.manifestUrl)this.connector=new TonConnect({manifestUrl:lt.manifestUrl,eventDispatcher:lt.eventDispatcher,walletsRequiredFeatures:lt.walletsRequiredFeatures});else throw new TonConnectUIError("You have to specify a `manifestUrl` or a `connector` in the options.");this.tracker=new TonConnectUITracker({eventDispatcher:lt==null?void 0:lt.eventDispatcher,tonConnectUiVersion}),this.modal=new WalletsModalManager({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:At=>{this.connectRequestParametersCallback=At}}),this.singleWalletModal=new SingleWalletModalManager({connector:this.connector,tracker:this.tracker,setConnectRequestParametersCallback:At=>{this.connectRequestParametersCallback=At}}),this.transactionModal=new TransactionModalManager({connector:this.connector}),this.walletsRequiredFeatures=lt.walletsRequiredFeatures,this.walletsList=this.getWallets(),this.walletsList.then(At=>preloadImages(uniq(At.map(qt=>qt.imageUrl))));const ht=this.normalizeWidgetRoot(lt==null?void 0:lt.widgetRootId);this.subscribeToWalletChange(),(lt==null?void 0:lt.restoreConnection)!==!1&&(this.connectionRestored=createMacrotaskAsync(()=>__async(this,null,function*(){return this.tracker.trackConnectionRestoringStarted(),yield this.connector.restoreConnection(),this.connector.connected?this.tracker.trackConnectionRestoringCompleted(this.wallet):(this.tracker.trackConnectionRestoringError("Connection was not restored"),this.walletInfoStorage.removeWalletInfo()),this.connector.connected}))),this.uiOptions=mergeOptions(lt,{uiPreferences:{theme:"SYSTEM"}});const _t=this.preferredWalletStorage.getPreferredWalletAppName();setAppState({connector:this.connector,preferredWalletAppName:_t}),widgetController.renderApp(ht,this)}static getWallets(){return TonConnect.getWallets()}get connected(){return this.connector.connected}get account(){return this.connector.account}get wallet(){return this.connector.wallet?__spreadValues$2(__spreadValues$2({},this.connector.wallet),this.walletInfo):null}set uiOptions(lt){var ht,_t,At,qt,Zt;this.checkButtonRootExist(lt.buttonRootId),this.actionsConfiguration=lt.actionsConfiguration,(ht=lt.uiPreferences)!=null&&ht.theme?((_t=lt.uiPreferences)==null?void 0:_t.theme)!=="SYSTEM"?((At=this.systemThemeChangeUnsubscribe)==null||At.call(this),setTheme(lt.uiPreferences.theme,lt.uiPreferences.colorsSet)):(setTheme(getSystemTheme(),lt.uiPreferences.colorsSet),this.systemThemeChangeUnsubscribe||(this.systemThemeChangeUnsubscribe=subscribeToThemeChange(setTheme))):(qt=lt.uiPreferences)!=null&&qt.colorsSet&&setColors(lt.uiPreferences.colorsSet),(Zt=lt.uiPreferences)!=null&&Zt.borderRadius&&setBorderRadius(lt.uiPreferences.borderRadius),setAppState(cr=>{var Gr,Zr;const xn=mergeOptions(__spreadValues$2(__spreadValues$2(__spreadValues$2(__spreadValues$2({},lt.language&&{language:lt.language}),!!((Gr=lt.actionsConfiguration)!=null&&Gr.returnStrategy)&&{returnStrategy:lt.actionsConfiguration.returnStrategy}),!!((Zr=lt.actionsConfiguration)!=null&&Zr.twaReturnUrl)&&{twaReturnUrl:lt.actionsConfiguration.twaReturnUrl}),!!lt.walletsListConfiguration&&{walletsListConfiguration:lt.walletsListConfiguration}),unwrap(cr));return lt.buttonRootId!==void 0&&(xn.buttonRootId=lt.buttonRootId),lt.enableAndroidBackHandler!==void 0&&(xn.enableAndroidBackHandler=lt.enableAndroidBackHandler),xn})}setConnectRequestParameters(lt){var ht;setAppState({connectRequestParameters:lt}),((lt==null?void 0:lt.state)==="ready"||!lt)&&((ht=this.connectRequestParametersCallback)==null||ht.call(this,lt==null?void 0:lt.value))}getWallets(){return __async(this,null,function*(){return this.connector.getWallets()})}onStatusChange(lt,ht){return this.connector.onStatusChange(_t=>__async(this,null,function*(){if(_t){const At=yield this.getSelectedWalletInfo(_t);lt(__spreadValues$2(__spreadValues$2({},_t),At||this.walletInfoStorage.getWalletInfo()))}else lt(_t)}),ht)}openModal(){return __async(this,null,function*(){return this.modal.open()})}closeModal(lt){this.modal.close(lt)}onModalStateChange(lt){return this.modal.onStateChange(lt)}get modalState(){return this.modal.state}openSingleWalletModal(lt){return __async(this,null,function*(){return this.singleWalletModal.open(lt)})}closeSingleWalletModal(lt){this.singleWalletModal.close(lt)}onSingleWalletModalStateChange(lt){return this.singleWalletModal.onStateChange(lt)}get singleWalletModalState(){return this.singleWalletModal.state}connectWallet(){return __async(this,null,function*(){const ht=(yield this.getWallets()).find(isWalletInfoCurrentlyEmbedded);return ht?yield this.connectEmbeddedWallet(ht):yield this.connectExternalWallet()})}disconnect(){return this.tracker.trackDisconnection(this.wallet,"dapp"),widgetController.clearAction(),widgetController.removeSelectedWalletInfo(),this.walletInfoStorage.removeWalletInfo(),this.connector.disconnect()}sendTransaction(lt,ht){return __async(this,null,function*(){if(this.tracker.trackTransactionSentForSignature(this.wallet,lt),!this.connected)throw this.tracker.trackTransactionSigningFailed(this.wallet,lt,"Wallet was not connected"),new TonConnectUIError("Connect wallet to send a transaction.");isInTMA()&&sendExpand();const{notifications:_t,modals:At,returnStrategy:qt,twaReturnUrl:Zt}=this.getModalsAndNotificationsConfiguration(ht);widgetController.setAction({name:"confirm-transaction",showNotification:_t.includes("before"),openModal:At.includes("before"),sent:!1});const cr=()=>{Gr.signal.aborted||(widgetController.setAction({name:"confirm-transaction",showNotification:_t.includes("before"),openModal:At.includes("before"),sent:!0}),this.walletInfo&&"universalLink"in this.walletInfo&&(this.walletInfo.openMethod==="universal-link"||this.walletInfo.openMethod==="custom-deeplink")&&(isTelegramUrl(this.walletInfo.universalLink)?redirectToTelegram(this.walletInfo.universalLink,{returnStrategy:qt,twaReturnUrl:Zt||appState.twaReturnUrl,forceRedirect:!1}):redirectToWallet(this.walletInfo.universalLink,this.walletInfo.deepLink,{returnStrategy:qt,forceRedirect:!1},()=>{})))},Gr=new AbortController,Zr=this.onTransactionModalStateChange(xn=>{xn!=null&&xn.openModal||(Zr(),xn||Gr.abort())});try{const xn=yield this.waitForSendTransaction({transaction:lt,signal:Gr.signal},cr);return this.tracker.trackTransactionSigned(this.wallet,lt,xn),widgetController.setAction({name:"transaction-sent",showNotification:_t.includes("success"),openModal:At.includes("success")}),xn}catch(xn){throw widgetController.setAction({name:"transaction-canceled",showNotification:_t.includes("error"),openModal:At.includes("error")}),xn instanceof TonConnectError?xn:(console.error(xn),new TonConnectUIError("Unhandled error:"+xn))}finally{Zr()}})}connectEmbeddedWallet(lt){return __async(this,null,function*(){const ht=At=>{setLastSelectedWalletInfo(lt),this.connector.connect({jsBridgeKey:lt.jsBridgeKey},At)},_t=appState.connectRequestParameters;return(_t==null?void 0:_t.state)==="loading"?this.connectRequestParametersCallback=ht:ht(_t==null?void 0:_t.value),yield this.waitForWalletConnection({ignoreErrors:!1})})}connectExternalWallet(){return __async(this,null,function*(){const lt=new AbortController;widgetController.openWalletsModal();const ht=this.onModalStateChange(_t=>{const{status:At,closeReason:qt}=_t;At!=="opened"&&(ht(),qt==="action-cancelled"&&lt.abort())});return yield this.waitForWalletConnection({ignoreErrors:!0,signal:lt.signal})})}waitForWalletConnection(lt){return __async(this,null,function*(){return new Promise((ht,_t)=>{this.tracker.trackConnectionStarted();const{ignoreErrors:At=!1,signal:qt=null}=lt;if(qt&&qt.aborted)return this.tracker.trackConnectionError("Connection was cancelled"),_t(new TonConnectUIError("Wallet was not connected"));const Zt=Zr=>__async(this,null,function*(){if(Zr)this.tracker.trackConnectionCompleted(Zr),Gr(),ht(Zr);else{if(this.tracker.trackConnectionError("Connection was cancelled"),At)return;Gr(),_t(new TonConnectUIError("Wallet was not connected"))}}),cr=Zr=>{this.tracker.trackConnectionError(Zr.message),!At&&(Gr(),_t(Zr))},Gr=this.onStatusChange(Zr=>Zt(Zr),Zr=>cr(Zr));qt&&qt.addEventListener("abort",()=>{Gr(),_t(new TonConnectUIError("Wallet was not connected"))},{once:!0})})})}waitForSendTransaction(lt,ht){return __async(this,null,function*(){return new Promise((_t,At)=>{const{transaction:qt,signal:Zt}=lt;if(Zt.aborted)return this.tracker.trackTransactionSigningFailed(this.wallet,qt,"Transaction was cancelled"),At(new TonConnectUIError("Transaction was not sent"));const cr=xn=>__async(this,null,function*(){_t(xn)}),Gr=xn=>{At(xn)},Zr=()=>{this.tracker.trackTransactionSigningFailed(this.wallet,qt,"Transaction was cancelled"),At(new TonConnectUIError("Transaction was not sent"))};Zt.addEventListener("abort",Zr,{once:!0}),this.connector.sendTransaction(qt,{onRequestSent:ht,signal:Zt}).then(xn=>(Zt.removeEventListener("abort",Zr),cr(xn))).catch(xn=>(Zt.removeEventListener("abort",Zr),Gr(xn)))})})}onTransactionModalStateChange(lt){return this.transactionModal.onStateChange(lt)}subscribeToWalletChange(){this.connector.onStatusChange(lt=>__async(this,null,function*(){var ht;lt?(yield this.updateWalletInfo(lt),this.setPreferredWalletAppName(((ht=this.walletInfo)==null?void 0:ht.appName)||lt.device.appName)):this.walletInfoStorage.removeWalletInfo()}))}setPreferredWalletAppName(lt){this.preferredWalletStorage.setPreferredWalletAppName(lt),setAppState({preferredWalletAppName:lt})}getSelectedWalletInfo(lt){return __async(this,null,function*(){let ht=widgetController.getSelectedWalletInfo();if(!ht)return null;let _t;if("name"in ht)_t=ht;else{const qt=applyWalletsListConfiguration(yield this.walletsList,appState.walletsListConfiguration).find(Zt=>eqWalletName(Zt,lt.device.appName));if(!qt)throw new TonConnectUIError(`Cannot find WalletInfo for the '${lt.device.appName}' wallet`);_t=__spreadValues$2(__spreadValues$2({},qt),ht)}return _t})}updateWalletInfo(lt){return __async(this,null,function*(){const ht=yield this.getSelectedWalletInfo(lt);if(ht){this.walletInfo=ht,this.walletInfoStorage.setWalletInfo(ht);return}const _t=this.walletInfoStorage.getWalletInfo();if(_t){this.walletInfo=_t;return}this.walletInfo=(yield this.walletsList).find(At=>eqWalletName(At,lt.device.appName))||null})}normalizeWidgetRoot(lt){if(!lt||!document.getElementById(lt)){lt="tc-widget-root";const ht=document.createElement("div");ht.id=lt,document.body.appendChild(ht)}return lt}checkButtonRootExist(lt){if(lt!=null&&!document.getElementById(lt))throw new TonConnectUIError(`${lt} element not found in the document.`)}getModalsAndNotificationsConfiguration(lt){var ht,_t,At,qt,Zt,cr;const Gr=["before","success","error"];let Zr=Gr;(ht=this.actionsConfiguration)!=null&&ht.notifications&&((_t=this.actionsConfiguration)==null?void 0:_t.notifications)!=="all"&&(Zr=this.actionsConfiguration.notifications),lt!=null&&lt.notifications&&(lt.notifications==="all"?Zr=Gr:Zr=lt.notifications);let xn=["before"];(At=this.actionsConfiguration)!=null&&At.modals&&(this.actionsConfiguration.modals==="all"?xn=Gr:xn=this.actionsConfiguration.modals),lt!=null&&lt.modals&&(lt.modals==="all"?xn=Gr:xn=lt.modals);const On=(lt==null?void 0:lt.returnStrategy)||((qt=this.actionsConfiguration)==null?void 0:qt.returnStrategy)||"back",ss=(lt==null?void 0:lt.twaReturnUrl)||((Zt=this.actionsConfiguration)==null?void 0:Zt.twaReturnUrl);let ls=(lt==null?void 0:lt.skipRedirectToWallet)||((cr=this.actionsConfiguration)==null?void 0:cr.skipRedirectToWallet)||"ios";return isInTMA()&&(ls="never"),{notifications:Zr,modals:xn,returnStrategy:On,twaReturnUrl:ss,skipRedirectToWallet:ls}}}var __defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(ut,lt,ht)=>lt in ut?__defProp$1(ut,lt,{enumerable:!0,configurable:!0,writable:!0,value:ht}):ut[lt]=ht,__spreadValues$1=(ut,lt)=>{for(var ht in lt||(lt={}))__hasOwnProp$1.call(lt,ht)&&__defNormalProp$1(ut,ht,lt[ht]);if(__getOwnPropSymbols$1)for(var ht of __getOwnPropSymbols$1(lt))__propIsEnum$1.call(lt,ht)&&__defNormalProp$1(ut,ht,lt[ht]);return ut},__objRest=(ut,lt)=>{var ht={};for(var _t in ut)__hasOwnProp$1.call(ut,_t)&&lt.indexOf(_t)<0&&(ht[_t]=ut[_t]);if(ut!=null&&__getOwnPropSymbols$1)for(var _t of __getOwnPropSymbols$1(ut))lt.indexOf(_t)<0&&__propIsEnum$1.call(ut,_t)&&(ht[_t]=ut[_t]);return ht};function isClientSide(){return typeof window<"u"}function isServerSide(){return!isClientSide()}const TonConnectUIContext=reactExports.createContext(null);let tonConnectUI=null;const TonConnectUIProvider=ut=>{var lt=ut,{children:ht}=lt,_t=__objRest(lt,["children"]);return isClientSide()&&!tonConnectUI&&(tonConnectUI=new TonConnectUI(_t)),jsx(TonConnectUIContext.Provider,{value:tonConnectUI,children:ht})},TonConnectUIProvider$1=reactExports.memo(TonConnectUIProvider);class TonConnectUIReactError extends TonConnectUIError{constructor(...lt){super(...lt),Object.setPrototypeOf(this,TonConnectUIReactError.prototype)}}class TonConnectProviderNotSetError extends TonConnectUIReactError{constructor(...lt){super(...lt),Object.setPrototypeOf(this,TonConnectProviderNotSetError.prototype)}}function checkProvider(ut){if(!ut)throw new TonConnectProviderNotSetError("You should add <TonConnectUIProvider> on the top of the app to use TonConnect");return!0}function useTonConnectUI(){const ut=reactExports.useContext(TonConnectUIContext),lt=reactExports.useCallback(ht=>{ut&&(ut.uiOptions=ht)},[ut]);return isServerSide()?[null,()=>{}]:(checkProvider(ut),[ut,lt])}const buttonRootId="ton-connect-button",TonConnectButton=({className:ut,style:lt})=>{const[ht,_t]=useTonConnectUI();return reactExports.useEffect(()=>(_t({buttonRootId}),()=>_t({buttonRootId:null})),[_t]),jsx("div",{id:buttonRootId,className:ut,style:__spreadValues$1({width:"fit-content"},lt)})},TonConnectButton$1=reactExports.memo(TonConnectButton);function useTonWallet(){const[ut]=useTonConnectUI(),[lt,ht]=reactExports.useState((ut==null?void 0:ut.wallet)||null);return reactExports.useEffect(()=>{if(ut)return ht(ut.wallet),ut.onStatusChange(_t=>{ht(_t)})},[ut]),lt}var client={},m$2=reactDomExports;client.createRoot=m$2.createRoot,client.hydrateRoot=m$2.hydrateRoot;const App$1="";var reactIs$2={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var REACT_ELEMENT_TYPE=Symbol.for("react.transitional.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_CONSUMER_TYPE=Symbol.for("react.consumer"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),REACT_VIEW_TRANSITION_TYPE=Symbol.for("react.view_transition"),REACT_CLIENT_REFERENCE=Symbol.for("react.client.reference");function typeOf(ut){if(typeof ut=="object"&&ut!==null){var lt=ut.$$typeof;switch(lt){case REACT_ELEMENT_TYPE:switch(ut=ut.type,ut){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:case REACT_VIEW_TRANSITION_TYPE:return ut;default:switch(ut=ut&&ut.$$typeof,ut){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:return ut;case REACT_CONSUMER_TYPE:return ut;default:return lt}}case REACT_PORTAL_TYPE:return lt}}}reactIs_production.ContextConsumer=REACT_CONSUMER_TYPE;reactIs_production.ContextProvider=REACT_CONTEXT_TYPE;reactIs_production.Element=REACT_ELEMENT_TYPE;reactIs_production.ForwardRef=REACT_FORWARD_REF_TYPE;reactIs_production.Fragment=REACT_FRAGMENT_TYPE;reactIs_production.Lazy=REACT_LAZY_TYPE;reactIs_production.Memo=REACT_MEMO_TYPE;reactIs_production.Portal=REACT_PORTAL_TYPE;reactIs_production.Profiler=REACT_PROFILER_TYPE;reactIs_production.StrictMode=REACT_STRICT_MODE_TYPE;reactIs_production.Suspense=REACT_SUSPENSE_TYPE;reactIs_production.SuspenseList=REACT_SUSPENSE_LIST_TYPE;reactIs_production.isContextConsumer=function(ut){return typeOf(ut)===REACT_CONSUMER_TYPE};reactIs_production.isContextProvider=function(ut){return typeOf(ut)===REACT_CONTEXT_TYPE};reactIs_production.isElement=function(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===REACT_ELEMENT_TYPE};reactIs_production.isForwardRef=function(ut){return typeOf(ut)===REACT_FORWARD_REF_TYPE};reactIs_production.isFragment=function(ut){return typeOf(ut)===REACT_FRAGMENT_TYPE};reactIs_production.isLazy=function(ut){return typeOf(ut)===REACT_LAZY_TYPE};reactIs_production.isMemo=function(ut){return typeOf(ut)===REACT_MEMO_TYPE};reactIs_production.isPortal=function(ut){return typeOf(ut)===REACT_PORTAL_TYPE};reactIs_production.isProfiler=function(ut){return typeOf(ut)===REACT_PROFILER_TYPE};reactIs_production.isStrictMode=function(ut){return typeOf(ut)===REACT_STRICT_MODE_TYPE};reactIs_production.isSuspense=function(ut){return typeOf(ut)===REACT_SUSPENSE_TYPE};reactIs_production.isSuspenseList=function(ut){return typeOf(ut)===REACT_SUSPENSE_LIST_TYPE};reactIs_production.isValidElementType=function(ut){return typeof ut=="string"||typeof ut=="function"||ut===REACT_FRAGMENT_TYPE||ut===REACT_PROFILER_TYPE||ut===REACT_STRICT_MODE_TYPE||ut===REACT_SUSPENSE_TYPE||ut===REACT_SUSPENSE_LIST_TYPE||typeof ut=="object"&&ut!==null&&(ut.$$typeof===REACT_LAZY_TYPE||ut.$$typeof===REACT_MEMO_TYPE||ut.$$typeof===REACT_CONTEXT_TYPE||ut.$$typeof===REACT_CONSUMER_TYPE||ut.$$typeof===REACT_FORWARD_REF_TYPE||ut.$$typeof===REACT_CLIENT_REFERENCE||ut.getModuleId!==void 0)};reactIs_production.typeOf=typeOf;reactIs$2.exports=reactIs_production;var reactIsExports$1=reactIs$2.exports;function stylis_min(ut){function lt(kp,cm,b3,L_,Ym){for(var Xm=0,Jm=0,$_=0,j_=0,h3,Fp,W_=0,t4=0,Nw,Dp=Nw=h3=0,a1=0,zp=0,v3=0,Mw=0,nw=b3.length,n4=nw-1,Ww,F_="",qx="",nM="",Hm="",y3;a1<nw;){if(Fp=b3.charCodeAt(a1),a1===n4&&Jm+j_+$_+Xm!==0&&(Jm!==0&&(Fp=Jm===47?10:47),j_=$_=Xm=0,nw++,n4++),Jm+j_+$_+Xm===0){if(a1===n4&&(0<zp&&(F_=F_.replace(ss,"")),0<F_.trim().length)){switch(Fp){case 32:case 9:case 59:case 13:case 10:break;default:F_+=b3.charAt(a1)}Fp=59}switch(Fp){case 123:for(F_=F_.trim(),h3=F_.charCodeAt(0),Nw=1,Mw=++a1;a1<nw;){switch(Fp=b3.charCodeAt(a1)){case 123:Nw++;break;case 125:Nw--;break;case 47:switch(Fp=b3.charCodeAt(a1+1)){case 42:case 47:e:{for(Dp=a1+1;Dp<n4;++Dp)switch(b3.charCodeAt(Dp)){case 47:if(Fp===42&&b3.charCodeAt(Dp-1)===42&&a1+2!==Dp){a1=Dp+1;break e}break;case 10:if(Fp===47){a1=Dp+1;break e}}a1=Dp}}break;case 91:Fp++;case 40:Fp++;case 34:case 39:for(;a1++<n4&&b3.charCodeAt(a1)!==Fp;);}if(Nw===0)break;a1++}switch(Nw=b3.substring(Mw,a1),h3===0&&(h3=(F_=F_.replace(On,"").trim()).charCodeAt(0)),h3){case 64:switch(0<zp&&(F_=F_.replace(ss,"")),Fp=F_.charCodeAt(1),Fp){case 100:case 109:case 115:case 45:zp=cm;break;default:zp=xl}if(Nw=lt(cm,zp,Nw,Fp,Ym+1),Mw=Nw.length,0<lp&&(zp=ht(xl,F_,v3),y3=cr(3,Nw,zp,cm,Fo,Sn,Mw,Fp,Ym,L_),F_=zp.join(""),y3!==void 0&&(Mw=(Nw=y3.trim()).length)===0&&(Fp=0,Nw="")),0<Mw)switch(Fp){case 115:F_=F_.replace(jp,Zt);case 100:case 109:case 45:Nw=F_+"{"+Nw+"}";break;case 107:F_=F_.replace(np,"$1 $2"),Nw=F_+"{"+Nw+"}",Nw=us===1||us===2&&qt("@"+Nw,3)?"@-webkit-"+Nw+"@"+Nw:"@"+Nw;break;default:Nw=F_+Nw,L_===112&&(Nw=(qx+=Nw,""))}else Nw="";break;default:Nw=lt(cm,ht(cm,F_,v3),Nw,L_,Ym+1)}nM+=Nw,Nw=v3=zp=Dp=h3=0,F_="",Fp=b3.charCodeAt(++a1);break;case 125:case 59:if(F_=(0<zp?F_.replace(ss,""):F_).trim(),1<(Mw=F_.length))switch(Dp===0&&(h3=F_.charCodeAt(0),h3===45||96<h3&&123>h3)&&(Mw=(F_=F_.replace(" ",":")).length),0<lp&&(y3=cr(1,F_,cm,kp,Fo,Sn,qx.length,L_,Ym,L_))!==void 0&&(Mw=(F_=y3.trim()).length)===0&&(F_="\0\0"),h3=F_.charCodeAt(0),Fp=F_.charCodeAt(1),h3){case 0:break;case 64:if(Fp===105||Fp===99){Hm+=F_+b3.charAt(a1);break}default:F_.charCodeAt(Mw-1)!==58&&(qx+=At(F_,h3,Fp,F_.charCodeAt(2)))}v3=zp=Dp=h3=0,F_="",Fp=b3.charCodeAt(++a1)}}switch(Fp){case 13:case 10:Jm===47?Jm=0:1+h3===0&&L_!==107&&0<F_.length&&(zp=1,F_+="\0"),0<lp*go&&cr(0,F_,cm,kp,Fo,Sn,qx.length,L_,Ym,L_),Sn=1,Fo++;break;case 59:case 125:if(Jm+j_+$_+Xm===0){Sn++;break}default:switch(Sn++,Ww=b3.charAt(a1),Fp){case 9:case 32:if(j_+Xm+Jm===0)switch(W_){case 44:case 58:case 9:case 32:Ww="";break;default:Fp!==32&&(Ww=" ")}break;case 0:Ww="\\0";break;case 12:Ww="\\f";break;case 11:Ww="\\v";break;case 38:j_+Jm+Xm===0&&(zp=v3=1,Ww="\f"+Ww);break;case 108:if(j_+Jm+Xm+as===0&&0<Dp)switch(a1-Dp){case 2:W_===112&&b3.charCodeAt(a1-3)===58&&(as=W_);case 8:t4===111&&(as=t4)}break;case 58:j_+Jm+Xm===0&&(Dp=a1);break;case 44:Jm+$_+j_+Xm===0&&(zp=1,Ww+="\r");break;case 34:case 39:Jm===0&&(j_=j_===Fp?0:j_===0?Fp:j_);break;case 91:j_+Jm+$_===0&&Xm++;break;case 93:j_+Jm+$_===0&&Xm--;break;case 41:j_+Jm+Xm===0&&$_--;break;case 40:if(j_+Jm+Xm===0){if(h3===0)switch(2*W_+3*t4){case 533:break;default:h3=1}$_++}break;case 64:Jm+$_+j_+Xm+Dp+Nw===0&&(Nw=1);break;case 42:case 47:if(!(0<j_+Xm+$_))switch(Jm){case 0:switch(2*Fp+3*b3.charCodeAt(a1+1)){case 235:Jm=47;break;case 220:Mw=a1,Jm=42}break;case 42:Fp===47&&W_===42&&Mw+2!==a1&&(b3.charCodeAt(Mw+2)===33&&(qx+=b3.substring(Mw,a1+1)),Ww="",Jm=0)}}Jm===0&&(F_+=Ww)}t4=W_,W_=Fp,a1++}if(Mw=qx.length,0<Mw){if(zp=cm,0<lp&&(y3=cr(2,qx,zp,kp,Fo,Sn,Mw,L_,Ym,L_),y3!==void 0&&(qx=y3).length===0))return Hm+qx+nM;if(qx=zp.join(",")+"{"+qx+"}",us*as!==0){switch(us!==2||qt(qx,2)||(as=0),as){case 111:qx=qx.replace(Cp,":-moz-$1")+qx;break;case 112:qx=qx.replace(cp,"::-webkit-input-$1")+qx.replace(cp,"::-moz-$1")+qx.replace(cp,":-ms-input-$1")+qx}as=0}}return Hm+qx+nM}function ht(kp,cm,b3){var L_=cm.trim().split(ep);cm=L_;var Ym=L_.length,Xm=kp.length;switch(Xm){case 0:case 1:var Jm=0;for(kp=Xm===0?"":kp[0]+" ";Jm<Ym;++Jm)cm[Jm]=_t(kp,cm[Jm],b3).trim();break;default:var $_=Jm=0;for(cm=[];Jm<Ym;++Jm)for(var j_=0;j_<Xm;++j_)cm[$_++]=_t(kp[j_]+" ",L_[Jm],b3).trim()}return cm}function _t(kp,cm,b3){var L_=cm.charCodeAt(0);switch(33>L_&&(L_=(cm=cm.trim()).charCodeAt(0)),L_){case 38:return cm.replace(Al,"$1"+kp.trim());case 58:return kp.trim()+cm.replace(Al,"$1"+kp.trim());default:if(0<1*b3&&0<cm.indexOf("\f"))return cm.replace(Al,(kp.charCodeAt(0)===58?"":"$1")+kp.trim())}return kp+cm}function At(kp,cm,b3,L_){var Ym=kp+";",Xm=2*cm+3*b3+4*L_;if(Xm===944){kp=Ym.indexOf(":",9)+1;var Jm=Ym.substring(kp,Ym.length-1).trim();return Jm=Ym.substring(0,kp).trim()+Jm+";",us===1||us===2&&qt(Jm,1)?"-webkit-"+Jm+Jm:Jm}if(us===0||us===2&&!qt(Ym,1))return Ym;switch(Xm){case 1015:return Ym.charCodeAt(10)===97?"-webkit-"+Ym+Ym:Ym;case 951:return Ym.charCodeAt(3)===116?"-webkit-"+Ym+Ym:Ym;case 963:return Ym.charCodeAt(5)===110?"-webkit-"+Ym+Ym:Ym;case 1009:if(Ym.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Ym+Ym;case 978:return"-webkit-"+Ym+"-moz-"+Ym+Ym;case 1019:case 983:return"-webkit-"+Ym+"-moz-"+Ym+"-ms-"+Ym+Ym;case 883:if(Ym.charCodeAt(8)===45)return"-webkit-"+Ym+Ym;if(0<Ym.indexOf("image-set(",11))return Ym.replace(op,"$1-webkit-$2")+Ym;break;case 932:if(Ym.charCodeAt(4)===45)switch(Ym.charCodeAt(5)){case 103:return"-webkit-box-"+Ym.replace("-grow","")+"-webkit-"+Ym+"-ms-"+Ym.replace("grow","positive")+Ym;case 115:return"-webkit-"+Ym+"-ms-"+Ym.replace("shrink","negative")+Ym;case 98:return"-webkit-"+Ym+"-ms-"+Ym.replace("basis","preferred-size")+Ym}return"-webkit-"+Ym+"-ms-"+Ym+Ym;case 964:return"-webkit-"+Ym+"-ms-flex-"+Ym+Ym;case 1023:if(Ym.charCodeAt(8)!==99)break;return Jm=Ym.substring(Ym.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Jm+"-webkit-"+Ym+"-ms-flex-pack"+Jm+Ym;case 1005:return cs.test(Ym)?Ym.replace(ls,":-webkit-")+Ym.replace(ls,":-moz-")+Ym:Ym;case 1e3:switch(Jm=Ym.substring(13).trim(),cm=Jm.indexOf("-")+1,Jm.charCodeAt(0)+Jm.charCodeAt(cm)){case 226:Jm=Ym.replace(Lp,"tb");break;case 232:Jm=Ym.replace(Lp,"tb-rl");break;case 220:Jm=Ym.replace(Lp,"lr");break;default:return Ym}return"-webkit-"+Ym+"-ms-"+Jm+Ym;case 1017:if(Ym.indexOf("sticky",9)===-1)break;case 975:switch(cm=(Ym=kp).length-10,Jm=(Ym.charCodeAt(cm)===33?Ym.substring(0,cm):Ym).substring(kp.indexOf(":",7)+1).trim(),Xm=Jm.charCodeAt(0)+(Jm.charCodeAt(7)|0)){case 203:if(111>Jm.charCodeAt(8))break;case 115:Ym=Ym.replace(Jm,"-webkit-"+Jm)+";"+Ym;break;case 207:case 102:Ym=Ym.replace(Jm,"-webkit-"+(102<Xm?"inline-":"")+"box")+";"+Ym.replace(Jm,"-webkit-"+Jm)+";"+Ym.replace(Jm,"-ms-"+Jm+"box")+";"+Ym}return Ym+";";case 938:if(Ym.charCodeAt(5)===45)switch(Ym.charCodeAt(6)){case 105:return Jm=Ym.replace("-items",""),"-webkit-"+Ym+"-webkit-box-"+Jm+"-ms-flex-"+Jm+Ym;case 115:return"-webkit-"+Ym+"-ms-flex-item-"+Ym.replace(zm,"")+Ym;default:return"-webkit-"+Ym+"-ms-flex-line-pack"+Ym.replace("align-content","").replace(zm,"")+Ym}break;case 973:case 989:if(Ym.charCodeAt(3)!==45||Ym.charCodeAt(4)===122)break;case 931:case 953:if(d3.test(kp)===!0)return(Jm=kp.substring(kp.indexOf(":")+1)).charCodeAt(0)===115?At(kp.replace("stretch","fill-available"),cm,b3,L_).replace(":fill-available",":stretch"):Ym.replace(Jm,"-webkit-"+Jm)+Ym.replace(Jm,"-moz-"+Jm.replace("fill-",""))+Ym;break;case 962:if(Ym="-webkit-"+Ym+(Ym.charCodeAt(5)===102?"-ms-"+Ym:"")+Ym,b3+L_===211&&Ym.charCodeAt(13)===105&&0<Ym.indexOf("transform",10))return Ym.substring(0,Ym.indexOf(";",27)+1).replace(wl,"$1-webkit-$2")+Ym}return Ym}function qt(kp,cm){var b3=kp.indexOf(cm===1?":":"{"),L_=kp.substring(0,cm!==3?b3:10);return b3=kp.substring(b3+1,kp.length-1),pu(cm!==2?L_:L_.replace(i1,"$1"),b3,cm)}function Zt(kp,cm){var b3=At(cm,cm.charCodeAt(0),cm.charCodeAt(1),cm.charCodeAt(2));return b3!==cm+";"?b3.replace(nm," or ($1)").substring(4):"("+cm+")"}function cr(kp,cm,b3,L_,Ym,Xm,Jm,$_,j_,h3){for(var Fp=0,W_=cm,t4;Fp<lp;++Fp)switch(t4=ip[Fp].call(xn,kp,W_,b3,L_,Ym,Xm,Jm,$_,j_,h3)){case void 0:case!1:case!0:case null:break;default:W_=t4}if(W_!==cm)return W_}function Gr(kp){switch(kp){case void 0:case null:lp=ip.length=0;break;default:if(typeof kp=="function")ip[lp++]=kp;else if(typeof kp=="object")for(var cm=0,b3=kp.length;cm<b3;++cm)Gr(kp[cm]);else go=!!kp|0}return Gr}function Zr(kp){return kp=kp.prefix,kp!==void 0&&(pu=null,kp?typeof kp!="function"?us=1:(us=2,pu=kp):us=0),Zr}function xn(kp,cm){var b3=kp;if(33>b3.charCodeAt(0)&&(b3=b3.trim()),h0=b3,b3=[h0],0<lp){var L_=cr(-1,cm,b3,b3,Fo,Sn,0,0,0,0);L_!==void 0&&typeof L_=="string"&&(cm=L_)}var Ym=lt(xl,b3,cm,0,0);return 0<lp&&(L_=cr(-2,Ym,b3,b3,Fo,Sn,Ym.length,0,0,0),L_!==void 0&&(Ym=L_)),h0="",as=0,Sn=Fo=1,Ym}var On=/^\0+/g,ss=/[\0\r\f]/g,ls=/: */g,cs=/zoo|gra/,wl=/([,: ])(transform)/g,ep=/,\r+?/g,Al=/([\t\r\n ])*\f?&/g,np=/@(k\w+)\s*(\S*)\s*/,cp=/::(place)/g,Cp=/:(read-only)/g,Lp=/[svh]\w+-[tblr]{2}/,jp=/\(\s*(.*)\s*\)/g,nm=/([\s\S]*?);/g,zm=/-self|flex-/g,i1=/[^]*?(:[rp][el]a[\w-]+)[^]*/,d3=/stretch|:\s*\w+\-(?:conte|avail)/,op=/([^-])(image-set\()/,Sn=1,Fo=1,as=0,us=1,xl=[],ip=[],lp=0,pu=null,go=0,h0="";return xn.use=Gr,xn.set=Zr,ut!==void 0&&Zr(ut),xn}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function memoize(ut){var lt=Object.create(null);return function(ht){return lt[ht]===void 0&&(lt[ht]=ut(ht)),lt[ht]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize(function(ut){return reactPropsRegex.test(ut)||ut.charCodeAt(0)===111&&ut.charCodeAt(1)===110&&ut.charCodeAt(2)<91}),reactIs$1={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=typeof Symbol=="function"&&Symbol.for,c$1=b$1?Symbol.for("react.element"):60103,d=b$1?Symbol.for("react.portal"):60106,e=b$1?Symbol.for("react.fragment"):60107,f=b$1?Symbol.for("react.strict_mode"):60108,g$2=b$1?Symbol.for("react.profiler"):60114,h=b$1?Symbol.for("react.provider"):60109,k$2=b$1?Symbol.for("react.context"):60110,l=b$1?Symbol.for("react.async_mode"):60111,m$1=b$1?Symbol.for("react.concurrent_mode"):60111,n=b$1?Symbol.for("react.forward_ref"):60112,p=b$1?Symbol.for("react.suspense"):60113,q$1=b$1?Symbol.for("react.suspense_list"):60120,r=b$1?Symbol.for("react.memo"):60115,t=b$1?Symbol.for("react.lazy"):60116,v$1=b$1?Symbol.for("react.block"):60121,w$1=b$1?Symbol.for("react.fundamental"):60117,x$2=b$1?Symbol.for("react.responder"):60118,y$1=b$1?Symbol.for("react.scope"):60119;function z$1(ut){if(typeof ut=="object"&&ut!==null){var lt=ut.$$typeof;switch(lt){case c$1:switch(ut=ut.type,ut){case l:case m$1:case e:case g$2:case f:case p:return ut;default:switch(ut=ut&&ut.$$typeof,ut){case k$2:case n:case t:case r:case h:return ut;default:return lt}}case d:return lt}}}function A(ut){return z$1(ut)===m$1}reactIs_production_min.AsyncMode=l;reactIs_production_min.ConcurrentMode=m$1;reactIs_production_min.ContextConsumer=k$2;reactIs_production_min.ContextProvider=h;reactIs_production_min.Element=c$1;reactIs_production_min.ForwardRef=n;reactIs_production_min.Fragment=e;reactIs_production_min.Lazy=t;reactIs_production_min.Memo=r;reactIs_production_min.Portal=d;reactIs_production_min.Profiler=g$2;reactIs_production_min.StrictMode=f;reactIs_production_min.Suspense=p;reactIs_production_min.isAsyncMode=function(ut){return A(ut)||z$1(ut)===l};reactIs_production_min.isConcurrentMode=A;reactIs_production_min.isContextConsumer=function(ut){return z$1(ut)===k$2};reactIs_production_min.isContextProvider=function(ut){return z$1(ut)===h};reactIs_production_min.isElement=function(ut){return typeof ut=="object"&&ut!==null&&ut.$$typeof===c$1};reactIs_production_min.isForwardRef=function(ut){return z$1(ut)===n};reactIs_production_min.isFragment=function(ut){return z$1(ut)===e};reactIs_production_min.isLazy=function(ut){return z$1(ut)===t};reactIs_production_min.isMemo=function(ut){return z$1(ut)===r};reactIs_production_min.isPortal=function(ut){return z$1(ut)===d};reactIs_production_min.isProfiler=function(ut){return z$1(ut)===g$2};reactIs_production_min.isStrictMode=function(ut){return z$1(ut)===f};reactIs_production_min.isSuspense=function(ut){return z$1(ut)===p};reactIs_production_min.isValidElementType=function(ut){return typeof ut=="string"||typeof ut=="function"||ut===e||ut===m$1||ut===g$2||ut===f||ut===p||ut===q$1||typeof ut=="object"&&ut!==null&&(ut.$$typeof===t||ut.$$typeof===r||ut.$$typeof===h||ut.$$typeof===k$2||ut.$$typeof===n||ut.$$typeof===w$1||ut.$$typeof===x$2||ut.$$typeof===y$1||ut.$$typeof===v$1)};reactIs_production_min.typeOf=z$1;reactIs$1.exports=reactIs_production_min;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;function getStatics(ut){return reactIs.isMemo(ut)?MEMO_STATICS:TYPE_STATICS[ut.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(ut,lt,ht){if(typeof lt!="string"){if(objectPrototype){var _t=getPrototypeOf$1(lt);_t&&_t!==objectPrototype&&hoistNonReactStatics(ut,_t,ht)}var At=getOwnPropertyNames(lt);getOwnPropertySymbols&&(At=At.concat(getOwnPropertySymbols(lt)));for(var qt=getStatics(ut),Zt=getStatics(lt),cr=0;cr<At.length;++cr){var Gr=At[cr];if(!KNOWN_STATICS[Gr]&&!(ht&&ht[Gr])&&!(Zt&&Zt[Gr])&&!(qt&&qt[Gr])){var Zr=getOwnPropertyDescriptor(lt,Gr);try{defineProperty(ut,Gr,Zr)}catch{}}}}return ut}var hoistNonReactStatics_cjs=hoistNonReactStatics;const m=getDefaultExportFromCjs(hoistNonReactStatics_cjs);function y(){return(y=Object.assign||function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut}).apply(this,arguments)}var v=function(ut,lt){for(var ht=[ut[0]],_t=0,At=lt.length;_t<At;_t+=1)ht.push(lt[_t],ut[_t+1]);return ht},g$1=function(ut){return ut!==null&&typeof ut=="object"&&(ut.toString?ut.toString():Object.prototype.toString.call(ut))==="[object Object]"&&!reactIsExports$1.typeOf(ut)},S=Object.freeze([]),w=Object.freeze({});function E$1(ut){return typeof ut=="function"}function b(ut){return ut.displayName||ut.name||"Component"}function _(ut){return ut&&typeof ut.styledComponentId=="string"}var N=typeof api$2<"u"&&api$2.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",C=typeof window<"u"&&"HTMLElement"in window,I=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof api$2<"u"&&api$2.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY));function D$1(ut){for(var lt=arguments.length,ht=new Array(lt>1?lt-1:0),_t=1;_t<lt;_t++)ht[_t-1]=arguments[_t];throw new Error("An error occurred. See https://git.io/JUIaE#"+ut+" for more information."+(ht.length>0?" Args: "+ht.join(", "):""))}var j$1=function(){function ut(ht){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=ht}var lt=ut.prototype;return lt.indexOfGroup=function(ht){for(var _t=0,At=0;At<ht;At++)_t+=this.groupSizes[At];return _t},lt.insertRules=function(ht,_t){if(ht>=this.groupSizes.length){for(var At=this.groupSizes,qt=At.length,Zt=qt;ht>=Zt;)(Zt<<=1)<0&&D$1(16,""+ht);this.groupSizes=new Uint32Array(Zt),this.groupSizes.set(At),this.length=Zt;for(var cr=qt;cr<Zt;cr++)this.groupSizes[cr]=0}for(var Gr=this.indexOfGroup(ht+1),Zr=0,xn=_t.length;Zr<xn;Zr++)this.tag.insertRule(Gr,_t[Zr])&&(this.groupSizes[ht]++,Gr++)},lt.clearGroup=function(ht){if(ht<this.length){var _t=this.groupSizes[ht],At=this.indexOfGroup(ht),qt=At+_t;this.groupSizes[ht]=0;for(var Zt=At;Zt<qt;Zt++)this.tag.deleteRule(At)}},lt.getGroup=function(ht){var _t="";if(ht>=this.length||this.groupSizes[ht]===0)return _t;for(var At=this.groupSizes[ht],qt=this.indexOfGroup(ht),Zt=qt+At,cr=qt;cr<Zt;cr++)_t+=this.tag.getRule(cr)+`/*!sc*/
`;return _t},ut}(),T$1=new Map,x$1=new Map,k$1=1,V=function(ut){if(T$1.has(ut))return T$1.get(ut);for(;x$1.has(k$1);)k$1++;var lt=k$1++;return T$1.set(ut,lt),x$1.set(lt,ut),lt},B=function(ut){return x$1.get(ut)},z=function(ut,lt){lt>=k$1&&(k$1=lt+1),T$1.set(ut,lt),x$1.set(lt,ut)},M="style["+N+'][data-styled-version="5.3.11"]',G=new RegExp("^"+N+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(ut,lt,ht){for(var _t,At=ht.split(","),qt=0,Zt=At.length;qt<Zt;qt++)(_t=At[qt])&&ut.registerName(lt,_t)},F$1=function(ut,lt){for(var ht=(lt.textContent||"").split(`/*!sc*/
`),_t=[],At=0,qt=ht.length;At<qt;At++){var Zt=ht[At].trim();if(Zt){var cr=Zt.match(G);if(cr){var Gr=0|parseInt(cr[1],10),Zr=cr[2];Gr!==0&&(z(Zr,Gr),L(ut,Zr,cr[3]),ut.getTag().insertRules(Gr,_t)),_t.length=0}else _t.push(Zt)}}},Y=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},q=function(ut){var lt=document.head,ht=ut||lt,_t=document.createElement("style"),At=function(cr){for(var Gr=cr.childNodes,Zr=Gr.length;Zr>=0;Zr--){var xn=Gr[Zr];if(xn&&xn.nodeType===1&&xn.hasAttribute(N))return xn}}(ht),qt=At!==void 0?At.nextSibling:null;_t.setAttribute(N,"active"),_t.setAttribute("data-styled-version","5.3.11");var Zt=Y();return Zt&&_t.setAttribute("nonce",Zt),ht.insertBefore(_t,qt),_t},H=function(){function ut(ht){var _t=this.element=q(ht);_t.appendChild(document.createTextNode("")),this.sheet=function(At){if(At.sheet)return At.sheet;for(var qt=document.styleSheets,Zt=0,cr=qt.length;Zt<cr;Zt++){var Gr=qt[Zt];if(Gr.ownerNode===At)return Gr}D$1(17)}(_t),this.length=0}var lt=ut.prototype;return lt.insertRule=function(ht,_t){try{return this.sheet.insertRule(_t,ht),this.length++,!0}catch{return!1}},lt.deleteRule=function(ht){this.sheet.deleteRule(ht),this.length--},lt.getRule=function(ht){var _t=this.sheet.cssRules[ht];return _t!==void 0&&typeof _t.cssText=="string"?_t.cssText:""},ut}(),$=function(){function ut(ht){var _t=this.element=q(ht);this.nodes=_t.childNodes,this.length=0}var lt=ut.prototype;return lt.insertRule=function(ht,_t){if(ht<=this.length&&ht>=0){var At=document.createTextNode(_t),qt=this.nodes[ht];return this.element.insertBefore(At,qt||null),this.length++,!0}return!1},lt.deleteRule=function(ht){this.element.removeChild(this.nodes[ht]),this.length--},lt.getRule=function(ht){return ht<this.length?this.nodes[ht].textContent:""},ut}(),W$1=function(){function ut(ht){this.rules=[],this.length=0}var lt=ut.prototype;return lt.insertRule=function(ht,_t){return ht<=this.length&&(this.rules.splice(ht,0,_t),this.length++,!0)},lt.deleteRule=function(ht){this.rules.splice(ht,1),this.length--},lt.getRule=function(ht){return ht<this.length?this.rules[ht]:""},ut}(),U=C,J={isServer:!C,useCSSOMInjection:!I},X$1=function(){function ut(ht,_t,At){ht===void 0&&(ht=w),_t===void 0&&(_t={}),this.options=y({},J,{},ht),this.gs=_t,this.names=new Map(At),this.server=!!ht.isServer,!this.server&&C&&U&&(U=!1,function(qt){for(var Zt=document.querySelectorAll(M),cr=0,Gr=Zt.length;cr<Gr;cr++){var Zr=Zt[cr];Zr&&Zr.getAttribute(N)!=="active"&&(F$1(qt,Zr),Zr.parentNode&&Zr.parentNode.removeChild(Zr))}}(this))}ut.registerId=function(ht){return V(ht)};var lt=ut.prototype;return lt.reconstructWithOptions=function(ht,_t){return _t===void 0&&(_t=!0),new ut(y({},this.options,{},ht),this.gs,_t&&this.names||void 0)},lt.allocateGSInstance=function(ht){return this.gs[ht]=(this.gs[ht]||0)+1},lt.getTag=function(){return this.tag||(this.tag=(At=(_t=this.options).isServer,qt=_t.useCSSOMInjection,Zt=_t.target,ht=At?new W$1(Zt):qt?new H(Zt):new $(Zt),new j$1(ht)));var ht,_t,At,qt,Zt},lt.hasNameForId=function(ht,_t){return this.names.has(ht)&&this.names.get(ht).has(_t)},lt.registerName=function(ht,_t){if(V(ht),this.names.has(ht))this.names.get(ht).add(_t);else{var At=new Set;At.add(_t),this.names.set(ht,At)}},lt.insertRules=function(ht,_t,At){this.registerName(ht,_t),this.getTag().insertRules(V(ht),At)},lt.clearNames=function(ht){this.names.has(ht)&&this.names.get(ht).clear()},lt.clearRules=function(ht){this.getTag().clearGroup(V(ht)),this.clearNames(ht)},lt.clearTag=function(){this.tag=void 0},lt.toString=function(){return function(ht){for(var _t=ht.getTag(),At=_t.length,qt="",Zt=0;Zt<At;Zt++){var cr=B(Zt);if(cr!==void 0){var Gr=ht.names.get(cr),Zr=_t.getGroup(Zt);if(Gr&&Zr&&Gr.size){var xn=N+".g"+Zt+'[id="'+cr+'"]',On="";Gr!==void 0&&Gr.forEach(function(ss){ss.length>0&&(On+=ss+",")}),qt+=""+Zr+xn+'{content:"'+On+`"}/*!sc*/
`}}}return qt}(this)},ut}(),Z=/(a)(d)/gi,K=function(ut){return String.fromCharCode(ut+(ut>25?39:97))};function Q(ut){var lt,ht="";for(lt=Math.abs(ut);lt>52;lt=lt/52|0)ht=K(lt%52)+ht;return(K(lt%52)+ht).replace(Z,"$1-$2")}var ee=function(ut,lt){for(var ht=lt.length;ht;)ut=33*ut^lt.charCodeAt(--ht);return ut},te=function(ut){return ee(5381,ut)};function ne(ut){for(var lt=0;lt<ut.length;lt+=1){var ht=ut[lt];if(E$1(ht)&&!_(ht))return!1}return!0}var re=te("5.3.11"),oe=function(){function ut(lt,ht,_t){this.rules=lt,this.staticRulesId="",this.isStatic=(_t===void 0||_t.isStatic)&&ne(lt),this.componentId=ht,this.baseHash=ee(re,ht),this.baseStyle=_t,X$1.registerId(ht)}return ut.prototype.generateAndInjectStyles=function(lt,ht,_t){var At=this.componentId,qt=[];if(this.baseStyle&&qt.push(this.baseStyle.generateAndInjectStyles(lt,ht,_t)),this.isStatic&&!_t.hash)if(this.staticRulesId&&ht.hasNameForId(At,this.staticRulesId))qt.push(this.staticRulesId);else{var Zt=_e(this.rules,lt,ht,_t).join(""),cr=Q(ee(this.baseHash,Zt)>>>0);if(!ht.hasNameForId(At,cr)){var Gr=_t(Zt,"."+cr,void 0,At);ht.insertRules(At,cr,Gr)}qt.push(cr),this.staticRulesId=cr}else{for(var Zr=this.rules.length,xn=ee(this.baseHash,_t.hash),On="",ss=0;ss<Zr;ss++){var ls=this.rules[ss];if(typeof ls=="string")On+=ls;else if(ls){var cs=_e(ls,lt,ht,_t),wl=Array.isArray(cs)?cs.join(""):cs;xn=ee(xn,wl+ss),On+=wl}}if(On){var ep=Q(xn>>>0);if(!ht.hasNameForId(At,ep)){var Al=_t(On,"."+ep,void 0,At);ht.insertRules(At,ep,Al)}qt.push(ep)}}return qt.join(" ")},ut}(),se=/^\s*\/\/.*$/gm,ie=[":","[",".","#"];function ae(ut){var lt,ht,_t,At,qt=ut===void 0?w:ut,Zt=qt.options,cr=Zt===void 0?w:Zt,Gr=qt.plugins,Zr=Gr===void 0?S:Gr,xn=new stylis_min(cr),On=[],ss=function(wl){function ep(Al){if(Al)try{wl(Al+"}")}catch{}}return function(Al,np,cp,Cp,Lp,jp,nm,zm,i1,d3){switch(Al){case 1:if(i1===0&&np.charCodeAt(0)===64)return wl(np+";"),"";break;case 2:if(zm===0)return np+"/*|*/";break;case 3:switch(zm){case 102:case 112:return wl(cp[0]+np),"";default:return np+(d3===0?"/*|*/":"")}case-2:np.split("/*|*/}").forEach(ep)}}}(function(wl){On.push(wl)}),ls=function(wl,ep,Al){return ep===0&&ie.indexOf(Al[ht.length])!==-1||Al.match(At)?wl:"."+lt};function cs(wl,ep,Al,np){np===void 0&&(np="&");var cp=wl.replace(se,""),Cp=ep&&Al?Al+" "+ep+" { "+cp+" }":cp;return lt=np,ht=ep,_t=new RegExp("\\"+ht+"\\b","g"),At=new RegExp("(\\"+ht+"\\b){2,}"),xn(Al||!ep?"":ep,Cp)}return xn.use([].concat(Zr,[function(wl,ep,Al){wl===2&&Al.length&&Al[0].lastIndexOf(ht)>0&&(Al[0]=Al[0].replace(_t,ls))},ss,function(wl){if(wl===-2){var ep=On;return On=[],ep}}])),cs.hash=Zr.length?Zr.reduce(function(wl,ep){return ep.name||D$1(15),ee(wl,ep.name)},5381).toString():"",cs}var ce$1=r$1.createContext();ce$1.Consumer;var le=r$1.createContext(),de=(le.Consumer,new X$1),he=ae();function pe(){return reactExports.useContext(ce$1)||de}function fe(){return reactExports.useContext(le)||he}var ye$1=function(){function ut(lt,ht){var _t=this;this.inject=function(At,qt){qt===void 0&&(qt=he);var Zt=_t.name+qt.hash;At.hasNameForId(_t.id,Zt)||At.insertRules(_t.id,Zt,qt(_t.rules,Zt,"@keyframes"))},this.toString=function(){return D$1(12,String(_t.name))},this.name=lt,this.id="sc-keyframes-"+lt,this.rules=ht}return ut.prototype.getName=function(lt){return lt===void 0&&(lt=he),this.name+lt.hash},ut}(),ve=/([A-Z])/,ge=/([A-Z])/g,Se=/^ms-/,we=function(ut){return"-"+ut.toLowerCase()};function Ee(ut){return ve.test(ut)?ut.replace(ge,we).replace(Se,"-ms-"):ut}var be=function(ut){return ut==null||ut===!1||ut===""};function _e(ut,lt,ht,_t){if(Array.isArray(ut)){for(var At,qt=[],Zt=0,cr=ut.length;Zt<cr;Zt+=1)(At=_e(ut[Zt],lt,ht,_t))!==""&&(Array.isArray(At)?qt.push.apply(qt,At):qt.push(At));return qt}if(be(ut))return"";if(_(ut))return"."+ut.styledComponentId;if(E$1(ut)){if(typeof(Zr=ut)!="function"||Zr.prototype&&Zr.prototype.isReactComponent||!lt)return ut;var Gr=ut(lt);return _e(Gr,lt,ht,_t)}var Zr;return ut instanceof ye$1?ht?(ut.inject(ht,_t),ut.getName(_t)):ut:g$1(ut)?function xn(On,ss){var ls,cs,wl=[];for(var ep in On)On.hasOwnProperty(ep)&&!be(On[ep])&&(Array.isArray(On[ep])&&On[ep].isCss||E$1(On[ep])?wl.push(Ee(ep)+":",On[ep],";"):g$1(On[ep])?wl.push.apply(wl,xn(On[ep],ep)):wl.push(Ee(ep)+": "+(ls=ep,(cs=On[ep])==null||typeof cs=="boolean"||cs===""?"":typeof cs!="number"||cs===0||ls in unitlessKeys||ls.startsWith("--")?String(cs).trim():cs+"px")+";"));return ss?[ss+" {"].concat(wl,["}"]):wl}(ut):ut.toString()}var Ne=function(ut){return Array.isArray(ut)&&(ut.isCss=!0),ut};function Ae(ut){for(var lt=arguments.length,ht=new Array(lt>1?lt-1:0),_t=1;_t<lt;_t++)ht[_t-1]=arguments[_t];return E$1(ut)||g$1(ut)?Ne(_e(v(S,[ut].concat(ht)))):ht.length===0&&ut.length===1&&typeof ut[0]=="string"?ut:Ne(_e(v(ut,ht)))}var Oe$1=function(ut,lt,ht){return ht===void 0&&(ht=w),ut.theme!==ht.theme&&ut.theme||lt||ht.theme},Re=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,De=/(^-|-$)/g;function je(ut){return ut.replace(Re,"-").replace(De,"")}var Te$1=function(ut){return Q(te(ut)>>>0)};function xe(ut){return typeof ut=="string"&&!0}var ke$1=function(ut){return typeof ut=="function"||typeof ut=="object"&&ut!==null&&!Array.isArray(ut)},Ve=function(ut){return ut!=="__proto__"&&ut!=="constructor"&&ut!=="prototype"};function Be$1(ut,lt,ht){var _t=ut[ht];ke$1(lt)&&ke$1(_t)?ze$1(_t,lt):ut[ht]=lt}function ze$1(ut){for(var lt=arguments.length,ht=new Array(lt>1?lt-1:0),_t=1;_t<lt;_t++)ht[_t-1]=arguments[_t];for(var At=0,qt=ht;At<qt.length;At++){var Zt=qt[At];if(ke$1(Zt))for(var cr in Zt)Ve(cr)&&Be$1(ut,Zt[cr],cr)}return ut}var Me$1=r$1.createContext();Me$1.Consumer;var Fe={};function Ye(ut,lt,ht){var _t=_(ut),At=!xe(ut),qt=lt.attrs,Zt=qt===void 0?S:qt,cr=lt.componentId,Gr=cr===void 0?function(np,cp){var Cp=typeof np!="string"?"sc":je(np);Fe[Cp]=(Fe[Cp]||0)+1;var Lp=Cp+"-"+Te$1("5.3.11"+Cp+Fe[Cp]);return cp?cp+"-"+Lp:Lp}(lt.displayName,lt.parentComponentId):cr,Zr=lt.displayName,xn=Zr===void 0?function(np){return xe(np)?"styled."+np:"Styled("+b(np)+")"}(ut):Zr,On=lt.displayName&&lt.componentId?je(lt.displayName)+"-"+lt.componentId:lt.componentId||Gr,ss=_t&&ut.attrs?Array.prototype.concat(ut.attrs,Zt).filter(Boolean):Zt,ls=lt.shouldForwardProp;_t&&ut.shouldForwardProp&&(ls=lt.shouldForwardProp?function(np,cp,Cp){return ut.shouldForwardProp(np,cp,Cp)&&lt.shouldForwardProp(np,cp,Cp)}:ut.shouldForwardProp);var cs,wl=new oe(ht,On,_t?ut.componentStyle:void 0),ep=wl.isStatic&&Zt.length===0,Al=function(np,cp){return function(Cp,Lp,jp,nm){var zm=Cp.attrs,i1=Cp.componentStyle,d3=Cp.defaultProps,op=Cp.foldedComponentIds,Sn=Cp.shouldForwardProp,Fo=Cp.styledComponentId,as=Cp.target,us=function(L_,Ym,Xm){L_===void 0&&(L_=w);var Jm=y({},Ym,{theme:L_}),$_={};return Xm.forEach(function(j_){var h3,Fp,W_,t4=j_;for(h3 in E$1(t4)&&(t4=t4(Jm)),t4)Jm[h3]=$_[h3]=h3==="className"?(Fp=$_[h3],W_=t4[h3],Fp&&W_?Fp+" "+W_:Fp||W_):t4[h3]}),[Jm,$_]}(Oe$1(Lp,reactExports.useContext(Me$1),d3)||w,Lp,zm),xl=us[0],ip=us[1],lp=function(L_,Ym,Xm,Jm){var $_=pe(),j_=fe(),h3=Ym?L_.generateAndInjectStyles(w,$_,j_):L_.generateAndInjectStyles(Xm,$_,j_);return h3}(i1,nm,xl),pu=jp,go=ip.$as||Lp.$as||ip.as||Lp.as||as,h0=xe(go),kp=ip!==Lp?y({},Lp,{},ip):Lp,cm={};for(var b3 in kp)b3[0]!=="$"&&b3!=="as"&&(b3==="forwardedAs"?cm.as=kp[b3]:(Sn?Sn(b3,isPropValid,go):!h0||isPropValid(b3))&&(cm[b3]=kp[b3]));return Lp.style&&ip.style!==Lp.style&&(cm.style=y({},Lp.style,{},ip.style)),cm.className=Array.prototype.concat(op,Fo,lp!==Fo?lp:null,Lp.className,ip.className).filter(Boolean).join(" "),cm.ref=pu,reactExports.createElement(go,cm)}(cs,np,cp,ep)};return Al.displayName=xn,(cs=r$1.forwardRef(Al)).attrs=ss,cs.componentStyle=wl,cs.displayName=xn,cs.shouldForwardProp=ls,cs.foldedComponentIds=_t?Array.prototype.concat(ut.foldedComponentIds,ut.styledComponentId):S,cs.styledComponentId=On,cs.target=_t?ut.target:ut,cs.withComponent=function(np){var cp=lt.componentId,Cp=function(jp,nm){if(jp==null)return{};var zm,i1,d3={},op=Object.keys(jp);for(i1=0;i1<op.length;i1++)zm=op[i1],nm.indexOf(zm)>=0||(d3[zm]=jp[zm]);return d3}(lt,["componentId"]),Lp=cp&&cp+"-"+(xe(np)?np:je(b(np)));return Ye(np,y({},Cp,{attrs:ss,componentId:Lp}),ht)},Object.defineProperty(cs,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(np){this._foldedDefaultProps=_t?ze$1({},ut.defaultProps,np):np}}),Object.defineProperty(cs,"toString",{value:function(){return"."+cs.styledComponentId}}),At&&m(cs,ut,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),cs}var qe$1=function(ut){return function lt(ht,_t,At){if(At===void 0&&(At=w),!reactIsExports$1.isValidElementType(_t))return D$1(1,String(_t));var qt=function(){return ht(_t,At,Ae.apply(void 0,arguments))};return qt.withConfig=function(Zt){return lt(ht,_t,y({},At,{},Zt))},qt.attrs=function(Zt){return lt(ht,_t,y({},At,{attrs:Array.prototype.concat(At.attrs,Zt).filter(Boolean)}))},qt}(Ye,ut)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(ut){qe$1[ut]=qe$1(ut)});const styled=qe$1,StyledApp=styled.div`
  background-color: #e8e8e8;
  color: black;

  @media (prefers-color-scheme: dark) {
    background-color: #222;
    color: white;
  }
  min-height: 100vh;
  padding: 20px 20px;
`,AppContainer=styled.div`
  max-width: 900px;
  margin: 0 auto;
`;styled.div`
  padding: 18px 20px;
  border-radius: 8px;
  background-color: white;

  @media (prefers-color-scheme: dark) {
    background-color: #111;
  }
`;const FlexBoxRow=styled.div`
  display: flex;
  flex-direction: row;
  gap: 10px;
  align-items: center;
`,FlexBoxCol=styled.div`
  display: flex;
  flex-direction: column;
  gap: 10px;
`,Button=styled.button`
  background-color: ${ut=>ut.disabled?"#6e6e6e":"var(--tg-theme-button-color)"};
  border: 0;
  border-radius: 8px;
  padding: 10px 20px;
  color: var(--tg-theme-button-text-color);
  font-weight: 700;
  cursor: pointer;
  pointer-events: ${ut=>ut.disabled?"none":"inherit"};
`;styled.div`
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
`;styled("input")`
  padding: 10px 20px;
  border-radius: 10px;
  width: 100%;
  border: 1px solid #c2c2c2;

  @media (prefers-color-scheme: dark) {
    border: 1px solid #fefefe;
  }
`;const getInitial=ut=>(ut==null?void 0:ut.charAt(0).toUpperCase())||"?",getColorFromName=ut=>{const lt=["bg-red-400","bg-green-400","bg-blue-400","bg-yellow-400","bg-purple-400"],ht=ut.charCodeAt(0)%lt.length;return lt[ht]},Avatar=({photoUrl:ut,firstName:lt})=>{if(ut)return jsx("img",{src:ut,alt:lt,className:"w-10 h-10 rounded-full"});const ht=getInitial(lt),_t=getColorFromName(ht);return jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold ${_t}`,children:ht})};function useTonConnect(){const[ut]=useTonConnectUI(),lt=useTonWallet();return{sender:{send:async ht=>{var _t;ut.sendTransaction({messages:[{address:ht.to.toString(),amount:ht.value.toString(),payload:(_t=ht.body)==null?void 0:_t.toBoc().toString("base64")}],validUntil:Date.now()+5*60*1e3})}},connected:!!(lt!=null&&lt.account.address),wallet:(lt==null?void 0:lt.account.address)??null,network:(lt==null?void 0:lt.account.chain)??null}}function bind(ut,lt){return function(){return ut.apply(lt,arguments)}}const{toString}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(ut=>lt=>{const ht=toString.call(lt);return ut[ht]||(ut[ht]=ht.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=ut=>(ut=ut.toLowerCase(),lt=>kindOf(lt)===ut),typeOfTest=ut=>lt=>typeof lt===ut,{isArray:isArray$1}=Array,isUndefined=typeOfTest("undefined");function isBuffer(ut){return ut!==null&&!isUndefined(ut)&&ut.constructor!==null&&!isUndefined(ut.constructor)&&isFunction(ut.constructor.isBuffer)&&ut.constructor.isBuffer(ut)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(ut){let lt;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?lt=ArrayBuffer.isView(ut):lt=ut&&ut.buffer&&isArrayBuffer(ut.buffer),lt}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject=ut=>ut!==null&&typeof ut=="object",isBoolean=ut=>ut===!0||ut===!1,isPlainObject=ut=>{if(kindOf(ut)!=="object")return!1;const lt=getPrototypeOf(ut);return(lt===null||lt===Object.prototype||Object.getPrototypeOf(lt)===null)&&!(toStringTag in ut)&&!(iterator in ut)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=ut=>isObject(ut)&&isFunction(ut.pipe),isFormData=ut=>{let lt;return ut&&(typeof FormData=="function"&&ut instanceof FormData||isFunction(ut.append)&&((lt=kindOf(ut))==="formdata"||lt==="object"&&isFunction(ut.toString)&&ut.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=ut=>ut.trim?ut.trim():ut.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(ut,lt,{allOwnKeys:ht=!1}={}){if(ut===null||typeof ut>"u")return;let _t,At;if(typeof ut!="object"&&(ut=[ut]),isArray$1(ut))for(_t=0,At=ut.length;_t<At;_t++)lt.call(null,ut[_t],_t,ut);else{const qt=ht?Object.getOwnPropertyNames(ut):Object.keys(ut),Zt=qt.length;let cr;for(_t=0;_t<Zt;_t++)cr=qt[_t],lt.call(null,ut[cr],cr,ut)}}function findKey(ut,lt){lt=lt.toLowerCase();const ht=Object.keys(ut);let _t=ht.length,At;for(;_t-- >0;)if(At=ht[_t],lt===At.toLowerCase())return At;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_global$1)(),isContextDefined=ut=>!isUndefined(ut)&&ut!==_global;function merge(){const{caseless:ut}=isContextDefined(this)&&this||{},lt={},ht=(_t,At)=>{const qt=ut&&findKey(lt,At)||At;isPlainObject(lt[qt])&&isPlainObject(_t)?lt[qt]=merge(lt[qt],_t):isPlainObject(_t)?lt[qt]=merge({},_t):isArray$1(_t)?lt[qt]=_t.slice():lt[qt]=_t};for(let _t=0,At=arguments.length;_t<At;_t++)arguments[_t]&&forEach(arguments[_t],ht);return lt}const extend$1=(ut,lt,ht,{allOwnKeys:_t}={})=>(forEach(lt,(At,qt)=>{ht&&isFunction(At)?ut[qt]=bind(At,ht):ut[qt]=At},{allOwnKeys:_t}),ut),stripBOM=ut=>(ut.charCodeAt(0)===65279&&(ut=ut.slice(1)),ut),inherits=(ut,lt,ht,_t)=>{ut.prototype=Object.create(lt.prototype,_t),ut.prototype.constructor=ut,Object.defineProperty(ut,"super",{value:lt.prototype}),ht&&Object.assign(ut.prototype,ht)},toFlatObject=(ut,lt,ht,_t)=>{let At,qt,Zt;const cr={};if(lt=lt||{},ut==null)return lt;do{for(At=Object.getOwnPropertyNames(ut),qt=At.length;qt-- >0;)Zt=At[qt],(!_t||_t(Zt,ut,lt))&&!cr[Zt]&&(lt[Zt]=ut[Zt],cr[Zt]=!0);ut=ht!==!1&&getPrototypeOf(ut)}while(ut&&(!ht||ht(ut,lt))&&ut!==Object.prototype);return lt},endsWith=(ut,lt,ht)=>{ut=String(ut),(ht===void 0||ht>ut.length)&&(ht=ut.length),ht-=lt.length;const _t=ut.indexOf(lt,ht);return _t!==-1&&_t===ht},toArray=ut=>{if(!ut)return null;if(isArray$1(ut))return ut;let lt=ut.length;if(!isNumber(lt))return null;const ht=new Array(lt);for(;lt-- >0;)ht[lt]=ut[lt];return ht},isTypedArray$1=(ut=>lt=>ut&&lt instanceof ut)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(ut,lt)=>{const _t=(ut&&ut[iterator]).call(ut);let At;for(;(At=_t.next())&&!At.done;){const qt=At.value;lt.call(ut,qt[0],qt[1])}},matchAll=(ut,lt)=>{let ht;const _t=[];for(;(ht=ut.exec(lt))!==null;)_t.push(ht);return _t},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=ut=>ut.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(ht,_t,At){return _t.toUpperCase()+At}),hasOwnProperty=(({hasOwnProperty:ut})=>(lt,ht)=>ut.call(lt,ht))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(ut,lt)=>{const ht=Object.getOwnPropertyDescriptors(ut),_t={};forEach(ht,(At,qt)=>{let Zt;(Zt=lt(At,qt,ut))!==!1&&(_t[qt]=Zt||At)}),Object.defineProperties(ut,_t)},freezeMethods=ut=>{reduceDescriptors(ut,(lt,ht)=>{if(isFunction(ut)&&["arguments","caller","callee"].indexOf(ht)!==-1)return!1;const _t=ut[ht];if(isFunction(_t)){if(lt.enumerable=!1,"writable"in lt){lt.writable=!1;return}lt.set||(lt.set=()=>{throw Error("Can not rewrite read-only method '"+ht+"'")})}})},toObjectSet=(ut,lt)=>{const ht={},_t=At=>{At.forEach(qt=>{ht[qt]=!0})};return isArray$1(ut)?_t(ut):_t(String(ut).split(lt)),ht},noop=()=>{},toFiniteNumber=(ut,lt)=>ut!=null&&Number.isFinite(ut=+ut)?ut:lt;function isSpecCompliantForm(ut){return!!(ut&&isFunction(ut.append)&&ut[toStringTag]==="FormData"&&ut[iterator])}const toJSONObject=ut=>{const lt=new Array(10),ht=(_t,At)=>{if(isObject(_t)){if(lt.indexOf(_t)>=0)return;if(!("toJSON"in _t)){lt[At]=_t;const qt=isArray$1(_t)?[]:{};return forEach(_t,(Zt,cr)=>{const Gr=ht(Zt,At+1);!isUndefined(Gr)&&(qt[cr]=Gr)}),lt[At]=void 0,qt}}return _t};return ht(ut,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=ut=>ut&&(isObject(ut)||isFunction(ut))&&isFunction(ut.then)&&isFunction(ut.catch),_setImmediate=((ut,lt)=>ut?setImmediate:lt?((ht,_t)=>(_global.addEventListener("message",({source:At,data:qt})=>{At===_global&&qt===ht&&_t.length&&_t.shift()()},!1),At=>{_t.push(At),_global.postMessage(ht,"*")}))(`axios@${Math.random()}`,[]):ht=>setTimeout(ht))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof api$2<"u"&&api$2.nextTick||_setImmediate,isIterable=ut=>ut!=null&&isFunction(ut[iterator]),utils$1={isArray:isArray$1,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject,isPlainObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach,merge,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError(ut,lt,ht,_t,At){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=ut,this.name="AxiosError",lt&&(this.code=lt),ht&&(this.config=ht),_t&&(this.request=_t),At&&(this.response=At,this.status=At.status?At.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function ut(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(ut=>{descriptors[ut]={value:ut}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(ut,lt,ht,_t,At,qt)=>{const Zt=Object.create(prototype$1);return utils$1.toFlatObject(ut,Zt,function(Gr){return Gr!==Error.prototype},cr=>cr!=="isAxiosError"),AxiosError.call(Zt,ut.message,lt,ht,_t,At),Zt.cause=ut,Zt.name=ut.name,qt&&Object.assign(Zt,qt),Zt};const httpAdapter=null;function isVisitable(ut){return utils$1.isPlainObject(ut)||utils$1.isArray(ut)}function removeBrackets(ut){return utils$1.endsWith(ut,"[]")?ut.slice(0,-2):ut}function renderKey(ut,lt,ht){return ut?ut.concat(lt).map(function(At,qt){return At=removeBrackets(At),!ht&&qt?"["+At+"]":At}).join(ht?".":""):lt}function isFlatArray(ut){return utils$1.isArray(ut)&&!ut.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function ut(lt){return/^is[A-Z]/.test(lt)});function toFormData(ut,lt,ht){if(!utils$1.isObject(ut))throw new TypeError("target must be an object");lt=lt||new FormData,ht=utils$1.toFlatObject(ht,{metaTokens:!0,dots:!1,indexes:!1},!1,function(wl,ep){return!utils$1.isUndefined(ep[wl])});const _t=ht.metaTokens,At=ht.visitor||xn,qt=ht.dots,Zt=ht.indexes,Gr=(ht.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(lt);if(!utils$1.isFunction(At))throw new TypeError("visitor must be a function");function Zr(cs){if(cs===null)return"";if(utils$1.isDate(cs))return cs.toISOString();if(utils$1.isBoolean(cs))return cs.toString();if(!Gr&&utils$1.isBlob(cs))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(cs)||utils$1.isTypedArray(cs)?Gr&&typeof Blob=="function"?new Blob([cs]):buffer$1.Buffer.from(cs):cs}function xn(cs,wl,ep){let Al=cs;if(cs&&!ep&&typeof cs=="object"){if(utils$1.endsWith(wl,"{}"))wl=_t?wl:wl.slice(0,-2),cs=JSON.stringify(cs);else if(utils$1.isArray(cs)&&isFlatArray(cs)||(utils$1.isFileList(cs)||utils$1.endsWith(wl,"[]"))&&(Al=utils$1.toArray(cs)))return wl=removeBrackets(wl),Al.forEach(function(cp,Cp){!(utils$1.isUndefined(cp)||cp===null)&&lt.append(Zt===!0?renderKey([wl],Cp,qt):Zt===null?wl:wl+"[]",Zr(cp))}),!1}return isVisitable(cs)?!0:(lt.append(renderKey(ep,wl,qt),Zr(cs)),!1)}const On=[],ss=Object.assign(predicates,{defaultVisitor:xn,convertValue:Zr,isVisitable});function ls(cs,wl){if(!utils$1.isUndefined(cs)){if(On.indexOf(cs)!==-1)throw Error("Circular reference detected in "+wl.join("."));On.push(cs),utils$1.forEach(cs,function(Al,np){(!(utils$1.isUndefined(Al)||Al===null)&&At.call(lt,Al,utils$1.isString(np)?np.trim():np,wl,ss))===!0&&ls(Al,wl?wl.concat(np):[np])}),On.pop()}}if(!utils$1.isObject(ut))throw new TypeError("data must be an object");return ls(ut),lt}function encode$1(ut){const lt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(ut).replace(/[!'()~]|%20|%00/g,function(_t){return lt[_t]})}function AxiosURLSearchParams(ut,lt){this._pairs=[],ut&&toFormData(ut,this,lt)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function ut(lt,ht){this._pairs.push([lt,ht])};prototype.toString=function ut(lt){const ht=lt?function(_t){return lt.call(this,_t,encode$1)}:encode$1;return this._pairs.map(function(At){return ht(At[0])+"="+ht(At[1])},"").join("&")};function encode(ut){return encodeURIComponent(ut).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(ut,lt,ht){if(!lt)return ut;const _t=ht&&ht.encode||encode;utils$1.isFunction(ht)&&(ht={serialize:ht});const At=ht&&ht.serialize;let qt;if(At?qt=At(lt,ht):qt=utils$1.isURLSearchParams(lt)?lt.toString():new AxiosURLSearchParams(lt,ht).toString(_t),qt){const Zt=ut.indexOf("#");Zt!==-1&&(ut=ut.slice(0,Zt)),ut+=(ut.indexOf("?")===-1?"?":"&")+qt}return ut}class InterceptorManager{constructor(){this.handlers=[]}use(lt,ht,_t){return this.handlers.push({fulfilled:lt,rejected:ht,synchronous:_t?_t.synchronous:!1,runWhen:_t?_t.runWhen:null}),this.handlers.length-1}eject(lt){this.handlers[lt]&&(this.handlers[lt]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(lt){utils$1.forEach(this.handlers,function(_t){_t!==null&&lt(_t)})}}const InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),origin$1=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin:origin$1},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(ut,lt){return toFormData(ut,new platform.classes.URLSearchParams,Object.assign({visitor:function(ht,_t,At,qt){return platform.isNode&&utils$1.isBuffer(ht)?(this.append(_t,ht.toString("base64")),!1):qt.defaultVisitor.apply(this,arguments)}},lt))}function parsePropPath(ut){return utils$1.matchAll(/\w+|\[(\w*)]/g,ut).map(lt=>lt[0]==="[]"?"":lt[1]||lt[0])}function arrayToObject(ut){const lt={},ht=Object.keys(ut);let _t;const At=ht.length;let qt;for(_t=0;_t<At;_t++)qt=ht[_t],lt[qt]=ut[qt];return lt}function formDataToJSON(ut){function lt(ht,_t,At,qt){let Zt=ht[qt++];if(Zt==="__proto__")return!0;const cr=Number.isFinite(+Zt),Gr=qt>=ht.length;return Zt=!Zt&&utils$1.isArray(At)?At.length:Zt,Gr?(utils$1.hasOwnProp(At,Zt)?At[Zt]=[At[Zt],_t]:At[Zt]=_t,!cr):((!At[Zt]||!utils$1.isObject(At[Zt]))&&(At[Zt]=[]),lt(ht,_t,At[Zt],qt)&&utils$1.isArray(At[Zt])&&(At[Zt]=arrayToObject(At[Zt])),!cr)}if(utils$1.isFormData(ut)&&utils$1.isFunction(ut.entries)){const ht={};return utils$1.forEachEntry(ut,(_t,At)=>{lt(parsePropPath(_t),At,ht,0)}),ht}return null}function stringifySafely(ut,lt,ht){if(utils$1.isString(ut))try{return(lt||JSON.parse)(ut),utils$1.trim(ut)}catch(_t){if(_t.name!=="SyntaxError")throw _t}return(ht||JSON.stringify)(ut)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function ut(lt,ht){const _t=ht.getContentType()||"",At=_t.indexOf("application/json")>-1,qt=utils$1.isObject(lt);if(qt&&utils$1.isHTMLForm(lt)&&(lt=new FormData(lt)),utils$1.isFormData(lt))return At?JSON.stringify(formDataToJSON(lt)):lt;if(utils$1.isArrayBuffer(lt)||utils$1.isBuffer(lt)||utils$1.isStream(lt)||utils$1.isFile(lt)||utils$1.isBlob(lt)||utils$1.isReadableStream(lt))return lt;if(utils$1.isArrayBufferView(lt))return lt.buffer;if(utils$1.isURLSearchParams(lt))return ht.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),lt.toString();let cr;if(qt){if(_t.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(lt,this.formSerializer).toString();if((cr=utils$1.isFileList(lt))||_t.indexOf("multipart/form-data")>-1){const Gr=this.env&&this.env.FormData;return toFormData(cr?{"files[]":lt}:lt,Gr&&new Gr,this.formSerializer)}}return qt||At?(ht.setContentType("application/json",!1),stringifySafely(lt)):lt}],transformResponse:[function ut(lt){const ht=this.transitional||defaults.transitional,_t=ht&&ht.forcedJSONParsing,At=this.responseType==="json";if(utils$1.isResponse(lt)||utils$1.isReadableStream(lt))return lt;if(lt&&utils$1.isString(lt)&&(_t&&!this.responseType||At)){const Zt=!(ht&&ht.silentJSONParsing)&&At;try{return JSON.parse(lt)}catch(cr){if(Zt)throw cr.name==="SyntaxError"?AxiosError.from(cr,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):cr}}return lt}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function ut(lt){return lt>=200&&lt<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],ut=>{defaults.headers[ut]={}});const defaults$1=defaults,ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=ut=>{const lt={};let ht,_t,At;return ut&&ut.split(`
`).forEach(function(Zt){At=Zt.indexOf(":"),ht=Zt.substring(0,At).trim().toLowerCase(),_t=Zt.substring(At+1).trim(),!(!ht||lt[ht]&&ignoreDuplicateOf[ht])&&(ht==="set-cookie"?lt[ht]?lt[ht].push(_t):lt[ht]=[_t]:lt[ht]=lt[ht]?lt[ht]+", "+_t:_t)}),lt},$internals=Symbol("internals");function normalizeHeader(ut){return ut&&String(ut).trim().toLowerCase()}function normalizeValue(ut){return ut===!1||ut==null?ut:utils$1.isArray(ut)?ut.map(normalizeValue):String(ut)}function parseTokens(ut){const lt=Object.create(null),ht=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let _t;for(;_t=ht.exec(ut);)lt[_t[1]]=_t[2];return lt}const isValidHeaderName=ut=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(ut.trim());function matchHeaderValue(ut,lt,ht,_t,At){if(utils$1.isFunction(_t))return _t.call(this,lt,ht);if(At&&(lt=ht),!!utils$1.isString(lt)){if(utils$1.isString(_t))return lt.indexOf(_t)!==-1;if(utils$1.isRegExp(_t))return _t.test(lt)}}function formatHeader(ut){return ut.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(lt,ht,_t)=>ht.toUpperCase()+_t)}function buildAccessors(ut,lt){const ht=utils$1.toCamelCase(" "+lt);["get","set","has"].forEach(_t=>{Object.defineProperty(ut,_t+ht,{value:function(At,qt,Zt){return this[_t].call(this,lt,At,qt,Zt)},configurable:!0})})}class AxiosHeaders{constructor(lt){lt&&this.set(lt)}set(lt,ht,_t){const At=this;function qt(cr,Gr,Zr){const xn=normalizeHeader(Gr);if(!xn)throw new Error("header name must be a non-empty string");const On=utils$1.findKey(At,xn);(!On||At[On]===void 0||Zr===!0||Zr===void 0&&At[On]!==!1)&&(At[On||Gr]=normalizeValue(cr))}const Zt=(cr,Gr)=>utils$1.forEach(cr,(Zr,xn)=>qt(Zr,xn,Gr));if(utils$1.isPlainObject(lt)||lt instanceof this.constructor)Zt(lt,ht);else if(utils$1.isString(lt)&&(lt=lt.trim())&&!isValidHeaderName(lt))Zt(parseHeaders(lt),ht);else if(utils$1.isObject(lt)&&utils$1.isIterable(lt)){let cr={},Gr,Zr;for(const xn of lt){if(!utils$1.isArray(xn))throw TypeError("Object iterator must return a key-value pair");cr[Zr=xn[0]]=(Gr=cr[Zr])?utils$1.isArray(Gr)?[...Gr,xn[1]]:[Gr,xn[1]]:xn[1]}Zt(cr,ht)}else lt!=null&&qt(ht,lt,_t);return this}get(lt,ht){if(lt=normalizeHeader(lt),lt){const _t=utils$1.findKey(this,lt);if(_t){const At=this[_t];if(!ht)return At;if(ht===!0)return parseTokens(At);if(utils$1.isFunction(ht))return ht.call(this,At,_t);if(utils$1.isRegExp(ht))return ht.exec(At);throw new TypeError("parser must be boolean|regexp|function")}}}has(lt,ht){if(lt=normalizeHeader(lt),lt){const _t=utils$1.findKey(this,lt);return!!(_t&&this[_t]!==void 0&&(!ht||matchHeaderValue(this,this[_t],_t,ht)))}return!1}delete(lt,ht){const _t=this;let At=!1;function qt(Zt){if(Zt=normalizeHeader(Zt),Zt){const cr=utils$1.findKey(_t,Zt);cr&&(!ht||matchHeaderValue(_t,_t[cr],cr,ht))&&(delete _t[cr],At=!0)}}return utils$1.isArray(lt)?lt.forEach(qt):qt(lt),At}clear(lt){const ht=Object.keys(this);let _t=ht.length,At=!1;for(;_t--;){const qt=ht[_t];(!lt||matchHeaderValue(this,this[qt],qt,lt,!0))&&(delete this[qt],At=!0)}return At}normalize(lt){const ht=this,_t={};return utils$1.forEach(this,(At,qt)=>{const Zt=utils$1.findKey(_t,qt);if(Zt){ht[Zt]=normalizeValue(At),delete ht[qt];return}const cr=lt?formatHeader(qt):String(qt).trim();cr!==qt&&delete ht[qt],ht[cr]=normalizeValue(At),_t[cr]=!0}),this}concat(...lt){return this.constructor.concat(this,...lt)}toJSON(lt){const ht=Object.create(null);return utils$1.forEach(this,(_t,At)=>{_t!=null&&_t!==!1&&(ht[At]=lt&&utils$1.isArray(_t)?_t.join(", "):_t)}),ht}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([lt,ht])=>lt+": "+ht).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(lt){return lt instanceof this?lt:new this(lt)}static concat(lt,...ht){const _t=new this(lt);return ht.forEach(At=>_t.set(At)),_t}static accessor(lt){const _t=(this[$internals]=this[$internals]={accessors:{}}).accessors,At=this.prototype;function qt(Zt){const cr=normalizeHeader(Zt);_t[cr]||(buildAccessors(At,Zt),_t[cr]=!0)}return utils$1.isArray(lt)?lt.forEach(qt):qt(lt),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:ut},lt)=>{let ht=lt[0].toUpperCase()+lt.slice(1);return{get:()=>ut,set(_t){this[ht]=_t}}});utils$1.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData(ut,lt){const ht=this||defaults$1,_t=lt||ht,At=AxiosHeaders$1.from(_t.headers);let qt=_t.data;return utils$1.forEach(ut,function(cr){qt=cr.call(ht,qt,At.normalize(),lt?lt.status:void 0)}),At.normalize(),qt}function isCancel(ut){return!!(ut&&ut.__CANCEL__)}function CanceledError(ut,lt,ht){AxiosError.call(this,ut??"canceled",AxiosError.ERR_CANCELED,lt,ht),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(ut,lt,ht){const _t=ht.config.validateStatus;!ht.status||!_t||_t(ht.status)?ut(ht):lt(new AxiosError("Request failed with status code "+ht.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(ht.status/100)-4],ht.config,ht.request,ht))}function parseProtocol(ut){const lt=/^([-+\w]{1,25})(:?\/\/|:)/.exec(ut);return lt&&lt[1]||""}function speedometer(ut,lt){ut=ut||10;const ht=new Array(ut),_t=new Array(ut);let At=0,qt=0,Zt;return lt=lt!==void 0?lt:1e3,function(Gr){const Zr=Date.now(),xn=_t[qt];Zt||(Zt=Zr),ht[At]=Gr,_t[At]=Zr;let On=qt,ss=0;for(;On!==At;)ss+=ht[On++],On=On%ut;if(At=(At+1)%ut,At===qt&&(qt=(qt+1)%ut),Zr-Zt<lt)return;const ls=xn&&Zr-xn;return ls?Math.round(ss*1e3/ls):void 0}}function throttle(ut,lt){let ht=0,_t=1e3/lt,At,qt;const Zt=(Zr,xn=Date.now())=>{ht=xn,At=null,qt&&(clearTimeout(qt),qt=null),ut.apply(null,Zr)};return[(...Zr)=>{const xn=Date.now(),On=xn-ht;On>=_t?Zt(Zr,xn):(At=Zr,qt||(qt=setTimeout(()=>{qt=null,Zt(At)},_t-On)))},()=>At&&Zt(At)]}const progressEventReducer=(ut,lt,ht=3)=>{let _t=0;const At=speedometer(50,250);return throttle(qt=>{const Zt=qt.loaded,cr=qt.lengthComputable?qt.total:void 0,Gr=Zt-_t,Zr=At(Gr),xn=Zt<=cr;_t=Zt;const On={loaded:Zt,total:cr,progress:cr?Zt/cr:void 0,bytes:Gr,rate:Zr||void 0,estimated:Zr&&cr&&xn?(cr-Zt)/Zr:void 0,event:qt,lengthComputable:cr!=null,[lt?"download":"upload"]:!0};ut(On)},ht)},progressEventDecorator=(ut,lt)=>{const ht=ut!=null;return[_t=>lt[0]({lengthComputable:ht,total:ut,loaded:_t}),lt[1]]},asyncDecorator=ut=>(...lt)=>utils$1.asap(()=>ut(...lt)),isURLSameOrigin=platform.hasStandardBrowserEnv?((ut,lt)=>ht=>(ht=new URL(ht,platform.origin),ut.protocol===ht.protocol&&ut.host===ht.host&&(lt||ut.port===ht.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(ut,lt,ht,_t,At,qt){const Zt=[ut+"="+encodeURIComponent(lt)];utils$1.isNumber(ht)&&Zt.push("expires="+new Date(ht).toGMTString()),utils$1.isString(_t)&&Zt.push("path="+_t),utils$1.isString(At)&&Zt.push("domain="+At),qt===!0&&Zt.push("secure"),document.cookie=Zt.join("; ")},read(ut){const lt=document.cookie.match(new RegExp("(^|;\\s*)("+ut+")=([^;]*)"));return lt?decodeURIComponent(lt[3]):null},remove(ut){this.write(ut,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(ut){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(ut)}function combineURLs(ut,lt){return lt?ut.replace(/\/?\/$/,"")+"/"+lt.replace(/^\/+/,""):ut}function buildFullPath(ut,lt,ht){let _t=!isAbsoluteURL(lt);return ut&&(_t||ht==!1)?combineURLs(ut,lt):lt}const headersToObject=ut=>ut instanceof AxiosHeaders$1?{...ut}:ut;function mergeConfig(ut,lt){lt=lt||{};const ht={};function _t(Zr,xn,On,ss){return utils$1.isPlainObject(Zr)&&utils$1.isPlainObject(xn)?utils$1.merge.call({caseless:ss},Zr,xn):utils$1.isPlainObject(xn)?utils$1.merge({},xn):utils$1.isArray(xn)?xn.slice():xn}function At(Zr,xn,On,ss){if(utils$1.isUndefined(xn)){if(!utils$1.isUndefined(Zr))return _t(void 0,Zr,On,ss)}else return _t(Zr,xn,On,ss)}function qt(Zr,xn){if(!utils$1.isUndefined(xn))return _t(void 0,xn)}function Zt(Zr,xn){if(utils$1.isUndefined(xn)){if(!utils$1.isUndefined(Zr))return _t(void 0,Zr)}else return _t(void 0,xn)}function cr(Zr,xn,On){if(On in lt)return _t(Zr,xn);if(On in ut)return _t(void 0,Zr)}const Gr={url:qt,method:qt,data:qt,baseURL:Zt,transformRequest:Zt,transformResponse:Zt,paramsSerializer:Zt,timeout:Zt,timeoutMessage:Zt,withCredentials:Zt,withXSRFToken:Zt,adapter:Zt,responseType:Zt,xsrfCookieName:Zt,xsrfHeaderName:Zt,onUploadProgress:Zt,onDownloadProgress:Zt,decompress:Zt,maxContentLength:Zt,maxBodyLength:Zt,beforeRedirect:Zt,transport:Zt,httpAgent:Zt,httpsAgent:Zt,cancelToken:Zt,socketPath:Zt,responseEncoding:Zt,validateStatus:cr,headers:(Zr,xn,On)=>At(headersToObject(Zr),headersToObject(xn),On,!0)};return utils$1.forEach(Object.keys(Object.assign({},ut,lt)),function(xn){const On=Gr[xn]||At,ss=On(ut[xn],lt[xn],xn);utils$1.isUndefined(ss)&&On!==cr||(ht[xn]=ss)}),ht}const resolveConfig=ut=>{const lt=mergeConfig({},ut);let{data:ht,withXSRFToken:_t,xsrfHeaderName:At,xsrfCookieName:qt,headers:Zt,auth:cr}=lt;lt.headers=Zt=AxiosHeaders$1.from(Zt),lt.url=buildURL(buildFullPath(lt.baseURL,lt.url,lt.allowAbsoluteUrls),ut.params,ut.paramsSerializer),cr&&Zt.set("Authorization","Basic "+btoa((cr.username||"")+":"+(cr.password?unescape(encodeURIComponent(cr.password)):"")));let Gr;if(utils$1.isFormData(ht)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Zt.setContentType(void 0);else if((Gr=Zt.getContentType())!==!1){const[Zr,...xn]=Gr?Gr.split(";").map(On=>On.trim()).filter(Boolean):[];Zt.setContentType([Zr||"multipart/form-data",...xn].join("; "))}}if(platform.hasStandardBrowserEnv&&(_t&&utils$1.isFunction(_t)&&(_t=_t(lt)),_t||_t!==!1&&isURLSameOrigin(lt.url))){const Zr=At&&qt&&cookies.read(qt);Zr&&Zt.set(At,Zr)}return lt},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(ut){return new Promise(function(ht,_t){const At=resolveConfig(ut);let qt=At.data;const Zt=AxiosHeaders$1.from(At.headers).normalize();let{responseType:cr,onUploadProgress:Gr,onDownloadProgress:Zr}=At,xn,On,ss,ls,cs;function wl(){ls&&ls(),cs&&cs(),At.cancelToken&&At.cancelToken.unsubscribe(xn),At.signal&&At.signal.removeEventListener("abort",xn)}let ep=new XMLHttpRequest;ep.open(At.method.toUpperCase(),At.url,!0),ep.timeout=At.timeout;function Al(){if(!ep)return;const cp=AxiosHeaders$1.from("getAllResponseHeaders"in ep&&ep.getAllResponseHeaders()),Lp={data:!cr||cr==="text"||cr==="json"?ep.responseText:ep.response,status:ep.status,statusText:ep.statusText,headers:cp,config:ut,request:ep};settle(function(nm){ht(nm),wl()},function(nm){_t(nm),wl()},Lp),ep=null}"onloadend"in ep?ep.onloadend=Al:ep.onreadystatechange=function(){!ep||ep.readyState!==4||ep.status===0&&!(ep.responseURL&&ep.responseURL.indexOf("file:")===0)||setTimeout(Al)},ep.onabort=function(){ep&&(_t(new AxiosError("Request aborted",AxiosError.ECONNABORTED,ut,ep)),ep=null)},ep.onerror=function(){_t(new AxiosError("Network Error",AxiosError.ERR_NETWORK,ut,ep)),ep=null},ep.ontimeout=function(){let Cp=At.timeout?"timeout of "+At.timeout+"ms exceeded":"timeout exceeded";const Lp=At.transitional||transitionalDefaults;At.timeoutErrorMessage&&(Cp=At.timeoutErrorMessage),_t(new AxiosError(Cp,Lp.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,ut,ep)),ep=null},qt===void 0&&Zt.setContentType(null),"setRequestHeader"in ep&&utils$1.forEach(Zt.toJSON(),function(Cp,Lp){ep.setRequestHeader(Lp,Cp)}),utils$1.isUndefined(At.withCredentials)||(ep.withCredentials=!!At.withCredentials),cr&&cr!=="json"&&(ep.responseType=At.responseType),Zr&&([ss,cs]=progressEventReducer(Zr,!0),ep.addEventListener("progress",ss)),Gr&&ep.upload&&([On,ls]=progressEventReducer(Gr),ep.upload.addEventListener("progress",On),ep.upload.addEventListener("loadend",ls)),(At.cancelToken||At.signal)&&(xn=cp=>{ep&&(_t(!cp||cp.type?new CanceledError(null,ut,ep):cp),ep.abort(),ep=null)},At.cancelToken&&At.cancelToken.subscribe(xn),At.signal&&(At.signal.aborted?xn():At.signal.addEventListener("abort",xn)));const np=parseProtocol(At.url);if(np&&platform.protocols.indexOf(np)===-1){_t(new AxiosError("Unsupported protocol "+np+":",AxiosError.ERR_BAD_REQUEST,ut));return}ep.send(qt||null)})},composeSignals=(ut,lt)=>{const{length:ht}=ut=ut?ut.filter(Boolean):[];if(lt||ht){let _t=new AbortController,At;const qt=function(Zr){if(!At){At=!0,cr();const xn=Zr instanceof Error?Zr:this.reason;_t.abort(xn instanceof AxiosError?xn:new CanceledError(xn instanceof Error?xn.message:xn))}};let Zt=lt&&setTimeout(()=>{Zt=null,qt(new AxiosError(`timeout ${lt} of ms exceeded`,AxiosError.ETIMEDOUT))},lt);const cr=()=>{ut&&(Zt&&clearTimeout(Zt),Zt=null,ut.forEach(Zr=>{Zr.unsubscribe?Zr.unsubscribe(qt):Zr.removeEventListener("abort",qt)}),ut=null)};ut.forEach(Zr=>Zr.addEventListener("abort",qt));const{signal:Gr}=_t;return Gr.unsubscribe=()=>utils$1.asap(cr),Gr}},composeSignals$1=composeSignals,streamChunk=function*(ut,lt){let ht=ut.byteLength;if(!lt||ht<lt){yield ut;return}let _t=0,At;for(;_t<ht;)At=_t+lt,yield ut.slice(_t,At),_t=At},readBytes=async function*(ut,lt){for await(const ht of readStream(ut))yield*streamChunk(ht,lt)},readStream=async function*(ut){if(ut[Symbol.asyncIterator]){yield*ut;return}const lt=ut.getReader();try{for(;;){const{done:ht,value:_t}=await lt.read();if(ht)break;yield _t}}finally{await lt.cancel()}},trackStream=(ut,lt,ht,_t)=>{const At=readBytes(ut,lt);let qt=0,Zt,cr=Gr=>{Zt||(Zt=!0,_t&&_t(Gr))};return new ReadableStream({async pull(Gr){try{const{done:Zr,value:xn}=await At.next();if(Zr){cr(),Gr.close();return}let On=xn.byteLength;if(ht){let ss=qt+=On;ht(ss)}Gr.enqueue(new Uint8Array(xn))}catch(Zr){throw cr(Zr),Zr}},cancel(Gr){return cr(Gr),At.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(ut=>lt=>ut.encode(lt))(new TextEncoder):async ut=>new Uint8Array(await new Response(ut).arrayBuffer())),test=(ut,...lt)=>{try{return!!ut(...lt)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let ut=!1;const lt=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return ut=!0,"half"}}).headers.has("Content-Type");return ut&&!lt}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(ut=>ut.body)};isFetchSupported&&(ut=>{["text","arrayBuffer","blob","formData","stream"].forEach(lt=>{!resolvers[lt]&&(resolvers[lt]=utils$1.isFunction(ut[lt])?ht=>ht[lt]():(ht,_t)=>{throw new AxiosError(`Response type '${lt}' is not supported`,AxiosError.ERR_NOT_SUPPORT,_t)})})})(new Response);const getBodyLength=async ut=>{if(ut==null)return 0;if(utils$1.isBlob(ut))return ut.size;if(utils$1.isSpecCompliantForm(ut))return(await new Request(platform.origin,{method:"POST",body:ut}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(ut)||utils$1.isArrayBuffer(ut))return ut.byteLength;if(utils$1.isURLSearchParams(ut)&&(ut=ut+""),utils$1.isString(ut))return(await encodeText(ut)).byteLength},resolveBodyLength=async(ut,lt)=>{const ht=utils$1.toFiniteNumber(ut.getContentLength());return ht??getBodyLength(lt)},fetchAdapter=isFetchSupported&&(async ut=>{let{url:lt,method:ht,data:_t,signal:At,cancelToken:qt,timeout:Zt,onDownloadProgress:cr,onUploadProgress:Gr,responseType:Zr,headers:xn,withCredentials:On="same-origin",fetchOptions:ss}=resolveConfig(ut);Zr=Zr?(Zr+"").toLowerCase():"text";let ls=composeSignals$1([At,qt&&qt.toAbortSignal()],Zt),cs;const wl=ls&&ls.unsubscribe&&(()=>{ls.unsubscribe()});let ep;try{if(Gr&&supportsRequestStream&&ht!=="get"&&ht!=="head"&&(ep=await resolveBodyLength(xn,_t))!==0){let Lp=new Request(lt,{method:"POST",body:_t,duplex:"half"}),jp;if(utils$1.isFormData(_t)&&(jp=Lp.headers.get("content-type"))&&xn.setContentType(jp),Lp.body){const[nm,zm]=progressEventDecorator(ep,progressEventReducer(asyncDecorator(Gr)));_t=trackStream(Lp.body,DEFAULT_CHUNK_SIZE,nm,zm)}}utils$1.isString(On)||(On=On?"include":"omit");const Al="credentials"in Request.prototype;cs=new Request(lt,{...ss,signal:ls,method:ht.toUpperCase(),headers:xn.normalize().toJSON(),body:_t,duplex:"half",credentials:Al?On:void 0});let np=await fetch(cs,ss);const cp=supportsResponseStream&&(Zr==="stream"||Zr==="response");if(supportsResponseStream&&(cr||cp&&wl)){const Lp={};["status","statusText","headers"].forEach(i1=>{Lp[i1]=np[i1]});const jp=utils$1.toFiniteNumber(np.headers.get("content-length")),[nm,zm]=cr&&progressEventDecorator(jp,progressEventReducer(asyncDecorator(cr),!0))||[];np=new Response(trackStream(np.body,DEFAULT_CHUNK_SIZE,nm,()=>{zm&&zm(),wl&&wl()}),Lp)}Zr=Zr||"text";let Cp=await resolvers[utils$1.findKey(resolvers,Zr)||"text"](np,ut);return!cp&&wl&&wl(),await new Promise((Lp,jp)=>{settle(Lp,jp,{data:Cp,headers:AxiosHeaders$1.from(np.headers),status:np.status,statusText:np.statusText,config:ut,request:cs})})}catch(Al){throw wl&&wl(),Al&&Al.name==="TypeError"&&/Load failed|fetch/i.test(Al.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,ut,cs),{cause:Al.cause||Al}):AxiosError.from(Al,Al&&Al.code,ut,cs)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(ut,lt)=>{if(ut){try{Object.defineProperty(ut,"name",{value:lt})}catch{}Object.defineProperty(ut,"adapterName",{value:lt})}});const renderReason=ut=>`- ${ut}`,isResolvedHandle=ut=>utils$1.isFunction(ut)||ut===null||ut===!1,adapters={getAdapter:ut=>{ut=utils$1.isArray(ut)?ut:[ut];const{length:lt}=ut;let ht,_t;const At={};for(let qt=0;qt<lt;qt++){ht=ut[qt];let Zt;if(_t=ht,!isResolvedHandle(ht)&&(_t=knownAdapters[(Zt=String(ht)).toLowerCase()],_t===void 0))throw new AxiosError(`Unknown adapter '${Zt}'`);if(_t)break;At[Zt||"#"+qt]=_t}if(!_t){const qt=Object.entries(At).map(([cr,Gr])=>`adapter ${cr} `+(Gr===!1?"is not supported by the environment":"is not available in the build"));let Zt=lt?qt.length>1?`since :
`+qt.map(renderReason).join(`
`):" "+renderReason(qt[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+Zt,"ERR_NOT_SUPPORT")}return _t},adapters:knownAdapters};function throwIfCancellationRequested(ut){if(ut.cancelToken&&ut.cancelToken.throwIfRequested(),ut.signal&&ut.signal.aborted)throw new CanceledError(null,ut)}function dispatchRequest(ut){return throwIfCancellationRequested(ut),ut.headers=AxiosHeaders$1.from(ut.headers),ut.data=transformData.call(ut,ut.transformRequest),["post","put","patch"].indexOf(ut.method)!==-1&&ut.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(ut.adapter||defaults$1.adapter)(ut).then(function(_t){return throwIfCancellationRequested(ut),_t.data=transformData.call(ut,ut.transformResponse,_t),_t.headers=AxiosHeaders$1.from(_t.headers),_t},function(_t){return isCancel(_t)||(throwIfCancellationRequested(ut),_t&&_t.response&&(_t.response.data=transformData.call(ut,ut.transformResponse,_t.response),_t.response.headers=AxiosHeaders$1.from(_t.response.headers))),Promise.reject(_t)})}const VERSION="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((ut,lt)=>{validators$1[ut]=function(_t){return typeof _t===ut||"a"+(lt<1?"n ":" ")+ut}});const deprecatedWarnings={};validators$1.transitional=function ut(lt,ht,_t){function At(qt,Zt){return"[Axios v"+VERSION+"] Transitional option '"+qt+"'"+Zt+(_t?". "+_t:"")}return(qt,Zt,cr)=>{if(lt===!1)throw new AxiosError(At(Zt," has been removed"+(ht?" in "+ht:"")),AxiosError.ERR_DEPRECATED);return ht&&!deprecatedWarnings[Zt]&&(deprecatedWarnings[Zt]=!0,console.warn(At(Zt," has been deprecated since v"+ht+" and will be removed in the near future"))),lt?lt(qt,Zt,cr):!0}};validators$1.spelling=function ut(lt){return(ht,_t)=>(console.warn(`${_t} is likely a misspelling of ${lt}`),!0)};function assertOptions(ut,lt,ht){if(typeof ut!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const _t=Object.keys(ut);let At=_t.length;for(;At-- >0;){const qt=_t[At],Zt=lt[qt];if(Zt){const cr=ut[qt],Gr=cr===void 0||Zt(cr,qt,ut);if(Gr!==!0)throw new AxiosError("option "+qt+" must be "+Gr,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(ht!==!0)throw new AxiosError("Unknown option "+qt,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(lt){this.defaults=lt||{},this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}async request(lt,ht){try{return await this._request(lt,ht)}catch(_t){if(_t instanceof Error){let At={};Error.captureStackTrace?Error.captureStackTrace(At):At=new Error;const qt=At.stack?At.stack.replace(/^.+\n/,""):"";try{_t.stack?qt&&!String(_t.stack).endsWith(qt.replace(/^.+\n.+\n/,""))&&(_t.stack+=`
`+qt):_t.stack=qt}catch{}}throw _t}}_request(lt,ht){typeof lt=="string"?(ht=ht||{},ht.url=lt):ht=lt||{},ht=mergeConfig(this.defaults,ht);const{transitional:_t,paramsSerializer:At,headers:qt}=ht;_t!==void 0&&validator.assertOptions(_t,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),At!=null&&(utils$1.isFunction(At)?ht.paramsSerializer={serialize:At}:validator.assertOptions(At,{encode:validators.function,serialize:validators.function},!0)),ht.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?ht.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:ht.allowAbsoluteUrls=!0),validator.assertOptions(ht,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),ht.method=(ht.method||this.defaults.method||"get").toLowerCase();let Zt=qt&&utils$1.merge(qt.common,qt[ht.method]);qt&&utils$1.forEach(["delete","get","head","post","put","patch","common"],cs=>{delete qt[cs]}),ht.headers=AxiosHeaders$1.concat(Zt,qt);const cr=[];let Gr=!0;this.interceptors.request.forEach(function(wl){typeof wl.runWhen=="function"&&wl.runWhen(ht)===!1||(Gr=Gr&&wl.synchronous,cr.unshift(wl.fulfilled,wl.rejected))});const Zr=[];this.interceptors.response.forEach(function(wl){Zr.push(wl.fulfilled,wl.rejected)});let xn,On=0,ss;if(!Gr){const cs=[dispatchRequest.bind(this),void 0];for(cs.unshift.apply(cs,cr),cs.push.apply(cs,Zr),ss=cs.length,xn=Promise.resolve(ht);On<ss;)xn=xn.then(cs[On++],cs[On++]);return xn}ss=cr.length;let ls=ht;for(On=0;On<ss;){const cs=cr[On++],wl=cr[On++];try{ls=cs(ls)}catch(ep){wl.call(this,ep);break}}try{xn=dispatchRequest.call(this,ls)}catch(cs){return Promise.reject(cs)}for(On=0,ss=Zr.length;On<ss;)xn=xn.then(Zr[On++],Zr[On++]);return xn}getUri(lt){lt=mergeConfig(this.defaults,lt);const ht=buildFullPath(lt.baseURL,lt.url,lt.allowAbsoluteUrls);return buildURL(ht,lt.params,lt.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function ut(lt){Axios.prototype[lt]=function(ht,_t){return this.request(mergeConfig(_t||{},{method:lt,url:ht,data:(_t||{}).data}))}});utils$1.forEach(["post","put","patch"],function ut(lt){function ht(_t){return function(qt,Zt,cr){return this.request(mergeConfig(cr||{},{method:lt,headers:_t?{"Content-Type":"multipart/form-data"}:{},url:qt,data:Zt}))}}Axios.prototype[lt]=ht(),Axios.prototype[lt+"Form"]=ht(!0)});const Axios$1=Axios;class CancelToken{constructor(lt){if(typeof lt!="function")throw new TypeError("executor must be a function.");let ht;this.promise=new Promise(function(qt){ht=qt});const _t=this;this.promise.then(At=>{if(!_t._listeners)return;let qt=_t._listeners.length;for(;qt-- >0;)_t._listeners[qt](At);_t._listeners=null}),this.promise.then=At=>{let qt;const Zt=new Promise(cr=>{_t.subscribe(cr),qt=cr}).then(At);return Zt.cancel=function(){_t.unsubscribe(qt)},Zt},lt(function(qt,Zt,cr){_t.reason||(_t.reason=new CanceledError(qt,Zt,cr),ht(_t.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(lt){if(this.reason){lt(this.reason);return}this._listeners?this._listeners.push(lt):this._listeners=[lt]}unsubscribe(lt){if(!this._listeners)return;const ht=this._listeners.indexOf(lt);ht!==-1&&this._listeners.splice(ht,1)}toAbortSignal(){const lt=new AbortController,ht=_t=>{lt.abort(_t)};return this.subscribe(ht),lt.signal.unsubscribe=()=>this.unsubscribe(ht),lt.signal}static source(){let lt;return{token:new CancelToken(function(At){lt=At}),cancel:lt}}}const CancelToken$1=CancelToken;function spread(ut){return function(ht){return ut.apply(null,ht)}}function isAxiosError(ut){return utils$1.isObject(ut)&&ut.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([ut,lt])=>{HttpStatusCode[lt]=ut});const HttpStatusCode$1=HttpStatusCode;function createInstance(ut){const lt=new Axios$1(ut),ht=bind(Axios$1.prototype.request,lt);return utils$1.extend(ht,Axios$1.prototype,lt,{allOwnKeys:!0}),utils$1.extend(ht,lt,null,{allOwnKeys:!0}),ht.create=function(At){return createInstance(mergeConfig(ut,At))},ht}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function ut(lt){return Promise.all(lt)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=ut=>formDataToJSON(utils$1.isHTMLForm(ut)?new FormData(ut):ut);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const axios$1=axios;var dist={},sdk={};(function(){var ut={},lt="";try{lt=location.hash.toString()}catch{}var ht=Gr(lt),_t=Al("initParams");if(_t)for(var At in _t)typeof ht[At]>"u"&&(ht[At]=_t[At]);ep("initParams",ht);var qt=!1,Zt;try{if(qt=window.parent!=null&&window!=window.parent,qt){window.addEventListener("message",function(np){if(np.source===window.parent){try{var cp=JSON.parse(np.data)}catch{return}!cp||!cp.eventType||(cp.eventType=="set_custom_style"?Zt.innerHTML=cp.eventData:ss(cp.eventType,cp.eventData))}}),Zt=document.createElement("style"),document.head.appendChild(Zt);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready"}),"*")}catch{}}}catch{}function cr(np){try{return np=np.replace(/\+/g,"%20"),decodeURIComponent(np)}catch{return np}}function Gr(np){np=np.replace(/^#/,"");var cp={};if(!np.length)return cp;if(np.indexOf("=")<0&&np.indexOf("?")<0)return cp._path=cr(np),cp;var Cp=np.indexOf("?");if(Cp>=0){var Lp=np.substr(0,Cp);cp._path=cr(Lp),np=np.substr(Cp+1)}var jp=Zr(np);for(var nm in jp)cp[nm]=jp[nm];return cp}function Zr(np){var cp={};if(!np.length)return cp;var Cp=np.split("&"),Lp,jp,nm,zm;for(Lp=0;Lp<Cp.length;Lp++)jp=Cp[Lp].split("="),nm=cr(jp[0]),zm=jp[1]==null?null:cr(jp[1]),cp[nm]=zm;return cp}function xn(np,cp){var Cp=np.indexOf("#");if(Cp<0)return np+"#"+cp;var Lp=np.substr(Cp+1);return Lp.indexOf("=")>=0||Lp.indexOf("?")>=0?np+"&"+cp:Lp.length>0?np+"?"+cp:np+cp}function On(np,cp,Cp){if(cp||(cp=function(){}),Cp===void 0&&(Cp=""),console.log("[Telegram.WebView] > postEvent",np,Cp),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(np,JSON.stringify(Cp)),cp();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:np,eventData:Cp})),cp();else if(qt)try{var Lp="https://web.telegram.org";Lp="*",window.parent.postMessage(JSON.stringify({eventType:np,eventData:Cp}),Lp),cp()}catch(jp){cp(jp)}else cp({notAvailable:!0})}function ss(np,cp){console.log("[Telegram.WebView] < receiveEvent",np,cp),ls(np,function(Cp){Cp(np,cp)})}function ls(np,cp){var Cp=ut[np];if(!(Cp===void 0||!Cp.length))for(var Lp=0;Lp<Cp.length;Lp++)try{cp(Cp[Lp])}catch{}}function cs(np,cp){ut[np]===void 0&&(ut[np]=[]);var Cp=ut[np].indexOf(cp);Cp===-1&&ut[np].push(cp)}function wl(np,cp){if(ut[np]!==void 0){var Cp=ut[np].indexOf(cp);Cp!==-1&&ut[np].splice(Cp,1)}}function ep(np,cp){try{return window.sessionStorage.setItem("__telegram__"+np,JSON.stringify(cp)),!0}catch{}return!1}function Al(np){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+np))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:ht,isIframe:qt,onEvent:cs,offEvent:wl,postEvent:On,receiveEvent:ss,callEventCallbacks:ls},window.Telegram.Utils={urlSafeDecode:cr,urlParseQueryString:Zr,urlParseHashParams:Gr,urlAppendHashParams:xn,sessionStorageSet:ep,sessionStorageGet:Al},window.TelegramGameProxy_receiveEvent=ss,window.TelegramGameProxy={receiveEvent:ss}})();(function(){var ut=window.Telegram.Utils,lt=window.Telegram.WebView,ht=lt.initParams,_t=lt.isIframe,At={},qt="",Zt={},cr={},Gr="light",Zr="6.0",xn="unknown";if(ht.tgWebAppData&&ht.tgWebAppData.length){qt=ht.tgWebAppData,Zt=ut.urlParseQueryString(qt);for(var On in Zt){var ss=Zt[On];try{(ss.substr(0,1)=="{"&&ss.substr(-1)=="}"||ss.substr(0,1)=="["&&ss.substr(-1)=="]")&&(Zt[On]=JSON.parse(ss))}catch{}}}if(ht.tgWebAppThemeParams&&ht.tgWebAppThemeParams.length){var ls=ht.tgWebAppThemeParams;try{var cs=JSON.parse(ls);cs&&i1(cs)}catch{}}var cs=ut.sessionStorageGet("themeParams");cs&&i1(cs),ht.tgWebAppVersion&&(Zr=ht.tgWebAppVersion),ht.tgWebAppPlatform&&(xn=ht.tgWebAppPlatform);function wl(R5,r4){r4.theme_params&&(i1(r4.theme_params),window.Telegram.WebApp.MainButton.setParams({}),$_(),Lp("themeChanged"))}var ep=window.innerHeight;function Al(R5,r4){r4.height&&(window.removeEventListener("resize",np),us(r4))}function np(R5){ep!=window.innerHeight&&(ep=window.innerHeight,Lp("viewportChanged",{isStateStable:!0}))}function cp(R5){if(!(R5.metaKey||R5.ctrlKey)){for(var r4=R5.target;r4.tagName!="A"&&r4.parentNode;)r4=r4.parentNode;r4.tagName=="A"&&r4.target!="_blank"&&(r4.protocol=="http:"||r4.protocol=="https:")&&r4.hostname=="t.me"&&(At.openTgLink(r4.href),R5.preventDefault())}}function Cp(R5){return R5.toString().replace(/^\s+|\s+$/g,"")}function Lp(R5){var r4=Array.prototype.slice.call(arguments);R5=r4.shift(),lt.callEventCallbacks("webview:"+R5,function(a4){a4.apply(At,r4)})}function jp(R5,r4){lt.onEvent("webview:"+R5,r4)}function nm(R5,r4){lt.offEvent("webview:"+R5,r4)}function zm(R5,r4){var a4=document.documentElement;a4&&a4.style&&a4.style.setProperty&&a4.style.setProperty("--tg-"+R5,r4)}function i1(R5){R5.bg_color=="#1c1c1d"&&R5.bg_color==R5.secondary_bg_color&&(R5.secondary_bg_color="#2c2c2e");var r4;for(var a4 in R5)(r4=j_(R5[a4]))&&(cr[a4]=r4,a4=="bg_color"&&(Gr=h3(r4)?"dark":"light",zm("color-scheme",Gr)),a4="theme-"+a4.split("_").join("-"),zm(a4,r4));ut.sessionStorageSet("themeParams",cr)}var d3={};function op(R5){for(var r4=100;--r4;){for(var a4="",cM="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",Yx=cM.length,D5=0;D5<R5;D5++)a4+=cM[Math.floor(Math.random()*Yx)];if(!d3[a4])return d3[a4]={},a4}throw Error("WebAppCallbackIdGenerateFailed")}var Sn=!1,Fo=!1,as=!0;function us(R5){typeof R5<"u"&&(as=!!R5.is_expanded,Sn=R5.height,R5.is_state_stable&&(Fo=R5.height),Lp("viewportChanged",{isStateStable:!!R5.is_state_stable}));var r4,a4;Sn!==!1?r4=Sn-Dp+"px":r4=Dp?"calc(100vh - "+Dp+"px)":"100vh",Fo!==!1?a4=Fo-Dp+"px":a4=Dp?"calc(100vh - "+Dp+"px)":"100vh",zm("viewport-height",r4),zm("viewport-stable-height",a4)}var xl=!1;function ip(R5){if(!W_("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+Zr);return}xl=!!R5,lt.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:xl})}var lp="bg_color",pu=null;function go(){return lp=="secondary_bg_color"?cr.secondary_bg_color:lp=="bg_color"?cr.bg_color:pu}function h0(R5){if(!W_("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+Zr);return}W_("6.9")||(cr.bg_color&&cr.bg_color==R5?R5="bg_color":cr.secondary_bg_color&&cr.secondary_bg_color==R5&&(R5="secondary_bg_color"));var r4=null,a4=null;if(R5=="bg_color"||R5=="secondary_bg_color")a4=R5;else if(W_("6.9")&&(r4=j_(R5),!r4))throw console.error("[Telegram.WebApp] Header color format is invalid",R5),Error("WebAppHeaderColorInvalid");if(!W_("6.9")&&a4!="bg_color"&&a4!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",R5),Error("WebAppHeaderColorKeyInvalid");lp=a4,pu=r4,b3()}var kp=null,cm=null;function b3(){(kp!=lp||cm!=pu)&&(kp=lp,cm=pu,cm?lt.postEvent("web_app_set_header_color",!1,{color:pu}):lt.postEvent("web_app_set_header_color",!1,{color_key:lp}))}var L_="bg_color";function Ym(){return L_=="secondary_bg_color"?cr.secondary_bg_color:L_=="bg_color"?cr.bg_color:L_}function Xm(R5){if(!W_("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+Zr);return}var r4;if(R5=="bg_color"||R5=="secondary_bg_color")r4=R5;else if(r4=j_(R5),!r4)throw console.error("[Telegram.WebApp] Background color format is invalid",R5),Error("WebAppBackgroundColorInvalid");L_=r4,$_()}var Jm=null;function $_(){var R5=Ym();Jm!=R5&&(Jm=R5,lt.postEvent("web_app_set_background_color",!1,{color:R5}))}function j_(R5){R5+="";var r4;if(r4=/^\s*#([0-9a-f]{6})\s*$/i.exec(R5))return"#"+r4[1].toLowerCase();if(r4=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(R5))return("#"+r4[1]+r4[1]+r4[2]+r4[2]+r4[3]+r4[3]).toLowerCase();if(r4=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(R5)){var a4=parseInt(r4[1]),cM=parseInt(r4[2]),Yx=parseInt(r4[3]);return a4=(a4<16?"0":"")+a4.toString(16),cM=(cM<16?"0":"")+cM.toString(16),Yx=(Yx<16?"0":"")+Yx.toString(16),"#"+a4+cM+Yx}return!1}function h3(R5){R5=R5.replace(/[\s#]/g,""),R5.length==3&&(R5=R5[0]+R5[0]+R5[1]+R5[1]+R5[2]+R5[2]);var r4=parseInt(R5.substr(0,2),16),a4=parseInt(R5.substr(2,2),16),cM=parseInt(R5.substr(4,2),16),Yx=Math.sqrt(.299*(r4*r4)+.587*(a4*a4)+.114*(cM*cM));return Yx<120}function Fp(R5,r4){typeof R5!="string"&&(R5=""),typeof r4!="string"&&(r4=""),R5=R5.replace(/^\s+|\s+$/g,"").split("."),r4=r4.replace(/^\s+|\s+$/g,"").split(".");var a4=Math.max(R5.length,r4.length),cM,Yx,D5;for(cM=0;cM<a4;cM++)if(Yx=parseInt(R5[cM])||0,D5=parseInt(r4[cM])||0,Yx!=D5)return Yx>D5?1:-1;return 0}function W_(R5){return Fp(Zr,R5)>=0}function t4(R5){if(window.Blob)try{return new Blob([R5]).size}catch{}for(var r4=R5.length,a4=R5.length-1;a4>=0;a4--){var cM=R5.charCodeAt(a4);cM>127&&cM<=2047?r4++:cM>2047&&cM<=65535&&(r4+=2),cM>=56320&&cM<=57343&&a4--}return r4}var Nw=function(){var R5=!1,r4={};Object.defineProperty(r4,"isVisible",{set:function(AM){fM({is_visible:AM})},get:function(){return R5},enumerable:!0});var a4=null;lt.onEvent("back_button_pressed",cM);function cM(){Lp("backButtonClicked")}function Yx(){return{is_visible:R5}}function D5(AM){return typeof AM>"u"&&(AM=Yx()),JSON.stringify(AM)}function wM(){return W_("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+Zr),!1)}function uM(){var AM=Yx(),lM=D5(AM);a4!==lM&&(a4=lM,lt.postEvent("web_app_setup_back_button",!1,AM))}function fM(AM){return wM()&&(typeof AM.is_visible<"u"&&(R5=!!AM.is_visible),uM()),r4}return r4.onClick=function(AM){return wM()&&jp("backButtonClicked",AM),r4},r4.offClick=function(AM){return wM()&&nm("backButtonClicked",AM),r4},r4.show=function(){return fM({is_visible:!0})},r4.hide=function(){return fM({is_visible:!1})},r4}(),Dp=0,a1=function(){var R5=!1,r4=!0,a4=!1,cM="CONTINUE",Yx=!1,D5=!1,wM={};Object.defineProperty(wM,"text",{set:function(gM){wM.setParams({text:gM})},get:function(){return cM},enumerable:!0}),Object.defineProperty(wM,"color",{set:function(gM){wM.setParams({color:gM})},get:function(){return Yx||cr.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(wM,"textColor",{set:function(gM){wM.setParams({text_color:gM})},get:function(){return D5||cr.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(wM,"isVisible",{set:function(gM){wM.setParams({is_visible:gM})},get:function(){return R5},enumerable:!0}),Object.defineProperty(wM,"isProgressVisible",{get:function(){return a4},enumerable:!0}),Object.defineProperty(wM,"isActive",{set:function(gM){wM.setParams({is_active:gM})},get:function(){return r4},enumerable:!0});var uM=null;lt.onEvent("main_button_pressed",vM);var fM=null,AM={};if(ht.tgWebAppDebug){fM=document.createElement("tg-main-button"),AM={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var lM in AM)fM.style[lM]=AM[lM];document.addEventListener("DOMContentLoaded",function gM(Z_){document.removeEventListener("DOMContentLoaded",gM),document.body.appendChild(fM),fM.addEventListener("click",vM,!1)})}function vM(){r4&&Lp("mainButtonClicked")}function HM(){var gM=wM.color,Z_=wM.textColor;return R5?{is_visible:!0,is_active:r4,is_progress_visible:a4,text:cM,color:gM,text_color:Z_}:{is_visible:!1}}function xM(gM){return typeof gM>"u"&&(gM=HM()),JSON.stringify(gM)}function RM(){var gM=HM(),Z_=xM(gM);uM!==Z_&&(uM=Z_,lt.postEvent("web_app_setup_main_button",!1,gM),ht.tgWebAppDebug&&VM(gM))}function VM(gM){gM.is_visible?(fM.style.display="block",Dp=48,fM.style.opacity=gM.is_active?"1":"0.8",fM.style.cursor=gM.is_active?"pointer":"auto",fM.disabled=!gM.is_active,fM.innerText=gM.text,fM.style.backgroundImage=gM.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",fM.style.backgroundColor=gM.color,fM.style.color=gM.text_color):(fM.style.display="none",Dp=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Dp+"px"),us()}function SM(gM){if(typeof gM.text<"u"){var Z_=Cp(gM.text);if(!Z_.length)throw console.error("[Telegram.WebApp] Main button text is required",gM.text),Error("WebAppMainButtonParamInvalid");if(Z_.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",Z_),Error("WebAppMainButtonParamInvalid");cM=Z_}if(typeof gM.color<"u")if(gM.color===!1||gM.color===null)Yx=!1;else{var Bw=j_(gM.color);if(!Bw)throw console.error("[Telegram.WebApp] Main button color format is invalid",gM.color),Error("WebAppMainButtonParamInvalid");Yx=Bw}if(typeof gM.text_color<"u")if(gM.text_color===!1||gM.text_color===null)D5=!1;else{var Fw=j_(gM.text_color);if(!Fw)throw console.error("[Telegram.WebApp] Main button text color format is invalid",gM.text_color),Error("WebAppMainButtonParamInvalid");D5=Fw}if(typeof gM.is_visible<"u"){if(gM.is_visible&&!wM.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");R5=!!gM.is_visible}return typeof gM.is_active<"u"&&(r4=!!gM.is_active),RM(),wM}return wM.setText=function(gM){return wM.setParams({text:gM})},wM.onClick=function(gM){return jp("mainButtonClicked",gM),wM},wM.offClick=function(gM){return nm("mainButtonClicked",gM),wM},wM.show=function(){return wM.setParams({is_visible:!0})},wM.hide=function(){return wM.setParams({is_visible:!1})},wM.enable=function(){return wM.setParams({is_active:!0})},wM.disable=function(){return wM.setParams({is_active:!1})},wM.showProgress=function(gM){return r4=!!gM,a4=!0,RM(),wM},wM.hideProgress=function(){return wM.isActive||(r4=!0),a4=!1,RM(),wM},wM.setParams=SM,wM}();function zp(){Lp("settingsButtonClicked")}lt.onEvent("settings_button_pressed",zp);var v3=function(){var R5={};function r4(a4){if(!W_("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+Zr),R5;if(a4.type=="impact"){if(a4.impact_style!="light"&&a4.impact_style!="medium"&&a4.impact_style!="heavy"&&a4.impact_style!="rigid"&&a4.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",a4.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(a4.type=="notification"){if(a4.notification_type!="error"&&a4.notification_type!="success"&&a4.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",a4.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(a4.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",a4.type),Error("WebAppHapticFeedbackTypeInvalid");return lt.postEvent("web_app_trigger_haptic_feedback",!1,a4),R5}return R5.impactOccurred=function(a4){return r4({type:"impact",impact_style:a4})},R5.notificationOccurred=function(a4){return r4({type:"notification",notification_type:a4})},R5.selectionChanged=function(){return r4({type:"selection_change"})},R5}(),Mw=function(){var R5={};function r4(a4,cM,Yx){if(!W_("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+Zr),Error("WebAppMethodUnsupported");return tM(a4,cM,Yx),R5}return R5.setItem=function(a4,cM,Yx){return r4("saveStorageValue",{key:a4,value:cM},Yx)},R5.getItem=function(a4,cM){return R5.getItems([a4],cM?function(Yx,D5){Yx?cM(Yx):cM(null,D5[a4])}:null)},R5.getItems=function(a4,cM){return r4("getStorageValues",{keys:a4},cM)},R5.removeItem=function(a4,cM){return R5.removeItems([a4],cM)},R5.removeItems=function(a4,cM){return r4("deleteStorageValues",{keys:a4},cM)},R5.getKeys=function(a4){return r4("getStorageKeys",{},a4)},R5}(),nw={};function n4(R5,r4){if(r4.slug&&nw[r4.slug]){var a4=nw[r4.slug];delete nw[r4.slug],a4.callback&&a4.callback(r4.status),Lp("invoiceClosed",{url:a4.url,status:r4.status})}}var Ww=!1;function F_(R5,r4){if(Ww){var a4=Ww;Ww=!1;var cM=null;typeof r4.button_id<"u"&&(cM=r4.button_id),a4.callback&&a4.callback(cM),Lp("popupClosed",{button_id:cM})}}var qx=!1;function nM(R5,r4){if(qx){var a4=qx,cM=null;typeof r4.data<"u"&&(cM=r4.data),a4.callback&&a4.callback(cM)&&(qx=!1,lt.postEvent("web_app_close_scan_qr_popup",!1)),Lp("qrTextReceived",{data:cM})}}function Hm(R5,r4){qx=!1}function y3(R5,r4){if(r4.req_id&&d3[r4.req_id]){var a4=d3[r4.req_id];delete d3[r4.req_id];var cM=null;typeof r4.data<"u"&&(cM=r4.data),a4.callback&&a4.callback(cM),Lp("clipboardTextReceived",{data:cM})}}var Q_=!1;function Uw(R5,r4){if(Q_){var a4=Q_;Q_=!1,a4.callback&&a4.callback(r4.status=="allowed"),Lp("writeAccessRequested",{status:r4.status})}}var s4=!1;function rM(R5,r4){if(s4){var a4=s4;s4=!1,a4.callback&&a4.callback(r4.status=="sent"),Lp("contactRequested",{status:r4.status})}}function c4(R5,r4){if(r4.req_id&&d3[r4.req_id]){var a4=d3[r4.req_id];delete d3[r4.req_id];var cM=null,Yx=null;typeof r4.result<"u"&&(cM=r4.result),typeof r4.error<"u"&&(Yx=r4.error),a4.callback&&a4.callback(Yx,cM)}}function tM(R5,r4,a4){if(!W_("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+Zr),Error("WebAppMethodUnsupported");var cM=op(16),Yx={req_id:cM,method:R5,params:r4||{}};d3[cM]={callback:a4},lt.postEvent("web_app_invoke_custom_method",!1,Yx)}window.Telegram||(window.Telegram={}),Object.defineProperty(At,"initData",{get:function(){return qt},enumerable:!0}),Object.defineProperty(At,"initDataUnsafe",{get:function(){return Zt},enumerable:!0}),Object.defineProperty(At,"version",{get:function(){return Zr},enumerable:!0}),Object.defineProperty(At,"platform",{get:function(){return xn},enumerable:!0}),Object.defineProperty(At,"colorScheme",{get:function(){return Gr},enumerable:!0}),Object.defineProperty(At,"themeParams",{get:function(){return cr},enumerable:!0}),Object.defineProperty(At,"isExpanded",{get:function(){return as},enumerable:!0}),Object.defineProperty(At,"viewportHeight",{get:function(){return(Sn===!1?window.innerHeight:Sn)-Dp},enumerable:!0}),Object.defineProperty(At,"viewportStableHeight",{get:function(){return(Fo===!1?window.innerHeight:Fo)-Dp},enumerable:!0}),Object.defineProperty(At,"isClosingConfirmationEnabled",{set:function(R5){ip(R5)},get:function(){return xl},enumerable:!0}),Object.defineProperty(At,"headerColor",{set:function(R5){h0(R5)},get:function(){return go()},enumerable:!0}),Object.defineProperty(At,"backgroundColor",{set:function(R5){Xm(R5)},get:function(){return Ym()},enumerable:!0}),Object.defineProperty(At,"BackButton",{value:Nw,enumerable:!0}),Object.defineProperty(At,"MainButton",{value:a1,enumerable:!0}),Object.defineProperty(At,"HapticFeedback",{value:v3,enumerable:!0}),Object.defineProperty(At,"CloudStorage",{value:Mw,enumerable:!0}),At.setHeaderColor=function(R5){At.headerColor=R5},At.setBackgroundColor=function(R5){At.backgroundColor=R5},At.enableClosingConfirmation=function(){At.isClosingConfirmationEnabled=!0},At.disableClosingConfirmation=function(){At.isClosingConfirmationEnabled=!1},At.isVersionAtLeast=function(R5){return W_(R5)},At.onEvent=function(R5,r4){jp(R5,r4)},At.offEvent=function(R5,r4){nm(R5,r4)},At.sendData=function(R5){if(!R5||!R5.length)throw console.error("[Telegram.WebApp] Data is required",R5),Error("WebAppDataInvalid");if(t4(R5)>4096)throw console.error("[Telegram.WebApp] Data is too long",R5),Error("WebAppDataInvalid");lt.postEvent("web_app_data_send",!1,{data:R5})},At.switchInlineQuery=function(R5,r4){if(!W_("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(!ht.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(R5=R5||"",R5.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",R5),Error("WebAppInlineQueryInvalid");var a4=[];if(r4){if(!Array.isArray(r4))throw console.error("[Telegram.WebApp] Choose chat types should be an array",r4),Error("WebAppInlineChooseChatTypesInvalid");for(var cM={users:1,bots:1,groups:1,channels:1},Yx=0;Yx<r4.length;Yx++){var D5=r4[Yx];if(!cM[D5])throw console.error("[Telegram.WebApp] Choose chat type is invalid",D5),Error("WebAppInlineChooseChatTypeInvalid");cM[D5]!=2&&(cM[D5]=2,a4.push(D5))}}lt.postEvent("web_app_switch_inline_query",!1,{query:R5,chat_types:a4})},At.openLink=function(cM,r4){var a4=document.createElement("A");if(a4.href=cM,a4.protocol!="http:"&&a4.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",cM),Error("WebAppTgUrlInvalid");var cM=a4.href;r4=r4||{},W_("6.1")?lt.postEvent("web_app_open_link",!1,{url:cM,try_instant_view:W_("6.4")&&!!r4.try_instant_view}):window.open(cM,"_blank")},At.openTelegramLink=function(R5){var r4=document.createElement("A");if(r4.href=R5,r4.protocol!="http:"&&r4.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",R5),Error("WebAppTgUrlInvalid");if(r4.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",R5),Error("WebAppTgUrlInvalid");var a4=r4.pathname+r4.search;_t||W_("6.1")?lt.postEvent("web_app_open_tg_link",!1,{path_full:a4}):location.href="https://t.me"+a4},At.openInvoice=function(R5,r4){var a4=document.createElement("A"),cM,Yx;if(a4.href=R5,a4.protocol!="http:"&&a4.protocol!="https:"||a4.hostname!="t.me"||!(cM=a4.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(Yx=cM[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",R5),Error("WebAppInvoiceUrlInvalid");if(!W_("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(nw[Yx])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");nw[Yx]={url:R5,callback:r4},lt.postEvent("web_app_open_invoice",!1,{slug:Yx})},At.showPopup=function(R5,r4){if(!W_("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(Ww)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var a4="",cM="",Yx=[],D5={};if(typeof R5.title<"u"){if(a4=Cp(R5.title),a4.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",a4),Error("WebAppPopupParamInvalid");a4.length>0&&(D5.title=a4)}if(typeof R5.message<"u"&&(cM=Cp(R5.message)),!cM.length)throw console.error("[Telegram.WebApp] Popup message is required",R5.message),Error("WebAppPopupParamInvalid");if(cM.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",cM),Error("WebAppPopupParamInvalid");if(D5.message=cM,typeof R5.buttons<"u"){if(!Array.isArray(R5.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",R5.buttons),Error("WebAppPopupParamInvalid");for(var wM=0;wM<R5.buttons.length;wM++){var uM=R5.buttons[wM],fM={},AM="";if(typeof uM.id<"u"&&(AM=uM.id.toString(),AM.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",AM),Error("WebAppPopupParamInvalid");fM.id=AM;var lM=uM.type;if(typeof lM>"u"&&(lM="default"),fM.type=lM,!(lM=="ok"||lM=="close"||lM=="cancel"))if(lM=="default"||lM=="destructive"){var vM="";if(typeof uM.text<"u"&&(vM=Cp(uM.text)),!vM.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+lM,uM.text),Error("WebAppPopupParamInvalid");if(vM.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",vM),Error("WebAppPopupParamInvalid");fM.text=vM}else throw console.error("[Telegram.WebApp] Popup button type is invalid",lM),Error("WebAppPopupParamInvalid");Yx.push(fM)}}else Yx.push({id:"",type:"close"});if(Yx.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(Yx.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");D5.buttons=Yx,Ww={callback:r4},lt.postEvent("web_app_open_popup",!1,D5)},At.showAlert=function(R5,r4){At.showPopup({message:R5},r4?function(){r4()}:null)},At.showConfirm=function(R5,r4){At.showPopup({message:R5,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},r4?function(a4){r4(a4=="ok")}:null)},At.showScanQrPopup=function(R5,r4){if(!W_("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(qx)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var a4="",cM={};if(typeof R5.text<"u"){if(a4=Cp(R5.text),a4.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",a4),Error("WebAppScanQrPopupParamInvalid");a4.length>0&&(cM.text=a4)}qx={callback:r4},lt.postEvent("web_app_open_scan_qr_popup",!1,cM)},At.closeScanQrPopup=function(){if(!W_("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+Zr),Error("WebAppMethodUnsupported");qx=!1,lt.postEvent("web_app_close_scan_qr_popup",!1)},At.readTextFromClipboard=function(R5){if(!W_("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+Zr),Error("WebAppMethodUnsupported");var r4=op(16),a4={req_id:r4};d3[r4]={callback:R5},lt.postEvent("web_app_read_text_from_clipboard",!1,a4)},At.requestWriteAccess=function(R5){if(!W_("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(Q_)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Q_={callback:R5},lt.postEvent("web_app_request_write_access")},At.requestContact=function(R5){if(!W_("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+Zr),Error("WebAppMethodUnsupported");if(s4)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");s4={callback:R5},lt.postEvent("web_app_request_phone")},At.invokeCustomMethod=function(R5,r4,a4){tM(R5,r4,a4)},At.ready=function(){lt.postEvent("web_app_ready")},At.expand=function(){lt.postEvent("web_app_expand")},At.close=function(){lt.postEvent("web_app_close")},window.Telegram.WebApp=At,b3(),$_(),us(),window.addEventListener("resize",np),_t&&document.addEventListener("click",cp),lt.onEvent("theme_changed",wl),lt.onEvent("viewport_changed",Al),lt.onEvent("invoice_closed",n4),lt.onEvent("popup_closed",F_),lt.onEvent("qr_text_received",nM),lt.onEvent("scan_qr_popup_closed",Hm),lt.onEvent("clipboard_text_received",y3),lt.onEvent("write_access_requested",Uw),lt.onEvent("phone_requested",rM),lt.onEvent("custom_method_invoked",c4),lt.postEvent("web_app_request_theme"),lt.postEvent("web_app_request_viewport")})();Object.defineProperty(sdk,"__esModule",{value:!0});sdk.WebApp=void 0;var telegramWindow=window;sdk.WebApp=telegramWindow.Telegram.WebApp;Object.defineProperty(dist,"__esModule",{value:!0});var sdk_1=sdk,_default=dist.default=sdk_1.WebApp;async function authUser(){const ut=_default.initData;if(!ut)throw new Error("Telegram initData is missing. Open this page in a Telegram WebApp context.");const ht=(await api.post("/auth",{initData:ut})).data;return ht.token&&localStorage.setItem("token",ht.token),ht}function setupAuthInterceptor(ut){let lt=!1,ht=[];const _t=(At=null)=>{ht.forEach(({resolve:qt,reject:Zt})=>{At?Zt(At):qt()}),ht=[]};ut.interceptors.response.use(At=>At,async At=>{var cr,Gr;const qt=At.config,Zt=(cr=At.response)==null?void 0:cr.status;if(Zt===400&&((Gr=qt.url)!=null&&Gr.endsWith("/profile"))&&!qt._initInitDataRetry){qt._initInitDataRetry=!0;const Zr=_default.initData;if(Zr)return qt.headers=qt.headers||{},qt.headers["x-telegram-initdata"]=Zr,ut(qt)}return(Zt===401||Zt===403)&&!qt._retry?lt?new Promise((Zr,xn)=>{ht.push({resolve:Zr,reject:xn})}).then(()=>ut(qt)):(qt._retry=!0,lt=!0,new Promise(async(Zr,xn)=>{try{await authUser(),_t(null),Zr(ut(qt))}catch(On){_t(On),window.location.href="/",xn(On)}finally{lt=!1}})):Promise.reject(At)})}const api=axios$1.create({baseURL:"https://fbc2-38-180-203-238.ngrok-free.app"});api.interceptors.request.use(ut=>{const lt=localStorage.getItem("token");return lt&&ut.headers&&(ut.headers.Authorization=`Bearer ${lt}`),ut});setupAuthInterceptor(api);const TAG$2="[user]";async function getUser(){var _t,At;const ut=(At=(_t=window.Telegram)==null?void 0:_t.WebApp)==null?void 0:At.initData,lt={};ut&&(lt["X-Telegram-InitData"]=ut);const ht=await api.get("/profile",{headers:lt});return console.info(`${TAG$2}: get user data`,ht.data),ht.data||console.error(`${TAG$2}: cannot get user data`),ht.data}const createStoreImpl=ut=>{let lt;const ht=new Set,_t=(Zr,xn)=>{const On=typeof Zr=="function"?Zr(lt):Zr;if(!Object.is(On,lt)){const ss=lt;lt=xn??(typeof On!="object"||On===null)?On:Object.assign({},lt,On),ht.forEach(ls=>ls(lt,ss))}},At=()=>lt,cr={setState:_t,getState:At,getInitialState:()=>Gr,subscribe:Zr=>(ht.add(Zr),()=>ht.delete(Zr))},Gr=lt=ut(_t,At,cr);return cr},createStore$3=ut=>ut?createStoreImpl(ut):createStoreImpl,identity=ut=>ut;function useStore$1(ut,lt=identity){const ht=r$1.useSyncExternalStore(ut.subscribe,()=>lt(ut.getState()),()=>lt(ut.getInitialState()));return r$1.useDebugValue(ht),ht}const createImpl=ut=>{const lt=createStore$3(ut),ht=_t=>useStore$1(lt,_t);return Object.assign(ht,lt),ht},create$2=ut=>ut?createImpl(ut):createImpl,trackedConnections=new Map,getTrackedConnectionState=ut=>{const lt=trackedConnections.get(ut);return lt?Object.fromEntries(Object.entries(lt.stores).map(([ht,_t])=>[ht,_t.getState()])):{}},extractConnectionInformation=(ut,lt,ht)=>{if(ut===void 0)return{type:"untracked",connection:lt.connect(ht)};const _t=trackedConnections.get(ht.name);if(_t)return{type:"tracked",store:ut,..._t};const At={connection:lt.connect(ht),stores:{}};return trackedConnections.set(ht.name,At),{type:"tracked",store:ut,...At}},removeStoreFromTrackedConnections=(ut,lt)=>{if(lt===void 0)return;const ht=trackedConnections.get(ut);ht&&(delete ht.stores[lt],Object.keys(ht.stores).length===0&&trackedConnections.delete(ut))},findCallerName=ut=>{var lt,ht;if(!ut)return;const _t=ut.split(`
`),At=_t.findIndex(Zt=>Zt.includes("api.setState"));if(At<0)return;const qt=((lt=_t[At+1])==null?void 0:lt.trim())||"";return(ht=/.+ (.+) .+/.exec(qt))==null?void 0:ht[1]},devtoolsImpl=(ut,lt={})=>(ht,_t,At)=>{const{enabled:qt,anonymousActionType:Zt,store:cr,...Gr}=lt;let Zr;try{Zr=(qt??!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!Zr)return ut(ht,_t,At);const{connection:xn,...On}=extractConnectionInformation(cr,Zr,Gr);let ss=!0;At.setState=(wl,ep,Al)=>{const np=ht(wl,ep);if(!ss)return np;const cp=findCallerName(new Error().stack),Cp=Al===void 0?{type:Zt||cp||"anonymous"}:typeof Al=="string"?{type:Al}:Al;return cr===void 0?(xn==null||xn.send(Cp,_t()),np):(xn==null||xn.send({...Cp,type:`${cr}/${Cp.type}`},{...getTrackedConnectionState(Gr.name),[cr]:At.getState()}),np)},At.devtools={cleanup:()=>{xn&&typeof xn.unsubscribe=="function"&&xn.unsubscribe(),removeStoreFromTrackedConnections(Gr.name,cr)}};const ls=(...wl)=>{const ep=ss;ss=!1,ht(...wl),ss=ep},cs=ut(At.setState,_t,At);if(On.type==="untracked"?xn==null||xn.init(cs):(On.stores[On.store]=At,xn==null||xn.init(Object.fromEntries(Object.entries(On.stores).map(([wl,ep])=>[wl,wl===On.store?cs:ep.getState()])))),At.dispatchFromDevtools&&typeof At.dispatch=="function"){let wl=!1;const ep=At.dispatch;At.dispatch=(...Al)=>{ep(...Al)}}return xn.subscribe(wl=>{var ep;switch(wl.type){case"ACTION":if(typeof wl.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return parseJsonThen(wl.payload,Al=>{if(Al.type==="__setState"){if(cr===void 0){ls(Al.state);return}Object.keys(Al.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const np=Al.state[cr];if(np==null)return;JSON.stringify(At.getState())!==JSON.stringify(np)&&ls(np);return}At.dispatchFromDevtools&&typeof At.dispatch=="function"&&At.dispatch(Al)});case"DISPATCH":switch(wl.payload.type){case"RESET":return ls(cs),cr===void 0?xn==null?void 0:xn.init(At.getState()):xn==null?void 0:xn.init(getTrackedConnectionState(Gr.name));case"COMMIT":if(cr===void 0){xn==null||xn.init(At.getState());return}return xn==null?void 0:xn.init(getTrackedConnectionState(Gr.name));case"ROLLBACK":return parseJsonThen(wl.state,Al=>{if(cr===void 0){ls(Al),xn==null||xn.init(At.getState());return}ls(Al[cr]),xn==null||xn.init(getTrackedConnectionState(Gr.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(wl.state,Al=>{if(cr===void 0){ls(Al);return}JSON.stringify(At.getState())!==JSON.stringify(Al[cr])&&ls(Al[cr])});case"IMPORT_STATE":{const{nextLiftedState:Al}=wl.payload,np=(ep=Al.computedStates.slice(-1)[0])==null?void 0:ep.state;if(!np)return;ls(cr===void 0?np:np[cr]),xn==null||xn.send(null,Al);return}case"PAUSE_RECORDING":return ss=!ss}return}}),cs},devtools=devtoolsImpl,parseJsonThen=(ut,lt)=>{let ht;try{ht=JSON.parse(ut)}catch(_t){console.error("[zustand devtools middleware] Could not parse the received json",_t)}ht!==void 0&&lt(ht)},GAME_CONSTANTS={PLAYER:{MAX_HEALTH:1e3,INITIAL_HEALTH:1e3,ATTACK_RANGE:2,SPEED:5,BASE_DAMAGE:10,ATTACK_SPEED_PENALTY:1.4},ENEMY:{MAX_HEALTH:50,INITIAL_HEALTH:50,ATTACK_RANGE:1.5,SPEED:2,BASE_DAMAGE:10,SPAWN_DISTANCE:10},PHYSICS:{MOVEMENT_SMOOTHING:.1,ROTATION_SPEED:5,GRAVITY:-9.81},ANIMATION:{ATTACK_HIT_TIME:.4,BLEND_TIME:.2,LOOP_ONCE:!1,LOOP_REPEAT:!0},CAMERA:{ISOMETRIC_POSITION:[8,12,8],FOV:40,NEAR:.1,FAR:1e3,FOLLOW_SMOOTHING:.1},LIGHTING:{AMBIENT_INTENSITY:.7,DIRECTIONAL_INTENSITY:1,DIRECTIONAL_POSITION:[10,10,5],SHADOW_MAP_SIZE:2048,SHADOW_CAMERA_SIZE:20},UI:{HEALTH_BAR_HEIGHT:2.5,ENEMY_HEALTH_BAR_HEIGHT:2.2,HEALTH_BAR_FONT_SIZE:.3,ENEMY_HEALTH_BAR_FONT_SIZE:.25},MODELS:{PLAYER:"models/player.glb",ENEMY:"models/monster.glb"},COLORS:{PLAYER_HEALTH:"red",ENEMY_HEALTH:"darkred",TERRAIN:"#4a5d23"}},sanitizePosition=ut=>({x:isFinite(ut.x)?ut.x:0,z:isFinite(ut.z)?ut.z:0}),sanitizeHealth=(ut,lt)=>!isFinite(ut)||ut<0?0:ut>lt?lt:ut,initialPlayerState={id:"",joystick:null,targetId:null,position:{x:0,z:0},health:GAME_CONSTANTS.PLAYER.INITIAL_HEALTH,maxHealth:GAME_CONSTANTS.PLAYER.MAX_HEALTH,attackRange:GAME_CONSTANTS.PLAYER.ATTACK_RANGE,speed:GAME_CONSTANTS.PLAYER.SPEED,baseDamage:GAME_CONSTANTS.PLAYER.BASE_DAMAGE,isAttacking:!1,lastAttackTime:0},createPlayerSlice=(ut,lt)=>({player:initialPlayerState,updatePlayerId:ht=>{ut(_t=>({player:{..._t.player,id:ht}}))},setPlayerTarget:ht=>ut(_t=>({player:{..._t.player,targetId:ht}})),updatePlayerPosition:ht=>ut(_t=>({player:{..._t.player,position:sanitizePosition(ht)}})),updatePlayerHealth:ht=>ut(_t=>({player:{..._t.player,health:sanitizeHealth(ht,_t.player.maxHealth)}})),setPlayerAttacking:ht=>ut(_t=>({player:{..._t.player,isAttacking:ht,lastAttackTime:ht?Date.now():_t.player.lastAttackTime}})),resetPlayerAttack:()=>ut(ht=>({player:{...ht.player,isAttacking:!1}}))}),initialEnemies=[{id:"enemy1",position:{x:5,z:5},health:GAME_CONSTANTS.ENEMY.INITIAL_HEALTH,maxHealth:GAME_CONSTANTS.ENEMY.MAX_HEALTH,attackRange:GAME_CONSTANTS.ENEMY.ATTACK_RANGE,speed:GAME_CONSTANTS.ENEMY.SPEED,isAttacking:!1,lastAttackTime:0,baseDamage:GAME_CONSTANTS.ENEMY.BASE_DAMAGE,targetId:"player1"},{id:"enemy2",position:{x:-7,z:3},health:GAME_CONSTANTS.ENEMY.INITIAL_HEALTH,maxHealth:GAME_CONSTANTS.ENEMY.MAX_HEALTH,attackRange:GAME_CONSTANTS.ENEMY.ATTACK_RANGE,speed:GAME_CONSTANTS.ENEMY.SPEED,isAttacking:!1,lastAttackTime:0,baseDamage:GAME_CONSTANTS.ENEMY.BASE_DAMAGE,targetId:"player1"}],createEnemiesSlice=(ut,lt)=>({enemies:initialEnemies,updateEnemyPosition:(ht,_t)=>ut(At=>({enemies:At.enemies.map(qt=>qt.id===ht?{...qt,position:sanitizePosition(_t)}:qt)})),updateEnemyHealth:(ht,_t)=>ut(At=>({enemies:At.enemies.map(qt=>qt.id===ht?{...qt,health:sanitizeHealth(_t,qt.maxHealth)}:qt)})),setEnemyAttacking:(ht,_t)=>ut(At=>({enemies:At.enemies.map(qt=>qt.id===ht?{...qt,isAttacking:_t,lastAttackTime:_t?Date.now():qt.lastAttackTime}:qt)})),removeEnemy:ht=>ut(_t=>({enemies:_t.enemies.filter(At=>At.id!==ht)})),addEnemy:ht=>ut(_t=>({enemies:[..._t.enemies,ht]}))}),initialInputState={movement:{x:0,z:0},isMoving:!1,attackPressed:!1},createInputSlice=(ut,lt)=>({input:initialInputState,setPlayerMovement:(ht,_t)=>ut(At=>({input:{...At.input,movement:{x:ht,z:_t},isMoving:!0}})),stopPlayerMovement:()=>ut(ht=>({input:{...ht.input,movement:{x:0,z:0},isMoving:!1}})),triggerPlayerAttack:()=>ut(ht=>({input:{...ht.input,attackPressed:!0}})),resetPlayerAttack:()=>ut(ht=>({input:{...ht.input,attackPressed:!1}}))}),createGameSlice=(ut,lt)=>({gameRunning:!1,gameMode:"pve",inMultiplayerRoom:!1,setGameRunning:ht=>ut({gameRunning:ht}),setGameMode:ht=>ut({gameMode:ht}),setInMultiplayerRoom:ht=>ut({inMultiplayerRoom:ht}),startGame:()=>ut({gameRunning:!0}),pauseGame:()=>ut({gameRunning:!1}),stopGame:()=>ut({gameRunning:!1,gameMode:"pve",inMultiplayerRoom:!1})}),initialRooms={RUARH:{players:[]}},createRoomSlice=(ut,lt)=>({rooms:initialRooms,addRoomPlayer:(ht,_t)=>ut(At=>{var qt;return{rooms:{...At.rooms,[ht]:{...At.rooms[ht],players:[...((qt=At.rooms[ht])==null?void 0:qt.players)||[],_t]}}}})}),store=create$2()(devtools((...ut)=>({...createRoomSlice(...ut),...createPlayerSlice(...ut),...createEnemiesSlice(...ut),...createInputSlice(...ut),...createGameSlice(...ut)}),{name:"game-store"})),useGameStore=store,TAG$1="[useInitApp]";function useInitApp(){const[ut,lt]=reactExports.useState(null),[ht,_t]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{try{const qt=await getUser();qt&&(console.log(`${TAG$1}: get and update zustand state user`),console.info(qt),useGameStore().updatePlayerId(qt.id.toString()),lt(qt))}catch(qt){console.error(`${TAG$1}: App init error:`,qt)}finally{_t(!0)}})()},[]),{user:ut,ready:ht,setUser:lt}}const UserContext=reactExports.createContext(void 0);function useUser(){const ut=reactExports.useContext(UserContext);if(!ut)throw new Error("useUser must be used within a UserProvider");return ut}function UserProvider({children:ut}){const{user:lt,ready:ht,setUser:_t}=useInitApp();return ht?jsx(UserContext.Provider,{value:{user:lt,setUser:_t},children:ut}):jsx("div",{children:" ..."})}const selectPlayersFromRoom=ut=>lt=>lt.rooms[ut].players,selectPlayer=ut=>ut.player,selectEnemies=ut=>ut.enemies,selectInput=ut=>ut.input,selectGameRunning=ut=>ut.gameRunning,selectGameMode=ut=>ut.gameMode,selectStartGame=ut=>ut.startGame,selectStopGame=ut=>ut.stopGame,selectPlayerTarget=ut=>ut.player.targetId,selectUpdatePlayerPosition=ut=>ut.updatePlayerPosition,selectSetPlayerTarget=ut=>ut.setPlayerTarget,selectSetPlayerAttacking=ut=>ut.setPlayerAttacking,scriptRel="modulepreload",assetsURL=function(ut){return"/twa-gta/"+ut},seen={},__vitePreload=function ut(lt,ht,_t){if(!ht||ht.length===0)return lt();const At=document.getElementsByTagName("link");return Promise.all(ht.map(qt=>{if(qt=assetsURL(qt),qt in seen)return;seen[qt]=!0;const Zt=qt.endsWith(".css"),cr=Zt?'[rel="stylesheet"]':"";if(!!_t)for(let xn=At.length-1;xn>=0;xn--){const On=At[xn];if(On.href===qt&&(!Zt||On.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${qt}"]${cr}`))return;const Zr=document.createElement("link");if(Zr.rel=Zt?"stylesheet":scriptRel,Zt||(Zr.as="script",Zr.crossOrigin=""),Zr.href=qt,document.head.appendChild(Zr),Zt)return new Promise((xn,On)=>{Zr.addEventListener("load",xn),Zr.addEventListener("error",()=>On(new Error(`Unable to preload CSS for ${qt}`)))})})).then(()=>lt()).catch(qt=>{const Zt=new Event("vite:preloadError",{cancelable:!0});if(Zt.payload=qt,window.dispatchEvent(Zt),!Zt.defaultPrevented)throw qt})};var Vm=Object.defineProperty,qm=(ut,lt,ht)=>lt in ut?Vm(ut,lt,{enumerable:!0,configurable:!0,writable:!0,value:ht}):ut[lt]=ht,ye=(ut,lt,ht)=>(qm(ut,typeof lt!="symbol"?lt+"":lt,ht),ht);const p0={SyncIntervalTime:3e3};var fs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function g0(ut){if(ut.__esModule)return ut;var lt=ut.default;if(typeof lt=="function"){var ht=function _t(){if(this instanceof _t){var At=[null];At.push.apply(At,arguments);var qt=Function.bind.apply(lt,At);return new qt}return lt.apply(this,arguments)};ht.prototype=lt.prototype}else ht={};return Object.defineProperty(ht,"__esModule",{value:!0}),Object.keys(ut).forEach(function(_t){var At=Object.getOwnPropertyDescriptor(ut,_t);Object.defineProperty(ht,_t,At.get?At:{enumerable:!0,get:function(){return ut[_t]}})}),ht}var wi={},Qm={get exports(){return wi},set exports(ut){wi=ut}},pi=typeof Reflect=="object"?Reflect:null,Mf=pi&&typeof pi.apply=="function"?pi.apply:function(ut,lt,ht){return Function.prototype.apply.call(ut,lt,ht)},Ws;pi&&typeof pi.ownKeys=="function"?Ws=pi.ownKeys:Object.getOwnPropertySymbols?Ws=function(ut){return Object.getOwnPropertyNames(ut).concat(Object.getOwnPropertySymbols(ut))}:Ws=function(ut){return Object.getOwnPropertyNames(ut)};function Gm(ut){console&&console.warn&&console.warn(ut)}var m0=Number.isNaN||function(ut){return ut!==ut};function tt(){tt.init.call(this)}Qm.exports=tt;wi.once=ty;tt.EventEmitter=tt;tt.prototype._events=void 0;tt.prototype._eventsCount=0;tt.prototype._maxListeners=void 0;var Nf=10;function Na(ut){if(typeof ut!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof ut)}Object.defineProperty(tt,"defaultMaxListeners",{enumerable:!0,get:function(){return Nf},set:function(ut){if(typeof ut!="number"||ut<0||m0(ut))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+ut+".");Nf=ut}});tt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};tt.prototype.setMaxListeners=function(ut){if(typeof ut!="number"||ut<0||m0(ut))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+ut+".");return this._maxListeners=ut,this};function y0(ut){return ut._maxListeners===void 0?tt.defaultMaxListeners:ut._maxListeners}tt.prototype.getMaxListeners=function(){return y0(this)};tt.prototype.emit=function(ut){for(var lt=[],ht=1;ht<arguments.length;ht++)lt.push(arguments[ht]);var _t=ut==="error",At=this._events;if(At!==void 0)_t=_t&&At.error===void 0;else if(!_t)return!1;if(_t){var qt;if(lt.length>0&&(qt=lt[0]),qt instanceof Error)throw qt;var Zt=new Error("Unhandled error."+(qt?" ("+qt.message+")":""));throw Zt.context=qt,Zt}var cr=At[ut];if(cr===void 0)return!1;if(typeof cr=="function")Mf(cr,this,lt);else for(var Gr=cr.length,Zr=x0(cr,Gr),ht=0;ht<Gr;++ht)Mf(Zr[ht],this,lt);return!0};function b0(ut,lt,ht,_t){var At,qt,Zt;if(Na(ht),qt=ut._events,qt===void 0?(qt=ut._events=Object.create(null),ut._eventsCount=0):(qt.newListener!==void 0&&(ut.emit("newListener",lt,ht.listener?ht.listener:ht),qt=ut._events),Zt=qt[lt]),Zt===void 0)Zt=qt[lt]=ht,++ut._eventsCount;else if(typeof Zt=="function"?Zt=qt[lt]=_t?[ht,Zt]:[Zt,ht]:_t?Zt.unshift(ht):Zt.push(ht),At=y0(ut),At>0&&Zt.length>At&&!Zt.warned){Zt.warned=!0;var cr=new Error("Possible EventEmitter memory leak detected. "+Zt.length+" "+String(lt)+" listeners added. Use emitter.setMaxListeners() to increase limit");cr.name="MaxListenersExceededWarning",cr.emitter=ut,cr.type=lt,cr.count=Zt.length,Gm(cr)}return ut}tt.prototype.addListener=function(ut,lt){return b0(this,ut,lt,!1)};tt.prototype.on=tt.prototype.addListener;tt.prototype.prependListener=function(ut,lt){return b0(this,ut,lt,!0)};function Zm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v0(ut,lt,ht){var _t={fired:!1,wrapFn:void 0,target:ut,type:lt,listener:ht},At=Zm.bind(_t);return At.listener=ht,_t.wrapFn=At,At}tt.prototype.once=function(ut,lt){return Na(lt),this.on(ut,v0(this,ut,lt)),this};tt.prototype.prependOnceListener=function(ut,lt){return Na(lt),this.prependListener(ut,v0(this,ut,lt)),this};tt.prototype.removeListener=function(ut,lt){var ht,_t,At,qt,Zt;if(Na(lt),_t=this._events,_t===void 0)return this;if(ht=_t[ut],ht===void 0)return this;if(ht===lt||ht.listener===lt)--this._eventsCount===0?this._events=Object.create(null):(delete _t[ut],_t.removeListener&&this.emit("removeListener",ut,ht.listener||lt));else if(typeof ht!="function"){for(At=-1,qt=ht.length-1;qt>=0;qt--)if(ht[qt]===lt||ht[qt].listener===lt){Zt=ht[qt].listener,At=qt;break}if(At<0)return this;At===0?ht.shift():$m(ht,At),ht.length===1&&(_t[ut]=ht[0]),_t.removeListener!==void 0&&this.emit("removeListener",ut,Zt||lt)}return this};tt.prototype.off=tt.prototype.removeListener;tt.prototype.removeAllListeners=function(ut){var lt,ht,_t;if(ht=this._events,ht===void 0)return this;if(ht.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):ht[ut]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete ht[ut]),this;if(arguments.length===0){var At=Object.keys(ht),qt;for(_t=0;_t<At.length;++_t)qt=At[_t],qt!=="removeListener"&&this.removeAllListeners(qt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(lt=ht[ut],typeof lt=="function")this.removeListener(ut,lt);else if(lt!==void 0)for(_t=lt.length-1;_t>=0;_t--)this.removeListener(ut,lt[_t]);return this};function A0(ut,lt,ht){var _t=ut._events;if(_t===void 0)return[];var At=_t[lt];return At===void 0?[]:typeof At=="function"?ht?[At.listener||At]:[At]:ht?ey(At):x0(At,At.length)}tt.prototype.listeners=function(ut){return A0(this,ut,!0)};tt.prototype.rawListeners=function(ut){return A0(this,ut,!1)};tt.listenerCount=function(ut,lt){return typeof ut.listenerCount=="function"?ut.listenerCount(lt):w0.call(ut,lt)};tt.prototype.listenerCount=w0;function w0(ut){var lt=this._events;if(lt!==void 0){var ht=lt[ut];if(typeof ht=="function")return 1;if(ht!==void 0)return ht.length}return 0}tt.prototype.eventNames=function(){return this._eventsCount>0?Ws(this._events):[]};function x0(ut,lt){for(var ht=new Array(lt),_t=0;_t<lt;++_t)ht[_t]=ut[_t];return ht}function $m(ut,lt){for(;lt+1<ut.length;lt++)ut[lt]=ut[lt+1];ut.pop()}function ey(ut){for(var lt=new Array(ut.length),ht=0;ht<lt.length;++ht)lt[ht]=ut[ht].listener||ut[ht];return lt}function ty(ut,lt){return new Promise(function(ht,_t){function At(Zt){ut.removeListener(lt,qt),_t(Zt)}function qt(){typeof ut.removeListener=="function"&&ut.removeListener("error",At),ht([].slice.call(arguments))}_0(ut,lt,qt,{once:!0}),lt!=="error"&&ry(ut,At,{once:!0})})}function ry(ut,lt,ht){typeof ut.on=="function"&&_0(ut,"error",lt,ht)}function _0(ut,lt,ht,_t){if(typeof ut.on=="function")_t.once?ut.once(lt,ht):ut.on(lt,ht);else if(typeof ut.addEventListener=="function")ut.addEventListener(lt,function At(qt){_t.once&&ut.removeEventListener(lt,At),ht(qt)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof ut)}class gu extends wi.EventEmitter{constructor(){super(),this.temporaryListeners=[]}on(lt,ht,_t){return super.on(lt,ht),_t&&this.temporaryListeners.push([lt,ht]),()=>{this.off(lt,ht)}}removeTemporaryListeners(){console.log("removeTemporaryListeners CALLED",this,this.temporaryListeners),this.temporaryListeners.forEach(([lt,ht])=>{this.removeListener(lt,ht)}),this.temporaryListeners=[]}}var na={},ny={get exports(){return na},set exports(ut){na=ut}},_l,Lf;function iy(){if(Lf)return _l;Lf=1;var ut=1e3,lt=ut*60,ht=lt*60,_t=ht*24,At=_t*7,qt=_t*365.25;_l=function(xn,On){On=On||{};var ss=typeof xn;if(ss==="string"&&xn.length>0)return Zt(xn);if(ss==="number"&&isFinite(xn))return On.long?Gr(xn):cr(xn);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(xn))};function Zt(xn){if(xn=String(xn),!(xn.length>100)){var On=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(xn);if(On){var ss=parseFloat(On[1]),ls=(On[2]||"ms").toLowerCase();switch(ls){case"years":case"year":case"yrs":case"yr":case"y":return ss*qt;case"weeks":case"week":case"w":return ss*At;case"days":case"day":case"d":return ss*_t;case"hours":case"hour":case"hrs":case"hr":case"h":return ss*ht;case"minutes":case"minute":case"mins":case"min":case"m":return ss*lt;case"seconds":case"second":case"secs":case"sec":case"s":return ss*ut;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return ss;default:return}}}}function cr(xn){var On=Math.abs(xn);return On>=_t?Math.round(xn/_t)+"d":On>=ht?Math.round(xn/ht)+"h":On>=lt?Math.round(xn/lt)+"m":On>=ut?Math.round(xn/ut)+"s":xn+"ms"}function Gr(xn){var On=Math.abs(xn);return On>=_t?Zr(xn,On,_t,"day"):On>=ht?Zr(xn,On,ht,"hour"):On>=lt?Zr(xn,On,lt,"minute"):On>=ut?Zr(xn,On,ut,"second"):xn+" ms"}function Zr(xn,On,ss,ls){var cs=On>=ss*1.5;return Math.round(xn/ss)+" "+ls+(cs?"s":"")}return _l}function oy(ut){ht.debug=ht,ht.default=ht,ht.coerce=Gr,ht.disable=qt,ht.enable=At,ht.enabled=Zt,ht.humanize=iy(),ht.destroy=Zr,Object.keys(ut).forEach(xn=>{ht[xn]=ut[xn]}),ht.names=[],ht.skips=[],ht.formatters={};function lt(xn){let On=0;for(let ss=0;ss<xn.length;ss++)On=(On<<5)-On+xn.charCodeAt(ss),On|=0;return ht.colors[Math.abs(On)%ht.colors.length]}ht.selectColor=lt;function ht(xn){let On,ss=null,ls,cs;function wl(...ep){if(!wl.enabled)return;const Al=wl,np=Number(new Date),cp=np-(On||np);Al.diff=cp,Al.prev=On,Al.curr=np,On=np,ep[0]=ht.coerce(ep[0]),typeof ep[0]!="string"&&ep.unshift("%O");let Cp=0;ep[0]=ep[0].replace(/%([a-zA-Z%])/g,(Lp,jp)=>{if(Lp==="%%")return"%";Cp++;const nm=ht.formatters[jp];if(typeof nm=="function"){const zm=ep[Cp];Lp=nm.call(Al,zm),ep.splice(Cp,1),Cp--}return Lp}),ht.formatArgs.call(Al,ep),(Al.log||ht.log).apply(Al,ep)}return wl.namespace=xn,wl.useColors=ht.useColors(),wl.color=ht.selectColor(xn),wl.extend=_t,wl.destroy=ht.destroy,Object.defineProperty(wl,"enabled",{enumerable:!0,configurable:!1,get:()=>ss!==null?ss:(ls!==ht.namespaces&&(ls=ht.namespaces,cs=ht.enabled(xn)),cs),set:ep=>{ss=ep}}),typeof ht.init=="function"&&ht.init(wl),wl}function _t(xn,On){const ss=ht(this.namespace+(typeof On>"u"?":":On)+xn);return ss.log=this.log,ss}function At(xn){ht.save(xn),ht.namespaces=xn,ht.names=[],ht.skips=[];let On;const ss=(typeof xn=="string"?xn:"").split(/[\s,]+/),ls=ss.length;for(On=0;On<ls;On++)ss[On]&&(xn=ss[On].replace(/\*/g,".*?"),xn[0]==="-"?ht.skips.push(new RegExp("^"+xn.slice(1)+"$")):ht.names.push(new RegExp("^"+xn+"$")))}function qt(){const xn=[...ht.names.map(cr),...ht.skips.map(cr).map(On=>"-"+On)].join(",");return ht.enable(""),xn}function Zt(xn){if(xn[xn.length-1]==="*")return!0;let On,ss;for(On=0,ss=ht.skips.length;On<ss;On++)if(ht.skips[On].test(xn))return!1;for(On=0,ss=ht.names.length;On<ss;On++)if(ht.names[On].test(xn))return!0;return!1}function cr(xn){return xn.toString().substring(2,xn.toString().length-2).replace(/\.\*\?$/,"*")}function Gr(xn){return xn instanceof Error?xn.stack||xn.message:xn}function Zr(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return ht.enable(ht.load()),ht}var sy=oy;(function(ut,lt){lt.formatArgs=_t,lt.save=At,lt.load=qt,lt.useColors=ht,lt.storage=Zt(),lt.destroy=(()=>{let Gr=!1;return()=>{Gr||(Gr=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),lt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ht(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _t(Gr){if(Gr[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+Gr[0]+(this.useColors?"%c ":" ")+"+"+ut.exports.humanize(this.diff),!this.useColors)return;const Zr="color: "+this.color;Gr.splice(1,0,Zr,"color: inherit");let xn=0,On=0;Gr[0].replace(/%[a-zA-Z%]/g,ss=>{ss!=="%%"&&(xn++,ss==="%c"&&(On=xn))}),Gr.splice(On,0,Zr)}lt.log=console.debug||console.log||(()=>{});function At(Gr){try{Gr?lt.storage.setItem("debug",Gr):lt.storage.removeItem("debug")}catch{}}function qt(){let Gr;try{Gr=lt.storage.getItem("debug")}catch{}return!Gr&&typeof api$2<"u"&&"env"in api$2&&(Gr={}.DEBUG),Gr}function Zt(){try{return localStorage}catch{}}ut.exports=sy(lt);const{formatters:cr}=ut.exports;cr.j=function(Gr){try{return JSON.stringify(Gr)}catch(Zr){return"[UnexpectedJSONParseError]: "+Zr.message}}})(ny,na);var ay=function(){if(typeof globalThis>"u")return null;var ut={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return ut.RTCPeerConnection?ut:null},_c={},Bf={get exports(){return _c},set exports(ut){_c=ut}},So={},ly={get exports(){return So},set exports(ut){So=ut}},Ho={},Yo={};Yo.byteLength=fy;Yo.toByteArray=hy;Yo.fromByteArray=my;var _r=[],rr=[],cy=typeof Uint8Array<"u"?Uint8Array:Array,Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $n=0,uy=Sl.length;$n<uy;++$n)_r[$n]=Sl[$n],rr[Sl.charCodeAt($n)]=$n;rr["-".charCodeAt(0)]=62;rr["_".charCodeAt(0)]=63;function S0(ut){var lt=ut.length;if(lt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ht=ut.indexOf("=");ht===-1&&(ht=lt);var _t=ht===lt?0:4-ht%4;return[ht,_t]}function fy(ut){var lt=S0(ut),ht=lt[0],_t=lt[1];return(ht+_t)*3/4-_t}function dy(ut,lt,ht){return(lt+ht)*3/4-ht}function hy(ut){var lt,ht=S0(ut),_t=ht[0],At=ht[1],qt=new cy(dy(ut,_t,At)),Zt=0,cr=At>0?_t-4:_t,Gr;for(Gr=0;Gr<cr;Gr+=4)lt=rr[ut.charCodeAt(Gr)]<<18|rr[ut.charCodeAt(Gr+1)]<<12|rr[ut.charCodeAt(Gr+2)]<<6|rr[ut.charCodeAt(Gr+3)],qt[Zt++]=lt>>16&255,qt[Zt++]=lt>>8&255,qt[Zt++]=lt&255;return At===2&&(lt=rr[ut.charCodeAt(Gr)]<<2|rr[ut.charCodeAt(Gr+1)]>>4,qt[Zt++]=lt&255),At===1&&(lt=rr[ut.charCodeAt(Gr)]<<10|rr[ut.charCodeAt(Gr+1)]<<4|rr[ut.charCodeAt(Gr+2)]>>2,qt[Zt++]=lt>>8&255,qt[Zt++]=lt&255),qt}function py$1(ut){return _r[ut>>18&63]+_r[ut>>12&63]+_r[ut>>6&63]+_r[ut&63]}function gy(ut,lt,ht){for(var _t,At=[],qt=lt;qt<ht;qt+=3)_t=(ut[qt]<<16&16711680)+(ut[qt+1]<<8&65280)+(ut[qt+2]&255),At.push(py$1(_t));return At.join("")}function my(ut){for(var lt,ht=ut.length,_t=ht%3,At=[],qt=16383,Zt=0,cr=ht-_t;Zt<cr;Zt+=qt)At.push(gy(ut,Zt,Zt+qt>cr?cr:Zt+qt));return _t===1?(lt=ut[ht-1],At.push(_r[lt>>2]+_r[lt<<4&63]+"==")):_t===2&&(lt=(ut[ht-2]<<8)+ut[ht-1],At.push(_r[lt>>10]+_r[lt>>4&63]+_r[lt<<2&63]+"=")),At.join("")}var La={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */La.read=function(ut,lt,ht,_t,At){var qt,Zt,cr=At*8-_t-1,Gr=(1<<cr)-1,Zr=Gr>>1,xn=-7,On=ht?At-1:0,ss=ht?-1:1,ls=ut[lt+On];for(On+=ss,qt=ls&(1<<-xn)-1,ls>>=-xn,xn+=cr;xn>0;qt=qt*256+ut[lt+On],On+=ss,xn-=8);for(Zt=qt&(1<<-xn)-1,qt>>=-xn,xn+=_t;xn>0;Zt=Zt*256+ut[lt+On],On+=ss,xn-=8);if(qt===0)qt=1-Zr;else{if(qt===Gr)return Zt?NaN:(ls?-1:1)*(1/0);Zt=Zt+Math.pow(2,_t),qt=qt-Zr}return(ls?-1:1)*Zt*Math.pow(2,qt-_t)};La.write=function(ut,lt,ht,_t,At,qt){var Zt,cr,Gr,Zr=qt*8-At-1,xn=(1<<Zr)-1,On=xn>>1,ss=At===23?Math.pow(2,-24)-Math.pow(2,-77):0,ls=_t?0:qt-1,cs=_t?1:-1,wl=lt<0||lt===0&&1/lt<0?1:0;for(lt=Math.abs(lt),isNaN(lt)||lt===1/0?(cr=isNaN(lt)?1:0,Zt=xn):(Zt=Math.floor(Math.log(lt)/Math.LN2),lt*(Gr=Math.pow(2,-Zt))<1&&(Zt--,Gr*=2),Zt+On>=1?lt+=ss/Gr:lt+=ss*Math.pow(2,1-On),lt*Gr>=2&&(Zt++,Gr/=2),Zt+On>=xn?(cr=0,Zt=xn):Zt+On>=1?(cr=(lt*Gr-1)*Math.pow(2,At),Zt=Zt+On):(cr=lt*Math.pow(2,On-1)*Math.pow(2,At),Zt=0));At>=8;ut[ht+ls]=cr&255,ls+=cs,cr/=256,At-=8);for(Zt=Zt<<At|cr,Zr+=At;Zr>0;ut[ht+ls]=Zt&255,ls+=cs,Zt/=256,Zr-=8);ut[ht+ls-cs]|=wl*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(ut){var lt=Yo,ht=La,_t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ut.Buffer=cr,ut.SlowBuffer=np,ut.INSPECT_MAX_BYTES=50;var At=2147483647;ut.kMaxLength=At,cr.TYPED_ARRAY_SUPPORT=qt(),!cr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qt(){try{var Dp=new Uint8Array(1),a1={foo:function(){return 42}};return Object.setPrototypeOf(a1,Uint8Array.prototype),Object.setPrototypeOf(Dp,a1),Dp.foo()===42}catch{return!1}}Object.defineProperty(cr.prototype,"parent",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.buffer}}),Object.defineProperty(cr.prototype,"offset",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.byteOffset}});function Zt(Dp){if(Dp>At)throw new RangeError('The value "'+Dp+'" is invalid for option "size"');var a1=new Uint8Array(Dp);return Object.setPrototypeOf(a1,cr.prototype),a1}function cr(Dp,a1,zp){if(typeof Dp=="number"){if(typeof a1=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return On(Dp)}return Gr(Dp,a1,zp)}cr.poolSize=8192;function Gr(Dp,a1,zp){if(typeof Dp=="string")return ss(Dp,a1);if(ArrayBuffer.isView(Dp))return cs(Dp);if(Dp==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dp);if(W_(Dp,ArrayBuffer)||Dp&&W_(Dp.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W_(Dp,SharedArrayBuffer)||Dp&&W_(Dp.buffer,SharedArrayBuffer)))return wl(Dp,a1,zp);if(typeof Dp=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var v3=Dp.valueOf&&Dp.valueOf();if(v3!=null&&v3!==Dp)return cr.from(v3,a1,zp);var Mw=ep(Dp);if(Mw)return Mw;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Dp[Symbol.toPrimitive]=="function")return cr.from(Dp[Symbol.toPrimitive]("string"),a1,zp);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Dp)}cr.from=function(Dp,a1,zp){return Gr(Dp,a1,zp)},Object.setPrototypeOf(cr.prototype,Uint8Array.prototype),Object.setPrototypeOf(cr,Uint8Array);function Zr(Dp){if(typeof Dp!="number")throw new TypeError('"size" argument must be of type number');if(Dp<0)throw new RangeError('The value "'+Dp+'" is invalid for option "size"')}function xn(Dp,a1,zp){return Zr(Dp),Dp<=0?Zt(Dp):a1!==void 0?typeof zp=="string"?Zt(Dp).fill(a1,zp):Zt(Dp).fill(a1):Zt(Dp)}cr.alloc=function(Dp,a1,zp){return xn(Dp,a1,zp)};function On(Dp){return Zr(Dp),Zt(Dp<0?0:Al(Dp)|0)}cr.allocUnsafe=function(Dp){return On(Dp)},cr.allocUnsafeSlow=function(Dp){return On(Dp)};function ss(Dp,a1){if((typeof a1!="string"||a1==="")&&(a1="utf8"),!cr.isEncoding(a1))throw new TypeError("Unknown encoding: "+a1);var zp=cp(Dp,a1)|0,v3=Zt(zp),Mw=v3.write(Dp,a1);return Mw!==zp&&(v3=v3.slice(0,Mw)),v3}function ls(Dp){for(var a1=Dp.length<0?0:Al(Dp.length)|0,zp=Zt(a1),v3=0;v3<a1;v3+=1)zp[v3]=Dp[v3]&255;return zp}function cs(Dp){if(W_(Dp,Uint8Array)){var a1=new Uint8Array(Dp);return wl(a1.buffer,a1.byteOffset,a1.byteLength)}return ls(Dp)}function wl(Dp,a1,zp){if(a1<0||Dp.byteLength<a1)throw new RangeError('"offset" is outside of buffer bounds');if(Dp.byteLength<a1+(zp||0))throw new RangeError('"length" is outside of buffer bounds');var v3;return a1===void 0&&zp===void 0?v3=new Uint8Array(Dp):zp===void 0?v3=new Uint8Array(Dp,a1):v3=new Uint8Array(Dp,a1,zp),Object.setPrototypeOf(v3,cr.prototype),v3}function ep(Dp){if(cr.isBuffer(Dp)){var a1=Al(Dp.length)|0,zp=Zt(a1);return zp.length===0||Dp.copy(zp,0,0,a1),zp}if(Dp.length!==void 0)return typeof Dp.length!="number"||t4(Dp.length)?Zt(0):ls(Dp);if(Dp.type==="Buffer"&&Array.isArray(Dp.data))return ls(Dp.data)}function Al(Dp){if(Dp>=At)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+At.toString(16)+" bytes");return Dp|0}function np(Dp){return+Dp!=Dp&&(Dp=0),cr.alloc(+Dp)}cr.isBuffer=function(Dp){return Dp!=null&&Dp._isBuffer===!0&&Dp!==cr.prototype},cr.compare=function(Dp,a1){if(W_(Dp,Uint8Array)&&(Dp=cr.from(Dp,Dp.offset,Dp.byteLength)),W_(a1,Uint8Array)&&(a1=cr.from(a1,a1.offset,a1.byteLength)),!cr.isBuffer(Dp)||!cr.isBuffer(a1))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Dp===a1)return 0;for(var zp=Dp.length,v3=a1.length,Mw=0,nw=Math.min(zp,v3);Mw<nw;++Mw)if(Dp[Mw]!==a1[Mw]){zp=Dp[Mw],v3=a1[Mw];break}return zp<v3?-1:v3<zp?1:0},cr.isEncoding=function(Dp){switch(String(Dp).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(Dp,a1){if(!Array.isArray(Dp))throw new TypeError('"list" argument must be an Array of Buffers');if(Dp.length===0)return cr.alloc(0);var zp;if(a1===void 0)for(a1=0,zp=0;zp<Dp.length;++zp)a1+=Dp[zp].length;var v3=cr.allocUnsafe(a1),Mw=0;for(zp=0;zp<Dp.length;++zp){var nw=Dp[zp];if(W_(nw,Uint8Array))Mw+nw.length>v3.length?cr.from(nw).copy(v3,Mw):Uint8Array.prototype.set.call(v3,nw,Mw);else if(cr.isBuffer(nw))nw.copy(v3,Mw);else throw new TypeError('"list" argument must be an Array of Buffers');Mw+=nw.length}return v3};function cp(Dp,a1){if(cr.isBuffer(Dp))return Dp.length;if(ArrayBuffer.isView(Dp)||W_(Dp,ArrayBuffer))return Dp.byteLength;if(typeof Dp!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Dp);var zp=Dp.length,v3=arguments.length>2&&arguments[2]===!0;if(!v3&&zp===0)return 0;for(var Mw=!1;;)switch(a1){case"ascii":case"latin1":case"binary":return zp;case"utf8":case"utf-8":return Jm(Dp).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zp*2;case"hex":return zp>>>1;case"base64":return h3(Dp).length;default:if(Mw)return v3?-1:Jm(Dp).length;a1=(""+a1).toLowerCase(),Mw=!0}}cr.byteLength=cp;function Cp(Dp,a1,zp){var v3=!1;if((a1===void 0||a1<0)&&(a1=0),a1>this.length||((zp===void 0||zp>this.length)&&(zp=this.length),zp<=0)||(zp>>>=0,a1>>>=0,zp<=a1))return"";for(Dp||(Dp="utf8");;)switch(Dp){case"hex":return pu(this,a1,zp);case"utf8":case"utf-8":return as(this,a1,zp);case"ascii":return ip(this,a1,zp);case"latin1":case"binary":return lp(this,a1,zp);case"base64":return Fo(this,a1,zp);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return go(this,a1,zp);default:if(v3)throw new TypeError("Unknown encoding: "+Dp);Dp=(Dp+"").toLowerCase(),v3=!0}}cr.prototype._isBuffer=!0;function Lp(Dp,a1,zp){var v3=Dp[a1];Dp[a1]=Dp[zp],Dp[zp]=v3}cr.prototype.swap16=function(){var Dp=this.length;if(Dp%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var a1=0;a1<Dp;a1+=2)Lp(this,a1,a1+1);return this},cr.prototype.swap32=function(){var Dp=this.length;if(Dp%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var a1=0;a1<Dp;a1+=4)Lp(this,a1,a1+3),Lp(this,a1+1,a1+2);return this},cr.prototype.swap64=function(){var Dp=this.length;if(Dp%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var a1=0;a1<Dp;a1+=8)Lp(this,a1,a1+7),Lp(this,a1+1,a1+6),Lp(this,a1+2,a1+5),Lp(this,a1+3,a1+4);return this},cr.prototype.toString=function(){var Dp=this.length;return Dp===0?"":arguments.length===0?as(this,0,Dp):Cp.apply(this,arguments)},cr.prototype.toLocaleString=cr.prototype.toString,cr.prototype.equals=function(Dp){if(!cr.isBuffer(Dp))throw new TypeError("Argument must be a Buffer");return this===Dp?!0:cr.compare(this,Dp)===0},cr.prototype.inspect=function(){var Dp="",a1=ut.INSPECT_MAX_BYTES;return Dp=this.toString("hex",0,a1).replace(/(.{2})/g,"$1 ").trim(),this.length>a1&&(Dp+=" ... "),"<Buffer "+Dp+">"},_t&&(cr.prototype[_t]=cr.prototype.inspect),cr.prototype.compare=function(Dp,a1,zp,v3,Mw){if(W_(Dp,Uint8Array)&&(Dp=cr.from(Dp,Dp.offset,Dp.byteLength)),!cr.isBuffer(Dp))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Dp);if(a1===void 0&&(a1=0),zp===void 0&&(zp=Dp?Dp.length:0),v3===void 0&&(v3=0),Mw===void 0&&(Mw=this.length),a1<0||zp>Dp.length||v3<0||Mw>this.length)throw new RangeError("out of range index");if(v3>=Mw&&a1>=zp)return 0;if(v3>=Mw)return-1;if(a1>=zp)return 1;if(a1>>>=0,zp>>>=0,v3>>>=0,Mw>>>=0,this===Dp)return 0;for(var nw=Mw-v3,n4=zp-a1,Ww=Math.min(nw,n4),F_=this.slice(v3,Mw),qx=Dp.slice(a1,zp),nM=0;nM<Ww;++nM)if(F_[nM]!==qx[nM]){nw=F_[nM],n4=qx[nM];break}return nw<n4?-1:n4<nw?1:0};function jp(Dp,a1,zp,v3,Mw){if(Dp.length===0)return-1;if(typeof zp=="string"?(v3=zp,zp=0):zp>2147483647?zp=2147483647:zp<-2147483648&&(zp=-2147483648),zp=+zp,t4(zp)&&(zp=Mw?0:Dp.length-1),zp<0&&(zp=Dp.length+zp),zp>=Dp.length){if(Mw)return-1;zp=Dp.length-1}else if(zp<0)if(Mw)zp=0;else return-1;if(typeof a1=="string"&&(a1=cr.from(a1,v3)),cr.isBuffer(a1))return a1.length===0?-1:nm(Dp,a1,zp,v3,Mw);if(typeof a1=="number")return a1=a1&255,typeof Uint8Array.prototype.indexOf=="function"?Mw?Uint8Array.prototype.indexOf.call(Dp,a1,zp):Uint8Array.prototype.lastIndexOf.call(Dp,a1,zp):nm(Dp,[a1],zp,v3,Mw);throw new TypeError("val must be string, number or Buffer")}function nm(Dp,a1,zp,v3,Mw){var nw=1,n4=Dp.length,Ww=a1.length;if(v3!==void 0&&(v3=String(v3).toLowerCase(),v3==="ucs2"||v3==="ucs-2"||v3==="utf16le"||v3==="utf-16le")){if(Dp.length<2||a1.length<2)return-1;nw=2,n4/=2,Ww/=2,zp/=2}function F_(Q_,Uw){return nw===1?Q_[Uw]:Q_.readUInt16BE(Uw*nw)}var qx;if(Mw){var nM=-1;for(qx=zp;qx<n4;qx++)if(F_(Dp,qx)===F_(a1,nM===-1?0:qx-nM)){if(nM===-1&&(nM=qx),qx-nM+1===Ww)return nM*nw}else nM!==-1&&(qx-=qx-nM),nM=-1}else for(zp+Ww>n4&&(zp=n4-Ww),qx=zp;qx>=0;qx--){for(var Hm=!0,y3=0;y3<Ww;y3++)if(F_(Dp,qx+y3)!==F_(a1,y3)){Hm=!1;break}if(Hm)return qx}return-1}cr.prototype.includes=function(Dp,a1,zp){return this.indexOf(Dp,a1,zp)!==-1},cr.prototype.indexOf=function(Dp,a1,zp){return jp(this,Dp,a1,zp,!0)},cr.prototype.lastIndexOf=function(Dp,a1,zp){return jp(this,Dp,a1,zp,!1)};function zm(Dp,a1,zp,v3){zp=Number(zp)||0;var Mw=Dp.length-zp;v3?(v3=Number(v3),v3>Mw&&(v3=Mw)):v3=Mw;var nw=a1.length;v3>nw/2&&(v3=nw/2);for(var n4=0;n4<v3;++n4){var Ww=parseInt(a1.substr(n4*2,2),16);if(t4(Ww))return n4;Dp[zp+n4]=Ww}return n4}function i1(Dp,a1,zp,v3){return Fp(Jm(a1,Dp.length-zp),Dp,zp,v3)}function d3(Dp,a1,zp,v3){return Fp($_(a1),Dp,zp,v3)}function op(Dp,a1,zp,v3){return Fp(h3(a1),Dp,zp,v3)}function Sn(Dp,a1,zp,v3){return Fp(j_(a1,Dp.length-zp),Dp,zp,v3)}cr.prototype.write=function(Dp,a1,zp,v3){if(a1===void 0)v3="utf8",zp=this.length,a1=0;else if(zp===void 0&&typeof a1=="string")v3=a1,zp=this.length,a1=0;else if(isFinite(a1))a1=a1>>>0,isFinite(zp)?(zp=zp>>>0,v3===void 0&&(v3="utf8")):(v3=zp,zp=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Mw=this.length-a1;if((zp===void 0||zp>Mw)&&(zp=Mw),Dp.length>0&&(zp<0||a1<0)||a1>this.length)throw new RangeError("Attempt to write outside buffer bounds");v3||(v3="utf8");for(var nw=!1;;)switch(v3){case"hex":return zm(this,Dp,a1,zp);case"utf8":case"utf-8":return i1(this,Dp,a1,zp);case"ascii":case"latin1":case"binary":return d3(this,Dp,a1,zp);case"base64":return op(this,Dp,a1,zp);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,Dp,a1,zp);default:if(nw)throw new TypeError("Unknown encoding: "+v3);v3=(""+v3).toLowerCase(),nw=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fo(Dp,a1,zp){return a1===0&&zp===Dp.length?lt.fromByteArray(Dp):lt.fromByteArray(Dp.slice(a1,zp))}function as(Dp,a1,zp){zp=Math.min(Dp.length,zp);for(var v3=[],Mw=a1;Mw<zp;){var nw=Dp[Mw],n4=null,Ww=nw>239?4:nw>223?3:nw>191?2:1;if(Mw+Ww<=zp){var F_,qx,nM,Hm;switch(Ww){case 1:nw<128&&(n4=nw);break;case 2:F_=Dp[Mw+1],(F_&192)===128&&(Hm=(nw&31)<<6|F_&63,Hm>127&&(n4=Hm));break;case 3:F_=Dp[Mw+1],qx=Dp[Mw+2],(F_&192)===128&&(qx&192)===128&&(Hm=(nw&15)<<12|(F_&63)<<6|qx&63,Hm>2047&&(Hm<55296||Hm>57343)&&(n4=Hm));break;case 4:F_=Dp[Mw+1],qx=Dp[Mw+2],nM=Dp[Mw+3],(F_&192)===128&&(qx&192)===128&&(nM&192)===128&&(Hm=(nw&15)<<18|(F_&63)<<12|(qx&63)<<6|nM&63,Hm>65535&&Hm<1114112&&(n4=Hm))}}n4===null?(n4=65533,Ww=1):n4>65535&&(n4-=65536,v3.push(n4>>>10&1023|55296),n4=56320|n4&1023),v3.push(n4),Mw+=Ww}return xl(v3)}var us=4096;function xl(Dp){var a1=Dp.length;if(a1<=us)return String.fromCharCode.apply(String,Dp);for(var zp="",v3=0;v3<a1;)zp+=String.fromCharCode.apply(String,Dp.slice(v3,v3+=us));return zp}function ip(Dp,a1,zp){var v3="";zp=Math.min(Dp.length,zp);for(var Mw=a1;Mw<zp;++Mw)v3+=String.fromCharCode(Dp[Mw]&127);return v3}function lp(Dp,a1,zp){var v3="";zp=Math.min(Dp.length,zp);for(var Mw=a1;Mw<zp;++Mw)v3+=String.fromCharCode(Dp[Mw]);return v3}function pu(Dp,a1,zp){var v3=Dp.length;(!a1||a1<0)&&(a1=0),(!zp||zp<0||zp>v3)&&(zp=v3);for(var Mw="",nw=a1;nw<zp;++nw)Mw+=Nw[Dp[nw]];return Mw}function go(Dp,a1,zp){for(var v3=Dp.slice(a1,zp),Mw="",nw=0;nw<v3.length-1;nw+=2)Mw+=String.fromCharCode(v3[nw]+v3[nw+1]*256);return Mw}cr.prototype.slice=function(Dp,a1){var zp=this.length;Dp=~~Dp,a1=a1===void 0?zp:~~a1,Dp<0?(Dp+=zp,Dp<0&&(Dp=0)):Dp>zp&&(Dp=zp),a1<0?(a1+=zp,a1<0&&(a1=0)):a1>zp&&(a1=zp),a1<Dp&&(a1=Dp);var v3=this.subarray(Dp,a1);return Object.setPrototypeOf(v3,cr.prototype),v3};function h0(Dp,a1,zp){if(Dp%1!==0||Dp<0)throw new RangeError("offset is not uint");if(Dp+a1>zp)throw new RangeError("Trying to access beyond buffer length")}cr.prototype.readUintLE=cr.prototype.readUIntLE=function(Dp,a1,zp){Dp=Dp>>>0,a1=a1>>>0,zp||h0(Dp,a1,this.length);for(var v3=this[Dp],Mw=1,nw=0;++nw<a1&&(Mw*=256);)v3+=this[Dp+nw]*Mw;return v3},cr.prototype.readUintBE=cr.prototype.readUIntBE=function(Dp,a1,zp){Dp=Dp>>>0,a1=a1>>>0,zp||h0(Dp,a1,this.length);for(var v3=this[Dp+--a1],Mw=1;a1>0&&(Mw*=256);)v3+=this[Dp+--a1]*Mw;return v3},cr.prototype.readUint8=cr.prototype.readUInt8=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,1,this.length),this[Dp]},cr.prototype.readUint16LE=cr.prototype.readUInt16LE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,2,this.length),this[Dp]|this[Dp+1]<<8},cr.prototype.readUint16BE=cr.prototype.readUInt16BE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,2,this.length),this[Dp]<<8|this[Dp+1]},cr.prototype.readUint32LE=cr.prototype.readUInt32LE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),(this[Dp]|this[Dp+1]<<8|this[Dp+2]<<16)+this[Dp+3]*16777216},cr.prototype.readUint32BE=cr.prototype.readUInt32BE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),this[Dp]*16777216+(this[Dp+1]<<16|this[Dp+2]<<8|this[Dp+3])},cr.prototype.readIntLE=function(Dp,a1,zp){Dp=Dp>>>0,a1=a1>>>0,zp||h0(Dp,a1,this.length);for(var v3=this[Dp],Mw=1,nw=0;++nw<a1&&(Mw*=256);)v3+=this[Dp+nw]*Mw;return Mw*=128,v3>=Mw&&(v3-=Math.pow(2,8*a1)),v3},cr.prototype.readIntBE=function(Dp,a1,zp){Dp=Dp>>>0,a1=a1>>>0,zp||h0(Dp,a1,this.length);for(var v3=a1,Mw=1,nw=this[Dp+--v3];v3>0&&(Mw*=256);)nw+=this[Dp+--v3]*Mw;return Mw*=128,nw>=Mw&&(nw-=Math.pow(2,8*a1)),nw},cr.prototype.readInt8=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,1,this.length),this[Dp]&128?(255-this[Dp]+1)*-1:this[Dp]},cr.prototype.readInt16LE=function(Dp,a1){Dp=Dp>>>0,a1||h0(Dp,2,this.length);var zp=this[Dp]|this[Dp+1]<<8;return zp&32768?zp|4294901760:zp},cr.prototype.readInt16BE=function(Dp,a1){Dp=Dp>>>0,a1||h0(Dp,2,this.length);var zp=this[Dp+1]|this[Dp]<<8;return zp&32768?zp|4294901760:zp},cr.prototype.readInt32LE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),this[Dp]|this[Dp+1]<<8|this[Dp+2]<<16|this[Dp+3]<<24},cr.prototype.readInt32BE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),this[Dp]<<24|this[Dp+1]<<16|this[Dp+2]<<8|this[Dp+3]},cr.prototype.readFloatLE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),ht.read(this,Dp,!0,23,4)},cr.prototype.readFloatBE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,4,this.length),ht.read(this,Dp,!1,23,4)},cr.prototype.readDoubleLE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,8,this.length),ht.read(this,Dp,!0,52,8)},cr.prototype.readDoubleBE=function(Dp,a1){return Dp=Dp>>>0,a1||h0(Dp,8,this.length),ht.read(this,Dp,!1,52,8)};function kp(Dp,a1,zp,v3,Mw,nw){if(!cr.isBuffer(Dp))throw new TypeError('"buffer" argument must be a Buffer instance');if(a1>Mw||a1<nw)throw new RangeError('"value" argument is out of bounds');if(zp+v3>Dp.length)throw new RangeError("Index out of range")}cr.prototype.writeUintLE=cr.prototype.writeUIntLE=function(Dp,a1,zp,v3){if(Dp=+Dp,a1=a1>>>0,zp=zp>>>0,!v3){var Mw=Math.pow(2,8*zp)-1;kp(this,Dp,a1,zp,Mw,0)}var nw=1,n4=0;for(this[a1]=Dp&255;++n4<zp&&(nw*=256);)this[a1+n4]=Dp/nw&255;return a1+zp},cr.prototype.writeUintBE=cr.prototype.writeUIntBE=function(Dp,a1,zp,v3){if(Dp=+Dp,a1=a1>>>0,zp=zp>>>0,!v3){var Mw=Math.pow(2,8*zp)-1;kp(this,Dp,a1,zp,Mw,0)}var nw=zp-1,n4=1;for(this[a1+nw]=Dp&255;--nw>=0&&(n4*=256);)this[a1+nw]=Dp/n4&255;return a1+zp},cr.prototype.writeUint8=cr.prototype.writeUInt8=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,1,255,0),this[a1]=Dp&255,a1+1},cr.prototype.writeUint16LE=cr.prototype.writeUInt16LE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,2,65535,0),this[a1]=Dp&255,this[a1+1]=Dp>>>8,a1+2},cr.prototype.writeUint16BE=cr.prototype.writeUInt16BE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,2,65535,0),this[a1]=Dp>>>8,this[a1+1]=Dp&255,a1+2},cr.prototype.writeUint32LE=cr.prototype.writeUInt32LE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,4,4294967295,0),this[a1+3]=Dp>>>24,this[a1+2]=Dp>>>16,this[a1+1]=Dp>>>8,this[a1]=Dp&255,a1+4},cr.prototype.writeUint32BE=cr.prototype.writeUInt32BE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,4,4294967295,0),this[a1]=Dp>>>24,this[a1+1]=Dp>>>16,this[a1+2]=Dp>>>8,this[a1+3]=Dp&255,a1+4},cr.prototype.writeIntLE=function(Dp,a1,zp,v3){if(Dp=+Dp,a1=a1>>>0,!v3){var Mw=Math.pow(2,8*zp-1);kp(this,Dp,a1,zp,Mw-1,-Mw)}var nw=0,n4=1,Ww=0;for(this[a1]=Dp&255;++nw<zp&&(n4*=256);)Dp<0&&Ww===0&&this[a1+nw-1]!==0&&(Ww=1),this[a1+nw]=(Dp/n4>>0)-Ww&255;return a1+zp},cr.prototype.writeIntBE=function(Dp,a1,zp,v3){if(Dp=+Dp,a1=a1>>>0,!v3){var Mw=Math.pow(2,8*zp-1);kp(this,Dp,a1,zp,Mw-1,-Mw)}var nw=zp-1,n4=1,Ww=0;for(this[a1+nw]=Dp&255;--nw>=0&&(n4*=256);)Dp<0&&Ww===0&&this[a1+nw+1]!==0&&(Ww=1),this[a1+nw]=(Dp/n4>>0)-Ww&255;return a1+zp},cr.prototype.writeInt8=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,1,127,-128),Dp<0&&(Dp=255+Dp+1),this[a1]=Dp&255,a1+1},cr.prototype.writeInt16LE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,2,32767,-32768),this[a1]=Dp&255,this[a1+1]=Dp>>>8,a1+2},cr.prototype.writeInt16BE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,2,32767,-32768),this[a1]=Dp>>>8,this[a1+1]=Dp&255,a1+2},cr.prototype.writeInt32LE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,4,2147483647,-2147483648),this[a1]=Dp&255,this[a1+1]=Dp>>>8,this[a1+2]=Dp>>>16,this[a1+3]=Dp>>>24,a1+4},cr.prototype.writeInt32BE=function(Dp,a1,zp){return Dp=+Dp,a1=a1>>>0,zp||kp(this,Dp,a1,4,2147483647,-2147483648),Dp<0&&(Dp=4294967295+Dp+1),this[a1]=Dp>>>24,this[a1+1]=Dp>>>16,this[a1+2]=Dp>>>8,this[a1+3]=Dp&255,a1+4};function cm(Dp,a1,zp,v3,Mw,nw){if(zp+v3>Dp.length)throw new RangeError("Index out of range");if(zp<0)throw new RangeError("Index out of range")}function b3(Dp,a1,zp,v3,Mw){return a1=+a1,zp=zp>>>0,Mw||cm(Dp,a1,zp,4),ht.write(Dp,a1,zp,v3,23,4),zp+4}cr.prototype.writeFloatLE=function(Dp,a1,zp){return b3(this,Dp,a1,!0,zp)},cr.prototype.writeFloatBE=function(Dp,a1,zp){return b3(this,Dp,a1,!1,zp)};function L_(Dp,a1,zp,v3,Mw){return a1=+a1,zp=zp>>>0,Mw||cm(Dp,a1,zp,8),ht.write(Dp,a1,zp,v3,52,8),zp+8}cr.prototype.writeDoubleLE=function(Dp,a1,zp){return L_(this,Dp,a1,!0,zp)},cr.prototype.writeDoubleBE=function(Dp,a1,zp){return L_(this,Dp,a1,!1,zp)},cr.prototype.copy=function(Dp,a1,zp,v3){if(!cr.isBuffer(Dp))throw new TypeError("argument should be a Buffer");if(zp||(zp=0),!v3&&v3!==0&&(v3=this.length),a1>=Dp.length&&(a1=Dp.length),a1||(a1=0),v3>0&&v3<zp&&(v3=zp),v3===zp||Dp.length===0||this.length===0)return 0;if(a1<0)throw new RangeError("targetStart out of bounds");if(zp<0||zp>=this.length)throw new RangeError("Index out of range");if(v3<0)throw new RangeError("sourceEnd out of bounds");v3>this.length&&(v3=this.length),Dp.length-a1<v3-zp&&(v3=Dp.length-a1+zp);var Mw=v3-zp;return this===Dp&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a1,zp,v3):Uint8Array.prototype.set.call(Dp,this.subarray(zp,v3),a1),Mw},cr.prototype.fill=function(Dp,a1,zp,v3){if(typeof Dp=="string"){if(typeof a1=="string"?(v3=a1,a1=0,zp=this.length):typeof zp=="string"&&(v3=zp,zp=this.length),v3!==void 0&&typeof v3!="string")throw new TypeError("encoding must be a string");if(typeof v3=="string"&&!cr.isEncoding(v3))throw new TypeError("Unknown encoding: "+v3);if(Dp.length===1){var Mw=Dp.charCodeAt(0);(v3==="utf8"&&Mw<128||v3==="latin1")&&(Dp=Mw)}}else typeof Dp=="number"?Dp=Dp&255:typeof Dp=="boolean"&&(Dp=Number(Dp));if(a1<0||this.length<a1||this.length<zp)throw new RangeError("Out of range index");if(zp<=a1)return this;a1=a1>>>0,zp=zp===void 0?this.length:zp>>>0,Dp||(Dp=0);var nw;if(typeof Dp=="number")for(nw=a1;nw<zp;++nw)this[nw]=Dp;else{var n4=cr.isBuffer(Dp)?Dp:cr.from(Dp,v3),Ww=n4.length;if(Ww===0)throw new TypeError('The value "'+Dp+'" is invalid for argument "value"');for(nw=0;nw<zp-a1;++nw)this[nw+a1]=n4[nw%Ww]}return this};var Ym=/[^+/0-9A-Za-z-_]/g;function Xm(Dp){if(Dp=Dp.split("=")[0],Dp=Dp.trim().replace(Ym,""),Dp.length<2)return"";for(;Dp.length%4!==0;)Dp=Dp+"=";return Dp}function Jm(Dp,a1){a1=a1||1/0;for(var zp,v3=Dp.length,Mw=null,nw=[],n4=0;n4<v3;++n4){if(zp=Dp.charCodeAt(n4),zp>55295&&zp<57344){if(!Mw){if(zp>56319){(a1-=3)>-1&&nw.push(239,191,189);continue}else if(n4+1===v3){(a1-=3)>-1&&nw.push(239,191,189);continue}Mw=zp;continue}if(zp<56320){(a1-=3)>-1&&nw.push(239,191,189),Mw=zp;continue}zp=(Mw-55296<<10|zp-56320)+65536}else Mw&&(a1-=3)>-1&&nw.push(239,191,189);if(Mw=null,zp<128){if((a1-=1)<0)break;nw.push(zp)}else if(zp<2048){if((a1-=2)<0)break;nw.push(zp>>6|192,zp&63|128)}else if(zp<65536){if((a1-=3)<0)break;nw.push(zp>>12|224,zp>>6&63|128,zp&63|128)}else if(zp<1114112){if((a1-=4)<0)break;nw.push(zp>>18|240,zp>>12&63|128,zp>>6&63|128,zp&63|128)}else throw new Error("Invalid code point")}return nw}function $_(Dp){for(var a1=[],zp=0;zp<Dp.length;++zp)a1.push(Dp.charCodeAt(zp)&255);return a1}function j_(Dp,a1){for(var zp,v3,Mw,nw=[],n4=0;n4<Dp.length&&!((a1-=2)<0);++n4)zp=Dp.charCodeAt(n4),v3=zp>>8,Mw=zp%256,nw.push(Mw),nw.push(v3);return nw}function h3(Dp){return lt.toByteArray(Xm(Dp))}function Fp(Dp,a1,zp,v3){for(var Mw=0;Mw<v3&&!(Mw+zp>=a1.length||Mw>=Dp.length);++Mw)a1[Mw+zp]=Dp[Mw];return Mw}function W_(Dp,a1){return Dp instanceof a1||Dp!=null&&Dp.constructor!=null&&Dp.constructor.name!=null&&Dp.constructor.name===a1.name}function t4(Dp){return Dp!==Dp}var Nw=function(){for(var Dp="0123456789abcdef",a1=new Array(256),zp=0;zp<16;++zp)for(var v3=zp*16,Mw=0;Mw<16;++Mw)a1[v3+Mw]=Dp[zp]+Dp[Mw];return a1}()})(Ho);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(ut,lt){var ht=Ho,_t=ht.Buffer;function At(Zt,cr){for(var Gr in Zt)cr[Gr]=Zt[Gr]}_t.from&&_t.alloc&&_t.allocUnsafe&&_t.allocUnsafeSlow?ut.exports=ht:(At(ht,lt),lt.Buffer=qt);function qt(Zt,cr,Gr){return _t(Zt,cr,Gr)}qt.prototype=Object.create(_t.prototype),At(_t,qt),qt.from=function(Zt,cr,Gr){if(typeof Zt=="number")throw new TypeError("Argument must not be a number");return _t(Zt,cr,Gr)},qt.alloc=function(Zt,cr,Gr){if(typeof Zt!="number")throw new TypeError("Argument must be a number");var Zr=_t(Zt);return cr!==void 0?typeof Gr=="string"?Zr.fill(cr,Gr):Zr.fill(cr):Zr.fill(0),Zr},qt.allocUnsafe=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return _t(Zt)},qt.allocUnsafeSlow=function(Zt){if(typeof Zt!="number")throw new TypeError("Argument must be a number");return ht.SlowBuffer(Zt)}})(ly,So);var El=65536,yy=4294967295;function by(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var vy=So.Buffer,ia=globalThis.crypto||globalThis.msCrypto;ia&&ia.getRandomValues?Bf.exports=Ay:Bf.exports=by;function Ay(ut,lt){if(ut>yy)throw new RangeError("requested too many random bytes");var ht=vy.allocUnsafe(ut);if(ut>0)if(ut>El)for(var _t=0;_t<ut;_t+=El)ia.getRandomValues(ht.slice(_t,_t+El));else ia.getRandomValues(ht);return typeof lt=="function"?api$2.nextTick(function(){lt(null,ht)}):ht}var oa={},wy={get exports(){return oa},set exports(ut){oa=ut}},E0=wi.EventEmitter;const xy={},_y$1=Object.freeze(Object.defineProperty({__proto__:null,default:xy},Symbol.toStringTag,{value:"Module"})),k0=g0(_y$1);var kl,Ff;function Sy(){if(Ff)return kl;Ff=1;function ut(ss,ls){var cs=Object.keys(ss);if(Object.getOwnPropertySymbols){var wl=Object.getOwnPropertySymbols(ss);ls&&(wl=wl.filter(function(ep){return Object.getOwnPropertyDescriptor(ss,ep).enumerable})),cs.push.apply(cs,wl)}return cs}function lt(ss){for(var ls=1;ls<arguments.length;ls++){var cs=arguments[ls]!=null?arguments[ls]:{};ls%2?ut(Object(cs),!0).forEach(function(wl){ht(ss,wl,cs[wl])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ss,Object.getOwnPropertyDescriptors(cs)):ut(Object(cs)).forEach(function(wl){Object.defineProperty(ss,wl,Object.getOwnPropertyDescriptor(cs,wl))})}return ss}function ht(ss,ls,cs){return ls in ss?Object.defineProperty(ss,ls,{value:cs,enumerable:!0,configurable:!0,writable:!0}):ss[ls]=cs,ss}function _t(ss,ls){if(!(ss instanceof ls))throw new TypeError("Cannot call a class as a function")}function At(ss,ls){for(var cs=0;cs<ls.length;cs++){var wl=ls[cs];wl.enumerable=wl.enumerable||!1,wl.configurable=!0,"value"in wl&&(wl.writable=!0),Object.defineProperty(ss,wl.key,wl)}}function qt(ss,ls,cs){return ls&&At(ss.prototype,ls),cs&&At(ss,cs),ss}var Zt=Ho,cr=Zt.Buffer,Gr=k0,Zr=Gr.inspect,xn=Zr&&Zr.custom||"inspect";function On(ss,ls,cs){cr.prototype.copy.call(ss,ls,cs)}return kl=function(){function ss(){_t(this,ss),this.head=null,this.tail=null,this.length=0}return qt(ss,[{key:"push",value:function(ls){var cs={data:ls,next:null};this.length>0?this.tail.next=cs:this.head=cs,this.tail=cs,++this.length}},{key:"unshift",value:function(ls){var cs={data:ls,next:this.head};this.length===0&&(this.tail=cs),this.head=cs,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ls=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ls}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ls){if(this.length===0)return"";for(var cs=this.head,wl=""+cs.data;cs=cs.next;)wl+=ls+cs.data;return wl}},{key:"concat",value:function(ls){if(this.length===0)return cr.alloc(0);for(var cs=cr.allocUnsafe(ls>>>0),wl=this.head,ep=0;wl;)On(wl.data,cs,ep),ep+=wl.data.length,wl=wl.next;return cs}},{key:"consume",value:function(ls,cs){var wl;return ls<this.head.data.length?(wl=this.head.data.slice(0,ls),this.head.data=this.head.data.slice(ls)):ls===this.head.data.length?wl=this.shift():wl=cs?this._getString(ls):this._getBuffer(ls),wl}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ls){var cs=this.head,wl=1,ep=cs.data;for(ls-=ep.length;cs=cs.next;){var Al=cs.data,np=ls>Al.length?Al.length:ls;if(np===Al.length?ep+=Al:ep+=Al.slice(0,ls),ls-=np,ls===0){np===Al.length?(++wl,cs.next?this.head=cs.next:this.head=this.tail=null):(this.head=cs,cs.data=Al.slice(np));break}++wl}return this.length-=wl,ep}},{key:"_getBuffer",value:function(ls){var cs=cr.allocUnsafe(ls),wl=this.head,ep=1;for(wl.data.copy(cs),ls-=wl.data.length;wl=wl.next;){var Al=wl.data,np=ls>Al.length?Al.length:ls;if(Al.copy(cs,cs.length-ls,0,np),ls-=np,ls===0){np===Al.length?(++ep,wl.next?this.head=wl.next:this.head=this.tail=null):(this.head=wl,wl.data=Al.slice(np));break}++ep}return this.length-=ep,cs}},{key:xn,value:function(ls,cs){return Zr(this,lt({},cs,{depth:0,customInspect:!1}))}}]),ss}(),kl}function Ey(ut,lt){var ht=this,_t=this._readableState&&this._readableState.destroyed,At=this._writableState&&this._writableState.destroyed;return _t||At?(lt?lt(ut):ut&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,api$2.nextTick(Sc,this,ut)):api$2.nextTick(Sc,this,ut)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(ut||null,function(qt){!lt&&qt?ht._writableState?ht._writableState.errorEmitted?api$2.nextTick(Us,ht):(ht._writableState.errorEmitted=!0,api$2.nextTick(jf,ht,qt)):api$2.nextTick(jf,ht,qt):lt?(api$2.nextTick(Us,ht),lt(qt)):api$2.nextTick(Us,ht)}),this)}function jf(ut,lt){Sc(ut,lt),Us(ut)}function Us(ut){ut._writableState&&!ut._writableState.emitClose||ut._readableState&&!ut._readableState.emitClose||ut.emit("close")}function ky(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Sc(ut,lt){ut.emit("error",lt)}function Cy(ut,lt){var ht=ut._readableState,_t=ut._writableState;ht&&ht.autoDestroy||_t&&_t.autoDestroy?ut.destroy(lt):ut.emit("error",lt)}var C0={destroy:Ey,undestroy:ky,errorOrDestroy:Cy},Gn={};function Ty(ut,lt){ut.prototype=Object.create(lt.prototype),ut.prototype.constructor=ut,ut.__proto__=lt}var T0={};function lr(ut,lt,ht){ht||(ht=Error);function _t(qt,Zt,cr){return typeof lt=="string"?lt:lt(qt,Zt,cr)}var At=function(qt){Ty(Zt,qt);function Zt(cr,Gr,Zr){return qt.call(this,_t(cr,Gr,Zr))||this}return Zt}(ht);At.prototype.name=ht.name,At.prototype.code=ut,T0[ut]=At}function Wf(ut,lt){if(Array.isArray(ut)){var ht=ut.length;return ut=ut.map(function(_t){return String(_t)}),ht>2?"one of ".concat(lt," ").concat(ut.slice(0,ht-1).join(", "),", or ")+ut[ht-1]:ht===2?"one of ".concat(lt," ").concat(ut[0]," or ").concat(ut[1]):"of ".concat(lt," ").concat(ut[0])}else return"of ".concat(lt," ").concat(String(ut))}function Oy(ut,lt,ht){return ut.substr(!ht||ht<0?0:+ht,lt.length)===lt}function Iy(ut,lt,ht){return(ht===void 0||ht>ut.length)&&(ht=ut.length),ut.substring(ht-lt.length,ht)===lt}function Py(ut,lt,ht){return typeof ht!="number"&&(ht=0),ht+lt.length>ut.length?!1:ut.indexOf(lt,ht)!==-1}lr("ERR_INVALID_OPT_VALUE",function(ut,lt){return'The value "'+lt+'" is invalid for option "'+ut+'"'},TypeError);lr("ERR_INVALID_ARG_TYPE",function(ut,lt,ht){var _t;typeof lt=="string"&&Oy(lt,"not ")?(_t="must not be",lt=lt.replace(/^not /,"")):_t="must be";var At;if(Iy(ut," argument"))At="The ".concat(ut," ").concat(_t," ").concat(Wf(lt,"type"));else{var qt=Py(ut,".")?"property":"argument";At='The "'.concat(ut,'" ').concat(qt," ").concat(_t," ").concat(Wf(lt,"type"))}return At+=". Received type ".concat(typeof ht),At},TypeError);lr("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");lr("ERR_METHOD_NOT_IMPLEMENTED",function(ut){return"The "+ut+" method is not implemented"});lr("ERR_STREAM_PREMATURE_CLOSE","Premature close");lr("ERR_STREAM_DESTROYED",function(ut){return"Cannot call "+ut+" after a stream was destroyed"});lr("ERR_MULTIPLE_CALLBACK","Callback called multiple times");lr("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");lr("ERR_STREAM_WRITE_AFTER_END","write after end");lr("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);lr("ERR_UNKNOWN_ENCODING",function(ut){return"Unknown encoding: "+ut},TypeError);lr("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Gn.codes=T0;var Ry=Gn.codes.ERR_INVALID_OPT_VALUE;function Dy(ut,lt,ht){return ut.highWaterMark!=null?ut.highWaterMark:lt?ut[ht]:null}function My(ut,lt,ht,_t){var At=Dy(lt,_t,ht);if(At!=null){if(!(isFinite(At)&&Math.floor(At)===At)||At<0){var qt=_t?ht:"highWaterMark";throw new Ry(qt,At)}return Math.floor(At)}return ut.objectMode?16:16*1024}var O0={getHighWaterMark:My},Un={},Uf={get exports(){return Un},set exports(ut){Un=ut}};typeof Object.create=="function"?Uf.exports=function(ut,lt){lt&&(ut.super_=lt,ut.prototype=Object.create(lt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}))}:Uf.exports=function(ut,lt){if(lt){ut.super_=lt;var ht=function(){};ht.prototype=lt.prototype,ut.prototype=new ht,ut.prototype.constructor=ut}};var Ny=Ly;function Ly(ut,lt){if(Cl("noDeprecation"))return ut;var ht=!1;function _t(){if(!ht){if(Cl("throwDeprecation"))throw new Error(lt);Cl("traceDeprecation")?console.trace(lt):console.warn(lt),ht=!0}return ut.apply(this,arguments)}return _t}function Cl(ut){try{if(!globalThis.localStorage)return!1}catch{return!1}var lt=globalThis.localStorage[ut];return lt==null?!1:String(lt).toLowerCase()==="true"}var Tl,zf;function I0(){if(zf)return Tl;zf=1,Tl=zm;function ut(Ym){var Xm=this;this.next=null,this.entry=null,this.finish=function(){L_(Xm,Ym)}}var lt;zm.WritableState=jp;var ht={deprecate:Ny},_t=E0,At=Ho.Buffer,qt=globalThis.Uint8Array||function(){};function Zt(Ym){return At.from(Ym)}function cr(Ym){return At.isBuffer(Ym)||Ym instanceof qt}var Gr=C0,Zr=O0,xn=Zr.getHighWaterMark,On=Gn.codes,ss=On.ERR_INVALID_ARG_TYPE,ls=On.ERR_METHOD_NOT_IMPLEMENTED,cs=On.ERR_MULTIPLE_CALLBACK,wl=On.ERR_STREAM_CANNOT_PIPE,ep=On.ERR_STREAM_DESTROYED,Al=On.ERR_STREAM_NULL_VALUES,np=On.ERR_STREAM_WRITE_AFTER_END,cp=On.ERR_UNKNOWN_ENCODING,Cp=Gr.errorOrDestroy;Un(zm,_t);function Lp(){}function jp(Ym,Xm,Jm){lt=lt||xi(),Ym=Ym||{},typeof Jm!="boolean"&&(Jm=Xm instanceof lt),this.objectMode=!!Ym.objectMode,Jm&&(this.objectMode=this.objectMode||!!Ym.writableObjectMode),this.highWaterMark=xn(this,Ym,"writableHighWaterMark",Jm),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $_=Ym.decodeStrings===!1;this.decodeStrings=!$_,this.defaultEncoding=Ym.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j_){xl(Xm,j_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ym.emitClose!==!1,this.autoDestroy=!!Ym.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new ut(this)}jp.prototype.getBuffer=function(){for(var Ym=this.bufferedRequest,Xm=[];Ym;)Xm.push(Ym),Ym=Ym.next;return Xm},function(){try{Object.defineProperty(jp.prototype,"buffer",{get:ht.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var nm;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nm=Function.prototype[Symbol.hasInstance],Object.defineProperty(zm,Symbol.hasInstance,{value:function(Ym){return nm.call(this,Ym)?!0:this!==zm?!1:Ym&&Ym._writableState instanceof jp}})):nm=function(Ym){return Ym instanceof this};function zm(Ym){lt=lt||xi();var Xm=this instanceof lt;if(!Xm&&!nm.call(zm,this))return new zm(Ym);this._writableState=new jp(Ym,this,Xm),this.writable=!0,Ym&&(typeof Ym.write=="function"&&(this._write=Ym.write),typeof Ym.writev=="function"&&(this._writev=Ym.writev),typeof Ym.destroy=="function"&&(this._destroy=Ym.destroy),typeof Ym.final=="function"&&(this._final=Ym.final)),_t.call(this)}zm.prototype.pipe=function(){Cp(this,new wl)};function i1(Ym,Xm){var Jm=new np;Cp(Ym,Jm),api$2.nextTick(Xm,Jm)}function d3(Ym,Xm,Jm,$_){var j_;return Jm===null?j_=new Al:typeof Jm!="string"&&!Xm.objectMode&&(j_=new ss("chunk",["string","Buffer"],Jm)),j_?(Cp(Ym,j_),api$2.nextTick($_,j_),!1):!0}zm.prototype.write=function(Ym,Xm,Jm){var $_=this._writableState,j_=!1,h3=!$_.objectMode&&cr(Ym);return h3&&!At.isBuffer(Ym)&&(Ym=Zt(Ym)),typeof Xm=="function"&&(Jm=Xm,Xm=null),h3?Xm="buffer":Xm||(Xm=$_.defaultEncoding),typeof Jm!="function"&&(Jm=Lp),$_.ending?i1(this,Jm):(h3||d3(this,$_,Ym,Jm))&&($_.pendingcb++,j_=Sn(this,$_,h3,Ym,Xm,Jm)),j_},zm.prototype.cork=function(){this._writableState.corked++},zm.prototype.uncork=function(){var Ym=this._writableState;Ym.corked&&(Ym.corked--,!Ym.writing&&!Ym.corked&&!Ym.bufferProcessing&&Ym.bufferedRequest&&pu(this,Ym))},zm.prototype.setDefaultEncoding=function(Ym){if(typeof Ym=="string"&&(Ym=Ym.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Ym+"").toLowerCase())>-1))throw new cp(Ym);return this._writableState.defaultEncoding=Ym,this},Object.defineProperty(zm.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function op(Ym,Xm,Jm){return!Ym.objectMode&&Ym.decodeStrings!==!1&&typeof Xm=="string"&&(Xm=At.from(Xm,Jm)),Xm}Object.defineProperty(zm.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Sn(Ym,Xm,Jm,$_,j_,h3){if(!Jm){var Fp=op(Xm,$_,j_);$_!==Fp&&(Jm=!0,j_="buffer",$_=Fp)}var W_=Xm.objectMode?1:$_.length;Xm.length+=W_;var t4=Xm.length<Xm.highWaterMark;if(t4||(Xm.needDrain=!0),Xm.writing||Xm.corked){var Nw=Xm.lastBufferedRequest;Xm.lastBufferedRequest={chunk:$_,encoding:j_,isBuf:Jm,callback:h3,next:null},Nw?Nw.next=Xm.lastBufferedRequest:Xm.bufferedRequest=Xm.lastBufferedRequest,Xm.bufferedRequestCount+=1}else Fo(Ym,Xm,!1,W_,$_,j_,h3);return t4}function Fo(Ym,Xm,Jm,$_,j_,h3,Fp){Xm.writelen=$_,Xm.writecb=Fp,Xm.writing=!0,Xm.sync=!0,Xm.destroyed?Xm.onwrite(new ep("write")):Jm?Ym._writev(j_,Xm.onwrite):Ym._write(j_,h3,Xm.onwrite),Xm.sync=!1}function as(Ym,Xm,Jm,$_,j_){--Xm.pendingcb,Jm?(api$2.nextTick(j_,$_),api$2.nextTick(cm,Ym,Xm),Ym._writableState.errorEmitted=!0,Cp(Ym,$_)):(j_($_),Ym._writableState.errorEmitted=!0,Cp(Ym,$_),cm(Ym,Xm))}function us(Ym){Ym.writing=!1,Ym.writecb=null,Ym.length-=Ym.writelen,Ym.writelen=0}function xl(Ym,Xm){var Jm=Ym._writableState,$_=Jm.sync,j_=Jm.writecb;if(typeof j_!="function")throw new cs;if(us(Jm),Xm)as(Ym,Jm,$_,Xm,j_);else{var h3=go(Jm)||Ym.destroyed;!h3&&!Jm.corked&&!Jm.bufferProcessing&&Jm.bufferedRequest&&pu(Ym,Jm),$_?api$2.nextTick(ip,Ym,Jm,h3,j_):ip(Ym,Jm,h3,j_)}}function ip(Ym,Xm,Jm,$_){Jm||lp(Ym,Xm),Xm.pendingcb--,$_(),cm(Ym,Xm)}function lp(Ym,Xm){Xm.length===0&&Xm.needDrain&&(Xm.needDrain=!1,Ym.emit("drain"))}function pu(Ym,Xm){Xm.bufferProcessing=!0;var Jm=Xm.bufferedRequest;if(Ym._writev&&Jm&&Jm.next){var $_=Xm.bufferedRequestCount,j_=new Array($_),h3=Xm.corkedRequestsFree;h3.entry=Jm;for(var Fp=0,W_=!0;Jm;)j_[Fp]=Jm,Jm.isBuf||(W_=!1),Jm=Jm.next,Fp+=1;j_.allBuffers=W_,Fo(Ym,Xm,!0,Xm.length,j_,"",h3.finish),Xm.pendingcb++,Xm.lastBufferedRequest=null,h3.next?(Xm.corkedRequestsFree=h3.next,h3.next=null):Xm.corkedRequestsFree=new ut(Xm),Xm.bufferedRequestCount=0}else{for(;Jm;){var t4=Jm.chunk,Nw=Jm.encoding,Dp=Jm.callback,a1=Xm.objectMode?1:t4.length;if(Fo(Ym,Xm,!1,a1,t4,Nw,Dp),Jm=Jm.next,Xm.bufferedRequestCount--,Xm.writing)break}Jm===null&&(Xm.lastBufferedRequest=null)}Xm.bufferedRequest=Jm,Xm.bufferProcessing=!1}zm.prototype._write=function(Ym,Xm,Jm){Jm(new ls("_write()"))},zm.prototype._writev=null,zm.prototype.end=function(Ym,Xm,Jm){var $_=this._writableState;return typeof Ym=="function"?(Jm=Ym,Ym=null,Xm=null):typeof Xm=="function"&&(Jm=Xm,Xm=null),Ym!=null&&this.write(Ym,Xm),$_.corked&&($_.corked=1,this.uncork()),$_.ending||b3(this,$_,Jm),this},Object.defineProperty(zm.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function go(Ym){return Ym.ending&&Ym.length===0&&Ym.bufferedRequest===null&&!Ym.finished&&!Ym.writing}function h0(Ym,Xm){Ym._final(function(Jm){Xm.pendingcb--,Jm&&Cp(Ym,Jm),Xm.prefinished=!0,Ym.emit("prefinish"),cm(Ym,Xm)})}function kp(Ym,Xm){!Xm.prefinished&&!Xm.finalCalled&&(typeof Ym._final=="function"&&!Xm.destroyed?(Xm.pendingcb++,Xm.finalCalled=!0,api$2.nextTick(h0,Ym,Xm)):(Xm.prefinished=!0,Ym.emit("prefinish")))}function cm(Ym,Xm){var Jm=go(Xm);if(Jm&&(kp(Ym,Xm),Xm.pendingcb===0&&(Xm.finished=!0,Ym.emit("finish"),Xm.autoDestroy))){var $_=Ym._readableState;(!$_||$_.autoDestroy&&$_.endEmitted)&&Ym.destroy()}return Jm}function b3(Ym,Xm,Jm){Xm.ending=!0,cm(Ym,Xm),Jm&&(Xm.finished?api$2.nextTick(Jm):Ym.once("finish",Jm)),Xm.ended=!0,Ym.writable=!1}function L_(Ym,Xm,Jm){var $_=Ym.entry;for(Ym.entry=null;$_;){var j_=$_.callback;Xm.pendingcb--,j_(Jm),$_=$_.next}Xm.corkedRequestsFree.next=Ym}return Object.defineProperty(zm.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Ym){this._writableState&&(this._writableState.destroyed=Ym)}}),zm.prototype.destroy=Gr.destroy,zm.prototype._undestroy=Gr.undestroy,zm.prototype._destroy=function(Ym,Xm){Xm(Ym)},Tl}var Ol,Vf;function xi(){if(Vf)return Ol;Vf=1;var ut=Object.keys||function(Zr){var xn=[];for(var On in Zr)xn.push(On);return xn};Ol=Zt;var lt=R0(),ht=I0();Un(Zt,lt);for(var _t=ut(ht.prototype),At=0;At<_t.length;At++){var qt=_t[At];Zt.prototype[qt]||(Zt.prototype[qt]=ht.prototype[qt])}function Zt(Zr){if(!(this instanceof Zt))return new Zt(Zr);lt.call(this,Zr),ht.call(this,Zr),this.allowHalfOpen=!0,Zr&&(Zr.readable===!1&&(this.readable=!1),Zr.writable===!1&&(this.writable=!1),Zr.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",cr)))}Object.defineProperty(Zt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Zt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Zt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function cr(){this._writableState.ended||api$2.nextTick(Gr,this)}function Gr(Zr){Zr.end()}return Object.defineProperty(Zt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(Zr){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=Zr,this._writableState.destroyed=Zr)}}),Ol}var Il={},qf;function Hf(){if(qf)return Il;qf=1;var ut=So.Buffer,lt=ut.isEncoding||function(Al){switch(Al=""+Al,Al&&Al.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ht(Al){if(!Al)return"utf8";for(var np;;)switch(Al){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Al;default:if(np)return;Al=(""+Al).toLowerCase(),np=!0}}function _t(Al){var np=ht(Al);if(typeof np!="string"&&(ut.isEncoding===lt||!lt(Al)))throw new Error("Unknown encoding: "+Al);return np||Al}Il.StringDecoder=At;function At(Al){this.encoding=_t(Al);var np;switch(this.encoding){case"utf16le":this.text=On,this.end=ss,np=4;break;case"utf8":this.fillLast=Gr,np=4;break;case"base64":this.text=ls,this.end=cs,np=3;break;default:this.write=wl,this.end=ep;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ut.allocUnsafe(np)}At.prototype.write=function(Al){if(Al.length===0)return"";var np,cp;if(this.lastNeed){if(np=this.fillLast(Al),np===void 0)return"";cp=this.lastNeed,this.lastNeed=0}else cp=0;return cp<Al.length?np?np+this.text(Al,cp):this.text(Al,cp):np||""},At.prototype.end=xn,At.prototype.text=Zr,At.prototype.fillLast=function(Al){if(this.lastNeed<=Al.length)return Al.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Al.copy(this.lastChar,this.lastTotal-this.lastNeed,0,Al.length),this.lastNeed-=Al.length};function qt(Al){return Al<=127?0:Al>>5===6?2:Al>>4===14?3:Al>>3===30?4:Al>>6===2?-1:-2}function Zt(Al,np,cp){var Cp=np.length-1;if(Cp<cp)return 0;var Lp=qt(np[Cp]);return Lp>=0?(Lp>0&&(Al.lastNeed=Lp-1),Lp):--Cp<cp||Lp===-2?0:(Lp=qt(np[Cp]),Lp>=0?(Lp>0&&(Al.lastNeed=Lp-2),Lp):--Cp<cp||Lp===-2?0:(Lp=qt(np[Cp]),Lp>=0?(Lp>0&&(Lp===2?Lp=0:Al.lastNeed=Lp-3),Lp):0))}function cr(Al,np,cp){if((np[0]&192)!==128)return Al.lastNeed=0,"";if(Al.lastNeed>1&&np.length>1){if((np[1]&192)!==128)return Al.lastNeed=1,"";if(Al.lastNeed>2&&np.length>2&&(np[2]&192)!==128)return Al.lastNeed=2,""}}function Gr(Al){var np=this.lastTotal-this.lastNeed,cp=cr(this,Al);if(cp!==void 0)return cp;if(this.lastNeed<=Al.length)return Al.copy(this.lastChar,np,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);Al.copy(this.lastChar,np,0,Al.length),this.lastNeed-=Al.length}function Zr(Al,np){var cp=Zt(this,Al,np);if(!this.lastNeed)return Al.toString("utf8",np);this.lastTotal=cp;var Cp=Al.length-(cp-this.lastNeed);return Al.copy(this.lastChar,0,Cp),Al.toString("utf8",np,Cp)}function xn(Al){var np=Al&&Al.length?this.write(Al):"";return this.lastNeed?np+"":np}function On(Al,np){if((Al.length-np)%2===0){var cp=Al.toString("utf16le",np);if(cp){var Cp=cp.charCodeAt(cp.length-1);if(Cp>=55296&&Cp<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=Al[Al.length-2],this.lastChar[1]=Al[Al.length-1],cp.slice(0,-1)}return cp}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=Al[Al.length-1],Al.toString("utf16le",np,Al.length-1)}function ss(Al){var np=Al&&Al.length?this.write(Al):"";if(this.lastNeed){var cp=this.lastTotal-this.lastNeed;return np+this.lastChar.toString("utf16le",0,cp)}return np}function ls(Al,np){var cp=(Al.length-np)%3;return cp===0?Al.toString("base64",np):(this.lastNeed=3-cp,this.lastTotal=3,cp===1?this.lastChar[0]=Al[Al.length-1]:(this.lastChar[0]=Al[Al.length-2],this.lastChar[1]=Al[Al.length-1]),Al.toString("base64",np,Al.length-cp))}function cs(Al){var np=Al&&Al.length?this.write(Al):"";return this.lastNeed?np+this.lastChar.toString("base64",0,3-this.lastNeed):np}function wl(Al){return Al.toString(this.encoding)}function ep(Al){return Al&&Al.length?this.write(Al):""}return Il}var Yf=Gn.codes.ERR_STREAM_PREMATURE_CLOSE;function By(ut){var lt=!1;return function(){if(!lt){lt=!0;for(var ht=arguments.length,_t=new Array(ht),At=0;At<ht;At++)_t[At]=arguments[At];ut.apply(this,_t)}}}function Fy(){}function jy(ut){return ut.setHeader&&typeof ut.abort=="function"}function P0(ut,lt,ht){if(typeof lt=="function")return P0(ut,null,lt);lt||(lt={}),ht=By(ht||Fy);var _t=lt.readable||lt.readable!==!1&&ut.readable,At=lt.writable||lt.writable!==!1&&ut.writable,qt=function(){ut.writable||cr()},Zt=ut._writableState&&ut._writableState.finished,cr=function(){At=!1,Zt=!0,_t||ht.call(ut)},Gr=ut._readableState&&ut._readableState.endEmitted,Zr=function(){_t=!1,Gr=!0,At||ht.call(ut)},xn=function(ls){ht.call(ut,ls)},On=function(){var ls;if(_t&&!Gr)return(!ut._readableState||!ut._readableState.ended)&&(ls=new Yf),ht.call(ut,ls);if(At&&!Zt)return(!ut._writableState||!ut._writableState.ended)&&(ls=new Yf),ht.call(ut,ls)},ss=function(){ut.req.on("finish",cr)};return jy(ut)?(ut.on("complete",cr),ut.on("abort",On),ut.req?ss():ut.on("request",ss)):At&&!ut._writableState&&(ut.on("end",qt),ut.on("close",qt)),ut.on("end",Zr),ut.on("finish",cr),lt.error!==!1&&ut.on("error",xn),ut.on("close",On),function(){ut.removeListener("complete",cr),ut.removeListener("abort",On),ut.removeListener("request",ss),ut.req&&ut.req.removeListener("finish",cr),ut.removeListener("end",qt),ut.removeListener("close",qt),ut.removeListener("finish",cr),ut.removeListener("end",Zr),ut.removeListener("error",xn),ut.removeListener("close",On)}}var mu=P0,Pl,Kf;function Wy(){if(Kf)return Pl;Kf=1;var ut;function lt(Al,np,cp){return np in Al?Object.defineProperty(Al,np,{value:cp,enumerable:!0,configurable:!0,writable:!0}):Al[np]=cp,Al}var ht=mu,_t=Symbol("lastResolve"),At=Symbol("lastReject"),qt=Symbol("error"),Zt=Symbol("ended"),cr=Symbol("lastPromise"),Gr=Symbol("handlePromise"),Zr=Symbol("stream");function xn(Al,np){return{value:Al,done:np}}function On(Al){var np=Al[_t];if(np!==null){var cp=Al[Zr].read();cp!==null&&(Al[cr]=null,Al[_t]=null,Al[At]=null,np(xn(cp,!1)))}}function ss(Al){api$2.nextTick(On,Al)}function ls(Al,np){return function(cp,Cp){Al.then(function(){if(np[Zt]){cp(xn(void 0,!0));return}np[Gr](cp,Cp)},Cp)}}var cs=Object.getPrototypeOf(function(){}),wl=Object.setPrototypeOf((ut={get stream(){return this[Zr]},next:function(){var Al=this,np=this[qt];if(np!==null)return Promise.reject(np);if(this[Zt])return Promise.resolve(xn(void 0,!0));if(this[Zr].destroyed)return new Promise(function(jp,nm){api$2.nextTick(function(){Al[qt]?nm(Al[qt]):jp(xn(void 0,!0))})});var cp=this[cr],Cp;if(cp)Cp=new Promise(ls(cp,this));else{var Lp=this[Zr].read();if(Lp!==null)return Promise.resolve(xn(Lp,!1));Cp=new Promise(this[Gr])}return this[cr]=Cp,Cp}},lt(ut,Symbol.asyncIterator,function(){return this}),lt(ut,"return",function(){var Al=this;return new Promise(function(np,cp){Al[Zr].destroy(null,function(Cp){if(Cp){cp(Cp);return}np(xn(void 0,!0))})})}),ut),cs),ep=function(Al){var np,cp=Object.create(wl,(np={},lt(np,Zr,{value:Al,writable:!0}),lt(np,_t,{value:null,writable:!0}),lt(np,At,{value:null,writable:!0}),lt(np,qt,{value:null,writable:!0}),lt(np,Zt,{value:Al._readableState.endEmitted,writable:!0}),lt(np,Gr,{value:function(Cp,Lp){var jp=cp[Zr].read();jp?(cp[cr]=null,cp[_t]=null,cp[At]=null,Cp(xn(jp,!1))):(cp[_t]=Cp,cp[At]=Lp)},writable:!0}),np));return cp[cr]=null,ht(Al,function(Cp){if(Cp&&Cp.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Lp=cp[At];Lp!==null&&(cp[cr]=null,cp[_t]=null,cp[At]=null,Lp(Cp)),cp[qt]=Cp;return}var jp=cp[_t];jp!==null&&(cp[cr]=null,cp[_t]=null,cp[At]=null,jp(xn(void 0,!0))),cp[Zt]=!0}),Al.on("readable",ss.bind(null,cp)),cp};return Pl=ep,Pl}var Rl,Xf;function Uy(){return Xf||(Xf=1,Rl=function(){throw new Error("Readable.from is not available in the browser")}),Rl}var Dl,Jf;function R0(){if(Jf)return Dl;Jf=1,Dl=i1;var ut;i1.ReadableState=zm,wi.EventEmitter;var lt=function(h3,Fp){return h3.listeners(Fp).length},ht=E0,_t=Ho.Buffer,At=globalThis.Uint8Array||function(){};function qt(h3){return _t.from(h3)}function Zt(h3){return _t.isBuffer(h3)||h3 instanceof At}var cr=k0,Gr;cr&&cr.debuglog?Gr=cr.debuglog("stream"):Gr=function(){};var Zr=Sy(),xn=C0,On=O0,ss=On.getHighWaterMark,ls=Gn.codes,cs=ls.ERR_INVALID_ARG_TYPE,wl=ls.ERR_STREAM_PUSH_AFTER_EOF,ep=ls.ERR_METHOD_NOT_IMPLEMENTED,Al=ls.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,np,cp,Cp;Un(i1,ht);var Lp=xn.errorOrDestroy,jp=["error","close","destroy","pause","resume"];function nm(h3,Fp,W_){if(typeof h3.prependListener=="function")return h3.prependListener(Fp,W_);!h3._events||!h3._events[Fp]?h3.on(Fp,W_):Array.isArray(h3._events[Fp])?h3._events[Fp].unshift(W_):h3._events[Fp]=[W_,h3._events[Fp]]}function zm(h3,Fp,W_){ut=ut||xi(),h3=h3||{},typeof W_!="boolean"&&(W_=Fp instanceof ut),this.objectMode=!!h3.objectMode,W_&&(this.objectMode=this.objectMode||!!h3.readableObjectMode),this.highWaterMark=ss(this,h3,"readableHighWaterMark",W_),this.buffer=new Zr,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=h3.emitClose!==!1,this.autoDestroy=!!h3.autoDestroy,this.destroyed=!1,this.defaultEncoding=h3.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,h3.encoding&&(np||(np=Hf().StringDecoder),this.decoder=new np(h3.encoding),this.encoding=h3.encoding)}function i1(h3){if(ut=ut||xi(),!(this instanceof i1))return new i1(h3);var Fp=this instanceof ut;this._readableState=new zm(h3,this,Fp),this.readable=!0,h3&&(typeof h3.read=="function"&&(this._read=h3.read),typeof h3.destroy=="function"&&(this._destroy=h3.destroy)),ht.call(this)}Object.defineProperty(i1.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(h3){this._readableState&&(this._readableState.destroyed=h3)}}),i1.prototype.destroy=xn.destroy,i1.prototype._undestroy=xn.undestroy,i1.prototype._destroy=function(h3,Fp){Fp(h3)},i1.prototype.push=function(h3,Fp){var W_=this._readableState,t4;return W_.objectMode?t4=!0:typeof h3=="string"&&(Fp=Fp||W_.defaultEncoding,Fp!==W_.encoding&&(h3=_t.from(h3,Fp),Fp=""),t4=!0),d3(this,h3,Fp,!1,t4)},i1.prototype.unshift=function(h3){return d3(this,h3,null,!0,!1)};function d3(h3,Fp,W_,t4,Nw){Gr("readableAddChunk",Fp);var Dp=h3._readableState;if(Fp===null)Dp.reading=!1,xl(h3,Dp);else{var a1;if(Nw||(a1=Sn(Dp,Fp)),a1)Lp(h3,a1);else if(Dp.objectMode||Fp&&Fp.length>0)if(typeof Fp!="string"&&!Dp.objectMode&&Object.getPrototypeOf(Fp)!==_t.prototype&&(Fp=qt(Fp)),t4)Dp.endEmitted?Lp(h3,new Al):op(h3,Dp,Fp,!0);else if(Dp.ended)Lp(h3,new wl);else{if(Dp.destroyed)return!1;Dp.reading=!1,Dp.decoder&&!W_?(Fp=Dp.decoder.write(Fp),Dp.objectMode||Fp.length!==0?op(h3,Dp,Fp,!1):pu(h3,Dp)):op(h3,Dp,Fp,!1)}else t4||(Dp.reading=!1,pu(h3,Dp))}return!Dp.ended&&(Dp.length<Dp.highWaterMark||Dp.length===0)}function op(h3,Fp,W_,t4){Fp.flowing&&Fp.length===0&&!Fp.sync?(Fp.awaitDrain=0,h3.emit("data",W_)):(Fp.length+=Fp.objectMode?1:W_.length,t4?Fp.buffer.unshift(W_):Fp.buffer.push(W_),Fp.needReadable&&ip(h3)),pu(h3,Fp)}function Sn(h3,Fp){var W_;return!Zt(Fp)&&typeof Fp!="string"&&Fp!==void 0&&!h3.objectMode&&(W_=new cs("chunk",["string","Buffer","Uint8Array"],Fp)),W_}i1.prototype.isPaused=function(){return this._readableState.flowing===!1},i1.prototype.setEncoding=function(h3){np||(np=Hf().StringDecoder);var Fp=new np(h3);this._readableState.decoder=Fp,this._readableState.encoding=this._readableState.decoder.encoding;for(var W_=this._readableState.buffer.head,t4="";W_!==null;)t4+=Fp.write(W_.data),W_=W_.next;return this._readableState.buffer.clear(),t4!==""&&this._readableState.buffer.push(t4),this._readableState.length=t4.length,this};var Fo=1073741824;function as(h3){return h3>=Fo?h3=Fo:(h3--,h3|=h3>>>1,h3|=h3>>>2,h3|=h3>>>4,h3|=h3>>>8,h3|=h3>>>16,h3++),h3}function us(h3,Fp){return h3<=0||Fp.length===0&&Fp.ended?0:Fp.objectMode?1:h3!==h3?Fp.flowing&&Fp.length?Fp.buffer.head.data.length:Fp.length:(h3>Fp.highWaterMark&&(Fp.highWaterMark=as(h3)),h3<=Fp.length?h3:Fp.ended?Fp.length:(Fp.needReadable=!0,0))}i1.prototype.read=function(h3){Gr("read",h3),h3=parseInt(h3,10);var Fp=this._readableState,W_=h3;if(h3!==0&&(Fp.emittedReadable=!1),h3===0&&Fp.needReadable&&((Fp.highWaterMark!==0?Fp.length>=Fp.highWaterMark:Fp.length>0)||Fp.ended))return Gr("read: emitReadable",Fp.length,Fp.ended),Fp.length===0&&Fp.ended?Jm(this):ip(this),null;if(h3=us(h3,Fp),h3===0&&Fp.ended)return Fp.length===0&&Jm(this),null;var t4=Fp.needReadable;Gr("need readable",t4),(Fp.length===0||Fp.length-h3<Fp.highWaterMark)&&(t4=!0,Gr("length less than watermark",t4)),Fp.ended||Fp.reading?(t4=!1,Gr("reading or ended",t4)):t4&&(Gr("do read"),Fp.reading=!0,Fp.sync=!0,Fp.length===0&&(Fp.needReadable=!0),this._read(Fp.highWaterMark),Fp.sync=!1,Fp.reading||(h3=us(W_,Fp)));var Nw;return h3>0?Nw=Xm(h3,Fp):Nw=null,Nw===null?(Fp.needReadable=Fp.length<=Fp.highWaterMark,h3=0):(Fp.length-=h3,Fp.awaitDrain=0),Fp.length===0&&(Fp.ended||(Fp.needReadable=!0),W_!==h3&&Fp.ended&&Jm(this)),Nw!==null&&this.emit("data",Nw),Nw};function xl(h3,Fp){if(Gr("onEofChunk"),!Fp.ended){if(Fp.decoder){var W_=Fp.decoder.end();W_&&W_.length&&(Fp.buffer.push(W_),Fp.length+=Fp.objectMode?1:W_.length)}Fp.ended=!0,Fp.sync?ip(h3):(Fp.needReadable=!1,Fp.emittedReadable||(Fp.emittedReadable=!0,lp(h3)))}}function ip(h3){var Fp=h3._readableState;Gr("emitReadable",Fp.needReadable,Fp.emittedReadable),Fp.needReadable=!1,Fp.emittedReadable||(Gr("emitReadable",Fp.flowing),Fp.emittedReadable=!0,api$2.nextTick(lp,h3))}function lp(h3){var Fp=h3._readableState;Gr("emitReadable_",Fp.destroyed,Fp.length,Fp.ended),!Fp.destroyed&&(Fp.length||Fp.ended)&&(h3.emit("readable"),Fp.emittedReadable=!1),Fp.needReadable=!Fp.flowing&&!Fp.ended&&Fp.length<=Fp.highWaterMark,Ym(h3)}function pu(h3,Fp){Fp.readingMore||(Fp.readingMore=!0,api$2.nextTick(go,h3,Fp))}function go(h3,Fp){for(;!Fp.reading&&!Fp.ended&&(Fp.length<Fp.highWaterMark||Fp.flowing&&Fp.length===0);){var W_=Fp.length;if(Gr("maybeReadMore read 0"),h3.read(0),W_===Fp.length)break}Fp.readingMore=!1}i1.prototype._read=function(h3){Lp(this,new ep("_read()"))},i1.prototype.pipe=function(h3,Fp){var W_=this,t4=this._readableState;switch(t4.pipesCount){case 0:t4.pipes=h3;break;case 1:t4.pipes=[t4.pipes,h3];break;default:t4.pipes.push(h3);break}t4.pipesCount+=1,Gr("pipe count=%d opts=%j",t4.pipesCount,Fp);var Nw=(!Fp||Fp.end!==!1)&&h3!==api$2.stdout&&h3!==api$2.stderr,Dp=Nw?zp:nM;t4.endEmitted?api$2.nextTick(Dp):W_.once("end",Dp),h3.on("unpipe",a1);function a1(Hm,y3){Gr("onunpipe"),Hm===W_&&y3&&y3.hasUnpiped===!1&&(y3.hasUnpiped=!0,nw())}function zp(){Gr("onend"),h3.end()}var v3=h0(W_);h3.on("drain",v3);var Mw=!1;function nw(){Gr("cleanup"),h3.removeListener("close",F_),h3.removeListener("finish",qx),h3.removeListener("drain",v3),h3.removeListener("error",Ww),h3.removeListener("unpipe",a1),W_.removeListener("end",zp),W_.removeListener("end",nM),W_.removeListener("data",n4),Mw=!0,t4.awaitDrain&&(!h3._writableState||h3._writableState.needDrain)&&v3()}W_.on("data",n4);function n4(Hm){Gr("ondata");var y3=h3.write(Hm);Gr("dest.write",y3),y3===!1&&((t4.pipesCount===1&&t4.pipes===h3||t4.pipesCount>1&&j_(t4.pipes,h3)!==-1)&&!Mw&&(Gr("false write response, pause",t4.awaitDrain),t4.awaitDrain++),W_.pause())}function Ww(Hm){Gr("onerror",Hm),nM(),h3.removeListener("error",Ww),lt(h3,"error")===0&&Lp(h3,Hm)}nm(h3,"error",Ww);function F_(){h3.removeListener("finish",qx),nM()}h3.once("close",F_);function qx(){Gr("onfinish"),h3.removeListener("close",F_),nM()}h3.once("finish",qx);function nM(){Gr("unpipe"),W_.unpipe(h3)}return h3.emit("pipe",W_),t4.flowing||(Gr("pipe resume"),W_.resume()),h3};function h0(h3){return function(){var Fp=h3._readableState;Gr("pipeOnDrain",Fp.awaitDrain),Fp.awaitDrain&&Fp.awaitDrain--,Fp.awaitDrain===0&&lt(h3,"data")&&(Fp.flowing=!0,Ym(h3))}}i1.prototype.unpipe=function(h3){var Fp=this._readableState,W_={hasUnpiped:!1};if(Fp.pipesCount===0)return this;if(Fp.pipesCount===1)return h3&&h3!==Fp.pipes?this:(h3||(h3=Fp.pipes),Fp.pipes=null,Fp.pipesCount=0,Fp.flowing=!1,h3&&h3.emit("unpipe",this,W_),this);if(!h3){var t4=Fp.pipes,Nw=Fp.pipesCount;Fp.pipes=null,Fp.pipesCount=0,Fp.flowing=!1;for(var Dp=0;Dp<Nw;Dp++)t4[Dp].emit("unpipe",this,{hasUnpiped:!1});return this}var a1=j_(Fp.pipes,h3);return a1===-1?this:(Fp.pipes.splice(a1,1),Fp.pipesCount-=1,Fp.pipesCount===1&&(Fp.pipes=Fp.pipes[0]),h3.emit("unpipe",this,W_),this)},i1.prototype.on=function(h3,Fp){var W_=ht.prototype.on.call(this,h3,Fp),t4=this._readableState;return h3==="data"?(t4.readableListening=this.listenerCount("readable")>0,t4.flowing!==!1&&this.resume()):h3==="readable"&&!t4.endEmitted&&!t4.readableListening&&(t4.readableListening=t4.needReadable=!0,t4.flowing=!1,t4.emittedReadable=!1,Gr("on readable",t4.length,t4.reading),t4.length?ip(this):t4.reading||api$2.nextTick(cm,this)),W_},i1.prototype.addListener=i1.prototype.on,i1.prototype.removeListener=function(h3,Fp){var W_=ht.prototype.removeListener.call(this,h3,Fp);return h3==="readable"&&api$2.nextTick(kp,this),W_},i1.prototype.removeAllListeners=function(h3){var Fp=ht.prototype.removeAllListeners.apply(this,arguments);return(h3==="readable"||h3===void 0)&&api$2.nextTick(kp,this),Fp};function kp(h3){var Fp=h3._readableState;Fp.readableListening=h3.listenerCount("readable")>0,Fp.resumeScheduled&&!Fp.paused?Fp.flowing=!0:h3.listenerCount("data")>0&&h3.resume()}function cm(h3){Gr("readable nexttick read 0"),h3.read(0)}i1.prototype.resume=function(){var h3=this._readableState;return h3.flowing||(Gr("resume"),h3.flowing=!h3.readableListening,b3(this,h3)),h3.paused=!1,this};function b3(h3,Fp){Fp.resumeScheduled||(Fp.resumeScheduled=!0,api$2.nextTick(L_,h3,Fp))}function L_(h3,Fp){Gr("resume",Fp.reading),Fp.reading||h3.read(0),Fp.resumeScheduled=!1,h3.emit("resume"),Ym(h3),Fp.flowing&&!Fp.reading&&h3.read(0)}i1.prototype.pause=function(){return Gr("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Gr("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ym(h3){var Fp=h3._readableState;for(Gr("flow",Fp.flowing);Fp.flowing&&h3.read()!==null;);}i1.prototype.wrap=function(h3){var Fp=this,W_=this._readableState,t4=!1;h3.on("end",function(){if(Gr("wrapped end"),W_.decoder&&!W_.ended){var a1=W_.decoder.end();a1&&a1.length&&Fp.push(a1)}Fp.push(null)}),h3.on("data",function(a1){if(Gr("wrapped data"),W_.decoder&&(a1=W_.decoder.write(a1)),!(W_.objectMode&&a1==null)&&!(!W_.objectMode&&(!a1||!a1.length))){var zp=Fp.push(a1);zp||(t4=!0,h3.pause())}});for(var Nw in h3)this[Nw]===void 0&&typeof h3[Nw]=="function"&&(this[Nw]=function(a1){return function(){return h3[a1].apply(h3,arguments)}}(Nw));for(var Dp=0;Dp<jp.length;Dp++)h3.on(jp[Dp],this.emit.bind(this,jp[Dp]));return this._read=function(a1){Gr("wrapped _read",a1),t4&&(t4=!1,h3.resume())},this},typeof Symbol=="function"&&(i1.prototype[Symbol.asyncIterator]=function(){return cp===void 0&&(cp=Wy()),cp(this)}),Object.defineProperty(i1.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i1.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i1.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(h3){this._readableState&&(this._readableState.flowing=h3)}}),i1._fromList=Xm,Object.defineProperty(i1.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Xm(h3,Fp){if(Fp.length===0)return null;var W_;return Fp.objectMode?W_=Fp.buffer.shift():!h3||h3>=Fp.length?(Fp.decoder?W_=Fp.buffer.join(""):Fp.buffer.length===1?W_=Fp.buffer.first():W_=Fp.buffer.concat(Fp.length),Fp.buffer.clear()):W_=Fp.buffer.consume(h3,Fp.decoder),W_}function Jm(h3){var Fp=h3._readableState;Gr("endReadable",Fp.endEmitted),Fp.endEmitted||(Fp.ended=!0,api$2.nextTick($_,Fp,h3))}function $_(h3,Fp){if(Gr("endReadableNT",h3.endEmitted,h3.length),!h3.endEmitted&&h3.length===0&&(h3.endEmitted=!0,Fp.readable=!1,Fp.emit("end"),h3.autoDestroy)){var W_=Fp._writableState;(!W_||W_.autoDestroy&&W_.finished)&&Fp.destroy()}}typeof Symbol=="function"&&(i1.from=function(h3,Fp){return Cp===void 0&&(Cp=Uy()),Cp(i1,h3,Fp)});function j_(h3,Fp){for(var W_=0,t4=h3.length;W_<t4;W_++)if(h3[W_]===Fp)return W_;return-1}return Dl}var D0=Hr,Ba=Gn.codes,zy=Ba.ERR_METHOD_NOT_IMPLEMENTED,Vy=Ba.ERR_MULTIPLE_CALLBACK,qy=Ba.ERR_TRANSFORM_ALREADY_TRANSFORMING,Hy=Ba.ERR_TRANSFORM_WITH_LENGTH_0,Fa=xi();Un(Hr,Fa);function Yy(ut,lt){var ht=this._transformState;ht.transforming=!1;var _t=ht.writecb;if(_t===null)return this.emit("error",new Vy);ht.writechunk=null,ht.writecb=null,lt!=null&&this.push(lt),_t(ut);var At=this._readableState;At.reading=!1,(At.needReadable||At.length<At.highWaterMark)&&this._read(At.highWaterMark)}function Hr(ut){if(!(this instanceof Hr))return new Hr(ut);Fa.call(this,ut),this._transformState={afterTransform:Yy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ut&&(typeof ut.transform=="function"&&(this._transform=ut.transform),typeof ut.flush=="function"&&(this._flush=ut.flush)),this.on("prefinish",Ky)}function Ky(){var ut=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(lt,ht){Qf(ut,lt,ht)}):Qf(this,null,null)}Hr.prototype.push=function(ut,lt){return this._transformState.needTransform=!1,Fa.prototype.push.call(this,ut,lt)};Hr.prototype._transform=function(ut,lt,ht){ht(new zy("_transform()"))};Hr.prototype._write=function(ut,lt,ht){var _t=this._transformState;if(_t.writecb=ht,_t.writechunk=ut,_t.writeencoding=lt,!_t.transforming){var At=this._readableState;(_t.needTransform||At.needReadable||At.length<At.highWaterMark)&&this._read(At.highWaterMark)}};Hr.prototype._read=function(ut){var lt=this._transformState;lt.writechunk!==null&&!lt.transforming?(lt.transforming=!0,this._transform(lt.writechunk,lt.writeencoding,lt.afterTransform)):lt.needTransform=!0};Hr.prototype._destroy=function(ut,lt){Fa.prototype._destroy.call(this,ut,function(ht){lt(ht)})};function Qf(ut,lt,ht){if(lt)return ut.emit("error",lt);if(ht!=null&&ut.push(ht),ut._writableState.length)throw new Hy;if(ut._transformState.transforming)throw new qy;return ut.push(null)}var Xy=Eo,M0=D0;Un(Eo,M0);function Eo(ut){if(!(this instanceof Eo))return new Eo(ut);M0.call(this,ut)}Eo.prototype._transform=function(ut,lt,ht){ht(null,ut)};var Ml;function Jy(ut){var lt=!1;return function(){lt||(lt=!0,ut.apply(void 0,arguments))}}var N0=Gn.codes,Qy=N0.ERR_MISSING_ARGS,Gy=N0.ERR_STREAM_DESTROYED;function Gf(ut){if(ut)throw ut}function Zy(ut){return ut.setHeader&&typeof ut.abort=="function"}function $y(ut,lt,ht,_t){_t=Jy(_t);var At=!1;ut.on("close",function(){At=!0}),Ml===void 0&&(Ml=mu),Ml(ut,{readable:lt,writable:ht},function(Zt){if(Zt)return _t(Zt);At=!0,_t()});var qt=!1;return function(Zt){if(!At&&!qt){if(qt=!0,Zy(ut))return ut.abort();if(typeof ut.destroy=="function")return ut.destroy();_t(Zt||new Gy("pipe"))}}}function Zf(ut){ut()}function eb(ut,lt){return ut.pipe(lt)}function tb(ut){return!ut.length||typeof ut[ut.length-1]!="function"?Gf:ut.pop()}function rb(){for(var ut=arguments.length,lt=new Array(ut),ht=0;ht<ut;ht++)lt[ht]=arguments[ht];var _t=tb(lt);if(Array.isArray(lt[0])&&(lt=lt[0]),lt.length<2)throw new Qy("streams");var At,qt=lt.map(function(Zt,cr){var Gr=cr<lt.length-1,Zr=cr>0;return $y(Zt,Gr,Zr,function(xn){At||(At=xn),xn&&qt.forEach(Zf),!Gr&&(qt.forEach(Zf),_t(At))})});return lt.reduce(eb)}var nb=rb;(function(ut,lt){lt=ut.exports=R0(),lt.Stream=lt,lt.Readable=lt,lt.Writable=I0(),lt.Duplex=xi(),lt.Transform=D0,lt.PassThrough=Xy,lt.finished=mu,lt.pipeline=nb})(wy,oa);/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let $f;var ib=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):ut=>($f||($f=Promise.resolve())).then(ut).catch(lt=>setTimeout(()=>{throw lt},0));function ed(ut,lt){for(const ht in lt)Object.defineProperty(ut,ht,{value:lt[ht],enumerable:!0,configurable:!0});return ut}function ob(ut,lt,ht){if(!ut||typeof ut=="string")throw new TypeError("Please pass an Error to err-code");ht||(ht={}),typeof lt=="object"&&(ht=lt,lt=""),lt&&(ht.code=lt);try{return ed(ut,ht)}catch{ht.message=ut.message,ht.stack=ut.stack;const _t=function(){};return _t.prototype=Object.create(Object.getPrototypeOf(ut)),ed(new _t,ht)}}var sb=ob,L0={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(ut){const lt=Yo,ht=La,_t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ut.Buffer=cr,ut.SlowBuffer=np,ut.INSPECT_MAX_BYTES=50;const At=2147483647;ut.kMaxLength=At,cr.TYPED_ARRAY_SUPPORT=qt(),!cr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qt(){try{const Hm=new Uint8Array(1),y3={foo:function(){return 42}};return Object.setPrototypeOf(y3,Uint8Array.prototype),Object.setPrototypeOf(Hm,y3),Hm.foo()===42}catch{return!1}}Object.defineProperty(cr.prototype,"parent",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.buffer}}),Object.defineProperty(cr.prototype,"offset",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.byteOffset}});function Zt(Hm){if(Hm>At)throw new RangeError('The value "'+Hm+'" is invalid for option "size"');const y3=new Uint8Array(Hm);return Object.setPrototypeOf(y3,cr.prototype),y3}function cr(Hm,y3,Q_){if(typeof Hm=="number"){if(typeof y3=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return On(Hm)}return Gr(Hm,y3,Q_)}cr.poolSize=8192;function Gr(Hm,y3,Q_){if(typeof Hm=="string")return ss(Hm,y3);if(ArrayBuffer.isView(Hm))return cs(Hm);if(Hm==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Hm);if(n4(Hm,ArrayBuffer)||Hm&&n4(Hm.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(n4(Hm,SharedArrayBuffer)||Hm&&n4(Hm.buffer,SharedArrayBuffer)))return wl(Hm,y3,Q_);if(typeof Hm=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Uw=Hm.valueOf&&Hm.valueOf();if(Uw!=null&&Uw!==Hm)return cr.from(Uw,y3,Q_);const s4=ep(Hm);if(s4)return s4;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Hm[Symbol.toPrimitive]=="function")return cr.from(Hm[Symbol.toPrimitive]("string"),y3,Q_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Hm)}cr.from=function(Hm,y3,Q_){return Gr(Hm,y3,Q_)},Object.setPrototypeOf(cr.prototype,Uint8Array.prototype),Object.setPrototypeOf(cr,Uint8Array);function Zr(Hm){if(typeof Hm!="number")throw new TypeError('"size" argument must be of type number');if(Hm<0)throw new RangeError('The value "'+Hm+'" is invalid for option "size"')}function xn(Hm,y3,Q_){return Zr(Hm),Hm<=0?Zt(Hm):y3!==void 0?typeof Q_=="string"?Zt(Hm).fill(y3,Q_):Zt(Hm).fill(y3):Zt(Hm)}cr.alloc=function(Hm,y3,Q_){return xn(Hm,y3,Q_)};function On(Hm){return Zr(Hm),Zt(Hm<0?0:Al(Hm)|0)}cr.allocUnsafe=function(Hm){return On(Hm)},cr.allocUnsafeSlow=function(Hm){return On(Hm)};function ss(Hm,y3){if((typeof y3!="string"||y3==="")&&(y3="utf8"),!cr.isEncoding(y3))throw new TypeError("Unknown encoding: "+y3);const Q_=cp(Hm,y3)|0;let Uw=Zt(Q_);const s4=Uw.write(Hm,y3);return s4!==Q_&&(Uw=Uw.slice(0,s4)),Uw}function ls(Hm){const y3=Hm.length<0?0:Al(Hm.length)|0,Q_=Zt(y3);for(let Uw=0;Uw<y3;Uw+=1)Q_[Uw]=Hm[Uw]&255;return Q_}function cs(Hm){if(n4(Hm,Uint8Array)){const y3=new Uint8Array(Hm);return wl(y3.buffer,y3.byteOffset,y3.byteLength)}return ls(Hm)}function wl(Hm,y3,Q_){if(y3<0||Hm.byteLength<y3)throw new RangeError('"offset" is outside of buffer bounds');if(Hm.byteLength<y3+(Q_||0))throw new RangeError('"length" is outside of buffer bounds');let Uw;return y3===void 0&&Q_===void 0?Uw=new Uint8Array(Hm):Q_===void 0?Uw=new Uint8Array(Hm,y3):Uw=new Uint8Array(Hm,y3,Q_),Object.setPrototypeOf(Uw,cr.prototype),Uw}function ep(Hm){if(cr.isBuffer(Hm)){const y3=Al(Hm.length)|0,Q_=Zt(y3);return Q_.length===0||Hm.copy(Q_,0,0,y3),Q_}if(Hm.length!==void 0)return typeof Hm.length!="number"||Ww(Hm.length)?Zt(0):ls(Hm);if(Hm.type==="Buffer"&&Array.isArray(Hm.data))return ls(Hm.data)}function Al(Hm){if(Hm>=At)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+At.toString(16)+" bytes");return Hm|0}function np(Hm){return+Hm!=Hm&&(Hm=0),cr.alloc(+Hm)}cr.isBuffer=function(Hm){return Hm!=null&&Hm._isBuffer===!0&&Hm!==cr.prototype},cr.compare=function(Hm,y3){if(n4(Hm,Uint8Array)&&(Hm=cr.from(Hm,Hm.offset,Hm.byteLength)),n4(y3,Uint8Array)&&(y3=cr.from(y3,y3.offset,y3.byteLength)),!cr.isBuffer(Hm)||!cr.isBuffer(y3))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Hm===y3)return 0;let Q_=Hm.length,Uw=y3.length;for(let s4=0,rM=Math.min(Q_,Uw);s4<rM;++s4)if(Hm[s4]!==y3[s4]){Q_=Hm[s4],Uw=y3[s4];break}return Q_<Uw?-1:Uw<Q_?1:0},cr.isEncoding=function(Hm){switch(String(Hm).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(Hm,y3){if(!Array.isArray(Hm))throw new TypeError('"list" argument must be an Array of Buffers');if(Hm.length===0)return cr.alloc(0);let Q_;if(y3===void 0)for(y3=0,Q_=0;Q_<Hm.length;++Q_)y3+=Hm[Q_].length;const Uw=cr.allocUnsafe(y3);let s4=0;for(Q_=0;Q_<Hm.length;++Q_){let rM=Hm[Q_];if(n4(rM,Uint8Array))s4+rM.length>Uw.length?(cr.isBuffer(rM)||(rM=cr.from(rM)),rM.copy(Uw,s4)):Uint8Array.prototype.set.call(Uw,rM,s4);else if(cr.isBuffer(rM))rM.copy(Uw,s4);else throw new TypeError('"list" argument must be an Array of Buffers');s4+=rM.length}return Uw};function cp(Hm,y3){if(cr.isBuffer(Hm))return Hm.length;if(ArrayBuffer.isView(Hm)||n4(Hm,ArrayBuffer))return Hm.byteLength;if(typeof Hm!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Hm);const Q_=Hm.length,Uw=arguments.length>2&&arguments[2]===!0;if(!Uw&&Q_===0)return 0;let s4=!1;for(;;)switch(y3){case"ascii":case"latin1":case"binary":return Q_;case"utf8":case"utf-8":return a1(Hm).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q_*2;case"hex":return Q_>>>1;case"base64":return Mw(Hm).length;default:if(s4)return Uw?-1:a1(Hm).length;y3=(""+y3).toLowerCase(),s4=!0}}cr.byteLength=cp;function Cp(Hm,y3,Q_){let Uw=!1;if((y3===void 0||y3<0)&&(y3=0),y3>this.length||((Q_===void 0||Q_>this.length)&&(Q_=this.length),Q_<=0)||(Q_>>>=0,y3>>>=0,Q_<=y3))return"";for(Hm||(Hm="utf8");;)switch(Hm){case"hex":return pu(this,y3,Q_);case"utf8":case"utf-8":return as(this,y3,Q_);case"ascii":return ip(this,y3,Q_);case"latin1":case"binary":return lp(this,y3,Q_);case"base64":return Fo(this,y3,Q_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return go(this,y3,Q_);default:if(Uw)throw new TypeError("Unknown encoding: "+Hm);Hm=(Hm+"").toLowerCase(),Uw=!0}}cr.prototype._isBuffer=!0;function Lp(Hm,y3,Q_){const Uw=Hm[y3];Hm[y3]=Hm[Q_],Hm[Q_]=Uw}cr.prototype.swap16=function(){const Hm=this.length;if(Hm%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let y3=0;y3<Hm;y3+=2)Lp(this,y3,y3+1);return this},cr.prototype.swap32=function(){const Hm=this.length;if(Hm%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y3=0;y3<Hm;y3+=4)Lp(this,y3,y3+3),Lp(this,y3+1,y3+2);return this},cr.prototype.swap64=function(){const Hm=this.length;if(Hm%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let y3=0;y3<Hm;y3+=8)Lp(this,y3,y3+7),Lp(this,y3+1,y3+6),Lp(this,y3+2,y3+5),Lp(this,y3+3,y3+4);return this},cr.prototype.toString=function(){const Hm=this.length;return Hm===0?"":arguments.length===0?as(this,0,Hm):Cp.apply(this,arguments)},cr.prototype.toLocaleString=cr.prototype.toString,cr.prototype.equals=function(Hm){if(!cr.isBuffer(Hm))throw new TypeError("Argument must be a Buffer");return this===Hm?!0:cr.compare(this,Hm)===0},cr.prototype.inspect=function(){let Hm="";const y3=ut.INSPECT_MAX_BYTES;return Hm=this.toString("hex",0,y3).replace(/(.{2})/g,"$1 ").trim(),this.length>y3&&(Hm+=" ... "),"<Buffer "+Hm+">"},_t&&(cr.prototype[_t]=cr.prototype.inspect),cr.prototype.compare=function(Hm,y3,Q_,Uw,s4){if(n4(Hm,Uint8Array)&&(Hm=cr.from(Hm,Hm.offset,Hm.byteLength)),!cr.isBuffer(Hm))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Hm);if(y3===void 0&&(y3=0),Q_===void 0&&(Q_=Hm?Hm.length:0),Uw===void 0&&(Uw=0),s4===void 0&&(s4=this.length),y3<0||Q_>Hm.length||Uw<0||s4>this.length)throw new RangeError("out of range index");if(Uw>=s4&&y3>=Q_)return 0;if(Uw>=s4)return-1;if(y3>=Q_)return 1;if(y3>>>=0,Q_>>>=0,Uw>>>=0,s4>>>=0,this===Hm)return 0;let rM=s4-Uw,c4=Q_-y3;const tM=Math.min(rM,c4),R5=this.slice(Uw,s4),r4=Hm.slice(y3,Q_);for(let a4=0;a4<tM;++a4)if(R5[a4]!==r4[a4]){rM=R5[a4],c4=r4[a4];break}return rM<c4?-1:c4<rM?1:0};function jp(Hm,y3,Q_,Uw,s4){if(Hm.length===0)return-1;if(typeof Q_=="string"?(Uw=Q_,Q_=0):Q_>2147483647?Q_=2147483647:Q_<-2147483648&&(Q_=-2147483648),Q_=+Q_,Ww(Q_)&&(Q_=s4?0:Hm.length-1),Q_<0&&(Q_=Hm.length+Q_),Q_>=Hm.length){if(s4)return-1;Q_=Hm.length-1}else if(Q_<0)if(s4)Q_=0;else return-1;if(typeof y3=="string"&&(y3=cr.from(y3,Uw)),cr.isBuffer(y3))return y3.length===0?-1:nm(Hm,y3,Q_,Uw,s4);if(typeof y3=="number")return y3=y3&255,typeof Uint8Array.prototype.indexOf=="function"?s4?Uint8Array.prototype.indexOf.call(Hm,y3,Q_):Uint8Array.prototype.lastIndexOf.call(Hm,y3,Q_):nm(Hm,[y3],Q_,Uw,s4);throw new TypeError("val must be string, number or Buffer")}function nm(Hm,y3,Q_,Uw,s4){let rM=1,c4=Hm.length,tM=y3.length;if(Uw!==void 0&&(Uw=String(Uw).toLowerCase(),Uw==="ucs2"||Uw==="ucs-2"||Uw==="utf16le"||Uw==="utf-16le")){if(Hm.length<2||y3.length<2)return-1;rM=2,c4/=2,tM/=2,Q_/=2}function R5(a4,cM){return rM===1?a4[cM]:a4.readUInt16BE(cM*rM)}let r4;if(s4){let a4=-1;for(r4=Q_;r4<c4;r4++)if(R5(Hm,r4)===R5(y3,a4===-1?0:r4-a4)){if(a4===-1&&(a4=r4),r4-a4+1===tM)return a4*rM}else a4!==-1&&(r4-=r4-a4),a4=-1}else for(Q_+tM>c4&&(Q_=c4-tM),r4=Q_;r4>=0;r4--){let a4=!0;for(let cM=0;cM<tM;cM++)if(R5(Hm,r4+cM)!==R5(y3,cM)){a4=!1;break}if(a4)return r4}return-1}cr.prototype.includes=function(Hm,y3,Q_){return this.indexOf(Hm,y3,Q_)!==-1},cr.prototype.indexOf=function(Hm,y3,Q_){return jp(this,Hm,y3,Q_,!0)},cr.prototype.lastIndexOf=function(Hm,y3,Q_){return jp(this,Hm,y3,Q_,!1)};function zm(Hm,y3,Q_,Uw){Q_=Number(Q_)||0;const s4=Hm.length-Q_;Uw?(Uw=Number(Uw),Uw>s4&&(Uw=s4)):Uw=s4;const rM=y3.length;Uw>rM/2&&(Uw=rM/2);let c4;for(c4=0;c4<Uw;++c4){const tM=parseInt(y3.substr(c4*2,2),16);if(Ww(tM))return c4;Hm[Q_+c4]=tM}return c4}function i1(Hm,y3,Q_,Uw){return nw(a1(y3,Hm.length-Q_),Hm,Q_,Uw)}function d3(Hm,y3,Q_,Uw){return nw(zp(y3),Hm,Q_,Uw)}function op(Hm,y3,Q_,Uw){return nw(Mw(y3),Hm,Q_,Uw)}function Sn(Hm,y3,Q_,Uw){return nw(v3(y3,Hm.length-Q_),Hm,Q_,Uw)}cr.prototype.write=function(Hm,y3,Q_,Uw){if(y3===void 0)Uw="utf8",Q_=this.length,y3=0;else if(Q_===void 0&&typeof y3=="string")Uw=y3,Q_=this.length,y3=0;else if(isFinite(y3))y3=y3>>>0,isFinite(Q_)?(Q_=Q_>>>0,Uw===void 0&&(Uw="utf8")):(Uw=Q_,Q_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s4=this.length-y3;if((Q_===void 0||Q_>s4)&&(Q_=s4),Hm.length>0&&(Q_<0||y3<0)||y3>this.length)throw new RangeError("Attempt to write outside buffer bounds");Uw||(Uw="utf8");let rM=!1;for(;;)switch(Uw){case"hex":return zm(this,Hm,y3,Q_);case"utf8":case"utf-8":return i1(this,Hm,y3,Q_);case"ascii":case"latin1":case"binary":return d3(this,Hm,y3,Q_);case"base64":return op(this,Hm,y3,Q_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sn(this,Hm,y3,Q_);default:if(rM)throw new TypeError("Unknown encoding: "+Uw);Uw=(""+Uw).toLowerCase(),rM=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fo(Hm,y3,Q_){return y3===0&&Q_===Hm.length?lt.fromByteArray(Hm):lt.fromByteArray(Hm.slice(y3,Q_))}function as(Hm,y3,Q_){Q_=Math.min(Hm.length,Q_);const Uw=[];let s4=y3;for(;s4<Q_;){const rM=Hm[s4];let c4=null,tM=rM>239?4:rM>223?3:rM>191?2:1;if(s4+tM<=Q_){let R5,r4,a4,cM;switch(tM){case 1:rM<128&&(c4=rM);break;case 2:R5=Hm[s4+1],(R5&192)===128&&(cM=(rM&31)<<6|R5&63,cM>127&&(c4=cM));break;case 3:R5=Hm[s4+1],r4=Hm[s4+2],(R5&192)===128&&(r4&192)===128&&(cM=(rM&15)<<12|(R5&63)<<6|r4&63,cM>2047&&(cM<55296||cM>57343)&&(c4=cM));break;case 4:R5=Hm[s4+1],r4=Hm[s4+2],a4=Hm[s4+3],(R5&192)===128&&(r4&192)===128&&(a4&192)===128&&(cM=(rM&15)<<18|(R5&63)<<12|(r4&63)<<6|a4&63,cM>65535&&cM<1114112&&(c4=cM))}}c4===null?(c4=65533,tM=1):c4>65535&&(c4-=65536,Uw.push(c4>>>10&1023|55296),c4=56320|c4&1023),Uw.push(c4),s4+=tM}return xl(Uw)}const us=4096;function xl(Hm){const y3=Hm.length;if(y3<=us)return String.fromCharCode.apply(String,Hm);let Q_="",Uw=0;for(;Uw<y3;)Q_+=String.fromCharCode.apply(String,Hm.slice(Uw,Uw+=us));return Q_}function ip(Hm,y3,Q_){let Uw="";Q_=Math.min(Hm.length,Q_);for(let s4=y3;s4<Q_;++s4)Uw+=String.fromCharCode(Hm[s4]&127);return Uw}function lp(Hm,y3,Q_){let Uw="";Q_=Math.min(Hm.length,Q_);for(let s4=y3;s4<Q_;++s4)Uw+=String.fromCharCode(Hm[s4]);return Uw}function pu(Hm,y3,Q_){const Uw=Hm.length;(!y3||y3<0)&&(y3=0),(!Q_||Q_<0||Q_>Uw)&&(Q_=Uw);let s4="";for(let rM=y3;rM<Q_;++rM)s4+=F_[Hm[rM]];return s4}function go(Hm,y3,Q_){const Uw=Hm.slice(y3,Q_);let s4="";for(let rM=0;rM<Uw.length-1;rM+=2)s4+=String.fromCharCode(Uw[rM]+Uw[rM+1]*256);return s4}cr.prototype.slice=function(Hm,y3){const Q_=this.length;Hm=~~Hm,y3=y3===void 0?Q_:~~y3,Hm<0?(Hm+=Q_,Hm<0&&(Hm=0)):Hm>Q_&&(Hm=Q_),y3<0?(y3+=Q_,y3<0&&(y3=0)):y3>Q_&&(y3=Q_),y3<Hm&&(y3=Hm);const Uw=this.subarray(Hm,y3);return Object.setPrototypeOf(Uw,cr.prototype),Uw};function h0(Hm,y3,Q_){if(Hm%1!==0||Hm<0)throw new RangeError("offset is not uint");if(Hm+y3>Q_)throw new RangeError("Trying to access beyond buffer length")}cr.prototype.readUintLE=cr.prototype.readUIntLE=function(Hm,y3,Q_){Hm=Hm>>>0,y3=y3>>>0,Q_||h0(Hm,y3,this.length);let Uw=this[Hm],s4=1,rM=0;for(;++rM<y3&&(s4*=256);)Uw+=this[Hm+rM]*s4;return Uw},cr.prototype.readUintBE=cr.prototype.readUIntBE=function(Hm,y3,Q_){Hm=Hm>>>0,y3=y3>>>0,Q_||h0(Hm,y3,this.length);let Uw=this[Hm+--y3],s4=1;for(;y3>0&&(s4*=256);)Uw+=this[Hm+--y3]*s4;return Uw},cr.prototype.readUint8=cr.prototype.readUInt8=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,1,this.length),this[Hm]},cr.prototype.readUint16LE=cr.prototype.readUInt16LE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,2,this.length),this[Hm]|this[Hm+1]<<8},cr.prototype.readUint16BE=cr.prototype.readUInt16BE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,2,this.length),this[Hm]<<8|this[Hm+1]},cr.prototype.readUint32LE=cr.prototype.readUInt32LE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),(this[Hm]|this[Hm+1]<<8|this[Hm+2]<<16)+this[Hm+3]*16777216},cr.prototype.readUint32BE=cr.prototype.readUInt32BE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),this[Hm]*16777216+(this[Hm+1]<<16|this[Hm+2]<<8|this[Hm+3])},cr.prototype.readBigUInt64LE=qx(function(Hm){Hm=Hm>>>0,W_(Hm,"offset");const y3=this[Hm],Q_=this[Hm+7];(y3===void 0||Q_===void 0)&&t4(Hm,this.length-8);const Uw=y3+this[++Hm]*2**8+this[++Hm]*2**16+this[++Hm]*2**24,s4=this[++Hm]+this[++Hm]*2**8+this[++Hm]*2**16+Q_*2**24;return BigInt(Uw)+(BigInt(s4)<<BigInt(32))}),cr.prototype.readBigUInt64BE=qx(function(Hm){Hm=Hm>>>0,W_(Hm,"offset");const y3=this[Hm],Q_=this[Hm+7];(y3===void 0||Q_===void 0)&&t4(Hm,this.length-8);const Uw=y3*2**24+this[++Hm]*2**16+this[++Hm]*2**8+this[++Hm],s4=this[++Hm]*2**24+this[++Hm]*2**16+this[++Hm]*2**8+Q_;return(BigInt(Uw)<<BigInt(32))+BigInt(s4)}),cr.prototype.readIntLE=function(Hm,y3,Q_){Hm=Hm>>>0,y3=y3>>>0,Q_||h0(Hm,y3,this.length);let Uw=this[Hm],s4=1,rM=0;for(;++rM<y3&&(s4*=256);)Uw+=this[Hm+rM]*s4;return s4*=128,Uw>=s4&&(Uw-=Math.pow(2,8*y3)),Uw},cr.prototype.readIntBE=function(Hm,y3,Q_){Hm=Hm>>>0,y3=y3>>>0,Q_||h0(Hm,y3,this.length);let Uw=y3,s4=1,rM=this[Hm+--Uw];for(;Uw>0&&(s4*=256);)rM+=this[Hm+--Uw]*s4;return s4*=128,rM>=s4&&(rM-=Math.pow(2,8*y3)),rM},cr.prototype.readInt8=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,1,this.length),this[Hm]&128?(255-this[Hm]+1)*-1:this[Hm]},cr.prototype.readInt16LE=function(Hm,y3){Hm=Hm>>>0,y3||h0(Hm,2,this.length);const Q_=this[Hm]|this[Hm+1]<<8;return Q_&32768?Q_|4294901760:Q_},cr.prototype.readInt16BE=function(Hm,y3){Hm=Hm>>>0,y3||h0(Hm,2,this.length);const Q_=this[Hm+1]|this[Hm]<<8;return Q_&32768?Q_|4294901760:Q_},cr.prototype.readInt32LE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),this[Hm]|this[Hm+1]<<8|this[Hm+2]<<16|this[Hm+3]<<24},cr.prototype.readInt32BE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),this[Hm]<<24|this[Hm+1]<<16|this[Hm+2]<<8|this[Hm+3]},cr.prototype.readBigInt64LE=qx(function(Hm){Hm=Hm>>>0,W_(Hm,"offset");const y3=this[Hm],Q_=this[Hm+7];(y3===void 0||Q_===void 0)&&t4(Hm,this.length-8);const Uw=this[Hm+4]+this[Hm+5]*2**8+this[Hm+6]*2**16+(Q_<<24);return(BigInt(Uw)<<BigInt(32))+BigInt(y3+this[++Hm]*2**8+this[++Hm]*2**16+this[++Hm]*2**24)}),cr.prototype.readBigInt64BE=qx(function(Hm){Hm=Hm>>>0,W_(Hm,"offset");const y3=this[Hm],Q_=this[Hm+7];(y3===void 0||Q_===void 0)&&t4(Hm,this.length-8);const Uw=(y3<<24)+this[++Hm]*2**16+this[++Hm]*2**8+this[++Hm];return(BigInt(Uw)<<BigInt(32))+BigInt(this[++Hm]*2**24+this[++Hm]*2**16+this[++Hm]*2**8+Q_)}),cr.prototype.readFloatLE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),ht.read(this,Hm,!0,23,4)},cr.prototype.readFloatBE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,4,this.length),ht.read(this,Hm,!1,23,4)},cr.prototype.readDoubleLE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,8,this.length),ht.read(this,Hm,!0,52,8)},cr.prototype.readDoubleBE=function(Hm,y3){return Hm=Hm>>>0,y3||h0(Hm,8,this.length),ht.read(this,Hm,!1,52,8)};function kp(Hm,y3,Q_,Uw,s4,rM){if(!cr.isBuffer(Hm))throw new TypeError('"buffer" argument must be a Buffer instance');if(y3>s4||y3<rM)throw new RangeError('"value" argument is out of bounds');if(Q_+Uw>Hm.length)throw new RangeError("Index out of range")}cr.prototype.writeUintLE=cr.prototype.writeUIntLE=function(Hm,y3,Q_,Uw){if(Hm=+Hm,y3=y3>>>0,Q_=Q_>>>0,!Uw){const c4=Math.pow(2,8*Q_)-1;kp(this,Hm,y3,Q_,c4,0)}let s4=1,rM=0;for(this[y3]=Hm&255;++rM<Q_&&(s4*=256);)this[y3+rM]=Hm/s4&255;return y3+Q_},cr.prototype.writeUintBE=cr.prototype.writeUIntBE=function(Hm,y3,Q_,Uw){if(Hm=+Hm,y3=y3>>>0,Q_=Q_>>>0,!Uw){const c4=Math.pow(2,8*Q_)-1;kp(this,Hm,y3,Q_,c4,0)}let s4=Q_-1,rM=1;for(this[y3+s4]=Hm&255;--s4>=0&&(rM*=256);)this[y3+s4]=Hm/rM&255;return y3+Q_},cr.prototype.writeUint8=cr.prototype.writeUInt8=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,1,255,0),this[y3]=Hm&255,y3+1},cr.prototype.writeUint16LE=cr.prototype.writeUInt16LE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,2,65535,0),this[y3]=Hm&255,this[y3+1]=Hm>>>8,y3+2},cr.prototype.writeUint16BE=cr.prototype.writeUInt16BE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,2,65535,0),this[y3]=Hm>>>8,this[y3+1]=Hm&255,y3+2},cr.prototype.writeUint32LE=cr.prototype.writeUInt32LE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,4,4294967295,0),this[y3+3]=Hm>>>24,this[y3+2]=Hm>>>16,this[y3+1]=Hm>>>8,this[y3]=Hm&255,y3+4},cr.prototype.writeUint32BE=cr.prototype.writeUInt32BE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,4,4294967295,0),this[y3]=Hm>>>24,this[y3+1]=Hm>>>16,this[y3+2]=Hm>>>8,this[y3+3]=Hm&255,y3+4};function cm(Hm,y3,Q_,Uw,s4){Fp(y3,Uw,s4,Hm,Q_,7);let rM=Number(y3&BigInt(4294967295));Hm[Q_++]=rM,rM=rM>>8,Hm[Q_++]=rM,rM=rM>>8,Hm[Q_++]=rM,rM=rM>>8,Hm[Q_++]=rM;let c4=Number(y3>>BigInt(32)&BigInt(4294967295));return Hm[Q_++]=c4,c4=c4>>8,Hm[Q_++]=c4,c4=c4>>8,Hm[Q_++]=c4,c4=c4>>8,Hm[Q_++]=c4,Q_}function b3(Hm,y3,Q_,Uw,s4){Fp(y3,Uw,s4,Hm,Q_,7);let rM=Number(y3&BigInt(4294967295));Hm[Q_+7]=rM,rM=rM>>8,Hm[Q_+6]=rM,rM=rM>>8,Hm[Q_+5]=rM,rM=rM>>8,Hm[Q_+4]=rM;let c4=Number(y3>>BigInt(32)&BigInt(4294967295));return Hm[Q_+3]=c4,c4=c4>>8,Hm[Q_+2]=c4,c4=c4>>8,Hm[Q_+1]=c4,c4=c4>>8,Hm[Q_]=c4,Q_+8}cr.prototype.writeBigUInt64LE=qx(function(Hm,y3=0){return cm(this,Hm,y3,BigInt(0),BigInt("0xffffffffffffffff"))}),cr.prototype.writeBigUInt64BE=qx(function(Hm,y3=0){return b3(this,Hm,y3,BigInt(0),BigInt("0xffffffffffffffff"))}),cr.prototype.writeIntLE=function(Hm,y3,Q_,Uw){if(Hm=+Hm,y3=y3>>>0,!Uw){const tM=Math.pow(2,8*Q_-1);kp(this,Hm,y3,Q_,tM-1,-tM)}let s4=0,rM=1,c4=0;for(this[y3]=Hm&255;++s4<Q_&&(rM*=256);)Hm<0&&c4===0&&this[y3+s4-1]!==0&&(c4=1),this[y3+s4]=(Hm/rM>>0)-c4&255;return y3+Q_},cr.prototype.writeIntBE=function(Hm,y3,Q_,Uw){if(Hm=+Hm,y3=y3>>>0,!Uw){const tM=Math.pow(2,8*Q_-1);kp(this,Hm,y3,Q_,tM-1,-tM)}let s4=Q_-1,rM=1,c4=0;for(this[y3+s4]=Hm&255;--s4>=0&&(rM*=256);)Hm<0&&c4===0&&this[y3+s4+1]!==0&&(c4=1),this[y3+s4]=(Hm/rM>>0)-c4&255;return y3+Q_},cr.prototype.writeInt8=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,1,127,-128),Hm<0&&(Hm=255+Hm+1),this[y3]=Hm&255,y3+1},cr.prototype.writeInt16LE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,2,32767,-32768),this[y3]=Hm&255,this[y3+1]=Hm>>>8,y3+2},cr.prototype.writeInt16BE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,2,32767,-32768),this[y3]=Hm>>>8,this[y3+1]=Hm&255,y3+2},cr.prototype.writeInt32LE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,4,2147483647,-2147483648),this[y3]=Hm&255,this[y3+1]=Hm>>>8,this[y3+2]=Hm>>>16,this[y3+3]=Hm>>>24,y3+4},cr.prototype.writeInt32BE=function(Hm,y3,Q_){return Hm=+Hm,y3=y3>>>0,Q_||kp(this,Hm,y3,4,2147483647,-2147483648),Hm<0&&(Hm=4294967295+Hm+1),this[y3]=Hm>>>24,this[y3+1]=Hm>>>16,this[y3+2]=Hm>>>8,this[y3+3]=Hm&255,y3+4},cr.prototype.writeBigInt64LE=qx(function(Hm,y3=0){return cm(this,Hm,y3,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),cr.prototype.writeBigInt64BE=qx(function(Hm,y3=0){return b3(this,Hm,y3,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L_(Hm,y3,Q_,Uw,s4,rM){if(Q_+Uw>Hm.length)throw new RangeError("Index out of range");if(Q_<0)throw new RangeError("Index out of range")}function Ym(Hm,y3,Q_,Uw,s4){return y3=+y3,Q_=Q_>>>0,s4||L_(Hm,y3,Q_,4),ht.write(Hm,y3,Q_,Uw,23,4),Q_+4}cr.prototype.writeFloatLE=function(Hm,y3,Q_){return Ym(this,Hm,y3,!0,Q_)},cr.prototype.writeFloatBE=function(Hm,y3,Q_){return Ym(this,Hm,y3,!1,Q_)};function Xm(Hm,y3,Q_,Uw,s4){return y3=+y3,Q_=Q_>>>0,s4||L_(Hm,y3,Q_,8),ht.write(Hm,y3,Q_,Uw,52,8),Q_+8}cr.prototype.writeDoubleLE=function(Hm,y3,Q_){return Xm(this,Hm,y3,!0,Q_)},cr.prototype.writeDoubleBE=function(Hm,y3,Q_){return Xm(this,Hm,y3,!1,Q_)},cr.prototype.copy=function(Hm,y3,Q_,Uw){if(!cr.isBuffer(Hm))throw new TypeError("argument should be a Buffer");if(Q_||(Q_=0),!Uw&&Uw!==0&&(Uw=this.length),y3>=Hm.length&&(y3=Hm.length),y3||(y3=0),Uw>0&&Uw<Q_&&(Uw=Q_),Uw===Q_||Hm.length===0||this.length===0)return 0;if(y3<0)throw new RangeError("targetStart out of bounds");if(Q_<0||Q_>=this.length)throw new RangeError("Index out of range");if(Uw<0)throw new RangeError("sourceEnd out of bounds");Uw>this.length&&(Uw=this.length),Hm.length-y3<Uw-Q_&&(Uw=Hm.length-y3+Q_);const s4=Uw-Q_;return this===Hm&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(y3,Q_,Uw):Uint8Array.prototype.set.call(Hm,this.subarray(Q_,Uw),y3),s4},cr.prototype.fill=function(Hm,y3,Q_,Uw){if(typeof Hm=="string"){if(typeof y3=="string"?(Uw=y3,y3=0,Q_=this.length):typeof Q_=="string"&&(Uw=Q_,Q_=this.length),Uw!==void 0&&typeof Uw!="string")throw new TypeError("encoding must be a string");if(typeof Uw=="string"&&!cr.isEncoding(Uw))throw new TypeError("Unknown encoding: "+Uw);if(Hm.length===1){const rM=Hm.charCodeAt(0);(Uw==="utf8"&&rM<128||Uw==="latin1")&&(Hm=rM)}}else typeof Hm=="number"?Hm=Hm&255:typeof Hm=="boolean"&&(Hm=Number(Hm));if(y3<0||this.length<y3||this.length<Q_)throw new RangeError("Out of range index");if(Q_<=y3)return this;y3=y3>>>0,Q_=Q_===void 0?this.length:Q_>>>0,Hm||(Hm=0);let s4;if(typeof Hm=="number")for(s4=y3;s4<Q_;++s4)this[s4]=Hm;else{const rM=cr.isBuffer(Hm)?Hm:cr.from(Hm,Uw),c4=rM.length;if(c4===0)throw new TypeError('The value "'+Hm+'" is invalid for argument "value"');for(s4=0;s4<Q_-y3;++s4)this[s4+y3]=rM[s4%c4]}return this};const Jm={};function $_(Hm,y3,Q_){Jm[Hm]=class extends Q_{constructor(){super(),Object.defineProperty(this,"message",{value:y3.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Hm}]`,this.stack,delete this.name}get code(){return Hm}set code(Uw){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Uw,writable:!0})}toString(){return`${this.name} [${Hm}]: ${this.message}`}}}$_("ERR_BUFFER_OUT_OF_BOUNDS",function(Hm){return Hm?`${Hm} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$_("ERR_INVALID_ARG_TYPE",function(Hm,y3){return`The "${Hm}" argument must be of type number. Received type ${typeof y3}`},TypeError),$_("ERR_OUT_OF_RANGE",function(Hm,y3,Q_){let Uw=`The value of "${Hm}" is out of range.`,s4=Q_;return Number.isInteger(Q_)&&Math.abs(Q_)>2**32?s4=j_(String(Q_)):typeof Q_=="bigint"&&(s4=String(Q_),(Q_>BigInt(2)**BigInt(32)||Q_<-(BigInt(2)**BigInt(32)))&&(s4=j_(s4)),s4+="n"),Uw+=` It must be ${y3}. Received ${s4}`,Uw},RangeError);function j_(Hm){let y3="",Q_=Hm.length;const Uw=Hm[0]==="-"?1:0;for(;Q_>=Uw+4;Q_-=3)y3=`_${Hm.slice(Q_-3,Q_)}${y3}`;return`${Hm.slice(0,Q_)}${y3}`}function h3(Hm,y3,Q_){W_(y3,"offset"),(Hm[y3]===void 0||Hm[y3+Q_]===void 0)&&t4(y3,Hm.length-(Q_+1))}function Fp(Hm,y3,Q_,Uw,s4,rM){if(Hm>Q_||Hm<y3){const c4=typeof y3=="bigint"?"n":"";let tM;throw rM>3?y3===0||y3===BigInt(0)?tM=`>= 0${c4} and < 2${c4} ** ${(rM+1)*8}${c4}`:tM=`>= -(2${c4} ** ${(rM+1)*8-1}${c4}) and < 2 ** ${(rM+1)*8-1}${c4}`:tM=`>= ${y3}${c4} and <= ${Q_}${c4}`,new Jm.ERR_OUT_OF_RANGE("value",tM,Hm)}h3(Uw,s4,rM)}function W_(Hm,y3){if(typeof Hm!="number")throw new Jm.ERR_INVALID_ARG_TYPE(y3,"number",Hm)}function t4(Hm,y3,Q_){throw Math.floor(Hm)!==Hm?(W_(Hm,Q_),new Jm.ERR_OUT_OF_RANGE(Q_||"offset","an integer",Hm)):y3<0?new Jm.ERR_BUFFER_OUT_OF_BOUNDS:new Jm.ERR_OUT_OF_RANGE(Q_||"offset",`>= ${Q_?1:0} and <= ${y3}`,Hm)}const Nw=/[^+/0-9A-Za-z-_]/g;function Dp(Hm){if(Hm=Hm.split("=")[0],Hm=Hm.trim().replace(Nw,""),Hm.length<2)return"";for(;Hm.length%4!==0;)Hm=Hm+"=";return Hm}function a1(Hm,y3){y3=y3||1/0;let Q_;const Uw=Hm.length;let s4=null;const rM=[];for(let c4=0;c4<Uw;++c4){if(Q_=Hm.charCodeAt(c4),Q_>55295&&Q_<57344){if(!s4){if(Q_>56319){(y3-=3)>-1&&rM.push(239,191,189);continue}else if(c4+1===Uw){(y3-=3)>-1&&rM.push(239,191,189);continue}s4=Q_;continue}if(Q_<56320){(y3-=3)>-1&&rM.push(239,191,189),s4=Q_;continue}Q_=(s4-55296<<10|Q_-56320)+65536}else s4&&(y3-=3)>-1&&rM.push(239,191,189);if(s4=null,Q_<128){if((y3-=1)<0)break;rM.push(Q_)}else if(Q_<2048){if((y3-=2)<0)break;rM.push(Q_>>6|192,Q_&63|128)}else if(Q_<65536){if((y3-=3)<0)break;rM.push(Q_>>12|224,Q_>>6&63|128,Q_&63|128)}else if(Q_<1114112){if((y3-=4)<0)break;rM.push(Q_>>18|240,Q_>>12&63|128,Q_>>6&63|128,Q_&63|128)}else throw new Error("Invalid code point")}return rM}function zp(Hm){const y3=[];for(let Q_=0;Q_<Hm.length;++Q_)y3.push(Hm.charCodeAt(Q_)&255);return y3}function v3(Hm,y3){let Q_,Uw,s4;const rM=[];for(let c4=0;c4<Hm.length&&!((y3-=2)<0);++c4)Q_=Hm.charCodeAt(c4),Uw=Q_>>8,s4=Q_%256,rM.push(s4),rM.push(Uw);return rM}function Mw(Hm){return lt.toByteArray(Dp(Hm))}function nw(Hm,y3,Q_,Uw){let s4;for(s4=0;s4<Uw&&!(s4+Q_>=y3.length||s4>=Hm.length);++s4)y3[s4+Q_]=Hm[s4];return s4}function n4(Hm,y3){return Hm instanceof y3||Hm!=null&&Hm.constructor!=null&&Hm.constructor.name!=null&&Hm.constructor.name===y3.name}function Ww(Hm){return Hm!==Hm}const F_=function(){const Hm="0123456789abcdef",y3=new Array(256);for(let Q_=0;Q_<16;++Q_){const Uw=Q_*16;for(let s4=0;s4<16;++s4)y3[Uw+s4]=Hm[Q_]+Hm[s4]}return y3}();function qx(Hm){return typeof BigInt>"u"?nM:Hm}function nM(){throw new Error("BigInt not supported")}})(L0);/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */const ab=na("simple-peer"),B0=ay,td$1=_c,lb=oa,Nl=ib,Be=sb,{Buffer:cb}=L0,Ll=64*1024,ub=5*1e3,fb=5*1e3;function rd(ut){return ut.replace(/a=ice-options:trickle\s\n/g,"")}function db(ut){console.warn(ut)}class zn extends lb.Duplex{constructor(lt){if(lt=Object.assign({allowHalfOpen:!1},lt),super(lt),this._id=td$1(4).toString("hex").slice(0,7),this._debug("new peer %o",lt),this.channelName=lt.initiator?lt.channelName||td$1(20).toString("hex"):null,this.initiator=lt.initiator||!1,this.channelConfig=lt.channelConfig||zn.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},zn.config,lt.config),this.offerOptions=lt.offerOptions||{},this.answerOptions=lt.answerOptions||{},this.sdpTransform=lt.sdpTransform||(ht=>ht),this.streams=lt.streams||(lt.stream?[lt.stream]:[]),this.trickle=lt.trickle!==void 0?lt.trickle:!0,this.allowHalfTrickle=lt.allowHalfTrickle!==void 0?lt.allowHalfTrickle:!1,this.iceCompleteTimeout=lt.iceCompleteTimeout||ub,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=lt.wrtc&&typeof lt.wrtc=="object"?lt.wrtc:B0(),!this._wrtc)throw Be(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(ht){this.destroy(Be(ht,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=ht=>{this._onIceCandidate(ht)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(ht=>{this.destroy(Be(ht,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=ht=>{this._setupData(ht)},this.streams&&this.streams.forEach(ht=>{this.addStream(ht)}),this._pc.ontrack=ht=>{this._onTrack(ht)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(lt){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof lt=="string")try{lt=JSON.parse(lt)}catch{lt={}}this._debug("signal()"),lt.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),lt.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(lt.transceiverRequest.kind,lt.transceiverRequest.init)),lt.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(lt.candidate):this._pendingCandidates.push(lt.candidate)),lt.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(lt)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(ht=>{this._addIceCandidate(ht)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(ht=>{this.destroy(Be(ht,"ERR_SET_REMOTE_DESCRIPTION"))}),!lt.sdp&&!lt.candidate&&!lt.renegotiate&&!lt.transceiverRequest&&this.destroy(Be(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(lt){const ht=new this._wrtc.RTCIceCandidate(lt);this._pc.addIceCandidate(ht).catch(_t=>{!ht.address||ht.address.endsWith(".local")?db("Ignoring unsupported ICE candidate."):this.destroy(Be(_t,"ERR_ADD_ICE_CANDIDATE"))})}send(lt){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(lt)}}addTransceiver(lt,ht){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(lt,ht),this._needsNegotiation()}catch(_t){this.destroy(Be(_t,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:lt,init:ht}})}}addStream(lt){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),lt.getTracks().forEach(ht=>{this.addTrack(ht,lt)})}}addTrack(lt,ht){if(this.destroying)return;if(this.destroyed)throw Be(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _t=this._senderMap.get(lt)||new Map;let At=_t.get(ht);if(!At)At=this._pc.addTrack(lt,ht),_t.set(ht,At),this._senderMap.set(lt,_t),this._needsNegotiation();else throw At.removed?Be(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Be(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(lt,ht,_t){if(this.destroying)return;if(this.destroyed)throw Be(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const At=this._senderMap.get(lt),qt=At?At.get(_t):null;if(!qt)throw Be(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");ht&&this._senderMap.set(ht,At),qt.replaceTrack!=null?qt.replaceTrack(ht):this.destroy(Be(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(lt,ht){if(this.destroying)return;if(this.destroyed)throw Be(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _t=this._senderMap.get(lt),At=_t?_t.get(ht):null;if(!At)throw Be(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{At.removed=!0,this._pc.removeTrack(At)}catch(qt){qt.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(At):this.destroy(Be(qt,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(lt){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),lt.getTracks().forEach(ht=>{this.removeTrack(ht,lt)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,Nl(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw Be(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(lt){this._destroy(lt,()=>{})}_destroy(lt,ht){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",lt&&(lt.message||lt)),Nl(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",lt&&(lt.message||lt)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,lt&&this.emit("error",lt),this.emit("close"),ht()}))}_setupData(lt){if(!lt.channel)return this.destroy(Be(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=lt.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=Ll),this.channelName=this._channel.label,this._channel.onmessage=_t=>{this._onChannelMessage(_t)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_t=>{const At=_t.error instanceof Error?_t.error:new Error(`Datachannel error: ${_t.message} ${_t.filename}:${_t.lineno}:${_t.colno}`);this.destroy(Be(At,"ERR_DATA_CHANNEL"))};let ht=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(ht&&this._onChannelClose(),ht=!0):ht=!1},fb)}_read(){}_write(lt,ht,_t){if(this.destroyed)return _t(Be(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(lt)}catch(At){return this.destroy(Be(At,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>Ll?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_t):_t(null)}else this._debug("write before connect"),this._chunk=lt,this._cb=_t}_onFinish(){if(this.destroyed)return;const lt=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?lt():this.once("connect",lt)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(lt=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(lt.sdp=rd(lt.sdp)),lt.sdp=this.sdpTransform(lt.sdp);const ht=()=>{if(this.destroyed)return;const qt=this._pc.localDescription||lt;this._debug("signal"),this.emit("signal",{type:qt.type,sdp:qt.sdp})},_t=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?ht():this.once("_iceComplete",ht))},At=qt=>{this.destroy(Be(qt,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(lt).then(_t).catch(At)}).catch(lt=>{this.destroy(Be(lt,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(lt=>{!lt.mid&&lt.sender.track&&!lt.requested&&(lt.requested=!0,this.addTransceiver(lt.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(lt=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(lt.sdp=rd(lt.sdp)),lt.sdp=this.sdpTransform(lt.sdp);const ht=()=>{if(this.destroyed)return;const qt=this._pc.localDescription||lt;this._debug("signal"),this.emit("signal",{type:qt.type,sdp:qt.sdp}),this.initiator||this._requestMissingTransceivers()},_t=()=>{this.destroyed||(this.trickle||this._iceComplete?ht():this.once("_iceComplete",ht))},At=qt=>{this.destroy(Be(qt,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(lt).then(_t).catch(At)}).catch(lt=>{this.destroy(Be(lt,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(Be(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const lt=this._pc.iceConnectionState,ht=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",lt,ht),this.emit("iceStateChange",lt,ht),(lt==="connected"||lt==="completed")&&(this._pcReady=!0,this._maybeReady()),lt==="failed"&&this.destroy(Be(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),lt==="closed"&&this.destroy(Be(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(lt){const ht=_t=>(Object.prototype.toString.call(_t.values)==="[object Array]"&&_t.values.forEach(At=>{Object.assign(_t,At)}),_t);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_t=>{const At=[];_t.forEach(qt=>{At.push(ht(qt))}),lt(null,At)},_t=>lt(_t)):this._pc.getStats.length>0?this._pc.getStats(_t=>{if(this.destroyed)return;const At=[];_t.result().forEach(qt=>{const Zt={};qt.names().forEach(cr=>{Zt[cr]=qt.stat(cr)}),Zt.id=qt.id,Zt.type=qt.type,Zt.timestamp=qt.timestamp,At.push(ht(Zt))}),lt(null,At)},_t=>lt(_t)):lt(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const lt=()=>{this.destroyed||this.getStats((ht,_t)=>{if(this.destroyed)return;ht&&(_t=[]);const At={},qt={},Zt={};let cr=!1;_t.forEach(Zr=>{(Zr.type==="remotecandidate"||Zr.type==="remote-candidate")&&(At[Zr.id]=Zr),(Zr.type==="localcandidate"||Zr.type==="local-candidate")&&(qt[Zr.id]=Zr),(Zr.type==="candidatepair"||Zr.type==="candidate-pair")&&(Zt[Zr.id]=Zr)});const Gr=Zr=>{cr=!0;let xn=qt[Zr.localCandidateId];xn&&(xn.ip||xn.address)?(this.localAddress=xn.ip||xn.address,this.localPort=Number(xn.port)):xn&&xn.ipAddress?(this.localAddress=xn.ipAddress,this.localPort=Number(xn.portNumber)):typeof Zr.googLocalAddress=="string"&&(xn=Zr.googLocalAddress.split(":"),this.localAddress=xn[0],this.localPort=Number(xn[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let On=At[Zr.remoteCandidateId];On&&(On.ip||On.address)?(this.remoteAddress=On.ip||On.address,this.remotePort=Number(On.port)):On&&On.ipAddress?(this.remoteAddress=On.ipAddress,this.remotePort=Number(On.portNumber)):typeof Zr.googRemoteAddress=="string"&&(On=Zr.googRemoteAddress.split(":"),this.remoteAddress=On[0],this.remotePort=Number(On[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_t.forEach(Zr=>{Zr.type==="transport"&&Zr.selectedCandidatePairId&&Gr(Zt[Zr.selectedCandidatePairId]),(Zr.type==="googCandidatePair"&&Zr.googActiveConnection==="true"||(Zr.type==="candidatepair"||Zr.type==="candidate-pair")&&Zr.selected)&&Gr(Zr)}),!cr&&(!Object.keys(Zt).length||Object.keys(qt).length)){setTimeout(lt,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(xn){return this.destroy(Be(xn,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const Zr=this._cb;this._cb=null,Zr(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};lt()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>Ll||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(lt=>{this._pc.removeTrack(lt),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(lt){this.destroyed||(lt.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:lt.candidate.candidate,sdpMLineIndex:lt.candidate.sdpMLineIndex,sdpMid:lt.candidate.sdpMid}}):!lt.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),lt.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(lt){if(this.destroyed)return;let ht=lt.data;ht instanceof ArrayBuffer&&(ht=cb.from(ht)),this.push(ht)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const lt=this._cb;this._cb=null,lt(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(lt){this.destroyed||lt.streams.forEach(ht=>{this._debug("on track"),this.emit("track",lt.track,ht),this._remoteTracks.push({track:lt.track,stream:ht}),!this._remoteStreams.some(_t=>_t.id===ht.id)&&(this._remoteStreams.push(ht),Nl(()=>{this._debug("on stream"),this.emit("stream",ht)}))})}_debug(){const lt=[].slice.call(arguments);lt[0]="["+this._id+"] "+lt[0],ab.apply(null,lt)}}zn.WEBRTC_SUPPORT=!!B0();zn.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:globalThis.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};zn.channelConfig={};var nd=zn;function Ce(){localStorage.getItem("debug")==="true"&&console.log(...arguments)}typeof window<"u"&&(window.process={...window.process,nextTick:function(ut,lt,ht,_t){setTimeout(()=>{ut(lt,ht,_t)},0)}},window.process.env=window.process.env||{});function hb(ut){ut=ut.replace(/#/g,"");var lt=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;ut=ut.replace(lt,function(_t,At,qt,Zt){return At+At+qt+qt+Zt+Zt});var ht=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(ut);return ht?{r:parseInt(ht[1],16),g:parseInt(ht[2],16),b:parseInt(ht[3],16),hexString:`#${ut}`,hex:parseInt(ht[1],16)<<16|parseInt(ht[2],16)<<8|parseInt(ht[3],16)}:null}class pb extends gu{constructor({websocketSend:lt,id:ht,myId:_t,isRenderServer:At,isRenderServerOrHostIfNotCasting:qt,playerIsSpectator:Zt,playerIsProxy:cr,broadcastUnreliable:Gr,setPlayerState:Zr,getBootDate:xn,avatarList:On,kickPlayer:ss,state:ls={},defaultPlayerState:cs={}}){super(),this.websocketSend=lt,this.broadcastUnreliable=Gr,this.setPlayerState=Zr,this.myId=_t,this._kickPlayerTrigger=ss,this.id=ht,this.avatarList=On,this.syncIntervalTime=p0.SyncIntervalTime,this.isRenderServer=At,this.isRenderServerOrHostIfNotCasting=qt,this.playerIsSpectator=Zt,this.playerIsProxy=cr,this.state=ls,this.defaultPlayerState=cs,this.iUpdatedStateAt={},this.playerIsProxy&&(this.state.__proxyBy=_t),this.getBootDate=xn,this.stateKeyUpdateOrder={},this.inputState={},this.peer=null,this.webrtcConnected=!1,this.webrtcRetryCount=0,this.controllerLegacy=!1,this.heartbeatInterval=0,this.retryWebRtcTimeout=0,this.isDestroyed=!1,this.timeDiffFromServer=0,this.bot=void 0,this.on("input_broadcast",wl=>{!qt()&&!Zt&&this.send({pinput:wl})})}send(lt,ht,_t){if(this.webrtcConnected&&!ht&&!this.playerIsProxy)try{Ce("sending unreliable",lt,ht,"webrtcConnected",this.webrtcConnected),this.peer.send(JSON.stringify(lt))}catch(At){Ce(At)}else!ht&&this.isRenderServerOrHostIfNotCasting()&&!_t?this.broadcastUnreliable(lt):this.playerIsProxy||(this.isRenderServerOrHostIfNotCasting()&&(lt.for=this.id),Ce("sending reliable",lt,ht,"webrtcConnected",this.webrtcConnected),this.websocketSend(JSON.stringify(lt)))}startWebrtc(){if(this.retryWebRtcTimeout&&(clearTimeout(this.retryWebRtcTimeout),this.retryWebRtcTimeout=0),this.peer&&this.peer.destroy(),!this.isRenderServerOrHostIfNotCasting()&&this.myId===this.id){Ce("webrtc::connecting","not render server, isMyId");try{this.peer=new nd({initiator:!0,objectMode:!0})}catch(lt){Ce(this._idToHuman(),"::webrtc:","connection error",lt),this.webrtcConnected=!1;return}this.peer.on("signal",lt=>{Ce("got signal",lt),this.send({signal:lt},!0)}),this.peer.on("connect",()=>{this.webrtcConnected=!0,this.webrtcRetryCount=0,this.emit("webrtc_connected"),clearTimeout(this.retryWebRtcTimeout)}),this.peer.on("data",lt=>{lt=JSON.parse(lt),Ce("webrtc::host says:",lt),lt.ping?(this.timeDiffFromServer=lt.ping-Date.now(),this.send({pong:lt.ping})):lt.pstate?this.setPlayerState(lt):lt.gstate&&this.emit("global_state_unreliable",lt.gstate)}),this.peer.on("stream",lt=>{this.emit("stream",lt)}),this.peer.on("close",()=>{Ce(this._idToHuman(),"::webrtc:","connection closed"),this.webrtcConnected=!1,this.retryWebRtcTimeout=setTimeout(()=>{!this.isDestroyed&&this.webrtcRetryCount<5&&(this.startWebrtc(),this.webrtcRetryCount++)},3e3)}),this.peer.on("error",lt=>{Ce(this._idToHuman(),"::webrtc:","connection error",lt),this.webrtcConnected=!1})}else if(this.isRenderServerOrHostIfNotCasting()&&this.myId!==this.id){Ce("webrtc::connecting","is render server, notMyId"),clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.send({ping:Date.now()})},5e3);try{this.peer=new nd({objectMode:!0})}catch(lt){Ce(this._idToHuman(),"::webrtc:","connection error",lt),this.webrtcConnected=!1;return}this.peer.on("signal",lt=>{Ce("got signal",lt),this.send({for:this.id,signal:lt},!0)}),this.peer.on("connect",()=>{Ce("connected to player via webrtc"),this.webrtcConnected=!0,this.send({ping:Date.now()}),this.emit("webrtc_connected")}),this.peer.on("data",lt=>{Ce(this._idToHuman(),"::webrtc:",lt),lt=JSON.parse(lt),lt.pinput?this.handleInput(lt.pinput):lt.pstate?this.setState(lt.d[0],lt.d[1]):lt.pong&&this.handlePingResponse(lt)}),this.peer.on("close",()=>{this.webrtcConnected=!1,Ce(this._idToHuman(),"::webrtc:","connection closed")}),this.peer.on("error",lt=>{this.webrtcConnected=!1,Ce(this._idToHuman(),"::webrtc:","connection error",lt)})}}_idToHuman(){return`${this.playerIsSpectator?"spectator":"player"}(${this.id})`}signal(lt){this.peer.destroyed&&this.isRenderServerOrHostIfNotCasting()&&this.startWebrtc();try{Ce("signaling",lt),this.peer.signal(lt)}catch(ht){Ce(ht)}}handlePingResponse(lt){var ht=Date.now()-lt.pong;this.emit("ping",ht)}attachControllerLegacy(lt){this.detachControllerLegacy(),this.controllerLegacy=lt,this.controllerLegacy.on("keydown",this.handleKeyDown.bind(this)),this.controllerLegacy.on("keyup",this.handleKeyUp.bind(this)),this.controllerLegacy.on("dpad",this.handleDpad.bind(this)),this.controllerLegacy.on("gyro",this.handleGyro.bind(this))}detachControllerLegacy(){if(this.controllerLegacy){const lt=this.controllerLegacy;return this.controllerLegacy.off("keydown",this.handleKeyDown),this.controllerLegacy.off("keyup",this.handleKeyUp),this.controllerLegacy.off("dpad",this.handleDpad),this.controllerLegacy.off("gyro",this.handleGyro),delete this.controllerLegacy,lt}}onKeyPress(lt,ht){this.on("keypress",_t=>{_t.key===lt&&ht(_t)})}onKeyUp(lt,ht){this.on("keyup",_t=>{_t.key===lt&&ht(_t)})}onKeyDown(lt,ht){this.on("keydown",_t=>{_t.key===lt&&ht(_t)})}onQuit(lt){return this.on("quit",lt)}handleKeyDown(lt){this.handleInput({keydown:lt})}handleKeyUp(lt){this.handleInput({keyup:lt})}handleDpad(lt){this.handleInput({dpad:lt})}handleGyro(lt){this.handleInput({gyro:lt})}handleInput(lt,ht){let _t=!1;Object.keys(lt).forEach(At=>{const qt=lt[At];At==="keydown"&&!this.inputState[qt]&&(this.inputState[qt]=!0,this.emit("keydown",{key:qt}),this.emit("keypress",{key:qt}),_t=!0),At==="keyup"&&this.inputState[qt]&&(delete this.inputState[qt],this.emit("keyup",{key:qt}),_t=!0),At==="dpad"&&(this.inputState.dpad=lt.dpad,_t=!0),At==="gyro"&&(this.inputState.gyro=lt.gyro,_t=!0)}),_t&&(Ce("inputEmit",lt),this.emit("input",lt),ht||this.emit("input_broadcast",lt))}isKeyDown(lt){return this.inputState[lt]}on(lt,ht,_t){return lt==="profile"&&ht(this.state.profile),lt==="webrtc_connected"&&this.webrtcConnected&&ht(),super.on(lt,ht,_t)}getState(lt){return lt?typeof this.state[lt]=="object"?JSON.parse(JSON.stringify(this.state[lt])):this.state[lt]:this.state}setState(lt,ht,_t){JSON.stringify(this.state[lt])!==JSON.stringify(ht)&&(this.setLocalState(lt,ht),this.iUpdatedStateAt[lt]=Date.now(),this.isRenderServerOrHostIfNotCasting()&&!_t?this.broadcastUnreliable({pstate:this.id,d:[lt,ht],o:Date.now()-this.getBootDate()}):this.send({pstate:this.id,d:[lt,ht],o:Date.now()-this.getBootDate()-this.timeDiffFromServer},_t))}setFullDefaultLocalState(lt){Object.keys(lt).forEach(ht=>{this.setDefaultLocalState(ht,lt[ht])})}getDefaultState(lt){return lt?typeof this.defaultPlayerState[lt]=="object"?JSON.parse(JSON.stringify(this.defaultPlayerState[lt])):this.defaultPlayerState[lt]:this.defaultPlayerState}setDefaultState(lt,ht){const _t=typeof ht=="object"?JSON.parse(JSON.stringify(ht)):ht;this.setDefaultLocalState(lt,_t)&&this.send({default_pstate:this.id,d:[lt,_t],o:Date.now()-this.getBootDate()-this.timeDiffFromServer},!0)}setDefaultLocalState(lt,ht){if(JSON.stringify(this.defaultPlayerState[lt])!==JSON.stringify(ht))return this.defaultPlayerState[lt]=ht,!0}getProfile(){let lt=this.getState("profile")||{color:"#ffffff",name:""};return lt&&lt.color&&(lt={...lt,color:hb(lt.color)}),this.avatarList&&this.avatarList.length>0&&(lt.avatarIndex=this.avatarList.indexOf(lt.photo)),lt.avatarIndex===void 0&&(lt.avatarIndex=-1),lt}setRoundState(lt,ht,_t){this.setState(`round.${lt}`,ht,_t)}getRoundState(lt){if(lt)return this.getState(`round.${lt}`);{let ht={};return Object.keys(this.getState()).forEach(_t=>{_t.startsWith("round.")&&(ht[_t.substring(6)]=this.getState(_t))}),ht}}resetRoundState(){Object.keys(this.getState()).forEach(lt=>{lt.startsWith("round.")&&this.setState(lt,void 0)})}setFullLocalState(lt,ht){Object.keys(lt).forEach(_t=>{(!this.iUpdatedStateAt[_t]||this.iUpdatedStateAt[_t]+this.syncIntervalTime<Date.now())&&this.setLocalState(_t,lt[_t],ht)}),Object.keys(this.state).forEach(_t=>{var At;(!this.iUpdatedStateAt[_t]||this.iUpdatedStateAt[_t]+this.syncIntervalTime<Date.now())&&lt[_t]===void 0&&(Ce("set default states for the playerState",this.state[_t]),this.setLocalState(_t,(At=this.defaultPlayerState)==null?void 0:At[_t],ht))})}setLocalState(lt,ht,_t){if(_t&&this.stateKeyUpdateOrder[lt]&&this.stateKeyUpdateOrder[lt]>_t)return;this.stateKeyUpdateOrder[lt]=_t||0;const At=JSON.stringify(ht);var qt=!1;JSON.stringify(this.state[lt])!==At&&(qt=!0);const Zt=typeof ht=="object"?JSON.parse(At):ht;return this.state[lt]=Zt,qt&&(this.emit("state",lt,Zt),lt==="profile"&&this.emit("profile",Zt)),qt}kick(){return new Promise((lt,ht)=>{if(!this.isRenderServerOrHostIfNotCasting()){ht("Only the host can kick a player.");return}this._kickPlayerTrigger(this.id,lt)})}disconnect(lt){Ce("[PlayerState] disconnecting with eventCode:",lt),this.detachControllerLegacy(),clearInterval(this.heartbeatInterval),this.isDestroyed=!0,this.peer&&this.peer.destroy(),this.emit("quit",this)}isBot(){return this.state.__bot}isProxyPlayer(){return this.state.__proxyBy}}typeof window<"u"&&(window.__TEMPSTORAGE__={});function gb(ut,lt){var ht;window._USETEMPSTORAGE?window.__TEMPSTORAGE__[ut]=lt:(ht=window._PLAYROOM_CONFIG)!=null&&ht.sessionStorage?sessionStorage.setItem(ut,lt):localStorage.setItem(ut,lt)}function mb(ut){var lt;return window._USETEMPSTORAGE?window.__TEMPSTORAGE__[ut]:(lt=window._PLAYROOM_CONFIG)!=null&&lt.sessionStorage?sessionStorage.getItem(ut):localStorage.getItem(ut)}const xt={set:gb,get:mb};let ja=(ut=21)=>crypto.getRandomValues(new Uint8Array(ut)).reduce((lt,ht)=>(ht&=63,ht<36?lt+=ht.toString(36):ht<62?lt+=(ht-26).toString(36).toUpperCase():ht>62?lt+="-":lt+="_",lt),"");function F0(){const ut=localStorage.getItem("permId")||ja(32);return localStorage.setItem("permId",ut),ut}function yb(){const ut=xt.get("myId")||ja(12);return xt.set("myId",ut),ut}function Bl(ut){return new Promise(lt=>setTimeout(lt,ut))}function bb(ut,lt){return new Promise((ht,_t)=>{if(ut.getState(lt)!==void 0)ht();else{const At=ut.on("state",(qt,Zt)=>{qt===lt&&(At(),ht())},!0)}})}var j0={},W0={};Object.defineProperty(W0,"__esModule",{value:!0});var U0={};(function(ut){Object.defineProperty(ut,"__esModule",{value:!0}),ut.createArrayPatch=ut.createObjectPatch=ut.createPatch=void 0;const lt=Zt=>(Zt instanceof Object&&typeof Zt.toJSON=="function"&&(Zt=Zt.toJSON()),typeof Zt=="function"?Zt=void 0:typeof Zt=="number"&&(Zt!==Zt||Zt===1/0||Zt===-1/0)&&(Zt=null),Zt),ht=(Zt,cr)=>(Zt=lt(Zt),cr=lt(cr),_t(Zt,cr));ut.createPatch=ht;const _t=(Zt,cr)=>{if(Zt===void 0&&(Zt=null),cr===void 0&&(cr=null),Zt===cr)return"none";if(typeof Zt=="object"&&Zt!==null&&typeof cr=="object"&&cr!==null){const Gr=Array.isArray(Zt),Zr=Array.isArray(cr);if(Gr&&Zr)return(0,ut.createArrayPatch)(Zt,cr);if(!Gr&&!Zr)return(0,ut.createObjectPatch)(Zt,cr)}return"reset"},At=(Zt,cr)=>{const Gr=[],Zr={},xn={};let On=0,ss=0,ls=0;for(const wl in Zt){const ep=lt(Zt[wl]);if(ep===void 0)continue;On+=1;const Al=lt(cr[wl]);if(Al===void 0){Gr.push(wl);continue}const np=_t(ep,Al);np==="reset"?(Zr[wl]=Al,ss+=1):np!=="none"&&(xn[wl]=np,ls+=1)}if(On&&Gr.length+ss===On)return"reset";for(const wl in cr){const ep=lt(cr[wl]);if(ep!==void 0){if(On===0)return"reset";lt(Zt[wl])===void 0&&(Zr[wl]=ep,ss+=1)}}const cs={t:"o"};return Gr.length&&(cs.r=Gr),ss&&(cs.s=Zr),ls&&(cs.p=xn),!cs.r&&!cs.s&&!cs.p?"none":cs};ut.createObjectPatch=At;const qt=(Zt,cr)=>{const Gr=Zt.length,Zr=cr.length;let xn,On,ss,ls,cs;for(ls=0;ls<Gr&&ls<Zr;ls+=1){const ip=lt(Zt[ls]),lp=lt(cr[ls]);if(cs=_t(ip,lp),cs!=="none")break}if(ls===Gr)return ls===Zr?"none":{t:"a",s:[[Gr,0,...cr.slice(ls,Zr).map(lt)]]};if(ls===Zr)return{t:"a",s:[[ls,Gr-ls]]};let wl=Gr-1,ep=Zr-1,Al;for(;wl>=ls&&ep>=ls&&(xn=lt(Zt[wl]),On=lt(cr[ep]),Al=_t(xn,On),Al==="none");)wl-=1,ep-=1;if(wl<ls)return{t:"a",s:[[ls,0,...cr.slice(ls,ep+1).map(lt)]]};if(ep<ls)return{t:"a",s:[[ls,wl-ls+1]]};const np=wl-ls+1,cp=ep-ls+1,Cp=np*cp,Lp=np+1,jp=new Array(Cp);jp[0]=cs,jp[Cp-1]=Al;let nm,zm,i1,d3,op,Sn;nm={1:0};e:for(zm=0;zm<Cp;zm++)for(nm=Object.create(nm),i1=-zm;i1<=zm;i1+=2){for(i1===-zm||i1!==zm&&nm[i1-1]<nm[i1+1]?d3=nm[i1+1]:d3=nm[i1-1]+1,op=d3-i1,ss=op*np+d3;ss<Cp&&d3<np&&op<cp&&(Sn=jp[ss],Sn||(xn=lt(Zt[ls+d3]),On=lt(cr[ls+op]),Sn=jp[ss]=_t(xn,On)),Sn!=="reset");)d3++,op++,ss+=Lp;if(nm[i1]=d3,d3>=np&&op>=cp)break e}let Fo=!1;const as={},us=[];if(zm===Cp){if(ls===0&&np===Gr)return"reset";us.push([ls,np,...cr.slice(ls,ep+1)])}else{i1=np-cp;let ip=[NaN,NaN];for(;zm-->=0;){const lp=nm[i1-1]===void 0||nm[i1+1]!==void 0&&nm[i1-1]<nm[i1+1];i1=lp?i1+1:i1-1,d3=nm[i1],op=d3-i1;const pu=ls+d3;for(lp?(op!==-1&&(ip[0]===pu?(On=lt(cr[ls+op]),ip.splice(2,0,On)):us.push(ip=[pu,0,cr[ls+op]])),op++):(op!==-1&&(ip[0]===pu+1?(ip[0]-=1,ip[1]+=1):us.push(ip=[pu,1])),d3++),ss=op*np+d3;ss<Cp&&d3<np&&op<cp&&(Sn=jp[ss],Sn!=="reset");)Sn!=="none"&&(as[ls+d3]=Sn,Fo=!0),d3++,op++,ss+=Lp;nm=Object.getPrototypeOf(nm)}}const xl={t:"a"};return Fo&&(xl.p=as),us.length&&(xl.s=us),xl};ut.createArrayPatch=qt})(U0);var ln={};Object.defineProperty(ln,"__esModule",{value:!0});ln.applyArrayPatch=ln.applyObjectPatch=ln.applyPatch=void 0;function z0(ut=!1){const lt=(At,qt)=>{if(qt.t==="o")return ht(At,qt);if(qt.t==="a")return _t(At,qt);throw Error("Invalid patch")},ht=(At,qt)=>{let Zt=ut?At:Object.assign({},At);const cr=qt.r;if(cr)for(const xn of cr)delete Zt[xn];const Gr=qt.s;if(Gr)for(const xn in Gr)Zt[xn]=Gr[xn];const Zr=qt.p;if(Zr)for(const xn in Zr)Zt[xn]=lt(Zt[xn],Zr[xn]);return Zt},_t=(At,qt)=>{const Zt=ut?At:[...At],cr=qt.p;if(cr)for(const Zr in cr)Zt[Zr]=lt(Zt[Zr],cr[Zr]);const Gr=qt.s;if(Gr)for(let Zr of Gr)Zt.splice(...Zr);return Zt};return{applyPatch:lt,applyObjectPatch:ht,applyArrayPatch:_t}}const yu=z0(),bu=z0(!0);ln.applyPatch=Object.assign(yu.applyPatch,{inPlace:bu.applyPatch});ln.applyObjectPatch=Object.assign(yu.applyObjectPatch,{inPlace:bu.applyObjectPatch});ln.applyArrayPatch=Object.assign(yu.applyArrayPatch,{inPlace:bu.applyArrayPatch});(function(ut){var lt=fs&&fs.__createBinding||(Object.create?function(_t,At,qt,Zt){Zt===void 0&&(Zt=qt);var cr=Object.getOwnPropertyDescriptor(At,qt);(!cr||("get"in cr?!At.__esModule:cr.writable||cr.configurable))&&(cr={enumerable:!0,get:function(){return At[qt]}}),Object.defineProperty(_t,Zt,cr)}:function(_t,At,qt,Zt){Zt===void 0&&(Zt=qt),_t[Zt]=At[qt]}),ht=fs&&fs.__exportStar||function(_t,At){for(var qt in _t)qt!=="default"&&!Object.prototype.hasOwnProperty.call(At,qt)&&lt(At,_t,qt)};Object.defineProperty(ut,"__esModule",{value:!0}),ht(W0,ut),ht(U0,ut),ht(ln,ut)})(j0);var cn={DEBUG:!1,LIB_VERSION:"2.45.0"},Dt;if(typeof window>"u"){var id={hostname:""};Dt={navigator:{userAgent:""},document:{location:id,referrer:""},screen:{width:0,height:0},location:id}}else Dt=window;var Wa=Array.prototype,vb=Function.prototype,V0=Object.prototype,en=Wa.slice,Ko=V0.toString,Ua=V0.hasOwnProperty,yt=Dt.console,Br=Dt.navigator,rt=Dt.document,zi=Dt.opera,sa=Dt.screen,ur=Br.userAgent,Fl=vb.bind,od=Wa.forEach,sd=Wa.indexOf,ad=Wa.map,Ab=Array.isArray,Ec={},T={trim:function(ut){return ut.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},et$1={log:function(){if(cn.DEBUG&&!T.isUndefined(yt)&&yt)try{yt.log.apply(yt,arguments)}catch{T.each(arguments,function(ut){yt.log(ut)})}},warn:function(){if(cn.DEBUG&&!T.isUndefined(yt)&&yt){var ut=["Mixpanel warning:"].concat(T.toArray(arguments));try{yt.warn.apply(yt,ut)}catch{T.each(ut,function(lt){yt.warn(lt)})}}},error:function(){if(cn.DEBUG&&!T.isUndefined(yt)&&yt){var ut=["Mixpanel error:"].concat(T.toArray(arguments));try{yt.error.apply(yt,ut)}catch{T.each(ut,function(lt){yt.error(lt)})}}},critical:function(){if(!T.isUndefined(yt)&&yt){var ut=["Mixpanel error:"].concat(T.toArray(arguments));try{yt.error.apply(yt,ut)}catch{T.each(ut,function(lt){yt.error(lt)})}}}},jl=function(ut,lt){return function(){return arguments[0]="["+lt+"] "+arguments[0],ut.apply(et$1,arguments)}},vu=function(ut){return{log:jl(et$1.log,ut),error:jl(et$1.error,ut),critical:jl(et$1.critical,ut)}};T.bind=function(ut,lt){var ht,_t;if(Fl&&ut.bind===Fl)return Fl.apply(ut,en.call(arguments,1));if(!T.isFunction(ut))throw new TypeError;return ht=en.call(arguments,2),_t=function(){if(!(this instanceof _t))return ut.apply(lt,ht.concat(en.call(arguments)));var At={};At.prototype=ut.prototype;var qt=new At;At.prototype=null;var Zt=ut.apply(qt,ht.concat(en.call(arguments)));return Object(Zt)===Zt?Zt:qt},_t};T.each=function(ut,lt,ht){if(ut!=null){if(od&&ut.forEach===od)ut.forEach(lt,ht);else if(ut.length===+ut.length){for(var _t=0,At=ut.length;_t<At;_t++)if(_t in ut&&lt.call(ht,ut[_t],_t,ut)===Ec)return}else for(var qt in ut)if(Ua.call(ut,qt)&&lt.call(ht,ut[qt],qt,ut)===Ec)return}};T.extend=function(ut){return T.each(en.call(arguments,1),function(lt){for(var ht in lt)lt[ht]!==void 0&&(ut[ht]=lt[ht])}),ut};T.isArray=Ab||function(ut){return Ko.call(ut)==="[object Array]"};T.isFunction=function(ut){try{return/^\s*\bfunction\b/.test(ut)}catch{return!1}};T.isArguments=function(ut){return!!(ut&&Ua.call(ut,"callee"))};T.toArray=function(ut){return ut?ut.toArray?ut.toArray():T.isArray(ut)||T.isArguments(ut)?en.call(ut):T.values(ut):[]};T.map=function(ut,lt,ht){if(ad&&ut.map===ad)return ut.map(lt,ht);var _t=[];return T.each(ut,function(At){_t.push(lt.call(ht,At))}),_t};T.keys=function(ut){var lt=[];return ut===null||T.each(ut,function(ht,_t){lt[lt.length]=_t}),lt};T.values=function(ut){var lt=[];return ut===null||T.each(ut,function(ht){lt[lt.length]=ht}),lt};T.include=function(ut,lt){var ht=!1;return ut===null?ht:sd&&ut.indexOf===sd?ut.indexOf(lt)!=-1:(T.each(ut,function(_t){if(ht||(ht=_t===lt))return Ec}),ht)};T.includes=function(ut,lt){return ut.indexOf(lt)!==-1};T.inherit=function(ut,lt){return ut.prototype=new lt,ut.prototype.constructor=ut,ut.superclass=lt.prototype,ut};T.isObject=function(ut){return ut===Object(ut)&&!T.isArray(ut)};T.isEmptyObject=function(ut){if(T.isObject(ut)){for(var lt in ut)if(Ua.call(ut,lt))return!1;return!0}return!1};T.isUndefined=function(ut){return ut===void 0};T.isString=function(ut){return Ko.call(ut)=="[object String]"};T.isDate=function(ut){return Ko.call(ut)=="[object Date]"};T.isNumber=function(ut){return Ko.call(ut)=="[object Number]"};T.isElement=function(ut){return!!(ut&&ut.nodeType===1)};T.encodeDates=function(ut){return T.each(ut,function(lt,ht){T.isDate(lt)?ut[ht]=T.formatDate(lt):T.isObject(lt)&&(ut[ht]=T.encodeDates(lt))}),ut};T.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};T.formatDate=function(ut){function lt(ht){return ht<10?"0"+ht:ht}return ut.getUTCFullYear()+"-"+lt(ut.getUTCMonth()+1)+"-"+lt(ut.getUTCDate())+"T"+lt(ut.getUTCHours())+":"+lt(ut.getUTCMinutes())+":"+lt(ut.getUTCSeconds())};T.strip_empty_properties=function(ut){var lt={};return T.each(ut,function(ht,_t){T.isString(ht)&&ht.length>0&&(lt[_t]=ht)}),lt};T.truncate=function(ut,lt){var ht;return typeof ut=="string"?ht=ut.slice(0,lt):T.isArray(ut)?(ht=[],T.each(ut,function(_t){ht.push(T.truncate(_t,lt))})):T.isObject(ut)?(ht={},T.each(ut,function(_t,At){ht[At]=T.truncate(_t,lt)})):ht=ut,ht};T.JSONEncode=function(){return function(ut){var lt=ut,ht=function(At){var qt=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Zt={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return qt.lastIndex=0,qt.test(At)?'"'+At.replace(qt,function(cr){var Gr=Zt[cr];return typeof Gr=="string"?Gr:"\\u"+("0000"+cr.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+At+'"'},_t=function(At,qt){var Zt="",cr="    ",Gr=0,Zr="",xn="",On=0,ss=Zt,ls=[],cs=qt[At];switch(cs&&typeof cs=="object"&&typeof cs.toJSON=="function"&&(cs=cs.toJSON(At)),typeof cs){case"string":return ht(cs);case"number":return isFinite(cs)?String(cs):"null";case"boolean":case"null":return String(cs);case"object":if(!cs)return"null";if(Zt+=cr,ls=[],Ko.apply(cs)==="[object Array]"){for(On=cs.length,Gr=0;Gr<On;Gr+=1)ls[Gr]=_t(Gr,cs)||"null";return xn=ls.length===0?"[]":Zt?`[
`+Zt+ls.join(`,
`+Zt)+`
`+ss+"]":"["+ls.join(",")+"]",Zt=ss,xn}for(Zr in cs)Ua.call(cs,Zr)&&(xn=_t(Zr,cs),xn&&ls.push(ht(Zr)+(Zt?": ":":")+xn));return xn=ls.length===0?"{}":Zt?"{"+ls.join(",")+ss+"}":"{"+ls.join(",")+"}",Zt=ss,xn}};return _t("",{"":lt})}}();T.JSONDecode=function(){var ut,lt,ht={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},_t,At=function(ls){var cs=new SyntaxError(ls);throw cs.at=ut,cs.text=_t,cs},qt=function(ls){return ls&&ls!==lt&&At("Expected '"+ls+"' instead of '"+lt+"'"),lt=_t.charAt(ut),ut+=1,lt},Zt=function(){var ls,cs="";for(lt==="-"&&(cs="-",qt("-"));lt>="0"&&lt<="9";)cs+=lt,qt();if(lt===".")for(cs+=".";qt()&&lt>="0"&&lt<="9";)cs+=lt;if(lt==="e"||lt==="E")for(cs+=lt,qt(),(lt==="-"||lt==="+")&&(cs+=lt,qt());lt>="0"&&lt<="9";)cs+=lt,qt();if(ls=+cs,!isFinite(ls))At("Bad number");else return ls},cr=function(){var ls,cs,wl="",ep;if(lt==='"')for(;qt();){if(lt==='"')return qt(),wl;if(lt==="\\")if(qt(),lt==="u"){for(ep=0,cs=0;cs<4&&(ls=parseInt(qt(),16),!!isFinite(ls));cs+=1)ep=ep*16+ls;wl+=String.fromCharCode(ep)}else if(typeof ht[lt]=="string")wl+=ht[lt];else break;else wl+=lt}At("Bad string")},Gr=function(){for(;lt&&lt<=" ";)qt()},Zr=function(){switch(lt){case"t":return qt("t"),qt("r"),qt("u"),qt("e"),!0;case"f":return qt("f"),qt("a"),qt("l"),qt("s"),qt("e"),!1;case"n":return qt("n"),qt("u"),qt("l"),qt("l"),null}At('Unexpected "'+lt+'"')},xn,On=function(){var ls=[];if(lt==="["){if(qt("["),Gr(),lt==="]")return qt("]"),ls;for(;lt;){if(ls.push(xn()),Gr(),lt==="]")return qt("]"),ls;qt(","),Gr()}}At("Bad array")},ss=function(){var ls,cs={};if(lt==="{"){if(qt("{"),Gr(),lt==="}")return qt("}"),cs;for(;lt;){if(ls=cr(),Gr(),qt(":"),Object.hasOwnProperty.call(cs,ls)&&At('Duplicate key "'+ls+'"'),cs[ls]=xn(),Gr(),lt==="}")return qt("}"),cs;qt(","),Gr()}}At("Bad object")};return xn=function(){switch(Gr(),lt){case"{":return ss();case"[":return On();case'"':return cr();case"-":return Zt();default:return lt>="0"&&lt<="9"?Zt():Zr()}},function(ls){var cs;return _t=ls,ut=0,lt=" ",cs=xn(),Gr(),lt&&At("Syntax error"),cs}}();T.base64Encode=function(ut){var lt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ht,_t,At,qt,Zt,cr,Gr,Zr,xn=0,On=0,ss="",ls=[];if(!ut)return ut;ut=T.utf8Encode(ut);do ht=ut.charCodeAt(xn++),_t=ut.charCodeAt(xn++),At=ut.charCodeAt(xn++),Zr=ht<<16|_t<<8|At,qt=Zr>>18&63,Zt=Zr>>12&63,cr=Zr>>6&63,Gr=Zr&63,ls[On++]=lt.charAt(qt)+lt.charAt(Zt)+lt.charAt(cr)+lt.charAt(Gr);while(xn<ut.length);switch(ss=ls.join(""),ut.length%3){case 1:ss=ss.slice(0,-2)+"==";break;case 2:ss=ss.slice(0,-1)+"=";break}return ss};T.utf8Encode=function(ut){ut=(ut+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var lt="",ht,_t,At=0,qt;for(ht=_t=0,At=ut.length,qt=0;qt<At;qt++){var Zt=ut.charCodeAt(qt),cr=null;Zt<128?_t++:Zt>127&&Zt<2048?cr=String.fromCharCode(Zt>>6|192,Zt&63|128):cr=String.fromCharCode(Zt>>12|224,Zt>>6&63|128,Zt&63|128),cr!==null&&(_t>ht&&(lt+=ut.substring(ht,_t)),lt+=cr,ht=_t=qt+1)}return _t>ht&&(lt+=ut.substring(ht,ut.length)),lt};T.UUID=function(){var ut=function(){for(var _t=1*new Date,At=0;_t==1*new Date;)At++;return _t.toString(16)+At.toString(16)},lt=function(){return Math.random().toString(16).replace(".","")},ht=function(){var _t=ur,At,qt,Zt=[],cr=0;function Gr(Zr,xn){var On,ss=0;for(On=0;On<xn.length;On++)ss|=Zt[On]<<On*8;return Zr^ss}for(At=0;At<_t.length;At++)qt=_t.charCodeAt(At),Zt.unshift(qt&255),Zt.length>=4&&(cr=Gr(cr,Zt),Zt=[]);return Zt.length>0&&(cr=Gr(cr,Zt)),cr.toString(16)};return function(){var _t=(sa.height*sa.width).toString(16);return ut()+"-"+lt()+"-"+ht()+"-"+_t+"-"+ut()}}();var ld=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];T.isBlockedUA=function(ut){var lt;for(ut=ut.toLowerCase(),lt=0;lt<ld.length;lt++)if(ut.indexOf(ld[lt])!==-1)return!0;return!1};T.HTTPBuildQuery=function(ut,lt){var ht,_t,At=[];return T.isUndefined(lt)&&(lt="&"),T.each(ut,function(qt,Zt){ht=encodeURIComponent(qt.toString()),_t=encodeURIComponent(Zt),At[At.length]=_t+"="+ht}),At.join(lt)};T.getQueryParam=function(ut,lt){lt=lt.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var ht="[\\?&]"+lt+"=([^&#]*)",_t=new RegExp(ht),At=_t.exec(ut);if(At===null||At&&typeof At[1]!="string"&&At[1].length)return"";var qt=At[1];try{qt=decodeURIComponent(qt)}catch{et$1.error("Skipping decoding for malformed query param: "+qt)}return qt.replace(/\+/g," ")};T.cookie={get:function(ut){for(var lt=ut+"=",ht=rt.cookie.split(";"),_t=0;_t<ht.length;_t++){for(var At=ht[_t];At.charAt(0)==" ";)At=At.substring(1,At.length);if(At.indexOf(lt)===0)return decodeURIComponent(At.substring(lt.length,At.length))}return null},parse:function(ut){var lt;try{lt=T.JSONDecode(T.cookie.get(ut))||{}}catch{}return lt},set_seconds:function(ut,lt,ht,_t,At,qt,Zt){var cr="",Gr="",Zr="";if(Zt)cr="; domain="+Zt;else if(_t){var xn=cd(rt.location.hostname);cr=xn?"; domain=."+xn:""}if(ht){var On=new Date;On.setTime(On.getTime()+ht*1e3),Gr="; expires="+On.toGMTString()}qt&&(At=!0,Zr="; SameSite=None"),At&&(Zr+="; secure"),rt.cookie=ut+"="+encodeURIComponent(lt)+Gr+"; path=/"+cr+Zr},set:function(ut,lt,ht,_t,At,qt,Zt){var cr="",Gr="",Zr="";if(Zt)cr="; domain="+Zt;else if(_t){var xn=cd(rt.location.hostname);cr=xn?"; domain=."+xn:""}if(ht){var On=new Date;On.setTime(On.getTime()+ht*24*60*60*1e3),Gr="; expires="+On.toGMTString()}qt&&(At=!0,Zr="; SameSite=None"),At&&(Zr+="; secure");var ss=ut+"="+encodeURIComponent(lt)+Gr+"; path=/"+cr+Zr;return rt.cookie=ss,ss},remove:function(ut,lt,ht){T.cookie.set(ut,"",-1,lt,!1,!1,ht)}};var Wl=null,aa=function(ut,lt){if(Wl!==null&&!lt)return Wl;var ht=!0;try{ut=ut||window.localStorage;var _t="__mplss_"+Au(8),At="xyz";ut.setItem(_t,At),ut.getItem(_t)!==At&&(ht=!1),ut.removeItem(_t)}catch{ht=!1}return Wl=ht,ht};T.localStorage={is_supported:function(ut){var lt=aa(null,ut);return lt||et$1.error("localStorage unsupported; falling back to cookie store"),lt},error:function(ut){et$1.error("localStorage error: "+ut)},get:function(ut){try{return window.localStorage.getItem(ut)}catch(lt){T.localStorage.error(lt)}return null},parse:function(ut){try{return T.JSONDecode(T.localStorage.get(ut))||{}}catch{}return null},set:function(ut,lt){try{window.localStorage.setItem(ut,lt)}catch(ht){T.localStorage.error(ht)}},remove:function(ut){try{window.localStorage.removeItem(ut)}catch(lt){T.localStorage.error(lt)}}};T.register_event=function(){var ut=function(_t,At,qt,Zt,cr){if(!_t){et$1.error("No valid element provided to register_event");return}if(_t.addEventListener&&!Zt)_t.addEventListener(At,qt,!!cr);else{var Gr="on"+At,Zr=_t[Gr];_t[Gr]=lt(_t,qt,Zr)}};function lt(_t,At,qt){var Zt=function(cr){if(cr=cr||ht(window.event),!!cr){var Gr=!0,Zr,xn;return T.isFunction(qt)&&(Zr=qt(cr)),xn=At.call(_t,cr),(Zr===!1||xn===!1)&&(Gr=!1),Gr}};return Zt}function ht(_t){return _t&&(_t.preventDefault=ht.preventDefault,_t.stopPropagation=ht.stopPropagation),_t}return ht.preventDefault=function(){this.returnValue=!1},ht.stopPropagation=function(){this.cancelBubble=!0},ut}();var wb=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');T.dom_query=function(){function ut(At){return At.all?At.all:At.getElementsByTagName("*")}var lt=/[\t\r\n]/g;function ht(At,qt){var Zt=" "+qt+" ";return(" "+At.className+" ").replace(lt," ").indexOf(Zt)>=0}function _t(At){if(!rt.getElementsByTagName)return[];var qt=At.split(" "),Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep=[rt];for(On=0;On<qt.length;On++){if(Zt=qt[On].replace(/^\s+/,"").replace(/\s+$/,""),Zt.indexOf("#")>-1){cr=Zt.split("#"),Gr=cr[0];var Al=cr[1],np=rt.getElementById(Al);if(!np||Gr&&np.nodeName.toLowerCase()!=Gr)return[];ep=[np];continue}if(Zt.indexOf(".")>-1){cr=Zt.split("."),Gr=cr[0];var cp=cr[1];for(Gr||(Gr="*"),Zr=[],xn=0,ss=0;ss<ep.length;ss++)for(Gr=="*"?cs=ut(ep[ss]):cs=ep[ss].getElementsByTagName(Gr),ls=0;ls<cs.length;ls++)Zr[xn++]=cs[ls];for(ep=[],wl=0,ss=0;ss<Zr.length;ss++)Zr[ss].className&&T.isString(Zr[ss].className)&&ht(Zr[ss],cp)&&(ep[wl++]=Zr[ss]);continue}var Cp=Zt.match(wb);if(Cp){Gr=Cp[1];var Lp=Cp[2],jp=Cp[3],nm=Cp[4];for(Gr||(Gr="*"),Zr=[],xn=0,ss=0;ss<ep.length;ss++)for(Gr=="*"?cs=ut(ep[ss]):cs=ep[ss].getElementsByTagName(Gr),ls=0;ls<cs.length;ls++)Zr[xn++]=cs[ls];ep=[],wl=0;var zm;switch(jp){case"=":zm=function(i1){return i1.getAttribute(Lp)==nm};break;case"~":zm=function(i1){return i1.getAttribute(Lp).match(new RegExp("\\b"+nm+"\\b"))};break;case"|":zm=function(i1){return i1.getAttribute(Lp).match(new RegExp("^"+nm+"-?"))};break;case"^":zm=function(i1){return i1.getAttribute(Lp).indexOf(nm)===0};break;case"$":zm=function(i1){return i1.getAttribute(Lp).lastIndexOf(nm)==i1.getAttribute(Lp).length-nm.length};break;case"*":zm=function(i1){return i1.getAttribute(Lp).indexOf(nm)>-1};break;default:zm=function(i1){return i1.getAttribute(Lp)}}for(ep=[],wl=0,ss=0;ss<Zr.length;ss++)zm(Zr[ss])&&(ep[wl++]=Zr[ss]);continue}for(Gr=Zt,Zr=[],xn=0,ss=0;ss<ep.length;ss++)for(cs=ep[ss].getElementsByTagName(Gr),ls=0;ls<cs.length;ls++)Zr[xn++]=cs[ls];ep=Zr}return ep}return function(At){return T.isElement(At)?[At]:T.isObject(At)&&!T.isUndefined(At.length)?At:_t.call(this,At)}}();T.info={campaignParams:function(){var ut="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),lt="",ht={};return T.each(ut,function(_t){lt=T.getQueryParam(rt.URL,_t),lt.length&&(ht[_t]=lt)}),ht},searchEngine:function(ut){return ut.search("https?://(.*)google.([^/?]*)")===0?"google":ut.search("https?://(.*)bing.com")===0?"bing":ut.search("https?://(.*)yahoo.com")===0?"yahoo":ut.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(ut){var lt=T.info.searchEngine(ut),ht=lt!="yahoo"?"q":"p",_t={};if(lt!==null){_t.$search_engine=lt;var At=T.getQueryParam(ut,ht);At.length&&(_t.mp_keyword=At)}return _t},browser:function(ut,lt,ht){return lt=lt||"",ht||T.includes(ut," OPR/")?T.includes(ut,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(ut)?"BlackBerry":T.includes(ut,"IEMobile")||T.includes(ut,"WPDesktop")?"Internet Explorer Mobile":T.includes(ut,"SamsungBrowser/")?"Samsung Internet":T.includes(ut,"Edge")||T.includes(ut,"Edg/")?"Microsoft Edge":T.includes(ut,"FBIOS")?"Facebook Mobile":T.includes(ut,"Chrome")?"Chrome":T.includes(ut,"CriOS")?"Chrome iOS":T.includes(ut,"UCWEB")||T.includes(ut,"UCBrowser")?"UC Browser":T.includes(ut,"FxiOS")?"Firefox iOS":T.includes(lt,"Apple")?T.includes(ut,"Mobile")?"Mobile Safari":"Safari":T.includes(ut,"Android")?"Android Mobile":T.includes(ut,"Konqueror")?"Konqueror":T.includes(ut,"Firefox")?"Firefox":T.includes(ut,"MSIE")||T.includes(ut,"Trident/")?"Internet Explorer":T.includes(ut,"Gecko")?"Mozilla":""},browserVersion:function(ut,lt,ht){var _t=T.info.browser(ut,lt,ht),At={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},qt=At[_t];if(qt===void 0)return null;var Zt=ut.match(qt);return Zt?parseFloat(Zt[Zt.length-2]):null},os:function(){var ut=ur;return/Windows/i.test(ut)?/Phone/.test(ut)||/WPDesktop/.test(ut)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(ut)?"iOS":/Android/.test(ut)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(ut)?"BlackBerry":/Mac/i.test(ut)?"Mac OS X":/Linux/.test(ut)?"Linux":/CrOS/.test(ut)?"Chrome OS":""},device:function(ut){return/Windows Phone/i.test(ut)||/WPDesktop/.test(ut)?"Windows Phone":/iPad/.test(ut)?"iPad":/iPod/.test(ut)?"iPod Touch":/iPhone/.test(ut)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(ut)?"BlackBerry":/Android/.test(ut)?"Android":""},referringDomain:function(ut){var lt=ut.split("/");return lt.length>=3?lt[2]:""},properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(ur,Br.vendor,zi),$referrer:rt.referrer,$referring_domain:T.info.referringDomain(rt.referrer),$device:T.info.device(ur)}),{$current_url:Dt.location.href,$browser_version:T.info.browserVersion(ur,Br.vendor,zi),$screen_height:sa.height,$screen_width:sa.width,mp_lib:"web",$lib_version:cn.LIB_VERSION,$insert_id:Au(),time:T.timestamp()/1e3})},people_properties:function(){return T.extend(T.strip_empty_properties({$os:T.info.os(),$browser:T.info.browser(ur,Br.vendor,zi)}),{$browser_version:T.info.browserVersion(ur,Br.vendor,zi)})},pageviewInfo:function(ut){return T.strip_empty_properties({mp_page:ut,mp_referrer:rt.referrer,mp_browser:T.info.browser(ur,Br.vendor,zi),mp_platform:T.info.os()})}};var Au=function(ut){var lt=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return ut?lt.substring(0,ut):lt},xb=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,_b$2=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,cd=function(ut){var lt=_b$2,ht=ut.split("."),_t=ht[ht.length-1];(_t.length>4||_t==="com"||_t==="org")&&(lt=xb);var At=ut.match(lt);return At?At[0]:""},la=null,ca=null;typeof JSON<"u"&&(la=JSON.stringify,ca=JSON.parse);la=la||T.JSONEncode;ca=ca||T.JSONDecode;T.toArray=T.toArray;T.isObject=T.isObject;T.JSONEncode=T.JSONEncode;T.JSONDecode=T.JSONDecode;T.isBlockedUA=T.isBlockedUA;T.isEmptyObject=T.isEmptyObject;T.info=T.info;T.info.device=T.info.device;T.info.browser=T.info.browser;T.info.browserVersion=T.info.browserVersion;T.info.properties=T.info.properties;var Xr=function(){};Xr.prototype.create_properties=function(){};Xr.prototype.event_handler=function(){};Xr.prototype.after_track_handler=function(){};Xr.prototype.init=function(ut){return this.mp=ut,this};Xr.prototype.track=function(ut,lt,ht,_t){var At=this,qt=T.dom_query(ut);if(qt.length===0){et$1.error("The DOM query ("+ut+") returned 0 elements");return}return T.each(qt,function(Zt){T.register_event(Zt,this.override_event,function(cr){var Gr={},Zr=At.create_properties(ht,this),xn=At.mp.get_config("track_links_timeout");At.event_handler(cr,this,Gr),window.setTimeout(At.track_callback(_t,Zr,Gr,!0),xn),At.mp.track(lt,Zr,At.track_callback(_t,Zr,Gr))})},this),!0};Xr.prototype.track_callback=function(ut,lt,ht,_t){_t=_t||!1;var At=this;return function(){ht.callback_fired||(ht.callback_fired=!0,!(ut&&ut(_t,lt)===!1)&&At.after_track_handler(lt,ht,_t))}};Xr.prototype.create_properties=function(ut,lt){var ht;return typeof ut=="function"?ht=ut(lt):ht=T.extend({},ut),ht};var _i=function(){this.override_event="click"};T.inherit(_i,Xr);_i.prototype.create_properties=function(ut,lt){var ht=_i.superclass.create_properties.apply(this,arguments);return lt.href&&(ht.url=lt.href),ht};_i.prototype.event_handler=function(ut,lt,ht){ht.new_tab=ut.which===2||ut.metaKey||ut.ctrlKey||lt.target==="_blank",ht.href=lt.href,ht.new_tab||ut.preventDefault()};_i.prototype.after_track_handler=function(ut,lt){lt.new_tab||setTimeout(function(){window.location=lt.href},0)};var za=function(){this.override_event="submit"};T.inherit(za,Xr);za.prototype.event_handler=function(ut,lt,ht){ht.element=lt,ut.preventDefault()};za.prototype.after_track_handler=function(ut,lt){setTimeout(function(){lt.element.submit()},0)};var Sb=vu("lock"),q0=function(ut,lt){lt=lt||{},this.storageKey=ut,this.storage=lt.storage||window.localStorage,this.pollIntervalMS=lt.pollIntervalMS||100,this.timeoutMS=lt.timeoutMS||2e3};q0.prototype.withLock=function(ut,lt,ht){!ht&&typeof lt!="function"&&(ht=lt,lt=null);var _t=ht||new Date().getTime()+"|"+Math.random(),At=new Date().getTime(),qt=this.storageKey,Zt=this.pollIntervalMS,cr=this.timeoutMS,Gr=this.storage,Zr=qt+":X",xn=qt+":Y",On=qt+":Z",ss=function(np){lt&&lt(np)},ls=function(np){if(new Date().getTime()-At>cr){Sb.error("Timeout waiting for mutex on "+qt+"; clearing lock. ["+_t+"]"),Gr.removeItem(On),Gr.removeItem(xn),ep();return}setTimeout(function(){try{np()}catch(cp){ss(cp)}},Zt*(Math.random()+.1))},cs=function(np,cp){np()?cp():ls(function(){cs(np,cp)})},wl=function(){var np=Gr.getItem(xn);if(np&&np!==_t)return!1;if(Gr.setItem(xn,_t),Gr.getItem(xn)===_t)return!0;if(!aa(Gr,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},ep=function(){Gr.setItem(Zr,_t),cs(wl,function(){if(Gr.getItem(Zr)===_t){Al();return}ls(function(){if(Gr.getItem(xn)!==_t){ep();return}cs(function(){return!Gr.getItem(On)},Al)})})},Al=function(){Gr.setItem(On,"1");try{ut()}finally{Gr.removeItem(On),Gr.getItem(xn)===_t&&Gr.removeItem(xn),Gr.getItem(Zr)===_t&&Gr.removeItem(Zr)}};try{if(aa(Gr,!0))ep();else throw new Error("localStorage support check failed")}catch(np){ss(np)}};var ud=vu("batch"),yn=function(ut,lt){lt=lt||{},this.storageKey=ut,this.storage=lt.storage||window.localStorage,this.reportError=lt.errorReporter||T.bind(ud.error,ud),this.lock=new q0(ut,{storage:this.storage}),this.pid=lt.pid||null,this.memQueue=[]};yn.prototype.enqueue=function(ut,lt,ht){var _t={id:Au(),flushAfter:new Date().getTime()+lt*2,payload:ut};this.lock.withLock(T.bind(function(){var At;try{var qt=this.readFromStorage();qt.push(_t),At=this.saveToStorage(qt),At&&this.memQueue.push(_t)}catch{this.reportError("Error enqueueing item",ut),At=!1}ht&&ht(At)},this),T.bind(function(At){this.reportError("Error acquiring storage lock",At),ht&&ht(!1)},this),this.pid)};yn.prototype.fillBatch=function(ut){var lt=this.memQueue.slice(0,ut);if(lt.length<ut){var ht=this.readFromStorage();if(ht.length){var _t={};T.each(lt,function(Zt){_t[Zt.id]=!0});for(var At=0;At<ht.length;At++){var qt=ht[At];if(new Date().getTime()>qt.flushAfter&&!_t[qt.id]&&(qt.orphaned=!0,lt.push(qt),lt.length>=ut))break}}}return lt};var fd$1=function(ut,lt){var ht=[];return T.each(ut,function(_t){_t.id&&!lt[_t.id]&&ht.push(_t)}),ht};yn.prototype.removeItemsByID=function(ut,lt){var ht={};T.each(ut,function(At){ht[At]=!0}),this.memQueue=fd$1(this.memQueue,ht);var _t=T.bind(function(){var At;try{var qt=this.readFromStorage();if(qt=fd$1(qt,ht),At=this.saveToStorage(qt),At){qt=this.readFromStorage();for(var Zt=0;Zt<qt.length;Zt++){var cr=qt[Zt];if(cr.id&&ht[cr.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",ut),At=!1}return At},this);this.lock.withLock(function(){var At=_t();lt&&lt(At)},T.bind(function(At){var qt=!1;if(this.reportError("Error acquiring storage lock",At),!aa(this.storage,!0)&&(qt=_t(),!qt))try{this.storage.removeItem(this.storageKey)}catch(Zt){this.reportError("Error clearing queue",Zt)}lt&&lt(qt)},this),this.pid)};var dd=function(ut,lt){var ht=[];return T.each(ut,function(_t){var At=_t.id;if(At in lt){var qt=lt[At];qt!==null&&(_t.payload=qt,ht.push(_t))}else ht.push(_t)}),ht};yn.prototype.updatePayloads=function(ut,lt){this.memQueue=dd(this.memQueue,ut),this.lock.withLock(T.bind(function(){var ht;try{var _t=this.readFromStorage();_t=dd(_t,ut),ht=this.saveToStorage(_t)}catch{this.reportError("Error updating items",ut),ht=!1}lt&&lt(ht)},this),T.bind(function(ht){this.reportError("Error acquiring storage lock",ht),lt&&lt(!1)},this),this.pid)};yn.prototype.readFromStorage=function(){var ut;try{ut=this.storage.getItem(this.storageKey),ut&&(ut=ca(ut),T.isArray(ut)||(this.reportError("Invalid storage entry:",ut),ut=null))}catch(lt){this.reportError("Error retrieving queue",lt),ut=null}return ut||[]};yn.prototype.saveToStorage=function(ut){try{return this.storage.setItem(this.storageKey,la(ut)),!0}catch(lt){return this.reportError("Error saving queue",lt),!1}};yn.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var Eb=10*60*1e3,po=vu("batch"),Ir=function(ut,lt){this.errorReporter=lt.errorReporter,this.queue=new yn(ut,{errorReporter:T.bind(this.reportError,this),storage:lt.storage}),this.libConfig=lt.libConfig,this.sendRequest=lt.sendRequestFunc,this.beforeSendHook=lt.beforeSendHook,this.stopAllBatching=lt.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0};Ir.prototype.enqueue=function(ut,lt){this.queue.enqueue(ut,this.flushInterval,lt)};Ir.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};Ir.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};Ir.prototype.clear=function(){this.queue.clear()};Ir.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};Ir.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};Ir.prototype.scheduleFlush=function(ut){this.flushInterval=ut,this.stopped||(this.timeoutID=setTimeout(T.bind(this.flush,this),this.flushInterval))};Ir.prototype.flush=function(ut){try{if(this.requestInProgress){po.log("Flush: Request already in progress");return}ut=ut||{};var lt=this.libConfig.batch_request_timeout_ms,ht=new Date().getTime(),_t=this.batchSize,At=this.queue.fillBatch(_t),qt=[],Zt={};if(T.each(At,function(Zr){var xn=Zr.payload;this.beforeSendHook&&!Zr.orphaned&&(xn=this.beforeSendHook(xn)),xn&&qt.push(xn),Zt[Zr.id]=xn},this),qt.length<1){this.resetFlush();return}this.requestInProgress=!0;var cr=T.bind(function(Zr){this.requestInProgress=!1;try{var xn=!1;if(ut.unloading)this.queue.updatePayloads(Zt);else if(T.isObject(Zr)&&Zr.error==="timeout"&&new Date().getTime()-ht>=lt)this.reportError("Network timeout; retrying"),this.flush();else if(T.isObject(Zr)&&Zr.xhr_req&&(Zr.xhr_req.status>=500||Zr.xhr_req.status===429||Zr.error==="timeout")){var On=this.flushInterval*2,ss=Zr.xhr_req.responseHeaders;if(ss){var ls=ss["Retry-After"];ls&&(On=parseInt(ls,10)*1e3||On)}On=Math.min(Eb,On),this.reportError("Error; retry in "+On+" ms"),this.scheduleFlush(On)}else if(T.isObject(Zr)&&Zr.xhr_req&&Zr.xhr_req.status===413)if(At.length>1){var cs=Math.max(1,Math.floor(_t/2));this.batchSize=Math.min(this.batchSize,cs,At.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",At),this.resetBatchSize(),xn=!0;else xn=!0;xn&&this.queue.removeItemsByID(T.map(At,function(wl){return wl.id}),T.bind(function(wl){wl?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this))}catch(wl){this.reportError("Error handling API response",wl),this.resetFlush()}},this),Gr={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:lt};ut.unloading&&(Gr.transport="sendBeacon"),po.log("MIXPANEL REQUEST:",qt),this.sendRequest(qt,Gr,cr)}catch(Zr){this.reportError("Error flushing request queue",Zr),this.resetFlush()}};Ir.prototype.reportError=function(ut,lt){if(po.error.apply(po.error,arguments),this.errorReporter)try{lt instanceof Error||(lt=new Error(ut)),this.errorReporter(ut,lt)}catch(ht){po.error(ht)}};var kb="__mp_opt_in_out_";function Cb(ut,lt){K0(!0,ut,lt)}function Tb(ut,lt){K0(!1,ut,lt)}function Ob(ut,lt){return Y0(ut,lt)==="1"}function H0(ut,lt){if(Pb(lt))return et$1.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var ht=Y0(ut,lt)==="0";return ht&&et$1.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),ht}function Xo(ut){return _u(ut,function(lt){return this.get_config(lt)})}function bn(ut){return _u(ut,function(lt){return this._get_config(lt)})}function Ni(ut){return _u(ut,function(lt){return this._get_config(lt)})}function Ib(ut,lt){lt=lt||{},wu(lt).remove(xu(ut,lt),!!lt.crossSubdomainCookie,lt.cookieDomain)}function wu(ut){return ut=ut||{},ut.persistenceType==="localStorage"?T.localStorage:T.cookie}function xu(ut,lt){return lt=lt||{},(lt.persistencePrefix||kb)+ut}function Y0(ut,lt){return wu(lt).get(xu(ut,lt))}function Pb(ut){if(ut&&ut.ignoreDnt)return!1;var lt=ut&&ut.window||Dt,ht=lt.navigator||{},_t=!1;return T.each([ht.doNotTrack,ht.msDoNotTrack,lt.doNotTrack],function(At){T.includes([!0,1,"1","yes"],At)&&(_t=!0)}),_t}function K0(ut,lt,ht){if(!T.isString(lt)||!lt.length){et$1.error("gdpr."+(ut?"optIn":"optOut")+" called with an invalid token");return}ht=ht||{},wu(ht).set(xu(lt,ht),ut?1:0,T.isNumber(ht.cookieExpiration)?ht.cookieExpiration:null,!!ht.crossSubdomainCookie,!!ht.secureCookie,!!ht.crossSiteCookie,ht.cookieDomain),ht.track&&ut&&ht.track(ht.trackEventName||"$opt_in",ht.trackProperties,{send_immediately:!0})}function _u(ut,lt){return function(){var ht=!1;try{var _t=lt.call(this,"token"),At=lt.call(this,"ignore_dnt"),qt=lt.call(this,"opt_out_tracking_persistence_type"),Zt=lt.call(this,"opt_out_tracking_cookie_prefix"),cr=lt.call(this,"window");_t&&(ht=H0(_t,{ignoreDnt:At,persistenceType:qt,persistencePrefix:Zt,window:cr}))}catch(Zr){et$1.error("Unexpected error when checking tracking opt-out status: "+Zr)}if(!ht)return ut.apply(this,arguments);var Gr=arguments[arguments.length-1];typeof Gr=="function"&&Gr(0)}}var dn="$set",Si="$set_once",fr="$unset",Vn="$add",Yr="$append",qn="$union",hn="$remove",Rb="$delete",X0={set_action:function(ut,lt){var ht={},_t={};return T.isObject(ut)?T.each(ut,function(At,qt){this._is_reserved_property(qt)||(_t[qt]=At)},this):_t[ut]=lt,ht[dn]=_t,ht},unset_action:function(ut){var lt={},ht=[];return T.isArray(ut)||(ut=[ut]),T.each(ut,function(_t){this._is_reserved_property(_t)||ht.push(_t)},this),lt[fr]=ht,lt},set_once_action:function(ut,lt){var ht={},_t={};return T.isObject(ut)?T.each(ut,function(At,qt){this._is_reserved_property(qt)||(_t[qt]=At)},this):_t[ut]=lt,ht[Si]=_t,ht},union_action:function(ut,lt){var ht={},_t={};return T.isObject(ut)?T.each(ut,function(At,qt){this._is_reserved_property(qt)||(_t[qt]=T.isArray(At)?At:[At])},this):_t[ut]=T.isArray(lt)?lt:[lt],ht[qn]=_t,ht},append_action:function(ut,lt){var ht={},_t={};return T.isObject(ut)?T.each(ut,function(At,qt){this._is_reserved_property(qt)||(_t[qt]=At)},this):_t[ut]=lt,ht[Yr]=_t,ht},remove_action:function(ut,lt){var ht={},_t={};return T.isObject(ut)?T.each(ut,function(At,qt){this._is_reserved_property(qt)||(_t[qt]=At)},this):_t[ut]=lt,ht[hn]=_t,ht},delete_action:function(){var ut={};return ut[Rb]="",ut}},at=function(){};T.extend(at.prototype,X0);at.prototype._init=function(ut,lt,ht){this._mixpanel=ut,this._group_key=lt,this._group_id=ht};at.prototype.set=Ni(function(ut,lt,ht){var _t=this.set_action(ut,lt);return T.isObject(ut)&&(ht=lt),this._send_request(_t,ht)});at.prototype.set_once=Ni(function(ut,lt,ht){var _t=this.set_once_action(ut,lt);return T.isObject(ut)&&(ht=lt),this._send_request(_t,ht)});at.prototype.unset=Ni(function(ut,lt){var ht=this.unset_action(ut);return this._send_request(ht,lt)});at.prototype.union=Ni(function(ut,lt,ht){T.isObject(ut)&&(ht=lt);var _t=this.union_action(ut,lt);return this._send_request(_t,ht)});at.prototype.delete=Ni(function(ut){var lt=this.delete_action();return this._send_request(lt,ut)});at.prototype.remove=Ni(function(ut,lt,ht){var _t=this.remove_action(ut,lt);return this._send_request(_t,ht)});at.prototype._send_request=function(ut,lt){ut.$group_key=this._group_key,ut.$group_id=this._group_id,ut.$token=this._get_config("token");var ht=T.encodeDates(ut);return this._mixpanel._track_or_batch({type:"groups",data:ht,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},lt)};at.prototype._is_reserved_property=function(ut){return ut==="$group_key"||ut==="$group_id"};at.prototype._get_config=function(ut){return this._mixpanel.get_config(ut)};at.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};at.prototype.remove=at.prototype.remove;at.prototype.set=at.prototype.set;at.prototype.set_once=at.prototype.set_once;at.prototype.union=at.prototype.union;at.prototype.unset=at.prototype.unset;at.prototype.toString=at.prototype.toString;var Te=function(){};T.extend(Te.prototype,X0);Te.prototype._init=function(ut){this._mixpanel=ut};Te.prototype.set=bn(function(ut,lt,ht){var _t=this.set_action(ut,lt);return T.isObject(ut)&&(ht=lt),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),_t[dn]=T.extend({},T.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),_t[dn]),this._send_request(_t,ht)});Te.prototype.set_once=bn(function(ut,lt,ht){var _t=this.set_once_action(ut,lt);return T.isObject(ut)&&(ht=lt),this._send_request(_t,ht)});Te.prototype.unset=bn(function(ut,lt){var ht=this.unset_action(ut);return this._send_request(ht,lt)});Te.prototype.increment=bn(function(ut,lt,ht){var _t={},At={};return T.isObject(ut)?(T.each(ut,function(qt,Zt){if(!this._is_reserved_property(Zt))if(isNaN(parseFloat(qt))){et$1.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else At[Zt]=qt},this),ht=lt):(T.isUndefined(lt)&&(lt=1),At[ut]=lt),_t[Vn]=At,this._send_request(_t,ht)});Te.prototype.append=bn(function(ut,lt,ht){T.isObject(ut)&&(ht=lt);var _t=this.append_action(ut,lt);return this._send_request(_t,ht)});Te.prototype.remove=bn(function(ut,lt,ht){T.isObject(ut)&&(ht=lt);var _t=this.remove_action(ut,lt);return this._send_request(_t,ht)});Te.prototype.union=bn(function(ut,lt,ht){T.isObject(ut)&&(ht=lt);var _t=this.union_action(ut,lt);return this._send_request(_t,ht)});Te.prototype.track_charge=bn(function(ut,lt,ht){if(!T.isNumber(ut)&&(ut=parseFloat(ut),isNaN(ut))){et$1.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",T.extend({$amount:ut},lt),ht)});Te.prototype.clear_charges=function(ut){return this.set("$transactions",[],ut)};Te.prototype.delete_user=function(){if(!this._identify_called()){et$1.error("mixpanel.people.delete_user() requires you to call identify() first");return}var ut={$delete:this._mixpanel.get_distinct_id()};return this._send_request(ut)};Te.prototype.toString=function(){return this._mixpanel.toString()+".people"};Te.prototype._send_request=function(ut,lt){ut.$token=this._get_config("token"),ut.$distinct_id=this._mixpanel.get_distinct_id();var ht=this._mixpanel.get_property("$device_id"),_t=this._mixpanel.get_property("$user_id"),At=this._mixpanel.get_property("$had_persisted_distinct_id");ht&&(ut.$device_id=ht),_t&&(ut.$user_id=_t),At&&(ut.$had_persisted_distinct_id=At);var qt=T.encodeDates(ut);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:qt,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},lt):(this._enqueue(ut),T.isUndefined(lt)||(this._get_config("verbose")?lt({status:-1,error:null}):lt(-1)),T.truncate(qt,255))};Te.prototype._get_config=function(ut){return this._mixpanel.get_config(ut)};Te.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};Te.prototype._enqueue=function(ut){dn in ut?this._mixpanel.persistence._add_to_people_queue(dn,ut):Si in ut?this._mixpanel.persistence._add_to_people_queue(Si,ut):fr in ut?this._mixpanel.persistence._add_to_people_queue(fr,ut):Vn in ut?this._mixpanel.persistence._add_to_people_queue(Vn,ut):Yr in ut?this._mixpanel.persistence._add_to_people_queue(Yr,ut):hn in ut?this._mixpanel.persistence._add_to_people_queue(hn,ut):qn in ut?this._mixpanel.persistence._add_to_people_queue(qn,ut):et$1.error("Invalid call to _enqueue():",ut)};Te.prototype._flush_one_queue=function(ut,lt,ht,_t){var At=this,qt=T.extend({},this._mixpanel.persistence._get_queue(ut)),Zt=qt;!T.isUndefined(qt)&&T.isObject(qt)&&!T.isEmptyObject(qt)&&(At._mixpanel.persistence._pop_from_people_queue(ut,qt),_t&&(Zt=_t(qt)),lt.call(At,Zt,function(cr,Gr){cr===0&&At._mixpanel.persistence._add_to_people_queue(ut,qt),T.isUndefined(ht)||ht(cr,Gr)}))};Te.prototype._flush=function(ut,lt,ht,_t,At,qt,Zt){var cr=this,Gr=this._mixpanel.persistence._get_queue(Yr),Zr=this._mixpanel.persistence._get_queue(hn);if(this._flush_one_queue(dn,this.set,ut),this._flush_one_queue(Si,this.set_once,_t),this._flush_one_queue(fr,this.unset,qt,function(ep){return T.keys(ep)}),this._flush_one_queue(Vn,this.increment,lt),this._flush_one_queue(qn,this.union,At),!T.isUndefined(Gr)&&T.isArray(Gr)&&Gr.length){for(var xn,On=function(ep,Al){ep===0&&cr._mixpanel.persistence._add_to_people_queue(Yr,xn),T.isUndefined(ht)||ht(ep,Al)},ss=Gr.length-1;ss>=0;ss--)xn=Gr.pop(),T.isEmptyObject(xn)||cr.append(xn,On);cr._mixpanel.persistence.save()}if(!T.isUndefined(Zr)&&T.isArray(Zr)&&Zr.length){for(var ls,cs=function(ep,Al){ep===0&&cr._mixpanel.persistence._add_to_people_queue(hn,ls),T.isUndefined(Zt)||Zt(ep,Al)},wl=Zr.length-1;wl>=0;wl--)ls=Zr.pop(),T.isEmptyObject(ls)||cr.remove(ls,cs);cr._mixpanel.persistence.save()}};Te.prototype._is_reserved_property=function(ut){return ut==="$distinct_id"||ut==="$token"||ut==="$device_id"||ut==="$user_id"||ut==="$had_persisted_distinct_id"};Te.prototype.set=Te.prototype.set;Te.prototype.set_once=Te.prototype.set_once;Te.prototype.unset=Te.prototype.unset;Te.prototype.increment=Te.prototype.increment;Te.prototype.append=Te.prototype.append;Te.prototype.remove=Te.prototype.remove;Te.prototype.union=Te.prototype.union;Te.prototype.track_charge=Te.prototype.track_charge;Te.prototype.clear_charges=Te.prototype.clear_charges;Te.prototype.delete_user=Te.prototype.delete_user;Te.prototype.toString=Te.prototype.toString;var Su="__mps",Eu="__mpso",ku="__mpus",Cu="__mpa",Tu="__mpap",Ou="__mpr",Iu="__mpu",J0="$people_distinct_id",ua="__alias",ko="__timers",Db=[Su,Eu,ku,Cu,Tu,Ou,Iu,J0,ua,ko],Me=function(ut){this.props={},this.campaign_params_saved=!1,ut.persistence_name?this.name="mp_"+ut.persistence_name:this.name="mp_"+ut.token+"_mixpanel";var lt=ut.persistence;lt!=="cookie"&&lt!=="localStorage"&&(et$1.critical("Unknown persistence type "+lt+"; falling back to cookie"),lt=ut.persistence="cookie"),lt==="localStorage"&&T.localStorage.is_supported()?this.storage=T.localStorage:this.storage=T.cookie,this.load(),this.update_config(ut),this.upgrade(ut),this.save()};Me.prototype.properties=function(){var ut={};return T.each(this.props,function(lt,ht){T.include(Db,ht)||(ut[ht]=lt)}),ut};Me.prototype.load=function(){if(!this.disabled){var ut=this.storage.parse(this.name);ut&&(this.props=T.extend({},ut))}};Me.prototype.upgrade=function(ut){var lt=ut.upgrade,ht,_t;lt&&(ht="mp_super_properties",typeof lt=="string"&&(ht=lt),_t=this.storage.parse(ht),this.storage.remove(ht),this.storage.remove(ht,!0),_t&&(this.props=T.extend(this.props,_t.all,_t.events))),!ut.cookie_name&&ut.name!=="mixpanel"&&(ht="mp_"+ut.token+"_"+ut.name,_t=this.storage.parse(ht),_t&&(this.storage.remove(ht),this.storage.remove(ht,!0),this.register_once(_t))),this.storage===T.localStorage&&(_t=T.cookie.parse(this.name),T.cookie.remove(this.name),T.cookie.remove(this.name,!0),_t&&this.register_once(_t))};Me.prototype.save=function(){this.disabled||this.storage.set(this.name,T.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};Me.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};Me.prototype.clear=function(){this.remove(),this.props={}};Me.prototype.register_once=function(ut,lt,ht){return T.isObject(ut)?(typeof lt>"u"&&(lt="None"),this.expire_days=typeof ht>"u"?this.default_expiry:ht,T.each(ut,function(_t,At){(!this.props.hasOwnProperty(At)||this.props[At]===lt)&&(this.props[At]=_t)},this),this.save(),!0):!1};Me.prototype.register=function(ut,lt){return T.isObject(ut)?(this.expire_days=typeof lt>"u"?this.default_expiry:lt,T.extend(this.props,ut),this.save(),!0):!1};Me.prototype.unregister=function(ut){ut in this.props&&(delete this.props[ut],this.save())};Me.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(T.info.campaignParams()),this.campaign_params_saved=!0)};Me.prototype.update_search_keyword=function(ut){this.register(T.info.searchInfo(ut))};Me.prototype.update_referrer_info=function(ut){this.register_once({$initial_referrer:ut||"$direct",$initial_referring_domain:T.info.referringDomain(ut)||"$direct"},"")};Me.prototype.get_referrer_info=function(){return T.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};Me.prototype.safe_merge=function(ut){return T.each(this.props,function(lt,ht){ht in ut||(ut[ht]=lt)}),ut};Me.prototype.update_config=function(ut){this.default_expiry=this.expire_days=ut.cookie_expiration,this.set_disabled(ut.disable_persistence),this.set_cookie_domain(ut.cookie_domain),this.set_cross_site(ut.cross_site_cookie),this.set_cross_subdomain(ut.cross_subdomain_cookie),this.set_secure(ut.secure_cookie)};Me.prototype.set_disabled=function(ut){this.disabled=ut,this.disabled?this.remove():this.save()};Me.prototype.set_cookie_domain=function(ut){ut!==this.cookie_domain&&(this.remove(),this.cookie_domain=ut,this.save())};Me.prototype.set_cross_site=function(ut){ut!==this.cross_site&&(this.cross_site=ut,this.remove(),this.save())};Me.prototype.set_cross_subdomain=function(ut){ut!==this.cross_subdomain&&(this.cross_subdomain=ut,this.remove(),this.save())};Me.prototype.get_cross_subdomain=function(){return this.cross_subdomain};Me.prototype.set_secure=function(ut){ut!==this.secure&&(this.secure=!!ut,this.remove(),this.save())};Me.prototype._add_to_people_queue=function(ut,lt){var ht=this._get_queue_key(ut),_t=lt[ut],At=this._get_or_create_queue(dn),qt=this._get_or_create_queue(Si),Zt=this._get_or_create_queue(fr),cr=this._get_or_create_queue(Vn),Gr=this._get_or_create_queue(qn),Zr=this._get_or_create_queue(hn,[]),xn=this._get_or_create_queue(Yr,[]);ht===Su?(T.extend(At,_t),this._pop_from_people_queue(Vn,_t),this._pop_from_people_queue(qn,_t),this._pop_from_people_queue(fr,_t)):ht===Eu?(T.each(_t,function(On,ss){ss in qt||(qt[ss]=On)}),this._pop_from_people_queue(fr,_t)):ht===ku?T.each(_t,function(On){T.each([At,qt,cr,Gr],function(ss){On in ss&&delete ss[On]}),T.each(xn,function(ss){On in ss&&delete ss[On]}),Zt[On]=!0}):ht===Cu?(T.each(_t,function(On,ss){ss in At?At[ss]+=On:(ss in cr||(cr[ss]=0),cr[ss]+=On)},this),this._pop_from_people_queue(fr,_t)):ht===Iu?(T.each(_t,function(On,ss){T.isArray(On)&&(ss in Gr||(Gr[ss]=[]),Gr[ss]=Gr[ss].concat(On))}),this._pop_from_people_queue(fr,_t)):ht===Ou?(Zr.push(_t),this._pop_from_people_queue(Yr,_t)):ht===Tu&&(xn.push(_t),this._pop_from_people_queue(fr,_t)),et$1.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),et$1.log(lt),this.save()};Me.prototype._pop_from_people_queue=function(ut,lt){var ht=this._get_queue(ut);T.isUndefined(ht)||(T.each(lt,function(_t,At){ut===Yr||ut===hn?T.each(ht,function(qt){qt[At]===_t&&delete qt[At]}):delete ht[At]},this),this.save())};Me.prototype._get_queue_key=function(ut){if(ut===dn)return Su;if(ut===Si)return Eu;if(ut===fr)return ku;if(ut===Vn)return Cu;if(ut===Yr)return Tu;if(ut===hn)return Ou;if(ut===qn)return Iu;et$1.error("Invalid queue:",ut)};Me.prototype._get_queue=function(ut){return this.props[this._get_queue_key(ut)]};Me.prototype._get_or_create_queue=function(ut,lt){var ht=this._get_queue_key(ut);return lt=T.isUndefined(lt)?{}:lt,this.props[ht]||(this.props[ht]=lt)};Me.prototype.set_event_timer=function(ut,lt){var ht=this.props[ko]||{};ht[ut]=lt,this.props[ko]=ht,this.save()};Me.prototype.remove_event_timer=function(ut){var lt=this.props[ko]||{},ht=lt[ut];return T.isUndefined(ht)||(delete this.props[ko][ut],this.save()),ht};var Pu,Pt,Q0=0,Mb=1,Nb=function(ut){return ut},Co=function(){},nr="mixpanel",G0="base64",Lb="json",gi=Dt.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,Z0=!gi&&ur.indexOf("MSIE")===-1&&ur.indexOf("Mozilla")===-1,fa=null;Br.sendBeacon&&(fa=function(){return Br.sendBeacon.apply(Br,arguments)});var hd={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:G0,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Co,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Co,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},$0=!1,ce=function(){},kc=function(ut,lt,ht){var _t,At=ht===nr?Pt:Pt[ht];if(At&&Pu===Q0)_t=At;else{if(At&&!T.isArray(At)){et$1.error("You have already initialized "+ht);return}_t=new ce}return _t._cached_groups={},_t._init(ut,lt,ht),_t.people=new Te,_t.people._init(_t),cn.DEBUG=cn.DEBUG||_t.get_config("debug"),!T.isUndefined(At)&&T.isArray(At)&&(_t._execute_array.call(_t.people,At.people),_t._execute_array(At)),_t};ce.prototype.init=function(ut,lt,ht){if(T.isUndefined(ht)){this.report_error("You must name your new library: init(token, config, name)");return}if(ht===nr){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var _t=kc(ut,lt,ht);return Pt[ht]=_t,_t._loaded(),_t};ce.prototype._init=function(ut,lt,ht){lt=lt||{},this.__loaded=!0,this.config={};var _t={};if(!("api_payload_format"in lt)){var At=lt.api_host||hd.api_host;At.match(/\.mixpanel\.com$/)&&(_t.api_payload_format=Lb)}if(this.set_config(T.extend({},hd,_t,lt,{name:ht,token:ut,callback_fn:(ht===nr?ht:nr+"."+ht)+"._jsc"})),this._jsc=Co,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!T.localStorage.is_supported(!0)||!gi)this._batch_requests=!1,et$1.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");else if(this.init_batchers(),fa&&Dt.addEventListener){var qt=T.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);Dt.addEventListener("pagehide",function(cr){cr.persisted&&qt()}),Dt.addEventListener("visibilitychange",function(){rt.visibilityState==="hidden"&&qt()})}}this.persistence=this.cookie=new Me(this.config),this.unpersisted_superprops={},this._gdpr_init();var Zt=T.UUID();this.get_distinct_id()||this.register_once({distinct_id:Zt,$device_id:Zt},"")};ce.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()};ce.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(rt.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(rt.referrer)};ce.prototype._dom_loaded=function(){T.each(this.__dom_loaded_queue,function(ut){this._track_dom.apply(this,ut)},this),this.has_opted_out_tracking()||T.each(this.__request_queue,function(ut){this._send_request.apply(this,ut)},this),delete this.__dom_loaded_queue,delete this.__request_queue};ce.prototype._track_dom=function(ut,lt){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!$0)return this.__dom_loaded_queue.push([ut,lt]),!1;var ht=new ut().init(this);return ht.track.apply(ht,lt)};ce.prototype._prepare_callback=function(ut,lt){if(T.isUndefined(ut))return null;if(gi){var ht=function(Zt){ut(Zt,lt)};return ht}else{var _t=this._jsc,At=""+Math.floor(Math.random()*1e8),qt=this.get_config("callback_fn")+"["+At+"]";return _t[At]=function(Zt){delete _t[At],ut(Zt,lt)},qt}};ce.prototype._send_request=function(ut,lt,ht,_t){var At=!0;if(Z0)return this.__request_queue.push(arguments),At;var qt={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},Zt=null;!_t&&(T.isFunction(ht)||typeof ht=="string")&&(_t=ht,ht=null),ht=T.extend(qt,ht||{}),gi||(ht.method="GET");var cr=ht.method==="POST",Gr=fa&&cr&&ht.transport.toLowerCase()==="sendbeacon",Zr=ht.verbose;lt.verbose&&(Zr=!0),this.get_config("test")&&(lt.test=1),Zr&&(lt.verbose=1),this.get_config("img")&&(lt.img=1),gi||(_t?lt.callback=_t:(Zr||this.get_config("test"))&&(lt.callback="(function(){})")),lt.ip=this.get_config("ip")?1:0,lt._=new Date().getTime().toString(),cr&&(Zt="data="+encodeURIComponent(lt.data),delete lt.data),ut+="?"+T.HTTPBuildQuery(lt);var xn=this;if("img"in lt){var On=rt.createElement("img");On.src=ut,rt.body.appendChild(On)}else if(Gr){try{At=fa(ut,Zt)}catch(Al){xn.report_error(Al),At=!1}try{_t&&_t(At?1:0)}catch(Al){xn.report_error(Al)}}else if(gi)try{var ss=new XMLHttpRequest;ss.open(ht.method,ut,!0);var ls=this.get_config("xhr_headers");if(cr&&(ls["Content-Type"]="application/x-www-form-urlencoded"),T.each(ls,function(Al,np){ss.setRequestHeader(np,Al)}),ht.timeout_ms&&typeof ss.timeout<"u"){ss.timeout=ht.timeout_ms;var cs=new Date().getTime()}ss.withCredentials=!0,ss.onreadystatechange=function(){if(ss.readyState===4)if(ss.status===200){if(_t)if(Zr){var Al;try{Al=T.JSONDecode(ss.responseText)}catch(cp){if(xn.report_error(cp),ht.ignore_json_errors)Al=ss.responseText;else return}_t(Al)}else _t(Number(ss.responseText))}else{var np;ss.timeout&&!ss.status&&new Date().getTime()-cs>=ss.timeout?np="timeout":np="Bad HTTP status: "+ss.status+" "+ss.statusText,xn.report_error(np),_t&&_t(Zr?{status:0,error:np,xhr_req:ss}:0)}},ss.send(Zt)}catch(Al){xn.report_error(Al),At=!1}else{var wl=rt.createElement("script");wl.type="text/javascript",wl.async=!0,wl.defer=!0,wl.src=ut;var ep=rt.getElementsByTagName("script")[0];ep.parentNode.insertBefore(wl,ep)}return At};ce.prototype._execute_array=function(ut){var lt,ht=[],_t=[],At=[];T.each(ut,function(Zt){Zt&&(lt=Zt[0],T.isArray(lt)?At.push(Zt):typeof Zt=="function"?Zt.call(this):T.isArray(Zt)&&lt==="alias"?ht.push(Zt):T.isArray(Zt)&&lt.indexOf("track")!==-1&&typeof this[lt]=="function"?At.push(Zt):_t.push(Zt))},this);var qt=function(Zt,cr){T.each(Zt,function(Gr){if(T.isArray(Gr[0])){var Zr=cr;T.each(Gr,function(xn){Zr=Zr[xn[0]].apply(Zr,xn.slice(1))})}else this[Gr[0]].apply(this,Gr.slice(1))},cr)};qt(ht,this),qt(_t,this),qt(At,this)};ce.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};ce.prototype.init_batchers=function(){var ut=this.get_config("token");if(!this.are_batchers_initialized()){var lt=T.bind(function(ht){return new Ir("__mpq_"+ut+ht.queue_suffix,{libConfig:this.config,sendRequestFunc:T.bind(function(_t,At,qt){this._send_request(this.get_config("api_host")+ht.endpoint,this._encode_data_for_request(_t),At,this._prepare_callback(qt,_t))},this),beforeSendHook:T.bind(function(_t){return this._run_hook("before_send_"+ht.type,_t)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:T.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:lt({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:lt({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:lt({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()};ce.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,T.each(this.request_batchers,function(ut){ut.start()}))};ce.prototype.stop_batch_senders=function(){this._batch_requests=!1,T.each(this.request_batchers,function(ut){ut.stop(),ut.clear()})};ce.prototype.push=function(ut){this._execute_array([ut])};ce.prototype.disable=function(ut){typeof ut>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(ut)};ce.prototype._encode_data_for_request=function(ut){var lt=T.JSONEncode(ut);return this.get_config("api_payload_format")===G0&&(lt=T.base64Encode(lt)),{data:lt}};ce.prototype._track_or_batch=function(ut,lt){var ht=T.truncate(ut.data,255),_t=ut.endpoint,At=ut.batcher,qt=ut.should_send_immediately,Zt=ut.send_request_options||{};lt=lt||Co;var cr=!0,Gr=T.bind(function(){return Zt.skip_hooks||(ht=this._run_hook("before_send_"+ut.type,ht)),ht?(et$1.log("MIXPANEL REQUEST:"),et$1.log(ht),this._send_request(_t,this._encode_data_for_request(ht),Zt,this._prepare_callback(lt,ht))):null},this);return this._batch_requests&&!qt?At.enqueue(ht,function(Zr){Zr?lt(1,ht):Gr()}):cr=Gr(),cr&&ht};ce.prototype.track=Xo(function(ut,lt,ht,_t){!_t&&typeof ht=="function"&&(_t=ht,ht=null),ht=ht||{};var At=ht.transport;At&&(ht.transport=At);var qt=ht.send_immediately;if(typeof _t!="function"&&(_t=Co),T.isUndefined(ut)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(ut)){_t(0);return}lt=lt||{},lt.token=this.get_config("token");var Zt=this.persistence.remove_event_timer(ut);if(!T.isUndefined(Zt)){var cr=new Date().getTime()-Zt;lt.$duration=parseFloat((cr/1e3).toFixed(3))}this._set_default_superprops(),lt=T.extend({},T.info.properties(),this.persistence.properties(),this.unpersisted_superprops,lt);var Gr=this.get_config("property_blacklist");T.isArray(Gr)?T.each(Gr,function(On){delete lt[On]}):this.report_error("Invalid value for property_blacklist config: "+Gr);var Zr={event:ut,properties:lt},xn=this._track_or_batch({type:"events",data:Zr,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:qt,send_request_options:ht},_t);return xn});ce.prototype.set_group=Xo(function(ut,lt,ht){T.isArray(lt)||(lt=[lt]);var _t={};return _t[ut]=lt,this.register(_t),this.people.set(ut,lt,ht)});ce.prototype.add_group=Xo(function(ut,lt,ht){var _t=this.get_property(ut);if(_t===void 0){var At={};At[ut]=[lt],this.register(At)}else _t.indexOf(lt)===-1&&(_t.push(lt),this.register(At));return this.people.union(ut,lt,ht)});ce.prototype.remove_group=Xo(function(ut,lt,ht){var _t=this.get_property(ut);if(_t!==void 0){var At=_t.indexOf(lt);At>-1&&(_t.splice(At,1),this.register({group_key:_t})),_t.length===0&&this.unregister(ut)}return this.people.remove(ut,lt,ht)});ce.prototype.track_with_groups=Xo(function(ut,lt,ht,_t){var At=T.extend({},lt||{});return T.each(ht,function(qt,Zt){qt!=null&&(At[Zt]=qt)}),this.track(ut,At,_t)});ce.prototype._create_map_key=function(ut,lt){return ut+"_"+JSON.stringify(lt)};ce.prototype._remove_group_from_cache=function(ut,lt){delete this._cached_groups[this._create_map_key(ut,lt)]};ce.prototype.get_group=function(ut,lt){var ht=this._create_map_key(ut,lt),_t=this._cached_groups[ht];return(_t===void 0||_t._group_key!==ut||_t._group_id!==lt)&&(_t=new at,_t._init(this,ut,lt),this._cached_groups[ht]=_t),_t};ce.prototype.track_pageview=function(ut){T.isUndefined(ut)&&(ut=rt.location.href),this.track("mp_page_view",T.info.pageviewInfo(ut))};ce.prototype.track_links=function(){return this._track_dom.call(this,_i,arguments)};ce.prototype.track_forms=function(){return this._track_dom.call(this,za,arguments)};ce.prototype.time_event=function(ut){if(T.isUndefined(ut)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(ut)||this.persistence.set_event_timer(ut,new Date().getTime())};var Bb={persistent:!0},Ru=function(ut){var lt;return T.isObject(ut)?lt=ut:T.isUndefined(ut)?lt={}:lt={days:ut},T.extend({},Bb,lt)};ce.prototype.register=function(ut,lt){var ht=Ru(lt);ht.persistent?this.persistence.register(ut,ht.days):T.extend(this.unpersisted_superprops,ut)};ce.prototype.register_once=function(ut,lt,ht){var _t=Ru(ht);_t.persistent?this.persistence.register_once(ut,lt,_t.days):(typeof lt>"u"&&(lt="None"),T.each(ut,function(At,qt){(!this.unpersisted_superprops.hasOwnProperty(qt)||this.unpersisted_superprops[qt]===lt)&&(this.unpersisted_superprops[qt]=At)},this))};ce.prototype.unregister=function(ut,lt){lt=Ru(lt),lt.persistent?this.persistence.unregister(ut):delete this.unpersisted_superprops[ut]};ce.prototype._register_single=function(ut,lt){var ht={};ht[ut]=lt,this.register(ht)};ce.prototype.identify=function(ut,lt,ht,_t,At,qt,Zt,cr){var Gr=this.get_distinct_id();if(this.register({$user_id:ut}),!this.get_property("$device_id")){var Zr=Gr;this.register_once({$had_persisted_distinct_id:!0,$device_id:Zr},"")}ut!==Gr&&ut!==this.get_property(ua)&&(this.unregister(ua),this.register({distinct_id:ut})),this._flags.identify_called=!0,this.people._flush(lt,ht,_t,At,qt,Zt,cr),ut!==Gr&&this.track("$identify",{distinct_id:ut,$anon_distinct_id:Gr},{skip_hooks:!0})};ce.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var ut=T.UUID();this.register_once({distinct_id:ut,$device_id:ut},"")};ce.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};ce.prototype.alias=function(ut,lt){if(ut===this.get_property(J0))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var ht=this;return T.isUndefined(lt)&&(lt=this.get_distinct_id()),ut!==lt?(this._register_single(ua,ut),this.track("$create_alias",{alias:ut,distinct_id:lt},{skip_hooks:!0},function(){ht.identify(ut)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(ut),-1)};ce.prototype.name_tag=function(ut){this._register_single("mp_name_tag",ut)};ce.prototype.set_config=function(ut){if(T.isObject(ut)){T.extend(this.config,ut);var lt=ut.batch_size;lt&&T.each(this.request_batchers,function(ht){ht.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),cn.DEBUG=cn.DEBUG||this.get_config("debug")}};ce.prototype.get_config=function(ut){return this.config[ut]};ce.prototype._run_hook=function(ut){var lt=(this.config.hooks[ut]||Nb).apply(this,en.call(arguments,1));return typeof lt>"u"&&(this.report_error(ut+" hook did not return a value"),lt=null),lt};ce.prototype.get_property=function(ut){return this.persistence.props[ut]};ce.prototype.toString=function(){var ut=this.get_config("name");return ut!==nr&&(ut=nr+"."+ut),ut};ce.prototype._event_is_disabled=function(ut){return T.isBlockedUA(ur)||this._flags.disable_all_events||T.include(this.__disabled_events,ut)};ce.prototype._gdpr_init=function(){var ut=this.get_config("opt_out_tracking_persistence_type")==="localStorage";ut&&T.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||T.cookie.get("mp_optout"))&&(T.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};ce.prototype._gdpr_update_persistence=function(ut){var lt;if(ut&&ut.clear_persistence)lt=!0;else if(ut&&ut.enable_persistence)lt=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==lt&&this.persistence.set_disabled(lt),lt&&T.each(this.request_batchers,function(ht){ht.clear()})};ce.prototype._gdpr_call_func=function(ut,lt){return lt=T.extend({track:T.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},lt),T.localStorage.is_supported()||(lt.persistence_type="cookie"),ut(this.get_config("token"),{track:lt.track,trackEventName:lt.track_event_name,trackProperties:lt.track_properties,persistenceType:lt.persistence_type,persistencePrefix:lt.cookie_prefix,cookieDomain:lt.cookie_domain,cookieExpiration:lt.cookie_expiration,crossSiteCookie:lt.cross_site_cookie,crossSubdomainCookie:lt.cross_subdomain_cookie,secureCookie:lt.secure_cookie,ignoreDnt:lt.ignore_dnt})};ce.prototype.opt_in_tracking=function(ut){ut=T.extend({enable_persistence:!0},ut),this._gdpr_call_func(Cb,ut),this._gdpr_update_persistence(ut)};ce.prototype.opt_out_tracking=function(ut){ut=T.extend({clear_persistence:!0,delete_user:!0},ut),ut.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Tb,ut),this._gdpr_update_persistence(ut)};ce.prototype.has_opted_in_tracking=function(ut){return this._gdpr_call_func(Ob,ut)};ce.prototype.has_opted_out_tracking=function(ut){return this._gdpr_call_func(H0,ut)};ce.prototype.clear_opt_in_out_tracking=function(ut){ut=T.extend({enable_persistence:!0},ut),this._gdpr_call_func(Ib,ut),this._gdpr_update_persistence(ut)};ce.prototype.report_error=function(ut,lt){et$1.error.apply(et$1.error,arguments);try{!lt&&!(ut instanceof Error)&&(ut=new Error(ut)),this.get_config("error_reporter")(ut,lt)}catch(ht){et$1.error(ht)}};ce.prototype.init=ce.prototype.init;ce.prototype.reset=ce.prototype.reset;ce.prototype.disable=ce.prototype.disable;ce.prototype.time_event=ce.prototype.time_event;ce.prototype.track=ce.prototype.track;ce.prototype.track_links=ce.prototype.track_links;ce.prototype.track_forms=ce.prototype.track_forms;ce.prototype.track_pageview=ce.prototype.track_pageview;ce.prototype.register=ce.prototype.register;ce.prototype.register_once=ce.prototype.register_once;ce.prototype.unregister=ce.prototype.unregister;ce.prototype.identify=ce.prototype.identify;ce.prototype.alias=ce.prototype.alias;ce.prototype.name_tag=ce.prototype.name_tag;ce.prototype.set_config=ce.prototype.set_config;ce.prototype.get_config=ce.prototype.get_config;ce.prototype.get_property=ce.prototype.get_property;ce.prototype.get_distinct_id=ce.prototype.get_distinct_id;ce.prototype.toString=ce.prototype.toString;ce.prototype.opt_out_tracking=ce.prototype.opt_out_tracking;ce.prototype.opt_in_tracking=ce.prototype.opt_in_tracking;ce.prototype.has_opted_out_tracking=ce.prototype.has_opted_out_tracking;ce.prototype.has_opted_in_tracking=ce.prototype.has_opted_in_tracking;ce.prototype.clear_opt_in_out_tracking=ce.prototype.clear_opt_in_out_tracking;ce.prototype.get_group=ce.prototype.get_group;ce.prototype.set_group=ce.prototype.set_group;ce.prototype.add_group=ce.prototype.add_group;ce.prototype.remove_group=ce.prototype.remove_group;ce.prototype.track_with_groups=ce.prototype.track_with_groups;ce.prototype.start_batch_senders=ce.prototype.start_batch_senders;ce.prototype.stop_batch_senders=ce.prototype.stop_batch_senders;Me.prototype.properties=Me.prototype.properties;Me.prototype.update_search_keyword=Me.prototype.update_search_keyword;Me.prototype.update_referrer_info=Me.prototype.update_referrer_info;Me.prototype.get_cross_subdomain=Me.prototype.get_cross_subdomain;Me.prototype.clear=Me.prototype.clear;var di={},Fb=function(){T.each(di,function(ut,lt){lt!==nr&&(Pt[lt]=ut)}),Pt._=T},jb=function(){Pt.init=function(ut,lt,ht){if(ht)return Pt[ht]||(Pt[ht]=di[ht]=kc(ut,lt,ht),Pt[ht]._loaded()),Pt[ht];var _t=Pt;di[nr]?_t=di[nr]:ut&&(_t=kc(ut,lt,nr),_t._loaded(),di[nr]=_t),Pt=_t,Pu===Mb&&(Dt[nr]=Pt),Fb()}},Wb=function(){function ut(){ut.done||(ut.done=!0,$0=!0,Z0=!1,T.each(di,function(_t){_t._dom_loaded()}))}function lt(){try{rt.documentElement.doScroll("left")}catch{setTimeout(lt,1);return}ut()}if(rt.addEventListener)rt.readyState==="complete"?ut():rt.addEventListener("DOMContentLoaded",ut,!1);else if(rt.attachEvent){rt.attachEvent("onreadystatechange",ut);var ht=!1;try{ht=Dt.frameElement===null}catch{}rt.documentElement.doScroll&&ht&&lt()}T.register_event(Dt,"load",ut,!0)};function Ub(){return Pu=Q0,Pt=new ce,jb(),Pt.init(),Wb(),Pt}var zb=Ub(),no=zb;function Du(){return typeof window<"u"?window.location.host.indexOf("discordsays.com")!==-1:!1}let pd=!1;function Vb(ut){var lt;if(pd)return;let ht="https://ws.joinplayroom.com";if((lt=api$2.env)!=null&&lt.REACT_APP_SERVER){const _t={}.REACT_APP_SERVER.split("://");ht=`${_t[0]==="wss"?"https":"http"}://${_t[1]}`}ut&&(ht=ut),no.init("2647310162474a4f7ca66a277c543032",{debug:!1,api_host:`${ht}/__mix`}),pd=!0}Vb(Du()?`${window.location.protocol}//${window.location.host}/.proxy/_ws`:null);let ds=()=>!0,mi={identify:ut=>{try{ds()&&no.identify(ut)}catch(lt){console.log(lt)}},alias:ut=>{try{ds()&&no.alias(ut)}catch(lt){console.log(lt)}},track:(ut,lt)=>{try{ds()&&no.track(ut,lt)}catch(ht){console.log(ht)}},people:{set:ut=>{try{ds()&&no.people.set(ut)}catch(lt){console.log(lt)}}}};var da={},qb={get exports(){return da},set exports(ut){da=ut}},Cc={},Hb={get exports(){return Cc},set exports(ut){Cc=ut}};(function(){var ut="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lt={rotl:function(ht,_t){return ht<<_t|ht>>>32-_t},rotr:function(ht,_t){return ht<<32-_t|ht>>>_t},endian:function(ht){if(ht.constructor==Number)return lt.rotl(ht,8)&16711935|lt.rotl(ht,24)&4278255360;for(var _t=0;_t<ht.length;_t++)ht[_t]=lt.endian(ht[_t]);return ht},randomBytes:function(ht){for(var _t=[];ht>0;ht--)_t.push(Math.floor(Math.random()*256));return _t},bytesToWords:function(ht){for(var _t=[],At=0,qt=0;At<ht.length;At++,qt+=8)_t[qt>>>5]|=ht[At]<<24-qt%32;return _t},wordsToBytes:function(ht){for(var _t=[],At=0;At<ht.length*32;At+=8)_t.push(ht[At>>>5]>>>24-At%32&255);return _t},bytesToHex:function(ht){for(var _t=[],At=0;At<ht.length;At++)_t.push((ht[At]>>>4).toString(16)),_t.push((ht[At]&15).toString(16));return _t.join("")},hexToBytes:function(ht){for(var _t=[],At=0;At<ht.length;At+=2)_t.push(parseInt(ht.substr(At,2),16));return _t},bytesToBase64:function(ht){for(var _t=[],At=0;At<ht.length;At+=3)for(var qt=ht[At]<<16|ht[At+1]<<8|ht[At+2],Zt=0;Zt<4;Zt++)At*8+Zt*6<=ht.length*8?_t.push(ut.charAt(qt>>>6*(3-Zt)&63)):_t.push("=");return _t.join("")},base64ToBytes:function(ht){ht=ht.replace(/[^A-Z0-9+\/]/ig,"");for(var _t=[],At=0,qt=0;At<ht.length;qt=++At%4)qt!=0&&_t.push((ut.indexOf(ht.charAt(At-1))&Math.pow(2,-2*qt+8)-1)<<qt*2|ut.indexOf(ht.charAt(At))>>>6-qt*2);return _t}};Hb.exports=lt})();var Tc={utf8:{stringToBytes:function(ut){return Tc.bin.stringToBytes(unescape(encodeURIComponent(ut)))},bytesToString:function(ut){return decodeURIComponent(escape(Tc.bin.bytesToString(ut)))}},bin:{stringToBytes:function(ut){for(var lt=[],ht=0;ht<ut.length;ht++)lt.push(ut.charCodeAt(ht)&255);return lt},bytesToString:function(ut){for(var lt=[],ht=0;ht<ut.length;ht++)lt.push(String.fromCharCode(ut[ht]));return lt.join("")}}},gd=Tc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Yb=function(ut){return ut!=null&&(e1(ut)||Kb(ut)||!!ut._isBuffer)};function e1(ut){return!!ut.constructor&&typeof ut.constructor.isBuffer=="function"&&ut.constructor.isBuffer(ut)}function Kb(ut){return typeof ut.readFloatLE=="function"&&typeof ut.slice=="function"&&e1(ut.slice(0,0))}(function(){var ut=Cc,lt=gd.utf8,ht=Yb,_t=gd.bin,At=function(qt,Zt){qt.constructor==String?Zt&&Zt.encoding==="binary"?qt=_t.stringToBytes(qt):qt=lt.stringToBytes(qt):ht(qt)?qt=Array.prototype.slice.call(qt,0):!Array.isArray(qt)&&qt.constructor!==Uint8Array&&(qt=qt.toString());for(var cr=ut.bytesToWords(qt),Gr=qt.length*8,Zr=1732584193,xn=-271733879,On=-1732584194,ss=271733878,ls=0;ls<cr.length;ls++)cr[ls]=(cr[ls]<<8|cr[ls]>>>24)&16711935|(cr[ls]<<24|cr[ls]>>>8)&4278255360;cr[Gr>>>5]|=128<<Gr%32,cr[(Gr+64>>>9<<4)+14]=Gr;for(var cs=At._ff,wl=At._gg,ep=At._hh,Al=At._ii,ls=0;ls<cr.length;ls+=16){var np=Zr,cp=xn,Cp=On,Lp=ss;Zr=cs(Zr,xn,On,ss,cr[ls+0],7,-680876936),ss=cs(ss,Zr,xn,On,cr[ls+1],12,-389564586),On=cs(On,ss,Zr,xn,cr[ls+2],17,606105819),xn=cs(xn,On,ss,Zr,cr[ls+3],22,-1044525330),Zr=cs(Zr,xn,On,ss,cr[ls+4],7,-176418897),ss=cs(ss,Zr,xn,On,cr[ls+5],12,1200080426),On=cs(On,ss,Zr,xn,cr[ls+6],17,-1473231341),xn=cs(xn,On,ss,Zr,cr[ls+7],22,-45705983),Zr=cs(Zr,xn,On,ss,cr[ls+8],7,1770035416),ss=cs(ss,Zr,xn,On,cr[ls+9],12,-1958414417),On=cs(On,ss,Zr,xn,cr[ls+10],17,-42063),xn=cs(xn,On,ss,Zr,cr[ls+11],22,-1990404162),Zr=cs(Zr,xn,On,ss,cr[ls+12],7,1804603682),ss=cs(ss,Zr,xn,On,cr[ls+13],12,-40341101),On=cs(On,ss,Zr,xn,cr[ls+14],17,-1502002290),xn=cs(xn,On,ss,Zr,cr[ls+15],22,1236535329),Zr=wl(Zr,xn,On,ss,cr[ls+1],5,-165796510),ss=wl(ss,Zr,xn,On,cr[ls+6],9,-1069501632),On=wl(On,ss,Zr,xn,cr[ls+11],14,643717713),xn=wl(xn,On,ss,Zr,cr[ls+0],20,-373897302),Zr=wl(Zr,xn,On,ss,cr[ls+5],5,-701558691),ss=wl(ss,Zr,xn,On,cr[ls+10],9,38016083),On=wl(On,ss,Zr,xn,cr[ls+15],14,-660478335),xn=wl(xn,On,ss,Zr,cr[ls+4],20,-405537848),Zr=wl(Zr,xn,On,ss,cr[ls+9],5,568446438),ss=wl(ss,Zr,xn,On,cr[ls+14],9,-1019803690),On=wl(On,ss,Zr,xn,cr[ls+3],14,-187363961),xn=wl(xn,On,ss,Zr,cr[ls+8],20,1163531501),Zr=wl(Zr,xn,On,ss,cr[ls+13],5,-1444681467),ss=wl(ss,Zr,xn,On,cr[ls+2],9,-51403784),On=wl(On,ss,Zr,xn,cr[ls+7],14,1735328473),xn=wl(xn,On,ss,Zr,cr[ls+12],20,-1926607734),Zr=ep(Zr,xn,On,ss,cr[ls+5],4,-378558),ss=ep(ss,Zr,xn,On,cr[ls+8],11,-2022574463),On=ep(On,ss,Zr,xn,cr[ls+11],16,1839030562),xn=ep(xn,On,ss,Zr,cr[ls+14],23,-35309556),Zr=ep(Zr,xn,On,ss,cr[ls+1],4,-1530992060),ss=ep(ss,Zr,xn,On,cr[ls+4],11,1272893353),On=ep(On,ss,Zr,xn,cr[ls+7],16,-155497632),xn=ep(xn,On,ss,Zr,cr[ls+10],23,-1094730640),Zr=ep(Zr,xn,On,ss,cr[ls+13],4,681279174),ss=ep(ss,Zr,xn,On,cr[ls+0],11,-358537222),On=ep(On,ss,Zr,xn,cr[ls+3],16,-722521979),xn=ep(xn,On,ss,Zr,cr[ls+6],23,76029189),Zr=ep(Zr,xn,On,ss,cr[ls+9],4,-640364487),ss=ep(ss,Zr,xn,On,cr[ls+12],11,-421815835),On=ep(On,ss,Zr,xn,cr[ls+15],16,530742520),xn=ep(xn,On,ss,Zr,cr[ls+2],23,-995338651),Zr=Al(Zr,xn,On,ss,cr[ls+0],6,-198630844),ss=Al(ss,Zr,xn,On,cr[ls+7],10,1126891415),On=Al(On,ss,Zr,xn,cr[ls+14],15,-1416354905),xn=Al(xn,On,ss,Zr,cr[ls+5],21,-57434055),Zr=Al(Zr,xn,On,ss,cr[ls+12],6,1700485571),ss=Al(ss,Zr,xn,On,cr[ls+3],10,-1894986606),On=Al(On,ss,Zr,xn,cr[ls+10],15,-1051523),xn=Al(xn,On,ss,Zr,cr[ls+1],21,-2054922799),Zr=Al(Zr,xn,On,ss,cr[ls+8],6,1873313359),ss=Al(ss,Zr,xn,On,cr[ls+15],10,-30611744),On=Al(On,ss,Zr,xn,cr[ls+6],15,-1560198380),xn=Al(xn,On,ss,Zr,cr[ls+13],21,1309151649),Zr=Al(Zr,xn,On,ss,cr[ls+4],6,-145523070),ss=Al(ss,Zr,xn,On,cr[ls+11],10,-1120210379),On=Al(On,ss,Zr,xn,cr[ls+2],15,718787259),xn=Al(xn,On,ss,Zr,cr[ls+9],21,-343485551),Zr=Zr+np>>>0,xn=xn+cp>>>0,On=On+Cp>>>0,ss=ss+Lp>>>0}return ut.endian([Zr,xn,On,ss])};At._ff=function(qt,Zt,cr,Gr,Zr,xn,On){var ss=qt+(Zt&cr|~Zt&Gr)+(Zr>>>0)+On;return(ss<<xn|ss>>>32-xn)+Zt},At._gg=function(qt,Zt,cr,Gr,Zr,xn,On){var ss=qt+(Zt&Gr|cr&~Gr)+(Zr>>>0)+On;return(ss<<xn|ss>>>32-xn)+Zt},At._hh=function(qt,Zt,cr,Gr,Zr,xn,On){var ss=qt+(Zt^cr^Gr)+(Zr>>>0)+On;return(ss<<xn|ss>>>32-xn)+Zt},At._ii=function(qt,Zt,cr,Gr,Zr,xn,On){var ss=qt+(cr^(Zt|~Gr))+(Zr>>>0)+On;return(ss<<xn|ss>>>32-xn)+Zt},At._blocksize=16,At._digestsize=16,qb.exports=function(qt,Zt){if(qt==null)throw new Error("Illegal argument "+qt);var cr=ut.wordsToBytes(At(qt,Zt));return Zt&&Zt.asBytes?cr:Zt&&Zt.asString?_t.bytesToString(cr):ut.bytesToHex(cr)}})();const Ln={roomLimitExceed:{code:4444,reason:"ROOM_LIMIT_EXCEEDED"},playerKicked:{code:4999,reason:"PLAYER_KICKED"},unknown:{code:0,reason:"UNKNOWN"}};function Xb(ut,lt){lt||(lt={}),typeof lt=="function"&&(lt={cmp:lt});var ht=typeof lt.cycles=="boolean"?lt.cycles:!1,_t=lt.cmp&&function(qt){return function(Zt){return function(cr,Gr){var Zr={key:cr,value:Zt[cr]},xn={key:Gr,value:Zt[Gr]};return qt(Zr,xn)}}}(lt.cmp),At=[];return function qt(Zt){if(Zt&&Zt.toJSON&&typeof Zt.toJSON=="function"&&(Zt=Zt.toJSON()),Zt!==void 0){if(typeof Zt=="number")return isFinite(Zt)?""+Zt:"null";if(typeof Zt!="object")return JSON.stringify(Zt);var cr,Gr;if(Array.isArray(Zt)){for(Gr="[",cr=0;cr<Zt.length;cr++)cr&&(Gr+=","),Gr+=qt(Zt[cr])||"null";return Gr+"]"}if(Zt===null)return"null";if(At.indexOf(Zt)!==-1){if(ht)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var Zr=At.push(Zt)-1,xn=Object.keys(Zt).sort(_t&&_t(Zt));for(Gr="",cr=0;cr<xn.length;cr++){var On=xn[cr],ss=qt(Zt[On]);ss&&(Gr&&(Gr+=","),Gr+=JSON.stringify(On)+":"+ss)}return At.splice(Zr,1),"{"+Gr+"}"}}(ut)}function t1(ut){return Object.keys(ut).forEach(lt=>{ut[lt]&&typeof ut[lt]=="object"?t1(ut[lt]):(ut[lt]===void 0||ut[lt]===null)&&delete ut[lt]}),ut}function Jb(ut,lt){return Object.keys(ut).map(function(ht){return lt+encodeURIComponent(ht)+"="+encodeURIComponent(ut[ht])}).join("&")}function Qb(ut){const lt=ut!=null&&ut.profile?Jb(ut.profile,"profile_"):"",ht=ut!=null&&ut.reconnectGracePeriod?`reconnectGracePeriod=${ut.reconnectGracePeriod}`:"",_t=ut!=null&&ut.maxPlayersPerRoom?`maxPlayersPerRoom=${ut.maxPlayersPerRoom}`:"",At=ut!=null&&ut.gameId?`gameId=${ut.gameId}`:"",qt=sessionStorage.getItem("pr_dcd_jwt"),Zt=qt?`discord_jwt=${qt}`:"";return[lt,ht,_t,At,Zt].filter(Boolean).join("&")}function Oc(ut,lt=!0){let ht="wss://ws.joinplayroom.com";return Du()&&(ht=`wss://${window.location.host}/.proxy/_ws`),ut!=null&&ut.websocketBaseUrl&&(ht=ut==null?void 0:ut.websocketBaseUrl),{}.VITE_APP_SERVER&&(ht={}.VITE_APP_SERVER),lt?ht:ht.replace("wss://","https://").replace("ws://","http://")}class Ul extends gu{constructor({isHost:lt,roomId:ht,isSpectator:_t,letEveryoneWriteState:At=!1,enableDeltaCompression:qt=!1,sdkOptions:Zt}){super(),this.hostname=Oc(Zt),this.isHost=lt,this.isSpectator=_t,this.roomId=ht,this.myId=yb(),this.renderServerId=null,this.lastSeenTimestamp=0,this.lastUpdateOrderSeen=0,this.lastUpdateSyncMessageSeen=void 0,this.enableDeltaCompression=qt,this.sdkOptions=Zt,this.playerStates={},this.autoAdmitPlayers=!0,this.waitingPlayerStates={},this.syncIntervalTime=p0.SyncIntervalTime,this.pendingDeletionPlayerIds=[],this.spectatorStates={},this.ignoreNextSync=!1,this.bootDate=Date.now(),this.wsHeartbeatInterval=0,this.iUpdatedStateAt={},this.requestSyncs=!0,this.rpcIdWasCalled={},this.rpcCallbacks={},this.globalState=JSON.parse(JSON.stringify((Zt==null?void 0:Zt.defaultStates)??{})),this.defaultGlobalState=JSON.parse(JSON.stringify((Zt==null?void 0:Zt.defaultStates)??{})),this.globalStateReadTime={},this.letEveryoneWriteState=At,this.reconnectAttempts=0,this.joinWebsocket(),mi.identify(F0())}isRenderServer(){return this.myId===this.renderServerId}stateHash(lt){let ht=JSON.stringify(lt||this.getAllState());const _t=["defaultPlayersStates","defaultGlobalState"];let At=t1(JSON.parse(ht));return _t.forEach(qt=>{delete At[qt]}),da(Xb(At))}getBootDate(){return this.bootDate}getAllState(){var lt={...this.globalState,defaultGlobalState:this.defaultGlobalState,defaultPlayersStates:{},__players:{}};return Object.keys(this.playerStates).forEach(ht=>{lt.__players[ht]=this.playerStates[ht].getState(),lt.defaultPlayersStates[ht]=this.playerStates[ht].getDefaultState()}),Object.keys(this.waitingPlayerStates).length>0?(lt.waitingPlayers=[],Object.keys(this.waitingPlayerStates).forEach(ht=>{lt.waitingPlayers.push(this.waitingPlayerStates[ht].id)})):delete lt.waitingPlayers,lt}broadcastGlobalState(lt=!1){const ht=this.getAllState();let _t={sync:ht,o:this.stateHash(ht)};lt&&(_t.force=!0),this.websocketSend(JSON.stringify(_t))}joinWebsocket(lt=!1){let ht=new WebSocket(this.hostname+"/api/room/"+this.roomId+"/websocket/"+(this.myId||"new")+(this.isHost&&!lt?"/host":"")+(this.isSpectator?"/spectator":"")+(this.sdkOptions?"?"+Qb(this.sdkOptions):""));ht.addEventListener("open",_t=>{this.reconnectAttempts=0,this.emit("connection_opened"),this.ws=ht,this.wsHeartbeatInterval=setInterval(()=>{if(this.isRenderServerOrHostIfNotCasting)this.websocketSend(JSON.stringify({beat:Date.now()})),this.broadcastGlobalState();else if(this.requestSyncs){if(this.ignoreNextSync){this.ignoreNextSync=!1;return}const At=this.stateHash();this.enableDeltaCompression?this.websocketSend(JSON.stringify({beat:Date.now(),syncO:At})):this.websocketSend(JSON.stringify({beat:Date.now()}))}},this.syncIntervalTime)}),ht.addEventListener("error",_t=>{throw new Error(_t.error)}),ht.onerror=_t=>{throw new Error(_t.message+" "+(this.hostname+"/api/room/"+this.roomId+"/websocket/"+(this.myId||"new")+(this.isHost?"/host":"")+(this.isSpectator?"/spectator":"")))},ht.addEventListener("message",_t=>{var At;let qt=JSON.parse(_t.data);if(qt.error)this.emit("error",{type:"websocket",error:qt.error});else if(qt.newId){if(this.myId=qt.newId,xt.set("myId",qt.newId),!this.playerStates[this.myId]&&!this.isSpectator&&(this.playerStates[this.myId]=this.createPlayerState(this.myId)),qt.profile&&!this.isSpectator){var Zt=this.playerStates[this.myId].getState("profile")||{};this.playerStates[this.myId].setState("profile",{...Zt,...qt.profile})}qt.bootDate&&(this.bootDate=qt.bootDate),this.isHost?(this.emit("before_initial_sync"),this.broadcastGlobalState(),this.once("sync",cr=>{this.emit("connected")})):this.emit("connected")}else if(qt.joined&&this.isRenderServerOrHostIfNotCasting)if(this.autoAdmitPlayers){if(!this.playerStates[qt.joined]){this.playerStates[qt.joined]=this.createPlayerState(qt.joined,!1,qt.proxyBy,qt.profile);let cr=this.getState("__pOrder")||[];cr.includes(qt.joined)||(cr.push(qt.joined),this.setState("__pOrder",cr))}this.emitPlayerJoined(this.playerStates[qt.joined])}else this.pendingDeletionPlayerIds.includes(qt.joined)&&this.playerStates[qt.joined]?this.playerStates[qt.joined].startWebrtc():this.waitingPlayerStates[qt.joined]=this.createPlayerState(qt.joined),this.pendingDeletionPlayerIds.includes(qt.joined)&&(this.pendingDeletionPlayerIds=this.pendingDeletionPlayerIds.filter(cr=>cr!==qt.joined));else if(qt.renderServerUpdate)this.renderServerId!==qt.renderServerUpdate&&(this.renderServerId=qt.renderServerUpdate,this.bootDate=qt.bootDate,this.isRenderServer()?(Object.keys(this.playerStates).forEach(cr=>{this.playerStates[cr].startWebrtc()}),Object.keys(this.spectatorStates).forEach(cr=>{this.spectatorStates[cr].startWebrtc()})):this.playerStates[this.myId].startWebrtc());else if(qt.hostUpdate)this.isHost=qt.hostUpdate===this.myId,this.emit("host_updated",this.isHost),this.isHost&&this.isRenderServerOrHostIfNotCasting?Object.keys(this.playerStates).forEach(cr=>{this.playerStates[cr].startWebrtc()}):this.isSpectator||this.playerStates[this.myId].startWebrtc();else if(qt.hostUpdateFailed)this.emit("host_updated_failed",qt.hostUpdateFailed);else if(qt.spectator)this.spectatorStates[qt.spectator]||(this.spectatorStates[qt.spectator]=this.createPlayerState(qt.spectator,!0),this.emit("spectator_joined",this.spectatorStates[qt.spectator]));else if(qt.quit)this.playerStates[qt.quit]&&this.isRenderServerOrHostIfNotCasting&&this.autoAdmitPlayers&&this.playerStates[qt.quit].disconnect(),this.playerStates[qt.quit]&&this.isRenderServerOrHostIfNotCasting&&!this.autoAdmitPlayers&&this.pendingDeletionPlayerIds.push(qt.quit),this.waitingPlayerStates[qt.quit]&&this.waitingPlayerStates[qt.quit].disconnect(),Ce("pquit",qt.quit,this.renderServerId),this.renderServerId,qt.quit;else if(qt.signal)this.isRenderServerOrHostIfNotCasting&&this.myId!==qt.id&&(this.playerStates[qt.id]||this.spectatorStates[qt.id])?(Ce("signal to host",qt.signal,`from ${this.playerStates[qt.id]?"player":""}${this.spectatorStates[qt.id]?"spectator":""}`),this.playerStates[qt.id]&&this.playerStates[qt.id].signal(qt.signal),this.spectatorStates[qt.id]&&this.spectatorStates[qt.id].signal(qt.signal)):!this.isRenderServerOrHostIfNotCasting&&this.myId===qt.for&&(Ce("signal to client",qt.signal),this.playerStates[this.myId]&&this.playerStates[this.myId].signal(qt.signal),this.spectatorStates[this.myId]&&this.spectatorStates[this.myId].signal(qt.signal));else if(qt.pinput&&this.isRenderServerOrHostIfNotCasting)this.passPlayerInput(qt.id,qt.pinput);else if(qt.pong&&this.isRenderServer())this.playerStates[qt.id]&&this.playerStates[qt.id].handlePingResponse(qt);else if(qt.ping&&!this.isRenderServer()&&qt.for===this.myId)this.websocketSend(JSON.stringify({pong:qt.ping}));else if(qt.pstate)this.setPlayerState(qt);else if(qt.gstate)this.setLocalStateFromServerGlobalState(qt.gstate[0],qt.gstate[1]);else if(qt.sync){if(this.emit("sync",qt.sync),!this.isRenderServerOrHostIfNotCasting){const{defaultGlobalState:cr,...Gr}=qt.sync;this.setFullLocalState(Gr,qt.o),this.setFullDefaultLocalState(cr,qt.o)}this.emit("post_sync",qt.sync)}else if(qt.dsync){const cr=j0.applyObjectPatch(this.getAllState(),qt.dsync);this.emit("sync",cr),this.emit("dsync",cr),this.setFullLocalState(cr,qt.o),this.emit("post_dsync",cr)}else qt.kick?this.myId===qt.kick||this.isRenderServerOrHostIfNotCasting&&(At=this.playerStates[qt.kick])!=null&&At.isProxyPlayer()&&this.removeProxyPlayer(qt.kick):qt.rpc?this.rpcHandle(qt,!0):qt.rpcResp?this.rpcResponseHandle(qt,!0):qt.default_gstate?this.setLocalDefaultState(qt.default_gstate[0],qt.default_gstate[1]):qt.default_pstate?this.setDefaultPlayerState(qt):qt.timestamp>this.lastSeenTimestamp&&(this.emit("message",{type:"reliable",data:qt}),this.lastSeenTimestamp=qt.timestamp)}),ht.addEventListener("close",_t=>{const At=Object.values(Ln).map(qt=>qt.code);Ce("WebSocket closed, reconnecting:",_t.code,_t.reason),clearInterval(this.wsHeartbeatInterval),_t.code===4e3?(this.emit("permission_error"),this.disconnect(_t.code)):_t.code===4001||_t.code===4002?this.disconnect(_t.code):_t.reason==="PLAYER_KICKED"?this.disconnect(_t.code,_t.reason):this.wasDisconnectedManually?(Ce("Websocket was closed manually, not reconnecting"),clearInterval(this.wsHeartbeatInterval)):At.indexOf(_t.code)===-1&&this.reconnectAttempts<3?(clearInterval(this.wsHeartbeatInterval),this.reconnectAttempts++,setTimeout(()=>{var qt;const Zt=JSON.parse(JSON.stringify((qt=this.playerStates[this.myId])==null?void 0:qt.getState()))||{};this.joinWebsocket(!0),this.isRenderServerOrHostIfNotCasting||this.once("post_dsync",cr=>{Object.keys(Zt).forEach(Gr=>{var Zr;(Zr=this.playerStates[this.myId])==null||Zr.setState(Gr,Zt[Gr],!0)})})},this.isHost?1e3:1500)):this.disconnect(_t.code)}),ht.addEventListener("error",_t=>{Ce("WebSocket error, reconnecting:",_t,typeof _t),clearInterval(this.wsHeartbeatInterval)})}get isRenderServerOrHostIfNotCasting(){return!!(this.isRenderServer()||!this.getState("casting")&&this.isHost)}setAutoAdmitPlayers(lt){this.isRenderServerOrHostIfNotCasting&&this.autoAdmitPlayers!==lt&&(Ce("setAutoAdmitPlayers",lt),!this.autoAdmitPlayers&&lt&&(Object.keys(this.waitingPlayerStates).length>0&&Object.keys(this.waitingPlayerStates).forEach(ht=>{this.playerStates[ht]=this.waitingPlayerStates[ht],this.emitPlayerJoined(this.playerStates[ht])}),this.waitingPlayerStates={},this.pendingDeletionPlayerIds.forEach(ht=>{this.playerStates[ht]&&this.playerStates[ht].disconnect()}),this.pendingDeletionPlayerIds=[]),this.autoAdmitPlayers=lt)}addProxyPlayer(){if(this.isRenderServerOrHostIfNotCasting){var lt=ja(9);return this.broadcast({joined:lt},!0),this.playerStates[lt]=this.createPlayerState(lt,!1,!0),this.playerStates[lt]}}removeProxyPlayer(lt){this.playerStates[lt]&&this.broadcast({quit:lt},!0)}kickPlayer(lt,ht){this.broadcast({kick:lt},!0);const _t=this.on("player_quit",At=>{At===lt&&(_t(),ht())})}transferHost(lt,ht,_t){this.broadcast({transfer:lt},!0),this.once("host_updated",()=>{ht()}),this.once("host_updated_failed",At=>{_t(At)})}createPlayerState(lt,ht,_t=!1,At){var qt,Zt,cr;let Gr=JSON.parse(JSON.stringify(((qt=this.sdkOptions)==null?void 0:qt.defaultPlayerStates)??{}));At&&(Gr.profile=At);var Zr=new pb({websocketSend:xn=>this.websocketSend(xn),id:lt,myId:this.myId,isRenderServer:()=>this.isRenderServer(),isRenderServerOrHostIfNotCasting:()=>this.isRenderServerOrHostIfNotCasting,playerIsSpectator:ht,playerIsProxy:_t,broadcastUnreliable:this.broadcastUnreliable.bind(this),setPlayerState:this.setPlayerState.bind(this),getBootDate:this.getBootDate.bind(this),avatarList:(Zt=this.sdkOptions)==null?void 0:Zt.avatars,kickPlayer:this.kickPlayer.bind(this),state:Gr,defaultPlayerState:JSON.parse(JSON.stringify(((cr=this.sdkOptions)==null?void 0:cr.defaultPlayerStates)??{}))});return(this.isRenderServerOrHostIfNotCasting||lt===this.myId)&&(Ce("startWebrtc::createPlayerState",lt,this.isRenderServerOrHostIfNotCasting),Zr.startWebrtc()),Zr.on("quit",()=>{Ce("pquit",Zr.id),delete this.playerStates[Zr.id],this.emit("players",this.playerStates),this.emit("player_quit",Zr.id),this.waitingPlayerStates[Zr.id]&&delete this.waitingPlayerStates[Zr.id]}),Zr.on("global_state_unreliable",xn=>{this.setLocalState(xn[0],xn[1],!0)}),Zr.on("rpc_call_unreliable",this.rpcHandle.bind(this)),Zr}emitPlayerJoined(lt){bb(lt,"profile").then(()=>{this.emit("joined",lt),this.emit("players",this.playerStates)})}broadcastUnreliable(lt){Object.keys(this.playerStates).forEach(ht=>{if(ht!==this.myId)try{Ce("broadcast unreliable",ht,lt),this.playerStates[ht].send(lt,!1,!0)}catch(_t){Ce(_t)}})}websocketSend(lt){try{this.ws.send(lt)}catch(ht){Ce(ht)}}rpcHandle(lt,ht){this.rpcIdWasCalled[lt.rid]||(this.rpcIdWasCalled[lt.rid]=!0,this.emit("rpc",lt,ht))}rpcCall(lt,ht){return this.ws&&this.websocketSend(JSON.stringify(lt)),new Promise((_t,At)=>{this.rpcCallbacks[lt.rid]={resolve:qt=>{ht&&ht(qt),_t(qt)},reject:At}})}rpcResponse(lt){this.ws&&this.websocketSend(JSON.stringify(lt))}rpcResponseHandle(lt){this.rpcCallbacks[lt.rid]&&(this.rpcCallbacks[lt.rid].resolve(lt.rpcResp),delete this.rpcCallbacks[lt.rid])}broadcast(lt,ht){ht?this.ws&&this.websocketSend(JSON.stringify(lt)):(Object.keys(this.spectatorStates).forEach(_t=>{_t!==this.myId&&this.spectatorStates[_t].send(lt,ht)}),Object.keys(this.playerStates).forEach(_t=>{_t!==this.myId&&this.playerStates[_t].send(lt,ht)}))}setPlayerState(lt){var ht=!1;this.playerStates[lt.pstate]&&(ht=this.playerStates[lt.pstate].setLocalState(lt.d[0],lt.d[1],lt.o)),this.waitingPlayerStates[lt.pstate]&&(ht=this.waitingPlayerStates[lt.pstate].setLocalState(lt.d[0],lt.d[1],lt.o)),ht&&(this.ignoreNextSync=!0)}passPlayerInput(lt,ht){this.playerStates[lt]?this.playerStates[lt].handleInput(ht,!0):this.waitingPlayerStates[lt]&&this.waitingPlayerStates[lt].handleInput(ht,!0)}getState(lt){return lt?typeof this.globalState[lt]=="object"?JSON.parse(JSON.stringify(this.globalState[lt])):this.globalState[lt]:this.globalState||{}}setState(lt,ht,_t=!0){const At=typeof ht=="object"?JSON.parse(JSON.stringify(ht)):ht,qt=this.setLocalState(lt,At);(this.isHost||this.isRenderServer()||this.letEveryoneWriteState)&&qt&&(this.iUpdatedStateAt[lt]=Date.now(),this.broadcast({gstate:[lt,At]},_t))}setLocalStateFromServerGlobalState(lt,ht){switch(lt){case"round.timer":{const _t=this.getState("round.timer"),At=ht>_t?ht:_t;this.setLocalState(lt,At);break}default:{this.setLocalState(lt,ht);break}}}setLocalState(lt,ht,_t=!1){return JSON.stringify(this.globalState[lt])===JSON.stringify(ht)?!1:(ht===void 0?delete this.globalState[lt]:this.globalState[lt]=ht,_t&&(this.ignoreNextSync=!0),this.emit("state",this.globalState,lt),!0)}setFullLocalState(lt,ht){this.lastUpdateOrderSeen=ht,this.lastUpdateSyncMessageSeen=JSON.parse(JSON.stringify(lt)),this.isHost&&(lt.path=lt.path||this.globalState.path);var _t=lt.__players||{};delete lt.__players,Object.keys(lt).forEach(At=>{(!this.iUpdatedStateAt[At]||this.iUpdatedStateAt[At]+this.syncIntervalTime<Date.now())&&this.setLocalState(At,lt[At])}),Object.keys(this.globalState).forEach(At=>{var qt;(!this.iUpdatedStateAt[At]||this.iUpdatedStateAt[At]+this.syncIntervalTime<Date.now())&&!lt[At]&&lt[At]!==0&&(Ce("set default states for the globalState"),this.setLocalState(At,(qt=this.defaultGlobalState)==null?void 0:qt[At]))}),Object.keys(_t).forEach(At=>{var qt;this.playerStates[At]||(this.playerStates[At]=this.createPlayerState(At),this.emitPlayerJoined(this.playerStates[At])),this.playerStates[At].setFullLocalState(_t[At],ht),(qt=lt==null?void 0:lt.defaultPlayersStates)!=null&&qt[At]&&this.playerStates[At].setFullDefaultLocalState(lt.defaultPlayersStates[At],ht)}),Object.keys(this.playerStates).forEach(At=>{At!==this.myId&&!_t[At]&&(lt.waitingPlayers||[]).indexOf(At)===-1&&(Ce("player removed in state, disconnecting them",At),this.playerStates[At].disconnect())})}getDefaultState(lt){return lt?typeof this.defaultGlobalState[lt]=="object"?JSON.parse(JSON.stringify(this.defaultGlobalState[lt])):this.defaultGlobalState[lt]:this.defaultGlobalState||{}}setDefaultState(lt,ht){const _t=typeof ht=="object"?JSON.parse(JSON.stringify(ht)):ht,At=this.setLocalDefaultState(lt,_t);(this.isHost||this.isRenderServer()||this.letEveryoneWriteState)&&At&&this.broadcast({default_gstate:[lt,_t]},!0)}setLocalDefaultState(lt,ht){return JSON.stringify(this.defaultGlobalState[lt])===JSON.stringify(ht)?!1:(ht==null?delete this.defaultGlobalState[lt]:this.defaultGlobalState[lt]=ht,!0)}setFullDefaultLocalState(lt){this.defaultGlobalState={...this.defaultGlobalState,...lt}}setDefaultPlayerState(lt){this.playerStates[lt.default_pstate]&&this.playerStates[lt.default_pstate].setDefaultLocalState(lt.d[0],lt.d[1],lt.o)}getHostname(lt=!0){return Oc(this.sdkOptions,lt)}disconnect(lt,ht){Ce("disconnecting with eventCode:",lt,ht),ht==="MANUAL_DISCONNECT"&&(this.wasDisconnectedManually=!0),this.emit("disconnected",{eventCode:lt,reason:ht}),Object.keys(this.playerStates).forEach(_t=>{this.playerStates[_t].disconnect({eventCode:lt})}),Object.keys(this.waitingPlayerStates).forEach(_t=>{this.waitingPlayerStates[_t].disconnect({eventCode:lt})}),this.ws&&this.ws.close()}}function ha(ut,lt){lt||(lt="123456789ABCDEFGHIJKLMNPQRSTUVWXYZ");for(var ht="",_t=ut;_t>0;--_t)ht+=lt[Math.floor(Math.random()*lt.length)];return ht}const Gb=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vi={ROOMSTATE:"ROOMSTATE",GAMESTATE:"GAMESTATE",USERSTATE:"USERSTATE"},Zb={ROOMSTATE:"Room",GAMESTATE:"Game",USERSTATE:"User"};async function $b(ut){var lt,ht;if(ut.t=Date.now(),ut.timeZone=Intl.DateTimeFormat().resolvedOptions().timeZone,ut.localTime=new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}),ut.weekday=Gb[new Date().getDay()],typeof window<"u"&&(lt=window==null?void 0:window._PLAYROOM_CONFIG)!=null&&lt.sdkMode){ut.sdkMode=!0,ut.sdkVersion=(ht=window==null?void 0:window._PLAYROOM_CONFIG)==null?void 0:ht.sdkVersion;try{mi.track(`${Zb[ut.type]}: ${ut.event||""}`,ut)}catch(_t){console.error(_t)}}}function md(ut,lt){return Oc(ut,!1)+lt}let jr,ir,pa;async function e3(ut,lt,ht){if(!ut.gameId){ht("gameId is required for Discord mode");return}if(!Du()){console.warn("Discord mock mode is active. To see the Discord mode in action, run the game inside Discord.");let cr={...ut,skipLobby:!0};lt(cr);return}let _t=null,At=typeof ut.discord=="object"?ut.discord:{};At.scope?(At.scope.includes("identify")||At.scope.push("identify"),At.scope.includes("guilds.members.read")||At.scope.push("guilds.members.read")):At.scope=["identify","guilds.members.read","applications.commands"],At.prompt||(At.prompt="none"),At.state||(At.state="");let qt;try{pa=await c3();const{DiscordSDK:cr}=pa,Gr=await fetch(`${md(ut,"/api/discord/client_id")}?gameId=${ut.gameId}`),{client_id:Zr}=await Gr.json(),xn=new cr(Zr);await xn.ready();const{code:On}=await xn.commands.authorize({...At,client_id:Zr,response_type:"code"});ir=xn,qt="DCRD_"+ir.instanceId,ut.persistentMode&&(qt="PER_"+qt);const ss=await fetch(`${md(ut,"/api/discord/auth")}?gameId=${ut.gameId}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:On,redirect_uri:window.location.href,roomId:qt})}),{access_token:ls,jwt:cs}=await ss.json();cs&&sessionStorage.setItem("pr_dcd_jwt",cs),jr=await ir.commands.authenticate({access_token:ls}),_t=await t3(),_t._discord_id&&xt.set("myId","DCD-"+_t._discord_id)}catch(cr){ht(cr);return}let Zt={...ut,skipLobby:!0,roomCode:qt,profile:_t};lt(Zt)}async function t3(){if(!jr)return{name:"",photo:"",_discord_id:""};const ut=jr.user;let lt=null,ht="";if(ir!=null&&ir.guildId){const{user:_t,avatarSrc:At}=await r3({auth:jr});lt=_t,ht=At}if(!lt){const{user:_t,avatarSrc:At}=await n3({auth:jr});lt=_t,ht=At}return ht||(ht=i3(ut)),{name:o3({discordUser:lt})??"",photo:ht,_discord_id:ut.id}}async function r3(ut){try{const{auth:lt}=ut,ht=lt.user,_t=await(await fetch(`https://discord.com/api/users/@me/guilds/${ir.guildId}/member`,{method:"GET",headers:{Authorization:`Bearer ${lt.access_token}`}})).json();let At="";return _t!=null&&_t.avatar?At=`https://cdn.discordapp.com/guilds/${ir.guildId}/users/${ht.id}/avatars/${_t.avatar}.png?size=256`:ht!=null&&ht.avatar&&(At=r1(ht)),{avatarSrc:At,user:_t}}catch(lt){return console.log(lt),{avatarSrc:"",user:null}}}async function n3(ut){try{const{auth:lt}=ut,ht=lt.user;let _t="";return ht.avatar&&(_t=r1(ht)),{avatarSrc:_t,user:ht}}catch(lt){return console.log(lt),{avatarSrc:"",user:null}}}function i3(ut){const lt=parseInt(ut.discriminator);return`https://cdn.discordapp.com/embed/avatars/${Number.isNaN(lt)?0:lt%5}.png`}function r1(ut){return`https://cdn.discordapp.com/avatars/${ut.id}/${ut==null?void 0:ut.avatar}.png?size=256`}function o3(ut){var lt,ht;const{discordUser:_t}=ut;return _t?s3(_t)?(_t==null?void 0:_t.nick)||((lt=_t==null?void 0:_t.user)==null?void 0:lt.global_name)||((ht=_t==null?void 0:_t.user)==null?void 0:ht.username):a3(_t)?(_t==null?void 0:_t.global_name)||(_t==null?void 0:_t.username):"":""}function s3(ut){return"nick"in ut}function a3(ut){return"global_name"in ut||"username"in ut}function l3(){return ir}async function c3(){return await __vitePreload(()=>import("./index-3a035270.js"),[])}class u3 extends gu{constructor(lt={}){super(),this.connection=!1,this.currentRoom=!1,this.isConnected=!1,this.singlePlayerMode=!1,this.letEveryoneWriteState=!1,this.sdkOptions=lt}createRoom(lt,ht=!1,_t=!1){this.letEveryoneWriteState=ht,lt||(lt=this._generateRoomId()),lt=lt.toUpperCase(),this.connection=new Ul({isHost:!0,roomId:lt,letEveryoneWriteState:this.letEveryoneWriteState,enableDeltaCompression:_t,sdkOptions:this.sdkOptions}),this.currentRoom=lt,this.listenToEvents(),this.emit("connection_initiated")}isRenderServer(){if(this.connection)return this.connection.isRenderServer()}get isMultiplayerCastScreen(){return!!(!this.singlePlayerMode&&this.isSpectator()&&!this.isHost())}get isHost(){return this.connection?this.connection.isHost:!1}get isSpectator(){return this.connection?this.connection.isSpectator:!1}get isRenderServerOrHostIfNotCasting(){return!!(this.connection&&this.connection.isRenderServerOrHostIfNotCasting)}listenToEvents(){this.connection.on("joined",lt=>{this.emit("joined",lt),this.isRenderServerOrHostIfNotCasting&&this.roomLog(Vi.ROOMSTATE,"player_joined",{playerId:lt.id})}),this.connection.on("player_quit",lt=>{this.isRenderServerOrHostIfNotCasting&&this.roomLog(Vi.ROOMSTATE,"player_quit",{playerId:lt})}),this.connection.on("state",(lt,ht)=>{this.emit("state",lt,ht)}),this.connection.on("host_updated",lt=>{lt&&(this.getState("uid")||(this.setState("uid",ja(7)),this.setState("id",this.currentRoom),this.setState("meta",{creatorUserId:this.connection.myId,creatorPermId:F0()})))}),this.connection.on("rpc",lt=>{this.emit("rpc",lt)}),this.connection.on("connected",()=>{this.isConnected=!0,this.emit("connected"),this.isHost&&(this.emit("room_created",{id:this.currentRoom}),this.roomLog(Vi.ROOMSTATE,"room_created",{host:this.connection.myId}))}),this.connection.on("reconnecting",()=>{this.emit("reconnecting")}),this.connection.on("permission_error",()=>{this.isHost?this.createRoom():(this.isConnected=!1,this.emit("permission_error"))}),this.connection.on("host_left",()=>{this.isConnected=!1,this.emit("host_left")}),this.connection.on("disconnected",lt=>{this.isConnected=!1,this.emit("disconnected",lt)}),this.connection.on("players",lt=>{Object.keys(this.connection.playerStates).length>0&&(this.singlePlayerMode=!1),this.emit("players",lt)}),this.connection.on("host_updated",lt=>{this.emit("host_updated",lt)})}_waitforConnection(){return new Promise(lt=>{this.isConnected?lt():this.once("connected",lt)})}on(lt,ht,_t){return lt==="joined"&&this._waitforConnection().then(()=>{const At=this.getState("__pOrder")||[];Object.keys(this.connection.playerStates).sort((qt,Zt)=>{const cr=At.indexOf(qt),Gr=At.indexOf(Zt);return cr===-1&&Gr===-1?0:cr===-1?1:Gr===-1?-1:cr-Gr}).forEach(qt=>{ht(this.connection.playerStates[qt])})}),lt==="players"&&this._waitforConnection().then(()=>{ht(this.connection.playerStates)}),super.on(lt,ht,_t)}once(lt,ht){return lt==="connection_initiated"&&this.connection&&ht(),super.once(lt,ht)}setDeltaCompression(lt){this.connection.enableDeltaCompression=lt}joinRoom(lt,ht=!1,_t=!1){this.letEveryoneWriteState=ht,lt||(lt=this._generateRoomId()),lt=lt.toUpperCase(),this.connection=new Ul({isHost:!1,roomId:lt,letEveryoneWriteState:this.letEveryoneWriteState,enableDeltaCompression:_t,sdkOptions:this.sdkOptions}),this.currentRoom=lt,this.listenToEvents(),this.emit("connection_initiated")}_generateRoomId(){var lt;return(lt=this.sdkOptions)!=null&&lt.persistentMode?`PER_${ha(26)}`:ha(4)}spectateRoom(lt,ht,_t=!1,At=!1){this.letEveryoneWriteState=_t,lt||(lt=this._generateRoomId()),ht&&(this.singlePlayerMode=!0),lt=lt.toUpperCase(),this.connection=new Ul({isSpectator:!0,roomId:lt,letEveryoneWriteState:this.letEveryoneWriteState,enableDeltaCompression:At,sdkOptions:this.sdkOptions}),this.currentRoom=lt,this.listenToEvents(),this.emit("connection_initiated")}leaveRoom(){this.connection.disconnect(void 0,"MANUAL_DISCONNECT"),this.currentRoom=!1,delete this.connection}getState(lt){return this.connection?lt?this.connection.getState(lt):this.connection.getState():lt===void 0?{}:void 0}getDefaultState(lt){return this.connection?lt?this.connection.getDefaultState(lt):this.connection.getDefaultState():lt===void 0?{}:void 0}setState(lt,ht,_t=!0){this.connection&&(this.isSpectator&&!this.isRenderServer()||this.connection.setState(lt,ht,_t))}setDefaultState(lt,ht){this.connection&&(this.isSpectator&&!this.isRenderServer()||this.connection.setDefaultState(lt,ht))}setRoundState(lt,ht,_t=!0){this.connection&&(this.isSpectator&&!this.isRenderServer()||this.connection.setState(`round.${lt}`,ht,_t))}getRoundState(lt){if(!this.connection)return{};if(lt)return this.connection.getState(`round.${lt}`);{let ht={};return Object.keys(this.connection.getState()).forEach(_t=>{_t.startsWith("round.")&&(ht[_t.substring(6)]=this.connection.getState(_t))}),ht}}resetRoundState(){Object.keys(this.connection.getState()).forEach(lt=>{lt.startsWith("round.")&&this.connection.setState(lt,void 0)}),Object.keys(this.connection.playerStates).forEach(lt=>{this.connection.playerStates[lt].resetRoundState()}),Object.keys(this.connection.spectatorStates).forEach(lt=>{this.connection.spectatorStates[lt].resetRoundState()})}addToWinLog(lt,ht){let _t=this.getState("winslog")||[];const At=Date.now();if(Ce("winnerPlayerId in addToWinLog:",ht),typeof ht=="object"){const qt=ht.map((Zt,cr)=>(this.gameLog("winner",{winnerId:Zt,gameId:lt}),[lt,Zt,At]));_t=_t.concat(qt)}else this.gameLog("winner",{winnerId:ht,gameId:lt}),_t.push([lt,ht,At]);Ce("currentLog (to be winslog): ",_t),this.setState("winslog",_t)}getMyPlayerState(){if(this.connection)return this.isSpectator?this.connection.spectatorStates[this.connection.myId]:this.connection.playerStates[this.connection.myId]}addRenderStream(lt){if(!this.isRenderServer)return;const ht=Object.values(this.connection.spectatorStates).filter(_t=>_t.id!==this.connection.myId);return Ce("addRenderStream",ht),ht.forEach(_t=>_t.peer.addStream(lt)),this.connection.on("spectator_joined",_t=>{Ce("spectator_joined",_t),_t.once("webrtc_connected",()=>{setTimeout(()=>{Ce("adding stream"),_t.peer.addStream(lt)},5e3)})})}removeRenderStream(lt){if(!this.isRenderServer)return;const ht=Object.values(this.connection.spectatorStates).filter(_t=>_t.id!==this.connection.myId);Ce("removeRenderStream",ht),ht.forEach(_t=>_t.peer.removeStream(lt))}getPlayers(){return this.connection?this.singlePlayerMode?this.connection.spectatorStates:this.connection.playerStates:{}}attachController(lt){this.detachControllerLegacy();var ht=this.connection.playerStates[this.connection.myId];ht&&ht.attachControllerLegacy(lt)}detachControllerLegacy(){var lt=this.connection.playerStates[this.connection.myId];lt&&lt.detachControllerLegacy()}navigate(lt,ht){if(this.connection&&(this.isRenderServer()||this.isHost)){var _t={pathname:lt};ht&&(_t.state=JSON.stringify(ht)),this.setState("path",_t),this.roomLog(Vi.ROOMSTATE,"navigate",_t)}}async roomLog(lt,ht,_t){var At;if(this.connection&&this.isRenderServerOrHostIfNotCasting){const qt={..._t};qt.type=lt,qt.event=ht,qt.roomId=this.currentRoom,qt.roomUid=this.getState("uid"),this.getState("meta")&&(_t={..._t,...this.getState("meta")});const Zt=Object.keys(this.getPlayers());qt.playersInRoom=Zt.length,this.getState("playlist")&&(qt.playlist=this.getState("playlist")),(At=this.sdkOptions)!=null&&At.gameId&&(qt.gameId=this.sdkOptions.gameId),await $b(qt)}}async gameLog(lt,ht){this.connection&&this.isRenderServerOrHostIfNotCasting&&(ht=ht||{},await this.roomLog(Vi.GAMESTATE,lt,ht,!0))}shareEditorConfigurationWithAllClients(lt,ht,_t){this.connection&&this.connection.setState(lt,ht,_t)}setSDKOptions(lt){this.sdkOptions=lt}_getPersistentRoomId(){var lt,ht,_t;if((lt=this.sdkOptions)!=null&&lt.discord){var At=l3();return At?`PER_DCRD_G${(ht=this.sdkOptions)==null?void 0:ht.gameId}_${At.guildId||At.channelId}`:`PER_${(_t=this.sdkOptions)==null?void 0:_t.gameId}_${this.currentRoom}`}return this.currentRoom}async setPersistentData(lt,ht){if(!this.connection)return;const _t=this.connection.getHostname(!1)+"/api/room/"+this._getPersistentRoomId()+"/persistence_set",At=await fetch(_t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:lt,value:ht})});if(At.status!==200)throw new Error("Failed to set persistent state");{const qt=await At.json();return qt.data?qt.data[0]:void 0}}async getPersistentData(lt){if(!this.connection)return;const ht=this.connection.getHostname(!1)+"/api/room/"+this._getPersistentRoomId()+"/persistence_get",_t=await fetch(ht,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:lt})});if(_t.status!==200)throw new Error("Failed to get persistent state");{const At=await _t.json();return At.data?At.data[0]:void 0}}async insertPersistentData(lt,ht){if(!this.connection)return;const _t=this.connection.getHostname(!1)+"/api/room/"+this._getPersistentRoomId()+"/persistence_insert",At=await fetch(_t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:lt,value:ht})});if(At.status!==200)throw new Error("Failed to insert persistent state");return(await At.json()).index}}const Ie=(()=>{let ut=null;const lt=ht=>{var _t;return ut&&!((_t=ut==null?void 0:ut.getState)!=null&&_t.call(ut,"__launched"))&&ht&&ut.setSDKOptions(ht),ut||(ut=new u3(ht)),ut};return lt.reset=()=>{ut=null},lt})();function zl(ut,lt){return Object.keys(ut).map(ht=>ut[ht]).sort((ht,_t)=>{const At=lt.indexOf(ht.id),qt=lt.indexOf(_t.id);return At===-1&&qt===-1?0:At===-1?1:qt===-1?-1:At-qt})}function Va(ut){const lt=Ie(),[ht,_t]=reactExports.useState(zl(lt.getPlayers(),lt.getState("__pOrder")||[]));return n1(()=>{ut&&_t(zl(lt.getPlayers(),lt.getState("__pOrder")||[]))}),reactExports.useEffect(()=>lt.on("players",At=>{_t(zl(At,lt.getState("__pOrder")||[]))},!0),[]),ht}function f3(ut,lt){const ht=Ie(),_t=ht.getDefaultState(ut)??lt;_t!==void 0&&ht.getState(ut)===void 0&&ht.setDefaultState(ut,_t);const[At,qt]=reactExports.useState(ht.getState(ut)!==void 0?ht.getState(ut):_t);return reactExports.useEffect(()=>(ht.getState(ut)!==At&&qt(ht.getState(ut)??_t),ht.on("state",(Zt,cr)=>{ut&&cr===ut?Zt!==Zt[cr]&&qt(Zt[cr]):ut||qt(Zt)})),[]),At}function n1(ut){const lt=Ie();reactExports.useEffect(()=>{var ht=[];return ht.push(lt.on("joined",_t=>{ht.push(_t.on("state",(At,qt)=>{ut(_t.id,At,_t.state,_t)},!0))},!0)),()=>{ht.forEach(_t=>_t())}},[])}function Mu(){const ut=Ie(),[lt,ht]=reactExports.useState(ut.isHost);return reactExports.useEffect(()=>(setTimeout(()=>{ht(ut.isHost)},50),ut.on("host_updated",()=>{ht(ut.isHost)})),[ut.isHost]),lt}function yi(ut,lt){return[f3(ut,lt),(ht,_t)=>Ie().setState(ut,ht,_t)]}function hE(ut){return Ie().on("joined",ut)}function p3(){return Ie().isSpectator}function Hn(){return Ie().getMyPlayerState()}function o1(ut){return ut.replace(/https:\/\/play\.joinplayroom\.app\/games\//,"").split("/")[0]}function s1(ut){const lt=/https:\/\/play\.joinplayroom\.app/;return new RegExp(lt,"g").test(ut)}function g3(ut,lt){return s1(ut)?`https://joinplayroom.com/launch/${o1(ut)}/R${lt??""}`:`${ut}R${lt??""}`}function m3(ut,lt){return s1(ut)?`https://joinplayroom.com/app-launcher.html?game=${o1(ut)}&room=R${lt}`:`${ut}R${lt??""}`}function w3(){const ut=navigator.userAgent||navigator.vendor||window.opera,lt=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(ut),ht=/iPhone|iPad|iPod/i.test(ut)&&!window.MSStream&&(window.navigator.standalone||ut.includes("Safari")&&!ut.includes("CriOS")&&!ut.includes("FxiOS")),_t=/android/i.test(ut)&&ut.includes("wv");return lt||ht||_t}const x3={listen:!0};class _3{constructor(lt,ht=x3){this.playerState=lt,this.keyboardConfig=ht,this.keysPressed=new Set,this.debounceTimeout=0,this.debounceDelay=20,this.validCombinations=new Set(["S","DS","D","DW","W","AW","A","AS"]),this.state={isPressed:!1,angle:0,keysPressed:""},this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),this.updateState=this.updateState.bind(this),this.debounceUpdate=this.debounceUpdate.bind(this),this.playerState.id===Hn().id&&this.keyboardConfig.listen&&this.listen()}handleKeyDown(lt){const ht=lt.key.toUpperCase();["W","A","S","D"].includes(ht)&&(this.keysPressed.add(ht),this.debounceUpdate())}handleKeyUp(lt){const ht=lt.key.toUpperCase();["W","A","S","D"].includes(ht)&&(this.keysPressed.delete(ht),this.debounceUpdate())}debounceUpdate(){clearTimeout(this.debounceTimeout),this.debounceTimeout=window.setTimeout(this.updateState,this.debounceDelay)}updateState(){const lt=Array.from(this.keysPressed).sort().join("");let ht=this.state.angle;switch(lt){case"S":ht=0;break;case"DS":ht=Math.PI/4;break;case"D":ht=Math.PI/2;break;case"DW":ht=3*Math.PI/4;break;case"W":ht=Math.PI;break;case"AW":ht=5*Math.PI/4;break;case"A":ht=-Math.PI/2;break;case"AS":ht=-Math.PI/4;break}this.state={isPressed:this.validCombinations.has(lt),angle:ht,keysPressed:lt},this.playerState.id===Hn().id&&(this.playerState.setState("ctr-joystick",this.state.isPressed),this.playerState.setState("ctr-angle",this.state.angle),this.playerState.setState("ctr-keys",this.state.keysPressed))}isPressed(){return this.playerState.getState("ctr-joystick")||!1}angle(){return this.playerState.getState("ctr-angle")||0}keys(){return this.playerState.getState("ctr-keys")||""}listen(){window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}destroy(){clearTimeout(this.debounceTimeout),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp),this.playerState.setState("ctr-joystick",!1),this.playerState.setState("ctr-angle",0),this.playerState.setState("ctr-keys","")}}function qi(ut){let lt={};return ut.type==="pointerdown"||ut.type==="pointermove"||ut.type==="pointerup"?lt.changedTouches=[{clientX:ut.clientX,clientY:ut.clientY,identifier:ut.pointerId}]:(ut.type==="touchstart"||ut.type==="touchmove"||ut.type==="touchend")&&(lt=ut),lt}function S3(ut){var lt=Math.PI/2,ht,_t;ut>-lt&&ut<lt?ht="right":ht="left",ut>0?_t="up":_t="down";let At={};return ht&&(At.x=ht),_t&&(At.y=_t),At}function E3(ut){var lt=Math.PI/4,ht;return ut>lt&&ut<lt*3?ht="up":ut>-lt&&ut<=lt?ht="right":ut>-lt*3&&ut<=-lt?ht="down":ht="left",ht}const hs={userSelect:"none",position:"fixed",transition:"opacity 0.3s 0.1s",willChange:"opacity",height:"70px",width:"95px",right:"0px",backgroundSize:"25px",backgroundPosition:"center",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",fontSize:"15px",fontFamily:"sans-serif"},ps={position:"absolute",top:"calc(50% - 30px)",left:"calc(50% - 30px)",height:"60px",width:"60px",border:"2px solid #fff",borderRadius:"10px",boxSizing:"border-box",opacity:"0.25",willChange:"opacity"},yd={position:"absolute",backgroundSize:"25px",top:"10px",left:"10px",width:"calc(100% - 20px)",height:"calc(100% - 20px)",display:"flex",backgroundRepeat:"no-repeat",color:"#fff",fontSize:"15px",fontFamily:"sans-serif"},gs=[{element:{...hs,bottom:"15px"},border:{...ps}},{element:{...hs,bottom:"calc(70px + 15px)"},border:{...ps}},{element:{...hs,bottom:"calc(70px * 2 + 15px)"},border:{...ps}},{element:{...hs,bottom:"calc(70px * 3 + 15px)"},border:{...ps}}],Ic={type:"angular",buttons:[],zones:{},keyboard:!0};function k3(ut={}){if(ut.type=ut.type||Ic.type,ut.zones=ut.zones||Ic.zones,ut.buttons&&ut.buttons.length>0){if(gs.length<ut.buttons.length)throw new Error(`Only ${gs.length} buttons are supported.`);ut.buttons=ut.buttons.map((lt,ht)=>{var _t,At;let qt={...lt,css:{element:{...gs[ht].element,...(_t=lt.css)==null?void 0:_t.element},border:{...gs[ht].border,...(At=lt.css)==null?void 0:At.border}}};return lt.icon&&(qt.css.element.backgroundImage=`url(${lt.icon})`),qt})}return ut}class Pc{constructor(lt,ht=Ic){var _t,At,qt;this.buttons={},this.joystick={},this.playerState=lt,this.multiplayer=Ie(),this.allowGamepads=(At=(_t=this.multiplayer)==null?void 0:_t.sdkOptions)==null?void 0:At.allowGamepads,this.requestAnimationFrameId=null,this.allowGamepads&&(!ht.buttons||ht.buttons.length===0)&&(ht.buttons=[{id:"button1",label:"A"},{id:"button2",label:"B"},{id:"button3",label:"X"},{id:"button4",label:"Y"}]),ht=k3(ht),this.validateConfig(ht),this.config=ht,this.multiplayer.sdkOptions&&(this.multiplayer.sdkOptions.joystickConfig=this.config),lt.id===Hn().id&&this.initControls(ht),(qt=this.config)!=null&&qt.keyboard&&(this.keyboardControllerInstance=new _3(this.playerState))}validateConfig(lt){if(this.allowGamepads&&lt.zones&&Object.keys(lt.zones).length>0)throw new Error("Joystick zones don't work when allowGamepads is enabled")}isAnyButtonPressed(){return(this.config.buttons||[]).some(lt=>this.isPressed(lt.id))}isPressed(lt){return this.playerState.getState("ctr-"+lt)||!1}isJoystickPressed(){return this.isPressed("joystick")||!1}angle(){return this.playerState.getState("ctr-angle")||0}dpad(){return this.playerState.getState("ctr-dpad")||{}}initControls(lt){(w3()||!lt.keyboard)&&this.setupJoystick(lt.zones),lt.buttons&&lt.buttons.length>0&&lt.buttons.forEach(ht=>{this.setupButton(ht)})}setupJoystick(lt){this.joystick.active=!1,this.joystick.$element=document.createElement("div"),this.joystick.$element.id="pr-joystick",this.joystick.$element.style.userSelect="none",this.joystick.$element.style.position="fixed",this.joystick.$element.style.bottom="10px",this.joystick.$element.style.left="10px",this.joystick.$element.style.width="170px",this.joystick.$element.style.height="170px",this.joystick.$element.style.borderRadius="50%",this.joystick.$element.style.transition="opacity 0.3s 0.0s",this.joystick.$element.style.willChange="opacity",document.body.appendChild(this.joystick.$element),this.joystick.$cursor=document.createElement("div"),this.joystick.$cursor.style.position="absolute",this.joystick.$cursor.style.top="calc(50% - 30px)",this.joystick.$cursor.style.left="calc(50% - 30px)",this.joystick.$cursor.style.width="60px",this.joystick.$cursor.style.height="60px",this.joystick.$cursor.style.border="2px solid #ffffff",this.joystick.$cursor.style.borderRadius="50%",this.joystick.$cursor.style.boxSizing="border-box",this.joystick.$cursor.style.pointerEvents="none",this.joystick.$cursor.style.willChange="transform",this.joystick.$element.appendChild(this.joystick.$cursor),this.joystick.$limit=document.createElement("div"),this.joystick.$limit.style.position="absolute",this.joystick.$limit.style.top="calc(50% - 75px)",this.joystick.$limit.style.left="calc(50% - 75px)",this.joystick.$limit.style.width="150px",this.joystick.$limit.style.height="150px",this.joystick.$limit.style.border="2px solid #ffffff",this.joystick.$limit.style.borderRadius="50%",this.joystick.$limit.style.opacity="0.25",this.joystick.$limit.style.pointerEvents="none",this.joystick.$limit.style.boxSizing="border-box",this.joystick.$element.appendChild(this.joystick.$limit),Object.keys(lt).forEach(ht=>{const _t=lt[ht],At=document.createElement("div");Object.keys(yd).forEach(qt=>{At.style[qt]=yd[qt]}),_t.icon&&(At.style.backgroundImage=`url(${_t.icon})`),ht==="up"&&(At.style.backgroundPosition="center top",At.style.justifyContent="center",At.style.alignItems="flex-start"),ht==="down"&&(At.style.backgroundPosition="center bottom",At.style.justifyContent="center",At.style.alignItems="flex-end"),ht==="left"&&(At.style.backgroundPosition="left center",At.style.justifyContent="flex-start",At.style.alignItems="center"),ht==="right"&&(At.style.backgroundPosition="right center",At.style.justifyContent="flex-end",At.style.alignItems="center"),_t.label&&(At.innerHTML=_t.label),this.joystick.$limit.appendChild(At)}),this.joystick.angle={},this.joystick.angle.offset=Math.PI*.5,this.joystick.angle.center={},this.joystick.angle.center.x=0,this.joystick.angle.center.y=0,this.joystick.angle.current={},this.joystick.angle.current.x=0,this.joystick.angle.current.y=0,this.joystick.angle.originalValue=0,this.joystick.angle.value=-Math.PI*.5,this.joystick.resize=()=>{const ht=this.joystick.$element.getBoundingClientRect();this.joystick.angle.center.x=ht.left+ht.width*.5,this.joystick.angle.center.y=ht.top+ht.height*.5},window.addEventListener("resize",this.joystick.resize),this.joystick.resize(),this.updateJoystick(),this.joystick.events={},this.joystick.touchIdentifier=null,this.joystick.events.touchstart=ht=>{ht.preventDefault();const _t=qi(ht).changedTouches[0];_t&&(this.joystick.active=!0,this.playerState.setState("ctr-joystick",!0),this.joystick.touchIdentifier=_t.identifier,this.joystick.angle.current.x=_t.clientX,this.joystick.angle.current.y=_t.clientY,this.joystick.$limit.style.opacity="0.5",document.addEventListener("pointerup",this.joystick.events.touchend),document.addEventListener("touchend",this.joystick.events.touchend),document.addEventListener("pointermove",this.joystick.events.touchmove,{passive:!1}),document.addEventListener("touchmove",this.joystick.events.touchmove,{passive:!1}))},this.joystick.events.touchmove=ht=>{ht.preventDefault();const _t=[...qi(ht).changedTouches].find(At=>At.identifier===this.joystick.touchIdentifier);_t&&(this.joystick.angle.current.x=_t.clientX,this.joystick.angle.current.y=_t.clientY)},this.joystick.events.touchend=ht=>{[...qi(ht).changedTouches].find(_t=>_t.identifier===this.joystick.touchIdentifier)&&(this.joystick.active=!1,this.playerState.setState("ctr-joystick",!1),this.config.type==="dpad"&&this.playerState.setState("ctr-dpad",void 0),this.config.zones&&Object.keys(this.config.zones).forEach(_t=>{this.playerState.setState(`ctr-${this.config.zones[_t].id}`,!1)}),this.joystick.$limit.style.opacity="0.25",this.joystick.$cursor.style.transform="translateX(0px) translateY(0px)",document.removeEventListener("pointerup",this.joystick.events.touchend),document.removeEventListener("touchend",this.joystick.events.touchend))},this.joystick.$element.addEventListener("pointerdown",this.joystick.events.touchstart,{passive:!1}),this.joystick.$element.addEventListener("touchstart",this.joystick.events.touchstart,{passive:!1})}setupButton({id:lt,label:ht,css:_t}){let At={};At.id=lt,At.value=!1,At.$element=document.createElement("div"),ht&&(At.$element.innerHTML=ht),Object.keys(_t.element).forEach(qt=>{At.$element.style[qt]=_t.element[qt]}),document.body.appendChild(At.$element),At.$border=document.createElement("div"),Object.keys(_t.border).forEach(qt=>{At.$border.style[qt]=_t.border[qt]}),At.$element.appendChild(At.$border),At.events={},At.touchIdentifier=null,At.events.touchstart=qt=>{qt.preventDefault();const Zt=qi(qt).changedTouches[0];Zt&&(At.touchIdentifier=Zt.identifier,At.value=!0,this.playerState.setState(`ctr-${At.id}`,!0),At.$border.style.opacity="0.5",document.addEventListener("pointerup",At.events.touchend),document.addEventListener("touchend",At.events.touchend))},At.events.touchend=qt=>{[...qi(qt).changedTouches].find(Zt=>Zt.identifier===At.touchIdentifier)&&(At.value=!1,this.playerState.setState(`ctr-${At.id}`,!1),At.$border.style.opacity="0.25",document.removeEventListener("pointerup",At.events.touchend),document.removeEventListener("touchend",At.events.touchend))},At.$element.addEventListener("pointerdown",At.events.touchstart),At.$element.addEventListener("touchstart",At.events.touchstart),this.buttons[At.id]=At}updateJoystick(){if(this.joystick.active){if(this.joystick.angle.originalValue=-Math.atan2(this.joystick.angle.current.y-this.joystick.angle.center.y,this.joystick.angle.current.x-this.joystick.angle.center.x),this.joystick.angle.value=this.joystick.angle.originalValue+this.joystick.angle.offset,this.config.type==="angular"?this.playerState.setState("ctr-angle",this.joystick.angle.value):this.config.type==="dpad"&&this.playerState.setState("ctr-dpad",S3(this.joystick.angle.originalValue)),this.config.zones){let qt=E3(this.joystick.angle.originalValue);this.config.zones[qt]&&this.playerState.setState(`ctr-${this.config.zones[qt].id}`,!0),Object.keys(this.config.zones).forEach(Zt=>{Zt!==qt&&this.playerState.setState(`ctr-${this.config.zones[Zt].id}`,!1)})}const lt=Math.hypot(this.joystick.angle.current.y-this.joystick.angle.center.y,this.joystick.angle.current.x-this.joystick.angle.center.x);let ht=lt;ht>20&&(ht=20+Math.log(lt-20)*5),ht>43&&(ht=43);const _t=Math.sin(this.joystick.angle.originalValue+Math.PI*.5)*ht,At=Math.cos(this.joystick.angle.originalValue+Math.PI*.5)*ht;this.joystick.$cursor.style.transform=`translateX(${_t}px) translateY(${At}px)`}this.requestAnimationFrameId=window.requestAnimationFrame(this.updateJoystick.bind(this))}destroy(){var lt,ht;this.requestAnimationFrameId&&(cancelAnimationFrame(this.requestAnimationFrameId),this.requestAnimationFrameId=null),this.joystick.$element.remove(),Object.values(this.buttons).forEach(_t=>{_t.$element.remove()}),window.removeEventListener("resize",this.joystick.resize),this.buttons={},this.joystick={},this.playerState.setState("ctr-joystick",!1),this.playerState.setState("ctr-dpad",void 0),this.playerState.setState("ctr-angle",0),(lt=this.config)!=null&&lt.keyboard&&((ht=this.keyboardControllerInstance)==null||ht.destroy())}}function qa(ut,lt,ht){ut+="";var _t={"00":{A:{env:["#ff2f2b"],clo:["#fff","#000"],head:["#fff"],mouth:["#fff","#000","#000"],eyes:["#000","none","#00FFFF"],top:["#fff","#fff"]},B:{env:["#ff1ec1"],clo:["#000","#fff"],head:["#ffc1c1"],mouth:["#fff","#000","#000"],eyes:["#FF2D00","#fff","none"],top:["#a21d00","#fff"]},C:{env:["#0079b1"],clo:["#0e00b1","#d1fffe"],head:["#f5aa77"],mouth:["#fff","#000","#000"],eyes:["#0c00de","#fff","none"],top:["#acfffd","#acfffd"]}},"01":{A:{env:["#a50000"],clo:["#f06","#8e0039"],head:["#85492C"],mouth:["#000"],eyes:["#000","#ff9809"],top:["#ff9809","#ff9809","none","none"]},B:{env:["#40E83B"],clo:["#00650b","#62ce5a"],head:["#f7c1a6"],mouth:["#6e1c1c"],eyes:["#000","#ff833b"],top:["#67FFCC","none","none","#ecff3b"]},C:{env:["#ff2c2c"],clo:["#fff","#000"],head:["#ffce8b"],mouth:["#000"],eyes:["#000","#0072ff"],top:["#ff9809","none","#ffc809","none"]}},"02":{A:{env:["#ff7520"],clo:["#d12823"],head:["#fee3c5"],mouth:["#d12823"],eyes:["#000","none"],top:["#000","none","none","#FFCC00","red"]},B:{env:["#ff9700"],clo:["#000"],head:["#d2ad6d"],mouth:["#000"],eyes:["#000","#00ffdc"],top:["#fdff00","#fdff00","none","none","none"]},C:{env:["#26a7ff"],clo:["#d85cd7"],head:["#542e02"],mouth:["#f70014"],eyes:["#000","magenta"],top:["#FFCC00","#FFCC00","#FFCC00","#ff0000","yellow"]}},"03":{A:{env:["#6FC30E"],clo:["#b4e1fa","#5b5d6e","#515262","#a0d2f0","#a0d2f0"],head:["#fae3b9"],mouth:["#fff","#000"],eyes:["#000"],top:["#8eff45","#8eff45","none","none"]},B:{env:["#00a58c"],clo:["#000","none","none","none","none"],head:["#FAD2B9"],mouth:["#fff","#000"],eyes:["#000"],top:["#FFC600","none","#FFC600","none"]},C:{env:["#ff501f"],clo:["#000","#ff0000","#ff0000","#7d7d7d","#7d7d7d"],head:["#fff3dc"],mouth:["#d2001b","none"],eyes:["#000"],top:["#D2001B","none","none","#D2001B"]}},"04":{A:{env:["#fc0"],clo:["#901e0e","#ffbe1e","#ffbe1e","#c55f54"],head:["#f8d9ad"],mouth:["#000","none","#000","none"],eyes:["#000"],top:["#583D00","#AF892E","#462D00","#a0a0a0"]},B:{env:["#386465"],clo:["#fff","#333","#333","#333"],head:["#FFD79D"],mouth:["#000","#000","#000","#000"],eyes:["#000"],top:["#27363C","#5DCAD4","#314652","#333"]},C:{env:["#DFFF00"],clo:["#304267","#aab0b1","#aab0b1","#aab0b1"],head:["#e6b876"],mouth:["#50230a","#50230a","#50230a","#50230a"],eyes:["#000"],top:["#333","#afafaf","#222","#6d3a1d"]}},"05":{A:{env:["#a09300"],clo:["#c7d4e2","#435363","#435363","#141720","#141720","#e7ecf2","#e7ecf2"],head:["#f5d4a6"],mouth:["#000","#cf9f76"],eyes:["#000","#000","#000","#000","#000","#000","#fff","#fff","#fff","#fff","#000","#000"],top:["none","#fdff00"]},B:{env:["#b3003e"],clo:["#000","#435363","#435363","#000","none","#e7ecf2","#e7ecf2"],head:["#f5d4a6"],mouth:["#000","#af9f94"],eyes:["#9ff3ff;opacity:0.96","#000","#9ff3ff;opacity:0.96","#000","#2f508a","#000","#000","#000","none","none","none","none"],top:["#ff9a00","#ff9a00"]},C:{env:["#884f00"],clo:["#ff0000","#fff","#fff","#141720","#141720","#e7ecf2","#e7ecf2"],head:["#c57b14"],mouth:["#000","#cf9f76"],eyes:["none","#000","none","#000","#5a0000","#000","#000","#000","none","none","none","none"],top:["#efefef","none"]}},"06":{A:{env:["#8acf00"],clo:["#ee2829","#ff0"],head:["#ffce73"],mouth:["#fff","#000"],eyes:["#000"],top:["#000","#000","none","#000","#ff4e4e","#000"]},B:{env:["#00d2a3"],clo:["#0D0046","#ffce73"],head:["#ffce73"],mouth:["#000","none"],eyes:["#000"],top:["#000","#000","#000","none","#ffb358","#000","none","none"]},C:{env:["#ff184e"],clo:["#000","none"],head:["#ffce73"],mouth:["#ff0000","none"],eyes:["#000"],top:["none","none","none","none","none","#ffc107","none","none"]}},"07":{A:{env:["#00deae"],clo:["#ff0000"],head:["#ffce94"],mouth:["#f73b6c","#000"],eyes:["#e91e63","#000","#e91e63","#000","#000","#000"],top:["#dd104f","#dd104f","#f73b6c","#dd104f"]},B:{env:["#181284"],clo:["#491f49","#ff9809","#491f49"],head:["#f6ba97"],mouth:["#ff9809","#000"],eyes:["#c4ffe4","#000","#c4ffe4","#000","#000","#000"],top:["none","none","#d6f740","#516303"]},C:{env:["#bcf700"],clo:["#ff14e4","#000","#14fffd"],head:["#7b401e"],mouth:["#666","#000"],eyes:["#00b5b4","#000","#00b5b4","#000","#000","#000"],top:["#14fffd","#14fffd","#14fffd","#0d3a62"]}},"08":{A:{env:["#0df"],clo:["#571e57","#ff0"],head:["#f2c280"],eyes:["#795548","#000"],mouth:["#ff0000"],top:["#de3b00","none"]},B:{env:["#B400C2"],clo:["#0D204A","#00ffdf"],head:["#ca8628"],eyes:["#cbbdaf","#000"],mouth:["#1a1a1a"],top:["#000","#000"]},C:{env:["#ffe926"],clo:["#00d6af","#000"],head:["#8c5100"],eyes:["none","#000"],mouth:["#7d0000"],top:["#f7f7f7","none"]}},"09":{A:{env:["#4aff0c"],clo:["#101010","#fff","#fff"],head:["#dbbc7f"],mouth:["#000"],eyes:["#000","none","none"],top:["#531148","#531148","#531148","none"]},B:{env:["#FFC107"],clo:["#033c58","#fff","#fff"],head:["#dbc97f"],mouth:["#000"],eyes:["none","#fff","#000"],top:["#FFEB3B","#FFEB3B","none","#FFEB3B"]},C:{env:["#FF9800"],clo:["#b40000","#fff","#fff"],head:["#E2AF6B"],mouth:["#000"],eyes:["none","#fff","#000"],top:["#ec0000","#ec0000","none","none"]}},10:{A:{env:["#104c8c"],clo:["#354B65","#3D8EBB","#89D0DA","#00FFFD"],head:["#cc9a5c"],mouth:["#222","#fff"],eyes:["#000","#000"],top:["#fff","#fff","none"]},B:{env:["#0DC15C"],clo:["#212121","#fff","#212121","#fff"],head:["#dca45f"],mouth:["#111","#633b1d"],eyes:["#000","#000"],top:["none","#792B74","#792B74"]},C:{env:["#ffe500"],clo:["#1e5e80","#fff","#1e5e80","#fff"],head:["#e8bc86"],mouth:["#111","none"],eyes:["#000","#000"],top:["none","none","#633b1d"]}},11:{A:{env:["#4a3f73"],clo:["#e6e9ee","#f1543f","#ff7058","#fff","#fff"],head:["#b27e5b"],mouth:["#191919","#191919"],eyes:["#000","#000","#57FFFD"],top:["#ffc","#ffc","#ffc"]},B:{env:["#00a08d"],clo:["#FFBA32","#484848","#4e4e4e","#fff","#fff"],head:["#ab5f2c"],mouth:["#191919","#191919"],eyes:["#000","#ff23fa;opacity:0.39","#000"],top:["#ff90f4","#ff90f4","#ff90f4"]},C:{env:["#22535d"],clo:["#000","#ff2500","#ff2500","#fff","#fff"],head:["#a76c44"],mouth:["#191919","#191919"],eyes:["#000","none","#000"],top:["none","#00efff","none"]}},12:{A:{env:["#2668DC"],clo:["#2385c6","#b8d0e0","#b8d0e0"],head:["#ad8a60"],mouth:["#000","#4d4d4d"],eyes:["#7fb5a2","#d1eddf","#301e19"],top:["#fff510","#fff510"]},B:{env:["#643869"],clo:["#D67D1B","#b8d0e0","#b8d0e0"],head:["#CC985A","none0000"],mouth:["#000","#ececec"],eyes:["#1f2644","#9b97ce","#301e19"],top:["#00eaff","none"]},C:{env:["#F599FF"],clo:["#2823C6","#b8d0e0","#b8d0e0"],head:["#C7873A"],mouth:["#000","#4d4d4d"],eyes:["#581b1b","#FF8B8B","#000"],top:["none","#9c0092"]}},13:{A:{env:["#d10084"],clo:["#efedee","#00a1e0","#00a1e0","#efedee","#ffce1c"],head:["#b35f49"],mouth:["#3a484a","#000"],eyes:["#000"],top:["#000","none","#000","none"]},B:{env:["#E6C117"],clo:["#efedee","#ec0033","#ec0033","#efedee","#f2ff05"],head:["#ffc016"],mouth:["#4a3737","#000"],eyes:["#000"],top:["#ffe900","#ffe900","none","#ffe900"]},C:{env:["#1d8c00"],clo:["#e000cb","#fff","#fff","#e000cb","#ffce1c"],head:["#b96438"],mouth:["#000","#000"],eyes:["#000"],top:["#53ffff","#53ffff","none","none"]}},14:{A:{env:["#fc0065"],clo:["#708913","#fdea14","#708913","#fdea14","#708913"],head:["#DEA561"],mouth:["#444","#000"],eyes:["#000"],top:["#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f","#32393f"]},B:{env:["#81f72e"],clo:["#ff0000","#ffc107","#ff0000","#ffc107","#ff0000"],head:["#ef9831"],mouth:["#6b0000","#000"],eyes:["#000"],top:["#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","#FFFAAD","none","none","none","none"]},C:{env:["#00D872"],clo:["#590D00","#FD1336","#590D00","#FD1336","#590D00"],head:["#c36c00"],mouth:["#56442b","#000"],eyes:["#000"],top:["#004E4C","#004E4C","#004E4C","#004E4C","#004E4C","#004E4C","#004E4C","#004E4C","#004E4C","none","none","none","none","none","none","none","none"]}},15:{A:{env:["#111"],clo:["#000","#00FFFF"],head:["#755227"],mouth:["#fff","#000"],eyes:["black","#008;opacity:0.67","aqua"],top:["#fff","#fff","#fff","#fff","#fff"]},B:{env:["#00D0D4"],clo:["#000","#fff"],head:["#755227"],mouth:["#fff","#000"],eyes:["black","#1df7ff;opacity:0.64","#fcff2c"],top:["#fff539","none","#fff539","none","#fff539"]},C:{env:["#DC75FF"],clo:["#000","#FFBDEC"],head:["#997549"],mouth:["#fff","#000"],eyes:["black","black","aqua"],top:["#00fffd","none","none","none","none"]}}},At=[],qt='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 231 231">',Zt="</svg>",cr='<path d="M33.83,33.83a115.5,115.5,0,1,1,0,163.34,115.49,115.49,0,0,1,0-163.34Z" style="fill:#01;"/>',Gr='<path d="m115.5 51.75a63.75 63.75 0 0 0-10.5 126.63v14.09a115.5 115.5 0 0 0-53.729 19.027 115.5 115.5 0 0 0 128.46 0 115.5 115.5 0 0 0-53.729-19.029v-14.084a63.75 63.75 0 0 0 53.25-62.881 63.75 63.75 0 0 0-63.65-63.75 63.75 63.75 0 0 0-0.09961 0z" style="fill:#000;"/>',Zr="stroke-linecap:round;stroke-linejoin:round;stroke-width:";At["00"]=[],At["00"].env=cr,At["00"].clo='<path d="m141.74 195a114.93 114.93 0 0 1 37.912 16.45l0.07 0.05c-1.17 0.79-2.3601 1.55-3.5601 2.29a115.55 115.55 0 0 1-120.95 0.21q-2.0001-1.23-4.0002-2.54a114.79 114.79 0 0 1 38.002-16.5 116.21 116.21 0 0 1 15.791-2.49v-14.57c1.32 0.22 2.6501 0.39 4.0002 0.51 2.0001 0.19 4.0002 0.28 6.1202 0.29a64.333 64.33 0 0 0 8.8804-0.62c0.67003-0.09 1.3401-0.2 2.0001-0.31v14.69a118 118 0 0 1 15.741 2.54z" style="fill:#fff;"/><path d="m79.292 212a3.4601 3.46 0 0 0 3.8902 5.07 3.3801 3.38 0 0 0 2.1001-1.61 3.4701 3.47 0 0 0-1.2801-4.72 3.4201 3.42 0 0 0-2.6201-0.34 3.5101 3.51 0 0 0-2.0901 1.6zm60.122 0.46a3.4901 3.49 0 0 0 1.21 4.7h0.06a3.4601 3.46 0 0 0 4.7202-1.27l0.07-0.13a3.4601 3.46 0 0 0-1.34-4.6 3.4601 3.46 0 0 0-2.5801-0.32 3.5301 3.53 0 0 0-2.1001 1.61zm9.8004 5.7 5.8602 5.87c-1.39 0.5-2.7901 1-4.2102 1.44l-4.4802-4.47a7.5203 7.52 0 0 1-1.9401 0.81 7.8303 7.83 0 0 1-6.0002-0.79 7.8703 7.87 0 0 1-2.9201-10.69v-0.07a7.8903 7.89 0 0 1 10.77-2.88l0.12 0.07a7.8603 7.86 0 0 1 2.7901 10.62v0.07zm-37.701-2.36-9.5004 9.51v4.9c-1.35-0.16-2.6801-0.33-4.0002-0.54v-6l0.58002-0.58 10.1-10.09a7.8703 7.87 0 1 1 2.8401 2.86zm7.3203-5.91a3.4601 3.46 0 1 0-1.6101 2.1 3.3801 3.38 0 0 0 1.6101-2.1zm-29.741 7.82 3.0901 3.1 0.59002 0.59v7.36c-1.3401-0.26-2.6801-0.55-4.0002-0.87v-4.84l-2.5101-2.51a7.5203 7.52 0 0 1-1.9401 0.81 7.8803 7.88 0 1 1 1.9101-14.43 7.8703 7.87 0 0 1 2.8901 10.75z" style="fill:#1a1a1a;"/>',At["00"].head=Gr,At["00"].mouth='<path d="m94.19 136.84h42.632a3.7801 3.78 0 0 1 3.7802 3.78v3.22a15.231 15.23 0 0 1-15.211 15.16h-19.781a15.251 15.25 0 0 1-15.221-15.16v-3.22a3.8002 3.8 0 0 1 3.7802-3.78z" style="fill:#fff;'+Zr+'3px;stroke:#1a1a1a;"/><path d="m130.96 136.84v21.16m-30.911-21.16v21.16m10.34-21.16v22.16m10.31-22.2v22.2" style="fill:none;'+Zr+'3px;stroke:#1a1a1a;"/>',At["00"].eyes='<path d="m83.739 83.92h63.533a19.101 19.1 0 0 1 19.051 19 19.111 19.11 0 0 1-19.051 19h-63.533a19.091 19.09 0 0 1-19.001-19 19.091 19.09 0 0 1 19.001-19z" style="fill:#1a1a1a;"/><path d="m140.23 93.54a9.3804 9.38 0 1 0 9.3804 9.38 9.3804 9.38 0 0 0-9.3804-9.38zm-49.402 0a9.3804 9.38 0 1 0 9.3804 9.38 9.3904 9.39 0 0 0-9.3804-9.38z" style="fill:#e6e7e8;"/><rect x="79.795" y="98.627" width="71.471" height="8.5859" ry="4.2929" style="fill:#b3b3b3;"/>',At["00"].top='<path d="m32.902 67.662c-0.36295 1.7227-6.2342 30.695 5.6133 52.596 4.5843 8.4743 9.0081 13.239 12.75 15.893a67.7 67.7 0 0 1-3.4688-21.35 67.7 67.7 0 0 1 2.332-17.658c-4.4914-2.4646-10.868-6.9012-13.834-13.52-4.1626-9.285-3.6155-14.673-3.3926-15.961zm165.19 0c0.22292 1.2882 0.77005 6.6759-3.3926 15.961-2.9664 6.6183-9.3426 11.055-13.834 13.52a67.7 67.7 0 0 1 2.332 17.658 67.7 67.7 0 0 1-3.4688 21.35c3.7419-2.6532 8.1657-7.4183 12.75-15.893 11.847-21.9 5.9762-50.873 5.6133-52.596z" style="fill:#fff;"/><path d="m115.73 13.191c-7.3787-0.13351-13.509 5.7888-13.631 13.168-0.10128 5.8827 3.4508 10.518 8.0566 12.52 1.061 0.46115 2.1869 0.78009 3.3418 0.95703v8.4291c0.66778-0.02035 1.3358-0.03077 2.0039-0.03125 0.66547-9e-5 1.3309 0.0097 1.9961 0.0293v-8.4115c2.6002-0.38406 5.1586-1.5484 7.3086-3.625 4.2322-4.0878 4.9991-9.8755 3.1582-14.549-1.8407-4.6726-6.3502-8.3834-12.232-8.4863z" style="fill:#fff;"/>',At["01"]=[],At["01"].env=cr,At["01"].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5c0 10.76 11.75 19.48 26.25 19.48s26.25-8.72 26.25-19.48z" style="fill:#1a1a1a;"/><path d="m92.502 194.27v0.70391c0 4.3033 2.4373 8.2583 6.3807 11.183 4.2199 3.1204 10.106 5.0508 16.661 5.0508 6.548 0 12.434-1.9303 16.654-5.0508 3.9434-2.9245 6.388-6.8795 6.388-11.183v-0.67489c1.0768 0.21771 2.1463 0.44994 3.2158 0.69666h-7e-3c1.0695 0.24672 2.1318 0.50798 3.1867 0.791-0.27648 6.103-3.6524 11.553-8.9708 15.493-5.2821 3.9114-12.521 6.328-20.466 6.328-7.9449 0-15.184-2.4165-20.474-6.328-5.333-3.9477-8.7089-9.4194-8.9708-15.544 1.055-0.27577 2.1099-0.53702 3.1722-0.78376 1.0695-0.23947 2.1463-0.46443 3.2304-0.68213z" style="fill:#b3b3b3;"/>',At["01"].head=Gr,At["01"].mouth='<path d="m100.35 143.85a7.67 7.67 0 0 0 7.58 7.7v0a7.66 7.66 0 0 0 7.57-7.7 7.66 7.66 0 0 0 7.57 7.7v0a7.67 7.67 0 0 0 7.58-7.7" style="fill:none;'+Zr+'6.3998px;stroke:#333;"/>',At["01"].eyes='<path d="m78.73 111a10.9 10.9 0 0 1 15.19 0m43.16 0a10.9 10.9 0 0 1 15.19 0" style="fill:none;'+Zr+'6.1999px;stroke:#333;"/><path d="m79.804 123.74h7.07m57.273 0h7.05" style="fill:none;'+Zr+'5.9998px;stroke:#b8b8b8;"/>',At["01"].top='<path d="m57.534 142.03c-6.9383-31.75-0.57294-52.577 14.174-62.344 22.562-12.283 62.082-12.222 83.484-1.8846 21.348 11.177 22.124 37.396 18.498 63.733 8.1279-14.155 13.164-31.598 14.085-48.902 1.0828-11.795-1.1756-18.866-7.4833-27.972-26.465-37.685-103.45-31.56-129.66-2.8372-7.8504 9.4615-9.6006 17.478-9.275 26.667 1.0024 18.667 6.9688 38.508 16.18 53.54z" style="fill:#b3b3b3;"/><path d="m111.26 3.0423c-6.013 0.1128-12.629 2.6924-15.291 7.9082-1.1676 3.2383-1.6758 6.2069-1.6758 8.8926 0.89228-0.2661 1.8005-0.5164 2.7266-0.7441 3.7502-1.0672 7.4851-1.7135 11.129-1.9981 1.1007-0.086 2.1953-0.1391 3.2773-0.1601h2e-3c5.6969-0.1133 11.09 0.6603 15.904 2.0527 0.0552-3.042-0.70696-5.9824-2.1738-8.5-1.8411-3.1599-4.7033-5.5568-8.4297-6.8262-1.6883-0.4952-3.5163-0.662-5.4688-0.625zm3.0664 17.449c-0.69317-0.01-1.3919-0.01-2.0938 0h-2e-3c-1.1591 0.019-2.3326 0.064-3.5117 0.1386-3.9035 0.246-7.9025 0.8061-11.92 1.7285-15.159 3.0075-26.469 9.9279-22.068 19.682 22.891-8.7773 52.315-10.403 76.023-2.2129 2.1414-9.5529-14.939-19.081-36.428-19.34z" style="fill:#b3b3b3;"/><path d="m165.62 16.981c-0.8575 0-1.9406 0.54389-3.3476 1.3574-7.3382 4.7652-13.452 10.867-19.516 18.363 9.2734 2.1825 17.903 5.6706 25.213 10.604 1.1512-9.1263 1.9137-18.503 0.055-26.996-0.57-2.4184-1.3017-3.3267-2.4043-3.3281zm-104.09 1.6934c-1.1026 0-1.8342 0.91165-2.4043 3.3301-1.8794 8.5869-1.0806 18.078 0.092 27.299 7.0559-4.6638 15.687-8.3667 25.111-10.984-6.043-7.4601-12.139-13.537-19.451-18.285-1.407-0.81353-2.4901-1.3605-3.3477-1.3594z" style="fill:#b3b3b3;"/><path d="m162.45 16.686c-2.3175 2e-3 -4.6276 0.57608-6.8926 1.668-8.4768 6.0155-11.113 13.349-10.133 19.787 10.323 2.7077 19.762 7.0658 27.346 13.279 9.848-4.9363 11.32-17.137 4.6152-25.852-4.7104-6.1222-9.8371-8.8878-14.936-8.8828zm-97.318 4.1387c-2.4569 0.0556-5.1642 0.54474-8.1172 1.5176-13.487 4.4433-19.06 21.215-3.6484 31.84 7.2476-6.0694 16.961-10.896 27.892-14.229 0.2193-3.3241-0.3201-7.0817-1.8691-11.236-2.8049-4.8445-7.2233-7.721-13.221-7.8906-0.3408-0.01-0.6861-0.01-1.0371-2e-3z" style="fill:#b3b3b3;"/>',At["02"]=[],At["02"].env=cr,At["02"].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5c0 10.76 11.75 19.48 26.25 19.48s26.25-8.72 26.25-19.48z" style="fill:#5a5a5a;"/>',At["02"].head=Gr,At["02"].mouth='<path d="m115.5 161.71c-8.24 0-14.46-4.15-19.19-11.25 3.37-2.44 6.51-4.57 10-6.79a5.25 5.25 0 0 1 5.48-0.17 28.19 28.19 0 0 1 3.68 2.75 28.19 28.19 0 0 1 3.68-2.75 5.25 5.25 0 0 1 5.48 0.17c3.52 2.22 6.66 4.35 10 6.79-4.74 7.1-11 11.25-19.19 11.25z" style="fill:#5a5a5a;"/>',At["02"].eyes='<path d="m172.7 90.75h-6.54c-0.14-0.1-0.26-0.22-0.4-0.3-4.48-2.76-22.75-2.11-33.71 1.2-1 0.3-1.91 0.61-2.75 0.94-1.8937 0.79244-3.8739 1.3597-5.9 1.69-5.5051 0.79002-10.403 0.79002-15.908 0-2.0261-0.33034-4.0063-0.89756-5.9-1.69-0.84-0.33-1.76-0.64-2.75-0.94-11-3.31-29.23-4-33.71-1.2-0.13832 0.08869-0.2688 0.18906-0.39 0.3h-6.55c-1.1046 0-2 0.89543-2 2v4.66c-0.0013 0.98185 0.49088 1.8986 1.31 2.44l1.9 1.27c0.59238 0.38889 0.93475 1.0622 0.9 1.77-0.14175 5.4854 0.88072 10.939 3 16 3.58 8.38 16 10.9 24.93 10.9 2.6976 0.0771 5.3921-0.2361 8-0.93 4.35-1.43 8.24-7.36 10.45-12.42 1.7607-3.8506 2.7493-8.009 2.91-12.24 7.3e-4 -0.7138 0.38183-1.3731 1-1.73 3.2281-1.951 6.5798-1.951 9.8079 0 0.61817 0.3569 0.99927 1.0162 1 1.73 0.16067 4.231 1.1493 8.3894 2.91 12.24 2.21 5.06 6.1 11 10.45 12.42 2.6079 0.6939 5.3024 1.0071 8 0.93 8.92 0 21.35-2.52 24.93-10.9 2.1193-5.0614 3.1418-10.515 3-16-0.0348-0.70778 0.30762-1.3811 0.9-1.77l1.9-1.27c0.81913-0.54136 1.3113-1.4582 1.31-2.44v-4.6c0.0336-1.1048-0.83521-2.0274-1.94-2.06z" style="fill:#1a1a1a;'+Zr+'2.5;stroke:#b3b3b3;"/>',At["02"].top='<path d="m124.22 13.61c-19.783 0-36.945 8.0887-39.695 24.106-15.332 0.23539-31.831 2.7712-41.663 15.782-6.0238 7.9604-7.0402 19.901-6.8476 31.724 0.46007 28.503 10.742 64.228-4.3012 89.714 16.584 5.7777 43.086 10.742 73.59 11.662v-8.6558c-1.851-0.35308-3.6592-0.78105-5.4353-1.2732-30.953-8.4632-50.672-36.635-47.259-68.669 1.5514-10.603 4.6221-19.665 10.025-27.69 5.3818-7.9925 13.267-15.717 23.892-21.41 0.40658 0.72757 1.9901 3.5843 2.4074 4.3012 7.5003 12.775 17.986 23.849 33.157 26.866 12.433 2.4609 23.849 3.4666 36.346 1.1555 4.2584-0.78106 10.667-2.3967 14.851-2.4181 14.861 33.404-1.0806 75.035-40.668 87.457-2.2255 0.70616-4.5258 1.316-6.8904 1.8189 0 2.707-0.0428 5.6493-0.0642 8.5274 23.603-0.72757 48.682-4.0444 72.874-11.234-18.521-32.152 0.81315-89.083-10.036-121.46-9.0731-26.973-38.85-40.315-64.282-40.305z" style="fill:#c5c5c5;"/><path d="m33.147 172.32c-2.6535 5.1143-6.088 9.9504-10.1 12.411 7.8427 10.453 17.387 19.516 28.257 26.781 16.038-10.731 35.629-17.055 54-18.606v-9.0089c-30.065-0.94155-56.108-5.8847-72.157-11.577zm164.06 0.55637c-23.731 7.0723-48.361 10.325-71.525 11.042-0.0321 3.1242-0.0535 6.2377-0.0107 9.0517 19.227 1.7226 37.908 7.8534 53.989 18.542 0.0107 0 0.0107 0 0.0214 0.0107 10.731-7.1686 20.179-16.081 27.958-26.374-4.2798-2.3967-7.832-6.9653-10.432-12.272z" style="fill:#c5c5c5;"/><path d="m50.02 46.5c-2.9297 1.9143-6.1313 3.8826-10.154 7.9805-14.091 14.359-16.145 27.701-6.1406 44.018 4.2049 6.8583 6.1414 13.706-0.24609 20.5-7.7143 8.1957-21.559 4.2912-21.537 16.061 0.0214 8.613 15.063 7.9178 22.531 13.984 3.7662 3.0707 5.0836 8.3992 2.0664 12.508-4.2156 5.7456-16.006 7.3715-22.629 8.9336 5.8811 10.843 13.45 20.638 22.355 29.033l0.0039 0.0234 0.0059-0.0137c2e-3 2e-3 0.0038 4e-3 0.0059 6e-3 0.0034-0.0112 0.0063-0.0219 0.0098-0.0332 14.775-12.218 20.268-20.965 49.461-28.434-17.404-10.258-30.68-27.122-24.143-35.34 4.4123-5.5444 5.6612-7.8633 6.4062-12.078 2.3582-13.339-10.208-22.335-9.2363-32.715 1.9432-8.2346 11.379-11.173 16.947-15.115 5.4577-3.9082 9.8014-8.7695 10.799-16.918-13.558-4.8896-17.609-5.8617-36.506-12.4zm140.87 19.357c-3.4404-0.91243-23.311 122.43 4.4121 133.14 8.9661-8.5809 16.552-18.584 22.404-29.658 0-0.31029-25.133-3.9922-25.979-14.018-0.10699-1.1769 0.11822-1.4855 0.86718-2.502 6.6764-9.2122 30.716-11.416 29.646-23.496-0.27818-3.1563-4.1617-5.2334-6.7402-6.4531-12.155-5.767-32.942-9.6494-15.031-24.543 9.2122-7.3505 10.43-8.4323 0.59766-14.691-9.4583-6.0238-9.394-11.993-9.7578-16.326-0.0767-0.93035-0.22089-1.4003-0.41992-1.4531z" style="fill:#c5c5c5;"/><path d="m133.83 39.909c-11.33 1.393-9.5492 16.204-2e-3 16.643-4.5102 10.717 9.0165 16.181 14.441 8.3125 6.562 8.6765 18.596 0.94751 14.457-8.3125 11.718-1.5381 9.2769-16.099 0-16.643 4.503-10.867-9.4883-16.101-14.457-8.3301-6.8832-9.0411-18.509-0.47321-14.439 8.3301z" style="fill:#333;"/><path d="m153.86 48.222c0-3.0528-2.5184-5.5648-5.5791-5.5648-3.0783 0-5.5793 2.512-5.5793 5.5648 0 3.0703 2.501 5.5648 5.5793 5.5648 3.0606 0 5.5791-2.4946 5.5791-5.5648z" style="fill:#f9f9f9;"/>',At["03"]=[],At["03"].env=cr,At["03"].clo='<path d="m141.75 195c13.563 3.1499 26.439 8.7409 38 16.5-38.873 26.001-89.587 26.001-128.46 0 11.561-7.7591 24.437-13.35 38-16.5 8.4869 8.8011 26.21 25.619 26.21 25.619s17.603-16.972 26.25-25.619z" style="fill:#d6d6d6;"/><path d="m109 230.81 1.6836-14.33h9.6328l1.6836 14.33c-2.16 0.12-4.33 0.19-6.51 0.19s-4.35-0.07-6.51-0.19z" style="fill:#5e5e5e;"/><path d="m124.17 210.6h-17.349v5.53a3.8828 3.29 0 0 0 3.8828 3.29h9.583a3.8828 3.29 0 0 0 3.8828-3.29z" style="fill:#535353;"/><path d="m140.57 190.36-25.066 20.245c5.9686 3.2455 11.597 7.0814 16.8 11.45 1.5989 1.3338 3.9762 1.1189 5.31-0.48 0.21005-0.25749 0.38802-0.53956 0.52999-0.84l10.826-23.805-4-6c-0.90256-1.351-2.7298-1.7137-4.08-0.81-0.11612 0.0786-0.22641 0.16549-0.33 0.26z" style="fill:#c6c6c6;"/><path d="m90.434 190.36 25.066 20.245c-5.9686 3.2455-11.597 7.0814-16.8 11.45-1.5989 1.3338-3.9762 1.1189-5.31-0.48-0.21005-0.25749-0.38802-0.53956-0.52999-0.84l-10.826-23.805 4-6c0.90256-1.351 2.7298-1.7137 4.08-0.81 0.11612 0.0786 0.22641 0.16549 0.33 0.26z" style="fill:#c6c6c6;"/>',At["03"].head=Gr,At["03"].mouth='<path d="m136.21 147.09a21.77 21.77 0 0 1-40.13 0z" style="fill:#fff;'+Zr+'3.4999px;stroke:#000;"/>',At["03"].eyes='<path d="m145.39 104.7-11.52 11.2h17.26m-65.52-11.2 11.52 11.2h-17.26" style="fill:none;'+Zr+'5.4998px;stroke:#000;"/>',At["03"].top='<path d="m43.891 77.836c-5.1124 28.237 2.1347 61.004 24.792 81.332-6.2362-12.503-9.5362-33.948-9.4887-45.458-0.50203-37.473 41.439-46.335 56.149-17.614 18.8-31.2 52.825-16.872 54.062 13.714 0.56018 13.844-0.43568 25.598-7.0962 48.966 18.372-12.47 28.012-53.959 23.545-80.941-47.486-2.2552-94.831-2.5724-141.96 0z" style="fill:#1a1a1a;"/><path d="m111.26 12.782c-18.508 0.0791-32.594 3.6163-32.594 3.6163 24.513 5.6002 32.807 10.504 31.743 19.835-0.87227 9.702-11.092 10.875-20.811 11.554-5.2548 0.36414-10.949 0.71523-16.391 1.7525-11.862 2.2818-19.946 4.3736-24.447 11.956-1.7012 2.8662-3.7945 10.428-4.8689 16.34h141.96c-5.7242-38.563-32.557-65.073-74.595-65.054z" style="fill:#1a1a1a;"/><path d="m73.292 44.77c-11.788 2.2816-18.923 5.5444-23.394 13.126-2.8484 6.7586-4.8454 13.238-6.0072 19.939h141.96c-1.9772-14.576-6.8677-28.248-19.277-32.098-28.834-6.3308-63.774-6.3553-93.285-0.96761z" style="fill:#1a1a1a;"/><path d="m165.95 35.642c-11.178 21.829-91.89 19.36-103.98 2.3011-9.703 12.267-15.605 25.883-18.079 39.892h141.96c-3.0096-17.158-9.7424-32.688-19.902-42.193z" style="fill:#1a1a1a;"/>',At["04"]=[],At["04"].env=cr,At["04"].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5l15.71 15.75h21z" style="fill:#949494;"/><path d="m115.45 211.34-10.55 10.54a2.51 2.51 0 0 1-3.5599 0 2 2 0 0 1-0.26999-0.30994l-18.48-25.4 5.8901-5.8899a2.52 2.52 0 0 1 3.5199-0.0791l23.49 21.14z" style="fill:#c0c0c0;"/><path d="m115.45 211.34 10.55 10.54a2.51 2.51 0 0 0 3.5599 0 2 2 0 0 0 0.26999-0.30994l18.48-25.4-5.8901-5.8899a2.52 2.52 0 0 0-3.4699-0.089l-23.49 21.14z" style="fill:#c0c0c0;"/><path d="m158.41 199.58-10.11-3.2401v29.93q5.1601-1.5299 10.11-3.51zm-75.82 26.66v-29.9l-10.1 3.2401v23.14c3.2901 1.3199 6.67 2.4999 10.1 3.5199z" style="fill:#7c7c7c;"/>',At["04"].head=Gr,At["04"].mouth='<path d="m118.05 148.38c-1.5064 0.59192-2.595 2.0264-2.6191 3.9863-0.0574 1.3977 0.53421 3.5611 3.6758 5.7949 8.0544 4.9446 21.507 3.6862 21.255-7.1658-4.664 4.8219-10.021 5.6377-14.773 0.73907-1.2328-1.1599-2.3694-2.4032-3.9294-3.1408-1.0946-0.50424-2.2257-0.61071-3.6096-0.21337z" style="fill:#333;"/><path d="m133.61 154.93c3.0731-0.48816 5.5702-2.8457 5.4438-4.5059-0.47801-4.8311-5.7317-3.0917-4.3369-0.31405-2.8103-1.4445-1.8343-3.8862 0.50427-4.7324 2.0509-0.79942 5.0937 0.34314 6.2002 2.6376 2.2229 7.3422-3.4376 11.68-10.384 12.561z" style="fill:#333;"/><path d="m112.81 148.38c1.5064 0.59192 2.595 2.0264 2.6191 3.9863 0.0574 1.3977-0.53421 3.5611-3.6758 5.7949-8.0544 4.9446-21.507 3.6862-21.255-7.1658 4.664 4.8219 10.021 5.6377 14.773 0.73907 1.2328-1.1599 2.3694-2.4032 3.9294-3.1408 1.0946-0.50424 2.2257-0.61071 3.6096-0.21337z" style="fill:#333;"/><path d="m97.252 154.93c-3.0731-0.48816-5.5702-2.8457-5.4438-4.5059 0.47801-4.8311 5.7317-3.0917 4.3369-0.31405 2.8103-1.4445 1.8343-3.8862-0.50427-4.7324-2.0509-0.79942-5.0937 0.34314-6.2002 2.6376-2.2229 7.3422 3.4376 11.68 10.384 12.561z" style="fill:#333;"/>',At["04"].eyes='<path d="m131.64 114.09 7.5801-7.5801 7.5801 7.5801m-62.6 0 7.5801-7.5801 7.5799 7.5801" style="fill:none;'+Zr+'6.4998px;stroke:#000;"/>',At["04"].top='<path d="m137.38 11.148c-12.23 1.9593-18.511 14.606-43.436 9.4915-11.285-3.2054-16.406-3.573-20.389 0.58594-4.1548 4.3384-7.033 12.435-9.8184 21.706-2.1354 7.4136-3.7187 14.381-4.7461 21.646h112.7c-3.4878-24.293-10.822-43.281-25.182-51.061-3.5314-1.623-6.5274-2.2959-9.1289-2.3613z" style="fill:#b3b3b3;"/><path d="m114.37 43.383c-19.445 0.088-38.524 2.0724-52.379 5.6992-1.2766 4.5795-2.4317 10.169-3.2285 16.807h113.11c-0.83731-6.0107-1.9164-11.674-3.3184-16.924-15.229-3.8842-34.873-5.6693-54.18-5.582z" style="fill:#e6e6e6;"/><path d="m115.5 55.773c-58.39 0-105.73 15.476-105.73 34.57h0.0312c0 11.295 16.496 21.319 42.126 27.627-0.10331-7.7704 2.788-21.904 5.2734-31.031 6.0935-1.7168 6.9294-1.8971 13.167-2.9919 14.874-2.8256 29.99-4.2037 45.133-4.1153 15.143-0.0884 30.259 1.2897 45.133 4.1153 6.2372 1.0947 7.2065 1.2751 13.3 2.9919 2.4854 9.1267 5.3768 23.26 5.2734 31.031 25.63-6.3082 41.993-16.332 41.993-27.627h0.0312c0-19.093-47.34-34.57-105.73-34.57z" style="fill:#818181;"/><path d="m72.088 83.533c-6.9765 1.1147-13.357 2.856-18.439 4.3477-1.1861 7.415-2.0038 18.858-1.8926 26.293 4.3278-0.62795 10.155-1.3644 13.295-1.6465-0.40554 0.30198 2.7344-17.827 7.0371-28.994zm86.824 0c4.3028 11.167 7.4426 29.296 7.0371 28.994 3.1396 0.28213 8.9671 1.0185 13.295 1.6465 0.11119-7.4351-0.70652-18.878-1.8926-26.293-5.0822-1.4916-11.463-3.2329-18.439-4.3477z" style="fill:#434343;"/>',At["05"]=[],At["05"].env=cr,At["05"].clo='<path d="m141.75 194.98a114.79 114.78 0 0 1 38 16.498 115.53 115.52 0 0 1-128.46 0 114.79 114.78 0 0 1 38-16.498l15.71 15.748h21z" style="fill:#d2d2d2;"/><path d="m70 200.88v20.77c-2.22-0.95325-4.3999-1.9698-6.5399-3.0496h-0.10088v-14.621c2.17-1.1 4.39-2.1399 6.64-3.0996z" style="fill:#505050;"/><path d="m161 200.88v20.77c1.9-0.80986 3.7702-1.6798 5.6201-2.5898l0.0989-0.0494 0.82005-0.40997h0.10088v-14.621c-2.17-1.1-4.39-2.1399-6.6402-3.0996z" style="fill:#505050;"/><polygon transform="matrix(1 0 0 .99987 4e-5 -3e-5)" points="97.32 201.93 115.5 223.72 133.68 201.93" style="fill:#171717;"/><path d="m111.2 230.88 1.31-16.908c0.32992 1.2798 5.6399 1.2798 5.9999 0l1.3201 16.938c-1.4301 0.0494-2.8601 0.089-4.3 0.089s-2.87 0-4.3-0.089z" style="fill:#171717;"/><path d="m115.49 201.79v0.0692l-7.55 12.678-7.0001 11.809-19.19-26.487c0.60999-0.42995 1.22-0.89985 1.8001-1.3899a52 51.993 0 0 0 10.07-10.619l21.79 13.878z" style="fill:#ebebeb;"/><path d="m149.24 199.86-19.08 26.517-7.0001-11.809-7.57-12.678-0.0593-0.10086 21.94-13.998a52.21 52.203 0 0 0 10.08 10.699c0.58013 0.47009 1.1502 0.92002 1.7301 1.3399z" style="fill:#ebebeb;"/>',At["05"].head=Gr,At["05"].mouth='<path d="m122.83 151.88a10.49 10.489 0 0 1-14.66 0" style="fill:none;'+Zr+'6.1996px;stroke:#333;"/>',At["05"].eyes='<path d="m70.959 94.985h35.031c2.4086 1e-5 4.3612 1.9523 4.3612 4.3606l-2.5864 17.511c-0.3515 2.3799-1.7218 4.3606-3.8457 4.3606h-30.9c-2.1239-1e-5 -3.8457-1.9523-3.8457-4.3606l-2.5864-17.511c1e-5 -2.4082 1.9526-4.3606 4.3612-4.3606z" style="fill:#1a1a1a;'+Zr+'3.0045px;stroke:#333;"/><path d="m160.05 94.985h-35.031c-2.4086 1e-5 -4.3612 1.9523-4.3612 4.3606l2.5864 17.511c0.35149 2.3799 1.7218 4.3606 3.8457 4.3606h30.9c2.1239-1e-5 3.8457-1.9523 3.8457-4.3606l2.5864-17.511c-1e-5 -2.4082-1.9526-4.3606-4.3612-4.3606z" style="fill:#1a1a1a;'+Zr+'3.0045px;stroke:#333;"/><path d="m90.607 102.35a4.6337 4.6332 0 1 0 4.6892 4.6337 4.6337 4.6332 0 0 0-4.6892-4.6337zm49.72 0a4.6337 4.6332 0 1 0 4.6444 4.6337 4.6337 4.6332 0 0 0-4.6444-4.6337z" style="fill:#1a1a1a;"/><path d="m70.66 94.985h-11.775" style="fill:none;'+Zr+'3.0045px;stroke:#333;"/><path d="m172.13 94.985h-19.484" style="fill:none;'+Zr+'3.0045px;stroke:#333;"/><path d="m109.32 106.2c4.2045-2.427 9.3036-1.913 12.353-0.0258" style="fill:none;'+Zr+'3.0045px;stroke:#333;"/><path d="m148.33 109.79-5.7626-8.2324" style="fill:none;'+Zr+'4;stroke:#fff;"/><path d="m156.27 105-2.403-3.4328" style="fill:none;'+Zr+'4;stroke:#fff;"/><path d="m82.748 114.34-8.9489-12.784" style="fill:none;'+Zr+'4;stroke:#fff;"/><path d="m91.408 109.79-5.7626-8.2324" style="fill:none;'+Zr+'4;stroke:#fff;"/>',At["05"].top='<path d="m41.835 75.131c-2.8674 12.582 1.2304 27.241 6.0238 39.031 0.25861 0.63658 0.51208 1.3075 0.79989 1.9683 0.71726 1.658 2.1184 3.9751 3.0038 3.9266 0.56895-0.0312 0.71637-1.5512 1.0228-3.1562 2.1988-19.097 8.8981-27.915 15.636-38.107 2.8783-4.0645 3.8616-7.2293 1.0644-9.9325-6.3236-3.5596-14.924-2.8574-21.367-0.67406-3.2312 1.4765-5.2427 3.4773-6.1842 6.9439zm125.65-8.5679c7.65-0.70616 19.714-0.1307 21.694 8.5679 1.455 6.4083 0.26915 17.747-1.0542 24.579-1.1961 5.3203-3.8066 14.231-7.8782 19.75-0.5565 0.44544-0.96888 0.13656-1.4159-1.1606-0.90692-3.0353-1.4298-7.8372-2.2556-10.727-3.4822-12.79-8.2195-21.875-14.429-29.94-5.5782-6.8415-4.2152-9.7207 5.3393-11.069z" style="fill:#4d4d4d;"/><path d="m112.27 73.826c-18.585-7.5217-34.987-14.797-48.939 5.018-4.9752 7.083-3.7876 8.8056-4.9217 0.0749-1.637-12.476-4.7505-34.174 1.9259-45.194 7.6822-12.7 19.323-13.128 31.039-5.3818 10.796 7.7784 24.277 14.647 38.015 12.219 12.732-2.2576 15.835-7.7464 15.707-19.912-0.0215-2.6-0.0963-5.2106-0.2033-7.7999 13.631 3.9267 24.609 14.776 26.513 29.049 0.88804 6.6336 0.26749 12.722-1.9259 19.013-5.9702 17.108-30.119 20.896-45.74 16.841-3.9588-1.0378-7.6822-2.4181-11.47-3.9267z" style="fill:#4d4d4d;"/>',At["06"]=[],At["06"].env=cr,At["06"].clo='<path d="m115.5 231a115 115 0 0 0 64.23-19.5 114.79 114.79 0 0 0-38-16.5l-2.41-9a125.19 125.19 0 0 0-13.32-2.28v8.75q3.52 0.32 7 0.84l-17.5 17.48-17.5-17.48q3.45-0.52 7-0.84v-8.75a125.55 125.55 0 0 0-13.34 2.28l-2.41 9a114.79 114.79 0 0 0-38 16.5 114.94 114.94 0 0 0 64.25 19.5z" style="fill:#646464;"/><path d="m132.98 193.33-36.185 36.155-2.4-0.42 36.108-36.081z" style="fill:#e3e3e3;"/>',At["06"].head=Gr,At["06"].mouth='<path d="m127.84 146.73c-2.24 8.93-6.92 15.08-12.34 15.08s-10.1-6.15-12.34-15.08z" style="fill:#fff;'+Zr+'2.9999px;stroke:#1a1a1a;"/>',At["06"].eyes='<path d="m129.31 114.14 20-5.37m-47.66 5.37-20-5.37" style="fill:none;'+Zr+'4.9998px;stroke:#1a1a1a;"/>',At["06"].top='<path d="m169.65 90.998c3.137 11.94 4.9371 36.484-3.4118 58.213l5.129 3.1164c10.044-15.199 14.959-39.163 13.943-61.33z" style="fill:#1a1a1a;"/><path d="m45.081 90.989c-0.88085 4.9304-0.87534 14.953-0.15027 21.75 2.1318 19.98 16.671 42.505 16.671 42.505l5.7352-4.4331s-13.244-31.348-6.0571-52.751c0.52108-1.5517 0.95592-2.916 1.3462-4.1835z" style="fill:#1a1a1a;"/><path d="m117 3.4883c-8.2136-0.19887-19.13 7.933-18.494 9.3516 1.6214 3.6186 11.176 22.55 11.889 23.963h10.148c2.6022-6.3102 11.32-26.531 11.32-26.531s-4.1382-4.138-12.416-6.4375c-0.77605-0.21556-1.5976-0.32513-2.4473-0.3457z" style="fill:#1a1a1a;"/><path d="m115.95 4.5428c-3.1563 0-6.3123 0.57462-9.2165 1.715-5.8084 2.2817-10.532 6.808-12.779 12.245v-5e-3c-1.8166 4.397-2.0233 9.3441-0.58058 13.857 0.69352 2.1687 1.7693 4.2296 3.1533 6.0968h38.893c0.71032-0.95769 1.3441-1.9641 1.8787-3.0144 2.6811-5.2673 2.9296-11.542 0.67253-16.975-2.257-5.4337-6.9893-9.9522-12.802-12.224-2.9064-1.1335-6.0633-1.6987-9.2196-1.6956z" style="fill:#1a1a1a;"/><path d="m92.512 28.125c0.13387 1.4318 0.41877 2.8511 0.85962 4.2306 1.4429 4.5127 4.5278 8.5654 8.6411 11.353 4.1135 2.7873 9.2311 4.2913 14.336 4.2165 5.1052-0.0764 10.168-1.7333 14.181-4.6419 2.8754-2.0834 5.2132-4.7932 6.7665-7.8447 1.2005-2.3586 1.9085-4.9188 2.127-7.5156-15.037-2.6407-31.421-3.4671-46.912 0.20253z" style="fill:#b3b3b3;"/><path d="m34.426 90.63c14.714 4.0779 22.683 6.4085 45.254 7.4257 2.5318-18.185 4.6689-28.672 10.023-38.352 3.2025 13.403 3.8346 25.22 2.9106 42.253l11.172-0.23161c1.4706-11.886 3.8989-29.213 2.1636-42.021 10.416 12.631 11.373 23.624 13.077 39.726 30.174-0.76004 59.808-4.5121 77.845-10.128-10.76-38.608-41.475-55.66-80.38-56.104-38.182-0.45134-74.543 22.405-82.065 57.432z" style="fill:#1a1a1a;"/>',At["07"]=[],At["07"].env=cr,At["07"].clo='<path d="m88.18 194.11c-4.2079 1.021-8.3545 2.2792-12.42 3.7695v26.072a115.5 115.5 0 0 0 79.48 0v-26.072c-4.0858-1.4904-8.2529-2.7486-12.48-3.7695v8.7051c0 9.3888-7.6112 17-17 17h-20.58c-9.3888 0-17-7.6112-17-17v-8.7051z" style="fill:#efefef;"/>',At["07"].head=Gr,At["07"].mouth='<polygon points="121.61 160.74 109.39 160.74 115.5 171.31" style="fill:#797979;"/><path d="m132.64 144.06a34.42 34.42 0 0 1-34.24 0" style="fill:none;'+Zr+'5.9998px;stroke:#000;"/>',At["07"].eyes='<path d="m170.25 100c1.69 9.62-4.79 29.23-22.4 29.23-6.81 0-15-3.66-20.23-10-4.34-5.33-7.56-12.87-6.2-19.45 1.63-7.89 7.07-11.45 14.67-12.92a68.16 68.16 0 0 1 12.52-1c10.77 0 19.78 3.61 21.64 14.22z" style="fill:#565656;stroke-width:3.99px;stroke:#000;"/><path d="m60.75 100c-1.69 9.62 4.79 29.23 22.4 29.23 6.81 0 15-3.66 20.23-10 4.34-5.33 7.56-12.87 6.2-19.45-1.63-7.89-7.07-11.45-14.67-12.92a68.16 68.16 0 0 0-12.52-1c-10.77 0-19.78 3.61-21.64 14.22z" style="fill:#565656;stroke-width:3.99px;stroke:#000;"/><line x1="100.2" x2="130.8" y1="87.92" y2="87.92" style="fill:none;'+Zr+'3.99px;stroke:#000;"/><path d="m109.87 101.73c0-2.59 2.52-4.69 5.63-4.69s5.63 2.1 5.63 4.69" style="fill:none;stroke-width:3.99px;stroke:#000;"/>',At["07"].top='<path d="m30.622 70.381c2.0971-3.9374 4.6649-7.9604 7.6822-12.037 3.0172-4.0765 6.0987-7.6929 9.2229-10.817l22.897 22.897c-4.4402 4.4403-8.2278 9.5439-11.213 15.14z" style="fill:#999;"/><path d="m160.58 70.423 22.907-22.897c3.1242 3.1242 6.2056 6.7406 9.2229 10.817 3.0065 4.0765 5.5744 8.0994 7.6715 12.037l-28.578 15.182c-2.9851-5.5958-6.7727-10.689-11.224-15.14z" style="fill:#999;"/><path d="m92.411 15.247c3.8197-0.87736 7.6715-1.5407 11.534-1.9794 4.0765-0.46007 7.9282-0.69546 11.555-0.69546 1.53 0 3.1563 0.0428 4.8682 0.1391l1.851 22.255 5.767-21.57c3.1028 0.37449 6.0666 0.86666 8.8912 1.4658l-10.55 49.763c-1.9259-0.41729-3.702-0.70617-5.3176-0.87736-1.423-0.14979-3.2633-0.22468-5.5102-0.22468-2.2362 0-4.237 0.10699-5.981 0.29958-1.9473 0.22469-3.8732 0.55636-5.767 0.99504z" style="fill:#999;"/><path d="m92.411 15.247c1.9152-0.43869 4.023-0.84526 6.3233-1.2304 2.065-0.34238 4.1514-0.62057 6.2698-0.84525l5.1785 50.565c-1.0913 0.10699-2.1827 0.25679-3.2954 0.43868-0.86665 0.14979-1.9152 0.36378-3.1349 0.64196z" style="fill:#4d4d4d;"/>',At["08"]=[],At["08"].env=cr,At["08"].clo='<path d="m141.89 195a114.79 114.79 0 0 1 38 16.5 115.55 115.55 0 0 1-128.47 0 114.79 114.79 0 0 1 38-16.5l15.75 15.75h21z" style="fill:#353535;"/><path d="m146.4 196.14-17.4 17.44-1.17 1.17h-24.34l-1.18-1.17-17.43-17.44c1.49-0.41 3-0.79 4.51-1.14l4.67-1 12.74 12.74h17.69l12.73-12.74 4.67 1c1.52 0.35 3 0.73 4.51 1.14z" style="fill:#919191;"/>',At["08"].head=Gr,At["08"].mouth='<path d="m115.68 160.64c7.08 0 13.11-4.93 15.46-11.84a2.14 2.14 0 0 0-1.51-2.6101 2.3 2.3 0 0 0-0.73995-0.0593h-26.42a2.12 2.12 0 0 0-2.31 1.9099 1.85 1.85 0 0 0 0.0593 0.73995c2.3401 6.9301 8.3802 11.86 15.46 11.86z" style="fill:#2f2f2f;"/>',At["08"].eyes='<path d="m145.38 95.628c-5.1601 2.2597-11.03 2.2597-16.19 0m-47.29 1.75c5.1755-2.2694 11.065-2.2694 16.24 0" style="fill:none;'+Zr+'5.9998px;stroke:#5e5e5e;"/><path d="m90.016 106.28c-4.4506-0.0105-6.6902 5.3657-3.5508 8.5195 3.1394 3.1539 8.5252 0.93887 8.5352-3.5117 0.0063-2.7522-2.2204-4.9898-4.9727-4.9961l-0.011719-0.01172zm47.281 0c-4.4506-0.0105-6.6902 5.3657-3.5508 8.5195 3.1394 3.1539 8.5252 0.93887 8.5352-3.5117 6e-3 -2.7522-2.2204-4.9898-4.9727-4.9961l-0.01171-0.01172z" style="fill:#1a1a1a;"/>',At["08"].top='<path d="m108.37 22.019c-6.2698-12.829-17.151-13.396-18.949 1.1769-11.448-9.4583-26.021-4.483-20.361 12.422-12.251-7.9282-24.919 1.7761-17.076 20.853-27.08 2.3646-22.715 24.726-10.111 31.435-9.9002 3.3566-10.701 9.4006-8.464 14.497 2.6574 4.7842 9.0126 6.4737 11.545 9.6519-6.624 0.59419-8.4112 5.6011-5.7404 9.5192 1.6896 2.4787 5.2756 4.2218 8.5971 5.5455 1.0485 0.40658 3.702 1.2732 3.9053 2.4181 0.18744 1.2156-6.7884 3.0055-5.7281 5.2612 0.60648 1.4227 1.7764 2.7151 2.6466 3.7156 1.2807 1.6595 10.755 8.0351 9.4583 4.2049-1.0271-3.7234-2.2148-7.4682-3.1456-11.192-1.1662-5.3069-1.7868-10.721-1.102-16.156 1.4223-5.455 5.069-4.4265 7.7837-8.3588 3.5264-5.7505 2.0296-11.614 2.124-13.575 0.107-1.7868 1.5407-1.1876 3.1884-1.4337 4.3868-0.64196 7.0081-2.1185 8.8377-6.2698 0.77035-1.9259 0.62057-9.7578 0.52426-11.78 0.36378-4.6328 4.1835 0 6.548 0.64196 3.2633 0.88805 6.8797 0.21399 9.0731-2.5037 1.7547-2.3753 2.0864-2.8888 4.6114-0.80245 2.6856 2.2148 4.0979 3.1349 7.6929 3.274 5.5637 0.20329 8.7735-6.2698 11.32-5.6386 3.5201 0.87735 3.6057 5.4567 10.261 4.8682 2.386-0.20329 3.8304-0.86665 5.4032-2.6428 0.88805-0.99505 1.958-2.5037 3.4345-2.6214 1.4658-0.1177 2.3218 2.3646 3.0065 3.4452 1.1926 2.6755 4.0295 3.6513 6.2377 3.3168 1.958-0.17119 3.854-1.4115 5.4268-2.4707 0.99679-0.66102 1.8284-0.81128 1.9256 0.2071 0.29592 2.2271 0.0862 7.7025 0.1596 8.4821 0.10556 8.4609 5.37 10.569 13.223 10.333-0.31871 3.7464 0.0583 11.28 5.4353 14.562 3.9481 2.7604 6.6657 1.2732 6.7299 7.8534 7e-3 6.1914-0.43693 13.061-1.2946 18.189-0.69547 4.0444-1.2412 6.4838-2.5251 10.378-0.64196 1.9152-0.81315 1.9687 1.4123 1.0699 7.1472-3.1456 10.539-11.48 8.3562-18.842-0.43869-2.0436 0.84525-1.7226 2.8781-2.6106 9.5248-4.2363 8.1264-11.335-0.75967-14.273 11.988-3.0926 13.886-8.9002 6.6871-15.375 7.3077-5.9168 3.6378-16.177-2.8032-16.991 12.422-7.0937 5.7349-22.062-5.1036-18.499 4.1728-12.037-5.5637-26.203-21.121-16.894 6.9653-11.373 2.065-22.661-12.101-10.785-3.4559-18.382-15.14-16.584-23.902-5.018 0.09435-20.075-16.001-17.42-18.146-2.5892z" style="fill:#1a1a1a;"/><path d="m5.4353 80.502c7.4468 9.1373 15.632 8.8912 15.632 8.8912s-6.0772 3.7983-6.8369 9.8755c-0.75966 6.088 4.5579 9.6295 8.0994 10.646 3.5522 1.0058 7.0937-2.7925 7.0937-2.7925s-5.8312 10.646-1.5193 15.964c4.3012 5.3176 11.908 3.0386 11.908 3.0386s-5.3283 10.132 1.0057 14.187c5.8312 3.7234 18.542 7.6715 20.511 8.2706-6.0666-9.7472-9.576-21.249-9.576-33.575v-0.0428c0-35.201 28.546-63.747 63.747-63.747 35.212 0 63.758 28.546 63.758 63.747 0 12.476-3.5843 24.116-9.7899 33.949h0.53496s13.931-1.0057 16.21-9.3727c2.279-8.3562 0.75967-9.8756 0.75967-9.8756s10.635 2.0329 13.417-7.5966l2.7926-9.6295s10.132 0 10.892-7.083c0.75963-7.0937-7.0295-12.411-7.0295-12.411s11.459 0.82385 14.498-10.453c1.0164-3.7555 0.83456-8.2171 0.1391-12.497-17.665-41.161-58.569-69.995-106.18-69.995-30.632 0-60.034 12.187-81.679 33.831v0.0107c-13.171 13.171-22.833 29.22-28.386 46.66z" style="fill:#1a1a1a;"/>',At["09"]=[],At["09"].env=cr,At["09"].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5l13.85 13.85v-1.2h17.86v3.1h5z" style="fill:#333;"/><polygon points="115.36 207.65 123.37 224.2 148.3 196.86 143.08 189.95" style="fill:#fff;"/><polygon points="115.36 207.65 107.35 224.2 82.42 196.86 87.63 189.95" style="fill:#fff;"/>',At["09"].head=Gr,At["09"].mouth='<path d="m126.28 149.82c-6.16 2.43-15.52 2.42-21.56 0" style="fill:none;'+Zr+'5.9998px;stroke:#1c1c1c;"/>',At["09"].eyes='<path d="m83.527 103.98v10h10v-10h-10zm53.945 0v10h10v-10h-10z" style="fill:#1a1a1a;"/><path d="m56.621 94.906v11.688h5.3418v6.4922h5.3418v6.1055h5.3223v6.2324h26.846v-6.2324h5.3047v-6.1055h5.1445v-6.0039h11.154v6.0039h5.1446v6.1055h5.3066v6.2324h26.846v-6.2324h5.3203v-6.1055h5.3438v-6.4922h5.3418v-11.688z" style="fill:#1a1a1a;"/><path d="m67.387 100.65v5.9394h5.1992v-5.9394zm5.1992 5.9394v6.4922h5.4238v-6.4922zm5.4238 0h5.1992v-5.9394h-5.1992zm5.1992 0v6.4922h5.4258v-6.4922zm5.4258 6.4922v6.1055h5.1426v-6.1055zm-10.625 0v6.1055h5.1445v-6.1055zm48.281-12.432v5.9394h5.1992v-5.9394zm5.1992 5.9394v6.4922h5.4238v-6.4922zm5.4238 0h5.1992v-5.9394h-5.1992zm5.1992 0v6.4922h5.4258v-6.4922zm5.4258 6.4922v6.1055h5.1426v-6.1055zm-10.625 0v6.1055h5.1445v-6.1055z" style="fill:#fff;"/>',At["09"].top='<path d="m157.79 67.5a61.31 61.31 0 0 1-42.79 17.43h-55.7c18.16-37.74 68.27-46.85 98.49-17.43z" style="fill:#4d4d4d;"/><path d="m122.93 7.0078c-10.503-0.15729-21.09 1.6448-29.545 5.4316-17.141 7.8999-32.169 23.297-43.973 38.779-5.1703 6.8631-8.7779 13.46-8.1855 18.395 0.93114 12.312 10.372 26.483 11.068 36.9 15.663-72.081 105.99-70.452 124.91-7.0525l4e-3 0.0156c5.616-10.926 8.0682-20.188 8.352-27.653 0.43654-15.607-7.8088-21.149-21.735-28.249 1.7934-3.7704 1.7273-7.5023 2.0625-10.154-0.79964-7.8568-3.6796-13.51-10.43-17.758-5.9434-3.7404-13.06-6.0867-18.463-7.2266-4.5319-0.87895-9.2901-1.3562-14.064-1.4277z" style="fill:#4d4d4d;"/><path d="m42.426 75.338c0.52158 18.689 10.557 74.338-18.115 101.25 12.38 10.603 28.352 19.061 46.025 24.594 11.032-4.6874 22.88-7.4147 34.817-8.5046l0.0633-14.477c-22.49-4.3813-40.766-18.898-48.862-39.967-8.096-21.07-4.7931-44.72 9.2478-62.393zm124.67 2.7207c7.8997 10.886 11.743 24.64 11.787 37.441-0.36632 30.178-22.389 57.576-53.12 62.708l0.0238 14.471c12.282 1.1216 24.518 3.9888 35.825 8.9128 15.488-5.1448 30.007-13.325 42.396-25.043-13.136-22.051-23.282-63.045-18.694-101.55z" style="fill:#4d4d4d;"/><path d="m143.61 46.383c-11.639 0.12482-20.998 1.8906-20.998 1.8906l-9 3.5059c0.63003-0.0191 1.2603-0.0289 1.8906-0.0293h0.0996c35.169 0.055 60.959 27.235 63.283 63.383 7.4e-4 31.157-22.742 57.213-53.106 63.079l-0.0216 14.498c11.567 1.0563 23.154 3.6067 33.887 8.0463 35.952-15.315 55.082-52.303 36.709-68.279-5.018-7.9035-10.44-15.409-9.5544-23.03 5.0545-50.452 0.39626-63.561-43.189-63.064zm-69.966 21.09c-15.286 3.244-17.096 3.73-31.734 6.6953 3.0304 13.081 3.0583 22.274 1.2085 30.012-3.8004 11.361-8.9712 19.787-12.286 28.764-6.8823 22.459-2.9157 31.982 12.093 46.165 8.6595 8.0693 19.861 16.209 30.939 20.647 2.669-1.0316 5.3729-1.9628 8.106-2.792 7.4979-2.275 15.388-3.6535 23.206-4.3673l0.0433-14.393c-23.933-4.5937-44.283-21.98-50.77-45.817-6.3319-23.265 0.51104-48.752 19.195-64.914z" style="fill:#4d4d4d;"/>',At[10]=[],At[10].env=cr,At[10].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5l15.71 15.75h21z" style="fill:#666;"/><path d="m89.291 195a114.79 114.79 0 0 0-38.002 16.5 115.53 115.53 0 0 0 38.002 16.482zm52.434 0v32.982a115.53 115.53 0 0 0 38-16.482 114.79 114.79 0 0 0-38-16.5z" style="fill:#999;"/><path d="m157.15 199.75c0.2548 7.4501 1.54 14.855 4.9512 21.432a115.53 115.53 0 0 0 17.619-9.6797 114.79 114.79 0 0 0-22.57-11.752zm-83.295 2e-3a114.79 114.79 0 0 0-22.57 11.75 115.53 115.53 0 0 0 17.621 9.6797c3.411-6.5765 4.6944-13.98 4.9492-21.43z" style="fill:#ccc;"/><path d="m99.197 204.97v2e-3l16.302 16.301 16.301-16.301v-2e-3z" style="fill:#fff;"/>',At[10].head=Gr,At[10].mouth='<path d="m100.19 152.09c2.8726 4.0616 9.8095 4.7232 15.119-0.45432 5.0656 4.5134 11.167 5.6898 15.495 0.31458" style="fill:none;'+Zr+'5.8949;stroke:#333;"/><path d="m109.67 135.53c-0.9758 0.0743-2.05 0.45327-3.1485 0.99414-4.3235 2.1399-7.3862 4.2557-10.639 7.1406-0.6251 0.5715 0.1168 0.77785 1.4238 0.87304 5.6967 0.0536 14.384 0.41404 15.098-0.875 1.9251-2.0788 1.7969-5.3303-0.1816-7.3008-0.701-0.67533-1.5769-0.90632-2.5527-0.83203zm11.656 0c-0.9758-0.0743-1.8517 0.1567-2.5527 0.83203-1.9785 1.9705-2.1067 5.222-0.1817 7.3008 0.7142 1.289 9.401 0.9286 15.098 0.875 1.307-0.0952 2.0489-0.30154 1.4238-0.87304-3.2524-2.8849-6.3151-5.0007-10.639-7.1406-1.0985-0.54087-2.1727-0.91985-3.1485-0.99414z" style="fill:#333;"/>',At[10].eyes='<path d="m97.56 107.84a10.63 10.63 0 0 1-15 0.13l-0.13-0.13" style="fill:none;'+Zr+'6.3px;stroke:#000;"/><path d="m148.59 107.84a10.63 10.63 0 0 1-15 0.13l-0.13-0.13" style="fill:none;'+Zr+'6.3px;stroke:#000;"/>',At[10].top='<path d="m41.668 87.073c-9.2319-0.0231-11.63 6.5104 2.2676 17.66-14.015 1.1231-4.3662 16.457 4.875 24.66 4.0686 3.0199 6.4647 5.4657 5.5078 1.1348-1.2079-4.9178-1.8184-9.9634-1.8184-15.027 3.26e-4 -7.5692 1.2547-15.016 3.7883-22.183 0.57048-1.7876 1.0689-2.0306-0.37721-2.6839-5.5405-2.4478-10.375-3.5511-14.243-3.5608z" style="fill:#ccc;"/><path d="m185.48 89.513c-2.4418-0.11189-5.4618 0.81187-9.5148 3.2121-1.314 0.81729-0.70075 1.995-0.32301 3.2653 3.194 10.982 3.8215 22.462 1.2538 33.628-0.31613 1.688-0.47649 3.569 2.6953 1.3516 7.7016-5.371 19.17-18.734 16.918-26.105-1.4251-3.9177-11.4-0.35546-11.4-0.35546s4.987-4.2755 5.3437-9.6191c0.20048-3.0057-1.5237-5.2189-4.9726-5.377z" style="fill:#ccc;"/><path d="m91.689 36.108c-3.7298-7.3864-9.5859-10.504-17.578-6.7891-9.5194 4.5907-15.629 18.444-13.416 29.232 0 0-8.5511-4.9878-18.17-3.5625-19.623 8.094-1.4102 29.869 10.817 37.342 2.075 1.297 2.5792 1.7432 3.4291-0.37685 2.6746-6.5374 6.1886-12.722 11.297-17.709 4.1039 8.7427 14.629 4.1809 20.006-0.14062 4.4873 9.6838 10.377 6.3535 15.377 3.4785 4.0764 7.8829 10.756 7.25 17.631 0.0625 4.875 4.5625 14.713 4.1867 15.555-3.426 8.4753 2.6244 14.012 10.437 22.962-1.4764 8.8552 6.8221 14.407 16.853 17.122 27.51 0.34 1.554 1.175 0.85565 2.2212 0.44315 10.255-4.286 22.842-15.749 15.705-23.975-3.5623-3.5623-13.539-2.1387-13.539-2.1387s6.77-7.1233 9.2637-18.168c2.4936-11.043-23.514-4.9883-23.514-4.9883s7.4818-5.6993 12.113-13.537c4.6314-7.8378-2.4943-11.756-11.045-11.043-8.5496 0.71204-17.1 7.4805-17.1 7.4805s3.3946-7.8055-3.5625-12.826c-9.5935-6.9234-23.869 6.4121-23.869 6.4121-4.2562-26.835-24.872-6.386-31.707 8.1953z" style="fill:#ccc;"/>',At[11]=[],At[11].env=cr,At[11].clo='<path d="m116 203.13c-0.12 0-0.25 0.12-0.49 0.12s-0.25-0.12-0.49-0.12zm-27.29-8c0.87-0.25 1.72-0.47 2.56-0.69a32.37 32.37 0 0 0 0.3 8.57 21.5 21.5 0 0 0 7 6.88c6.41-6 16.8-6.64 16.8-6.64s10.5 0.58 17 6.69a21.61 21.61 0 0 0 6.93-6.66 32.34 32.34 0 0 0 0.35-8.84l2.13 0.56a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.64 114.64 0 0 1 37.38-16.37z" style="fill:#e9e9e9;"/><path d="m126.15 206-3.92 7.83h-13.46l-3.92-7.83a36.59 36.59 0 0 1 10.65-2.7 35.66 35.66 0 0 1 10.65 2.7z" style="fill:#818181;"/><path d="m124.54 230.65-2.18-16.74h-13.47l-2.19 16.76c2.9 0.22 5.84 0.33 8.8 0.33s6.06-0.12 9-0.35z" style="fill:#989898;"/><path d="m134.84 186s0.86 9.8-19.34 17.26c0 0 15.79 0.86 20.57 11.76 0.12 0.49 9.3-23.26-1.23-29z" style="fill:#fff;"/><path d="m96.16 186c-10.41 5.76-1.35 29.39-1.1 29 4.65-10.78 20.56-11.76 20.56-11.76-20.32-7.45-19.46-17.24-19.46-17.24z" style="fill:#fff;"/>',At[11].head=Gr,At[11].mouth='<path d="m118.57 165.14a8.66 8.66 0 0 0-2.76-4.23h-0.62a8 8 0 0 0-2.76 4.22c-0.52 1.89 2.07 10.61 2.76 12.53h0.62c0.64-1.76 3.19-10.82 2.76-12.52z" style="fill:#333;"/><path d="m102.81 152.24a2.4921 2.4921 0 1 1 1.19-4.84l0.21 0.06a37.1 37.1 0 0 0 5.43 1.12 44.52 44.52 0 0 0 11.76 0 37.1 37.1 0 0 0 5.43-1.12 2.4903 2.4903 0 0 1 1.59 4.72l-0.21 0.06a43.08 43.08 0 0 1-6.15 1.29 48.55 48.55 0 0 1-13.08 0 42.79 42.79 0 0 1-6.17-1.29z" style="fill:#333;"/>',At[11].eyes='<path d="m86.851 100.39a4.94 4.94 0 1 0 4.9297 5 5 5 0 0 0-4.9297-5zm57.221 0a4.94 4.94 0 1 0 4.9394 4.9394 4.94 4.94 0 0 0-4.9394-4.9394z" style="fill:#333;"/><path d="m86.207 89.365c-25.504 0-21.503 6.8561-21.035 19.596 0.80177 18.121 17.763 16.514 21.201 16.639 14.758-0.041 20.518-8.227 22.951-22.932 1.8166-10.731-9.251-13.174-23.117-13.303zm58.598 0c-13.866 0.1284-24.936 2.5717-23.119 13.303 2.4332 14.705 8.1936 22.891 22.951 22.932 3.4383-0.125 20.399 1.4828 21.201-16.639 0-18.965-0.47958-19.596-21.033-19.596z" style="fill:#4d4d4d;"/><path d="m169.87 90.255a0.51 0.51 0 0 0-0.43991-0.52 167.64 167.64 0 0 0-22.6-1.6801c-12 0-27.47 3.7601-30.17 3.7601h-2.4c-1.2499 0-5.29-0.80996-10.45-1.6801a124.35 124.35 0 0 0-19.72-2.08 166.18 166.18 0 0 0-19.31 1.24c-1.56 0.17999-2.69 0.35009-3.2899 0.44009a0.51 0.51 0 0 0-0.44007 0.52l-0.091 6.4501a0.57 0.57 0 0 0 0.33012 0.52l0.73994 0.23992c1.08 0.41992 1.0001 19.85 6.78 24.71 3.4401 2.8599 6.51 4.4899 19.42 4.4899 7.4699 0 12.17-1.9999 16.63-8 3.21-4.32 6.0999-14.55 6.0999-14.55 0.82006-4.07 3.7702-4.52 4.43-4.5801h0.12068c0.11078 0 3.66 0.0593 4.57 4.5801 0 0 2.8599 10.22 6.0699 14.54 4.4601 5.9999 9.1601 8 16.63 8 12.91 0 16-1.63 19.42-4.4901 5.7898-4.86 5.6998-24.29 6.78-24.71l0.73994-0.23993a0.57 0.57 0 0 0 0.32996-0.52l-0.12068-6.4501zm-65 23c-1.9101 4.5-6.8 10.29-13.7 10.64-20.7 0.99985-21.65-4.7401-23-9.3201a31.45 31.45 0 0 1-1.2099-13.18c0.53997-4.5799 1.7-7.2699 3.7801-8.6201a9.3 9.3 0 0 1 4.3499-1.51 85.07 85.07 0 0 1 11.4-0.52 59.23 59.23 0 0 1 9.2099 0.69999c7.37 1.2 12.35 3.7001 12.35 6.1601a46.12 46.12 0 0 1-3.23 15.64zm58 1.3201c-1.34 4.5799-2.29 10.36-23 9.3201-6.91-0.3501-11.81-6.1401-13.71-10.64a46.35 46.35 0 0 1-3.22-15.64c0-3.39 9.43-6.8599 21.56-6.8599 12.13 0 14 0.89996 15.75 1.9999 2.08 1.3502 3.2398 4 3.77 8.6201a31.23 31.23 0 0 1-1.1601 13.17z" style="fill:#333;"/>',At[11].top='<path d="m156.1 15.879c-0.38556 5.3015-1.7049 9.4762-3.6602 12.76-0.41226 23.773-9.2343 35.229-15.154 42.797l15.062-4.6641c-0.66253 2.8135-2.4628 7.156-0.34766 12.137 1.6334-2.3144 7.9395-5.807 13-3.3477-0.43442 3.5532-0.95271 7.094-1.4512 10.639l8.9648 0.85937c0.83453 3.8792 0.51719 9.3449-0.59961 11.736l5.5508 2.0098c0.20764 2.7646 0.10001 5.4906-0.74609 8.875 8.4545-1.7225 14.213-4.3896 19.641-13.188 2.8639-4.7524 4.9018-10.483 4.7305-17.242-4.1612 4.916-9.6484 7.2485-15.26 10.109 6.507-11.065 8.8648-22.768 8.1367-30.58-7.3456 10.251-11.649 13.06-19.918 16.9 1.2386-11.4 5.5249-18.582 12.461-27.27-11.392-1.3025-16.301 1.4749-24.891 6.4395 4.5466-14.036 2.2208-26.679-5.5195-38.971zm-117.76 28.682c9.3378 3.6366 19.581 9.0234 21.129 18.549-7.6182 0.0414-14.897-3.5072-20.242-7.1894-0.15967 8.2309 2.8451 12.252 6.7734 19.08-7.2127 1.6129-12.084 4.8315-17.471 9.4805 7.2948-0.15715 12.299-1.0502 16.891 4.2793-6.0512 5.0164-11.99 10.79-11.99 19.24 9.257-6.1688 12.495-5.9486 21.137-2.2012 1.2906-8.0996 2.3978-14.872 2.7869-16.435 2.4719-0.73247 3.5247-0.94807 5.9221-1.2938-2.1556-7.4281 1.0996-9.5176 2.4141-11.6l7.543 1.5059c-3.9093-6.1699 2.6565-12.483 7.1445-15.51-4.4474-7.2082-5.6649-11.558-7.377-16.797-11.198-8.2947-23.895-6.2742-34.66-1.1094z" style="fill:#f9f9f9;"/><path d="m101.9 7.6408c-10.047 6.2416-12.441 28.646-12.131 33.289-6.9249-5.8258-7.8992-13.75-7.7695-19.203-9.6235 6.0158-10.666 14.421-9 23.943 1.1061 5.1411 2.3972 10.461 7.377 16.797 2e-3 -1e-3 4e-3 -3e-3 6e-3 -4e-3 2.7742 2.8742 5.4644 5.5941 8.3477 8.3574 0.41187-6.971 0.45449-13.622 7.1856-15.824 3.9532 2.8169 7.4123 5.9388 11.084 9.1035l10.559-10.25c5.6447 3.961 5.4531 6.5652 6.5215 14.104 2.153-1.7546 8.719-9.0037 15.844-10.139 0.98706 4.1261-0.99388 10.308-2.6387 13.621 0 0 14.32-11.846 15.195-27.971 0.33968-6.2599 0.2237-11.146-0.041-14.826-3.2125 5.5652-8.7118 8.7799-13.789 10.15-4.2715-9.2486-2.4785-21.435-0.48047-29.309-12.21 3.0195-20.932 18.337-22.172 25.07-9.2678-7.397-13.605-16.146-14.098-26.91z" style="fill:#f9f9f9;"/>',At[12]=[],At[12].env=cr,At[12].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5l26.23 13 26.27-13z" style="fill:#131111;"/><polygon points="115.5 208.03 115.5 207.74 82.72 188.91 80.45 198.86 101.46 222.72" style="fill:#cbcbcb;"/><polygon points="115.5 208.03 115.5 207.74 148.28 188.91 150.55 198.86 129.54 222.72" style="fill:#cbcbcb;"/>',At[12].head=Gr,At[12].mouth='<path d="m123.07 154.05a10.61 10.61 0 0 1-15 0.14l-0.14-0.14" style="fill:none;'+Zr+'6.3px;stroke:#000;"/><path d="m120.1 142.22 0.19-0.11c3-1.87 5.45-2.4 7.3-1.46 2.15 1.1 3.12 3.84 4.84 5.5a5.18 5.18 0 0 0 6.68 0.73m-28.21-4.66-0.19-0.11c-3-1.87-5.45-2.4-7.3-1.46-2.15 1.1-3.12 3.84-4.84 5.5a5.18 5.18 0 0 1-6.68 0.73" style="fill:none;'+Zr+'5.9998px;stroke:#4d4d4d;"/>',At[12].eyes='<path d="m161.73 86.016h-92.51c-3.37 0-6.0001 2.3998-6.0001 5.2999v28.45c0 3.0002 2.74 5.3001 6.0001 5.3001h32.36c7.0901 0 7.44-19.43 13.82-19.43s6.8801 19.44 13.83 19.44h32.36c3.37 0 5.9999-2.4 5.9999-5.3001v-28.46c0.14043-2.9001-2.6-5.2999-5.9-5.2999z" style="fill:#8f8f8f;"/><path d="m161.73 86.016h-92.51c-3.37 0-6.0001 2.3998-6.0001 5.2999v28.45l104.55-28.45c0-2.9001-2.74-5.2999-5.9999-5.2999z" style="fill:#e3e3e3;"/><path d="m161.73 86.016h-92.51c-3.37 0-6.0001 2.3998-6.0001 5.2999v28.45c0 3.0002 2.74 5.3001 6.0001 5.3001h32.36c7.0901 0 7.44-19.43 13.82-19.43s6.8801 19.44 13.83 19.44h32.36c3.37 0 5.9999-2.4 5.9999-5.3001v-28.46c0.14043-2.9001-2.6-5.2999-5.9-5.2999z" style="fill:none;'+Zr+'4.0026px;stroke:#232323;"/>',At[12].top='<path d="m69.834 33.826c-8.2001-0.0626-16.444 2.6753-23.152 7.7038-8.5298 6.9899-12.159 19.61-12.329 32.68-0.2041 15.476 1.6092 34.752 1.7464 51.915 0.10414 13.047 0.53485 25.984-2.9197 33.995-2.4994 5.81-9.0955 9.6006-16.196 12.311 7.9599 2.8301 25.009 2.8094 33.58 1.5393 10.8-1.59 17.238-6.5294 17.159-22.699-0.0911-15.93-1.3894-29.23-1.559-45.83-0.3208-11.983-1.569-24.291 4.9774-33.987 4.2139-6.1265 10.452-10.521 17.116-13.588 3.9292-1.8575 8.0384-3.3083 12.263-4.3297-6.8718-13.574-18.732-19.618-30.687-19.709z" style="fill:#b3b3b3;"/><path d="m90.8 76.246c11.918-17.125 31.996-23.218 49.743-17.488 11.81 3.9496 20.692 13.389 22.313 28.237 0.51051 6.2098 0.63413 12.445 0.37007 18.67-0.23973 11.2-0.72946 23.82-1.0995 34.08-0.82005 22.43 0.0593 35.1 24.589 36.3 8.5635 0.32122 17.137-0.22845 25.59-1.6405h-0.0198c-10.74-3.3799-17.98-15.609-19.3-26.289-1.29-10.41-0.6098-23.43-0.7898-38.091-0.1701-14.96 1.0398-29.819 0.28008-42.089-1.414-22.777-14.947-38.505-34.126-45.152-27.813-7.35-51.083 0.091-61.672 17.343-5.4698 8.9112-7.7413 20.07-5.8788 36.121z" style="fill:#b3b3b3;"/>',At[13]=[],At[13].env=cr,At[13].clo='<path d="M61.11,205.59l3.49,3.69-6.26,6.6A115.45,115.45,0,0,0,72,222.51v-22a115.19,115.19,0,0,0-10.85,5.1Z" style="fill:#eee;"/><path d="M93.24,228.85V199l-4-4A114.43,114.43,0,0,0,72,200.49v22a114.43,114.43,0,0,0,21.28,6.34Z" style="fill:#787878;"/><path d="m159 222.51v-22a114.63 114.63 0 0 0-17.25-5.51l-4 4v29.86a114.16 114.16 0 0 0 21.25-6.35z" style="fill:#787878;"/><path d="m169.89 205.59-3.49 3.69 6.26 6.6a115.45 115.45 0 0 1-13.66 6.63v-22a115.19 115.19 0 0 1 10.85 5.1z" style="fill:#eee;"/><path d="M115.5,219.62A28.5,28.5,0,0,1,87.25,195c2.93-.74,5.92-1.36,8.94-1.87a19.41,19.41,0,0,0,38.62,0c3,.51,6,1.13,8.94,1.87a28.49,28.49,0,0,1-28.25,24.63Z" style="fill:#c9c9c9;"/>',At[13].head=Gr,At[13].mouth='<path d="m115.5 153.93a14 14 0 0 1-10.5-4.69 3.4209 3.4209 0 0 1 5-4.67l0.08 0.08 0.08 0.09a7.35 7.35 0 0 0 10.39 0.37l0.37-0.37a3.4206 3.4206 0 1 1 5.23 4.41l-0.08 0.09a14 14 0 0 1-10.53 4.69z" /><path d="m115.27 127.32c-7.6627-0.03-15.251 1.4419-20.646 5.1465-7.62 5.33-9.9053 11.512-14.127 18.109-3.4379 5.2447-9.326 10.024-13.467 6.334 25.425 29.755 71.409 29.786 96.875 0.0664-6.8104 3.9305-11.545-2.47-13.508-6.4004-10.697-17.605-14.115-22.656-35.127-23.256zm-0.26758 8.3984c7.457 0.0802 14.986 1.2966 17.146 5.9522 2.5765 11.319-7.5878 17.454-16.681 17.515-6.09-0.05-12.2-2.3802-15.26-7.7402-6.36-11.16 3.6349-15.607 14.795-15.727z" style="fill:#404040;"/>',At[13].eyes='<path d="m91.72 97.36v11.4m47.56-11.4v11.4" style="fill:none;'+Zr+'7.9999px;stroke:#333;"/>',At[13].top='<path d="m52.107 57.293c-1.3411 14.839-3.8707 52.771 1.3145 72.715-0.67572-43.829 12.389-70.177 62.078-70.187 49.689 0.010061 62.754 26.359 62.078 70.187 5.1852-19.944 2.6556-57.876 1.3145-72.715h-63.393-63.393z" style="fill:#4d4d4d;"/><path d="m52.339 30.629c-1.3825 24.448-2.1216 45.905-1.4497 66.517 9.4643-48.304 112.77-54.916 129.22 0 0.67191-20.612-0.3798-47.256-1.4928-66.517-32.241 14.296-91.346 18.861-126.28 0z" style="fill:#4d4d4d;"/><path d="m115.5 24.92c-22.25 0-44.5 4.2296-56.72 12.69-3.32 2.3-5.0602 6.4392-5.5903 10.269-0.45275 3.23-0.84043 6.7561-1.1785 10.461h126.98c-0.33704-3.7047-0.72492-7.2306-1.1775-10.461-0.53009-3.8301-2.2697-7.9992-5.5897-10.269-12.22-8.4601-34.47-12.69-56.72-12.69z" style="fill:#4d4d4d;"/><path d="m76.521 39.139c21.233 3.3965 33.116-13.392 37.59-31.72 4.3614 17.158 14.175 34.968 36.577 31.584-33.921 20.594-57.646 11.594-74.167 0.1345z" style="fill:#4d4d4d;"/>',At[14]=[],At[14].env=cr,At[14].clo='<path d="m91.92 194.41a101.47 101.47 0 0 1 23.58 17.09 101.47 101.47 0 0 1 23.58-17.09c0.89 0.19 1.78 0.38 2.67 0.59a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5c0.88-0.21 1.78-0.4 2.67-0.59z" style="fill:#757575;"/><path d="m73.65 199.82c16.59 8.23 28.72 18.91 34.27 30.93a114.86 114.86 0 0 1-56.65-19.25 115.06 115.06 0 0 1 22.38-11.68z" style="fill:#d8d8d8;"/><path d="m60.63 205.85c12.35 5.94 21.93 13.44 27.59 21.91a114.7 114.7 0 0 1-36.95-16.26q4.53-3 9.36-5.65z" style="fill:#757575;"/><path d="m157.35 199.82c-16.6 8.23-28.72 18.91-34.27 30.93a114.86 114.86 0 0 0 56.65-19.25 115.06 115.06 0 0 0-22.38-11.68z" style="fill:#d8d8d8;"/><path d="m170.37 205.85c-12.35 5.94-21.93 13.44-27.59 21.91a114.7 114.7 0 0 0 36.95-16.26q-4.53-3-9.36-5.65z" style="fill:#757575;"/>',At[14].head=Gr,At[14].mouth='<path d="m115.5 131c-17.71 0.65-27 9.41-29.61 23.69-1 5.62-0.43 7.06 2.76 7.17 22.76 0.76 22.23 18.21 26.85 18.89 4.62-0.68 4.09-18.13 26.85-18.89 3.19-0.11 3.79-1.55 2.76-7.17-2.62-14.28-11.9-23-29.61-23.69zm0 29.31c-10 0-18-5-18-11.17s8.08-11.17 18-11.17 18 5 18 11.17-8.08 11.17-18 11.17z" style="fill:#333;"/><path d="m123.54 148.46a11.53 11.53 0 0 1-16.09 0" style="fill:none;'+Zr+'6.7998px;stroke:#000;"/>',At[14].eyes='<path d="m133 108.17h14.17m-63.26 0h14.09m-20.69-8.93a21.31 21.31 0 0 1 27.29 0m21.8 0a21.31 21.31 0 0 1 27.29 0" style="fill:none;'+Zr+'4.8243px;stroke:#000;"/>',At[14].top='<path d="m115.5 51.75c-38.702 5.3101-54.215 18.038-59.863 35.101" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m115.5 51.75c-7.8393 3.6337-5.5974 16.583-14.341 23.452" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m111.35 48.614c-22.634-6.9181-42.457-3.1988-55.733 2.5105" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m115.47 54.008c0.1965-6.7774-0.1436-26.309 0.05-38.184" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m68.874 28.177c34.115-3.382 41.987 13.321 45.17 19.602" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m116.49 48.69c2.8876-6.3019 10.358-21.518 43.469-22.326" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m116.92 51.766c1.5094 6.3991 3.4988 15.595 10.088 23.058" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m113.81 51.532c22.03-7.8674 46.709-7.3614 59.444-2.0465" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m114.53 52.278c36.226 4.8583 52.414 17.092 59.373 33.347" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m55.637 86.851c-4.1213 12.452-2.9877 27.213-1.777 43.084" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m55.614 51.124c-13.422 5.5019-21.908 16.409-24.712 28.774-1.8322 8.4632-1.9809 18.156-1.6096 28.486" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m173.26 49.486c24.917 10.399 26.707 36.537 27.209 59.62" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m173.9 85.625c5.4042 12.625 5.2413 27.675 4.5745 43.58" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m53.86 129.93c1.293 16.951 2.6738 35.169-2.1664 53.193" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m29.292 108.38c0.6173 17.177 2.6722 36.119 0.8158 54.108" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m200.47 109.11c0.3586 18.529-1.2751 36.94 1.9231 48.985" style="fill:none;'+Zr+'12;stroke:#333;"/><path d="m178.48 129.2c-0.7279 17.362-2.0563 35.743 2.6011 53.099" style="fill:none;'+Zr+'12;stroke:#333;"/>',At[15]=[],At[15].env=cr,At[15].clo='<path d="m141.75 195a114.79 114.79 0 0 1 38 16.5 115.53 115.53 0 0 1-128.46 0 114.79 114.79 0 0 1 38-16.5 115.77 115.77 0 0 1 15.71-2.53v-14.09a63.8 63.8 0 0 0 21 0v14.09a116.6 116.6 0 0 1 15.75 2.53z" style="fill:#1a1a1a;"/><path d="m60.984 205.66 6.2675 2.2051 3.4074-6.819 2.8018-1.1353-3.9911 7.9907 27.222-3.0857 3.2541-11.739 2.1451-0.2692-3.2833 11.819 20.393-1.6011-14.191-15.945v-2.4379l17.606-5.7274 3.3855-0.473v1.47l-19.167 6.2295 14.731 16.542 19.839-7.7432 3.3636 0.8223-21.371 8.34 20.532 13.842 2.6777-21.687 1.9481 0.5604-2.7726 22.378 0.0584 0.0364 8.5075 4.9923-2.4807 0.85145-6.4718-3.7916-1.2987 6.0622-2.1524 0.53125 1.3425-6.2804-17.037 8.8348-5.0271 0.35661 21.59-11.193-20.962-14.133-7.5006 25.457-2.0721-0.0364 7.6392-25.915-21.05 1.652 9.0109 24.052-1.4155-0.0946-0.49615-0.0437-0.073-7e-3 -0.2043-0.0145-8.3688-22.342-10.127 19.242-1.9846-0.52399 10.514-19.962-26.04 2.9547 13.425 16.418-3.4438-1.0625-12.083-14.781-8.1645 5.9675-1.9043-1.077 8.128-5.9385-6.9898-2.4598 2.3348-1.2881zm92.509-7.2556 14.228 20.093-1.8095 0.89514-15.614-22.043z" style="fill:#b2b2b2;"/>',At[15].head=Gr,At[15].mouth='<path d="m97.06 144.59a20.15 20.15 0 0 0 36.88 4.53z" style="fill:#fff;'+Zr+'2.9999px;stroke:#000;"/>',At[15].eyes='<line x1="85.29" x2="85.29" y1="98.73" y2="109.79" style="fill:none;'+Zr+'8.7999px;stroke:#000;"/><path d="m108.28 72.16h62.18c9.19 0 13.32 1.21 14.71 8.52 3.61 18.95 2.2 33.49-0.44 43.75a65.07 65.07 0 0 1-5.89 14.78 73.52 73.52 0 0 1-7.06 10.26c-1.8 2.27-5.17 1.21-4.19-1.09 0.14-0.47 0.27-1 0.4-1.48a14.29 14.29 0 0 0 0.52-6.62 12.52 12.52 0 0 0-3.88-6.3c-4.17-3.9-12.81-8.71-32.53-13.66-6.4-1.6-10.69-2.24-11.76-2.79a7.08 7.08 0 0 1-3.85-6.31v-9c0-2.39 0.18-4.55-1.56-6.57s-4.16-2.13-6.65-2.14a6 6 0 0 1-6-6v-9.35a6 6 0 0 1 6-6z" style="fill:#1a1a1a;"/><path d="m135.9 98.73v9.27m15.22-9.29v9.29" style="fill:none;'+Zr+'7.7998px;stroke:#b2b2b2;"/>',At[15].top='<path d="m109.99 15.57c-13.46 3.6301-19.789 11.95-24.069 24.08-6.9996-7-8.7307-10.82-7.5606-21.43a41 41 0 0 0-9.2698 24.988c0.0366 7.6776 5.6462 13.939 12.697 15.297-13.315 5.8106-15.258 22.033-14.045 33.524 5.7687-11.861 14.254-20.981 27.258-22.951-0.43017 6.6-2.5099 10.22-7.29 17.66 18.29-2.8601 25.119-7.8199 37.15-18.24 0.46001 0 1.0001 0.089 1.4606 0.12058-0.33023 3.5601-1.0906 6.5598-5.0004 12.46 9.5298-1.32 14.721-5.8006 17.539-11.671 8.8862 0.95314 15.836 6.785 21.26 14.818 1.928-15.211-4.4766-26.6-19.807-34.036 1.4167-2.6974 8.0143-11.925 17.661-15.721-1.424-0.28569-2.8883-0.49486-4.4033-0.61125-5.71-0.41992-13.62-0.99982-24.89 4.1703 2.8501-8.5101 10.21-11 18.05-13.12-15.131-1.2501-28.61-2.5898-40.53 8.1801-1.8997-6.21-0.18055-12.54 3.7889-17.52z" style="fill:#fff;"/><path d="m172.63 69.954c1.2292 14.064 0.93841 29.96 0.34635 45.169 1.7887 6.796 3.0379 13.235 3.8842 18.388l0.13973-0.011c1.0001 6.56 2.3597 13.18 3.2698 19.73 2.0002-6.5699 2.5303-18.25 3.2405-25.43 1.2597-13 1.8296-29.311-0.43017-41.931-0.85041-4.72-2.0007-7.6896-2.0007-8.4796 4.6205 3.5601 8.6606 9.2204 13.001 14.15-0.6751-3.4318-1.347-6.6004-2.0567-9.5273-4.047-5.7183-13.726-12.154-19.393-12.06z" style="fill:#fff;"/><path d="m157.97 34.471c-10.339 2.7579-17.715 13.543-19.132 16.24 15.33 7.4361 20.783 17.96 21.278 33.517 5.9534 8.8179 10.066 20.289 12.857 30.895 0.87636-13.178 1.8186-27.726 0.26566-44.28 2.5698 0.44857 9.1372 1.3934 18.781 11.17-2.1158-8.7321-4.5671-15.31-8.4539-20.283-4.5598-5.8401-10.999-10.431-23.809-13 9.6502-3.34 16.27-0.76993 25.5 2.1301-8.1388-7.4315-16.474-14.219-27.287-16.389z" style="fill:#fff;"/><path d="m61.473 73.354c-7.256-0.77501-13.024 2.3746-16.262 5.3879 0.73789-0.45409 1.3868-0.74208 1.8489-0.74208 0 0-1.5198 10.359-1.6197 11.519-1.56 19.73 0.99957 43.401 6.37 62.471 1.3099 4.6899 1.1895 3.0893 1.8898-0.9107 1.7526-10.061 3.3891-24.703 6.9739-38.864-5.068-17.627-4.2508-32.403 0.79937-38.861z" style="fill:#fff;"/><path d="m69.09 43.21c-0.0253 1.0803-8e-3 2.1612 0.0523 3.2402-3.8402 0-12.46 0.71984-16 2.1598-4.4504 1.8001-8.48 5.4801-11.67 11.83 7.2999-3.94 11.899-3.8502 16.66-1.8102-10.39 3.45-19.52 11.37-20.32 26.9 1.1456-1.5053 4.6079-4.9789 7.1393-6.6285 0.09-0.0587 0.17427-0.10556 0.26167-0.15946 3.7141-2.3211 9.0494-5.1247 15.181-4.9553-5.0501 6.4577-6.6824 20.434 0.28207 38.428 1.7866-7.0567 4.0574-13.994 7.0681-20.184-1e-3 -11.664 2.0764-27.774 15.391-33.585-7.0508-2.1538-12.709-7.991-14.043-15.236z" style="fill:#fff;"/>';var xn=xn||function(cp,Cp){var Lp={},jp=Lp.lib={},nm=function(){},zm=jp.Base={extend:function(xl){nm.prototype=this;var ip=new nm;return xl&&ip.mixIn(xl),ip.hasOwnProperty("init")||(ip.init=function(){ip.$super.init.apply(this,arguments)}),ip.init.prototype=ip,ip.$super=this,ip},create:function(){var xl=this.extend();return xl.init.apply(xl,arguments),xl},init:function(){},mixIn:function(xl){for(var ip in xl)xl.hasOwnProperty(ip)&&(this[ip]=xl[ip]);xl.hasOwnProperty("toString")&&(this.toString=xl.toString)},clone:function(){return this.init.prototype.extend(this)}},i1=jp.WordArray=zm.extend({init:function(xl,ip){xl=this.words=xl||[],this.sigBytes=ip!=Cp?ip:4*xl.length},toString:function(xl){return(xl||op).stringify(this)},concat:function(xl){var ip=this.words,lp=xl.words,pu=this.sigBytes;if(xl=xl.sigBytes,this.clamp(),pu%4)for(var go=0;go<xl;go++)ip[pu+go>>>2]|=(lp[go>>>2]>>>24-go%4*8&255)<<24-(pu+go)%4*8;else if(65535<lp.length)for(go=0;go<xl;go+=4)ip[pu+go>>>2]=lp[go>>>2];else ip.push.apply(ip,lp);return this.sigBytes+=xl,this},clamp:function(){var xl=this.words,ip=this.sigBytes;xl[ip>>>2]&=4294967295<<32-ip%4*8,xl.length=cp.ceil(ip/4)},clone:function(){var xl=zm.clone.call(this);return xl.words=this.words.slice(0),xl},random:function(xl){for(var ip=[],lp=0;lp<xl;lp+=4)ip.push(4294967296*cp.random()|0);return new i1.init(ip,xl)}}),d3=Lp.enc={},op=d3.Hex={stringify:function(xl){var ip=xl.words;xl=xl.sigBytes;for(var lp=[],pu=0;pu<xl;pu++){var go=ip[pu>>>2]>>>24-pu%4*8&255;lp.push((go>>>4).toString(16)),lp.push((15&go).toString(16))}return lp.join("")},parse:function(xl){for(var ip=xl.length,lp=[],pu=0;pu<ip;pu+=2)lp[pu>>>3]|=parseInt(xl.substr(pu,2),16)<<24-pu%8*4;return new i1.init(lp,ip/2)}},Sn=d3.Latin1={stringify:function(xl){var ip=xl.words;xl=xl.sigBytes;for(var lp=[],pu=0;pu<xl;pu++)lp.push(String.fromCharCode(ip[pu>>>2]>>>24-pu%4*8&255));return lp.join("")},parse:function(xl){for(var ip=xl.length,lp=[],pu=0;pu<ip;pu++)lp[pu>>>2]|=(255&xl.charCodeAt(pu))<<24-pu%4*8;return new i1.init(lp,ip)}},Fo=d3.Utf8={stringify:function(xl){try{return decodeURIComponent(escape(Sn.stringify(xl)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(xl){return Sn.parse(unescape(encodeURIComponent(xl)))}},as=jp.BufferedBlockAlgorithm=zm.extend({reset:function(){this._data=new i1.init,this._nDataBytes=0},_append:function(xl){typeof xl=="string"&&(xl=Fo.parse(xl)),this._data.concat(xl),this._nDataBytes+=xl.sigBytes},_process:function(xl){var ip=this._data,lp=ip.words,pu=ip.sigBytes,go=this.blockSize,h0=pu/(4*go),h0;if(xl=(h0=xl?cp.ceil(h0):cp.max((0|h0)-this._minBufferSize,0))*go,pu=cp.min(4*xl,pu),xl){for(var kp=0;kp<xl;kp+=go)this._doProcessBlock(lp,kp);kp=lp.splice(0,xl),ip.sigBytes-=pu}return new i1.init(kp,pu)},clone:function(){var xl=zm.clone.call(this);return xl._data=this._data.clone(),xl},_minBufferSize:0});jp.Hasher=as.extend({cfg:zm.extend(),init:function(xl){this.cfg=this.cfg.extend(xl),this.reset()},reset:function(){as.reset.call(this),this._doReset()},update:function(xl){return this._append(xl),this._process(),this},finalize:function(xl){return xl&&this._append(xl),this._doFinalize()},blockSize:16,_createHelper:function(xl){return function(ip,lp){return new xl.init(lp).finalize(ip)}},_createHmacHelper:function(xl){return function(ip,lp){return new us.HMAC.init(xl,lp).finalize(ip)}}});var us=Lp.algo={};return Lp}(Math);(function(cp){for(var Cp=xn,xl,Lp=(xl=Cp.lib).WordArray,jp=xl.Hasher,xl=Cp.algo,nm=[],zm=[],i1=function(lp){return 4294967296*(lp-(0|lp))|0},d3=2,op=0;64>op;){var Sn;e:{Sn=d3;for(var Fo=cp.sqrt(Sn),as=2;as<=Fo;as++)if(!(Sn%as)){Sn=!1;break e}Sn=!0}Sn&&(8>op&&(nm[op]=i1(cp.pow(d3,.5))),zm[op]=i1(cp.pow(d3,1/3)),op++),d3++}var us=[],xl=xl.SHA256=jp.extend({_doReset:function(){this._hash=new Lp.init(nm.slice(0))},_doProcessBlock:function(ip,lp){for(var pu=this._hash.words,go=pu[0],h0=pu[1],kp=pu[2],cm=pu[3],b3=pu[4],L_=pu[5],Ym=pu[6],Xm=pu[7],Jm=0;64>Jm;Jm++){if(16>Jm)us[Jm]=0|ip[lp+Jm];else{var $_=us[Jm-15],j_=us[Jm-2];us[Jm]=(($_<<25|$_>>>7)^($_<<14|$_>>>18)^$_>>>3)+us[Jm-7]+((j_<<15|j_>>>17)^(j_<<13|j_>>>19)^j_>>>10)+us[Jm-16]}$_=Xm+((b3<<26|b3>>>6)^(b3<<21|b3>>>11)^(b3<<7|b3>>>25))+(b3&L_^~b3&Ym)+zm[Jm]+us[Jm],j_=((go<<30|go>>>2)^(go<<19|go>>>13)^(go<<10|go>>>22))+(go&h0^go&kp^h0&kp),Xm=Ym,Ym=L_,L_=b3,b3=cm+$_|0,cm=kp,kp=h0,h0=go,go=$_+j_|0}pu[0]=pu[0]+go|0,pu[1]=pu[1]+h0|0,pu[2]=pu[2]+kp|0,pu[3]=pu[3]+cm|0,pu[4]=pu[4]+b3|0,pu[5]=pu[5]+L_|0,pu[6]=pu[6]+Ym|0,pu[7]=pu[7]+Xm|0},_doFinalize:function(){var ip=this._data,lp=ip.words,pu=8*this._nDataBytes,go=8*ip.sigBytes;return lp[go>>>5]|=128<<24-go%32,lp[14+(go+64>>>9<<4)]=cp.floor(pu/4294967296),lp[15+(go+64>>>9<<4)]=pu,ip.sigBytes=4*lp.length,this._process(),this._hash},clone:function(){var ip=jp.clone.call(this);return ip._hash=this._hash.clone(),ip}});Cp.SHA256=jp._createHelper(xl),Cp.HmacSHA256=jp._createHmacHelper(xl)})(Math);var On="";if(ut.length==0)return On;On=xn.SHA256(ut).toString().replace(/\D/g,"").substring(0,12);var ss=[];for(var ls in ss.env=On[0]+""+On[1],ss.env=Math.round(.47*ss.env)+"",ss.clo=On[2]+""+On[3],ss.clo=Math.round(.47*ss.clo)+"",ss.head=On[4]+""+On[5],ss.head=Math.round(.47*ss.head)+"",ss.mouth=On[6]+""+On[7],ss.mouth=Math.round(.47*ss.mouth)+"",ss.eyes=On[8]+""+On[9],ss.eyes=Math.round(.47*ss.eyes)+"",ss.top=On[10]+""+On[11],ss.top=Math.round(.47*ss.top)+"",ss){var cs=ss[ls];cs>31?((cs=cs-32+"").length==1&&(cs="0"+cs),ss[ls]=cs+"C"):cs>15?((cs=cs-16+"").length==1&&(cs="0"+cs),ss[ls]=cs+"B"):ss[ls]=(cs+"").length==1?"0"+cs+"A":cs+"A"}var wl=[];for(var ls in ss){var ep=ss[ls].substring(0,2),Al=ss[ls].substring(2,3);ht!==void 0&&(ep=ht.part,Al=ht.theme),wl[ls]=np(ls,ep,Al)}function np(cp,Cp,Lp){var jp=_t[Cp][Lp][cp],nm=At[Cp][cp],zm=/#(.*?);/g,i1=nm.match(zm),d3=nm;if(i1!=null)for(var op=0;op<i1.length;op++)d3=d3.replace(i1[op],jp[op]+";");return d3}return lt&&(wl.env=""),qt+wl.env+wl.head+wl.clo+wl.top+wl.eyes+wl.mouth+Zt}function Ha(ut){return"data:image/svg+xml,"+encodeURIComponent(ut).replace(/'/g,"%27").replace(/"/g,"%22")}var wt={};(function(ut){function lt(Fo,as){if(!Fo)throw as=as||"Assertion failed",typeof Error<"u"?new Error(as):as}var ht=!1,_t=0,At=function(){if(ht)return ht=!1,_t;var Fo=2*Math.random()-1,as=2*Math.random()-1,us=Fo*Fo+as*as;if(us==0||us>1)return At();var xl=Math.sqrt(-2*Math.log(us)/us);return _t=as*xl,ht=!0,Fo*xl},qt=function(Fo,as){return Math.random()*(as-Fo)+Fo},Zt=function(Fo,as){return Math.floor(Math.random()*(as-Fo)+Fo)},cr=function(Fo,as){return Fo+At()*as},Gr=function(Fo){if(typeof Fo>"u"||isNaN(Fo))return[];if(typeof ArrayBuffer>"u"){for(var as=new Array(Fo),us=0;us<Fo;us++)as[us]=0;return as}else return new Float64Array(Fo)},Zr=function(Fo,as){this.n=Fo,this.d=as,this.w=Gr(Fo*as),this.dw=Gr(Fo*as)};Zr.prototype={get:function(Fo,as){var us=this.d*Fo+as;return lt(us>=0&&us<this.w.length),this.w[us]},set:function(Fo,as,us){var xl=this.d*Fo+as;lt(xl>=0&&xl<this.w.length),this.w[xl]=us},setFrom:function(Fo){for(var as=0,us=Fo.length;as<us;as++)this.w[as]=Fo[as]},setColumn:function(Fo,as){for(var us=0,xl=Fo.w.length;us<xl;us++)this.w[this.d*us+as]=Fo.w[us]},toJSON:function(){var Fo={};return Fo.n=this.n,Fo.d=this.d,Fo.w=this.w,Fo},fromJSON:function(Fo){this.n=Fo.n,this.d=Fo.d,this.w=Gr(this.n*this.d),this.dw=Gr(this.n*this.d);for(var as=0,us=this.n*this.d;as<us;as++)this.w[as]=Fo.w[as]}};var xn=function(Fo){var as=new Zr(Fo.n,Fo.d);return as.setFrom(Fo.w),as},On=function(Fo){var as={};for(var us in Fo)Fo.hasOwnProperty(us)&&(as[us]=xn(Fo[us]));return as},ss=function(Fo,as){for(var us=0,xl=Fo.n*Fo.d;us<xl;us++)Fo.dw[us]!==0&&(Fo.w[us]+=-as*Fo.dw[us],Fo.dw[us]=0)},ls=function(Fo,as){for(var us in Fo)Fo.hasOwnProperty(us)&&ss(Fo[us],as)},cs=function(Fo){var as={};for(var us in Fo)Fo.hasOwnProperty(us)&&(as[us]=Fo[us].toJSON());return as},wl=function(Fo){var as={};for(var us in Fo)Fo.hasOwnProperty(us)&&(as[us]=new Zr(1,1),as[us].fromJSON(Fo[us]));return as},ep=function(Fo){for(var as in Fo)if(Fo.hasOwnProperty(as)){var us=Fo[as];Cp(us,0)}},Al=function(Fo){var as=0;for(var us in Fo)if(Fo.hasOwnProperty(us)){var xl=Fo[us];as+=xl.dw.length}var ip=new Zr(as,1),lp=0;for(var us in Fo)if(Fo.hasOwnProperty(us))for(var xl=Fo[us],pu=0,go=xl.dw.length;pu<go;pu++)ip.w[lp]=xl.dw[pu],lp++;return ip},np=function(Fo,as,us,xl){var ip=new Zr(Fo,as);return cp(ip,us,xl),ip},cp=function(Fo,as,us){for(var xl=0,ip=Fo.w.length;xl<ip;xl++)Fo.w[xl]=cr(as,us)},Cp=function(Fo,as){for(var us=0,xl=Fo.dw.length;us<xl;us++)Fo.dw[us]=as},Lp=function(Fo){typeof Fo>"u"&&(Fo=!0),this.needs_backprop=Fo,this.backprop=[]};Lp.prototype={backward:function(){for(var Fo=this.backprop.length-1;Fo>=0;Fo--)this.backprop[Fo]()},rowPluck:function(Fo,as){lt(as>=0&&as<Fo.n);for(var us=Fo.d,xl=new Zr(us,1),ip=0,lp=us;ip<lp;ip++)xl.w[ip]=Fo.w[us*as+ip];if(this.needs_backprop){var pu=function(){for(var go=0,h0=us;go<h0;go++)Fo.dw[us*as+go]+=xl.dw[go]};this.backprop.push(pu)}return xl},tanh:function(Fo){for(var as=new Zr(Fo.n,Fo.d),us=Fo.w.length,xl=0;xl<us;xl++)as.w[xl]=Math.tanh(Fo.w[xl]);if(this.needs_backprop){var ip=function(){for(var lp=0;lp<us;lp++){var pu=as.w[lp];Fo.dw[lp]+=(1-pu*pu)*as.dw[lp]}};this.backprop.push(ip)}return as},sigmoid:function(Fo){for(var as=new Zr(Fo.n,Fo.d),us=Fo.w.length,xl=0;xl<us;xl++)as.w[xl]=d3(Fo.w[xl]);if(this.needs_backprop){var ip=function(){for(var lp=0;lp<us;lp++){var pu=as.w[lp];Fo.dw[lp]+=pu*(1-pu)*as.dw[lp]}};this.backprop.push(ip)}return as},relu:function(Fo){for(var as=new Zr(Fo.n,Fo.d),us=Fo.w.length,xl=0;xl<us;xl++)as.w[xl]=Math.max(0,Fo.w[xl]);if(this.needs_backprop){var ip=function(){for(var lp=0;lp<us;lp++)Fo.dw[lp]+=Fo.w[lp]>0?as.dw[lp]:0};this.backprop.push(ip)}return as},mul:function(Fo,as){lt(Fo.d===as.n,"matmul dimensions misaligned");for(var us=Fo.n,xl=as.d,ip=new Zr(us,xl),lp=0;lp<Fo.n;lp++)for(var pu=0;pu<as.d;pu++){for(var go=0,h0=0;h0<Fo.d;h0++)go+=Fo.w[Fo.d*lp+h0]*as.w[as.d*h0+pu];ip.w[xl*lp+pu]=go}if(this.needs_backprop){var kp=function(){for(var cm=0;cm<Fo.n;cm++)for(var b3=0;b3<as.d;b3++)for(var L_=0;L_<Fo.d;L_++){var Ym=ip.dw[xl*cm+b3];Fo.dw[Fo.d*cm+L_]+=as.w[as.d*L_+b3]*Ym,as.dw[as.d*L_+b3]+=Fo.w[Fo.d*cm+L_]*Ym}};this.backprop.push(kp)}return ip},add:function(Fo,as){lt(Fo.w.length===as.w.length);for(var us=new Zr(Fo.n,Fo.d),xl=0,ip=Fo.w.length;xl<ip;xl++)us.w[xl]=Fo.w[xl]+as.w[xl];if(this.needs_backprop){var lp=function(){for(var pu=0,go=Fo.w.length;pu<go;pu++)Fo.dw[pu]+=us.dw[pu],as.dw[pu]+=us.dw[pu]};this.backprop.push(lp)}return us},dot:function(Fo,as){lt(Fo.w.length===as.w.length);for(var us=new Zr(1,1),xl=0,ip=0,lp=Fo.w.length;ip<lp;ip++)xl+=Fo.w[ip]*as.w[ip];if(us.w[0]=xl,this.needs_backprop){var pu=function(){for(var go=0,h0=Fo.w.length;go<h0;go++)Fo.dw[go]+=as.w[go]*us.dw[0],as.dw[go]+=Fo.w[go]*us.dw[0]};this.backprop.push(pu)}return us},eltmul:function(Fo,as){lt(Fo.w.length===as.w.length);for(var us=new Zr(Fo.n,Fo.d),xl=0,ip=Fo.w.length;xl<ip;xl++)us.w[xl]=Fo.w[xl]*as.w[xl];if(this.needs_backprop){var lp=function(){for(var pu=0,go=Fo.w.length;pu<go;pu++)Fo.dw[pu]+=as.w[pu]*us.dw[pu],as.dw[pu]+=Fo.w[pu]*us.dw[pu]};this.backprop.push(lp)}return us}};var jp=function(Fo){for(var as=new Zr(Fo.n,Fo.d),us=-999999,xl=0,ip=Fo.w.length;xl<ip;xl++)Fo.w[xl]>us&&(us=Fo.w[xl]);for(var lp=0,xl=0,ip=Fo.w.length;xl<ip;xl++)as.w[xl]=Math.exp(Fo.w[xl]-us),lp+=as.w[xl];for(var xl=0,ip=Fo.w.length;xl<ip;xl++)as.w[xl]/=lp;return as},nm=function(){this.decay_rate=.999,this.smooth_eps=1e-8,this.step_cache={}};nm.prototype={step:function(Fo,as,us,xl){var ip={},lp=0,pu=0;for(var go in Fo)if(Fo.hasOwnProperty(go)){var h0=Fo[go];go in this.step_cache||(this.step_cache[go]=new Zr(h0.n,h0.d));for(var kp=this.step_cache[go],cm=0,b3=h0.w.length;cm<b3;cm++){var L_=h0.dw[cm];kp.w[cm]=kp.w[cm]*this.decay_rate+(1-this.decay_rate)*L_*L_,L_>xl&&(L_=xl,lp++),L_<-xl&&(L_=-xl,lp++),pu++,h0.w[cm]+=-as*L_/Math.sqrt(kp.w[cm]+this.smooth_eps)-us*h0.w[cm],h0.dw[cm]=0}}return ip.ratio_clipped=lp*1/pu,ip}};var zm=function(Fo,as,us){for(var xl={},ip=0;ip<as.length;ip++){var lp=ip===0?Fo:as[ip-1],pu=as[ip];xl["Wix"+ip]=new np(pu,lp,0,.08),xl["Wih"+ip]=new np(pu,pu,0,.08),xl["bi"+ip]=new Zr(pu,1),xl["Wfx"+ip]=new np(pu,lp,0,.08),xl["Wfh"+ip]=new np(pu,pu,0,.08),xl["bf"+ip]=new Zr(pu,1),xl["Wox"+ip]=new np(pu,lp,0,.08),xl["Woh"+ip]=new np(pu,pu,0,.08),xl["bo"+ip]=new Zr(pu,1),xl["Wcx"+ip]=new np(pu,lp,0,.08),xl["Wch"+ip]=new np(pu,pu,0,.08),xl["bc"+ip]=new Zr(pu,1)}return xl.Whd=new np(us,pu,0,.08),xl.bd=new Zr(us,1),xl},i1=function(Fo,as,us,xl,ip){if(ip==null||typeof ip.h>"u")for(var pu=[],go=[],lp=0;lp<us.length;lp++)pu.push(new wt.Mat(us[lp],1)),go.push(new wt.Mat(us[lp],1));else var pu=ip.h,go=ip.c;for(var h0=[],kp=[],lp=0;lp<us.length;lp++){var cm=lp===0?xl:h0[lp-1],b3=pu[lp],L_=go[lp],Ym=Fo.mul(as["Wix"+lp],cm),Xm=Fo.mul(as["Wih"+lp],b3),Jm=Fo.sigmoid(Fo.add(Fo.add(Ym,Xm),as["bi"+lp])),$_=Fo.mul(as["Wfx"+lp],cm),j_=Fo.mul(as["Wfh"+lp],b3),h3=Fo.sigmoid(Fo.add(Fo.add($_,j_),as["bf"+lp])),Fp=Fo.mul(as["Wox"+lp],cm),W_=Fo.mul(as["Woh"+lp],b3),t4=Fo.sigmoid(Fo.add(Fo.add(Fp,W_),as["bo"+lp])),Nw=Fo.mul(as["Wcx"+lp],cm),Dp=Fo.mul(as["Wch"+lp],b3),a1=Fo.tanh(Fo.add(Fo.add(Nw,Dp),as["bc"+lp])),zp=Fo.eltmul(h3,L_),v3=Fo.eltmul(Jm,a1),Mw=Fo.add(zp,v3),nw=Fo.eltmul(t4,Fo.tanh(Mw));h0.push(nw),kp.push(Mw)}var n4=Fo.add(Fo.mul(as.Whd,h0[h0.length-1]),as.bd);return{h:h0,c:kp,o:n4}},d3=function(Fo){return 1/(1+Math.exp(-Fo))},op=function(Fo){for(var as=Fo[0],us=0,xl=1,ip=Fo.length;xl<ip;xl++){var lp=Fo[xl];lp>as&&(us=xl,as=lp)}return us},Sn=function(Fo){for(var as=qt(0,1),us=0,xl=0;;){if(us+=Fo[xl],us>as)return xl;xl++}return Fo.length-1};ut.assert=lt,ut.zeros=Gr,ut.maxi=op,ut.samplei=Sn,ut.randi=Zt,ut.randn=cr,ut.softmax=jp,ut.Mat=Zr,ut.RandMat=np,ut.forwardLSTM=i1,ut.initLSTM=zm,ut.updateMat=ss,ut.updateNet=ls,ut.copyMat=xn,ut.copyNet=On,ut.netToJSON=cs,ut.netFromJSON=wl,ut.netZeroGrads=ep,ut.netFlattenGrads=Al,ut.Solver=nm,ut.Graph=Lp})(wt);var l1={};(function(ut){var lt=function(xn,On,ss){return typeof xn>"u"?ss:typeof xn[On]<"u"?xn[On]:ss},ht=wt.zeros,_t=wt.assert,At=wt.randi;wt.randf;var qt=function(xn,On){for(var ss=0,ls=xn.length;ss<ls;ss++)xn[ss]=On},Zt=function(xn){for(var On=Math.random(),ss=0,ls=0,cs=xn.length;ls<cs;ls++)if(ss+=xn[ls],ss>=On)return ls;_t(!1,"wtf")},cr=function(xn,On){this.V=null,this.P=null,this.env=xn,this.gamma=lt(On,"gamma",.75),this.reset()};cr.prototype={reset:function(){this.ns=this.env.getNumStates(),this.na=this.env.getMaxNumActions(),this.V=ht(this.ns),this.P=ht(this.ns*this.na);for(var xn=0;xn<this.ns;xn++)for(var On=this.env.allowedActions(xn),ss=0,ls=On.length;ss<ls;ss++)this.P[On[ss]*this.ns+xn]=1/On.length},act:function(xn){for(var On=this.env.allowedActions(xn),ss=[],ls=0,cs=On.length;ls<cs;ls++){var wl=On[ls],ep=this.P[wl*this.ns+xn];ss.push(ep)}var Al=Zt(ss);return On[Al]},learn:function(){self.evaluatePolicy(),self.updatePolicy()},evaluatePolicy:function(){for(var xn=ht(this.ns),On=0;On<this.ns;On++){for(var ss=0,ls=this.env.allowedActions(On),cs=0,wl=ls.length;cs<wl;cs++){var ep=ls[cs],Al=this.P[ep*this.ns+On];if(Al!==0){var np=this.env.nextStateDistribution(On,ep),cp=this.env.reward(On,ep,np);ss+=Al*(cp+this.gamma*this.V[np])}}xn[On]=ss}this.V=xn},updatePolicy:function(){for(var xn=0;xn<this.ns;xn++){for(var On=this.env.allowedActions(xn),ss,ls,cs=[],wl=0,ep=On.length;wl<ep;wl++){var Al=On[wl],np=this.env.nextStateDistribution(xn,Al),cp=this.env.reward(xn,Al,np),Cp=cp+this.gamma*this.V[np];cs.push(Cp),wl===0||Cp>ss?(ss=Cp,ls=1):Cp===ss&&(ls+=1)}for(var wl=0,ep=On.length;wl<ep;wl++){var Al=On[wl];this.P[Al*this.ns+xn]=cs[wl]===ss?1/ls:0}}}};var Gr=function(xn,On){this.update=lt(On,"update","qlearn"),this.gamma=lt(On,"gamma",.75),this.epsilon=lt(On,"epsilon",.1),this.alpha=lt(On,"alpha",.01),this.smooth_policy_update=lt(On,"smooth_policy_update",!1),this.beta=lt(On,"beta",.01),this.lambda=lt(On,"lambda",0),this.replacing_traces=lt(On,"replacing_traces",!0),this.q_init_val=lt(On,"q_init_val",0),this.planN=lt(On,"planN",0),this.Q=null,this.P=null,this.e=null,this.env_model_s=null,this.env_model_r=null,this.env=xn,this.reset()};Gr.prototype={reset:function(){this.ns=this.env.getNumStates(),this.na=this.env.getMaxNumActions(),this.Q=ht(this.ns*this.na),this.q_init_val!==0&&qt(this.Q,this.q_init_val),this.P=ht(this.ns*this.na),this.e=ht(this.ns*this.na),this.env_model_s=ht(this.ns*this.na),qt(this.env_model_s,-1),this.env_model_r=ht(this.ns*this.na),this.sa_seen=[],this.pq=ht(this.ns*this.na);for(var xn=0;xn<this.ns;xn++)for(var On=this.env.allowedActions(xn),ss=0,ls=On.length;ss<ls;ss++)this.P[On[ss]*this.ns+xn]=1/On.length;this.r0=null,this.s0=null,this.s1=null,this.a0=null,this.a1=null},resetEpisode:function(){},act:function(xn){for(var On=this.env.allowedActions(xn),ss=[],ls=0,cs=On.length;ls<cs;ls++)ss.push(this.P[On[ls]*this.ns+xn]);if(Math.random()<this.epsilon){var wl=On[At(0,On.length)];this.explored=!0}else{var wl=On[Zt(ss)];this.explored=!1}return this.s0=this.s1,this.a0=this.a1,this.s1=xn,this.a1=wl,wl},learn:function(xn){this.r0!=null&&(this.learnFromTuple(this.s0,this.a0,this.r0,this.s1,this.a1,this.lambda),this.planN>0&&(this.updateModel(this.s0,this.a0,this.r0,this.s1),this.plan())),this.r0=xn},updateModel:function(xn,On,ss,ls){var cs=On*this.ns+xn;this.env_model_s[cs]===-1&&this.sa_seen.push(On*this.ns+xn),this.env_model_s[cs]=ls,this.env_model_r[cs]=ss},plan:function(){for(var xn=[],On=0,ss=this.sa_seen.length;On<ss;On++){var ls=this.sa_seen[On],cs=this.pq[ls];cs>1e-5&&xn.push({sa:ls,p:cs})}xn.sort(function(zm,i1){return zm.p<i1.p?1:-1});for(var wl=Math.min(this.planN,xn.length),ep=0;ep<wl;ep++){var Al=xn[ep].sa;this.pq[Al]=0;var np=Al%this.ns,cp=Math.floor(Al/this.ns),Cp=this.env_model_r[Al],Lp=this.env_model_s[Al],nm=-1;if(this.update==="sarsa")var jp=this.env.allowedActions(Lp),nm=jp[At(0,jp.length)];this.learnFromTuple(np,cp,Cp,Lp,nm,0)}},learnFromTuple:function(xn,On,ss,ls,cs,wl){var ep=On*this.ns+xn;if(this.update==="qlearn"){for(var Al=this.env.allowedActions(ls),np=0,cp=0,Cp=Al.length;cp<Cp;cp++){var Lp=Al[cp]*this.ns+ls,jp=this.Q[Lp];(cp===0||jp>np)&&(np=jp)}var zm=ss+this.gamma*np}else if(this.update==="sarsa")var nm=cs*this.ns+ls,zm=ss+this.gamma*this.Q[nm];if(wl>0){this.replacing_traces?this.e[ep]=1:this.e[ep]+=1;for(var i1=wl*this.gamma,d3=ht(this.ns),op=0;op<this.ns;op++)for(var Al=this.env.allowedActions(op),cp=0;cp<Al.length;cp++){var Sn=Al[cp],Fo=Sn*this.ns+op,as=this.e[Fo],us=this.alpha*as*(zm-this.Q[Fo]);this.Q[Fo]+=us,this.updatePriority(op,Sn,us),this.e[Fo]*=i1;var xl=Math.abs(us);xl>d3[op]&&(d3[op]=xl)}for(var op=0;op<this.ns;op++)d3[op]>1e-5&&this.updatePolicy(op);this.explored&&this.update==="qlearn"&&(this.e=ht(this.ns*this.na))}else{var us=this.alpha*(zm-this.Q[ep]);this.Q[ep]+=us,this.updatePriority(xn,On,us),this.updatePolicy(xn)}},updatePriority:function(xn,On,ss){if(ss=Math.abs(ss),!(ss<1e-5)&&this.planN!==0)for(var ls=0;ls<this.ns;ls++)for(var cs=0;cs<this.na;cs++){var wl=cs*this.ns+ls;this.env_model_s[wl]===xn&&(this.pq[wl]+=ss)}},updatePolicy:function(xn){for(var On=this.env.allowedActions(xn),ss,ls,cs=[],wl=0,ep=On.length;wl<ep;wl++){var Al=On[wl],np=this.Q[Al*this.ns+xn];cs.push(np),wl===0||np>ss?(ss=np,ls=1):np===ss&&(ls+=1)}for(var cp=0,wl=0,ep=On.length;wl<ep;wl++){var Al=On[wl],Cp=cs[wl]===ss?1/ls:0,Lp=Al*this.ns+xn;this.smooth_policy_update?(this.P[Lp]+=this.beta*(Cp-this.P[Lp]),cp+=this.P[Lp]):this.P[Lp]=Cp}if(this.smooth_policy_update)for(var wl=0,ep=On.length;wl<ep;wl++){var Al=On[wl];this.P[Al*this.ns+xn]/=cp}}};var Zr=function(xn,On){this.gamma=lt(On,"gamma",.75),this.epsilon=lt(On,"epsilon",.1),this.alpha=lt(On,"alpha",.01),this.experience_add_every=lt(On,"experience_add_every",25),this.experience_size=lt(On,"experience_size",5e3),this.learning_steps_per_iteration=lt(On,"learning_steps_per_iteration",10),this.tderror_clamp=lt(On,"tderror_clamp",1),this.num_hidden_units=lt(On,"num_hidden_units",100),this.env=xn,this.reset()};Zr.prototype={reset:function(){this.nh=this.num_hidden_units,this.ns=this.env.getNumStates(),this.na=this.env.getMaxNumActions(),this.net={},this.net.W1=new wt.RandMat(this.nh,this.ns,0,.01),this.net.b1=new wt.Mat(this.nh,1,0,.01),this.net.W2=new wt.RandMat(this.na,this.nh,0,.01),this.net.b2=new wt.Mat(this.na,1,0,.01),this.exp=[],this.expi=0,this.t=0,this.r0=null,this.s0=null,this.s1=null,this.a0=null,this.a1=null,this.tderror=0},toJSON:function(){var xn={};return xn.nh=this.nh,xn.ns=this.ns,xn.na=this.na,xn.net=wt.netToJSON(this.net),xn},fromJSON:function(xn){this.nh=xn.nh,this.ns=xn.ns,this.na=xn.na,this.net=wt.netFromJSON(xn.net)},forwardQ:function(xn,On,ss){var ls=new wt.Graph(ss),cs=ls.add(ls.mul(xn.W1,On),xn.b1),wl=ls.tanh(cs),ep=ls.add(ls.mul(xn.W2,wl),xn.b2);return this.lastG=ls,ep},act:function(xn){var On=new wt.Mat(this.ns,1);if(On.setFrom(xn),Math.random()<this.epsilon)var ls=At(0,this.na);else var ss=this.forwardQ(this.net,On,!1),ls=wt.maxi(ss.w);return this.s0=this.s1,this.a0=this.a1,this.s1=On,this.a1=ls,ls},learn:function(xn){if(this.r0!=null&&this.alpha>0){var On=this.learnFromTuple(this.s0,this.a0,this.r0,this.s1,this.a1);this.tderror=On,this.t%this.experience_add_every===0&&(this.exp[this.expi]=[this.s0,this.a0,this.r0,this.s1,this.a1],this.expi+=1,this.expi>this.experience_size&&(this.expi=0)),this.t+=1;for(var ss=0;ss<this.learning_steps_per_iteration;ss++){var ls=At(0,this.exp.length),cs=this.exp[ls];this.learnFromTuple(cs[0],cs[1],cs[2],cs[3],cs[4])}}this.r0=xn},learnFromTuple:function(xn,On,ss,ls,cs){var wl=this.forwardQ(this.net,ls,!1),ep=ss+this.gamma*wl.w[wt.maxi(wl.w)],Al=this.forwardQ(this.net,xn,!0),np=Al.w[On]-ep,cp=this.tderror_clamp;return Math.abs(np)>cp&&(np>cp&&(np=cp),np<-cp&&(np=-cp)),Al.dw[On]=np,this.lastG.backward(),wt.updateNet(this.net,this.alpha),np}},ut.DPAgent=cr,ut.TDAgent=Gr,ut.DQNAgent=Zr})(l1);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Jo(ut){return ut+.5|0}const tn=(ut,lt,ht)=>Math.max(Math.min(ut,ht),lt);function io(ut){return tn(Jo(ut*2.55),0,255)}function un(ut){return tn(Jo(ut*255),0,255)}function Nr(ut){return tn(Jo(ut/2.55)/100,0,1)}function bd(ut){return tn(Jo(ut*100),0,100)}const $t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Rc=[..."0123456789ABCDEF"],C3=ut=>Rc[ut&15],T3=ut=>Rc[(ut&240)>>4]+Rc[ut&15],ms=ut=>(ut&240)>>4===(ut&15),O3=ut=>ms(ut.r)&&ms(ut.g)&&ms(ut.b)&&ms(ut.a);function I3(ut){var lt=ut.length,ht;return ut[0]==="#"&&(lt===4||lt===5?ht={r:255&$t[ut[1]]*17,g:255&$t[ut[2]]*17,b:255&$t[ut[3]]*17,a:lt===5?$t[ut[4]]*17:255}:(lt===7||lt===9)&&(ht={r:$t[ut[1]]<<4|$t[ut[2]],g:$t[ut[3]]<<4|$t[ut[4]],b:$t[ut[5]]<<4|$t[ut[6]],a:lt===9?$t[ut[7]]<<4|$t[ut[8]]:255})),ht}const P3=(ut,lt)=>ut<255?lt(ut):"";function R3(ut){var lt=O3(ut)?C3:T3;return ut?"#"+lt(ut.r)+lt(ut.g)+lt(ut.b)+P3(ut.a,lt):void 0}const D3=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function c1(ut,lt,ht){const _t=lt*Math.min(ht,1-ht),At=(qt,Zt=(qt+ut/30)%12)=>ht-_t*Math.max(Math.min(Zt-3,9-Zt,1),-1);return[At(0),At(8),At(4)]}function M3(ut,lt,ht){const _t=(At,qt=(At+ut/60)%6)=>ht-ht*lt*Math.max(Math.min(qt,4-qt,1),0);return[_t(5),_t(3),_t(1)]}function N3(ut,lt,ht){const _t=c1(ut,1,.5);let At;for(lt+ht>1&&(At=1/(lt+ht),lt*=At,ht*=At),At=0;At<3;At++)_t[At]*=1-lt-ht,_t[At]+=lt;return _t}function L3(ut,lt,ht,_t,At){return ut===At?(lt-ht)/_t+(lt<ht?6:0):lt===At?(ht-ut)/_t+2:(ut-lt)/_t+4}function Nu(ut){const lt=ut.r/255,ht=ut.g/255,_t=ut.b/255,At=Math.max(lt,ht,_t),qt=Math.min(lt,ht,_t),Zt=(At+qt)/2;let cr,Gr,Zr;return At!==qt&&(Zr=At-qt,Gr=Zt>.5?Zr/(2-At-qt):Zr/(At+qt),cr=L3(lt,ht,_t,Zr,At),cr=cr*60+.5),[cr|0,Gr||0,Zt]}function Lu(ut,lt,ht,_t){return(Array.isArray(lt)?ut(lt[0],lt[1],lt[2]):ut(lt,ht,_t)).map(un)}function Bu(ut,lt,ht){return Lu(c1,ut,lt,ht)}function B3(ut,lt,ht){return Lu(N3,ut,lt,ht)}function F3(ut,lt,ht){return Lu(M3,ut,lt,ht)}function u1(ut){return(ut%360+360)%360}function j3(ut){const lt=D3.exec(ut);let ht=255,_t;if(!lt)return;lt[5]!==_t&&(ht=lt[6]?io(+lt[5]):un(+lt[5]));const At=u1(+lt[2]),qt=+lt[3]/100,Zt=+lt[4]/100;return lt[1]==="hwb"?_t=B3(At,qt,Zt):lt[1]==="hsv"?_t=F3(At,qt,Zt):_t=Bu(At,qt,Zt),{r:_t[0],g:_t[1],b:_t[2],a:ht}}function W3(ut,lt){var ht=Nu(ut);ht[0]=u1(ht[0]+lt),ht=Bu(ht),ut.r=ht[0],ut.g=ht[1],ut.b=ht[2]}function U3(ut){if(!ut)return;const lt=Nu(ut),ht=lt[0],_t=bd(lt[1]),At=bd(lt[2]);return ut.a<255?`hsla(${ht}, ${_t}%, ${At}%, ${Nr(ut.a)})`:`hsl(${ht}, ${_t}%, ${At}%)`}const vd={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ad={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function z3(){const ut={},lt=Object.keys(Ad),ht=Object.keys(vd);let _t,At,qt,Zt,cr;for(_t=0;_t<lt.length;_t++){for(Zt=cr=lt[_t],At=0;At<ht.length;At++)qt=ht[At],cr=cr.replace(qt,vd[qt]);qt=parseInt(Ad[Zt],16),ut[cr]=[qt>>16&255,qt>>8&255,qt&255]}return ut}let ys;function V3(ut){ys||(ys=z3(),ys.transparent=[0,0,0,0]);const lt=ys[ut.toLowerCase()];return lt&&{r:lt[0],g:lt[1],b:lt[2],a:lt.length===4?lt[3]:255}}const q3=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function H3(ut){const lt=q3.exec(ut);let ht=255,_t,At,qt;if(lt){if(lt[7]!==_t){const Zt=+lt[7];ht=lt[8]?io(Zt):tn(Zt*255,0,255)}return _t=+lt[1],At=+lt[3],qt=+lt[5],_t=255&(lt[2]?io(_t):tn(_t,0,255)),At=255&(lt[4]?io(At):tn(At,0,255)),qt=255&(lt[6]?io(qt):tn(qt,0,255)),{r:_t,g:At,b:qt,a:ht}}}function Y3(ut){return ut&&(ut.a<255?`rgba(${ut.r}, ${ut.g}, ${ut.b}, ${Nr(ut.a)})`:`rgb(${ut.r}, ${ut.g}, ${ut.b})`)}const Vl=ut=>ut<=.0031308?ut*12.92:Math.pow(ut,1/2.4)*1.055-.055,ei=ut=>ut<=.04045?ut/12.92:Math.pow((ut+.055)/1.055,2.4);function K3(ut,lt,ht){const _t=ei(Nr(ut.r)),At=ei(Nr(ut.g)),qt=ei(Nr(ut.b));return{r:un(Vl(_t+ht*(ei(Nr(lt.r))-_t))),g:un(Vl(At+ht*(ei(Nr(lt.g))-At))),b:un(Vl(qt+ht*(ei(Nr(lt.b))-qt))),a:ut.a+ht*(lt.a-ut.a)}}function bs(ut,lt,ht){if(ut){let _t=Nu(ut);_t[lt]=Math.max(0,Math.min(_t[lt]+_t[lt]*ht,lt===0?360:1)),_t=Bu(_t),ut.r=_t[0],ut.g=_t[1],ut.b=_t[2]}}function f1(ut,lt){return ut&&Object.assign(lt||{},ut)}function wd(ut){var lt={r:0,g:0,b:0,a:255};return Array.isArray(ut)?ut.length>=3&&(lt={r:ut[0],g:ut[1],b:ut[2],a:255},ut.length>3&&(lt.a=un(ut[3]))):(lt=f1(ut,{r:0,g:0,b:0,a:1}),lt.a=un(lt.a)),lt}function X3(ut){return ut.charAt(0)==="r"?H3(ut):j3(ut)}class To{constructor(lt){if(lt instanceof To)return lt;const ht=typeof lt;let _t;ht==="object"?_t=wd(lt):ht==="string"&&(_t=I3(lt)||V3(lt)||X3(lt)),this._rgb=_t,this._valid=!!_t}get valid(){return this._valid}get rgb(){var lt=f1(this._rgb);return lt&&(lt.a=Nr(lt.a)),lt}set rgb(lt){this._rgb=wd(lt)}rgbString(){return this._valid?Y3(this._rgb):void 0}hexString(){return this._valid?R3(this._rgb):void 0}hslString(){return this._valid?U3(this._rgb):void 0}mix(lt,ht){if(lt){const _t=this.rgb,At=lt.rgb;let qt;const Zt=ht===qt?.5:ht,cr=2*Zt-1,Gr=_t.a-At.a,Zr=((cr*Gr===-1?cr:(cr+Gr)/(1+cr*Gr))+1)/2;qt=1-Zr,_t.r=255&Zr*_t.r+qt*At.r+.5,_t.g=255&Zr*_t.g+qt*At.g+.5,_t.b=255&Zr*_t.b+qt*At.b+.5,_t.a=Zt*_t.a+(1-Zt)*At.a,this.rgb=_t}return this}interpolate(lt,ht){return lt&&(this._rgb=K3(this._rgb,lt._rgb,ht)),this}clone(){return new To(this.rgb)}alpha(lt){return this._rgb.a=un(lt),this}clearer(lt){const ht=this._rgb;return ht.a*=1-lt,this}greyscale(){const lt=this._rgb,ht=Jo(lt.r*.3+lt.g*.59+lt.b*.11);return lt.r=lt.g=lt.b=ht,this}opaquer(lt){const ht=this._rgb;return ht.a*=1+lt,this}negate(){const lt=this._rgb;return lt.r=255-lt.r,lt.g=255-lt.g,lt.b=255-lt.b,this}lighten(lt){return bs(this._rgb,2,lt),this}darken(lt){return bs(this._rgb,2,-lt),this}saturate(lt){return bs(this._rgb,1,lt),this}desaturate(lt){return bs(this._rgb,1,-lt),this}rotate(lt){return W3(this._rgb,lt),this}}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Pr(){}const J3=(()=>{let ut=0;return()=>ut++})();function We(ut){return ut===null||typeof ut>"u"}function it(ut){if(Array.isArray&&Array.isArray(ut))return!0;const lt=Object.prototype.toString.call(ut);return lt.slice(0,7)==="[object"&&lt.slice(-6)==="Array]"}function Le(ut){return ut!==null&&Object.prototype.toString.call(ut)==="[object Object]"}function pt(ut){return(typeof ut=="number"||ut instanceof Number)&&isFinite(+ut)}function Ht(ut,lt){return pt(ut)?ut:lt}function Oe(ut,lt){return typeof ut>"u"?lt:ut}const Q3=(ut,lt)=>typeof ut=="string"&&ut.endsWith("%")?parseFloat(ut)/100:+ut/lt,d1=(ut,lt)=>typeof ut=="string"&&ut.endsWith("%")?parseFloat(ut)/100*lt:+ut;function nt(ut,lt,ht){if(ut&&typeof ut.call=="function")return ut.apply(ht,lt)}function $e(ut,lt,ht,_t){let At,qt,Zt;if(it(ut))if(qt=ut.length,_t)for(At=qt-1;At>=0;At--)lt.call(ht,ut[At],At);else for(At=0;At<qt;At++)lt.call(ht,ut[At],At);else if(Le(ut))for(Zt=Object.keys(ut),qt=Zt.length,At=0;At<qt;At++)lt.call(ht,ut[Zt[At]],Zt[At])}function ga(ut,lt){let ht,_t,At,qt;if(!ut||!lt||ut.length!==lt.length)return!1;for(ht=0,_t=ut.length;ht<_t;++ht)if(At=ut[ht],qt=lt[ht],At.datasetIndex!==qt.datasetIndex||At.index!==qt.index)return!1;return!0}function ma(ut){if(it(ut))return ut.map(ma);if(Le(ut)){const lt=Object.create(null),ht=Object.keys(ut),_t=ht.length;let At=0;for(;At<_t;++At)lt[ht[At]]=ma(ut[ht[At]]);return lt}return ut}function h1(ut){return["__proto__","prototype","constructor"].indexOf(ut)===-1}function G3(ut,lt,ht,_t){if(!h1(ut))return;const At=lt[ut],qt=ht[ut];Le(At)&&Le(qt)?Oo(At,qt,_t):lt[ut]=ma(qt)}function Oo(ut,lt,ht){const _t=it(lt)?lt:[lt],At=_t.length;if(!Le(ut))return ut;ht=ht||{};const qt=ht.merger||G3;let Zt;for(let cr=0;cr<At;++cr){if(Zt=_t[cr],!Le(Zt))continue;const Gr=Object.keys(Zt);for(let Zr=0,xn=Gr.length;Zr<xn;++Zr)qt(Gr[Zr],ut,Zt,ht)}return ut}function mo(ut,lt){return Oo(ut,lt,{merger:Z3})}function Z3(ut,lt,ht){if(!h1(ut))return;const _t=lt[ut],At=ht[ut];Le(_t)&&Le(At)?mo(_t,At):Object.prototype.hasOwnProperty.call(lt,ut)||(lt[ut]=ma(At))}const xd={"":ut=>ut,x:ut=>ut.x,y:ut=>ut.y};function $3(ut){const lt=ut.split("."),ht=[];let _t="";for(const At of lt)_t+=At,_t.endsWith("\\")?_t=_t.slice(0,-1)+".":(ht.push(_t),_t="");return ht}function e2(ut){const lt=$3(ut);return ht=>{for(const _t of lt){if(_t==="")break;ht=ht&&ht[_t]}return ht}}function pn(ut,lt){return(xd[lt]||(xd[lt]=e2(lt)))(ut)}function Fu(ut){return ut.charAt(0).toUpperCase()+ut.slice(1)}const Io=ut=>typeof ut<"u",gn=ut=>typeof ut=="function",_d=(ut,lt)=>{if(ut.size!==lt.size)return!1;for(const ht of ut)if(!lt.has(ht))return!1;return!0};function t2(ut){return ut.type==="mouseup"||ut.type==="click"||ut.type==="contextmenu"}const st=Math.PI,ot=2*st,r2=ot+st,ya=Number.POSITIVE_INFINITY,n2=st/180,mt=st/2,En=st/4,Sd=st*2/3,rn=Math.log10,Cr=Math.sign;function yo(ut,lt,ht){return Math.abs(ut-lt)<ht}function Ed(ut){const lt=Math.round(ut);ut=yo(ut,lt,ut/1e3)?lt:ut;const ht=Math.pow(10,Math.floor(rn(ut))),_t=ut/ht;return(_t<=1?1:_t<=2?2:_t<=5?5:10)*ht}function i2(ut){const lt=[],ht=Math.sqrt(ut);let _t;for(_t=1;_t<ht;_t++)ut%_t===0&&(lt.push(_t),lt.push(ut/_t));return ht===(ht|0)&&lt.push(ht),lt.sort((At,qt)=>At-qt).pop(),lt}function Ei(ut){return!isNaN(parseFloat(ut))&&isFinite(ut)}function o2(ut,lt){const ht=Math.round(ut);return ht-lt<=ut&&ht+lt>=ut}function p1(ut,lt,ht){let _t,At,qt;for(_t=0,At=ut.length;_t<At;_t++)qt=ut[_t][ht],isNaN(qt)||(lt.min=Math.min(lt.min,qt),lt.max=Math.max(lt.max,qt))}function gr(ut){return ut*(st/180)}function ju(ut){return ut*(180/st)}function kd(ut){if(!pt(ut))return;let lt=1,ht=0;for(;Math.round(ut*lt)/lt!==ut;)lt*=10,ht++;return ht}function g1(ut,lt){const ht=lt.x-ut.x,_t=lt.y-ut.y,At=Math.sqrt(ht*ht+_t*_t);let qt=Math.atan2(_t,ht);return qt<-.5*st&&(qt+=ot),{angle:qt,distance:At}}function Dc(ut,lt){return Math.sqrt(Math.pow(lt.x-ut.x,2)+Math.pow(lt.y-ut.y,2))}function s2(ut,lt){return(ut-lt+r2)%ot-st}function Yt(ut){return(ut%ot+ot)%ot}function Po(ut,lt,ht,_t){const At=Yt(ut),qt=Yt(lt),Zt=Yt(ht),cr=Yt(qt-At),Gr=Yt(Zt-At),Zr=Yt(At-qt),xn=Yt(At-Zt);return At===qt||At===Zt||_t&&qt===Zt||cr>Gr&&Zr<xn}function St(ut,lt,ht){return Math.max(lt,Math.min(ht,ut))}function a2(ut){return St(ut,-32768,32767)}function Wr(ut,lt,ht,_t=1e-6){return ut>=Math.min(lt,ht)-_t&&ut<=Math.max(lt,ht)+_t}function Wu(ut,lt,ht){ht=ht||(Zt=>ut[Zt]<lt);let _t=ut.length-1,At=0,qt;for(;_t-At>1;)qt=At+_t>>1,ht(qt)?At=qt:_t=qt;return{lo:At,hi:_t}}const Ur=(ut,lt,ht,_t)=>Wu(ut,ht,_t?At=>{const qt=ut[At][lt];return qt<ht||qt===ht&&ut[At+1][lt]===ht}:At=>ut[At][lt]<ht),l2=(ut,lt,ht)=>Wu(ut,ht,_t=>ut[_t][lt]>=ht);function c2(ut,lt,ht){let _t=0,At=ut.length;for(;_t<At&&ut[_t]<lt;)_t++;for(;At>_t&&ut[At-1]>ht;)At--;return _t>0||At<ut.length?ut.slice(_t,At):ut}const m1=["push","pop","shift","splice","unshift"];function u2(ut,lt){if(ut._chartjs){ut._chartjs.listeners.push(lt);return}Object.defineProperty(ut,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[lt]}}),m1.forEach(ht=>{const _t="_onData"+Fu(ht),At=ut[ht];Object.defineProperty(ut,ht,{configurable:!0,enumerable:!1,value(...qt){const Zt=At.apply(this,qt);return ut._chartjs.listeners.forEach(cr=>{typeof cr[_t]=="function"&&cr[_t](...qt)}),Zt}})})}function Cd(ut,lt){const ht=ut._chartjs;if(!ht)return;const _t=ht.listeners,At=_t.indexOf(lt);At!==-1&&_t.splice(At,1),!(_t.length>0)&&(m1.forEach(qt=>{delete ut[qt]}),delete ut._chartjs)}function y1(ut){const lt=new Set(ut);return lt.size===ut.length?ut:Array.from(lt)}const b1=function(){return typeof window>"u"?function(ut){return ut()}:window.requestAnimationFrame}();function v1(ut,lt){let ht=[],_t=!1;return function(...At){ht=At,_t||(_t=!0,b1.call(window,()=>{_t=!1,ut.apply(lt,ht)}))}}function f2(ut,lt){let ht;return function(..._t){return lt?(clearTimeout(ht),ht=setTimeout(ut,lt,_t)):ut.apply(this,_t),lt}}const Uu=ut=>ut==="start"?"left":ut==="end"?"right":"center",It=(ut,lt,ht)=>ut==="start"?lt:ut==="end"?ht:(lt+ht)/2,d2=(ut,lt,ht,_t)=>ut===(_t?"left":"right")?ht:ut==="center"?(lt+ht)/2:lt;function A1(ut,lt,ht){const _t=lt.length;let At=0,qt=_t;if(ut._sorted){const{iScale:Zt,_parsed:cr}=ut,Gr=Zt.axis,{min:Zr,max:xn,minDefined:On,maxDefined:ss}=Zt.getUserBounds();On&&(At=St(Math.min(Ur(cr,Gr,Zr).lo,ht?_t:Ur(lt,Gr,Zt.getPixelForValue(Zr)).lo),0,_t-1)),ss?qt=St(Math.max(Ur(cr,Zt.axis,xn,!0).hi+1,ht?0:Ur(lt,Gr,Zt.getPixelForValue(xn),!0).hi+1),At,_t)-At:qt=_t-At}return{start:At,count:qt}}function w1(ut){const{xScale:lt,yScale:ht,_scaleRanges:_t}=ut,At={xmin:lt.min,xmax:lt.max,ymin:ht.min,ymax:ht.max};if(!_t)return ut._scaleRanges=At,!0;const qt=_t.xmin!==lt.min||_t.xmax!==lt.max||_t.ymin!==ht.min||_t.ymax!==ht.max;return Object.assign(_t,At),qt}const vs=ut=>ut===0||ut===1,Td=(ut,lt,ht)=>-(Math.pow(2,10*(ut-=1))*Math.sin((ut-lt)*ot/ht)),Od=(ut,lt,ht)=>Math.pow(2,-10*ut)*Math.sin((ut-lt)*ot/ht)+1,bo={linear:ut=>ut,easeInQuad:ut=>ut*ut,easeOutQuad:ut=>-ut*(ut-2),easeInOutQuad:ut=>(ut/=.5)<1?.5*ut*ut:-.5*(--ut*(ut-2)-1),easeInCubic:ut=>ut*ut*ut,easeOutCubic:ut=>(ut-=1)*ut*ut+1,easeInOutCubic:ut=>(ut/=.5)<1?.5*ut*ut*ut:.5*((ut-=2)*ut*ut+2),easeInQuart:ut=>ut*ut*ut*ut,easeOutQuart:ut=>-((ut-=1)*ut*ut*ut-1),easeInOutQuart:ut=>(ut/=.5)<1?.5*ut*ut*ut*ut:-.5*((ut-=2)*ut*ut*ut-2),easeInQuint:ut=>ut*ut*ut*ut*ut,easeOutQuint:ut=>(ut-=1)*ut*ut*ut*ut+1,easeInOutQuint:ut=>(ut/=.5)<1?.5*ut*ut*ut*ut*ut:.5*((ut-=2)*ut*ut*ut*ut+2),easeInSine:ut=>-Math.cos(ut*mt)+1,easeOutSine:ut=>Math.sin(ut*mt),easeInOutSine:ut=>-.5*(Math.cos(st*ut)-1),easeInExpo:ut=>ut===0?0:Math.pow(2,10*(ut-1)),easeOutExpo:ut=>ut===1?1:-Math.pow(2,-10*ut)+1,easeInOutExpo:ut=>vs(ut)?ut:ut<.5?.5*Math.pow(2,10*(ut*2-1)):.5*(-Math.pow(2,-10*(ut*2-1))+2),easeInCirc:ut=>ut>=1?ut:-(Math.sqrt(1-ut*ut)-1),easeOutCirc:ut=>Math.sqrt(1-(ut-=1)*ut),easeInOutCirc:ut=>(ut/=.5)<1?-.5*(Math.sqrt(1-ut*ut)-1):.5*(Math.sqrt(1-(ut-=2)*ut)+1),easeInElastic:ut=>vs(ut)?ut:Td(ut,.075,.3),easeOutElastic:ut=>vs(ut)?ut:Od(ut,.075,.3),easeInOutElastic(ut){return vs(ut)?ut:ut<.5?.5*Td(ut*2,.1125,.45):.5+.5*Od(ut*2-1,.1125,.45)},easeInBack(ut){return ut*ut*((1.70158+1)*ut-1.70158)},easeOutBack(ut){return(ut-=1)*ut*((1.70158+1)*ut+1.70158)+1},easeInOutBack(ut){let lt=1.70158;return(ut/=.5)<1?.5*(ut*ut*(((lt*=1.525)+1)*ut-lt)):.5*((ut-=2)*ut*(((lt*=1.525)+1)*ut+lt)+2)},easeInBounce:ut=>1-bo.easeOutBounce(1-ut),easeOutBounce(ut){return ut<1/2.75?7.5625*ut*ut:ut<2/2.75?7.5625*(ut-=1.5/2.75)*ut+.75:ut<2.5/2.75?7.5625*(ut-=2.25/2.75)*ut+.9375:7.5625*(ut-=2.625/2.75)*ut+.984375},easeInOutBounce:ut=>ut<.5?bo.easeInBounce(ut*2)*.5:bo.easeOutBounce(ut*2-1)*.5+.5};function zu(ut){if(ut&&typeof ut=="object"){const lt=ut.toString();return lt==="[object CanvasPattern]"||lt==="[object CanvasGradient]"}return!1}function Id(ut){return zu(ut)?ut:new To(ut)}function ql(ut){return zu(ut)?ut:new To(ut).saturate(.5).darken(.1).hexString()}const h2=["x","y","borderWidth","radius","tension"],p2=["color","borderColor","backgroundColor"];function g2(ut){ut.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),ut.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:lt=>lt!=="onProgress"&&lt!=="onComplete"&&lt!=="fn"}),ut.set("animations",{colors:{type:"color",properties:p2},numbers:{type:"number",properties:h2}}),ut.describe("animations",{_fallback:"animation"}),ut.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:lt=>lt|0}}}})}function m2(ut){ut.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Pd=new Map;function y2(ut,lt){lt=lt||{};const ht=ut+JSON.stringify(lt);let _t=Pd.get(ht);return _t||(_t=new Intl.NumberFormat(ut,lt),Pd.set(ht,_t)),_t}function Qo(ut,lt,ht){return y2(lt,ht).format(ut)}const x1={values(ut){return it(ut)?ut:""+ut},numeric(ut,lt,ht){if(ut===0)return"0";const _t=this.chart.options.locale;let At,qt=ut;if(ht.length>1){const Zr=Math.max(Math.abs(ht[0].value),Math.abs(ht[ht.length-1].value));(Zr<1e-4||Zr>1e15)&&(At="scientific"),qt=b2(ut,ht)}const Zt=rn(Math.abs(qt)),cr=isNaN(Zt)?1:Math.max(Math.min(-1*Math.floor(Zt),20),0),Gr={notation:At,minimumFractionDigits:cr,maximumFractionDigits:cr};return Object.assign(Gr,this.options.ticks.format),Qo(ut,_t,Gr)},logarithmic(ut,lt,ht){if(ut===0)return"0";const _t=ht[lt].significand||ut/Math.pow(10,Math.floor(rn(ut)));return[1,2,3,5,10,15].includes(_t)||lt>.8*ht.length?x1.numeric.call(this,ut,lt,ht):""}};function b2(ut,lt){let ht=lt.length>3?lt[2].value-lt[1].value:lt[1].value-lt[0].value;return Math.abs(ht)>=1&&ut!==Math.floor(ut)&&(ht=ut-Math.floor(ut)),ht}var Ya={formatters:x1};function v2(ut){ut.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(lt,ht)=>ht.lineWidth,tickColor:(lt,ht)=>ht.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ya.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),ut.route("scale.ticks","color","","color"),ut.route("scale.grid","color","","borderColor"),ut.route("scale.border","color","","borderColor"),ut.route("scale.title","color","","color"),ut.describe("scale",{_fallback:!1,_scriptable:lt=>!lt.startsWith("before")&&!lt.startsWith("after")&&lt!=="callback"&&lt!=="parser",_indexable:lt=>lt!=="borderDash"&&lt!=="tickBorderDash"&&lt!=="dash"}),ut.describe("scales",{_fallback:"scale"}),ut.describe("scale.ticks",{_scriptable:lt=>lt!=="backdropPadding"&&lt!=="callback",_indexable:lt=>lt!=="backdropPadding"})}const Yn=Object.create(null),Mc=Object.create(null);function vo(ut,lt){if(!lt)return ut;const ht=lt.split(".");for(let _t=0,At=ht.length;_t<At;++_t){const qt=ht[_t];ut=ut[qt]||(ut[qt]=Object.create(null))}return ut}function Hl(ut,lt,ht){return typeof lt=="string"?Oo(vo(ut,lt),ht):Oo(vo(ut,""),lt)}class A2{constructor(lt,ht){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=_t=>_t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(_t,At)=>ql(At.backgroundColor),this.hoverBorderColor=(_t,At)=>ql(At.borderColor),this.hoverColor=(_t,At)=>ql(At.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(lt),this.apply(ht)}set(lt,ht){return Hl(this,lt,ht)}get(lt){return vo(this,lt)}describe(lt,ht){return Hl(Mc,lt,ht)}override(lt,ht){return Hl(Yn,lt,ht)}route(lt,ht,_t,At){const qt=vo(this,lt),Zt=vo(this,_t),cr="_"+ht;Object.defineProperties(qt,{[cr]:{value:qt[ht],writable:!0},[ht]:{enumerable:!0,get(){const Gr=this[cr],Zr=Zt[At];return Le(Gr)?Object.assign({},Zr,Gr):Oe(Gr,Zr)},set(Gr){this[cr]=Gr}}})}apply(lt){lt.forEach(ht=>ht(this))}}var gt=new A2({_scriptable:ut=>!ut.startsWith("on"),_indexable:ut=>ut!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[g2,m2,v2]);function w2(ut){return!ut||We(ut.size)||We(ut.family)?null:(ut.style?ut.style+" ":"")+(ut.weight?ut.weight+" ":"")+ut.size+"px "+ut.family}function ba(ut,lt,ht,_t,At){let qt=lt[At];return qt||(qt=lt[At]=ut.measureText(At).width,ht.push(At)),qt>_t&&(_t=qt),_t}function x2(ut,lt,ht,_t){_t=_t||{};let At=_t.data=_t.data||{},qt=_t.garbageCollect=_t.garbageCollect||[];_t.font!==lt&&(At=_t.data={},qt=_t.garbageCollect=[],_t.font=lt),ut.save(),ut.font=lt;let Zt=0;const cr=ht.length;let Gr,Zr,xn,On,ss;for(Gr=0;Gr<cr;Gr++)if(On=ht[Gr],On!=null&&!it(On))Zt=ba(ut,At,qt,Zt,On);else if(it(On))for(Zr=0,xn=On.length;Zr<xn;Zr++)ss=On[Zr],ss!=null&&!it(ss)&&(Zt=ba(ut,At,qt,Zt,ss));ut.restore();const ls=qt.length/2;if(ls>ht.length){for(Gr=0;Gr<ls;Gr++)delete At[qt[Gr]];qt.splice(0,ls)}return Zt}function kn(ut,lt,ht){const _t=ut.currentDevicePixelRatio,At=ht!==0?Math.max(ht/2,.5):0;return Math.round((lt-At)*_t)/_t+At}function Rd(ut,lt){lt=lt||ut.getContext("2d"),lt.save(),lt.resetTransform(),lt.clearRect(0,0,ut.width,ut.height),lt.restore()}function Nc(ut,lt,ht,_t){_1(ut,lt,ht,_t,null)}function _1(ut,lt,ht,_t,At){let qt,Zt,cr,Gr,Zr,xn,On,ss;const ls=lt.pointStyle,cs=lt.rotation,wl=lt.radius;let ep=(cs||0)*n2;if(ls&&typeof ls=="object"&&(qt=ls.toString(),qt==="[object HTMLImageElement]"||qt==="[object HTMLCanvasElement]")){ut.save(),ut.translate(ht,_t),ut.rotate(ep),ut.drawImage(ls,-ls.width/2,-ls.height/2,ls.width,ls.height),ut.restore();return}if(!(isNaN(wl)||wl<=0)){switch(ut.beginPath(),ls){default:At?ut.ellipse(ht,_t,At/2,wl,0,0,ot):ut.arc(ht,_t,wl,0,ot),ut.closePath();break;case"triangle":xn=At?At/2:wl,ut.moveTo(ht+Math.sin(ep)*xn,_t-Math.cos(ep)*wl),ep+=Sd,ut.lineTo(ht+Math.sin(ep)*xn,_t-Math.cos(ep)*wl),ep+=Sd,ut.lineTo(ht+Math.sin(ep)*xn,_t-Math.cos(ep)*wl),ut.closePath();break;case"rectRounded":Zr=wl*.516,Gr=wl-Zr,Zt=Math.cos(ep+En)*Gr,On=Math.cos(ep+En)*(At?At/2-Zr:Gr),cr=Math.sin(ep+En)*Gr,ss=Math.sin(ep+En)*(At?At/2-Zr:Gr),ut.arc(ht-On,_t-cr,Zr,ep-st,ep-mt),ut.arc(ht+ss,_t-Zt,Zr,ep-mt,ep),ut.arc(ht+On,_t+cr,Zr,ep,ep+mt),ut.arc(ht-ss,_t+Zt,Zr,ep+mt,ep+st),ut.closePath();break;case"rect":if(!cs){Gr=Math.SQRT1_2*wl,xn=At?At/2:Gr,ut.rect(ht-xn,_t-Gr,2*xn,2*Gr);break}ep+=En;case"rectRot":On=Math.cos(ep)*(At?At/2:wl),Zt=Math.cos(ep)*wl,cr=Math.sin(ep)*wl,ss=Math.sin(ep)*(At?At/2:wl),ut.moveTo(ht-On,_t-cr),ut.lineTo(ht+ss,_t-Zt),ut.lineTo(ht+On,_t+cr),ut.lineTo(ht-ss,_t+Zt),ut.closePath();break;case"crossRot":ep+=En;case"cross":On=Math.cos(ep)*(At?At/2:wl),Zt=Math.cos(ep)*wl,cr=Math.sin(ep)*wl,ss=Math.sin(ep)*(At?At/2:wl),ut.moveTo(ht-On,_t-cr),ut.lineTo(ht+On,_t+cr),ut.moveTo(ht+ss,_t-Zt),ut.lineTo(ht-ss,_t+Zt);break;case"star":On=Math.cos(ep)*(At?At/2:wl),Zt=Math.cos(ep)*wl,cr=Math.sin(ep)*wl,ss=Math.sin(ep)*(At?At/2:wl),ut.moveTo(ht-On,_t-cr),ut.lineTo(ht+On,_t+cr),ut.moveTo(ht+ss,_t-Zt),ut.lineTo(ht-ss,_t+Zt),ep+=En,On=Math.cos(ep)*(At?At/2:wl),Zt=Math.cos(ep)*wl,cr=Math.sin(ep)*wl,ss=Math.sin(ep)*(At?At/2:wl),ut.moveTo(ht-On,_t-cr),ut.lineTo(ht+On,_t+cr),ut.moveTo(ht+ss,_t-Zt),ut.lineTo(ht-ss,_t+Zt);break;case"line":Zt=At?At/2:Math.cos(ep)*wl,cr=Math.sin(ep)*wl,ut.moveTo(ht-Zt,_t-cr),ut.lineTo(ht+Zt,_t+cr);break;case"dash":ut.moveTo(ht,_t),ut.lineTo(ht+Math.cos(ep)*(At?At/2:wl),_t+Math.sin(ep)*wl);break;case!1:ut.closePath();break}ut.fill(),lt.borderWidth>0&&ut.stroke()}}function zr(ut,lt,ht){return ht=ht||.5,!lt||ut&&ut.x>lt.left-ht&&ut.x<lt.right+ht&&ut.y>lt.top-ht&&ut.y<lt.bottom+ht}function Ka(ut,lt){ut.save(),ut.beginPath(),ut.rect(lt.left,lt.top,lt.right-lt.left,lt.bottom-lt.top),ut.clip()}function Xa(ut){ut.restore()}function _2(ut,lt,ht,_t,At){if(!lt)return ut.lineTo(ht.x,ht.y);if(At==="middle"){const qt=(lt.x+ht.x)/2;ut.lineTo(qt,lt.y),ut.lineTo(qt,ht.y)}else At==="after"!=!!_t?ut.lineTo(lt.x,ht.y):ut.lineTo(ht.x,lt.y);ut.lineTo(ht.x,ht.y)}function S2(ut,lt,ht,_t){if(!lt)return ut.lineTo(ht.x,ht.y);ut.bezierCurveTo(_t?lt.cp1x:lt.cp2x,_t?lt.cp1y:lt.cp2y,_t?ht.cp2x:ht.cp1x,_t?ht.cp2y:ht.cp1y,ht.x,ht.y)}function E2(ut,lt){lt.translation&&ut.translate(lt.translation[0],lt.translation[1]),We(lt.rotation)||ut.rotate(lt.rotation),lt.color&&(ut.fillStyle=lt.color),lt.textAlign&&(ut.textAlign=lt.textAlign),lt.textBaseline&&(ut.textBaseline=lt.textBaseline)}function k2(ut,lt,ht,_t,At){if(At.strikethrough||At.underline){const qt=ut.measureText(_t),Zt=lt-qt.actualBoundingBoxLeft,cr=lt+qt.actualBoundingBoxRight,Gr=ht-qt.actualBoundingBoxAscent,Zr=ht+qt.actualBoundingBoxDescent,xn=At.strikethrough?(Gr+Zr)/2:Zr;ut.strokeStyle=ut.fillStyle,ut.beginPath(),ut.lineWidth=At.decorationWidth||2,ut.moveTo(Zt,xn),ut.lineTo(cr,xn),ut.stroke()}}function C2(ut,lt){const ht=ut.fillStyle;ut.fillStyle=lt.color,ut.fillRect(lt.left,lt.top,lt.width,lt.height),ut.fillStyle=ht}function Kn(ut,lt,ht,_t,At,qt={}){const Zt=it(lt)?lt:[lt],cr=qt.strokeWidth>0&&qt.strokeColor!=="";let Gr,Zr;for(ut.save(),ut.font=At.string,E2(ut,qt),Gr=0;Gr<Zt.length;++Gr)Zr=Zt[Gr],qt.backdrop&&C2(ut,qt.backdrop),cr&&(qt.strokeColor&&(ut.strokeStyle=qt.strokeColor),We(qt.strokeWidth)||(ut.lineWidth=qt.strokeWidth),ut.strokeText(Zr,ht,_t,qt.maxWidth)),ut.fillText(Zr,ht,_t,qt.maxWidth),k2(ut,ht,_t,Zr,qt),_t+=Number(At.lineHeight);ut.restore()}function Ro(ut,lt){const{x:ht,y:_t,w:At,h:qt,radius:Zt}=lt;ut.arc(ht+Zt.topLeft,_t+Zt.topLeft,Zt.topLeft,1.5*st,st,!0),ut.lineTo(ht,_t+qt-Zt.bottomLeft),ut.arc(ht+Zt.bottomLeft,_t+qt-Zt.bottomLeft,Zt.bottomLeft,st,mt,!0),ut.lineTo(ht+At-Zt.bottomRight,_t+qt),ut.arc(ht+At-Zt.bottomRight,_t+qt-Zt.bottomRight,Zt.bottomRight,mt,0,!0),ut.lineTo(ht+At,_t+Zt.topRight),ut.arc(ht+At-Zt.topRight,_t+Zt.topRight,Zt.topRight,0,-mt,!0),ut.lineTo(ht+Zt.topLeft,_t)}const T2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,O2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function I2(ut,lt){const ht=(""+ut).match(T2);if(!ht||ht[1]==="normal")return lt*1.2;switch(ut=+ht[2],ht[3]){case"px":return ut;case"%":ut/=100;break}return lt*ut}const P2=ut=>+ut||0;function Vu(ut,lt){const ht={},_t=Le(lt),At=_t?Object.keys(lt):lt,qt=Le(ut)?_t?Zt=>Oe(ut[Zt],ut[lt[Zt]]):Zt=>ut[Zt]:()=>ut;for(const Zt of At)ht[Zt]=P2(qt(Zt));return ht}function S1(ut){return Vu(ut,{top:"y",right:"x",bottom:"y",left:"x"})}function Fn(ut){return Vu(ut,["topLeft","topRight","bottomLeft","bottomRight"])}function Mt(ut){const lt=S1(ut);return lt.width=lt.left+lt.right,lt.height=lt.top+lt.bottom,lt}function vt(ut,lt){ut=ut||{},lt=lt||gt.font;let ht=Oe(ut.size,lt.size);typeof ht=="string"&&(ht=parseInt(ht,10));let _t=Oe(ut.style,lt.style);_t&&!(""+_t).match(O2)&&(console.warn('Invalid font style specified: "'+_t+'"'),_t=void 0);const At={family:Oe(ut.family,lt.family),lineHeight:I2(Oe(ut.lineHeight,lt.lineHeight),ht),size:ht,style:_t,weight:Oe(ut.weight,lt.weight),string:""};return At.string=w2(At),At}function oo(ut,lt,ht,_t){let At=!0,qt,Zt,cr;for(qt=0,Zt=ut.length;qt<Zt;++qt)if(cr=ut[qt],cr!==void 0&&(lt!==void 0&&typeof cr=="function"&&(cr=cr(lt),At=!1),ht!==void 0&&it(cr)&&(cr=cr[ht%cr.length],At=!1),cr!==void 0))return _t&&!At&&(_t.cacheable=!1),cr}function R2(ut,lt,ht){const{min:_t,max:At}=ut,qt=d1(lt,(At-_t)/2),Zt=(cr,Gr)=>ht&&cr===0?0:cr+Gr;return{min:Zt(_t,-Math.abs(qt)),max:Zt(At,qt)}}function vn(ut,lt){return Object.assign(Object.create(ut),lt)}function qu(ut,lt=[""],ht,_t,At=()=>ut[0]){const qt=ht||ut;typeof _t>"u"&&(_t=T1("_fallback",ut));const Zt={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:ut,_rootScopes:qt,_fallback:_t,_getTarget:At,override:cr=>qu([cr,...ut],lt,qt,_t)};return new Proxy(Zt,{deleteProperty(cr,Gr){return delete cr[Gr],delete cr._keys,delete ut[0][Gr],!0},get(cr,Gr){return k1(cr,Gr,()=>W2(Gr,lt,ut,cr))},getOwnPropertyDescriptor(cr,Gr){return Reflect.getOwnPropertyDescriptor(cr._scopes[0],Gr)},getPrototypeOf(){return Reflect.getPrototypeOf(ut[0])},has(cr,Gr){return Md(cr).includes(Gr)},ownKeys(cr){return Md(cr)},set(cr,Gr,Zr){const xn=cr._storage||(cr._storage=At());return cr[Gr]=xn[Gr]=Zr,delete cr._keys,!0}})}function ki(ut,lt,ht,_t){const At={_cacheable:!1,_proxy:ut,_context:lt,_subProxy:ht,_stack:new Set,_descriptors:E1(ut,_t),setContext:qt=>ki(ut,qt,ht,_t),override:qt=>ki(ut.override(qt),lt,ht,_t)};return new Proxy(At,{deleteProperty(qt,Zt){return delete qt[Zt],delete ut[Zt],!0},get(qt,Zt,cr){return k1(qt,Zt,()=>M2(qt,Zt,cr))},getOwnPropertyDescriptor(qt,Zt){return qt._descriptors.allKeys?Reflect.has(ut,Zt)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(ut,Zt)},getPrototypeOf(){return Reflect.getPrototypeOf(ut)},has(qt,Zt){return Reflect.has(ut,Zt)},ownKeys(){return Reflect.ownKeys(ut)},set(qt,Zt,cr){return ut[Zt]=cr,delete qt[Zt],!0}})}function E1(ut,lt={scriptable:!0,indexable:!0}){const{_scriptable:ht=lt.scriptable,_indexable:_t=lt.indexable,_allKeys:At=lt.allKeys}=ut;return{allKeys:At,scriptable:ht,indexable:_t,isScriptable:gn(ht)?ht:()=>ht,isIndexable:gn(_t)?_t:()=>_t}}const D2=(ut,lt)=>ut?ut+Fu(lt):lt,Hu=(ut,lt)=>Le(lt)&&ut!=="adapters"&&(Object.getPrototypeOf(lt)===null||lt.constructor===Object);function k1(ut,lt,ht){if(Object.prototype.hasOwnProperty.call(ut,lt))return ut[lt];const _t=ht();return ut[lt]=_t,_t}function M2(ut,lt,ht){const{_proxy:_t,_context:At,_subProxy:qt,_descriptors:Zt}=ut;let cr=_t[lt];return gn(cr)&&Zt.isScriptable(lt)&&(cr=N2(lt,cr,ut,ht)),it(cr)&&cr.length&&(cr=L2(lt,cr,ut,Zt.isIndexable)),Hu(lt,cr)&&(cr=ki(cr,At,qt&&qt[lt],Zt)),cr}function N2(ut,lt,ht,_t){const{_proxy:At,_context:qt,_subProxy:Zt,_stack:cr}=ht;if(cr.has(ut))throw new Error("Recursion detected: "+Array.from(cr).join("->")+"->"+ut);cr.add(ut);let Gr=lt(qt,Zt||_t);return cr.delete(ut),Hu(ut,Gr)&&(Gr=Yu(At._scopes,At,ut,Gr)),Gr}function L2(ut,lt,ht,_t){const{_proxy:At,_context:qt,_subProxy:Zt,_descriptors:cr}=ht;if(typeof qt.index<"u"&&_t(ut))return lt[qt.index%lt.length];if(Le(lt[0])){const Gr=lt,Zr=At._scopes.filter(xn=>xn!==Gr);lt=[];for(const xn of Gr){const On=Yu(Zr,At,ut,xn);lt.push(ki(On,qt,Zt&&Zt[ut],cr))}}return lt}function C1(ut,lt,ht){return gn(ut)?ut(lt,ht):ut}const B2=(ut,lt)=>ut===!0?lt:typeof ut=="string"?pn(lt,ut):void 0;function F2(ut,lt,ht,_t,At){for(const qt of lt){const Zt=B2(ht,qt);if(Zt){ut.add(Zt);const cr=C1(Zt._fallback,ht,At);if(typeof cr<"u"&&cr!==ht&&cr!==_t)return cr}else if(Zt===!1&&typeof _t<"u"&&ht!==_t)return null}return!1}function Yu(ut,lt,ht,_t){const At=lt._rootScopes,qt=C1(lt._fallback,ht,_t),Zt=[...ut,...At],cr=new Set;cr.add(_t);let Gr=Dd(cr,Zt,ht,qt||ht,_t);return Gr===null||typeof qt<"u"&&qt!==ht&&(Gr=Dd(cr,Zt,qt,Gr,_t),Gr===null)?!1:qu(Array.from(cr),[""],At,qt,()=>j2(lt,ht,_t))}function Dd(ut,lt,ht,_t,At){for(;ht;)ht=F2(ut,lt,ht,_t,At);return ht}function j2(ut,lt,ht){const _t=ut._getTarget();lt in _t||(_t[lt]={});const At=_t[lt];return it(At)&&Le(ht)?ht:At||{}}function W2(ut,lt,ht,_t){let At;for(const qt of lt)if(At=T1(D2(qt,ut),ht),typeof At<"u")return Hu(ut,At)?Yu(ht,_t,ut,At):At}function T1(ut,lt){for(const ht of lt){if(!ht)continue;const _t=ht[ut];if(typeof _t<"u")return _t}}function Md(ut){let lt=ut._keys;return lt||(lt=ut._keys=U2(ut._scopes)),lt}function U2(ut){const lt=new Set;for(const ht of ut)for(const _t of Object.keys(ht).filter(At=>!At.startsWith("_")))lt.add(_t);return Array.from(lt)}function O1(ut,lt,ht,_t){const{iScale:At}=ut,{key:qt="r"}=this._parsing,Zt=new Array(_t);let cr,Gr,Zr,xn;for(cr=0,Gr=_t;cr<Gr;++cr)Zr=cr+ht,xn=lt[Zr],Zt[cr]={r:At.parse(pn(xn,qt),Zr)};return Zt}const z2=Number.EPSILON||1e-14,Ci=(ut,lt)=>lt<ut.length&&!ut[lt].skip&&ut[lt],I1=ut=>ut==="x"?"y":"x";function V2(ut,lt,ht,_t){const At=ut.skip?lt:ut,qt=lt,Zt=ht.skip?lt:ht,cr=Dc(qt,At),Gr=Dc(Zt,qt);let Zr=cr/(cr+Gr),xn=Gr/(cr+Gr);Zr=isNaN(Zr)?0:Zr,xn=isNaN(xn)?0:xn;const On=_t*Zr,ss=_t*xn;return{previous:{x:qt.x-On*(Zt.x-At.x),y:qt.y-On*(Zt.y-At.y)},next:{x:qt.x+ss*(Zt.x-At.x),y:qt.y+ss*(Zt.y-At.y)}}}function q2(ut,lt,ht){const _t=ut.length;let At,qt,Zt,cr,Gr,Zr=Ci(ut,0);for(let xn=0;xn<_t-1;++xn)if(Gr=Zr,Zr=Ci(ut,xn+1),!(!Gr||!Zr)){if(yo(lt[xn],0,z2)){ht[xn]=ht[xn+1]=0;continue}At=ht[xn]/lt[xn],qt=ht[xn+1]/lt[xn],cr=Math.pow(At,2)+Math.pow(qt,2),!(cr<=9)&&(Zt=3/Math.sqrt(cr),ht[xn]=At*Zt*lt[xn],ht[xn+1]=qt*Zt*lt[xn])}}function H2(ut,lt,ht="x"){const _t=I1(ht),At=ut.length;let qt,Zt,cr,Gr=Ci(ut,0);for(let Zr=0;Zr<At;++Zr){if(Zt=cr,cr=Gr,Gr=Ci(ut,Zr+1),!cr)continue;const xn=cr[ht],On=cr[_t];Zt&&(qt=(xn-Zt[ht])/3,cr[`cp1${ht}`]=xn-qt,cr[`cp1${_t}`]=On-qt*lt[Zr]),Gr&&(qt=(Gr[ht]-xn)/3,cr[`cp2${ht}`]=xn+qt,cr[`cp2${_t}`]=On+qt*lt[Zr])}}function Y2(ut,lt="x"){const ht=I1(lt),_t=ut.length,At=Array(_t).fill(0),qt=Array(_t);let Zt,cr,Gr,Zr=Ci(ut,0);for(Zt=0;Zt<_t;++Zt)if(cr=Gr,Gr=Zr,Zr=Ci(ut,Zt+1),!!Gr){if(Zr){const xn=Zr[lt]-Gr[lt];At[Zt]=xn!==0?(Zr[ht]-Gr[ht])/xn:0}qt[Zt]=cr?Zr?Cr(At[Zt-1])!==Cr(At[Zt])?0:(At[Zt-1]+At[Zt])/2:At[Zt-1]:At[Zt]}q2(ut,At,qt),H2(ut,qt,lt)}function As(ut,lt,ht){return Math.max(Math.min(ut,ht),lt)}function K2(ut,lt){let ht,_t,At,qt,Zt,cr=zr(ut[0],lt);for(ht=0,_t=ut.length;ht<_t;++ht)Zt=qt,qt=cr,cr=ht<_t-1&&zr(ut[ht+1],lt),qt&&(At=ut[ht],Zt&&(At.cp1x=As(At.cp1x,lt.left,lt.right),At.cp1y=As(At.cp1y,lt.top,lt.bottom)),cr&&(At.cp2x=As(At.cp2x,lt.left,lt.right),At.cp2y=As(At.cp2y,lt.top,lt.bottom)))}function X2(ut,lt,ht,_t,At){let qt,Zt,cr,Gr;if(lt.spanGaps&&(ut=ut.filter(Zr=>!Zr.skip)),lt.cubicInterpolationMode==="monotone")Y2(ut,At);else{let Zr=_t?ut[ut.length-1]:ut[0];for(qt=0,Zt=ut.length;qt<Zt;++qt)cr=ut[qt],Gr=V2(Zr,cr,ut[Math.min(qt+1,Zt-(_t?0:1))%Zt],lt.tension),cr.cp1x=Gr.previous.x,cr.cp1y=Gr.previous.y,cr.cp2x=Gr.next.x,cr.cp2y=Gr.next.y,Zr=cr}lt.capBezierPoints&&K2(ut,ht)}function P1(){return typeof window<"u"&&typeof document<"u"}function Ku(ut){let lt=ut.parentNode;return lt&&lt.toString()==="[object ShadowRoot]"&&(lt=lt.host),lt}function va(ut,lt,ht){let _t;return typeof ut=="string"?(_t=parseInt(ut,10),ut.indexOf("%")!==-1&&(_t=_t/100*lt.parentNode[ht])):_t=ut,_t}const Ja=ut=>ut.ownerDocument.defaultView.getComputedStyle(ut,null);function J2(ut,lt){return Ja(ut).getPropertyValue(lt)}const Q2=["top","right","bottom","left"];function jn(ut,lt,ht){const _t={};ht=ht?"-"+ht:"";for(let At=0;At<4;At++){const qt=Q2[At];_t[qt]=parseFloat(ut[lt+"-"+qt+ht])||0}return _t.width=_t.left+_t.right,_t.height=_t.top+_t.bottom,_t}const G2=(ut,lt,ht)=>(ut>0||lt>0)&&(!ht||!ht.shadowRoot);function Z2(ut,lt){const ht=ut.touches,_t=ht&&ht.length?ht[0]:ut,{offsetX:At,offsetY:qt}=_t;let Zt=!1,cr,Gr;if(G2(At,qt,ut.target))cr=At,Gr=qt;else{const Zr=lt.getBoundingClientRect();cr=_t.clientX-Zr.left,Gr=_t.clientY-Zr.top,Zt=!0}return{x:cr,y:Gr,box:Zt}}function Pn(ut,lt){if("native"in ut)return ut;const{canvas:ht,currentDevicePixelRatio:_t}=lt,At=Ja(ht),qt=At.boxSizing==="border-box",Zt=jn(At,"padding"),cr=jn(At,"border","width"),{x:Gr,y:Zr,box:xn}=Z2(ut,ht),On=Zt.left+(xn&&cr.left),ss=Zt.top+(xn&&cr.top);let{width:ls,height:cs}=lt;return qt&&(ls-=Zt.width+cr.width,cs-=Zt.height+cr.height),{x:Math.round((Gr-On)/ls*ht.width/_t),y:Math.round((Zr-ss)/cs*ht.height/_t)}}function $2(ut,lt,ht){let _t,At;if(lt===void 0||ht===void 0){const qt=Ku(ut);if(!qt)lt=ut.clientWidth,ht=ut.clientHeight;else{const Zt=qt.getBoundingClientRect(),cr=Ja(qt),Gr=jn(cr,"border","width"),Zr=jn(cr,"padding");lt=Zt.width-Zr.width-Gr.width,ht=Zt.height-Zr.height-Gr.height,_t=va(cr.maxWidth,qt,"clientWidth"),At=va(cr.maxHeight,qt,"clientHeight")}}return{width:lt,height:ht,maxWidth:_t||ya,maxHeight:At||ya}}const ws=ut=>Math.round(ut*10)/10;function ev(ut,lt,ht,_t){const At=Ja(ut),qt=jn(At,"margin"),Zt=va(At.maxWidth,ut,"clientWidth")||ya,cr=va(At.maxHeight,ut,"clientHeight")||ya,Gr=$2(ut,lt,ht);let{width:Zr,height:xn}=Gr;if(At.boxSizing==="content-box"){const On=jn(At,"border","width"),ss=jn(At,"padding");Zr-=ss.width+On.width,xn-=ss.height+On.height}return Zr=Math.max(0,Zr-qt.width),xn=Math.max(0,_t?Zr/_t:xn-qt.height),Zr=ws(Math.min(Zr,Zt,Gr.maxWidth)),xn=ws(Math.min(xn,cr,Gr.maxHeight)),Zr&&!xn&&(xn=ws(Zr/2)),(lt!==void 0||ht!==void 0)&&_t&&Gr.height&&xn>Gr.height&&(xn=Gr.height,Zr=ws(Math.floor(xn*_t))),{width:Zr,height:xn}}function Nd(ut,lt,ht){const _t=lt||1,At=Math.floor(ut.height*_t),qt=Math.floor(ut.width*_t);ut.height=Math.floor(ut.height),ut.width=Math.floor(ut.width);const Zt=ut.canvas;return Zt.style&&(ht||!Zt.style.height&&!Zt.style.width)&&(Zt.style.height=`${ut.height}px`,Zt.style.width=`${ut.width}px`),ut.currentDevicePixelRatio!==_t||Zt.height!==At||Zt.width!==qt?(ut.currentDevicePixelRatio=_t,Zt.height=At,Zt.width=qt,ut.ctx.setTransform(_t,0,0,_t,0,0),!0):!1}const tv=function(){let ut=!1;try{const lt={get passive(){return ut=!0,!1}};window.addEventListener("test",null,lt),window.removeEventListener("test",null,lt)}catch{}return ut}();function Ld(ut,lt){const ht=J2(ut,lt),_t=ht&&ht.match(/^(\d+)(\.\d+)?px$/);return _t?+_t[1]:void 0}function Rn(ut,lt,ht,_t){return{x:ut.x+ht*(lt.x-ut.x),y:ut.y+ht*(lt.y-ut.y)}}function rv(ut,lt,ht,_t){return{x:ut.x+ht*(lt.x-ut.x),y:_t==="middle"?ht<.5?ut.y:lt.y:_t==="after"?ht<1?ut.y:lt.y:ht>0?lt.y:ut.y}}function nv(ut,lt,ht,_t){const At={x:ut.cp2x,y:ut.cp2y},qt={x:lt.cp1x,y:lt.cp1y},Zt=Rn(ut,At,ht),cr=Rn(At,qt,ht),Gr=Rn(qt,lt,ht),Zr=Rn(Zt,cr,ht),xn=Rn(cr,Gr,ht);return Rn(Zr,xn,ht)}const iv=function(ut,lt){return{x(ht){return ut+ut+lt-ht},setWidth(ht){lt=ht},textAlign(ht){return ht==="center"?ht:ht==="right"?"left":"right"},xPlus(ht,_t){return ht-_t},leftForLtr(ht,_t){return ht-_t}}},ov=function(){return{x(ut){return ut},setWidth(ut){},textAlign(ut){return ut},xPlus(ut,lt){return ut+lt},leftForLtr(ut,lt){return ut}}};function bi(ut,lt,ht){return ut?iv(lt,ht):ov()}function R1(ut,lt){let ht,_t;(lt==="ltr"||lt==="rtl")&&(ht=ut.canvas.style,_t=[ht.getPropertyValue("direction"),ht.getPropertyPriority("direction")],ht.setProperty("direction",lt,"important"),ut.prevTextDirection=_t)}function D1(ut,lt){lt!==void 0&&(delete ut.prevTextDirection,ut.canvas.style.setProperty("direction",lt[0],lt[1]))}function M1(ut){return ut==="angle"?{between:Po,compare:s2,normalize:Yt}:{between:Wr,compare:(lt,ht)=>lt-ht,normalize:lt=>lt}}function Bd({start:ut,end:lt,count:ht,loop:_t,style:At}){return{start:ut%ht,end:lt%ht,loop:_t&&(lt-ut+1)%ht===0,style:At}}function sv(ut,lt,ht){const{property:_t,start:At,end:qt}=ht,{between:Zt,normalize:cr}=M1(_t),Gr=lt.length;let{start:Zr,end:xn,loop:On}=ut,ss,ls;if(On){for(Zr+=Gr,xn+=Gr,ss=0,ls=Gr;ss<ls&&Zt(cr(lt[Zr%Gr][_t]),At,qt);++ss)Zr--,xn--;Zr%=Gr,xn%=Gr}return xn<Zr&&(xn+=Gr),{start:Zr,end:xn,loop:On,style:ut.style}}function N1(ut,lt,ht){if(!ht)return[ut];const{property:_t,start:At,end:qt}=ht,Zt=lt.length,{compare:cr,between:Gr,normalize:Zr}=M1(_t),{start:xn,end:On,loop:ss,style:ls}=sv(ut,lt,ht),cs=[];let wl=!1,ep=null,Al,np,cp;const Cp=()=>Gr(At,cp,Al)&&cr(At,cp)!==0,Lp=()=>cr(qt,Al)===0||Gr(qt,cp,Al),jp=()=>wl||Cp(),nm=()=>!wl||Lp();for(let zm=xn,i1=xn;zm<=On;++zm)np=lt[zm%Zt],!np.skip&&(Al=Zr(np[_t]),Al!==cp&&(wl=Gr(Al,At,qt),ep===null&&jp()&&(ep=cr(Al,At)===0?zm:i1),ep!==null&&nm()&&(cs.push(Bd({start:ep,end:zm,loop:ss,count:Zt,style:ls})),ep=null),i1=zm,cp=Al));return ep!==null&&cs.push(Bd({start:ep,end:On,loop:ss,count:Zt,style:ls})),cs}function L1(ut,lt){const ht=[],_t=ut.segments;for(let At=0;At<_t.length;At++){const qt=N1(_t[At],ut.points,lt);qt.length&&ht.push(...qt)}return ht}function av(ut,lt,ht,_t){let At=0,qt=lt-1;if(ht&&!_t)for(;At<lt&&!ut[At].skip;)At++;for(;At<lt&&ut[At].skip;)At++;for(At%=lt,ht&&(qt+=At);qt>At&&ut[qt%lt].skip;)qt--;return qt%=lt,{start:At,end:qt}}function lv(ut,lt,ht,_t){const At=ut.length,qt=[];let Zt=lt,cr=ut[lt],Gr;for(Gr=lt+1;Gr<=ht;++Gr){const Zr=ut[Gr%At];Zr.skip||Zr.stop?cr.skip||(_t=!1,qt.push({start:lt%At,end:(Gr-1)%At,loop:_t}),lt=Zt=Zr.stop?Gr:null):(Zt=Gr,cr.skip&&(lt=Gr)),cr=Zr}return Zt!==null&&qt.push({start:lt%At,end:Zt%At,loop:_t}),qt}function cv(ut,lt){const ht=ut.points,_t=ut.options.spanGaps,At=ht.length;if(!At)return[];const qt=!!ut._loop,{start:Zt,end:cr}=av(ht,At,qt,_t);if(_t===!0)return Fd(ut,[{start:Zt,end:cr,loop:qt}],ht,lt);const Gr=cr<Zt?cr+At:cr,Zr=!!ut._fullLoop&&Zt===0&&cr===At-1;return Fd(ut,lv(ht,Zt,Gr,Zr),ht,lt)}function Fd(ut,lt,ht,_t){return!_t||!_t.setContext||!ht?lt:uv(ut,lt,ht,_t)}function uv(ut,lt,ht,_t){const At=ut._chart.getContext(),qt=jd(ut.options),{_datasetIndex:Zt,options:{spanGaps:cr}}=ut,Gr=ht.length,Zr=[];let xn=qt,On=lt[0].start,ss=On;function ls(cs,wl,ep,Al){const np=cr?-1:1;if(cs!==wl){for(cs+=Gr;ht[cs%Gr].skip;)cs-=np;for(;ht[wl%Gr].skip;)wl+=np;cs%Gr!==wl%Gr&&(Zr.push({start:cs%Gr,end:wl%Gr,loop:ep,style:Al}),xn=Al,On=wl%Gr)}}for(const cs of lt){On=cr?On:cs.start;let wl=ht[On%Gr],ep;for(ss=On+1;ss<=cs.end;ss++){const Al=ht[ss%Gr];ep=jd(_t.setContext(vn(At,{type:"segment",p0:wl,p1:Al,p0DataIndex:(ss-1)%Gr,p1DataIndex:ss%Gr,datasetIndex:Zt}))),fv(ep,xn)&&ls(On,ss-1,cs.loop,xn),wl=Al,xn=ep}On<ss-1&&ls(On,ss-1,cs.loop,xn)}return Zr}function jd(ut){return{backgroundColor:ut.backgroundColor,borderCapStyle:ut.borderCapStyle,borderDash:ut.borderDash,borderDashOffset:ut.borderDashOffset,borderJoinStyle:ut.borderJoinStyle,borderWidth:ut.borderWidth,borderColor:ut.borderColor}}function fv(ut,lt){if(!lt)return!1;const ht=[],_t=function(At,qt){return zu(qt)?(ht.includes(qt)||ht.push(qt),ht.indexOf(qt)):qt};return JSON.stringify(ut,_t)!==JSON.stringify(lt,_t)}/*!
 * Chart.js v4.4.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class dv{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(lt,ht,_t,At){const qt=ht.listeners[At],Zt=ht.duration;qt.forEach(cr=>cr({chart:lt,initial:ht.initial,numSteps:Zt,currentStep:Math.min(_t-ht.start,Zt)}))}_refresh(){this._request||(this._running=!0,this._request=b1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(lt=Date.now()){let ht=0;this._charts.forEach((_t,At)=>{if(!_t.running||!_t.items.length)return;const qt=_t.items;let Zt=qt.length-1,cr=!1,Gr;for(;Zt>=0;--Zt)Gr=qt[Zt],Gr._active?(Gr._total>_t.duration&&(_t.duration=Gr._total),Gr.tick(lt),cr=!0):(qt[Zt]=qt[qt.length-1],qt.pop());cr&&(At.draw(),this._notify(At,_t,lt,"progress")),qt.length||(_t.running=!1,this._notify(At,_t,lt,"complete"),_t.initial=!1),ht+=qt.length}),this._lastDate=lt,ht===0&&(this._running=!1)}_getAnims(lt){const ht=this._charts;let _t=ht.get(lt);return _t||(_t={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},ht.set(lt,_t)),_t}listen(lt,ht,_t){this._getAnims(lt).listeners[ht].push(_t)}add(lt,ht){!ht||!ht.length||this._getAnims(lt).items.push(...ht)}has(lt){return this._getAnims(lt).items.length>0}start(lt){const ht=this._charts.get(lt);ht&&(ht.running=!0,ht.start=Date.now(),ht.duration=ht.items.reduce((_t,At)=>Math.max(_t,At._duration),0),this._refresh())}running(lt){if(!this._running)return!1;const ht=this._charts.get(lt);return!(!ht||!ht.running||!ht.items.length)}stop(lt){const ht=this._charts.get(lt);if(!ht||!ht.items.length)return;const _t=ht.items;let At=_t.length-1;for(;At>=0;--At)_t[At].cancel();ht.items=[],this._notify(lt,ht,Date.now(),"complete")}remove(lt){return this._charts.delete(lt)}}var Dr=new dv;const Wd="transparent",hv={boolean(ut,lt,ht){return ht>.5?lt:ut},color(ut,lt,ht){const _t=Id(ut||Wd),At=_t.valid&&Id(lt||Wd);return At&&At.valid?At.mix(_t,ht).hexString():lt},number(ut,lt,ht){return ut+(lt-ut)*ht}};class pv{constructor(lt,ht,_t,At){const qt=ht[_t];At=oo([lt.to,At,qt,lt.from]);const Zt=oo([lt.from,qt,At]);this._active=!0,this._fn=lt.fn||hv[lt.type||typeof Zt],this._easing=bo[lt.easing]||bo.linear,this._start=Math.floor(Date.now()+(lt.delay||0)),this._duration=this._total=Math.floor(lt.duration),this._loop=!!lt.loop,this._target=ht,this._prop=_t,this._from=Zt,this._to=At,this._promises=void 0}active(){return this._active}update(lt,ht,_t){if(this._active){this._notify(!1);const At=this._target[this._prop],qt=_t-this._start,Zt=this._duration-qt;this._start=_t,this._duration=Math.floor(Math.max(Zt,lt.duration)),this._total+=qt,this._loop=!!lt.loop,this._to=oo([lt.to,ht,At,lt.from]),this._from=oo([lt.from,At,ht])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(lt){const ht=lt-this._start,_t=this._duration,At=this._prop,qt=this._from,Zt=this._loop,cr=this._to;let Gr;if(this._active=qt!==cr&&(Zt||ht<_t),!this._active){this._target[At]=cr,this._notify(!0);return}if(ht<0){this._target[At]=qt;return}Gr=ht/_t%2,Gr=Zt&&Gr>1?2-Gr:Gr,Gr=this._easing(Math.min(1,Math.max(0,Gr))),this._target[At]=this._fn(qt,cr,Gr)}wait(){const lt=this._promises||(this._promises=[]);return new Promise((ht,_t)=>{lt.push({res:ht,rej:_t})})}_notify(lt){const ht=lt?"res":"rej",_t=this._promises||[];for(let At=0;At<_t.length;At++)_t[At][ht]()}}class B1{constructor(lt,ht){this._chart=lt,this._properties=new Map,this.configure(ht)}configure(lt){if(!Le(lt))return;const ht=Object.keys(gt.animation),_t=this._properties;Object.getOwnPropertyNames(lt).forEach(At=>{const qt=lt[At];if(!Le(qt))return;const Zt={};for(const cr of ht)Zt[cr]=qt[cr];(it(qt.properties)&&qt.properties||[At]).forEach(cr=>{(cr===At||!_t.has(cr))&&_t.set(cr,Zt)})})}_animateOptions(lt,ht){const _t=ht.options,At=mv(lt,_t);if(!At)return[];const qt=this._createAnimations(At,_t);return _t.$shared&&gv(lt.options.$animations,_t).then(()=>{lt.options=_t},()=>{}),qt}_createAnimations(lt,ht){const _t=this._properties,At=[],qt=lt.$animations||(lt.$animations={}),Zt=Object.keys(ht),cr=Date.now();let Gr;for(Gr=Zt.length-1;Gr>=0;--Gr){const Zr=Zt[Gr];if(Zr.charAt(0)==="$")continue;if(Zr==="options"){At.push(...this._animateOptions(lt,ht));continue}const xn=ht[Zr];let On=qt[Zr];const ss=_t.get(Zr);if(On)if(ss&&On.active()){On.update(ss,xn,cr);continue}else On.cancel();if(!ss||!ss.duration){lt[Zr]=xn;continue}qt[Zr]=On=new pv(ss,lt,Zr,xn),At.push(On)}return At}update(lt,ht){if(this._properties.size===0){Object.assign(lt,ht);return}const _t=this._createAnimations(lt,ht);if(_t.length)return Dr.add(this._chart,_t),!0}}function gv(ut,lt){const ht=[],_t=Object.keys(lt);for(let At=0;At<_t.length;At++){const qt=ut[_t[At]];qt&&qt.active()&&ht.push(qt.wait())}return Promise.all(ht)}function mv(ut,lt){if(!lt)return;let ht=ut.options;if(!ht){ut.options=lt;return}return ht.$shared&&(ut.options=ht=Object.assign({},ht,{$shared:!1,$animations:{}})),ht}function Ud(ut,lt){const ht=ut&&ut.options||{},_t=ht.reverse,At=ht.min===void 0?lt:0,qt=ht.max===void 0?lt:0;return{start:_t?qt:At,end:_t?At:qt}}function yv(ut,lt,ht){if(ht===!1)return!1;const _t=Ud(ut,ht),At=Ud(lt,ht);return{top:At.end,right:_t.end,bottom:At.start,left:_t.start}}function bv(ut){let lt,ht,_t,At;return Le(ut)?(lt=ut.top,ht=ut.right,_t=ut.bottom,At=ut.left):lt=ht=_t=At=ut,{top:lt,right:ht,bottom:_t,left:At,disabled:ut===!1}}function F1(ut,lt){const ht=[],_t=ut._getSortedDatasetMetas(lt);let At,qt;for(At=0,qt=_t.length;At<qt;++At)ht.push(_t[At].index);return ht}function zd(ut,lt,ht,_t={}){const At=ut.keys,qt=_t.mode==="single";let Zt,cr,Gr,Zr;if(lt!==null){for(Zt=0,cr=At.length;Zt<cr;++Zt){if(Gr=+At[Zt],Gr===ht){if(_t.all)continue;break}Zr=ut.values[Gr],pt(Zr)&&(qt||lt===0||Cr(lt)===Cr(Zr))&&(lt+=Zr)}return lt}}function vv(ut){const lt=Object.keys(ut),ht=new Array(lt.length);let _t,At,qt;for(_t=0,At=lt.length;_t<At;++_t)qt=lt[_t],ht[_t]={x:qt,y:ut[qt]};return ht}function Vd(ut,lt){const ht=ut&&ut.options.stacked;return ht||ht===void 0&&lt.stack!==void 0}function Av(ut,lt,ht){return`${ut.id}.${lt.id}.${ht.stack||ht.type}`}function wv(ut){const{min:lt,max:ht,minDefined:_t,maxDefined:At}=ut.getUserBounds();return{min:_t?lt:Number.NEGATIVE_INFINITY,max:At?ht:Number.POSITIVE_INFINITY}}function xv(ut,lt,ht){const _t=ut[lt]||(ut[lt]={});return _t[ht]||(_t[ht]={})}function qd(ut,lt,ht,_t){for(const At of lt.getMatchingVisibleMetas(_t).reverse()){const qt=ut[At.index];if(ht&&qt>0||!ht&&qt<0)return At.index}return null}function Hd(ut,lt){const{chart:ht,_cachedMeta:_t}=ut,At=ht._stacks||(ht._stacks={}),{iScale:qt,vScale:Zt,index:cr}=_t,Gr=qt.axis,Zr=Zt.axis,xn=Av(qt,Zt,_t),On=lt.length;let ss;for(let ls=0;ls<On;++ls){const cs=lt[ls],{[Gr]:wl,[Zr]:ep}=cs,Al=cs._stacks||(cs._stacks={});ss=Al[Zr]=xv(At,xn,wl),ss[cr]=ep,ss._top=qd(ss,Zt,!0,_t.type),ss._bottom=qd(ss,Zt,!1,_t.type);const np=ss._visualValues||(ss._visualValues={});np[cr]=ep}}function Yl(ut,lt){const ht=ut.scales;return Object.keys(ht).filter(_t=>ht[_t].axis===lt).shift()}function _v(ut,lt){return vn(ut,{active:!1,dataset:void 0,datasetIndex:lt,index:lt,mode:"default",type:"dataset"})}function Sv(ut,lt,ht){return vn(ut,{active:!1,dataIndex:lt,parsed:void 0,raw:void 0,element:ht,index:lt,mode:"default",type:"data"})}function Hi(ut,lt){const ht=ut.controller.index,_t=ut.vScale&&ut.vScale.axis;if(_t){lt=lt||ut._parsed;for(const At of lt){const qt=At._stacks;if(!qt||qt[_t]===void 0||qt[_t][ht]===void 0)return;delete qt[_t][ht],qt[_t]._visualValues!==void 0&&qt[_t]._visualValues[ht]!==void 0&&delete qt[_t]._visualValues[ht]}}}const Kl=ut=>ut==="reset"||ut==="none",Yd=(ut,lt)=>lt?ut:Object.assign({},ut),Ev=(ut,lt,ht)=>ut&&!lt.hidden&&lt._stacked&&{keys:F1(ht,!0),values:null};class mr{constructor(lt,ht){this.chart=lt,this._ctx=lt.ctx,this.index=ht,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const lt=this._cachedMeta;this.configure(),this.linkScales(),lt._stacked=Vd(lt.vScale,lt),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(lt){this.index!==lt&&Hi(this._cachedMeta),this.index=lt}linkScales(){const lt=this.chart,ht=this._cachedMeta,_t=this.getDataset(),At=(On,ss,ls,cs)=>On==="x"?ss:On==="r"?cs:ls,qt=ht.xAxisID=Oe(_t.xAxisID,Yl(lt,"x")),Zt=ht.yAxisID=Oe(_t.yAxisID,Yl(lt,"y")),cr=ht.rAxisID=Oe(_t.rAxisID,Yl(lt,"r")),Gr=ht.indexAxis,Zr=ht.iAxisID=At(Gr,qt,Zt,cr),xn=ht.vAxisID=At(Gr,Zt,qt,cr);ht.xScale=this.getScaleForId(qt),ht.yScale=this.getScaleForId(Zt),ht.rScale=this.getScaleForId(cr),ht.iScale=this.getScaleForId(Zr),ht.vScale=this.getScaleForId(xn)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(lt){return this.chart.scales[lt]}_getOtherScale(lt){const ht=this._cachedMeta;return lt===ht.iScale?ht.vScale:ht.iScale}reset(){this._update("reset")}_destroy(){const lt=this._cachedMeta;this._data&&Cd(this._data,this),lt._stacked&&Hi(lt)}_dataCheck(){const lt=this.getDataset(),ht=lt.data||(lt.data=[]),_t=this._data;if(Le(ht))this._data=vv(ht);else if(_t!==ht){if(_t){Cd(_t,this);const At=this._cachedMeta;Hi(At),At._parsed=[]}ht&&Object.isExtensible(ht)&&u2(ht,this),this._syncList=[],this._data=ht}}addElements(){const lt=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(lt.dataset=new this.datasetElementType)}buildOrUpdateElements(lt){const ht=this._cachedMeta,_t=this.getDataset();let At=!1;this._dataCheck();const qt=ht._stacked;ht._stacked=Vd(ht.vScale,ht),ht.stack!==_t.stack&&(At=!0,Hi(ht),ht.stack=_t.stack),this._resyncElements(lt),(At||qt!==ht._stacked)&&Hd(this,ht._parsed)}configure(){const lt=this.chart.config,ht=lt.datasetScopeKeys(this._type),_t=lt.getOptionScopes(this.getDataset(),ht,!0);this.options=lt.createResolver(_t,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(lt,ht){const{_cachedMeta:_t,_data:At}=this,{iScale:qt,_stacked:Zt}=_t,cr=qt.axis;let Gr=lt===0&&ht===At.length?!0:_t._sorted,Zr=lt>0&&_t._parsed[lt-1],xn,On,ss;if(this._parsing===!1)_t._parsed=At,_t._sorted=!0,ss=At;else{it(At[lt])?ss=this.parseArrayData(_t,At,lt,ht):Le(At[lt])?ss=this.parseObjectData(_t,At,lt,ht):ss=this.parsePrimitiveData(_t,At,lt,ht);const ls=()=>On[cr]===null||Zr&&On[cr]<Zr[cr];for(xn=0;xn<ht;++xn)_t._parsed[xn+lt]=On=ss[xn],Gr&&(ls()&&(Gr=!1),Zr=On);_t._sorted=Gr}Zt&&Hd(this,ss)}parsePrimitiveData(lt,ht,_t,At){const{iScale:qt,vScale:Zt}=lt,cr=qt.axis,Gr=Zt.axis,Zr=qt.getLabels(),xn=qt===Zt,On=new Array(At);let ss,ls,cs;for(ss=0,ls=At;ss<ls;++ss)cs=ss+_t,On[ss]={[cr]:xn||qt.parse(Zr[cs],cs),[Gr]:Zt.parse(ht[cs],cs)};return On}parseArrayData(lt,ht,_t,At){const{xScale:qt,yScale:Zt}=lt,cr=new Array(At);let Gr,Zr,xn,On;for(Gr=0,Zr=At;Gr<Zr;++Gr)xn=Gr+_t,On=ht[xn],cr[Gr]={x:qt.parse(On[0],xn),y:Zt.parse(On[1],xn)};return cr}parseObjectData(lt,ht,_t,At){const{xScale:qt,yScale:Zt}=lt,{xAxisKey:cr="x",yAxisKey:Gr="y"}=this._parsing,Zr=new Array(At);let xn,On,ss,ls;for(xn=0,On=At;xn<On;++xn)ss=xn+_t,ls=ht[ss],Zr[xn]={x:qt.parse(pn(ls,cr),ss),y:Zt.parse(pn(ls,Gr),ss)};return Zr}getParsed(lt){return this._cachedMeta._parsed[lt]}getDataElement(lt){return this._cachedMeta.data[lt]}applyStack(lt,ht,_t){const At=this.chart,qt=this._cachedMeta,Zt=ht[lt.axis],cr={keys:F1(At,!0),values:ht._stacks[lt.axis]._visualValues};return zd(cr,Zt,qt.index,{mode:_t})}updateRangeFromParsed(lt,ht,_t,At){const qt=_t[ht.axis];let Zt=qt===null?NaN:qt;const cr=At&&_t._stacks[ht.axis];At&&cr&&(At.values=cr,Zt=zd(At,qt,this._cachedMeta.index)),lt.min=Math.min(lt.min,Zt),lt.max=Math.max(lt.max,Zt)}getMinMax(lt,ht){const _t=this._cachedMeta,At=_t._parsed,qt=_t._sorted&&lt===_t.iScale,Zt=At.length,cr=this._getOtherScale(lt),Gr=Ev(ht,_t,this.chart),Zr={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:xn,max:On}=wv(cr);let ss,ls;function cs(){ls=At[ss];const wl=ls[cr.axis];return!pt(ls[lt.axis])||xn>wl||On<wl}for(ss=0;ss<Zt&&!(!cs()&&(this.updateRangeFromParsed(Zr,lt,ls,Gr),qt));++ss);if(qt){for(ss=Zt-1;ss>=0;--ss)if(!cs()){this.updateRangeFromParsed(Zr,lt,ls,Gr);break}}return Zr}getAllParsedValues(lt){const ht=this._cachedMeta._parsed,_t=[];let At,qt,Zt;for(At=0,qt=ht.length;At<qt;++At)Zt=ht[At][lt.axis],pt(Zt)&&_t.push(Zt);return _t}getMaxOverflow(){return!1}getLabelAndValue(lt){const ht=this._cachedMeta,_t=ht.iScale,At=ht.vScale,qt=this.getParsed(lt);return{label:_t?""+_t.getLabelForValue(qt[_t.axis]):"",value:At?""+At.getLabelForValue(qt[At.axis]):""}}_update(lt){const ht=this._cachedMeta;this.update(lt||"default"),ht._clip=bv(Oe(this.options.clip,yv(ht.xScale,ht.yScale,this.getMaxOverflow())))}update(lt){}draw(){const lt=this._ctx,ht=this.chart,_t=this._cachedMeta,At=_t.data||[],qt=ht.chartArea,Zt=[],cr=this._drawStart||0,Gr=this._drawCount||At.length-cr,Zr=this.options.drawActiveElementsOnTop;let xn;for(_t.dataset&&_t.dataset.draw(lt,qt,cr,Gr),xn=cr;xn<cr+Gr;++xn){const On=At[xn];On.hidden||(On.active&&Zr?Zt.push(On):On.draw(lt,qt))}for(xn=0;xn<Zt.length;++xn)Zt[xn].draw(lt,qt)}getStyle(lt,ht){const _t=ht?"active":"default";return lt===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(_t):this.resolveDataElementOptions(lt||0,_t)}getContext(lt,ht,_t){const At=this.getDataset();let qt;if(lt>=0&&lt<this._cachedMeta.data.length){const Zt=this._cachedMeta.data[lt];qt=Zt.$context||(Zt.$context=Sv(this.getContext(),lt,Zt)),qt.parsed=this.getParsed(lt),qt.raw=At.data[lt],qt.index=qt.dataIndex=lt}else qt=this.$context||(this.$context=_v(this.chart.getContext(),this.index)),qt.dataset=At,qt.index=qt.datasetIndex=this.index;return qt.active=!!ht,qt.mode=_t,qt}resolveDatasetElementOptions(lt){return this._resolveElementOptions(this.datasetElementType.id,lt)}resolveDataElementOptions(lt,ht){return this._resolveElementOptions(this.dataElementType.id,ht,lt)}_resolveElementOptions(lt,ht="default",_t){const At=ht==="active",qt=this._cachedDataOpts,Zt=lt+"-"+ht,cr=qt[Zt],Gr=this.enableOptionSharing&&Io(_t);if(cr)return Yd(cr,Gr);const Zr=this.chart.config,xn=Zr.datasetElementScopeKeys(this._type,lt),On=At?[`${lt}Hover`,"hover",lt,""]:[lt,""],ss=Zr.getOptionScopes(this.getDataset(),xn),ls=Object.keys(gt.elements[lt]),cs=()=>this.getContext(_t,At,ht),wl=Zr.resolveNamedOptions(ss,ls,cs,On);return wl.$shared&&(wl.$shared=Gr,qt[Zt]=Object.freeze(Yd(wl,Gr))),wl}_resolveAnimations(lt,ht,_t){const At=this.chart,qt=this._cachedDataOpts,Zt=`animation-${ht}`,cr=qt[Zt];if(cr)return cr;let Gr;if(At.options.animation!==!1){const xn=this.chart.config,On=xn.datasetAnimationScopeKeys(this._type,ht),ss=xn.getOptionScopes(this.getDataset(),On);Gr=xn.createResolver(ss,this.getContext(lt,_t,ht))}const Zr=new B1(At,Gr&&Gr.animations);return Gr&&Gr._cacheable&&(qt[Zt]=Object.freeze(Zr)),Zr}getSharedOptions(lt){if(lt.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},lt))}includeOptions(lt,ht){return!ht||Kl(lt)||this.chart._animationsDisabled}_getSharedOptions(lt,ht){const _t=this.resolveDataElementOptions(lt,ht),At=this._sharedOptions,qt=this.getSharedOptions(_t),Zt=this.includeOptions(ht,qt)||qt!==At;return this.updateSharedOptions(qt,ht,_t),{sharedOptions:qt,includeOptions:Zt}}updateElement(lt,ht,_t,At){Kl(At)?Object.assign(lt,_t):this._resolveAnimations(ht,At).update(lt,_t)}updateSharedOptions(lt,ht,_t){lt&&!Kl(ht)&&this._resolveAnimations(void 0,ht).update(lt,_t)}_setStyle(lt,ht,_t,At){lt.active=At;const qt=this.getStyle(ht,At);this._resolveAnimations(ht,_t,At).update(lt,{options:!At&&this.getSharedOptions(qt)||qt})}removeHoverStyle(lt,ht,_t){this._setStyle(lt,_t,"active",!1)}setHoverStyle(lt,ht,_t){this._setStyle(lt,_t,"active",!0)}_removeDatasetHoverStyle(){const lt=this._cachedMeta.dataset;lt&&this._setStyle(lt,void 0,"active",!1)}_setDatasetHoverStyle(){const lt=this._cachedMeta.dataset;lt&&this._setStyle(lt,void 0,"active",!0)}_resyncElements(lt){const ht=this._data,_t=this._cachedMeta.data;for(const[cr,Gr,Zr]of this._syncList)this[cr](Gr,Zr);this._syncList=[];const At=_t.length,qt=ht.length,Zt=Math.min(qt,At);Zt&&this.parse(0,Zt),qt>At?this._insertElements(At,qt-At,lt):qt<At&&this._removeElements(qt,At-qt)}_insertElements(lt,ht,_t=!0){const At=this._cachedMeta,qt=At.data,Zt=lt+ht;let cr;const Gr=Zr=>{for(Zr.length+=ht,cr=Zr.length-1;cr>=Zt;cr--)Zr[cr]=Zr[cr-ht]};for(Gr(qt),cr=lt;cr<Zt;++cr)qt[cr]=new this.dataElementType;this._parsing&&Gr(At._parsed),this.parse(lt,ht),_t&&this.updateElements(qt,lt,ht,"reset")}updateElements(lt,ht,_t,At){}_removeElements(lt,ht){const _t=this._cachedMeta;if(this._parsing){const At=_t._parsed.splice(lt,ht);_t._stacked&&Hi(_t,At)}_t.data.splice(lt,ht)}_sync(lt){if(this._parsing)this._syncList.push(lt);else{const[ht,_t,At]=lt;this[ht](_t,At)}this.chart._dataChanges.push([this.index,...lt])}_onDataPush(){const lt=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-lt,lt])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(lt,ht){ht&&this._sync(["_removeElements",lt,ht]);const _t=arguments.length-2;_t&&this._sync(["_insertElements",lt,_t])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ye(mr,"defaults",{}),ye(mr,"datasetElementType",null),ye(mr,"dataElementType",null);function kv(ut,lt){if(!ut._cache.$bar){const ht=ut.getMatchingVisibleMetas(lt);let _t=[];for(let At=0,qt=ht.length;At<qt;At++)_t=_t.concat(ht[At].controller.getAllParsedValues(ut));ut._cache.$bar=y1(_t.sort((At,qt)=>At-qt))}return ut._cache.$bar}function Cv(ut){const lt=ut.iScale,ht=kv(lt,ut.type);let _t=lt._length,At,qt,Zt,cr;const Gr=()=>{Zt===32767||Zt===-32768||(Io(cr)&&(_t=Math.min(_t,Math.abs(Zt-cr)||_t)),cr=Zt)};for(At=0,qt=ht.length;At<qt;++At)Zt=lt.getPixelForValue(ht[At]),Gr();for(cr=void 0,At=0,qt=lt.ticks.length;At<qt;++At)Zt=lt.getPixelForTick(At),Gr();return _t}function Tv(ut,lt,ht,_t){const At=ht.barThickness;let qt,Zt;return We(At)?(qt=lt.min*ht.categoryPercentage,Zt=ht.barPercentage):(qt=At*_t,Zt=1),{chunk:qt/_t,ratio:Zt,start:lt.pixels[ut]-qt/2}}function Ov(ut,lt,ht,_t){const At=lt.pixels,qt=At[ut];let Zt=ut>0?At[ut-1]:null,cr=ut<At.length-1?At[ut+1]:null;const Gr=ht.categoryPercentage;Zt===null&&(Zt=qt-(cr===null?lt.end-lt.start:cr-qt)),cr===null&&(cr=qt+qt-Zt);const Zr=qt-(qt-Math.min(Zt,cr))/2*Gr;return{chunk:Math.abs(cr-Zt)/2*Gr/_t,ratio:ht.barPercentage,start:Zr}}function Iv(ut,lt,ht,_t){const At=ht.parse(ut[0],_t),qt=ht.parse(ut[1],_t),Zt=Math.min(At,qt),cr=Math.max(At,qt);let Gr=Zt,Zr=cr;Math.abs(Zt)>Math.abs(cr)&&(Gr=cr,Zr=Zt),lt[ht.axis]=Zr,lt._custom={barStart:Gr,barEnd:Zr,start:At,end:qt,min:Zt,max:cr}}function j1(ut,lt,ht,_t){return it(ut)?Iv(ut,lt,ht,_t):lt[ht.axis]=ht.parse(ut,_t),lt}function Kd(ut,lt,ht,_t){const At=ut.iScale,qt=ut.vScale,Zt=At.getLabels(),cr=At===qt,Gr=[];let Zr,xn,On,ss;for(Zr=ht,xn=ht+_t;Zr<xn;++Zr)ss=lt[Zr],On={},On[At.axis]=cr||At.parse(Zt[Zr],Zr),Gr.push(j1(ss,On,qt,Zr));return Gr}function Xl(ut){return ut&&ut.barStart!==void 0&&ut.barEnd!==void 0}function Pv(ut,lt,ht){return ut!==0?Cr(ut):(lt.isHorizontal()?1:-1)*(lt.min>=ht?1:-1)}function Rv(ut){let lt,ht,_t,At,qt;return ut.horizontal?(lt=ut.base>ut.x,ht="left",_t="right"):(lt=ut.base<ut.y,ht="bottom",_t="top"),lt?(At="end",qt="start"):(At="start",qt="end"),{start:ht,end:_t,reverse:lt,top:At,bottom:qt}}function Dv(ut,lt,ht,_t){let At=lt.borderSkipped;const qt={};if(!At){ut.borderSkipped=qt;return}if(At===!0){ut.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:Zt,end:cr,reverse:Gr,top:Zr,bottom:xn}=Rv(ut);At==="middle"&&ht&&(ut.enableBorderRadius=!0,(ht._top||0)===_t?At=Zr:(ht._bottom||0)===_t?At=xn:(qt[Xd(xn,Zt,cr,Gr)]=!0,At=Zr)),qt[Xd(At,Zt,cr,Gr)]=!0,ut.borderSkipped=qt}function Xd(ut,lt,ht,_t){return _t?(ut=Mv(ut,lt,ht),ut=Jd(ut,ht,lt)):ut=Jd(ut,lt,ht),ut}function Mv(ut,lt,ht){return ut===lt?ht:ut===ht?lt:ut}function Jd(ut,lt,ht){return ut==="start"?lt:ut==="end"?ht:ut}function Nv(ut,{inflateAmount:lt},ht){ut.inflateAmount=lt==="auto"?ht===1?.33:0:lt}class zs extends mr{parsePrimitiveData(lt,ht,_t,At){return Kd(lt,ht,_t,At)}parseArrayData(lt,ht,_t,At){return Kd(lt,ht,_t,At)}parseObjectData(lt,ht,_t,At){const{iScale:qt,vScale:Zt}=lt,{xAxisKey:cr="x",yAxisKey:Gr="y"}=this._parsing,Zr=qt.axis==="x"?cr:Gr,xn=Zt.axis==="x"?cr:Gr,On=[];let ss,ls,cs,wl;for(ss=_t,ls=_t+At;ss<ls;++ss)wl=ht[ss],cs={},cs[qt.axis]=qt.parse(pn(wl,Zr),ss),On.push(j1(pn(wl,xn),cs,Zt,ss));return On}updateRangeFromParsed(lt,ht,_t,At){super.updateRangeFromParsed(lt,ht,_t,At);const qt=_t._custom;qt&&ht===this._cachedMeta.vScale&&(lt.min=Math.min(lt.min,qt.min),lt.max=Math.max(lt.max,qt.max))}getMaxOverflow(){return 0}getLabelAndValue(lt){const ht=this._cachedMeta,{iScale:_t,vScale:At}=ht,qt=this.getParsed(lt),Zt=qt._custom,cr=Xl(Zt)?"["+Zt.start+", "+Zt.end+"]":""+At.getLabelForValue(qt[At.axis]);return{label:""+_t.getLabelForValue(qt[_t.axis]),value:cr}}initialize(){this.enableOptionSharing=!0,super.initialize();const lt=this._cachedMeta;lt.stack=this.getDataset().stack}update(lt){const ht=this._cachedMeta;this.updateElements(ht.data,0,ht.data.length,lt)}updateElements(lt,ht,_t,At){const qt=At==="reset",{index:Zt,_cachedMeta:{vScale:cr}}=this,Gr=cr.getBasePixel(),Zr=cr.isHorizontal(),xn=this._getRuler(),{sharedOptions:On,includeOptions:ss}=this._getSharedOptions(ht,At);for(let ls=ht;ls<ht+_t;ls++){const cs=this.getParsed(ls),wl=qt||We(cs[cr.axis])?{base:Gr,head:Gr}:this._calculateBarValuePixels(ls),ep=this._calculateBarIndexPixels(ls,xn),Al=(cs._stacks||{})[cr.axis],np={horizontal:Zr,base:wl.base,enableBorderRadius:!Al||Xl(cs._custom)||Zt===Al._top||Zt===Al._bottom,x:Zr?wl.head:ep.center,y:Zr?ep.center:wl.head,height:Zr?ep.size:Math.abs(wl.size),width:Zr?Math.abs(wl.size):ep.size};ss&&(np.options=On||this.resolveDataElementOptions(ls,lt[ls].active?"active":At));const cp=np.options||lt[ls].options;Dv(np,cp,Al,Zt),Nv(np,cp,xn.ratio),this.updateElement(lt[ls],ls,np,At)}}_getStacks(lt,ht){const{iScale:_t}=this._cachedMeta,At=_t.getMatchingVisibleMetas(this._type).filter(Gr=>Gr.controller.options.grouped),qt=_t.options.stacked,Zt=[],cr=Gr=>{const Zr=Gr.controller.getParsed(ht),xn=Zr&&Zr[Gr.vScale.axis];if(We(xn)||isNaN(xn))return!0};for(const Gr of At)if(!(ht!==void 0&&cr(Gr))&&((qt===!1||Zt.indexOf(Gr.stack)===-1||qt===void 0&&Gr.stack===void 0)&&Zt.push(Gr.stack),Gr.index===lt))break;return Zt.length||Zt.push(void 0),Zt}_getStackCount(lt){return this._getStacks(void 0,lt).length}_getStackIndex(lt,ht,_t){const At=this._getStacks(lt,_t),qt=ht!==void 0?At.indexOf(ht):-1;return qt===-1?At.length-1:qt}_getRuler(){const lt=this.options,ht=this._cachedMeta,_t=ht.iScale,At=[];let qt,Zt;for(qt=0,Zt=ht.data.length;qt<Zt;++qt)At.push(_t.getPixelForValue(this.getParsed(qt)[_t.axis],qt));const cr=lt.barThickness;return{min:cr||Cv(ht),pixels:At,start:_t._startPixel,end:_t._endPixel,stackCount:this._getStackCount(),scale:_t,grouped:lt.grouped,ratio:cr?1:lt.categoryPercentage*lt.barPercentage}}_calculateBarValuePixels(lt){const{_cachedMeta:{vScale:ht,_stacked:_t,index:At},options:{base:qt,minBarLength:Zt}}=this,cr=qt||0,Gr=this.getParsed(lt),Zr=Gr._custom,xn=Xl(Zr);let On=Gr[ht.axis],ss=0,ls=_t?this.applyStack(ht,Gr,_t):On,cs,wl;ls!==On&&(ss=ls-On,ls=On),xn&&(On=Zr.barStart,ls=Zr.barEnd-Zr.barStart,On!==0&&Cr(On)!==Cr(Zr.barEnd)&&(ss=0),ss+=On);const ep=!We(qt)&&!xn?qt:ss;let Al=ht.getPixelForValue(ep);if(this.chart.getDataVisibility(lt)?cs=ht.getPixelForValue(ss+ls):cs=Al,wl=cs-Al,Math.abs(wl)<Zt){wl=Pv(wl,ht,cr)*Zt,On===cr&&(Al-=wl/2);const np=ht.getPixelForDecimal(0),cp=ht.getPixelForDecimal(1),Cp=Math.min(np,cp),Lp=Math.max(np,cp);Al=Math.max(Math.min(Al,Lp),Cp),cs=Al+wl,_t&&!xn&&(Gr._stacks[ht.axis]._visualValues[At]=ht.getValueForPixel(cs)-ht.getValueForPixel(Al))}if(Al===ht.getPixelForValue(cr)){const np=Cr(wl)*ht.getLineWidthForValue(cr)/2;Al+=np,wl-=np}return{size:wl,base:Al,head:cs,center:cs+wl/2}}_calculateBarIndexPixels(lt,ht){const _t=ht.scale,At=this.options,qt=At.skipNull,Zt=Oe(At.maxBarThickness,1/0);let cr,Gr;if(ht.grouped){const Zr=qt?this._getStackCount(lt):ht.stackCount,xn=At.barThickness==="flex"?Ov(lt,ht,At,Zr):Tv(lt,ht,At,Zr),On=this._getStackIndex(this.index,this._cachedMeta.stack,qt?lt:void 0);cr=xn.start+xn.chunk*On+xn.chunk/2,Gr=Math.min(Zt,xn.chunk*xn.ratio)}else cr=_t.getPixelForValue(this.getParsed(lt)[_t.axis],lt),Gr=Math.min(Zt,ht.min*ht.ratio);return{base:cr-Gr/2,head:cr+Gr/2,center:cr,size:Gr}}draw(){const lt=this._cachedMeta,ht=lt.vScale,_t=lt.data,At=_t.length;let qt=0;for(;qt<At;++qt)this.getParsed(qt)[ht.axis]!==null&&_t[qt].draw(this._ctx)}}ye(zs,"id","bar"),ye(zs,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ye(zs,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Vs extends mr{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(lt,ht,_t,At){const qt=super.parsePrimitiveData(lt,ht,_t,At);for(let Zt=0;Zt<qt.length;Zt++)qt[Zt]._custom=this.resolveDataElementOptions(Zt+_t).radius;return qt}parseArrayData(lt,ht,_t,At){const qt=super.parseArrayData(lt,ht,_t,At);for(let Zt=0;Zt<qt.length;Zt++){const cr=ht[_t+Zt];qt[Zt]._custom=Oe(cr[2],this.resolveDataElementOptions(Zt+_t).radius)}return qt}parseObjectData(lt,ht,_t,At){const qt=super.parseObjectData(lt,ht,_t,At);for(let Zt=0;Zt<qt.length;Zt++){const cr=ht[_t+Zt];qt[Zt]._custom=Oe(cr&&cr.r&&+cr.r,this.resolveDataElementOptions(Zt+_t).radius)}return qt}getMaxOverflow(){const lt=this._cachedMeta.data;let ht=0;for(let _t=lt.length-1;_t>=0;--_t)ht=Math.max(ht,lt[_t].size(this.resolveDataElementOptions(_t))/2);return ht>0&&ht}getLabelAndValue(lt){const ht=this._cachedMeta,_t=this.chart.data.labels||[],{xScale:At,yScale:qt}=ht,Zt=this.getParsed(lt),cr=At.getLabelForValue(Zt.x),Gr=qt.getLabelForValue(Zt.y),Zr=Zt._custom;return{label:_t[lt]||"",value:"("+cr+", "+Gr+(Zr?", "+Zr:"")+")"}}update(lt){const ht=this._cachedMeta.data;this.updateElements(ht,0,ht.length,lt)}updateElements(lt,ht,_t,At){const qt=At==="reset",{iScale:Zt,vScale:cr}=this._cachedMeta,{sharedOptions:Gr,includeOptions:Zr}=this._getSharedOptions(ht,At),xn=Zt.axis,On=cr.axis;for(let ss=ht;ss<ht+_t;ss++){const ls=lt[ss],cs=!qt&&this.getParsed(ss),wl={},ep=wl[xn]=qt?Zt.getPixelForDecimal(.5):Zt.getPixelForValue(cs[xn]),Al=wl[On]=qt?cr.getBasePixel():cr.getPixelForValue(cs[On]);wl.skip=isNaN(ep)||isNaN(Al),Zr&&(wl.options=Gr||this.resolveDataElementOptions(ss,ls.active?"active":At),qt&&(wl.options.radius=0)),this.updateElement(ls,ss,wl,At)}}resolveDataElementOptions(lt,ht){const _t=this.getParsed(lt);let At=super.resolveDataElementOptions(lt,ht);At.$shared&&(At=Object.assign({},At,{$shared:!1}));const qt=At.radius;return ht!=="active"&&(At.radius=0),At.radius+=Oe(_t&&_t._custom,qt),At}}ye(Vs,"id","bubble"),ye(Vs,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ye(Vs,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Lv(ut,lt,ht){let _t=1,At=1,qt=0,Zt=0;if(lt<ot){const cr=ut,Gr=cr+lt,Zr=Math.cos(cr),xn=Math.sin(cr),On=Math.cos(Gr),ss=Math.sin(Gr),ls=(cp,Cp,Lp)=>Po(cp,cr,Gr,!0)?1:Math.max(Cp,Cp*ht,Lp,Lp*ht),cs=(cp,Cp,Lp)=>Po(cp,cr,Gr,!0)?-1:Math.min(Cp,Cp*ht,Lp,Lp*ht),wl=ls(0,Zr,On),ep=ls(mt,xn,ss),Al=cs(st,Zr,On),np=cs(st+mt,xn,ss);_t=(wl-Al)/2,At=(ep-np)/2,qt=-(wl+Al)/2,Zt=-(ep+np)/2}return{ratioX:_t,ratioY:At,offsetX:qt,offsetY:Zt}}class Bn extends mr{constructor(lt,ht){super(lt,ht),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(lt,ht){const _t=this.getDataset().data,At=this._cachedMeta;if(this._parsing===!1)At._parsed=_t;else{let qt=Gr=>+_t[Gr];if(Le(_t[lt])){const{key:Gr="value"}=this._parsing;qt=Zr=>+pn(_t[Zr],Gr)}let Zt,cr;for(Zt=lt,cr=lt+ht;Zt<cr;++Zt)At._parsed[Zt]=qt(Zt)}}_getRotation(){return gr(this.options.rotation-90)}_getCircumference(){return gr(this.options.circumference)}_getRotationExtents(){let lt=ot,ht=-ot;for(let _t=0;_t<this.chart.data.datasets.length;++_t)if(this.chart.isDatasetVisible(_t)&&this.chart.getDatasetMeta(_t).type===this._type){const At=this.chart.getDatasetMeta(_t).controller,qt=At._getRotation(),Zt=At._getCircumference();lt=Math.min(lt,qt),ht=Math.max(ht,qt+Zt)}return{rotation:lt,circumference:ht-lt}}update(lt){const ht=this.chart,{chartArea:_t}=ht,At=this._cachedMeta,qt=At.data,Zt=this.getMaxBorderWidth()+this.getMaxOffset(qt)+this.options.spacing,cr=Math.max((Math.min(_t.width,_t.height)-Zt)/2,0),Gr=Math.min(Q3(this.options.cutout,cr),1),Zr=this._getRingWeight(this.index),{circumference:xn,rotation:On}=this._getRotationExtents(),{ratioX:ss,ratioY:ls,offsetX:cs,offsetY:wl}=Lv(On,xn,Gr),ep=(_t.width-Zt)/ss,Al=(_t.height-Zt)/ls,np=Math.max(Math.min(ep,Al)/2,0),cp=d1(this.options.radius,np),Cp=Math.max(cp*Gr,0),Lp=(cp-Cp)/this._getVisibleDatasetWeightTotal();this.offsetX=cs*cp,this.offsetY=wl*cp,At.total=this.calculateTotal(),this.outerRadius=cp-Lp*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Lp*Zr,0),this.updateElements(qt,0,qt.length,lt)}_circumference(lt,ht){const _t=this.options,At=this._cachedMeta,qt=this._getCircumference();return ht&&_t.animation.animateRotate||!this.chart.getDataVisibility(lt)||At._parsed[lt]===null||At.data[lt].hidden?0:this.calculateCircumference(At._parsed[lt]*qt/ot)}updateElements(lt,ht,_t,At){const qt=At==="reset",Zt=this.chart,cr=Zt.chartArea,Gr=Zt.options.animation,Zr=(cr.left+cr.right)/2,xn=(cr.top+cr.bottom)/2,On=qt&&Gr.animateScale,ss=On?0:this.innerRadius,ls=On?0:this.outerRadius,{sharedOptions:cs,includeOptions:wl}=this._getSharedOptions(ht,At);let ep=this._getRotation(),Al;for(Al=0;Al<ht;++Al)ep+=this._circumference(Al,qt);for(Al=ht;Al<ht+_t;++Al){const np=this._circumference(Al,qt),cp=lt[Al],Cp={x:Zr+this.offsetX,y:xn+this.offsetY,startAngle:ep,endAngle:ep+np,circumference:np,outerRadius:ls,innerRadius:ss};wl&&(Cp.options=cs||this.resolveDataElementOptions(Al,cp.active?"active":At)),ep+=np,this.updateElement(cp,Al,Cp,At)}}calculateTotal(){const lt=this._cachedMeta,ht=lt.data;let _t=0,At;for(At=0;At<ht.length;At++){const qt=lt._parsed[At];qt!==null&&!isNaN(qt)&&this.chart.getDataVisibility(At)&&!ht[At].hidden&&(_t+=Math.abs(qt))}return _t}calculateCircumference(lt){const ht=this._cachedMeta.total;return ht>0&&!isNaN(lt)?ot*(Math.abs(lt)/ht):0}getLabelAndValue(lt){const ht=this._cachedMeta,_t=this.chart,At=_t.data.labels||[],qt=Qo(ht._parsed[lt],_t.options.locale);return{label:At[lt]||"",value:qt}}getMaxBorderWidth(lt){let ht=0;const _t=this.chart;let At,qt,Zt,cr,Gr;if(!lt){for(At=0,qt=_t.data.datasets.length;At<qt;++At)if(_t.isDatasetVisible(At)){Zt=_t.getDatasetMeta(At),lt=Zt.data,cr=Zt.controller;break}}if(!lt)return 0;for(At=0,qt=lt.length;At<qt;++At)Gr=cr.resolveDataElementOptions(At),Gr.borderAlign!=="inner"&&(ht=Math.max(ht,Gr.borderWidth||0,Gr.hoverBorderWidth||0));return ht}getMaxOffset(lt){let ht=0;for(let _t=0,At=lt.length;_t<At;++_t){const qt=this.resolveDataElementOptions(_t);ht=Math.max(ht,qt.offset||0,qt.hoverOffset||0)}return ht}_getRingWeightOffset(lt){let ht=0;for(let _t=0;_t<lt;++_t)this.chart.isDatasetVisible(_t)&&(ht+=this._getRingWeight(_t));return ht}_getRingWeight(lt){return Math.max(Oe(this.chart.data.datasets[lt].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ye(Bn,"id","doughnut"),ye(Bn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ye(Bn,"descriptors",{_scriptable:ut=>ut!=="spacing",_indexable:ut=>ut!=="spacing"&&!ut.startsWith("borderDash")&&!ut.startsWith("hoverBorderDash")}),ye(Bn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(ut){const lt=ut.data;if(lt.labels.length&&lt.datasets.length){const{labels:{pointStyle:ht,color:_t}}=ut.legend.options;return lt.labels.map((At,qt)=>{const Zt=ut.getDatasetMeta(0).controller.getStyle(qt);return{text:At,fillStyle:Zt.backgroundColor,strokeStyle:Zt.borderColor,fontColor:_t,lineWidth:Zt.borderWidth,pointStyle:ht,hidden:!ut.getDataVisibility(qt),index:qt}})}return[]}},onClick(ut,lt,ht){ht.chart.toggleDataVisibility(lt.index),ht.chart.update()}}}});class qs extends mr{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(lt){const ht=this._cachedMeta,{dataset:_t,data:At=[],_dataset:qt}=ht,Zt=this.chart._animationsDisabled;let{start:cr,count:Gr}=A1(ht,At,Zt);this._drawStart=cr,this._drawCount=Gr,w1(ht)&&(cr=0,Gr=At.length),_t._chart=this.chart,_t._datasetIndex=this.index,_t._decimated=!!qt._decimated,_t.points=At;const Zr=this.resolveDatasetElementOptions(lt);this.options.showLine||(Zr.borderWidth=0),Zr.segment=this.options.segment,this.updateElement(_t,void 0,{animated:!Zt,options:Zr},lt),this.updateElements(At,cr,Gr,lt)}updateElements(lt,ht,_t,At){const qt=At==="reset",{iScale:Zt,vScale:cr,_stacked:Gr,_dataset:Zr}=this._cachedMeta,{sharedOptions:xn,includeOptions:On}=this._getSharedOptions(ht,At),ss=Zt.axis,ls=cr.axis,{spanGaps:cs,segment:wl}=this.options,ep=Ei(cs)?cs:Number.POSITIVE_INFINITY,Al=this.chart._animationsDisabled||qt||At==="none",np=ht+_t,cp=lt.length;let Cp=ht>0&&this.getParsed(ht-1);for(let Lp=0;Lp<cp;++Lp){const jp=lt[Lp],nm=Al?jp:{};if(Lp<ht||Lp>=np){nm.skip=!0;continue}const zm=this.getParsed(Lp),i1=We(zm[ls]),d3=nm[ss]=Zt.getPixelForValue(zm[ss],Lp),op=nm[ls]=qt||i1?cr.getBasePixel():cr.getPixelForValue(Gr?this.applyStack(cr,zm,Gr):zm[ls],Lp);nm.skip=isNaN(d3)||isNaN(op)||i1,nm.stop=Lp>0&&Math.abs(zm[ss]-Cp[ss])>ep,wl&&(nm.parsed=zm,nm.raw=Zr.data[Lp]),On&&(nm.options=xn||this.resolveDataElementOptions(Lp,jp.active?"active":At)),Al||this.updateElement(jp,Lp,nm,At),Cp=zm}}getMaxOverflow(){const lt=this._cachedMeta,ht=lt.dataset,_t=ht.options&&ht.options.borderWidth||0,At=lt.data||[];if(!At.length)return _t;const qt=At[0].size(this.resolveDataElementOptions(0)),Zt=At[At.length-1].size(this.resolveDataElementOptions(At.length-1));return Math.max(_t,qt,Zt)/2}draw(){const lt=this._cachedMeta;lt.dataset.updateControlPoints(this.chart.chartArea,lt.iScale.axis),super.draw()}}ye(qs,"id","line"),ye(qs,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ye(qs,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ao extends mr{constructor(lt,ht){super(lt,ht),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(lt){const ht=this._cachedMeta,_t=this.chart,At=_t.data.labels||[],qt=Qo(ht._parsed[lt].r,_t.options.locale);return{label:At[lt]||"",value:qt}}parseObjectData(lt,ht,_t,At){return O1.bind(this)(lt,ht,_t,At)}update(lt){const ht=this._cachedMeta.data;this._updateRadius(),this.updateElements(ht,0,ht.length,lt)}getMinMax(){const lt=this._cachedMeta,ht={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return lt.data.forEach((_t,At)=>{const qt=this.getParsed(At).r;!isNaN(qt)&&this.chart.getDataVisibility(At)&&(qt<ht.min&&(ht.min=qt),qt>ht.max&&(ht.max=qt))}),ht}_updateRadius(){const lt=this.chart,ht=lt.chartArea,_t=lt.options,At=Math.min(ht.right-ht.left,ht.bottom-ht.top),qt=Math.max(At/2,0),Zt=Math.max(_t.cutoutPercentage?qt/100*_t.cutoutPercentage:1,0),cr=(qt-Zt)/lt.getVisibleDatasetCount();this.outerRadius=qt-cr*this.index,this.innerRadius=this.outerRadius-cr}updateElements(lt,ht,_t,At){const qt=At==="reset",Zt=this.chart,cr=Zt.options.animation,Gr=this._cachedMeta.rScale,Zr=Gr.xCenter,xn=Gr.yCenter,On=Gr.getIndexAngle(0)-.5*st;let ss=On,ls;const cs=360/this.countVisibleElements();for(ls=0;ls<ht;++ls)ss+=this._computeAngle(ls,At,cs);for(ls=ht;ls<ht+_t;ls++){const wl=lt[ls];let ep=ss,Al=ss+this._computeAngle(ls,At,cs),np=Zt.getDataVisibility(ls)?Gr.getDistanceFromCenterForValue(this.getParsed(ls).r):0;ss=Al,qt&&(cr.animateScale&&(np=0),cr.animateRotate&&(ep=Al=On));const cp={x:Zr,y:xn,innerRadius:0,outerRadius:np,startAngle:ep,endAngle:Al,options:this.resolveDataElementOptions(ls,wl.active?"active":At)};this.updateElement(wl,ls,cp,At)}}countVisibleElements(){const lt=this._cachedMeta;let ht=0;return lt.data.forEach((_t,At)=>{!isNaN(this.getParsed(At).r)&&this.chart.getDataVisibility(At)&&ht++}),ht}_computeAngle(lt,ht,_t){return this.chart.getDataVisibility(lt)?gr(this.resolveDataElementOptions(lt,ht).angle||_t):0}}ye(Ao,"id","polarArea"),ye(Ao,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ye(Ao,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(ut){const lt=ut.data;if(lt.labels.length&&lt.datasets.length){const{labels:{pointStyle:ht,color:_t}}=ut.legend.options;return lt.labels.map((At,qt)=>{const Zt=ut.getDatasetMeta(0).controller.getStyle(qt);return{text:At,fillStyle:Zt.backgroundColor,strokeStyle:Zt.borderColor,fontColor:_t,lineWidth:Zt.borderWidth,pointStyle:ht,hidden:!ut.getDataVisibility(qt),index:qt}})}return[]}},onClick(ut,lt,ht){ht.chart.toggleDataVisibility(lt.index),ht.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Lc extends Bn{}ye(Lc,"id","pie"),ye(Lc,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Hs extends mr{getLabelAndValue(lt){const ht=this._cachedMeta.vScale,_t=this.getParsed(lt);return{label:ht.getLabels()[lt],value:""+ht.getLabelForValue(_t[ht.axis])}}parseObjectData(lt,ht,_t,At){return O1.bind(this)(lt,ht,_t,At)}update(lt){const ht=this._cachedMeta,_t=ht.dataset,At=ht.data||[],qt=ht.iScale.getLabels();if(_t.points=At,lt!=="resize"){const Zt=this.resolveDatasetElementOptions(lt);this.options.showLine||(Zt.borderWidth=0);const cr={_loop:!0,_fullLoop:qt.length===At.length,options:Zt};this.updateElement(_t,void 0,cr,lt)}this.updateElements(At,0,At.length,lt)}updateElements(lt,ht,_t,At){const qt=this._cachedMeta.rScale,Zt=At==="reset";for(let cr=ht;cr<ht+_t;cr++){const Gr=lt[cr],Zr=this.resolveDataElementOptions(cr,Gr.active?"active":At),xn=qt.getPointPositionForValue(cr,this.getParsed(cr).r),On=Zt?qt.xCenter:xn.x,ss=Zt?qt.yCenter:xn.y,ls={x:On,y:ss,angle:xn.angle,skip:isNaN(On)||isNaN(ss),options:Zr};this.updateElement(Gr,cr,ls,At)}}}ye(Hs,"id","radar"),ye(Hs,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ye(Hs,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ys extends mr{getLabelAndValue(lt){const ht=this._cachedMeta,_t=this.chart.data.labels||[],{xScale:At,yScale:qt}=ht,Zt=this.getParsed(lt),cr=At.getLabelForValue(Zt.x),Gr=qt.getLabelForValue(Zt.y);return{label:_t[lt]||"",value:"("+cr+", "+Gr+")"}}update(lt){const ht=this._cachedMeta,{data:_t=[]}=ht,At=this.chart._animationsDisabled;let{start:qt,count:Zt}=A1(ht,_t,At);if(this._drawStart=qt,this._drawCount=Zt,w1(ht)&&(qt=0,Zt=_t.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:cr,_dataset:Gr}=ht;cr._chart=this.chart,cr._datasetIndex=this.index,cr._decimated=!!Gr._decimated,cr.points=_t;const Zr=this.resolveDatasetElementOptions(lt);Zr.segment=this.options.segment,this.updateElement(cr,void 0,{animated:!At,options:Zr},lt)}else this.datasetElementType&&(delete ht.dataset,this.datasetElementType=!1);this.updateElements(_t,qt,Zt,lt)}addElements(){const{showLine:lt}=this.options;!this.datasetElementType&&lt&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(lt,ht,_t,At){const qt=At==="reset",{iScale:Zt,vScale:cr,_stacked:Gr,_dataset:Zr}=this._cachedMeta,xn=this.resolveDataElementOptions(ht,At),On=this.getSharedOptions(xn),ss=this.includeOptions(At,On),ls=Zt.axis,cs=cr.axis,{spanGaps:wl,segment:ep}=this.options,Al=Ei(wl)?wl:Number.POSITIVE_INFINITY,np=this.chart._animationsDisabled||qt||At==="none";let cp=ht>0&&this.getParsed(ht-1);for(let Cp=ht;Cp<ht+_t;++Cp){const Lp=lt[Cp],jp=this.getParsed(Cp),nm=np?Lp:{},zm=We(jp[cs]),i1=nm[ls]=Zt.getPixelForValue(jp[ls],Cp),d3=nm[cs]=qt||zm?cr.getBasePixel():cr.getPixelForValue(Gr?this.applyStack(cr,jp,Gr):jp[cs],Cp);nm.skip=isNaN(i1)||isNaN(d3)||zm,nm.stop=Cp>0&&Math.abs(jp[ls]-cp[ls])>Al,ep&&(nm.parsed=jp,nm.raw=Zr.data[Cp]),ss&&(nm.options=On||this.resolveDataElementOptions(Cp,Lp.active?"active":At)),np||this.updateElement(Lp,Cp,nm,At),cp=jp}this.updateSharedOptions(On,At,xn)}getMaxOverflow(){const lt=this._cachedMeta,ht=lt.data||[];if(!this.options.showLine){let cr=0;for(let Gr=ht.length-1;Gr>=0;--Gr)cr=Math.max(cr,ht[Gr].size(this.resolveDataElementOptions(Gr))/2);return cr>0&&cr}const _t=lt.dataset,At=_t.options&&_t.options.borderWidth||0;if(!ht.length)return At;const qt=ht[0].size(this.resolveDataElementOptions(0)),Zt=ht[ht.length-1].size(this.resolveDataElementOptions(ht.length-1));return Math.max(At,qt,Zt)/2}}ye(Ys,"id","scatter"),ye(Ys,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ye(Ys,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Bv=Object.freeze({__proto__:null,BarController:zs,BubbleController:Vs,DoughnutController:Bn,LineController:qs,PieController:Lc,PolarAreaController:Ao,RadarController:Hs,ScatterController:Ys});function Cn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Xu{constructor(lt){ye(this,"options"),this.options=lt||{}}static override(lt){Object.assign(Xu.prototype,lt)}init(){}formats(){return Cn()}parse(){return Cn()}format(){return Cn()}add(){return Cn()}diff(){return Cn()}startOf(){return Cn()}endOf(){return Cn()}}var Fv={_date:Xu};function jv(ut,lt,ht,_t){const{controller:At,data:qt,_sorted:Zt}=ut,cr=At._cachedMeta.iScale;if(cr&&lt===cr.axis&&lt!=="r"&&Zt&&qt.length){const Gr=cr._reversePixels?l2:Ur;if(_t){if(At._sharedOptions){const Zr=qt[0],xn=typeof Zr.getRange=="function"&&Zr.getRange(lt);if(xn){const On=Gr(qt,lt,ht-xn),ss=Gr(qt,lt,ht+xn);return{lo:On.lo,hi:ss.hi}}}}else return Gr(qt,lt,ht)}return{lo:0,hi:qt.length-1}}function Go(ut,lt,ht,_t,At){const qt=ut.getSortedVisibleDatasetMetas(),Zt=ht[lt];for(let cr=0,Gr=qt.length;cr<Gr;++cr){const{index:Zr,data:xn}=qt[cr],{lo:On,hi:ss}=jv(qt[cr],lt,Zt,At);for(let ls=On;ls<=ss;++ls){const cs=xn[ls];cs.skip||_t(cs,Zr,ls)}}}function Wv(ut){const lt=ut.indexOf("x")!==-1,ht=ut.indexOf("y")!==-1;return function(_t,At){const qt=lt?Math.abs(_t.x-At.x):0,Zt=ht?Math.abs(_t.y-At.y):0;return Math.sqrt(Math.pow(qt,2)+Math.pow(Zt,2))}}function Jl(ut,lt,ht,_t,At){const qt=[];return!At&&!ut.isPointInArea(lt)||Go(ut,ht,lt,function(Zt,cr,Gr){!At&&!zr(Zt,ut.chartArea,0)||Zt.inRange(lt.x,lt.y,_t)&&qt.push({element:Zt,datasetIndex:cr,index:Gr})},!0),qt}function Uv(ut,lt,ht,_t){let At=[];function qt(Zt,cr,Gr){const{startAngle:Zr,endAngle:xn}=Zt.getProps(["startAngle","endAngle"],_t),{angle:On}=g1(Zt,{x:lt.x,y:lt.y});Po(On,Zr,xn)&&At.push({element:Zt,datasetIndex:cr,index:Gr})}return Go(ut,ht,lt,qt),At}function zv(ut,lt,ht,_t,At,qt){let Zt=[];const cr=Wv(ht);let Gr=Number.POSITIVE_INFINITY;function Zr(xn,On,ss){const ls=xn.inRange(lt.x,lt.y,At);if(_t&&!ls)return;const cs=xn.getCenterPoint(At);if(!(qt||ut.isPointInArea(cs))&&!ls)return;const wl=cr(lt,cs);wl<Gr?(Zt=[{element:xn,datasetIndex:On,index:ss}],Gr=wl):wl===Gr&&Zt.push({element:xn,datasetIndex:On,index:ss})}return Go(ut,ht,lt,Zr),Zt}function Ql(ut,lt,ht,_t,At,qt){return!qt&&!ut.isPointInArea(lt)?[]:ht==="r"&&!_t?Uv(ut,lt,ht,At):zv(ut,lt,ht,_t,At,qt)}function Qd(ut,lt,ht,_t,At){const qt=[],Zt=ht==="x"?"inXRange":"inYRange";let cr=!1;return Go(ut,ht,lt,(Gr,Zr,xn)=>{Gr[Zt](lt[ht],At)&&(qt.push({element:Gr,datasetIndex:Zr,index:xn}),cr=cr||Gr.inRange(lt.x,lt.y,At))}),_t&&!cr?[]:qt}var Vv={evaluateInteractionItems:Go,modes:{index(ut,lt,ht,_t){const At=Pn(lt,ut),qt=ht.axis||"x",Zt=ht.includeInvisible||!1,cr=ht.intersect?Jl(ut,At,qt,_t,Zt):Ql(ut,At,qt,!1,_t,Zt),Gr=[];return cr.length?(ut.getSortedVisibleDatasetMetas().forEach(Zr=>{const xn=cr[0].index,On=Zr.data[xn];On&&!On.skip&&Gr.push({element:On,datasetIndex:Zr.index,index:xn})}),Gr):[]},dataset(ut,lt,ht,_t){const At=Pn(lt,ut),qt=ht.axis||"xy",Zt=ht.includeInvisible||!1;let cr=ht.intersect?Jl(ut,At,qt,_t,Zt):Ql(ut,At,qt,!1,_t,Zt);if(cr.length>0){const Gr=cr[0].datasetIndex,Zr=ut.getDatasetMeta(Gr).data;cr=[];for(let xn=0;xn<Zr.length;++xn)cr.push({element:Zr[xn],datasetIndex:Gr,index:xn})}return cr},point(ut,lt,ht,_t){const At=Pn(lt,ut),qt=ht.axis||"xy",Zt=ht.includeInvisible||!1;return Jl(ut,At,qt,_t,Zt)},nearest(ut,lt,ht,_t){const At=Pn(lt,ut),qt=ht.axis||"xy",Zt=ht.includeInvisible||!1;return Ql(ut,At,qt,ht.intersect,_t,Zt)},x(ut,lt,ht,_t){const At=Pn(lt,ut);return Qd(ut,At,"x",ht.intersect,_t)},y(ut,lt,ht,_t){const At=Pn(lt,ut);return Qd(ut,At,"y",ht.intersect,_t)}}};const W1=["left","top","right","bottom"];function Yi(ut,lt){return ut.filter(ht=>ht.pos===lt)}function Gd(ut,lt){return ut.filter(ht=>W1.indexOf(ht.pos)===-1&&ht.box.axis===lt)}function Ki(ut,lt){return ut.sort((ht,_t)=>{const At=lt?_t:ht,qt=lt?ht:_t;return At.weight===qt.weight?At.index-qt.index:At.weight-qt.weight})}function qv(ut){const lt=[];let ht,_t,At,qt,Zt,cr;for(ht=0,_t=(ut||[]).length;ht<_t;++ht)At=ut[ht],{position:qt,options:{stack:Zt,stackWeight:cr=1}}=At,lt.push({index:ht,box:At,pos:qt,horizontal:At.isHorizontal(),weight:At.weight,stack:Zt&&qt+Zt,stackWeight:cr});return lt}function Hv(ut){const lt={};for(const ht of ut){const{stack:_t,pos:At,stackWeight:qt}=ht;if(!_t||!W1.includes(At))continue;const Zt=lt[_t]||(lt[_t]={count:0,placed:0,weight:0,size:0});Zt.count++,Zt.weight+=qt}return lt}function Yv(ut,lt){const ht=Hv(ut),{vBoxMaxWidth:_t,hBoxMaxHeight:At}=lt;let qt,Zt,cr;for(qt=0,Zt=ut.length;qt<Zt;++qt){cr=ut[qt];const{fullSize:Gr}=cr.box,Zr=ht[cr.stack],xn=Zr&&cr.stackWeight/Zr.weight;cr.horizontal?(cr.width=xn?xn*_t:Gr&&lt.availableWidth,cr.height=At):(cr.width=_t,cr.height=xn?xn*At:Gr&&lt.availableHeight)}return ht}function Kv(ut){const lt=qv(ut),ht=Ki(lt.filter(Zr=>Zr.box.fullSize),!0),_t=Ki(Yi(lt,"left"),!0),At=Ki(Yi(lt,"right")),qt=Ki(Yi(lt,"top"),!0),Zt=Ki(Yi(lt,"bottom")),cr=Gd(lt,"x"),Gr=Gd(lt,"y");return{fullSize:ht,leftAndTop:_t.concat(qt),rightAndBottom:At.concat(Gr).concat(Zt).concat(cr),chartArea:Yi(lt,"chartArea"),vertical:_t.concat(At).concat(Gr),horizontal:qt.concat(Zt).concat(cr)}}function Zd(ut,lt,ht,_t){return Math.max(ut[ht],lt[ht])+Math.max(ut[_t],lt[_t])}function U1(ut,lt){ut.top=Math.max(ut.top,lt.top),ut.left=Math.max(ut.left,lt.left),ut.bottom=Math.max(ut.bottom,lt.bottom),ut.right=Math.max(ut.right,lt.right)}function Xv(ut,lt,ht,_t){const{pos:At,box:qt}=ht,Zt=ut.maxPadding;if(!Le(At)){ht.size&&(ut[At]-=ht.size);const On=_t[ht.stack]||{size:0,count:1};On.size=Math.max(On.size,ht.horizontal?qt.height:qt.width),ht.size=On.size/On.count,ut[At]+=ht.size}qt.getPadding&&U1(Zt,qt.getPadding());const cr=Math.max(0,lt.outerWidth-Zd(Zt,ut,"left","right")),Gr=Math.max(0,lt.outerHeight-Zd(Zt,ut,"top","bottom")),Zr=cr!==ut.w,xn=Gr!==ut.h;return ut.w=cr,ut.h=Gr,ht.horizontal?{same:Zr,other:xn}:{same:xn,other:Zr}}function Jv(ut){const lt=ut.maxPadding;function ht(_t){const At=Math.max(lt[_t]-ut[_t],0);return ut[_t]+=At,At}ut.y+=ht("top"),ut.x+=ht("left"),ht("right"),ht("bottom")}function Qv(ut,lt){const ht=lt.maxPadding;function _t(At){const qt={left:0,top:0,right:0,bottom:0};return At.forEach(Zt=>{qt[Zt]=Math.max(lt[Zt],ht[Zt])}),qt}return _t(ut?["left","right"]:["top","bottom"])}function so(ut,lt,ht,_t){const At=[];let qt,Zt,cr,Gr,Zr,xn;for(qt=0,Zt=ut.length,Zr=0;qt<Zt;++qt){cr=ut[qt],Gr=cr.box,Gr.update(cr.width||lt.w,cr.height||lt.h,Qv(cr.horizontal,lt));const{same:On,other:ss}=Xv(lt,ht,cr,_t);Zr|=On&&At.length,xn=xn||ss,Gr.fullSize||At.push(cr)}return Zr&&so(At,lt,ht,_t)||xn}function xs(ut,lt,ht,_t,At){ut.top=ht,ut.left=lt,ut.right=lt+_t,ut.bottom=ht+At,ut.width=_t,ut.height=At}function $d(ut,lt,ht,_t){const At=ht.padding;let{x:qt,y:Zt}=lt;for(const cr of ut){const Gr=cr.box,Zr=_t[cr.stack]||{count:1,placed:0,weight:1},xn=cr.stackWeight/Zr.weight||1;if(cr.horizontal){const On=lt.w*xn,ss=Zr.size||Gr.height;Io(Zr.start)&&(Zt=Zr.start),Gr.fullSize?xs(Gr,At.left,Zt,ht.outerWidth-At.right-At.left,ss):xs(Gr,lt.left+Zr.placed,Zt,On,ss),Zr.start=Zt,Zr.placed+=On,Zt=Gr.bottom}else{const On=lt.h*xn,ss=Zr.size||Gr.width;Io(Zr.start)&&(qt=Zr.start),Gr.fullSize?xs(Gr,qt,At.top,ss,ht.outerHeight-At.bottom-At.top):xs(Gr,qt,lt.top+Zr.placed,ss,On),Zr.start=qt,Zr.placed+=On,qt=Gr.right}}lt.x=qt,lt.y=Zt}var Rt={addBox(ut,lt){ut.boxes||(ut.boxes=[]),lt.fullSize=lt.fullSize||!1,lt.position=lt.position||"top",lt.weight=lt.weight||0,lt._layers=lt._layers||function(){return[{z:0,draw(ht){lt.draw(ht)}}]},ut.boxes.push(lt)},removeBox(ut,lt){const ht=ut.boxes?ut.boxes.indexOf(lt):-1;ht!==-1&&ut.boxes.splice(ht,1)},configure(ut,lt,ht){lt.fullSize=ht.fullSize,lt.position=ht.position,lt.weight=ht.weight},update(ut,lt,ht,_t){if(!ut)return;const At=Mt(ut.options.layout.padding),qt=Math.max(lt-At.width,0),Zt=Math.max(ht-At.height,0),cr=Kv(ut.boxes),Gr=cr.vertical,Zr=cr.horizontal;$e(ut.boxes,wl=>{typeof wl.beforeLayout=="function"&&wl.beforeLayout()});const xn=Gr.reduce((wl,ep)=>ep.box.options&&ep.box.options.display===!1?wl:wl+1,0)||1,On=Object.freeze({outerWidth:lt,outerHeight:ht,padding:At,availableWidth:qt,availableHeight:Zt,vBoxMaxWidth:qt/2/xn,hBoxMaxHeight:Zt/2}),ss=Object.assign({},At);U1(ss,Mt(_t));const ls=Object.assign({maxPadding:ss,w:qt,h:Zt,x:At.left,y:At.top},At),cs=Yv(Gr.concat(Zr),On);so(cr.fullSize,ls,On,cs),so(Gr,ls,On,cs),so(Zr,ls,On,cs)&&so(Gr,ls,On,cs),Jv(ls),$d(cr.leftAndTop,ls,On,cs),ls.x+=ls.w,ls.y+=ls.h,$d(cr.rightAndBottom,ls,On,cs),ut.chartArea={left:ls.left,top:ls.top,right:ls.left+ls.w,bottom:ls.top+ls.h,height:ls.h,width:ls.w},$e(cr.chartArea,wl=>{const ep=wl.box;Object.assign(ep,ut.chartArea),ep.update(ls.w,ls.h,{left:0,top:0,right:0,bottom:0})})}};class z1{acquireContext(lt,ht){}releaseContext(lt){return!1}addEventListener(lt,ht,_t){}removeEventListener(lt,ht,_t){}getDevicePixelRatio(){return 1}getMaximumSize(lt,ht,_t,At){return ht=Math.max(0,ht||lt.width),_t=_t||lt.height,{width:ht,height:Math.max(0,At?Math.floor(ht/At):_t)}}isAttached(lt){return!0}updateConfig(lt){}}class Gv extends z1{acquireContext(lt){return lt&&lt.getContext&&lt.getContext("2d")||null}updateConfig(lt){lt.options.animation=!1}}const Ks="$chartjs",Zv={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eh=ut=>ut===null||ut==="";function $v(ut,lt){const ht=ut.style,_t=ut.getAttribute("height"),At=ut.getAttribute("width");if(ut[Ks]={initial:{height:_t,width:At,style:{display:ht.display,height:ht.height,width:ht.width}}},ht.display=ht.display||"block",ht.boxSizing=ht.boxSizing||"border-box",eh(At)){const qt=Ld(ut,"width");qt!==void 0&&(ut.width=qt)}if(eh(_t))if(ut.style.height==="")ut.height=ut.width/(lt||2);else{const qt=Ld(ut,"height");qt!==void 0&&(ut.height=qt)}return ut}const V1=tv?{passive:!0}:!1;function e6(ut,lt,ht){ut.addEventListener(lt,ht,V1)}function t6(ut,lt,ht){ut.canvas.removeEventListener(lt,ht,V1)}function r6(ut,lt){const ht=Zv[ut.type]||ut.type,{x:_t,y:At}=Pn(ut,lt);return{type:ht,chart:lt,native:ut,x:_t!==void 0?_t:null,y:At!==void 0?At:null}}function Aa(ut,lt){for(const ht of ut)if(ht===lt||ht.contains(lt))return!0}function n6(ut,lt,ht){const _t=ut.canvas,At=new MutationObserver(qt=>{let Zt=!1;for(const cr of qt)Zt=Zt||Aa(cr.addedNodes,_t),Zt=Zt&&!Aa(cr.removedNodes,_t);Zt&&ht()});return At.observe(document,{childList:!0,subtree:!0}),At}function i6(ut,lt,ht){const _t=ut.canvas,At=new MutationObserver(qt=>{let Zt=!1;for(const cr of qt)Zt=Zt||Aa(cr.removedNodes,_t),Zt=Zt&&!Aa(cr.addedNodes,_t);Zt&&ht()});return At.observe(document,{childList:!0,subtree:!0}),At}const Do=new Map;let th=0;function q1(){const ut=window.devicePixelRatio;ut!==th&&(th=ut,Do.forEach((lt,ht)=>{ht.currentDevicePixelRatio!==ut&&lt()}))}function o6(ut,lt){Do.size||window.addEventListener("resize",q1),Do.set(ut,lt)}function s6(ut){Do.delete(ut),Do.size||window.removeEventListener("resize",q1)}function a6(ut,lt,ht){const _t=ut.canvas,At=_t&&Ku(_t);if(!At)return;const qt=v1((cr,Gr)=>{const Zr=At.clientWidth;ht(cr,Gr),Zr<At.clientWidth&&ht()},window),Zt=new ResizeObserver(cr=>{const Gr=cr[0],Zr=Gr.contentRect.width,xn=Gr.contentRect.height;Zr===0&&xn===0||qt(Zr,xn)});return Zt.observe(At),o6(ut,qt),Zt}function Gl(ut,lt,ht){ht&&ht.disconnect(),lt==="resize"&&s6(ut)}function l6(ut,lt,ht){const _t=ut.canvas,At=v1(qt=>{ut.ctx!==null&&ht(r6(qt,ut))},ut);return e6(_t,lt,At),At}class c6 extends z1{acquireContext(lt,ht){const _t=lt&&lt.getContext&&lt.getContext("2d");return _t&&_t.canvas===lt?($v(lt,ht),_t):null}releaseContext(lt){const ht=lt.canvas;if(!ht[Ks])return!1;const _t=ht[Ks].initial;["height","width"].forEach(qt=>{const Zt=_t[qt];We(Zt)?ht.removeAttribute(qt):ht.setAttribute(qt,Zt)});const At=_t.style||{};return Object.keys(At).forEach(qt=>{ht.style[qt]=At[qt]}),ht.width=ht.width,delete ht[Ks],!0}addEventListener(lt,ht,_t){this.removeEventListener(lt,ht);const At=lt.$proxies||(lt.$proxies={}),qt={attach:n6,detach:i6,resize:a6}[ht]||l6;At[ht]=qt(lt,ht,_t)}removeEventListener(lt,ht){const _t=lt.$proxies||(lt.$proxies={}),At=_t[ht];At&&(({attach:Gl,detach:Gl,resize:Gl}[ht]||t6)(lt,ht,At),_t[ht]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(lt,ht,_t,At){return ev(lt,ht,_t,At)}isAttached(lt){const ht=Ku(lt);return!!(ht&&ht.isConnected)}}function u6(ut){return!P1()||typeof OffscreenCanvas<"u"&&ut instanceof OffscreenCanvas?Gv:c6}var js;let Jr=(js=class{constructor(){ye(this,"x"),ye(this,"y"),ye(this,"active",!1),ye(this,"options"),ye(this,"$animations")}tooltipPosition(ut){const{x:lt,y:ht}=this.getProps(["x","y"],ut);return{x:lt,y:ht}}hasValue(){return Ei(this.x)&&Ei(this.y)}getProps(ut,lt){const ht=this.$animations;if(!lt||!ht)return this;const _t={};return ut.forEach(At=>{_t[At]=ht[At]&&ht[At].active()?ht[At]._to:this[At]}),_t}},ye(js,"defaults",{}),ye(js,"defaultRoutes"),js);function f6(ut,lt){const ht=ut.options.ticks,_t=d6(ut),At=Math.min(ht.maxTicksLimit||_t,_t),qt=ht.major.enabled?p6(lt):[],Zt=qt.length,cr=qt[0],Gr=qt[Zt-1],Zr=[];if(Zt>At)return g6(lt,Zr,qt,Zt/At),Zr;const xn=h6(qt,lt,At);if(Zt>0){let On,ss;const ls=Zt>1?Math.round((Gr-cr)/(Zt-1)):null;for(_s(lt,Zr,xn,We(ls)?0:cr-ls,cr),On=0,ss=Zt-1;On<ss;On++)_s(lt,Zr,xn,qt[On],qt[On+1]);return _s(lt,Zr,xn,Gr,We(ls)?lt.length:Gr+ls),Zr}return _s(lt,Zr,xn),Zr}function d6(ut){const lt=ut.options.offset,ht=ut._tickSize(),_t=ut._length/ht+(lt?0:1),At=ut._maxLength/ht;return Math.floor(Math.min(_t,At))}function h6(ut,lt,ht){const _t=m6(ut),At=lt.length/ht;if(!_t)return Math.max(At,1);const qt=i2(_t);for(let Zt=0,cr=qt.length-1;Zt<cr;Zt++){const Gr=qt[Zt];if(Gr>At)return Gr}return Math.max(At,1)}function p6(ut){const lt=[];let ht,_t;for(ht=0,_t=ut.length;ht<_t;ht++)ut[ht].major&&lt.push(ht);return lt}function g6(ut,lt,ht,_t){let At=0,qt=ht[0],Zt;for(_t=Math.ceil(_t),Zt=0;Zt<ut.length;Zt++)Zt===qt&&(lt.push(ut[Zt]),At++,qt=ht[At*_t])}function _s(ut,lt,ht,_t,At){const qt=Oe(_t,0),Zt=Math.min(Oe(At,ut.length),ut.length);let cr=0,Gr,Zr,xn;for(ht=Math.ceil(ht),At&&(Gr=At-_t,ht=Gr/Math.floor(Gr/ht)),xn=qt;xn<0;)cr++,xn=Math.round(qt+cr*ht);for(Zr=Math.max(qt,0);Zr<Zt;Zr++)Zr===xn&&(lt.push(ut[Zr]),cr++,xn=Math.round(qt+cr*ht))}function m6(ut){const lt=ut.length;let ht,_t;if(lt<2)return!1;for(_t=ut[0],ht=1;ht<lt;++ht)if(ut[ht]-ut[ht-1]!==_t)return!1;return _t}const y6=ut=>ut==="left"?"right":ut==="right"?"left":ut,rh=(ut,lt,ht)=>lt==="top"||lt==="left"?ut[lt]+ht:ut[lt]-ht,nh=(ut,lt)=>Math.min(lt||ut,ut);function ih(ut,lt){const ht=[],_t=ut.length/lt,At=ut.length;let qt=0;for(;qt<At;qt+=_t)ht.push(ut[Math.floor(qt)]);return ht}function b6(ut,lt,ht){const _t=ut.ticks.length,At=Math.min(lt,_t-1),qt=ut._startPixel,Zt=ut._endPixel,cr=1e-6;let Gr=ut.getPixelForTick(At),Zr;if(!(ht&&(_t===1?Zr=Math.max(Gr-qt,Zt-Gr):lt===0?Zr=(ut.getPixelForTick(1)-Gr)/2:Zr=(Gr-ut.getPixelForTick(At-1))/2,Gr+=At<lt?Zr:-Zr,Gr<qt-cr||Gr>Zt+cr)))return Gr}function v6(ut,lt){$e(ut,ht=>{const _t=ht.gc,At=_t.length/2;let qt;if(At>lt){for(qt=0;qt<At;++qt)delete ht.data[_t[qt]];_t.splice(0,At)}})}function Xi(ut){return ut.drawTicks?ut.tickLength:0}function oh(ut,lt){if(!ut.display)return 0;const ht=vt(ut.font,lt),_t=Mt(ut.padding);return(it(ut.text)?ut.text.length:1)*ht.lineHeight+_t.height}function A6(ut,lt){return vn(ut,{scale:lt,type:"scale"})}function w6(ut,lt,ht){return vn(ut,{tick:ht,index:lt,type:"tick"})}function x6(ut,lt,ht){let _t=Uu(ut);return(ht&&lt!=="right"||!ht&&lt==="right")&&(_t=y6(_t)),_t}function _6(ut,lt,ht,_t){const{top:At,left:qt,bottom:Zt,right:cr,chart:Gr}=ut,{chartArea:Zr,scales:xn}=Gr;let On=0,ss,ls,cs;const wl=Zt-At,ep=cr-qt;if(ut.isHorizontal()){if(ls=It(_t,qt,cr),Le(ht)){const Al=Object.keys(ht)[0],np=ht[Al];cs=xn[Al].getPixelForValue(np)+wl-lt}else ht==="center"?cs=(Zr.bottom+Zr.top)/2+wl-lt:cs=rh(ut,ht,lt);ss=cr-qt}else{if(Le(ht)){const Al=Object.keys(ht)[0],np=ht[Al];ls=xn[Al].getPixelForValue(np)-ep+lt}else ht==="center"?ls=(Zr.left+Zr.right)/2-ep+lt:ls=rh(ut,ht,lt);cs=It(_t,Zt,At),On=ht==="left"?-mt:mt}return{titleX:ls,titleY:cs,maxWidth:ss,rotation:On}}class Zn extends Jr{constructor(lt){super(),this.id=lt.id,this.type=lt.type,this.options=void 0,this.ctx=lt.ctx,this.chart=lt.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(lt){this.options=lt.setContext(this.getContext()),this.axis=lt.axis,this._userMin=this.parse(lt.min),this._userMax=this.parse(lt.max),this._suggestedMin=this.parse(lt.suggestedMin),this._suggestedMax=this.parse(lt.suggestedMax)}parse(lt,ht){return lt}getUserBounds(){let{_userMin:lt,_userMax:ht,_suggestedMin:_t,_suggestedMax:At}=this;return lt=Ht(lt,Number.POSITIVE_INFINITY),ht=Ht(ht,Number.NEGATIVE_INFINITY),_t=Ht(_t,Number.POSITIVE_INFINITY),At=Ht(At,Number.NEGATIVE_INFINITY),{min:Ht(lt,_t),max:Ht(ht,At),minDefined:pt(lt),maxDefined:pt(ht)}}getMinMax(lt){let{min:ht,max:_t,minDefined:At,maxDefined:qt}=this.getUserBounds(),Zt;if(At&&qt)return{min:ht,max:_t};const cr=this.getMatchingVisibleMetas();for(let Gr=0,Zr=cr.length;Gr<Zr;++Gr)Zt=cr[Gr].controller.getMinMax(this,lt),At||(ht=Math.min(ht,Zt.min)),qt||(_t=Math.max(_t,Zt.max));return ht=qt&&ht>_t?_t:ht,_t=At&&ht>_t?ht:_t,{min:Ht(ht,Ht(_t,ht)),max:Ht(_t,Ht(ht,_t))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const lt=this.chart.data;return this.options.labels||(this.isHorizontal()?lt.xLabels:lt.yLabels)||lt.labels||[]}getLabelItems(lt=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(lt))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(lt,ht,_t){const{beginAtZero:At,grace:qt,ticks:Zt}=this.options,cr=Zt.sampleSize;this.beforeUpdate(),this.maxWidth=lt,this.maxHeight=ht,this._margins=_t=Object.assign({left:0,right:0,top:0,bottom:0},_t),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+_t.left+_t.right:this.height+_t.top+_t.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=R2(this,qt,At),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Gr=cr<this.ticks.length;this._convertTicksToLabels(Gr?ih(this.ticks,cr):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),Zt.display&&(Zt.autoSkip||Zt.source==="auto")&&(this.ticks=f6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),Gr&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let lt=this.options.reverse,ht,_t;this.isHorizontal()?(ht=this.left,_t=this.right):(ht=this.top,_t=this.bottom,lt=!lt),this._startPixel=ht,this._endPixel=_t,this._reversePixels=lt,this._length=_t-ht,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(lt){this.chart.notifyPlugins(lt,this.getContext()),nt(this.options[lt],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(lt){const ht=this.options.ticks;let _t,At,qt;for(_t=0,At=lt.length;_t<At;_t++)qt=lt[_t],qt.label=nt(ht.callback,[qt.value,_t,lt],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const lt=this.options,ht=lt.ticks,_t=nh(this.ticks.length,lt.ticks.maxTicksLimit),At=ht.minRotation||0,qt=ht.maxRotation;let Zt=At,cr,Gr,Zr;if(!this._isVisible()||!ht.display||At>=qt||_t<=1||!this.isHorizontal()){this.labelRotation=At;return}const xn=this._getLabelSizes(),On=xn.widest.width,ss=xn.highest.height,ls=St(this.chart.width-On,0,this.maxWidth);cr=lt.offset?this.maxWidth/_t:ls/(_t-1),On+6>cr&&(cr=ls/(_t-(lt.offset?.5:1)),Gr=this.maxHeight-Xi(lt.grid)-ht.padding-oh(lt.title,this.chart.options.font),Zr=Math.sqrt(On*On+ss*ss),Zt=ju(Math.min(Math.asin(St((xn.highest.height+6)/cr,-1,1)),Math.asin(St(Gr/Zr,-1,1))-Math.asin(St(ss/Zr,-1,1)))),Zt=Math.max(At,Math.min(qt,Zt))),this.labelRotation=Zt}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const lt={width:0,height:0},{chart:ht,options:{ticks:_t,title:At,grid:qt}}=this,Zt=this._isVisible(),cr=this.isHorizontal();if(Zt){const Gr=oh(At,ht.options.font);if(cr?(lt.width=this.maxWidth,lt.height=Xi(qt)+Gr):(lt.height=this.maxHeight,lt.width=Xi(qt)+Gr),_t.display&&this.ticks.length){const{first:Zr,last:xn,widest:On,highest:ss}=this._getLabelSizes(),ls=_t.padding*2,cs=gr(this.labelRotation),wl=Math.cos(cs),ep=Math.sin(cs);if(cr){const Al=_t.mirror?0:ep*On.width+wl*ss.height;lt.height=Math.min(this.maxHeight,lt.height+Al+ls)}else{const Al=_t.mirror?0:wl*On.width+ep*ss.height;lt.width=Math.min(this.maxWidth,lt.width+Al+ls)}this._calculatePadding(Zr,xn,ep,wl)}}this._handleMargins(),cr?(this.width=this._length=ht.width-this._margins.left-this._margins.right,this.height=lt.height):(this.width=lt.width,this.height=this._length=ht.height-this._margins.top-this._margins.bottom)}_calculatePadding(lt,ht,_t,At){const{ticks:{align:qt,padding:Zt},position:cr}=this.options,Gr=this.labelRotation!==0,Zr=cr!=="top"&&this.axis==="x";if(this.isHorizontal()){const xn=this.getPixelForTick(0)-this.left,On=this.right-this.getPixelForTick(this.ticks.length-1);let ss=0,ls=0;Gr?Zr?(ss=At*lt.width,ls=_t*ht.height):(ss=_t*lt.height,ls=At*ht.width):qt==="start"?ls=ht.width:qt==="end"?ss=lt.width:qt!=="inner"&&(ss=lt.width/2,ls=ht.width/2),this.paddingLeft=Math.max((ss-xn+Zt)*this.width/(this.width-xn),0),this.paddingRight=Math.max((ls-On+Zt)*this.width/(this.width-On),0)}else{let xn=ht.height/2,On=lt.height/2;qt==="start"?(xn=0,On=lt.height):qt==="end"&&(xn=ht.height,On=0),this.paddingTop=xn+Zt,this.paddingBottom=On+Zt}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:lt,position:ht}=this.options;return ht==="top"||ht==="bottom"||lt==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(lt){this.beforeTickToLabelConversion(),this.generateTickLabels(lt);let ht,_t;for(ht=0,_t=lt.length;ht<_t;ht++)We(lt[ht].label)&&(lt.splice(ht,1),_t--,ht--);this.afterTickToLabelConversion()}_getLabelSizes(){let lt=this._labelSizes;if(!lt){const ht=this.options.ticks.sampleSize;let _t=this.ticks;ht<_t.length&&(_t=ih(_t,ht)),this._labelSizes=lt=this._computeLabelSizes(_t,_t.length,this.options.ticks.maxTicksLimit)}return lt}_computeLabelSizes(lt,ht,_t){const{ctx:At,_longestTextCache:qt}=this,Zt=[],cr=[],Gr=Math.floor(ht/nh(ht,_t));let Zr=0,xn=0,On,ss,ls,cs,wl,ep,Al,np,cp,Cp,Lp;for(On=0;On<ht;On+=Gr){if(cs=lt[On].label,wl=this._resolveTickFontOptions(On),At.font=ep=wl.string,Al=qt[ep]=qt[ep]||{data:{},gc:[]},np=wl.lineHeight,cp=Cp=0,!We(cs)&&!it(cs))cp=ba(At,Al.data,Al.gc,cp,cs),Cp=np;else if(it(cs))for(ss=0,ls=cs.length;ss<ls;++ss)Lp=cs[ss],!We(Lp)&&!it(Lp)&&(cp=ba(At,Al.data,Al.gc,cp,Lp),Cp+=np);Zt.push(cp),cr.push(Cp),Zr=Math.max(cp,Zr),xn=Math.max(Cp,xn)}v6(qt,ht);const jp=Zt.indexOf(Zr),nm=cr.indexOf(xn),zm=i1=>({width:Zt[i1]||0,height:cr[i1]||0});return{first:zm(0),last:zm(ht-1),widest:zm(jp),highest:zm(nm),widths:Zt,heights:cr}}getLabelForValue(lt){return lt}getPixelForValue(lt,ht){return NaN}getValueForPixel(lt){}getPixelForTick(lt){const ht=this.ticks;return lt<0||lt>ht.length-1?null:this.getPixelForValue(ht[lt].value)}getPixelForDecimal(lt){this._reversePixels&&(lt=1-lt);const ht=this._startPixel+lt*this._length;return a2(this._alignToPixels?kn(this.chart,ht,0):ht)}getDecimalForPixel(lt){const ht=(lt-this._startPixel)/this._length;return this._reversePixels?1-ht:ht}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:lt,max:ht}=this;return lt<0&&ht<0?ht:lt>0&&ht>0?lt:0}getContext(lt){const ht=this.ticks||[];if(lt>=0&&lt<ht.length){const _t=ht[lt];return _t.$context||(_t.$context=w6(this.getContext(),lt,_t))}return this.$context||(this.$context=A6(this.chart.getContext(),this))}_tickSize(){const lt=this.options.ticks,ht=gr(this.labelRotation),_t=Math.abs(Math.cos(ht)),At=Math.abs(Math.sin(ht)),qt=this._getLabelSizes(),Zt=lt.autoSkipPadding||0,cr=qt?qt.widest.width+Zt:0,Gr=qt?qt.highest.height+Zt:0;return this.isHorizontal()?Gr*_t>cr*At?cr/_t:Gr/At:Gr*At<cr*_t?Gr/_t:cr/At}_isVisible(){const lt=this.options.display;return lt!=="auto"?!!lt:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(lt){const ht=this.axis,_t=this.chart,At=this.options,{grid:qt,position:Zt,border:cr}=At,Gr=qt.offset,Zr=this.isHorizontal(),xn=this.ticks.length+(Gr?1:0),On=Xi(qt),ss=[],ls=cr.setContext(this.getContext()),cs=ls.display?ls.width:0,wl=cs/2,ep=function(us){return kn(_t,us,cs)};let Al,np,cp,Cp,Lp,jp,nm,zm,i1,d3,op,Sn;if(Zt==="top")Al=ep(this.bottom),jp=this.bottom-On,zm=Al-wl,d3=ep(lt.top)+wl,Sn=lt.bottom;else if(Zt==="bottom")Al=ep(this.top),d3=lt.top,Sn=ep(lt.bottom)-wl,jp=Al+wl,zm=this.top+On;else if(Zt==="left")Al=ep(this.right),Lp=this.right-On,nm=Al-wl,i1=ep(lt.left)+wl,op=lt.right;else if(Zt==="right")Al=ep(this.left),i1=lt.left,op=ep(lt.right)-wl,Lp=Al+wl,nm=this.left+On;else if(ht==="x"){if(Zt==="center")Al=ep((lt.top+lt.bottom)/2+.5);else if(Le(Zt)){const us=Object.keys(Zt)[0],xl=Zt[us];Al=ep(this.chart.scales[us].getPixelForValue(xl))}d3=lt.top,Sn=lt.bottom,jp=Al+wl,zm=jp+On}else if(ht==="y"){if(Zt==="center")Al=ep((lt.left+lt.right)/2);else if(Le(Zt)){const us=Object.keys(Zt)[0],xl=Zt[us];Al=ep(this.chart.scales[us].getPixelForValue(xl))}Lp=Al-wl,nm=Lp-On,i1=lt.left,op=lt.right}const Fo=Oe(At.ticks.maxTicksLimit,xn),as=Math.max(1,Math.ceil(xn/Fo));for(np=0;np<xn;np+=as){const us=this.getContext(np),xl=qt.setContext(us),ip=cr.setContext(us),lp=xl.lineWidth,pu=xl.color,go=ip.dash||[],h0=ip.dashOffset,kp=xl.tickWidth,cm=xl.tickColor,b3=xl.tickBorderDash||[],L_=xl.tickBorderDashOffset;cp=b6(this,np,Gr),cp!==void 0&&(Cp=kn(_t,cp,lp),Zr?Lp=nm=i1=op=Cp:jp=zm=d3=Sn=Cp,ss.push({tx1:Lp,ty1:jp,tx2:nm,ty2:zm,x1:i1,y1:d3,x2:op,y2:Sn,width:lp,color:pu,borderDash:go,borderDashOffset:h0,tickWidth:kp,tickColor:cm,tickBorderDash:b3,tickBorderDashOffset:L_}))}return this._ticksLength=xn,this._borderValue=Al,ss}_computeLabelItems(lt){const ht=this.axis,_t=this.options,{position:At,ticks:qt}=_t,Zt=this.isHorizontal(),cr=this.ticks,{align:Gr,crossAlign:Zr,padding:xn,mirror:On}=qt,ss=Xi(_t.grid),ls=ss+xn,cs=On?-xn:ls,wl=-gr(this.labelRotation),ep=[];let Al,np,cp,Cp,Lp,jp,nm,zm,i1,d3,op,Sn,Fo="middle";if(At==="top")jp=this.bottom-cs,nm=this._getXAxisLabelAlignment();else if(At==="bottom")jp=this.top+cs,nm=this._getXAxisLabelAlignment();else if(At==="left"){const us=this._getYAxisLabelAlignment(ss);nm=us.textAlign,Lp=us.x}else if(At==="right"){const us=this._getYAxisLabelAlignment(ss);nm=us.textAlign,Lp=us.x}else if(ht==="x"){if(At==="center")jp=(lt.top+lt.bottom)/2+ls;else if(Le(At)){const us=Object.keys(At)[0],xl=At[us];jp=this.chart.scales[us].getPixelForValue(xl)+ls}nm=this._getXAxisLabelAlignment()}else if(ht==="y"){if(At==="center")Lp=(lt.left+lt.right)/2-ls;else if(Le(At)){const us=Object.keys(At)[0],xl=At[us];Lp=this.chart.scales[us].getPixelForValue(xl)}nm=this._getYAxisLabelAlignment(ss).textAlign}ht==="y"&&(Gr==="start"?Fo="top":Gr==="end"&&(Fo="bottom"));const as=this._getLabelSizes();for(Al=0,np=cr.length;Al<np;++Al){cp=cr[Al],Cp=cp.label;const us=qt.setContext(this.getContext(Al));zm=this.getPixelForTick(Al)+qt.labelOffset,i1=this._resolveTickFontOptions(Al),d3=i1.lineHeight,op=it(Cp)?Cp.length:1;const xl=op/2,ip=us.color,lp=us.textStrokeColor,pu=us.textStrokeWidth;let go=nm;Zt?(Lp=zm,nm==="inner"&&(Al===np-1?go=this.options.reverse?"left":"right":Al===0?go=this.options.reverse?"right":"left":go="center"),At==="top"?Zr==="near"||wl!==0?Sn=-op*d3+d3/2:Zr==="center"?Sn=-as.highest.height/2-xl*d3+d3:Sn=-as.highest.height+d3/2:Zr==="near"||wl!==0?Sn=d3/2:Zr==="center"?Sn=as.highest.height/2-xl*d3:Sn=as.highest.height-op*d3,On&&(Sn*=-1),wl!==0&&!us.showLabelBackdrop&&(Lp+=d3/2*Math.sin(wl))):(jp=zm,Sn=(1-op)*d3/2);let h0;if(us.showLabelBackdrop){const kp=Mt(us.backdropPadding),cm=as.heights[Al],b3=as.widths[Al];let L_=Sn-kp.top,Ym=0-kp.left;switch(Fo){case"middle":L_-=cm/2;break;case"bottom":L_-=cm;break}switch(nm){case"center":Ym-=b3/2;break;case"right":Ym-=b3;break}h0={left:Ym,top:L_,width:b3+kp.width,height:cm+kp.height,color:us.backdropColor}}ep.push({label:Cp,font:i1,textOffset:Sn,options:{rotation:wl,color:ip,strokeColor:lp,strokeWidth:pu,textAlign:go,textBaseline:Fo,translation:[Lp,jp],backdrop:h0}})}return ep}_getXAxisLabelAlignment(){const{position:lt,ticks:ht}=this.options;if(-gr(this.labelRotation))return lt==="top"?"left":"right";let _t="center";return ht.align==="start"?_t="left":ht.align==="end"?_t="right":ht.align==="inner"&&(_t="inner"),_t}_getYAxisLabelAlignment(lt){const{position:ht,ticks:{crossAlign:_t,mirror:At,padding:qt}}=this.options,Zt=this._getLabelSizes(),cr=lt+qt,Gr=Zt.widest.width;let Zr,xn;return ht==="left"?At?(xn=this.right+qt,_t==="near"?Zr="left":_t==="center"?(Zr="center",xn+=Gr/2):(Zr="right",xn+=Gr)):(xn=this.right-cr,_t==="near"?Zr="right":_t==="center"?(Zr="center",xn-=Gr/2):(Zr="left",xn=this.left)):ht==="right"?At?(xn=this.left+qt,_t==="near"?Zr="right":_t==="center"?(Zr="center",xn-=Gr/2):(Zr="left",xn-=Gr)):(xn=this.left+cr,_t==="near"?Zr="left":_t==="center"?(Zr="center",xn+=Gr/2):(Zr="right",xn=this.right)):Zr="right",{textAlign:Zr,x:xn}}_computeLabelArea(){if(this.options.ticks.mirror)return;const lt=this.chart,ht=this.options.position;if(ht==="left"||ht==="right")return{top:0,left:this.left,bottom:lt.height,right:this.right};if(ht==="top"||ht==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:lt.width}}drawBackground(){const{ctx:lt,options:{backgroundColor:ht},left:_t,top:At,width:qt,height:Zt}=this;ht&&(lt.save(),lt.fillStyle=ht,lt.fillRect(_t,At,qt,Zt),lt.restore())}getLineWidthForValue(lt){const ht=this.options.grid;if(!this._isVisible()||!ht.display)return 0;const _t=this.ticks.findIndex(At=>At.value===lt);return _t>=0?ht.setContext(this.getContext(_t)).lineWidth:0}drawGrid(lt){const ht=this.options.grid,_t=this.ctx,At=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(lt));let qt,Zt;const cr=(Gr,Zr,xn)=>{!xn.width||!xn.color||(_t.save(),_t.lineWidth=xn.width,_t.strokeStyle=xn.color,_t.setLineDash(xn.borderDash||[]),_t.lineDashOffset=xn.borderDashOffset,_t.beginPath(),_t.moveTo(Gr.x,Gr.y),_t.lineTo(Zr.x,Zr.y),_t.stroke(),_t.restore())};if(ht.display)for(qt=0,Zt=At.length;qt<Zt;++qt){const Gr=At[qt];ht.drawOnChartArea&&cr({x:Gr.x1,y:Gr.y1},{x:Gr.x2,y:Gr.y2},Gr),ht.drawTicks&&cr({x:Gr.tx1,y:Gr.ty1},{x:Gr.tx2,y:Gr.ty2},{color:Gr.tickColor,width:Gr.tickWidth,borderDash:Gr.tickBorderDash,borderDashOffset:Gr.tickBorderDashOffset})}}drawBorder(){const{chart:lt,ctx:ht,options:{border:_t,grid:At}}=this,qt=_t.setContext(this.getContext()),Zt=_t.display?qt.width:0;if(!Zt)return;const cr=At.setContext(this.getContext(0)).lineWidth,Gr=this._borderValue;let Zr,xn,On,ss;this.isHorizontal()?(Zr=kn(lt,this.left,Zt)-Zt/2,xn=kn(lt,this.right,cr)+cr/2,On=ss=Gr):(On=kn(lt,this.top,Zt)-Zt/2,ss=kn(lt,this.bottom,cr)+cr/2,Zr=xn=Gr),ht.save(),ht.lineWidth=qt.width,ht.strokeStyle=qt.color,ht.beginPath(),ht.moveTo(Zr,On),ht.lineTo(xn,ss),ht.stroke(),ht.restore()}drawLabels(lt){if(!this.options.ticks.display)return;const ht=this.ctx,_t=this._computeLabelArea();_t&&Ka(ht,_t);const At=this.getLabelItems(lt);for(const qt of At){const Zt=qt.options,cr=qt.font,Gr=qt.label,Zr=qt.textOffset;Kn(ht,Gr,0,Zr,cr,Zt)}_t&&Xa(ht)}drawTitle(){const{ctx:lt,options:{position:ht,title:_t,reverse:At}}=this;if(!_t.display)return;const qt=vt(_t.font),Zt=Mt(_t.padding),cr=_t.align;let Gr=qt.lineHeight/2;ht==="bottom"||ht==="center"||Le(ht)?(Gr+=Zt.bottom,it(_t.text)&&(Gr+=qt.lineHeight*(_t.text.length-1))):Gr+=Zt.top;const{titleX:Zr,titleY:xn,maxWidth:On,rotation:ss}=_6(this,Gr,ht,cr);Kn(lt,_t.text,0,0,qt,{color:_t.color,maxWidth:On,rotation:ss,textAlign:x6(cr,ht,At),textBaseline:"middle",translation:[Zr,xn]})}draw(lt){this._isVisible()&&(this.drawBackground(),this.drawGrid(lt),this.drawBorder(),this.drawTitle(),this.drawLabels(lt))}_layers(){const lt=this.options,ht=lt.ticks&&lt.ticks.z||0,_t=Oe(lt.grid&&lt.grid.z,-1),At=Oe(lt.border&&lt.border.z,0);return!this._isVisible()||this.draw!==Zn.prototype.draw?[{z:ht,draw:qt=>{this.draw(qt)}}]:[{z:_t,draw:qt=>{this.drawBackground(),this.drawGrid(qt),this.drawTitle()}},{z:At,draw:()=>{this.drawBorder()}},{z:ht,draw:qt=>{this.drawLabels(qt)}}]}getMatchingVisibleMetas(lt){const ht=this.chart.getSortedVisibleDatasetMetas(),_t=this.axis+"AxisID",At=[];let qt,Zt;for(qt=0,Zt=ht.length;qt<Zt;++qt){const cr=ht[qt];cr[_t]===this.id&&(!lt||cr.type===lt)&&At.push(cr)}return At}_resolveTickFontOptions(lt){const ht=this.options.ticks.setContext(this.getContext(lt));return vt(ht.font)}_maxDigits(){const lt=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/lt}}class Ss{constructor(lt,ht,_t){this.type=lt,this.scope=ht,this.override=_t,this.items=Object.create(null)}isForType(lt){return Object.prototype.isPrototypeOf.call(this.type.prototype,lt.prototype)}register(lt){const ht=Object.getPrototypeOf(lt);let _t;k6(ht)&&(_t=this.register(ht));const At=this.items,qt=lt.id,Zt=this.scope+"."+qt;if(!qt)throw new Error("class does not have id: "+lt);return qt in At||(At[qt]=lt,S6(lt,Zt,_t),this.override&&gt.override(lt.id,lt.overrides)),Zt}get(lt){return this.items[lt]}unregister(lt){const ht=this.items,_t=lt.id,At=this.scope;_t in ht&&delete ht[_t],At&&_t in gt[At]&&(delete gt[At][_t],this.override&&delete Yn[_t])}}function S6(ut,lt,ht){const _t=Oo(Object.create(null),[ht?gt.get(ht):{},gt.get(lt),ut.defaults]);gt.set(lt,_t),ut.defaultRoutes&&E6(lt,ut.defaultRoutes),ut.descriptors&&gt.describe(lt,ut.descriptors)}function E6(ut,lt){Object.keys(lt).forEach(ht=>{const _t=ht.split("."),At=_t.pop(),qt=[ut].concat(_t).join("."),Zt=lt[ht].split("."),cr=Zt.pop(),Gr=Zt.join(".");gt.route(qt,At,Gr,cr)})}function k6(ut){return"id"in ut&&"defaults"in ut}class C6{constructor(){this.controllers=new Ss(mr,"datasets",!0),this.elements=new Ss(Jr,"elements"),this.plugins=new Ss(Object,"plugins"),this.scales=new Ss(Zn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...lt){this._each("register",lt)}remove(...lt){this._each("unregister",lt)}addControllers(...lt){this._each("register",lt,this.controllers)}addElements(...lt){this._each("register",lt,this.elements)}addPlugins(...lt){this._each("register",lt,this.plugins)}addScales(...lt){this._each("register",lt,this.scales)}getController(lt){return this._get(lt,this.controllers,"controller")}getElement(lt){return this._get(lt,this.elements,"element")}getPlugin(lt){return this._get(lt,this.plugins,"plugin")}getScale(lt){return this._get(lt,this.scales,"scale")}removeControllers(...lt){this._each("unregister",lt,this.controllers)}removeElements(...lt){this._each("unregister",lt,this.elements)}removePlugins(...lt){this._each("unregister",lt,this.plugins)}removeScales(...lt){this._each("unregister",lt,this.scales)}_each(lt,ht,_t){[...ht].forEach(At=>{const qt=_t||this._getRegistryForType(At);_t||qt.isForType(At)||qt===this.plugins&&At.id?this._exec(lt,qt,At):$e(At,Zt=>{const cr=_t||this._getRegistryForType(Zt);this._exec(lt,cr,Zt)})})}_exec(lt,ht,_t){const At=Fu(lt);nt(_t["before"+At],[],_t),ht[lt](_t),nt(_t["after"+At],[],_t)}_getRegistryForType(lt){for(let ht=0;ht<this._typedRegistries.length;ht++){const _t=this._typedRegistries[ht];if(_t.isForType(lt))return _t}return this.plugins}_get(lt,ht,_t){const At=ht.get(lt);if(At===void 0)throw new Error('"'+lt+'" is not a registered '+_t+".");return At}}var Ar=new C6;class T6{constructor(){this._init=[]}notify(lt,ht,_t,At){ht==="beforeInit"&&(this._init=this._createDescriptors(lt,!0),this._notify(this._init,lt,"install"));const qt=At?this._descriptors(lt).filter(At):this._descriptors(lt),Zt=this._notify(qt,lt,ht,_t);return ht==="afterDestroy"&&(this._notify(qt,lt,"stop"),this._notify(this._init,lt,"uninstall")),Zt}_notify(lt,ht,_t,At){At=At||{};for(const qt of lt){const Zt=qt.plugin,cr=Zt[_t],Gr=[ht,At,qt.options];if(nt(cr,Gr,Zt)===!1&&At.cancelable)return!1}return!0}invalidate(){We(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(lt){if(this._cache)return this._cache;const ht=this._cache=this._createDescriptors(lt);return this._notifyStateChanges(lt),ht}_createDescriptors(lt,ht){const _t=lt&&lt.config,At=Oe(_t.options&&_t.options.plugins,{}),qt=O6(_t);return At===!1&&!ht?[]:P6(lt,qt,At,ht)}_notifyStateChanges(lt){const ht=this._oldCache||[],_t=this._cache,At=(qt,Zt)=>qt.filter(cr=>!Zt.some(Gr=>cr.plugin.id===Gr.plugin.id));this._notify(At(ht,_t),lt,"stop"),this._notify(At(_t,ht),lt,"start")}}function O6(ut){const lt={},ht=[],_t=Object.keys(Ar.plugins.items);for(let qt=0;qt<_t.length;qt++)ht.push(Ar.getPlugin(_t[qt]));const At=ut.plugins||[];for(let qt=0;qt<At.length;qt++){const Zt=At[qt];ht.indexOf(Zt)===-1&&(ht.push(Zt),lt[Zt.id]=!0)}return{plugins:ht,localIds:lt}}function I6(ut,lt){return!lt&&ut===!1?null:ut===!0?{}:ut}function P6(ut,{plugins:lt,localIds:ht},_t,At){const qt=[],Zt=ut.getContext();for(const cr of lt){const Gr=cr.id,Zr=I6(_t[Gr],At);Zr!==null&&qt.push({plugin:cr,options:R6(ut.config,{plugin:cr,local:ht[Gr]},Zr,Zt)})}return qt}function R6(ut,{plugin:lt,local:ht},_t,At){const qt=ut.pluginScopeKeys(lt),Zt=ut.getOptionScopes(_t,qt);return ht&&lt.defaults&&Zt.push(lt.defaults),ut.createResolver(Zt,At,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Bc(ut,lt){const ht=gt.datasets[ut]||{};return((lt.datasets||{})[ut]||{}).indexAxis||lt.indexAxis||ht.indexAxis||"x"}function D6(ut,lt){let ht=ut;return ut==="_index_"?ht=lt:ut==="_value_"&&(ht=lt==="x"?"y":"x"),ht}function M6(ut,lt){return ut===lt?"_index_":"_value_"}function sh(ut){if(ut==="x"||ut==="y"||ut==="r")return ut}function N6(ut){if(ut==="top"||ut==="bottom")return"x";if(ut==="left"||ut==="right")return"y"}function Fc(ut,...lt){if(sh(ut))return ut;for(const ht of lt){const _t=ht.axis||N6(ht.position)||ut.length>1&&sh(ut[0].toLowerCase());if(_t)return _t}throw new Error(`Cannot determine type of '${ut}' axis. Please provide 'axis' or 'position' option.`)}function ah(ut,lt,ht){if(ht[lt+"AxisID"]===ut)return{axis:lt}}function L6(ut,lt){if(lt.data&&lt.data.datasets){const ht=lt.data.datasets.filter(_t=>_t.xAxisID===ut||_t.yAxisID===ut);if(ht.length)return ah(ut,"x",ht[0])||ah(ut,"y",ht[0])}return{}}function B6(ut,lt){const ht=Yn[ut.type]||{scales:{}},_t=lt.scales||{},At=Bc(ut.type,lt),qt=Object.create(null);return Object.keys(_t).forEach(Zt=>{const cr=_t[Zt];if(!Le(cr))return console.error(`Invalid scale configuration for scale: ${Zt}`);if(cr._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${Zt}`);const Gr=Fc(Zt,cr,L6(Zt,ut),gt.scales[cr.type]),Zr=M6(Gr,At),xn=ht.scales||{};qt[Zt]=mo(Object.create(null),[{axis:Gr},cr,xn[Gr],xn[Zr]])}),ut.data.datasets.forEach(Zt=>{const cr=Zt.type||ut.type,Gr=Zt.indexAxis||Bc(cr,lt),Zr=(Yn[cr]||{}).scales||{};Object.keys(Zr).forEach(xn=>{const On=D6(xn,Gr),ss=Zt[On+"AxisID"]||On;qt[ss]=qt[ss]||Object.create(null),mo(qt[ss],[{axis:On},_t[ss],Zr[xn]])})}),Object.keys(qt).forEach(Zt=>{const cr=qt[Zt];mo(cr,[gt.scales[cr.type],gt.scale])}),qt}function H1(ut){const lt=ut.options||(ut.options={});lt.plugins=Oe(lt.plugins,{}),lt.scales=B6(ut,lt)}function Y1(ut){return ut=ut||{},ut.datasets=ut.datasets||[],ut.labels=ut.labels||[],ut}function F6(ut){return ut=ut||{},ut.data=Y1(ut.data),H1(ut),ut}const lh=new Map,K1=new Set;function Es(ut,lt){let ht=lh.get(ut);return ht||(ht=lt(),lh.set(ut,ht),K1.add(ht)),ht}const Ji=(ut,lt,ht)=>{const _t=pn(lt,ht);_t!==void 0&&ut.add(_t)};class j6{constructor(lt){this._config=F6(lt),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(lt){this._config.type=lt}get data(){return this._config.data}set data(lt){this._config.data=Y1(lt)}get options(){return this._config.options}set options(lt){this._config.options=lt}get plugins(){return this._config.plugins}update(){const lt=this._config;this.clearCache(),H1(lt)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(lt){return Es(lt,()=>[[`datasets.${lt}`,""]])}datasetAnimationScopeKeys(lt,ht){return Es(`${lt}.transition.${ht}`,()=>[[`datasets.${lt}.transitions.${ht}`,`transitions.${ht}`],[`datasets.${lt}`,""]])}datasetElementScopeKeys(lt,ht){return Es(`${lt}-${ht}`,()=>[[`datasets.${lt}.elements.${ht}`,`datasets.${lt}`,`elements.${ht}`,""]])}pluginScopeKeys(lt){const ht=lt.id,_t=this.type;return Es(`${_t}-plugin-${ht}`,()=>[[`plugins.${ht}`,...lt.additionalOptionScopes||[]]])}_cachedScopes(lt,ht){const _t=this._scopeCache;let At=_t.get(lt);return(!At||ht)&&(At=new Map,_t.set(lt,At)),At}getOptionScopes(lt,ht,_t){const{options:At,type:qt}=this,Zt=this._cachedScopes(lt,_t),cr=Zt.get(ht);if(cr)return cr;const Gr=new Set;ht.forEach(xn=>{lt&&(Gr.add(lt),xn.forEach(On=>Ji(Gr,lt,On))),xn.forEach(On=>Ji(Gr,At,On)),xn.forEach(On=>Ji(Gr,Yn[qt]||{},On)),xn.forEach(On=>Ji(Gr,gt,On)),xn.forEach(On=>Ji(Gr,Mc,On))});const Zr=Array.from(Gr);return Zr.length===0&&Zr.push(Object.create(null)),K1.has(ht)&&Zt.set(ht,Zr),Zr}chartOptionScopes(){const{options:lt,type:ht}=this;return[lt,Yn[ht]||{},gt.datasets[ht]||{},{type:ht},gt,Mc]}resolveNamedOptions(lt,ht,_t,At=[""]){const qt={$shared:!0},{resolver:Zt,subPrefixes:cr}=ch(this._resolverCache,lt,At);let Gr=Zt;if(U6(Zt,ht)){qt.$shared=!1,_t=gn(_t)?_t():_t;const Zr=this.createResolver(lt,_t,cr);Gr=ki(Zt,_t,Zr)}for(const Zr of ht)qt[Zr]=Gr[Zr];return qt}createResolver(lt,ht,_t=[""],At){const{resolver:qt}=ch(this._resolverCache,lt,_t);return Le(ht)?ki(qt,ht,void 0,At):qt}}function ch(ut,lt,ht){let _t=ut.get(lt);_t||(_t=new Map,ut.set(lt,_t));const At=ht.join();let qt=_t.get(At);return qt||(qt={resolver:qu(lt,ht),subPrefixes:ht.filter(Zt=>!Zt.toLowerCase().includes("hover"))},_t.set(At,qt)),qt}const W6=ut=>Le(ut)&&Object.getOwnPropertyNames(ut).reduce((lt,ht)=>lt||gn(ut[ht]),!1);function U6(ut,lt){const{isScriptable:ht,isIndexable:_t}=E1(ut);for(const At of lt){const qt=ht(At),Zt=_t(At),cr=(Zt||qt)&&ut[At];if(qt&&(gn(cr)||W6(cr))||Zt&&it(cr))return!0}return!1}var z6="4.4.0";const V6=["top","bottom","left","right","chartArea"];function uh(ut,lt){return ut==="top"||ut==="bottom"||V6.indexOf(ut)===-1&&lt==="x"}function fh(ut,lt){return function(ht,_t){return ht[ut]===_t[ut]?ht[lt]-_t[lt]:ht[ut]-_t[ut]}}function dh(ut){const lt=ut.chart,ht=lt.options.animation;lt.notifyPlugins("afterRender"),nt(ht&&ht.onComplete,[ut],lt)}function q6(ut){const lt=ut.chart,ht=lt.options.animation;nt(ht&&ht.onProgress,[ut],lt)}function X1(ut){return P1()&&typeof ut=="string"?ut=document.getElementById(ut):ut&&ut.length&&(ut=ut[0]),ut&&ut.canvas&&(ut=ut.canvas),ut}const Xs={},hh=ut=>{const lt=X1(ut);return Object.values(Xs).filter(ht=>ht.canvas===lt).pop()};function H6(ut,lt,ht){const _t=Object.keys(ut);for(const At of _t){const qt=+At;if(qt>=lt){const Zt=ut[At];delete ut[At],(ht>0||qt>lt)&&(ut[qt+ht]=Zt)}}}function Y6(ut,lt,ht,_t){return!ht||ut.type==="mouseout"?null:_t?lt:ut}function ks(ut,lt,ht){return ut.options.clip?ut[ht]:lt[ht]}function K6(ut,lt){const{xScale:ht,yScale:_t}=ut;return ht&&_t?{left:ks(ht,lt,"left"),right:ks(ht,lt,"right"),top:ks(_t,lt,"top"),bottom:ks(_t,lt,"bottom")}:lt}class Lr{static register(...lt){Ar.add(...lt),ph()}static unregister(...lt){Ar.remove(...lt),ph()}constructor(lt,ht){const _t=this.config=new j6(ht),At=X1(lt),qt=hh(At);if(qt)throw new Error("Canvas is already in use. Chart with ID '"+qt.id+"' must be destroyed before the canvas with ID '"+qt.canvas.id+"' can be reused.");const Zt=_t.createResolver(_t.chartOptionScopes(),this.getContext());this.platform=new(_t.platform||u6(At)),this.platform.updateConfig(_t);const cr=this.platform.acquireContext(At,Zt.aspectRatio),Gr=cr&&cr.canvas,Zr=Gr&&Gr.height,xn=Gr&&Gr.width;if(this.id=J3(),this.ctx=cr,this.canvas=Gr,this.width=xn,this.height=Zr,this._options=Zt,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new T6,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=f2(On=>this.update(On),Zt.resizeDelay||0),this._dataChanges=[],Xs[this.id]=this,!cr||!Gr){console.error("Failed to create chart: can't acquire context from the given item");return}Dr.listen(this,"complete",dh),Dr.listen(this,"progress",q6),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:lt,maintainAspectRatio:ht},width:_t,height:At,_aspectRatio:qt}=this;return We(lt)?ht&&qt?qt:At?_t/At:null:lt}get data(){return this.config.data}set data(lt){this.config.data=lt}get options(){return this._options}set options(lt){this.config.options=lt}get registry(){return Ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Rd(this.canvas,this.ctx),this}stop(){return Dr.stop(this),this}resize(lt,ht){Dr.running(this)?this._resizeBeforeDraw={width:lt,height:ht}:this._resize(lt,ht)}_resize(lt,ht){const _t=this.options,At=this.canvas,qt=_t.maintainAspectRatio&&this.aspectRatio,Zt=this.platform.getMaximumSize(At,lt,ht,qt),cr=_t.devicePixelRatio||this.platform.getDevicePixelRatio(),Gr=this.width?"resize":"attach";this.width=Zt.width,this.height=Zt.height,this._aspectRatio=this.aspectRatio,Nd(this,cr,!0)&&(this.notifyPlugins("resize",{size:Zt}),nt(_t.onResize,[this,Zt],this),this.attached&&this._doResize(Gr)&&this.render())}ensureScalesHaveIDs(){const lt=this.options.scales||{};$e(lt,(ht,_t)=>{ht.id=_t})}buildOrUpdateScales(){const lt=this.options,ht=lt.scales,_t=this.scales,At=Object.keys(_t).reduce((Zt,cr)=>(Zt[cr]=!1,Zt),{});let qt=[];ht&&(qt=qt.concat(Object.keys(ht).map(Zt=>{const cr=ht[Zt],Gr=Fc(Zt,cr),Zr=Gr==="r",xn=Gr==="x";return{options:cr,dposition:Zr?"chartArea":xn?"bottom":"left",dtype:Zr?"radialLinear":xn?"category":"linear"}}))),$e(qt,Zt=>{const cr=Zt.options,Gr=cr.id,Zr=Fc(Gr,cr),xn=Oe(cr.type,Zt.dtype);(cr.position===void 0||uh(cr.position,Zr)!==uh(Zt.dposition))&&(cr.position=Zt.dposition),At[Gr]=!0;let On=null;if(Gr in _t&&_t[Gr].type===xn)On=_t[Gr];else{const ss=Ar.getScale(xn);On=new ss({id:Gr,type:xn,ctx:this.ctx,chart:this}),_t[On.id]=On}On.init(cr,lt)}),$e(At,(Zt,cr)=>{Zt||delete _t[cr]}),$e(_t,Zt=>{Rt.configure(this,Zt,Zt.options),Rt.addBox(this,Zt)})}_updateMetasets(){const lt=this._metasets,ht=this.data.datasets.length,_t=lt.length;if(lt.sort((At,qt)=>At.index-qt.index),_t>ht){for(let At=ht;At<_t;++At)this._destroyDatasetMeta(At);lt.splice(ht,_t-ht)}this._sortedMetasets=lt.slice(0).sort(fh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:lt,data:{datasets:ht}}=this;lt.length>ht.length&&delete this._stacks,lt.forEach((_t,At)=>{ht.filter(qt=>qt===_t._dataset).length===0&&this._destroyDatasetMeta(At)})}buildOrUpdateControllers(){const lt=[],ht=this.data.datasets;let _t,At;for(this._removeUnreferencedMetasets(),_t=0,At=ht.length;_t<At;_t++){const qt=ht[_t];let Zt=this.getDatasetMeta(_t);const cr=qt.type||this.config.type;if(Zt.type&&Zt.type!==cr&&(this._destroyDatasetMeta(_t),Zt=this.getDatasetMeta(_t)),Zt.type=cr,Zt.indexAxis=qt.indexAxis||Bc(cr,this.options),Zt.order=qt.order||0,Zt.index=_t,Zt.label=""+qt.label,Zt.visible=this.isDatasetVisible(_t),Zt.controller)Zt.controller.updateIndex(_t),Zt.controller.linkScales();else{const Gr=Ar.getController(cr),{datasetElementType:Zr,dataElementType:xn}=gt.datasets[cr];Object.assign(Gr,{dataElementType:Ar.getElement(xn),datasetElementType:Zr&&Ar.getElement(Zr)}),Zt.controller=new Gr(this,_t),lt.push(Zt.controller)}}return this._updateMetasets(),lt}_resetElements(){$e(this.data.datasets,(lt,ht)=>{this.getDatasetMeta(ht).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(lt){const ht=this.config;ht.update();const _t=this._options=ht.createResolver(ht.chartOptionScopes(),this.getContext()),At=this._animationsDisabled=!_t.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:lt,cancelable:!0})===!1)return;const qt=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let Zt=0;for(let Zr=0,xn=this.data.datasets.length;Zr<xn;Zr++){const{controller:On}=this.getDatasetMeta(Zr),ss=!At&&qt.indexOf(On)===-1;On.buildOrUpdateElements(ss),Zt=Math.max(+On.getMaxOverflow(),Zt)}Zt=this._minPadding=_t.layout.autoPadding?Zt:0,this._updateLayout(Zt),At||$e(qt,Zr=>{Zr.reset()}),this._updateDatasets(lt),this.notifyPlugins("afterUpdate",{mode:lt}),this._layers.sort(fh("z","_idx"));const{_active:cr,_lastEvent:Gr}=this;Gr?this._eventHandler(Gr,!0):cr.length&&this._updateHoverStyles(cr,cr,!0),this.render()}_updateScales(){$e(this.scales,lt=>{Rt.removeBox(this,lt)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const lt=this.options,ht=new Set(Object.keys(this._listeners)),_t=new Set(lt.events);(!_d(ht,_t)||!!this._responsiveListeners!==lt.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:lt}=this,ht=this._getUniformDataChanges()||[];for(const{method:_t,start:At,count:qt}of ht){const Zt=_t==="_removeElements"?-qt:qt;H6(lt,At,Zt)}}_getUniformDataChanges(){const lt=this._dataChanges;if(!lt||!lt.length)return;this._dataChanges=[];const ht=this.data.datasets.length,_t=qt=>new Set(lt.filter(Zt=>Zt[0]===qt).map((Zt,cr)=>cr+","+Zt.splice(1).join(","))),At=_t(0);for(let qt=1;qt<ht;qt++)if(!_d(At,_t(qt)))return;return Array.from(At).map(qt=>qt.split(",")).map(qt=>({method:qt[1],start:+qt[2],count:+qt[3]}))}_updateLayout(lt){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Rt.update(this,this.width,this.height,lt);const ht=this.chartArea,_t=ht.width<=0||ht.height<=0;this._layers=[],$e(this.boxes,At=>{_t&&At.position==="chartArea"||(At.configure&&At.configure(),this._layers.push(...At._layers()))},this),this._layers.forEach((At,qt)=>{At._idx=qt}),this.notifyPlugins("afterLayout")}_updateDatasets(lt){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:lt,cancelable:!0})!==!1){for(let ht=0,_t=this.data.datasets.length;ht<_t;++ht)this.getDatasetMeta(ht).controller.configure();for(let ht=0,_t=this.data.datasets.length;ht<_t;++ht)this._updateDataset(ht,gn(lt)?lt({datasetIndex:ht}):lt);this.notifyPlugins("afterDatasetsUpdate",{mode:lt})}}_updateDataset(lt,ht){const _t=this.getDatasetMeta(lt),At={meta:_t,index:lt,mode:ht,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",At)!==!1&&(_t.controller._update(ht),At.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",At))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dr.has(this)?this.attached&&!Dr.running(this)&&Dr.start(this):(this.draw(),dh({chart:this})))}draw(){let lt;if(this._resizeBeforeDraw){const{width:_t,height:At}=this._resizeBeforeDraw;this._resize(_t,At),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const ht=this._layers;for(lt=0;lt<ht.length&&ht[lt].z<=0;++lt)ht[lt].draw(this.chartArea);for(this._drawDatasets();lt<ht.length;++lt)ht[lt].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(lt){const ht=this._sortedMetasets,_t=[];let At,qt;for(At=0,qt=ht.length;At<qt;++At){const Zt=ht[At];(!lt||Zt.visible)&&_t.push(Zt)}return _t}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const lt=this.getSortedVisibleDatasetMetas();for(let ht=lt.length-1;ht>=0;--ht)this._drawDataset(lt[ht]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(lt){const ht=this.ctx,_t=lt._clip,At=!_t.disabled,qt=K6(lt,this.chartArea),Zt={meta:lt,index:lt.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",Zt)!==!1&&(At&&Ka(ht,{left:_t.left===!1?0:qt.left-_t.left,right:_t.right===!1?this.width:qt.right+_t.right,top:_t.top===!1?0:qt.top-_t.top,bottom:_t.bottom===!1?this.height:qt.bottom+_t.bottom}),lt.controller.draw(),At&&Xa(ht),Zt.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Zt))}isPointInArea(lt){return zr(lt,this.chartArea,this._minPadding)}getElementsAtEventForMode(lt,ht,_t,At){const qt=Vv.modes[ht];return typeof qt=="function"?qt(this,lt,_t,At):[]}getDatasetMeta(lt){const ht=this.data.datasets[lt],_t=this._metasets;let At=_t.filter(qt=>qt&&qt._dataset===ht).pop();return At||(At={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:ht&&ht.order||0,index:lt,_dataset:ht,_parsed:[],_sorted:!1},_t.push(At)),At}getContext(){return this.$context||(this.$context=vn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(lt){const ht=this.data.datasets[lt];if(!ht)return!1;const _t=this.getDatasetMeta(lt);return typeof _t.hidden=="boolean"?!_t.hidden:!ht.hidden}setDatasetVisibility(lt,ht){const _t=this.getDatasetMeta(lt);_t.hidden=!ht}toggleDataVisibility(lt){this._hiddenIndices[lt]=!this._hiddenIndices[lt]}getDataVisibility(lt){return!this._hiddenIndices[lt]}_updateVisibility(lt,ht,_t){const At=_t?"show":"hide",qt=this.getDatasetMeta(lt),Zt=qt.controller._resolveAnimations(void 0,At);Io(ht)?(qt.data[ht].hidden=!_t,this.update()):(this.setDatasetVisibility(lt,_t),Zt.update(qt,{visible:_t}),this.update(cr=>cr.datasetIndex===lt?At:void 0))}hide(lt,ht){this._updateVisibility(lt,ht,!1)}show(lt,ht){this._updateVisibility(lt,ht,!0)}_destroyDatasetMeta(lt){const ht=this._metasets[lt];ht&&ht.controller&&ht.controller._destroy(),delete this._metasets[lt]}_stop(){let lt,ht;for(this.stop(),Dr.remove(this),lt=0,ht=this.data.datasets.length;lt<ht;++lt)this._destroyDatasetMeta(lt)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:lt,ctx:ht}=this;this._stop(),this.config.clearCache(),lt&&(this.unbindEvents(),Rd(lt,ht),this.platform.releaseContext(ht),this.canvas=null,this.ctx=null),delete Xs[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...lt){return this.canvas.toDataURL(...lt)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const lt=this._listeners,ht=this.platform,_t=(qt,Zt)=>{ht.addEventListener(this,qt,Zt),lt[qt]=Zt},At=(qt,Zt,cr)=>{qt.offsetX=Zt,qt.offsetY=cr,this._eventHandler(qt)};$e(this.options.events,qt=>_t(qt,At))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const lt=this._responsiveListeners,ht=this.platform,_t=(Gr,Zr)=>{ht.addEventListener(this,Gr,Zr),lt[Gr]=Zr},At=(Gr,Zr)=>{lt[Gr]&&(ht.removeEventListener(this,Gr,Zr),delete lt[Gr])},qt=(Gr,Zr)=>{this.canvas&&this.resize(Gr,Zr)};let Zt;const cr=()=>{At("attach",cr),this.attached=!0,this.resize(),_t("resize",qt),_t("detach",Zt)};Zt=()=>{this.attached=!1,At("resize",qt),this._stop(),this._resize(0,0),_t("attach",cr)},ht.isAttached(this.canvas)?cr():Zt()}unbindEvents(){$e(this._listeners,(lt,ht)=>{this.platform.removeEventListener(this,ht,lt)}),this._listeners={},$e(this._responsiveListeners,(lt,ht)=>{this.platform.removeEventListener(this,ht,lt)}),this._responsiveListeners=void 0}updateHoverStyle(lt,ht,_t){const At=_t?"set":"remove";let qt,Zt,cr,Gr;for(ht==="dataset"&&(qt=this.getDatasetMeta(lt[0].datasetIndex),qt.controller["_"+At+"DatasetHoverStyle"]()),cr=0,Gr=lt.length;cr<Gr;++cr){Zt=lt[cr];const Zr=Zt&&this.getDatasetMeta(Zt.datasetIndex).controller;Zr&&Zr[At+"HoverStyle"](Zt.element,Zt.datasetIndex,Zt.index)}}getActiveElements(){return this._active||[]}setActiveElements(lt){const ht=this._active||[],_t=lt.map(({datasetIndex:At,index:qt})=>{const Zt=this.getDatasetMeta(At);if(!Zt)throw new Error("No dataset found at index "+At);return{datasetIndex:At,element:Zt.data[qt],index:qt}});!ga(_t,ht)&&(this._active=_t,this._lastEvent=null,this._updateHoverStyles(_t,ht))}notifyPlugins(lt,ht,_t){return this._plugins.notify(this,lt,ht,_t)}isPluginEnabled(lt){return this._plugins._cache.filter(ht=>ht.plugin.id===lt).length===1}_updateHoverStyles(lt,ht,_t){const At=this.options.hover,qt=(Gr,Zr)=>Gr.filter(xn=>!Zr.some(On=>xn.datasetIndex===On.datasetIndex&&xn.index===On.index)),Zt=qt(ht,lt),cr=_t?lt:qt(lt,ht);Zt.length&&this.updateHoverStyle(Zt,At.mode,!1),cr.length&&At.mode&&this.updateHoverStyle(cr,At.mode,!0)}_eventHandler(lt,ht){const _t={event:lt,replay:ht,cancelable:!0,inChartArea:this.isPointInArea(lt)},At=Zt=>(Zt.options.events||this.options.events).includes(lt.native.type);if(this.notifyPlugins("beforeEvent",_t,At)===!1)return;const qt=this._handleEvent(lt,ht,_t.inChartArea);return _t.cancelable=!1,this.notifyPlugins("afterEvent",_t,At),(qt||_t.changed)&&this.render(),this}_handleEvent(lt,ht,_t){const{_active:At=[],options:qt}=this,Zt=ht,cr=this._getActiveElements(lt,At,_t,Zt),Gr=t2(lt),Zr=Y6(lt,this._lastEvent,_t,Gr);_t&&(this._lastEvent=null,nt(qt.onHover,[lt,cr,this],this),Gr&&nt(qt.onClick,[lt,cr,this],this));const xn=!ga(cr,At);return(xn||ht)&&(this._active=cr,this._updateHoverStyles(cr,At,ht)),this._lastEvent=Zr,xn}_getActiveElements(lt,ht,_t,At){if(lt.type==="mouseout")return[];if(!_t)return ht;const qt=this.options.hover;return this.getElementsAtEventForMode(lt,qt.mode,qt,At)}}ye(Lr,"defaults",gt),ye(Lr,"instances",Xs),ye(Lr,"overrides",Yn),ye(Lr,"registry",Ar),ye(Lr,"version",z6),ye(Lr,"getChart",hh);function ph(){return $e(Lr.instances,ut=>ut._plugins.invalidate())}function X6(ut,lt,ht){const{startAngle:_t,pixelMargin:At,x:qt,y:Zt,outerRadius:cr,innerRadius:Gr}=lt;let Zr=At/cr;ut.beginPath(),ut.arc(qt,Zt,cr,_t-Zr,ht+Zr),Gr>At?(Zr=At/Gr,ut.arc(qt,Zt,Gr,ht+Zr,_t-Zr,!0)):ut.arc(qt,Zt,At,ht+mt,_t-mt),ut.closePath(),ut.clip()}function J6(ut){return Vu(ut,["outerStart","outerEnd","innerStart","innerEnd"])}function Q6(ut,lt,ht,_t){const At=J6(ut.options.borderRadius),qt=(ht-lt)/2,Zt=Math.min(qt,_t*lt/2),cr=Gr=>{const Zr=(ht-Math.min(qt,Gr))*_t/2;return St(Gr,0,Math.min(qt,Zr))};return{outerStart:cr(At.outerStart),outerEnd:cr(At.outerEnd),innerStart:St(At.innerStart,0,Zt),innerEnd:St(At.innerEnd,0,Zt)}}function ti(ut,lt,ht,_t){return{x:ht+ut*Math.cos(lt),y:_t+ut*Math.sin(lt)}}function wa(ut,lt,ht,_t,At,qt){const{x:Zt,y:cr,startAngle:Gr,pixelMargin:Zr,innerRadius:xn}=lt,On=Math.max(lt.outerRadius+_t+ht-Zr,0),ss=xn>0?xn+_t+ht+Zr:0;let ls=0;const cs=At-Gr;if(_t){const us=xn>0?xn-_t:0,xl=On>0?On-_t:0,ip=(us+xl)/2,lp=ip!==0?cs*ip/(ip+_t):cs;ls=(cs-lp)/2}const wl=Math.max(.001,cs*On-ht/st)/On,ep=(cs-wl)/2,Al=Gr+ep+ls,np=At-ep-ls,{outerStart:cp,outerEnd:Cp,innerStart:Lp,innerEnd:jp}=Q6(lt,ss,On,np-Al),nm=On-cp,zm=On-Cp,i1=Al+cp/nm,d3=np-Cp/zm,op=ss+Lp,Sn=ss+jp,Fo=Al+Lp/op,as=np-jp/Sn;if(ut.beginPath(),qt){const us=(i1+d3)/2;if(ut.arc(Zt,cr,On,i1,us),ut.arc(Zt,cr,On,us,d3),Cp>0){const pu=ti(zm,d3,Zt,cr);ut.arc(pu.x,pu.y,Cp,d3,np+mt)}const xl=ti(Sn,np,Zt,cr);if(ut.lineTo(xl.x,xl.y),jp>0){const pu=ti(Sn,as,Zt,cr);ut.arc(pu.x,pu.y,jp,np+mt,as+Math.PI)}const ip=(np-jp/ss+(Al+Lp/ss))/2;if(ut.arc(Zt,cr,ss,np-jp/ss,ip,!0),ut.arc(Zt,cr,ss,ip,Al+Lp/ss,!0),Lp>0){const pu=ti(op,Fo,Zt,cr);ut.arc(pu.x,pu.y,Lp,Fo+Math.PI,Al-mt)}const lp=ti(nm,Al,Zt,cr);if(ut.lineTo(lp.x,lp.y),cp>0){const pu=ti(nm,i1,Zt,cr);ut.arc(pu.x,pu.y,cp,Al-mt,i1)}}else{ut.moveTo(Zt,cr);const us=Math.cos(i1)*On+Zt,xl=Math.sin(i1)*On+cr;ut.lineTo(us,xl);const ip=Math.cos(d3)*On+Zt,lp=Math.sin(d3)*On+cr;ut.lineTo(ip,lp)}ut.closePath()}function G6(ut,lt,ht,_t,At){const{fullCircles:qt,startAngle:Zt,circumference:cr}=lt;let Gr=lt.endAngle;if(qt){wa(ut,lt,ht,_t,Gr,At);for(let Zr=0;Zr<qt;++Zr)ut.fill();isNaN(cr)||(Gr=Zt+(cr%ot||ot))}return wa(ut,lt,ht,_t,Gr,At),ut.fill(),Gr}function Z6(ut,lt,ht,_t,At){const{fullCircles:qt,startAngle:Zt,circumference:cr,options:Gr}=lt,{borderWidth:Zr,borderJoinStyle:xn,borderDash:On,borderDashOffset:ss}=Gr,ls=Gr.borderAlign==="inner";if(!Zr)return;ut.setLineDash(On||[]),ut.lineDashOffset=ss,ls?(ut.lineWidth=Zr*2,ut.lineJoin=xn||"round"):(ut.lineWidth=Zr,ut.lineJoin=xn||"bevel");let cs=lt.endAngle;if(qt){wa(ut,lt,ht,_t,cs,At);for(let wl=0;wl<qt;++wl)ut.stroke();isNaN(cr)||(cs=Zt+(cr%ot||ot))}ls&&X6(ut,lt,cs),qt||(wa(ut,lt,ht,_t,cs,At),ut.stroke())}class ao extends Jr{constructor(lt){super(),ye(this,"circumference"),ye(this,"endAngle"),ye(this,"fullCircles"),ye(this,"innerRadius"),ye(this,"outerRadius"),ye(this,"pixelMargin"),ye(this,"startAngle"),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,lt&&Object.assign(this,lt)}inRange(lt,ht,_t){const At=this.getProps(["x","y"],_t),{angle:qt,distance:Zt}=g1(At,{x:lt,y:ht}),{startAngle:cr,endAngle:Gr,innerRadius:Zr,outerRadius:xn,circumference:On}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],_t),ss=(this.options.spacing+this.options.borderWidth)/2,ls=Oe(On,Gr-cr)>=ot||Po(qt,cr,Gr),cs=Wr(Zt,Zr+ss,xn+ss);return ls&&cs}getCenterPoint(lt){const{x:ht,y:_t,startAngle:At,endAngle:qt,innerRadius:Zt,outerRadius:cr}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],lt),{offset:Gr,spacing:Zr}=this.options,xn=(At+qt)/2,On=(Zt+cr+Zr+Gr)/2;return{x:ht+Math.cos(xn)*On,y:_t+Math.sin(xn)*On}}tooltipPosition(lt){return this.getCenterPoint(lt)}draw(lt){const{options:ht,circumference:_t}=this,At=(ht.offset||0)/4,qt=(ht.spacing||0)/2,Zt=ht.circular;if(this.pixelMargin=ht.borderAlign==="inner"?.33:0,this.fullCircles=_t>ot?Math.floor(_t/ot):0,_t===0||this.innerRadius<0||this.outerRadius<0)return;lt.save();const cr=(this.startAngle+this.endAngle)/2;lt.translate(Math.cos(cr)*At,Math.sin(cr)*At);const Gr=1-Math.sin(Math.min(st,_t||0)),Zr=At*Gr;lt.fillStyle=ht.backgroundColor,lt.strokeStyle=ht.borderColor,G6(lt,this,Zr,qt,Zt),Z6(lt,this,Zr,qt,Zt),lt.restore()}}ye(ao,"id","arc"),ye(ao,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ye(ao,"defaultRoutes",{backgroundColor:"backgroundColor"}),ye(ao,"descriptors",{_scriptable:!0,_indexable:ut=>ut!=="borderDash"});function J1(ut,lt,ht=lt){ut.lineCap=Oe(ht.borderCapStyle,lt.borderCapStyle),ut.setLineDash(Oe(ht.borderDash,lt.borderDash)),ut.lineDashOffset=Oe(ht.borderDashOffset,lt.borderDashOffset),ut.lineJoin=Oe(ht.borderJoinStyle,lt.borderJoinStyle),ut.lineWidth=Oe(ht.borderWidth,lt.borderWidth),ut.strokeStyle=Oe(ht.borderColor,lt.borderColor)}function $6(ut,lt,ht){ut.lineTo(ht.x,ht.y)}function eA(ut){return ut.stepped?_2:ut.tension||ut.cubicInterpolationMode==="monotone"?S2:$6}function Q1(ut,lt,ht={}){const _t=ut.length,{start:At=0,end:qt=_t-1}=ht,{start:Zt,end:cr}=lt,Gr=Math.max(At,Zt),Zr=Math.min(qt,cr),xn=At<Zt&&qt<Zt||At>cr&&qt>cr;return{count:_t,start:Gr,loop:lt.loop,ilen:Zr<Gr&&!xn?_t+Zr-Gr:Zr-Gr}}function tA(ut,lt,ht,_t){const{points:At,options:qt}=lt,{count:Zt,start:cr,loop:Gr,ilen:Zr}=Q1(At,ht,_t),xn=eA(qt);let{move:On=!0,reverse:ss}=_t||{},ls,cs,wl;for(ls=0;ls<=Zr;++ls)cs=At[(cr+(ss?Zr-ls:ls))%Zt],!cs.skip&&(On?(ut.moveTo(cs.x,cs.y),On=!1):xn(ut,wl,cs,ss,qt.stepped),wl=cs);return Gr&&(cs=At[(cr+(ss?Zr:0))%Zt],xn(ut,wl,cs,ss,qt.stepped)),!!Gr}function rA(ut,lt,ht,_t){const At=lt.points,{count:qt,start:Zt,ilen:cr}=Q1(At,ht,_t),{move:Gr=!0,reverse:Zr}=_t||{};let xn=0,On=0,ss,ls,cs,wl,ep,Al;const np=Cp=>(Zt+(Zr?cr-Cp:Cp))%qt,cp=()=>{wl!==ep&&(ut.lineTo(xn,ep),ut.lineTo(xn,wl),ut.lineTo(xn,Al))};for(Gr&&(ls=At[np(0)],ut.moveTo(ls.x,ls.y)),ss=0;ss<=cr;++ss){if(ls=At[np(ss)],ls.skip)continue;const Cp=ls.x,Lp=ls.y,jp=Cp|0;jp===cs?(Lp<wl?wl=Lp:Lp>ep&&(ep=Lp),xn=(On*xn+Cp)/++On):(cp(),ut.lineTo(Cp,Lp),cs=jp,On=0,wl=ep=Lp),Al=Lp}cp()}function jc(ut){const lt=ut.options,ht=lt.borderDash&&lt.borderDash.length;return!ut._decimated&&!ut._loop&&!lt.tension&&lt.cubicInterpolationMode!=="monotone"&&!lt.stepped&&!ht?rA:tA}function nA(ut){return ut.stepped?rv:ut.tension||ut.cubicInterpolationMode==="monotone"?nv:Rn}function iA(ut,lt,ht,_t){let At=lt._path;At||(At=lt._path=new Path2D,lt.path(At,ht,_t)&&At.closePath()),J1(ut,lt.options),ut.stroke(At)}function oA(ut,lt,ht,_t){const{segments:At,options:qt}=lt,Zt=jc(lt);for(const cr of At)J1(ut,qt,cr.style),ut.beginPath(),Zt(ut,lt,cr,{start:ht,end:ht+_t-1})&&ut.closePath(),ut.stroke()}const sA=typeof Path2D=="function";function aA(ut,lt,ht,_t){sA&&!lt.options.segment?iA(ut,lt,ht,_t):oA(ut,lt,ht,_t)}class nn extends Jr{constructor(lt){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,lt&&Object.assign(this,lt)}updateControlPoints(lt,ht){const _t=this.options;if((_t.tension||_t.cubicInterpolationMode==="monotone")&&!_t.stepped&&!this._pointsUpdated){const At=_t.spanGaps?this._loop:this._fullLoop;X2(this._points,_t,lt,At,ht),this._pointsUpdated=!0}}set points(lt){this._points=lt,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=cv(this,this.options.segment))}first(){const lt=this.segments,ht=this.points;return lt.length&&ht[lt[0].start]}last(){const lt=this.segments,ht=this.points,_t=lt.length;return _t&&ht[lt[_t-1].end]}interpolate(lt,ht){const _t=this.options,At=lt[ht],qt=this.points,Zt=L1(this,{property:ht,start:At,end:At});if(!Zt.length)return;const cr=[],Gr=nA(_t);let Zr,xn;for(Zr=0,xn=Zt.length;Zr<xn;++Zr){const{start:On,end:ss}=Zt[Zr],ls=qt[On],cs=qt[ss];if(ls===cs){cr.push(ls);continue}const wl=Math.abs((At-ls[ht])/(cs[ht]-ls[ht])),ep=Gr(ls,cs,wl,_t.stepped);ep[ht]=lt[ht],cr.push(ep)}return cr.length===1?cr[0]:cr}pathSegment(lt,ht,_t){return jc(this)(lt,this,ht,_t)}path(lt,ht,_t){const At=this.segments,qt=jc(this);let Zt=this._loop;ht=ht||0,_t=_t||this.points.length-ht;for(const cr of At)Zt&=qt(lt,this,cr,{start:ht,end:ht+_t-1});return!!Zt}draw(lt,ht,_t,At){const qt=this.options||{};(this.points||[]).length&&qt.borderWidth&&(lt.save(),aA(lt,this,_t,At),lt.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ye(nn,"id","line"),ye(nn,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ye(nn,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ye(nn,"descriptors",{_scriptable:!0,_indexable:ut=>ut!=="borderDash"&&ut!=="fill"});function gh(ut,lt,ht,_t){const At=ut.options,{[ht]:qt}=ut.getProps([ht],_t);return Math.abs(lt-qt)<At.radius+At.hitRadius}class Js extends Jr{constructor(lt){super(),ye(this,"parsed"),ye(this,"skip"),ye(this,"stop"),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,lt&&Object.assign(this,lt)}inRange(lt,ht,_t){const At=this.options,{x:qt,y:Zt}=this.getProps(["x","y"],_t);return Math.pow(lt-qt,2)+Math.pow(ht-Zt,2)<Math.pow(At.hitRadius+At.radius,2)}inXRange(lt,ht){return gh(this,lt,"x",ht)}inYRange(lt,ht){return gh(this,lt,"y",ht)}getCenterPoint(lt){const{x:ht,y:_t}=this.getProps(["x","y"],lt);return{x:ht,y:_t}}size(lt){lt=lt||this.options||{};let ht=lt.radius||0;ht=Math.max(ht,ht&&lt.hoverRadius||0);const _t=ht&&lt.borderWidth||0;return(ht+_t)*2}draw(lt,ht){const _t=this.options;this.skip||_t.radius<.1||!zr(this,ht,this.size(_t)/2)||(lt.strokeStyle=_t.borderColor,lt.lineWidth=_t.borderWidth,lt.fillStyle=_t.backgroundColor,Nc(lt,_t,this.x,this.y))}getRange(){const lt=this.options||{};return lt.radius+lt.hitRadius}}ye(Js,"id","point"),ye(Js,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ye(Js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function G1(ut,lt){const{x:ht,y:_t,base:At,width:qt,height:Zt}=ut.getProps(["x","y","base","width","height"],lt);let cr,Gr,Zr,xn,On;return ut.horizontal?(On=Zt/2,cr=Math.min(ht,At),Gr=Math.max(ht,At),Zr=_t-On,xn=_t+On):(On=qt/2,cr=ht-On,Gr=ht+On,Zr=Math.min(_t,At),xn=Math.max(_t,At)),{left:cr,top:Zr,right:Gr,bottom:xn}}function on(ut,lt,ht,_t){return ut?0:St(lt,ht,_t)}function lA(ut,lt,ht){const _t=ut.options.borderWidth,At=ut.borderSkipped,qt=S1(_t);return{t:on(At.top,qt.top,0,ht),r:on(At.right,qt.right,0,lt),b:on(At.bottom,qt.bottom,0,ht),l:on(At.left,qt.left,0,lt)}}function cA(ut,lt,ht){const{enableBorderRadius:_t}=ut.getProps(["enableBorderRadius"]),At=ut.options.borderRadius,qt=Fn(At),Zt=Math.min(lt,ht),cr=ut.borderSkipped,Gr=_t||Le(At);return{topLeft:on(!Gr||cr.top||cr.left,qt.topLeft,0,Zt),topRight:on(!Gr||cr.top||cr.right,qt.topRight,0,Zt),bottomLeft:on(!Gr||cr.bottom||cr.left,qt.bottomLeft,0,Zt),bottomRight:on(!Gr||cr.bottom||cr.right,qt.bottomRight,0,Zt)}}function uA(ut){const lt=G1(ut),ht=lt.right-lt.left,_t=lt.bottom-lt.top,At=lA(ut,ht/2,_t/2),qt=cA(ut,ht/2,_t/2);return{outer:{x:lt.left,y:lt.top,w:ht,h:_t,radius:qt},inner:{x:lt.left+At.l,y:lt.top+At.t,w:ht-At.l-At.r,h:_t-At.t-At.b,radius:{topLeft:Math.max(0,qt.topLeft-Math.max(At.t,At.l)),topRight:Math.max(0,qt.topRight-Math.max(At.t,At.r)),bottomLeft:Math.max(0,qt.bottomLeft-Math.max(At.b,At.l)),bottomRight:Math.max(0,qt.bottomRight-Math.max(At.b,At.r))}}}}function Zl(ut,lt,ht,_t){const At=lt===null,qt=ht===null,Zt=ut&&!(At&&qt)&&G1(ut,_t);return Zt&&(At||Wr(lt,Zt.left,Zt.right))&&(qt||Wr(ht,Zt.top,Zt.bottom))}function fA(ut){return ut.topLeft||ut.topRight||ut.bottomLeft||ut.bottomRight}function dA(ut,lt){ut.rect(lt.x,lt.y,lt.w,lt.h)}function $l(ut,lt,ht={}){const _t=ut.x!==ht.x?-lt:0,At=ut.y!==ht.y?-lt:0,qt=(ut.x+ut.w!==ht.x+ht.w?lt:0)-_t,Zt=(ut.y+ut.h!==ht.y+ht.h?lt:0)-At;return{x:ut.x+_t,y:ut.y+At,w:ut.w+qt,h:ut.h+Zt,radius:ut.radius}}class Qs extends Jr{constructor(lt){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,lt&&Object.assign(this,lt)}draw(lt){const{inflateAmount:ht,options:{borderColor:_t,backgroundColor:At}}=this,{inner:qt,outer:Zt}=uA(this),cr=fA(Zt.radius)?Ro:dA;lt.save(),(Zt.w!==qt.w||Zt.h!==qt.h)&&(lt.beginPath(),cr(lt,$l(Zt,ht,qt)),lt.clip(),cr(lt,$l(qt,-ht,Zt)),lt.fillStyle=_t,lt.fill("evenodd")),lt.beginPath(),cr(lt,$l(qt,ht)),lt.fillStyle=At,lt.fill(),lt.restore()}inRange(lt,ht,_t){return Zl(this,lt,ht,_t)}inXRange(lt,ht){return Zl(this,lt,null,ht)}inYRange(lt,ht){return Zl(this,null,lt,ht)}getCenterPoint(lt){const{x:ht,y:_t,base:At,horizontal:qt}=this.getProps(["x","y","base","horizontal"],lt);return{x:qt?(ht+At)/2:ht,y:qt?_t:(_t+At)/2}}getRange(lt){return lt==="x"?this.width/2:this.height/2}}ye(Qs,"id","bar"),ye(Qs,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ye(Qs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var hA=Object.freeze({__proto__:null,ArcElement:ao,BarElement:Qs,LineElement:nn,PointElement:Js});const Wc=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mh=Wc.map(ut=>ut.replace("rgb(","rgba(").replace(")",", 0.5)"));function Z1(ut){return Wc[ut%Wc.length]}function $1(ut){return mh[ut%mh.length]}function pA(ut,lt){return ut.borderColor=Z1(lt),ut.backgroundColor=$1(lt),++lt}function gA(ut,lt){return ut.backgroundColor=ut.data.map(()=>Z1(lt++)),lt}function mA(ut,lt){return ut.backgroundColor=ut.data.map(()=>$1(lt++)),lt}function yA(ut){let lt=0;return(ht,_t)=>{const At=ut.getDatasetMeta(_t).controller;At instanceof Bn?lt=gA(ht,lt):At instanceof Ao?lt=mA(ht,lt):At&&(lt=pA(ht,lt))}}function yh(ut){let lt;for(lt in ut)if(ut[lt].borderColor||ut[lt].backgroundColor)return!0;return!1}function bA(ut){return ut&&(ut.borderColor||ut.backgroundColor)}var vA={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(ut,lt,ht){if(!ht.enabled)return;const{data:{datasets:_t},options:At}=ut.config,{elements:qt}=At;if(!ht.forceOverride&&(yh(_t)||bA(At)||qt&&yh(qt)))return;const Zt=yA(ut);_t.forEach(Zt)}};function AA(ut,lt,ht,_t,At){const qt=At.samples||_t;if(qt>=ht)return ut.slice(lt,lt+ht);const Zt=[],cr=(ht-2)/(qt-2);let Gr=0;const Zr=lt+ht-1;let xn=lt,On,ss,ls,cs,wl;for(Zt[Gr++]=ut[xn],On=0;On<qt-2;On++){let ep=0,Al=0,np;const cp=Math.floor((On+1)*cr)+1+lt,Cp=Math.min(Math.floor((On+2)*cr)+1,ht)+lt,Lp=Cp-cp;for(np=cp;np<Cp;np++)ep+=ut[np].x,Al+=ut[np].y;ep/=Lp,Al/=Lp;const jp=Math.floor(On*cr)+1+lt,nm=Math.min(Math.floor((On+1)*cr)+1,ht)+lt,{x:zm,y:i1}=ut[xn];for(ls=cs=-1,np=jp;np<nm;np++)cs=.5*Math.abs((zm-ep)*(ut[np].y-i1)-(zm-ut[np].x)*(Al-i1)),cs>ls&&(ls=cs,ss=ut[np],wl=np);Zt[Gr++]=ss,xn=wl}return Zt[Gr++]=ut[Zr],Zt}function wA(ut,lt,ht,_t){let At=0,qt=0,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl;const ep=[],Al=lt+ht-1,np=ut[lt].x,cp=ut[Al].x-np;for(Zt=lt;Zt<lt+ht;++Zt){cr=ut[Zt],Gr=(cr.x-np)/cp*_t,Zr=cr.y;const Cp=Gr|0;if(Cp===xn)Zr<cs?(cs=Zr,On=Zt):Zr>wl&&(wl=Zr,ss=Zt),At=(qt*At+cr.x)/++qt;else{const Lp=Zt-1;if(!We(On)&&!We(ss)){const jp=Math.min(On,ss),nm=Math.max(On,ss);jp!==ls&&jp!==Lp&&ep.push({...ut[jp],x:At}),nm!==ls&&nm!==Lp&&ep.push({...ut[nm],x:At})}Zt>0&&Lp!==ls&&ep.push(ut[Lp]),ep.push(cr),xn=Cp,qt=0,cs=wl=Zr,On=ss=ls=Zt}}return ep}function eg(ut){if(ut._decimated){const lt=ut._data;delete ut._decimated,delete ut._data,Object.defineProperty(ut,"data",{configurable:!0,enumerable:!0,writable:!0,value:lt})}}function bh(ut){ut.data.datasets.forEach(lt=>{eg(lt)})}function xA(ut,lt){const ht=lt.length;let _t=0,At;const{iScale:qt}=ut,{min:Zt,max:cr,minDefined:Gr,maxDefined:Zr}=qt.getUserBounds();return Gr&&(_t=St(Ur(lt,qt.axis,Zt).lo,0,ht-1)),Zr?At=St(Ur(lt,qt.axis,cr).hi+1,_t,ht)-_t:At=ht-_t,{start:_t,count:At}}var _A={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(ut,lt,ht)=>{if(!ht.enabled){bh(ut);return}const _t=ut.width;ut.data.datasets.forEach((At,qt)=>{const{_data:Zt,indexAxis:cr}=At,Gr=ut.getDatasetMeta(qt),Zr=Zt||At.data;if(oo([cr,ut.options.indexAxis])==="y"||!Gr.controller.supportsDecimation)return;const xn=ut.scales[Gr.xAxisID];if(xn.type!=="linear"&&xn.type!=="time"||ut.options.parsing)return;let{start:On,count:ss}=xA(Gr,Zr);const ls=ht.threshold||4*_t;if(ss<=ls){eg(At);return}We(Zt)&&(At._data=Zr,delete At.data,Object.defineProperty(At,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(wl){this._data=wl}}));let cs;switch(ht.algorithm){case"lttb":cs=AA(Zr,On,ss,_t,ht);break;case"min-max":cs=wA(Zr,On,ss,_t);break;default:throw new Error(`Unsupported decimation algorithm '${ht.algorithm}'`)}At._decimated=cs})},destroy(ut){bh(ut)}};function SA(ut,lt,ht){const _t=ut.segments,At=ut.points,qt=lt.points,Zt=[];for(const cr of _t){let{start:Gr,end:Zr}=cr;Zr=Ju(Gr,Zr,At);const xn=Uc(ht,At[Gr],At[Zr],cr.loop);if(!lt.segments){Zt.push({source:cr,target:xn,start:At[Gr],end:At[Zr]});continue}const On=L1(lt,xn);for(const ss of On){const ls=Uc(ht,qt[ss.start],qt[ss.end],ss.loop),cs=N1(cr,At,ls);for(const wl of cs)Zt.push({source:wl,target:ss,start:{[ht]:vh(xn,ls,"start",Math.max)},end:{[ht]:vh(xn,ls,"end",Math.min)}})}}return Zt}function Uc(ut,lt,ht,_t){if(_t)return;let At=lt[ut],qt=ht[ut];return ut==="angle"&&(At=Yt(At),qt=Yt(qt)),{property:ut,start:At,end:qt}}function EA(ut,lt){const{x:ht=null,y:_t=null}=ut||{},At=lt.points,qt=[];return lt.segments.forEach(({start:Zt,end:cr})=>{cr=Ju(Zt,cr,At);const Gr=At[Zt],Zr=At[cr];_t!==null?(qt.push({x:Gr.x,y:_t}),qt.push({x:Zr.x,y:_t})):ht!==null&&(qt.push({x:ht,y:Gr.y}),qt.push({x:ht,y:Zr.y}))}),qt}function Ju(ut,lt,ht){for(;lt>ut;lt--){const _t=ht[lt];if(!isNaN(_t.x)&&!isNaN(_t.y))break}return lt}function vh(ut,lt,ht,_t){return ut&&lt?_t(ut[ht],lt[ht]):ut?ut[ht]:lt?lt[ht]:0}function tg(ut,lt){let ht=[],_t=!1;return it(ut)?(_t=!0,ht=ut):ht=EA(ut,lt),ht.length?new nn({points:ht,options:{tension:0},_loop:_t,_fullLoop:_t}):null}function Ah(ut){return ut&&ut.fill!==!1}function kA(ut,lt,ht){let _t=ut[lt].fill;const At=[lt];let qt;if(!ht)return _t;for(;_t!==!1&&At.indexOf(_t)===-1;){if(!pt(_t))return _t;if(qt=ut[_t],!qt)return!1;if(qt.visible)return _t;At.push(_t),_t=qt.fill}return!1}function CA(ut,lt,ht){const _t=PA(ut);if(Le(_t))return isNaN(_t.value)?!1:_t;let At=parseFloat(_t);return pt(At)&&Math.floor(At)===At?TA(_t[0],lt,At,ht):["origin","start","end","stack","shape"].indexOf(_t)>=0&&_t}function TA(ut,lt,ht,_t){return(ut==="-"||ut==="+")&&(ht=lt+ht),ht===lt||ht<0||ht>=_t?!1:ht}function OA(ut,lt){let ht=null;return ut==="start"?ht=lt.bottom:ut==="end"?ht=lt.top:Le(ut)?ht=lt.getPixelForValue(ut.value):lt.getBasePixel&&(ht=lt.getBasePixel()),ht}function IA(ut,lt,ht){let _t;return ut==="start"?_t=ht:ut==="end"?_t=lt.options.reverse?lt.min:lt.max:Le(ut)?_t=ut.value:_t=lt.getBaseValue(),_t}function PA(ut){const lt=ut.options,ht=lt.fill;let _t=Oe(ht&&ht.target,ht);return _t===void 0&&(_t=!!lt.backgroundColor),_t===!1||_t===null?!1:_t===!0?"origin":_t}function RA(ut){const{scale:lt,index:ht,line:_t}=ut,At=[],qt=_t.segments,Zt=_t.points,cr=DA(lt,ht);cr.push(tg({x:null,y:lt.bottom},_t));for(let Gr=0;Gr<qt.length;Gr++){const Zr=qt[Gr];for(let xn=Zr.start;xn<=Zr.end;xn++)MA(At,Zt[xn],cr)}return new nn({points:At,options:{}})}function DA(ut,lt){const ht=[],_t=ut.getMatchingVisibleMetas("line");for(let At=0;At<_t.length;At++){const qt=_t[At];if(qt.index===lt)break;qt.hidden||ht.unshift(qt.dataset)}return ht}function MA(ut,lt,ht){const _t=[];for(let At=0;At<ht.length;At++){const qt=ht[At],{first:Zt,last:cr,point:Gr}=NA(qt,lt,"x");if(!(!Gr||Zt&&cr)){if(Zt)_t.unshift(Gr);else if(ut.push(Gr),!cr)break}}ut.push(..._t)}function NA(ut,lt,ht){const _t=ut.interpolate(lt,ht);if(!_t)return{};const At=_t[ht],qt=ut.segments,Zt=ut.points;let cr=!1,Gr=!1;for(let Zr=0;Zr<qt.length;Zr++){const xn=qt[Zr],On=Zt[xn.start][ht],ss=Zt[xn.end][ht];if(Wr(At,On,ss)){cr=At===On,Gr=At===ss;break}}return{first:cr,last:Gr,point:_t}}class rg{constructor(lt){this.x=lt.x,this.y=lt.y,this.radius=lt.radius}pathSegment(lt,ht,_t){const{x:At,y:qt,radius:Zt}=this;return ht=ht||{start:0,end:ot},lt.arc(At,qt,Zt,ht.end,ht.start,!0),!_t.bounds}interpolate(lt){const{x:ht,y:_t,radius:At}=this,qt=lt.angle;return{x:ht+Math.cos(qt)*At,y:_t+Math.sin(qt)*At,angle:qt}}}function LA(ut){const{chart:lt,fill:ht,line:_t}=ut;if(pt(ht))return BA(lt,ht);if(ht==="stack")return RA(ut);if(ht==="shape")return!0;const At=FA(ut);return At instanceof rg?At:tg(At,_t)}function BA(ut,lt){const ht=ut.getDatasetMeta(lt);return ht&&ut.isDatasetVisible(lt)?ht.dataset:null}function FA(ut){return(ut.scale||{}).getPointPositionForValue?WA(ut):jA(ut)}function jA(ut){const{scale:lt={},fill:ht}=ut,_t=OA(ht,lt);if(pt(_t)){const At=lt.isHorizontal();return{x:At?_t:null,y:At?null:_t}}return null}function WA(ut){const{scale:lt,fill:ht}=ut,_t=lt.options,At=lt.getLabels().length,qt=_t.reverse?lt.max:lt.min,Zt=IA(ht,lt,qt),cr=[];if(_t.grid.circular){const Gr=lt.getPointPositionForValue(0,qt);return new rg({x:Gr.x,y:Gr.y,radius:lt.getDistanceFromCenterForValue(Zt)})}for(let Gr=0;Gr<At;++Gr)cr.push(lt.getPointPositionForValue(Gr,Zt));return cr}function ec(ut,lt,ht){const _t=LA(lt),{line:At,scale:qt,axis:Zt}=lt,cr=At.options,Gr=cr.fill,Zr=cr.backgroundColor,{above:xn=Zr,below:On=Zr}=Gr||{};_t&&At.points.length&&(Ka(ut,ht),UA(ut,{line:At,target:_t,above:xn,below:On,area:ht,scale:qt,axis:Zt}),Xa(ut))}function UA(ut,lt){const{line:ht,target:_t,above:At,below:qt,area:Zt,scale:cr}=lt,Gr=ht._loop?"angle":lt.axis;ut.save(),Gr==="x"&&qt!==At&&(wh(ut,_t,Zt.top),xh(ut,{line:ht,target:_t,color:At,scale:cr,property:Gr}),ut.restore(),ut.save(),wh(ut,_t,Zt.bottom)),xh(ut,{line:ht,target:_t,color:qt,scale:cr,property:Gr}),ut.restore()}function wh(ut,lt,ht){const{segments:_t,points:At}=lt;let qt=!0,Zt=!1;ut.beginPath();for(const cr of _t){const{start:Gr,end:Zr}=cr,xn=At[Gr],On=At[Ju(Gr,Zr,At)];qt?(ut.moveTo(xn.x,xn.y),qt=!1):(ut.lineTo(xn.x,ht),ut.lineTo(xn.x,xn.y)),Zt=!!lt.pathSegment(ut,cr,{move:Zt}),Zt?ut.closePath():ut.lineTo(On.x,ht)}ut.lineTo(lt.first().x,ht),ut.closePath(),ut.clip()}function xh(ut,lt){const{line:ht,target:_t,property:At,color:qt,scale:Zt}=lt,cr=SA(ht,_t,At);for(const{source:Gr,target:Zr,start:xn,end:On}of cr){const{style:{backgroundColor:ss=qt}={}}=Gr,ls=_t!==!0;ut.save(),ut.fillStyle=ss,zA(ut,Zt,ls&&Uc(At,xn,On)),ut.beginPath();const cs=!!ht.pathSegment(ut,Gr);let wl;if(ls){cs?ut.closePath():_h(ut,_t,On,At);const ep=!!_t.pathSegment(ut,Zr,{move:cs,reverse:!0});wl=cs&&ep,wl||_h(ut,_t,xn,At)}ut.closePath(),ut.fill(wl?"evenodd":"nonzero"),ut.restore()}}function zA(ut,lt,ht){const{top:_t,bottom:At}=lt.chart.chartArea,{property:qt,start:Zt,end:cr}=ht||{};qt==="x"&&(ut.beginPath(),ut.rect(Zt,_t,cr-Zt,At-_t),ut.clip())}function _h(ut,lt,ht,_t){const At=lt.interpolate(ht,_t);At&&ut.lineTo(At.x,At.y)}var VA={id:"filler",afterDatasetsUpdate(ut,lt,ht){const _t=(ut.data.datasets||[]).length,At=[];let qt,Zt,cr,Gr;for(Zt=0;Zt<_t;++Zt)qt=ut.getDatasetMeta(Zt),cr=qt.dataset,Gr=null,cr&&cr.options&&cr instanceof nn&&(Gr={visible:ut.isDatasetVisible(Zt),index:Zt,fill:CA(cr,Zt,_t),chart:ut,axis:qt.controller.options.indexAxis,scale:qt.vScale,line:cr}),qt.$filler=Gr,At.push(Gr);for(Zt=0;Zt<_t;++Zt)Gr=At[Zt],!(!Gr||Gr.fill===!1)&&(Gr.fill=kA(At,Zt,ht.propagate))},beforeDraw(ut,lt,ht){const _t=ht.drawTime==="beforeDraw",At=ut.getSortedVisibleDatasetMetas(),qt=ut.chartArea;for(let Zt=At.length-1;Zt>=0;--Zt){const cr=At[Zt].$filler;cr&&(cr.line.updateControlPoints(qt,cr.axis),_t&&cr.fill&&ec(ut.ctx,cr,qt))}},beforeDatasetsDraw(ut,lt,ht){if(ht.drawTime!=="beforeDatasetsDraw")return;const _t=ut.getSortedVisibleDatasetMetas();for(let At=_t.length-1;At>=0;--At){const qt=_t[At].$filler;Ah(qt)&&ec(ut.ctx,qt,ut.chartArea)}},beforeDatasetDraw(ut,lt,ht){const _t=lt.meta.$filler;!Ah(_t)||ht.drawTime!=="beforeDatasetDraw"||ec(ut.ctx,_t,ut.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Sh=(ut,lt)=>{let{boxHeight:ht=lt,boxWidth:_t=lt}=ut;return ut.usePointStyle&&(ht=Math.min(ht,lt),_t=ut.pointStyleWidth||Math.min(_t,lt)),{boxWidth:_t,boxHeight:ht,itemHeight:Math.max(lt,ht)}},qA=(ut,lt)=>ut!==null&&lt!==null&&ut.datasetIndex===lt.datasetIndex&&ut.index===lt.index;class Eh extends Jr{constructor(lt){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=lt.chart,this.options=lt.options,this.ctx=lt.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(lt,ht,_t){this.maxWidth=lt,this.maxHeight=ht,this._margins=_t,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const lt=this.options.labels||{};let ht=nt(lt.generateLabels,[this.chart],this)||[];lt.filter&&(ht=ht.filter(_t=>lt.filter(_t,this.chart.data))),lt.sort&&(ht=ht.sort((_t,At)=>lt.sort(_t,At,this.chart.data))),this.options.reverse&&ht.reverse(),this.legendItems=ht}fit(){const{options:lt,ctx:ht}=this;if(!lt.display){this.width=this.height=0;return}const _t=lt.labels,At=vt(_t.font),qt=At.size,Zt=this._computeTitleHeight(),{boxWidth:cr,itemHeight:Gr}=Sh(_t,qt);let Zr,xn;ht.font=At.string,this.isHorizontal()?(Zr=this.maxWidth,xn=this._fitRows(Zt,qt,cr,Gr)+10):(xn=this.maxHeight,Zr=this._fitCols(Zt,At,cr,Gr)+10),this.width=Math.min(Zr,lt.maxWidth||this.maxWidth),this.height=Math.min(xn,lt.maxHeight||this.maxHeight)}_fitRows(lt,ht,_t,At){const{ctx:qt,maxWidth:Zt,options:{labels:{padding:cr}}}=this,Gr=this.legendHitBoxes=[],Zr=this.lineWidths=[0],xn=At+cr;let On=lt;qt.textAlign="left",qt.textBaseline="middle";let ss=-1,ls=-xn;return this.legendItems.forEach((cs,wl)=>{const ep=_t+ht/2+qt.measureText(cs.text).width;(wl===0||Zr[Zr.length-1]+ep+2*cr>Zt)&&(On+=xn,Zr[Zr.length-(wl>0?0:1)]=0,ls+=xn,ss++),Gr[wl]={left:0,top:ls,row:ss,width:ep,height:At},Zr[Zr.length-1]+=ep+cr}),On}_fitCols(lt,ht,_t,At){const{ctx:qt,maxHeight:Zt,options:{labels:{padding:cr}}}=this,Gr=this.legendHitBoxes=[],Zr=this.columnSizes=[],xn=Zt-lt;let On=cr,ss=0,ls=0,cs=0,wl=0;return this.legendItems.forEach((ep,Al)=>{const{itemWidth:np,itemHeight:cp}=HA(_t,ht,qt,ep,At);Al>0&&ls+cp+2*cr>xn&&(On+=ss+cr,Zr.push({width:ss,height:ls}),cs+=ss+cr,wl++,ss=ls=0),Gr[Al]={left:cs,top:ls,col:wl,width:np,height:cp},ss=Math.max(ss,np),ls+=cp+cr}),On+=ss,Zr.push({width:ss,height:ls}),On}adjustHitBoxes(){if(!this.options.display)return;const lt=this._computeTitleHeight(),{legendHitBoxes:ht,options:{align:_t,labels:{padding:At},rtl:qt}}=this,Zt=bi(qt,this.left,this.width);if(this.isHorizontal()){let cr=0,Gr=It(_t,this.left+At,this.right-this.lineWidths[cr]);for(const Zr of ht)cr!==Zr.row&&(cr=Zr.row,Gr=It(_t,this.left+At,this.right-this.lineWidths[cr])),Zr.top+=this.top+lt+At,Zr.left=Zt.leftForLtr(Zt.x(Gr),Zr.width),Gr+=Zr.width+At}else{let cr=0,Gr=It(_t,this.top+lt+At,this.bottom-this.columnSizes[cr].height);for(const Zr of ht)Zr.col!==cr&&(cr=Zr.col,Gr=It(_t,this.top+lt+At,this.bottom-this.columnSizes[cr].height)),Zr.top=Gr,Zr.left+=this.left+At,Zr.left=Zt.leftForLtr(Zt.x(Zr.left),Zr.width),Gr+=Zr.height+At}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const lt=this.ctx;Ka(lt,this),this._draw(),Xa(lt)}}_draw(){const{options:lt,columnSizes:ht,lineWidths:_t,ctx:At}=this,{align:qt,labels:Zt}=lt,cr=gt.color,Gr=bi(lt.rtl,this.left,this.width),Zr=vt(Zt.font),{padding:xn}=Zt,On=Zr.size,ss=On/2;let ls;this.drawTitle(),At.textAlign=Gr.textAlign("left"),At.textBaseline="middle",At.lineWidth=.5,At.font=Zr.string;const{boxWidth:cs,boxHeight:wl,itemHeight:ep}=Sh(Zt,On),Al=function(jp,nm,zm){if(isNaN(cs)||cs<=0||isNaN(wl)||wl<0)return;At.save();const i1=Oe(zm.lineWidth,1);if(At.fillStyle=Oe(zm.fillStyle,cr),At.lineCap=Oe(zm.lineCap,"butt"),At.lineDashOffset=Oe(zm.lineDashOffset,0),At.lineJoin=Oe(zm.lineJoin,"miter"),At.lineWidth=i1,At.strokeStyle=Oe(zm.strokeStyle,cr),At.setLineDash(Oe(zm.lineDash,[])),Zt.usePointStyle){const d3={radius:wl*Math.SQRT2/2,pointStyle:zm.pointStyle,rotation:zm.rotation,borderWidth:i1},op=Gr.xPlus(jp,cs/2),Sn=nm+ss;_1(At,d3,op,Sn,Zt.pointStyleWidth&&cs)}else{const d3=nm+Math.max((On-wl)/2,0),op=Gr.leftForLtr(jp,cs),Sn=Fn(zm.borderRadius);At.beginPath(),Object.values(Sn).some(Fo=>Fo!==0)?Ro(At,{x:op,y:d3,w:cs,h:wl,radius:Sn}):At.rect(op,d3,cs,wl),At.fill(),i1!==0&&At.stroke()}At.restore()},np=function(jp,nm,zm){Kn(At,zm.text,jp,nm+ep/2,Zr,{strikethrough:zm.hidden,textAlign:Gr.textAlign(zm.textAlign)})},cp=this.isHorizontal(),Cp=this._computeTitleHeight();cp?ls={x:It(qt,this.left+xn,this.right-_t[0]),y:this.top+xn+Cp,line:0}:ls={x:this.left+xn,y:It(qt,this.top+Cp+xn,this.bottom-ht[0].height),line:0},R1(this.ctx,lt.textDirection);const Lp=ep+xn;this.legendItems.forEach((jp,nm)=>{At.strokeStyle=jp.fontColor,At.fillStyle=jp.fontColor;const zm=At.measureText(jp.text).width,i1=Gr.textAlign(jp.textAlign||(jp.textAlign=Zt.textAlign)),d3=cs+ss+zm;let op=ls.x,Sn=ls.y;Gr.setWidth(this.width),cp?nm>0&&op+d3+xn>this.right&&(Sn=ls.y+=Lp,ls.line++,op=ls.x=It(qt,this.left+xn,this.right-_t[ls.line])):nm>0&&Sn+Lp>this.bottom&&(op=ls.x=op+ht[ls.line].width+xn,ls.line++,Sn=ls.y=It(qt,this.top+Cp+xn,this.bottom-ht[ls.line].height));const Fo=Gr.x(op);if(Al(Fo,Sn,jp),op=d2(i1,op+cs+ss,cp?op+d3:this.right,lt.rtl),np(Gr.x(op),Sn,jp),cp)ls.x+=d3+xn;else if(typeof jp.text!="string"){const as=Zr.lineHeight;ls.y+=ng(jp,as)+xn}else ls.y+=Lp}),D1(this.ctx,lt.textDirection)}drawTitle(){const lt=this.options,ht=lt.title,_t=vt(ht.font),At=Mt(ht.padding);if(!ht.display)return;const qt=bi(lt.rtl,this.left,this.width),Zt=this.ctx,cr=ht.position,Gr=_t.size/2,Zr=At.top+Gr;let xn,On=this.left,ss=this.width;if(this.isHorizontal())ss=Math.max(...this.lineWidths),xn=this.top+Zr,On=It(lt.align,On,this.right-ss);else{const cs=this.columnSizes.reduce((wl,ep)=>Math.max(wl,ep.height),0);xn=Zr+It(lt.align,this.top,this.bottom-cs-lt.labels.padding-this._computeTitleHeight())}const ls=It(cr,On,On+ss);Zt.textAlign=qt.textAlign(Uu(cr)),Zt.textBaseline="middle",Zt.strokeStyle=ht.color,Zt.fillStyle=ht.color,Zt.font=_t.string,Kn(Zt,ht.text,ls,xn,_t)}_computeTitleHeight(){const lt=this.options.title,ht=vt(lt.font),_t=Mt(lt.padding);return lt.display?ht.lineHeight+_t.height:0}_getLegendItemAt(lt,ht){let _t,At,qt;if(Wr(lt,this.left,this.right)&&Wr(ht,this.top,this.bottom)){for(qt=this.legendHitBoxes,_t=0;_t<qt.length;++_t)if(At=qt[_t],Wr(lt,At.left,At.left+At.width)&&Wr(ht,At.top,At.top+At.height))return this.legendItems[_t]}return null}handleEvent(lt){const ht=this.options;if(!XA(lt.type,ht))return;const _t=this._getLegendItemAt(lt.x,lt.y);if(lt.type==="mousemove"||lt.type==="mouseout"){const At=this._hoveredItem,qt=qA(At,_t);At&&!qt&&nt(ht.onLeave,[lt,At,this],this),this._hoveredItem=_t,_t&&!qt&&nt(ht.onHover,[lt,_t,this],this)}else _t&&nt(ht.onClick,[lt,_t,this],this)}}function HA(ut,lt,ht,_t,At){const qt=YA(_t,ut,lt,ht),Zt=KA(At,_t,lt.lineHeight);return{itemWidth:qt,itemHeight:Zt}}function YA(ut,lt,ht,_t){let At=ut.text;return At&&typeof At!="string"&&(At=At.reduce((qt,Zt)=>qt.length>Zt.length?qt:Zt)),lt+ht.size/2+_t.measureText(At).width}function KA(ut,lt,ht){let _t=ut;return typeof lt.text!="string"&&(_t=ng(lt,ht)),_t}function ng(ut,lt){const ht=ut.text?ut.text.length:0;return lt*ht}function XA(ut,lt){return!!((ut==="mousemove"||ut==="mouseout")&&(lt.onHover||lt.onLeave)||lt.onClick&&(ut==="click"||ut==="mouseup"))}var JA={id:"legend",_element:Eh,start(ut,lt,ht){const _t=ut.legend=new Eh({ctx:ut.ctx,options:ht,chart:ut});Rt.configure(ut,_t,ht),Rt.addBox(ut,_t)},stop(ut){Rt.removeBox(ut,ut.legend),delete ut.legend},beforeUpdate(ut,lt,ht){const _t=ut.legend;Rt.configure(ut,_t,ht),_t.options=ht},afterUpdate(ut){const lt=ut.legend;lt.buildLabels(),lt.adjustHitBoxes()},afterEvent(ut,lt){lt.replay||ut.legend.handleEvent(lt.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(ut,lt,ht){const _t=lt.datasetIndex,At=ht.chart;At.isDatasetVisible(_t)?(At.hide(_t),lt.hidden=!0):(At.show(_t),lt.hidden=!1)},onHover:null,onLeave:null,labels:{color:ut=>ut.chart.options.color,boxWidth:40,padding:10,generateLabels(ut){const lt=ut.data.datasets,{labels:{usePointStyle:ht,pointStyle:_t,textAlign:At,color:qt,useBorderRadius:Zt,borderRadius:cr}}=ut.legend.options;return ut._getSortedDatasetMetas().map(Gr=>{const Zr=Gr.controller.getStyle(ht?0:void 0),xn=Mt(Zr.borderWidth);return{text:lt[Gr.index].label,fillStyle:Zr.backgroundColor,fontColor:qt,hidden:!Gr.visible,lineCap:Zr.borderCapStyle,lineDash:Zr.borderDash,lineDashOffset:Zr.borderDashOffset,lineJoin:Zr.borderJoinStyle,lineWidth:(xn.width+xn.height)/4,strokeStyle:Zr.borderColor,pointStyle:_t||Zr.pointStyle,rotation:Zr.rotation,textAlign:At||Zr.textAlign,borderRadius:Zt&&(cr||Zr.borderRadius),datasetIndex:Gr.index}},this)}},title:{color:ut=>ut.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:ut=>!ut.startsWith("on"),labels:{_scriptable:ut=>!["generateLabels","filter","sort"].includes(ut)}}};class Qu extends Jr{constructor(lt){super(),this.chart=lt.chart,this.options=lt.options,this.ctx=lt.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(lt,ht){const _t=this.options;if(this.left=0,this.top=0,!_t.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=lt,this.height=this.bottom=ht;const At=it(_t.text)?_t.text.length:1;this._padding=Mt(_t.padding);const qt=At*vt(_t.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=qt:this.width=qt}isHorizontal(){const lt=this.options.position;return lt==="top"||lt==="bottom"}_drawArgs(lt){const{top:ht,left:_t,bottom:At,right:qt,options:Zt}=this,cr=Zt.align;let Gr=0,Zr,xn,On;return this.isHorizontal()?(xn=It(cr,_t,qt),On=ht+lt,Zr=qt-_t):(Zt.position==="left"?(xn=_t+lt,On=It(cr,At,ht),Gr=st*-.5):(xn=qt-lt,On=It(cr,ht,At),Gr=st*.5),Zr=At-ht),{titleX:xn,titleY:On,maxWidth:Zr,rotation:Gr}}draw(){const lt=this.ctx,ht=this.options;if(!ht.display)return;const _t=vt(ht.font),At=_t.lineHeight/2+this._padding.top,{titleX:qt,titleY:Zt,maxWidth:cr,rotation:Gr}=this._drawArgs(At);Kn(lt,ht.text,0,0,_t,{color:ht.color,maxWidth:cr,rotation:Gr,textAlign:Uu(ht.align),textBaseline:"middle",translation:[qt,Zt]})}}function QA(ut,lt){const ht=new Qu({ctx:ut.ctx,options:lt,chart:ut});Rt.configure(ut,ht,lt),Rt.addBox(ut,ht),ut.titleBlock=ht}var GA={id:"title",_element:Qu,start(ut,lt,ht){QA(ut,ht)},stop(ut){const lt=ut.titleBlock;Rt.removeBox(ut,lt),delete ut.titleBlock},beforeUpdate(ut,lt,ht){const _t=ut.titleBlock;Rt.configure(ut,_t,ht),_t.options=ht},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Cs=new WeakMap;var ZA={id:"subtitle",start(ut,lt,ht){const _t=new Qu({ctx:ut.ctx,options:ht,chart:ut});Rt.configure(ut,_t,ht),Rt.addBox(ut,_t),Cs.set(ut,_t)},stop(ut){Rt.removeBox(ut,Cs.get(ut)),Cs.delete(ut)},beforeUpdate(ut,lt,ht){const _t=Cs.get(ut);Rt.configure(ut,_t,ht),_t.options=ht},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lo={average(ut){if(!ut.length)return!1;let lt,ht,_t=0,At=0,qt=0;for(lt=0,ht=ut.length;lt<ht;++lt){const Zt=ut[lt].element;if(Zt&&Zt.hasValue()){const cr=Zt.tooltipPosition();_t+=cr.x,At+=cr.y,++qt}}return{x:_t/qt,y:At/qt}},nearest(ut,lt){if(!ut.length)return!1;let ht=lt.x,_t=lt.y,At=Number.POSITIVE_INFINITY,qt,Zt,cr;for(qt=0,Zt=ut.length;qt<Zt;++qt){const Gr=ut[qt].element;if(Gr&&Gr.hasValue()){const Zr=Gr.getCenterPoint(),xn=Dc(lt,Zr);xn<At&&(At=xn,cr=Gr)}}if(cr){const Gr=cr.tooltipPosition();ht=Gr.x,_t=Gr.y}return{x:ht,y:_t}}};function vr(ut,lt){return lt&&(it(lt)?Array.prototype.push.apply(ut,lt):ut.push(lt)),ut}function Mr(ut){return(typeof ut=="string"||ut instanceof String)&&ut.indexOf(`
`)>-1?ut.split(`
`):ut}function $A(ut,lt){const{element:ht,datasetIndex:_t,index:At}=lt,qt=ut.getDatasetMeta(_t).controller,{label:Zt,value:cr}=qt.getLabelAndValue(At);return{chart:ut,label:Zt,parsed:qt.getParsed(At),raw:ut.data.datasets[_t].data[At],formattedValue:cr,dataset:qt.getDataset(),dataIndex:At,datasetIndex:_t,element:ht}}function kh(ut,lt){const ht=ut.chart.ctx,{body:_t,footer:At,title:qt}=ut,{boxWidth:Zt,boxHeight:cr}=lt,Gr=vt(lt.bodyFont),Zr=vt(lt.titleFont),xn=vt(lt.footerFont),On=qt.length,ss=At.length,ls=_t.length,cs=Mt(lt.padding);let wl=cs.height,ep=0,Al=_t.reduce((Cp,Lp)=>Cp+Lp.before.length+Lp.lines.length+Lp.after.length,0);if(Al+=ut.beforeBody.length+ut.afterBody.length,On&&(wl+=On*Zr.lineHeight+(On-1)*lt.titleSpacing+lt.titleMarginBottom),Al){const Cp=lt.displayColors?Math.max(cr,Gr.lineHeight):Gr.lineHeight;wl+=ls*Cp+(Al-ls)*Gr.lineHeight+(Al-1)*lt.bodySpacing}ss&&(wl+=lt.footerMarginTop+ss*xn.lineHeight+(ss-1)*lt.footerSpacing);let np=0;const cp=function(Cp){ep=Math.max(ep,ht.measureText(Cp).width+np)};return ht.save(),ht.font=Zr.string,$e(ut.title,cp),ht.font=Gr.string,$e(ut.beforeBody.concat(ut.afterBody),cp),np=lt.displayColors?Zt+2+lt.boxPadding:0,$e(_t,Cp=>{$e(Cp.before,cp),$e(Cp.lines,cp),$e(Cp.after,cp)}),np=0,ht.font=xn.string,$e(ut.footer,cp),ht.restore(),ep+=cs.width,{width:ep,height:wl}}function e5(ut,lt){const{y:ht,height:_t}=lt;return ht<_t/2?"top":ht>ut.height-_t/2?"bottom":"center"}function t5(ut,lt,ht,_t){const{x:At,width:qt}=_t,Zt=ht.caretSize+ht.caretPadding;if(ut==="left"&&At+qt+Zt>lt.width||ut==="right"&&At-qt-Zt<0)return!0}function r5(ut,lt,ht,_t){const{x:At,width:qt}=ht,{width:Zt,chartArea:{left:cr,right:Gr}}=ut;let Zr="center";return _t==="center"?Zr=At<=(cr+Gr)/2?"left":"right":At<=qt/2?Zr="left":At>=Zt-qt/2&&(Zr="right"),t5(Zr,ut,lt,ht)&&(Zr="center"),Zr}function Ch(ut,lt,ht){const _t=ht.yAlign||lt.yAlign||e5(ut,ht);return{xAlign:ht.xAlign||lt.xAlign||r5(ut,lt,ht,_t),yAlign:_t}}function n5(ut,lt){let{x:ht,width:_t}=ut;return lt==="right"?ht-=_t:lt==="center"&&(ht-=_t/2),ht}function i5(ut,lt,ht){let{y:_t,height:At}=ut;return lt==="top"?_t+=ht:lt==="bottom"?_t-=At+ht:_t-=At/2,_t}function Th(ut,lt,ht,_t){const{caretSize:At,caretPadding:qt,cornerRadius:Zt}=ut,{xAlign:cr,yAlign:Gr}=ht,Zr=At+qt,{topLeft:xn,topRight:On,bottomLeft:ss,bottomRight:ls}=Fn(Zt);let cs=n5(lt,cr);const wl=i5(lt,Gr,Zr);return Gr==="center"?cr==="left"?cs+=Zr:cr==="right"&&(cs-=Zr):cr==="left"?cs-=Math.max(xn,ss)+At:cr==="right"&&(cs+=Math.max(On,ls)+At),{x:St(cs,0,_t.width-lt.width),y:St(wl,0,_t.height-lt.height)}}function Ts(ut,lt,ht){const _t=Mt(ht.padding);return lt==="center"?ut.x+ut.width/2:lt==="right"?ut.x+ut.width-_t.right:ut.x+_t.left}function Oh(ut){return vr([],Mr(ut))}function o5(ut,lt,ht){return vn(ut,{tooltip:lt,tooltipItems:ht,type:"tooltip"})}function Ih(ut,lt){const ht=lt&&lt.dataset&&lt.dataset.tooltip&&lt.dataset.tooltip.callbacks;return ht?ut.override(ht):ut}const ig={beforeTitle:Pr,title(ut){if(ut.length>0){const lt=ut[0],ht=lt.chart.data.labels,_t=ht?ht.length:0;if(this&&this.options&&this.options.mode==="dataset")return lt.dataset.label||"";if(lt.label)return lt.label;if(_t>0&&lt.dataIndex<_t)return ht[lt.dataIndex]}return""},afterTitle:Pr,beforeBody:Pr,beforeLabel:Pr,label(ut){if(this&&this.options&&this.options.mode==="dataset")return ut.label+": "+ut.formattedValue||ut.formattedValue;let lt=ut.dataset.label||"";lt&&(lt+=": ");const ht=ut.formattedValue;return We(ht)||(lt+=ht),lt},labelColor(ut){const lt=ut.chart.getDatasetMeta(ut.datasetIndex).controller.getStyle(ut.dataIndex);return{borderColor:lt.borderColor,backgroundColor:lt.backgroundColor,borderWidth:lt.borderWidth,borderDash:lt.borderDash,borderDashOffset:lt.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(ut){const lt=ut.chart.getDatasetMeta(ut.datasetIndex).controller.getStyle(ut.dataIndex);return{pointStyle:lt.pointStyle,rotation:lt.rotation}},afterLabel:Pr,afterBody:Pr,beforeFooter:Pr,footer:Pr,afterFooter:Pr};function Bt(ut,lt,ht,_t){const At=ut[lt].call(ht,_t);return typeof At>"u"?ig[lt].call(ht,_t):At}var xc;let Ph=(xc=class extends Jr{constructor(ut){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=ut.chart,this.options=ut.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(ut){this.options=ut,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const ut=this._cachedAnimations;if(ut)return ut;const lt=this.chart,ht=this.options.setContext(this.getContext()),_t=ht.enabled&&lt.options.animation&&ht.animations,At=new B1(this.chart,_t);return _t._cacheable&&(this._cachedAnimations=Object.freeze(At)),At}getContext(){return this.$context||(this.$context=o5(this.chart.getContext(),this,this._tooltipItems))}getTitle(ut,lt){const{callbacks:ht}=lt,_t=Bt(ht,"beforeTitle",this,ut),At=Bt(ht,"title",this,ut),qt=Bt(ht,"afterTitle",this,ut);let Zt=[];return Zt=vr(Zt,Mr(_t)),Zt=vr(Zt,Mr(At)),Zt=vr(Zt,Mr(qt)),Zt}getBeforeBody(ut,lt){return Oh(Bt(lt.callbacks,"beforeBody",this,ut))}getBody(ut,lt){const{callbacks:ht}=lt,_t=[];return $e(ut,At=>{const qt={before:[],lines:[],after:[]},Zt=Ih(ht,At);vr(qt.before,Mr(Bt(Zt,"beforeLabel",this,At))),vr(qt.lines,Bt(Zt,"label",this,At)),vr(qt.after,Mr(Bt(Zt,"afterLabel",this,At))),_t.push(qt)}),_t}getAfterBody(ut,lt){return Oh(Bt(lt.callbacks,"afterBody",this,ut))}getFooter(ut,lt){const{callbacks:ht}=lt,_t=Bt(ht,"beforeFooter",this,ut),At=Bt(ht,"footer",this,ut),qt=Bt(ht,"afterFooter",this,ut);let Zt=[];return Zt=vr(Zt,Mr(_t)),Zt=vr(Zt,Mr(At)),Zt=vr(Zt,Mr(qt)),Zt}_createItems(ut){const lt=this._active,ht=this.chart.data,_t=[],At=[],qt=[];let Zt=[],cr,Gr;for(cr=0,Gr=lt.length;cr<Gr;++cr)Zt.push($A(this.chart,lt[cr]));return ut.filter&&(Zt=Zt.filter((Zr,xn,On)=>ut.filter(Zr,xn,On,ht))),ut.itemSort&&(Zt=Zt.sort((Zr,xn)=>ut.itemSort(Zr,xn,ht))),$e(Zt,Zr=>{const xn=Ih(ut.callbacks,Zr);_t.push(Bt(xn,"labelColor",this,Zr)),At.push(Bt(xn,"labelPointStyle",this,Zr)),qt.push(Bt(xn,"labelTextColor",this,Zr))}),this.labelColors=_t,this.labelPointStyles=At,this.labelTextColors=qt,this.dataPoints=Zt,Zt}update(ut,lt){const ht=this.options.setContext(this.getContext()),_t=this._active;let At,qt=[];if(!_t.length)this.opacity!==0&&(At={opacity:0});else{const Zt=lo[ht.position].call(this,_t,this._eventPosition);qt=this._createItems(ht),this.title=this.getTitle(qt,ht),this.beforeBody=this.getBeforeBody(qt,ht),this.body=this.getBody(qt,ht),this.afterBody=this.getAfterBody(qt,ht),this.footer=this.getFooter(qt,ht);const cr=this._size=kh(this,ht),Gr=Object.assign({},Zt,cr),Zr=Ch(this.chart,ht,Gr),xn=Th(ht,Gr,Zr,this.chart);this.xAlign=Zr.xAlign,this.yAlign=Zr.yAlign,At={opacity:1,x:xn.x,y:xn.y,width:cr.width,height:cr.height,caretX:Zt.x,caretY:Zt.y}}this._tooltipItems=qt,this.$context=void 0,At&&this._resolveAnimations().update(this,At),ut&&ht.external&&ht.external.call(this,{chart:this.chart,tooltip:this,replay:lt})}drawCaret(ut,lt,ht,_t){const At=this.getCaretPosition(ut,ht,_t);lt.lineTo(At.x1,At.y1),lt.lineTo(At.x2,At.y2),lt.lineTo(At.x3,At.y3)}getCaretPosition(ut,lt,ht){const{xAlign:_t,yAlign:At}=this,{caretSize:qt,cornerRadius:Zt}=ht,{topLeft:cr,topRight:Gr,bottomLeft:Zr,bottomRight:xn}=Fn(Zt),{x:On,y:ss}=ut,{width:ls,height:cs}=lt;let wl,ep,Al,np,cp,Cp;return At==="center"?(cp=ss+cs/2,_t==="left"?(wl=On,ep=wl-qt,np=cp+qt,Cp=cp-qt):(wl=On+ls,ep=wl+qt,np=cp-qt,Cp=cp+qt),Al=wl):(_t==="left"?ep=On+Math.max(cr,Zr)+qt:_t==="right"?ep=On+ls-Math.max(Gr,xn)-qt:ep=this.caretX,At==="top"?(np=ss,cp=np-qt,wl=ep-qt,Al=ep+qt):(np=ss+cs,cp=np+qt,wl=ep+qt,Al=ep-qt),Cp=np),{x1:wl,x2:ep,x3:Al,y1:np,y2:cp,y3:Cp}}drawTitle(ut,lt,ht){const _t=this.title,At=_t.length;let qt,Zt,cr;if(At){const Gr=bi(ht.rtl,this.x,this.width);for(ut.x=Ts(this,ht.titleAlign,ht),lt.textAlign=Gr.textAlign(ht.titleAlign),lt.textBaseline="middle",qt=vt(ht.titleFont),Zt=ht.titleSpacing,lt.fillStyle=ht.titleColor,lt.font=qt.string,cr=0;cr<At;++cr)lt.fillText(_t[cr],Gr.x(ut.x),ut.y+qt.lineHeight/2),ut.y+=qt.lineHeight+Zt,cr+1===At&&(ut.y+=ht.titleMarginBottom-Zt)}}_drawColorBox(ut,lt,ht,_t,At){const qt=this.labelColors[ht],Zt=this.labelPointStyles[ht],{boxHeight:cr,boxWidth:Gr}=At,Zr=vt(At.bodyFont),xn=Ts(this,"left",At),On=_t.x(xn),ss=cr<Zr.lineHeight?(Zr.lineHeight-cr)/2:0,ls=lt.y+ss;if(At.usePointStyle){const cs={radius:Math.min(Gr,cr)/2,pointStyle:Zt.pointStyle,rotation:Zt.rotation,borderWidth:1},wl=_t.leftForLtr(On,Gr)+Gr/2,ep=ls+cr/2;ut.strokeStyle=At.multiKeyBackground,ut.fillStyle=At.multiKeyBackground,Nc(ut,cs,wl,ep),ut.strokeStyle=qt.borderColor,ut.fillStyle=qt.backgroundColor,Nc(ut,cs,wl,ep)}else{ut.lineWidth=Le(qt.borderWidth)?Math.max(...Object.values(qt.borderWidth)):qt.borderWidth||1,ut.strokeStyle=qt.borderColor,ut.setLineDash(qt.borderDash||[]),ut.lineDashOffset=qt.borderDashOffset||0;const cs=_t.leftForLtr(On,Gr),wl=_t.leftForLtr(_t.xPlus(On,1),Gr-2),ep=Fn(qt.borderRadius);Object.values(ep).some(Al=>Al!==0)?(ut.beginPath(),ut.fillStyle=At.multiKeyBackground,Ro(ut,{x:cs,y:ls,w:Gr,h:cr,radius:ep}),ut.fill(),ut.stroke(),ut.fillStyle=qt.backgroundColor,ut.beginPath(),Ro(ut,{x:wl,y:ls+1,w:Gr-2,h:cr-2,radius:ep}),ut.fill()):(ut.fillStyle=At.multiKeyBackground,ut.fillRect(cs,ls,Gr,cr),ut.strokeRect(cs,ls,Gr,cr),ut.fillStyle=qt.backgroundColor,ut.fillRect(wl,ls+1,Gr-2,cr-2))}ut.fillStyle=this.labelTextColors[ht]}drawBody(ut,lt,ht){const{body:_t}=this,{bodySpacing:At,bodyAlign:qt,displayColors:Zt,boxHeight:cr,boxWidth:Gr,boxPadding:Zr}=ht,xn=vt(ht.bodyFont);let On=xn.lineHeight,ss=0;const ls=bi(ht.rtl,this.x,this.width),cs=function(nm){lt.fillText(nm,ls.x(ut.x+ss),ut.y+On/2),ut.y+=On+At},wl=ls.textAlign(qt);let ep,Al,np,cp,Cp,Lp,jp;for(lt.textAlign=qt,lt.textBaseline="middle",lt.font=xn.string,ut.x=Ts(this,wl,ht),lt.fillStyle=ht.bodyColor,$e(this.beforeBody,cs),ss=Zt&&wl!=="right"?qt==="center"?Gr/2+Zr:Gr+2+Zr:0,cp=0,Lp=_t.length;cp<Lp;++cp){for(ep=_t[cp],Al=this.labelTextColors[cp],lt.fillStyle=Al,$e(ep.before,cs),np=ep.lines,Zt&&np.length&&(this._drawColorBox(lt,ut,cp,ls,ht),On=Math.max(xn.lineHeight,cr)),Cp=0,jp=np.length;Cp<jp;++Cp)cs(np[Cp]),On=xn.lineHeight;$e(ep.after,cs)}ss=0,On=xn.lineHeight,$e(this.afterBody,cs),ut.y-=At}drawFooter(ut,lt,ht){const _t=this.footer,At=_t.length;let qt,Zt;if(At){const cr=bi(ht.rtl,this.x,this.width);for(ut.x=Ts(this,ht.footerAlign,ht),ut.y+=ht.footerMarginTop,lt.textAlign=cr.textAlign(ht.footerAlign),lt.textBaseline="middle",qt=vt(ht.footerFont),lt.fillStyle=ht.footerColor,lt.font=qt.string,Zt=0;Zt<At;++Zt)lt.fillText(_t[Zt],cr.x(ut.x),ut.y+qt.lineHeight/2),ut.y+=qt.lineHeight+ht.footerSpacing}}drawBackground(ut,lt,ht,_t){const{xAlign:At,yAlign:qt}=this,{x:Zt,y:cr}=ut,{width:Gr,height:Zr}=ht,{topLeft:xn,topRight:On,bottomLeft:ss,bottomRight:ls}=Fn(_t.cornerRadius);lt.fillStyle=_t.backgroundColor,lt.strokeStyle=_t.borderColor,lt.lineWidth=_t.borderWidth,lt.beginPath(),lt.moveTo(Zt+xn,cr),qt==="top"&&this.drawCaret(ut,lt,ht,_t),lt.lineTo(Zt+Gr-On,cr),lt.quadraticCurveTo(Zt+Gr,cr,Zt+Gr,cr+On),qt==="center"&&At==="right"&&this.drawCaret(ut,lt,ht,_t),lt.lineTo(Zt+Gr,cr+Zr-ls),lt.quadraticCurveTo(Zt+Gr,cr+Zr,Zt+Gr-ls,cr+Zr),qt==="bottom"&&this.drawCaret(ut,lt,ht,_t),lt.lineTo(Zt+ss,cr+Zr),lt.quadraticCurveTo(Zt,cr+Zr,Zt,cr+Zr-ss),qt==="center"&&At==="left"&&this.drawCaret(ut,lt,ht,_t),lt.lineTo(Zt,cr+xn),lt.quadraticCurveTo(Zt,cr,Zt+xn,cr),lt.closePath(),lt.fill(),_t.borderWidth>0&&lt.stroke()}_updateAnimationTarget(ut){const lt=this.chart,ht=this.$animations,_t=ht&&ht.x,At=ht&&ht.y;if(_t||At){const qt=lo[ut.position].call(this,this._active,this._eventPosition);if(!qt)return;const Zt=this._size=kh(this,ut),cr=Object.assign({},qt,this._size),Gr=Ch(lt,ut,cr),Zr=Th(ut,cr,Gr,lt);(_t._to!==Zr.x||At._to!==Zr.y)&&(this.xAlign=Gr.xAlign,this.yAlign=Gr.yAlign,this.width=Zt.width,this.height=Zt.height,this.caretX=qt.x,this.caretY=qt.y,this._resolveAnimations().update(this,Zr))}}_willRender(){return!!this.opacity}draw(ut){const lt=this.options.setContext(this.getContext());let ht=this.opacity;if(!ht)return;this._updateAnimationTarget(lt);const _t={width:this.width,height:this.height},At={x:this.x,y:this.y};ht=Math.abs(ht)<.001?0:ht;const qt=Mt(lt.padding),Zt=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;lt.enabled&&Zt&&(ut.save(),ut.globalAlpha=ht,this.drawBackground(At,ut,_t,lt),R1(ut,lt.textDirection),At.y+=qt.top,this.drawTitle(At,ut,lt),this.drawBody(At,ut,lt),this.drawFooter(At,ut,lt),D1(ut,lt.textDirection),ut.restore())}getActiveElements(){return this._active||[]}setActiveElements(ut,lt){const ht=this._active,_t=ut.map(({datasetIndex:Zt,index:cr})=>{const Gr=this.chart.getDatasetMeta(Zt);if(!Gr)throw new Error("Cannot find a dataset at index "+Zt);return{datasetIndex:Zt,element:Gr.data[cr],index:cr}}),At=!ga(ht,_t),qt=this._positionChanged(_t,lt);(At||qt)&&(this._active=_t,this._eventPosition=lt,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(ut,lt,ht=!0){if(lt&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const _t=this.options,At=this._active||[],qt=this._getActiveElements(ut,At,lt,ht),Zt=this._positionChanged(qt,ut),cr=lt||!ga(qt,At)||Zt;return cr&&(this._active=qt,(_t.enabled||_t.external)&&(this._eventPosition={x:ut.x,y:ut.y},this.update(!0,lt))),cr}_getActiveElements(ut,lt,ht,_t){const At=this.options;if(ut.type==="mouseout")return[];if(!_t)return lt;const qt=this.chart.getElementsAtEventForMode(ut,At.mode,At,ht);return At.reverse&&qt.reverse(),qt}_positionChanged(ut,lt){const{caretX:ht,caretY:_t,options:At}=this,qt=lo[At.position].call(this,ut,lt);return qt!==!1&&(ht!==qt.x||_t!==qt.y)}},ye(xc,"positioners",lo),xc);var s5={id:"tooltip",_element:Ph,positioners:lo,afterInit(ut,lt,ht){ht&&(ut.tooltip=new Ph({chart:ut,options:ht}))},beforeUpdate(ut,lt,ht){ut.tooltip&&ut.tooltip.initialize(ht)},reset(ut,lt,ht){ut.tooltip&&ut.tooltip.initialize(ht)},afterDraw(ut){const lt=ut.tooltip;if(lt&&lt._willRender()){const ht={tooltip:lt};if(ut.notifyPlugins("beforeTooltipDraw",{...ht,cancelable:!0})===!1)return;lt.draw(ut.ctx),ut.notifyPlugins("afterTooltipDraw",ht)}},afterEvent(ut,lt){if(ut.tooltip){const ht=lt.replay;ut.tooltip.handleEvent(lt.event,ht,lt.inChartArea)&&(lt.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(ut,lt)=>lt.bodyFont.size,boxWidth:(ut,lt)=>lt.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ig},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:ut=>ut!=="filter"&&ut!=="itemSort"&&ut!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},a5=Object.freeze({__proto__:null,Colors:vA,Decimation:_A,Filler:VA,Legend:JA,SubTitle:ZA,Title:GA,Tooltip:s5});const l5=(ut,lt,ht,_t)=>(typeof lt=="string"?(ht=ut.push(lt)-1,_t.unshift({index:ht,label:lt})):isNaN(lt)&&(ht=null),ht);function c5(ut,lt,ht,_t){const At=ut.indexOf(lt);if(At===-1)return l5(ut,lt,ht,_t);const qt=ut.lastIndexOf(lt);return At!==qt?ht:At}const u5=(ut,lt)=>ut===null?null:St(Math.round(ut),0,lt);function Rh(ut){const lt=this.getLabels();return ut>=0&&ut<lt.length?lt[ut]:ut}class zc extends Zn{constructor(lt){super(lt),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(lt){const ht=this._addedLabels;if(ht.length){const _t=this.getLabels();for(const{index:At,label:qt}of ht)_t[At]===qt&&_t.splice(At,1);this._addedLabels=[]}super.init(lt)}parse(lt,ht){if(We(lt))return null;const _t=this.getLabels();return ht=isFinite(ht)&&_t[ht]===lt?ht:c5(_t,lt,Oe(ht,lt),this._addedLabels),u5(ht,_t.length-1)}determineDataLimits(){const{minDefined:lt,maxDefined:ht}=this.getUserBounds();let{min:_t,max:At}=this.getMinMax(!0);this.options.bounds==="ticks"&&(lt||(_t=0),ht||(At=this.getLabels().length-1)),this.min=_t,this.max=At}buildTicks(){const lt=this.min,ht=this.max,_t=this.options.offset,At=[];let qt=this.getLabels();qt=lt===0&&ht===qt.length-1?qt:qt.slice(lt,ht+1),this._valueRange=Math.max(qt.length-(_t?0:1),1),this._startValue=this.min-(_t?.5:0);for(let Zt=lt;Zt<=ht;Zt++)At.push({value:Zt});return At}getLabelForValue(lt){return Rh.call(this,lt)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(lt){return typeof lt!="number"&&(lt=this.parse(lt)),lt===null?NaN:this.getPixelForDecimal((lt-this._startValue)/this._valueRange)}getPixelForTick(lt){const ht=this.ticks;return lt<0||lt>ht.length-1?null:this.getPixelForValue(ht[lt].value)}getValueForPixel(lt){return Math.round(this._startValue+this.getDecimalForPixel(lt)*this._valueRange)}getBasePixel(){return this.bottom}}ye(zc,"id","category"),ye(zc,"defaults",{ticks:{callback:Rh}});function f5(ut,lt){const ht=[],{bounds:_t,step:At,min:qt,max:Zt,precision:cr,count:Gr,maxTicks:Zr,maxDigits:xn,includeBounds:On}=ut,ss=At||1,ls=Zr-1,{min:cs,max:wl}=lt,ep=!We(qt),Al=!We(Zt),np=!We(Gr),cp=(wl-cs)/(xn+1);let Cp=Ed((wl-cs)/ls/ss)*ss,Lp,jp,nm,zm;if(Cp<1e-14&&!ep&&!Al)return[{value:cs},{value:wl}];zm=Math.ceil(wl/Cp)-Math.floor(cs/Cp),zm>ls&&(Cp=Ed(zm*Cp/ls/ss)*ss),We(cr)||(Lp=Math.pow(10,cr),Cp=Math.ceil(Cp*Lp)/Lp),_t==="ticks"?(jp=Math.floor(cs/Cp)*Cp,nm=Math.ceil(wl/Cp)*Cp):(jp=cs,nm=wl),ep&&Al&&At&&o2((Zt-qt)/At,Cp/1e3)?(zm=Math.round(Math.min((Zt-qt)/Cp,Zr)),Cp=(Zt-qt)/zm,jp=qt,nm=Zt):np?(jp=ep?qt:jp,nm=Al?Zt:nm,zm=Gr-1,Cp=(nm-jp)/zm):(zm=(nm-jp)/Cp,yo(zm,Math.round(zm),Cp/1e3)?zm=Math.round(zm):zm=Math.ceil(zm));const i1=Math.max(kd(Cp),kd(jp));Lp=Math.pow(10,We(cr)?i1:cr),jp=Math.round(jp*Lp)/Lp,nm=Math.round(nm*Lp)/Lp;let d3=0;for(ep&&(On&&jp!==qt?(ht.push({value:qt}),jp<qt&&d3++,yo(Math.round((jp+d3*Cp)*Lp)/Lp,qt,Dh(qt,cp,ut))&&d3++):jp<qt&&d3++);d3<zm;++d3){const op=Math.round((jp+d3*Cp)*Lp)/Lp;if(Al&&op>Zt)break;ht.push({value:op})}return Al&&On&&nm!==Zt?ht.length&&yo(ht[ht.length-1].value,Zt,Dh(Zt,cp,ut))?ht[ht.length-1].value=Zt:ht.push({value:Zt}):(!Al||nm===Zt)&&ht.push({value:nm}),ht}function Dh(ut,lt,{horizontal:ht,minRotation:_t}){const At=gr(_t),qt=(ht?Math.sin(At):Math.cos(At))||.001,Zt=.75*lt*(""+ut).length;return Math.min(lt/qt,Zt)}class xa extends Zn{constructor(lt){super(lt),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(lt,ht){return We(lt)||(typeof lt=="number"||lt instanceof Number)&&!isFinite(+lt)?null:+lt}handleTickRangeOptions(){const{beginAtZero:lt}=this.options,{minDefined:ht,maxDefined:_t}=this.getUserBounds();let{min:At,max:qt}=this;const Zt=Gr=>At=ht?At:Gr,cr=Gr=>qt=_t?qt:Gr;if(lt){const Gr=Cr(At),Zr=Cr(qt);Gr<0&&Zr<0?cr(0):Gr>0&&Zr>0&&Zt(0)}if(At===qt){let Gr=qt===0?1:Math.abs(qt*.05);cr(qt+Gr),lt||Zt(At-Gr)}this.min=At,this.max=qt}getTickLimit(){const lt=this.options.ticks;let{maxTicksLimit:ht,stepSize:_t}=lt,At;return _t?(At=Math.ceil(this.max/_t)-Math.floor(this.min/_t)+1,At>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${_t} would result generating up to ${At} ticks. Limiting to 1000.`),At=1e3)):(At=this.computeTickLimit(),ht=ht||11),ht&&(At=Math.min(ht,At)),At}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const lt=this.options,ht=lt.ticks;let _t=this.getTickLimit();_t=Math.max(2,_t);const At={maxTicks:_t,bounds:lt.bounds,min:lt.min,max:lt.max,precision:ht.precision,step:ht.stepSize,count:ht.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:ht.minRotation||0,includeBounds:ht.includeBounds!==!1},qt=this._range||this,Zt=f5(At,qt);return lt.bounds==="ticks"&&p1(Zt,this,"value"),lt.reverse?(Zt.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),Zt}configure(){const lt=this.ticks;let ht=this.min,_t=this.max;if(super.configure(),this.options.offset&&lt.length){const At=(_t-ht)/Math.max(lt.length-1,1)/2;ht-=At,_t+=At}this._startValue=ht,this._endValue=_t,this._valueRange=_t-ht}getLabelForValue(lt){return Qo(lt,this.chart.options.locale,this.options.ticks.format)}}class Vc extends xa{determineDataLimits(){const{min:lt,max:ht}=this.getMinMax(!0);this.min=pt(lt)?lt:0,this.max=pt(ht)?ht:1,this.handleTickRangeOptions()}computeTickLimit(){const lt=this.isHorizontal(),ht=lt?this.width:this.height,_t=gr(this.options.ticks.minRotation),At=(lt?Math.sin(_t):Math.cos(_t))||.001,qt=this._resolveTickFontOptions(0);return Math.ceil(ht/Math.min(40,qt.lineHeight/At))}getPixelForValue(lt){return lt===null?NaN:this.getPixelForDecimal((lt-this._startValue)/this._valueRange)}getValueForPixel(lt){return this._startValue+this.getDecimalForPixel(lt)*this._valueRange}}ye(Vc,"id","linear"),ye(Vc,"defaults",{ticks:{callback:Ya.formatters.numeric}});const Mo=ut=>Math.floor(rn(ut)),Tn=(ut,lt)=>Math.pow(10,Mo(ut)+lt);function Mh(ut){return ut/Math.pow(10,Mo(ut))===1}function Nh(ut,lt,ht){const _t=Math.pow(10,ht),At=Math.floor(ut/_t);return Math.ceil(lt/_t)-At}function d5(ut,lt){const ht=lt-ut;let _t=Mo(ht);for(;Nh(ut,lt,_t)>10;)_t++;for(;Nh(ut,lt,_t)<10;)_t--;return Math.min(_t,Mo(ut))}function h5(ut,{min:lt,max:ht}){lt=Ht(ut.min,lt);const _t=[],At=Mo(lt);let qt=d5(lt,ht),Zt=qt<0?Math.pow(10,Math.abs(qt)):1;const cr=Math.pow(10,qt),Gr=At>qt?Math.pow(10,At):0,Zr=Math.round((lt-Gr)*Zt)/Zt,xn=Math.floor((lt-Gr)/cr/10)*cr*10;let On=Math.floor((Zr-xn)/Math.pow(10,qt)),ss=Ht(ut.min,Math.round((Gr+xn+On*Math.pow(10,qt))*Zt)/Zt);for(;ss<ht;)_t.push({value:ss,major:Mh(ss),significand:On}),On>=10?On=On<15?15:20:On++,On>=20&&(qt++,On=2,Zt=qt>=0?1:Zt),ss=Math.round((Gr+xn+On*Math.pow(10,qt))*Zt)/Zt;const ls=Ht(ut.max,ss);return _t.push({value:ls,major:Mh(ls),significand:On}),_t}class qc extends Zn{constructor(lt){super(lt),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(lt,ht){const _t=xa.prototype.parse.apply(this,[lt,ht]);if(_t===0){this._zero=!0;return}return pt(_t)&&_t>0?_t:null}determineDataLimits(){const{min:lt,max:ht}=this.getMinMax(!0);this.min=pt(lt)?Math.max(0,lt):null,this.max=pt(ht)?Math.max(0,ht):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!pt(this._userMin)&&(this.min=lt===Tn(this.min,0)?Tn(this.min,-1):Tn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:lt,maxDefined:ht}=this.getUserBounds();let _t=this.min,At=this.max;const qt=cr=>_t=lt?_t:cr,Zt=cr=>At=ht?At:cr;_t===At&&(_t<=0?(qt(1),Zt(10)):(qt(Tn(_t,-1)),Zt(Tn(At,1)))),_t<=0&&qt(Tn(At,-1)),At<=0&&Zt(Tn(_t,1)),this.min=_t,this.max=At}buildTicks(){const lt=this.options,ht={min:this._userMin,max:this._userMax},_t=h5(ht,this);return lt.bounds==="ticks"&&p1(_t,this,"value"),lt.reverse?(_t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),_t}getLabelForValue(lt){return lt===void 0?"0":Qo(lt,this.chart.options.locale,this.options.ticks.format)}configure(){const lt=this.min;super.configure(),this._startValue=rn(lt),this._valueRange=rn(this.max)-rn(lt)}getPixelForValue(lt){return(lt===void 0||lt===0)&&(lt=this.min),lt===null||isNaN(lt)?NaN:this.getPixelForDecimal(lt===this.min?0:(rn(lt)-this._startValue)/this._valueRange)}getValueForPixel(lt){const ht=this.getDecimalForPixel(lt);return Math.pow(10,this._startValue+ht*this._valueRange)}}ye(qc,"id","logarithmic"),ye(qc,"defaults",{ticks:{callback:Ya.formatters.logarithmic,major:{enabled:!0}}});function Hc(ut){const lt=ut.ticks;if(lt.display&&ut.display){const ht=Mt(lt.backdropPadding);return Oe(lt.font&&lt.font.size,gt.font.size)+ht.height}return 0}function p5(ut,lt,ht){return ht=it(ht)?ht:[ht],{w:x2(ut,lt.string,ht),h:ht.length*lt.lineHeight}}function Lh(ut,lt,ht,_t,At){return ut===_t||ut===At?{start:lt-ht/2,end:lt+ht/2}:ut<_t||ut>At?{start:lt-ht,end:lt}:{start:lt,end:lt+ht}}function g5(ut){const lt={l:ut.left+ut._padding.left,r:ut.right-ut._padding.right,t:ut.top+ut._padding.top,b:ut.bottom-ut._padding.bottom},ht=Object.assign({},lt),_t=[],At=[],qt=ut._pointLabels.length,Zt=ut.options.pointLabels,cr=Zt.centerPointLabels?st/qt:0;for(let Gr=0;Gr<qt;Gr++){const Zr=Zt.setContext(ut.getPointLabelContext(Gr));At[Gr]=Zr.padding;const xn=ut.getPointPosition(Gr,ut.drawingArea+At[Gr],cr),On=vt(Zr.font),ss=p5(ut.ctx,On,ut._pointLabels[Gr]);_t[Gr]=ss;const ls=Yt(ut.getIndexAngle(Gr)+cr),cs=Math.round(ju(ls)),wl=Lh(cs,xn.x,ss.w,0,180),ep=Lh(cs,xn.y,ss.h,90,270);m5(ht,lt,ls,wl,ep)}ut.setCenterPoint(lt.l-ht.l,ht.r-lt.r,lt.t-ht.t,ht.b-lt.b),ut._pointLabelItems=v5(ut,_t,At)}function m5(ut,lt,ht,_t,At){const qt=Math.abs(Math.sin(ht)),Zt=Math.abs(Math.cos(ht));let cr=0,Gr=0;_t.start<lt.l?(cr=(lt.l-_t.start)/qt,ut.l=Math.min(ut.l,lt.l-cr)):_t.end>lt.r&&(cr=(_t.end-lt.r)/qt,ut.r=Math.max(ut.r,lt.r+cr)),At.start<lt.t?(Gr=(lt.t-At.start)/Zt,ut.t=Math.min(ut.t,lt.t-Gr)):At.end>lt.b&&(Gr=(At.end-lt.b)/Zt,ut.b=Math.max(ut.b,lt.b+Gr))}function y5(ut,lt,ht){const _t=ut.drawingArea,{extra:At,additionalAngle:qt,padding:Zt,size:cr}=ht,Gr=ut.getPointPosition(lt,_t+At+Zt,qt),Zr=Math.round(ju(Yt(Gr.angle+mt))),xn=x5(Gr.y,cr.h,Zr),On=A5(Zr),ss=w5(Gr.x,cr.w,On);return{visible:!0,x:Gr.x,y:xn,textAlign:On,left:ss,top:xn,right:ss+cr.w,bottom:xn+cr.h}}function b5(ut,lt){if(!lt)return!0;const{left:ht,top:_t,right:At,bottom:qt}=ut;return!(zr({x:ht,y:_t},lt)||zr({x:ht,y:qt},lt)||zr({x:At,y:_t},lt)||zr({x:At,y:qt},lt))}function v5(ut,lt,ht){const _t=[],At=ut._pointLabels.length,qt=ut.options,{centerPointLabels:Zt,display:cr}=qt.pointLabels,Gr={extra:Hc(qt)/2,additionalAngle:Zt?st/At:0};let Zr;for(let xn=0;xn<At;xn++){Gr.padding=ht[xn],Gr.size=lt[xn];const On=y5(ut,xn,Gr);_t.push(On),cr==="auto"&&(On.visible=b5(On,Zr),On.visible&&(Zr=On))}return _t}function A5(ut){return ut===0||ut===180?"center":ut<180?"left":"right"}function w5(ut,lt,ht){return ht==="right"?ut-=lt:ht==="center"&&(ut-=lt/2),ut}function x5(ut,lt,ht){return ht===90||ht===270?ut-=lt/2:(ht>270||ht<90)&&(ut-=lt),ut}function _5(ut,lt,ht){const{left:_t,top:At,right:qt,bottom:Zt}=ht,{backdropColor:cr}=lt;if(!We(cr)){const Gr=Fn(lt.borderRadius),Zr=Mt(lt.backdropPadding);ut.fillStyle=cr;const xn=_t-Zr.left,On=At-Zr.top,ss=qt-_t+Zr.width,ls=Zt-At+Zr.height;Object.values(Gr).some(cs=>cs!==0)?(ut.beginPath(),Ro(ut,{x:xn,y:On,w:ss,h:ls,radius:Gr}),ut.fill()):ut.fillRect(xn,On,ss,ls)}}function S5(ut,lt){const{ctx:ht,options:{pointLabels:_t}}=ut;for(let At=lt-1;At>=0;At--){const qt=ut._pointLabelItems[At];if(!qt.visible)continue;const Zt=_t.setContext(ut.getPointLabelContext(At));_5(ht,Zt,qt);const cr=vt(Zt.font),{x:Gr,y:Zr,textAlign:xn}=qt;Kn(ht,ut._pointLabels[At],Gr,Zr+cr.lineHeight/2,cr,{color:Zt.color,textAlign:xn,textBaseline:"middle"})}}function og(ut,lt,ht,_t){const{ctx:At}=ut;if(ht)At.arc(ut.xCenter,ut.yCenter,lt,0,ot);else{let qt=ut.getPointPosition(0,lt);At.moveTo(qt.x,qt.y);for(let Zt=1;Zt<_t;Zt++)qt=ut.getPointPosition(Zt,lt),At.lineTo(qt.x,qt.y)}}function E5(ut,lt,ht,_t,At){const qt=ut.ctx,Zt=lt.circular,{color:cr,lineWidth:Gr}=lt;!Zt&&!_t||!cr||!Gr||ht<0||(qt.save(),qt.strokeStyle=cr,qt.lineWidth=Gr,qt.setLineDash(At.dash),qt.lineDashOffset=At.dashOffset,qt.beginPath(),og(ut,ht,Zt,_t),qt.closePath(),qt.stroke(),qt.restore())}function k5(ut,lt,ht){return vn(ut,{label:ht,index:lt,type:"pointLabel"})}class co extends xa{constructor(lt){super(lt),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const lt=this._padding=Mt(Hc(this.options)/2),ht=this.width=this.maxWidth-lt.width,_t=this.height=this.maxHeight-lt.height;this.xCenter=Math.floor(this.left+ht/2+lt.left),this.yCenter=Math.floor(this.top+_t/2+lt.top),this.drawingArea=Math.floor(Math.min(ht,_t)/2)}determineDataLimits(){const{min:lt,max:ht}=this.getMinMax(!1);this.min=pt(lt)&&!isNaN(lt)?lt:0,this.max=pt(ht)&&!isNaN(ht)?ht:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Hc(this.options))}generateTickLabels(lt){xa.prototype.generateTickLabels.call(this,lt),this._pointLabels=this.getLabels().map((ht,_t)=>{const At=nt(this.options.pointLabels.callback,[ht,_t],this);return At||At===0?At:""}).filter((ht,_t)=>this.chart.getDataVisibility(_t))}fit(){const lt=this.options;lt.display&&lt.pointLabels.display?g5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(lt,ht,_t,At){this.xCenter+=Math.floor((lt-ht)/2),this.yCenter+=Math.floor((_t-At)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(lt,ht,_t,At))}getIndexAngle(lt){const ht=ot/(this._pointLabels.length||1),_t=this.options.startAngle||0;return Yt(lt*ht+gr(_t))}getDistanceFromCenterForValue(lt){if(We(lt))return NaN;const ht=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-lt)*ht:(lt-this.min)*ht}getValueForDistanceFromCenter(lt){if(We(lt))return NaN;const ht=lt/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-ht:this.min+ht}getPointLabelContext(lt){const ht=this._pointLabels||[];if(lt>=0&&lt<ht.length){const _t=ht[lt];return k5(this.getContext(),lt,_t)}}getPointPosition(lt,ht,_t=0){const At=this.getIndexAngle(lt)-mt+_t;return{x:Math.cos(At)*ht+this.xCenter,y:Math.sin(At)*ht+this.yCenter,angle:At}}getPointPositionForValue(lt,ht){return this.getPointPosition(lt,this.getDistanceFromCenterForValue(ht))}getBasePosition(lt){return this.getPointPositionForValue(lt||0,this.getBaseValue())}getPointLabelPosition(lt){const{left:ht,top:_t,right:At,bottom:qt}=this._pointLabelItems[lt];return{left:ht,top:_t,right:At,bottom:qt}}drawBackground(){const{backgroundColor:lt,grid:{circular:ht}}=this.options;if(lt){const _t=this.ctx;_t.save(),_t.beginPath(),og(this,this.getDistanceFromCenterForValue(this._endValue),ht,this._pointLabels.length),_t.closePath(),_t.fillStyle=lt,_t.fill(),_t.restore()}}drawGrid(){const lt=this.ctx,ht=this.options,{angleLines:_t,grid:At,border:qt}=ht,Zt=this._pointLabels.length;let cr,Gr,Zr;if(ht.pointLabels.display&&S5(this,Zt),At.display&&this.ticks.forEach((xn,On)=>{if(On!==0){Gr=this.getDistanceFromCenterForValue(xn.value);const ss=this.getContext(On),ls=At.setContext(ss),cs=qt.setContext(ss);E5(this,ls,Gr,Zt,cs)}}),_t.display){for(lt.save(),cr=Zt-1;cr>=0;cr--){const xn=_t.setContext(this.getPointLabelContext(cr)),{color:On,lineWidth:ss}=xn;!ss||!On||(lt.lineWidth=ss,lt.strokeStyle=On,lt.setLineDash(xn.borderDash),lt.lineDashOffset=xn.borderDashOffset,Gr=this.getDistanceFromCenterForValue(ht.ticks.reverse?this.min:this.max),Zr=this.getPointPosition(cr,Gr),lt.beginPath(),lt.moveTo(this.xCenter,this.yCenter),lt.lineTo(Zr.x,Zr.y),lt.stroke())}lt.restore()}}drawBorder(){}drawLabels(){const lt=this.ctx,ht=this.options,_t=ht.ticks;if(!_t.display)return;const At=this.getIndexAngle(0);let qt,Zt;lt.save(),lt.translate(this.xCenter,this.yCenter),lt.rotate(At),lt.textAlign="center",lt.textBaseline="middle",this.ticks.forEach((cr,Gr)=>{if(Gr===0&&!ht.reverse)return;const Zr=_t.setContext(this.getContext(Gr)),xn=vt(Zr.font);if(qt=this.getDistanceFromCenterForValue(this.ticks[Gr].value),Zr.showLabelBackdrop){lt.font=xn.string,Zt=lt.measureText(cr.label).width,lt.fillStyle=Zr.backdropColor;const On=Mt(Zr.backdropPadding);lt.fillRect(-Zt/2-On.left,-qt-xn.size/2-On.top,Zt+On.width,xn.size+On.height)}Kn(lt,cr.label,0,-qt,xn,{color:Zr.color,strokeColor:Zr.textStrokeColor,strokeWidth:Zr.textStrokeWidth})}),lt.restore()}drawTitle(){}}ye(co,"id","radialLinear"),ye(co,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ya.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(ut){return ut},padding:5,centerPointLabels:!1}}),ye(co,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ye(co,"descriptors",{angleLines:{_fallback:"grid"}});const Qa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},jt=Object.keys(Qa);function Bh(ut,lt){return ut-lt}function Fh(ut,lt){if(We(lt))return null;const ht=ut._adapter,{parser:_t,round:At,isoWeekday:qt}=ut._parseOpts;let Zt=lt;return typeof _t=="function"&&(Zt=_t(Zt)),pt(Zt)||(Zt=typeof _t=="string"?ht.parse(Zt,_t):ht.parse(Zt)),Zt===null?null:(At&&(Zt=At==="week"&&(Ei(qt)||qt===!0)?ht.startOf(Zt,"isoWeek",qt):ht.startOf(Zt,At)),+Zt)}function jh(ut,lt,ht,_t){const At=jt.length;for(let qt=jt.indexOf(ut);qt<At-1;++qt){const Zt=Qa[jt[qt]],cr=Zt.steps?Zt.steps:Number.MAX_SAFE_INTEGER;if(Zt.common&&Math.ceil((ht-lt)/(cr*Zt.size))<=_t)return jt[qt]}return jt[At-1]}function C5(ut,lt,ht,_t,At){for(let qt=jt.length-1;qt>=jt.indexOf(ht);qt--){const Zt=jt[qt];if(Qa[Zt].common&&ut._adapter.diff(At,_t,Zt)>=lt-1)return Zt}return jt[ht?jt.indexOf(ht):0]}function T5(ut){for(let lt=jt.indexOf(ut)+1,ht=jt.length;lt<ht;++lt)if(Qa[jt[lt]].common)return jt[lt]}function Wh(ut,lt,ht){if(!ht)ut[lt]=!0;else if(ht.length){const{lo:_t,hi:At}=Wu(ht,lt),qt=ht[_t]>=lt?ht[_t]:ht[At];ut[qt]=!0}}function O5(ut,lt,ht,_t){const At=ut._adapter,qt=+At.startOf(lt[0].value,_t),Zt=lt[lt.length-1].value;let cr,Gr;for(cr=qt;cr<=Zt;cr=+At.add(cr,1,_t))Gr=ht[cr],Gr>=0&&(lt[Gr].major=!0);return lt}function Uh(ut,lt,ht){const _t=[],At={},qt=lt.length;let Zt,cr;for(Zt=0;Zt<qt;++Zt)cr=lt[Zt],At[cr]=Zt,_t.push({value:cr,major:!1});return qt===0||!ht?_t:O5(ut,_t,At,ht)}class No extends Zn{constructor(lt){super(lt),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(lt,ht={}){const _t=lt.time||(lt.time={}),At=this._adapter=new Fv._date(lt.adapters.date);At.init(ht),mo(_t.displayFormats,At.formats()),this._parseOpts={parser:_t.parser,round:_t.round,isoWeekday:_t.isoWeekday},super.init(lt),this._normalized=ht.normalized}parse(lt,ht){return lt===void 0?null:Fh(this,lt)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const lt=this.options,ht=this._adapter,_t=lt.time.unit||"day";let{min:At,max:qt,minDefined:Zt,maxDefined:cr}=this.getUserBounds();function Gr(Zr){!Zt&&!isNaN(Zr.min)&&(At=Math.min(At,Zr.min)),!cr&&!isNaN(Zr.max)&&(qt=Math.max(qt,Zr.max))}(!Zt||!cr)&&(Gr(this._getLabelBounds()),(lt.bounds!=="ticks"||lt.ticks.source!=="labels")&&Gr(this.getMinMax(!1))),At=pt(At)&&!isNaN(At)?At:+ht.startOf(Date.now(),_t),qt=pt(qt)&&!isNaN(qt)?qt:+ht.endOf(Date.now(),_t)+1,this.min=Math.min(At,qt-1),this.max=Math.max(At+1,qt)}_getLabelBounds(){const lt=this.getLabelTimestamps();let ht=Number.POSITIVE_INFINITY,_t=Number.NEGATIVE_INFINITY;return lt.length&&(ht=lt[0],_t=lt[lt.length-1]),{min:ht,max:_t}}buildTicks(){const lt=this.options,ht=lt.time,_t=lt.ticks,At=_t.source==="labels"?this.getLabelTimestamps():this._generate();lt.bounds==="ticks"&&At.length&&(this.min=this._userMin||At[0],this.max=this._userMax||At[At.length-1]);const qt=this.min,Zt=this.max,cr=c2(At,qt,Zt);return this._unit=ht.unit||(_t.autoSkip?jh(ht.minUnit,this.min,this.max,this._getLabelCapacity(qt)):C5(this,cr.length,ht.minUnit,this.min,this.max)),this._majorUnit=!_t.major.enabled||this._unit==="year"?void 0:T5(this._unit),this.initOffsets(At),lt.reverse&&cr.reverse(),Uh(this,cr,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(lt=>+lt.value))}initOffsets(lt=[]){let ht=0,_t=0,At,qt;this.options.offset&&lt.length&&(At=this.getDecimalForValue(lt[0]),lt.length===1?ht=1-At:ht=(this.getDecimalForValue(lt[1])-At)/2,qt=this.getDecimalForValue(lt[lt.length-1]),lt.length===1?_t=qt:_t=(qt-this.getDecimalForValue(lt[lt.length-2]))/2);const Zt=lt.length<3?.5:.25;ht=St(ht,0,Zt),_t=St(_t,0,Zt),this._offsets={start:ht,end:_t,factor:1/(ht+1+_t)}}_generate(){const lt=this._adapter,ht=this.min,_t=this.max,At=this.options,qt=At.time,Zt=qt.unit||jh(qt.minUnit,ht,_t,this._getLabelCapacity(ht)),cr=Oe(At.ticks.stepSize,1),Gr=Zt==="week"?qt.isoWeekday:!1,Zr=Ei(Gr)||Gr===!0,xn={};let On=ht,ss,ls;if(Zr&&(On=+lt.startOf(On,"isoWeek",Gr)),On=+lt.startOf(On,Zr?"day":Zt),lt.diff(_t,ht,Zt)>1e5*cr)throw new Error(ht+" and "+_t+" are too far apart with stepSize of "+cr+" "+Zt);const cs=At.ticks.source==="data"&&this.getDataTimestamps();for(ss=On,ls=0;ss<_t;ss=+lt.add(ss,cr,Zt),ls++)Wh(xn,ss,cs);return(ss===_t||At.bounds==="ticks"||ls===1)&&Wh(xn,ss,cs),Object.keys(xn).sort(Bh).map(wl=>+wl)}getLabelForValue(lt){const ht=this._adapter,_t=this.options.time;return _t.tooltipFormat?ht.format(lt,_t.tooltipFormat):ht.format(lt,_t.displayFormats.datetime)}format(lt,ht){const _t=this.options.time.displayFormats,At=this._unit,qt=ht||_t[At];return this._adapter.format(lt,qt)}_tickFormatFunction(lt,ht,_t,At){const qt=this.options,Zt=qt.ticks.callback;if(Zt)return nt(Zt,[lt,ht,_t],this);const cr=qt.time.displayFormats,Gr=this._unit,Zr=this._majorUnit,xn=Gr&&cr[Gr],On=Zr&&cr[Zr],ss=_t[ht],ls=Zr&&On&&ss&&ss.major;return this._adapter.format(lt,At||(ls?On:xn))}generateTickLabels(lt){let ht,_t,At;for(ht=0,_t=lt.length;ht<_t;++ht)At=lt[ht],At.label=this._tickFormatFunction(At.value,ht,lt)}getDecimalForValue(lt){return lt===null?NaN:(lt-this.min)/(this.max-this.min)}getPixelForValue(lt){const ht=this._offsets,_t=this.getDecimalForValue(lt);return this.getPixelForDecimal((ht.start+_t)*ht.factor)}getValueForPixel(lt){const ht=this._offsets,_t=this.getDecimalForPixel(lt)/ht.factor-ht.end;return this.min+_t*(this.max-this.min)}_getLabelSize(lt){const ht=this.options.ticks,_t=this.ctx.measureText(lt).width,At=gr(this.isHorizontal()?ht.maxRotation:ht.minRotation),qt=Math.cos(At),Zt=Math.sin(At),cr=this._resolveTickFontOptions(0).size;return{w:_t*qt+cr*Zt,h:_t*Zt+cr*qt}}_getLabelCapacity(lt){const ht=this.options.time,_t=ht.displayFormats,At=_t[ht.unit]||_t.millisecond,qt=this._tickFormatFunction(lt,0,Uh(this,[lt],this._majorUnit),At),Zt=this._getLabelSize(qt),cr=Math.floor(this.isHorizontal()?this.width/Zt.w:this.height/Zt.h)-1;return cr>0?cr:1}getDataTimestamps(){let lt=this._cache.data||[],ht,_t;if(lt.length)return lt;const At=this.getMatchingVisibleMetas();if(this._normalized&&At.length)return this._cache.data=At[0].controller.getAllParsedValues(this);for(ht=0,_t=At.length;ht<_t;++ht)lt=lt.concat(At[ht].controller.getAllParsedValues(this));return this._cache.data=this.normalize(lt)}getLabelTimestamps(){const lt=this._cache.labels||[];let ht,_t;if(lt.length)return lt;const At=this.getLabels();for(ht=0,_t=At.length;ht<_t;++ht)lt.push(Fh(this,At[ht]));return this._cache.labels=this._normalized?lt:this.normalize(lt)}normalize(lt){return y1(lt.sort(Bh))}}ye(No,"id","time"),ye(No,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Os(ut,lt,ht){let _t=0,At=ut.length-1,qt,Zt,cr,Gr;ht?(lt>=ut[_t].pos&&lt<=ut[At].pos&&({lo:_t,hi:At}=Ur(ut,"pos",lt)),{pos:qt,time:cr}=ut[_t],{pos:Zt,time:Gr}=ut[At]):(lt>=ut[_t].time&&lt<=ut[At].time&&({lo:_t,hi:At}=Ur(ut,"time",lt)),{time:qt,pos:cr}=ut[_t],{time:Zt,pos:Gr}=ut[At]);const Zr=Zt-qt;return Zr?cr+(Gr-cr)*(lt-qt)/Zr:cr}class Yc extends No{constructor(lt){super(lt),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const lt=this._getTimestampsForTable(),ht=this._table=this.buildLookupTable(lt);this._minPos=Os(ht,this.min),this._tableRange=Os(ht,this.max)-this._minPos,super.initOffsets(lt)}buildLookupTable(lt){const{min:ht,max:_t}=this,At=[],qt=[];let Zt,cr,Gr,Zr,xn;for(Zt=0,cr=lt.length;Zt<cr;++Zt)Zr=lt[Zt],Zr>=ht&&Zr<=_t&&At.push(Zr);if(At.length<2)return[{time:ht,pos:0},{time:_t,pos:1}];for(Zt=0,cr=At.length;Zt<cr;++Zt)xn=At[Zt+1],Gr=At[Zt-1],Zr=At[Zt],Math.round((xn+Gr)/2)!==Zr&&qt.push({time:Zr,pos:Zt/(cr-1)});return qt}_generate(){const lt=this.min,ht=this.max;let _t=super.getDataTimestamps();return(!_t.includes(lt)||!_t.length)&&_t.splice(0,0,lt),(!_t.includes(ht)||_t.length===1)&&_t.push(ht),_t.sort((At,qt)=>At-qt)}_getTimestampsForTable(){let lt=this._cache.all||[];if(lt.length)return lt;const ht=this.getDataTimestamps(),_t=this.getLabelTimestamps();return ht.length&&_t.length?lt=this.normalize(ht.concat(_t)):lt=ht.length?ht:_t,lt=this._cache.all=lt,lt}getDecimalForValue(lt){return(Os(this._table,lt)-this._minPos)/this._tableRange}getValueForPixel(lt){const ht=this._offsets,_t=this.getDecimalForPixel(lt)/ht.factor-ht.end;return Os(this._table,_t*this._tableRange+this._minPos,!0)}}ye(Yc,"id","timeseries"),ye(Yc,"defaults",No.defaults);var I5=Object.freeze({__proto__:null,CategoryScale:zc,LinearScale:Vc,LogarithmicScale:qc,RadialLinearScale:co,TimeScale:No,TimeSeriesScale:Yc});const P5=[Bv,hA,a5,I5];Lr.register(...P5);class sg{constructor(lt){if(!lt||!lt.player)throw new Error("botParams is undefined, did you forget to pass botParams to base Bot class like: super(params);");this._player=lt.player,this._player.setState("__bot",!0),this._player.bot=this,this._id=void 0}get id(){return this._player.id}get player(){return this._player}getProfile(){return this.player.getProfile()}getState(lt){return this.player.getState(lt)}setState(lt,ht,_t){this.player.setState(lt,ht,_t)}onQuit(lt){return this.player.onQuit(lt)}kick(){return this.player.kick()}}const Vh=["#59BF82","#FFF27A","#F14EEB","#FF7F56","#6BDCFF","#3905F5","#FF3666"];function M5(){return new Promise((ut,lt)=>{Ie().connection.once("sync",()=>{setTimeout(()=>{ut()},1e3)})})}let Qi=[],qh=!1,hr,wr;async function N5(){var ut;if(!qh){if(wr=Ie(),hr=(ut=wr.sdkOptions)==null?void 0:ut.botOptions,!hr)throw new Error("Please Define Bot Options");if(!hr.botClass)throw new Error("Please Define Bot Instance");await M5(),qh=!0,wr.on("joined",lt=>{!wr.isHost&&lt.isBot()&&ag(lt)})}}function ag(ut){return hr.botParams=hr.botParams||{},hr.botParams.player=ut,new hr.botClass(hr.botParams)}function L5(ut){let lt="";const ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_t=ht.length;for(let At=0;At<ut;++At)lt+=ht.charAt(Math.floor(Math.random()*_t));return lt}function B5(ut){return ut&&ut.length>0?ut[Math.floor(Math.random()*ut.length)]:Ha(qa(L5(10)))}async function F5(){if(!wr||!wr.isConnected)throw new Error("Create or join a room before adding bots");const ut=wr.sdkOptions||{},lt=Object.keys(wr.getPlayers()).length;if(ut.maxPlayersPerRoom&&lt>=ut.maxPlayersPerRoom)throw new Error("Room's players limit has reached.");const ht=wr.connection.addProxyPlayer();ht.setState("profile",{name:"Bot "+(Qi.length+1),photo:B5(ut.avatars),color:Vh[Qi.length%Vh.length]});let _t=ag(ht);if(!(_t instanceof sg))throw wr.connection.removeProxyPlayer(ht.id),new Error("Bot Class Should Be Instance of Bot");hr.trainingMode&&_t.displayChart();let At;return hr.botParams.joystickOptions?At=new Pc(ht,hr.botParams.joystickOptions):At=new Pc(ht),Qi.push({player:ht,joystick:At,bot:_t}),ht.on("quit",()=>{const qt=Qi.findIndex(Zt=>ht.id==Zt.player.id);Qi.splice(qt,1)}),_t}const j5="playroomkit",W5="0.0.87",U5="https://joinplayroom.com",z5="./multiplayer.mjs",V5="./types.d.ts",q5="./bin/cli.js",H5=["multiplayer.umd.js","multiplayer.full.umd.js","multiplayer.mjs","style.css","types.d.ts","bin"],Y5={},K5={react:">=17.0.2 <= 18","react-dom":">=17.0.2 <= 18"},X5={"@discord/embedded-app-sdk":">=1.0.0"},Gu={name:j5,version:W5,homepage:U5,main:z5,types:V5,bin:q5,files:H5,dependencies:Y5,peerDependencies:K5,optionalDependencies:X5},lg=`/*!
 * Bootstrap Grid Only (grid and responsive utilities extracted from Bootstrap 4.1.3)
 * GitHub: https://github.com/dmhendricks/bootstrap-grid-css
 * Bootstrap License: MIT (https://github.com/twbs/bootstrap/blob/v4-dev/LICENSE)
 * Credits: Twitter, Inc. & The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
 */@-ms-viewport{width:device-width}html{-webkit-box-sizing:border-box;box-sizing:border-box;-ms-overflow-style:scrollbar}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}.bootstrap-wrapper .clearfix:after{display:block;clear:both;content:""}.bootstrap-wrapper .visible{visibility:visible!important}.bootstrap-wrapper .invisible{visibility:hidden!important}.bootstrap-wrapper .hidden-xs-up{display:none!important}@media (max-width: 575.98px){.bootstrap-wrapper .hidden-xs-down{display:none!important}}@media (min-width: 576px){.bootstrap-wrapper .hidden-sm-up{display:none!important}}@media (max-width: 767.98px){.bootstrap-wrapper .hidden-sm-down{display:none!important}}@media (min-width: 768px){.bootstrap-wrapper .hidden-md-up{display:none!important}}@media (max-width: 991.98px){.bootstrap-wrapper .hidden-md-down{display:none!important}}@media (min-width: 992px){.bootstrap-wrapper .hidden-lg-up{display:none!important}}@media (max-width: 1199.98px){.bootstrap-wrapper .hidden-lg-down{display:none!important}}@media (min-width: 1200px){.bootstrap-wrapper .hidden-xl-up{display:none!important}}.bootstrap-wrapper .hidden-xl-down,.bootstrap-wrapper .visible-print-block{display:none!important}@media print{.bootstrap-wrapper .visible-print-block{display:block!important}}.bootstrap-wrapper .visible-print-inline{display:none!important}@media print{.bootstrap-wrapper .visible-print-inline{display:inline!important}}.bootstrap-wrapper .visible-print-inline-block{display:none!important}@media print{.bootstrap-wrapper .visible-print-inline-block{display:inline-block!important}}@media print{.bootstrap-wrapper .hidden-print{display:none!important}}.bootstrap-wrapper .container{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}@media (min-width: 576px){.bootstrap-wrapper .container{max-width:540px}}@media (min-width: 768px){.bootstrap-wrapper .container{max-width:720px}}@media (min-width: 992px){.bootstrap-wrapper .container{max-width:960px}}@media (min-width: 1200px){.bootstrap-wrapper .container{max-width:1140px}}.bootstrap-wrapper .container-fluid{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.bootstrap-wrapper .row{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-15px;margin-left:-15px}.bootstrap-wrapper .no-gutters{margin-right:0;margin-left:0}.bootstrap-wrapper .no-gutters>.col,.bootstrap-wrapper .no-gutters>[class*=col-]{padding-right:0;padding-left:0}.bootstrap-wrapper .col-1,.bootstrap-wrapper .col-2,.bootstrap-wrapper .col-3,.bootstrap-wrapper .col-4,.bootstrap-wrapper .col-5,.bootstrap-wrapper .col-6,.bootstrap-wrapper .col-7,.bootstrap-wrapper .col-8,.bootstrap-wrapper .col-9,.bootstrap-wrapper .col-10,.bootstrap-wrapper .col-11,.bootstrap-wrapper .col-12,.bootstrap-wrapper .col,.bootstrap-wrapper .col-auto,.bootstrap-wrapper .col-sm-1,.bootstrap-wrapper .col-sm-2,.bootstrap-wrapper .col-sm-3,.bootstrap-wrapper .col-sm-4,.bootstrap-wrapper .col-sm-5,.bootstrap-wrapper .col-sm-6,.bootstrap-wrapper .col-sm-7,.bootstrap-wrapper .col-sm-8,.bootstrap-wrapper .col-sm-9,.bootstrap-wrapper .col-sm-10,.bootstrap-wrapper .col-sm-11,.bootstrap-wrapper .col-sm-12,.bootstrap-wrapper .col-sm,.bootstrap-wrapper .col-sm-auto,.bootstrap-wrapper .col-md-1,.bootstrap-wrapper .col-md-2,.bootstrap-wrapper .col-md-3,.bootstrap-wrapper .col-md-4,.bootstrap-wrapper .col-md-5,.bootstrap-wrapper .col-md-6,.bootstrap-wrapper .col-md-7,.bootstrap-wrapper .col-md-8,.bootstrap-wrapper .col-md-9,.bootstrap-wrapper .col-md-10,.bootstrap-wrapper .col-md-11,.bootstrap-wrapper .col-md-12,.bootstrap-wrapper .col-md,.bootstrap-wrapper .col-md-auto,.bootstrap-wrapper .col-lg-1,.bootstrap-wrapper .col-lg-2,.bootstrap-wrapper .col-lg-3,.bootstrap-wrapper .col-lg-4,.bootstrap-wrapper .col-lg-5,.bootstrap-wrapper .col-lg-6,.bootstrap-wrapper .col-lg-7,.bootstrap-wrapper .col-lg-8,.bootstrap-wrapper .col-lg-9,.bootstrap-wrapper .col-lg-10,.bootstrap-wrapper .col-lg-11,.bootstrap-wrapper .col-lg-12,.bootstrap-wrapper .col-lg,.bootstrap-wrapper .col-lg-auto,.bootstrap-wrapper .col-xl-1,.bootstrap-wrapper .col-xl-2,.bootstrap-wrapper .col-xl-3,.bootstrap-wrapper .col-xl-4,.bootstrap-wrapper .col-xl-5,.bootstrap-wrapper .col-xl-6,.bootstrap-wrapper .col-xl-7,.bootstrap-wrapper .col-xl-8,.bootstrap-wrapper .col-xl-9,.bootstrap-wrapper .col-xl-10,.bootstrap-wrapper .col-xl-11,.bootstrap-wrapper .col-xl-12,.bootstrap-wrapper .col-xl,.bootstrap-wrapper .col-xl-auto{position:relative;width:100%;padding-right:15px;padding-left:15px}.bootstrap-wrapper .col{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.bootstrap-wrapper .col-auto{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.bootstrap-wrapper .col-1{-webkit-box-flex:0;-webkit-flex:0 0 8.3333333333%;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.bootstrap-wrapper .col-2{-webkit-box-flex:0;-webkit-flex:0 0 16.6666666667%;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.bootstrap-wrapper .col-3{-webkit-box-flex:0;-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.bootstrap-wrapper .col-4{-webkit-box-flex:0;-webkit-flex:0 0 33.3333333333%;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.bootstrap-wrapper .col-5{-webkit-box-flex:0;-webkit-flex:0 0 41.6666666667%;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.bootstrap-wrapper .col-6{-webkit-box-flex:0;-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.bootstrap-wrapper .col-7{-webkit-box-flex:0;-webkit-flex:0 0 58.3333333333%;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.bootstrap-wrapper .col-8{-webkit-box-flex:0;-webkit-flex:0 0 66.6666666667%;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.bootstrap-wrapper .col-9{-webkit-box-flex:0;-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.bootstrap-wrapper .col-10{-webkit-box-flex:0;-webkit-flex:0 0 83.3333333333%;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.bootstrap-wrapper .col-11{-webkit-box-flex:0;-webkit-flex:0 0 91.6666666667%;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.bootstrap-wrapper .col-12{-webkit-box-flex:0;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.bootstrap-wrapper .order-first{-webkit-box-ordinal-group:0;-webkit-order:-1;-ms-flex-order:-1;order:-1}.bootstrap-wrapper .order-last{-webkit-box-ordinal-group:14;-webkit-order:13;-ms-flex-order:13;order:13}.bootstrap-wrapper .order-0{-webkit-box-ordinal-group:1;-webkit-order:0;-ms-flex-order:0;order:0}.bootstrap-wrapper .order-1{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.bootstrap-wrapper .order-2{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2}.bootstrap-wrapper .order-3{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.bootstrap-wrapper .order-4{-webkit-box-ordinal-group:5;-webkit-order:4;-ms-flex-order:4;order:4}.bootstrap-wrapper .order-5{-webkit-box-ordinal-group:6;-webkit-order:5;-ms-flex-order:5;order:5}.bootstrap-wrapper .order-6{-webkit-box-ordinal-group:7;-webkit-order:6;-ms-flex-order:6;order:6}.bootstrap-wrapper .order-7{-webkit-box-ordinal-group:8;-webkit-order:7;-ms-flex-order:7;order:7}.bootstrap-wrapper .order-8{-webkit-box-ordinal-group:9;-webkit-order:8;-ms-flex-order:8;order:8}.bootstrap-wrapper .order-9{-webkit-box-ordinal-group:10;-webkit-order:9;-ms-flex-order:9;order:9}.bootstrap-wrapper .order-10{-webkit-box-ordinal-group:11;-webkit-order:10;-ms-flex-order:10;order:10}.bootstrap-wrapper .order-11{-webkit-box-ordinal-group:12;-webkit-order:11;-ms-flex-order:11;order:11}.bootstrap-wrapper .order-12{-webkit-box-ordinal-group:13;-webkit-order:12;-ms-flex-order:12;order:12}.bootstrap-wrapper .offset-1{margin-left:8.3333333333%}.bootstrap-wrapper .offset-2{margin-left:16.6666666667%}.bootstrap-wrapper .offset-3{margin-left:25%}.bootstrap-wrapper .offset-4{margin-left:33.3333333333%}.bootstrap-wrapper .offset-5{margin-left:41.6666666667%}.bootstrap-wrapper .offset-6{margin-left:50%}.bootstrap-wrapper .offset-7{margin-left:58.3333333333%}.bootstrap-wrapper .offset-8{margin-left:66.6666666667%}.bootstrap-wrapper .offset-9{margin-left:75%}.bootstrap-wrapper .offset-10{margin-left:83.3333333333%}.bootstrap-wrapper .offset-11{margin-left:91.6666666667%}@media (min-width: 576px){.bootstrap-wrapper .col-sm{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.bootstrap-wrapper .col-sm-auto{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.bootstrap-wrapper .col-sm-1{-webkit-box-flex:0;-webkit-flex:0 0 8.3333333333%;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.bootstrap-wrapper .col-sm-2{-webkit-box-flex:0;-webkit-flex:0 0 16.6666666667%;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.bootstrap-wrapper .col-sm-3{-webkit-box-flex:0;-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.bootstrap-wrapper .col-sm-4{-webkit-box-flex:0;-webkit-flex:0 0 33.3333333333%;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.bootstrap-wrapper .col-sm-5{-webkit-box-flex:0;-webkit-flex:0 0 41.6666666667%;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.bootstrap-wrapper .col-sm-6{-webkit-box-flex:0;-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.bootstrap-wrapper .col-sm-7{-webkit-box-flex:0;-webkit-flex:0 0 58.3333333333%;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.bootstrap-wrapper .col-sm-8{-webkit-box-flex:0;-webkit-flex:0 0 66.6666666667%;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.bootstrap-wrapper .col-sm-9{-webkit-box-flex:0;-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.bootstrap-wrapper .col-sm-10{-webkit-box-flex:0;-webkit-flex:0 0 83.3333333333%;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.bootstrap-wrapper .col-sm-11{-webkit-box-flex:0;-webkit-flex:0 0 91.6666666667%;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.bootstrap-wrapper .col-sm-12{-webkit-box-flex:0;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.bootstrap-wrapper .order-sm-first{-webkit-box-ordinal-group:0;-webkit-order:-1;-ms-flex-order:-1;order:-1}.bootstrap-wrapper .order-sm-last{-webkit-box-ordinal-group:14;-webkit-order:13;-ms-flex-order:13;order:13}.bootstrap-wrapper .order-sm-0{-webkit-box-ordinal-group:1;-webkit-order:0;-ms-flex-order:0;order:0}.bootstrap-wrapper .order-sm-1{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.bootstrap-wrapper .order-sm-2{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2}.bootstrap-wrapper .order-sm-3{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.bootstrap-wrapper .order-sm-4{-webkit-box-ordinal-group:5;-webkit-order:4;-ms-flex-order:4;order:4}.bootstrap-wrapper .order-sm-5{-webkit-box-ordinal-group:6;-webkit-order:5;-ms-flex-order:5;order:5}.bootstrap-wrapper .order-sm-6{-webkit-box-ordinal-group:7;-webkit-order:6;-ms-flex-order:6;order:6}.bootstrap-wrapper .order-sm-7{-webkit-box-ordinal-group:8;-webkit-order:7;-ms-flex-order:7;order:7}.bootstrap-wrapper .order-sm-8{-webkit-box-ordinal-group:9;-webkit-order:8;-ms-flex-order:8;order:8}.bootstrap-wrapper .order-sm-9{-webkit-box-ordinal-group:10;-webkit-order:9;-ms-flex-order:9;order:9}.bootstrap-wrapper .order-sm-10{-webkit-box-ordinal-group:11;-webkit-order:10;-ms-flex-order:10;order:10}.bootstrap-wrapper .order-sm-11{-webkit-box-ordinal-group:12;-webkit-order:11;-ms-flex-order:11;order:11}.bootstrap-wrapper .order-sm-12{-webkit-box-ordinal-group:13;-webkit-order:12;-ms-flex-order:12;order:12}.bootstrap-wrapper .offset-sm-0{margin-left:0}.bootstrap-wrapper .offset-sm-1{margin-left:8.3333333333%}.bootstrap-wrapper .offset-sm-2{margin-left:16.6666666667%}.bootstrap-wrapper .offset-sm-3{margin-left:25%}.bootstrap-wrapper .offset-sm-4{margin-left:33.3333333333%}.bootstrap-wrapper .offset-sm-5{margin-left:41.6666666667%}.bootstrap-wrapper .offset-sm-6{margin-left:50%}.bootstrap-wrapper .offset-sm-7{margin-left:58.3333333333%}.bootstrap-wrapper .offset-sm-8{margin-left:66.6666666667%}.bootstrap-wrapper .offset-sm-9{margin-left:75%}.bootstrap-wrapper .offset-sm-10{margin-left:83.3333333333%}.bootstrap-wrapper .offset-sm-11{margin-left:91.6666666667%}}@media (min-width: 768px){.bootstrap-wrapper .col-md{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.bootstrap-wrapper .col-md-auto{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.bootstrap-wrapper .col-md-1{-webkit-box-flex:0;-webkit-flex:0 0 8.3333333333%;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.bootstrap-wrapper .col-md-2{-webkit-box-flex:0;-webkit-flex:0 0 16.6666666667%;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.bootstrap-wrapper .col-md-3{-webkit-box-flex:0;-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.bootstrap-wrapper .col-md-4{-webkit-box-flex:0;-webkit-flex:0 0 33.3333333333%;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.bootstrap-wrapper .col-md-5{-webkit-box-flex:0;-webkit-flex:0 0 41.6666666667%;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.bootstrap-wrapper .col-md-6{-webkit-box-flex:0;-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.bootstrap-wrapper .col-md-7{-webkit-box-flex:0;-webkit-flex:0 0 58.3333333333%;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.bootstrap-wrapper .col-md-8{-webkit-box-flex:0;-webkit-flex:0 0 66.6666666667%;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.bootstrap-wrapper .col-md-9{-webkit-box-flex:0;-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.bootstrap-wrapper .col-md-10{-webkit-box-flex:0;-webkit-flex:0 0 83.3333333333%;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.bootstrap-wrapper .col-md-11{-webkit-box-flex:0;-webkit-flex:0 0 91.6666666667%;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.bootstrap-wrapper .col-md-12{-webkit-box-flex:0;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.bootstrap-wrapper .order-md-first{-webkit-box-ordinal-group:0;-webkit-order:-1;-ms-flex-order:-1;order:-1}.bootstrap-wrapper .order-md-last{-webkit-box-ordinal-group:14;-webkit-order:13;-ms-flex-order:13;order:13}.bootstrap-wrapper .order-md-0{-webkit-box-ordinal-group:1;-webkit-order:0;-ms-flex-order:0;order:0}.bootstrap-wrapper .order-md-1{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.bootstrap-wrapper .order-md-2{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2}.bootstrap-wrapper .order-md-3{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.bootstrap-wrapper .order-md-4{-webkit-box-ordinal-group:5;-webkit-order:4;-ms-flex-order:4;order:4}.bootstrap-wrapper .order-md-5{-webkit-box-ordinal-group:6;-webkit-order:5;-ms-flex-order:5;order:5}.bootstrap-wrapper .order-md-6{-webkit-box-ordinal-group:7;-webkit-order:6;-ms-flex-order:6;order:6}.bootstrap-wrapper .order-md-7{-webkit-box-ordinal-group:8;-webkit-order:7;-ms-flex-order:7;order:7}.bootstrap-wrapper .order-md-8{-webkit-box-ordinal-group:9;-webkit-order:8;-ms-flex-order:8;order:8}.bootstrap-wrapper .order-md-9{-webkit-box-ordinal-group:10;-webkit-order:9;-ms-flex-order:9;order:9}.bootstrap-wrapper .order-md-10{-webkit-box-ordinal-group:11;-webkit-order:10;-ms-flex-order:10;order:10}.bootstrap-wrapper .order-md-11{-webkit-box-ordinal-group:12;-webkit-order:11;-ms-flex-order:11;order:11}.bootstrap-wrapper .order-md-12{-webkit-box-ordinal-group:13;-webkit-order:12;-ms-flex-order:12;order:12}.bootstrap-wrapper .offset-md-0{margin-left:0}.bootstrap-wrapper .offset-md-1{margin-left:8.3333333333%}.bootstrap-wrapper .offset-md-2{margin-left:16.6666666667%}.bootstrap-wrapper .offset-md-3{margin-left:25%}.bootstrap-wrapper .offset-md-4{margin-left:33.3333333333%}.bootstrap-wrapper .offset-md-5{margin-left:41.6666666667%}.bootstrap-wrapper .offset-md-6{margin-left:50%}.bootstrap-wrapper .offset-md-7{margin-left:58.3333333333%}.bootstrap-wrapper .offset-md-8{margin-left:66.6666666667%}.bootstrap-wrapper .offset-md-9{margin-left:75%}.bootstrap-wrapper .offset-md-10{margin-left:83.3333333333%}.bootstrap-wrapper .offset-md-11{margin-left:91.6666666667%}}@media (min-width: 992px){.bootstrap-wrapper .col-lg{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.bootstrap-wrapper .col-lg-auto{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.bootstrap-wrapper .col-lg-1{-webkit-box-flex:0;-webkit-flex:0 0 8.3333333333%;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.bootstrap-wrapper .col-lg-2{-webkit-box-flex:0;-webkit-flex:0 0 16.6666666667%;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.bootstrap-wrapper .col-lg-3{-webkit-box-flex:0;-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.bootstrap-wrapper .col-lg-4{-webkit-box-flex:0;-webkit-flex:0 0 33.3333333333%;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.bootstrap-wrapper .col-lg-5{-webkit-box-flex:0;-webkit-flex:0 0 41.6666666667%;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.bootstrap-wrapper .col-lg-6{-webkit-box-flex:0;-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.bootstrap-wrapper .col-lg-7{-webkit-box-flex:0;-webkit-flex:0 0 58.3333333333%;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.bootstrap-wrapper .col-lg-8{-webkit-box-flex:0;-webkit-flex:0 0 66.6666666667%;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.bootstrap-wrapper .col-lg-9{-webkit-box-flex:0;-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.bootstrap-wrapper .col-lg-10{-webkit-box-flex:0;-webkit-flex:0 0 83.3333333333%;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.bootstrap-wrapper .col-lg-11{-webkit-box-flex:0;-webkit-flex:0 0 91.6666666667%;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.bootstrap-wrapper .col-lg-12{-webkit-box-flex:0;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.bootstrap-wrapper .order-lg-first{-webkit-box-ordinal-group:0;-webkit-order:-1;-ms-flex-order:-1;order:-1}.bootstrap-wrapper .order-lg-last{-webkit-box-ordinal-group:14;-webkit-order:13;-ms-flex-order:13;order:13}.bootstrap-wrapper .order-lg-0{-webkit-box-ordinal-group:1;-webkit-order:0;-ms-flex-order:0;order:0}.bootstrap-wrapper .order-lg-1{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.bootstrap-wrapper .order-lg-2{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2}.bootstrap-wrapper .order-lg-3{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.bootstrap-wrapper .order-lg-4{-webkit-box-ordinal-group:5;-webkit-order:4;-ms-flex-order:4;order:4}.bootstrap-wrapper .order-lg-5{-webkit-box-ordinal-group:6;-webkit-order:5;-ms-flex-order:5;order:5}.bootstrap-wrapper .order-lg-6{-webkit-box-ordinal-group:7;-webkit-order:6;-ms-flex-order:6;order:6}.bootstrap-wrapper .order-lg-7{-webkit-box-ordinal-group:8;-webkit-order:7;-ms-flex-order:7;order:7}.bootstrap-wrapper .order-lg-8{-webkit-box-ordinal-group:9;-webkit-order:8;-ms-flex-order:8;order:8}.bootstrap-wrapper .order-lg-9{-webkit-box-ordinal-group:10;-webkit-order:9;-ms-flex-order:9;order:9}.bootstrap-wrapper .order-lg-10{-webkit-box-ordinal-group:11;-webkit-order:10;-ms-flex-order:10;order:10}.bootstrap-wrapper .order-lg-11{-webkit-box-ordinal-group:12;-webkit-order:11;-ms-flex-order:11;order:11}.bootstrap-wrapper .order-lg-12{-webkit-box-ordinal-group:13;-webkit-order:12;-ms-flex-order:12;order:12}.bootstrap-wrapper .offset-lg-0{margin-left:0}.bootstrap-wrapper .offset-lg-1{margin-left:8.3333333333%}.bootstrap-wrapper .offset-lg-2{margin-left:16.6666666667%}.bootstrap-wrapper .offset-lg-3{margin-left:25%}.bootstrap-wrapper .offset-lg-4{margin-left:33.3333333333%}.bootstrap-wrapper .offset-lg-5{margin-left:41.6666666667%}.bootstrap-wrapper .offset-lg-6{margin-left:50%}.bootstrap-wrapper .offset-lg-7{margin-left:58.3333333333%}.bootstrap-wrapper .offset-lg-8{margin-left:66.6666666667%}.bootstrap-wrapper .offset-lg-9{margin-left:75%}.bootstrap-wrapper .offset-lg-10{margin-left:83.3333333333%}.bootstrap-wrapper .offset-lg-11{margin-left:91.6666666667%}}@media (min-width: 1200px){.bootstrap-wrapper .col-xl{-webkit-flex-basis:0;-ms-flex-preferred-size:0;flex-basis:0;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;max-width:100%}.bootstrap-wrapper .col-xl-auto{-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;width:auto;max-width:100%}.bootstrap-wrapper .col-xl-1{-webkit-box-flex:0;-webkit-flex:0 0 8.3333333333%;-ms-flex:0 0 8.3333333333%;flex:0 0 8.3333333333%;max-width:8.3333333333%}.bootstrap-wrapper .col-xl-2{-webkit-box-flex:0;-webkit-flex:0 0 16.6666666667%;-ms-flex:0 0 16.6666666667%;flex:0 0 16.6666666667%;max-width:16.6666666667%}.bootstrap-wrapper .col-xl-3{-webkit-box-flex:0;-webkit-flex:0 0 25%;-ms-flex:0 0 25%;flex:0 0 25%;max-width:25%}.bootstrap-wrapper .col-xl-4{-webkit-box-flex:0;-webkit-flex:0 0 33.3333333333%;-ms-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%;max-width:33.3333333333%}.bootstrap-wrapper .col-xl-5{-webkit-box-flex:0;-webkit-flex:0 0 41.6666666667%;-ms-flex:0 0 41.6666666667%;flex:0 0 41.6666666667%;max-width:41.6666666667%}.bootstrap-wrapper .col-xl-6{-webkit-box-flex:0;-webkit-flex:0 0 50%;-ms-flex:0 0 50%;flex:0 0 50%;max-width:50%}.bootstrap-wrapper .col-xl-7{-webkit-box-flex:0;-webkit-flex:0 0 58.3333333333%;-ms-flex:0 0 58.3333333333%;flex:0 0 58.3333333333%;max-width:58.3333333333%}.bootstrap-wrapper .col-xl-8{-webkit-box-flex:0;-webkit-flex:0 0 66.6666666667%;-ms-flex:0 0 66.6666666667%;flex:0 0 66.6666666667%;max-width:66.6666666667%}.bootstrap-wrapper .col-xl-9{-webkit-box-flex:0;-webkit-flex:0 0 75%;-ms-flex:0 0 75%;flex:0 0 75%;max-width:75%}.bootstrap-wrapper .col-xl-10{-webkit-box-flex:0;-webkit-flex:0 0 83.3333333333%;-ms-flex:0 0 83.3333333333%;flex:0 0 83.3333333333%;max-width:83.3333333333%}.bootstrap-wrapper .col-xl-11{-webkit-box-flex:0;-webkit-flex:0 0 91.6666666667%;-ms-flex:0 0 91.6666666667%;flex:0 0 91.6666666667%;max-width:91.6666666667%}.bootstrap-wrapper .col-xl-12{-webkit-box-flex:0;-webkit-flex:0 0 100%;-ms-flex:0 0 100%;flex:0 0 100%;max-width:100%}.bootstrap-wrapper .order-xl-first{-webkit-box-ordinal-group:0;-webkit-order:-1;-ms-flex-order:-1;order:-1}.bootstrap-wrapper .order-xl-last{-webkit-box-ordinal-group:14;-webkit-order:13;-ms-flex-order:13;order:13}.bootstrap-wrapper .order-xl-0{-webkit-box-ordinal-group:1;-webkit-order:0;-ms-flex-order:0;order:0}.bootstrap-wrapper .order-xl-1{-webkit-box-ordinal-group:2;-webkit-order:1;-ms-flex-order:1;order:1}.bootstrap-wrapper .order-xl-2{-webkit-box-ordinal-group:3;-webkit-order:2;-ms-flex-order:2;order:2}.bootstrap-wrapper .order-xl-3{-webkit-box-ordinal-group:4;-webkit-order:3;-ms-flex-order:3;order:3}.bootstrap-wrapper .order-xl-4{-webkit-box-ordinal-group:5;-webkit-order:4;-ms-flex-order:4;order:4}.bootstrap-wrapper .order-xl-5{-webkit-box-ordinal-group:6;-webkit-order:5;-ms-flex-order:5;order:5}.bootstrap-wrapper .order-xl-6{-webkit-box-ordinal-group:7;-webkit-order:6;-ms-flex-order:6;order:6}.bootstrap-wrapper .order-xl-7{-webkit-box-ordinal-group:8;-webkit-order:7;-ms-flex-order:7;order:7}.bootstrap-wrapper .order-xl-8{-webkit-box-ordinal-group:9;-webkit-order:8;-ms-flex-order:8;order:8}.bootstrap-wrapper .order-xl-9{-webkit-box-ordinal-group:10;-webkit-order:9;-ms-flex-order:9;order:9}.bootstrap-wrapper .order-xl-10{-webkit-box-ordinal-group:11;-webkit-order:10;-ms-flex-order:10;order:10}.bootstrap-wrapper .order-xl-11{-webkit-box-ordinal-group:12;-webkit-order:11;-ms-flex-order:11;order:11}.bootstrap-wrapper .order-xl-12{-webkit-box-ordinal-group:13;-webkit-order:12;-ms-flex-order:12;order:12}.bootstrap-wrapper .offset-xl-0{margin-left:0}.bootstrap-wrapper .offset-xl-1{margin-left:8.3333333333%}.bootstrap-wrapper .offset-xl-2{margin-left:16.6666666667%}.bootstrap-wrapper .offset-xl-3{margin-left:25%}.bootstrap-wrapper .offset-xl-4{margin-left:33.3333333333%}.bootstrap-wrapper .offset-xl-5{margin-left:41.6666666667%}.bootstrap-wrapper .offset-xl-6{margin-left:50%}.bootstrap-wrapper .offset-xl-7{margin-left:58.3333333333%}.bootstrap-wrapper .offset-xl-8{margin-left:66.6666666667%}.bootstrap-wrapper .offset-xl-9{margin-left:75%}.bootstrap-wrapper .offset-xl-10{margin-left:83.3333333333%}.bootstrap-wrapper .offset-xl-11{margin-left:91.6666666667%}}.bootstrap-wrapper .img-fluid{max-width:100%;height:auto}
`,cg=`:root{--bg-surface-base: #121316;--bg-surface-light2: #272729}.bootstrap-wrapper{font-family:Russo One,sans-serif}.modal-container{position:absolute;top:0;left:0;right:0;bottom:0;z-index:100}.modal-container.fullscreen #popup{background-image:linear-gradient(to bottom,var(--bg-surface-light2) 25%,var(--bg-surface-base) 75%)!important;border-radius:0;height:100vh;width:100vw;padding-top:1rem}.modal-container .popupcontent>span{font-size:1.3rem;margin-bottom:40px;display:block;text-align:center;padding:0px 6rem;max-width:50rem}.modal-container .popupcontent>span.error{color:#bf0000}.modal-container.fullscreen #overlay.show{opacity:1!important;border-radius:0}.modal-container .react-code-input input:first-child{border-color:#ffb0cc;color:#ffb0cc}.modal-container .react-code-input input:nth-child(2){border-color:#fff27a;color:#fff27a}.modal-container .react-code-input input:nth-child(3){border-color:#6bdcff;color:#6bdcff}.modal-container .react-code-input input:nth-child(4){border-color:#ff7f56;color:#ff7f56}.modal-container.fullscreen .popupcontent{width:100%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;row-gap:1rem}.full-room-container{background-image:linear-gradient(to bottom,var(--bg-surface-light2) 25%,var(--bg-surface-base) 75%);position:absolute;top:0;left:0;right:0;bottom:0;z-index:101}.button-bot{position:relative;top:60px;width:70px;min-width:70px;height:50px;border:none;border-radius:14px;border:2px solid #000;padding:0rem;font-size:1.5rem;font-weight:400;font-family:Russo One,sans-serif;background:#fff;background-color:#fff;cursor:pointer;color:#000;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);box-shadow:0 7px #00000040}.button-black{cursor:pointer;font-weight:bolder;border:none;color:#000;min-width:80px;height:65px;font-size:1.2rem;background:#fff;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:2px solid #000;box-shadow:0 7px #00000040;border-radius:20px}.button-black.disabled{color:#fff;background:transparent;border:1px solid #fff;cursor:not-allowed;width:100%}.button-black.btn-icon{background-repeat:no-repeat;background-position-y:center;background-position-x:1rem;background-size:1.75rem}.btn-invite{min-width:200px}.airplay-btn{margin-right:.5rem}.launch-btn{width:100%}.close-btn{width:100%;background:#000;cursor:pointer;font-weight:bolder;border:none;color:#fff;min-width:80px;height:60px;font-size:1rem;border-radius:14px}.close-btn.white{background:#fff;color:#000}.airplay-icon{width:30px;height:30px;object-fit:contain;margin-top:8px}.player-avatar-strip{display:flex}.player-avatar-strip:not(.mobile){margin-bottom:2.2rem;flex-wrap:wrap;row-gap:.5rem}.player-avatar-strip.mobile{overflow-x:auto;max-width:100%;padding-bottom:.4rem}.player-avatar-strip.mobile>div:first-child{margin-left:auto}.player-avatar-strip.mobile>div:last-child{margin-right:auto}.player-avatar-strip .player-score-container{display:flex;flex-direction:row;align-items:center;margin:0rem .3rem;border-radius:2rem;padding:.2rem;position:relative}.player-avatar-strip .player-score-container .player-remove{position:absolute;top:-.1rem;right:-1rem;width:1.5rem;height:1.5rem;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2rem;cursor:pointer}.player-avatar-strip .player-score-container>span{color:#fff;font-family:Lilita One;font-style:normal;font-weight:400;font-size:2rem;margin:0rem 1rem}.player-avatar-strip .avatar-holder{background-color:#fffc;background-size:23px;background-position:center;background-repeat:no-repeat;width:3.5rem;height:3.5rem;border-radius:50%;margin:.1rem;border:.15rem solid transparent}.player-avatar-strip .avatar-holder.empty{background-color:#0003!important}.player-avatar-strip.mobile .avatar-holder{width:2.5rem;height:2.5rem}.player-avatar-strip.mobile .player-score-container>span{font-size:1.5rem;margin:0rem .7rem}.room-code-sticker{font-family:Russo One,sans-serif;position:absolute;top:calc(20px + env(safe-area-inset-top));right:0;background-color:#fff;color:#000;padding:1.45rem 1.513rem;border-radius:1.1rem;z-index:4;display:flex;flex-direction:column;align-items:center;margin:0rem 3rem;width:11.1rem;text-align:center}.room-code-sticker .qr-code{height:auto;margin:0 auto;width:100%}.room-code-sticker .room-code{margin-top:.62rem;font-size:.89rem;display:flex;flex-direction:column;align-items:center}.room-code-sticker .room-code b{font-size:1.5rem;margin:0;font-weight:400;display:block;white-space:nowrap}.room-code-sticker{width:15.8rem!important;border-radius:2.2rem!important}.room-code-sticker .room-code b{font-size:2.8rem!important;line-height:normal;font-weight:700}.room-code-sticker .room-code span{font-size:1.6rem!important;line-height:normal;display:none}.player-avatar-strip .player-score-container{padding:.1rem!important}.player-avatar-strip .avatar-holder{border-width:0px;width:3rem!important;height:3rem!important;position:relative}.player-avatar-strip .avatar-holder .badge-gamepad{display:block;background-color:#703eff;width:2rem;background-repeat:no-repeat;background-position:center;background-size:70%;border-radius:100%;position:absolute;height:1.7rem;top:1.7rem;right:-.7rem}@-webkit-keyframes playroom-anim-dash{0%{transform:translate(-100%)}to{transform:translate(100%)}}@keyframes playroom-anim-dash{0%{transform:translate(-100%)}to{transform:translate(100%)}}.bootstrap-wrapper .playroom .steps-container{display:flex;height:10px;width:100%;gap:14px}.bootstrap-wrapper .playroom .step-item{flex:1 1 0;width:0;background:#dfdfdf;border-radius:15px}.bootstrap-wrapper .playroom .step-item.active{background:#00bc8b}.bootstrap-wrapper .playroom .step-item.loading{position:relative;overflow:hidden;z-index:0}.bootstrap-wrapper .playroom .step-item.loading:before,.bootstrap-wrapper .playroom .step-item.loading:after,.bootstrap-wrapper .playroom .step-item.loading span{display:flex;position:absolute;transform:translate(-100%);height:100%;width:100%;border-radius:15px}.bootstrap-wrapper .playroom .step-item.loading span{-webkit-animation:playroom-anim-dash 1.618s infinite cubic-bezier(.4,0,1,1);animation:playroom-anim-dash 1.618s infinite cubic-bezier(.4,0,1,1);background-color:#00bc8b;z-index:2}.bootstrap-wrapper .playroom .step-item.loading span:before{content:"";display:inline-block;position:absolute;left:0;width:10px;height:10px;border-radius:50%;background-color:#dfdfdf}.bootstrap-wrapper .playroom .step-item.loading:before{content:"";-webkit-animation:playroom-anim-dash 1.618s infinite cubic-bezier(.2,0,1,1);animation:playroom-anim-dash 1.618s infinite cubic-bezier(.2,0,1,1);background-color:#9eddcc;z-index:1}.bootstrap-wrapper .playroom .step-item.loading:after{content:"";-webkit-animation:playroom-anim-dash 1.618s infinite linear;animation:playroom-anim-dash 1.618s infinite linear;background-color:#cbf4e9;z-index:0}
`,ug=`@import"https://fonts.googleapis.com/css2?family=Russo+One&display=swap";.platform{position:fixed;top:50%;max-width:500px;right:0;z-index:3;transform:translate(-50%,-50%);background-size:contain;width:90vw;left:50%;background-position:50% 55%;display:flex;flex-direction:column;align-items:center;justify-content:center}.back-dark-gradient{background:#5f33ff;background-repeat:no-repeat;background-attachment:fixed}.platform .avatar-container{width:100%;height:100%;display:block;background-size:contain;background-repeat:no-repeat;position:absolute;top:0}.full-avatar-container{width:80px;height:100px;display:block;background-size:contain;background-repeat:no-repeat;position:relative;z-index:2}.player-shadow{display:block;position:absolute;bottom:-45%;left:0;width:100%;height:100%;background-size:100%;background-repeat:no-repeat;background-position:center}.platform .avatar-photo{width:14rem;height:14rem;display:block;background-size:contain;background-repeat:no-repeat;position:relative;border-radius:50%;border:4px solid red;background-color:#0006;backdrop-filter:blur(20px)}.platform .avatar-photo.no-photo{background-size:25%;background-position:center}.platform .color-tray{z-index:3;display:block}.platform .color-tray .color{width:1.8rem;height:1.8rem;display:inline-block;border-radius:50%;margin:3.5px;vertical-align:middle}.platform .input-name{background:#fff;border:4px solid #fff;border-radius:1.8rem;padding:14px 0;font-size:1.2rem;margin:-30px 20px 20px;text-align:center;color:#000;font-weight:700;z-index:1;position:relative;width:14rem}.platform .profilecontainer{text-align:center;padding:40px 20px;background:linear-gradient(0deg,#18191b,#18191b),linear-gradient(0deg,#38393c,#38393c);border:1px solid #38393c;box-shadow:0 2px #ffffff40 inset;border-radius:20.75px;width:100%}.platform .party-hr{font-family:Russo One,sans-serif;font-weight:700;font-size:.85rem;display:flex;align-items:center;text-align:center;color:#fff;margin:2rem 0}.platform .party-hr:before,.platform .party-hr:after{content:"";flex:1;border-bottom:1px solid #38393c}.platform .party-hr:not(:empty):before{margin-right:1.25em}.platform .party-hr:not(:empty):after{margin-left:1.25em}.platform .input-name:focus{outline:none}.platform .color-tray .color.active{width:2.6rem;height:2.6rem}.platform #btn-launchjoin{margin-top:2rem}.button-crop{background-color:#fff;color:#000;width:auto;margin-top:20px}.platform .refresh-button{position:absolute;top:10px;right:10px;color:#000;cursor:pointer;background:#18191b;padding:10px;z-index:1;border-radius:50%;line-height:0;border:1px solid rgba(255,255,255,.3)}.room-code-sticker{width:16.8rem!important;margin:1.1rem 0px}.toast-container{animation:fadeIn .2s,slideIn .2s cubic-bezier(.4,-.05,0,1);transform:translate(-50%) scale(.9)}.sdk-version{margin-top:2rem;color:#fff;font-size:1rem}@keyframes slideIn{0%{transform:translate(-50%) translateY(400px) scale(.9);animation-timing-function:ease-out}to{transform:translate(-50%) translateY(0) scale(.9);animation-timing-function:ease-in}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.airplay-instruction-modal{position:absolute;top:0;left:0;bottom:0;right:0;z-index:101}.airplay-instruction-toast{max-width:500px;width:100%;position:absolute;bottom:.7rem;left:50%;transform:translate(-50%) scale(.9);display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:4.5rem}.airplay-instruction-container{font-family:Russo One,sans-serif;display:flex;flex-direction:column;align-items:center;margin:1rem 0rem;background:#fff;border:2px solid #000000;box-shadow:0 12px #00000040;border-radius:20px;width:95%;padding:1rem}.airplay-instruction-container .close-icon{background-color:#ff3666;height:4rem;width:4rem;transform:scale(.7);border-radius:50%;position:absolute;top:1.5rem;right:1rem;padding:1rem;cursor:pointer;text-align:center;flex-direction:column;align-items:center;justify-content:center}.airplay-instruction-container .airplay-icon{width:4rem;height:4rem;object-fit:contain}.airplay-instruction-container .airplay-instruction-title{font-weight:bolder;font-size:1.6rem;line-height:normal;margin:0rem;font-family:Open Sans,sans-serif}
`;function Dn(ut){var lt=Zu();return lt[ut]}function Zu(){var ut=window.location.hash;ut&&(ut=ut.split("#")[1]);var lt=ut.split("&"),ht={};return lt.forEach(function(_t,At){_t=_t.split("="),_t[0]!==""&&(ht[_t[0]]=_t[1])}),ht}function fg(ut){var lt=Object.keys(ut),ht=Object.values(ut),_t=[];lt.forEach(function(qt,Zt){qt!==""&&_t.push(lt[Zt]+"="+ht[Zt])});var At=_t.join("&");window.location.hash=At}function Kc(ut,lt){var ht=Zu();ht[ut]=lt,lt===void 0&&delete ht[ut],fg(ht)}const Xc={getUrlHashParameter:Dn,getUrlHashParameters:Zu,setUrlHashParameter:Kc,setUrlHashParameters:fg};function J5(){return Xc.getUrlHashParameter("preview")==="phone"}function Q5(){if(window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.NativeMethods)return!0}function G5(){return!!(Q5()||J5()||localStorage&&xt.get("DEV"))}function Z5(){return!!(G5()||$5||ew)}var $5=typeof window<"u"&&/(android)/i.test(navigator.userAgent),ew=function(){if(typeof window>"u")return!1;var ut=function(){var At=new Audio;return At.volume=.5,At.volume===1},lt=/iPhone|iPod/.test(navigator.userAgent),ht=navigator.userAgent.includes("Macintosh"),_t=navigator.maxTouchPoints>=1;return lt||ht&&(_t||ut())}(),Jc={},tw={get exports(){return Jc},set exports(ut){Jc=ut}},rc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function rw(){if(Hh)return rc;Hh=1;var ut=r$1;function lt(On,ss){return On===ss&&(On!==0||1/On===1/ss)||On!==On&&ss!==ss}var ht=typeof Object.is=="function"?Object.is:lt,_t=ut.useState,At=ut.useEffect,qt=ut.useLayoutEffect,Zt=ut.useDebugValue;function cr(On,ss){var ls=ss(),cs=_t({inst:{value:ls,getSnapshot:ss}}),wl=cs[0].inst,ep=cs[1];return qt(function(){wl.value=ls,wl.getSnapshot=ss,Gr(wl)&&ep({inst:wl})},[On,ls,ss]),At(function(){return Gr(wl)&&ep({inst:wl}),On(function(){Gr(wl)&&ep({inst:wl})})},[On]),Zt(ls),ls}function Gr(On){var ss=On.getSnapshot;On=On.value;try{var ls=ss();return!ht(On,ls)}catch{return!0}}function Zr(On,ss){return ss()}var xn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zr:cr;return rc.useSyncExternalStore=ut.useSyncExternalStore!==void 0?ut.useSyncExternalStore:xn,rc}(function(ut){ut.exports=rw()})(tw);const sn=()=>{},Ft=sn(),ic=Object,ze=ut=>ut===Ft,Vr=ut=>typeof ut=="function",mn=(ut,lt)=>({...ut,...lt}),iw=ut=>Vr(ut.then),Is=new WeakMap;let ow=0;const Lo=ut=>{const lt=typeof ut,ht=ut&&ut.constructor,_t=ht==Date;let At,qt;if(ic(ut)===ut&&!_t&&ht!=RegExp){if(At=Is.get(ut),At)return At;if(At=++ow+"~",Is.set(ut,At),ht==Array){for(At="@",qt=0;qt<ut.length;qt++)At+=Lo(ut[qt])+",";Is.set(ut,At)}if(ht==ic){At="#";const Zt=ic.keys(ut).sort();for(;!ze(qt=Zt.pop());)ze(ut[qt])||(At+=qt+":"+Lo(ut[qt])+",");Is.set(ut,At)}}else At=_t?ut.toJSON():lt=="symbol"?ut.toString():lt=="string"?JSON.stringify(ut):""+ut;return At},Fr=new WeakMap,oc={},Ps={},$u="undefined",Ga=typeof window!=$u,Qc=typeof document!=$u,sw=()=>Ga&&typeof window.requestAnimationFrame!=$u,dg=(ut,lt)=>{const ht=Fr.get(ut);return[()=>!ze(lt)&&ut.get(lt)||oc,_t=>{if(!ze(lt)){const At=ut.get(lt);lt in Ps||(Ps[lt]=At),ht[5](lt,mn(At,_t),At||oc)}},ht[6],()=>!ze(lt)&&lt in Ps?Ps[lt]:!ze(lt)&&ut.get(lt)||oc]};let Gc=!0;const aw=()=>Gc,[Zc,$c]=Ga&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[sn,sn],lw=()=>{const ut=Qc&&document.visibilityState;return ze(ut)||ut!=="hidden"},cw=ut=>(Qc&&document.addEventListener("visibilitychange",ut),Zc("focus",ut),()=>{Qc&&document.removeEventListener("visibilitychange",ut),$c("focus",ut)}),uw=ut=>{const lt=()=>{Gc=!0,ut()},ht=()=>{Gc=!1};return Zc("online",lt),Zc("offline",ht),()=>{$c("online",lt),$c("offline",ht)}},fw={isOnline:aw,isVisible:lw},dw={initFocus:cw,initReconnect:uw},Kh=!r$1.useId,Bo=!Ga||"Deno"in window,hw=ut=>sw()?window.requestAnimationFrame(ut):setTimeout(ut,1),sc=Bo?reactExports.useEffect:reactExports.useLayoutEffect,ac=typeof navigator<"u"&&navigator.connection,Xh=!Bo&&ac&&(["slow-2g","2g"].includes(ac.effectiveType)||ac.saveData),ef=ut=>{if(Vr(ut))try{ut=ut()}catch{ut=""}const lt=ut;return ut=typeof ut=="string"?ut:(Array.isArray(ut)?ut.length:ut)?Lo(ut):"",[ut,lt]};let pw=0;const eu=()=>++pw,hg=0,pg=1,gg=2,gw=3;var Gi={__proto__:null,ERROR_REVALIDATE_EVENT:gw,FOCUS_EVENT:hg,MUTATE_EVENT:gg,RECONNECT_EVENT:pg};async function mg(...ut){const[lt,ht,_t,At]=ut,qt=mn({populateCache:!0,throwOnError:!0},typeof At=="boolean"?{revalidate:At}:At||{});let Zt=qt.populateCache;const cr=qt.rollbackOnError;let Gr=qt.optimisticData;const Zr=qt.revalidate!==!1,xn=ls=>typeof cr=="function"?cr(ls):cr!==!1,On=qt.throwOnError;if(Vr(ht)){const ls=ht,cs=[],wl=lt.keys();for(const ep of wl)!/^\$(inf|sub)\$/.test(ep)&&ls(lt.get(ep)._k)&&cs.push(ep);return Promise.all(cs.map(ss))}return ss(ht);async function ss(ls){const[cs]=ef(ls);if(!cs)return;const[wl,ep]=dg(lt,cs),[Al,np,cp,Cp]=Fr.get(lt),Lp=()=>{const as=Al[cs];return Zr&&(delete cp[cs],delete Cp[cs],as&&as[0])?as[0](gg).then(()=>wl().data):wl().data};if(ut.length<3)return Lp();let jp=_t,nm;const zm=eu();np[cs]=[zm,0];const i1=!ze(Gr),d3=wl(),op=d3.data,Sn=d3._c,Fo=ze(Sn)?op:Sn;if(i1&&(Gr=Vr(Gr)?Gr(Fo,op):Gr,ep({data:Gr,_c:Fo})),Vr(jp))try{jp=jp(Fo)}catch(as){nm=as}if(jp&&iw(jp))if(jp=await jp.catch(as=>{nm=as}),zm!==np[cs][0]){if(nm)throw nm;return jp}else nm&&i1&&xn(nm)&&(Zt=!0,ep({data:Fo,_c:Ft}));if(Zt&&!nm)if(Vr(Zt)){const as=Zt(jp,Fo);ep({data:as,error:Ft,_c:Ft})}else ep({data:jp,error:Ft,_c:Ft});if(np[cs][1]=eu(),Promise.resolve(Lp()).then(()=>{ep({_c:Ft})}),nm){if(On)throw nm;return}return jp}}const Jh=(ut,lt)=>{for(const ht in ut)ut[ht][0]&&ut[ht][0](lt)},mw=(ut,lt)=>{if(!Fr.has(ut)){const ht=mn(dw,lt),_t={},At=mg.bind(Ft,ut);let qt=sn;const Zt={},cr=(xn,On)=>{const ss=Zt[xn]||[];return Zt[xn]=ss,ss.push(On),()=>ss.splice(ss.indexOf(On),1)},Gr=(xn,On,ss)=>{ut.set(xn,On);const ls=Zt[xn];if(ls)for(const cs of ls)cs(On,ss)},Zr=()=>{if(!Fr.has(ut)&&(Fr.set(ut,[_t,{},{},{},At,Gr,cr]),!Bo)){const xn=ht.initFocus(setTimeout.bind(Ft,Jh.bind(Ft,_t,hg))),On=ht.initReconnect(setTimeout.bind(Ft,Jh.bind(Ft,_t,pg)));qt=()=>{xn&&xn(),On&&On(),Fr.delete(ut)}}};return Zr(),[ut,At,Zr,qt]}return[ut,Fr.get(ut)[4]]},yw=(ut,lt,ht,_t,At)=>{const qt=ht.errorRetryCount,Zt=At.retryCount,cr=~~((Math.random()+.5)*(1<<(Zt<8?Zt:8)))*ht.errorRetryInterval;!ze(qt)&&Zt>qt||setTimeout(_t,cr,At)},bw=(ut,lt)=>Lo(ut)==Lo(lt),[yg,vw]=mw(new Map),Aw=mn({onLoadingSlow:sn,onSuccess:sn,onError:sn,onErrorRetry:yw,onDiscarded:sn,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Xh?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Xh?5e3:3e3,compare:bw,isPaused:()=>!1,cache:yg,mutate:vw,fallback:{}},fw),ww=(ut,lt)=>{const ht=mn(ut,lt);if(lt){const{use:_t,fallback:At}=ut,{use:qt,fallback:Zt}=lt;_t&&qt&&(ht.use=_t.concat(qt)),At&&Zt&&(ht.fallback=mn(At,Zt))}return ht},xw=reactExports.createContext({}),_w="$inf$",bg=Ga&&window.__SWR_DEVTOOLS_USE__,Sw=bg?window.__SWR_DEVTOOLS_USE__:[],Ew=()=>{bg&&(window.__SWR_DEVTOOLS_REACT__=r$1)},kw=ut=>Vr(ut[1])?[ut[0],ut[1],ut[2]||{}]:[ut[0],null,(ut[1]===null?ut[2]:ut[1])||{}],Cw=()=>mn(Aw,reactExports.useContext(xw)),Tw=ut=>(lt,ht,_t)=>ut(lt,ht&&((...At)=>{const[qt]=ef(lt),[,,,Zt]=Fr.get(yg);if(qt.startsWith(_w))return ht(...At);const cr=Zt[qt];return ze(cr)?ht(...At):(delete Zt[qt],cr)}),_t),Ow=Sw.concat(Tw),Iw=ut=>function(...lt){const ht=Cw(),[_t,At,qt]=kw(lt),Zt=ww(ht,qt);let cr=ut;const{use:Gr}=Zt,Zr=(Gr||[]).concat(Ow);for(let xn=Zr.length;xn--;)cr=Zr[xn](cr);return cr(_t,At||Zt.fetcher||null,Zt)},Pw=(ut,lt,ht)=>{const _t=lt[ut]||(lt[ut]=[]);return _t.push(ht),()=>{const At=_t.indexOf(ht);At>=0&&(_t[At]=_t[_t.length-1],_t.pop())}};Ew();const Qh=r$1.use||(ut=>{if(ut.status==="pending")throw ut;if(ut.status==="fulfilled")return ut.value;throw ut.status==="rejected"?ut.reason:(ut.status="pending",ut.then(lt=>{ut.status="fulfilled",ut.value=lt},lt=>{ut.status="rejected",ut.reason=lt}),ut)}),lc={dedupe:!0},Rw=(ut,lt,ht)=>{const{cache:_t,compare:At,suspense:qt,fallbackData:Zt,revalidateOnMount:cr,revalidateIfStale:Gr,refreshInterval:Zr,refreshWhenHidden:xn,refreshWhenOffline:On,keepPreviousData:ss}=ht,[ls,cs,wl,ep]=Fr.get(_t),[Al,np]=ef(ut),cp=reactExports.useRef(!1),Cp=reactExports.useRef(!1),Lp=reactExports.useRef(Al),jp=reactExports.useRef(lt),nm=reactExports.useRef(ht),zm=()=>nm.current,i1=()=>zm().isVisible()&&zm().isOnline(),[d3,op,Sn,Fo]=dg(_t,Al),as=reactExports.useRef({}).current,us=ze(Zt)?ht.fallback[Al]:Zt,xl=(Fp,W_)=>{for(const t4 in as){const Nw=t4;if(Nw==="data"){if(!At(Fp[Nw],W_[Nw])&&(!ze(Fp[Nw])||!At(L_,W_[Nw])))return!1}else if(W_[Nw]!==Fp[Nw])return!1}return!0},ip=reactExports.useMemo(()=>{const Fp=(()=>!Al||!lt?!1:ze(cr)?zm().isPaused()||qt?!1:ze(Gr)?!0:Gr:cr)(),W_=v3=>{const Mw=mn(v3);return delete Mw._k,Fp?{isValidating:!0,isLoading:!0,...Mw}:Mw},t4=d3(),Nw=Fo(),Dp=W_(t4),a1=t4===Nw?Dp:W_(Nw);let zp=Dp;return[()=>{const v3=W_(d3());return xl(v3,zp)?(zp.data=v3.data,zp.isLoading=v3.isLoading,zp.isValidating=v3.isValidating,zp.error=v3.error,zp):(zp=v3,v3)},()=>a1]},[_t,Al]),lp=Jc.useSyncExternalStore(reactExports.useCallback(Fp=>Sn(Al,(W_,t4)=>{xl(t4,W_)||Fp()}),[_t,Al]),ip[0],ip[1]),pu=!cp.current,go=ls[Al]&&ls[Al].length>0,h0=lp.data,kp=ze(h0)?us:h0,cm=lp.error,b3=reactExports.useRef(kp),L_=ss?ze(h0)?b3.current:h0:kp,Ym=(()=>go&&!ze(cm)?!1:pu&&!ze(cr)?cr:zm().isPaused()?!1:qt?ze(kp)?!1:Gr:ze(kp)||Gr)(),Xm=!!(Al&&lt&&pu&&Ym),Jm=ze(lp.isValidating)?Xm:lp.isValidating,$_=ze(lp.isLoading)?Xm:lp.isLoading,j_=reactExports.useCallback(async Fp=>{const W_=jp.current;if(!Al||!W_||Cp.current||zm().isPaused())return!1;let t4,Nw,Dp=!0;const a1=Fp||{},zp=!wl[Al]||!a1.dedupe,v3=()=>Kh?!Cp.current&&Al===Lp.current&&cp.current:Al===Lp.current,Mw={isValidating:!1,isLoading:!1},nw=()=>{op(Mw)},n4=()=>{const F_=wl[Al];F_&&F_[1]===Nw&&delete wl[Al]},Ww={isValidating:!0};ze(d3().data)&&(Ww.isLoading=!0);try{if(zp&&(op(Ww),ht.loadingTimeout&&ze(d3().data)&&setTimeout(()=>{Dp&&v3()&&zm().onLoadingSlow(Al,ht)},ht.loadingTimeout),wl[Al]=[W_(np),eu()]),[t4,Nw]=wl[Al],t4=await t4,zp&&setTimeout(n4,ht.dedupingInterval),!wl[Al]||wl[Al][1]!==Nw)return zp&&v3()&&zm().onDiscarded(Al),!1;Mw.error=Ft;const F_=cs[Al];if(!ze(F_)&&(Nw<=F_[0]||Nw<=F_[1]||F_[1]===0))return nw(),zp&&v3()&&zm().onDiscarded(Al),!1;const qx=d3().data;Mw.data=At(qx,t4)?qx:t4,zp&&v3()&&zm().onSuccess(t4,Al,ht)}catch(F_){n4();const qx=zm(),{shouldRetryOnError:nM}=qx;qx.isPaused()||(Mw.error=F_,zp&&v3()&&(qx.onError(F_,Al,qx),(nM===!0||Vr(nM)&&nM(F_))&&i1()&&qx.onErrorRetry(F_,Al,qx,Hm=>{const y3=ls[Al];y3&&y3[0]&&y3[0](Gi.ERROR_REVALIDATE_EVENT,Hm)},{retryCount:(a1.retryCount||0)+1,dedupe:!0})))}return Dp=!1,nw(),!0},[Al,_t]),h3=reactExports.useCallback((...Fp)=>mg(_t,Lp.current,...Fp),[]);if(sc(()=>{jp.current=lt,nm.current=ht,ze(h0)||(b3.current=h0)}),sc(()=>{if(!Al)return;const Fp=j_.bind(Ft,lc);let W_=0;const t4=Pw(Al,ls,(Nw,Dp={})=>{if(Nw==Gi.FOCUS_EVENT){const a1=Date.now();zm().revalidateOnFocus&&a1>W_&&i1()&&(W_=a1+zm().focusThrottleInterval,Fp())}else if(Nw==Gi.RECONNECT_EVENT)zm().revalidateOnReconnect&&i1()&&Fp();else{if(Nw==Gi.MUTATE_EVENT)return j_();if(Nw==Gi.ERROR_REVALIDATE_EVENT)return j_(Dp)}});return Cp.current=!1,Lp.current=Al,cp.current=!0,op({_k:np}),Ym&&(ze(kp)||Bo?Fp():hw(Fp)),()=>{Cp.current=!0,t4()}},[Al]),sc(()=>{let Fp;function W_(){const Nw=Vr(Zr)?Zr(d3().data):Zr;Nw&&Fp!==-1&&(Fp=setTimeout(t4,Nw))}function t4(){!d3().error&&(xn||zm().isVisible())&&(On||zm().isOnline())?j_(lc).then(W_):W_()}return W_(),()=>{Fp&&(clearTimeout(Fp),Fp=-1)}},[Zr,xn,On,Al]),reactExports.useDebugValue(L_),qt&&ze(kp)&&Al){if(!Kh&&Bo)throw new Error("Fallback data is required when using suspense in SSR.");jp.current=lt,nm.current=ht,Cp.current=!1;const Fp=ep[Al];if(!ze(Fp)){const W_=h3(Fp);Qh(W_)}if(ze(cm)){const W_=j_(lc);ze(L_)||(W_.status="fulfilled",W_.value=!0),Qh(W_)}else throw cm}return{mutate:h3,get data(){return as.data=!0,L_},get error(){return as.error=!0,cm},get isValidating(){return as.isValidating=!0,Jm},get isLoading(){return as.isLoading=!0,$_}}},Dw=Iw(Rw);function Li({middle:ut,center:lt,bottom:ht,right:_t,visible:At,children:qt,flag:Zt,style:cr,containerClassName:Gr}){return At?r$1.createElement("div",{style:cr,className:["toast-container",ht?"bottom":"",_t?"right":"",Zt?" with-flag":"",Gr||""].join(" ")},qt):null}var F={},Gh={get exports(){return F},set exports(ut){F=ut}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var cc,tp;function tf(){if(tp)return cc;tp=1;var ut=Object.getOwnPropertySymbols,lt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;function _t(qt){if(qt==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(qt)}function At(){try{if(!Object.assign)return!1;var qt=new String("abc");if(qt[5]="de",Object.getOwnPropertyNames(qt)[0]==="5")return!1;for(var Zt={},cr=0;cr<10;cr++)Zt["_"+String.fromCharCode(cr)]=cr;var Gr=Object.getOwnPropertyNames(Zt).map(function(xn){return Zt[xn]});if(Gr.join("")!=="0123456789")return!1;var Zr={};return"abcdefghijklmnopqrst".split("").forEach(function(xn){Zr[xn]=xn}),Object.keys(Object.assign({},Zr)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return cc=At()?Object.assign:function(qt,Zt){for(var cr,Gr=_t(qt),Zr,xn=1;xn<arguments.length;xn++){cr=Object(arguments[xn]);for(var On in cr)lt.call(cr,On)&&(Gr[On]=cr[On]);if(ut){Zr=ut(cr);for(var ss=0;ss<Zr.length;ss++)ht.call(cr,Zr[ss])&&(Gr[Zr[ss]]=cr[Zr[ss]])}}return Gr},cc}var uc,rp;function rf(){if(rp)return uc;rp=1;var ut="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uc=ut,uc}var pc,sp;function jw(){if(sp)return pc;sp=1;var ut=rf();function lt(){}function ht(){}return ht.resetWarningCache=lt,pc=function(){function _t(Zt,cr,Gr,Zr,xn,On){if(On!==ut){var ss=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ss.name="Invariant Violation",ss}}_t.isRequired=_t;function At(){return _t}var qt={array:_t,bigint:_t,bool:_t,func:_t,number:_t,object:_t,string:_t,symbol:_t,any:_t,arrayOf:At,element:_t,elementType:_t,instanceOf:At,node:_t,objectOf:At,oneOf:At,oneOfType:At,shape:At,exact:At,checkPropTypes:ht,resetWarningCache:lt};return qt.PropTypes=qt,qt},pc}Gh.exports=jw()();var zw=!!(typeof window<"u"&&window.document&&window.document.createElement),Vw=function(){function ut(lt,ht){for(var _t=0;_t<ht.length;_t++){var At=ht[_t];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(lt,At.key,At)}}return function(lt,ht,_t){return ht&&ut(lt.prototype,ht),_t&&ut(lt,_t),lt}}();function qw(ut,lt){if(!(ut instanceof lt))throw new TypeError("Cannot call a class as a function")}function Hw(ut,lt){if(!ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt&&(typeof lt=="object"||typeof lt=="function")?lt:ut}function Yw(ut,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);ut.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(ut,lt):ut.__proto__=lt)}var wg=function(ut){Yw(lt,ut);function lt(){return qw(this,lt),Hw(this,(lt.__proto__||Object.getPrototypeOf(lt)).apply(this,arguments))}return Vw(lt,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return zw?(!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),Wt.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),lt}(r$1.Component);wg.propTypes={children:F.node.isRequired,node:F.any};const Kw=wg;var Xw=function(){function ut(lt,ht){for(var _t=0;_t<ht.length;_t++){var At=ht[_t];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(lt,At.key,At)}}return function(lt,ht,_t){return ht&&ut(lt.prototype,ht),_t&&ut(lt,_t),lt}}();function Jw(ut,lt){if(!(ut instanceof lt))throw new TypeError("Cannot call a class as a function")}function Qw(ut,lt){if(!ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt&&(typeof lt=="object"||typeof lt=="function")?lt:ut}function Gw(ut,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof lt);ut.prototype=Object.create(lt&&lt.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),lt&&(Object.setPrototypeOf?Object.setPrototypeOf(ut,lt):ut.__proto__=lt)}var xg=function(ut){Gw(lt,ut);function lt(){return Jw(this,lt),Qw(this,(lt.__proto__||Object.getPrototypeOf(lt)).apply(this,arguments))}return Xw(lt,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(ht){this.renderPortal()}},{key:"componentWillUnmount",value:function(){Wt.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(ht){!this.props.node&&!this.defaultNode&&(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var _t=this.props.children;typeof this.props.children.type=="function"&&(_t=r$1.cloneElement(this.props.children)),this.portal=Wt.unstable_renderSubtreeIntoContainer(this,_t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),lt}(r$1.Component);const Zw=xg;xg.propTypes={children:F.node.isRequired,node:F.any};var tu=void 0;Wt.createPortal?tu=Kw:tu=Zw;const _g=tu,Sg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAgKADAAQAAAABAAAAgAAAAAC7tGl0AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAArZ0lEQVR4Ae19aaxl2XXWvm+sqlfz0FVd3dWTbYzt2B1wTBIBDgpBSgiCIKYQQXAifhhFIJBCTJAwIUjgH5GQkILgR/4RKVKEhPiBlERWjGkIKAbHbmxntONuu+exurqq3sz61rTX2nuf816V2+62q069d/YavvWttYdz7rnnnndr8dhjj+2Xu9sdOwJLd2zP73acR+DuArjDF8LdBXB3AdzhI3CHd//uGeDuArjDR+AO7/7dM8DdBXCHj8Ad3v27Z4C7C+AOH4E7vPt3zwB3F8AdPgJ3ePfvngHuLoA7fATu8O7fPQPcXQB3+Ajc4d1f+Vbv/6IsCn5kg3CLz78QXCJuMc5SvsXbb5kFkCaaJ22/7O/vlz36t7+HyRP9UPPBa0ZWzWIBZvpHLVYS/tn2rbAwvokXgEwFTStP9O7+LrV7PDc8TUtLZXlpmX5X/HeJ9SWazGX6pVbRaLBYsFywWPaIa29vt4Bzd29HZLScQxYTLwZw6AKppxlZFkz9TbD7plgAdtTZZPNk6WQv0USvLK+WtdUjZZ1+0a6urJdVsmHyMeky2cSCo3i/HsE2PzT3tOnxTA3y0IqQRUHtLi0GLIidve2ys7NVtnY3y/bOZtnauVl2drdooeww1hYD8slmuYRbjW+p5i27AOSUi3mQCeCjm8YTk3pk7Wg5ur7Bv+trx8rayhrbF7QYdB598nguMaU8p3SG4AnGHEBYwCMToo3PjuMWZWVptRT6XStHSlmTSeWXF10UWAyb29fLzZ3rvij26WxBK47OMvUsISnaRJ7xTRHecgsARw8me3cXp9y9skQ6jupjR46XjaMnaNKP04Svl+VlKZ3PBnt06qYZ3tvZ4UHkIW7GGQsgbTb50U6yqxoAXc4ItY08q0trZXX9SNlYP0X10mLd3eZFcHP79XJz+1rZ3L1BZ5Bt5qAXJe4P4n3hRbI3QX7LLAAc8Xs0kTt0eoV8hI7s48dOleNHT9GkH6PT+hofTVgcjMNkY5JwQPKsQZCjU3SdSmpUkuFlPRvT4ggTzwEaLGZPxqRwyXWDXHsAv0TXF0fXaKGunuAFvE39wWK4sX2V2539LaqSzguEC8Uj9E3Z3uQFIAOK11cc7XjtPn3iXDm5cZaO+A1+bccgyRkBR7kc4T7RmPA0Qaa4WQaVzH7EKQSOduLd5YJh1EBNcKmii0IdeNdBK5RxmOjVpfWyRmeI42tnyvbeFi2C18rrW6+WzZ1r/A4FCwG4N2t7ExYAdRfzRqOPK2xsx+i0foYm/sTGGTrdr7MNV+O7u3JqhwFDhIHicQ6zIJOoBmrc5aZoRF6ml50qbvIYcrNcDT2m+oxR6GRB8J4WNVCwy2LAy8V5XgybdAF5feuVcn3nFb64hF8uHiXeOL/e7Td0AfBpngZld2eXr85P0YSfOXmBT/V4y4ZTOybdp5EHTrQ4cSLnCVDNJ451N8ok+GASgbtcMIwaqAkuV+x6wLhqXaM4mkwyy6UmRVL/ZFuU9eVjZf3osXJi73y5vv0qnRVeLlt7N9j9jXx5+IYsAEw8jvhteguFq3hM+tmT9/BFHVY+3mbt6AUcj0AdSx942NuJ9wlyPAluNDwzuuJui+HWrRzvmmGM1B1Oh6r4h+vTVBVefeLCOIhES51Jlhcr5eTahbKxcobOBrQQtl+mC8fXGbREPieXsDd8/3VfAJjgHboyRotJP3fqIl/Rix03b/b5oo9P8iTz+OggobeTk85ODI+CuxgdK+NUvFozLxklj8VI2x7tsFYcJZQfA0sLTHKwwap0BSd69BnXPrjGwXgcXz1bji6fLDd2rpZr2y/SGeE6jQ2uEXBfIXSQY9+Y3ddtAaBDfHeOTnsnNk6XC6cvyxFPZwN7bce1AA+ETVLoIxaGb4OBbgc5wm2WnEEFbiJwiheJPZhElyXA1YCbX4gakRvPgTHgC11aCBgRnA2O0ELA9cG1nRfoGmGT3jVgqhiJrG/Y9oYvAHud36H38bhhc/Hs/eXU8bNUOk71ttq1KzaSoRWR9mozV9WrD6NQJ0eUFl8xldAx7JQd25LDuAdxjtNpdx1cFseS90M1NGqToFo/HwrUH7r4xcsDbRsrZ2khnOCzwfXdl+hsQddOb/Dbxzd0AWDycbpHkRfP3FfOn76X3tqtkk3u00sXU/+5ozIINCA6kD6erlcfB9DOB04Fhnqg+aPB6V047FHrLEFg0XXL59WFHGpzLGV1OfvaenCdQDe6y6nVS3xGeG37ubK5d43fLbxRLwtvyALA0Y3icZGHGzeXzl2h0/1Jvqrf3pHXf3Q1DppPujt8zBwY8QyLA3eYiSd8DLECWt7MXYM8VgO6uAqV3nmAdwHUtIkjTbxifdIrrNbM/Px5Jt2BPlrOrj1QXt95uby++zx//vBGXCR+zQsARz1u26K9dO7Bcp4u8vABzA5NPDZeHHFgWPbe1876AOQjJA0aY3TIImeIhQhSd3sqFxjCsB5023Gatkvc1y/pfeK9hhgajExMY0z/MJYby2fL+uJYubqLs8FVvTYQztvZfw0LAOUUPupxf/7y+Yfo6D/Jb+l2+S2dvqZxB6xz1DH5qbW67gL70sCpQggjChi2DnlhbGOYQkNiUDR5XMiXeRQdm0wwPM0LJAZxN7RGJwh9Ez/2GE2+DU73D5cXa+X0yv0F1wXX9p6Hh/y4tZw5yHDgdlsLAEc7LlZ26E7e2ZMXy6WzV/i2rR31Ui4KRv7aYS8vCGmigXafKK6qwE3dMX2PiWDUEHnJ17oDAYuux9g2SGmagFy/xncJvYRYmKBSblLkR4homrEQ8NYR28bSubK6OEJng2fKTqF3CnS9EJgZc9DulhcAn/Lpxg1KuXzuIX5fv0e3bXHVD5uMh/YiN14bH5fqQ4F50MTB+w4TDU6nwuGO9sDgBG09uSaKCEEsui5Crl+GXKsxRVra13iNNY9zwkDRSbdA9lgEXweslmPlzPID5bW9Z8vNfXpJ4DOBQw4UbmkBYPJxlY8Pbe4//wjdwj3Nr/98M4cnX6umxut3UzRKhxyDMqnHrAdj1dVIjbvdFI3S3zp4DurifCidMNZU44SRy1Ox+mKoFe82F2LN1chSVSU59snmZqIPDhfpRhK/ZVwqJxf30tSvlev7L/KBaGdhLXqyOfQCwOTjKn/jyMly34VH6Ombo36hB3a7ceO1sTCYVAdwEBemUJaxk0EIQBJdC0I7WCkuxjCp0HNFzqE213MQm6PPa5M43nOIg0KhKmaSZoIlru0HeFNf2MDZeKdRIRc+dKILxMV5XgTX9p8hHXcXD74uONQCwKkdk39q41y57/zDdJW/wpOPRYGZkYK0QNZbo3XIMGE9azA3dScdpZcWdeuqnltQlchiPJiEhjpMRI3T6gK2+pwTIDcHq9uEhQ8Im1mMEzaHi2BucVZ/7XW0GYpincdEzAOidst6Ocn3YV6jRUBPVxy4CA5cADz59Nzb2ROXyr3nHqAq9G0ftd4BLYgLj8UF2cBsCvaqq5Ea7gp9KohPCJdo8PhTQrrgxNtL2zw3RkN+zGWjwjxsVGrIKY4NjACFx5lQsYKRPJEsxHK8+FAvDg48r4inhPboRhg/l0g2O1Mqo6WqtTKPe6UuSVyNJA3rhZ2emVih64IT5b5yrTxNSwIPoEyfCQ5cANs0+edPXS6XzlzhzvCzbph8lEO7dtLZLONgAMEq3hsjUIOF2AAdo49K8QkhflfobuISPVhx8+ZNHliEaPIBNxclENu7SbNYMmFhKoEKMLiDOVhVdEtYKZj8tbV1rnNra4sXwfqR9bK5tckLmc+aYHUOZ3GbuwNvtUHCFuKguSrXBSt0PXBi/3J5bYFFQOM28Q5hdgHg+bZ7Tt9Pv/fxfXzJIqezduJrAbUarskLsyLVkBvuDzjBjuf9fuuz/6d88n/+erl69dVy/tyF8j1/6vvKO972zoJBlc7H0ypXI2by2iY1tYkU5nWJkOoHAZmVVegcH+OrERIeYsHkP/Pc0+UTj/1a+cpTT5K+Vr7j0e8s3/HHvov6tczPQmAROHelQErN5RLrrLnJBcFXlbCqUGO3kbEIrtEi2Ck3hotgYgHgan+LJ//CqfvpSp/u5dM/fpvXjFRVKav8aCdCw3XxboiBEV4M4CoN2K98/L+Wv/PhvyYEYf+ff/FXy3d+4E/ymWApz39AEU+Tz5zVLLXU2hUhZq2mtZmuoEbFTRo8zfSHT3yx/ODf/J5y/fo1RUjz0Z/8WPmRv/KhsqDC+SWClzoPhzFFhceDHZ5Oa4bRbUEhWzITP18I7i+Xjf1LvAh2F/2ZwB5g51zYYZIx+edPXi4XTuHIl2fewW6nZwyc/ZpQdSJxvwps0BgkIbOYaOIpELF79JqPo+dLX/6iT/4jD769PHD/Q+Xb3vUoosqH/9GHyrPPPkMDvaafLAoPfJZfakRe8WnDft05FnG8AY469J/ZpEbxxSDm5BiL36drlaVyc/NG+Xe/8G948t/zzkfL5Yv3l0cefEd5+Mrby8/+3D8pn378U/zhGNdKocjnvCBlm5jgYp8IWa3INpw9YIZD8uCezXI5vk9vE/fXyYNPGvXoISmdAfiCjx5cPHviIh39V/i2LgYGdmwg9A0JoEQb1GgkOblZV0tyIG6fL/o+/4XHOQUm/4tf/n2Wj6wfLQ+T/iXSYbt4z71MXCl6TrY4gAT5YT7eqU97IXa3KSx1GDXWcOEgAw0N7szh0fWnnv1q+eX/8h9p4q+Uz/3OZxz8rj/yXpaxAN5PLwf8EkBkNg1O2wisus3oxuNu9XRwyiIPnCyXY3QmeH3p6bK3wAd0cmHoC4CPfHp+/eTRc+Xi6Qf4NGWT76Q6AlWXosTs1jzYauayAwSRNQ5FQt/niyX4rt+4joY2vOugR8a25QFSbgkHKpzkeIuNylwEOSWHwCo2TLvjNaIJYHfAAJUg5IOOydzelg/A7PE2vGvBE8/bW2Lf3Lwpt3ERQL/7dC1gXQiCmJqcqJ1Nya5W0EFsN7aLB9cEy2W1bOxdLNeWnya8PIXELwFYkfizJzzPfu+Zh5gNq0aGGCzotAwaaudsYma7pYePf1EI4xAjsazDbBgjMhzpyHH/ZbzVLOXkiVP8mrpxdKPcc4FWrr6mXjh/j+Sk6wXJ4alEUKPlYTLOgdxWD1nNZmIKAFZ+rW4EcDzibFMOqLgVfubU2XLfpSvluRef5rPACl3M8h+1HDvGEQ9eeZg+M1mR+rFkkMTqNclMHEEKapZGoGwHuNaDEN84Xn21eMpG1x54oIReBo7tXlA4XrrIgYcy11aOlMtn6SYPPcyBJ3d4TbfJUQh5ZCBY8uJQpPbF/W7jGK5ZQIFX+OgPKug98+bmZvm2dz9a/u6P/kT53T/4Qtna3iyv37hWvvr0E+WlV14oH/2pf0WvqW9nnFxJK6cmsglilTKhHp90GwzYxMW1eweCzeOFQPsDQt0aXj570hnqNC2Aj/7Uxxj01LNPcv1H6G8CPvv5/1ve9573l+/+wAf5zIp7A1KF1mIqWq3O+8JstuPE2iezacsumnj+N/bBiptDK3vHytHdc4Skey0/9uM//jM4fV0++7ZyZHWDJj9+qFOJZFC4Qq5RJQGwgtS0RQfJoqrR9YjTODLh6hh/AfT+Rz9QTtFg/vff+HUwlgvn7ik/85GPlb/+l/8Wf+qIlwR5hl7ZlZ7BKldWsrqNEaTHAHUnE0UnPXIERxDBjAPn4QfeVt737j9efv9Lv1teeJE+s9+6WT70wx8uP/0Pf7ZcuucSvY2lv3wKf8OoFUkC4msoxU3FjO1wz/l6LxYrrHJBSNch/+2Tn9i/dPqhcnrjHnqtxWsVALJx0rrj6rwQFTi9GzXOdRLkxyhZN/ZukMmBRYAbP6ji2eefKTfoWmBj40S55/xFvilkD590sZwzDIbXoCmbAIXXujCQIYYdqgfWUH8QNRBHLc5MeDfz0ssvllevvsx9Qe2rq6t65opvvCRBl9eqIkdbktQ1ZZfAoXfUF4IvPvOpz+/LRV99eyAFeUQtwqvRFK7TYLh8a3EoOeWDri9BdkcNiwJHDja5gmZRdpQuddjrgJ22WhjjG5X9IcQ5ObT2XMmimxOLgfbOQQnw8fgaTThu/GBRbG3Tn5BTH/BWMSDb0pRcmJzPMyA09bR6GDznQ9YhY1l85Xde2cfrvl30eYGE9xAVmMSNqV5UZz9NYVApci5OIBxnMAwcJt4C4+cAUljokgVxprSrnAFjhSYTkGQQm3oCwMWmI9WuBJxRzmTyWo8/GJU/EXd2D1Iwh4b+BLPUNAhQ0zBqzse5JAFiV1CcTD4Z2xXGRJoi1KBmBBiTSa7DV3Fixr6OH3k1nO15xy8By6itviIxPnW4pke08lVSlqrKyaNaYxAaPCOxFl6RjnPB+4drlGWvndhDPOfV5EMzfOSorDXCjEMvBww9QkD+1ruC26/YPJkKDnQH1yREhiZfcKuikcFRO6nG3AQScsiP5pHCvBazxniW1SDwwIcAIawIJWFzY1W1WhmkAYGWAQkVnJoTmSvEOSbr8bCut8498Mz7LCt3Y1hMWXEzC/3kcV0RRLKrbdHR4bhgVJEbN4vQDRaZU4cVX8Nc4m6ylkwUnXSCqT7i9a7ogmHSGqKxmbDj1wS9XdjHdiRJFVnqcb1CpZiJOPNOJrTu0EuA9NdHxpPXWPK1bterzwJTHIyOVQTrYqzY6lOPGDQWSg2rxmrTeEJ1nBqchqpSWHmUIBgtn8Z6J8yeoKpQk8yIhWVoN1cfYSSpXuaSGIhDX8DM+duXopXWUMdhUDzXq/SxdoHGCq0c6Y9jRag5FMbxDkojydYmIKvTnGBPg9GlIEOwCZ6DINJWnaOcjKgQjuCdgjsXG1JFIUbEoVeJhj5laOexEusYdMUIgj8LqJ3zTLXrbnLBuUdxcHouFkSrWA13Okd7YA2rvmqz9GSRHzNIyzZGV7uq1cog97PdnS5IP6pKeFWoSWZmEmNvt7CJ6eOAad+Ep9beDay76KQ2rMaq5ZbOAGhpJz9srL3T9JHHcWoMPhZdF6GrgcypU4qvYS5xLawlE0UnXcoHeMQrdt2HuCBy33UnXU/OwNDZ4aPIriCxgyzVpGZJchs+o53Kh1okqWXqWu+CcuCTCasH0byNSGpOBymWmsoqNtdZdX/IFGyGqUEsVVUSkJ5MCGNbY1XVrbVwScQ63bGrALabCjt/SifofrGpPY2b2dAyUeqpeDXBwBP8k95xXyWS95OLUDFSlhYR4vQMAIsmbzB1/MgRfCy6LkLF1qypS463cQoGVJBUUuRHySonpFneQSCoF5Rgl/7Ofo+eaqbbjUrIaXQnpiV6sHIJD8KE2+LioaypRqVgW6rIuVEKtqF3zidhFDiMrJyjejRWXLSfwdDbQPUGUO3kwb6KrVklKhKKjy11p52gJkB5qJJeedmnag0O4U0xTqM5d+jLHo9uvlBOv/q5srr9ClHkW7Nguklf1/LyyfeUzZWT9KnZln5m76MUs2viad/Qo0VJ4xVmXtLmjug5H4ikuzPcYcD5baBlr+OnwbFxPhEqVqPJnDocY2tVlkqLdJUEJgilqW+CF15NQYJLHMSam3C6pw9Bl9fLmatfKJe/+m/LYvsJOh3g28gcxHFYECf3r5dzLz1anrzv75WrR6+UZfqev326q+ebkreR7FdjGgcLnPMpZm5imXOYVILFRftZTHCquPjDz7ykw6eW3ARCcsiPdcl93mGNBcDFdnLcoaiW080J6ITVmgPdzoJrFEfPwtAj5cc2ny2PPPXP6TNbmtByjlr65BP3mQENt2wLPTWz2Hmi7Ky9s/zeg/+4bK8cK8v8TZ9ytgjMqFQ2MvoYmM1aDZjzT/qIg33DpJ6aUdwPyxnajjtx0Y2gNgH7HSRCM4c8aIlY8TXMJS6li0e3MkRKJtuIF06GD4LELuGKYsXs8iTMopzZ/Gwp6y8Sz0M0wfR1bPjwc4dQu/TLYOOgr3Vdua+sbH2+nLn22+XpM3+CPjvHS0ECeUyqFxQB1vksBWCDvpibKQ7yI1HIZbFou7wdTgzY+0sAm+qO+VINEpPJ3cZw9EoFabIqvmwjHJlTwYGiigxybrez4BqomM+Byry0v13Wll8o5Sh92TNAu/RAJCbffrdJxoKwTR+HW996kfDyZY/mQnyq1x0kzPmAO8A/tyg03EigdtuwLsopmwiuqjW9C4DtlieoCeAEKQuVlXTNTLZUcMCIyAAFS8P2unNfb2ILdwYSfRJfdui7e/EAXKHn5OsCoHcCmPwl+kWLX2z8kkB/8k5f5uivD9QJ9TLEd2qc8DLs4IklkiG5maf9SNDlTlyiJFMoHu+H+glSdCJ2m0aHWWVXykCK/HgqFhToUBcEJirtg91FFlwTSFWtKEnjdn4BoP4tlWsrj9CXLW2UBT793KVur9Ahv0MzvUyLAAtgiVpMPF0aLOjqvyyfL68dfZBqwfjQL57gjRvnSCMUvdp/BmW7ahw57dYhIMAEpsuccKIkk1eRreEMQAjyJeKAZTFMOvjE5sxG0Nfc8nqw9Y8Bkajh5kzsH+ZE5gqpPExLT77Sg5BX9+8vF4+8nV7zvkITf1RO+duYfIIvMPkQ5M+sFzdfKTeOfHd5bf0SrQ+8C9DJ1xxpjGo2luaO9jkfgoXekzTMona5FW5etMkkjmwNKcI1QAgLAI4Po8uuAOV0pCcTgtSQCnYbsxImR7nGgmttCZHc0ihh5hWGJZrjbfr6Vfq+vaX3ltPrXy7727jSJy9eEvDLE0yLgNno7ED/8cOrJ7697ND/BbBG3/ePJZT6kbOxNje5HJu7kxicewLjfovqcGLozFKZRXH3MsbeBQASPCzWXaUJGAQ08yeJCJMKDjEuNoFsr07hsZLcDrMoTbjjUVCCWwgOYLqYe2nrXeX06Y+XxQpN6BZdEC7RH5vQFT4d+HSvAI/F0cKg7+HbP3KlvLzxTjr6cTew6U/NRvgum3vZM+MHUKJpP0Ez6E3AerTnrEIgVDFYPDPw4Qyg4aFoDkqRpMiPgi0G5gT0Qqs1B7qdBdeYMJRAuviyLaQnR46uNVlV+/R+f3lpq1y9cW956cafL2dP/aeyWN6Q0z9uCy/haWj6w8m9m/TS8EJ55thHyo2VU3QnsLkJZNSTxWjGYUHWE5AoYIDretNhOoRWFXhVzKFZsyB5Ioh9FdCohCWL/Fhc6EONY6eqbm0Gi+3V6XwNTHJi71iHsm9sl4BhCF3hLS12ypPPfRf9p08nytmNT9HfGLxcdreukoe+f2DlONnPluc3PlieX/6j9N6f7geEO4AHHu3dANV6vZ7pom1JDIJgEgbnqSj3sUkBGZe1GIqltPi933zOEX19BHGvhrLerMKAEZH2nS3W6qiEi0qXF+nJGGi1IOM9jA/RC3pMm75D48g2/R9DL5d//x/+dnnfe/9G+b4/88Pl1Zv0jR7LR+nuGB5Bp9cNgk+wcm72DQtit9bKJGLo9g174qpKlYygsaharVWyCGubjPwGiCe5DjgFY6D518KoZTPClQI59Fca9YAIhupWnII1nvMpzog4FOFuVxYycD3MGnZu15rMpakkJvpwMUA3e5dv0nP6q+XazVPl53/p8fLbT62Wm4szVNlSWd2nlwGuQftjnKFlDxcbjCpqaunlJEa4vZsWxByimMkxwWci0xPAsFHScrxpMrpdrwEkDQjTpjqCfetEMnQ2QrOtOhpV6Yi5QjwFC+QYupRoyjcRxfWYbw/XBItdegnYKu97x6Vy5hj9jRz/Z074v4vwZ9P9xrHDpIIVF+0nMZY9cCfswO/QAOxSBJ/jraZpn80P3QcYgDhJsHciA1I6hjjOBcsTsOIbpdVZGo8hhQ2HSFPdug9/kr5U/uCr+I8g8UYAOt04kpOE1zscH/eGmmqXgzf4zZpwoiST4eIoKCDjsuZhJAzHwgDNwNMlsG6eJBC7LYCCG1ZW686AgyNbApv8iqeSG152KO/IZYmnfGIfepUaw0RfSTM44HkAp0M9XmrQLqSGGaql42r8FUlSAJMYtOxLMYbLaIewufqqpG8DUznBW0WSqiKi6y40dqQX33By4ZMfr9MFDktViUvomNdFC1KDNJ3X48HKRzUgCcYe8RlnaB067gwju4o9CG5Rkinwm99qyrisxbAuZ3LmuJE2fiKISQieI0RlW3b0YyL+3k7EZMzRWrHyTvtQzsCrpqHPqIeFwEnBfJOIosGD3/YlADA44BtsXd6EEyWZEkfwqFgtVUohqnR5I6jpb2bKWn8jqOmsw1lwTcajqpRelCZ3LYscCW6eSbsAJqJ0ToaMGjgZyX54ES3vFCBIGPZVJKkqFcBSw59woiSTRwerisGSsnuICk3G6maCg1iy34LlRhB62fhZdZsIjUocbpEjyFit1dVQUeZA6ER3FNx5A0nnS7QBGOwQOY7caLk02uHbSOXbRiSO91p3E24M2ZzSBY6M4lg3ESyFNZrjOCojo0/Csn9OS7EYAzLQGaCGsOSqC4M84guhDbeQZyNpFDb0aKpb9lkCKqRWa8batlfy+P6BpdUFfa3bzfLSqy/Qlzm8wF/exH8lTUTyLRohvmVPyURJJg9trKRmS9Y8jITZHnFYja2SMfQW87TM+CSci+LJ5DizkJ3EageF+NxeWcVHDj+lRp/bOUH1aCp0tuvwnE8ZOBe4K6NLzKh53UgCYvANJPhSx8e/8Gl2/cIv/nx56ukny/GNk/SZUWWTqqqu3Vc6KVD2MQNktVpDLaUNdaqjCROrZG1cSqlEypRZTEPbbuIbMeNzTqlOizYVBcsmwegBd8Lt8MJmv7GD7GLe8YKAS8rB3jdNxbnAHX0GIozlNFNs3RdozQ8fvowKX4r1yd/4ePn7P/1j5c/+6R/g7/H5lz/3T/k7CFdW8M6YMvNjYSxClV8VrLI+hQPRhRrGBZhvFDXNKKEWWzkrS/UxNu2Ed4wQ6+Lz/+Mp1CqbC1BFqU7FsAvEExsFDH1qHHrnfJoGkze1Mee0m8PwFS34xq5PP/6b5Ud/4ofY9uc++IPln/3kv6bv9H2i/MiH/wLbvv97/1L5yD/4F+X0ydP8nUS4PvCxYES7C4m9H4YJPjNpOxwHw3BYja1SApgyaOfYM1t+IoipCCA/PfHs5A6Saq6Bx8bUllmfCxauQ0kGCOadcFezSlQ7pnKbvq/nB773h8pf/P6/Wr79ve8vR+l7CN9Nk/2rv/y/y2P/6xPlt/7fp+iraewJ0WHlWonxeldChTV7MLI4x9gOfM/SWyr/HPN03OJzjz1FXgGMDzIinoqfWRDDcpxn6A19mfYzxWRBQsHRnqvSQoIPX4uDL6XGYsC3euKiD9/qjRbfTSg4bppdJu3LyH4LFuvYJ0NffVXK0ab17fRY2bz2MbBI3PizAPbPEI8mXiufjDqEfzIW5fajjSp9E3raax53BAH8mGR8edON66/T2z96XEw/88fXuOKDAFwj9Lm8eGbLKbIW0ukQR0uQm/70LL2lRotvjBhbLbYd4/pZACPIPYpnWxuqlIofeud8taLJgZK0SmL40IqH9hMQ94cY/i/XyFG/dUwqx5c3Ao9vJms/EDL+mqZKgdrF4ViYNwxwz9JbLAztLK8VGQNUnouTBUBFDVOTccKjgz7hnYuTnkzych1hkAb90Vo5ycjdczOpQPk9Pv2Vz6hyvgscbwV3KQJRk3nE55CmPz1Lb/HYYaXVO7n6GTJXleQcvwTMLAjwDmm1D0Of1TvFy5zYTQ+EeGg/DenrSlhnsGpCG4AkBk0xvcWCD+pvxZkU22neiVHW4NuNQ3iOrS8BbJ/oDvmGHucaeqXYqVjvCgNU6xtJMY3pMkuAs0NIJk8RrCoGy2SU8GWkU4ozxfbI3lLjxTeNmPNM+6ZGAHn5w6BuEOFRvlv2IZa2/kJK7OwD+Uy94vICamCQuroSX2IIUZLdDQRLYezoLTVq7BOS7JvTPH/Il/GGGFvNi+rnEXNe8dWPg42V7JO0HDPple7MnsaZ3DJ1rZQ0jRlmliDi8uiOVwwOZGjQPHYUOM9K3kAURKXqLTHHsD8OmIudi5yPM3pD6UUgzBOkipzwMp/MuVFaCmk5buySWIcTaALX5U44UZIpcrpMAoEqrkoRYnKXszqEyPQDtABTcZK5Y8qxc3FAzvWn+qok7Lf3EqCVzZ7mZ84EtVwqp63IuFtHwlWlShrITbCSGDTyZi1HTfhg5jvC1V8lY+gt5kHOae+0Zz4O7POxln+MEmt+CVDkbLkzE8tx42xWi5R8EIej2z7OVlajvB9mmi9qyOohmczNTJ01y1bbIbO652OnI+fj4qLokY2FFvXBLwEol+KmC1Jfw10HwUpikmgOcsOeuERJphBp7DD162ouatrXEvXI3lJLEt8YMbZKbDMGlVCluVhApvIO4sK9jvF9AEtOsXNlzb4EOMegAPV13AkqSjIZp3Y2qhmXNceR0OXMTkbANGYYW4VijvnrEZer7DM0ljDpsXf1PoD0gn3zXSHihttCa0lzmIa94xJDZ+YkwUpi0MibtVzThM/NLgxYqi9yiiy+MWJsrRzNOFQHSXOxt5AzTToS9Lx1AdD5s3dLVZ5yCsDU5DzIL3SRVC2eISKSjxXlz2myFgmme0So8HrRM/SWyiu+acS0BwM0550dQI0cxzfWNPGNr3aEJX4mcArC5U45MYZMQftJzKDDCTvwe4EKzI16E4lHQBgyGhwDc9sTP8kOB22WRLS8H1alkLk4QMTfoxpLmvQap0mapsbqU8HZf6jXdhRWeRJB192EEyWZPDpYSQwaIbLmISp0ORNAY3MTEHPcc8zzcUgwjZj2xKge1VhuY+Ijg78EzE167QiFxug0hANHMh1yILsUiSRkRCnTPgaGo732wSjmYg9ivt3YubhcYY8MltuY9MyuY0Cfis6/CyAcp20GUsO56YYq1GmrJZlicJjAPsVc1LQvnuKRqkf2llqS+MaIsVViu1GolCzNxxq4RzWWNPGNz0i8rf4qwamacvkZwOMcQsAcGSBNhzucGDozMwQriUHzzCGRi01Gt7PAJHNM2TcIbuqIiOnY2ZpqYZEsyMI7Zg/WNOkID77AJmL1VclAZOm47EaQYrhDfaQxUOrgDGJM3pnZ2VhJzZaseUISUs7ogNycNnqW3lIp5phvN46Lqik6SXjH7I01TVbjOzSvxiWuGMzfEgYDASdyDIcpYUVJJs8RrCQGTXI6LguCy2hHNJMOe0ZmzeNYmGXumNrYOea2ijbW9J6jsaTJanxGwq34xgiyJp4YmCPSn4ZlWAbmURZfg9DwYCUxaL0/JiR5uNiAYZLMlDUHQRhsk8yE7ZkqwVwcUPOxxtOjGkuarMZnJN5Wf5XMSZbEZXa0PRrW7hogdTnFVKVKoLAtWEkMGgGyZhHWppxmtDYc8T1Lb7EwaeeY52JvNw5ZK2+VrKrG4pPV2A3ubfVXyZxkcR6zWdujzWP/Zw4vgK67KU6UZHKWYFUxWAiVNQsT69jHmDDp0DMya8ZZ2zn2udi5uL6Kmi/7+gyNpZusxp+Ia00Iy0jSOi4Lzkizctt87X39OLiLEUNnZpZgJTFo5M1aSs7eCT+bs29Oy7yCzPiImPag3mnvtEfYxT9GNdY0WY0vlspyz+uWxBMDZzg5ZuznB0IqjaepJpcCgYrBQqiseRh7pn0SVv1VMobeYh7LOY2Y8sxNOtin4qpvGtF4fMIae+2EStVfpZpvfLRnZEfZHO3ZL7F6DSDKmC5YSQwa8WUtJ4B3ws/m6quSMfQW80g7xXy7cWCdixXfNKLx+KQfjneMUs7EBSS2Jp8YdU++YYyBQizh6kuA+b0NQBKDRoiseQh7pn1v1vt21Ddd1bQnRvWo3lIHfuCLgxSqyUjVJicwoxPlIY52xwf+5l2AJsiNxk0nF8+En83ZN6d5kS7c3tE+FeW0YRKqzSSJxjjlWuEPljCQEhl8Ygj77BtqHR/CMzIQinjYie+4hZcWQEigYrDMFjA7yLNX8qg9Z5He2H6WeTZ2PnI+Z80uUkVXyTC3erQPGKQf3cRYhnEEew876QB3/JnXzwDNfFFkBnJi3U0OMkJQXAgN4iynUE8yHxB7u3HIKhXmOqUa85mWB3McIdjqq5KxkKWblOAzcdQeduI7/r4Kq4E+DYyZkhIdNEwTPjYHH4lBU47eUsnFN0aMrRI7WdEhcgIylbfJeZjB1IzgbKLdw/k6LnNPR9kNG0P2rcYOuQe8jhNfehcwIh9QVFhePU3nZyOJ44DBqlkaaS4O0Lm81Vclo28sPlBfI2fisVwHcZL/sEc7qFKOph/Jn33Q8jUAwLTNDvHspEs0kwx3s8yceRjGnlx8xh3ON0Y11oMG0xNLXBPNlTIk8XhQ9UeTy8Q2GQdQyNbhgs/4HDPwAUN+vwaAPjs9sxM/kQCkvM0xT8fORaXBsDSpFd4xe7D6IFlw8JkptVO8ZO+4LHCGk2Nm/Lc96cg9wRtyztwHsPhKUqVDdIwhc1PYswmr2Ke8k53SfPOVBdZusoLPSLzNvqqp1HFZYEWaxdswCW5Lwhz3gNdrGPiIl74JH3vPABW/6QzAXsZUIGxzGsf4TpAZb86x1bzIMo2Y9kh89VfJmHtLPVIHPgvTasYItfqgexAJ4whGzL6uAxFiO+7gYzLaJUzvhwVfdzMaWUPnBRBO8wawXKm4alRplCKCejbzzkdOx8V6elRvOWiwrB7jHTAQhKxp0GuUxUVLlefigArZOv7gM0LHDHxgI79AxG9wQ9N/jWEAOgOESW9K0XQWZtljK74xYmyV6Lk4IA6OHaOaOOs5J218bIu7qaWocYnL4g7gnD3iQ2zHHXyWKmHEj300x9O8MWQMaTGA4v8/GLYQ6Pgi2jsAAAAASUVORK5CYII=",Eg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAnCAYAAACMo1E1AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE3SURBVHgB7ZdtbcMwEIbfDEEhBEIhbAwGwUOyMCiFQhiDlUHHwINQBtez+qFWipvz6w+1kh/p5B/JvXlkKckZ6HQ6r8GwdIOIrHUJ9T8Mww4ZaNZKl0+tg2b9IAcN28g9XmsEgfZ9l8oKYU7mSQ6dEbtmgUEbfyWOtwo+ELuwRioLciZBg1jgHalo02QI9jFBo1joXyGV0KS1Nz5gJMQCDiyMYBMxUnAjNhxKkSDYVqywoEMtMgUdakMKOrTiLOiNYhNaIvbPhUjOD76yWDtBUqy+YKZYPcEEMW+8Z0QJEsTCcEoPC1XFbnrqC0p8TI+KEYJ7MMjyJDwrRghGx/Q38Hzp8W4bu6jXDrp8aP3hMdQkPDE7NpOztIP0mO5zxAyCE1i0eZTTi7HT2gpzUrrPK5bV6XSeiSNPs80hxEV9awAAAABJRU5ErkJggg==",$w="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAAdCAYAAAD7En+mAAAACXBIWXMAABCcAAAQnAEmzTo0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK1SURBVHgB1ZmBddowEIbPLFA2qEagE2AmKBuETBA6AWwQOgHNBE0mgE4AnUDuBPUGf3WWnMqOZJ8wJPC9dxgL3UknS6ezyEgIgNxcvhrhqzIypo/jaKQw8mJkn2VZQUMxDq6M/MV1szWi6BSM4sSIxm2xSnXyAbfLAYGnmwWc5FFZ021TGPli1m5ZFzQchQ04O5LBAYEN5fQ+lK5N5aQPDlKzN6X8uCFbk9qfGgl6Q1i3+roW6i1Djj4KlRcB3QUuh6YAkA0u7xbVNjiqn4q5LEnGMVC2p8vxO1L+i/phJyu/Rq4gJzklvS+fI+VTkvHAH7Wjd3S98H7e2B/dvZKp09jUzzOniEglfnpP1Jyuz37Ydvo8ReZ+58imi4rS2ZNN7djmnWeDywt3n3v9++6u01YffL7VGVAwCODUtIpeo3Fq6rgO2NDS/pn7TaTutto7oz8OpKPhGCpgYxmpuwzUHUfq7kYd/fxDw0kKXJG3kFJqu72kfEYdhqRRrYskG7CZmdTGVKj/+uO4Yyqt4DbcxA6zTWkC4qONTBJsrHwnEV/PmzrqcvahOvpeeN9n7SkGu7b8HFnRMOpZNvbav6f/UXdLzTZK6j4IuK8+kRY0VNsKbHS8JCrQXkpEV3Uweqbr5aU9g9z9nmRURy0jp7hPUFTCshBF5jDfZ0KdT5Fyaex4atwhvp+2eWxbgj2zkTBv6e0EOjxFVUtPulQOQdchX6tb2IGZQ+7kJtCedK1p2FdBbnMJ+SuaijnKIf2A86MR2aZwuXfZ7tdOnP/EQKMnZ4b8xEDKmiTAPtkfGM5PCBMO2GWgMQyernNKBXZaaaTDDS4oEdjZdOoA86AqGoJzeCdojOtwsBj0d4XnsEb/gHIAzftsZpSAc2DipHaG06+C7MZ89mMW2NxXuTZrCiNH095RaucfEDTBOCTCWakAAAAASUVORK5CYII=";function e4({playerState:ut,key:lt,style:ht,noDefault:_t,defaultImage:At}){var qt=ut?ut.getState("profile"):!1,Zt=ut?ut.getState("__gamepad"):!1;return ht=ht||{},qt&&(ht.borderColor=qt.color),qt&&qt.photo?(ht.backgroundImage=`url(${qt.photo})`,ht.backgroundSize="contain"):_t||(At==="color"&&qt?ht.background=qt.color:ht.backgroundImage=`url(${At||Sg})`,ht.backgroundSize=At?"cover":"contain"),r$1.createElement("div",{key:lt||(ut?ut.id:""),className:"avatar-holder",style:ht},Zt&&r$1.createElement("div",{className:"badge-gamepad",style:{backgroundImage:`url(${$w})`}}))}function kg({centered:ut,bottom:lt,showNames:ht,showScores:_t,onPlayerKick:At,showEmptySlots:qt=0,mobileMode:Zt,initialScore:cr=0,style:Gr={}}){const Zr=Va(!0),xn=Mu(),On=qt-Zr.length;return r$1.createElement("div",{className:"player-avatar-strip"+(Zt?" mobile":""),style:Gr},Zr.map(ss=>{var ls,cs,wl,ep;const Al=p3()?!1:ss.id===Hn().id,np=((ls=ss.getState("profile"))==null?void 0:ls.points)||((cs=ss.getState("profile"))==null?void 0:cs.score)||0;return r$1.createElement("div",{key:ss.id,className:"player-score-container",style:{backgroundColor:(wl=ss.getState("profile"))==null?void 0:wl.color}},r$1.createElement(e4,{playerState:ss}),Zt&&!Al&&xn&&r$1.createElement("span",{className:"player-remove",onClick:()=>At(ss)},r$1.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r$1.createElement("circle",{cx:"10.2441",cy:"9.75",r:"9.75",fill:"white"}),r$1.createElement("rect",{x:"15.2549",y:"7.75",width:"4",height:"10",rx:"2",transform:"rotate(90 15.2549 7.75)",fill:"black"}))),ht&&r$1.createElement("span",null,(ep=ss.getState("profile"))==null?void 0:ep.name),_t&&r$1.createElement("span",null,cr+np))}),On>0&&[...Array(On)].map((ss,ls)=>r$1.createElement("div",{key:"empty"+ls,className:"player-score-container",style:{backgroundColor:"#000000"}},r$1.createElement("div",{className:"avatar-holder empty"}))))}function An(ut,lt){if(ut==null)return{};var ht={},_t=Object.keys(ut),At,qt;for(qt=0;qt<_t.length;qt++)At=_t[qt],!(lt.indexOf(At)>=0)&&(ht[At]=ut[At]);return ht}function ke(){return ke=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},ke.apply(this,arguments)}function Cg(ut){var lt,ht,_t="";if(typeof ut=="string"||typeof ut=="number")_t+=ut;else if(typeof ut=="object")if(Array.isArray(ut))for(lt=0;lt<ut.length;lt++)ut[lt]&&(ht=Cg(ut[lt]))&&(_t&&(_t+=" "),_t+=ht);else for(lt in ut)ut[lt]&&(_t&&(_t+=" "),_t+=lt);return _t}function uo(){for(var ut,lt,ht=0,_t="";ht<arguments.length;)(ut=arguments[ht++])&&(lt=Cg(ut))&&(_t&&(_t+=" "),_t+=lt);return _t}function nf(ut,lt){return()=>null}function fn(){return fn=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},fn.apply(this,arguments)}function ui(ut){return ut!==null&&typeof ut=="object"&&ut.constructor===Object}function Tg(ut){if(!ui(ut))return ut;const lt={};return Object.keys(ut).forEach(ht=>{lt[ht]=Tg(ut[ht])}),lt}function qr(ut,lt,ht={clone:!0}){const _t=ht.clone?fn({},ut):ut;return ui(ut)&&ui(lt)&&Object.keys(lt).forEach(At=>{At!=="__proto__"&&(ui(lt[At])&&At in ut&&ui(ut[At])?_t[At]=qr(ut[At],lt[At],ht):ht.clone?_t[At]=ui(lt[At])?Tg(lt[At]):lt[At]:_t[At]=lt[At])}),_t}const Ig=nf(F.element);Ig.isRequired=nf(F.element.isRequired);function Ti(ut){let lt="https://mui.com/production-error/?code="+ut;for(let ht=1;ht<arguments.length;ht+=1)lt+="&args[]="+encodeURIComponent(arguments[ht]);return"Minified MUI error #"+ut+"; visit "+lt+" for the full message."}var Sa={},i4={get exports(){return Sa},set exports(ut){Sa=ut}},Xe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function o4(){if(ap)return Xe;ap=1;var ut=Symbol.for("react.element"),lt=Symbol.for("react.portal"),ht=Symbol.for("react.fragment"),_t=Symbol.for("react.strict_mode"),At=Symbol.for("react.profiler"),qt=Symbol.for("react.provider"),Zt=Symbol.for("react.context"),cr=Symbol.for("react.server_context"),Gr=Symbol.for("react.forward_ref"),Zr=Symbol.for("react.suspense"),xn=Symbol.for("react.suspense_list"),On=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),ls=Symbol.for("react.offscreen"),cs;cs=Symbol.for("react.module.reference");function wl(ep){if(typeof ep=="object"&&ep!==null){var Al=ep.$$typeof;switch(Al){case ut:switch(ep=ep.type,ep){case ht:case At:case _t:case Zr:case xn:return ep;default:switch(ep=ep&&ep.$$typeof,ep){case cr:case Zt:case Gr:case ss:case On:case qt:return ep;default:return Al}}case lt:return Al}}}return Xe.ContextConsumer=Zt,Xe.ContextProvider=qt,Xe.Element=ut,Xe.ForwardRef=Gr,Xe.Fragment=ht,Xe.Lazy=ss,Xe.Memo=On,Xe.Portal=lt,Xe.Profiler=At,Xe.StrictMode=_t,Xe.Suspense=Zr,Xe.SuspenseList=xn,Xe.isAsyncMode=function(){return!1},Xe.isConcurrentMode=function(){return!1},Xe.isContextConsumer=function(ep){return wl(ep)===Zt},Xe.isContextProvider=function(ep){return wl(ep)===qt},Xe.isElement=function(ep){return typeof ep=="object"&&ep!==null&&ep.$$typeof===ut},Xe.isForwardRef=function(ep){return wl(ep)===Gr},Xe.isFragment=function(ep){return wl(ep)===ht},Xe.isLazy=function(ep){return wl(ep)===ss},Xe.isMemo=function(ep){return wl(ep)===On},Xe.isPortal=function(ep){return wl(ep)===lt},Xe.isProfiler=function(ep){return wl(ep)===At},Xe.isStrictMode=function(ep){return wl(ep)===_t},Xe.isSuspense=function(ep){return wl(ep)===Zr},Xe.isSuspenseList=function(ep){return wl(ep)===xn},Xe.isValidElementType=function(ep){return typeof ep=="string"||typeof ep=="function"||ep===ht||ep===At||ep===_t||ep===Zr||ep===xn||ep===ls||typeof ep=="object"&&ep!==null&&(ep.$$typeof===ss||ep.$$typeof===On||ep.$$typeof===qt||ep.$$typeof===Zt||ep.$$typeof===Gr||ep.$$typeof===cs||ep.getModuleId!==void 0)},Xe.typeOf=wl,Xe}(function(ut){ut.exports=o4()})(i4);F.oneOfType([F.func,F.object]);function or(ut){if(typeof ut!="string")throw new Error(Ti(7));return ut.charAt(0).toUpperCase()+ut.slice(1)}function f4(...ut){return ut.reduce((lt,ht)=>ht==null?lt:function(..._t){lt.apply(this,_t),ht.apply(this,_t)},()=>{})}function d4(ut,lt=166){let ht;function _t(...At){const qt=()=>{ut.apply(this,At)};clearTimeout(ht),ht=setTimeout(qt,lt)}return _t.clear=()=>{clearTimeout(ht)},_t}function h4(ut,lt){return()=>null}function p4(ut,lt){return reactExports.isValidElement(ut)&&lt.indexOf(ut.type.muiName)!==-1}function Ea(ut){return ut&&ut.ownerDocument||document}function g4(ut){return Ea(ut).defaultView||window}function m4(ut,lt){return()=>null}function ka(ut,lt){typeof ut=="function"?ut(lt):ut&&(ut.current=lt)}const y4=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,Oi=y4;let up=0;function b4(ut){const[lt,ht]=reactExports.useState(ut),_t=ut||lt;return reactExports.useEffect(()=>{lt==null&&(up+=1,ht(`mui-${up}`))},[lt]),_t}const fp=reactExports.useId;function Mg(ut){if(fp!==void 0){const lt=fp();return ut??lt}return b4(ut)}function v4(ut,lt,ht,_t,At){return null}function Ng({controlled:ut,default:lt,name:ht,state:_t="value"}){const{current:At}=reactExports.useRef(ut!==void 0),[qt,Zt]=reactExports.useState(lt),cr=At?ut:qt,Gr=reactExports.useCallback(Zr=>{At||Zt(Zr)},[]);return[cr,Gr]}function Lg(ut){const lt=reactExports.useRef(ut);return Oi(()=>{lt.current=ut}),reactExports.useCallback((...ht)=>(0,lt.current)(...ht),[])}function Xn(...ut){return reactExports.useMemo(()=>ut.every(lt=>lt==null)?null:lt=>{ut.forEach(ht=>{ka(ht,lt)})},ut)}let Za=!0,ru=!1,dp;const A4={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function w4(ut){const{type:lt,tagName:ht}=ut;return!!(ht==="INPUT"&&A4[lt]&&!ut.readOnly||ht==="TEXTAREA"&&!ut.readOnly||ut.isContentEditable)}function x4(ut){ut.metaKey||ut.altKey||ut.ctrlKey||(Za=!0)}function gc(){Za=!1}function _4(){this.visibilityState==="hidden"&&ru&&(Za=!0)}function S4(ut){ut.addEventListener("keydown",x4,!0),ut.addEventListener("mousedown",gc,!0),ut.addEventListener("pointerdown",gc,!0),ut.addEventListener("touchstart",gc,!0),ut.addEventListener("visibilitychange",_4,!0)}function E4(ut){const{target:lt}=ut;try{return lt.matches(":focus-visible")}catch{}return Za||w4(lt)}function Bg(){const ut=reactExports.useCallback(At=>{At!=null&&S4(At.ownerDocument)},[]),lt=reactExports.useRef(!1);function ht(){return lt.current?(ru=!0,window.clearTimeout(dp),dp=window.setTimeout(()=>{ru=!1},100),lt.current=!1,!0):!1}function _t(At){return E4(At)?(lt.current=!0,!0):!1}return{isFocusVisibleRef:lt,onFocus:_t,onBlur:ht,ref:ut}}function Fg(ut,lt){const ht=fn({},lt);return Object.keys(ut).forEach(_t=>{if(_t.toString().match(/^(components|slots)$/))ht[_t]=fn({},ut[_t],ht[_t]);else if(_t.toString().match(/^(componentsProps|slotProps)$/)){const At=ut[_t]||{},qt=lt[_t];ht[_t]={},!qt||!Object.keys(qt)?ht[_t]=At:!At||!Object.keys(At)?ht[_t]=qt:(ht[_t]=fn({},qt),Object.keys(At).forEach(Zt=>{ht[_t][Zt]=Fg(At[Zt],qt[Zt])}))}else ht[_t]===void 0&&(ht[_t]=ut[_t])}),ht}function of(ut,lt,ht=void 0){const _t={};return Object.keys(ut).forEach(At=>{_t[At]=ut[At].reduce((qt,Zt)=>{if(Zt){const cr=lt(Zt);cr!==""&&qt.push(cr),ht&&ht[Zt]&&qt.push(ht[Zt])}return qt},[]).join(" ")}),_t}const hp=ut=>ut,k4=()=>{let ut=hp;return{configure(lt){ut=lt},generate(lt){return ut(lt)},reset(){ut=hp}}},C4=k4(),jg=C4,T4={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Zo(ut,lt,ht="Mui"){const _t=T4[lt];return _t?`${ht}-${_t}`:`${jg.generate(ut)}-${lt}`}function sf(ut,lt,ht="Mui"){const _t={};return lt.forEach(At=>{_t[At]=Zo(ut,At,ht)}),_t}function Nt(){return Nt=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},Nt.apply(this,arguments)}function O4(ut){return typeof ut=="string"}function fo(ut,lt,ht){return ut===void 0||O4(ut)?lt:Nt({},lt,{ownerState:Nt({},lt.ownerState,ht)})}var Ca={},I4={get exports(){return Ca},set exports(ut){Ca=ut}},ri={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function P4(){if(pp)return ri;pp=1,tf();var ut=r$1,lt=60103;if(ri.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var ht=Symbol.for;lt=ht("react.element"),ri.Fragment=ht("react.fragment")}var _t=ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,At=Object.prototype.hasOwnProperty,qt={key:!0,ref:!0,__self:!0,__source:!0};function Zt(cr,Gr,Zr){var xn,On={},ss=null,ls=null;Zr!==void 0&&(ss=""+Zr),Gr.key!==void 0&&(ss=""+Gr.key),Gr.ref!==void 0&&(ls=Gr.ref);for(xn in Gr)At.call(Gr,xn)&&!qt.hasOwnProperty(xn)&&(On[xn]=Gr[xn]);if(cr&&cr.defaultProps)for(xn in Gr=cr.defaultProps,Gr)On[xn]===void 0&&(On[xn]=Gr[xn]);return{$$typeof:lt,type:cr,key:ss,ref:ls,props:On,_owner:_t.current}}return ri.jsx=Zt,ri.jsxs=Zt,ri}var mp;function Wg(){return mp||(mp=1,function(ut){ut.exports=P4()}(I4)),Ca}var Lt=Wg();const D4={disableDefaultClasses:!1},M4=reactExports.createContext(D4);function N4(ut){const{disableDefaultClasses:lt}=reactExports.useContext(M4);return ht=>lt?"":ut(ht)}function L4(ut,lt=[]){if(ut===void 0)return{};const ht={};return Object.keys(ut).filter(_t=>_t.match(/^on[A-Z]/)&&typeof ut[_t]=="function"&&!lt.includes(_t)).forEach(_t=>{ht[_t]=ut[_t]}),ht}function B4(ut,lt){return typeof ut=="function"?ut(lt):ut}function af(ut,lt){if(ut==null)return{};var ht={},_t=Object.keys(ut),At,qt;for(qt=0;qt<_t.length;qt++)At=_t[qt],!(lt.indexOf(At)>=0)&&(ht[At]=ut[At]);return ht}function Ug(ut){var lt,ht,_t="";if(typeof ut=="string"||typeof ut=="number")_t+=ut;else if(typeof ut=="object")if(Array.isArray(ut))for(lt=0;lt<ut.length;lt++)ut[lt]&&(ht=Ug(ut[lt]))&&(_t&&(_t+=" "),_t+=ht);else for(lt in ut)ut[lt]&&(_t&&(_t+=" "),_t+=lt);return _t}function yp(){for(var ut,lt,ht=0,_t="";ht<arguments.length;)(ut=arguments[ht++])&&(lt=Ug(ut))&&(_t&&(_t+=" "),_t+=lt);return _t}function bp(ut){if(ut===void 0)return{};const lt={};return Object.keys(ut).filter(ht=>!(ht.match(/^on[A-Z]/)&&typeof ut[ht]=="function")).forEach(ht=>{lt[ht]=ut[ht]}),lt}function F4(ut){const{getSlotProps:lt,additionalProps:ht,externalSlotProps:_t,externalForwardedProps:At,className:qt}=ut;if(!lt){const ls=yp(At==null?void 0:At.className,_t==null?void 0:_t.className,qt,ht==null?void 0:ht.className),cs=Nt({},ht==null?void 0:ht.style,At==null?void 0:At.style,_t==null?void 0:_t.style),wl=Nt({},ht,At,_t);return ls.length>0&&(wl.className=ls),Object.keys(cs).length>0&&(wl.style=cs),{props:wl,internalRef:void 0}}const Zt=L4(Nt({},At,_t)),cr=bp(_t),Gr=bp(At),Zr=lt(Zt),xn=yp(Zr==null?void 0:Zr.className,ht==null?void 0:ht.className,qt,At==null?void 0:At.className,_t==null?void 0:_t.className),On=Nt({},Zr==null?void 0:Zr.style,ht==null?void 0:ht.style,At==null?void 0:At.style,_t==null?void 0:_t.style),ss=Nt({},Zr,ht,Gr,cr);return xn.length>0&&(ss.className=xn),Object.keys(On).length>0&&(ss.style=On),{props:ss,internalRef:Zr.ref}}const j4=["elementType","externalSlotProps","ownerState"];function W4(ut){var lt;const{elementType:ht,externalSlotProps:_t,ownerState:At}=ut,qt=af(ut,j4),Zt=B4(_t,At),{props:cr,internalRef:Gr}=F4(Nt({},qt,{externalSlotProps:Zt})),Zr=Xn(Gr,Zt==null?void 0:Zt.ref,(lt=ut.additionalProps)==null?void 0:lt.ref);return fo(ht,Nt({},cr,{ref:Zr}),At)}var Ut="top",sr="bottom",ar="right",zt="left",$a="auto",$o=[Ut,sr,ar,zt],Ii="start",jo="end",U4="clippingParents",zg="viewport",Zi="popper",z4="reference",vp=$o.reduce(function(ut,lt){return ut.concat([lt+"-"+Ii,lt+"-"+jo])},[]),Vg=[].concat($o,[$a]).reduce(function(ut,lt){return ut.concat([lt,lt+"-"+Ii,lt+"-"+jo])},[]),V4="beforeRead",q4="read",H4="afterRead",Y4="beforeMain",K4="main",X4="afterMain",J4="beforeWrite",Q4="write",G4="afterWrite",nu=[V4,q4,H4,Y4,K4,X4,J4,Q4,G4];function Or(ut){return ut?(ut.nodeName||"").toLowerCase():null}function Qt(ut){if(ut==null)return window;if(ut.toString()!=="[object Window]"){var lt=ut.ownerDocument;return lt&&lt.defaultView||window}return ut}function Jn(ut){var lt=Qt(ut).Element;return ut instanceof lt||ut instanceof Element}function Xt(ut){var lt=Qt(ut).HTMLElement;return ut instanceof lt||ut instanceof HTMLElement}function lf(ut){if(typeof ShadowRoot>"u")return!1;var lt=Qt(ut).ShadowRoot;return ut instanceof lt||ut instanceof ShadowRoot}function Z4(ut){var lt=ut.state;Object.keys(lt.elements).forEach(function(ht){var _t=lt.styles[ht]||{},At=lt.attributes[ht]||{},qt=lt.elements[ht];!Xt(qt)||!Or(qt)||(Object.assign(qt.style,_t),Object.keys(At).forEach(function(Zt){var cr=At[Zt];cr===!1?qt.removeAttribute(Zt):qt.setAttribute(Zt,cr===!0?"":cr)}))})}function $4(ut){var lt=ut.state,ht={popper:{position:lt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(lt.elements.popper.style,ht.popper),lt.styles=ht,lt.elements.arrow&&Object.assign(lt.elements.arrow.style,ht.arrow),function(){Object.keys(lt.elements).forEach(function(_t){var At=lt.elements[_t],qt=lt.attributes[_t]||{},Zt=Object.keys(lt.styles.hasOwnProperty(_t)?lt.styles[_t]:ht[_t]),cr=Zt.reduce(function(Gr,Zr){return Gr[Zr]="",Gr},{});!Xt(At)||!Or(At)||(Object.assign(At.style,cr),Object.keys(qt).forEach(function(Gr){At.removeAttribute(Gr)}))})}}const ex={name:"applyStyles",enabled:!0,phase:"write",fn:Z4,effect:$4,requires:["computeStyles"]};function yr(ut){return ut.split("-")[0]}var Wn=Math.max,Ta=Math.min,Pi=Math.round;function iu(){var ut=navigator.userAgentData;return ut!=null&&ut.brands&&Array.isArray(ut.brands)?ut.brands.map(function(lt){return lt.brand+"/"+lt.version}).join(" "):navigator.userAgent}function qg(){return!/^((?!chrome|android).)*safari/i.test(iu())}function Ri(ut,lt,ht){lt===void 0&&(lt=!1),ht===void 0&&(ht=!1);var _t=ut.getBoundingClientRect(),At=1,qt=1;lt&&Xt(ut)&&(At=ut.offsetWidth>0&&Pi(_t.width)/ut.offsetWidth||1,qt=ut.offsetHeight>0&&Pi(_t.height)/ut.offsetHeight||1);var Zt=Jn(ut)?Qt(ut):window,cr=Zt.visualViewport,Gr=!qg()&&ht,Zr=(_t.left+(Gr&&cr?cr.offsetLeft:0))/At,xn=(_t.top+(Gr&&cr?cr.offsetTop:0))/qt,On=_t.width/At,ss=_t.height/qt;return{width:On,height:ss,top:xn,right:Zr+On,bottom:xn+ss,left:Zr,x:Zr,y:xn}}function cf(ut){var lt=Ri(ut),ht=ut.offsetWidth,_t=ut.offsetHeight;return Math.abs(lt.width-ht)<=1&&(ht=lt.width),Math.abs(lt.height-_t)<=1&&(_t=lt.height),{x:ut.offsetLeft,y:ut.offsetTop,width:ht,height:_t}}function Hg(ut,lt){var ht=lt.getRootNode&&lt.getRootNode();if(ut.contains(lt))return!0;if(ht&&lf(ht)){var _t=lt;do{if(_t&&ut.isSameNode(_t))return!0;_t=_t.parentNode||_t.host}while(_t)}return!1}function br(ut){return Qt(ut).getComputedStyle(ut)}function tx(ut){return["table","td","th"].indexOf(Or(ut))>=0}function wn(ut){return((Jn(ut)?ut.ownerDocument:ut.document)||window.document).documentElement}function el(ut){return Or(ut)==="html"?ut:ut.assignedSlot||ut.parentNode||(lf(ut)?ut.host:null)||wn(ut)}function Ap(ut){return!Xt(ut)||br(ut).position==="fixed"?null:ut.offsetParent}function rx(ut){var lt=/firefox/i.test(iu()),ht=/Trident/i.test(iu());if(ht&&Xt(ut)){var _t=br(ut);if(_t.position==="fixed")return null}var At=el(ut);for(lf(At)&&(At=At.host);Xt(At)&&["html","body"].indexOf(Or(At))<0;){var qt=br(At);if(qt.transform!=="none"||qt.perspective!=="none"||qt.contain==="paint"||["transform","perspective"].indexOf(qt.willChange)!==-1||lt&&qt.willChange==="filter"||lt&&qt.filter&&qt.filter!=="none")return At;At=At.parentNode}return null}function es(ut){for(var lt=Qt(ut),ht=Ap(ut);ht&&tx(ht)&&br(ht).position==="static";)ht=Ap(ht);return ht&&(Or(ht)==="html"||Or(ht)==="body"&&br(ht).position==="static")?lt:ht||rx(ut)||lt}function uf(ut){return["top","bottom"].indexOf(ut)>=0?"x":"y"}function wo(ut,lt,ht){return Wn(ut,Ta(lt,ht))}function nx(ut,lt,ht){var _t=wo(ut,lt,ht);return _t>ht?ht:_t}function Yg(){return{top:0,right:0,bottom:0,left:0}}function Kg(ut){return Object.assign({},Yg(),ut)}function Xg(ut,lt){return lt.reduce(function(ht,_t){return ht[_t]=ut,ht},{})}var ix=function(ut,lt){return ut=typeof ut=="function"?ut(Object.assign({},lt.rects,{placement:lt.placement})):ut,Kg(typeof ut!="number"?ut:Xg(ut,$o))};function ox(ut){var lt,ht=ut.state,_t=ut.name,At=ut.options,qt=ht.elements.arrow,Zt=ht.modifiersData.popperOffsets,cr=yr(ht.placement),Gr=uf(cr),Zr=[zt,ar].indexOf(cr)>=0,xn=Zr?"height":"width";if(!(!qt||!Zt)){var On=ix(At.padding,ht),ss=cf(qt),ls=Gr==="y"?Ut:zt,cs=Gr==="y"?sr:ar,wl=ht.rects.reference[xn]+ht.rects.reference[Gr]-Zt[Gr]-ht.rects.popper[xn],ep=Zt[Gr]-ht.rects.reference[Gr],Al=es(qt),np=Al?Gr==="y"?Al.clientHeight||0:Al.clientWidth||0:0,cp=wl/2-ep/2,Cp=On[ls],Lp=np-ss[xn]-On[cs],jp=np/2-ss[xn]/2+cp,nm=wo(Cp,jp,Lp),zm=Gr;ht.modifiersData[_t]=(lt={},lt[zm]=nm,lt.centerOffset=nm-jp,lt)}}function sx(ut){var lt=ut.state,ht=ut.options,_t=ht.element,At=_t===void 0?"[data-popper-arrow]":_t;if(At!=null&&!(typeof At=="string"&&(At=lt.elements.popper.querySelector(At),!At))){if(!Hg(lt.elements.popper,At))return;lt.elements.arrow=At}}const ax={name:"arrow",enabled:!0,phase:"main",fn:ox,effect:sx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Di(ut){return ut.split("-")[1]}var lx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cx(ut,lt){var ht=ut.x,_t=ut.y,At=lt.devicePixelRatio||1;return{x:Pi(ht*At)/At||0,y:Pi(_t*At)/At||0}}function wp(ut){var lt,ht=ut.popper,_t=ut.popperRect,At=ut.placement,qt=ut.variation,Zt=ut.offsets,cr=ut.position,Gr=ut.gpuAcceleration,Zr=ut.adaptive,xn=ut.roundOffsets,On=ut.isFixed,ss=Zt.x,ls=ss===void 0?0:ss,cs=Zt.y,wl=cs===void 0?0:cs,ep=typeof xn=="function"?xn({x:ls,y:wl}):{x:ls,y:wl};ls=ep.x,wl=ep.y;var Al=Zt.hasOwnProperty("x"),np=Zt.hasOwnProperty("y"),cp=zt,Cp=Ut,Lp=window;if(Zr){var jp=es(ht),nm="clientHeight",zm="clientWidth";if(jp===Qt(ht)&&(jp=wn(ht),br(jp).position!=="static"&&cr==="absolute"&&(nm="scrollHeight",zm="scrollWidth")),jp=jp,At===Ut||(At===zt||At===ar)&&qt===jo){Cp=sr;var i1=On&&jp===Lp&&Lp.visualViewport?Lp.visualViewport.height:jp[nm];wl-=i1-_t.height,wl*=Gr?1:-1}if(At===zt||(At===Ut||At===sr)&&qt===jo){cp=ar;var d3=On&&jp===Lp&&Lp.visualViewport?Lp.visualViewport.width:jp[zm];ls-=d3-_t.width,ls*=Gr?1:-1}}var op=Object.assign({position:cr},Zr&&lx),Sn=xn===!0?cx({x:ls,y:wl},Qt(ht)):{x:ls,y:wl};if(ls=Sn.x,wl=Sn.y,Gr){var Fo;return Object.assign({},op,(Fo={},Fo[Cp]=np?"0":"",Fo[cp]=Al?"0":"",Fo.transform=(Lp.devicePixelRatio||1)<=1?"translate("+ls+"px, "+wl+"px)":"translate3d("+ls+"px, "+wl+"px, 0)",Fo))}return Object.assign({},op,(lt={},lt[Cp]=np?wl+"px":"",lt[cp]=Al?ls+"px":"",lt.transform="",lt))}function ux(ut){var lt=ut.state,ht=ut.options,_t=ht.gpuAcceleration,At=_t===void 0?!0:_t,qt=ht.adaptive,Zt=qt===void 0?!0:qt,cr=ht.roundOffsets,Gr=cr===void 0?!0:cr,Zr={placement:yr(lt.placement),variation:Di(lt.placement),popper:lt.elements.popper,popperRect:lt.rects.popper,gpuAcceleration:At,isFixed:lt.options.strategy==="fixed"};lt.modifiersData.popperOffsets!=null&&(lt.styles.popper=Object.assign({},lt.styles.popper,wp(Object.assign({},Zr,{offsets:lt.modifiersData.popperOffsets,position:lt.options.strategy,adaptive:Zt,roundOffsets:Gr})))),lt.modifiersData.arrow!=null&&(lt.styles.arrow=Object.assign({},lt.styles.arrow,wp(Object.assign({},Zr,{offsets:lt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Gr})))),lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-placement":lt.placement})}const fx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ux,data:{}};var Rs={passive:!0};function dx(ut){var lt=ut.state,ht=ut.instance,_t=ut.options,At=_t.scroll,qt=At===void 0?!0:At,Zt=_t.resize,cr=Zt===void 0?!0:Zt,Gr=Qt(lt.elements.popper),Zr=[].concat(lt.scrollParents.reference,lt.scrollParents.popper);return qt&&Zr.forEach(function(xn){xn.addEventListener("scroll",ht.update,Rs)}),cr&&Gr.addEventListener("resize",ht.update,Rs),function(){qt&&Zr.forEach(function(xn){xn.removeEventListener("scroll",ht.update,Rs)}),cr&&Gr.removeEventListener("resize",ht.update,Rs)}}const hx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dx,data:{}};var px$1={left:"right",right:"left",bottom:"top",top:"bottom"};function Gs(ut){return ut.replace(/left|right|bottom|top/g,function(lt){return px$1[lt]})}var gx={start:"end",end:"start"};function xp(ut){return ut.replace(/start|end/g,function(lt){return gx[lt]})}function ff(ut){var lt=Qt(ut),ht=lt.pageXOffset,_t=lt.pageYOffset;return{scrollLeft:ht,scrollTop:_t}}function df(ut){return Ri(wn(ut)).left+ff(ut).scrollLeft}function mx(ut,lt){var ht=Qt(ut),_t=wn(ut),At=ht.visualViewport,qt=_t.clientWidth,Zt=_t.clientHeight,cr=0,Gr=0;if(At){qt=At.width,Zt=At.height;var Zr=qg();(Zr||!Zr&&lt==="fixed")&&(cr=At.offsetLeft,Gr=At.offsetTop)}return{width:qt,height:Zt,x:cr+df(ut),y:Gr}}function yx(ut){var lt,ht=wn(ut),_t=ff(ut),At=(lt=ut.ownerDocument)==null?void 0:lt.body,qt=Wn(ht.scrollWidth,ht.clientWidth,At?At.scrollWidth:0,At?At.clientWidth:0),Zt=Wn(ht.scrollHeight,ht.clientHeight,At?At.scrollHeight:0,At?At.clientHeight:0),cr=-_t.scrollLeft+df(ut),Gr=-_t.scrollTop;return br(At||ht).direction==="rtl"&&(cr+=Wn(ht.clientWidth,At?At.clientWidth:0)-qt),{width:qt,height:Zt,x:cr,y:Gr}}function hf(ut){var lt=br(ut),ht=lt.overflow,_t=lt.overflowX,At=lt.overflowY;return/auto|scroll|overlay|hidden/.test(ht+At+_t)}function Jg(ut){return["html","body","#document"].indexOf(Or(ut))>=0?ut.ownerDocument.body:Xt(ut)&&hf(ut)?ut:Jg(el(ut))}function xo(ut,lt){var ht;lt===void 0&&(lt=[]);var _t=Jg(ut),At=_t===((ht=ut.ownerDocument)==null?void 0:ht.body),qt=Qt(_t),Zt=At?[qt].concat(qt.visualViewport||[],hf(_t)?_t:[]):_t,cr=lt.concat(Zt);return At?cr:cr.concat(xo(el(Zt)))}function ou(ut){return Object.assign({},ut,{left:ut.x,top:ut.y,right:ut.x+ut.width,bottom:ut.y+ut.height})}function bx(ut,lt){var ht=Ri(ut,!1,lt==="fixed");return ht.top=ht.top+ut.clientTop,ht.left=ht.left+ut.clientLeft,ht.bottom=ht.top+ut.clientHeight,ht.right=ht.left+ut.clientWidth,ht.width=ut.clientWidth,ht.height=ut.clientHeight,ht.x=ht.left,ht.y=ht.top,ht}function _p(ut,lt,ht){return lt===zg?ou(mx(ut,ht)):Jn(lt)?bx(lt,ht):ou(yx(wn(ut)))}function vx(ut){var lt=xo(el(ut)),ht=["absolute","fixed"].indexOf(br(ut).position)>=0,_t=ht&&Xt(ut)?es(ut):ut;return Jn(_t)?lt.filter(function(At){return Jn(At)&&Hg(At,_t)&&Or(At)!=="body"}):[]}function Ax(ut,lt,ht,_t){var At=lt==="clippingParents"?vx(ut):[].concat(lt),qt=[].concat(At,[ht]),Zt=qt[0],cr=qt.reduce(function(Gr,Zr){var xn=_p(ut,Zr,_t);return Gr.top=Wn(xn.top,Gr.top),Gr.right=Ta(xn.right,Gr.right),Gr.bottom=Ta(xn.bottom,Gr.bottom),Gr.left=Wn(xn.left,Gr.left),Gr},_p(ut,Zt,_t));return cr.width=cr.right-cr.left,cr.height=cr.bottom-cr.top,cr.x=cr.left,cr.y=cr.top,cr}function Qg(ut){var lt=ut.reference,ht=ut.element,_t=ut.placement,At=_t?yr(_t):null,qt=_t?Di(_t):null,Zt=lt.x+lt.width/2-ht.width/2,cr=lt.y+lt.height/2-ht.height/2,Gr;switch(At){case Ut:Gr={x:Zt,y:lt.y-ht.height};break;case sr:Gr={x:Zt,y:lt.y+lt.height};break;case ar:Gr={x:lt.x+lt.width,y:cr};break;case zt:Gr={x:lt.x-ht.width,y:cr};break;default:Gr={x:lt.x,y:lt.y}}var Zr=At?uf(At):null;if(Zr!=null){var xn=Zr==="y"?"height":"width";switch(qt){case Ii:Gr[Zr]=Gr[Zr]-(lt[xn]/2-ht[xn]/2);break;case jo:Gr[Zr]=Gr[Zr]+(lt[xn]/2-ht[xn]/2);break}}return Gr}function Wo(ut,lt){lt===void 0&&(lt={});var ht=lt,_t=ht.placement,At=_t===void 0?ut.placement:_t,qt=ht.strategy,Zt=qt===void 0?ut.strategy:qt,cr=ht.boundary,Gr=cr===void 0?U4:cr,Zr=ht.rootBoundary,xn=Zr===void 0?zg:Zr,On=ht.elementContext,ss=On===void 0?Zi:On,ls=ht.altBoundary,cs=ls===void 0?!1:ls,wl=ht.padding,ep=wl===void 0?0:wl,Al=Kg(typeof ep!="number"?ep:Xg(ep,$o)),np=ss===Zi?z4:Zi,cp=ut.rects.popper,Cp=ut.elements[cs?np:ss],Lp=Ax(Jn(Cp)?Cp:Cp.contextElement||wn(ut.elements.popper),Gr,xn,Zt),jp=Ri(ut.elements.reference),nm=Qg({reference:jp,element:cp,strategy:"absolute",placement:At}),zm=ou(Object.assign({},cp,nm)),i1=ss===Zi?zm:jp,d3={top:Lp.top-i1.top+Al.top,bottom:i1.bottom-Lp.bottom+Al.bottom,left:Lp.left-i1.left+Al.left,right:i1.right-Lp.right+Al.right},op=ut.modifiersData.offset;if(ss===Zi&&op){var Sn=op[At];Object.keys(d3).forEach(function(Fo){var as=[ar,sr].indexOf(Fo)>=0?1:-1,us=[Ut,sr].indexOf(Fo)>=0?"y":"x";d3[Fo]+=Sn[us]*as})}return d3}function wx(ut,lt){lt===void 0&&(lt={});var ht=lt,_t=ht.placement,At=ht.boundary,qt=ht.rootBoundary,Zt=ht.padding,cr=ht.flipVariations,Gr=ht.allowedAutoPlacements,Zr=Gr===void 0?Vg:Gr,xn=Di(_t),On=xn?cr?vp:vp.filter(function(cs){return Di(cs)===xn}):$o,ss=On.filter(function(cs){return Zr.indexOf(cs)>=0});ss.length===0&&(ss=On);var ls=ss.reduce(function(cs,wl){return cs[wl]=Wo(ut,{placement:wl,boundary:At,rootBoundary:qt,padding:Zt})[yr(wl)],cs},{});return Object.keys(ls).sort(function(cs,wl){return ls[cs]-ls[wl]})}function xx(ut){if(yr(ut)===$a)return[];var lt=Gs(ut);return[xp(ut),lt,xp(lt)]}function _x$1(ut){var lt=ut.state,ht=ut.options,_t=ut.name;if(!lt.modifiersData[_t]._skip){for(var At=ht.mainAxis,qt=At===void 0?!0:At,Zt=ht.altAxis,cr=Zt===void 0?!0:Zt,Gr=ht.fallbackPlacements,Zr=ht.padding,xn=ht.boundary,On=ht.rootBoundary,ss=ht.altBoundary,ls=ht.flipVariations,cs=ls===void 0?!0:ls,wl=ht.allowedAutoPlacements,ep=lt.options.placement,Al=yr(ep),np=Al===ep,cp=Gr||(np||!cs?[Gs(ep)]:xx(ep)),Cp=[ep].concat(cp).reduce(function(b3,L_){return b3.concat(yr(L_)===$a?wx(lt,{placement:L_,boundary:xn,rootBoundary:On,padding:Zr,flipVariations:cs,allowedAutoPlacements:wl}):L_)},[]),Lp=lt.rects.reference,jp=lt.rects.popper,nm=new Map,zm=!0,i1=Cp[0],d3=0;d3<Cp.length;d3++){var op=Cp[d3],Sn=yr(op),Fo=Di(op)===Ii,as=[Ut,sr].indexOf(Sn)>=0,us=as?"width":"height",xl=Wo(lt,{placement:op,boundary:xn,rootBoundary:On,altBoundary:ss,padding:Zr}),ip=as?Fo?ar:zt:Fo?sr:Ut;Lp[us]>jp[us]&&(ip=Gs(ip));var lp=Gs(ip),pu=[];if(qt&&pu.push(xl[Sn]<=0),cr&&pu.push(xl[ip]<=0,xl[lp]<=0),pu.every(function(b3){return b3})){i1=op,zm=!1;break}nm.set(op,pu)}if(zm)for(var go=cs?3:1,h0=function(b3){var L_=Cp.find(function(Ym){var Xm=nm.get(Ym);if(Xm)return Xm.slice(0,b3).every(function(Jm){return Jm})});if(L_)return i1=L_,"break"},kp=go;kp>0;kp--){var cm=h0(kp);if(cm==="break")break}lt.placement!==i1&&(lt.modifiersData[_t]._skip=!0,lt.placement=i1,lt.reset=!0)}}const Sx={name:"flip",enabled:!0,phase:"main",fn:_x$1,requiresIfExists:["offset"],data:{_skip:!1}};function Sp(ut,lt,ht){return ht===void 0&&(ht={x:0,y:0}),{top:ut.top-lt.height-ht.y,right:ut.right-lt.width+ht.x,bottom:ut.bottom-lt.height+ht.y,left:ut.left-lt.width-ht.x}}function Ep(ut){return[Ut,ar,sr,zt].some(function(lt){return ut[lt]>=0})}function Ex(ut){var lt=ut.state,ht=ut.name,_t=lt.rects.reference,At=lt.rects.popper,qt=lt.modifiersData.preventOverflow,Zt=Wo(lt,{elementContext:"reference"}),cr=Wo(lt,{altBoundary:!0}),Gr=Sp(Zt,_t),Zr=Sp(cr,At,qt),xn=Ep(Gr),On=Ep(Zr);lt.modifiersData[ht]={referenceClippingOffsets:Gr,popperEscapeOffsets:Zr,isReferenceHidden:xn,hasPopperEscaped:On},lt.attributes.popper=Object.assign({},lt.attributes.popper,{"data-popper-reference-hidden":xn,"data-popper-escaped":On})}const kx={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ex};function Cx(ut,lt,ht){var _t=yr(ut),At=[zt,Ut].indexOf(_t)>=0?-1:1,qt=typeof ht=="function"?ht(Object.assign({},lt,{placement:ut})):ht,Zt=qt[0],cr=qt[1];return Zt=Zt||0,cr=(cr||0)*At,[zt,ar].indexOf(_t)>=0?{x:cr,y:Zt}:{x:Zt,y:cr}}function Tx(ut){var lt=ut.state,ht=ut.options,_t=ut.name,At=ht.offset,qt=At===void 0?[0,0]:At,Zt=Vg.reduce(function(xn,On){return xn[On]=Cx(On,lt.rects,qt),xn},{}),cr=Zt[lt.placement],Gr=cr.x,Zr=cr.y;lt.modifiersData.popperOffsets!=null&&(lt.modifiersData.popperOffsets.x+=Gr,lt.modifiersData.popperOffsets.y+=Zr),lt.modifiersData[_t]=Zt}const Ox={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Tx};function Ix(ut){var lt=ut.state,ht=ut.name;lt.modifiersData[ht]=Qg({reference:lt.rects.reference,element:lt.rects.popper,strategy:"absolute",placement:lt.placement})}const Px={name:"popperOffsets",enabled:!0,phase:"read",fn:Ix,data:{}};function Rx(ut){return ut==="x"?"y":"x"}function Dx(ut){var lt=ut.state,ht=ut.options,_t=ut.name,At=ht.mainAxis,qt=At===void 0?!0:At,Zt=ht.altAxis,cr=Zt===void 0?!1:Zt,Gr=ht.boundary,Zr=ht.rootBoundary,xn=ht.altBoundary,On=ht.padding,ss=ht.tether,ls=ss===void 0?!0:ss,cs=ht.tetherOffset,wl=cs===void 0?0:cs,ep=Wo(lt,{boundary:Gr,rootBoundary:Zr,padding:On,altBoundary:xn}),Al=yr(lt.placement),np=Di(lt.placement),cp=!np,Cp=uf(Al),Lp=Rx(Cp),jp=lt.modifiersData.popperOffsets,nm=lt.rects.reference,zm=lt.rects.popper,i1=typeof wl=="function"?wl(Object.assign({},lt.rects,{placement:lt.placement})):wl,d3=typeof i1=="number"?{mainAxis:i1,altAxis:i1}:Object.assign({mainAxis:0,altAxis:0},i1),op=lt.modifiersData.offset?lt.modifiersData.offset[lt.placement]:null,Sn={x:0,y:0};if(jp){if(qt){var Fo,as=Cp==="y"?Ut:zt,us=Cp==="y"?sr:ar,xl=Cp==="y"?"height":"width",ip=jp[Cp],lp=ip+ep[as],pu=ip-ep[us],go=ls?-zm[xl]/2:0,h0=np===Ii?nm[xl]:zm[xl],kp=np===Ii?-zm[xl]:-nm[xl],cm=lt.elements.arrow,b3=ls&&cm?cf(cm):{width:0,height:0},L_=lt.modifiersData["arrow#persistent"]?lt.modifiersData["arrow#persistent"].padding:Yg(),Ym=L_[as],Xm=L_[us],Jm=wo(0,nm[xl],b3[xl]),$_=cp?nm[xl]/2-go-Jm-Ym-d3.mainAxis:h0-Jm-Ym-d3.mainAxis,j_=cp?-nm[xl]/2+go+Jm+Xm+d3.mainAxis:kp+Jm+Xm+d3.mainAxis,h3=lt.elements.arrow&&es(lt.elements.arrow),Fp=h3?Cp==="y"?h3.clientTop||0:h3.clientLeft||0:0,W_=(Fo=op==null?void 0:op[Cp])!=null?Fo:0,t4=ip+$_-W_-Fp,Nw=ip+j_-W_,Dp=wo(ls?Ta(lp,t4):lp,ip,ls?Wn(pu,Nw):pu);jp[Cp]=Dp,Sn[Cp]=Dp-ip}if(cr){var a1,zp=Cp==="x"?Ut:zt,v3=Cp==="x"?sr:ar,Mw=jp[Lp],nw=Lp==="y"?"height":"width",n4=Mw+ep[zp],Ww=Mw-ep[v3],F_=[Ut,zt].indexOf(Al)!==-1,qx=(a1=op==null?void 0:op[Lp])!=null?a1:0,nM=F_?n4:Mw-nm[nw]-zm[nw]-qx+d3.altAxis,Hm=F_?Mw+nm[nw]+zm[nw]-qx-d3.altAxis:Ww,y3=ls&&F_?nx(nM,Mw,Hm):wo(ls?nM:n4,Mw,ls?Hm:Ww);jp[Lp]=y3,Sn[Lp]=y3-Mw}lt.modifiersData[_t]=Sn}}const Mx={name:"preventOverflow",enabled:!0,phase:"main",fn:Dx,requiresIfExists:["offset"]};function Nx(ut){return{scrollLeft:ut.scrollLeft,scrollTop:ut.scrollTop}}function Lx(ut){return ut===Qt(ut)||!Xt(ut)?ff(ut):Nx(ut)}function Bx(ut){var lt=ut.getBoundingClientRect(),ht=Pi(lt.width)/ut.offsetWidth||1,_t=Pi(lt.height)/ut.offsetHeight||1;return ht!==1||_t!==1}function Fx(ut,lt,ht){ht===void 0&&(ht=!1);var _t=Xt(lt),At=Xt(lt)&&Bx(lt),qt=wn(lt),Zt=Ri(ut,At,ht),cr={scrollLeft:0,scrollTop:0},Gr={x:0,y:0};return(_t||!_t&&!ht)&&((Or(lt)!=="body"||hf(qt))&&(cr=Lx(lt)),Xt(lt)?(Gr=Ri(lt,!0),Gr.x+=lt.clientLeft,Gr.y+=lt.clientTop):qt&&(Gr.x=df(qt))),{x:Zt.left+cr.scrollLeft-Gr.x,y:Zt.top+cr.scrollTop-Gr.y,width:Zt.width,height:Zt.height}}function jx(ut){var lt=new Map,ht=new Set,_t=[];ut.forEach(function(qt){lt.set(qt.name,qt)});function At(qt){ht.add(qt.name);var Zt=[].concat(qt.requires||[],qt.requiresIfExists||[]);Zt.forEach(function(cr){if(!ht.has(cr)){var Gr=lt.get(cr);Gr&&At(Gr)}}),_t.push(qt)}return ut.forEach(function(qt){ht.has(qt.name)||At(qt)}),_t}function Wx(ut){var lt=jx(ut);return nu.reduce(function(ht,_t){return ht.concat(lt.filter(function(At){return At.phase===_t}))},[])}function Ux(ut){var lt;return function(){return lt||(lt=new Promise(function(ht){Promise.resolve().then(function(){lt=void 0,ht(ut())})})),lt}}function Hx(ut){var lt=ut.reduce(function(ht,_t){var At=ht[_t.name];return ht[_t.name]=At?Object.assign({},At,_t,{options:Object.assign({},At.options,_t.options),data:Object.assign({},At.data,_t.data)}):_t,ht},{});return Object.keys(lt).map(function(ht){return lt[ht]})}var Tp={placement:"bottom",modifiers:[],strategy:"absolute"};function Op(){for(var ut=arguments.length,lt=new Array(ut),ht=0;ht<ut;ht++)lt[ht]=arguments[ht];return!lt.some(function(_t){return!(_t&&typeof _t.getBoundingClientRect=="function")})}function Kx(ut){ut===void 0&&(ut={});var lt=ut,ht=lt.defaultModifiers,_t=ht===void 0?[]:ht,At=lt.defaultOptions,qt=At===void 0?Tp:At;return function(Zt,cr,Gr){Gr===void 0&&(Gr=qt);var Zr={placement:"bottom",orderedModifiers:[],options:Object.assign({},Tp,qt),modifiersData:{},elements:{reference:Zt,popper:cr},attributes:{},styles:{}},xn=[],On=!1,ss={state:Zr,setOptions:function(wl){var ep=typeof wl=="function"?wl(Zr.options):wl;cs(),Zr.options=Object.assign({},qt,Zr.options,ep),Zr.scrollParents={reference:Jn(Zt)?xo(Zt):Zt.contextElement?xo(Zt.contextElement):[],popper:xo(cr)};var Al=Wx(Hx([].concat(_t,Zr.options.modifiers)));return Zr.orderedModifiers=Al.filter(function(np){return np.enabled}),ls(),ss.update()},forceUpdate:function(){if(!On){var wl=Zr.elements,ep=wl.reference,Al=wl.popper;if(!Op(ep,Al))return;Zr.rects={reference:Fx(ep,es(Al),Zr.options.strategy==="fixed"),popper:cf(Al)},Zr.reset=!1,Zr.placement=Zr.options.placement,Zr.orderedModifiers.forEach(function(i1){return Zr.modifiersData[i1.name]=Object.assign({},i1.data)});for(var np=0,cp=0;cp<Zr.orderedModifiers.length;cp++){if(Zr.reset===!0){Zr.reset=!1,cp=-1;continue}var Cp=Zr.orderedModifiers[cp],Lp=Cp.fn,jp=Cp.options,nm=jp===void 0?{}:jp,zm=Cp.name;typeof Lp=="function"&&(Zr=Lp({state:Zr,options:nm,name:zm,instance:ss})||Zr)}}},update:Ux(function(){return new Promise(function(wl){ss.forceUpdate(),wl(Zr)})}),destroy:function(){cs(),On=!0}};if(!Op(Zt,cr))return ss;ss.setOptions(Gr).then(function(wl){!On&&Gr.onFirstUpdate&&Gr.onFirstUpdate(wl)});function ls(){Zr.orderedModifiers.forEach(function(wl){var ep=wl.name,Al=wl.options,np=Al===void 0?{}:Al,cp=wl.effect;if(typeof cp=="function"){var Cp=cp({state:Zr,name:ep,instance:ss,options:np}),Lp=function(){};xn.push(Cp||Lp)}})}function cs(){xn.forEach(function(wl){return wl()}),xn=[]}return ss}}var Xx=[hx,Px,fx,ex,Ox,Sx,Mx,ax,kx],Jx=Kx({defaultModifiers:Xx});function Qx(ut){return typeof ut=="function"?ut():ut}const Oa=reactExports.forwardRef(function(ut,lt){const{children:ht,container:_t,disablePortal:At=!1}=ut,[qt,Zt]=reactExports.useState(null),cr=Xn(reactExports.isValidElement(ht)?ht.ref:null,lt);if(Oi(()=>{At||Zt(Qx(_t)||document.body)},[_t,At]),Oi(()=>{if(qt&&!At)return ka(lt,qt),()=>{ka(lt,null)}},[lt,qt,At]),At){if(reactExports.isValidElement(ht)){const Gr={ref:cr};return reactExports.cloneElement(ht,Gr)}return Lt.jsx(reactExports.Fragment,{children:ht})}return Lt.jsx(reactExports.Fragment,{children:qt&&reactDomExports.createPortal(ht,qt)})}),Gx=Oa;function Zx(ut){return Zo("MuiPopper",ut)}sf("MuiPopper",["root"]);const $x=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],e_=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function t_(ut,lt){if(lt==="ltr")return ut;switch(ut){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return ut}}function Ia(ut){return typeof ut=="function"?ut():ut}function tl(ut){return ut.nodeType!==void 0}const n_=()=>of({root:["root"]},N4(Zx)),i_={},o_=reactExports.forwardRef(function(ut,lt){var ht;const{anchorEl:_t,children:At,direction:qt,disablePortal:Zt,modifiers:cr,open:Gr,placement:Zr,popperOptions:xn,popperRef:On,slotProps:ss={},slots:ls={},TransitionProps:cs}=ut,wl=af(ut,$x),ep=reactExports.useRef(null),Al=Xn(ep,lt),np=reactExports.useRef(null),cp=Xn(np,On),Cp=reactExports.useRef(cp);Oi(()=>{Cp.current=cp},[cp]),reactExports.useImperativeHandle(On,()=>np.current,[]);const Lp=t_(Zr,qt),[jp,nm]=reactExports.useState(Lp),[zm,i1]=reactExports.useState(Ia(_t));reactExports.useEffect(()=>{np.current&&np.current.forceUpdate()}),reactExports.useEffect(()=>{_t&&i1(Ia(_t))},[_t]),Oi(()=>{if(!zm||!Gr)return;const as=ip=>{nm(ip.placement)};let us=[{name:"preventOverflow",options:{altBoundary:Zt}},{name:"flip",options:{altBoundary:Zt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:ip})=>{as(ip)}}];cr!=null&&(us=us.concat(cr)),xn&&xn.modifiers!=null&&(us=us.concat(xn.modifiers));const xl=Jx(zm,ep.current,Nt({placement:Lp},xn,{modifiers:us}));return Cp.current(xl),()=>{xl.destroy(),Cp.current(null)}},[zm,Zt,cr,Gr,xn,Lp]);const d3={placement:jp};cs!==null&&(d3.TransitionProps=cs);const op=n_(),Sn=(ht=ls.root)!=null?ht:"div",Fo=W4({elementType:Sn,externalSlotProps:ss.root,externalForwardedProps:wl,additionalProps:{role:"tooltip",ref:Al},ownerState:ut,className:op.root});return Lt.jsx(Sn,Nt({},Fo,{children:typeof At=="function"?At(d3):At}))}),Gg=reactExports.forwardRef(function(ut,lt){const{anchorEl:ht,children:_t,container:At,direction:qt="ltr",disablePortal:Zt=!1,keepMounted:cr=!1,modifiers:Gr,open:Zr,placement:xn="bottom",popperOptions:On=i_,popperRef:ss,style:ls,transition:cs=!1,slotProps:wl={},slots:ep={}}=ut,Al=af(ut,e_),[np,cp]=reactExports.useState(!0),Cp=()=>{cp(!1)},Lp=()=>{cp(!0)};if(!cr&&!Zr&&(!cs||np))return null;let jp;if(At)jp=At;else if(ht){const i1=Ia(ht);jp=i1&&tl(i1)?Ea(i1).body:Ea(null).body}const nm=!Zr&&cr&&(!cs||np)?"none":void 0,zm=cs?{in:Zr,onEnter:Cp,onExited:Lp}:void 0;return Lt.jsx(Gx,{disablePortal:Zt,container:jp,children:Lt.jsx(o_,Nt({anchorEl:ht,direction:qt,disablePortal:Zt,modifiers:Gr,ref:lt,open:cs?!np:Zr,placement:xn,popperOptions:On,popperRef:ss,slotProps:wl,slots:ep},Al,{style:Nt({position:"fixed",top:0,left:0,display:nm},ls),TransitionProps:zm,children:_t}))})}),s_=Gg;function su(){return su=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},su.apply(this,arguments)}function a_(ut){var lt=Object.create(null);return function(ht){return lt[ht]===void 0&&(lt[ht]=ut(ht)),lt[ht]}}var l_=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,c_=a_(function(ut){return l_.test(ut)||ut.charCodeAt(0)===111&&ut.charCodeAt(1)===110&&ut.charCodeAt(2)<91});function u_(ut){if(ut.sheet)return ut.sheet;for(var lt=0;lt<document.styleSheets.length;lt++)if(document.styleSheets[lt].ownerNode===ut)return document.styleSheets[lt]}function f_(ut){var lt=document.createElement("style");return lt.setAttribute("data-emotion",ut.key),ut.nonce!==void 0&&lt.setAttribute("nonce",ut.nonce),lt.appendChild(document.createTextNode("")),lt.setAttribute("data-s",""),lt}var d_=function(){function ut(ht){var _t=this;this._insertTag=function(At){var qt;_t.tags.length===0?_t.insertionPoint?qt=_t.insertionPoint.nextSibling:_t.prepend?qt=_t.container.firstChild:qt=_t.before:qt=_t.tags[_t.tags.length-1].nextSibling,_t.container.insertBefore(At,qt),_t.tags.push(At)},this.isSpeedy=ht.speedy===void 0?!0:ht.speedy,this.tags=[],this.ctr=0,this.nonce=ht.nonce,this.key=ht.key,this.container=ht.container,this.prepend=ht.prepend,this.insertionPoint=ht.insertionPoint,this.before=null}var lt=ut.prototype;return lt.hydrate=function(ht){ht.forEach(this._insertTag)},lt.insert=function(ht){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(f_(this));var _t=this.tags[this.tags.length-1];if(this.isSpeedy){var At=u_(_t);try{At.insertRule(ht,At.cssRules.length)}catch{}}else _t.appendChild(document.createTextNode(ht));this.ctr++},lt.flush=function(){this.tags.forEach(function(ht){return ht.parentNode&&ht.parentNode.removeChild(ht)}),this.tags=[],this.ctr=0},ut}(),Ot="-ms-",Pa="-moz-",qe="-webkit-",pf="comm",gf="rule",mf="decl",h_="@import",Zg="@keyframes",p_="@layer",g_=Math.abs,rl=String.fromCharCode,m_=Object.assign;function y_(ut,lt){return Ct(ut,0)^45?(((lt<<2^Ct(ut,0))<<2^Ct(ut,1))<<2^Ct(ut,2))<<2^Ct(ut,3):0}function $g(ut){return ut.trim()}function b_(ut,lt){return(ut=lt.exec(ut))?ut[0]:ut}function He(ut,lt,ht){return ut.replace(lt,ht)}function au(ut,lt){return ut.indexOf(lt)}function Ct(ut,lt){return ut.charCodeAt(lt)|0}function Uo(ut,lt,ht){return ut.slice(lt,ht)}function xr(ut){return ut.length}function yf(ut){return ut.length}function Ds(ut,lt){return lt.push(ut),ut}function v_(ut,lt){return ut.map(lt).join("")}var nl=1,Mi=1,em=0,Vt=0,bt=0,Bi="";function il(ut,lt,ht,_t,At,qt,Zt){return{value:ut,root:lt,parent:ht,type:_t,props:At,children:qt,line:nl,column:Mi,length:Zt,return:""}}function $i(ut,lt){return m_(il("",null,null,"",null,null,0),ut,{length:-ut.length},lt)}function A_(){return bt}function w_(){return bt=Vt>0?Ct(Bi,--Vt):0,Mi--,bt===10&&(Mi=1,nl--),bt}function Jt(){return bt=Vt<em?Ct(Bi,Vt++):0,Mi++,bt===10&&(Mi=1,nl++),bt}function Tr(){return Ct(Bi,Vt)}function Zs(){return Vt}function ts(ut,lt){return Uo(Bi,ut,lt)}function zo(ut){switch(ut){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tm(ut){return nl=Mi=1,em=xr(Bi=ut),Vt=0,[]}function rm(ut){return Bi="",ut}function $s(ut){return $g(ts(Vt-1,lu(ut===91?ut+2:ut===40?ut+1:ut)))}function x_(ut){for(;(bt=Tr())&&bt<33;)Jt();return zo(ut)>2||zo(bt)>3?"":" "}function __(ut,lt){for(;--lt&&Jt()&&!(bt<48||bt>102||bt>57&&bt<65||bt>70&&bt<97););return ts(ut,Zs()+(lt<6&&Tr()==32&&Jt()==32))}function lu(ut){for(;Jt();)switch(bt){case ut:return Vt;case 34:case 39:ut!==34&&ut!==39&&lu(bt);break;case 40:ut===41&&lu(ut);break;case 92:Jt();break}return Vt}function S_(ut,lt){for(;Jt()&&ut+bt!==47+10&&!(ut+bt===42+42&&Tr()===47););return"/*"+ts(lt,Vt-1)+"*"+rl(ut===47?ut:Jt())}function E_(ut){for(;!zo(Tr());)Jt();return ts(ut,Vt)}function k_(ut){return rm(ea("",null,null,null,[""],ut=tm(ut),0,[0],ut))}function ea(ut,lt,ht,_t,At,qt,Zt,cr,Gr){for(var Zr=0,xn=0,On=Zt,ss=0,ls=0,cs=0,wl=1,ep=1,Al=1,np=0,cp="",Cp=At,Lp=qt,jp=_t,nm=cp;ep;)switch(cs=np,np=Jt()){case 40:if(cs!=108&&Ct(nm,On-1)==58){au(nm+=He($s(np),"&","&\f"),"&\f")!=-1&&(Al=-1);break}case 34:case 39:case 91:nm+=$s(np);break;case 9:case 10:case 13:case 32:nm+=x_(cs);break;case 92:nm+=__(Zs()-1,7);continue;case 47:switch(Tr()){case 42:case 47:Ds(C_(S_(Jt(),Zs()),lt,ht),Gr);break;default:nm+="/"}break;case 123*wl:cr[Zr++]=xr(nm)*Al;case 125*wl:case 59:case 0:switch(np){case 0:case 125:ep=0;case 59+xn:Al==-1&&(nm=He(nm,/\f/g,"")),ls>0&&xr(nm)-On&&Ds(ls>32?Pp(nm+";",_t,ht,On-1):Pp(He(nm," ","")+";",_t,ht,On-2),Gr);break;case 59:nm+=";";default:if(Ds(jp=Ip(nm,lt,ht,Zr,xn,At,cr,cp,Cp=[],Lp=[],On),qt),np===123)if(xn===0)ea(nm,lt,jp,jp,Cp,qt,On,cr,Lp);else switch(ss===99&&Ct(nm,3)===110?100:ss){case 100:case 108:case 109:case 115:ea(ut,jp,jp,_t&&Ds(Ip(ut,jp,jp,0,0,At,cr,cp,At,Cp=[],On),Lp),At,Lp,On,cr,_t?Cp:Lp);break;default:ea(nm,jp,jp,jp,[""],Lp,0,cr,Lp)}}Zr=xn=ls=0,wl=Al=1,cp=nm="",On=Zt;break;case 58:On=1+xr(nm),ls=cs;default:if(wl<1){if(np==123)--wl;else if(np==125&&wl++==0&&w_()==125)continue}switch(nm+=rl(np),np*wl){case 38:Al=xn>0?1:(nm+="\f",-1);break;case 44:cr[Zr++]=(xr(nm)-1)*Al,Al=1;break;case 64:Tr()===45&&(nm+=$s(Jt())),ss=Tr(),xn=On=xr(cp=nm+=E_(Zs())),np++;break;case 45:cs===45&&xr(nm)==2&&(wl=0)}}return qt}function Ip(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn){for(var On=At-1,ss=At===0?qt:[""],ls=yf(ss),cs=0,wl=0,ep=0;cs<_t;++cs)for(var Al=0,np=Uo(ut,On+1,On=g_(wl=Zt[cs])),cp=ut;Al<ls;++Al)(cp=$g(wl>0?ss[Al]+" "+np:He(np,/&\f/g,ss[Al])))&&(Gr[ep++]=cp);return il(ut,lt,ht,At===0?gf:cr,Gr,Zr,xn)}function C_(ut,lt,ht){return il(ut,lt,ht,pf,rl(A_()),Uo(ut,2,-2),0)}function Pp(ut,lt,ht,_t){return il(ut,lt,ht,mf,Uo(ut,0,_t),Uo(ut,_t+1,-1),_t)}function vi(ut,lt){for(var ht="",_t=yf(ut),At=0;At<_t;At++)ht+=lt(ut[At],At,ut,lt)||"";return ht}function T_(ut,lt,ht,_t){switch(ut.type){case p_:if(ut.children.length)break;case h_:case mf:return ut.return=ut.return||ut.value;case pf:return"";case Zg:return ut.return=ut.value+"{"+vi(ut.children,_t)+"}";case gf:ut.value=ut.props.join(",")}return xr(ht=vi(ut.children,_t))?ut.return=ut.value+"{"+ht+"}":""}function O_(ut){var lt=yf(ut);return function(ht,_t,At,qt){for(var Zt="",cr=0;cr<lt;cr++)Zt+=ut[cr](ht,_t,At,qt)||"";return Zt}}function I_(ut){return function(lt){lt.root||(lt=lt.return)&&ut(lt)}}var P_=function(ut,lt,ht){for(var _t=0,At=0;_t=At,At=Tr(),_t===38&&At===12&&(lt[ht]=1),!zo(At);)Jt();return ts(ut,Vt)},R_=function(ut,lt){var ht=-1,_t=44;do switch(zo(_t)){case 0:_t===38&&Tr()===12&&(lt[ht]=1),ut[ht]+=P_(Vt-1,lt,ht);break;case 2:ut[ht]+=$s(_t);break;case 4:if(_t===44){ut[++ht]=Tr()===58?"&\f":"",lt[ht]=ut[ht].length;break}default:ut[ht]+=rl(_t)}while(_t=Jt());return ut},D_=function(ut,lt){return rm(R_(tm(ut),lt))},Rp=new WeakMap,M_=function(ut){if(!(ut.type!=="rule"||!ut.parent||ut.length<1)){for(var lt=ut.value,ht=ut.parent,_t=ut.column===ht.column&&ut.line===ht.line;ht.type!=="rule";)if(ht=ht.parent,!ht)return;if(!(ut.props.length===1&&lt.charCodeAt(0)!==58&&!Rp.get(ht))&&!_t){Rp.set(ut,!0);for(var At=[],qt=D_(lt,At),Zt=ht.props,cr=0,Gr=0;cr<qt.length;cr++)for(var Zr=0;Zr<Zt.length;Zr++,Gr++)ut.props[Gr]=At[cr]?qt[cr].replace(/&\f/g,Zt[Zr]):Zt[Zr]+" "+qt[cr]}}},N_=function(ut){if(ut.type==="decl"){var lt=ut.value;lt.charCodeAt(0)===108&&lt.charCodeAt(2)===98&&(ut.return="",ut.value="")}};function im(ut,lt){switch(y_(ut,lt)){case 5103:return qe+"print-"+ut+ut;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qe+ut+ut;case 5349:case 4246:case 4810:case 6968:case 2756:return qe+ut+Pa+ut+Ot+ut+ut;case 6828:case 4268:return qe+ut+Ot+ut+ut;case 6165:return qe+ut+Ot+"flex-"+ut+ut;case 5187:return qe+ut+He(ut,/(\w+).+(:[^]+)/,qe+"box-$1$2"+Ot+"flex-$1$2")+ut;case 5443:return qe+ut+Ot+"flex-item-"+He(ut,/flex-|-self/,"")+ut;case 4675:return qe+ut+Ot+"flex-line-pack"+He(ut,/align-content|flex-|-self/,"")+ut;case 5548:return qe+ut+Ot+He(ut,"shrink","negative")+ut;case 5292:return qe+ut+Ot+He(ut,"basis","preferred-size")+ut;case 6060:return qe+"box-"+He(ut,"-grow","")+qe+ut+Ot+He(ut,"grow","positive")+ut;case 4554:return qe+He(ut,/([^-])(transform)/g,"$1"+qe+"$2")+ut;case 6187:return He(He(He(ut,/(zoom-|grab)/,qe+"$1"),/(image-set)/,qe+"$1"),ut,"")+ut;case 5495:case 3959:return He(ut,/(image-set\([^]*)/,qe+"$1$`$1");case 4968:return He(He(ut,/(.+:)(flex-)?(.*)/,qe+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qe+ut+ut;case 4095:case 3583:case 4068:case 2532:return He(ut,/(.+)-inline(.+)/,qe+"$1$2")+ut;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xr(ut)-1-lt>6)switch(Ct(ut,lt+1)){case 109:if(Ct(ut,lt+4)!==45)break;case 102:return He(ut,/(.+:)(.+)-([^]+)/,"$1"+qe+"$2-$3$1"+Pa+(Ct(ut,lt+3)==108?"$3":"$2-$3"))+ut;case 115:return~au(ut,"stretch")?im(He(ut,"stretch","fill-available"),lt)+ut:ut}break;case 4949:if(Ct(ut,lt+1)!==115)break;case 6444:switch(Ct(ut,xr(ut)-3-(~au(ut,"!important")&&10))){case 107:return He(ut,":",":"+qe)+ut;case 101:return He(ut,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qe+(Ct(ut,14)===45?"inline-":"")+"box$3$1"+qe+"$2$3$1"+Ot+"$2box$3")+ut}break;case 5936:switch(Ct(ut,lt+11)){case 114:return qe+ut+Ot+He(ut,/[svh]\w+-[tblr]{2}/,"tb")+ut;case 108:return qe+ut+Ot+He(ut,/[svh]\w+-[tblr]{2}/,"tb-rl")+ut;case 45:return qe+ut+Ot+He(ut,/[svh]\w+-[tblr]{2}/,"lr")+ut}return qe+ut+Ot+ut+ut}return ut}var U_=function(ut,lt,ht,_t){if(ut.length>-1&&!ut.return)switch(ut.type){case mf:ut.return=im(ut.value,ut.length);break;case Zg:return vi([$i(ut,{value:He(ut.value,"@","@"+qe)})],_t);case gf:if(ut.length)return v_(ut.props,function(At){switch(b_(At,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vi([$i(ut,{props:[He(At,/:(read-\w+)/,":"+Pa+"$1")]})],_t);case"::placeholder":return vi([$i(ut,{props:[He(At,/:(plac\w+)/,":"+qe+"input-$1")]}),$i(ut,{props:[He(At,/:(plac\w+)/,":"+Pa+"$1")]}),$i(ut,{props:[He(At,/:(plac\w+)/,Ot+"input-$1")]})],_t)}return""})}},z_=[U_],V_=function(ut){var lt=ut.key;if(lt==="css"){var ht=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(ht,function(cs){var wl=cs.getAttribute("data-emotion");wl.indexOf(" ")!==-1&&(document.head.appendChild(cs),cs.setAttribute("data-s",""))})}var _t=ut.stylisPlugins||z_,At={},qt,Zt=[];qt=ut.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+lt+' "]'),function(cs){for(var wl=cs.getAttribute("data-emotion").split(" "),ep=1;ep<wl.length;ep++)At[wl[ep]]=!0;Zt.push(cs)});var cr,Gr=[M_,N_];{var Zr,xn=[T_,I_(function(cs){Zr.insert(cs)})],On=O_(Gr.concat(_t,xn)),ss=function(cs){return vi(k_(cs),On)};cr=function(cs,wl,ep,Al){Zr=ep,ss(cs?cs+"{"+wl.styles+"}":wl.styles),Al&&(ls.inserted[wl.name]=!0)}}var ls={key:lt,sheet:new d_({key:lt,container:qt,nonce:ut.nonce,speedy:ut.speedy,prepend:ut.prepend,insertionPoint:ut.insertionPoint}),nonce:ut.nonce,inserted:At,registered:{},insert:cr};return ls.sheet.hydrate(Zt),ls},q_=!0;function om(ut,lt,ht){var _t="";return ht.split(" ").forEach(function(At){ut[At]!==void 0?lt.push(ut[At]+";"):_t+=At+" "}),_t}var bf=function(ut,lt,ht){var _t=ut.key+"-"+lt.name;(ht===!1||q_===!1)&&ut.registered[_t]===void 0&&(ut.registered[_t]=lt.styles)},sm=function(ut,lt,ht){bf(ut,lt,ht);var _t=ut.key+"-"+lt.name;if(ut.inserted[lt.name]===void 0){var At=lt;do ut.insert(lt===At?"."+_t:"",At,ut.sheet,!0),At=At.next;while(At!==void 0)}};function H_(ut){for(var lt=0,ht,_t=0,At=ut.length;At>=4;++_t,At-=4)ht=ut.charCodeAt(_t)&255|(ut.charCodeAt(++_t)&255)<<8|(ut.charCodeAt(++_t)&255)<<16|(ut.charCodeAt(++_t)&255)<<24,ht=(ht&65535)*1540483477+((ht>>>16)*59797<<16),ht^=ht>>>24,lt=(ht&65535)*1540483477+((ht>>>16)*59797<<16)^(lt&65535)*1540483477+((lt>>>16)*59797<<16);switch(At){case 3:lt^=(ut.charCodeAt(_t+2)&255)<<16;case 2:lt^=(ut.charCodeAt(_t+1)&255)<<8;case 1:lt^=ut.charCodeAt(_t)&255,lt=(lt&65535)*1540483477+((lt>>>16)*59797<<16)}return lt^=lt>>>13,lt=(lt&65535)*1540483477+((lt>>>16)*59797<<16),((lt^lt>>>15)>>>0).toString(36)}var Y_={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function K_(ut){var lt=Object.create(null);return function(ht){return lt[ht]===void 0&&(lt[ht]=ut(ht)),lt[ht]}}var J_=/[A-Z]|^ms/g,am=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vf=function(ut){return ut.charCodeAt(1)===45},Np=function(ut){return ut!=null&&typeof ut!="boolean"},yc=K_(function(ut){return vf(ut)?ut:ut.replace(J_,"-$&").toLowerCase()}),Ra=function(ut,lt){switch(ut){case"animation":case"animationName":if(typeof lt=="string")return lt.replace(am,function(ht,_t,At){return dr={name:_t,styles:At,next:dr},_t})}return Y_[ut]!==1&&!vf(ut)&&typeof lt=="number"&&lt!==0?lt+"px":lt},lm="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Vo(ut,lt,ht){if(ht==null)return"";if(ht.__emotion_styles!==void 0)return ht;switch(typeof ht){case"boolean":return"";case"object":{if(ht.anim===1)return dr={name:ht.name,styles:ht.styles,next:dr},ht.name;if(ht.styles!==void 0){var _t=ht.next;if(_t!==void 0)for(;_t!==void 0;)dr={name:_t.name,styles:_t.styles,next:dr},_t=_t.next;var At=ht.styles+";";return At}return t9(ut,lt,ht)}case"function":{if(ut!==void 0){var qt=dr,Zt=ht(ut);return dr=qt,Vo(ut,lt,Zt)}break}}if(lt==null)return ht;var cr=lt[ht];return cr!==void 0?cr:ht}function t9(ut,lt,ht){var _t="";if(Array.isArray(ht))for(var At=0;At<ht.length;At++)_t+=Vo(ut,lt,ht[At])+";";else for(var qt in ht){var Zt=ht[qt];if(typeof Zt!="object")lt!=null&&lt[Zt]!==void 0?_t+=qt+"{"+lt[Zt]+"}":Np(Zt)&&(_t+=yc(qt)+":"+Ra(qt,Zt)+";");else if(Array.isArray(Zt)&&typeof Zt[0]=="string"&&(lt==null||lt[Zt[0]]===void 0))for(var cr=0;cr<Zt.length;cr++)Np(Zt[cr])&&(_t+=yc(qt)+":"+Ra(qt,Zt[cr])+";");else{var Gr=Vo(ut,lt,Zt);switch(qt){case"animation":case"animationName":{_t+=yc(qt)+":"+Gr+";";break}default:_t+=qt+"{"+Gr+"}"}}}return _t}var Bp=/label:\s*([^\s;\n{]+)\s*(;|$)/g,dr,cu=function(ut,lt,ht){if(ut.length===1&&typeof ut[0]=="object"&&ut[0]!==null&&ut[0].styles!==void 0)return ut[0];var _t=!0,At="";dr=void 0;var qt=ut[0];qt==null||qt.raw===void 0?(_t=!1,At+=Vo(ht,lt,qt)):At+=qt[0];for(var Zt=1;Zt<ut.length;Zt++)At+=Vo(ht,lt,ut[Zt]),_t&&(At+=qt[Zt]);Bp.lastIndex=0;for(var cr="",Gr;(Gr=Bp.exec(At))!==null;)cr+="-"+Gr[1];var Zr=H_(At)+cr;return{name:Zr,styles:At,next:dr}},r9=function(ut){return ut()},n9=reactExports.useInsertionEffect?reactExports.useInsertionEffect:!1,um=n9||r9,Af=reactExports.createContext(typeof HTMLElement<"u"?V_({key:"css"}):null);Af.Provider;var fm=function(ut){return reactExports.forwardRef(function(lt,ht){var _t=reactExports.useContext(Af);return ut(lt,_t,ht)})},ol=reactExports.createContext({}),a9=c_,l9=function(ut){return ut!=="theme"},Wp=function(ut){return typeof ut=="string"&&ut.charCodeAt(0)>96?a9:l9},Up=function(ut,lt,ht){var _t;if(lt){var At=lt.shouldForwardProp;_t=ut.__emotion_forwardProp&&At?function(qt){return ut.__emotion_forwardProp(qt)&&At(qt)}:At}return typeof _t!="function"&&ht&&(_t=ut.__emotion_forwardProp),_t},c9=function(ut){var lt=ut.cache,ht=ut.serialized,_t=ut.isStringTag;return bf(lt,ht,_t),um(function(){return sm(lt,ht,_t)}),null},u9=function ut(lt,ht){var _t=lt.__emotion_real===lt,At=_t&&lt.__emotion_base||lt,qt,Zt;ht!==void 0&&(qt=ht.label,Zt=ht.target);var cr=Up(lt,ht,_t),Gr=cr||Wp(At),Zr=!Gr("as");return function(){var xn=arguments,On=_t&&lt.__emotion_styles!==void 0?lt.__emotion_styles.slice(0):[];if(qt!==void 0&&On.push("label:"+qt+";"),xn[0]==null||xn[0].raw===void 0)On.push.apply(On,xn);else{On.push(xn[0][0]);for(var ss=xn.length,ls=1;ls<ss;ls++)On.push(xn[ls],xn[0][ls])}var cs=fm(function(wl,ep,Al){var np=Zr&&wl.as||At,cp="",Cp=[],Lp=wl;if(wl.theme==null){Lp={};for(var jp in wl)Lp[jp]=wl[jp];Lp.theme=reactExports.useContext(ol)}typeof wl.className=="string"?cp=om(ep.registered,Cp,wl.className):wl.className!=null&&(cp=wl.className+" ");var nm=cu(On.concat(Cp),ep.registered,Lp);cp+=ep.key+"-"+nm.name,Zt!==void 0&&(cp+=" "+Zt);var zm=Zr&&cr===void 0?Wp(np):Gr,i1={};for(var d3 in wl)Zr&&d3==="as"||zm(d3)&&(i1[d3]=wl[d3]);return i1.className=cp,i1.ref=Al,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(c9,{cache:ep,serialized:nm,isStringTag:typeof np=="string"}),reactExports.createElement(np,i1))});return cs.displayName=qt!==void 0?qt:"Styled("+(typeof At=="string"?At:At.displayName||At.name||"Component")+")",cs.defaultProps=lt.defaultProps,cs.__emotion_real=cs,cs.__emotion_base=At,cs.__emotion_styles=On,cs.__emotion_forwardProp=cr,Object.defineProperty(cs,"toString",{value:function(){return"."+Zt}}),cs.withComponent=function(wl,ep){return ut(wl,su({},ht,ep,{shouldForwardProp:Up(cs,ep,!0)})).apply(void 0,On)},cs}};const f9=u9;var d9=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uu=f9.bind();d9.forEach(function(ut){uu[ut]=uu(ut)});const h9=uu;/**
 * @mui/styled-engine v5.12.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function p9(ut,lt){return h9(ut,lt)}const g9=(ut,lt)=>{Array.isArray(ut.__emotion_styles)&&(ut.__emotion_styles=lt(ut.__emotion_styles))};function kt(){return kt=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},kt.apply(this,arguments)}function sl(ut,lt){if(ut==null)return{};var ht={},_t=Object.keys(ut),At,qt;for(qt=0;qt<_t.length;qt++)At=_t[qt],!(lt.indexOf(At)>=0)&&(ht[At]=ut[At]);return ht}const m9=["values","unit","step"],y9=ut=>{const lt=Object.keys(ut).map(ht=>({key:ht,val:ut[ht]}))||[];return lt.sort((ht,_t)=>ht.val-_t.val),lt.reduce((ht,_t)=>kt({},ht,{[_t.key]:_t.val}),{})};function b9(ut){const{values:lt={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:ht="px",step:_t=5}=ut,At=sl(ut,m9),qt=y9(lt),Zt=Object.keys(qt);function cr(ss){return`@media (min-width:${typeof lt[ss]=="number"?lt[ss]:ss}${ht})`}function Gr(ss){return`@media (max-width:${(typeof lt[ss]=="number"?lt[ss]:ss)-_t/100}${ht})`}function Zr(ss,ls){const cs=Zt.indexOf(ls);return`@media (min-width:${typeof lt[ss]=="number"?lt[ss]:ss}${ht}) and (max-width:${(cs!==-1&&typeof lt[Zt[cs]]=="number"?lt[Zt[cs]]:ls)-_t/100}${ht})`}function xn(ss){return Zt.indexOf(ss)+1<Zt.length?Zr(ss,Zt[Zt.indexOf(ss)+1]):cr(ss)}function On(ss){const ls=Zt.indexOf(ss);return ls===0?cr(Zt[1]):ls===Zt.length-1?Gr(Zt[ls]):Zr(ss,Zt[Zt.indexOf(ss)+1]).replace("@media","@media not all and")}return kt({keys:Zt,values:qt,up:cr,down:Gr,between:Zr,only:xn,not:On,unit:ht},At)}const v9={borderRadius:4},A9=v9;function _o(ut,lt){return lt?qr(ut,lt,{clone:!1}):ut}const wf={xs:0,sm:600,md:900,lg:1200,xl:1536},Vp={keys:["xs","sm","md","lg","xl"],up:ut=>`@media (min-width:${wf[ut]}px)`};function Kr(ut,lt,ht){const _t=ut.theme||{};if(Array.isArray(lt)){const At=_t.breakpoints||Vp;return lt.reduce((qt,Zt,cr)=>(qt[At.up(At.keys[cr])]=ht(lt[cr]),qt),{})}if(typeof lt=="object"){const At=_t.breakpoints||Vp;return Object.keys(lt).reduce((qt,Zt)=>{if(Object.keys(At.values||wf).indexOf(Zt)!==-1){const cr=At.up(Zt);qt[cr]=ht(lt[Zt],Zt)}else{const cr=Zt;qt[cr]=lt[cr]}return qt},{})}return ht(lt)}function x9(ut={}){var lt;return((lt=ut.keys)==null?void 0:lt.reduce((ht,_t)=>{const At=ut.up(_t);return ht[At]={},ht},{}))||{}}function _9(ut,lt){return ut.reduce((ht,_t)=>{const At=ht[_t];return(!At||Object.keys(At).length===0)&&delete ht[_t],ht},lt)}function al(ut,lt,ht=!0){if(!lt||typeof lt!="string")return null;if(ut&&ut.vars&&ht){const _t=`vars.${lt}`.split(".").reduce((At,qt)=>At&&At[qt]?At[qt]:null,ut);if(_t!=null)return _t}return lt.split(".").reduce((_t,At)=>_t&&_t[At]!=null?_t[At]:null,ut)}function Da(ut,lt,ht,_t=ht){let At;return typeof ut=="function"?At=ut(ht):Array.isArray(ut)?At=ut[ht]||_t:At=al(ut,ht)||_t,lt&&(At=lt(At,_t,ut)),At}function Qe(ut){const{prop:lt,cssProperty:ht=ut.prop,themeKey:_t,transform:At}=ut,qt=Zt=>{if(Zt[lt]==null)return null;const cr=Zt[lt],Gr=Zt.theme,Zr=al(Gr,_t)||{};return Kr(Zt,cr,xn=>{let On=Da(Zr,At,xn);return xn===On&&typeof xn=="string"&&(On=Da(Zr,At,`${lt}${xn==="default"?"":or(xn)}`,xn)),ht===!1?On:{[ht]:On}})};return qt.propTypes={},qt.filterProps=[lt],qt}function S9(ut){const lt={};return ht=>(lt[ht]===void 0&&(lt[ht]=ut(ht)),lt[ht])}const E9={m:"margin",p:"padding"},k9={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qp={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},C9=S9(ut=>{if(ut.length>2)if(qp[ut])ut=qp[ut];else return[ut];const[lt,ht]=ut.split(""),_t=E9[lt],At=k9[ht]||"";return Array.isArray(At)?At.map(qt=>_t+qt):[_t+At]}),ll=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],cl=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...ll,...cl];function rs(ut,lt,ht,_t){var At;const qt=(At=al(ut,lt,!1))!=null?At:ht;return typeof qt=="number"?Zt=>typeof Zt=="string"?Zt:qt*Zt:Array.isArray(qt)?Zt=>typeof Zt=="string"?Zt:qt[Zt]:typeof qt=="function"?qt:()=>{}}function dm(ut){return rs(ut,"spacing",8)}function ns(ut,lt){if(typeof lt=="string"||lt==null)return lt;const ht=Math.abs(lt),_t=ut(ht);return lt>=0?_t:typeof _t=="number"?-_t:`-${_t}`}function O9(ut,lt){return ht=>ut.reduce((_t,At)=>(_t[At]=ns(lt,ht),_t),{})}function I9(ut,lt,ht,_t){if(lt.indexOf(ht)===-1)return null;const At=C9(ht),qt=O9(At,_t),Zt=ut[ht];return Kr(ut,Zt,qt)}function hm(ut,lt){const ht=dm(ut.theme);return Object.keys(ut).map(_t=>I9(ut,lt,_t,ht)).reduce(_o,{})}function ft(ut){return hm(ut,ll)}ft.propTypes={};ft.filterProps=ll;function dt(ut){return hm(ut,cl)}dt.propTypes={};dt.filterProps=cl;function P9(ut=8){if(ut.mui)return ut;const lt=dm({spacing:ut}),ht=(..._t)=>(_t.length===0?[1]:_t).map(At=>{const qt=lt(At);return typeof qt=="number"?`${qt}px`:qt}).join(" ");return ht.mui=!0,ht}function ul(...ut){const lt=ut.reduce((_t,At)=>(At.filterProps.forEach(qt=>{_t[qt]=At}),_t),{}),ht=_t=>Object.keys(_t).reduce((At,qt)=>lt[qt]?_o(At,lt[qt](_t)):At,{});return ht.propTypes={},ht.filterProps=ut.reduce((_t,At)=>_t.concat(At.filterProps),[]),ht}function Sr(ut){return typeof ut!="number"?ut:`${ut}px solid`}const R9=Qe({prop:"border",themeKey:"borders",transform:Sr}),D9=Qe({prop:"borderTop",themeKey:"borders",transform:Sr}),M9=Qe({prop:"borderRight",themeKey:"borders",transform:Sr}),N9=Qe({prop:"borderBottom",themeKey:"borders",transform:Sr}),L9=Qe({prop:"borderLeft",themeKey:"borders",transform:Sr}),B9=Qe({prop:"borderColor",themeKey:"palette"}),F9=Qe({prop:"borderTopColor",themeKey:"palette"}),j9=Qe({prop:"borderRightColor",themeKey:"palette"}),W9=Qe({prop:"borderBottomColor",themeKey:"palette"}),U9=Qe({prop:"borderLeftColor",themeKey:"palette"}),fl$1=ut=>{if(ut.borderRadius!==void 0&&ut.borderRadius!==null){const lt=rs(ut.theme,"shape.borderRadius",4),ht=_t=>({borderRadius:ns(lt,_t)});return Kr(ut,ut.borderRadius,ht)}return null};fl$1.propTypes={};fl$1.filterProps=["borderRadius"];ul(R9,D9,M9,N9,L9,B9,F9,j9,W9,U9,fl$1);const dl=ut=>{if(ut.gap!==void 0&&ut.gap!==null){const lt=rs(ut.theme,"spacing",8),ht=_t=>({gap:ns(lt,_t)});return Kr(ut,ut.gap,ht)}return null};dl.propTypes={};dl.filterProps=["gap"];const hl=ut=>{if(ut.columnGap!==void 0&&ut.columnGap!==null){const lt=rs(ut.theme,"spacing",8),ht=_t=>({columnGap:ns(lt,_t)});return Kr(ut,ut.columnGap,ht)}return null};hl.propTypes={};hl.filterProps=["columnGap"];const pl=ut=>{if(ut.rowGap!==void 0&&ut.rowGap!==null){const lt=rs(ut.theme,"spacing",8),ht=_t=>({rowGap:ns(lt,_t)});return Kr(ut,ut.rowGap,ht)}return null};pl.propTypes={};pl.filterProps=["rowGap"];const z9=Qe({prop:"gridColumn"}),V9=Qe({prop:"gridRow"}),q9=Qe({prop:"gridAutoFlow"}),H9=Qe({prop:"gridAutoColumns"}),Y9=Qe({prop:"gridAutoRows"}),K9=Qe({prop:"gridTemplateColumns"}),X9=Qe({prop:"gridTemplateRows"}),J9=Qe({prop:"gridTemplateAreas"}),Q9=Qe({prop:"gridArea"});ul(dl,hl,pl,z9,V9,q9,H9,Y9,K9,X9,J9,Q9);function Ai(ut,lt){return lt==="grey"?lt:ut}const G9=Qe({prop:"color",themeKey:"palette",transform:Ai}),Z9=Qe({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ai}),$9=Qe({prop:"backgroundColor",themeKey:"palette",transform:Ai});ul(G9,Z9,$9);function Kt(ut){return ut<=1&&ut!==0?`${ut*100}%`:ut}const e8=Qe({prop:"width",transform:Kt}),xf=ut=>{if(ut.maxWidth!==void 0&&ut.maxWidth!==null){const lt=ht=>{var _t,At,qt;return{maxWidth:((_t=ut.theme)==null||(At=_t.breakpoints)==null||(qt=At.values)==null?void 0:qt[ht])||wf[ht]||Kt(ht)}};return Kr(ut,ut.maxWidth,lt)}return null};xf.filterProps=["maxWidth"];const t8=Qe({prop:"minWidth",transform:Kt}),r8=Qe({prop:"height",transform:Kt}),n8=Qe({prop:"maxHeight",transform:Kt}),i8=Qe({prop:"minHeight",transform:Kt});Qe({prop:"size",cssProperty:"width",transform:Kt});Qe({prop:"size",cssProperty:"height",transform:Kt});const o8=Qe({prop:"boxSizing"});ul(e8,xf,t8,r8,n8,i8,o8);const s8={border:{themeKey:"borders",transform:Sr},borderTop:{themeKey:"borders",transform:Sr},borderRight:{themeKey:"borders",transform:Sr},borderBottom:{themeKey:"borders",transform:Sr},borderLeft:{themeKey:"borders",transform:Sr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:fl$1},color:{themeKey:"palette",transform:Ai},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ai},backgroundColor:{themeKey:"palette",transform:Ai},p:{style:dt},pt:{style:dt},pr:{style:dt},pb:{style:dt},pl:{style:dt},px:{style:dt},py:{style:dt},padding:{style:dt},paddingTop:{style:dt},paddingRight:{style:dt},paddingBottom:{style:dt},paddingLeft:{style:dt},paddingX:{style:dt},paddingY:{style:dt},paddingInline:{style:dt},paddingInlineStart:{style:dt},paddingInlineEnd:{style:dt},paddingBlock:{style:dt},paddingBlockStart:{style:dt},paddingBlockEnd:{style:dt},m:{style:ft},mt:{style:ft},mr:{style:ft},mb:{style:ft},ml:{style:ft},mx:{style:ft},my:{style:ft},margin:{style:ft},marginTop:{style:ft},marginRight:{style:ft},marginBottom:{style:ft},marginLeft:{style:ft},marginX:{style:ft},marginY:{style:ft},marginInline:{style:ft},marginInlineStart:{style:ft},marginInlineEnd:{style:ft},marginBlock:{style:ft},marginBlockStart:{style:ft},marginBlockEnd:{style:ft},displayPrint:{cssProperty:!1,transform:ut=>({"@media print":{display:ut}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:dl},rowGap:{style:pl},columnGap:{style:hl},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Kt},maxWidth:{style:xf},minWidth:{transform:Kt},height:{transform:Kt},maxHeight:{transform:Kt},minHeight:{transform:Kt},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},_f=s8;function a8(...ut){const lt=ut.reduce((_t,At)=>_t.concat(Object.keys(At)),[]),ht=new Set(lt);return ut.every(_t=>ht.size===Object.keys(_t).length)}function l8(ut,lt){return typeof ut=="function"?ut(lt):ut}function c8(){function ut(ht,_t,At,qt){const Zt={[ht]:_t,theme:At},cr=qt[ht];if(!cr)return{[ht]:_t};const{cssProperty:Gr=ht,themeKey:Zr,transform:xn,style:On}=cr;if(_t==null)return null;if(Zr==="typography"&&_t==="inherit")return{[ht]:_t};const ss=al(At,Zr)||{};return On?On(Zt):Kr(Zt,_t,ls=>{let cs=Da(ss,xn,ls);return ls===cs&&typeof ls=="string"&&(cs=Da(ss,xn,`${ht}${ls==="default"?"":or(ls)}`,ls)),Gr===!1?cs:{[Gr]:cs}})}function lt(ht){var _t;const{sx:At,theme:qt={}}=ht||{};if(!At)return null;const Zt=(_t=qt.unstable_sxConfig)!=null?_t:_f;function cr(Gr){let Zr=Gr;if(typeof Gr=="function")Zr=Gr(qt);else if(typeof Gr!="object")return Gr;if(!Zr)return null;const xn=x9(qt.breakpoints),On=Object.keys(xn);let ss=xn;return Object.keys(Zr).forEach(ls=>{const cs=l8(Zr[ls],qt);if(cs!=null)if(typeof cs=="object")if(Zt[ls])ss=_o(ss,ut(ls,cs,qt,Zt));else{const wl=Kr({theme:qt},cs,ep=>({[ls]:ep}));a8(wl,cs)?ss[ls]=lt({sx:cs,theme:qt}):ss=_o(ss,wl)}else ss=_o(ss,ut(ls,cs,qt,Zt))}),_9(On,ss)}return Array.isArray(At)?At.map(cr):cr(At)}return lt}const pm=c8();pm.filterProps=["sx"];const Sf=pm,u8$1=["breakpoints","palette","spacing","shape"];function Ef(ut={},...lt){const{breakpoints:ht={},palette:_t={},spacing:At,shape:qt={}}=ut,Zt=sl(ut,u8$1),cr=b9(ht),Gr=P9(At);let Zr=qr({breakpoints:cr,direction:"ltr",components:{},palette:kt({mode:"light"},_t),spacing:Gr,shape:kt({},A9,qt)},Zt);return Zr=lt.reduce((xn,On)=>qr(xn,On),Zr),Zr.unstable_sxConfig=kt({},_f,Zt==null?void 0:Zt.unstable_sxConfig),Zr.unstable_sx=function(xn){return Sf({sx:xn,theme:this})},Zr}function f8(ut){return Object.keys(ut).length===0}function gm(ut=null){const lt=reactExports.useContext(ol);return!lt||f8(lt)?ut:lt}const d8=Ef();function mm(ut=d8){return gm(ut)}const h8=["variant"];function Hp(ut){return ut.length===0}function ym(ut){const{variant:lt}=ut,ht=sl(ut,h8);let _t=lt||"";return Object.keys(ht).sort().forEach(At=>{At==="color"?_t+=Hp(_t)?ut[At]:or(ut[At]):_t+=`${Hp(_t)?At:or(At)}${or(ut[At].toString())}`}),_t}const p8=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function g8(ut){return Object.keys(ut).length===0}function m8(ut){return typeof ut=="string"&&ut.charCodeAt(0)>96}const y8=(ut,lt)=>lt.components&&lt.components[ut]&&lt.components[ut].styleOverrides?lt.components[ut].styleOverrides:null,b8=(ut,lt)=>{let ht=[];lt&&lt.components&&lt.components[ut]&&lt.components[ut].variants&&(ht=lt.components[ut].variants);const _t={};return ht.forEach(At=>{const qt=ym(At.props);_t[qt]=At.style}),_t},v8=(ut,lt,ht,_t)=>{var At,qt;const{ownerState:Zt={}}=ut,cr=[],Gr=ht==null||(At=ht.components)==null||(qt=At[_t])==null?void 0:qt.variants;return Gr&&Gr.forEach(Zr=>{let xn=!0;Object.keys(Zr.props).forEach(On=>{Zt[On]!==Zr.props[On]&&ut[On]!==Zr.props[On]&&(xn=!1)}),xn&&cr.push(lt[ym(Zr.props)])}),cr};function ta(ut){return ut!=="ownerState"&&ut!=="theme"&&ut!=="sx"&&ut!=="as"}const A8=Ef();function eo({defaultTheme:ut,theme:lt,themeId:ht}){return g8(lt)?ut:lt[ht]||lt}function x8(ut={}){const{themeId:lt,defaultTheme:ht=A8,rootShouldForwardProp:_t=ta,slotShouldForwardProp:At=ta}=ut,qt=Zt=>Sf(kt({},Zt,{theme:eo(kt({},Zt,{defaultTheme:ht,themeId:lt}))}));return qt.__mui_systemSx=!0,(Zt,cr={})=>{g9(Zt,Cp=>Cp.filter(Lp=>!(Lp!=null&&Lp.__mui_systemSx)));const{name:Gr,slot:Zr,skipVariantsResolver:xn,skipSx:On,overridesResolver:ss}=cr,ls=sl(cr,p8),cs=xn!==void 0?xn:Zr&&Zr!=="Root"||!1,wl=On||!1;let ep,Al=ta;Zr==="Root"?Al=_t:Zr?Al=At:m8(Zt)&&(Al=void 0);const np=p9(Zt,kt({shouldForwardProp:Al,label:ep},ls)),cp=(Cp,...Lp)=>{const jp=Lp?Lp.map(d3=>typeof d3=="function"&&d3.__emotion_real!==d3?op=>d3(kt({},op,{theme:eo(kt({},op,{defaultTheme:ht,themeId:lt}))})):d3):[];let nm=Cp;Gr&&ss&&jp.push(d3=>{const op=eo(kt({},d3,{defaultTheme:ht,themeId:lt})),Sn=y8(Gr,op);if(Sn){const Fo={};return Object.entries(Sn).forEach(([as,us])=>{Fo[as]=typeof us=="function"?us(kt({},d3,{theme:op})):us}),ss(d3,Fo)}return null}),Gr&&!cs&&jp.push(d3=>{const op=eo(kt({},d3,{defaultTheme:ht,themeId:lt}));return v8(d3,b8(Gr,op),op,Gr)}),wl||jp.push(qt);const zm=jp.length-Lp.length;if(Array.isArray(Cp)&&zm>0){const d3=new Array(zm).fill("");nm=[...Cp,...d3],nm.raw=[...Cp.raw,...d3]}else typeof Cp=="function"&&Cp.__emotion_real!==Cp&&(nm=d3=>Cp(kt({},d3,{theme:eo(kt({},d3,{defaultTheme:ht,themeId:lt}))})));const i1=np(nm,...jp);return Zt.muiName&&(i1.muiName=Zt.muiName),i1};return np.withConfig&&(cp.withConfig=np.withConfig),cp}}function _8(ut){const{theme:lt,name:ht,props:_t}=ut;return!lt||!lt.components||!lt.components[ht]||!lt.components[ht].defaultProps?_t:Fg(lt.components[ht].defaultProps,_t)}function S8({props:ut,name:lt,defaultTheme:ht,themeId:_t}){let At=mm(ht);return _t&&(At=At[_t]||At),_8({theme:At,name:lt,props:ut})}function kf(ut,lt=0,ht=1){return Math.min(Math.max(lt,ut),ht)}function E8(ut){ut=ut.slice(1);const lt=new RegExp(`.{1,${ut.length>=6?2:1}}`,"g");let ht=ut.match(lt);return ht&&ht[0].length===1&&(ht=ht.map(_t=>_t+_t)),ht?`rgb${ht.length===4?"a":""}(${ht.map((_t,At)=>At<3?parseInt(_t,16):Math.round(parseInt(_t,16)/255*1e3)/1e3).join(", ")})`:""}function Qn(ut){if(ut.type)return ut;if(ut.charAt(0)==="#")return Qn(E8(ut));const lt=ut.indexOf("("),ht=ut.substring(0,lt);if(["rgb","rgba","hsl","hsla","color"].indexOf(ht)===-1)throw new Error(Ti(9,ut));let _t=ut.substring(lt+1,ut.length-1),At;if(ht==="color"){if(_t=_t.split(" "),At=_t.shift(),_t.length===4&&_t[3].charAt(0)==="/"&&(_t[3]=_t[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(At)===-1)throw new Error(Ti(10,At))}else _t=_t.split(",");return _t=_t.map(qt=>parseFloat(qt)),{type:ht,values:_t,colorSpace:At}}function gl(ut){const{type:lt,colorSpace:ht}=ut;let{values:_t}=ut;return lt.indexOf("rgb")!==-1?_t=_t.map((At,qt)=>qt<3?parseInt(At,10):At):lt.indexOf("hsl")!==-1&&(_t[1]=`${_t[1]}%`,_t[2]=`${_t[2]}%`),lt.indexOf("color")!==-1?_t=`${ht} ${_t.join(" ")}`:_t=`${_t.join(", ")}`,`${lt}(${_t})`}function k8(ut){ut=Qn(ut);const{values:lt}=ut,ht=lt[0],_t=lt[1]/100,At=lt[2]/100,qt=_t*Math.min(At,1-At),Zt=(Zr,xn=(Zr+ht/30)%12)=>At-qt*Math.max(Math.min(xn-3,9-xn,1),-1);let cr="rgb";const Gr=[Math.round(Zt(0)*255),Math.round(Zt(8)*255),Math.round(Zt(4)*255)];return ut.type==="hsla"&&(cr+="a",Gr.push(lt[3])),gl({type:cr,values:Gr})}function Yp(ut){ut=Qn(ut);let lt=ut.type==="hsl"||ut.type==="hsla"?Qn(k8(ut)).values:ut.values;return lt=lt.map(ht=>(ut.type!=="color"&&(ht/=255),ht<=.03928?ht/12.92:((ht+.055)/1.055)**2.4)),Number((.2126*lt[0]+.7152*lt[1]+.0722*lt[2]).toFixed(3))}function Kp(ut,lt){const ht=Yp(ut),_t=Yp(lt);return(Math.max(ht,_t)+.05)/(Math.min(ht,_t)+.05)}function bm(ut,lt){return ut=Qn(ut),lt=kf(lt),(ut.type==="rgb"||ut.type==="hsl")&&(ut.type+="a"),ut.type==="color"?ut.values[3]=`/${lt}`:ut.values[3]=lt,gl(ut)}function C8(ut,lt){if(ut=Qn(ut),lt=kf(lt),ut.type.indexOf("hsl")!==-1)ut.values[2]*=1-lt;else if(ut.type.indexOf("rgb")!==-1||ut.type.indexOf("color")!==-1)for(let ht=0;ht<3;ht+=1)ut.values[ht]*=1-lt;return gl(ut)}function T8(ut,lt){if(ut=Qn(ut),lt=kf(lt),ut.type.indexOf("hsl")!==-1)ut.values[2]+=(100-ut.values[2])*lt;else if(ut.type.indexOf("rgb")!==-1)for(let ht=0;ht<3;ht+=1)ut.values[ht]+=(255-ut.values[ht])*lt;else if(ut.type.indexOf("color")!==-1)for(let ht=0;ht<3;ht+=1)ut.values[ht]+=(1-ut.values[ht])*lt;return gl(ut)}function O8(ut,lt){return ke({toolbar:{minHeight:56,[ut.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[ut.up("sm")]:{minHeight:64}}},lt)}const I8={black:"#000",white:"#fff"},qo=I8,P8={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},R8=P8,D8={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ni=D8,M8={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},ii=M8,N8={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},to=N8,L8={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},oi=L8,B8={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},si=B8,F8={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},ai=F8,j8=["mode","contrastThreshold","tonalOffset"],Xp={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:qo.white,default:qo.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},bc={text:{primary:qo.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:qo.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Jp(ut,lt,ht,_t){const At=_t.light||_t,qt=_t.dark||_t*1.5;ut[lt]||(ut.hasOwnProperty(ht)?ut[lt]=ut[ht]:lt==="light"?ut.light=T8(ut.main,At):lt==="dark"&&(ut.dark=C8(ut.main,qt)))}function W8(ut="light"){return ut==="dark"?{main:oi[200],light:oi[50],dark:oi[400]}:{main:oi[700],light:oi[400],dark:oi[800]}}function U8(ut="light"){return ut==="dark"?{main:ni[200],light:ni[50],dark:ni[400]}:{main:ni[500],light:ni[300],dark:ni[700]}}function z8(ut="light"){return ut==="dark"?{main:ii[500],light:ii[300],dark:ii[700]}:{main:ii[700],light:ii[400],dark:ii[800]}}function V8(ut="light"){return ut==="dark"?{main:si[400],light:si[300],dark:si[700]}:{main:si[700],light:si[500],dark:si[900]}}function q8(ut="light"){return ut==="dark"?{main:ai[400],light:ai[300],dark:ai[700]}:{main:ai[800],light:ai[500],dark:ai[900]}}function H8(ut="light"){return ut==="dark"?{main:to[400],light:to[300],dark:to[700]}:{main:"#ed6c02",light:to[500],dark:to[900]}}function Y8(ut){const{mode:lt="light",contrastThreshold:ht=3,tonalOffset:_t=.2}=ut,At=An(ut,j8),qt=ut.primary||W8(lt),Zt=ut.secondary||U8(lt),cr=ut.error||z8(lt),Gr=ut.info||V8(lt),Zr=ut.success||q8(lt),xn=ut.warning||H8(lt);function On(cs){return Kp(cs,bc.text.primary)>=ht?bc.text.primary:Xp.text.primary}const ss=({color:cs,name:wl,mainShade:ep=500,lightShade:Al=300,darkShade:np=700})=>{if(cs=ke({},cs),!cs.main&&cs[ep]&&(cs.main=cs[ep]),!cs.hasOwnProperty("main"))throw new Error(Ti(11,wl?` (${wl})`:"",ep));if(typeof cs.main!="string")throw new Error(Ti(12,wl?` (${wl})`:"",JSON.stringify(cs.main)));return Jp(cs,"light",Al,_t),Jp(cs,"dark",np,_t),cs.contrastText||(cs.contrastText=On(cs.main)),cs},ls={dark:bc,light:Xp};return qr(ke({common:ke({},qo),mode:lt,primary:ss({color:qt,name:"primary"}),secondary:ss({color:Zt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ss({color:cr,name:"error"}),warning:ss({color:xn,name:"warning"}),info:ss({color:Gr,name:"info"}),success:ss({color:Zr,name:"success"}),grey:R8,contrastThreshold:ht,getContrastText:On,augmentColor:ss,tonalOffset:_t},ls[lt]),At)}const K8=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function X8(ut){return Math.round(ut*1e5)/1e5}const Qp={textTransform:"uppercase"},Gp='"Roboto", "Helvetica", "Arial", sans-serif';function J8(ut,lt){const ht=typeof lt=="function"?lt(ut):lt,{fontFamily:_t=Gp,fontSize:At=14,fontWeightLight:qt=300,fontWeightRegular:Zt=400,fontWeightMedium:cr=500,fontWeightBold:Gr=700,htmlFontSize:Zr=16,allVariants:xn,pxToRem:On}=ht,ss=An(ht,K8),ls=At/14,cs=On||(Al=>`${Al/Zr*ls}rem`),wl=(Al,np,cp,Cp,Lp)=>ke({fontFamily:_t,fontWeight:Al,fontSize:cs(np),lineHeight:cp},_t===Gp?{letterSpacing:`${X8(Cp/np)}em`}:{},Lp,xn),ep={h1:wl(qt,96,1.167,-1.5),h2:wl(qt,60,1.2,-.5),h3:wl(Zt,48,1.167,0),h4:wl(Zt,34,1.235,.25),h5:wl(Zt,24,1.334,0),h6:wl(cr,20,1.6,.15),subtitle1:wl(Zt,16,1.75,.15),subtitle2:wl(cr,14,1.57,.1),body1:wl(Zt,16,1.5,.15),body2:wl(Zt,14,1.43,.15),button:wl(cr,14,1.75,.4,Qp),caption:wl(Zt,12,1.66,.4),overline:wl(Zt,12,2.66,1,Qp),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return qr(ke({htmlFontSize:Zr,pxToRem:cs,fontFamily:_t,fontSize:At,fontWeightLight:qt,fontWeightRegular:Zt,fontWeightMedium:cr,fontWeightBold:Gr},ep),ss,{clone:!1})}const Q8=.2,G8=.14,Z8=.12;function ct(...ut){return[`${ut[0]}px ${ut[1]}px ${ut[2]}px ${ut[3]}px rgba(0,0,0,${Q8})`,`${ut[4]}px ${ut[5]}px ${ut[6]}px ${ut[7]}px rgba(0,0,0,${G8})`,`${ut[8]}px ${ut[9]}px ${ut[10]}px ${ut[11]}px rgba(0,0,0,${Z8})`].join(",")}const $8=["none",ct(0,2,1,-1,0,1,1,0,0,1,3,0),ct(0,3,1,-2,0,2,2,0,0,1,5,0),ct(0,3,3,-2,0,3,4,0,0,1,8,0),ct(0,2,4,-1,0,4,5,0,0,1,10,0),ct(0,3,5,-1,0,5,8,0,0,1,14,0),ct(0,3,5,-1,0,6,10,0,0,1,18,0),ct(0,4,5,-2,0,7,10,1,0,2,16,1),ct(0,5,5,-3,0,8,10,1,0,3,14,2),ct(0,5,6,-3,0,9,12,1,0,3,16,2),ct(0,6,6,-3,0,10,14,1,0,4,18,3),ct(0,6,7,-4,0,11,15,1,0,4,20,3),ct(0,7,8,-4,0,12,17,2,0,5,22,4),ct(0,7,8,-4,0,13,19,2,0,5,24,4),ct(0,7,9,-4,0,14,21,2,0,5,26,4),ct(0,8,9,-5,0,15,22,2,0,6,28,5),ct(0,8,10,-5,0,16,24,2,0,6,30,5),ct(0,8,11,-5,0,17,26,2,0,6,32,5),ct(0,9,11,-5,0,18,28,2,0,7,34,6),ct(0,9,12,-6,0,19,29,2,0,7,36,6),ct(0,10,13,-6,0,20,31,3,0,8,38,7),ct(0,10,13,-6,0,21,33,3,0,8,40,7),ct(0,10,14,-6,0,22,35,3,0,8,42,7),ct(0,11,14,-7,0,23,36,3,0,9,44,8),ct(0,11,15,-7,0,24,38,3,0,9,46,8)],e7=$8,t7=["duration","easing","delay"],r7={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},n7={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Zp(ut){return`${Math.round(ut)}ms`}function i7(ut){if(!ut)return 0;const lt=ut/36;return Math.round((4+15*lt**.25+lt/5)*10)}function o7(ut){const lt=ke({},r7,ut.easing),ht=ke({},n7,ut.duration);return ke({getAutoHeightDuration:i7,create:(_t=["all"],At={})=>{const{duration:qt=ht.standard,easing:Zt=lt.easeInOut,delay:cr=0}=At;return An(At,t7),(Array.isArray(_t)?_t:[_t]).map(Gr=>`${Gr} ${typeof qt=="string"?qt:Zp(qt)} ${Zt} ${typeof cr=="string"?cr:Zp(cr)}`).join(",")}},ut,{easing:lt,duration:ht})}const s7={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},a7=s7,l7=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function c7(ut={},...lt){const{mixins:ht={},palette:_t={},transitions:At={},typography:qt={}}=ut,Zt=An(ut,l7);if(ut.vars)throw new Error(Ti(18));const cr=Y8(_t),Gr=Ef(ut);let Zr=qr(Gr,{mixins:O8(Gr.breakpoints,ht),palette:cr,shadows:e7.slice(),typography:J8(cr,qt),transitions:o7(At),zIndex:ke({},a7)});return Zr=qr(Zr,Zt),Zr=lt.reduce((xn,On)=>qr(xn,On),Zr),Zr.unstable_sxConfig=ke({},_f,Zt==null?void 0:Zt.unstable_sxConfig),Zr.unstable_sx=function(xn){return Sf({sx:xn,theme:this})},Zr}const u7=c7(),Cf=u7,Tf="$$material",f7=ut=>ta(ut)&&ut!=="classes",d7=x8({themeId:Tf,defaultTheme:Cf,rootShouldForwardProp:f7}),is$1=d7;function Of({props:ut,name:lt}){return S8({props:ut,name:lt,defaultTheme:Cf,themeId:Tf})}function h7(ut,lt){if(ut==null)return{};var ht={},_t=Object.keys(ut),At,qt;for(qt=0;qt<_t.length;qt++)At=_t[qt],!(lt.indexOf(At)>=0)&&(ht[At]=ut[At]);return ht}function p7(ut,lt){ut.prototype=Object.create(lt.prototype),ut.prototype.constructor=ut,ut.__proto__=lt}const $p={disabled:!1},vm=r$1.createContext(null);var m7=function(ut){return ut.scrollTop},ho="unmounted",Mn="exited",Nn="entering",fi="entered",fu="exiting",Qr=function(ut){p7(lt,ut);function lt(_t,At){var qt;qt=ut.call(this,_t,At)||this;var Zt=At,cr=Zt&&!Zt.isMounting?_t.enter:_t.appear,Gr;return qt.appearStatus=null,_t.in?cr?(Gr=Mn,qt.appearStatus=Nn):Gr=fi:_t.unmountOnExit||_t.mountOnEnter?Gr=ho:Gr=Mn,qt.state={status:Gr},qt.nextCallback=null,qt}lt.getDerivedStateFromProps=function(_t,At){var qt=_t.in;return qt&&At.status===ho?{status:Mn}:null};var ht=lt.prototype;return ht.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},ht.componentDidUpdate=function(_t){var At=null;if(_t!==this.props){var qt=this.state.status;this.props.in?qt!==Nn&&qt!==fi&&(At=Nn):(qt===Nn||qt===fi)&&(At=fu)}this.updateStatus(!1,At)},ht.componentWillUnmount=function(){this.cancelNextCallback()},ht.getTimeouts=function(){var _t=this.props.timeout,At,qt,Zt;return At=qt=Zt=_t,_t!=null&&typeof _t!="number"&&(At=_t.exit,qt=_t.enter,Zt=_t.appear!==void 0?_t.appear:qt),{exit:At,enter:qt,appear:Zt}},ht.updateStatus=function(_t,At){if(_t===void 0&&(_t=!1),At!==null)if(this.cancelNextCallback(),At===Nn){if(this.props.unmountOnExit||this.props.mountOnEnter){var qt=this.props.nodeRef?this.props.nodeRef.current:Wt.findDOMNode(this);qt&&m7(qt)}this.performEnter(_t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mn&&this.setState({status:ho})},ht.performEnter=function(_t){var At=this,qt=this.props.enter,Zt=this.context?this.context.isMounting:_t,cr=this.props.nodeRef?[Zt]:[Wt.findDOMNode(this),Zt],Gr=cr[0],Zr=cr[1],xn=this.getTimeouts(),On=Zt?xn.appear:xn.enter;if(!_t&&!qt||$p.disabled){this.safeSetState({status:fi},function(){At.props.onEntered(Gr)});return}this.props.onEnter(Gr,Zr),this.safeSetState({status:Nn},function(){At.props.onEntering(Gr,Zr),At.onTransitionEnd(On,function(){At.safeSetState({status:fi},function(){At.props.onEntered(Gr,Zr)})})})},ht.performExit=function(){var _t=this,At=this.props.exit,qt=this.getTimeouts(),Zt=this.props.nodeRef?void 0:Wt.findDOMNode(this);if(!At||$p.disabled){this.safeSetState({status:Mn},function(){_t.props.onExited(Zt)});return}this.props.onExit(Zt),this.safeSetState({status:fu},function(){_t.props.onExiting(Zt),_t.onTransitionEnd(qt.exit,function(){_t.safeSetState({status:Mn},function(){_t.props.onExited(Zt)})})})},ht.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},ht.safeSetState=function(_t,At){At=this.setNextCallback(At),this.setState(_t,At)},ht.setNextCallback=function(_t){var At=this,qt=!0;return this.nextCallback=function(Zt){qt&&(qt=!1,At.nextCallback=null,_t(Zt))},this.nextCallback.cancel=function(){qt=!1},this.nextCallback},ht.onTransitionEnd=function(_t,At){this.setNextCallback(At);var qt=this.props.nodeRef?this.props.nodeRef.current:Wt.findDOMNode(this),Zt=_t==null&&!this.props.addEndListener;if(!qt||Zt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var cr=this.props.nodeRef?[this.nextCallback]:[qt,this.nextCallback],Gr=cr[0],Zr=cr[1];this.props.addEndListener(Gr,Zr)}_t!=null&&setTimeout(this.nextCallback,_t)},ht.render=function(){var _t=this.state.status;if(_t===ho)return null;var At=this.props,qt=At.children;At.in,At.mountOnEnter,At.unmountOnExit,At.appear,At.enter,At.exit,At.timeout,At.addEndListener,At.onEnter,At.onEntering,At.onEntered,At.onExit,At.onExiting,At.onExited,At.nodeRef;var Zt=h7(At,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return r$1.createElement(vm.Provider,{value:null},typeof qt=="function"?qt(_t,Zt):r$1.cloneElement(r$1.Children.only(qt),Zt))},lt}(r$1.Component);Qr.contextType=vm;Qr.propTypes={};function li(){}Qr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:li,onEntering:li,onEntered:li,onExit:li,onExiting:li,onExited:li};Qr.UNMOUNTED=ho;Qr.EXITED=Mn;Qr.ENTERING=Nn;Qr.ENTERED=fi;Qr.EXITING=fu;const y7=Qr;function Am(){const ut=mm(Cf);return ut[Tf]||ut}const b7=ut=>ut.scrollTop;function e0(ut,lt){var ht,_t;const{timeout:At,easing:qt,style:Zt={}}=ut;return{duration:(ht=Zt.transitionDuration)!=null?ht:typeof At=="number"?At:At[lt.mode]||0,easing:(_t=Zt.transitionTimingFunction)!=null?_t:typeof qt=="object"?qt[lt.mode]:qt,delay:Zt.transitionDelay}}const v7=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function du(ut){return`scale(${ut}, ${ut**2})`}const A7={entering:{opacity:1,transform:du(1)},entered:{opacity:1,transform:"none"}},vc=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),If=reactExports.forwardRef(function(ut,lt){const{addEndListener:ht,appear:_t=!0,children:At,easing:qt,in:Zt,onEnter:cr,onEntered:Gr,onEntering:Zr,onExit:xn,onExited:On,onExiting:ss,style:ls,timeout:cs="auto",TransitionComponent:wl=y7}=ut,ep=An(ut,v7),Al=reactExports.useRef(),np=reactExports.useRef(),cp=Am(),Cp=reactExports.useRef(null),Lp=Xn(Cp,At.ref,lt),jp=as=>us=>{if(as){const xl=Cp.current;us===void 0?as(xl):as(xl,us)}},nm=jp(Zr),zm=jp((as,us)=>{b7(as);const{duration:xl,delay:ip,easing:lp}=e0({style:ls,timeout:cs,easing:qt},{mode:"enter"});let pu;cs==="auto"?(pu=cp.transitions.getAutoHeightDuration(as.clientHeight),np.current=pu):pu=xl,as.style.transition=[cp.transitions.create("opacity",{duration:pu,delay:ip}),cp.transitions.create("transform",{duration:vc?pu:pu*.666,delay:ip,easing:lp})].join(","),cr&&cr(as,us)}),i1=jp(Gr),d3=jp(ss),op=jp(as=>{const{duration:us,delay:xl,easing:ip}=e0({style:ls,timeout:cs,easing:qt},{mode:"exit"});let lp;cs==="auto"?(lp=cp.transitions.getAutoHeightDuration(as.clientHeight),np.current=lp):lp=us,as.style.transition=[cp.transitions.create("opacity",{duration:lp,delay:xl}),cp.transitions.create("transform",{duration:vc?lp:lp*.666,delay:vc?xl:xl||lp*.333,easing:ip})].join(","),as.style.opacity=0,as.style.transform=du(.75),xn&&xn(as)}),Sn=jp(On),Fo=as=>{cs==="auto"&&(Al.current=setTimeout(as,np.current||0)),ht&&ht(Cp.current,as)};return reactExports.useEffect(()=>()=>{clearTimeout(Al.current)},[]),Lt.jsx(wl,ke({appear:_t,in:Zt,nodeRef:Cp,onEnter:zm,onEntered:i1,onEntering:nm,onExit:op,onExited:Sn,onExiting:d3,addEndListener:Fo,timeout:cs==="auto"?null:cs},ep,{children:(as,us)=>reactExports.cloneElement(At,ke({style:ke({opacity:0,transform:du(.75),visibility:as==="exited"&&!Zt?"hidden":void 0},A7[as],ls,At.props.style),ref:Lp},us))}))});If.muiSupportAuto=!0;const t0=If,w7=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],x7=is$1(s_,{name:"MuiPopper",slot:"Root",overridesResolver:(ut,lt)=>lt.root})({}),wm=reactExports.forwardRef(function(ut,lt){var ht;const _t=gm(),At=Of({props:ut,name:"MuiPopper"}),{anchorEl:qt,component:Zt,components:cr,componentsProps:Gr,container:Zr,disablePortal:xn,keepMounted:On,modifiers:ss,open:ls,placement:cs,popperOptions:wl,popperRef:ep,transition:Al,slots:np,slotProps:cp}=At,Cp=An(At,w7),Lp=(ht=np==null?void 0:np.root)!=null?ht:cr==null?void 0:cr.Root,jp=ke({anchorEl:qt,container:Zr,disablePortal:xn,keepMounted:On,modifiers:ss,open:ls,placement:cs,popperOptions:wl,popperRef:ep,transition:Al},Cp);return Lt.jsx(x7,ke({as:Zt,direction:_t==null?void 0:_t.direction,slots:{root:Lp},slotProps:cp??Gr},jp,{ref:lt}))}),xm=wm;function _7(ut){return Zo("MuiTooltip",ut)}const S7=sf("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),an=S7,E7=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function k7(ut){return Math.round(ut*1e5)/1e5}const C7=ut=>{const{classes:lt,disableInteractive:ht,arrow:_t,touch:At,placement:qt}=ut,Zt={popper:["popper",!ht&&"popperInteractive",_t&&"popperArrow"],tooltip:["tooltip",_t&&"tooltipArrow",At&&"touch",`tooltipPlacement${or(qt.split("-")[0])}`],arrow:["arrow"]};return of(Zt,_7,lt)},T7=is$1(xm,{name:"MuiTooltip",slot:"Popper",overridesResolver:(ut,lt)=>{const{ownerState:ht}=ut;return[lt.popper,!ht.disableInteractive&&lt.popperInteractive,ht.arrow&&lt.popperArrow,!ht.open&&lt.popperClose]}})(({theme:ut,ownerState:lt,open:ht})=>ke({zIndex:(ut.vars||ut).zIndex.tooltip,pointerEvents:"none"},!lt.disableInteractive&&{pointerEvents:"auto"},!ht&&{pointerEvents:"none"},lt.arrow&&{[`&[data-popper-placement*="bottom"] .${an.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${an.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${an.arrow}`]:ke({},lt.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${an.arrow}`]:ke({},lt.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),O7=is$1("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(ut,lt)=>{const{ownerState:ht}=ut;return[lt.tooltip,ht.touch&&lt.touch,ht.arrow&&lt.tooltipArrow,lt[`tooltipPlacement${or(ht.placement.split("-")[0])}`]]}})(({theme:ut,ownerState:lt})=>ke({backgroundColor:ut.vars?ut.vars.palette.Tooltip.bg:bm(ut.palette.grey[700],.92),borderRadius:(ut.vars||ut).shape.borderRadius,color:(ut.vars||ut).palette.common.white,fontFamily:ut.typography.fontFamily,padding:"4px 8px",fontSize:ut.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:ut.typography.fontWeightMedium},lt.arrow&&{position:"relative",margin:0},lt.touch&&{padding:"8px 16px",fontSize:ut.typography.pxToRem(14),lineHeight:`${k7(16/14)}em`,fontWeight:ut.typography.fontWeightRegular},{[`.${an.popper}[data-popper-placement*="left"] &`]:ke({transformOrigin:"right center"},lt.isRtl?ke({marginLeft:"14px"},lt.touch&&{marginLeft:"24px"}):ke({marginRight:"14px"},lt.touch&&{marginRight:"24px"})),[`.${an.popper}[data-popper-placement*="right"] &`]:ke({transformOrigin:"left center"},lt.isRtl?ke({marginRight:"14px"},lt.touch&&{marginRight:"24px"}):ke({marginLeft:"14px"},lt.touch&&{marginLeft:"24px"})),[`.${an.popper}[data-popper-placement*="top"] &`]:ke({transformOrigin:"center bottom",marginBottom:"14px"},lt.touch&&{marginBottom:"24px"}),[`.${an.popper}[data-popper-placement*="bottom"] &`]:ke({transformOrigin:"center top",marginTop:"14px"},lt.touch&&{marginTop:"24px"})})),I7=is$1("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(ut,lt)=>lt.arrow})(({theme:ut})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:ut.vars?ut.vars.palette.Tooltip.bg:bm(ut.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Ms=!1,Ac=null,ro={x:0,y:0};function Ns(ut,lt){return ht=>{lt&&lt(ht),ut(ht)}}const _m=reactExports.forwardRef(function(ut,lt){var ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep,Al,np,cp,Cp;const Lp=Of({props:ut,name:"MuiTooltip"}),{arrow:jp=!1,children:nm,components:zm={},componentsProps:i1={},describeChild:d3=!1,disableFocusListener:op=!1,disableHoverListener:Sn=!1,disableInteractive:Fo=!1,disableTouchListener:as=!1,enterDelay:us=100,enterNextDelay:xl=0,enterTouchDelay:ip=700,followCursor:lp=!1,id:pu,leaveDelay:go=0,leaveTouchDelay:h0=1500,onClose:kp,onOpen:cm,open:b3,placement:L_="bottom",PopperComponent:Ym,PopperProps:Xm={},slotProps:Jm={},slots:$_={},title:j_,TransitionComponent:h3=t0,TransitionProps:Fp}=Lp,W_=An(Lp,E7),t4=Am(),Nw=t4.direction==="rtl",[Dp,a1]=reactExports.useState(),[zp,v3]=reactExports.useState(null),Mw=reactExports.useRef(!1),nw=Fo||lp,n4=reactExports.useRef(),Ww=reactExports.useRef(),F_=reactExports.useRef(),qx=reactExports.useRef(),[nM,Hm]=Ng({controlled:b3,default:!1,name:"Tooltip",state:"open"});let y3=nM;const Q_=Mg(pu),Uw=reactExports.useRef(),s4=reactExports.useCallback(()=>{Uw.current!==void 0&&(document.body.style.WebkitUserSelect=Uw.current,Uw.current=void 0),clearTimeout(qx.current)},[]);reactExports.useEffect(()=>()=>{clearTimeout(n4.current),clearTimeout(Ww.current),clearTimeout(F_.current),s4()},[s4]);const rM=iM=>{clearTimeout(Ac),Ms=!0,Hm(!0),cm&&!y3&&cm(iM)},c4=Lg(iM=>{clearTimeout(Ac),Ac=setTimeout(()=>{Ms=!1},800+go),Hm(!1),kp&&y3&&kp(iM),clearTimeout(n4.current),n4.current=setTimeout(()=>{Mw.current=!1},t4.transitions.duration.shortest)}),tM=iM=>{Mw.current&&iM.type!=="touchstart"||(Dp&&Dp.removeAttribute("title"),clearTimeout(Ww.current),clearTimeout(F_.current),us||Ms&&xl?Ww.current=setTimeout(()=>{rM(iM)},Ms?xl:us):rM(iM))},R5=iM=>{clearTimeout(Ww.current),clearTimeout(F_.current),F_.current=setTimeout(()=>{c4(iM)},go)},{isFocusVisibleRef:r4,onBlur:a4,onFocus:cM,ref:Yx}=Bg(),[,D5]=reactExports.useState(!1),wM=iM=>{a4(iM),r4.current===!1&&(D5(!1),R5(iM))},uM=iM=>{Dp||a1(iM.currentTarget),cM(iM),r4.current===!0&&(D5(!0),tM(iM))},fM=iM=>{Mw.current=!0;const hM=nm.props;hM.onTouchStart&&hM.onTouchStart(iM)},AM=tM,lM=R5,vM=iM=>{fM(iM),clearTimeout(F_.current),clearTimeout(n4.current),s4(),Uw.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",qx.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Uw.current,tM(iM)},ip)},HM=iM=>{nm.props.onTouchEnd&&nm.props.onTouchEnd(iM),s4(),clearTimeout(F_.current),F_.current=setTimeout(()=>{c4(iM)},h0)};reactExports.useEffect(()=>{if(!y3)return;function iM(hM){(hM.key==="Escape"||hM.key==="Esc")&&c4(hM)}return document.addEventListener("keydown",iM),()=>{document.removeEventListener("keydown",iM)}},[c4,y3]);const xM=Xn(nm.ref,Yx,a1,lt);!j_&&j_!==0&&(y3=!1);const RM=reactExports.useRef(),VM=iM=>{const hM=nm.props;hM.onMouseMove&&hM.onMouseMove(iM),ro={x:iM.clientX,y:iM.clientY},RM.current&&RM.current.update()},SM={},gM=typeof j_=="string";d3?(SM.title=!y3&&gM&&!Sn?j_:null,SM["aria-describedby"]=y3?Q_:null):(SM["aria-label"]=gM?j_:null,SM["aria-labelledby"]=y3&&!gM?Q_:null);const Z_=ke({},SM,W_,nm.props,{className:uo(W_.className,nm.props.className),onTouchStart:fM,ref:xM},lp?{onMouseMove:VM}:{}),Bw={};as||(Z_.onTouchStart=vM,Z_.onTouchEnd=HM),Sn||(Z_.onMouseOver=Ns(AM,Z_.onMouseOver),Z_.onMouseLeave=Ns(lM,Z_.onMouseLeave),nw||(Bw.onMouseOver=AM,Bw.onMouseLeave=lM)),op||(Z_.onFocus=Ns(uM,Z_.onFocus),Z_.onBlur=Ns(wM,Z_.onBlur),nw||(Bw.onFocus=uM,Bw.onBlur=wM));const Fw=reactExports.useMemo(()=>{var iM;let hM=[{name:"arrow",enabled:!!zp,options:{element:zp,padding:4}}];return(iM=Xm.popperOptions)!=null&&iM.modifiers&&(hM=hM.concat(Xm.popperOptions.modifiers)),ke({},Xm.popperOptions,{modifiers:hM})},[zp,Xm]),B_=ke({},Lp,{isRtl:Nw,arrow:jp,disableInteractive:nw,placement:L_,PopperComponentProp:Ym,touch:Mw.current}),Lw=C7(B_),eM=(ht=(_t=$_.popper)!=null?_t:zm.Popper)!=null?ht:T7,mM=(At=(qt=(Zt=$_.transition)!=null?Zt:zm.Transition)!=null?qt:h3)!=null?At:t0,G_=(cr=(Gr=$_.tooltip)!=null?Gr:zm.Tooltip)!=null?cr:O7,r_=(Zr=(xn=$_.arrow)!=null?xn:zm.Arrow)!=null?Zr:I7,Vx=fo(eM,ke({},Xm,(On=Jm.popper)!=null?On:i1.popper,{className:uo(Lw.popper,Xm==null?void 0:Xm.className,(ss=(ls=Jm.popper)!=null?ls:i1.popper)==null?void 0:ss.className)}),B_),l4=fo(mM,ke({},Fp,(cs=Jm.transition)!=null?cs:i1.transition),B_),R4=fo(G_,ke({},(wl=Jm.tooltip)!=null?wl:i1.tooltip,{className:uo(Lw.tooltip,(ep=(Al=Jm.tooltip)!=null?Al:i1.tooltip)==null?void 0:ep.className)}),B_),u4=fo(r_,ke({},(np=Jm.arrow)!=null?np:i1.arrow,{className:uo(Lw.arrow,(cp=(Cp=Jm.arrow)!=null?Cp:i1.arrow)==null?void 0:cp.className)}),B_);return Lt.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(nm,Z_),Lt.jsx(eM,ke({as:Ym??xm,placement:L_,anchorEl:lp?{getBoundingClientRect:()=>({top:ro.y,left:ro.x,right:ro.x,bottom:ro.y,width:0,height:0})}:Dp,popperRef:RM,open:Dp?y3:!1,id:Q_,transition:!0},Bw,Vx,{popperOptions:Fw,children:({TransitionProps:iM})=>Lt.jsx(mM,ke({timeout:t4.transitions.duration.shorter},iM,l4,{children:Lt.jsxs(G_,ke({},R4,{children:[j_,jp?Lt.jsx(r_,ke({},u4,{ref:v3})):null]}))}))}))]})}),P7=_m;var hu={},R7={get exports(){return hu},set exports(ut){hu=ut}};(function(ut){function lt(ht){return ht&&ht.__esModule?ht:{default:ht}}ut.exports=lt,ut.exports.__esModule=!0,ut.exports.default=ut.exports})(R7);var wc={};function D7(ut){return Zo("MuiSvgIcon",ut)}sf("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const M7=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],N7=ut=>{const{color:lt,fontSize:ht,classes:_t}=ut,At={root:["root",lt!=="inherit"&&`color${or(lt)}`,`fontSize${or(ht)}`]};return of(At,D7,_t)},L7=is$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(ut,lt)=>{const{ownerState:ht}=ut;return[lt.root,ht.color!=="inherit"&&lt[`color${or(ht.color)}`],lt[`fontSize${or(ht.fontSize)}`]]}})(({theme:ut,ownerState:lt})=>{var ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep,Al,np;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(ht=ut.transitions)==null||(_t=ht.create)==null?void 0:_t.call(ht,"fill",{duration:(At=ut.transitions)==null||(qt=At.duration)==null?void 0:qt.shorter}),fontSize:{inherit:"inherit",small:((Zt=ut.typography)==null||(cr=Zt.pxToRem)==null?void 0:cr.call(Zt,20))||"1.25rem",medium:((Gr=ut.typography)==null||(Zr=Gr.pxToRem)==null?void 0:Zr.call(Gr,24))||"1.5rem",large:((xn=ut.typography)==null||(On=xn.pxToRem)==null?void 0:On.call(xn,35))||"2.1875rem"}[lt.fontSize],color:(ss=(ls=(ut.vars||ut).palette)==null||(cs=ls[lt.color])==null?void 0:cs.main)!=null?ss:{action:(wl=(ut.vars||ut).palette)==null||(ep=wl.action)==null?void 0:ep.active,disabled:(Al=(ut.vars||ut).palette)==null||(np=Al.action)==null?void 0:np.disabled,inherit:void 0}[lt.color]}}),Pf=reactExports.forwardRef(function(ut,lt){const ht=Of({props:ut,name:"MuiSvgIcon"}),{children:_t,className:At,color:qt="inherit",component:Zt="svg",fontSize:cr="medium",htmlColor:Gr,inheritViewBox:Zr=!1,titleAccess:xn,viewBox:On="0 0 24 24"}=ht,ss=An(ht,M7),ls=ke({},ht,{color:qt,component:Zt,fontSize:cr,instanceFontSize:ut.fontSize,inheritViewBox:Zr,viewBox:On}),cs={};Zr||(cs.viewBox=On);const wl=N7(ls);return Lt.jsxs(L7,ke({as:Zt,className:uo(wl.root,At),focusable:"false",color:Gr,"aria-hidden":xn?void 0:!0,role:xn?"img":void 0,ref:lt},cs,ss,{ownerState:ls,children:[_t,xn?Lt.jsx("title",{children:xn}):null]}))});Pf.muiName="SvgIcon";const r0=Pf;function B7(ut,lt){function ht(_t,At){return Lt.jsx(r0,ke({"data-testid":`${lt}Icon`,ref:At},_t,{children:ut}))}return ht.muiName=r0.muiName,reactExports.memo(reactExports.forwardRef(ht))}const F7={configure:ut=>{jg.configure(ut)}},j7=Object.freeze(Object.defineProperty({__proto__:null,capitalize:or,createChainedFunction:f4,createSvgIcon:B7,debounce:d4,deprecatedPropType:h4,isMuiElement:p4,ownerDocument:Ea,ownerWindow:g4,requirePropFactory:m4,setRef:ka,unstable_ClassNameGenerator:F7,unstable_useEnhancedEffect:Oi,unstable_useId:Mg,unsupportedProp:v4,useControlled:Ng,useEventCallback:Lg,useForkRef:Xn,useIsFocusVisible:Bg},Symbol.toStringTag,{value:"Module"})),W7=g0(j7);var n0;function U7(){return n0||(n0=1,function(ut){Object.defineProperty(ut,"__esModule",{value:!0}),Object.defineProperty(ut,"default",{enumerable:!0,get:function(){return lt.createSvgIcon}});var lt=W7}(wc)),wc}const z7=({text:ut,displayText:lt})=>{const[ht,_t]=reactExports.useState(!1);return r$1.createElement(P7,{title:ht?"Copied link!":"Copy link to clipboard"},r$1.createElement("button",{id:"btn-invite",className:"button-black btn-invite",onClick:()=>{const At={url:ut,title:"Join my room"};navigator.share?navigator.share(At).then(()=>console.log("Hooray! Your content was shared to tha world")).catch(qt=>{console.log(`Oops! I couldn't share to the world because: ${qt}`),prompt("Copy the link below",ut)}):(_t(!0),navigator.clipboard.writeText(ut).catch(qt=>{console.log(`Oops! I couldn't share to the world because: ${qt}`),prompt("Copy the link below",ut)}),setTimeout(()=>_t(!1),1e3))}},ht?"Copied!":"Share link"))};var Rf={},V7=hu;Object.defineProperty(Rf,"__esModule",{value:!0});var Sm=Rf.default=void 0,q7=V7(U7()),H7=Wg(),Y7=(0,q7.default)((0,H7.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh");Sm=Rf.default=Y7;const Em="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzEiIGhlaWdodD0iMjYiIHZpZXdCb3g9IjAgMCAzMSAyNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0wLjQ4OTEzNiA1LjI1MzE3QzAuNDg5MTM2IDIuNDkxNzUgMi43Mjc3MSAwLjI1MzE3NCA1LjQ4OTE0IDAuMjUzMTc0SDI1LjQ4OTFDMjguMjUwNiAwLjI1MzE3NCAzMC40ODkxIDIuNDkxNzUgMzAuNDg5MSA1LjI1MzE3VjE3LjI1MzJDMzAuNDg5MSAyMC4wMTQ2IDI4LjI1MDYgMjIuMjUzMiAyNS40ODkxIDIyLjI1MzJIMjIuNzM5MVYyMC4yNTMySDI1LjQ4OTFDMjcuMTQ2IDIwLjI1MzIgMjguNDg5MSAxOC45MSAyOC40ODkxIDE3LjI1MzJWNS4yNTMxN0MyOC40ODkxIDMuNTk2MzIgMjcuMTQ2IDIuMjUzMTcgMjUuNDg5MSAyLjI1MzE3SDUuNDg5MTRDMy44MzIyOCAyLjI1MzE3IDIuNDg5MTQgMy41OTYzMiAyLjQ4OTE0IDUuMjUzMTdWMTcuMjUzMkMyLjQ4OTE0IDE4LjkxIDMuODMyMjggMjAuMjUzMiA1LjQ4OTE0IDIwLjI1MzJINy40ODkxNFYyMi4yNTMySDUuNDg5MTRDMi43Mjc3MSAyMi4yNTMyIDAuNDg5MTM2IDIwLjAxNDYgMC40ODkxMzYgMTcuMjUzMlY1LjI1MzE3WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTE0Ljk4OTEgMTUuMjUzMkwyMi4zNTA0IDI1Ljc1MzJINy42Mjc5MkwxNC45ODkxIDE1LjI1MzJaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K";var km={},Cm={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},K7=Cm;function Tm(ut){this.mode=K7.MODE_8BIT_BYTE,this.data=ut}Tm.prototype={getLength:function(ut){return this.data.length},write:function(ut){for(var lt=0;lt<this.data.length;lt++)ut.put(this.data.charCodeAt(lt),8)}};var X7=Tm,Om={L:1,M:0,Q:3,H:2},Ls=Om;function Er(ut,lt){this.totalCount=ut,this.dataCount=lt}Er.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Er.getRSBlocks=function(ut,lt){var ht=Er.getRsBlockTable(ut,lt);if(ht==null)throw new Error("bad rs block @ typeNumber:"+ut+"/errorCorrectLevel:"+lt);for(var _t=ht.length/3,At=new Array,qt=0;qt<_t;qt++)for(var Zt=ht[qt*3+0],cr=ht[qt*3+1],Gr=ht[qt*3+2],Zr=0;Zr<Zt;Zr++)At.push(new Er(cr,Gr));return At};Er.getRsBlockTable=function(ut,lt){switch(lt){case Ls.L:return Er.RS_BLOCK_TABLE[(ut-1)*4+0];case Ls.M:return Er.RS_BLOCK_TABLE[(ut-1)*4+1];case Ls.Q:return Er.RS_BLOCK_TABLE[(ut-1)*4+2];case Ls.H:return Er.RS_BLOCK_TABLE[(ut-1)*4+3];default:return}};var J7=Er;function Im(){this.buffer=new Array,this.length=0}Im.prototype={get:function(ut){var lt=Math.floor(ut/8);return(this.buffer[lt]>>>7-ut%8&1)==1},put:function(ut,lt){for(var ht=0;ht<lt;ht++)this.putBit((ut>>>lt-ht-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(ut){var lt=Math.floor(this.length/8);this.buffer.length<=lt&&this.buffer.push(0),ut&&(this.buffer[lt]|=128>>>this.length%8),this.length++}};var Q7=Im,pr={glog:function(ut){if(ut<1)throw new Error("glog("+ut+")");return pr.LOG_TABLE[ut]},gexp:function(ut){for(;ut<0;)ut+=255;for(;ut>=256;)ut-=255;return pr.EXP_TABLE[ut]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Tt=0;Tt<8;Tt++)pr.EXP_TABLE[Tt]=1<<Tt;for(var Tt=8;Tt<256;Tt++)pr.EXP_TABLE[Tt]=pr.EXP_TABLE[Tt-4]^pr.EXP_TABLE[Tt-5]^pr.EXP_TABLE[Tt-6]^pr.EXP_TABLE[Tt-8];for(var Tt=0;Tt<255;Tt++)pr.LOG_TABLE[pr.EXP_TABLE[Tt]]=Tt;var Pm=pr,In=Pm;function ra(ut,lt){if(ut.length==null)throw new Error(ut.length+"/"+lt);for(var ht=0;ht<ut.length&&ut[ht]==0;)ht++;this.num=new Array(ut.length-ht+lt);for(var _t=0;_t<ut.length-ht;_t++)this.num[_t]=ut[_t+ht]}ra.prototype={get:function(ut){return this.num[ut]},getLength:function(){return this.num.length},multiply:function(ut){for(var lt=new Array(this.getLength()+ut.getLength()-1),ht=0;ht<this.getLength();ht++)for(var _t=0;_t<ut.getLength();_t++)lt[ht+_t]^=In.gexp(In.glog(this.get(ht))+In.glog(ut.get(_t)));return new ra(lt,0)},mod:function(ut){if(this.getLength()-ut.getLength()<0)return this;for(var lt=In.glog(this.get(0))-In.glog(ut.get(0)),ht=new Array(this.getLength()),_t=0;_t<this.getLength();_t++)ht[_t]=this.get(_t);for(var _t=0;_t<ut.getLength();_t++)ht[_t]^=In.gexp(In.glog(ut.get(_t))+lt);return new ra(ht,0).mod(ut)}};var Rm=ra,er=Cm,i0=Rm,G7=Pm,$r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Et={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(ut){for(var lt=ut<<10;Et.getBCHDigit(lt)-Et.getBCHDigit(Et.G15)>=0;)lt^=Et.G15<<Et.getBCHDigit(lt)-Et.getBCHDigit(Et.G15);return(ut<<10|lt)^Et.G15_MASK},getBCHTypeNumber:function(ut){for(var lt=ut<<12;Et.getBCHDigit(lt)-Et.getBCHDigit(Et.G18)>=0;)lt^=Et.G18<<Et.getBCHDigit(lt)-Et.getBCHDigit(Et.G18);return ut<<12|lt},getBCHDigit:function(ut){for(var lt=0;ut!=0;)lt++,ut>>>=1;return lt},getPatternPosition:function(ut){return Et.PATTERN_POSITION_TABLE[ut-1]},getMask:function(ut,lt,ht){switch(ut){case $r.PATTERN000:return(lt+ht)%2==0;case $r.PATTERN001:return lt%2==0;case $r.PATTERN010:return ht%3==0;case $r.PATTERN011:return(lt+ht)%3==0;case $r.PATTERN100:return(Math.floor(lt/2)+Math.floor(ht/3))%2==0;case $r.PATTERN101:return lt*ht%2+lt*ht%3==0;case $r.PATTERN110:return(lt*ht%2+lt*ht%3)%2==0;case $r.PATTERN111:return(lt*ht%3+(lt+ht)%2)%2==0;default:throw new Error("bad maskPattern:"+ut)}},getErrorCorrectPolynomial:function(ut){for(var lt=new i0([1],0),ht=0;ht<ut;ht++)lt=lt.multiply(new i0([1,G7.gexp(ht)],0));return lt},getLengthInBits:function(ut,lt){if(1<=lt&&lt<10)switch(ut){case er.MODE_NUMBER:return 10;case er.MODE_ALPHA_NUM:return 9;case er.MODE_8BIT_BYTE:return 8;case er.MODE_KANJI:return 8;default:throw new Error("mode:"+ut)}else if(lt<27)switch(ut){case er.MODE_NUMBER:return 12;case er.MODE_ALPHA_NUM:return 11;case er.MODE_8BIT_BYTE:return 16;case er.MODE_KANJI:return 10;default:throw new Error("mode:"+ut)}else if(lt<41)switch(ut){case er.MODE_NUMBER:return 14;case er.MODE_ALPHA_NUM:return 13;case er.MODE_8BIT_BYTE:return 16;case er.MODE_KANJI:return 12;default:throw new Error("mode:"+ut)}else throw new Error("type:"+lt)},getLostPoint:function(ut){for(var lt=ut.getModuleCount(),ht=0,_t=0;_t<lt;_t++)for(var At=0;At<lt;At++){for(var qt=0,Zt=ut.isDark(_t,At),cr=-1;cr<=1;cr++)if(!(_t+cr<0||lt<=_t+cr))for(var Gr=-1;Gr<=1;Gr++)At+Gr<0||lt<=At+Gr||cr==0&&Gr==0||Zt==ut.isDark(_t+cr,At+Gr)&&qt++;qt>5&&(ht+=3+qt-5)}for(var _t=0;_t<lt-1;_t++)for(var At=0;At<lt-1;At++){var Zr=0;ut.isDark(_t,At)&&Zr++,ut.isDark(_t+1,At)&&Zr++,ut.isDark(_t,At+1)&&Zr++,ut.isDark(_t+1,At+1)&&Zr++,(Zr==0||Zr==4)&&(ht+=3)}for(var _t=0;_t<lt;_t++)for(var At=0;At<lt-6;At++)ut.isDark(_t,At)&&!ut.isDark(_t,At+1)&&ut.isDark(_t,At+2)&&ut.isDark(_t,At+3)&&ut.isDark(_t,At+4)&&!ut.isDark(_t,At+5)&&ut.isDark(_t,At+6)&&(ht+=40);for(var At=0;At<lt;At++)for(var _t=0;_t<lt-6;_t++)ut.isDark(_t,At)&&!ut.isDark(_t+1,At)&&ut.isDark(_t+2,At)&&ut.isDark(_t+3,At)&&ut.isDark(_t+4,At)&&!ut.isDark(_t+5,At)&&ut.isDark(_t+6,At)&&(ht+=40);for(var xn=0,At=0;At<lt;At++)for(var _t=0;_t<lt;_t++)ut.isDark(_t,At)&&xn++;var On=Math.abs(100*xn/lt/lt-50)/5;return ht+=On*10,ht}},Z7=Et,$7=X7,Dm=J7,Mm=Q7,_n=Z7,eS=Rm;function kr(ut,lt){this.typeNumber=ut,this.errorCorrectLevel=lt,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Gt=kr.prototype;Gt.addData=function(ut){var lt=new $7(ut);this.dataList.push(lt),this.dataCache=null};Gt.isDark=function(ut,lt){if(ut<0||this.moduleCount<=ut||lt<0||this.moduleCount<=lt)throw new Error(ut+","+lt);return this.modules[ut][lt]};Gt.getModuleCount=function(){return this.moduleCount};Gt.make=function(){if(this.typeNumber<1){var ut=1;for(ut=1;ut<40;ut++){for(var lt=Dm.getRSBlocks(ut,this.errorCorrectLevel),ht=new Mm,_t=0,At=0;At<lt.length;At++)_t+=lt[At].dataCount;for(var At=0;At<this.dataList.length;At++){var qt=this.dataList[At];ht.put(qt.mode,4),ht.put(qt.getLength(),_n.getLengthInBits(qt.mode,ut)),qt.write(ht)}if(ht.getLengthInBits()<=_t*8)break}this.typeNumber=ut}this.makeImpl(!1,this.getBestMaskPattern())};Gt.makeImpl=function(ut,lt){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var ht=0;ht<this.moduleCount;ht++){this.modules[ht]=new Array(this.moduleCount);for(var _t=0;_t<this.moduleCount;_t++)this.modules[ht][_t]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(ut,lt),this.typeNumber>=7&&this.setupTypeNumber(ut),this.dataCache==null&&(this.dataCache=kr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,lt)};Gt.setupPositionProbePattern=function(ut,lt){for(var ht=-1;ht<=7;ht++)if(!(ut+ht<=-1||this.moduleCount<=ut+ht))for(var _t=-1;_t<=7;_t++)lt+_t<=-1||this.moduleCount<=lt+_t||(0<=ht&&ht<=6&&(_t==0||_t==6)||0<=_t&&_t<=6&&(ht==0||ht==6)||2<=ht&&ht<=4&&2<=_t&&_t<=4?this.modules[ut+ht][lt+_t]=!0:this.modules[ut+ht][lt+_t]=!1)};Gt.getBestMaskPattern=function(){for(var ut=0,lt=0,ht=0;ht<8;ht++){this.makeImpl(!0,ht);var _t=_n.getLostPoint(this);(ht==0||ut>_t)&&(ut=_t,lt=ht)}return lt};Gt.createMovieClip=function(ut,lt,ht){var _t=ut.createEmptyMovieClip(lt,ht),At=1;this.make();for(var qt=0;qt<this.modules.length;qt++)for(var Zt=qt*At,cr=0;cr<this.modules[qt].length;cr++){var Gr=cr*At,Zr=this.modules[qt][cr];Zr&&(_t.beginFill(0,100),_t.moveTo(Gr,Zt),_t.lineTo(Gr+At,Zt),_t.lineTo(Gr+At,Zt+At),_t.lineTo(Gr,Zt+At),_t.endFill())}return _t};Gt.setupTimingPattern=function(){for(var ut=8;ut<this.moduleCount-8;ut++)this.modules[ut][6]==null&&(this.modules[ut][6]=ut%2==0);for(var lt=8;lt<this.moduleCount-8;lt++)this.modules[6][lt]==null&&(this.modules[6][lt]=lt%2==0)};Gt.setupPositionAdjustPattern=function(){for(var ut=_n.getPatternPosition(this.typeNumber),lt=0;lt<ut.length;lt++)for(var ht=0;ht<ut.length;ht++){var _t=ut[lt],At=ut[ht];if(this.modules[_t][At]==null)for(var qt=-2;qt<=2;qt++)for(var Zt=-2;Zt<=2;Zt++)qt==-2||qt==2||Zt==-2||Zt==2||qt==0&&Zt==0?this.modules[_t+qt][At+Zt]=!0:this.modules[_t+qt][At+Zt]=!1}};Gt.setupTypeNumber=function(ut){for(var lt=_n.getBCHTypeNumber(this.typeNumber),ht=0;ht<18;ht++){var _t=!ut&&(lt>>ht&1)==1;this.modules[Math.floor(ht/3)][ht%3+this.moduleCount-8-3]=_t}for(var ht=0;ht<18;ht++){var _t=!ut&&(lt>>ht&1)==1;this.modules[ht%3+this.moduleCount-8-3][Math.floor(ht/3)]=_t}};Gt.setupTypeInfo=function(ut,lt){for(var ht=this.errorCorrectLevel<<3|lt,_t=_n.getBCHTypeInfo(ht),At=0;At<15;At++){var qt=!ut&&(_t>>At&1)==1;At<6?this.modules[At][8]=qt:At<8?this.modules[At+1][8]=qt:this.modules[this.moduleCount-15+At][8]=qt}for(var At=0;At<15;At++){var qt=!ut&&(_t>>At&1)==1;At<8?this.modules[8][this.moduleCount-At-1]=qt:At<9?this.modules[8][15-At-1+1]=qt:this.modules[8][15-At-1]=qt}this.modules[this.moduleCount-8][8]=!ut};Gt.mapData=function(ut,lt){for(var ht=-1,_t=this.moduleCount-1,At=7,qt=0,Zt=this.moduleCount-1;Zt>0;Zt-=2)for(Zt==6&&Zt--;;){for(var cr=0;cr<2;cr++)if(this.modules[_t][Zt-cr]==null){var Gr=!1;qt<ut.length&&(Gr=(ut[qt]>>>At&1)==1);var Zr=_n.getMask(lt,_t,Zt-cr);Zr&&(Gr=!Gr),this.modules[_t][Zt-cr]=Gr,At--,At==-1&&(qt++,At=7)}if(_t+=ht,_t<0||this.moduleCount<=_t){_t-=ht,ht=-ht;break}}};kr.PAD0=236;kr.PAD1=17;kr.createData=function(ut,lt,ht){for(var _t=Dm.getRSBlocks(ut,lt),At=new Mm,qt=0;qt<ht.length;qt++){var Zt=ht[qt];At.put(Zt.mode,4),At.put(Zt.getLength(),_n.getLengthInBits(Zt.mode,ut)),Zt.write(At)}for(var cr=0,qt=0;qt<_t.length;qt++)cr+=_t[qt].dataCount;if(At.getLengthInBits()>cr*8)throw new Error("code length overflow. ("+At.getLengthInBits()+">"+cr*8+")");for(At.getLengthInBits()+4<=cr*8&&At.put(0,4);At.getLengthInBits()%8!=0;)At.putBit(!1);for(;!(At.getLengthInBits()>=cr*8||(At.put(kr.PAD0,8),At.getLengthInBits()>=cr*8));)At.put(kr.PAD1,8);return kr.createBytes(At,_t)};kr.createBytes=function(ut,lt){for(var ht=0,_t=0,At=0,qt=new Array(lt.length),Zt=new Array(lt.length),cr=0;cr<lt.length;cr++){var Gr=lt[cr].dataCount,Zr=lt[cr].totalCount-Gr;_t=Math.max(_t,Gr),At=Math.max(At,Zr),qt[cr]=new Array(Gr);for(var xn=0;xn<qt[cr].length;xn++)qt[cr][xn]=255&ut.buffer[xn+ht];ht+=Gr;var On=_n.getErrorCorrectPolynomial(Zr),ss=new eS(qt[cr],On.getLength()-1),ls=ss.mod(On);Zt[cr]=new Array(On.getLength()-1);for(var xn=0;xn<Zt[cr].length;xn++){var cs=xn+ls.getLength()-Zt[cr].length;Zt[cr][xn]=cs>=0?ls.get(cs):0}}for(var wl=0,xn=0;xn<lt.length;xn++)wl+=lt[xn].totalCount;for(var ep=new Array(wl),Al=0,xn=0;xn<_t;xn++)for(var cr=0;cr<lt.length;cr++)xn<qt[cr].length&&(ep[Al++]=qt[cr][xn]);for(var xn=0;xn<At;xn++)for(var cr=0;cr<lt.length;cr++)xn<Zt[cr].length&&(ep[Al++]=Zt[cr][xn]);return ep};var tS=kr,Df={};Object.defineProperty(Df,"__esModule",{value:!0});var rS=Object.assign||function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},nS=F,tr=Lm(nS),Nm=r$1,Bs=Lm(Nm);function Lm(ut){return ut&&ut.__esModule?ut:{default:ut}}function iS(ut,lt){var ht={};for(var _t in ut)lt.indexOf(_t)>=0||Object.prototype.hasOwnProperty.call(ut,_t)&&(ht[_t]=ut[_t]);return ht}var oS={bgColor:tr.default.oneOfType([tr.default.object,tr.default.string]).isRequired,bgD:tr.default.string.isRequired,fgColor:tr.default.oneOfType([tr.default.object,tr.default.string]).isRequired,fgD:tr.default.string.isRequired,size:tr.default.number.isRequired,title:tr.default.string,viewBoxSize:tr.default.number.isRequired,xmlns:tr.default.string},sS={title:void 0,xmlns:"http://www.w3.org/2000/svg"},ml=(0,Nm.forwardRef)(function(ut,lt){var ht=ut.bgColor,_t=ut.bgD,At=ut.fgD,qt=ut.fgColor,Zt=ut.size,cr=ut.title,Gr=ut.viewBoxSize,Zr=iS(ut,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize"]);return Bs.default.createElement("svg",rS({},Zr,{height:Zt,ref:lt,viewBox:"0 0 "+Gr+" "+Gr,width:Zt}),cr?Bs.default.createElement("title",null,cr):null,Bs.default.createElement("path",{d:_t,fill:ht}),Bs.default.createElement("path",{d:At,fill:qt}))});ml.displayName="QRCodeSvg";ml.propTypes=oS;ml.defaultProps=sS;Df.default=ml;Object.defineProperty(km,"__esModule",{value:!0});var aS=Object.assign||function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)Object.prototype.hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},lS=tS,cS=os(lS),uS=Om,fS=os(uS),dS=F,Rr=os(dS),Bm=r$1,hS=os(Bm),pS=Df,gS=os(pS);function os(ut){return ut&&ut.__esModule?ut:{default:ut}}function mS(ut,lt){var ht={};for(var _t in ut)lt.indexOf(_t)>=0||Object.prototype.hasOwnProperty.call(ut,_t)&&(ht[_t]=ut[_t]);return ht}var yS={bgColor:Rr.default.oneOfType([Rr.default.object,Rr.default.string]),fgColor:Rr.default.oneOfType([Rr.default.object,Rr.default.string]),level:Rr.default.string,size:Rr.default.number,value:Rr.default.string.isRequired},bS={bgColor:"#FFFFFF",fgColor:"#000000",level:"L",size:256},yl=(0,Bm.forwardRef)(function(ut,lt){var ht=ut.bgColor,_t=ut.fgColor,At=ut.level,qt=ut.size,Zt=ut.value,cr=mS(ut,["bgColor","fgColor","level","size","value"]),Gr=new cS.default(-1,fS.default[At]);Gr.addData(Zt),Gr.make();var Zr=Gr.modules;return hS.default.createElement(gS.default,aS({},cr,{bgColor:ht,bgD:Zr.map(function(xn,On){return xn.map(function(ss,ls){return ss?"":"M "+ls+" "+On+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:_t,fgD:Zr.map(function(xn,On){return xn.map(function(ss,ls){return ss?"M "+ls+" "+On+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:lt,size:qt,viewBoxSize:Zr.length}))});yl.displayName="QRCode";yl.propTypes=yS;yl.defaultProps=bS;var Fm=km.default=yl;function vS({zIndex:ut,demoMode:lt,noAbsolute:ht,noText:_t,size:At=256,containerStyles:qt={},baseUrl:Zt="https://joinplayroom.com/"}){const cr=Ie().currentRoom,Gr=m3(Zt,cr);return r$1.createElement("div",{className:"room-code-sticker",style:{zIndex:ut||"initial",position:ht?"initial":"absolute",...qt}},r$1.createElement("div",{className:"qr-code"},r$1.createElement(Fm,{id:"QRCodeScaled",size:At,style:{height:"auto",maxWidth:"100%",width:"100%"},value:Gr,viewBox:`0 0 ${At} ${At}`})),!_t&&cr&&r$1.createElement("div",{className:"room-code"},r$1.createElement("b",null,cr),r$1.createElement("span",null,"Scan QR code to join the room")),!_t&&!cr&&r$1.createElement("div",{className:"room-code"},r$1.createElement("b",null,"Scan to start"),r$1.createElement("span",null,"Download the game from the Appstore")))}const AS="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTEwLjI3NDcgMC4wODEzNzY3QzcuNzI1NTcgMC4wODEzNzY3IDUuMjgwOTggMS4wOTM5NiAzLjQ3ODU3IDIuODk2MzdDMS42NzYxNSA0LjY5OSAwLjY2MzU3NCA3LjE0MzY0IDAuNjYzNTc0IDkuNjkyNUMwLjY2MzU3NCAxMi4yNDE0IDEuNjc2MTUgMTQuNjg2MiAzLjQ3ODU3IDE2LjQ4ODZDNS4yODEyIDE4LjI5MSA3LjcyNTg0IDE5LjMwMzYgMTAuMjc0NyAxOS4zMDM2QzEyLjgyMzUgMTkuMzAzNiAxNS4yNjg0IDE4LjI5MSAxNy4wNzA4IDE2LjQ4ODZDMTguODczMiAxNC42ODYgMTkuODg1OCAxMi4yNDE0IDE5Ljg4NTggOS42OTI1QzE5Ljg4NTggOC4wMDUyOSAxOS40NDE2IDYuMzQ3ODUgMTguNTk4MSA0Ljg4NjY3QzE3Ljc1NDYgMy40MjU1NCAxNi41NDEzIDIuMjEyMjUgMTUuMDgwMiAxLjM2ODczQzEzLjYxOTEgMC41MjUyMDkgMTEuOTYxNiAwLjA4MTA1NDcgMTAuMjc0NCAwLjA4MTA1NDdMMTAuMjc0NyAwLjA4MTM3NjdaTTEwLjI3NDcgMi40ODQyOUMxMC43NzkyIDIuNDg0MjkgMTEuODc4NSA0LjIwODQgMTIuMjUxIDcuNDQwMDhDMTAuOTQxMiA3LjI0MDQxIDkuNjA4MjggNy4yNDA0MSA4LjI5ODQgNy40NDAwOEM4LjY3MDkxIDQuMjA4MTMgOS43NzAyIDIuNDg0MjkgMTAuMjc0NyAyLjQ4NDI5SDEwLjI3NDdaTTMuNDgwNzEgMTIuMDk1N0M0LjE4NzIgMTEuNTIyNyA0Ljk2MzI1IDExLjA0MTMgNS43OTAzNiAxMC42NjMxQzUuODQ1NjYgMTIuNDgzOSA2LjE4NjEzIDE0LjI4NDkgNi43OTk1NiAxNi4wMDA0QzUuMjU0NTkgMTUuMTQ2NSA0LjA3NDYyIDEzLjc1OCAzLjQ4MDY2IDEyLjA5NTdIMy40ODA3MVpNNS44Mjk1NiA4LjA2MTk4QzQuODU4MDcgOC40MDc0NyAzLjkzMDU1IDguODY2MDggMy4wNjYyNyA5LjQyODQ1QzMuMTYyODYgNi44OTgxNSA0LjU4MDI0IDQuNjA0MjMgNi43OTk1NiAzLjM4NTM2QzYuMjU1MDUgNC44OTAxIDUuOTI4MiA2LjQ2NDc4IDUuODI5NTEgOC4wNjIwOUw1LjgyOTU2IDguMDYxOThaTTEwLjI3NDggMTYuOTAxMUM5LjY3NDE0IDE2LjkwMTEgOC4yMjAzIDE0LjQ0NyA4LjE3MjM1IDkuODk5NTNDOS41NjAzOCA5LjYyMzgxIDEwLjk4OTMgOS42MjM4MSAxMi4zNzcyIDkuODk5NTNDMTIuMzI5MyAxNC40NDcgMTAuODc1NSAxNi45MDExIDEwLjI3NDggMTYuOTAxMVpNMTMuNzUgMTZWMTYuMDAwMkMxNC4zNjM2IDE0LjI4MzYgMTQuNzA0MSAxMi40ODE2IDE0Ljc1OTIgMTAuNjU5N0MxNS41ODY2IDExLjAzOTEgMTYuMzYyNiAxMS41MjE0IDE3LjA2ODggMTIuMDk1NUMxNi40NzQ5IDEzLjc1NzggMTUuMjk0OSAxNS4xNDYyIDEzLjc0OTkgMTYuMDAwMkwxMy43NSAxNlpNMTQuNzIgOC4wNjE5M0MxNC42MjE0IDYuNDY0NjIgMTQuMjk0NSA0Ljg4OTg5IDEzLjc1IDMuMzg1MkMxNS45Njk0IDQuNjA0MTcgMTcuMzg2NyA2Ljg5ODEgMTcuNDgzMyA5LjQyODI5QzE2LjYxOSA4Ljg2NTk4IDE1LjY5MTUgOC40MDczNCAxNC43MiA4LjA2MTgyTDE0LjcyIDguMDYxOTNaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K",wS="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTkiIHZpZXdCb3g9IjAgMCAyMCAxOSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGNpcmNsZSBjeD0iNS43ODI0NyIgY3k9IjQuMjk2NjMiIHI9IjIuNDY5NTgiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4yIi8+CjxjaXJjbGUgY3g9IjE0LjM4NDYiIGN5PSI0LjI5NjYzIiByPSIyLjQ2OTU4IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIuMiIvPgo8cmVjdCB4PSIxLjYiIHk9IjkuNzE4NDEiIHdpZHRoPSI4LjM2NDk5IiBoZWlnaHQ9IjcuNDIxNTgiIHJ4PSIxLjkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4yIi8+CjxyZWN0IHg9IjEwLjIwMjEiIHk9IjkuNzE4NDEiIHdpZHRoPSI4LjM2NDk5IiBoZWlnaHQ9IjcuNDIxNTgiIHJ4PSIxLjkiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMi4yIi8+Cjwvc3ZnPgo=",xS=[/^(:{2}f{4}:)?10(?:\.\d{1,3}){3}$/,/^(:{2}f{4}:)?127(?:\.\d{1,3}){3}$/,/^(::f{4}:)?169\.254\.([1-9]|1?\d\d|2[0-4]\d|25[0-4])\.\d{1,3}$/,/^(:{2}f{4}:)?(172\.1[6-9]|172\.2\d|172\.3[01])(?:\.\d{1,3}){2}$/,/^(:{2}f{4}:)?192\.168(?:\.\d{1,3}){2}$/,/^f[cd][\da-f]{2}(::1$|:[\da-f]{1,4}){1,7}$/,/^fe[89ab][\da-f](::1$|:[\da-f]{1,4}){1,7}$/],_S=new RegExp(`^(${xS.map(ut=>ut.source).join("|")})$`);function SS(ut){const lt=new RegExp("(?![\\w-]{64})((^(?=[-\\w.]{1,253}\\.?$)((\\w{1,63}|(\\w[-\\w]{0,61}\\w))\\.?)+$)(?<!\\.{2}))");return typeof ut!="string"?!1:_S.test(ut)||ut==="localhost"?!0:(lt.test(ut),!1)}function jm(){const ut=location.hostname;try{if(SS(ut))return"LOCAL"}catch{}return da(location.hostname+location.pathname).slice(0,9)}function o0(ut,lt){return Math.floor(Math.random()*(lt-ut+1))+ut}function ES(ut){let lt="";const ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_t=ht.length;for(let At=0;At<ut;++At)lt+=ht.charAt(Math.floor(Math.random()*_t));return lt}const ci=["#59BF82","#FFF27A","#F14EEB","#FF7F56","#6BDCFF","#3905F5","#FF3666"],Fs=["Eclipse","Crankshaft","Firetruck","President","Bat","Avocado","Holiday","Salad","Boom","Cornflakes"];function s0(ut){return ut&&ut.length>0?ut[Math.floor(Math.random()*ut.length)]:Ha(qa(ES(10)))}function kS({hide:ut,playerState:lt}){var ht;return r$1.createElement("div",{"data-testid":"full-room-popup",id:"full-room-popup",className:"full-room-container"},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",top:"50%",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) translateY(-50%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"create-room-modal",style:{fontFamily:'"Russo One", sans-serif',display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",textAlign:"center",margin:"1rem 0rem",background:"#fff",border:"2px solid #000000",boxShadow:"0px 12px 0px rgba(0, 0, 0, 0.25)",borderRadius:"20px",width:"100%",maxWidth:"360px",aspectRatio:"1/1",padding:"2.5rem 2rem 2.5rem 2rem"}},r$1.createElement("span",{style:{fontSize:"40px"}},""),r$1.createElement("div",null,r$1.createElement("h1",{style:{marginBottom:"1rem",marginTop:"0rem"}},"Kick Player"),r$1.createElement("h3",{style:{fontWeight:"bold",fontSize:"1rem",lineHeight:"normal",margin:"0rem",marginBottom:"2rem",fontFamily:"'Open Sans', sans-serif"}},"Remove ",((ht=lt.getState("profile"))==null?void 0:ht.name)||"this player"," ","from the party?")),r$1.createElement("button",{id:"btn-invite",className:"close-btn",onClick:()=>{lt.kick(),ut()}},"Kick"),r$1.createElement("button",{id:"btn-invite",className:"close-btn white",onClick:ut},"Cancel"))))}function CS({baseUrl:ut,avatarsOverride:lt,lockedNameField:ht,lockedPhotoField:_t,matchmakingOptions:At,onTurnbasedLaunch:qt}){var Zt,cr,Gr,Zr,xn;const On=Ie(),ss=Mu(),ls=At&&ss,cs=Va(),wl=Ym=>{if(!ls)return{data:null,error:null,isLoading:!1};const Xm=jm(),Jm=On.connection.getHostname(!1)+"/api/game/"+Xm+"/matchmaking_total_players";return fetch(Jm).then($_=>$_.json())},{data:ep}=Dw("dummy",wl,{refreshInterval:1e4}),Al=(ep==null?void 0:ep.totalPlayers)||0,[np,cp]=reactExports.useState(null),[Cp,Lp]=yi("__matchmakingqueue"),[jp,nm]=yi("__matchmakingChosenRoom"),[zm,i1]=reactExports.useState(!!window.isRunningOnNative),[d3,op]=reactExports.useState(!1),[Sn,Fo]=reactExports.useState(ci),as=On.getMyPlayerState()?On.getMyPlayerState().getState("profile"):{name:Fs[Math.floor(Math.random()*Fs.length)]+o0(10,99),color:ci[Math.floor(Math.random()*ci.length)]},[us,xl]=reactExports.useState({color:(as==null?void 0:as.color)||ip()[0],name:xt.get("playerName")||(as==null?void 0:as.name)||Fs[Math.floor(Math.random()*Fs.length)]+o0(10,99),photo:(as==null?void 0:as.photo)||(xt.get("playerPhoto")&&xt.get("playerPhoto")!=="false"?xt.get("playerPhoto"):s0(lt))});n1((Ym,Xm,Jm,$_)=>{const j_=ip();Fo(j_)});function ip(){const Ym=On.getPlayers();if(!Ym)return ci;const Xm=Object.keys(Ym).filter(Jm=>Jm!==On.connection.myId).map(Jm=>{var $_;return($_=Ym[Jm].state.profile)==null?void 0:$_.color});return ci.filter(Jm=>!Xm.includes(Jm))}function lp(Ym){var Xm;xt.set("playerName",Ym.name),Ym.photo&&xt.set("playerPhoto",Ym.photo),xt.set("playerColor",Ym.color),On.getMyPlayerState().setState("profile",Ym,!0),(Xm=window._PLAYROOM_CONFIG)!=null&&Xm.skipProfile&&Ym!=null&&Ym.photo&&On.setState("__launched",!0)}const[pu,go]=reactExports.useState(!1);reactExports.useEffect(()=>{function Ym(Jm){var $_;($_=Jm.data)!=null&&$_.isRunningOnNative&&(window.isRunningOnNative=Jm.data.isRunningOnNative,i1(Jm.data.isRunningOnNative),op(!0))}var Xm={...On==null?void 0:On.sdkOptions};return delete Xm.botOptions,window.parent.postMessage({joinRoomURL:`${window.location.href}&streaming=true`,sdkOptions:Xm??{}},"*"),window.addEventListener("message",Ym,!1),()=>window.removeEventListener("message",Ym)},[On]);const h0=zm&&((Zt=On==null?void 0:On.sdkOptions)==null?void 0:Zt.streamMode);if(np)return r$1.createElement(kS,{playerState:np,hide:()=>cp(null)});const kp=(cs==null?void 0:cs.length)||0,cm=ss&&((cr=On.sdkOptions)==null?void 0:cr.enableBots)&&(!((Gr=On.sdkOptions)!=null&&Gr.maxPlayersPerRoom)||kp<((Zr=On.sdkOptions)==null?void 0:Zr.maxPlayersPerRoom)),b3=(xn=On.sdkOptions)==null?void 0:xn.turnBased,L_=()=>ls?r$1.createElement("span",{style:{opacity:Al>0?1:0,color:"#00df59",marginTop:"1rem"}},r$1.createElement("span",{style:{backgroundColor:"#00df59",width:"0.5rem",height:"0.5rem",borderRadius:"50%",display:"inline-block",verticalAlign:"middle",marginBottom:"0.3rem",marginRight:"0.4rem"}}),Al," ",Al===1?"player":"players"," online"):null;return r$1.createElement("div",{className:"main-menu"},r$1.createElement("div",{className:"platform"},r$1.createElement("div",{className:"profilecontainer"},r$1.createElement("div",{style:{position:"relative",zIndex:1,display:"inline-block"},onClick:()=>{if(_t)return;const Ym=s0(lt);xl({...us,photo:Ym}),lp({...us,photo:Ym})}},!_t&&r$1.createElement("a",{className:"refresh-button"},r$1.createElement(Sm,{style:{color:"white"}})),r$1.createElement("div",{className:"avatar-photo ",style:{backgroundImage:`url(${us&&us.photo||Sg})`,borderColor:us.color}})),r$1.createElement("input",{type:"text",value:us.name,disabled:ht,onChange:Ym=>{xl({...us,name:Ym.target.value}),Ym.target.value&&lp({...us,name:Ym.target.value})},style:{borderColor:us.color},className:"input-name",maxLength:10}),r$1.createElement("div",{className:"color-tray"},ci.map(Ym=>{const Xm=Sn.includes(Ym);return r$1.createElement("span",{key:Ym,className:"color"+(Ym===us.color?" active":""),style:{backgroundColor:Ym,opacity:Xm?1:.5},onClick:Xm?()=>{xl({...us,color:Ym}),lp({...us,color:Ym})}:()=>{}})})),!b3&&r$1.createElement(r$1.Fragment,null,r$1.createElement("div",{className:"party-hr"},r$1.createElement("span",null,"Party")),r$1.createElement(kg,{mobileMode:!0,showEmptySlots:4,onPlayerKick:Ym=>{cp(Ym)}})),r$1.createElement("div",null,cm&&r$1.createElement("button",{id:"btn-addbot",className:"button-bot",onClick:()=>{F5()}}," +"))),Cp?r$1.createElement(r$1.Fragment,null,r$1.createElement(L_,null),r$1.createElement("button",{id:"btn-matchmaking",style:{cursor:"pointer",marginTop:"1rem",marginBottom:"6rem"},className:"button-black launch-btn btn-icon disabled",onClick:()=>{ss&&Lp(!1)}},jp?"Joining...":"Connecting...",ss&&r$1.createElement("small",{style:{float:"right",padding:"0 1rem",fontSize:"0.8rem",marginTop:"0.2rem"}},"Cancel"))):r$1.createElement(r$1.Fragment,null,r$1.createElement(L_,null),ls&&r$1.createElement("button",{id:"btn-matchmaking",style:{backgroundImage:`url(${AS})`,marginTop:"1rem"},className:"button-black launch-btn btn-icon",onClick:async()=>{Lp(!0)}},"Play Online"),r$1.createElement("section",{style:{width:"100%",display:"flex",marginBottom:"1rem",gap:"1rem"}},h0&&r$1.createElement("button",{id:"btn-launchjoin",className:"button-black airplay-btn",onClick:()=>op(!0)},r$1.createElement("img",{src:Em,alt:"airplay-icon",className:"airplay-icon"})),r$1.createElement("section",{style:{width:"100rem",display:"flex",gap:"1rem"}},r$1.createElement("button",{id:"btn-launchjoin",style:ls?{marginTop:"1rem",backgroundImage:`url(${wS})`}:void 0,className:"button-black"+(ss||b3?" launch-btn":" disabled")+(ls?" btn-icon":""),onClick:()=>{ss&&!b3&&On.setState("__launched",!0),b3&&qt()}},ss||b3?ls?"Start Private":"Launch":"Waiting for host to start"),ls&&r$1.createElement("button",{id:"btn-invite",style:{marginTop:"1rem",padding:"0rem 3rem 0rem 2rem"},className:"button-black",onClick:()=>{go(!0)}},"Invite"))),!ls&&(!b3||ss&&b3)&&r$1.createElement("button",{id:"btn-invite",className:"button-black launch-btn",onClick:()=>{go(!0)}},"Invite")),r$1.createElement("p",{className:"sdk-version"},"Multiplayer by Playroom v.",Gu.version),r$1.createElement(TS,{show:pu,onClose:()=>{go(!1)},baseUrl:ut}),r$1.createElement(OS,{show:d3,onClose:()=>{op(!1)}})))}function TS({show:ut,onClose:lt,baseUrl:ht}){const _t=Ie(),At=(ht||window.location.href.split("#")[0])+"#r=",qt=_t.currentRoom,Zt=g3(At,qt);return ut?r$1.createElement(_g,null,r$1.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:101}},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",bottom:"0.7rem",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) translateY(-10%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"create-room-modal",style:{fontFamily:'"Russo One", sans-serif',display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"1rem 0rem",background:"#fff",border:"2px solid #000000",boxShadow:"0px 12px 0px rgba(0, 0, 0, 0.25)",borderRadius:"20px",width:"95%",padding:"1rem"}},r$1.createElement("h1",{style:{marginBottom:"0.1rem",marginTop:"0rem"}},"Party maker"),r$1.createElement("h3",{style:{fontWeight:"bold",fontSize:"1rem",lineHeight:"normal",margin:"0rem",fontFamily:"'Open Sans', sans-serif"}},"Invite friends to play together"),r$1.createElement("div",{style:{backgroundColor:"#ff3666",height:"4rem",width:"4rem",transform:"scale(0.7)",borderRadius:"50%",position:"absolute",top:"1.5rem",right:"1rem",padding:"1rem",cursor:"pointer",textAlign:"center",display:lt?"flex":"none",flexDirection:"column",alignItems:"center",justifyContent:"center"},onClick:lt},r$1.createElement("img",{src:Eg})),r$1.createElement(vS,{noAbsolute:!0,baseUrl:At,size:128,noText:!0,containerStyles:{}}),r$1.createElement(z7,{text:Zt}))))):null}function OS({show:ut,onClose:lt}){return ut?r$1.createElement(_g,null,r$1.createElement("div",{className:"airplay-instruction-modal"},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",bottom:"0.7rem",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"airplay-instruction-container"},r$1.createElement("div",{style:{display:lt?"flex":"none"},onClick:lt,className:"close-icon"},r$1.createElement("img",{src:Eg,alt:"close-icon"})),r$1.createElement("img",{src:Em,alt:"airplay-icon",className:"airplay-icon"}),r$1.createElement("h1",{className:"airplay-instruction-title"},"Airplay on TV"),r$1.createElement("ol",null,r$1.createElement("li",null,"Connect your iPhone, iPad, or iPod touch to the same Wi-Fi network as your Apple TV."),r$1.createElement("li",null,"Swipe down from the upper-right corner of the screen to open Control Center on this phone."),r$1.createElement("li",null,"Tap Screen Mirroring ",r$1.createElement("span",{className:"icon-screenmirror"}),"."),r$1.createElement("li",null,"Select your Apple TV or any AirPlay compatible device."),r$1.createElement("li",null,"If an AirPlay passcode appears on your TV screen, enter the passcode on your iOS or iPadOS device."),r$1.createElement("li",null,"Return to this app to continue.")))))):null}const IS="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAxNyAyOCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3QgeD0iMC42NDIxODgiIHk9IjAuNjQyMTg4IiB3aWR0aD0iMTQuNzcwMyIgaGVpZ2h0PSIyNi4zMjk3IiByeD0iMS45MjY1NiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIxLjI4NDM4Ii8+CjxyZWN0IHg9IjYuMTAwODMiIHk9IjIuMjQ3NjkiIHdpZHRoPSIzLjg1MzEzIiBoZWlnaHQ9IjEuMjg0MzgiIHJ4PSIwLjY0MjE4OCIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg==",PS="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjQ4IiBoZWlnaHQ9IjQ0OCIgdmlld0JveD0iMCAwIDY0OCA0NDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfMV84KSI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIxX2RfMV84KSI+CjxwYXRoIGQ9Ik00OTAuNjY3IDIwQzU1My41MiAyMCA1ODQuOTQ3IDIwIDYwNC40NzMgMzkuNTI2M0M2MjQgNTkuMDUyMyA2MjQgOTAuNDc5MyA2MjQgMTUzLjMzM1YyODYuNjY3QzYyNCAzNDkuNTIgNjI0IDM4MC45NDcgNjA0LjQ3MyA0MDAuNDczQzU4NC45NDcgNDIwIDU1My41MiA0MjAgNDkwLjY2NyA0MjBINDU3LjMzM0gxOTAuNjY3SDE1Ny4zMzNDOTQuNDc5MyA0MjAgNjMuMDUyMyA0MjAgNDMuNTI2MyA0MDAuNDczQzI0IDM4MC45NDcgMjQgMzQ5LjUyIDI0IDI4Ni42NjdWMTUzLjMzM0MyNCA5MC40NzkzIDI0IDU5LjA1MjMgNDMuNTI2MyAzOS41MjYzQzYzLjA1MjMgMjAgOTQuNDc5MyAyMCAxNTcuMzMzIDIwSDE5MC42NjdINDU3LjMzM0g0OTAuNjY3WiIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSI0MCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc2hhcGUtcmVuZGVyaW5nPSJjcmlzcEVkZ2VzIi8+CjwvZz4KPHBhdGggZD0iTTQyNCAxNTMuMzMzVjE1My42NjciIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iNjYuNjY2NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik00OTAuNjY3IDI4Ni42NjdWMjg3IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjY2LjY2NjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjA3LjMzMyAxMzYuNjY3VjMwMy4zMzMiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMjgiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8cGF0aCBkPSJNMjkwLjY2NyAyMjBIMTI0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjI4IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9nPgo8ZGVmcz4KPGZpbHRlciBpZD0iZmlsdGVyMF9kXzFfOCIgeD0iLTMuMDUxNzZlLTA1IiB5PSItMy4wNTE3NmUtMDUiIHdpZHRoPSI2NDgiIGhlaWdodD0iNDQ4IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd18xXzgiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMV84IiByZXN1bHQ9InNoYXBlIi8+CjwvZmlsdGVyPgo8ZmlsdGVyIGlkPSJmaWx0ZXIxX2RfMV84IiB4PSItMy4wNTE3NmUtMDUiIHk9Ii0zLjA1MTc2ZS0wNSIgd2lkdGg9IjY0OCIgaGVpZ2h0PSI0NDgiIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iNCIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIi8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4yNSAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJCYWNrZ3JvdW5kSW1hZ2VGaXgiIHJlc3VsdD0iZWZmZWN0MV9kcm9wU2hhZG93XzFfOCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd18xXzgiIHJlc3VsdD0ic2hhcGUiLz4KPC9maWx0ZXI+CjwvZGVmcz4KPC9zdmc+Cg==";function RS({zIndex:ut,demoMode:lt,noAbsolute:ht,noText:_t,size:At=256,containerStyles:qt={},baseUrl:Zt="https://joinplayroom.com/"}){const cr=Ie().currentRoom;return reactExports.useEffect(()=>{},[]),r$1.createElement("div",{className:"room-code-sticker",style:{zIndex:ut||"initial",position:ht?"initial":"absolute",...qt}},r$1.createElement("div",{className:"qr-code"},r$1.createElement(Fm,{id:"QRCodeScaled",size:At,style:{height:"auto",maxWidth:"100%",width:"100%"},value:lt?"https://joinplayroom.com/demohost":`${Zt}R${cr||""}`,viewBox:`0 0 ${At} ${At}`})),!_t&&cr&&r$1.createElement("div",{className:"room-code"},r$1.createElement("b",null,cr),r$1.createElement("span",null,"Scan QR code to join the room")),!_t&&!cr&&r$1.createElement("div",{className:"room-code"},r$1.createElement("b",null,"Scan to start"),r$1.createElement("span",null,"Download the game from the Appstore")))}function a0(){const{innerWidth:ut,innerHeight:lt}=window;return{width:ut,height:lt}}function DS(){let ut=document.querySelector('meta[name="viewport"]');ut||(ut=document.createElement("meta"),ut.name="viewport",ut.content="width=device-width, initial-scale=1.0",document.head.appendChild(ut))}function Wm(){const[ut,lt]=reactExports.useState(a0());return reactExports.useEffect(()=>{function ht(){lt(a0())}return DS(),window.addEventListener("resize",ht),()=>window.removeEventListener("resize",ht)},[]),ut}class Um{constructor(lt){this.start=Date.now(),this.current=this.start,this.elapsed=0,this.delta=16,this.onTick=lt,this.tick=this.tick.bind(this),this.tick()}tick(){this.ticker=window.requestAnimationFrame(this.tick);const lt=Date.now();this.delta=lt-this.current,this.elapsed=lt-this.start,this.current=lt,this.delta>60&&(this.delta=60),this.onTick(this.delta,this.elapsed)}stop(){window.cancelAnimationFrame(this.ticker)}}const l0=["#59BF82","#FFF27A","#F14EEB","#FF7F56","#6BDCFF","#3905F5","#FF3666"];function MS(ut){var lt=Math.PI/2,ht,_t;ut>-lt&&ut<lt?ht="right":ht="left",ut>0?_t="up":_t="down";let At={};return ht&&(At.x=ht),_t&&(At.y=_t),At}function NS(ut,lt){return ut===0&&lt===0?NaN:-Math.atan2(lt,ut)}function LS(){return new Promise((ut,lt)=>{Ie().connection.once("sync",()=>{ut()})})}async function BS(){const ut=Ie();await LS(),Object.values(ut.getPlayers()).filter(At=>At.getState("__proxyBy")).forEach(At=>{ut.connection.removeProxyPlayer(At.id)});let lt=[];function ht(At,qt){const Zt=lt.find(Gr=>Gr.joystick.id==At.id&&Gr.joystick.index==At.index);if(Zt)return Zt.player;if(!qt)return;const cr=ut.connection.addProxyPlayer();return cr.setState("profile",{name:"Gamepad "+(lt.length+1),photo:Ha(qa(cr.id)),color:l0[lt.length%l0.length]}),cr.setState("__gamepad",!0),lt.push({player:cr,joystick:At}),cr.on("quit",()=>{const Gr=lt.findIndex(Zr=>Zr.player.id==cr.id);lt.splice(Gr,1)}),cr}const _t=new Um(()=>{var At;const qt=(At=navigator.getGamepads())==null?void 0:At.map((Gr,Zr)=>[Gr,Zr]).filter(([Gr,Zr])=>Gr&&Gr.connected),Zt=ut.sdkOptions,cr=(Zt==null?void 0:Zt.joystickConfig)||!1;qt.forEach(([Gr])=>{let Zr=ht(Gr);const xn=Gr.buttons.slice(0,4).map(cs=>cs.pressed);if(!Zr){if(!xn.some(wl=>wl))return;const cs=Object.keys(ut.getPlayers()).length;if(Zt.maxPlayersPerRoom&&cs>=Zt.maxPlayersPerRoom)return;Zr=ht(Gr,!0)}xn.forEach((cs,wl)=>{var ep,Al;let np=`ctr-button${wl+1}`;cr&&cr.buttons&&(Zr.getState(np)&&Zr.setState(np,void 0),np=(ep=cr.buttons[wl])!=null&&ep.id?`ctr-${(Al=cr.buttons[wl])==null?void 0:Al.id}`:np),Zr.setState(np,cs)});let On=Gr.axes;Math.abs(On[0])<.1&&Math.abs(On[1])<.1&&(On=[0,0]);const ss=NS(On[0],On[1]),ls=Math.PI*.5;isNaN(ss)?(Zr.setState("ctr-joystick",!1),Zr.setState("ctr-angle",0),Zr.setState("ctr-dpad",null)):(Zr.setState("ctr-joystick",!0),Zr.setState("ctr-angle",ss+ls),Zr.setState("ctr-dpad",MS(ss)))})});return()=>{_t.stop()}}function FS(ut,lt){return Math.floor(Math.random()*(lt-ut+1))+ut}function jS(ut){let lt="";const ht="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_t=ht.length;for(let At=0;At<ut;++At)lt+=ht.charAt(Math.floor(Math.random()*_t));return lt}const c0=["#59BF82","#FFF27A","#F14EEB","#FF7F56","#6BDCFF","#3905F5","#FF3666"],u0=["Eclipse","Crankshaft","Firetruck","President","Bat","Avocado","Holiday","Salad","Boom","Cornflakes","Pancake","Penguin","Pirate","Pumpkin","Rainbow","Squirrel"];function WS(ut){return ut&&ut.length>0?ut[Math.floor(Math.random()*ut.length)]:Ha(qa(jS(10)))}function US(ut){const lt={color:c0[Math.floor(Math.random()*c0.length)],name:xt.get("playerName")||u0[Math.floor(Math.random()*u0.length)]+FS(10,99),photo:xt.get("playerPhoto")&&xt.get("playerPhoto")!=="false"?xt.get("playerPhoto"):WS(ut)};return xt.set("playerName",lt.name),xt.set("playerPhoto",lt.photo),lt}function zS({options:ut={},onStart:lt,onReject:ht}){const{height:_t}=Wm(),At=Mu(),[qt,Zt]=reactExports.useState(!1),[cr,Gr]=reactExports.useState(!1),[Zr,xn]=reactExports.useState(!1),[On,ss]=yi("__matchmakingqueue"),[ls,cs]=yi("__matchmakingChosenRoom"),wl=Xc.getUrlHashParameter("streaming"),ep=Dn("player_name")?decodeURIComponent(Dn("player_name")):void 0,Al=Dn("player_photo")?decodeURIComponent(Dn("player_photo")):void 0,np=Xc.getUrlHashParameter("skipLobby");let cp={...ut};const Cp=US(cp.avatars);cp.profile=cp.profile||{name:Cp.name,photo:Cp.photo},ep&&(cp.profile={...cp.profile,name:ep}),Al&&(cp.profile={...cp.profile,photo:Al});const Lp=Ie(cp),jp=ut.streamMode||!1,nm=wl||jp&&!Z5(),[zm]=yi("__launched"),[i1,d3]=reactExports.useState(!1),op=ut.skipLobby||np;reactExports.useEffect(()=>{qt&&(ut.skipLobby||np)&&!ut.matchmaking&&Lp.setState("__launched",!0)},[qt]),reactExports.useEffect(()=>{(zm||i1)&&lt()},[zm,i1]),reactExports.useEffect(()=>{var us,xl;const ip=document.createElement("style");ip.innerHTML=[lg,cg,ug].join(`
`),document.head.appendChild(ip);let lp=Dn("r")?Dn("r").slice(1):ut.roomCode;lp?nm?Lp.spectateRoom(lp,!1,!0,!0):Lp.joinRoom(lp,!0,!0):nm?Lp.spectateRoom(void 0,!0,!0):Lp.createRoom(void 0,!0,!0),Lp.once("connection_initiated",()=>{Lp.connection.once("connected",()=>{Kc("r","R"+Lp.currentRoom),Zt(!0),mi.track("SDK: Connected",{gameId:ut.gameId}),ut.matchmaking&&op&&ss(!0)}),Lp.connection.once("disconnected",pu=>{Ln.roomLimitExceed.code===pu.eventCode?Sn():Ln.playerKicked.code===pu.eventCode?Fo():pu.reason==="MANUAL_DISCONNECT"?Zt(!1):window.location.reload()})}),mi.track("SDK: Insert Coin",{...ut,isStreamScreen:nm}),(us=Ie().sdkOptions)!=null&&us.allowGamepads&&nm&&BS(),(xl=Ie().sdkOptions)!=null&&xl.enableBots&&N5()},[]),reactExports.useEffect(()=>{(async()=>{var us;if(!On||!At)return;const xl=Math.max(1,parseInt((((us=ut.matchmaking)==null?void 0:us.waitBeforeCreatingNewRoom)||5e3)/1e3)),ip=jm(),lp=Object.keys(Lp.getPlayers()).length,pu=Lp.connection.getHostname(!1)+"/api/game/"+ip+"/matchmaking_find?forPlayers="+lp;mi.track("SDK: Matchmaking",{gameId:ut.gameId});for(let go=0;go<xl;go++){if(await Bl(1e3),!Lp.getState("__matchmakingqueue"))return;const h0=await fetch(pu,{method:"GET",headers:{"Content-Type":"application/json"}});if(h0.ok){const kp=await h0.json(),cm=go===xl-1;kp.room&&(kp.new&&cm||!kp.new)&&cs(kp.room)}}})()},[On,At]),reactExports.useEffect(()=>{(async()=>{if(ls){await Bl(1e3);const us=JSON.parse(JSON.stringify(Lp.getMyPlayerState().getState()));Lp.leaveRoom(),Kc("r",void 0),await Bl(100),Lp.joinRoom(ls,!0,!0),Lp.once("connected",()=>{Object.keys(us||{}).forEach(xl=>{Lp.getMyPlayerState().setState(xl,us[xl])}),Lp.setState("__launched",!0),Lp.emit("matchmaking_room_joined")})}})()},[ls]);const Sn=()=>{!(cp!=null&&cp.skipLobby)&&!np&&Gr(!0),ht({message:Ln.roomLimitExceed.reason})},Fo=()=>{!(cp!=null&&cp.skipLobby)&&!np&&xn(!0),ht({message:Ln.playerKicked.reason})},as=()=>{Gr(!1)};return cr?r$1.createElement(HS,{hide:as}):Zr?r$1.createElement(YS,{hide:()=>xn(!1)}):!qt||zm||op||i1?null:r$1.createElement("div",{className:"bootstrap-wrapper"},r$1.createElement("div",{className:"playroom"},r$1.createElement("div",{className:"modal-container fullscreen "},r$1.createElement("div",{"data-pop":"slide-up",id:"popup",className:"show"},r$1.createElement("div",{className:"popupcontrols"}),r$1.createElement("div",{className:"popupcontent",style:{transform:`scale(${Math.min(1,_t/880)})`}},!nm&&qt&&r$1.createElement(CS,{baseUrl:ut.baseUrl,avatarsOverride:ut.avatars,lockedNameField:!!ep,lockedPhotoField:!!Al,matchmakingOptions:ut.matchmaking,onTurnbasedLaunch:()=>d3(!0)}),nm&&r$1.createElement(VS,{baseUrl:ut.baseUrl,show:!0}))),r$1.createElement("div",{id:"overlay",className:"show"}))))}function VS({show:ut,baseUrl:lt}){var ht,_t,At;const qt=Ie(),Zt=(lt||window.location.href.split("#")[0])+"#r=",cr=(ht=qt.sdkOptions)==null?void 0:ht.allowGamepads,Gr=Va(!0),[Zr]=yi("__gamepadPressedTime"),xn=Gr.every(ls=>ls.getState("__gamepad"))&&Gr.length>0,On=(Gr==null?void 0:Gr.length)||0,ss=!((_t=qt.sdkOptions)!=null&&_t.maxPlayersPerRoom)||On<((At=qt.sdkOptions)==null?void 0:At.maxPlayersPerRoom);return reactExports.useEffect(()=>{let ls={};if(xn){let cs=function(){const ep=Object.values(qt.getPlayers()).map(cp=>new Pc(cp));let Al={};ep.forEach(cp=>{cp.isAnyButtonPressed()?(ls[cp.playerState.id]||(ls[cp.playerState.id]=new Date().getTime()),Al[cp.playerState.id]=new Date().getTime()-ls[cp.playerState.id],Al[cp.playerState.id]>2e3&&qt.setState("__launched",!0)):(ls[cp.playerState.id]=void 0,Al[cp.playerState.id]=void 0)});let np=0;Object.values(Al).forEach(cp=>{cp>np&&(np=cp)}),qt.setState("__gamepadPressedTime",np)};const wl=new Um(cs);return()=>{wl.stop(),qt.setState("__gamepadPressedTime",void 0)}}},[xn]),ut?r$1.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:101}},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",top:"50%",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) translateY(-50%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"create-room-modal",style:{fontFamily:'"Russo One", sans-serif',display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",margin:"1rem 0rem",background:"#fff",border:"2px solid #000000",boxShadow:"0px 12px 0px rgba(0, 0, 0, 0.25)",borderRadius:"20px",width:"95%",padding:"1rem"}},r$1.createElement("h1",{style:{marginBottom:"0.1rem",marginTop:"0rem"}},"Party maker"),r$1.createElement("h3",{style:{fontWeight:"bold",fontSize:"1rem",lineHeight:"normal",margin:"0rem",fontFamily:"'Open Sans', sans-serif"}},"Invite friends to play together"),r$1.createElement(RS,{noAbsolute:!0,baseUrl:Zt,size:128,noText:!0,containerStyles:{}}),cr?r$1.createElement("div",{style:{marginBottom:"2rem"}},r$1.createElement(f0,{expanded:!0}),r$1.createElement("hr",null),r$1.createElement(qS,{allGamepads:xn,holdProgress:Zr,playerLimitHasReached:!ss})):r$1.createElement(f0,null),r$1.createElement(kg,{showEmptySlots:4})))):null}function qS({allGamepads:ut,holdProgress:lt,playerLimitHasReached:ht}){return r$1.createElement("div",{style:{display:"flex",flexDirection:"row",padding:"1rem 2rem",transform:"scale(0.8)",marginTop:"2rem",alignItems:"center"}},r$1.createElement("img",{src:PS,style:{objectFit:"contain",height:"105%",width:"3rem",marginRight:"1rem",animation:"1s wiggle 3s ease-in-out infinite"}}),r$1.createElement("div",{style:{display:"flex",flexDirection:"column",lineHeight:"normal",textAlign:"left",justifyContent:"center"}},r$1.createElement("h2",{style:{padding:"0",margin:"0",lineHeight:"normal"}},ht?"Room is full":"Press button on game pad",ut&&r$1.createElement(r$1.Fragment,null,r$1.createElement("br",null),r$1.createElement("div",{style:{backgroundImage:"linear-gradient(to right, rgb(141 107 237), rgb(141 107 237))",backgroundRepeat:"no-repeat",backgroundPositionY:"bottom",paddingBottom:"0.5rem",backgroundSize:`${lt?lt/2e3*100:0}% 20%`}},"Press & hold to launch")))))}function f0({expanded:ut}){return r$1.createElement("div",{style:{transform:"scale(0.8)",display:"flex",flexDirection:"row",borderRadius:"1rem",padding:"1rem 2rem",marginTop:"-3rem",marginBottom:"2rem"}},r$1.createElement("img",{src:IS,style:{objectFit:"contain",height:"105%",width:"2rem",marginRight:ut?"2rem":"1rem",animation:"1s wiggle 3s ease-in-out infinite"}}),r$1.createElement("div",{style:{display:"flex",flexDirection:"column",lineHeight:"normal",textAlign:"left",justifyContent:"center"}},r$1.createElement("h2",{style:{padding:"0",margin:"0",lineHeight:"normal"}},"Scan the code ",ut?" from phone":"")))}function HS({hide:ut}){return r$1.createElement("div",{"data-testid":"full-room-popup",id:"full-room-popup",className:"full-room-container"},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",top:"50%",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) translateY(-50%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"create-room-modal",style:{fontFamily:'"Russo One", sans-serif',display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",textAlign:"center",margin:"1rem 0rem",background:"#fff",border:"2px solid #000000",boxShadow:"0px 12px 0px rgba(0, 0, 0, 0.25)",borderRadius:"20px",width:"100%",maxWidth:"360px",aspectRatio:"1/1",padding:"2.5rem 2rem 2.5rem 2rem"}},r$1.createElement("span",{style:{fontSize:"40px"}},""),r$1.createElement("div",null,r$1.createElement("h1",{style:{marginBottom:"0.1rem",marginTop:"0rem"}},"Room is full"),r$1.createElement("h3",{style:{fontWeight:"bold",fontSize:"1rem",lineHeight:"normal",margin:"0rem",fontFamily:"'Open Sans', sans-serif"}},"Looks like the game is in progress")),r$1.createElement("button",{id:"btn-invite",className:"close-btn",onClick:ut},"Close"))))}function YS({hide:ut}){return r$1.createElement("div",{"data-testid":"full-room-popup",id:"full-room-popup",className:"full-room-container"},r$1.createElement(Li,{visible:!0,center:!0,style:{color:"#000",maxWidth:"500px",top:"50%",position:"absolute",width:"100%",left:"50%",transform:"translateX(-50%) translateY(-50%) scale(0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"4.5rem"}},r$1.createElement("div",{className:"create-room-modal",style:{fontFamily:'"Russo One", sans-serif',display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",textAlign:"center",margin:"1rem 0rem",background:"#fff",border:"2px solid #000000",boxShadow:"0px 12px 0px rgba(0, 0, 0, 0.25)",borderRadius:"20px",width:"100%",maxWidth:"360px",aspectRatio:"1/1",padding:"2.5rem 2rem 2.5rem 2rem"}},r$1.createElement("span",{style:{fontSize:"40px"}},""),r$1.createElement("div",null,r$1.createElement("h1",{style:{marginBottom:"0.1rem",marginTop:"0rem"}},"Disconnected"),r$1.createElement("h3",{style:{fontWeight:"bold",fontSize:"1rem",lineHeight:"normal",margin:"0rem",fontFamily:"'Open Sans', sans-serif"}},"You were removed from the party")),r$1.createElement("button",{id:"btn-invite",className:"close-btn",onClick:ut},"Close"))))}function d0(ut={},lt,ht){if(window.__playroomjs_mounted)return;var _t=document.createElement("div");document.body.appendChild(_t),window.__playroomjs_mounted=!0;const At=qt=>{delete window.__playroomjs_mounted,Ie.reset(),ht(qt)};KS(r$1.createElement(zS,{options:ut,onStart:lt,onReject:At}),_t)}function KS(ut,lt){Wt.createRoot?Wt.createRoot(lt).render(ut):Wt.render(ut,lt)}const XS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA0oAAANKCAYAAAC02r7tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAJKMSURBVHgB7P13lGTped95/u69YdNX2vKuq7ur2gNomAZAoOFEigBJQCIJzpwjDXfEkTlaacThH7ua0e5yjjRnj2bnSHtmNbPSWVkuJVKOFEkJokhCAEk4gnDtvSlvs9Jnhrv3zvPcG1FVHV3VXSYzKyPy++m+FZGRmZGZkVFR7+8+7/u8gaRUAAAAAIArQgEAAAAA3oKgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCgIAAHdFUCzaH8F135c2GgIA3D0EJQDA3WVBIbAjmppSUC7bv0z2T1Nqt6fJDT4+lMLwHUPGVuc/r6JIKpXsx7nO5A57d+OFF6Q4VrK6KgDA5iMoAQDuqiwoWDiqfurTKuzZq3DHDilJlNygohJ4uLBAVZieVuBhowdlP0N1QEGlkgema9/nIcqOi7/w80qWl5S89JIAAJuPoAQAuLu8omRBqfzIoyo98KCisRGlaarUqinX/XD7WA9I4eBg71aUPBxZRSwoXKcqFuR/ZD9n2JtBEAD6AUEJAHB3tStK5UcfU+VDT1hQGspuTm/w4b0ZjW6Dh6kerZgBQD8gKAEAtoS0VlO6uqrUg1JiFaVGV0XJE1IQZtWmIE3Vt4qhVZxoSgsAdxtBCQCwRVg4uraBQ3cY8jeDpP2u/g1KQftHu26TBwDApiEoAQC2llQ3nnfXz5WkbtWqAquyAQDuDk5XAQCwBXmziqxdOgDgrqCiBADAFhSNT0hsOgsAdw1BCQCALcYnGBYOHHjrmi0AwKZi6h0AAFtQMDCgoFwRAODuoKIEAMAWVD56TEGzKQDA3UFFCQCALSgcGckbOpRKtAoHgLuAV14AALagaHpG4eSUgmpVKjABBAA2G0EJALDtpVvoSOwP7+EQjY4qmppS8fA9WXUJALC5CEoAgG1vKwWlzjfklSSfehdOTmbT7wAAm4taPgCg77SUh46WelArtj/sGBtSsntGlSc+rOTCBbXOnNFEVLQznEH2YXUrO/nRTFMlVyMWAGCdEJQAAH2jExcGgjxMvNs/cv5+n1oR6eYF13zO7UzLKLfvo/0tvqO4WNLazE6tTcyoNTKlqSRU1P4hZ+O6HU2djWuqJbEAAOuLoAQA6Bu+Pav/w7bHUsiwXU69SxjZYe/3SW2DuonU0ub3X7EPH2lf3goPVzvte/OAVXy3z7VKUWvHuJZ+5EeUHp9XujqsvbOrKsT5JrR/VLusP1q7rF9fPq3TyZoAAOuLoAQA6HmdSpJHCM8fD1gYOWxX3h+9cxrxkOShpXALQSmrJAVXP/dW+MdXg6tVqXeS1YgqJTWnJ6S9+5QentPA3EuKWi374mXdm7TUsjD15dULOh/U7XoiAMD6ISgBAPpC1jHODs9Gu+04YmHpifAWSz5biAcl3z8pHBpSOj4uTUxZuno9qzQFUUnThYpWk6aGwojOTACwAQhKAABsQdeGn6X33q/6zLhGvvu8onheBasm7QrLGq8UdU9xSJdaDb3RXBEAYP1wEgoAgC0oaB+ZSlnp2LDiSik7lCQq+s1WTRoJihoKOO8JAOuNoAQAwBZX2j2lgWOHtPrYfVo5dlDpyprCOFE5LOi+0pAeKg0LALC+CEoAAGxxhShSqVhQeGSfAjsUdv75TrW/NKjD5SEBANYXtXoAALa4QsGDUajovv3SQCVvu+cbMaWp9hUHtJz05Na6ALClEZQAANji0vYRHT2sdHKHVu47qNLcoop2HIqqisrSfaXhLDCdabGnEgCsB4ISAABbXGefqHBiRGkcq7lzQlGjqeLsvIajosbCWFOFkpJWKgDA+mCNEgAAW1zYPgYqJZUnR7X8hY+rcXR/1v1uICposlDVh8vjurc4KADA+iAoAQDQQ8JCIeuCF0yPqzkxpiRNVUxSHSwNamdUVTEI1Lvb7ALA1kFQAgCglxQjDTx0j3TfAa0d3K2kVFCh2dT7KxM6XB5UJYgUBkQlALhTBCUAAHqI14vKlZLS+/Zr9TMfUH16TGmpqPuLg3YM6f7yiAbZgBYA7hivpAAA9BAvFoVRqHR4QPHMuJJySYUw1HAaaDgs2lFQREUJAO4YFSUAAHpMZEf12EGNfuFJNT72Hq08dp9Ub+reoKqfGzmonVFFAIA7Q1ACAKAHeVgq+hVfp3Rot9JCQdVCUXuKAxqPStoRlgQAuH0EJQAAepDPnfe6UfDwESUfflRJqajx8oAeLY/qUHFQuwtUlQDgTrBGCQCAHlbaN52tWVp7z/0Kz8+q+toJvc/Ckq9Veq6xKADA7SEoAQDQw8KRIYVxqsa+GZWbLZVeTrU7qiihoQMA3BGm3gEA0MMG7Bgaqkr/p88q/RMfULp7Sk+WxvVT2qE9hap2RKxVAoDbQVACAKAPFKoVqy4NqjUzoUKlonJU0K5CRRMEJQC4LUy9AwCgx4XFgob271RjtablC/Maml9SsZnqRwd36qn6gl5tLAsAcGuoKAEA0Ad8RVI4PqrosfvUstBU3zWp94ZDOhJUNRIWVQz4Jx8AbgUVJQAA+oDHoGh8RNF77lfrwC6lq3W999VBnQvXsg54cZKqmSYCANwcTi8BANAnvE14pVpW8wsfV+3P/4R2jU/rkbEZ/fTwXu0vDggAcPOoKAEA0CeCIFAYWGVpdEixXx8a1Eiyqt1RWaNBIZt+R1UJAG4OQQkAgD4RtI+RI/uU2uXcp96nqVeP64t/uKw3okVdjGp6rbUqAMC7IygBANBnOlvNpk88rMJASeXXT+nohWUtLKZ6bYmgBAA3gzVKAAD0mawDnl/58CMqPnKfRvbs1LHRKX2oOiEAwM2hogQAQJ8aHRtSev8Brf70Z3Tkt0Lt+06ih0ojWklivdFaEQDgxqgoAQDQp4rFgoKpMSX37tP45IR27ZjQ/qiqibCUNX4IrkzSAwB0o6IEAEAfCyfHVPRjflHR4X36P/9PL+rZeFnPNBcUB6laqQAA10FQAgCgj3nNKLIj3TWtVjPR7j17tLA8p0P1M5qNm7oY1wUAeDuCEgAAfSxsH7WjB9Q6slcPP/iQipfP64OXT+ipxgJBCQBugKAEAMA2UCpGKhYiJf/Vj2nny2/oZ19+Xb+2dEoXWnVdTBpsRAsAXQhKAABsA2GY929qHdyt8vKKDpYGNRmVVQ3o6wQA10NQAgBgGwkeOKDqzh06OPI/6Au/8ds6Ysdfu/AUU/AAoAunkQAA2EayhuCVkrRrUjsO7dehY0d1z+CY9herAgBcRUUJAIBtJDtDWi1LDxzWnvkl7YkjfeTlp/SmXZ5orgkAkCMoAQB6XtA+XJJKS2mqWqBrbsVbBPa4RKGC+/ZLI0P68e98RyfOndUf/tF/0EoaayVpCQC2O4ISAKCv+P6pXhdpCu8otLA0PS5N7tCDh45oLCxqOIjUShOtCABAUAIA9BUPSqt20Jrg3aVhaEeqsb/6M6qcvai/9dor+nfnXtWvn3slC0w0DAewnRGUAAB9xwf4qfCu2tMTI6sqhXFLRx55UPeUmrpn7bJOLM9rpUVdDsD2Rdc7AAC2Kc9J2UBgoKzqnp16/Bf+vD73Ez+u/+aBD2rX4IgAYDujogQAALLmDsn0Du196Kg+tLqmb144odJaQ883lgQA2xEVJQAAkAWldGZcex46pg998km9d2qvjhWHBQDbFRUlAACQ8bOnwb4ZadeE/uv/+1/Xx59+Tmf+x7+hS626XqGyBGCbISgBAIBM1tuhEGXH4M5pTc0vaNfklJqLcyo2V9RM6YMHYPsgKAEAgLcZfOw+7TuyR//X1f+Hvvatb2rtn/0TvdlaZTNaANsGQQkAAFxXoVTS7vc8qEejRJ+fvaRf+9pXdPrSRS0mtA0H0P8ISgAA4LqiUlF73vOQykODGo5DfefF57V4eY6gBGBbICgBAIB3NLxrWkd/9BP66bnz+vCJk/rbf+/vKk6lehoLAPoVQQkAALwjryj5cfSRh7VjYlLT45NarK2qubqiNE2zAwD6DUEJAADclA9/5hPZ5crikv7oe9/RL//bf6XV+poaTabiAeg/BCUAAHBL7nngPi3FDX3k3Bk98+wzOnfhvJqtJpUlAH2FoAQAAG7JE5/+hHYfuUfTe/bon/zjf6TFry9oMW4RlAD0FYISAAC4ZVNTk/rYkx9TUinqYz/2Of3jX/qnOnv6tBbtAIB+QFACAAC3bGBwIDuOHL1f5R07VBoaUqlaFQD0C4ISAGBLSJstpQ2aAvSa99x3X3ZM/JNf0ndefEF/43/7e2q89JIdLwoAehlBCQBw9yWJ0paFpGZD6E3DpaJ2WWXp8Yce0vlAOhe3tHzunFq1mv1uWwKAXhPZ8YsCAOAuCfyPNNXAJz+pcGxMhb178nfEiW6Vb3/qZwAPhYH2BYEeCwNhc8wMDerwnt168pOf0PDBQ1ravUdnnn5asXfDaxCAAfQeKkoAgC0hbcVK2Y+np5Ut8E7HqZ48fFj7R0cUWaXw8sWLevq3fkvxxQuKL1wQAPQKghIAYGvwCtJtVJGwdYR2jFhYum9yUvtmpvWVWkOnzp/Xc9/9rtLaGkEJQE8hKAEAgPURBDayCOW97ypWTfobDxzVwoPHdOzhR/Sdp36g7z31lJZ/6zcVnz6t1skTAoCtjKAEAADWj4WlwKpKvjpsqlJRKZUe2Tmj+tJh1eJYr5w7p6VdpxSUSkobdSWzs0pqtayhBwBsJQQlAACwvryyZIdPxdthV3/GqkzvOXqfnrz/Pv1/nviwXp6b0/Jv/oaar7yitd//qmTVpWR1VQCwlRCUAADAhpv0GlOQ6icGKjoejOkPPvhBzR88qDMHDij5/veUWniqP/WDrKFHsrAgALjbCEoAAGDDTVhOmrCwNDRQ1dlqVac/+CGdqdV0+UNPKN25U+n582qeOqV0bZWgBGBLICgBAIBNsysINGWh6W8XQ70SVvX75ZJ++2e+qNlmQwOf/Wy2Zqn+x3+smlWZWqdPZ9Pz0uVlJctLAoDNRFACAACbxtctFe2YssC0HEn7gkj7igVFVmma3Z2oOTSs1sULKl6eVVCwYYqFpHhx0T7JrjdbSltNqV7P7itNUwHARiEoAQCATeUd8cp2HLWwdDQK9HiSat6OvzMyouWxUb10+IAGfvKnFFkOajzztOJz56zC9H01X35ZjZdfUuPZZ5R6p7xGQwCwUQhKAADgrpqx5DRqlz9hoemSxahhC02nE2neKkbpzLSCoUFVBwdUuvdeVR5/v5qvvKxkbU1N75Y3N5cfCwt5u3GrPmWVpjgWANwJghIAALirdno7ceVB6bRlnHqcqOZVJp9Zt3NGob2/fOQeqyI1sqN1wgLSyrLWvvPHar3+uh2vWWg6mYWkZGVFQZIoJSgBuEMEJQAAsCWM2FGxzPRno1CPBanOKtWX4lTn00SnLDgFYSgNVVU8vF+FVkvF/XusslSz8LSm1plzipeW1XrzzazxQ+vcOas0XVa6tKTmieP2MXXFFy9m0/V8nVNqny/WOAF4BwQlAACwJRTbx6CFpWYYaMpyzIsWZgp2uZDmtzUtRGlwMFvnFI6OKmp/bjSzW4kHpekpxQsLis6cUXL+vN22pKBcVlKrKRwYyNqPZ3s1+Qa3VnVKrfqUBSavQq2tZffl7wcAghIAANhyjgR+BHqPhaOzlmO+FCd62qpKTzdinbBLqwepqryLnh/R+JiiyXGVrNrUkTYt/NjHZgHIKkixhaZ0ccFCk1Wgjh+3ypMFq3aYipcWVf/KV7IOe62TJwQABCUAALBleQgaDbxDnlWbLDSNWfXnu1ZPWrLwdMmuWz1IXv8pxKmCNFF7uVMuyI+gWFAaRQpTqyAVAgWNAbvZPrfZUMEqUF5t8uYQrZdessQVEZQAZAhKAABgy/KpeDvs+GQU6j0WjOYV6V9adem8BaX/aOGoZpc+Ya5it0Xd/RsiT0kWtSoVhR6ahqr57X7zPYff9rVq3/5jBeWK6k8/JQAgKAEAgJ4waOUiD06fs9C0aAFpv739uoWn15JUx+2o2ft8K9rOdLzQG0B4zcnXH/kdBF136OWnMMzXKfnh+zKxPglAG0EJAAD0hFL7eMgCTiPIO+QNWRWpaZeX7Kin+dolb/CQZaK0/cd1mttdCU5+WGUqtYqU4lZ+AIAISgAAoAd5YHqvBab3FgL9N3b9Kd+k1i5/s5XorAWm5+1tn5Ln9aEB5XkoEgDcPIISAADoed5SfNTKRPeGgYa9OGRvX7bbF+1Ybe+X5EuYgmsOAHgnBCUAANDzvJW4txT/kAWl8xaMXrFs9C2rKr1hx5fjNAtJK8orUT748TVMBCYA74SgBAAA+oYHoB0Wmu4PvFteoJUw1WF7e95ufyHJu+X59WULU6kdgXfLs0um5QHoRlACAAB9wytE1faxM+zcIl20MNRIA9WUaqXd38GrTFlYIigBuA6CEgAA6GvvDfNJdj9k1aWz2V5M0lfjVKctLT1vx2wY6nLWQpyJeACuIigBAIC+Vu5cBoFSO0YtLN1nmWjCjiiRztvlBYU6WS5rrVpVPch2X1KSpgKwfRGUAADAtjHuf1gQ+slCkG1Oe9EOrzKds0z0z6ZndHGtpqUgUiNN7P0EJWA7IygBAIBtydcljcgbQAQaCVJ9bnq/lmuhPjywX2fVtPDU1IW4plqS6HRrLQtPtTQWgO2BoAQAALYlHwR5UBrJliYFmpzep1a9qIYFpedU0/Na07P1BS3ETS0mTa1aSKrFBCVguyAoAQCAbc2jT0t5J7yC1ZfGC1VNlkf04XJJrSRWyypJL3lgsrB0tlnTy60lXWw19N3anFWZYs226lq2y3qaCED/ICgBAIBtLW0fHQWrLhWCSNXQhklBlL13NRnQaNxS2dcv2dsDQV2zcT2bilcOQgtRLfuYOJueFyvNjzS/pCkE0JsISgAAAFf4JrQWbxI/WhaZ8pbhB8s+SS+//hmPVb5eyT7Gp+Odbq7qjeaKLlll6bnGouas8vSmvX2mtaYzzTWt2MckNIYAeg5BCQAA4AauxJsr0+o8OuW3FoJAVUWaLlRUCiPtKybaUxrSWtrKpuN9e21W39ZlPW/hqUFVCeg5BCUAAIAbageca4JO2q4zZVP0wlBVC0kzwYA6FSevHjXipipBmFWZXmkuZ1PyAPQWghIAAMAtSa+pNPk1C0jeNjzI602h3VIKCxaUIg0EYTs+Aeg1BCUAAIA7kr7lwje0De2I/CAmAT2LoAQAALCevMpkFaY4TdQIUto4AD0qFAAAAADgLQhKAAAAANCFqXcAAACmVSkpsAMAHBUlAAAAkxQipXYAgCMoAQAAAEAXpt4BAIBtzRt4Z3sf+WW2LdKdt/T27WVTiY53QA8jKAEAgG0tah8TaR5tUs9Jd5CV/F7iNFbT24MniQD0JqbeAQAArBerRsV2UbeQtJK0tBA3rbpEXQnoRQQlAACAdZWqZdUpD0trVllKU4IS0IsISgAAAADQhaAEAAAAAF0ISgAAAADQhaAEAAAAAF0ISgAAAADQhaAEAAAAAF3YcBYAgK3INypt2RHH9q91lB/BHeyCineVhnb+OArtMrCHOhCPNrC9EZQAANiK5pakpRXpxePSA4elXZP2r3ZIWNpAqyODSkaHlAyUVA5CVTyshky+AbYrghIAAFuRb1I6vyw986qN4GvS1A7pwUPSQEWqlIX1F1slKbFglEY2PErYJBbY7ghKAABsRbFVM+YWlXzp69LOCQXDAwr+6s9Ik2P2NkFpXXkotaNhFbu4GCkqFJW0YqnVsgpeShUP2KYISgAAbEWRr5eJFBSL0htnFSyvWJHDBu3Dgwo+/6R0YKeCA7uEdeBBKAtDBCIAVxGUAADYinzgHraPxWXp8qL0wpvSxKh0aV6aGhMAYOMQlAAA2OpKRaUDFQWnLkinL0p//e9JRw8qtSP4U5+w6tKubHoeAGD9EJQAAOgV0TVd7+aswvT6aaXffFbBmUvS++6XqtW84hQyhex2BKWCQgulQbmkIK1LLQHYxghKAAD0imIhD0reaOCkVZdeP6P05HmlM+M2sE+lvTMKxoaV7SdPWLplkVfthqoKB+3S96/yboMR7cGB7YqgBABAr+kM3n1j1IVlqWmlj1/9HWn3lNJnXlXwgQeypg86SLOHm9LuegcA1yIoAQDQa7yqFLWrRvWmtFaXZheyoKTVNWl6R36doAQAt42gBAB3SRBF9ipcUFAq2YA3VDA4dPOfbGe/09UVpfW60lpN2IY6La3L7epSkkjnZ6UT55T84Q/suRUp/MlPSffslT78SL5h7fCAcB3tx3JkaTXb5De4vJBPb2TaHbCtEZQAYB0EYWcqlF0Wiwo8ALUvVSxlg9YsGEV2uw3Isr1xfI8cf3+5nH1eODR8818wTZRYUFKtnoUlf1s+e6jVsgxlV+JYaaORDZ7TplUckjgPVb6Bpr2dXaK/dIKTPdeyJ0Nix9lLWcc8vfimtGwhYHzUqk3jeSUq+zhcK7C/RmrPwGOFFwCCEgCsBw9FHpKsOlSY2algeFiFnTsVDg4qmJ5WNDyi0G4Lx8aykBTtGM8/3j+vUslCUzQ6evNfzwJQstKuKFkgShsWhuKW4sWF7LZkdVXxeassWLUpuXhJ6dKiWufPK75wXsniotKFBaHPeEjyZg92BLGN+FsWiP/916QhqyJNjkkffFA6uFvBT386/7jxEeGtQm/gkB0pS5YAEJQA4GaFO3YoLFiwGRtVODCgcHRM0bidnR8aUmn/gWwKnQeh7KhUFdjtgQ9aLSR12g57dckDUuBVJK8seVgK85bP3pL4pvkormlVIqsUZVUjHxin7eqRV5OsYpTU8gpSurSc3Z6uranx3HNqnjmlxX/w94U+5lPG/DlSKefVRt+s9jsvZhvWJrPz0g57Tj54WNo1qWDXlDQ2mD8PkUm84pZSVQK2O4ISANykLPxY9Seams5CUmHXLhX271doYanyyKMWdOx9MzNZiMqCkE+/8+l2vi+Lz4p6l3HorZ7AfrdBXOeMeFpr5mua7PCwF73xOkFpO8gqTPb88xDtDR7eXM2fFGu1fL2SByN/jowOSSMDWUdxtJGQAIigBABvka8jilS6/34Fo6Mqv/dxFSYnFU1OqXjwoIKBQRUOWDjySlG5vQapPeUuE/nLapgPtNL2YQPV9CbaD6/3TJ+0s2bFqguBt5G2I7JqWGI/C7aPlv3emyV7TgdR/o/+uVnp9EXpudeVWmBKp8YUfOL9Fp7s8oceswppNZ+uBwDbHEEJwLYVtINEp/rjR2gVI68aFfYfUDgyqoKFIw9KhakpRbv3ZGuOCjt3ZdWhoHh1MXx6zZW0E5A6c3f8jL6/tc6LHm7q3vxrtjce7YSl7OfG9mC/61Yaa9WeLfW0JYvsGm2FCv2pubSaTf1MfU3OqfOSNwU5c0naMZx3fKtW8vuwEwIAsB0RlABsX9Vq1lih9OhjWQOG8nveo9K996l4330qWCjK1hyNDFyZhdMJJmkzrxCltS3eOa4TzGK/9J8iVLK2pmRpUdgeAqsizSZ1PV27rKfrCzrdXNN/P3FUJat8TgwPK603FJy0kPTLX8oqqcm//F0F9+5TcGSf9MQj2RomPXyPAGA7IigB2B68gYId0a7dCgYGVDxwIO9KNzKi0sOPZA0Yirvs7YkJReMTCv1semgVo1bSLg5dU7/xtss92hHLmzp4WOpnXr9btoPdpa6K7fn7emNFT9Xn9UsLxzVVKOuHBmc0bsOAcZ826nsweaVxxR61N88qXbBHcH5Jmhi1t09Lw4PSzHje+KFqH38rjUcAoEcRlABsC9naIwtKhX37FE1NqfLRH1LJK0czMyo99LDCStk+Ju90lc2ca++nkk1Luon1Rb3CW4lvh6BkQ3yCUltiz10/Xmsu69trl7USt3RPaUg7CxXdWx7RRLHa3ofLnuMr9tzwkPTaKaWvnJAGraJ64py0xwLSw/dKA/ax4TBBCcC2QFAC0J/s7Hi2xmhiUsWj96t4/1EV9uxV5QMfyEJRtHNG4dCghaNC1ogha6/dSt+y1ugKNlTpOfU0+3VCvkQtUMFOEhRlRxDqzdaqLsR1nW6t6dHKmB4tj+lzQ7u0IyxqR9kqqcW85XyWOFctbv7RcxaYLCB94xkl+2asolRW+PixrMW4Du+xqtOYNGoVp0qJFuMA+gpBCUDf6OxJlO1f5NWj3XsU7dljFaOHVH7svSrs3aPKo49lHxMOlq98XtJIrrTPRu/z32K7IIg2X6HmM+s8xqwkLa0p1kLSzJsy2vP+EassrURllaKSimGgop9A8GpqsyUtt6tMvg+YT8fzS68oTe/ITyJ4+3lvP+7BqeRNUfLOkdleTr0WnLyq7M1P/HUkSARgeyMoAegbwaAFpOFhDX72cyrec0SDf/JPKtoxpuK+PVc+xvdn9cFdstUbMQAbyFfeNezvwfdqc9nxzdVZTVpI+ss77tGDVmXyI/LNle1jUw8+7emnwexCtkYv/dXfyQORd8TbOSmNWHX24SNZeEofvTdfzzQzkXfQ66WwNDJkSbJuryNWIVtatRDYyAMfgG2JoASgp4VDwwqqFRUPHlK0c2fWrKHy+PusmrRb0fhYtvlrpz13hlID8DZLacsKSKn+YO2SLqVNXUoaur80osGwoLGwM1RI8pJUYH+BioWrAWh5Na8+vXFaunQ539B2x6g0bhWm/TN59ck3tfVLn57n0/g8fBS34BDEq0lWVUqzNvoCsM0RlAD0tHBm2qpG4xr86S+q/NDDKj/8sAqTdja7vdjc1x4ljVgAbuxsK2/w8dr8so5ZQDpWGtZ/Obpf9xaHtWNgIp+7ZykpDdvNTa6pMmluUboYK/WmDz7lrvKUNFBR6p0jHz+adcwLjh3KO+hNjkl7py0sVbZmUIquThvMwpIAbGcEJQA9JSgUsil2paNHVbRj4DM/rGhySuUH7s82gw0GBq1gZGer6/nUOpYdAbfmeGtFl9rNHiYLJX1ucLf2FKt6vwWm8bCskleYUp+8l16tLhXy27IyTNY9r5Y3gvja03mF5qvfzRo+pCND+ZQ8D0rTdjlsFd+ddmJj91TWJEI7J/Kqjt+f3y/T3gDcRQQlAL0lCLNNYsPxCRUOHFTlkUfzPZD27bra2rvRsjEbCQm4HatJrFXFalrwuRAX9YBVlUphqJrdnkRZW4j8A7MFTLo6Ba8zw9WDknfN8ymvq5fzt1tWcfJQNDSQN4Tw6XeLq9L4aH4n/rZ9TFZ1ajdl4SwHgLuNoARgy/Ng5AOnoc//KRXvv19Df/onVZiZsmP6ymawyVpT/SjpuuxcT7tuu1aqty/D6gxvaWGBmzWfNLPj/zX3ioaDgqajkn50eLd2Far62dEDqoZFjRWsMpSdobAK07XFH7/u0/NUvHJT4CcvFlekrCFEkm/c7NPcSgWlXjmyalTqa5kq5awZhCZHFXiw8mYRXoHyaXsWqIKhat4kwqtO/vFZF77i+rQn9/sqFQUAjqAEYMsKymWFo6MqHjqsaGyHqh/5cN6wYXzM3le52qShx088d779TgC69sfpDPui9vW3rJnwGUr2h7+Ql6752PCat698vA1CfZZUwwa8cVTUeGlIvgIj7Fqx7i3SfVKVVxOadj1ufz++YWnL3lNLrsazur03Kx7QHaPvWY1WS2ms5+oLOtuqWViqaMoOb/jg3fKGooI9l8L2861d2u1+XnR6lHuAStoVI59mFwRXP7TezCtLVrkKvCmEhx8PVj4Nb2QwW/uUhabR4fx+vDudtyT3kynVUn6bhyX/WlnDCL/tFsLTxXnp8mLeFj1pf38Ati2CEoAtK6hUVDxyrwY/92MqP/yIBj/5pIKBava+tBn3fJOGtOtoti+vrfr4bk8ekgpBfm7eh6L5ZX6bDRM1YAPNkeDqC7qdg5ede1fJN9299gtasKxbFaBZHNB8ZbK9EWn0tu+pGbe0mLa0kLTUkIelVI041ooNlH3tSsclb5Rh6YtZjv1vzX73a/Yc+M+rF7O3X6gv6sHyqH54cEYfqE7ooD3rBqKyZR4PPfaMCdLrlDXzjnJvWXfUaQiR5hvcBt5Bz9++NH/1fXFyZRpemjWJsK/jbbz9fgbaTSE8IPn1Tstyr1R5eBqzvyHeVOJmLS7na6vW6nknv3alC8D2RFACsKV4Fck3ix347OcUzcxo4MlPqnTkHkWTE0p9UN/Mu26lPbQX5LUboCZdt/tRbm8EOmUhqGLXh5QHpKJd39UORqN2ZtsjoleKRmzg5vFm2N8O8tuurShdqTD5yfquvl1xsaKkPKxmaacNAq0K0DWI9AX6XlWq23faSPOQlI1VLTi1Uh8wJ3YZZz/Hby+f02vNZX2nNidsL2esqrRsz4nTrVV9szarmaiiD1cnNV0o64hVKytBpIpVLq/8RU3Tdm7qrjIFVxtAdHTWPXVuuyaJZ5tKe7XH1zn5E9w3wu3cR7a2qXM9aHfga1eZbpbftx1BvZFPD+y1DXMBrCuCEoAtxbva+dqD8nt9L6Q9Gvj0ZxTameKgVMgqSGmc9twi704g8vrX9YKSRxkfjo3ZAM/Dz1QnLNnlEbvNQ9OkDfz8Ng9SE0Eensbbn3fdaXk3UrDP9HUl0Wh+Jr46eJ1v2KpE9jXe8r0mPvkqv63hQck+xqdgeZAiKG0/c0kjO443Vy0s1TTh0+/sRMbBZFB77PkVWUipXFkZdxN/X6+t2gRX/ni7pF1h8kCTnXlIrqlKpVdv64Sn26kI+cf7dL7OfQDYtghKALaEaHo6m2Y3+nN/XsXDhzXw8Y9mg55sHNSyQXqPNGvwINEJRHZOOhvueajxalDFBl17LfD41Lj7Ag9Ege6xtyeDvII0HeTvG9cmyZLa9QexYZq+ddpecPWsfFYpsJ/sQKGq49GKsL292VzJju9aYK7a82R3VNYjlTE9XB7VF0b2aCws6WB55Gp1M21XhW9nbZtXirLpojdZJUpv88QKlSQAIigB2AKK+/ersGu3Sg89lHWyi0ZH2wlJ12/htoWk17n0IZxXg4ZtYJhNlbNj2N+2ILS/PYVurx3jXh2yS2+Q7C/GHpZK2rjvM2/K4A9tmq1fYjdNrDdv7FFLE12M6zreWtUz9QUN+ro4e74NhgUNBAUN+do4dVVr0rddWR9UhADcAYISgLvKu9oNffG/yELSwI/8SRXG7Mxzqbjl2313T6fzBgydiUYz7VB0zA6vDh2xcLTXru+zy4Ptpgy3sGpiXfj36I/oWpyqGSfZ9L48KN36wDSgyx1uoG4h6XRc0+m1mr62Nqt/v3xGwxaUPje0W8esqnSsNKzHrNrkVaYgq1J2Kj7XXcG0PghLAG4TQQnApssaNpTKKj/+eFZNGvjMpxVNTSvMOtoFWUe7reja7nSdnOGtEArtpgtVu9xng7JdQd5w4VDgHeiCrHI0GuSVpYK2SCHnTip1PrC1H2I5jbOBMXAjq/b8iJOmvl27nE3P+15hTk9blWmqULbQZCdJrMrk14csNBUCn+7mR/vJeb0W4wCwiQhKADadh6RgeFgDT35C5UceyYJSZzyUNlpX90faYjqd67xBdqeJgk+xG7RQ9IBXj+x4Igq0O8gbM+zU1n2RDdoL3297GGqfv5y0smlWwI2sJbHWrO767bXLFoS8W2Oghyqj2l2o6vODsXYVqyra7ZVCJT+JELTXBt2oxTgAbCKCEoBN45Wk0kMPa+CTn1T1k59S5cFjCnfsUNpK2otnts6oqFNw8Sl1nYDka4h8GPfRMMgaMXhDhmMWjHba9QPtz6u2W3dn+xypv11OGlpJ1m+KZNpqWlBuCP0pbm9g/HRtQc8Fi/rm6qwGwkg7rKr0RHXSLov6oF2ORcVsmt5IVFLl2n2+0quVpnSLJyh/zfCTCKsWFJfSlnp7xzdg+yIoAdgU4eBgvoHsvn0q7N2n4t69CkfHstuTZvKOHdg2U+c76NRJfJpcZ+PWTjvuvWGoKbvcZ2/ssY+Ybq9F2m6SdH2Gq75vk1e4vLth0mzebENp9JjOKqRm6ocFCYsPpSTUioWh1xrLmrRgtNMqS3NxUcMWnsYtaHgjiMEospMPoaJ2J8as5hSEetuzZKtsG9DeFiqx/3zHsRZVV6BnEZQAbAqvIHlAGv/F/1HRYNUC0oDSug2May1tJZ3GDH4GOAtHQd6A4aBdfjLKQ9F7wrxqVBTWRZJklaTk0iXFZ89kNxGWtoeGhYjZONHvrl7I3v6VpVNXWowfLg1pslDW54Z2adoC1JHSsEYtOI1ZiMobQXSeJemNN7S9K4Ls9WPFqknLdixme5AB6EUEJQAbqrBnj6I9ezX4Iz+qaOdOC0hVKSpkDRu2yglgH9R0ptp5+PEGDQctDPlWrA/b5Z4gX3d0yFscB1uoIQPQh5p2umIuaeq11orOxXULU2kWkPYUq5qx4DQTVazyNKCSVXZ3Zo0gCllTCF8DFeh6+x+lb7nYjDAV+ndiVS8a7gG9jaAEYEN5SCp/4AMa/NHPKhwfzypJ8pDU2jrTUTotvv3SQ5I3Z3jUBmG+EeyPZOuR8s1gAWy8lgWjy2lTlxv5+jffi6lsFSSfmnegOJAdD5fHNGLh6NHKqIWlqkoWTCJ7f/i2v6fXNITIClBeedqEeqV9iSgLbrxuAL2MoARg3QXFoqKpKVU/9nFVn/yEqp/4hFWWdmXv8+l2d3seSrbxqvI23345HOQtvB+1UHTErt9r1x+woGSRLmvrvVGbwAK4Oc000SWrLnmnxVeby/p2bS7btNbD0w4/wpL2lgaytU1Hi8Masqq1r3fyPZwqFrLGPUTZ/RTCqCu8pG9d23TN9dueypemW2e9FIA7QlACsH6CfAgSTkyosHuPyo88qvKxYyodOaIrZ3Zbd3dN0rXDF9//yL/jnV4xsssHLCjd3+5mtzfgBRLYKhL7m1tP03zfLvv/gurZ9LbTdkJjKChadamoM601jRdKaiZx9vZ8sWFvlzUQFNRIkmyfprI3hrBL/1yfqhemPlkvyafK2de5tiIVqFN9ukXtghX1JKD3MQ4AsG6Cgr2k2MBl9C/9ZZUfekjDf+rz8nFNdnLVN5G9i2dZO2uQ1pTvf+RVovfYMGavhaM/XQizsHQf0+uAnuHhyZslLCvWubiml5tL2e3/+pqP8WrTgFWUHimPqmrVJN+/aaq9rml/YUAjVnnaZbd5sBq1atTIW6bvdQWdIHyX76hTSYrsPvLXmJCoBPQ0ghKAO+eVJAtIxXvuUTQ5pfIDD6iwZ3d7A6L2/kh3KSR1AlJnH5NJ+15H7fKwjV8e8s1h2xWlIUIS0HfqaZxFldNWbfKKknegO2XXfTre8Wgl67DnnfV8yt5I1oq8kLUi9/2dyvbxPmGv2K5ADUbFK1Unf1/UDkH+dqHTRiKrJiWqt/dPqmUNwrf+vk8Aro+gBOCOeUiSVZPKH/iQyo8/rsE/8WmFwyNKso1kk7u6kWxWzFKe2fw4ZKd699nA5qcin2anbLNYAP3JN3xdtbByOX77RsalwENQkFWcBi0oDVqVqWwByW/bE1U1bsHIN8EdsiqTh6UDVnkqZCEp0li7UuX8Nu+6l03pa7+e+BTBi62aluOmWinbzQK9iqAE4I5444bivfeq+pkf1tCf/BGVH3pQwcBQ3tUuzs+lbrZOFcmHRt7u25s1HLPxy34LST8T2dnibA2SDW4EYLvy7nqxHY0g1ZIFqihotDe0DfR6sJIFoEK2limfQOcBKWyva8yrTDmvLOUVqCi73fn91qyidKK1qnmrYsU0dwB6EkEJwJ2xalI0Pp5Nuyvs35/tm5RVku5y56fOdDsPSv5CNxPklaRj7c1iBwRgO0vaJ3E8xGSNyG/z5coDlU/hq1pFqtiuKGWVbKskrdrhHfsA9CaCEoA7MvZ/+euqPPaohr/weaXNREk9zqfb3QWd6XU+6PGF1J+w6tEjNnD5XOSbxtr3uo2n2fl5bg+NzVpN6dKKUj81/m5r0wG8K69M+XqkJd3djp4A1h9BCcBtKd17r4JKRZVHHlFx/4GrZ2PTuzPVzqtHPu73atFBC0RjlgOesDBw0AOSf790nxLntQEAuHkEJQC3pfy+x1XYt1+DP/4T2dtJnOZrku7SdLu6f09+WB56fxRkrb6/WAizKkpF8JDkYZKVEgAA3ByCEoBbEk3PqHjwkAY/+zkV7zmS7y3ic/Bbm9vZqTPg94DktSLvXvdgmB9PeNcqu6y034ermvZ7atTq2doy0fEPAIAbIigBuCXh4KAKhw6p9OBDKh09dmUX+rs15c5XBfh0uxH7Po60p9s9aseYcD2xBaVWs72WgqAEAMANEZQA3JSgXFbpoYdV/egPafQv/kUVdu1UUCkorW/uAmYPR51pZP6VPxAF2mUD/r9YCDWpfENZXtgAAMCdYjwB4F35XkkelMoPP6zSAw+osNNCUnVg01uAp9ccQxaIBu3yoTDUXrvc036b9Ug3RjMHAABuHkEJwLsKRkezxg1jP/8LinaMKRobySpJaX1z1yV52+9OLPMNZD9gIelno1CjQd7IATdGMwcAAG4NQQnAjVkQCeyofvAJlY4dU2FmyipLFaXNeFOXJHUG+P6CNWqVo4ctGL3Pvq/3hVZFCvI1SnhnvhopFM0tAAC4WQQlADfkIUlRpMqHPqSKtwOfmVYaJ0obm1tJ8mqIr0fyUDRpx5NWRXrMQtJ7Qob9N8sfKQIlAAA3j6AE4IbKj79f5Q9+SEM/8eMqHj5sAclCUrp5K138KzXs8LVHRask/Vwh1D2W3Z4MQpXISLekEzbvTPCWitRcq66VeHObeQAAsFkISgCuK6xWFY6Pq7Bvn8KhIXt7QElj8wbFPtUuq4LYH0N2zdt/77FjRqGGCEm3pdMIY720LDQnrHoCAPQpghKAtwksJJU/+kMa+vwXNPxTX7S3K0riZFM73K3aUbFAtNsqST8ThXp/e6odXe22jstJSyvp5k7DBABgsxCUALxFVj3aMa7BP/HDKt1/v8JKKa8ZJJsTkrxm5V9pzELStIWkT1g4eiiU9ga8YN0JmjkAAHBrGHcAeItg0ILS5KQGLChlXe4sKMlbgSebszbJg5LXKLyStN9G9X/Cqkn3tEMTbh/NHAAAuDUEJQBvMfgTP6HikXtVOnww63iX7Ze0CcUkD0e+T5K3/7Zopv+2GGrcLh+0itKAcKdC+yWW7BhdWVM6u2g3BJSXAAB4BwQlAJmgWMyO0oMPqXjooMLBQaWt2I6NryR1cpiP23cF+dqkBy0wVe0YEdZD0D5KTavZNZrX3AoAAK6HoAQgUzx8T7YmafhP/6Si6WklHpA2YV2Sf4WaHV41mrBg9OcKoe7zdUlMtQMAAHcRQQnY5oIospRUUmHvHpUfe0zhQFWeUVIPSRuckzq1qqLykPRIKM3Y1x4XAADA3UVQAra7MMo63ZUfeUyDP/EFhYMWlKJAaXPj2z77V/AsVrVwdJ+FpD9diPSoVZMISgAA4G4jKAHbXDQ5oYHPfk6VDz+h0n33WImpYCFpY0tJXknykOST66p2/NeFUPdbRenxkDVJG8YrhL4+aWlV6dyigtCSKdMbAQC4oVAAtrdyWdHuPYomJrLKUpqm2bGR/N4TXa0mHbIBu7cD90oSZ282iP9OvcX7tc0cyEkAANwQYxJgGyu/73GVH31M4z//CwpKRSWtNK88bGBQ6uyT5Jd/Jgr1kFWRfjLinM2G899ryx75WkPBas1Ok1FRAgDgnRCUgG2suG9f1uEuKET5vjobHJKcV5IG7EsNWjljt33NPYzVAQDAFkRQAraxoZ/8KRVmphUOVbPmDb5v0kbpTLXzVuAPWCXjvRaSftyOQyFJCQAAbD0EJWAbinbvVrRjXJX3vV8ql5TG6UYXklT3r2vHAxaMPhyF+pRdjjL1CwAAbFEEJWAbisbHFe3arcKBA9k6lSwkbXBQ8lqVv+B404Yjlo8etqA0IAAAgK2JoARsI1lL6EJBA5/6tCof/ZjCSiHbWHYj90zye/Yea1MWkHZaQPr5QqBddn1QNF0DAABbF0EJ2E5KJUUTk9nUu6JXk9I8rGxUO/BOocq/xl7LaPYVs5A0bAd97m5B9kC2H83kmt9VZ31XeBOPpn+oT3UknQIAcFMISsA2Uti1W+UPfFBVOyqPv1dJI96wLnd+r506la9N+mIUam/gXe4Yqd8S3/so23gqzfc/iq+p/nm3wuzQu4clf9wjWoIDAHCzCErANhEUClkr8Mrj71c0OZHfuIEdHDpByafb7bTB+f12TDNGf6tGS6rVpeXVbI+jdGVN8mmQa/X8aDbzDWL999S53cOShycPPANlqxIW8yNr8R4qGKhIRXtpr5SUVitZOArGhtrVpFuoQAEAsM0RlIDtIoryoPR+D0pTnTl32ki+qayvTfLGDUft641RzXirlj1CiyvSuVmp3pDOX5Z8M9i5JenyQn59rZEHo4ZdLq1mG8Yqbgel0UELROX8KFtYKlpYGh+1AGUBaWxYmhjJQ9SBXflltZz/zmnJDgDAuyIoAdvEwMc+ruqHnlD50ceutATfKL5XUtWrSHb5aatefL4QaGS7hiQPOXWrAi0sS/MrSp96ya5bOHrxjbyatGjh5/xsHoDml/Ipdv45eZLNg821j92VDoXpW9cbBfkf2Xozryz5m4OVrHlHsndagVeZBqtKT1+UZuetwsg0PAAA3glBCehzQXswHE1NKRwdUVipZAPpNNm4tUnOvoqm7OtMWPVi21WSPOh41cerRD5VbnnNKkSL+XHqQh6aTp3PA1T2voW8cuRT8Doinyp3zRS5rAoUdIWmJA9SnQfdr8fX3Obhq7OOyYOSVZSChSWlPp1vHabfJfZFEgEA0J8ISkC/KxazwfXgn/pJFQ/sV+AtwX1tTGv9g1LSPsp27Lfx/F+2StIBu9yhbcan0FkYSr/3otKzl6RvPy9dnMuOwNcZeZjxsNJpsOBBxq8Pr9/OUnnRKa9IBV5FykJUnE3BC/xrrkNQWkhbWks3rrU8AAB3E0EJ6HPhxERWRSoeOaJox458yt0GzbrzIbMHpWPZmqQ8JI1tl37Uc1YtWqkpfeOM9NpJ6YIFoxffVLC4amHpYt6IoRXnlaEgal92HRvB79eDmAclD0jr2PluJWmpTlACAPQpghLQ5yIPSiOjFpTuVWCD82zK3QYFJb9bb+Bwrw3Ej9rXOridptx5AwYPR1/7gfT0K9LJC3acy8JR0KkaRZ2AZB9fKGrDdR7/aJ1/D+0mICuxBaWEyXcAgP5EUAL6XPnxD6h48KBVlYpZuSf1aV/rnJS8ptC0Y8jG41VLAZ8phLqn3zOSry9aXFH6whsWiM4r/fK3s4pScPxs3p3Oq0e+LqhUvKZqJBooAADQIwhKQJ8KfA2KVTAKe/eoePhwVtXIlt6v89qkThM2j19DlgQmwnx90nQ/BwJv271gFaTzVkHyoOTh6NnX8nVHXlnqBKJOSAIAAD2HoAT0qWBgMOt0V/3gh1R+z3vz2VIbMOUubt9tZMfHLSS9zwLaPZYUBtWH2tPM0t/+Zl5J+r1vZ3sgBQvLCnwvI59W53sVAQCAnkdQAvpUMFC1atJehcPD2XXfnydNN6bTXdn3PrVwtC8IddCuF/utiOLT6Lxa9MrJvOX3d19QcOqC0uU1Bf6YeuUoa5IgAADQJwhKQJ/yJg7FRx9VtGuXorFRpY34yiL89eRrkyYtIdxn1ZRHraz0Aaso3Xnj6S3G9yNaWVP6+9/L9z/6ta/kbbdbebttqkgAAPQfghLQh4JiUdH0tCqPvUfhYDVbJpO299RZL52WECU79tr9PxkF2mOByUNS3xRWvPGFN2rw9UfPvnp1P6TO5q++DiykjAQAQD8iKAH9JsgH8OHgkAr79iustjcxTTemiYOvTRqz4z77usNBn80+8w1aZxekl45LX39aevmEtLSSbwybPc6EJAAA+hVBCegzQbGk0kMPq/Se96r6kY9m1aWktf5T7urK90z6QhTqgxYYPmpHX8UGn2Z39pKS//evZG3AAztUKeUhKey7yYUAAKALQQnoQ97tLtqxQ0G20Wiaz5NbRx67PCr4C8hOq6xMBHlI6ougtFbPj+Pn8g1jG628YUOhs1nsVv0pg3d88+be+Q6BOm1/Vj6PUwAA9DuCEtBngsEBVT/2cZXvv0+hVUDSektpsn5JyYfI3hLc2xf4wPmHLYxNBeqfBg6nL0ivnlLyD/9dNu0uWFnLN47d4g0b3hJ9usNcEN7oI7ukb72edr3NnlAAgG2EoAT0kSCKLBxVVD52LOt2txE8cvmUuyNWXRloX/ZFz7fFVasinVH6zWeUfusZBfPLUr2Zd7XbMmuRgqtVnWsvXSfU2GXLgnEjTbSYNtWyt5fSlneHt99bopq9r55ePziPRIUs8BYtWJUUqWz3PxAUVLDLkfCafy4Cph4CAPofQQnoJxaUglIpC0nh2Jg2Qqei5PfuU+6m1CdaFv9OX5ReelP64+ellVoePoolbV3dAS4PS4ldNtJYi3EzC0WX4rr9ztIsPC3YbWtJfN17myqUs1BUCSINWDAasMskTFUJQ4285Z8LKksAgP5HUAL6SOmBB1W857CKh48oKJflhYP1XE7SGV5X7PhUFOqefhkvf/s56dnXlPzTf591tQs8JPl0uy3w8wVBu+H6lbVBqWYt+NQt7HgAOtuq63xzTa80lrWYNPRGazULRKsWiFaUV5bW7PDw5NUlfzu+wZOiEkZXKkpF+3oF+7pDFpaKdmvFqk2jYVG7ihUdKQ5nIWrRKlVraSwAAPoRQQnoI8HIiKLpnQqrFmUKhXVdm+T83go2Xh+2AfR4kDdy6GnNVn68flp644x0aU5BK9GVzhSb/vO9vb+6h5umRdSl2MJP0lQtaem0BSMPKKdaa7rUqmWB6WRzVfMWjk7HNTUtDHmQWrPP89+ZhyPPRnE7LCU3aNpQSvIpdV5VstqkIq8uWUjyt4txlE2/m7MwthS3sopTzb5GI13nTiEAAGwRBCWgjxQPHVLx3nsVDlWV2sA6bazf2X4fWjfsmLAB9NEw0P02eL631/cRujQvLSwr/dXfzZo4BMtr+ZokP+6CoPPnNWuAli0MXY4b+tbarJ6tL+iMhaRnGotatsD0cnNZ66kTehrvVIWsCwCAbYGgBPSDMLSxtZ35n5xSYWZG662zuawP30flm8tKQ+rhFxDvbNBsSs+8qtQ3kT1/WVpph6S7sUfSlWAUqGaVogWrEHnVyKs3312d1aJVkl5sLOlCq64lu37e3k8lBwCAjUVQAvqAhyRv5OD7JxV27tRG6AQlb+Jwn1WThrM1LD3KpyTWm0qfeU362g+kC7OSVeDuVgvwILi6C5U3WrhgIem7VkF6o7mif7VwwsJTkk2pAwAAm4egBPSBYHBI4ehI3szh6FGlcar1LDh4O/DIjv02oH8gCvTJKNRIL8+6O3VB+vWvSF/5Y+m517OQqfLmTrcLOlUke0yPN5azgPRL82/olIWk7zfmNW+VI18LtEqzBAAA7gqCEtAHgkJBYXVAqpQVVAYsJKXr2u6uM/VuyMb2QxaQBu24O6t41sFaXVpdk85eknyvpGbc7nC3Scmv/XUS+/3U7VGt2+XpVi3rUvemVZC8i93Z1pqWLTjVmV4HAMBdQ1AC+kA0OanS/feruHNG0diIUh/8r2NQ8opSycb3HwlDHbOB/pB62O9/T3rlpNJf/2r+tk+3C6NNaQUeZPMXo2yJ1GK8pufqi/qdlXP6jeUzOmPh6GLcEAAA2BoISkAfCEdHVThwwKpJlfyGdH0qSp1Kkr9QVO04bGFiulen3DWalvhipd95QTpn1aQ4zqfc+fquDf+Zguw/hYFONVezTV+/vHJWJ+z6d2pzWXMGptgBALC1EJSAPhCOjSna3w5KwfpNu/N7yfZOsmPABvqHrZo01ctBqW7Hdy0oLa9moSkPShv9AwV5Dgvytt8nm8s621zTLy0c16xVkHy6HQAA2HoISkAfiCYmVT56VOFANRuUr9ekOw9JFi2038LEAbvjQ3Y5qN6UvnhCev2U9OJxZY9QpbzhISm4Zj+k5+oL2VS7fzT/WjbN7rhVk1iDBADA1kVQAvpAUC4rHB5REK3vX+lORckn9A0GeUjq2SYO84v5fklLVsEpRJveCtz3Qjpl1aOnLTD5BrLsgwQAwNZGUAJ6me+dtGNc0fS0opmdCkolrRcfxncqU/d7W3DfO0k9yLvcLa5k+yWlv/89e4yKGz/dLsjXJNWTRK82l/X3517Vt2uX9e21ywIAAL2BoAT0MN9o1hs5BIODCqpVpT5AX79md9k0Pn+RmAyliV5dm7SyJr15RppdsGrSah6SNqwVeJD970vEErv8QW1OLzWW9KIdl1p1YfO0LOZ7D0HfptdPH4QCAODWEJSAXmZBKZqZUWFiUpEFJkVFJes0o8vvxjeZ9al2+2z0f0/Qm0kpvTgvfft56bVTCi5czqfcbdTPEuStG3yQHiex/tXCCT3fWNTvrZ4XNo+fK/CAZBFZnVYZFQEAcGsISkAviwoqHDyoaGpCYbWST5VL1qcteLY2KfC24IF22un4nWGPBSUv63gF6eR5pd7p7tJCVoHL2oFvAG/c4JvItuyR+/rqJb1UX9Tvr13SxbgmbJ5AV7u9+3PYq0pVAQBw6whKQA8LCpHC8XEFQ0NSyf46N5N1bQ3uFSUPSyM29BxRj/HA6OuT5pek42ft+iYEFqtUxVbS85D0TQ9LzSUtJy1h81wblPw5zO5UAIDbRVACelkUqbh7j6Lh4Xw2WZrY/+sTlHx4v0t5E4e9dn2HekzNQtKX/1j6zgsKXjlpZYXSBnW6C64MzN9sLOvvX35F/3H1vJ61sAQAAHoXQQnoUT6NLGvmULbBf2Fj/ioXLQFYrSqrLPWkS/PS4nJ7TdLGrUvyP861ajrdWtNJOxbipgAAQG8jKAG9ysJRUKlkzRzCwfXdBrYzZcmrSEfCQNVea+TgHS2W15R8/SkLS3MKonADO91F2X1/aelM1uHuV5dOCQAA9D6CEtCjgmIx2zcp8jVK3ho8vbrv0Z3o7J80aLli3ELSLjt67oXi3GXp9AXpzMV8nVIhWv+g5K3Yg1CXrJK0GLf0ry0g+aayAACgPxCUgF4V2eC/YGFpYNBC0/ptNNsJW36PXqca9eu91hl8eVW6vJg3coiTPCRtyM8QZOFo1sLSd2uX1dT6rA8DAAB3H0EJ6FFBpapwaEjR7j0Khoe1Xrydsr8w7LZwsc+OQ1ZRWr8YtjnSF9+UXj6hoLPBbHF9X+q8ktSyEl4jaejfLJzUH65e1CzVJAAA+gpBCehVXlGySlI4MJBNw8uKGetY0Bi0kDRgGWNAPfZC4V3/vKI0O9+uJrXXJ63n1Du7r0YS60xzTSebq3rTjiSlmgQAQD8hKAE9KhiwitLgQLZGyasmqYeCdeBNHAqWKSaDvJlDT+2f5I+BB6XTF6VTF+xt+2k2pJFDqBMWkn5v+ay+U7usZxsLAgAA/YWgBPSo0KfeVat2JczX36xDRcPvwe5NVp/SlHyNUo8tTmq2rmwym84vK/C26f74rJd24JqP63qjuayvrc3qvF0HAAD9h6AE9ChvDe5HVjHxKsodBqXOzL1OUJq0kDSgHtNoSitrSufajRy82120fkGps7WsB6U3s6B0SfOsTQIAoC8RlIAeFY2OKhwba6+/SddtfZKHpAELBL5/0vg6FmM2xeJK1hY8OHlBOjdrr3BhvkZp3eTVu19ZOKHv1easmlTT+kx4BAAAWw1BCehR3sAhLBS13sL24Y0ceu4FohXnU+9arfx6eZ0en/aUu5bHojTUuXgtawveooEDAAB9i6AE9KjQKkrB6KjWiw/5vTrieyZV7NinfA+lXpJNuXvjjLRSsx8mWccmDp3NZVdVS2L928XTWk1jAQCA/kVQAnpUUCopKJezLJDVNdapuuF7JpXtqMqn4fVYM4daQ1pYXueQ1BHodHNNC1ZJWrOQVE+ZdAcAQD8jKAE9KhgczPZQ8iwTWFRK16GZg9dIqhYwBu0+R8MgC0w9xfdPOnspb+qwrkEpv68X60s60VzR5bghAADQ3whKADKdrndTFgp2+vQ75Y0dekbLKjyzC9Jrp6S19QsyPuWuadWjVtLS9+tzeq7GnkkbJWk0lNZptw4A2Bp6racVgA3kQcmn3HklKZJ6Z+JdlvLsj7pVkpbX8o1m1/XuU8UWluatknSRfZM2jj3GaczaLwDA1kBFCUCm08zBN5qdVl5R6hm+JumyVXrmFpXOLynwfaXWZaPZIGsvfrq5qjcbS/pubU4/qM0LGyO5cEFxuaeeeQCAPkZFCehRQcnqPpX1W0XUWeHkHe+q6jFeTapZpacZX21qsY5rlBaSho4317IpeAAAYHsgKAE9KhgeVjA4tG7z4zrNHEa9kUPQY93uvIK0uJqHJd8/yb/9dXx1O9OqWTXpsuaTpgAAwPZAUAJ6VFCtZl3v1jvSjLSPnmJVpHR5RWknKK1Dq3Rv4uBVqVrc0sVmTa82VlRPqChtKN9AuVQSAABbAUEJ6FHZPkrF9e9LV24fPSWbeteQmq18vdL6bCmVNXFopbGWrJJ0Ma6xd9JGi+yfpCgSAABbAUEJQNbEwV8MPHbtCIPs2PasmuRNxn/gLcEbC3q5saTVtCVsnHB0VNHkpAAA2AoISkCPStd5zxmPRpF6rC34hgqyY9UqSg2rUsVZfQkbKQgjBVSUAABbBO3BgR4VX7yocHDwjgfvnbbg/mIQBXlVqac2mt1ArTTRqcaaZuOGVhP299loPpU0KPfcxE8AQJ8iKAG9qtnMj3Uqc+RT74KsPXh5W5eUgryiluabzJ5trWmZbncbKgjztUnR+LgKU9NU7tZZvtbO/kx5ZAHgVjD1DuhVXuGI16/K0emoXRBnUHKpEgtKC1ZNqtHEYWN5O3oLS0F1IGt7j/Xl+YiQBAC3jvEQsM11pt75tLsBO4bs+oC2sSD/w7vdrSUtvdRc0aWkIWygqKBwaFjFfXtVPHQof1Iyrl8ngQX92CqjNS3Z87lBYAKAm0ZFCUA2Jg10tarUky8MUZhP4VqnzXJ9D1tv4FC3QWaL/ZM2ViHK2t37PkphqUxQ6vBQY0/EtPP8u83ntj+Xfb1d4tPveGAB4KYRlAD0Pg9J0+PSsNXCil4o95RzZwNCPwu/Erd0KW5ojal3GyocGlLBKknhjh0KBgbyqWJCtjfY6po0u6C00bIHqnM6AwCwGQhKQI9KFpeULC1lI8rUB093UEnJu94FGrTLijd0UI/xAaSHpGqlHZTu/KWtZY9qw46FpJmFJmyccHBIxf37LTANWmWpmG8anBCV1Gja0co2Ug48rPvfcXISAGwaghLQo5LlJcUWlK4sOQhuPyx5UPKW4AP2+QNZ17seG40F9lI2bDGvWlZQKKzLK5t3CWtaQPJmDnWC0obyNveFffuzwCSfguchiemO7aDUVGBBKfuLTkgCgE1FUAJ6Vb1hx/ptONvh23323D5KPoAcsGrS6JDSybFszYvWYdG634NvONtkAfyGCkdGVDr2gMLhIYXeVYTHO5P6lLvFlU7bOgEANhdd74AelTYbSlvX7KPkYWEdxlKhevDEtVfAPBxVSvkUvOBOBtt5ZS6xBzNu7z+TsGJmw2SbzA4NK5qayvZSyhAKcqv1/IQIjwcA3BVUlIAe1bp0UfHFi7qSjnptutxGmNqh4IFDeXXpjqZuBZpPmlqIW8LG8ZBUOHyPikfvV/k978kCUxITCjqCi3MK5pbyqYg8LACw6QhKQK9qNJU27Gxzq8UZ57bAA9L4aNYF7041bHBat5qSxy0e3g1SKKiwZ4+iySmFA9X8Npo4XLW8Kq3V20/A239cvCKaPY8FALgVBCWgRyWrq0pXVpTW6nlYoqIkjQ4qOLAzryg5ryrdZspZSZtatopSM02yKXhYf15RKj7wgIqHDiraMarQp97FNM7oyNYozVtFqRXfUcrxT221wxIA4OYRlIAeldZqWVBqXThvoWlFQUjrYI2NSId2S3unle6cyNoqM/Demrw7YTgwoMHP/AlVHnlEuI6zl7I9lK6E/fD2/sleS2OdbdW0mjKVFABuBc0cgF5lASCxSpIHpryiJJTsJW2wqrRatuvFfBoXj8vWZIP+oFxWYWZGweCgcB1eLfYW4Xc499NPFfheYFSUAODWEJSAHuX7KAUL82qdOKGwUlJh53R2+7aeJDYymB3Bo/fleyu9dsoCk7/jVl7qfOF8ol1RRY1CrLLdT6f7HdZP5f0fUOnoUZUfeSzvMthM1uXJe20Y8Db3o+rBdvcejny63dlZaWVNd8p7CVbtjEEkAMCtICgBvcoH7l5RWl2Vmk2tFz/73PNnnqfG8qPom88G+QD8FitLkQ3eI9Z9rT97TAOrJhX37Vdx/wEFvm+S/XLSdQyiPkFtWMo2Ty6qB+eY1xp5W/BOYLrD56E/tk1fo0TWB4BbQlACelTazLveteYuq7h252edOzwk9fpKhmDvTDbYTH1fJR8c+jol74R3CwPOchBlB9ZX4A0b7Cg++KDK73tcQamgNLZnXWP91pJ5MJq03/WYBbCKepBXkRaW7bKWhyV/zMLbjXtWDbW/1atxy6qiTL4DgFtBUAJ6WJokii9cyDrg3QmPA94Va81CxaodNU8XvVxNObwnaz2d7t8pLa5k+9FkP090az+Tf/RQWMwWw7dYCL8uookJhTMzKj/0sIrHHlDaSta1muTyoGS/O/Uobwt+aT577madGwvhLVdEg84nJLGadh/L/hymeyMA3BKCEtDLbACULi1J9bruhA+p/Fxzw45mdga6x6ecefc7r1D4nko+0Dx/Wbcj9IpEEGYtwrE+gqEhRTM7Fe3Zo8LOmTvdIui6wnZI6slqkvOpd8tWVVqr5QH/Tk5a2AMc2/O3lrW5BwDcCtqDA72s1VLzxAm1Ls9ni+FTn54T3d50MR9ENdqXPT+g8jPwY4MKvvgZBe9/IA9LneMmeUAaCCKNWUXJr+MO+dqkclkDn/ikJv6H/5vK996jsFzI1+DEdx5EPWsl7cPPAD5kX29Pj1ZFUwv26Ssn8yl43vkuDG89LLUDlleHa/aoeFWUvncAcGv41x/ocenamtK6nXluNhTYWeM7HRum/dRPe9wqSztGlI4O5Y0dbiYodbasscchtAdzICyoQFBaF4XduxVOTioctUpfGG1I15CofXjD8WovPpW940KjtT7VJL87eUUpb+YQ07kRAG4J//oDPSxtttQ6fSpbpxTPzWdrlm51HU63vKLUB2GpWlbwgQel9xyVHjisdKBig8/GzX2uDSi9ijRkg/l9hapGw55rML3lhMPDqn72c6p89IdUevhhK9kNKGmtf1LybvBD9vy9JwyydUo9xUOSV9cuLUinLuYNSMI7+2e6kcRaSVuaixtqEpQA4JYQlIBeZoOgrJnDwkLeJtyC0q2ODf3j/YXAWxWs2UCq1j56X5BXkWZ2SI8fUzA9nm9I64PRm/j5wqw9eKjhqJjtpYTbF/q6pPEJVZ/4sIr79rWLJDf3e7hZnW6NI0EekEaDfO+gnuInOrwt+GULSmcvWQkuysPS7cqm3iWq2euEHzFr7QDglvCvP9DD0tiD0nkl8/NKvEV4Eut2xob+KbGNWb3JuB931hpii/AfyoPS9IQCC0pZYOpMv0tuJiiFKgaRhsOCSiEvlXciGBxSOOFB6SNZUMp+N+n6ByXfTcwD0pRVk0Z92mSvVZR8vda1QelO2oIH+f5UtXYjh1rSyjZOBgDcPLreAb3MBpq+l5KHpeaLL6i4e0YaHNDtSPK7ywab/dQIO/CNZ3c8bAPPWQtN40r/xW/nZ+qrN+qJlub701pIKllIerA0ojcbK8LtG/sLf1HFgwctJO2SFzXS+vo/wzqNHPZZPjgc5GuUei0npas1pcfPSRcuK5idz9v33aFlC0iLSVOzaVN1KkoAcEsISkCvs3ST1OtKVlZuq3tYoKvtwf3Sh7D5mec+aergociPHcPSzslsf6VMp5rxLovlB9sVJZ+Kl7DG45Z4lzs/Cvv2ZkcQFbwMag/9+g7YO89WPwbtz2FvxKEe1PC24Ct5pzvfJPmOmzkE2XS7lj1vfbNZYhIA3BqCEtAHkkuX1HjhBcUf/yEbIE7pVnmXsHr7mLNB1VA/db7r+KHHJG/u8DvfklZq0hunrapUuhqc3iZVwQaph0oDmi6UNWgVplXFdA67BaVHH1P5Ax/Q4Be+oGjHeN68IVn/x88bkPhv0Rs5PGBVmEfD3nz+BpcWFHz7+aw9eNb5rnwnTUTyx2DJqknLVk1aTthFCQBuFUEJ6APxwoJaJ09kU3eyUaOfhb7NAX3DuxP3YU5SqZit90g/8T7p3Kx08bKCtN1lLNun5u2f4gFyOqpoIixlne8accI6j5vgVaRoekblRx7RwMc+rrDcnubo68PW+eHr7J9UtWPInve77fe4sxefvz6N1v/+nrmYB3l/bt5RRSmvs83GDUISANwmVigDfcC73vnGs8lazcZXdzbA8jVKzX7MAh6UBioWlB5X+r5j0mA136DXF9Bfb/Ruj2MelMoat8ODEvsp3ZygUlFh3z6VH35E1Y8/KVU8KKU33XHwVvlvsGzP97EsKOVHz/HHZWVN6emLFpjWrgalO7tTzbYsKMX9tOoQADYP/+oDfSBZXFTr1Cm1Tp9WfO6cgmKo4DbbCi/Z+GxB/Ss8elDpBx7Sys/+mBoPHlJsj1XqYSl+61n3LHDa/0OFsvYWBvRQaSSbfod3VpiaVvnRx7Tj539BA5/4hApjI1klKW1sXFXDo9cuyxTv89bgyqtLPefUhbyadH423+8rut3nWpD91+kqeL5V00J8k/uHAQDegqAE9IG0UVe6vJy3CbfQFGQVpVu6iyuL4bP24Kn6doJZMDIozYwrfuCgkskdSkaH8krH29bOpNnj4VWkkaioXYVKtmYJ1xdYdS4II0W7d6uwZ69KDz2ows4ZC+2Fqy0V11mqq40chr2SFPo6pR5t5LCwbGcpVqXlmoIkueONZnNp1vWuQbc7ALgtrFEC+kC6tqbYjsbzzymoVlR+8OhtBSUfms3ayLMapFe64PXj2ZRwdFCVT30gW49Ve+iIRv/Bv1WwvJpv7nmdaYv3lIf0Ge3Ul2sXdcbO0OPtfK8kX5s09tf+O5Xuv0/lo/cpbcZKahs37asz/B+yX9dROz4ZBpro0Sds+spJ6Y0zCs5dyps4FNanevlGa0UXEypKAHA7CEpAH4kvX1Y8O9s+g69bburg8cDignzXIL+Lfp1o5j+n/2zR3unsrdr9BxWdPq/y+bk8LF0ZpOaP3YB9tDd1GA0KVrkoaCllzUdH4FPEiiWVHnhAhV27VTx8SNH4eN4kY4PLkp1udzvtdzhuz/VR9fBz1huMeFWpE9TXYX2SP7fn4mZWVQIA3DqCEtBH4rNn1HpzXElnPyUf9GcD1ncfsXam3l1WvsYjVv9WlPznyhovHz2o2I7Zl4+r+Pzrmvq1r+Rn8729dGfqU5poIippMAi128LS2WhNSy0GnlcUiwqHhjTwiU+q8pGPqvr4+7JmDkl94x8jr5P4b+mo/b4O2a9sV9iD0+6S9t/VF49bWLrc/ot450EpW2NnYelkc1XzSVMAgFtHUAL6SOP1N5TagD6Zm88G/NHwsNKb3IS2E4qWbHC1kAbZxrP9vogxah+Dn/uokkfu1UW7PvDScQ36oLVSygJTakfRQlMhLOt9AxMasdD02sIbgj08g4MqPfSwhn7ypzXw5MdUPHTIglNZaWtj18R0WoKX7RixJ+6nokD3BHlI6rlVZIsr2Z5J6Yv2nFpYUVAs3tn6pCD/wytJjTS2kNTQCu3BAeC2EJSAPpKuLCtdtqjTbNiAK7paJrqFKVB+lt6GbVcWyvezznC0sH9n1ha9vmda5dMX8w54aaejRWofF9oJ/lA7LCRNFcpCW6GgaHpapaNHs8YN0YRVM727XbKxz5zOc9NDbsWe4NMWkgaDHgxJrmmPV6PZDkyNvJq5Dj9Iw6Jkzaqh3siBvb8A4PYQlIA+km06a4Ot+nPPqbh7lwo7RrPbb2aY1Fm3s2ABwQefJ2ywO2U3Tm+DTm9DdrQsLBX++s8q/vZzmvv281mDh9AHr1GSTS+zkpI+NTCjlcq4/t7cq2ra41RLt+eZ+nByUkGprJl/8P9Tce8elR97xMJ5oqQeX51KtoH8UfdA/7Eo1D5Lux8Pe/c5mn7n+Wx9UnBhLg9J0TrUcS3Uv9lY0eW4rsWkZZGJoAQAt4OgBPQbqya13nhDYdaQ4AHdKh9S+bS7JTtGtX348NTXLYUTY9m6pcZj9yu4OKfCqycV2ln5oNnUSFhQyYLj3uKADUCbOt1c03biXe18PVLliQ8rHBnNQlJ4beOGdOMH5J2v4P94+bqkvb0c5L3ydmleOjt7tYK5Lo0cgqyBw4I9RxNteIEPAPoWQQnoM2mjqdq3/yifeqcndatiG1T5NDRfr7ND24cHpYpVQ1qHd6t1zx4tewey0xc19L//K0XNlgWlliarFXvVLOux8qjeaK5uu6DkIalw8JCGf/qLKt57b15JspCUNDansubjff9K/rvyZ/eHrQKzp1eDkqcXD5gnzkkvHc+ne/qGxusQktzluKmzzZpVPtlDCQBuF0EJ6DNpq6nGiy+oYGf747kFBdVBG1VG+UDsHXSaOXg1qWFD0vM2kNuzTuslekYYZgNw/5EH3/+AkiNLWq3XFT37mgp2VBZWFFpg+hODO/XNtVn9oD6fTcGL+3wwGpRKqnzoCZXuP6rqk09aQHpUhakpC+WtzSgiXeGPsk+522dhYr/9ku4Jg96dGrpiIfvifBaU0uPn8o1512mTWe/UeN5C/KnGqgAAt4+gBPSbVkvx2bOKL11SsrqmsFxR4NPwbvKkvw9GvaLkU+/q2n46a7VK+2cUz+zQ0uqqolpdyZtnVVq0oGQVuwdLIzrVWlXRPtoXyvf7SiVfj1Q84hWkx1T99GdUGBux24pK1ja/7bQH+RE79ltA8l2werbq6Q0c5haVXl608s9CHpLWLfSlWkma2RolAMDt8/HALwpA/0gSpcvLCgcGFE1MqLh/r6LBwXdt2dxpkFdrX075Why7cm8PL5S/E1lgsoA5MG1D8WOH1frk+9Uol1TfN6M9b16ws0xB9jG+R81s3FC/CUdHFU3PaOTnfi6bajf2V/+qyu97n90+nM/PbG3uwhcf8vuZvUl7Xv6wPSe/WAi075oKYM85eU76/e9L33pGgW82m7Wjv7OKkndmbKV5SPr1pdN6ubmi4y2qSgBwu6goAX3Ip98lK8tqnTopLa9IvuC+c7b6JudK2Wdlg1M/g9+zg9E70Pl5IwtHhR3DiqtlJQ8eVjo9rui1UxpeGtR9J2p6Ll3Vyeaa1vqgA14Q5WtkopmdKuzZkx3lYw+oeN+9Cscn5ZWKIGsdH7Q3NN0cna/kjTS8gcNuC0pTvbpvkmvF+dS7MxfszES76rMe1SS7D8+wq0mcdbtjo1kAuDMEJaBPxWfPqfb1r2vgU59ROLNb8jUQ2QLydx7Qeyjygamd49aiHd6uYKB9+3ZVsbP9fqx+4clsmt3yrgntfOE1ffb3hvTSi2s6s7qk1/rgzH1glcdweFgDX/iCqk982I6PqLhrSkG5osQrkhaObnYD4/WStA+PET7V7qeiUA9ZUNrVy00cVmtKT5xX+k2rJq1aUCoVdefymrAH9otxXSfs+fh6c1kAgNtHUAL6VLy0pOZrr6p15nQ2Ba+wf+9NFZM6k3+W7IOX0kCLqZ/J395BqcNfMLOOa/ftVzA2JE2M6eHvDat1/DW98ZXfUWpn8tNaTb3CK0gegsLJCXuOTGZT66IdO7KGDYV9+xSNjWTb7WYVkCTd9B2IO63qPZwetWB01L4VD0kzvVzebNlP9PIJyYKSvLOi7zu1HnsntdXTRHNxQ6sWmBp0vAOAO0JQAvpUurSoxqureVCanlbh4D4FXhF4l8/rjEGX7AM9JHlTh+3UJvyd+Atm9vjdf0CFe/aq8N5jenj3kEZfeU3/9I++lu21FPdQUFJoQWlgQMV9B1S8/36NfPFnss1kve13R1pvvev6to3SaQfuE8jutaD0oIWkh3t9zVyzHZROnlcwv5xtZKx1/JkaSR6U1iy01wlKAHBHCEpAn0r9THXDBkzf+Ibic+dU+eD7b+rz/EXBh1dnLFSdtONNO2ZskDog+Hn/TtAMrQpQqJb1wSc/qvc98X49f99hHT93Vr/11a+o8fTTalpATS/NKo1b2gqCYlFBpaJoasrC0aAGf/RHFY1PqPTe96q4c0bRrp2Khofz7tKNpL0B6t3bqdQDkk/7PGDPvTHLEf9lMdTuXl8oV2tIlxeV/O4f2V+wiwp8Gqzvd3anTRx0df3h5bim79ZmtZJsjecdAPQyghLQr9qD3GRuTvGFi0r9THbq672DfLB/g0Fwp/udD7N8mflK1v56e3a+u54rj4Q9jr5Mplwpq1wuaf++fUqsOjP4+mtWKZhXEkXZ45zUbXDsYckGxZ3w6rLrG/H9+TflA287fP+jjF2GlarC4SFFO3fa5agKBw4oHBm1atI+RRPj2fTM7GfLglJ7HdtdCkr+VbOug/bHsB077WcZt8uxXl2X1LFWz4+5JQUemvzHWdeHOFXNKkkL9nxriWoSANwpghLQ59a++Q3Vvvtdjf6V/1bh6IgKO6cVWGi6UZO2TlByF22g/HwS6H2Bt2UWrscH73b87INH9bI9Xuef+JCeXljUyVpNwR/8vhKr5jWeey7b1yq+dFHNl19SWq8rXVrSuvPvxUJRMGSBaHJKpSP3ZtfLjz6qwq5dKh07psKefQp37FA4WL7ye/apdV5F2qjwdqu8LUYlyPdK8uYNHwkD3WfX16PlwV319CvSqQsK/NKn25VL67TJbC5NE6soNfSd2rwWt0glEwB6GUEJ6HPpqg07rarReOF5FffvU9GC0s2sU/LmDd4zy6fg1e1I2u2YcX2dPX4+YQPgulWZmmGkyw89pOTQQZXuOax4YUHJ/IJaJ44rrdUVz122wNRQsmo1u5WVrOLkH5NN1fOqkzdaCG7wiBcKecWoWs2m04V+WCDyjWHDsdFs3VE0Np41ZMjWIO2aUTCchye/zNqAN+OrzwO/chen2XXE7W+lLO9wF+jTYd7AYSpQbz/32o9t+urJLChlDRyCddxgNsh7bfjaJN9k9nLSUJOKEgDcMYIS0Oc8KPkwrfHiCwp9PUTwnpv6PB+YrqQelPIpeHd/GL21+YvphB2ftArIG+WKLhVTLT38YBYwK3Z7srKqeGUtqzB5Ral1/ryS5SW1Ll5UcvFCFp6aJ05k7/M9sEKvDEU36DVYqWZhKRzfYYFozCqFYxaGdluVaDBbaxT4NLuRUUUzeWvvsH032e/QRtS+xj+birnF+Hfkw/shG/jP2BPwU/ZY3mfXp3t9yp3zsHRtUAqD9QtKlpRi5dUkD0mzFpaaWyD4AkCvIygB28Tqf/ptpWurKn/oCYXtSkTauPFg2V8cfH3SORvTnbfLGRt3zfTDgHUD+dSwKTs+HQV60MLJP2glOmdvz9tjFxVKKowUFVXLvkBJxcMHlbZa2ebAab2Z3Zas1fK1THYE7zQlKypkLaUDC0vZUSxk65Hy68Wsm51XpLKPs/tN68lbq0dbTKezXaldOforhShrAf6ohYkh9YELc3Zclp5+VTp3yZ4oxXVtCZ4HpUAv1pf0RmNV80lLMUEJAO4YQQnYJpqnTqp0/oKSy3MKpiOFA9Ubjpk9DvkwrmUfsGZvLGRtwlOC0rvwx8ynjR2wAf6oPWa7LaR4s/CFbKZVmHUnCEuFK4vAusPLlW7OybsMctvtpK/MzAvecnFlFl3q95NVkLbuoDnV1eYNk/Znwa48Yj/fsF0fUx/wX8bSatblTnOL+XUPSev2VymvTMX2ZS5ZJWnJQlKTtuAAsC58QsYvCkDf8+53gQ1A00JRBd9XaWb6XffH8TP9Pu3ugHx9UqD7e30Pm00yony62L32eB2y4wULKrENXpfiRAU75M0TWvlldsTtw91MJaDTutsDUHz1ftLO/XbuL7m7Lb7fjf/Evg7Oe/NN2eP15wqhPm/HJ+0x29kPTzV/7P138vWnpN/8fem5N7P1glkTh3U56dBuDG73tWwB6VcWj+u15opetwMAcOdYmw1sI/HiopovvZi1C0+WVxR4/+UbhJ9O52IPS3N2XBZu1ag8ZEoftFfawzaY9bU3Hg5uOOGxE4Bu5ehB/l232pfj9rgctOfgE6FX4qQ96iPeCvzMJemsHWdmlf32b7Tu7HbZ4+cVpDULShetorQQNwUAWB9MvQO2kfj0Ga19+cuqvO/9Khy6R8WD+xT41KzrrFXyoNSpKJ22AfkwSx5u2T4bxO6wo2THl2JfbC+dSNPscfUNfK9txZ7ZButKkvbhzyuPDEfssXmfBaWfKuQtwPtiTVKH75X0wuvS8+2jYD9xaR3PT7afPPW4paVWXa82ljUbNwQAWB8EJWAbSWtrap09q9q3vmHXa9rx1/6K0my03lk089aBug/p/EXijB0le9dF5WtwRoSbVbXDA0AUhnogSPXLcapZe5xfsYDqQcEbQPjj3O+TGrPOi7q6JukxC0e77fK/KobZNMU9Qf5Y9Y2GVXbOzSr5j9+QXj6hILZ4XCzcsIJ7e4JsodrZuKY3Wit6o7mi2o02SAMA3DKCErCNeJc12RFfvKjWmdPZbdkUOw9K16lmdCoeNXvXqg3yO1UA3Dx/vLxKsivwF9xAI/Y4rmZdytIr0xu3C68kdYKSN2rYY6HhATs8fPdVJcl5C/BaPQtLWl7N/35tUBr2cLSStLIjoZE/AKyb7fbvNADjm5B6G+k9/+l3FY4Mq3TsaL4BaVdzh86g1lc9+FqS/7kUabe9ajxE97vb5uu9vF34P2zFes0Gz9+wClPncfbA8LbpeD2sM83OO/951Wy3PW/eH+bHD0dh1gK8X4N3+q+/LD37mvTP/n0+5c473YXrvCzYqkm+KfH/OvuSvleb0z9beFMAgPVDMwdgO/Kz3XGs1vHjis+dy0azqd6+AWb3oP2yDeyXOLVyRwrt45A91oft0fU1OmM+7SzI14T50QlOvajzvXd+Dv9HxkP2TjsetDcOtTvaeae7vozbFoC9s106O2+peOHq7et9csHuzyN2K020kDSzzWYBAOuLqXfANuTrk3wQu/TPf1mlBx9S5aMfy9/hZ719LcU1o/RO2XnFQtJ3rPrhe/c8QZvw2zbshz18P1cI9aY9pu9NUv16nOi0PcgvpPm6JX9h9rVLvfgoewXJQ5JXkXzNUcV+iI/b88WrR3/WfmafcrejnyuSiyvSqv30X/6O0lPnr7TvXu+g5I3B60msWtLSs2tzero2JwDA+iIoAdtY/dlnlDQbqn396yoc2K/SgQNK4s5Kkqt88O7DvJdsUD8d5K3CvaEDLyB3xpsYPG4homqXXq37bQuiF+3ypD38jfSta8I6l1spYvizpBOMOm+XA19/FGhvkG+8u99+tg/ZMRrkeyWV1OdeOSG9dkqBhSQtLFvprLjODRza7IzFmdaKXm8s6VRc0yXaggPAumOcA2xjrdOnFQ4MqvHaqwpHhqRDB677cT59ygfE5+y4ZMeqHYPiBeROeYvwg0G+NqlmIeJNSxpVO87HeUjqNG33YfZW7IzXPc3Oj6yKpHxqoa9le8hCwnvsqGib8D2TXjlpZxMWpTWrLA1uRC+/fFLsglWTTjRXs5bgK2lLAID15Scpf1EAtqckUbK0pNYbr1tgGlJh/yELTIMKvI1x/PbGDnZ+PBsI+8ape20QPMAMvHUxGHg3PAsUdnzAQsXHo0C7w7xl9iUbEPsLtQ27s0Diw+HOdMhrH/6N+lVcW1vsbJbr0+o6rb59at0e+77fG+XVsT9XjPSn7PpPRqEeDUPt3S4hyatHz76m9Ne/Kn35j/OQVCisewOHoP2bji0Y/cHqBf3W8lm90lzWckJQAoD1xglhYDvzlsVxnDV0aJ44rsbLL6kyOqxgaPAteyt1BuE+UF+1Tzmb5pdJQEeY9RC2D2/qULRH29cnzdn1EQsZ8xZP1tIgm47nVSY/mvY76XSUc53QdKfBKX2H2zr3Vwp8nVUe3nb492zf+F57+0Dobwe6vx36xrWNNC2krFgwevVkXlFaWskD0kak1yCPyQutpi7FdZ1urWk1Ye8kANgIBCVgm0sbdbXOntHa739V8aVLKj34gIKBwbyxQ5K1w7sy3vOB+QU7vpuk+lSYalrbaErVJvEpjV5h2hPlj/qTFpLmLRg9Yw/+83Z5xn4fz9rjn1V1Ur0lMLnOFL1bma7XWWvUuZ9r76+zPs0vvYI42p5S52vUPhTl3eyOWaDz73vbPhe8gcObZ5T+y9+Vjp+1apLF2YHK+ne6c3afdXsevNBY1DP1hawteDOlFSUAbASCEoBMfOF8Np2q/v3vq7Brt8oPP+Q70Sq9ps7glQ7vl3fKRtKn7HLQ3nWEPZU2lFdmBuwx9ty6034fi/a4PxCEWrPbz1pg8il5i2k+Nc+X8zfav7E4zafJddYQdf+WOlWoTjXLg1DUrhCWlDdd8GMiyKdbztj34FMuJ+xyX5Cvr9rbvs3fv63/Mfn+S9IbZ6QzF7PW4FkDhw3USBN9b21Op5tr2cbFKdshAsCGICgByMQXLmSHB6V4bk6Vxx5Wek1pwQfV/oJRS/OQ5GFpKPSgJGyg8XYQ9Y1+PQjF9ps4FeYNNZ6LE6swpdlUyFP2ttU1sn2uWj5NL/CPSbOQlKRvn5qXtN+O2s0kPBwNtDeAHbav6W3Mh+w4HObT6B4M8851M+1q0sZGgR7zg5ftF2C11tMWlKoWL4sb+09rI8mD0pnWmv2uCUkAsFEISgDeYvEf/UOrKO1S+YEHVJyZVrRzRkk9ztYqebXBqxReefqGlSy8S9vH2VNp03Q2qz3QfsjvsTJT3A5DfniQOq98St5aml6pMtVvcH/++/TA49Uhrwp5QCrafU+qXWG6cgTZ2qRO5YnfeC71VuCXFqRf/U/5DRULSWGkDRFE2Uy+1+vLOtFc0X9au0ADBwDYYAQlAG+RzM4qLpUUnzurcKCqcHo622TWOzek15y9XrIBuu/907Lhc2f6FjZWJ6B0qjnF4Npbr3bE83DkU/O8KtRov32j+/N/BDwo+fqioTBvJDGht1egcA1fu+dlusUVpecuKfA1Sv5obVQDhysCXY4b2bGcNLO9tgAAG4egBOAt4oV5JbU1zf7Nv6nhL/6Mhn7mv1A0NqKgZC8X9VZWUfC1Ky/bGO01O960wZpPxZpmrdJd5y/oO/1KlnL4fWyYWiPfJ+k3/kD6w+9bGm3lzU9KGz8h8beWz+i4VZSW6XQHABuOoATg7eJYrZMnVf/BDxRNTmngE59QND2VDwa9XbidTV9rn83+vl0/aIPyacbl2A58f7Ezl5T+0TN5O/DZhXxN0kY9/4O8trdoFaRaGuu5xkK2ySwAYOMRlAC8TdpqWVA6YUHp+9lArfzoowonJy0oRdm0o8DOZvvULj+n/QMLSr5M6f2sVcJ2YM/31PdK+v3vWUn1lIJL89LokDZSEIRasqA016rrmdq8TrdqAgBsPJ9F84sCgOtIl5fVOnFcwcBAtnap4nss2e1eUXJ+3QOTL/Q/EuZrlcrkJfSzf/170td+IH31u/n+SV5NijZwhZ6dqPD/vrxyTv9x5ay+unZJq2lMQ3AA2ARUlADcULK8lB2N555VUCwqXVuVwoICO8JsM9pUF2zE5sd5u15tt5UG+s5qu4rzwpvSyfPS3GK+JqmwQV3unP19atlJiTiI9UZzRS82lhTb37OEJg4AsCmoKAF4V81XX1HjhedVPHK/0kZdxX27FcaJIhuvzSnvquabnu4Lfb8fSkroP+k3n5GeflX6u/9COn0hD0h+bODzPQiLWrLq0R9bFelXFk/od1bOZ+uUAACbg4oSgHcXx9k0vNo3v6FkYU6FXTsVjk8oiCIV4jTbp8c3oT2XBrpo13eIFxf0idU1pV5NeuGNbG1S0KnmhBvZED/I/o+V6HJc11P1Bc3FDSUCAGwmKkoA3p0NDtNmU82XXrKKUlPR/oMqTE8qHBqUWkm2V4+dY9d+Gzz6svYZO8tOUEI/SC7MKT1xXvrV35GsqhSsrCnbWKy4gdWk9rqkRpJPufvf5l/VK81lLcRNAQA2D0EJwM3zvVtqNcUXL6qwd69SqzQVJsbtzLcP6lIN2Lhx3qpKj/jGpUH+AgP0JF+Dd3E+C0f60tcVvPCmAl+X5J0fo2Bj96myIOad7r62elFP1+b1a0unNZc01WJtEgBsqo2cOwCgn3hVyUJS6+zZbApe8403FF+aVegdv2zg6NPvTtrY8kX7uBWlagnoYd7ZcXlVeuOMgm8/byXTWTtJUM873IUb/U+n33+g1xvLetMqSmdba6qxwSwAbDo/JcYpKgC3rLBrt4JKRbv+3W8q2jGmwr49ajRaasWp/rtCqGNWVfqTEedi0IPOWSg6f1np3/j/5td936SBysa2AXc+5S6IdKlV07JVkD765n9WI010Ma4LALD5WEYA4LZ49zvXfPFFJbt3KpqasBvzs+2X7ByMtwy38/Eqtg9gy2tZHbRllZvjZyVfl+TrkZqtDe9u120+buhUazULSQ3OZQLAXcMaJQC3JV1by/ZYar7xejYlqXTsISWVslI78362lWjFPuYRC03+IjNAx3D0goXlbF1S+r/8svQH35dePi7FiVQubU5Qypo4SL+2eFK/uXha36hdVp124ABw1xCUANwZqywly8uKL88qsGBUKJTUGhlSy6+nqco28ttlA8B81QWwBTWsarSwovQ7L0i/8y3pj57NGzm4aHOqSb6J84W4rmdr8/p3S2f0tdolXU7ocgcAdxNT7wDckXh2tt0JLFJx334F0zOq757Rgr39jFWW9qfKuuLxYoMtK02y/ZL05hnpj5/P1yX5lLvBqjZPoJUkzho4vNZa1qvNFQEA7i6aOQC4Y0HBYpAdxT17FU5Oavxv/i2Fhw+pbMeT9grzMassfd4qTCOUlLDVnLkkvfiG0l/6knTiXL4+yYN/GGxOJSmIsn+J36wv6T+vXtTfnX1JZ+OaZuOGAAB3Fyd5AdyxNFsE31J8+bKS1VW1XnxBYW1N6Y4dOlup6KVyWTYczVqGjwvYArxpQxznVaTX7ThuIcn3SfI1ScXCJoSkIPs/ab/1fGNRL9UXdT6uazmluT4AbAWsUQKwbtJa3uCh/uxzit88rvKBQ7psg86XJsZ1r1WV6lZdOhBQVsIWML+cNW9I/+4/l772VLtxgwWnymY2bgjUTBO1kkS/cP4pfb8+rzeaK4rZWBYAtgSCEoD1F3j78IbSlRWl9bqvVNfQ2JjmwlBH7bq/n5bhuCsaTen8nPTt55TaoW8+I11ezNckZVPuNmnvr/aeSd9fu6yXGkv65cXjWfOGlYRqEgBsFUy9A7DukoWFLCQtXzivZHHBBqAFffPgIe0sFPV5G4tOprQMx11Sb2YbyKbfeFr63ovSG2ftCWuVpFJxU/dKypcIB3qmvqA3G8t6xQ4AwNZCMwcAG8bbhQfVanbs+Et/WdUDB/WRP/Nn9dkoyI5hcbYGmyf16tEbp5X+89/OOtsFl5estLl5jRtyVkkKI51trunZ2pz+1uwLerG+mLUGBwBsLYxRAGyYNEmyypLsqJ84bmPRQGcuXtS5oQFdtKMaRdn+Sps02QnblU+3syM9fVG6ZBXOC3MKllbzNUnlwuaFpPbXaaSp5pKGTrZWtZQ0Nc9+SQCwJVFRArBpwsFBDXzux3XvD/+w7v2RH9HPT+zQ/aWSdgjYOOkf/kB69aTSv/PPs3AULK9ZQCrZqcJIm8k3lfWQ9JJVkn539bz+zuzLumSVpHqaCACw9dDMAcAm8n7INiis17V2+bIGBwa0ZLceGB7Kzths7rAVfcu7xq3VJasgpb6BrAelH7yc7ZMUJGnesMEbN2xmJSkItZq0dNmC0a8sntAP1ub1XGNRdSWcrQSALYqpdwA2TdpsqPHsMzq/sKDZV1/VVycmdcZGiR/ftVNle39JwDpoB6XUN4/9vW9nHe70xplszVy2Hqm42f/0eYe7UCtJTZdaa/qNpdPZhrKLTLkDgC2NihKATZfWa0rmLmvu9dd19nvf06lCQecWF3Vg794sLFFZwm07ecEqR2eV/OPflL76XQXf8PbfC3kVyafaReGmVpK8cUPLglsjifW/z72qLy2f09fWLmXrkmJqSQCwpVFRArDpfG8lP+Zee1U1C0jPnzql8ZERed8vVmvgjqzV8oYNL5+Qzl+2Y1aq+nqkQl5N2nRBFofiNNFLjWWdaK5oib2SAKAn0MwBwN3lZ91LJe2+/6geePJT+kt/5r/UPQf265GpKQHvyv8Fa1lt5ulXJDvSX/9qvhbJq0i+DqnU7moXbG5I8ql2Hvq9kvTvl87YcVr/duWMlglJANAzmHoH4K7ztSMF3/AzTVW06xfPn9e+mZ1qtloaqFQEXNfyqrSwJD1lIempl6VnX7OQdD67PYiTfJrdZk61y+ShzP+bixt6vr6ob9Vm9Z3anE601phuBwA9hKl3AO66tNnU5ePHs+P866+qNDSkew8c1OToqCbHHhZwXT61bnZB6f//P0ivnbbjVN6wwYNRuai7IshaN2RXfR3SbyyfztYkfc3CEgCgt1BRArCltCw0NVZWdPbceZ187XVNFMsqR4WslbjCcNOnUGEL8W52zZbS41Y1evZVpf/2K0q/9YwCryYtLEve+vuuVJGUV5GC8EpI+u3ls/ra6kX9q+VTOtFY00rKlDsA6DVUlABsKY3lZTXs8j9/+fd05tBhffSeo5qZnNK0r1nyBfnkpO3Lg1Irli7NSa+ekr71rJVtFvPKkrf89q52Hqa3gBfqi3qqNq9nagsCAPQmmjkA0FYV2ln6or1M/dSRR/Teqb36c7/432vkwB7pvv3CNvOdF6TXTymxKpJOnVdw8nzerMGDUenunvPzSlLHry+e0g9qc/pf517Npt4BAHoXFSUAW5edxkntdM5cfU1vLl7W2VdeU7yyph0+MB4asKNqg+TilqkiYB15M4bVmrRix+pq3u775DlpcUVBo9meYhfd5QpjcOXr19JEZ1r2PG2u6HhrVTXFAgD0NipKALa8ahCpYNWl/2nyIR3bd0Cf/rHPSo/cKz1qx/6ZfEoe+stSHo7Sbz8rvXlW+r1v513u1upbZ5pdu7ude90C0j+ce03/YeWsnma6HQD0BZo5ANjysg077c+FpKX51WXtnW9Ipy9q8LWzClbr2XWNjeSnfghNvWtuMQtI6Ve+K33vRaVf+rr0nRcVvHIiD07XNmu4myHJA1IYZfsk+Uay/2TudX197ZL+3coZnWisqp6ybTIA9ANGFAC2PA9JsY2Rf1CfUytu6fTzL6l6aVHTJ2at3FSWpnZI9x+wVzQbPFfKQo9aswBcs+D7zKtKL85J33g672bnU/AGKnk48krSlhBYUErseZlm3e3Ox3UaNwBAn2HqHYCe0WnucLhQ1aeHdupTw7v0qZFdGiyUpIO7pUM7FRywy8eP5eGJpg9bm6818ul1FywUvfim9K1nlM4tKXj9dN7eu9bIq0eusxbpLreHD8KCammsxVZd/2bxlJ6qz+tfLJ7I3rec0AIcAPoJFSUAPSOxs/exDZTPJg291FjW6Mqs7kvKGi2WtetM0T4gyasS3uxhajx/2ysQ3vShYhWJqgWqckm4S/z34eGobseiVYqW16SnX5XOz2abxaYnL+S3ewXJA1Fnel24BXrCtzvbrSax5qx69FJ9Qc83FvRifYmABAB9iooSgJ72t6ce1sHioH5qYJcUx9k+O+nYcDZVK/CK0q4J6egh6cHDCnZPSXunhbvA90DyRgxnL0nnZpV+/Snp9AWlX7PLtZqCeQtIpVIeispFbTVeSfJ/Ml+pzembtVn904XjerGxqLPNmgAA/YmKEoCe9nurF7QzKmsqLOpAVNWBYlWBByYflHu3tEsLNjC/LL1+WunEaB6YfF3TTgtQ4/b2YCVvMR5sgapFv6k3supReuJcXiV684x0xoLSmYvSG2eyVt8+vS7wJg2VUrvd91b6PQTt78eqmK011aya9KuLJ/WqVTO9DfhSTAtwAOhnBCUAPe13V85rzELSIasqfWxgSvsqQ4qsqhQ0W3kXtY6JMQtF1ayi4RWn4D33S0eCfGqet5smKK2/bIqdhaFnXpPm7XfxzWeyKpJOXcjfZ1WmwMORr0PaglMig86fQahzzTXNx3X9SwtKvpHsaQtOAID+xtQ7AH3Bw9KjlTE9Uh7VXxg7bJWlQQ1FpXxdTJrY//ZSF7R3sPVwND6cr2MaGVDw0D15hemBw3ZHQ3bY+3aMXG0kgHfn3emsipc+/4bUac5w/nI2zS7bKNbCa772qP3x3cF0CwXVoL0eyetF36/N6Qdrc/rlxeM6ZeHoRHM168Lo6+UAAP2NihKAvuBn+c+1ahqNCtnmn6Ug0v6omHUMj9JQQWLDW+8xXq/nTQJ8oOtj3aWVPBx5W+rRwWy9TFbtcB6UfFpetndPu/IEqdluXuBT6+IkD6Oz8/ZYruUVo1mrHp26aIHpch6aPER5UPLH3ENqYatNsXPBlRDnLb/9qXEpbuiMVZKOt1Y1a9fPW1BqskcSAGwbVJQA9J37SsM6WBzQ35p8SBOFig6XrTrkL3VeWfKBbraDbXx1kO+HD9w9DPk6Jj+OHZSGrNp07FDeEGLXZN4IorOfz3bWXnOU+lQ6D0HeoOHVk1ZBslB05kL+uF4bhEqFt3ax23KCPCN5JcmOCxa0L1no/p8vvainGgv6QZ39kQBgO+L0KIC+s2Bn/08r1H9aPa99FpjWLBztLlY0EhazvZgyWTAK8y5rSZifNvLbvJrkg//j5/IKkjeFmLTgNDkmzUzkLcbHRvJKk7cd9+DkH+e3h+1qSRhujZbWt8OrPv4YtDsIamnVKkj+mKzkrb2XV/Ng5I/Ls69JK1aBm1vKq0hejct+7vCtoSgIr06522qC4MpapEWrSi5Z5fEbqxd1oVXXaxaYLsdNAQC2JypKAPpSaC9vgxZcHqvs0OeHduuTgzM6apWmSuStp1MrLl2nY5lXlrwa4gGhM73MQlBqlSUPRYGvXfJQ9IBVmXaMKtg/k69tGh2yEDVuIamQrXnKQpQHpl7Tqa55KFpZy6tG3jlwfknBS8eVXrbKyonzSmcXstAU+PojX/vVsseq2J6imAXFoGeaY2Trkdqd7V5pLOqV+qL+n1ZJumAVpZebywIAbF8EJQB9Katr2ADYmzyMRSU9boFpf2FAf3HHEVUtQO0qVvPqiZRPx+vI1i6leQDo6Az8w/agerBdRcoqSZUsHKT7prOAFHjladjCUqWchSkNWKVpxIJUtZy3JfdQ5YHK10P5/fm0tI2aktb5WZwHP2+msFrPW3YvLOUVosuLeXXIj4uX82qSV4gsHKUekPx6rZGvR2q08s+J2+uNPFRm/4Rssc1h31Fnml3ezW7eAtGZ1pp+b+WCnqrP66navF5qLKllP18tpf03AGxnTL0D0JeyZUg22PVF+H4MBpEW46ZWkmZ7Glh78X5397KgE4rab2dVlvRqOPDDqy2d6529f3xKmre4nl7Mu+ZlezXV81DlAcNbk/tUPf+YoletKhv/Cnztz+ahptEOSx585tsByKtC/r0v28906pzdloen1AOUV5D8Z/UK27VhrnO9GLWn1fXiNEP/GQI1LCT78+IVC0cvWjXp2fpCdhtnEAEAVJQAbCtTVl3aWxzQTw3v06cHZ3SsNKyBqJwXQrwzXvZRN/GyeG21xjU7VZY4D1ZJu0rlQapSUtrp9tZpBpFtsBoq8OrSjvaUvs6mqz6NbWJEgYWrtDMF8GZ4GPIuc/49NK1q5OuHfE+phWWl/v34fa018jVHWWUoUeDByT8vboehoP09R+11RlGvBqG38s7witrJ1ILQ99bmdLK5ov/l8ks6ZVUl30AWAIBrUVECsK3UlOhiXNf3anMqWQA42VzVQ9UdGg9LmgwLWSZIFV4Tgm4QmrrDQ2fPpewOvLNelN9He9pedlbKA4lXcfxjPMCE7SlrHmA6G9+G7VbkXs2pFNvT226SB7TF1fZaqzifRudrsVbrCpI0D0u+nihur8XKKmLh1cYWQbvK1pli2OsBqf39B+3ZgZft9+4NG45bKPru2mW7XNXZVt2qjLcQRgEA2wYVJQDb1pHikKatmvQXdtyje0qD+kh18kqL6CxgeNOHO3mJTK5d+6T22qd2e/LkLu3Hc+0eRp1g1A+h6Ho8oAZXm2o80w5H/2LxuP7Irr9OFQkA8A4ISgC2rdGwqLINpI+Vh7SnMKAPVSZ0xK7fUxrS4eKgCp31N+1pdncUmjoVqrTr7U2QeGBI/QU/vRqOOvooIGWVozDvYOdht2aVomU7Xm4sZQ0b/s3iSa1aAH6usaDzVJIAAO+CqXcAtq0Fb+ygpubXGpqMlm1gHaumWMNhpP3FgfYLZCdI3GGwuVLFuXKDNkvqgc++/yDdDufFgiuXHoOW7XfsQenl+qK+tHxWvgptNaGbHQDg3VFRAoBrFCzQRPbS+CNDOzUTlfVnRg9km9Z6a/Eg9OjkFaY4ry5ti+CxdXW2is02+m2btcrRrFWL/vnCcb3eWNE31y7pYtLQItUjAMAtoqIEANfIZtnZ+HsubmSb1j5dX9B83NRCsalJC0slG5SPBVE2jS1sV2ryT5Q477QZgrdV5Xx63aofFmBfry/pvIWl461VnYnXVEsTqxnyewEA3DoqSgBwAx6UBtvT8Lyi9GNDu7W7UNHHB6YsMBU0EJWUvYSmydXNa3lJ3UCdzWLDK90Ffc+jl+qLej47FvSllXM6ZUHpXKsmAADuBEEJAG7AXyB9Kt5QUNSABabdxaqGg4I+Wp3UVKGsg6VhHSxUs+szFqDyasc1L6tJcvP7MqFLJxS1H1NvGGhhNLZg5FPpLsY1fbc2l20W+621WV1q1XXJbj9rIWkxblkliXVIAIA7w9Q7ALgBjzdNG5zPpQ3NWdHotA3CnTd98E1rl5KWKlWpbAP5LCjlI3tdPQcVZFP0iEl3ovN45hex/T4W4oZON1f1zdVLuhTX9eWVC1llqZ7epZbrAIC+REUJAG5RJQiz1uFFewndEZU0ZNWmjw9OayIq67HSmPaXqtoRlrS3NJS3GHfZ1Ly3NoCg2tSuG10bMNvX84erpZMWTuctGH3Dqkanmmt6qj6vc1ZN8vbevo7MP2zNm2ukTHsEAKwvKkoAcItq2ZqkvHrhjQIWkkDHmyvZgH5HkL+srkSxSpFP2SvYC60FK/s4bwHRedENguD6Z6r6uSnEdfds8lBkESdIlcWeNH98W0lqR9MqR97FrqHjjVULSGvZhrFeRZq1x7qZJkQjAMCGoaIEAOts2qpMvpbp0eoO7SxU9L7yjqwhxAE7dhUGVLQqUzlqtxrPdDrnJX3ddjzoNGG4djqdVYNa9vP65rCvNpezfY9+d/l8Nq3xxcaSXrHbzrdqWkliEYsAAJuJoAQA62zQQlJn3dKQVZR2F6oat/A0YcfB4pCqYaRDpSENBJFGPVR51ck+fiIsZZWm8C2b0aZdl9d5143ev2GCd3zzrTfk/8z4fysWfurZWqI0q76t2fUL3nzBwtG5Zk3HWyvZx7zcWFbDAtQl+xivHPltDapHAIBNRlACgE1QtmpKyY6jxRGNWDD6yMBEtqYpqzIVq6paaLq3NKzI1z6F186Kvlptepu3rHfavJfy4NogdL3pdN1VI6VZE4YLzZVs41fvVPe6Xfc1Rs81FrNW3i/UF3U6XtOaVY5oygAA2AoISgCwCbxK5PlhKPA1S4GGo0IWnEoWkKYtMHmQOlgctGpTQWNRMatGjVmFaY9d+vt8Ct9AaB+vKJu655Wnot9xttbprY0QNlbWpzu7bFmg8UgTtytGfvPlpJFtAHvGKkReKVrwdUatPACdscvLFo788Nu9CYPf7q28a1mlKc7ug9oRAGArICgBwF3mnfPKFqX2FKyyFEUat6C0rzCY3b7fb/NNbwsD2TS+igUrD1PeS8+Dk4ckr0KFod9i15V32fMX9/BKV+1bD09pu0bVKVr5RdK+tZXE2S11C0S+vqhp72zZez04nWvVtZw2dbyxYqGpmVWN3mysatVC0Pm4lr09n+TT7uI+XYsFAOgPBCUA2OJ8/ZJPzRsJCllr8snIqkwWjPYUq9k0Pr99yEKVh6hJu4yyalNgtxWvfO7N6myyu5pcrfZ4GPLpcB5uvEo0G9ezt88017Kq0ELczEKQv2/ZPqelNOtIBwBAL6M9OABscR45vA35iuJsA1wldUVJmLXTrlpwqmRHIZuSN9SuNnlYKlslyi8rnb2cbkJWibI/6+0NXD3wJFnVKM0aKnhwWklb2dvzFpD8tjWrLPl0u5pXlXwKngAA6H1UlACgz5VvISh1xNkaJP55AABsXwQlAOhz4R2sUQIAYLsiKAEAAABAl1ufjwEAAAAAfY6gBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAAAAABdCEoAAAAA0IWgBAD4P9qvYwEAAACAQf7W+8dQFgEAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAI0oAAAAjSgAAACNKAAAAE66La9ksQ6vKAAAAAElFTkSuQmCC";function JS(ut,lt,ht){let _t=!1;return new Promise((At,qt)=>{let Zt;const cr=`wss://live-api.joinplayroom.com/?service=tiktok&username=${ut}`;Zt=new WebSocket(cr),Zt.onmessage=function(Gr){if(_t)lt(Gr.data?JSON.parse(Gr.data):null);else try{JSON.parse(Gr.data).type==="streamStart"&&(_t=!0,At(Zt))}catch{}},Zt.onopen=function(Gr){},Zt.onerror=function(Gr){qt()},Zt.onclose=function(Gr){_t?ht():qt()}})}function QS({options:ut={},onStart:lt}){const{width:ht,height:_t}=Wm(),[At,qt]=reactExports.useState(!1),Zt=Ie();return reactExports.useEffect(()=>{const cr=document.createElement("style");cr.innerHTML=[lg,cg,ug].join(`
`),document.head.appendChild(cr),Zt.createRoom(null,!0,!0)},[]),At?null:r$1.createElement("div",{className:"bootstrap-wrapper"},r$1.createElement("div",{className:"playroom"},r$1.createElement("div",{className:"modal-container fullscreen "},r$1.createElement("div",{"data-pop":"slide-up",id:"popup",className:"show"},r$1.createElement("div",{className:"popupcontrols"}),r$1.createElement("div",{className:"popupcontent",style:{transform:`scale(${Math.min(1,_t/844)})`}},r$1.createElement(GS,{options:ut,onStart:()=>{qt(!0),Zt.setState("__launched",!0),lt()},onMessage:cr=>{Zt.emit("live:tiktok:msg",cr)}}))),r$1.createElement("div",{id:"overlay",className:"show"}))))}function GS({options:ut={},onStart:lt,onMessage:ht}){const[_t,At]=reactExports.useState(!1),[qt,Zt]=reactExports.useState(""),[cr,Gr]=reactExports.useState(null),[Zr,xn]=reactExports.useState(null);async function On(){try{const ss=await JS(qt,ls=>{ht(ls)},()=>{At(!1)});xn(ss),lt(ss)}catch(ss){console.log(ss),Gr(setTimeout(On,5e3))}}return r$1.createElement("div",{className:"main-menu"},r$1.createElement("div",{className:"platform"},r$1.createElement("div",{className:"profilecontainer"},r$1.createElement("div",{className:"steps-container"},r$1.createElement("div",{className:"step-item active"}),r$1.createElement("div",{className:"step-item "+(_t?" loading":"")},r$1.createElement("span",null))),!_t&&r$1.createElement(r$1.Fragment,null,r$1.createElement("div",{style:{textAlign:"left",color:"#fff",padding:"1rem 0rem"}},r$1.createElement("b",{className:"title"},"Connect to TikTok"),r$1.createElement("p",{className:"subtitle"},"Enter your TikTok username which you will live stream from.")),r$1.createElement("div",{style:{position:"relative",zIndex:1,display:"inline-block"}},r$1.createElement("div",{className:"avatar-photo ",style:{border:"none",boxShadow:"2px 2px 0px 0px rgba(254,40,84,1), -2px -2px 0px -0px rgba(36,246,250,1)",backgroundImage:`url(${XS})`}})),r$1.createElement("input",{type:"text",placeholder:"username",value:qt,onChange:ss=>{Zt(ss.target.value)},autoCapitalize:"none",autoCorrect:"off",className:"input-name"})),_t&&r$1.createElement(r$1.Fragment,null,r$1.createElement("div",{style:{textAlign:"left",color:"#fff",padding:"1rem 0rem"}},r$1.createElement("b",{className:"title"},"Waiting for stream..."),r$1.createElement("p",{className:"subtitle"},"Open TikTok and go live from ",r$1.createElement("b",null,"@",qt),' in "Mobile gaming" mode.')))),r$1.createElement("section",{style:{width:"100%",display:"flex",marginBottom:"1rem"}},r$1.createElement("button",{id:"btn-launchjoin",className:"button-black launch-btn",disabled:!qt,onClick:async()=>{if(_t){At(!1),cr&&clearTimeout(cr),Gr(null),Zr&&Zr.close();return}At(!0),On()}},_t?"Cancel":"Launch")),r$1.createElement("p",{className:"sdk-version"},"Multiplayer by Playroom v.",Gu.version)))}function ZS(ut={},lt){if(!window.__playroomjs_mounted){var ht=document.createElement("div");document.body.appendChild(ht),window.__playroomjs_mounted=!0,$S(r$1.createElement(QS,{options:ut,onStart:lt}),ht)}}function $S(ut,lt){Wt.createRoot?Wt.createRoot(lt).render(ut):Wt.render(ut,lt)}typeof window<"u"&&(window._PLAYROOM_CONFIG={...window._PLAYROOM_CONFIG||{},sessionStorage:!0,sdkMode:!0,sdkVersion:Gu.version},mi.track("SDK: Loaded",{cdn:!!window.Playroom}));function RE(ut={streamMode:!1,baseUrl:"",allowGamepads:!1,enableBots:!1,botOptions:{},avatars:[],roomCode:void 0,skipLobby:!1,liveMode:void 0,maxPlayersPerRoom:void 0,defaultStates:{},defaultPlayerStates:{},matchmaking:void 0,gameId:"",persistentMode:void 0,turnBased:void 0,discord:void 0},lt=void 0,ht=void 0){if(typeof ut!="object")throw new Error("options must be an object");if(!ut.streamMode&&ut.allowGamepads)throw new Error("allowGamepads only works in stream mode");return ut.matchmaking&&(typeof ut.matchmaking!="object"?ut.matchmaking={waitBeforeCreatingNewRoom:5e3}:ut.matchmaking={waitBeforeCreatingNewRoom:5e3,...ut.matchmaking}),ut.turnBased&&(ut.persistentMode=!0),ut.turnBased&&ut.turnBased.challengeId&&(ut.roomCode=ut.turnBased.challengeId),ut.persistentMode&&(window._PLAYROOM_CONFIG.sessionStorage=!1),new Promise((_t,At)=>{const qt=()=>{lt&&lt(),_t()},Zt=cr=>{ht&&ht(cr),At(cr)};ut.liveMode?ZS(ut,qt):ut.discord?e3(ut,cr=>{d0(cr,qt,Zt)},Zt):d0(ut,qt,Zt)})}function makeRoom({user:ut}){RE().then(()=>{console.log("Playroom launched");const lt=useGameStore.getState();lt.setGameMode("pvp"),lt.setInMultiplayerRoom(!0),lt.startGame(),hE(ht=>{console.log("Player joined:",ut==null?void 0:ut.username);const _t=ut,At=new Pc(ht,{type:"angular"});ht.setState("profile",{name:(_t==null?void 0:_t.firstName)||"Anonymous",username:(_t==null?void 0:_t.username)||"anonymous"}),ht.setState("player",lt.player);const qt=(Math.random()-.5)*20,Zt=(Math.random()-.5)*20,cr={state:ht,joystick:At};lt.addRoomPlayer("RUARH",cr),lt.player&&lt.updatePlayerPosition({x:qt,z:Zt})})}).catch(console.error)}function AppHeader(){const{network:ut}=useTonConnect(),{user:lt}=useUser(),ht=useGameStore(selectGameRunning),_t=useGameStore(selectStartGame),At=useGameStore(selectStopGame);return jsxs(FlexBoxRow,{children:[jsx(Avatar,{firstName:lt==null?void 0:lt.firstName,photoUrl:lt==null?void 0:lt.photoUrl}),jsx("span",{className:"ml-3 mr-3",children:lt==null?void 0:lt.username}),jsx("span",{children:lt==null?void 0:lt.balance}),jsx(Button,{onClick:ht?At:_t,children:ht?"stopGame":"startGame"}),jsx(Button,{onClick:()=>makeRoom({user:lt}),children:"Join PvP"}),jsx(TonConnectButton$1,{}),jsx(Button,{children:ut?ut===CHAIN.MAINNET?"mainnet":"testnet":"N/A"}),jsx("pre",{children:JSON.stringify(lt)})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="157",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RGB_BPTC_SIGNED_Format=36494,RGB_BPTC_UNSIGNED_Format=36495,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding$1=3e3,sRGBEncoding$1=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace$1="srgb",LinearSRGBColorSpace$1="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(lt,ht){this._listeners===void 0&&(this._listeners={});const _t=this._listeners;_t[lt]===void 0&&(_t[lt]=[]),_t[lt].indexOf(ht)===-1&&_t[lt].push(ht)}hasEventListener(lt,ht){if(this._listeners===void 0)return!1;const _t=this._listeners;return _t[lt]!==void 0&&_t[lt].indexOf(ht)!==-1}removeEventListener(lt,ht){if(this._listeners===void 0)return;const At=this._listeners[lt];if(At!==void 0){const qt=At.indexOf(ht);qt!==-1&&At.splice(qt,1)}}dispatchEvent(lt){if(this._listeners===void 0)return;const _t=this._listeners[lt.type];if(_t!==void 0){lt.target=this;const At=_t.slice(0);for(let qt=0,Zt=At.length;qt<Zt;qt++)At[qt].call(this,lt);lt.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const ut=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,ht=Math.random()*4294967295|0,_t=Math.random()*4294967295|0;return(_lut$1[ut&255]+_lut$1[ut>>8&255]+_lut$1[ut>>16&255]+_lut$1[ut>>24&255]+"-"+_lut$1[lt&255]+_lut$1[lt>>8&255]+"-"+_lut$1[lt>>16&15|64]+_lut$1[lt>>24&255]+"-"+_lut$1[ht&63|128]+_lut$1[ht>>8&255]+"-"+_lut$1[ht>>16&255]+_lut$1[ht>>24&255]+_lut$1[_t&255]+_lut$1[_t>>8&255]+_lut$1[_t>>16&255]+_lut$1[_t>>24&255]).toLowerCase()}function clamp(ut,lt,ht){return Math.max(lt,Math.min(ht,ut))}function euclideanModulo(ut,lt){return(ut%lt+lt)%lt}function mapLinear(ut,lt,ht,_t,At){return _t+(ut-lt)*(At-_t)/(ht-lt)}function inverseLerp(ut,lt,ht){return ut!==lt?(ht-ut)/(lt-ut):0}function lerp(ut,lt,ht){return(1-ht)*ut+ht*lt}function damp(ut,lt,ht,_t){return lerp(ut,lt,1-Math.exp(-ht*_t))}function pingpong(ut,lt=1){return lt-Math.abs(euclideanModulo(ut,lt*2)-lt)}function smoothstep(ut,lt,ht){return ut<=lt?0:ut>=ht?1:(ut=(ut-lt)/(ht-lt),ut*ut*(3-2*ut))}function smootherstep(ut,lt,ht){return ut<=lt?0:ut>=ht?1:(ut=(ut-lt)/(ht-lt),ut*ut*ut*(ut*(ut*6-15)+10))}function randInt(ut,lt){return ut+Math.floor(Math.random()*(lt-ut+1))}function randFloat(ut,lt){return ut+Math.random()*(lt-ut)}function randFloatSpread(ut){return ut*(.5-Math.random())}function seededRandom(ut){ut!==void 0&&(_seed=ut);let lt=_seed+=1831565813;return lt=Math.imul(lt^lt>>>15,lt|1),lt^=lt+Math.imul(lt^lt>>>7,lt|61),((lt^lt>>>14)>>>0)/4294967296}function degToRad(ut){return ut*DEG2RAD}function radToDeg(ut){return ut*RAD2DEG}function isPowerOfTwo(ut){return(ut&ut-1)===0&&ut!==0}function ceilPowerOfTwo(ut){return Math.pow(2,Math.ceil(Math.log(ut)/Math.LN2))}function floorPowerOfTwo(ut){return Math.pow(2,Math.floor(Math.log(ut)/Math.LN2))}function setQuaternionFromProperEuler(ut,lt,ht,_t,At){const qt=Math.cos,Zt=Math.sin,cr=qt(ht/2),Gr=Zt(ht/2),Zr=qt((lt+_t)/2),xn=Zt((lt+_t)/2),On=qt((lt-_t)/2),ss=Zt((lt-_t)/2),ls=qt((_t-lt)/2),cs=Zt((_t-lt)/2);switch(At){case"XYX":ut.set(cr*xn,Gr*On,Gr*ss,cr*Zr);break;case"YZY":ut.set(Gr*ss,cr*xn,Gr*On,cr*Zr);break;case"ZXZ":ut.set(Gr*On,Gr*ss,cr*xn,cr*Zr);break;case"XZX":ut.set(cr*xn,Gr*cs,Gr*ls,cr*Zr);break;case"YXY":ut.set(Gr*ls,cr*xn,Gr*cs,cr*Zr);break;case"ZYZ":ut.set(Gr*cs,Gr*ls,cr*xn,cr*Zr);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+At)}}function denormalize(ut,lt){switch(lt.constructor){case Float32Array:return ut;case Uint32Array:return ut/4294967295;case Uint16Array:return ut/65535;case Uint8Array:return ut/255;case Int32Array:return Math.max(ut/2147483647,-1);case Int16Array:return Math.max(ut/32767,-1);case Int8Array:return Math.max(ut/127,-1);default:throw new Error("Invalid component type.")}}function normalize(ut,lt){switch(lt.constructor){case Float32Array:return ut;case Uint32Array:return Math.round(ut*4294967295);case Uint16Array:return Math.round(ut*65535);case Uint8Array:return Math.round(ut*255);case Int32Array:return Math.round(ut*2147483647);case Int16Array:return Math.round(ut*32767);case Int8Array:return Math.round(ut*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize,denormalize};class Vector2{constructor(lt=0,ht=0){Vector2.prototype.isVector2=!0,this.x=lt,this.y=ht}get width(){return this.x}set width(lt){this.x=lt}get height(){return this.y}set height(lt){this.y=lt}set(lt,ht){return this.x=lt,this.y=ht,this}setScalar(lt){return this.x=lt,this.y=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setComponent(lt,ht){switch(lt){case 0:this.x=ht;break;case 1:this.y=ht;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y)}copy(lt){return this.x=lt.x,this.y=lt.y,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this}addScalar(lt){return this.x+=lt,this.y+=lt,this}addVectors(lt,ht){return this.x=lt.x+ht.x,this.y=lt.y+ht.y,this}addScaledVector(lt,ht){return this.x+=lt.x*ht,this.y+=lt.y*ht,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this}subScalar(lt){return this.x-=lt,this.y-=lt,this}subVectors(lt,ht){return this.x=lt.x-ht.x,this.y=lt.y-ht.y,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this}divide(lt){return this.x/=lt.x,this.y/=lt.y,this}divideScalar(lt){return this.multiplyScalar(1/lt)}applyMatrix3(lt){const ht=this.x,_t=this.y,At=lt.elements;return this.x=At[0]*ht+At[3]*_t+At[6],this.y=At[1]*ht+At[4]*_t+At[7],this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this}clamp(lt,ht){return this.x=Math.max(lt.x,Math.min(ht.x,this.x)),this.y=Math.max(lt.y,Math.min(ht.y,this.y)),this}clampScalar(lt,ht){return this.x=Math.max(lt,Math.min(ht,this.x)),this.y=Math.max(lt,Math.min(ht,this.y)),this}clampLength(lt,ht){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(lt,Math.min(ht,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(lt){return this.x*lt.x+this.y*lt.y}cross(lt){return this.x*lt.y-this.y*lt.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(lt){const ht=Math.sqrt(this.lengthSq()*lt.lengthSq());if(ht===0)return Math.PI/2;const _t=this.dot(lt)/ht;return Math.acos(clamp(_t,-1,1))}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const ht=this.x-lt.x,_t=this.y-lt.y;return ht*ht+_t*_t}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ht){return this.x+=(lt.x-this.x)*ht,this.y+=(lt.y-this.y)*ht,this}lerpVectors(lt,ht,_t){return this.x=lt.x+(ht.x-lt.x)*_t,this.y=lt.y+(ht.y-lt.y)*_t,this}equals(lt){return lt.x===this.x&&lt.y===this.y}fromArray(lt,ht=0){return this.x=lt[ht],this.y=lt[ht+1],this}toArray(lt=[],ht=0){return lt[ht]=this.x,lt[ht+1]=this.y,lt}fromBufferAttribute(lt,ht){return this.x=lt.getX(ht),this.y=lt.getY(ht),this}rotateAround(lt,ht){const _t=Math.cos(ht),At=Math.sin(ht),qt=this.x-lt.x,Zt=this.y-lt.y;return this.x=qt*_t-Zt*At+lt.x,this.y=qt*At+Zt*_t+lt.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],lt!==void 0&&this.set(lt,ht,_t,At,qt,Zt,cr,Gr,Zr)}set(lt,ht,_t,At,qt,Zt,cr,Gr,Zr){const xn=this.elements;return xn[0]=lt,xn[1]=At,xn[2]=cr,xn[3]=ht,xn[4]=qt,xn[5]=Gr,xn[6]=_t,xn[7]=Zt,xn[8]=Zr,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(lt){const ht=this.elements,_t=lt.elements;return ht[0]=_t[0],ht[1]=_t[1],ht[2]=_t[2],ht[3]=_t[3],ht[4]=_t[4],ht[5]=_t[5],ht[6]=_t[6],ht[7]=_t[7],ht[8]=_t[8],this}extractBasis(lt,ht,_t){return lt.setFromMatrix3Column(this,0),ht.setFromMatrix3Column(this,1),_t.setFromMatrix3Column(this,2),this}setFromMatrix4(lt){const ht=lt.elements;return this.set(ht[0],ht[4],ht[8],ht[1],ht[5],ht[9],ht[2],ht[6],ht[10]),this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,ht){const _t=lt.elements,At=ht.elements,qt=this.elements,Zt=_t[0],cr=_t[3],Gr=_t[6],Zr=_t[1],xn=_t[4],On=_t[7],ss=_t[2],ls=_t[5],cs=_t[8],wl=At[0],ep=At[3],Al=At[6],np=At[1],cp=At[4],Cp=At[7],Lp=At[2],jp=At[5],nm=At[8];return qt[0]=Zt*wl+cr*np+Gr*Lp,qt[3]=Zt*ep+cr*cp+Gr*jp,qt[6]=Zt*Al+cr*Cp+Gr*nm,qt[1]=Zr*wl+xn*np+On*Lp,qt[4]=Zr*ep+xn*cp+On*jp,qt[7]=Zr*Al+xn*Cp+On*nm,qt[2]=ss*wl+ls*np+cs*Lp,qt[5]=ss*ep+ls*cp+cs*jp,qt[8]=ss*Al+ls*Cp+cs*nm,this}multiplyScalar(lt){const ht=this.elements;return ht[0]*=lt,ht[3]*=lt,ht[6]*=lt,ht[1]*=lt,ht[4]*=lt,ht[7]*=lt,ht[2]*=lt,ht[5]*=lt,ht[8]*=lt,this}determinant(){const lt=this.elements,ht=lt[0],_t=lt[1],At=lt[2],qt=lt[3],Zt=lt[4],cr=lt[5],Gr=lt[6],Zr=lt[7],xn=lt[8];return ht*Zt*xn-ht*cr*Zr-_t*qt*xn+_t*cr*Gr+At*qt*Zr-At*Zt*Gr}invert(){const lt=this.elements,ht=lt[0],_t=lt[1],At=lt[2],qt=lt[3],Zt=lt[4],cr=lt[5],Gr=lt[6],Zr=lt[7],xn=lt[8],On=xn*Zt-cr*Zr,ss=cr*Gr-xn*qt,ls=Zr*qt-Zt*Gr,cs=ht*On+_t*ss+At*ls;if(cs===0)return this.set(0,0,0,0,0,0,0,0,0);const wl=1/cs;return lt[0]=On*wl,lt[1]=(At*Zr-xn*_t)*wl,lt[2]=(cr*_t-At*Zt)*wl,lt[3]=ss*wl,lt[4]=(xn*ht-At*Gr)*wl,lt[5]=(At*qt-cr*ht)*wl,lt[6]=ls*wl,lt[7]=(_t*Gr-Zr*ht)*wl,lt[8]=(Zt*ht-_t*qt)*wl,this}transpose(){let lt;const ht=this.elements;return lt=ht[1],ht[1]=ht[3],ht[3]=lt,lt=ht[2],ht[2]=ht[6],ht[6]=lt,lt=ht[5],ht[5]=ht[7],ht[7]=lt,this}getNormalMatrix(lt){return this.setFromMatrix4(lt).invert().transpose()}transposeIntoArray(lt){const ht=this.elements;return lt[0]=ht[0],lt[1]=ht[3],lt[2]=ht[6],lt[3]=ht[1],lt[4]=ht[4],lt[5]=ht[7],lt[6]=ht[2],lt[7]=ht[5],lt[8]=ht[8],this}setUvTransform(lt,ht,_t,At,qt,Zt,cr){const Gr=Math.cos(qt),Zr=Math.sin(qt);return this.set(_t*Gr,_t*Zr,-_t*(Gr*Zt+Zr*cr)+Zt+lt,-At*Zr,At*Gr,-At*(-Zr*Zt+Gr*cr)+cr+ht,0,0,1),this}scale(lt,ht){return this.premultiply(_m3.makeScale(lt,ht)),this}rotate(lt){return this.premultiply(_m3.makeRotation(-lt)),this}translate(lt,ht){return this.premultiply(_m3.makeTranslation(lt,ht)),this}makeTranslation(lt,ht){return lt.isVector2?this.set(1,0,lt.x,0,1,lt.y,0,0,1):this.set(1,0,lt,0,1,ht,0,0,1),this}makeRotation(lt){const ht=Math.cos(lt),_t=Math.sin(lt);return this.set(ht,-_t,0,_t,ht,0,0,0,1),this}makeScale(lt,ht){return this.set(lt,0,0,0,ht,0,0,0,1),this}equals(lt){const ht=this.elements,_t=lt.elements;for(let At=0;At<9;At++)if(ht[At]!==_t[At])return!1;return!0}fromArray(lt,ht=0){for(let _t=0;_t<9;_t++)this.elements[_t]=lt[_t+ht];return this}toArray(lt=[],ht=0){const _t=this.elements;return lt[ht]=_t[0],lt[ht+1]=_t[1],lt[ht+2]=_t[2],lt[ht+3]=_t[3],lt[ht+4]=_t[4],lt[ht+5]=_t[5],lt[ht+6]=_t[6],lt[ht+7]=_t[7],lt[ht+8]=_t[8],lt}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(ut){for(let lt=ut.length-1;lt>=0;--lt)if(ut[lt]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(ut,lt){return new TYPED_ARRAYS[ut](lt)}function createElementNS(ut){return document.createElementNS("http://www.w3.org/1999/xhtml",ut)}function createCanvasElement(){const ut=createElementNS("canvas");return ut.style.display="block",ut}const _cache={};function warnOnce(ut){ut in _cache||(_cache[ut]=!0,console.warn(ut))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace$1]:{transfer:LinearTransfer,primaries:Rec709Primaries,toReference:ut=>ut,fromReference:ut=>ut},[SRGBColorSpace$1]:{transfer:SRGBTransfer,primaries:Rec709Primaries,toReference:ut=>ut.convertSRGBToLinear(),fromReference:ut=>ut.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,toReference:ut=>ut.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:ut=>ut.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,toReference:ut=>ut.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:ut=>ut.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace$1,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace$1,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(ut){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!ut},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(ut){if(!SUPPORTED_WORKING_COLOR_SPACES.has(ut))throw new Error(`Unsupported working color space, "${ut}".`);this._workingColorSpace=ut},convert:function(ut,lt,ht){if(this.enabled===!1||lt===ht||!lt||!ht)return ut;const _t=COLOR_SPACES[lt].toReference,At=COLOR_SPACES[ht].fromReference;return At(_t(ut))},fromWorkingColorSpace:function(ut,lt){return this.convert(ut,this._workingColorSpace,lt)},toWorkingColorSpace:function(ut,lt){return this.convert(ut,lt,this._workingColorSpace)},getPrimaries:function(ut){return COLOR_SPACES[ut].primaries},getTransfer:function(ut){return ut===NoColorSpace?LinearTransfer:COLOR_SPACES[ut].transfer}};function SRGBToLinear(ut){return ut<.04045?ut*.0773993808:Math.pow(ut*.9478672986+.0521327014,2.4)}function LinearToSRGB(ut){return ut<.0031308?ut*12.92:1.055*Math.pow(ut,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(lt){if(/^data:/i.test(lt.src)||typeof HTMLCanvasElement>"u")return lt.src;let ht;if(lt instanceof HTMLCanvasElement)ht=lt;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=lt.width,_canvas.height=lt.height;const _t=_canvas.getContext("2d");lt instanceof ImageData?_t.putImageData(lt,0,0):_t.drawImage(lt,0,0,lt.width,lt.height),ht=_canvas}return ht.width>2048||ht.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",lt),ht.toDataURL("image/jpeg",.6)):ht.toDataURL("image/png")}static sRGBToLinear(lt){if(typeof HTMLImageElement<"u"&&lt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&lt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&lt instanceof ImageBitmap){const ht=createElementNS("canvas");ht.width=lt.width,ht.height=lt.height;const _t=ht.getContext("2d");_t.drawImage(lt,0,0,lt.width,lt.height);const At=_t.getImageData(0,0,lt.width,lt.height),qt=At.data;for(let Zt=0;Zt<qt.length;Zt++)qt[Zt]=SRGBToLinear(qt[Zt]/255)*255;return _t.putImageData(At,0,0),ht}else if(lt.data){const ht=lt.data.slice(0);for(let _t=0;_t<ht.length;_t++)ht instanceof Uint8Array||ht instanceof Uint8ClampedArray?ht[_t]=Math.floor(SRGBToLinear(ht[_t]/255)*255):ht[_t]=SRGBToLinear(ht[_t]);return{data:ht,width:lt.width,height:lt.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),lt}}let _sourceId=0;class Source{constructor(lt=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID$1(),this.data=lt,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}toJSON(lt){const ht=lt===void 0||typeof lt=="string";if(!ht&&lt.images[this.uuid]!==void 0)return lt.images[this.uuid];const _t={uuid:this.uuid,url:""},At=this.data;if(At!==null){let qt;if(Array.isArray(At)){qt=[];for(let Zt=0,cr=At.length;Zt<cr;Zt++)At[Zt].isDataTexture?qt.push(serializeImage(At[Zt].image)):qt.push(serializeImage(At[Zt]))}else qt=serializeImage(At);_t.url=qt}return ht||(lt.images[this.uuid]=_t),_t}}function serializeImage(ut){return typeof HTMLImageElement<"u"&&ut instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ut instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ut instanceof ImageBitmap?ImageUtils.getDataURL(ut):ut.data?{data:Array.from(ut.data),width:ut.width,height:ut.height,type:ut.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(lt=Texture.DEFAULT_IMAGE,ht=Texture.DEFAULT_MAPPING,_t=ClampToEdgeWrapping,At=ClampToEdgeWrapping,qt=LinearFilter,Zt=LinearMipmapLinearFilter,cr=RGBAFormat,Gr=UnsignedByteType,Zr=Texture.DEFAULT_ANISOTROPY,xn=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(lt),this.mipmaps=[],this.mapping=ht,this.channel=0,this.wrapS=_t,this.wrapT=At,this.magFilter=qt,this.minFilter=Zt,this.anisotropy=Zr,this.format=cr,this.internalFormat=null,this.type=Gr,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof xn=="string"?this.colorSpace=xn:(warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=xn===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(lt=null){this.source.data=lt}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(lt){return this.name=lt.name,this.source=lt.source,this.mipmaps=lt.mipmaps.slice(0),this.mapping=lt.mapping,this.channel=lt.channel,this.wrapS=lt.wrapS,this.wrapT=lt.wrapT,this.magFilter=lt.magFilter,this.minFilter=lt.minFilter,this.anisotropy=lt.anisotropy,this.format=lt.format,this.internalFormat=lt.internalFormat,this.type=lt.type,this.offset.copy(lt.offset),this.repeat.copy(lt.repeat),this.center.copy(lt.center),this.rotation=lt.rotation,this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrix.copy(lt.matrix),this.generateMipmaps=lt.generateMipmaps,this.premultiplyAlpha=lt.premultiplyAlpha,this.flipY=lt.flipY,this.unpackAlignment=lt.unpackAlignment,this.colorSpace=lt.colorSpace,this.userData=JSON.parse(JSON.stringify(lt.userData)),this.needsUpdate=!0,this}toJSON(lt){const ht=lt===void 0||typeof lt=="string";if(!ht&&lt.textures[this.uuid]!==void 0)return lt.textures[this.uuid];const _t={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(lt).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(_t.userData=this.userData),ht||(lt.textures[this.uuid]=_t),_t}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(lt){if(this.mapping!==UVMapping)return lt;if(lt.applyMatrix3(this.matrix),lt.x<0||lt.x>1)switch(this.wrapS){case RepeatWrapping:lt.x=lt.x-Math.floor(lt.x);break;case ClampToEdgeWrapping:lt.x=lt.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.x)%2)===1?lt.x=Math.ceil(lt.x)-lt.x:lt.x=lt.x-Math.floor(lt.x);break}if(lt.y<0||lt.y>1)switch(this.wrapT){case RepeatWrapping:lt.y=lt.y-Math.floor(lt.y);break;case ClampToEdgeWrapping:lt.y=lt.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(lt.y)%2)===1?lt.y=Math.ceil(lt.y)-lt.y:lt.y=lt.y-Math.floor(lt.y);break}return this.flipY&&(lt.y=1-lt.y),lt}set needsUpdate(lt){lt===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===SRGBColorSpace$1?sRGBEncoding$1:LinearEncoding$1}set encoding(lt){warnOnce("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=lt===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(lt=0,ht=0,_t=0,At=1){Vector4.prototype.isVector4=!0,this.x=lt,this.y=ht,this.z=_t,this.w=At}get width(){return this.z}set width(lt){this.z=lt}get height(){return this.w}set height(lt){this.w=lt}set(lt,ht,_t,At){return this.x=lt,this.y=ht,this.z=_t,this.w=At,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this.w=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setW(lt){return this.w=lt,this}setComponent(lt,ht){switch(lt){case 0:this.x=ht;break;case 1:this.y=ht;break;case 2:this.z=ht;break;case 3:this.w=ht;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this.w=lt.w!==void 0?lt.w:1,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this.w+=lt.w,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this.w+=lt,this}addVectors(lt,ht){return this.x=lt.x+ht.x,this.y=lt.y+ht.y,this.z=lt.z+ht.z,this.w=lt.w+ht.w,this}addScaledVector(lt,ht){return this.x+=lt.x*ht,this.y+=lt.y*ht,this.z+=lt.z*ht,this.w+=lt.w*ht,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this.w-=lt.w,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this.w-=lt,this}subVectors(lt,ht){return this.x=lt.x-ht.x,this.y=lt.y-ht.y,this.z=lt.z-ht.z,this.w=lt.w-ht.w,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this.w*=lt.w,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this.w*=lt,this}applyMatrix4(lt){const ht=this.x,_t=this.y,At=this.z,qt=this.w,Zt=lt.elements;return this.x=Zt[0]*ht+Zt[4]*_t+Zt[8]*At+Zt[12]*qt,this.y=Zt[1]*ht+Zt[5]*_t+Zt[9]*At+Zt[13]*qt,this.z=Zt[2]*ht+Zt[6]*_t+Zt[10]*At+Zt[14]*qt,this.w=Zt[3]*ht+Zt[7]*_t+Zt[11]*At+Zt[15]*qt,this}divideScalar(lt){return this.multiplyScalar(1/lt)}setAxisAngleFromQuaternion(lt){this.w=2*Math.acos(lt.w);const ht=Math.sqrt(1-lt.w*lt.w);return ht<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=lt.x/ht,this.y=lt.y/ht,this.z=lt.z/ht),this}setAxisAngleFromRotationMatrix(lt){let ht,_t,At,qt;const Gr=lt.elements,Zr=Gr[0],xn=Gr[4],On=Gr[8],ss=Gr[1],ls=Gr[5],cs=Gr[9],wl=Gr[2],ep=Gr[6],Al=Gr[10];if(Math.abs(xn-ss)<.01&&Math.abs(On-wl)<.01&&Math.abs(cs-ep)<.01){if(Math.abs(xn+ss)<.1&&Math.abs(On+wl)<.1&&Math.abs(cs+ep)<.1&&Math.abs(Zr+ls+Al-3)<.1)return this.set(1,0,0,0),this;ht=Math.PI;const cp=(Zr+1)/2,Cp=(ls+1)/2,Lp=(Al+1)/2,jp=(xn+ss)/4,nm=(On+wl)/4,zm=(cs+ep)/4;return cp>Cp&&cp>Lp?cp<.01?(_t=0,At=.707106781,qt=.707106781):(_t=Math.sqrt(cp),At=jp/_t,qt=nm/_t):Cp>Lp?Cp<.01?(_t=.707106781,At=0,qt=.707106781):(At=Math.sqrt(Cp),_t=jp/At,qt=zm/At):Lp<.01?(_t=.707106781,At=.707106781,qt=0):(qt=Math.sqrt(Lp),_t=nm/qt,At=zm/qt),this.set(_t,At,qt,ht),this}let np=Math.sqrt((ep-cs)*(ep-cs)+(On-wl)*(On-wl)+(ss-xn)*(ss-xn));return Math.abs(np)<.001&&(np=1),this.x=(ep-cs)/np,this.y=(On-wl)/np,this.z=(ss-xn)/np,this.w=Math.acos((Zr+ls+Al-1)/2),this}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this.w=Math.min(this.w,lt.w),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this.w=Math.max(this.w,lt.w),this}clamp(lt,ht){return this.x=Math.max(lt.x,Math.min(ht.x,this.x)),this.y=Math.max(lt.y,Math.min(ht.y,this.y)),this.z=Math.max(lt.z,Math.min(ht.z,this.z)),this.w=Math.max(lt.w,Math.min(ht.w,this.w)),this}clampScalar(lt,ht){return this.x=Math.max(lt,Math.min(ht,this.x)),this.y=Math.max(lt,Math.min(ht,this.y)),this.z=Math.max(lt,Math.min(ht,this.z)),this.w=Math.max(lt,Math.min(ht,this.w)),this}clampLength(lt,ht){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(lt,Math.min(ht,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z+this.w*lt.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ht){return this.x+=(lt.x-this.x)*ht,this.y+=(lt.y-this.y)*ht,this.z+=(lt.z-this.z)*ht,this.w+=(lt.w-this.w)*ht,this}lerpVectors(lt,ht,_t){return this.x=lt.x+(ht.x-lt.x)*_t,this.y=lt.y+(ht.y-lt.y)*_t,this.z=lt.z+(ht.z-lt.z)*_t,this.w=lt.w+(ht.w-lt.w)*_t,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z&&lt.w===this.w}fromArray(lt,ht=0){return this.x=lt[ht],this.y=lt[ht+1],this.z=lt[ht+2],this.w=lt[ht+3],this}toArray(lt=[],ht=0){return lt[ht]=this.x,lt[ht+1]=this.y,lt[ht+2]=this.z,lt[ht+3]=this.w,lt}fromBufferAttribute(lt,ht){return this.x=lt.getX(ht),this.y=lt.getY(ht),this.z=lt.getZ(ht),this.w=lt.getW(ht),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(lt=1,ht=1,_t={}){super(),this.isRenderTarget=!0,this.width=lt,this.height=ht,this.depth=1,this.scissor=new Vector4(0,0,lt,ht),this.scissorTest=!1,this.viewport=new Vector4(0,0,lt,ht);const At={width:lt,height:ht,depth:1};_t.encoding!==void 0&&(warnOnce("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),_t.colorSpace=_t.encoding===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),_t=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},_t),this.texture=new Texture(At,_t.mapping,_t.wrapS,_t.wrapT,_t.magFilter,_t.minFilter,_t.format,_t.type,_t.anisotropy,_t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=_t.generateMipmaps,this.texture.internalFormat=_t.internalFormat,this.depthBuffer=_t.depthBuffer,this.stencilBuffer=_t.stencilBuffer,this.depthTexture=_t.depthTexture,this.samples=_t.samples}setSize(lt,ht,_t=1){(this.width!==lt||this.height!==ht||this.depth!==_t)&&(this.width=lt,this.height=ht,this.depth=_t,this.texture.image.width=lt,this.texture.image.height=ht,this.texture.image.depth=_t,this.dispose()),this.viewport.set(0,0,lt,ht),this.scissor.set(0,0,lt,ht)}clone(){return new this.constructor().copy(this)}copy(lt){this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.scissor.copy(lt.scissor),this.scissorTest=lt.scissorTest,this.viewport.copy(lt.viewport),this.texture=lt.texture.clone(),this.texture.isRenderTargetTexture=!0;const ht=Object.assign({},lt.texture.image);return this.texture.source=new Source(ht),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.samples=lt.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(lt=1,ht=1,_t={}){super(lt,ht,_t),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(lt=null,ht=1,_t=1,At=1){super(null),this.isDataArrayTexture=!0,this.image={data:lt,width:ht,height:_t,depth:At},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(lt=1,ht=1,_t=1){super(lt,ht),this.isWebGLArrayRenderTarget=!0,this.depth=_t,this.texture=new DataArrayTexture(null,lt,ht,_t),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(lt=null,ht=1,_t=1,At=1){super(null),this.isData3DTexture=!0,this.image={data:lt,width:ht,height:_t,depth:At},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(lt=1,ht=1,_t=1){super(lt,ht),this.isWebGL3DRenderTarget=!0,this.depth=_t,this.texture=new Data3DTexture(null,lt,ht,_t),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(lt=1,ht=1,_t=1,At={}){super(lt,ht,At),this.isWebGLMultipleRenderTargets=!0;const qt=this.texture;this.texture=[];for(let Zt=0;Zt<_t;Zt++)this.texture[Zt]=qt.clone(),this.texture[Zt].isRenderTargetTexture=!0}setSize(lt,ht,_t=1){if(this.width!==lt||this.height!==ht||this.depth!==_t){this.width=lt,this.height=ht,this.depth=_t;for(let At=0,qt=this.texture.length;At<qt;At++)this.texture[At].image.width=lt,this.texture[At].image.height=ht,this.texture[At].image.depth=_t;this.dispose()}this.viewport.set(0,0,lt,ht),this.scissor.set(0,0,lt,ht)}copy(lt){this.dispose(),this.width=lt.width,this.height=lt.height,this.depth=lt.depth,this.scissor.copy(lt.scissor),this.scissorTest=lt.scissorTest,this.viewport.copy(lt.viewport),this.depthBuffer=lt.depthBuffer,this.stencilBuffer=lt.stencilBuffer,lt.depthTexture!==null&&(this.depthTexture=lt.depthTexture.clone()),this.texture.length=0;for(let ht=0,_t=lt.texture.length;ht<_t;ht++)this.texture[ht]=lt.texture[ht].clone(),this.texture[ht].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(lt=0,ht=0,_t=0,At=1){this.isQuaternion=!0,this._x=lt,this._y=ht,this._z=_t,this._w=At}static slerpFlat(lt,ht,_t,At,qt,Zt,cr){let Gr=_t[At+0],Zr=_t[At+1],xn=_t[At+2],On=_t[At+3];const ss=qt[Zt+0],ls=qt[Zt+1],cs=qt[Zt+2],wl=qt[Zt+3];if(cr===0){lt[ht+0]=Gr,lt[ht+1]=Zr,lt[ht+2]=xn,lt[ht+3]=On;return}if(cr===1){lt[ht+0]=ss,lt[ht+1]=ls,lt[ht+2]=cs,lt[ht+3]=wl;return}if(On!==wl||Gr!==ss||Zr!==ls||xn!==cs){let ep=1-cr;const Al=Gr*ss+Zr*ls+xn*cs+On*wl,np=Al>=0?1:-1,cp=1-Al*Al;if(cp>Number.EPSILON){const Lp=Math.sqrt(cp),jp=Math.atan2(Lp,Al*np);ep=Math.sin(ep*jp)/Lp,cr=Math.sin(cr*jp)/Lp}const Cp=cr*np;if(Gr=Gr*ep+ss*Cp,Zr=Zr*ep+ls*Cp,xn=xn*ep+cs*Cp,On=On*ep+wl*Cp,ep===1-cr){const Lp=1/Math.sqrt(Gr*Gr+Zr*Zr+xn*xn+On*On);Gr*=Lp,Zr*=Lp,xn*=Lp,On*=Lp}}lt[ht]=Gr,lt[ht+1]=Zr,lt[ht+2]=xn,lt[ht+3]=On}static multiplyQuaternionsFlat(lt,ht,_t,At,qt,Zt){const cr=_t[At],Gr=_t[At+1],Zr=_t[At+2],xn=_t[At+3],On=qt[Zt],ss=qt[Zt+1],ls=qt[Zt+2],cs=qt[Zt+3];return lt[ht]=cr*cs+xn*On+Gr*ls-Zr*ss,lt[ht+1]=Gr*cs+xn*ss+Zr*On-cr*ls,lt[ht+2]=Zr*cs+xn*ls+cr*ss-Gr*On,lt[ht+3]=xn*cs-cr*On-Gr*ss-Zr*ls,lt}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get w(){return this._w}set w(lt){this._w=lt,this._onChangeCallback()}set(lt,ht,_t,At){return this._x=lt,this._y=ht,this._z=_t,this._w=At,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(lt){return this._x=lt.x,this._y=lt.y,this._z=lt.z,this._w=lt.w,this._onChangeCallback(),this}setFromEuler(lt,ht){const _t=lt._x,At=lt._y,qt=lt._z,Zt=lt._order,cr=Math.cos,Gr=Math.sin,Zr=cr(_t/2),xn=cr(At/2),On=cr(qt/2),ss=Gr(_t/2),ls=Gr(At/2),cs=Gr(qt/2);switch(Zt){case"XYZ":this._x=ss*xn*On+Zr*ls*cs,this._y=Zr*ls*On-ss*xn*cs,this._z=Zr*xn*cs+ss*ls*On,this._w=Zr*xn*On-ss*ls*cs;break;case"YXZ":this._x=ss*xn*On+Zr*ls*cs,this._y=Zr*ls*On-ss*xn*cs,this._z=Zr*xn*cs-ss*ls*On,this._w=Zr*xn*On+ss*ls*cs;break;case"ZXY":this._x=ss*xn*On-Zr*ls*cs,this._y=Zr*ls*On+ss*xn*cs,this._z=Zr*xn*cs+ss*ls*On,this._w=Zr*xn*On-ss*ls*cs;break;case"ZYX":this._x=ss*xn*On-Zr*ls*cs,this._y=Zr*ls*On+ss*xn*cs,this._z=Zr*xn*cs-ss*ls*On,this._w=Zr*xn*On+ss*ls*cs;break;case"YZX":this._x=ss*xn*On+Zr*ls*cs,this._y=Zr*ls*On+ss*xn*cs,this._z=Zr*xn*cs-ss*ls*On,this._w=Zr*xn*On-ss*ls*cs;break;case"XZY":this._x=ss*xn*On-Zr*ls*cs,this._y=Zr*ls*On-ss*xn*cs,this._z=Zr*xn*cs+ss*ls*On,this._w=Zr*xn*On+ss*ls*cs;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+Zt)}return ht!==!1&&this._onChangeCallback(),this}setFromAxisAngle(lt,ht){const _t=ht/2,At=Math.sin(_t);return this._x=lt.x*At,this._y=lt.y*At,this._z=lt.z*At,this._w=Math.cos(_t),this._onChangeCallback(),this}setFromRotationMatrix(lt){const ht=lt.elements,_t=ht[0],At=ht[4],qt=ht[8],Zt=ht[1],cr=ht[5],Gr=ht[9],Zr=ht[2],xn=ht[6],On=ht[10],ss=_t+cr+On;if(ss>0){const ls=.5/Math.sqrt(ss+1);this._w=.25/ls,this._x=(xn-Gr)*ls,this._y=(qt-Zr)*ls,this._z=(Zt-At)*ls}else if(_t>cr&&_t>On){const ls=2*Math.sqrt(1+_t-cr-On);this._w=(xn-Gr)/ls,this._x=.25*ls,this._y=(At+Zt)/ls,this._z=(qt+Zr)/ls}else if(cr>On){const ls=2*Math.sqrt(1+cr-_t-On);this._w=(qt-Zr)/ls,this._x=(At+Zt)/ls,this._y=.25*ls,this._z=(Gr+xn)/ls}else{const ls=2*Math.sqrt(1+On-_t-cr);this._w=(Zt-At)/ls,this._x=(qt+Zr)/ls,this._y=(Gr+xn)/ls,this._z=.25*ls}return this._onChangeCallback(),this}setFromUnitVectors(lt,ht){let _t=lt.dot(ht)+1;return _t<Number.EPSILON?(_t=0,Math.abs(lt.x)>Math.abs(lt.z)?(this._x=-lt.y,this._y=lt.x,this._z=0,this._w=_t):(this._x=0,this._y=-lt.z,this._z=lt.y,this._w=_t)):(this._x=lt.y*ht.z-lt.z*ht.y,this._y=lt.z*ht.x-lt.x*ht.z,this._z=lt.x*ht.y-lt.y*ht.x,this._w=_t),this.normalize()}angleTo(lt){return 2*Math.acos(Math.abs(clamp(this.dot(lt),-1,1)))}rotateTowards(lt,ht){const _t=this.angleTo(lt);if(_t===0)return this;const At=Math.min(1,ht/_t);return this.slerp(lt,At),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(lt){return this._x*lt._x+this._y*lt._y+this._z*lt._z+this._w*lt._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let lt=this.length();return lt===0?(this._x=0,this._y=0,this._z=0,this._w=1):(lt=1/lt,this._x=this._x*lt,this._y=this._y*lt,this._z=this._z*lt,this._w=this._w*lt),this._onChangeCallback(),this}multiply(lt){return this.multiplyQuaternions(this,lt)}premultiply(lt){return this.multiplyQuaternions(lt,this)}multiplyQuaternions(lt,ht){const _t=lt._x,At=lt._y,qt=lt._z,Zt=lt._w,cr=ht._x,Gr=ht._y,Zr=ht._z,xn=ht._w;return this._x=_t*xn+Zt*cr+At*Zr-qt*Gr,this._y=At*xn+Zt*Gr+qt*cr-_t*Zr,this._z=qt*xn+Zt*Zr+_t*Gr-At*cr,this._w=Zt*xn-_t*cr-At*Gr-qt*Zr,this._onChangeCallback(),this}slerp(lt,ht){if(ht===0)return this;if(ht===1)return this.copy(lt);const _t=this._x,At=this._y,qt=this._z,Zt=this._w;let cr=Zt*lt._w+_t*lt._x+At*lt._y+qt*lt._z;if(cr<0?(this._w=-lt._w,this._x=-lt._x,this._y=-lt._y,this._z=-lt._z,cr=-cr):this.copy(lt),cr>=1)return this._w=Zt,this._x=_t,this._y=At,this._z=qt,this;const Gr=1-cr*cr;if(Gr<=Number.EPSILON){const ls=1-ht;return this._w=ls*Zt+ht*this._w,this._x=ls*_t+ht*this._x,this._y=ls*At+ht*this._y,this._z=ls*qt+ht*this._z,this.normalize(),this._onChangeCallback(),this}const Zr=Math.sqrt(Gr),xn=Math.atan2(Zr,cr),On=Math.sin((1-ht)*xn)/Zr,ss=Math.sin(ht*xn)/Zr;return this._w=Zt*On+this._w*ss,this._x=_t*On+this._x*ss,this._y=At*On+this._y*ss,this._z=qt*On+this._z*ss,this._onChangeCallback(),this}slerpQuaternions(lt,ht,_t){return this.copy(lt).slerp(ht,_t)}random(){const lt=Math.random(),ht=Math.sqrt(1-lt),_t=Math.sqrt(lt),At=2*Math.PI*Math.random(),qt=2*Math.PI*Math.random();return this.set(ht*Math.cos(At),_t*Math.sin(qt),_t*Math.cos(qt),ht*Math.sin(At))}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._w===this._w}fromArray(lt,ht=0){return this._x=lt[ht],this._y=lt[ht+1],this._z=lt[ht+2],this._w=lt[ht+3],this._onChangeCallback(),this}toArray(lt=[],ht=0){return lt[ht]=this._x,lt[ht+1]=this._y,lt[ht+2]=this._z,lt[ht+3]=this._w,lt}fromBufferAttribute(lt,ht){return this._x=lt.getX(ht),this._y=lt.getY(ht),this._z=lt.getZ(ht),this._w=lt.getW(ht),this}toJSON(){return this.toArray()}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(lt=0,ht=0,_t=0){Vector3.prototype.isVector3=!0,this.x=lt,this.y=ht,this.z=_t}set(lt,ht,_t){return _t===void 0&&(_t=this.z),this.x=lt,this.y=ht,this.z=_t,this}setScalar(lt){return this.x=lt,this.y=lt,this.z=lt,this}setX(lt){return this.x=lt,this}setY(lt){return this.y=lt,this}setZ(lt){return this.z=lt,this}setComponent(lt,ht){switch(lt){case 0:this.x=ht;break;case 1:this.y=ht;break;case 2:this.z=ht;break;default:throw new Error("index is out of range: "+lt)}return this}getComponent(lt){switch(lt){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+lt)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(lt){return this.x=lt.x,this.y=lt.y,this.z=lt.z,this}add(lt){return this.x+=lt.x,this.y+=lt.y,this.z+=lt.z,this}addScalar(lt){return this.x+=lt,this.y+=lt,this.z+=lt,this}addVectors(lt,ht){return this.x=lt.x+ht.x,this.y=lt.y+ht.y,this.z=lt.z+ht.z,this}addScaledVector(lt,ht){return this.x+=lt.x*ht,this.y+=lt.y*ht,this.z+=lt.z*ht,this}sub(lt){return this.x-=lt.x,this.y-=lt.y,this.z-=lt.z,this}subScalar(lt){return this.x-=lt,this.y-=lt,this.z-=lt,this}subVectors(lt,ht){return this.x=lt.x-ht.x,this.y=lt.y-ht.y,this.z=lt.z-ht.z,this}multiply(lt){return this.x*=lt.x,this.y*=lt.y,this.z*=lt.z,this}multiplyScalar(lt){return this.x*=lt,this.y*=lt,this.z*=lt,this}multiplyVectors(lt,ht){return this.x=lt.x*ht.x,this.y=lt.y*ht.y,this.z=lt.z*ht.z,this}applyEuler(lt){return this.applyQuaternion(_quaternion$4.setFromEuler(lt))}applyAxisAngle(lt,ht){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(lt,ht))}applyMatrix3(lt){const ht=this.x,_t=this.y,At=this.z,qt=lt.elements;return this.x=qt[0]*ht+qt[3]*_t+qt[6]*At,this.y=qt[1]*ht+qt[4]*_t+qt[7]*At,this.z=qt[2]*ht+qt[5]*_t+qt[8]*At,this}applyNormalMatrix(lt){return this.applyMatrix3(lt).normalize()}applyMatrix4(lt){const ht=this.x,_t=this.y,At=this.z,qt=lt.elements,Zt=1/(qt[3]*ht+qt[7]*_t+qt[11]*At+qt[15]);return this.x=(qt[0]*ht+qt[4]*_t+qt[8]*At+qt[12])*Zt,this.y=(qt[1]*ht+qt[5]*_t+qt[9]*At+qt[13])*Zt,this.z=(qt[2]*ht+qt[6]*_t+qt[10]*At+qt[14])*Zt,this}applyQuaternion(lt){const ht=this.x,_t=this.y,At=this.z,qt=lt.x,Zt=lt.y,cr=lt.z,Gr=lt.w,Zr=Gr*ht+Zt*At-cr*_t,xn=Gr*_t+cr*ht-qt*At,On=Gr*At+qt*_t-Zt*ht,ss=-qt*ht-Zt*_t-cr*At;return this.x=Zr*Gr+ss*-qt+xn*-cr-On*-Zt,this.y=xn*Gr+ss*-Zt+On*-qt-Zr*-cr,this.z=On*Gr+ss*-cr+Zr*-Zt-xn*-qt,this}project(lt){return this.applyMatrix4(lt.matrixWorldInverse).applyMatrix4(lt.projectionMatrix)}unproject(lt){return this.applyMatrix4(lt.projectionMatrixInverse).applyMatrix4(lt.matrixWorld)}transformDirection(lt){const ht=this.x,_t=this.y,At=this.z,qt=lt.elements;return this.x=qt[0]*ht+qt[4]*_t+qt[8]*At,this.y=qt[1]*ht+qt[5]*_t+qt[9]*At,this.z=qt[2]*ht+qt[6]*_t+qt[10]*At,this.normalize()}divide(lt){return this.x/=lt.x,this.y/=lt.y,this.z/=lt.z,this}divideScalar(lt){return this.multiplyScalar(1/lt)}min(lt){return this.x=Math.min(this.x,lt.x),this.y=Math.min(this.y,lt.y),this.z=Math.min(this.z,lt.z),this}max(lt){return this.x=Math.max(this.x,lt.x),this.y=Math.max(this.y,lt.y),this.z=Math.max(this.z,lt.z),this}clamp(lt,ht){return this.x=Math.max(lt.x,Math.min(ht.x,this.x)),this.y=Math.max(lt.y,Math.min(ht.y,this.y)),this.z=Math.max(lt.z,Math.min(ht.z,this.z)),this}clampScalar(lt,ht){return this.x=Math.max(lt,Math.min(ht,this.x)),this.y=Math.max(lt,Math.min(ht,this.y)),this.z=Math.max(lt,Math.min(ht,this.z)),this}clampLength(lt,ht){const _t=this.length();return this.divideScalar(_t||1).multiplyScalar(Math.max(lt,Math.min(ht,_t)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(lt){return this.x*lt.x+this.y*lt.y+this.z*lt.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(lt){return this.normalize().multiplyScalar(lt)}lerp(lt,ht){return this.x+=(lt.x-this.x)*ht,this.y+=(lt.y-this.y)*ht,this.z+=(lt.z-this.z)*ht,this}lerpVectors(lt,ht,_t){return this.x=lt.x+(ht.x-lt.x)*_t,this.y=lt.y+(ht.y-lt.y)*_t,this.z=lt.z+(ht.z-lt.z)*_t,this}cross(lt){return this.crossVectors(this,lt)}crossVectors(lt,ht){const _t=lt.x,At=lt.y,qt=lt.z,Zt=ht.x,cr=ht.y,Gr=ht.z;return this.x=At*Gr-qt*cr,this.y=qt*Zt-_t*Gr,this.z=_t*cr-At*Zt,this}projectOnVector(lt){const ht=lt.lengthSq();if(ht===0)return this.set(0,0,0);const _t=lt.dot(this)/ht;return this.copy(lt).multiplyScalar(_t)}projectOnPlane(lt){return _vector$b.copy(this).projectOnVector(lt),this.sub(_vector$b)}reflect(lt){return this.sub(_vector$b.copy(lt).multiplyScalar(2*this.dot(lt)))}angleTo(lt){const ht=Math.sqrt(this.lengthSq()*lt.lengthSq());if(ht===0)return Math.PI/2;const _t=this.dot(lt)/ht;return Math.acos(clamp(_t,-1,1))}distanceTo(lt){return Math.sqrt(this.distanceToSquared(lt))}distanceToSquared(lt){const ht=this.x-lt.x,_t=this.y-lt.y,At=this.z-lt.z;return ht*ht+_t*_t+At*At}manhattanDistanceTo(lt){return Math.abs(this.x-lt.x)+Math.abs(this.y-lt.y)+Math.abs(this.z-lt.z)}setFromSpherical(lt){return this.setFromSphericalCoords(lt.radius,lt.phi,lt.theta)}setFromSphericalCoords(lt,ht,_t){const At=Math.sin(ht)*lt;return this.x=At*Math.sin(_t),this.y=Math.cos(ht)*lt,this.z=At*Math.cos(_t),this}setFromCylindrical(lt){return this.setFromCylindricalCoords(lt.radius,lt.theta,lt.y)}setFromCylindricalCoords(lt,ht,_t){return this.x=lt*Math.sin(ht),this.y=_t,this.z=lt*Math.cos(ht),this}setFromMatrixPosition(lt){const ht=lt.elements;return this.x=ht[12],this.y=ht[13],this.z=ht[14],this}setFromMatrixScale(lt){const ht=this.setFromMatrixColumn(lt,0).length(),_t=this.setFromMatrixColumn(lt,1).length(),At=this.setFromMatrixColumn(lt,2).length();return this.x=ht,this.y=_t,this.z=At,this}setFromMatrixColumn(lt,ht){return this.fromArray(lt.elements,ht*4)}setFromMatrix3Column(lt,ht){return this.fromArray(lt.elements,ht*3)}setFromEuler(lt){return this.x=lt._x,this.y=lt._y,this.z=lt._z,this}setFromColor(lt){return this.x=lt.r,this.y=lt.g,this.z=lt.b,this}equals(lt){return lt.x===this.x&&lt.y===this.y&&lt.z===this.z}fromArray(lt,ht=0){return this.x=lt[ht],this.y=lt[ht+1],this.z=lt[ht+2],this}toArray(lt=[],ht=0){return lt[ht]=this.x,lt[ht+1]=this.y,lt[ht+2]=this.z,lt}fromBufferAttribute(lt,ht){return this.x=lt.getX(ht),this.y=lt.getY(ht),this.z=lt.getZ(ht),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const lt=(Math.random()-.5)*2,ht=Math.random()*Math.PI*2,_t=Math.sqrt(1-lt**2);return this.x=_t*Math.cos(ht),this.y=_t*Math.sin(ht),this.z=lt,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$b=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(lt=new Vector3(1/0,1/0,1/0),ht=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=lt,this.max=ht}set(lt,ht){return this.min.copy(lt),this.max.copy(ht),this}setFromArray(lt){this.makeEmpty();for(let ht=0,_t=lt.length;ht<_t;ht+=3)this.expandByPoint(_vector$a.fromArray(lt,ht));return this}setFromBufferAttribute(lt){this.makeEmpty();for(let ht=0,_t=lt.count;ht<_t;ht++)this.expandByPoint(_vector$a.fromBufferAttribute(lt,ht));return this}setFromPoints(lt){this.makeEmpty();for(let ht=0,_t=lt.length;ht<_t;ht++)this.expandByPoint(lt[ht]);return this}setFromCenterAndSize(lt,ht){const _t=_vector$a.copy(ht).multiplyScalar(.5);return this.min.copy(lt).sub(_t),this.max.copy(lt).add(_t),this}setFromObject(lt,ht=!1){return this.makeEmpty(),this.expandByObject(lt,ht)}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(lt){return this.isEmpty()?lt.set(0,0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}expandByObject(lt,ht=!1){if(lt.updateWorldMatrix(!1,!1),lt.boundingBox!==void 0)lt.boundingBox===null&&lt.computeBoundingBox(),_box$3.copy(lt.boundingBox),_box$3.applyMatrix4(lt.matrixWorld),this.union(_box$3);else{const At=lt.geometry;if(At!==void 0)if(ht&&At.attributes!==void 0&&At.attributes.position!==void 0){const qt=At.attributes.position;for(let Zt=0,cr=qt.count;Zt<cr;Zt++)_vector$a.fromBufferAttribute(qt,Zt).applyMatrix4(lt.matrixWorld),this.expandByPoint(_vector$a)}else At.boundingBox===null&&At.computeBoundingBox(),_box$3.copy(At.boundingBox),_box$3.applyMatrix4(lt.matrixWorld),this.union(_box$3)}const _t=lt.children;for(let At=0,qt=_t.length;At<qt;At++)this.expandByObject(_t[At],ht);return this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y||lt.z<this.min.z||lt.z>this.max.z)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y&&this.min.z<=lt.min.z&&lt.max.z<=this.max.z}getParameter(lt,ht){return ht.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y),(lt.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y||lt.max.z<this.min.z||lt.min.z>this.max.z)}intersectsSphere(lt){return this.clampPoint(lt.center,_vector$a),_vector$a.distanceToSquared(lt.center)<=lt.radius*lt.radius}intersectsPlane(lt){let ht,_t;return lt.normal.x>0?(ht=lt.normal.x*this.min.x,_t=lt.normal.x*this.max.x):(ht=lt.normal.x*this.max.x,_t=lt.normal.x*this.min.x),lt.normal.y>0?(ht+=lt.normal.y*this.min.y,_t+=lt.normal.y*this.max.y):(ht+=lt.normal.y*this.max.y,_t+=lt.normal.y*this.min.y),lt.normal.z>0?(ht+=lt.normal.z*this.min.z,_t+=lt.normal.z*this.max.z):(ht+=lt.normal.z*this.max.z,_t+=lt.normal.z*this.min.z),ht<=-lt.constant&&_t>=-lt.constant}intersectsTriangle(lt){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(lt.a,_center),_v1$7.subVectors(lt.b,_center),_v2$4.subVectors(lt.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let ht=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(ht,_v0$2,_v1$7,_v2$4,_extents)||(ht=[1,0,0,0,1,0,0,0,1],!satForAxes(ht,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),ht=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(ht,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(lt,ht){return ht.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return this.clampPoint(lt,_vector$a).distanceTo(lt)}getBoundingSphere(lt){return this.isEmpty()?lt.makeEmpty():(this.getCenter(lt.center),lt.radius=this.getSize(_vector$a).length()*.5),lt}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this.isEmpty()&&this.makeEmpty(),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}applyMatrix4(lt){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(lt),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(lt),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(lt),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(lt),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(lt),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(lt),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(lt),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(lt),this.setFromPoints(_points),this)}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$a=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(ut,lt,ht,_t,At){for(let qt=0,Zt=ut.length-3;qt<=Zt;qt+=3){_testAxis.fromArray(ut,qt);const cr=At.x*Math.abs(_testAxis.x)+At.y*Math.abs(_testAxis.y)+At.z*Math.abs(_testAxis.z),Gr=lt.dot(_testAxis),Zr=ht.dot(_testAxis),xn=_t.dot(_testAxis);if(Math.max(-Math.max(Gr,Zr,xn),Math.min(Gr,Zr,xn))>cr)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(lt=new Vector3,ht=-1){this.center=lt,this.radius=ht}set(lt,ht){return this.center.copy(lt),this.radius=ht,this}setFromPoints(lt,ht){const _t=this.center;ht!==void 0?_t.copy(ht):_box$2.setFromPoints(lt).getCenter(_t);let At=0;for(let qt=0,Zt=lt.length;qt<Zt;qt++)At=Math.max(At,_t.distanceToSquared(lt[qt]));return this.radius=Math.sqrt(At),this}copy(lt){return this.center.copy(lt.center),this.radius=lt.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(lt){return lt.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(lt){return lt.distanceTo(this.center)-this.radius}intersectsSphere(lt){const ht=this.radius+lt.radius;return lt.center.distanceToSquared(this.center)<=ht*ht}intersectsBox(lt){return lt.intersectsSphere(this)}intersectsPlane(lt){return Math.abs(lt.distanceToPoint(this.center))<=this.radius}clampPoint(lt,ht){const _t=this.center.distanceToSquared(lt);return ht.copy(lt),_t>this.radius*this.radius&&(ht.sub(this.center).normalize(),ht.multiplyScalar(this.radius).add(this.center)),ht}getBoundingBox(lt){return this.isEmpty()?(lt.makeEmpty(),lt):(lt.set(this.center,this.center),lt.expandByScalar(this.radius),lt)}applyMatrix4(lt){return this.center.applyMatrix4(lt),this.radius=this.radius*lt.getMaxScaleOnAxis(),this}translate(lt){return this.center.add(lt),this}expandByPoint(lt){if(this.isEmpty())return this.center.copy(lt),this.radius=0,this;_v1$6.subVectors(lt,this.center);const ht=_v1$6.lengthSq();if(ht>this.radius*this.radius){const _t=Math.sqrt(ht),At=(_t-this.radius)*.5;this.center.addScaledVector(_v1$6,At/_t),this.radius+=At}return this}union(lt){return lt.isEmpty()?this:this.isEmpty()?(this.copy(lt),this):(this.center.equals(lt.center)===!0?this.radius=Math.max(this.radius,lt.radius):(_v2$3.subVectors(lt.center,this.center).setLength(lt.radius),this.expandByPoint(_v1$6.copy(lt.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(lt.center).sub(_v2$3))),this)}equals(lt){return lt.center.equals(this.center)&&lt.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$9=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(lt=new Vector3,ht=new Vector3(0,0,-1)){this.origin=lt,this.direction=ht}set(lt,ht){return this.origin.copy(lt),this.direction.copy(ht),this}copy(lt){return this.origin.copy(lt.origin),this.direction.copy(lt.direction),this}at(lt,ht){return ht.copy(this.origin).addScaledVector(this.direction,lt)}lookAt(lt){return this.direction.copy(lt).sub(this.origin).normalize(),this}recast(lt){return this.origin.copy(this.at(lt,_vector$9)),this}closestPointToPoint(lt,ht){ht.subVectors(lt,this.origin);const _t=ht.dot(this.direction);return _t<0?ht.copy(this.origin):ht.copy(this.origin).addScaledVector(this.direction,_t)}distanceToPoint(lt){return Math.sqrt(this.distanceSqToPoint(lt))}distanceSqToPoint(lt){const ht=_vector$9.subVectors(lt,this.origin).dot(this.direction);return ht<0?this.origin.distanceToSquared(lt):(_vector$9.copy(this.origin).addScaledVector(this.direction,ht),_vector$9.distanceToSquared(lt))}distanceSqToSegment(lt,ht,_t,At){_segCenter.copy(lt).add(ht).multiplyScalar(.5),_segDir.copy(ht).sub(lt).normalize(),_diff.copy(this.origin).sub(_segCenter);const qt=lt.distanceTo(ht)*.5,Zt=-this.direction.dot(_segDir),cr=_diff.dot(this.direction),Gr=-_diff.dot(_segDir),Zr=_diff.lengthSq(),xn=Math.abs(1-Zt*Zt);let On,ss,ls,cs;if(xn>0)if(On=Zt*Gr-cr,ss=Zt*cr-Gr,cs=qt*xn,On>=0)if(ss>=-cs)if(ss<=cs){const wl=1/xn;On*=wl,ss*=wl,ls=On*(On+Zt*ss+2*cr)+ss*(Zt*On+ss+2*Gr)+Zr}else ss=qt,On=Math.max(0,-(Zt*ss+cr)),ls=-On*On+ss*(ss+2*Gr)+Zr;else ss=-qt,On=Math.max(0,-(Zt*ss+cr)),ls=-On*On+ss*(ss+2*Gr)+Zr;else ss<=-cs?(On=Math.max(0,-(-Zt*qt+cr)),ss=On>0?-qt:Math.min(Math.max(-qt,-Gr),qt),ls=-On*On+ss*(ss+2*Gr)+Zr):ss<=cs?(On=0,ss=Math.min(Math.max(-qt,-Gr),qt),ls=ss*(ss+2*Gr)+Zr):(On=Math.max(0,-(Zt*qt+cr)),ss=On>0?qt:Math.min(Math.max(-qt,-Gr),qt),ls=-On*On+ss*(ss+2*Gr)+Zr);else ss=Zt>0?-qt:qt,On=Math.max(0,-(Zt*ss+cr)),ls=-On*On+ss*(ss+2*Gr)+Zr;return _t&&_t.copy(this.origin).addScaledVector(this.direction,On),At&&At.copy(_segCenter).addScaledVector(_segDir,ss),ls}intersectSphere(lt,ht){_vector$9.subVectors(lt.center,this.origin);const _t=_vector$9.dot(this.direction),At=_vector$9.dot(_vector$9)-_t*_t,qt=lt.radius*lt.radius;if(At>qt)return null;const Zt=Math.sqrt(qt-At),cr=_t-Zt,Gr=_t+Zt;return Gr<0?null:cr<0?this.at(Gr,ht):this.at(cr,ht)}intersectsSphere(lt){return this.distanceSqToPoint(lt.center)<=lt.radius*lt.radius}distanceToPlane(lt){const ht=lt.normal.dot(this.direction);if(ht===0)return lt.distanceToPoint(this.origin)===0?0:null;const _t=-(this.origin.dot(lt.normal)+lt.constant)/ht;return _t>=0?_t:null}intersectPlane(lt,ht){const _t=this.distanceToPlane(lt);return _t===null?null:this.at(_t,ht)}intersectsPlane(lt){const ht=lt.distanceToPoint(this.origin);return ht===0||lt.normal.dot(this.direction)*ht<0}intersectBox(lt,ht){let _t,At,qt,Zt,cr,Gr;const Zr=1/this.direction.x,xn=1/this.direction.y,On=1/this.direction.z,ss=this.origin;return Zr>=0?(_t=(lt.min.x-ss.x)*Zr,At=(lt.max.x-ss.x)*Zr):(_t=(lt.max.x-ss.x)*Zr,At=(lt.min.x-ss.x)*Zr),xn>=0?(qt=(lt.min.y-ss.y)*xn,Zt=(lt.max.y-ss.y)*xn):(qt=(lt.max.y-ss.y)*xn,Zt=(lt.min.y-ss.y)*xn),_t>Zt||qt>At||((qt>_t||isNaN(_t))&&(_t=qt),(Zt<At||isNaN(At))&&(At=Zt),On>=0?(cr=(lt.min.z-ss.z)*On,Gr=(lt.max.z-ss.z)*On):(cr=(lt.max.z-ss.z)*On,Gr=(lt.min.z-ss.z)*On),_t>Gr||cr>At)||((cr>_t||_t!==_t)&&(_t=cr),(Gr<At||At!==At)&&(At=Gr),At<0)?null:this.at(_t>=0?_t:At,ht)}intersectsBox(lt){return this.intersectBox(lt,_vector$9)!==null}intersectTriangle(lt,ht,_t,At,qt){_edge1.subVectors(ht,lt),_edge2.subVectors(_t,lt),_normal$1.crossVectors(_edge1,_edge2);let Zt=this.direction.dot(_normal$1),cr;if(Zt>0){if(At)return null;cr=1}else if(Zt<0)cr=-1,Zt=-Zt;else return null;_diff.subVectors(this.origin,lt);const Gr=cr*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(Gr<0)return null;const Zr=cr*this.direction.dot(_edge1.cross(_diff));if(Zr<0||Gr+Zr>Zt)return null;const xn=-cr*_diff.dot(_normal$1);return xn<0?null:this.at(xn/Zt,qt)}applyMatrix4(lt){return this.origin.applyMatrix4(lt),this.direction.transformDirection(lt),this}equals(lt){return lt.origin.equals(this.origin)&&lt.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],lt!==void 0&&this.set(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep)}set(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss,ls,cs,wl,ep){const Al=this.elements;return Al[0]=lt,Al[4]=ht,Al[8]=_t,Al[12]=At,Al[1]=qt,Al[5]=Zt,Al[9]=cr,Al[13]=Gr,Al[2]=Zr,Al[6]=xn,Al[10]=On,Al[14]=ss,Al[3]=ls,Al[7]=cs,Al[11]=wl,Al[15]=ep,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(lt){const ht=this.elements,_t=lt.elements;return ht[0]=_t[0],ht[1]=_t[1],ht[2]=_t[2],ht[3]=_t[3],ht[4]=_t[4],ht[5]=_t[5],ht[6]=_t[6],ht[7]=_t[7],ht[8]=_t[8],ht[9]=_t[9],ht[10]=_t[10],ht[11]=_t[11],ht[12]=_t[12],ht[13]=_t[13],ht[14]=_t[14],ht[15]=_t[15],this}copyPosition(lt){const ht=this.elements,_t=lt.elements;return ht[12]=_t[12],ht[13]=_t[13],ht[14]=_t[14],this}setFromMatrix3(lt){const ht=lt.elements;return this.set(ht[0],ht[3],ht[6],0,ht[1],ht[4],ht[7],0,ht[2],ht[5],ht[8],0,0,0,0,1),this}extractBasis(lt,ht,_t){return lt.setFromMatrixColumn(this,0),ht.setFromMatrixColumn(this,1),_t.setFromMatrixColumn(this,2),this}makeBasis(lt,ht,_t){return this.set(lt.x,ht.x,_t.x,0,lt.y,ht.y,_t.y,0,lt.z,ht.z,_t.z,0,0,0,0,1),this}extractRotation(lt){const ht=this.elements,_t=lt.elements,At=1/_v1$5.setFromMatrixColumn(lt,0).length(),qt=1/_v1$5.setFromMatrixColumn(lt,1).length(),Zt=1/_v1$5.setFromMatrixColumn(lt,2).length();return ht[0]=_t[0]*At,ht[1]=_t[1]*At,ht[2]=_t[2]*At,ht[3]=0,ht[4]=_t[4]*qt,ht[5]=_t[5]*qt,ht[6]=_t[6]*qt,ht[7]=0,ht[8]=_t[8]*Zt,ht[9]=_t[9]*Zt,ht[10]=_t[10]*Zt,ht[11]=0,ht[12]=0,ht[13]=0,ht[14]=0,ht[15]=1,this}makeRotationFromEuler(lt){const ht=this.elements,_t=lt.x,At=lt.y,qt=lt.z,Zt=Math.cos(_t),cr=Math.sin(_t),Gr=Math.cos(At),Zr=Math.sin(At),xn=Math.cos(qt),On=Math.sin(qt);if(lt.order==="XYZ"){const ss=Zt*xn,ls=Zt*On,cs=cr*xn,wl=cr*On;ht[0]=Gr*xn,ht[4]=-Gr*On,ht[8]=Zr,ht[1]=ls+cs*Zr,ht[5]=ss-wl*Zr,ht[9]=-cr*Gr,ht[2]=wl-ss*Zr,ht[6]=cs+ls*Zr,ht[10]=Zt*Gr}else if(lt.order==="YXZ"){const ss=Gr*xn,ls=Gr*On,cs=Zr*xn,wl=Zr*On;ht[0]=ss+wl*cr,ht[4]=cs*cr-ls,ht[8]=Zt*Zr,ht[1]=Zt*On,ht[5]=Zt*xn,ht[9]=-cr,ht[2]=ls*cr-cs,ht[6]=wl+ss*cr,ht[10]=Zt*Gr}else if(lt.order==="ZXY"){const ss=Gr*xn,ls=Gr*On,cs=Zr*xn,wl=Zr*On;ht[0]=ss-wl*cr,ht[4]=-Zt*On,ht[8]=cs+ls*cr,ht[1]=ls+cs*cr,ht[5]=Zt*xn,ht[9]=wl-ss*cr,ht[2]=-Zt*Zr,ht[6]=cr,ht[10]=Zt*Gr}else if(lt.order==="ZYX"){const ss=Zt*xn,ls=Zt*On,cs=cr*xn,wl=cr*On;ht[0]=Gr*xn,ht[4]=cs*Zr-ls,ht[8]=ss*Zr+wl,ht[1]=Gr*On,ht[5]=wl*Zr+ss,ht[9]=ls*Zr-cs,ht[2]=-Zr,ht[6]=cr*Gr,ht[10]=Zt*Gr}else if(lt.order==="YZX"){const ss=Zt*Gr,ls=Zt*Zr,cs=cr*Gr,wl=cr*Zr;ht[0]=Gr*xn,ht[4]=wl-ss*On,ht[8]=cs*On+ls,ht[1]=On,ht[5]=Zt*xn,ht[9]=-cr*xn,ht[2]=-Zr*xn,ht[6]=ls*On+cs,ht[10]=ss-wl*On}else if(lt.order==="XZY"){const ss=Zt*Gr,ls=Zt*Zr,cs=cr*Gr,wl=cr*Zr;ht[0]=Gr*xn,ht[4]=-On,ht[8]=Zr*xn,ht[1]=ss*On+wl,ht[5]=Zt*xn,ht[9]=ls*On-cs,ht[2]=cs*On-ls,ht[6]=cr*xn,ht[10]=wl*On+ss}return ht[3]=0,ht[7]=0,ht[11]=0,ht[12]=0,ht[13]=0,ht[14]=0,ht[15]=1,this}makeRotationFromQuaternion(lt){return this.compose(_zero,lt,_one)}lookAt(lt,ht,_t){const At=this.elements;return _z.subVectors(lt,ht),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(_t,_z),_x.lengthSq()===0&&(Math.abs(_t.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(_t,_z)),_x.normalize(),_y.crossVectors(_z,_x),At[0]=_x.x,At[4]=_y.x,At[8]=_z.x,At[1]=_x.y,At[5]=_y.y,At[9]=_z.y,At[2]=_x.z,At[6]=_y.z,At[10]=_z.z,this}multiply(lt){return this.multiplyMatrices(this,lt)}premultiply(lt){return this.multiplyMatrices(lt,this)}multiplyMatrices(lt,ht){const _t=lt.elements,At=ht.elements,qt=this.elements,Zt=_t[0],cr=_t[4],Gr=_t[8],Zr=_t[12],xn=_t[1],On=_t[5],ss=_t[9],ls=_t[13],cs=_t[2],wl=_t[6],ep=_t[10],Al=_t[14],np=_t[3],cp=_t[7],Cp=_t[11],Lp=_t[15],jp=At[0],nm=At[4],zm=At[8],i1=At[12],d3=At[1],op=At[5],Sn=At[9],Fo=At[13],as=At[2],us=At[6],xl=At[10],ip=At[14],lp=At[3],pu=At[7],go=At[11],h0=At[15];return qt[0]=Zt*jp+cr*d3+Gr*as+Zr*lp,qt[4]=Zt*nm+cr*op+Gr*us+Zr*pu,qt[8]=Zt*zm+cr*Sn+Gr*xl+Zr*go,qt[12]=Zt*i1+cr*Fo+Gr*ip+Zr*h0,qt[1]=xn*jp+On*d3+ss*as+ls*lp,qt[5]=xn*nm+On*op+ss*us+ls*pu,qt[9]=xn*zm+On*Sn+ss*xl+ls*go,qt[13]=xn*i1+On*Fo+ss*ip+ls*h0,qt[2]=cs*jp+wl*d3+ep*as+Al*lp,qt[6]=cs*nm+wl*op+ep*us+Al*pu,qt[10]=cs*zm+wl*Sn+ep*xl+Al*go,qt[14]=cs*i1+wl*Fo+ep*ip+Al*h0,qt[3]=np*jp+cp*d3+Cp*as+Lp*lp,qt[7]=np*nm+cp*op+Cp*us+Lp*pu,qt[11]=np*zm+cp*Sn+Cp*xl+Lp*go,qt[15]=np*i1+cp*Fo+Cp*ip+Lp*h0,this}multiplyScalar(lt){const ht=this.elements;return ht[0]*=lt,ht[4]*=lt,ht[8]*=lt,ht[12]*=lt,ht[1]*=lt,ht[5]*=lt,ht[9]*=lt,ht[13]*=lt,ht[2]*=lt,ht[6]*=lt,ht[10]*=lt,ht[14]*=lt,ht[3]*=lt,ht[7]*=lt,ht[11]*=lt,ht[15]*=lt,this}determinant(){const lt=this.elements,ht=lt[0],_t=lt[4],At=lt[8],qt=lt[12],Zt=lt[1],cr=lt[5],Gr=lt[9],Zr=lt[13],xn=lt[2],On=lt[6],ss=lt[10],ls=lt[14],cs=lt[3],wl=lt[7],ep=lt[11],Al=lt[15];return cs*(+qt*Gr*On-At*Zr*On-qt*cr*ss+_t*Zr*ss+At*cr*ls-_t*Gr*ls)+wl*(+ht*Gr*ls-ht*Zr*ss+qt*Zt*ss-At*Zt*ls+At*Zr*xn-qt*Gr*xn)+ep*(+ht*Zr*On-ht*cr*ls-qt*Zt*On+_t*Zt*ls+qt*cr*xn-_t*Zr*xn)+Al*(-At*cr*xn-ht*Gr*On+ht*cr*ss+At*Zt*On-_t*Zt*ss+_t*Gr*xn)}transpose(){const lt=this.elements;let ht;return ht=lt[1],lt[1]=lt[4],lt[4]=ht,ht=lt[2],lt[2]=lt[8],lt[8]=ht,ht=lt[6],lt[6]=lt[9],lt[9]=ht,ht=lt[3],lt[3]=lt[12],lt[12]=ht,ht=lt[7],lt[7]=lt[13],lt[13]=ht,ht=lt[11],lt[11]=lt[14],lt[14]=ht,this}setPosition(lt,ht,_t){const At=this.elements;return lt.isVector3?(At[12]=lt.x,At[13]=lt.y,At[14]=lt.z):(At[12]=lt,At[13]=ht,At[14]=_t),this}invert(){const lt=this.elements,ht=lt[0],_t=lt[1],At=lt[2],qt=lt[3],Zt=lt[4],cr=lt[5],Gr=lt[6],Zr=lt[7],xn=lt[8],On=lt[9],ss=lt[10],ls=lt[11],cs=lt[12],wl=lt[13],ep=lt[14],Al=lt[15],np=On*ep*Zr-wl*ss*Zr+wl*Gr*ls-cr*ep*ls-On*Gr*Al+cr*ss*Al,cp=cs*ss*Zr-xn*ep*Zr-cs*Gr*ls+Zt*ep*ls+xn*Gr*Al-Zt*ss*Al,Cp=xn*wl*Zr-cs*On*Zr+cs*cr*ls-Zt*wl*ls-xn*cr*Al+Zt*On*Al,Lp=cs*On*Gr-xn*wl*Gr-cs*cr*ss+Zt*wl*ss+xn*cr*ep-Zt*On*ep,jp=ht*np+_t*cp+At*Cp+qt*Lp;if(jp===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const nm=1/jp;return lt[0]=np*nm,lt[1]=(wl*ss*qt-On*ep*qt-wl*At*ls+_t*ep*ls+On*At*Al-_t*ss*Al)*nm,lt[2]=(cr*ep*qt-wl*Gr*qt+wl*At*Zr-_t*ep*Zr-cr*At*Al+_t*Gr*Al)*nm,lt[3]=(On*Gr*qt-cr*ss*qt-On*At*Zr+_t*ss*Zr+cr*At*ls-_t*Gr*ls)*nm,lt[4]=cp*nm,lt[5]=(xn*ep*qt-cs*ss*qt+cs*At*ls-ht*ep*ls-xn*At*Al+ht*ss*Al)*nm,lt[6]=(cs*Gr*qt-Zt*ep*qt-cs*At*Zr+ht*ep*Zr+Zt*At*Al-ht*Gr*Al)*nm,lt[7]=(Zt*ss*qt-xn*Gr*qt+xn*At*Zr-ht*ss*Zr-Zt*At*ls+ht*Gr*ls)*nm,lt[8]=Cp*nm,lt[9]=(cs*On*qt-xn*wl*qt-cs*_t*ls+ht*wl*ls+xn*_t*Al-ht*On*Al)*nm,lt[10]=(Zt*wl*qt-cs*cr*qt+cs*_t*Zr-ht*wl*Zr-Zt*_t*Al+ht*cr*Al)*nm,lt[11]=(xn*cr*qt-Zt*On*qt-xn*_t*Zr+ht*On*Zr+Zt*_t*ls-ht*cr*ls)*nm,lt[12]=Lp*nm,lt[13]=(xn*wl*At-cs*On*At+cs*_t*ss-ht*wl*ss-xn*_t*ep+ht*On*ep)*nm,lt[14]=(cs*cr*At-Zt*wl*At-cs*_t*Gr+ht*wl*Gr+Zt*_t*ep-ht*cr*ep)*nm,lt[15]=(Zt*On*At-xn*cr*At+xn*_t*Gr-ht*On*Gr-Zt*_t*ss+ht*cr*ss)*nm,this}scale(lt){const ht=this.elements,_t=lt.x,At=lt.y,qt=lt.z;return ht[0]*=_t,ht[4]*=At,ht[8]*=qt,ht[1]*=_t,ht[5]*=At,ht[9]*=qt,ht[2]*=_t,ht[6]*=At,ht[10]*=qt,ht[3]*=_t,ht[7]*=At,ht[11]*=qt,this}getMaxScaleOnAxis(){const lt=this.elements,ht=lt[0]*lt[0]+lt[1]*lt[1]+lt[2]*lt[2],_t=lt[4]*lt[4]+lt[5]*lt[5]+lt[6]*lt[6],At=lt[8]*lt[8]+lt[9]*lt[9]+lt[10]*lt[10];return Math.sqrt(Math.max(ht,_t,At))}makeTranslation(lt,ht,_t){return lt.isVector3?this.set(1,0,0,lt.x,0,1,0,lt.y,0,0,1,lt.z,0,0,0,1):this.set(1,0,0,lt,0,1,0,ht,0,0,1,_t,0,0,0,1),this}makeRotationX(lt){const ht=Math.cos(lt),_t=Math.sin(lt);return this.set(1,0,0,0,0,ht,-_t,0,0,_t,ht,0,0,0,0,1),this}makeRotationY(lt){const ht=Math.cos(lt),_t=Math.sin(lt);return this.set(ht,0,_t,0,0,1,0,0,-_t,0,ht,0,0,0,0,1),this}makeRotationZ(lt){const ht=Math.cos(lt),_t=Math.sin(lt);return this.set(ht,-_t,0,0,_t,ht,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(lt,ht){const _t=Math.cos(ht),At=Math.sin(ht),qt=1-_t,Zt=lt.x,cr=lt.y,Gr=lt.z,Zr=qt*Zt,xn=qt*cr;return this.set(Zr*Zt+_t,Zr*cr-At*Gr,Zr*Gr+At*cr,0,Zr*cr+At*Gr,xn*cr+_t,xn*Gr-At*Zt,0,Zr*Gr-At*cr,xn*Gr+At*Zt,qt*Gr*Gr+_t,0,0,0,0,1),this}makeScale(lt,ht,_t){return this.set(lt,0,0,0,0,ht,0,0,0,0,_t,0,0,0,0,1),this}makeShear(lt,ht,_t,At,qt,Zt){return this.set(1,_t,qt,0,lt,1,Zt,0,ht,At,1,0,0,0,0,1),this}compose(lt,ht,_t){const At=this.elements,qt=ht._x,Zt=ht._y,cr=ht._z,Gr=ht._w,Zr=qt+qt,xn=Zt+Zt,On=cr+cr,ss=qt*Zr,ls=qt*xn,cs=qt*On,wl=Zt*xn,ep=Zt*On,Al=cr*On,np=Gr*Zr,cp=Gr*xn,Cp=Gr*On,Lp=_t.x,jp=_t.y,nm=_t.z;return At[0]=(1-(wl+Al))*Lp,At[1]=(ls+Cp)*Lp,At[2]=(cs-cp)*Lp,At[3]=0,At[4]=(ls-Cp)*jp,At[5]=(1-(ss+Al))*jp,At[6]=(ep+np)*jp,At[7]=0,At[8]=(cs+cp)*nm,At[9]=(ep-np)*nm,At[10]=(1-(ss+wl))*nm,At[11]=0,At[12]=lt.x,At[13]=lt.y,At[14]=lt.z,At[15]=1,this}decompose(lt,ht,_t){const At=this.elements;let qt=_v1$5.set(At[0],At[1],At[2]).length();const Zt=_v1$5.set(At[4],At[5],At[6]).length(),cr=_v1$5.set(At[8],At[9],At[10]).length();this.determinant()<0&&(qt=-qt),lt.x=At[12],lt.y=At[13],lt.z=At[14],_m1$2.copy(this);const Zr=1/qt,xn=1/Zt,On=1/cr;return _m1$2.elements[0]*=Zr,_m1$2.elements[1]*=Zr,_m1$2.elements[2]*=Zr,_m1$2.elements[4]*=xn,_m1$2.elements[5]*=xn,_m1$2.elements[6]*=xn,_m1$2.elements[8]*=On,_m1$2.elements[9]*=On,_m1$2.elements[10]*=On,ht.setFromRotationMatrix(_m1$2),_t.x=qt,_t.y=Zt,_t.z=cr,this}makePerspective(lt,ht,_t,At,qt,Zt,cr=WebGLCoordinateSystem){const Gr=this.elements,Zr=2*qt/(ht-lt),xn=2*qt/(_t-At),On=(ht+lt)/(ht-lt),ss=(_t+At)/(_t-At);let ls,cs;if(cr===WebGLCoordinateSystem)ls=-(Zt+qt)/(Zt-qt),cs=-2*Zt*qt/(Zt-qt);else if(cr===WebGPUCoordinateSystem)ls=-Zt/(Zt-qt),cs=-Zt*qt/(Zt-qt);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+cr);return Gr[0]=Zr,Gr[4]=0,Gr[8]=On,Gr[12]=0,Gr[1]=0,Gr[5]=xn,Gr[9]=ss,Gr[13]=0,Gr[2]=0,Gr[6]=0,Gr[10]=ls,Gr[14]=cs,Gr[3]=0,Gr[7]=0,Gr[11]=-1,Gr[15]=0,this}makeOrthographic(lt,ht,_t,At,qt,Zt,cr=WebGLCoordinateSystem){const Gr=this.elements,Zr=1/(ht-lt),xn=1/(_t-At),On=1/(Zt-qt),ss=(ht+lt)*Zr,ls=(_t+At)*xn;let cs,wl;if(cr===WebGLCoordinateSystem)cs=(Zt+qt)*On,wl=-2*On;else if(cr===WebGPUCoordinateSystem)cs=qt*On,wl=-1*On;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+cr);return Gr[0]=2*Zr,Gr[4]=0,Gr[8]=0,Gr[12]=-ss,Gr[1]=0,Gr[5]=2*xn,Gr[9]=0,Gr[13]=-ls,Gr[2]=0,Gr[6]=0,Gr[10]=wl,Gr[14]=-cs,Gr[3]=0,Gr[7]=0,Gr[11]=0,Gr[15]=1,this}equals(lt){const ht=this.elements,_t=lt.elements;for(let At=0;At<16;At++)if(ht[At]!==_t[At])return!1;return!0}fromArray(lt,ht=0){for(let _t=0;_t<16;_t++)this.elements[_t]=lt[_t+ht];return this}toArray(lt=[],ht=0){const _t=this.elements;return lt[ht]=_t[0],lt[ht+1]=_t[1],lt[ht+2]=_t[2],lt[ht+3]=_t[3],lt[ht+4]=_t[4],lt[ht+5]=_t[5],lt[ht+6]=_t[6],lt[ht+7]=_t[7],lt[ht+8]=_t[8],lt[ht+9]=_t[9],lt[ht+10]=_t[10],lt[ht+11]=_t[11],lt[ht+12]=_t[12],lt[ht+13]=_t[13],lt[ht+14]=_t[14],lt[ht+15]=_t[15],lt}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(lt=0,ht=0,_t=0,At=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=lt,this._y=ht,this._z=_t,this._order=At}get x(){return this._x}set x(lt){this._x=lt,this._onChangeCallback()}get y(){return this._y}set y(lt){this._y=lt,this._onChangeCallback()}get z(){return this._z}set z(lt){this._z=lt,this._onChangeCallback()}get order(){return this._order}set order(lt){this._order=lt,this._onChangeCallback()}set(lt,ht,_t,At=this._order){return this._x=lt,this._y=ht,this._z=_t,this._order=At,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(lt){return this._x=lt._x,this._y=lt._y,this._z=lt._z,this._order=lt._order,this._onChangeCallback(),this}setFromRotationMatrix(lt,ht=this._order,_t=!0){const At=lt.elements,qt=At[0],Zt=At[4],cr=At[8],Gr=At[1],Zr=At[5],xn=At[9],On=At[2],ss=At[6],ls=At[10];switch(ht){case"XYZ":this._y=Math.asin(clamp(cr,-1,1)),Math.abs(cr)<.9999999?(this._x=Math.atan2(-xn,ls),this._z=Math.atan2(-Zt,qt)):(this._x=Math.atan2(ss,Zr),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp(xn,-1,1)),Math.abs(xn)<.9999999?(this._y=Math.atan2(cr,ls),this._z=Math.atan2(Gr,Zr)):(this._y=Math.atan2(-On,qt),this._z=0);break;case"ZXY":this._x=Math.asin(clamp(ss,-1,1)),Math.abs(ss)<.9999999?(this._y=Math.atan2(-On,ls),this._z=Math.atan2(-Zt,Zr)):(this._y=0,this._z=Math.atan2(Gr,qt));break;case"ZYX":this._y=Math.asin(-clamp(On,-1,1)),Math.abs(On)<.9999999?(this._x=Math.atan2(ss,ls),this._z=Math.atan2(Gr,qt)):(this._x=0,this._z=Math.atan2(-Zt,Zr));break;case"YZX":this._z=Math.asin(clamp(Gr,-1,1)),Math.abs(Gr)<.9999999?(this._x=Math.atan2(-xn,Zr),this._y=Math.atan2(-On,qt)):(this._x=0,this._y=Math.atan2(cr,ls));break;case"XZY":this._z=Math.asin(-clamp(Zt,-1,1)),Math.abs(Zt)<.9999999?(this._x=Math.atan2(ss,Zr),this._y=Math.atan2(cr,qt)):(this._x=Math.atan2(-xn,ls),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+ht)}return this._order=ht,_t===!0&&this._onChangeCallback(),this}setFromQuaternion(lt,ht,_t){return _matrix.makeRotationFromQuaternion(lt),this.setFromRotationMatrix(_matrix,ht,_t)}setFromVector3(lt,ht=this._order){return this.set(lt.x,lt.y,lt.z,ht)}reorder(lt){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,lt)}equals(lt){return lt._x===this._x&&lt._y===this._y&&lt._z===this._z&&lt._order===this._order}fromArray(lt){return this._x=lt[0],this._y=lt[1],this._z=lt[2],lt[3]!==void 0&&(this._order=lt[3]),this._onChangeCallback(),this}toArray(lt=[],ht=0){return lt[ht]=this._x,lt[ht+1]=this._y,lt[ht+2]=this._z,lt[ht+3]=this._order,lt}_onChange(lt){return this._onChangeCallback=lt,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(lt){this.mask=(1<<lt|0)>>>0}enable(lt){this.mask|=1<<lt|0}enableAll(){this.mask=-1}toggle(lt){this.mask^=1<<lt|0}disable(lt){this.mask&=~(1<<lt|0)}disableAll(){this.mask=0}test(lt){return(this.mask&lt.mask)!==0}isEnabled(lt){return(this.mask&(1<<lt|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const lt=new Vector3,ht=new Euler,_t=new Quaternion,At=new Vector3(1,1,1);function qt(){_t.setFromEuler(ht,!1)}function Zt(){ht.setFromQuaternion(_t,void 0,!1)}ht._onChange(qt),_t._onChange(Zt),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:lt},rotation:{configurable:!0,enumerable:!0,value:ht},quaternion:{configurable:!0,enumerable:!0,value:_t},scale:{configurable:!0,enumerable:!0,value:At},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(lt){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(lt),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(lt){return this.quaternion.premultiply(lt),this}setRotationFromAxisAngle(lt,ht){this.quaternion.setFromAxisAngle(lt,ht)}setRotationFromEuler(lt){this.quaternion.setFromEuler(lt,!0)}setRotationFromMatrix(lt){this.quaternion.setFromRotationMatrix(lt)}setRotationFromQuaternion(lt){this.quaternion.copy(lt)}rotateOnAxis(lt,ht){return _q1.setFromAxisAngle(lt,ht),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(lt,ht){return _q1.setFromAxisAngle(lt,ht),this.quaternion.premultiply(_q1),this}rotateX(lt){return this.rotateOnAxis(_xAxis,lt)}rotateY(lt){return this.rotateOnAxis(_yAxis,lt)}rotateZ(lt){return this.rotateOnAxis(_zAxis,lt)}translateOnAxis(lt,ht){return _v1$4.copy(lt).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(ht)),this}translateX(lt){return this.translateOnAxis(_xAxis,lt)}translateY(lt){return this.translateOnAxis(_yAxis,lt)}translateZ(lt){return this.translateOnAxis(_zAxis,lt)}localToWorld(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(this.matrixWorld)}worldToLocal(lt){return this.updateWorldMatrix(!0,!1),lt.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(lt,ht,_t){lt.isVector3?_target.copy(lt):_target.set(lt,ht,_t);const At=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),At&&(_m1$1.extractRotation(At.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(lt){if(arguments.length>1){for(let ht=0;ht<arguments.length;ht++)this.add(arguments[ht]);return this}return lt===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",lt),this):(lt&&lt.isObject3D?(lt.parent!==null&&lt.parent.remove(lt),lt.parent=this,this.children.push(lt),lt.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",lt),this)}remove(lt){if(arguments.length>1){for(let _t=0;_t<arguments.length;_t++)this.remove(arguments[_t]);return this}const ht=this.children.indexOf(lt);return ht!==-1&&(lt.parent=null,this.children.splice(ht,1),lt.dispatchEvent(_removedEvent)),this}removeFromParent(){const lt=this.parent;return lt!==null&&lt.remove(this),this}clear(){return this.remove(...this.children)}attach(lt){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),lt.parent!==null&&(lt.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(lt.parent.matrixWorld)),lt.applyMatrix4(_m1$1),this.add(lt),lt.updateWorldMatrix(!1,!0),this}getObjectById(lt){return this.getObjectByProperty("id",lt)}getObjectByName(lt){return this.getObjectByProperty("name",lt)}getObjectByProperty(lt,ht){if(this[lt]===ht)return this;for(let _t=0,At=this.children.length;_t<At;_t++){const Zt=this.children[_t].getObjectByProperty(lt,ht);if(Zt!==void 0)return Zt}}getObjectsByProperty(lt,ht){let _t=[];this[lt]===ht&&_t.push(this);for(let At=0,qt=this.children.length;At<qt;At++){const Zt=this.children[At].getObjectsByProperty(lt,ht);Zt.length>0&&(_t=_t.concat(Zt))}return _t}getWorldPosition(lt){return this.updateWorldMatrix(!0,!1),lt.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,lt,_scale$2),lt}getWorldScale(lt){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,lt),lt}getWorldDirection(lt){this.updateWorldMatrix(!0,!1);const ht=this.matrixWorld.elements;return lt.set(ht[8],ht[9],ht[10]).normalize()}raycast(){}traverse(lt){lt(this);const ht=this.children;for(let _t=0,At=ht.length;_t<At;_t++)ht[_t].traverse(lt)}traverseVisible(lt){if(this.visible===!1)return;lt(this);const ht=this.children;for(let _t=0,At=ht.length;_t<At;_t++)ht[_t].traverseVisible(lt)}traverseAncestors(lt){const ht=this.parent;ht!==null&&(lt(ht),ht.traverseAncestors(lt))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(lt){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||lt)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,lt=!0);const ht=this.children;for(let _t=0,At=ht.length;_t<At;_t++){const qt=ht[_t];(qt.matrixWorldAutoUpdate===!0||lt===!0)&&qt.updateMatrixWorld(lt)}}updateWorldMatrix(lt,ht){const _t=this.parent;if(lt===!0&&_t!==null&&_t.matrixWorldAutoUpdate===!0&&_t.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),ht===!0){const At=this.children;for(let qt=0,Zt=At.length;qt<Zt;qt++){const cr=At[qt];cr.matrixWorldAutoUpdate===!0&&cr.updateWorldMatrix(!1,!0)}}}toJSON(lt){const ht=lt===void 0||typeof lt=="string",_t={};ht&&(lt={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},_t.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const At={};At.uuid=this.uuid,At.type=this.type,this.name!==""&&(At.name=this.name),this.castShadow===!0&&(At.castShadow=!0),this.receiveShadow===!0&&(At.receiveShadow=!0),this.visible===!1&&(At.visible=!1),this.frustumCulled===!1&&(At.frustumCulled=!1),this.renderOrder!==0&&(At.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(At.userData=this.userData),At.layers=this.layers.mask,At.matrix=this.matrix.toArray(),At.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(At.matrixAutoUpdate=!1),this.isInstancedMesh&&(At.type="InstancedMesh",At.count=this.count,At.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(At.instanceColor=this.instanceColor.toJSON()));function qt(cr,Gr){return cr[Gr.uuid]===void 0&&(cr[Gr.uuid]=Gr.toJSON(lt)),Gr.uuid}if(this.isScene)this.background&&(this.background.isColor?At.background=this.background.toJSON():this.background.isTexture&&(At.background=this.background.toJSON(lt).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(At.environment=this.environment.toJSON(lt).uuid);else if(this.isMesh||this.isLine||this.isPoints){At.geometry=qt(lt.geometries,this.geometry);const cr=this.geometry.parameters;if(cr!==void 0&&cr.shapes!==void 0){const Gr=cr.shapes;if(Array.isArray(Gr))for(let Zr=0,xn=Gr.length;Zr<xn;Zr++){const On=Gr[Zr];qt(lt.shapes,On)}else qt(lt.shapes,Gr)}}if(this.isSkinnedMesh&&(At.bindMode=this.bindMode,At.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(qt(lt.skeletons,this.skeleton),At.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const cr=[];for(let Gr=0,Zr=this.material.length;Gr<Zr;Gr++)cr.push(qt(lt.materials,this.material[Gr]));At.material=cr}else At.material=qt(lt.materials,this.material);if(this.children.length>0){At.children=[];for(let cr=0;cr<this.children.length;cr++)At.children.push(this.children[cr].toJSON(lt).object)}if(this.animations.length>0){At.animations=[];for(let cr=0;cr<this.animations.length;cr++){const Gr=this.animations[cr];At.animations.push(qt(lt.animations,Gr))}}if(ht){const cr=Zt(lt.geometries),Gr=Zt(lt.materials),Zr=Zt(lt.textures),xn=Zt(lt.images),On=Zt(lt.shapes),ss=Zt(lt.skeletons),ls=Zt(lt.animations),cs=Zt(lt.nodes);cr.length>0&&(_t.geometries=cr),Gr.length>0&&(_t.materials=Gr),Zr.length>0&&(_t.textures=Zr),xn.length>0&&(_t.images=xn),On.length>0&&(_t.shapes=On),ss.length>0&&(_t.skeletons=ss),ls.length>0&&(_t.animations=ls),cs.length>0&&(_t.nodes=cs)}return _t.object=At,_t;function Zt(cr){const Gr=[];for(const Zr in cr){const xn=cr[Zr];delete xn.metadata,Gr.push(xn)}return Gr}}clone(lt){return new this.constructor().copy(this,lt)}copy(lt,ht=!0){if(this.name=lt.name,this.up.copy(lt.up),this.position.copy(lt.position),this.rotation.order=lt.rotation.order,this.quaternion.copy(lt.quaternion),this.scale.copy(lt.scale),this.matrix.copy(lt.matrix),this.matrixWorld.copy(lt.matrixWorld),this.matrixAutoUpdate=lt.matrixAutoUpdate,this.matrixWorldNeedsUpdate=lt.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=lt.matrixWorldAutoUpdate,this.layers.mask=lt.layers.mask,this.visible=lt.visible,this.castShadow=lt.castShadow,this.receiveShadow=lt.receiveShadow,this.frustumCulled=lt.frustumCulled,this.renderOrder=lt.renderOrder,this.animations=lt.animations.slice(),this.userData=JSON.parse(JSON.stringify(lt.userData)),ht===!0)for(let _t=0;_t<lt.children.length;_t++){const At=lt.children[_t];this.add(At.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0);Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0;Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;let warnedGetUV=!1;class Triangle{constructor(lt=new Vector3,ht=new Vector3,_t=new Vector3){this.a=lt,this.b=ht,this.c=_t}static getNormal(lt,ht,_t,At){At.subVectors(_t,ht),_v0$1.subVectors(lt,ht),At.cross(_v0$1);const qt=At.lengthSq();return qt>0?At.multiplyScalar(1/Math.sqrt(qt)):At.set(0,0,0)}static getBarycoord(lt,ht,_t,At,qt){_v0$1.subVectors(At,ht),_v1$3.subVectors(_t,ht),_v2$2.subVectors(lt,ht);const Zt=_v0$1.dot(_v0$1),cr=_v0$1.dot(_v1$3),Gr=_v0$1.dot(_v2$2),Zr=_v1$3.dot(_v1$3),xn=_v1$3.dot(_v2$2),On=Zt*Zr-cr*cr;if(On===0)return qt.set(-2,-1,-1);const ss=1/On,ls=(Zr*Gr-cr*xn)*ss,cs=(Zt*xn-cr*Gr)*ss;return qt.set(1-ls-cs,cs,ls)}static containsPoint(lt,ht,_t,At){return this.getBarycoord(lt,ht,_t,At,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(lt,ht,_t,At,qt,Zt,cr,Gr){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),this.getInterpolation(lt,ht,_t,At,qt,Zt,cr,Gr)}static getInterpolation(lt,ht,_t,At,qt,Zt,cr,Gr){return this.getBarycoord(lt,ht,_t,At,_v3$1),Gr.setScalar(0),Gr.addScaledVector(qt,_v3$1.x),Gr.addScaledVector(Zt,_v3$1.y),Gr.addScaledVector(cr,_v3$1.z),Gr}static isFrontFacing(lt,ht,_t,At){return _v0$1.subVectors(_t,ht),_v1$3.subVectors(lt,ht),_v0$1.cross(_v1$3).dot(At)<0}set(lt,ht,_t){return this.a.copy(lt),this.b.copy(ht),this.c.copy(_t),this}setFromPointsAndIndices(lt,ht,_t,At){return this.a.copy(lt[ht]),this.b.copy(lt[_t]),this.c.copy(lt[At]),this}setFromAttributeAndIndices(lt,ht,_t,At){return this.a.fromBufferAttribute(lt,ht),this.b.fromBufferAttribute(lt,_t),this.c.fromBufferAttribute(lt,At),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.a.copy(lt.a),this.b.copy(lt.b),this.c.copy(lt.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(lt){return lt.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(lt){return Triangle.getNormal(this.a,this.b,this.c,lt)}getPlane(lt){return lt.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(lt,ht){return Triangle.getBarycoord(lt,this.a,this.b,this.c,ht)}getUV(lt,ht,_t,At,qt){return warnedGetUV===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),warnedGetUV=!0),Triangle.getInterpolation(lt,this.a,this.b,this.c,ht,_t,At,qt)}getInterpolation(lt,ht,_t,At,qt){return Triangle.getInterpolation(lt,this.a,this.b,this.c,ht,_t,At,qt)}containsPoint(lt){return Triangle.containsPoint(lt,this.a,this.b,this.c)}isFrontFacing(lt){return Triangle.isFrontFacing(this.a,this.b,this.c,lt)}intersectsBox(lt){return lt.intersectsTriangle(this)}closestPointToPoint(lt,ht){const _t=this.a,At=this.b,qt=this.c;let Zt,cr;_vab.subVectors(At,_t),_vac.subVectors(qt,_t),_vap.subVectors(lt,_t);const Gr=_vab.dot(_vap),Zr=_vac.dot(_vap);if(Gr<=0&&Zr<=0)return ht.copy(_t);_vbp.subVectors(lt,At);const xn=_vab.dot(_vbp),On=_vac.dot(_vbp);if(xn>=0&&On<=xn)return ht.copy(At);const ss=Gr*On-xn*Zr;if(ss<=0&&Gr>=0&&xn<=0)return Zt=Gr/(Gr-xn),ht.copy(_t).addScaledVector(_vab,Zt);_vcp.subVectors(lt,qt);const ls=_vab.dot(_vcp),cs=_vac.dot(_vcp);if(cs>=0&&ls<=cs)return ht.copy(qt);const wl=ls*Zr-Gr*cs;if(wl<=0&&Zr>=0&&cs<=0)return cr=Zr/(Zr-cs),ht.copy(_t).addScaledVector(_vac,cr);const ep=xn*cs-ls*On;if(ep<=0&&On-xn>=0&&ls-cs>=0)return _vbc.subVectors(qt,At),cr=(On-xn)/(On-xn+(ls-cs)),ht.copy(At).addScaledVector(_vbc,cr);const Al=1/(ep+wl+ss);return Zt=wl*Al,cr=ss*Al,ht.copy(_t).addScaledVector(_vab,Zt).addScaledVector(_vac,cr)}equals(lt){return lt.a.equals(this.a)&&lt.b.equals(this.b)&&lt.c.equals(this.c)}}let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(lt){this._alphaTest>0!=lt>0&&this.version++,this._alphaTest=lt}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(lt){if(lt!==void 0)for(const ht in lt){const _t=lt[ht];if(_t===void 0){console.warn(`THREE.Material: parameter '${ht}' has value of undefined.`);continue}const At=this[ht];if(At===void 0){console.warn(`THREE.Material: '${ht}' is not a property of THREE.${this.type}.`);continue}At&&At.isColor?At.set(_t):At&&At.isVector3&&_t&&_t.isVector3?At.copy(_t):this[ht]=_t}}toJSON(lt){const ht=lt===void 0||typeof lt=="string";ht&&(lt={textures:{},images:{}});const _t={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};_t.uuid=this.uuid,_t.type=this.type,this.name!==""&&(_t.name=this.name),this.color&&this.color.isColor&&(_t.color=this.color.getHex()),this.roughness!==void 0&&(_t.roughness=this.roughness),this.metalness!==void 0&&(_t.metalness=this.metalness),this.sheen!==void 0&&(_t.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(_t.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(_t.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(_t.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(_t.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_t.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(_t.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(_t.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(_t.shininess=this.shininess),this.clearcoat!==void 0&&(_t.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(_t.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_t.clearcoatMap=this.clearcoatMap.toJSON(lt).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_t.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(lt).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_t.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(lt).uuid,_t.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(_t.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(_t.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(_t.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(_t.iridescenceMap=this.iridescenceMap.toJSON(lt).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(_t.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(lt).uuid),this.anisotropy!==void 0&&(_t.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(_t.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(_t.anisotropyMap=this.anisotropyMap.toJSON(lt).uuid),this.map&&this.map.isTexture&&(_t.map=this.map.toJSON(lt).uuid),this.matcap&&this.matcap.isTexture&&(_t.matcap=this.matcap.toJSON(lt).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_t.alphaMap=this.alphaMap.toJSON(lt).uuid),this.lightMap&&this.lightMap.isTexture&&(_t.lightMap=this.lightMap.toJSON(lt).uuid,_t.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_t.aoMap=this.aoMap.toJSON(lt).uuid,_t.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_t.bumpMap=this.bumpMap.toJSON(lt).uuid,_t.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_t.normalMap=this.normalMap.toJSON(lt).uuid,_t.normalMapType=this.normalMapType,_t.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_t.displacementMap=this.displacementMap.toJSON(lt).uuid,_t.displacementScale=this.displacementScale,_t.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_t.roughnessMap=this.roughnessMap.toJSON(lt).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_t.metalnessMap=this.metalnessMap.toJSON(lt).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_t.emissiveMap=this.emissiveMap.toJSON(lt).uuid),this.specularMap&&this.specularMap.isTexture&&(_t.specularMap=this.specularMap.toJSON(lt).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_t.specularIntensityMap=this.specularIntensityMap.toJSON(lt).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(_t.specularColorMap=this.specularColorMap.toJSON(lt).uuid),this.envMap&&this.envMap.isTexture&&(_t.envMap=this.envMap.toJSON(lt).uuid,this.combine!==void 0&&(_t.combine=this.combine)),this.envMapIntensity!==void 0&&(_t.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(_t.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(_t.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_t.gradientMap=this.gradientMap.toJSON(lt).uuid),this.transmission!==void 0&&(_t.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_t.transmissionMap=this.transmissionMap.toJSON(lt).uuid),this.thickness!==void 0&&(_t.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_t.thicknessMap=this.thicknessMap.toJSON(lt).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(_t.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(_t.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(_t.size=this.size),this.shadowSide!==null&&(_t.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(_t.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(_t.blending=this.blending),this.side!==FrontSide&&(_t.side=this.side),this.vertexColors===!0&&(_t.vertexColors=!0),this.opacity<1&&(_t.opacity=this.opacity),this.transparent===!0&&(_t.transparent=!0),_t.depthFunc=this.depthFunc,_t.depthTest=this.depthTest,_t.depthWrite=this.depthWrite,_t.colorWrite=this.colorWrite,_t.stencilWrite=this.stencilWrite,_t.stencilWriteMask=this.stencilWriteMask,_t.stencilFunc=this.stencilFunc,_t.stencilRef=this.stencilRef,_t.stencilFuncMask=this.stencilFuncMask,_t.stencilFail=this.stencilFail,_t.stencilZFail=this.stencilZFail,_t.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(_t.rotation=this.rotation),this.polygonOffset===!0&&(_t.polygonOffset=!0),this.polygonOffsetFactor!==0&&(_t.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(_t.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(_t.linewidth=this.linewidth),this.dashSize!==void 0&&(_t.dashSize=this.dashSize),this.gapSize!==void 0&&(_t.gapSize=this.gapSize),this.scale!==void 0&&(_t.scale=this.scale),this.dithering===!0&&(_t.dithering=!0),this.alphaTest>0&&(_t.alphaTest=this.alphaTest),this.alphaHash===!0&&(_t.alphaHash=!0),this.alphaToCoverage===!0&&(_t.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(_t.premultipliedAlpha=!0),this.forceSinglePass===!0&&(_t.forceSinglePass=!0),this.wireframe===!0&&(_t.wireframe=!0),this.wireframeLinewidth>1&&(_t.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(_t.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(_t.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(_t.flatShading=!0),this.visible===!1&&(_t.visible=!1),this.toneMapped===!1&&(_t.toneMapped=!1),this.fog===!1&&(_t.fog=!1),Object.keys(this.userData).length>0&&(_t.userData=this.userData);function At(qt){const Zt=[];for(const cr in qt){const Gr=qt[cr];delete Gr.metadata,Zt.push(Gr)}return Zt}if(ht){const qt=At(lt.textures),Zt=At(lt.images);qt.length>0&&(_t.textures=qt),Zt.length>0&&(_t.images=Zt)}return _t}clone(){return new this.constructor().copy(this)}copy(lt){this.name=lt.name,this.blending=lt.blending,this.side=lt.side,this.vertexColors=lt.vertexColors,this.opacity=lt.opacity,this.transparent=lt.transparent,this.blendSrc=lt.blendSrc,this.blendDst=lt.blendDst,this.blendEquation=lt.blendEquation,this.blendSrcAlpha=lt.blendSrcAlpha,this.blendDstAlpha=lt.blendDstAlpha,this.blendEquationAlpha=lt.blendEquationAlpha,this.depthFunc=lt.depthFunc,this.depthTest=lt.depthTest,this.depthWrite=lt.depthWrite,this.stencilWriteMask=lt.stencilWriteMask,this.stencilFunc=lt.stencilFunc,this.stencilRef=lt.stencilRef,this.stencilFuncMask=lt.stencilFuncMask,this.stencilFail=lt.stencilFail,this.stencilZFail=lt.stencilZFail,this.stencilZPass=lt.stencilZPass,this.stencilWrite=lt.stencilWrite;const ht=lt.clippingPlanes;let _t=null;if(ht!==null){const At=ht.length;_t=new Array(At);for(let qt=0;qt!==At;++qt)_t[qt]=ht[qt].clone()}return this.clippingPlanes=_t,this.clipIntersection=lt.clipIntersection,this.clipShadows=lt.clipShadows,this.shadowSide=lt.shadowSide,this.colorWrite=lt.colorWrite,this.precision=lt.precision,this.polygonOffset=lt.polygonOffset,this.polygonOffsetFactor=lt.polygonOffsetFactor,this.polygonOffsetUnits=lt.polygonOffsetUnits,this.dithering=lt.dithering,this.alphaTest=lt.alphaTest,this.alphaHash=lt.alphaHash,this.alphaToCoverage=lt.alphaToCoverage,this.premultipliedAlpha=lt.premultipliedAlpha,this.forceSinglePass=lt.forceSinglePass,this.visible=lt.visible,this.toneMapped=lt.toneMapped,this.userData=JSON.parse(JSON.stringify(lt.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(lt){lt===!0&&this.version++}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(ut,lt,ht){return ht<0&&(ht+=1),ht>1&&(ht-=1),ht<1/6?ut+(lt-ut)*6*ht:ht<1/2?lt:ht<2/3?ut+(lt-ut)*6*(2/3-ht):ut}class Color{constructor(lt,ht,_t){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(lt,ht,_t)}set(lt,ht,_t){if(ht===void 0&&_t===void 0){const At=lt;At&&At.isColor?this.copy(At):typeof At=="number"?this.setHex(At):typeof At=="string"&&this.setStyle(At)}else this.setRGB(lt,ht,_t);return this}setScalar(lt){return this.r=lt,this.g=lt,this.b=lt,this}setHex(lt,ht=SRGBColorSpace$1){return lt=Math.floor(lt),this.r=(lt>>16&255)/255,this.g=(lt>>8&255)/255,this.b=(lt&255)/255,ColorManagement.toWorkingColorSpace(this,ht),this}setRGB(lt,ht,_t,At=ColorManagement.workingColorSpace){return this.r=lt,this.g=ht,this.b=_t,ColorManagement.toWorkingColorSpace(this,At),this}setHSL(lt,ht,_t,At=ColorManagement.workingColorSpace){if(lt=euclideanModulo(lt,1),ht=clamp(ht,0,1),_t=clamp(_t,0,1),ht===0)this.r=this.g=this.b=_t;else{const qt=_t<=.5?_t*(1+ht):_t+ht-_t*ht,Zt=2*_t-qt;this.r=hue2rgb(Zt,qt,lt+1/3),this.g=hue2rgb(Zt,qt,lt),this.b=hue2rgb(Zt,qt,lt-1/3)}return ColorManagement.toWorkingColorSpace(this,At),this}setStyle(lt,ht=SRGBColorSpace$1){function _t(qt){qt!==void 0&&parseFloat(qt)<1&&console.warn("THREE.Color: Alpha component of "+lt+" will be ignored.")}let At;if(At=/^(\w+)\(([^\)]*)\)/.exec(lt)){let qt;const Zt=At[1],cr=At[2];switch(Zt){case"rgb":case"rgba":if(qt=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(cr))return _t(qt[4]),this.setRGB(Math.min(255,parseInt(qt[1],10))/255,Math.min(255,parseInt(qt[2],10))/255,Math.min(255,parseInt(qt[3],10))/255,ht);if(qt=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(cr))return _t(qt[4]),this.setRGB(Math.min(100,parseInt(qt[1],10))/100,Math.min(100,parseInt(qt[2],10))/100,Math.min(100,parseInt(qt[3],10))/100,ht);break;case"hsl":case"hsla":if(qt=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(cr))return _t(qt[4]),this.setHSL(parseFloat(qt[1])/360,parseFloat(qt[2])/100,parseFloat(qt[3])/100,ht);break;default:console.warn("THREE.Color: Unknown color model "+lt)}}else if(At=/^\#([A-Fa-f\d]+)$/.exec(lt)){const qt=At[1],Zt=qt.length;if(Zt===3)return this.setRGB(parseInt(qt.charAt(0),16)/15,parseInt(qt.charAt(1),16)/15,parseInt(qt.charAt(2),16)/15,ht);if(Zt===6)return this.setHex(parseInt(qt,16),ht);console.warn("THREE.Color: Invalid hex color "+lt)}else if(lt&&lt.length>0)return this.setColorName(lt,ht);return this}setColorName(lt,ht=SRGBColorSpace$1){const _t=_colorKeywords[lt.toLowerCase()];return _t!==void 0?this.setHex(_t,ht):console.warn("THREE.Color: Unknown color "+lt),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(lt){return this.r=lt.r,this.g=lt.g,this.b=lt.b,this}copySRGBToLinear(lt){return this.r=SRGBToLinear(lt.r),this.g=SRGBToLinear(lt.g),this.b=SRGBToLinear(lt.b),this}copyLinearToSRGB(lt){return this.r=LinearToSRGB(lt.r),this.g=LinearToSRGB(lt.g),this.b=LinearToSRGB(lt.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(lt=SRGBColorSpace$1){return ColorManagement.fromWorkingColorSpace(_color.copy(this),lt),Math.round(clamp(_color.r*255,0,255))*65536+Math.round(clamp(_color.g*255,0,255))*256+Math.round(clamp(_color.b*255,0,255))}getHexString(lt=SRGBColorSpace$1){return("000000"+this.getHex(lt).toString(16)).slice(-6)}getHSL(lt,ht=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color.copy(this),ht);const _t=_color.r,At=_color.g,qt=_color.b,Zt=Math.max(_t,At,qt),cr=Math.min(_t,At,qt);let Gr,Zr;const xn=(cr+Zt)/2;if(cr===Zt)Gr=0,Zr=0;else{const On=Zt-cr;switch(Zr=xn<=.5?On/(Zt+cr):On/(2-Zt-cr),Zt){case _t:Gr=(At-qt)/On+(At<qt?6:0);break;case At:Gr=(qt-_t)/On+2;break;case qt:Gr=(_t-At)/On+4;break}Gr/=6}return lt.h=Gr,lt.s=Zr,lt.l=xn,lt}getRGB(lt,ht=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color.copy(this),ht),lt.r=_color.r,lt.g=_color.g,lt.b=_color.b,lt}getStyle(lt=SRGBColorSpace$1){ColorManagement.fromWorkingColorSpace(_color.copy(this),lt);const ht=_color.r,_t=_color.g,At=_color.b;return lt!==SRGBColorSpace$1?`color(${lt} ${ht.toFixed(3)} ${_t.toFixed(3)} ${At.toFixed(3)})`:`rgb(${Math.round(ht*255)},${Math.round(_t*255)},${Math.round(At*255)})`}offsetHSL(lt,ht,_t){return this.getHSL(_hslA),this.setHSL(_hslA.h+lt,_hslA.s+ht,_hslA.l+_t)}add(lt){return this.r+=lt.r,this.g+=lt.g,this.b+=lt.b,this}addColors(lt,ht){return this.r=lt.r+ht.r,this.g=lt.g+ht.g,this.b=lt.b+ht.b,this}addScalar(lt){return this.r+=lt,this.g+=lt,this.b+=lt,this}sub(lt){return this.r=Math.max(0,this.r-lt.r),this.g=Math.max(0,this.g-lt.g),this.b=Math.max(0,this.b-lt.b),this}multiply(lt){return this.r*=lt.r,this.g*=lt.g,this.b*=lt.b,this}multiplyScalar(lt){return this.r*=lt,this.g*=lt,this.b*=lt,this}lerp(lt,ht){return this.r+=(lt.r-this.r)*ht,this.g+=(lt.g-this.g)*ht,this.b+=(lt.b-this.b)*ht,this}lerpColors(lt,ht,_t){return this.r=lt.r+(ht.r-lt.r)*_t,this.g=lt.g+(ht.g-lt.g)*_t,this.b=lt.b+(ht.b-lt.b)*_t,this}lerpHSL(lt,ht){this.getHSL(_hslA),lt.getHSL(_hslB);const _t=lerp(_hslA.h,_hslB.h,ht),At=lerp(_hslA.s,_hslB.s,ht),qt=lerp(_hslA.l,_hslB.l,ht);return this.setHSL(_t,At,qt),this}setFromVector3(lt){return this.r=lt.x,this.g=lt.y,this.b=lt.z,this}applyMatrix3(lt){const ht=this.r,_t=this.g,At=this.b,qt=lt.elements;return this.r=qt[0]*ht+qt[3]*_t+qt[6]*At,this.g=qt[1]*ht+qt[4]*_t+qt[7]*At,this.b=qt[2]*ht+qt[5]*_t+qt[8]*At,this}equals(lt){return lt.r===this.r&&lt.g===this.g&&lt.b===this.b}fromArray(lt,ht=0){return this.r=lt[ht],this.g=lt[ht+1],this.b=lt[ht+2],this}toArray(lt=[],ht=0){return lt[ht]=this.r,lt[ht+1]=this.g,lt[ht+2]=this.b,lt}fromBufferAttribute(lt,ht){return this.r=lt.getX(ht),this.g=lt.getY(ht),this.b=lt.getZ(ht),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color=new Color;Color.NAMES=_colorKeywords;class MeshBasicMaterial extends Material{constructor(lt){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}const _tables=_generateTables();function _generateTables(){const ut=new ArrayBuffer(4),lt=new Float32Array(ut),ht=new Uint32Array(ut),_t=new Uint32Array(512),At=new Uint32Array(512);for(let Gr=0;Gr<256;++Gr){const Zr=Gr-127;Zr<-27?(_t[Gr]=0,_t[Gr|256]=32768,At[Gr]=24,At[Gr|256]=24):Zr<-14?(_t[Gr]=1024>>-Zr-14,_t[Gr|256]=1024>>-Zr-14|32768,At[Gr]=-Zr-1,At[Gr|256]=-Zr-1):Zr<=15?(_t[Gr]=Zr+15<<10,_t[Gr|256]=Zr+15<<10|32768,At[Gr]=13,At[Gr|256]=13):Zr<128?(_t[Gr]=31744,_t[Gr|256]=64512,At[Gr]=24,At[Gr|256]=24):(_t[Gr]=31744,_t[Gr|256]=64512,At[Gr]=13,At[Gr|256]=13)}const qt=new Uint32Array(2048),Zt=new Uint32Array(64),cr=new Uint32Array(64);for(let Gr=1;Gr<1024;++Gr){let Zr=Gr<<13,xn=0;for(;!(Zr&8388608);)Zr<<=1,xn-=8388608;Zr&=-8388609,xn+=947912704,qt[Gr]=Zr|xn}for(let Gr=1024;Gr<2048;++Gr)qt[Gr]=939524096+(Gr-1024<<13);for(let Gr=1;Gr<31;++Gr)Zt[Gr]=Gr<<23;Zt[31]=1199570944,Zt[32]=2147483648;for(let Gr=33;Gr<63;++Gr)Zt[Gr]=2147483648+(Gr-32<<23);Zt[63]=3347054592;for(let Gr=1;Gr<64;++Gr)Gr!==32&&(cr[Gr]=1024);return{floatView:lt,uint32View:ht,baseTable:_t,shiftTable:At,mantissaTable:qt,exponentTable:Zt,offsetTable:cr}}function toHalfFloat(ut){Math.abs(ut)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),ut=clamp(ut,-65504,65504),_tables.floatView[0]=ut;const lt=_tables.uint32View[0],ht=lt>>23&511;return _tables.baseTable[ht]+((lt&8388607)>>_tables.shiftTable[ht])}function fromHalfFloat(ut){const lt=ut>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[lt]+(ut&1023)]+_tables.exponentTable[lt],_tables.floatView[0]}const DataUtils={toHalfFloat,fromHalfFloat},_vector$8=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(lt,ht,_t=!1){if(Array.isArray(lt))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=lt,this.itemSize=ht,this.count=lt!==void 0?lt.length/ht:0,this.normalized=_t,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.name=lt.name,this.array=new lt.array.constructor(lt.array),this.itemSize=lt.itemSize,this.count=lt.count,this.normalized=lt.normalized,this.usage=lt.usage,this.gpuType=lt.gpuType,this}copyAt(lt,ht,_t){lt*=this.itemSize,_t*=ht.itemSize;for(let At=0,qt=this.itemSize;At<qt;At++)this.array[lt+At]=ht.array[_t+At];return this}copyArray(lt){return this.array.set(lt),this}applyMatrix3(lt){if(this.itemSize===2)for(let ht=0,_t=this.count;ht<_t;ht++)_vector2$1.fromBufferAttribute(this,ht),_vector2$1.applyMatrix3(lt),this.setXY(ht,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let ht=0,_t=this.count;ht<_t;ht++)_vector$8.fromBufferAttribute(this,ht),_vector$8.applyMatrix3(lt),this.setXYZ(ht,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyMatrix4(lt){for(let ht=0,_t=this.count;ht<_t;ht++)_vector$8.fromBufferAttribute(this,ht),_vector$8.applyMatrix4(lt),this.setXYZ(ht,_vector$8.x,_vector$8.y,_vector$8.z);return this}applyNormalMatrix(lt){for(let ht=0,_t=this.count;ht<_t;ht++)_vector$8.fromBufferAttribute(this,ht),_vector$8.applyNormalMatrix(lt),this.setXYZ(ht,_vector$8.x,_vector$8.y,_vector$8.z);return this}transformDirection(lt){for(let ht=0,_t=this.count;ht<_t;ht++)_vector$8.fromBufferAttribute(this,ht),_vector$8.transformDirection(lt),this.setXYZ(ht,_vector$8.x,_vector$8.y,_vector$8.z);return this}set(lt,ht=0){return this.array.set(lt,ht),this}getComponent(lt,ht){let _t=this.array[lt*this.itemSize+ht];return this.normalized&&(_t=denormalize(_t,this.array)),_t}setComponent(lt,ht,_t){return this.normalized&&(_t=normalize(_t,this.array)),this.array[lt*this.itemSize+ht]=_t,this}getX(lt){let ht=this.array[lt*this.itemSize];return this.normalized&&(ht=denormalize(ht,this.array)),ht}setX(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize]=ht,this}getY(lt){let ht=this.array[lt*this.itemSize+1];return this.normalized&&(ht=denormalize(ht,this.array)),ht}setY(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+1]=ht,this}getZ(lt){let ht=this.array[lt*this.itemSize+2];return this.normalized&&(ht=denormalize(ht,this.array)),ht}setZ(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+2]=ht,this}getW(lt){let ht=this.array[lt*this.itemSize+3];return this.normalized&&(ht=denormalize(ht,this.array)),ht}setW(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+3]=ht,this}setXY(lt,ht,_t){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array)),this.array[lt+0]=ht,this.array[lt+1]=_t,this}setXYZ(lt,ht,_t,At){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array)),this.array[lt+0]=ht,this.array[lt+1]=_t,this.array[lt+2]=At,this}setXYZW(lt,ht,_t,At,qt){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array),qt=normalize(qt,this.array)),this.array[lt+0]=ht,this.array[lt+1]=_t,this.array[lt+2]=At,this.array[lt+3]=qt,this}onUpload(lt){return this.onUploadCallback=lt,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const lt={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(lt.name=this.name),this.usage!==StaticDrawUsage&&(lt.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(lt.updateRange=this.updateRange),lt}}class Int8BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Int8Array(lt),ht,_t)}}class Uint8BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Uint8Array(lt),ht,_t)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Uint8ClampedArray(lt),ht,_t)}}class Int16BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Int16Array(lt),ht,_t)}}class Uint16BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Uint16Array(lt),ht,_t)}}class Int32BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Int32Array(lt),ht,_t)}}class Uint32BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Uint32Array(lt),ht,_t)}}class Float16BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Uint16Array(lt),ht,_t),this.isFloat16BufferAttribute=!0}getX(lt){let ht=fromHalfFloat(this.array[lt*this.itemSize]);return this.normalized&&(ht=denormalize(ht,this.array)),ht}setX(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize]=toHalfFloat(ht),this}getY(lt){let ht=fromHalfFloat(this.array[lt*this.itemSize+1]);return this.normalized&&(ht=denormalize(ht,this.array)),ht}setY(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+1]=toHalfFloat(ht),this}getZ(lt){let ht=fromHalfFloat(this.array[lt*this.itemSize+2]);return this.normalized&&(ht=denormalize(ht,this.array)),ht}setZ(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+2]=toHalfFloat(ht),this}getW(lt){let ht=fromHalfFloat(this.array[lt*this.itemSize+3]);return this.normalized&&(ht=denormalize(ht,this.array)),ht}setW(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.array[lt*this.itemSize+3]=toHalfFloat(ht),this}setXY(lt,ht,_t){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array)),this.array[lt+0]=toHalfFloat(ht),this.array[lt+1]=toHalfFloat(_t),this}setXYZ(lt,ht,_t,At){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array)),this.array[lt+0]=toHalfFloat(ht),this.array[lt+1]=toHalfFloat(_t),this.array[lt+2]=toHalfFloat(At),this}setXYZW(lt,ht,_t,At,qt){return lt*=this.itemSize,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array),qt=normalize(qt,this.array)),this.array[lt+0]=toHalfFloat(ht),this.array[lt+1]=toHalfFloat(_t),this.array[lt+2]=toHalfFloat(At),this.array[lt+3]=toHalfFloat(qt),this}}class Float32BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Float32Array(lt),ht,_t)}}class Float64BufferAttribute extends BufferAttribute{constructor(lt,ht,_t){super(new Float64Array(lt),ht,_t)}}let _id$2=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$7=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$2++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(lt){return Array.isArray(lt)?this.index=new(arrayNeedsUint32(lt)?Uint32BufferAttribute:Uint16BufferAttribute)(lt,1):this.index=lt,this}getAttribute(lt){return this.attributes[lt]}setAttribute(lt,ht){return this.attributes[lt]=ht,this}deleteAttribute(lt){return delete this.attributes[lt],this}hasAttribute(lt){return this.attributes[lt]!==void 0}addGroup(lt,ht,_t=0){this.groups.push({start:lt,count:ht,materialIndex:_t})}clearGroups(){this.groups=[]}setDrawRange(lt,ht){this.drawRange.start=lt,this.drawRange.count=ht}applyMatrix4(lt){const ht=this.attributes.position;ht!==void 0&&(ht.applyMatrix4(lt),ht.needsUpdate=!0);const _t=this.attributes.normal;if(_t!==void 0){const qt=new Matrix3().getNormalMatrix(lt);_t.applyNormalMatrix(qt),_t.needsUpdate=!0}const At=this.attributes.tangent;return At!==void 0&&(At.transformDirection(lt),At.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(lt){return _m1.makeRotationFromQuaternion(lt),this.applyMatrix4(_m1),this}rotateX(lt){return _m1.makeRotationX(lt),this.applyMatrix4(_m1),this}rotateY(lt){return _m1.makeRotationY(lt),this.applyMatrix4(_m1),this}rotateZ(lt){return _m1.makeRotationZ(lt),this.applyMatrix4(_m1),this}translate(lt,ht,_t){return _m1.makeTranslation(lt,ht,_t),this.applyMatrix4(_m1),this}scale(lt,ht,_t){return _m1.makeScale(lt,ht,_t),this.applyMatrix4(_m1),this}lookAt(lt){return _obj.lookAt(lt),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(lt){const ht=[];for(let _t=0,At=lt.length;_t<At;_t++){const qt=lt[_t];ht.push(qt.x,qt.y,qt.z||0)}return this.setAttribute("position",new Float32BufferAttribute(ht,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const lt=this.attributes.position,ht=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(lt!==void 0){if(this.boundingBox.setFromBufferAttribute(lt),ht)for(let _t=0,At=ht.length;_t<At;_t++){const qt=ht[_t];_box$1.setFromBufferAttribute(qt),this.morphTargetsRelative?(_vector$7.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$7),_vector$7.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$7)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const lt=this.attributes.position,ht=this.morphAttributes.position;if(lt&&lt.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(lt){const _t=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(lt),ht)for(let qt=0,Zt=ht.length;qt<Zt;qt++){const cr=ht[qt];_boxMorphTargets.setFromBufferAttribute(cr),this.morphTargetsRelative?(_vector$7.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$7),_vector$7.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$7)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(_t);let At=0;for(let qt=0,Zt=lt.count;qt<Zt;qt++)_vector$7.fromBufferAttribute(lt,qt),At=Math.max(At,_t.distanceToSquared(_vector$7));if(ht)for(let qt=0,Zt=ht.length;qt<Zt;qt++){const cr=ht[qt],Gr=this.morphTargetsRelative;for(let Zr=0,xn=cr.count;Zr<xn;Zr++)_vector$7.fromBufferAttribute(cr,Zr),Gr&&(_offset.fromBufferAttribute(lt,Zr),_vector$7.add(_offset)),At=Math.max(At,_t.distanceToSquared(_vector$7))}this.boundingSphere.radius=Math.sqrt(At),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const lt=this.index,ht=this.attributes;if(lt===null||ht.position===void 0||ht.normal===void 0||ht.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const _t=lt.array,At=ht.position.array,qt=ht.normal.array,Zt=ht.uv.array,cr=At.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*cr),4));const Gr=this.getAttribute("tangent").array,Zr=[],xn=[];for(let d3=0;d3<cr;d3++)Zr[d3]=new Vector3,xn[d3]=new Vector3;const On=new Vector3,ss=new Vector3,ls=new Vector3,cs=new Vector2,wl=new Vector2,ep=new Vector2,Al=new Vector3,np=new Vector3;function cp(d3,op,Sn){On.fromArray(At,d3*3),ss.fromArray(At,op*3),ls.fromArray(At,Sn*3),cs.fromArray(Zt,d3*2),wl.fromArray(Zt,op*2),ep.fromArray(Zt,Sn*2),ss.sub(On),ls.sub(On),wl.sub(cs),ep.sub(cs);const Fo=1/(wl.x*ep.y-ep.x*wl.y);isFinite(Fo)&&(Al.copy(ss).multiplyScalar(ep.y).addScaledVector(ls,-wl.y).multiplyScalar(Fo),np.copy(ls).multiplyScalar(wl.x).addScaledVector(ss,-ep.x).multiplyScalar(Fo),Zr[d3].add(Al),Zr[op].add(Al),Zr[Sn].add(Al),xn[d3].add(np),xn[op].add(np),xn[Sn].add(np))}let Cp=this.groups;Cp.length===0&&(Cp=[{start:0,count:_t.length}]);for(let d3=0,op=Cp.length;d3<op;++d3){const Sn=Cp[d3],Fo=Sn.start,as=Sn.count;for(let us=Fo,xl=Fo+as;us<xl;us+=3)cp(_t[us+0],_t[us+1],_t[us+2])}const Lp=new Vector3,jp=new Vector3,nm=new Vector3,zm=new Vector3;function i1(d3){nm.fromArray(qt,d3*3),zm.copy(nm);const op=Zr[d3];Lp.copy(op),Lp.sub(nm.multiplyScalar(nm.dot(op))).normalize(),jp.crossVectors(zm,op);const Fo=jp.dot(xn[d3])<0?-1:1;Gr[d3*4]=Lp.x,Gr[d3*4+1]=Lp.y,Gr[d3*4+2]=Lp.z,Gr[d3*4+3]=Fo}for(let d3=0,op=Cp.length;d3<op;++d3){const Sn=Cp[d3],Fo=Sn.start,as=Sn.count;for(let us=Fo,xl=Fo+as;us<xl;us+=3)i1(_t[us+0]),i1(_t[us+1]),i1(_t[us+2])}}computeVertexNormals(){const lt=this.index,ht=this.getAttribute("position");if(ht!==void 0){let _t=this.getAttribute("normal");if(_t===void 0)_t=new BufferAttribute(new Float32Array(ht.count*3),3),this.setAttribute("normal",_t);else for(let ss=0,ls=_t.count;ss<ls;ss++)_t.setXYZ(ss,0,0,0);const At=new Vector3,qt=new Vector3,Zt=new Vector3,cr=new Vector3,Gr=new Vector3,Zr=new Vector3,xn=new Vector3,On=new Vector3;if(lt)for(let ss=0,ls=lt.count;ss<ls;ss+=3){const cs=lt.getX(ss+0),wl=lt.getX(ss+1),ep=lt.getX(ss+2);At.fromBufferAttribute(ht,cs),qt.fromBufferAttribute(ht,wl),Zt.fromBufferAttribute(ht,ep),xn.subVectors(Zt,qt),On.subVectors(At,qt),xn.cross(On),cr.fromBufferAttribute(_t,cs),Gr.fromBufferAttribute(_t,wl),Zr.fromBufferAttribute(_t,ep),cr.add(xn),Gr.add(xn),Zr.add(xn),_t.setXYZ(cs,cr.x,cr.y,cr.z),_t.setXYZ(wl,Gr.x,Gr.y,Gr.z),_t.setXYZ(ep,Zr.x,Zr.y,Zr.z)}else for(let ss=0,ls=ht.count;ss<ls;ss+=3)At.fromBufferAttribute(ht,ss+0),qt.fromBufferAttribute(ht,ss+1),Zt.fromBufferAttribute(ht,ss+2),xn.subVectors(Zt,qt),On.subVectors(At,qt),xn.cross(On),_t.setXYZ(ss+0,xn.x,xn.y,xn.z),_t.setXYZ(ss+1,xn.x,xn.y,xn.z),_t.setXYZ(ss+2,xn.x,xn.y,xn.z);this.normalizeNormals(),_t.needsUpdate=!0}}normalizeNormals(){const lt=this.attributes.normal;for(let ht=0,_t=lt.count;ht<_t;ht++)_vector$7.fromBufferAttribute(lt,ht),_vector$7.normalize(),lt.setXYZ(ht,_vector$7.x,_vector$7.y,_vector$7.z)}toNonIndexed(){function lt(cr,Gr){const Zr=cr.array,xn=cr.itemSize,On=cr.normalized,ss=new Zr.constructor(Gr.length*xn);let ls=0,cs=0;for(let wl=0,ep=Gr.length;wl<ep;wl++){cr.isInterleavedBufferAttribute?ls=Gr[wl]*cr.data.stride+cr.offset:ls=Gr[wl]*xn;for(let Al=0;Al<xn;Al++)ss[cs++]=Zr[ls++]}return new BufferAttribute(ss,xn,On)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const ht=new BufferGeometry,_t=this.index.array,At=this.attributes;for(const cr in At){const Gr=At[cr],Zr=lt(Gr,_t);ht.setAttribute(cr,Zr)}const qt=this.morphAttributes;for(const cr in qt){const Gr=[],Zr=qt[cr];for(let xn=0,On=Zr.length;xn<On;xn++){const ss=Zr[xn],ls=lt(ss,_t);Gr.push(ls)}ht.morphAttributes[cr]=Gr}ht.morphTargetsRelative=this.morphTargetsRelative;const Zt=this.groups;for(let cr=0,Gr=Zt.length;cr<Gr;cr++){const Zr=Zt[cr];ht.addGroup(Zr.start,Zr.count,Zr.materialIndex)}return ht}toJSON(){const lt={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(lt.uuid=this.uuid,lt.type=this.type,this.name!==""&&(lt.name=this.name),Object.keys(this.userData).length>0&&(lt.userData=this.userData),this.parameters!==void 0){const Gr=this.parameters;for(const Zr in Gr)Gr[Zr]!==void 0&&(lt[Zr]=Gr[Zr]);return lt}lt.data={attributes:{}};const ht=this.index;ht!==null&&(lt.data.index={type:ht.array.constructor.name,array:Array.prototype.slice.call(ht.array)});const _t=this.attributes;for(const Gr in _t){const Zr=_t[Gr];lt.data.attributes[Gr]=Zr.toJSON(lt.data)}const At={};let qt=!1;for(const Gr in this.morphAttributes){const Zr=this.morphAttributes[Gr],xn=[];for(let On=0,ss=Zr.length;On<ss;On++){const ls=Zr[On];xn.push(ls.toJSON(lt.data))}xn.length>0&&(At[Gr]=xn,qt=!0)}qt&&(lt.data.morphAttributes=At,lt.data.morphTargetsRelative=this.morphTargetsRelative);const Zt=this.groups;Zt.length>0&&(lt.data.groups=JSON.parse(JSON.stringify(Zt)));const cr=this.boundingSphere;return cr!==null&&(lt.data.boundingSphere={center:cr.center.toArray(),radius:cr.radius}),lt}clone(){return new this.constructor().copy(this)}copy(lt){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const ht={};this.name=lt.name;const _t=lt.index;_t!==null&&this.setIndex(_t.clone(ht));const At=lt.attributes;for(const Zr in At){const xn=At[Zr];this.setAttribute(Zr,xn.clone(ht))}const qt=lt.morphAttributes;for(const Zr in qt){const xn=[],On=qt[Zr];for(let ss=0,ls=On.length;ss<ls;ss++)xn.push(On[ss].clone(ht));this.morphAttributes[Zr]=xn}this.morphTargetsRelative=lt.morphTargetsRelative;const Zt=lt.groups;for(let Zr=0,xn=Zt.length;Zr<xn;Zr++){const On=Zt[Zr];this.addGroup(On.start,On.count,On.materialIndex)}const cr=lt.boundingBox;cr!==null&&(this.boundingBox=cr.clone());const Gr=lt.boundingSphere;return Gr!==null&&(this.boundingSphere=Gr.clone()),this.drawRange.start=lt.drawRange.start,this.drawRange.count=lt.drawRange.count,this.userData=lt.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$5=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_normalA=new Vector3,_normalB=new Vector3,_normalC=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(lt=new BufferGeometry,ht=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=lt,this.material=ht,this.updateMorphTargets()}copy(lt,ht){return super.copy(lt,ht),lt.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=lt.morphTargetInfluences.slice()),lt.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},lt.morphTargetDictionary)),this.material=Array.isArray(lt.material)?lt.material.slice():lt.material,this.geometry=lt.geometry,this}updateMorphTargets(){const ht=this.geometry.morphAttributes,_t=Object.keys(ht);if(_t.length>0){const At=ht[_t[0]];if(At!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let qt=0,Zt=At.length;qt<Zt;qt++){const cr=At[qt].name||String(qt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[cr]=qt}}}}getVertexPosition(lt,ht){const _t=this.geometry,At=_t.attributes.position,qt=_t.morphAttributes.position,Zt=_t.morphTargetsRelative;ht.fromBufferAttribute(At,lt);const cr=this.morphTargetInfluences;if(qt&&cr){_morphA.set(0,0,0);for(let Gr=0,Zr=qt.length;Gr<Zr;Gr++){const xn=cr[Gr],On=qt[Gr];xn!==0&&(_tempA.fromBufferAttribute(On,lt),Zt?_morphA.addScaledVector(_tempA,xn):_morphA.addScaledVector(_tempA.sub(ht),xn))}ht.add(_morphA)}return ht}raycast(lt,ht){const _t=this.geometry,At=this.material,qt=this.matrixWorld;At!==void 0&&(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere$5.copy(_t.boundingSphere),_sphere$5.applyMatrix4(qt),_ray$3.copy(lt.ray).recast(lt.near),!(_sphere$5.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$5,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(lt.far-lt.near)**2))&&(_inverseMatrix$3.copy(qt).invert(),_ray$3.copy(lt.ray).applyMatrix4(_inverseMatrix$3),!(_t.boundingBox!==null&&_ray$3.intersectsBox(_t.boundingBox)===!1)&&this._computeIntersections(lt,ht,_ray$3)))}_computeIntersections(lt,ht,_t){let At;const qt=this.geometry,Zt=this.material,cr=qt.index,Gr=qt.attributes.position,Zr=qt.attributes.uv,xn=qt.attributes.uv1,On=qt.attributes.normal,ss=qt.groups,ls=qt.drawRange;if(cr!==null)if(Array.isArray(Zt))for(let cs=0,wl=ss.length;cs<wl;cs++){const ep=ss[cs],Al=Zt[ep.materialIndex],np=Math.max(ep.start,ls.start),cp=Math.min(cr.count,Math.min(ep.start+ep.count,ls.start+ls.count));for(let Cp=np,Lp=cp;Cp<Lp;Cp+=3){const jp=cr.getX(Cp),nm=cr.getX(Cp+1),zm=cr.getX(Cp+2);At=checkGeometryIntersection(this,Al,lt,_t,Zr,xn,On,jp,nm,zm),At&&(At.faceIndex=Math.floor(Cp/3),At.face.materialIndex=ep.materialIndex,ht.push(At))}}else{const cs=Math.max(0,ls.start),wl=Math.min(cr.count,ls.start+ls.count);for(let ep=cs,Al=wl;ep<Al;ep+=3){const np=cr.getX(ep),cp=cr.getX(ep+1),Cp=cr.getX(ep+2);At=checkGeometryIntersection(this,Zt,lt,_t,Zr,xn,On,np,cp,Cp),At&&(At.faceIndex=Math.floor(ep/3),ht.push(At))}}else if(Gr!==void 0)if(Array.isArray(Zt))for(let cs=0,wl=ss.length;cs<wl;cs++){const ep=ss[cs],Al=Zt[ep.materialIndex],np=Math.max(ep.start,ls.start),cp=Math.min(Gr.count,Math.min(ep.start+ep.count,ls.start+ls.count));for(let Cp=np,Lp=cp;Cp<Lp;Cp+=3){const jp=Cp,nm=Cp+1,zm=Cp+2;At=checkGeometryIntersection(this,Al,lt,_t,Zr,xn,On,jp,nm,zm),At&&(At.faceIndex=Math.floor(Cp/3),At.face.materialIndex=ep.materialIndex,ht.push(At))}}else{const cs=Math.max(0,ls.start),wl=Math.min(Gr.count,ls.start+ls.count);for(let ep=cs,Al=wl;ep<Al;ep+=3){const np=ep,cp=ep+1,Cp=ep+2;At=checkGeometryIntersection(this,Zt,lt,_t,Zr,xn,On,np,cp,Cp),At&&(At.faceIndex=Math.floor(ep/3),ht.push(At))}}}}function checkIntersection(ut,lt,ht,_t,At,qt,Zt,cr){let Gr;if(lt.side===BackSide?Gr=_t.intersectTriangle(Zt,qt,At,!0,cr):Gr=_t.intersectTriangle(At,qt,Zt,lt.side===FrontSide,cr),Gr===null)return null;_intersectionPointWorld.copy(cr),_intersectionPointWorld.applyMatrix4(ut.matrixWorld);const Zr=ht.ray.origin.distanceTo(_intersectionPointWorld);return Zr<ht.near||Zr>ht.far?null:{distance:Zr,point:_intersectionPointWorld.clone(),object:ut}}function checkGeometryIntersection(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr){ut.getVertexPosition(cr,_vA$1),ut.getVertexPosition(Gr,_vB$1),ut.getVertexPosition(Zr,_vC$1);const xn=checkIntersection(ut,lt,ht,_t,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(xn){At&&(_uvA$1.fromBufferAttribute(At,cr),_uvB$1.fromBufferAttribute(At,Gr),_uvC$1.fromBufferAttribute(At,Zr),xn.uv=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),qt&&(_uvA$1.fromBufferAttribute(qt,cr),_uvB$1.fromBufferAttribute(qt,Gr),_uvC$1.fromBufferAttribute(qt,Zr),xn.uv1=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2),xn.uv2=xn.uv1),Zt&&(_normalA.fromBufferAttribute(Zt,cr),_normalB.fromBufferAttribute(Zt,Gr),_normalC.fromBufferAttribute(Zt,Zr),xn.normal=Triangle.getInterpolation(_intersectionPoint,_vA$1,_vB$1,_vC$1,_normalA,_normalB,_normalC,new Vector3),xn.normal.dot(_t.direction)>0&&xn.normal.multiplyScalar(-1));const On={a:cr,b:Gr,c:Zr,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,On.normal),xn.face=On}return xn}class BoxGeometry extends BufferGeometry{constructor(lt=1,ht=1,_t=1,At=1,qt=1,Zt=1){super(),this.type="BoxGeometry",this.parameters={width:lt,height:ht,depth:_t,widthSegments:At,heightSegments:qt,depthSegments:Zt};const cr=this;At=Math.floor(At),qt=Math.floor(qt),Zt=Math.floor(Zt);const Gr=[],Zr=[],xn=[],On=[];let ss=0,ls=0;cs("z","y","x",-1,-1,_t,ht,lt,Zt,qt,0),cs("z","y","x",1,-1,_t,ht,-lt,Zt,qt,1),cs("x","z","y",1,1,lt,_t,ht,At,Zt,2),cs("x","z","y",1,-1,lt,_t,-ht,At,Zt,3),cs("x","y","z",1,-1,lt,ht,_t,At,qt,4),cs("x","y","z",-1,-1,lt,ht,-_t,At,qt,5),this.setIndex(Gr),this.setAttribute("position",new Float32BufferAttribute(Zr,3)),this.setAttribute("normal",new Float32BufferAttribute(xn,3)),this.setAttribute("uv",new Float32BufferAttribute(On,2));function cs(wl,ep,Al,np,cp,Cp,Lp,jp,nm,zm,i1){const d3=Cp/nm,op=Lp/zm,Sn=Cp/2,Fo=Lp/2,as=jp/2,us=nm+1,xl=zm+1;let ip=0,lp=0;const pu=new Vector3;for(let go=0;go<xl;go++){const h0=go*op-Fo;for(let kp=0;kp<us;kp++){const cm=kp*d3-Sn;pu[wl]=cm*np,pu[ep]=h0*cp,pu[Al]=as,Zr.push(pu.x,pu.y,pu.z),pu[wl]=0,pu[ep]=0,pu[Al]=jp>0?1:-1,xn.push(pu.x,pu.y,pu.z),On.push(kp/nm),On.push(1-go/zm),ip+=1}}for(let go=0;go<zm;go++)for(let h0=0;h0<nm;h0++){const kp=ss+h0+us*go,cm=ss+h0+us*(go+1),b3=ss+(h0+1)+us*(go+1),L_=ss+(h0+1)+us*go;Gr.push(kp,cm,L_),Gr.push(cm,b3,L_),lp+=6}cr.addGroup(ls,lp,i1),ls+=lp,ss+=ip}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new BoxGeometry(lt.width,lt.height,lt.depth,lt.widthSegments,lt.heightSegments,lt.depthSegments)}}function cloneUniforms(ut){const lt={};for(const ht in ut){lt[ht]={};for(const _t in ut[ht]){const At=ut[ht][_t];At&&(At.isColor||At.isMatrix3||At.isMatrix4||At.isVector2||At.isVector3||At.isVector4||At.isTexture||At.isQuaternion)?At.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),lt[ht][_t]=null):lt[ht][_t]=At.clone():Array.isArray(At)?lt[ht][_t]=At.slice():lt[ht][_t]=At}}return lt}function mergeUniforms(ut){const lt={};for(let ht=0;ht<ut.length;ht++){const _t=cloneUniforms(ut[ht]);for(const At in _t)lt[At]=_t[At]}return lt}function cloneUniformsGroups(ut){const lt=[];for(let ht=0;ht<ut.length;ht++)lt.push(ut[ht].clone());return lt}function getUnlitUniformColorSpace(ut){return ut.getRenderTarget()===null?ut.outputColorSpace:ColorManagement.workingColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material{constructor(lt){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,lt!==void 0&&this.setValues(lt)}copy(lt){return super.copy(lt),this.fragmentShader=lt.fragmentShader,this.vertexShader=lt.vertexShader,this.uniforms=cloneUniforms(lt.uniforms),this.uniformsGroups=cloneUniformsGroups(lt.uniformsGroups),this.defines=Object.assign({},lt.defines),this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.fog=lt.fog,this.lights=lt.lights,this.clipping=lt.clipping,this.extensions=Object.assign({},lt.extensions),this.glslVersion=lt.glslVersion,this}toJSON(lt){const ht=super.toJSON(lt);ht.glslVersion=this.glslVersion,ht.uniforms={};for(const At in this.uniforms){const Zt=this.uniforms[At].value;Zt&&Zt.isTexture?ht.uniforms[At]={type:"t",value:Zt.toJSON(lt).uuid}:Zt&&Zt.isColor?ht.uniforms[At]={type:"c",value:Zt.getHex()}:Zt&&Zt.isVector2?ht.uniforms[At]={type:"v2",value:Zt.toArray()}:Zt&&Zt.isVector3?ht.uniforms[At]={type:"v3",value:Zt.toArray()}:Zt&&Zt.isVector4?ht.uniforms[At]={type:"v4",value:Zt.toArray()}:Zt&&Zt.isMatrix3?ht.uniforms[At]={type:"m3",value:Zt.toArray()}:Zt&&Zt.isMatrix4?ht.uniforms[At]={type:"m4",value:Zt.toArray()}:ht.uniforms[At]={value:Zt}}Object.keys(this.defines).length>0&&(ht.defines=this.defines),ht.vertexShader=this.vertexShader,ht.fragmentShader=this.fragmentShader,ht.lights=this.lights,ht.clipping=this.clipping;const _t={};for(const At in this.extensions)this.extensions[At]===!0&&(_t[At]=!0);return Object.keys(_t).length>0&&(ht.extensions=_t),ht}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(lt,ht){return super.copy(lt,ht),this.matrixWorldInverse.copy(lt.matrixWorldInverse),this.projectionMatrix.copy(lt.projectionMatrix),this.projectionMatrixInverse.copy(lt.projectionMatrixInverse),this.coordinateSystem=lt.coordinateSystem,this}getWorldDirection(lt){return super.getWorldDirection(lt).negate()}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(lt,ht){super.updateWorldMatrix(lt,ht),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class PerspectiveCamera extends Camera{constructor(lt=50,ht=1,_t=.1,At=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=lt,this.zoom=1,this.near=_t,this.far=At,this.focus=10,this.aspect=ht,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(lt,ht){return super.copy(lt,ht),this.fov=lt.fov,this.zoom=lt.zoom,this.near=lt.near,this.far=lt.far,this.focus=lt.focus,this.aspect=lt.aspect,this.view=lt.view===null?null:Object.assign({},lt.view),this.filmGauge=lt.filmGauge,this.filmOffset=lt.filmOffset,this}setFocalLength(lt){const ht=.5*this.getFilmHeight()/lt;this.fov=RAD2DEG*2*Math.atan(ht),this.updateProjectionMatrix()}getFocalLength(){const lt=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/lt}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(lt,ht,_t,At,qt,Zt){this.aspect=lt/ht,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=ht,this.view.offsetX=_t,this.view.offsetY=At,this.view.width=qt,this.view.height=Zt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=this.near;let ht=lt*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,_t=2*ht,At=this.aspect*_t,qt=-.5*At;const Zt=this.view;if(this.view!==null&&this.view.enabled){const Gr=Zt.fullWidth,Zr=Zt.fullHeight;qt+=Zt.offsetX*At/Gr,ht-=Zt.offsetY*_t/Zr,At*=Zt.width/Gr,_t*=Zt.height/Zr}const cr=this.filmOffset;cr!==0&&(qt+=lt*cr/this.getFilmWidth()),this.projectionMatrix.makePerspective(qt,qt+At,ht,ht-_t,lt,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const ht=super.toJSON(lt);return ht.object.fov=this.fov,ht.object.zoom=this.zoom,ht.object.near=this.near,ht.object.far=this.far,ht.object.focus=this.focus,ht.object.aspect=this.aspect,this.view!==null&&(ht.object.view=Object.assign({},this.view)),ht.object.filmGauge=this.filmGauge,ht.object.filmOffset=this.filmOffset,ht}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(lt,ht,_t){super(),this.type="CubeCamera",this.renderTarget=_t,this.coordinateSystem=null,this.activeMipmapLevel=0;const At=new PerspectiveCamera(fov,aspect,lt,ht);At.layers=this.layers,this.add(At);const qt=new PerspectiveCamera(fov,aspect,lt,ht);qt.layers=this.layers,this.add(qt);const Zt=new PerspectiveCamera(fov,aspect,lt,ht);Zt.layers=this.layers,this.add(Zt);const cr=new PerspectiveCamera(fov,aspect,lt,ht);cr.layers=this.layers,this.add(cr);const Gr=new PerspectiveCamera(fov,aspect,lt,ht);Gr.layers=this.layers,this.add(Gr);const Zr=new PerspectiveCamera(fov,aspect,lt,ht);Zr.layers=this.layers,this.add(Zr)}updateCoordinateSystem(){const lt=this.coordinateSystem,ht=this.children.concat(),[_t,At,qt,Zt,cr,Gr]=ht;for(const Zr of ht)this.remove(Zr);if(lt===WebGLCoordinateSystem)_t.up.set(0,1,0),_t.lookAt(1,0,0),At.up.set(0,1,0),At.lookAt(-1,0,0),qt.up.set(0,0,-1),qt.lookAt(0,1,0),Zt.up.set(0,0,1),Zt.lookAt(0,-1,0),cr.up.set(0,1,0),cr.lookAt(0,0,1),Gr.up.set(0,1,0),Gr.lookAt(0,0,-1);else if(lt===WebGPUCoordinateSystem)_t.up.set(0,-1,0),_t.lookAt(-1,0,0),At.up.set(0,-1,0),At.lookAt(1,0,0),qt.up.set(0,0,1),qt.lookAt(0,1,0),Zt.up.set(0,0,-1),Zt.lookAt(0,-1,0),cr.up.set(0,-1,0),cr.lookAt(0,0,1),Gr.up.set(0,-1,0),Gr.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+lt);for(const Zr of ht)this.add(Zr),Zr.updateMatrixWorld()}update(lt,ht){this.parent===null&&this.updateMatrixWorld();const{renderTarget:_t,activeMipmapLevel:At}=this;this.coordinateSystem!==lt.coordinateSystem&&(this.coordinateSystem=lt.coordinateSystem,this.updateCoordinateSystem());const[qt,Zt,cr,Gr,Zr,xn]=this.children,On=lt.getRenderTarget(),ss=lt.getActiveCubeFace(),ls=lt.getActiveMipmapLevel(),cs=lt.xr.enabled;lt.xr.enabled=!1;const wl=_t.texture.generateMipmaps;_t.texture.generateMipmaps=!1,lt.setRenderTarget(_t,0,At),lt.render(ht,qt),lt.setRenderTarget(_t,1,At),lt.render(ht,Zt),lt.setRenderTarget(_t,2,At),lt.render(ht,cr),lt.setRenderTarget(_t,3,At),lt.render(ht,Gr),lt.setRenderTarget(_t,4,At),lt.render(ht,Zr),_t.texture.generateMipmaps=wl,lt.setRenderTarget(_t,5,At),lt.render(ht,xn),lt.setRenderTarget(On,ss,ls),lt.xr.enabled=cs,_t.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn){lt=lt!==void 0?lt:[],ht=ht!==void 0?ht:CubeReflectionMapping,super(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(lt){this.image=lt}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(lt=1,ht={}){super(lt,lt,ht),this.isWebGLCubeRenderTarget=!0;const _t={width:lt,height:lt,depth:1},At=[_t,_t,_t,_t,_t,_t];ht.encoding!==void 0&&(warnOnce("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),ht.colorSpace=ht.encoding===sRGBEncoding$1?SRGBColorSpace$1:NoColorSpace),this.texture=new CubeTexture(At,ht.mapping,ht.wrapS,ht.wrapT,ht.magFilter,ht.minFilter,ht.format,ht.type,ht.anisotropy,ht.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=ht.generateMipmaps!==void 0?ht.generateMipmaps:!1,this.texture.minFilter=ht.minFilter!==void 0?ht.minFilter:LinearFilter}fromEquirectangularTexture(lt,ht){this.texture.type=ht.type,this.texture.colorSpace=ht.colorSpace,this.texture.generateMipmaps=ht.generateMipmaps,this.texture.minFilter=ht.minFilter,this.texture.magFilter=ht.magFilter;const _t={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},At=new BoxGeometry(5,5,5),qt=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(_t.uniforms),vertexShader:_t.vertexShader,fragmentShader:_t.fragmentShader,side:BackSide,blending:NoBlending});qt.uniforms.tEquirect.value=ht;const Zt=new Mesh(At,qt),cr=ht.minFilter;return ht.minFilter===LinearMipmapLinearFilter&&(ht.minFilter=LinearFilter),new CubeCamera(1,10,this).update(lt,Zt),ht.minFilter=cr,Zt.geometry.dispose(),Zt.material.dispose(),this}clear(lt,ht,_t,At){const qt=lt.getRenderTarget();for(let Zt=0;Zt<6;Zt++)lt.setRenderTarget(this,Zt),lt.clear(ht,_t,At);lt.setRenderTarget(qt)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(lt=new Vector3(1,0,0),ht=0){this.isPlane=!0,this.normal=lt,this.constant=ht}set(lt,ht){return this.normal.copy(lt),this.constant=ht,this}setComponents(lt,ht,_t,At){return this.normal.set(lt,ht,_t),this.constant=At,this}setFromNormalAndCoplanarPoint(lt,ht){return this.normal.copy(lt),this.constant=-ht.dot(this.normal),this}setFromCoplanarPoints(lt,ht,_t){const At=_vector1.subVectors(_t,ht).cross(_vector2.subVectors(lt,ht)).normalize();return this.setFromNormalAndCoplanarPoint(At,lt),this}copy(lt){return this.normal.copy(lt.normal),this.constant=lt.constant,this}normalize(){const lt=1/this.normal.length();return this.normal.multiplyScalar(lt),this.constant*=lt,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(lt){return this.normal.dot(lt)+this.constant}distanceToSphere(lt){return this.distanceToPoint(lt.center)-lt.radius}projectPoint(lt,ht){return ht.copy(lt).addScaledVector(this.normal,-this.distanceToPoint(lt))}intersectLine(lt,ht){const _t=lt.delta(_vector1),At=this.normal.dot(_t);if(At===0)return this.distanceToPoint(lt.start)===0?ht.copy(lt.start):null;const qt=-(lt.start.dot(this.normal)+this.constant)/At;return qt<0||qt>1?null:ht.copy(lt.start).addScaledVector(_t,qt)}intersectsLine(lt){const ht=this.distanceToPoint(lt.start),_t=this.distanceToPoint(lt.end);return ht<0&&_t>0||_t<0&&ht>0}intersectsBox(lt){return lt.intersectsPlane(this)}intersectsSphere(lt){return lt.intersectsPlane(this)}coplanarPoint(lt){return lt.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(lt,ht){const _t=ht||_normalMatrix.getNormalMatrix(lt),At=this.coplanarPoint(_vector1).applyMatrix4(lt),qt=this.normal.applyMatrix3(_t).normalize();return this.constant=-At.dot(qt),this}translate(lt){return this.constant-=lt.dot(this.normal),this}equals(lt){return lt.normal.equals(this.normal)&&lt.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$4=new Sphere,_vector$6=new Vector3;class Frustum{constructor(lt=new Plane,ht=new Plane,_t=new Plane,At=new Plane,qt=new Plane,Zt=new Plane){this.planes=[lt,ht,_t,At,qt,Zt]}set(lt,ht,_t,At,qt,Zt){const cr=this.planes;return cr[0].copy(lt),cr[1].copy(ht),cr[2].copy(_t),cr[3].copy(At),cr[4].copy(qt),cr[5].copy(Zt),this}copy(lt){const ht=this.planes;for(let _t=0;_t<6;_t++)ht[_t].copy(lt.planes[_t]);return this}setFromProjectionMatrix(lt,ht=WebGLCoordinateSystem){const _t=this.planes,At=lt.elements,qt=At[0],Zt=At[1],cr=At[2],Gr=At[3],Zr=At[4],xn=At[5],On=At[6],ss=At[7],ls=At[8],cs=At[9],wl=At[10],ep=At[11],Al=At[12],np=At[13],cp=At[14],Cp=At[15];if(_t[0].setComponents(Gr-qt,ss-Zr,ep-ls,Cp-Al).normalize(),_t[1].setComponents(Gr+qt,ss+Zr,ep+ls,Cp+Al).normalize(),_t[2].setComponents(Gr+Zt,ss+xn,ep+cs,Cp+np).normalize(),_t[3].setComponents(Gr-Zt,ss-xn,ep-cs,Cp-np).normalize(),_t[4].setComponents(Gr-cr,ss-On,ep-wl,Cp-cp).normalize(),ht===WebGLCoordinateSystem)_t[5].setComponents(Gr+cr,ss+On,ep+wl,Cp+cp).normalize();else if(ht===WebGPUCoordinateSystem)_t[5].setComponents(cr,On,wl,cp).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+ht);return this}intersectsObject(lt){if(lt.boundingSphere!==void 0)lt.boundingSphere===null&&lt.computeBoundingSphere(),_sphere$4.copy(lt.boundingSphere).applyMatrix4(lt.matrixWorld);else{const ht=lt.geometry;ht.boundingSphere===null&&ht.computeBoundingSphere(),_sphere$4.copy(ht.boundingSphere).applyMatrix4(lt.matrixWorld)}return this.intersectsSphere(_sphere$4)}intersectsSprite(lt){return _sphere$4.center.set(0,0,0),_sphere$4.radius=.7071067811865476,_sphere$4.applyMatrix4(lt.matrixWorld),this.intersectsSphere(_sphere$4)}intersectsSphere(lt){const ht=this.planes,_t=lt.center,At=-lt.radius;for(let qt=0;qt<6;qt++)if(ht[qt].distanceToPoint(_t)<At)return!1;return!0}intersectsBox(lt){const ht=this.planes;for(let _t=0;_t<6;_t++){const At=ht[_t];if(_vector$6.x=At.normal.x>0?lt.max.x:lt.min.x,_vector$6.y=At.normal.y>0?lt.max.y:lt.min.y,_vector$6.z=At.normal.z>0?lt.max.z:lt.min.z,At.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(lt){const ht=this.planes;for(let _t=0;_t<6;_t++)if(ht[_t].distanceToPoint(lt)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let ut=null,lt=!1,ht=null,_t=null;function At(qt,Zt){ht(qt,Zt),_t=ut.requestAnimationFrame(At)}return{start:function(){lt!==!0&&ht!==null&&(_t=ut.requestAnimationFrame(At),lt=!0)},stop:function(){ut.cancelAnimationFrame(_t),lt=!1},setAnimationLoop:function(qt){ht=qt},setContext:function(qt){ut=qt}}}function WebGLAttributes(ut,lt){const ht=lt.isWebGL2,_t=new WeakMap;function At(Zr,xn){const On=Zr.array,ss=Zr.usage,ls=ut.createBuffer();ut.bindBuffer(xn,ls),ut.bufferData(xn,On,ss),Zr.onUploadCallback();let cs;if(On instanceof Float32Array)cs=ut.FLOAT;else if(On instanceof Uint16Array)if(Zr.isFloat16BufferAttribute)if(ht)cs=ut.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else cs=ut.UNSIGNED_SHORT;else if(On instanceof Int16Array)cs=ut.SHORT;else if(On instanceof Uint32Array)cs=ut.UNSIGNED_INT;else if(On instanceof Int32Array)cs=ut.INT;else if(On instanceof Int8Array)cs=ut.BYTE;else if(On instanceof Uint8Array)cs=ut.UNSIGNED_BYTE;else if(On instanceof Uint8ClampedArray)cs=ut.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+On);return{buffer:ls,type:cs,bytesPerElement:On.BYTES_PER_ELEMENT,version:Zr.version}}function qt(Zr,xn,On){const ss=xn.array,ls=xn.updateRange;ut.bindBuffer(On,Zr),ls.count===-1?ut.bufferSubData(On,0,ss):(ht?ut.bufferSubData(On,ls.offset*ss.BYTES_PER_ELEMENT,ss,ls.offset,ls.count):ut.bufferSubData(On,ls.offset*ss.BYTES_PER_ELEMENT,ss.subarray(ls.offset,ls.offset+ls.count)),ls.count=-1),xn.onUploadCallback()}function Zt(Zr){return Zr.isInterleavedBufferAttribute&&(Zr=Zr.data),_t.get(Zr)}function cr(Zr){Zr.isInterleavedBufferAttribute&&(Zr=Zr.data);const xn=_t.get(Zr);xn&&(ut.deleteBuffer(xn.buffer),_t.delete(Zr))}function Gr(Zr,xn){if(Zr.isGLBufferAttribute){const ss=_t.get(Zr);(!ss||ss.version<Zr.version)&&_t.set(Zr,{buffer:Zr.buffer,type:Zr.type,bytesPerElement:Zr.elementSize,version:Zr.version});return}Zr.isInterleavedBufferAttribute&&(Zr=Zr.data);const On=_t.get(Zr);On===void 0?_t.set(Zr,At(Zr,xn)):On.version<Zr.version&&(qt(On.buffer,Zr,xn),On.version=Zr.version)}return{get:Zt,remove:cr,update:Gr}}class PlaneGeometry extends BufferGeometry{constructor(lt=1,ht=1,_t=1,At=1){super(),this.type="PlaneGeometry",this.parameters={width:lt,height:ht,widthSegments:_t,heightSegments:At};const qt=lt/2,Zt=ht/2,cr=Math.floor(_t),Gr=Math.floor(At),Zr=cr+1,xn=Gr+1,On=lt/cr,ss=ht/Gr,ls=[],cs=[],wl=[],ep=[];for(let Al=0;Al<xn;Al++){const np=Al*ss-Zt;for(let cp=0;cp<Zr;cp++){const Cp=cp*On-qt;cs.push(Cp,-np,0),wl.push(0,0,1),ep.push(cp/cr),ep.push(1-Al/Gr)}}for(let Al=0;Al<Gr;Al++)for(let np=0;np<cr;np++){const cp=np+Zr*Al,Cp=np+Zr*(Al+1),Lp=np+1+Zr*(Al+1),jp=np+1+Zr*Al;ls.push(cp,Cp,jp),ls.push(Cp,Lp,jp)}this.setIndex(ls),this.setAttribute("position",new Float32BufferAttribute(cs,3)),this.setAttribute("normal",new Float32BufferAttribute(wl,3)),this.setAttribute("uv",new Float32BufferAttribute(ep,2))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new PlaneGeometry(lt.width,lt.height,lt.widthSegments,lt.heightSegments)}}var alphahash_fragment=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,alphahash_pars_fragment=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,colorspace_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,normal_fragment_maps=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,opaque_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,uv_pars_fragment=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_pars_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,uv_vertex=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphahash_fragment,alphahash_pars_fragment,alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,colorspace_fragment,colorspace_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,opaque_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Matrix3}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Matrix3}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Matrix3}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Matrix3},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Matrix3},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Matrix3},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Matrix3}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Matrix3}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Matrix3}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Matrix3},alphaMap:{value:null},alphaMapTransform:{value:new Matrix3},alphaTest:{value:0}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Matrix3},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Matrix3},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Matrix3},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Matrix3},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Matrix3},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Matrix3},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Matrix3},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Matrix3},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Matrix3},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Matrix3},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Matrix3},anisotropyVector:{value:new Vector2},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Matrix3}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(ut,lt,ht,_t,At,qt,Zt){const cr=new Color(0);let Gr=qt===!0?0:1,Zr,xn,On=null,ss=0,ls=null;function cs(ep,Al){let np=!1,cp=Al.isScene===!0?Al.background:null;cp&&cp.isTexture&&(cp=(Al.backgroundBlurriness>0?ht:lt).get(cp)),cp===null?wl(cr,Gr):cp&&cp.isColor&&(wl(cp,1),np=!0);const Cp=ut.xr.getEnvironmentBlendMode();Cp==="additive"?_t.buffers.color.setClear(0,0,0,1,Zt):Cp==="alpha-blend"&&_t.buffers.color.setClear(0,0,0,0,Zt),(ut.autoClear||np)&&ut.clear(ut.autoClearColor,ut.autoClearDepth,ut.autoClearStencil),cp&&(cp.isCubeTexture||cp.mapping===CubeUVReflectionMapping)?(xn===void 0&&(xn=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),xn.geometry.deleteAttribute("normal"),xn.geometry.deleteAttribute("uv"),xn.onBeforeRender=function(Lp,jp,nm){this.matrixWorld.copyPosition(nm.matrixWorld)},Object.defineProperty(xn.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),At.update(xn)),xn.material.uniforms.envMap.value=cp,xn.material.uniforms.flipEnvMap.value=cp.isCubeTexture&&cp.isRenderTargetTexture===!1?-1:1,xn.material.uniforms.backgroundBlurriness.value=Al.backgroundBlurriness,xn.material.uniforms.backgroundIntensity.value=Al.backgroundIntensity,xn.material.toneMapped=ColorManagement.getTransfer(cp.colorSpace)!==SRGBTransfer,(On!==cp||ss!==cp.version||ls!==ut.toneMapping)&&(xn.material.needsUpdate=!0,On=cp,ss=cp.version,ls=ut.toneMapping),xn.layers.enableAll(),ep.unshift(xn,xn.geometry,xn.material,0,0,null)):cp&&cp.isTexture&&(Zr===void 0&&(Zr=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),Zr.geometry.deleteAttribute("normal"),Object.defineProperty(Zr.material,"map",{get:function(){return this.uniforms.t2D.value}}),At.update(Zr)),Zr.material.uniforms.t2D.value=cp,Zr.material.uniforms.backgroundIntensity.value=Al.backgroundIntensity,Zr.material.toneMapped=ColorManagement.getTransfer(cp.colorSpace)!==SRGBTransfer,cp.matrixAutoUpdate===!0&&cp.updateMatrix(),Zr.material.uniforms.uvTransform.value.copy(cp.matrix),(On!==cp||ss!==cp.version||ls!==ut.toneMapping)&&(Zr.material.needsUpdate=!0,On=cp,ss=cp.version,ls=ut.toneMapping),Zr.layers.enableAll(),ep.unshift(Zr,Zr.geometry,Zr.material,0,0,null))}function wl(ep,Al){ep.getRGB(_rgb,getUnlitUniformColorSpace(ut)),_t.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,Al,Zt)}return{getClearColor:function(){return cr},setClearColor:function(ep,Al=1){cr.set(ep),Gr=Al,wl(cr,Gr)},getClearAlpha:function(){return Gr},setClearAlpha:function(ep){Gr=ep,wl(cr,Gr)},render:cs}}function WebGLBindingStates(ut,lt,ht,_t){const At=ut.getParameter(ut.MAX_VERTEX_ATTRIBS),qt=_t.isWebGL2?null:lt.get("OES_vertex_array_object"),Zt=_t.isWebGL2||qt!==null,cr={},Gr=ep(null);let Zr=Gr,xn=!1;function On(as,us,xl,ip,lp){let pu=!1;if(Zt){const go=wl(ip,xl,us);Zr!==go&&(Zr=go,ls(Zr.object)),pu=Al(as,ip,xl,lp),pu&&np(as,ip,xl,lp)}else{const go=us.wireframe===!0;(Zr.geometry!==ip.id||Zr.program!==xl.id||Zr.wireframe!==go)&&(Zr.geometry=ip.id,Zr.program=xl.id,Zr.wireframe=go,pu=!0)}lp!==null&&ht.update(lp,ut.ELEMENT_ARRAY_BUFFER),(pu||xn)&&(xn=!1,zm(as,us,xl,ip),lp!==null&&ut.bindBuffer(ut.ELEMENT_ARRAY_BUFFER,ht.get(lp).buffer))}function ss(){return _t.isWebGL2?ut.createVertexArray():qt.createVertexArrayOES()}function ls(as){return _t.isWebGL2?ut.bindVertexArray(as):qt.bindVertexArrayOES(as)}function cs(as){return _t.isWebGL2?ut.deleteVertexArray(as):qt.deleteVertexArrayOES(as)}function wl(as,us,xl){const ip=xl.wireframe===!0;let lp=cr[as.id];lp===void 0&&(lp={},cr[as.id]=lp);let pu=lp[us.id];pu===void 0&&(pu={},lp[us.id]=pu);let go=pu[ip];return go===void 0&&(go=ep(ss()),pu[ip]=go),go}function ep(as){const us=[],xl=[],ip=[];for(let lp=0;lp<At;lp++)us[lp]=0,xl[lp]=0,ip[lp]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:us,enabledAttributes:xl,attributeDivisors:ip,object:as,attributes:{},index:null}}function Al(as,us,xl,ip){const lp=Zr.attributes,pu=us.attributes;let go=0;const h0=xl.getAttributes();for(const kp in h0)if(h0[kp].location>=0){const b3=lp[kp];let L_=pu[kp];if(L_===void 0&&(kp==="instanceMatrix"&&as.instanceMatrix&&(L_=as.instanceMatrix),kp==="instanceColor"&&as.instanceColor&&(L_=as.instanceColor)),b3===void 0||b3.attribute!==L_||L_&&b3.data!==L_.data)return!0;go++}return Zr.attributesNum!==go||Zr.index!==ip}function np(as,us,xl,ip){const lp={},pu=us.attributes;let go=0;const h0=xl.getAttributes();for(const kp in h0)if(h0[kp].location>=0){let b3=pu[kp];b3===void 0&&(kp==="instanceMatrix"&&as.instanceMatrix&&(b3=as.instanceMatrix),kp==="instanceColor"&&as.instanceColor&&(b3=as.instanceColor));const L_={};L_.attribute=b3,b3&&b3.data&&(L_.data=b3.data),lp[kp]=L_,go++}Zr.attributes=lp,Zr.attributesNum=go,Zr.index=ip}function cp(){const as=Zr.newAttributes;for(let us=0,xl=as.length;us<xl;us++)as[us]=0}function Cp(as){Lp(as,0)}function Lp(as,us){const xl=Zr.newAttributes,ip=Zr.enabledAttributes,lp=Zr.attributeDivisors;xl[as]=1,ip[as]===0&&(ut.enableVertexAttribArray(as),ip[as]=1),lp[as]!==us&&((_t.isWebGL2?ut:lt.get("ANGLE_instanced_arrays"))[_t.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](as,us),lp[as]=us)}function jp(){const as=Zr.newAttributes,us=Zr.enabledAttributes;for(let xl=0,ip=us.length;xl<ip;xl++)us[xl]!==as[xl]&&(ut.disableVertexAttribArray(xl),us[xl]=0)}function nm(as,us,xl,ip,lp,pu,go){go===!0?ut.vertexAttribIPointer(as,us,xl,lp,pu):ut.vertexAttribPointer(as,us,xl,ip,lp,pu)}function zm(as,us,xl,ip){if(_t.isWebGL2===!1&&(as.isInstancedMesh||ip.isInstancedBufferGeometry)&&lt.get("ANGLE_instanced_arrays")===null)return;cp();const lp=ip.attributes,pu=xl.getAttributes(),go=us.defaultAttributeValues;for(const h0 in pu){const kp=pu[h0];if(kp.location>=0){let cm=lp[h0];if(cm===void 0&&(h0==="instanceMatrix"&&as.instanceMatrix&&(cm=as.instanceMatrix),h0==="instanceColor"&&as.instanceColor&&(cm=as.instanceColor)),cm!==void 0){const b3=cm.normalized,L_=cm.itemSize,Ym=ht.get(cm);if(Ym===void 0)continue;const Xm=Ym.buffer,Jm=Ym.type,$_=Ym.bytesPerElement,j_=_t.isWebGL2===!0&&(Jm===ut.INT||Jm===ut.UNSIGNED_INT||cm.gpuType===IntType);if(cm.isInterleavedBufferAttribute){const h3=cm.data,Fp=h3.stride,W_=cm.offset;if(h3.isInstancedInterleavedBuffer){for(let t4=0;t4<kp.locationSize;t4++)Lp(kp.location+t4,h3.meshPerAttribute);as.isInstancedMesh!==!0&&ip._maxInstanceCount===void 0&&(ip._maxInstanceCount=h3.meshPerAttribute*h3.count)}else for(let t4=0;t4<kp.locationSize;t4++)Cp(kp.location+t4);ut.bindBuffer(ut.ARRAY_BUFFER,Xm);for(let t4=0;t4<kp.locationSize;t4++)nm(kp.location+t4,L_/kp.locationSize,Jm,b3,Fp*$_,(W_+L_/kp.locationSize*t4)*$_,j_)}else{if(cm.isInstancedBufferAttribute){for(let h3=0;h3<kp.locationSize;h3++)Lp(kp.location+h3,cm.meshPerAttribute);as.isInstancedMesh!==!0&&ip._maxInstanceCount===void 0&&(ip._maxInstanceCount=cm.meshPerAttribute*cm.count)}else for(let h3=0;h3<kp.locationSize;h3++)Cp(kp.location+h3);ut.bindBuffer(ut.ARRAY_BUFFER,Xm);for(let h3=0;h3<kp.locationSize;h3++)nm(kp.location+h3,L_/kp.locationSize,Jm,b3,L_*$_,L_/kp.locationSize*h3*$_,j_)}}else if(go!==void 0){const b3=go[h0];if(b3!==void 0)switch(b3.length){case 2:ut.vertexAttrib2fv(kp.location,b3);break;case 3:ut.vertexAttrib3fv(kp.location,b3);break;case 4:ut.vertexAttrib4fv(kp.location,b3);break;default:ut.vertexAttrib1fv(kp.location,b3)}}}}jp()}function i1(){Sn();for(const as in cr){const us=cr[as];for(const xl in us){const ip=us[xl];for(const lp in ip)cs(ip[lp].object),delete ip[lp];delete us[xl]}delete cr[as]}}function d3(as){if(cr[as.id]===void 0)return;const us=cr[as.id];for(const xl in us){const ip=us[xl];for(const lp in ip)cs(ip[lp].object),delete ip[lp];delete us[xl]}delete cr[as.id]}function op(as){for(const us in cr){const xl=cr[us];if(xl[as.id]===void 0)continue;const ip=xl[as.id];for(const lp in ip)cs(ip[lp].object),delete ip[lp];delete xl[as.id]}}function Sn(){Fo(),xn=!0,Zr!==Gr&&(Zr=Gr,ls(Zr.object))}function Fo(){Gr.geometry=null,Gr.program=null,Gr.wireframe=!1}return{setup:On,reset:Sn,resetDefaultState:Fo,dispose:i1,releaseStatesOfGeometry:d3,releaseStatesOfProgram:op,initAttributes:cp,enableAttribute:Cp,disableUnusedAttributes:jp}}function WebGLBufferRenderer(ut,lt,ht,_t){const At=_t.isWebGL2;let qt;function Zt(Zr){qt=Zr}function cr(Zr,xn){ut.drawArrays(qt,Zr,xn),ht.update(xn,qt,1)}function Gr(Zr,xn,On){if(On===0)return;let ss,ls;if(At)ss=ut,ls="drawArraysInstanced";else if(ss=lt.get("ANGLE_instanced_arrays"),ls="drawArraysInstancedANGLE",ss===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ss[ls](qt,Zr,xn,On),ht.update(xn,qt,On)}this.setMode=Zt,this.render=cr,this.renderInstances=Gr}function WebGLCapabilities(ut,lt,ht){let _t;function At(){if(_t!==void 0)return _t;if(lt.has("EXT_texture_filter_anisotropic")===!0){const nm=lt.get("EXT_texture_filter_anisotropic");_t=ut.getParameter(nm.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else _t=0;return _t}function qt(nm){if(nm==="highp"){if(ut.getShaderPrecisionFormat(ut.VERTEX_SHADER,ut.HIGH_FLOAT).precision>0&&ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.HIGH_FLOAT).precision>0)return"highp";nm="mediump"}return nm==="mediump"&&ut.getShaderPrecisionFormat(ut.VERTEX_SHADER,ut.MEDIUM_FLOAT).precision>0&&ut.getShaderPrecisionFormat(ut.FRAGMENT_SHADER,ut.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const Zt=typeof WebGL2RenderingContext<"u"&&ut.constructor.name==="WebGL2RenderingContext";let cr=ht.precision!==void 0?ht.precision:"highp";const Gr=qt(cr);Gr!==cr&&(console.warn("THREE.WebGLRenderer:",cr,"not supported, using",Gr,"instead."),cr=Gr);const Zr=Zt||lt.has("WEBGL_draw_buffers"),xn=ht.logarithmicDepthBuffer===!0,On=ut.getParameter(ut.MAX_TEXTURE_IMAGE_UNITS),ss=ut.getParameter(ut.MAX_VERTEX_TEXTURE_IMAGE_UNITS),ls=ut.getParameter(ut.MAX_TEXTURE_SIZE),cs=ut.getParameter(ut.MAX_CUBE_MAP_TEXTURE_SIZE),wl=ut.getParameter(ut.MAX_VERTEX_ATTRIBS),ep=ut.getParameter(ut.MAX_VERTEX_UNIFORM_VECTORS),Al=ut.getParameter(ut.MAX_VARYING_VECTORS),np=ut.getParameter(ut.MAX_FRAGMENT_UNIFORM_VECTORS),cp=ss>0,Cp=Zt||lt.has("OES_texture_float"),Lp=cp&&Cp,jp=Zt?ut.getParameter(ut.MAX_SAMPLES):0;return{isWebGL2:Zt,drawBuffers:Zr,getMaxAnisotropy:At,getMaxPrecision:qt,precision:cr,logarithmicDepthBuffer:xn,maxTextures:On,maxVertexTextures:ss,maxTextureSize:ls,maxCubemapSize:cs,maxAttributes:wl,maxVertexUniforms:ep,maxVaryings:Al,maxFragmentUniforms:np,vertexTextures:cp,floatFragmentTextures:Cp,floatVertexTextures:Lp,maxSamples:jp}}function WebGLClipping(ut){const lt=this;let ht=null,_t=0,At=!1,qt=!1;const Zt=new Plane,cr=new Matrix3,Gr={value:null,needsUpdate:!1};this.uniform=Gr,this.numPlanes=0,this.numIntersection=0,this.init=function(On,ss){const ls=On.length!==0||ss||_t!==0||At;return At=ss,_t=On.length,ls},this.beginShadows=function(){qt=!0,xn(null)},this.endShadows=function(){qt=!1},this.setGlobalState=function(On,ss){ht=xn(On,ss,0)},this.setState=function(On,ss,ls){const cs=On.clippingPlanes,wl=On.clipIntersection,ep=On.clipShadows,Al=ut.get(On);if(!At||cs===null||cs.length===0||qt&&!ep)qt?xn(null):Zr();else{const np=qt?0:_t,cp=np*4;let Cp=Al.clippingState||null;Gr.value=Cp,Cp=xn(cs,ss,cp,ls);for(let Lp=0;Lp!==cp;++Lp)Cp[Lp]=ht[Lp];Al.clippingState=Cp,this.numIntersection=wl?this.numPlanes:0,this.numPlanes+=np}};function Zr(){Gr.value!==ht&&(Gr.value=ht,Gr.needsUpdate=_t>0),lt.numPlanes=_t,lt.numIntersection=0}function xn(On,ss,ls,cs){const wl=On!==null?On.length:0;let ep=null;if(wl!==0){if(ep=Gr.value,cs!==!0||ep===null){const Al=ls+wl*4,np=ss.matrixWorldInverse;cr.getNormalMatrix(np),(ep===null||ep.length<Al)&&(ep=new Float32Array(Al));for(let cp=0,Cp=ls;cp!==wl;++cp,Cp+=4)Zt.copy(On[cp]).applyMatrix4(np,cr),Zt.normal.toArray(ep,Cp),ep[Cp+3]=Zt.constant}Gr.value=ep,Gr.needsUpdate=!0}return lt.numPlanes=wl,lt.numIntersection=0,ep}}function WebGLCubeMaps(ut){let lt=new WeakMap;function ht(Zt,cr){return cr===EquirectangularReflectionMapping?Zt.mapping=CubeReflectionMapping:cr===EquirectangularRefractionMapping&&(Zt.mapping=CubeRefractionMapping),Zt}function _t(Zt){if(Zt&&Zt.isTexture&&Zt.isRenderTargetTexture===!1){const cr=Zt.mapping;if(cr===EquirectangularReflectionMapping||cr===EquirectangularRefractionMapping)if(lt.has(Zt)){const Gr=lt.get(Zt).texture;return ht(Gr,Zt.mapping)}else{const Gr=Zt.image;if(Gr&&Gr.height>0){const Zr=new WebGLCubeRenderTarget(Gr.height/2);return Zr.fromEquirectangularTexture(ut,Zt),lt.set(Zt,Zr),Zt.addEventListener("dispose",At),ht(Zr.texture,Zt.mapping)}else return null}}return Zt}function At(Zt){const cr=Zt.target;cr.removeEventListener("dispose",At);const Gr=lt.get(cr);Gr!==void 0&&(lt.delete(cr),Gr.dispose())}function qt(){lt=new WeakMap}return{get:_t,dispose:qt}}class OrthographicCamera extends Camera{constructor(lt=-1,ht=1,_t=1,At=-1,qt=.1,Zt=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=lt,this.right=ht,this.top=_t,this.bottom=At,this.near=qt,this.far=Zt,this.updateProjectionMatrix()}copy(lt,ht){return super.copy(lt,ht),this.left=lt.left,this.right=lt.right,this.top=lt.top,this.bottom=lt.bottom,this.near=lt.near,this.far=lt.far,this.zoom=lt.zoom,this.view=lt.view===null?null:Object.assign({},lt.view),this}setViewOffset(lt,ht,_t,At,qt,Zt){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=lt,this.view.fullHeight=ht,this.view.offsetX=_t,this.view.offsetY=At,this.view.width=qt,this.view.height=Zt,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const lt=(this.right-this.left)/(2*this.zoom),ht=(this.top-this.bottom)/(2*this.zoom),_t=(this.right+this.left)/2,At=(this.top+this.bottom)/2;let qt=_t-lt,Zt=_t+lt,cr=At+ht,Gr=At-ht;if(this.view!==null&&this.view.enabled){const Zr=(this.right-this.left)/this.view.fullWidth/this.zoom,xn=(this.top-this.bottom)/this.view.fullHeight/this.zoom;qt+=Zr*this.view.offsetX,Zt=qt+Zr*this.view.width,cr-=xn*this.view.offsetY,Gr=cr-xn*this.view.height}this.projectionMatrix.makeOrthographic(qt,Zt,cr,Gr,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(lt){const ht=super.toJSON(lt);return ht.object.zoom=this.zoom,ht.object.left=this.left,ht.object.right=this.right,ht.object.top=this.top,ht.object.bottom=this.bottom,ht.object.near=this.near,ht.object.far=this.far,this.view!==null&&(ht.object.view=Object.assign({},this.view)),ht}}const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(lt){this._renderer=lt,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(lt,ht=0,_t=.1,At=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const qt=this._allocateTargets();return qt.depthBuffer=!0,this._sceneToCubeUV(lt,_t,At,qt),ht>0&&this._blur(qt,0,0,ht),this._applyPMREM(qt),this._cleanup(qt),qt}fromEquirectangular(lt,ht=null){return this._fromTexture(lt,ht)}fromCubemap(lt,ht=null){return this._fromTexture(lt,ht)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(lt){this._lodMax=Math.floor(Math.log2(lt)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let lt=0;lt<this._lodPlanes.length;lt++)this._lodPlanes[lt].dispose()}_cleanup(lt){this._renderer.setRenderTarget(_oldTarget),lt.scissorTest=!1,_setViewport(lt,0,0,lt.width,lt.height)}_fromTexture(lt,ht){lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping?this._setSize(lt.image.length===0?16:lt.image[0].width||lt.image[0].image.width):this._setSize(lt.image.width/4),_oldTarget=this._renderer.getRenderTarget();const _t=ht||this._allocateTargets();return this._textureToCubeUV(lt,_t),this._applyPMREM(_t),this._cleanup(_t),_t}_allocateTargets(){const lt=3*Math.max(this._cubeSize,112),ht=4*this._cubeSize,_t={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace$1,depthBuffer:!1},At=_createRenderTarget(lt,ht,_t);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==lt||this._pingPongRenderTarget.height!==ht){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(lt,ht,_t);const{_lodMax:qt}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(qt)),this._blurMaterial=_getBlurShader(qt,lt,ht)}return At}_compileMaterial(lt){const ht=new Mesh(this._lodPlanes[0],lt);this._renderer.compile(ht,_flatCamera)}_sceneToCubeUV(lt,ht,_t,At){const cr=new PerspectiveCamera(90,1,ht,_t),Gr=[1,-1,1,1,1,1],Zr=[1,1,1,-1,-1,-1],xn=this._renderer,On=xn.autoClear,ss=xn.toneMapping;xn.getClearColor(_clearColor),xn.toneMapping=NoToneMapping,xn.autoClear=!1;const ls=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),cs=new Mesh(new BoxGeometry,ls);let wl=!1;const ep=lt.background;ep?ep.isColor&&(ls.color.copy(ep),lt.background=null,wl=!0):(ls.color.copy(_clearColor),wl=!0);for(let Al=0;Al<6;Al++){const np=Al%3;np===0?(cr.up.set(0,Gr[Al],0),cr.lookAt(Zr[Al],0,0)):np===1?(cr.up.set(0,0,Gr[Al]),cr.lookAt(0,Zr[Al],0)):(cr.up.set(0,Gr[Al],0),cr.lookAt(0,0,Zr[Al]));const cp=this._cubeSize;_setViewport(At,np*cp,Al>2?cp:0,cp,cp),xn.setRenderTarget(At),wl&&xn.render(cs,cr),xn.render(lt,cr)}cs.geometry.dispose(),cs.material.dispose(),xn.toneMapping=ss,xn.autoClear=On,lt.background=ep}_textureToCubeUV(lt,ht){const _t=this._renderer,At=lt.mapping===CubeReflectionMapping||lt.mapping===CubeRefractionMapping;At?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=lt.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const qt=At?this._cubemapMaterial:this._equirectMaterial,Zt=new Mesh(this._lodPlanes[0],qt),cr=qt.uniforms;cr.envMap.value=lt;const Gr=this._cubeSize;_setViewport(ht,0,0,3*Gr,2*Gr),_t.setRenderTarget(ht),_t.render(Zt,_flatCamera)}_applyPMREM(lt){const ht=this._renderer,_t=ht.autoClear;ht.autoClear=!1;for(let At=1;At<this._lodPlanes.length;At++){const qt=Math.sqrt(this._sigmas[At]*this._sigmas[At]-this._sigmas[At-1]*this._sigmas[At-1]),Zt=_axisDirections[(At-1)%_axisDirections.length];this._blur(lt,At-1,At,qt,Zt)}ht.autoClear=_t}_blur(lt,ht,_t,At,qt){const Zt=this._pingPongRenderTarget;this._halfBlur(lt,Zt,ht,_t,At,"latitudinal",qt),this._halfBlur(Zt,lt,_t,_t,At,"longitudinal",qt)}_halfBlur(lt,ht,_t,At,qt,Zt,cr){const Gr=this._renderer,Zr=this._blurMaterial;Zt!=="latitudinal"&&Zt!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const xn=3,On=new Mesh(this._lodPlanes[At],Zr),ss=Zr.uniforms,ls=this._sizeLods[_t]-1,cs=isFinite(qt)?Math.PI/(2*ls):2*Math.PI/(2*MAX_SAMPLES-1),wl=qt/cs,ep=isFinite(qt)?1+Math.floor(xn*wl):MAX_SAMPLES;ep>MAX_SAMPLES&&console.warn(`sigmaRadians, ${qt}, is too large and will clip, as it requested ${ep} samples when the maximum is set to ${MAX_SAMPLES}`);const Al=[];let np=0;for(let nm=0;nm<MAX_SAMPLES;++nm){const zm=nm/wl,i1=Math.exp(-zm*zm/2);Al.push(i1),nm===0?np+=i1:nm<ep&&(np+=2*i1)}for(let nm=0;nm<Al.length;nm++)Al[nm]=Al[nm]/np;ss.envMap.value=lt.texture,ss.samples.value=ep,ss.weights.value=Al,ss.latitudinal.value=Zt==="latitudinal",cr&&(ss.poleAxis.value=cr);const{_lodMax:cp}=this;ss.dTheta.value=cs,ss.mipInt.value=cp-_t;const Cp=this._sizeLods[At],Lp=3*Cp*(At>cp-LOD_MIN?At-cp+LOD_MIN:0),jp=4*(this._cubeSize-Cp);_setViewport(ht,Lp,jp,3*Cp,2*Cp),Gr.setRenderTarget(ht),Gr.render(On,_flatCamera)}}function _createPlanes(ut){const lt=[],ht=[],_t=[];let At=ut;const qt=ut-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let Zt=0;Zt<qt;Zt++){const cr=Math.pow(2,At);ht.push(cr);let Gr=1/cr;Zt>ut-LOD_MIN?Gr=EXTRA_LOD_SIGMA[Zt-ut+LOD_MIN-1]:Zt===0&&(Gr=0),_t.push(Gr);const Zr=1/(cr-2),xn=-Zr,On=1+Zr,ss=[xn,xn,On,xn,On,On,xn,xn,On,On,xn,On],ls=6,cs=6,wl=3,ep=2,Al=1,np=new Float32Array(wl*cs*ls),cp=new Float32Array(ep*cs*ls),Cp=new Float32Array(Al*cs*ls);for(let jp=0;jp<ls;jp++){const nm=jp%3*2/3-1,zm=jp>2?0:-1,i1=[nm,zm,0,nm+2/3,zm,0,nm+2/3,zm+1,0,nm,zm,0,nm+2/3,zm+1,0,nm,zm+1,0];np.set(i1,wl*cs*jp),cp.set(ss,ep*cs*jp);const d3=[jp,jp,jp,jp,jp,jp];Cp.set(d3,Al*cs*jp)}const Lp=new BufferGeometry;Lp.setAttribute("position",new BufferAttribute(np,wl)),Lp.setAttribute("uv",new BufferAttribute(cp,ep)),Lp.setAttribute("faceIndex",new BufferAttribute(Cp,Al)),lt.push(Lp),At>LOD_MIN&&At--}return{lodPlanes:lt,sizeLods:ht,sigmas:_t}}function _createRenderTarget(ut,lt,ht){const _t=new WebGLRenderTarget(ut,lt,ht);return _t.texture.mapping=CubeUVReflectionMapping,_t.texture.name="PMREM.cubeUv",_t.scissorTest=!0,_t}function _setViewport(ut,lt,ht,_t,At){ut.viewport.set(lt,ht,_t,At),ut.scissor.set(lt,ht,_t,At)}function _getBlurShader(ut,lt,ht){const _t=new Float32Array(MAX_SAMPLES),At=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/lt,CUBEUV_TEXEL_HEIGHT:1/ht,CUBEUV_MAX_MIP:`${ut}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:_t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:At}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(ut){let lt=new WeakMap,ht=null;function _t(cr){if(cr&&cr.isTexture){const Gr=cr.mapping,Zr=Gr===EquirectangularReflectionMapping||Gr===EquirectangularRefractionMapping,xn=Gr===CubeReflectionMapping||Gr===CubeRefractionMapping;if(Zr||xn)if(cr.isRenderTargetTexture&&cr.needsPMREMUpdate===!0){cr.needsPMREMUpdate=!1;let On=lt.get(cr);return ht===null&&(ht=new PMREMGenerator(ut)),On=Zr?ht.fromEquirectangular(cr,On):ht.fromCubemap(cr,On),lt.set(cr,On),On.texture}else{if(lt.has(cr))return lt.get(cr).texture;{const On=cr.image;if(Zr&&On&&On.height>0||xn&&On&&At(On)){ht===null&&(ht=new PMREMGenerator(ut));const ss=Zr?ht.fromEquirectangular(cr):ht.fromCubemap(cr);return lt.set(cr,ss),cr.addEventListener("dispose",qt),ss.texture}else return null}}}return cr}function At(cr){let Gr=0;const Zr=6;for(let xn=0;xn<Zr;xn++)cr[xn]!==void 0&&Gr++;return Gr===Zr}function qt(cr){const Gr=cr.target;Gr.removeEventListener("dispose",qt);const Zr=lt.get(Gr);Zr!==void 0&&(lt.delete(Gr),Zr.dispose())}function Zt(){lt=new WeakMap,ht!==null&&(ht.dispose(),ht=null)}return{get:_t,dispose:Zt}}function WebGLExtensions(ut){const lt={};function ht(_t){if(lt[_t]!==void 0)return lt[_t];let At;switch(_t){case"WEBGL_depth_texture":At=ut.getExtension("WEBGL_depth_texture")||ut.getExtension("MOZ_WEBGL_depth_texture")||ut.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":At=ut.getExtension("EXT_texture_filter_anisotropic")||ut.getExtension("MOZ_EXT_texture_filter_anisotropic")||ut.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":At=ut.getExtension("WEBGL_compressed_texture_s3tc")||ut.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||ut.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":At=ut.getExtension("WEBGL_compressed_texture_pvrtc")||ut.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:At=ut.getExtension(_t)}return lt[_t]=At,At}return{has:function(_t){return ht(_t)!==null},init:function(_t){_t.isWebGL2?ht("EXT_color_buffer_float"):(ht("WEBGL_depth_texture"),ht("OES_texture_float"),ht("OES_texture_half_float"),ht("OES_texture_half_float_linear"),ht("OES_standard_derivatives"),ht("OES_element_index_uint"),ht("OES_vertex_array_object"),ht("ANGLE_instanced_arrays")),ht("OES_texture_float_linear"),ht("EXT_color_buffer_half_float"),ht("WEBGL_multisampled_render_to_texture")},get:function(_t){const At=ht(_t);return At===null&&console.warn("THREE.WebGLRenderer: "+_t+" extension not supported."),At}}}function WebGLGeometries(ut,lt,ht,_t){const At={},qt=new WeakMap;function Zt(On){const ss=On.target;ss.index!==null&&lt.remove(ss.index);for(const cs in ss.attributes)lt.remove(ss.attributes[cs]);for(const cs in ss.morphAttributes){const wl=ss.morphAttributes[cs];for(let ep=0,Al=wl.length;ep<Al;ep++)lt.remove(wl[ep])}ss.removeEventListener("dispose",Zt),delete At[ss.id];const ls=qt.get(ss);ls&&(lt.remove(ls),qt.delete(ss)),_t.releaseStatesOfGeometry(ss),ss.isInstancedBufferGeometry===!0&&delete ss._maxInstanceCount,ht.memory.geometries--}function cr(On,ss){return At[ss.id]===!0||(ss.addEventListener("dispose",Zt),At[ss.id]=!0,ht.memory.geometries++),ss}function Gr(On){const ss=On.attributes;for(const cs in ss)lt.update(ss[cs],ut.ARRAY_BUFFER);const ls=On.morphAttributes;for(const cs in ls){const wl=ls[cs];for(let ep=0,Al=wl.length;ep<Al;ep++)lt.update(wl[ep],ut.ARRAY_BUFFER)}}function Zr(On){const ss=[],ls=On.index,cs=On.attributes.position;let wl=0;if(ls!==null){const np=ls.array;wl=ls.version;for(let cp=0,Cp=np.length;cp<Cp;cp+=3){const Lp=np[cp+0],jp=np[cp+1],nm=np[cp+2];ss.push(Lp,jp,jp,nm,nm,Lp)}}else if(cs!==void 0){const np=cs.array;wl=cs.version;for(let cp=0,Cp=np.length/3-1;cp<Cp;cp+=3){const Lp=cp+0,jp=cp+1,nm=cp+2;ss.push(Lp,jp,jp,nm,nm,Lp)}}else return;const ep=new(arrayNeedsUint32(ss)?Uint32BufferAttribute:Uint16BufferAttribute)(ss,1);ep.version=wl;const Al=qt.get(On);Al&&lt.remove(Al),qt.set(On,ep)}function xn(On){const ss=qt.get(On);if(ss){const ls=On.index;ls!==null&&ss.version<ls.version&&Zr(On)}else Zr(On);return qt.get(On)}return{get:cr,update:Gr,getWireframeAttribute:xn}}function WebGLIndexedBufferRenderer(ut,lt,ht,_t){const At=_t.isWebGL2;let qt;function Zt(ss){qt=ss}let cr,Gr;function Zr(ss){cr=ss.type,Gr=ss.bytesPerElement}function xn(ss,ls){ut.drawElements(qt,ls,cr,ss*Gr),ht.update(ls,qt,1)}function On(ss,ls,cs){if(cs===0)return;let wl,ep;if(At)wl=ut,ep="drawElementsInstanced";else if(wl=lt.get("ANGLE_instanced_arrays"),ep="drawElementsInstancedANGLE",wl===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}wl[ep](qt,ls,cr,ss*Gr,cs),ht.update(ls,qt,cs)}this.setMode=Zt,this.setIndex=Zr,this.render=xn,this.renderInstances=On}function WebGLInfo(ut){const lt={geometries:0,textures:0},ht={frame:0,calls:0,triangles:0,points:0,lines:0};function _t(qt,Zt,cr){switch(ht.calls++,Zt){case ut.TRIANGLES:ht.triangles+=cr*(qt/3);break;case ut.LINES:ht.lines+=cr*(qt/2);break;case ut.LINE_STRIP:ht.lines+=cr*(qt-1);break;case ut.LINE_LOOP:ht.lines+=cr*qt;break;case ut.POINTS:ht.points+=cr*qt;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",Zt);break}}function At(){ht.calls=0,ht.triangles=0,ht.points=0,ht.lines=0}return{memory:lt,render:ht,programs:null,autoReset:!0,reset:At,update:_t}}function numericalSort(ut,lt){return ut[0]-lt[0]}function absNumericalSort(ut,lt){return Math.abs(lt[1])-Math.abs(ut[1])}function WebGLMorphtargets(ut,lt,ht){const _t={},At=new Float32Array(8),qt=new WeakMap,Zt=new Vector4,cr=[];for(let Zr=0;Zr<8;Zr++)cr[Zr]=[Zr,0];function Gr(Zr,xn,On){const ss=Zr.morphTargetInfluences;if(lt.isWebGL2===!0){const ls=xn.morphAttributes.position||xn.morphAttributes.normal||xn.morphAttributes.color,cs=ls!==void 0?ls.length:0;let wl=qt.get(xn);if(wl===void 0||wl.count!==cs){let as=function(){Sn.dispose(),qt.delete(xn),xn.removeEventListener("dispose",as)};wl!==void 0&&wl.texture.dispose();const np=xn.morphAttributes.position!==void 0,cp=xn.morphAttributes.normal!==void 0,Cp=xn.morphAttributes.color!==void 0,Lp=xn.morphAttributes.position||[],jp=xn.morphAttributes.normal||[],nm=xn.morphAttributes.color||[];let zm=0;np===!0&&(zm=1),cp===!0&&(zm=2),Cp===!0&&(zm=3);let i1=xn.attributes.position.count*zm,d3=1;i1>lt.maxTextureSize&&(d3=Math.ceil(i1/lt.maxTextureSize),i1=lt.maxTextureSize);const op=new Float32Array(i1*d3*4*cs),Sn=new DataArrayTexture(op,i1,d3,cs);Sn.type=FloatType,Sn.needsUpdate=!0;const Fo=zm*4;for(let us=0;us<cs;us++){const xl=Lp[us],ip=jp[us],lp=nm[us],pu=i1*d3*4*us;for(let go=0;go<xl.count;go++){const h0=go*Fo;np===!0&&(Zt.fromBufferAttribute(xl,go),op[pu+h0+0]=Zt.x,op[pu+h0+1]=Zt.y,op[pu+h0+2]=Zt.z,op[pu+h0+3]=0),cp===!0&&(Zt.fromBufferAttribute(ip,go),op[pu+h0+4]=Zt.x,op[pu+h0+5]=Zt.y,op[pu+h0+6]=Zt.z,op[pu+h0+7]=0),Cp===!0&&(Zt.fromBufferAttribute(lp,go),op[pu+h0+8]=Zt.x,op[pu+h0+9]=Zt.y,op[pu+h0+10]=Zt.z,op[pu+h0+11]=lp.itemSize===4?Zt.w:1)}}wl={count:cs,texture:Sn,size:new Vector2(i1,d3)},qt.set(xn,wl),xn.addEventListener("dispose",as)}let ep=0;for(let np=0;np<ss.length;np++)ep+=ss[np];const Al=xn.morphTargetsRelative?1:1-ep;On.getUniforms().setValue(ut,"morphTargetBaseInfluence",Al),On.getUniforms().setValue(ut,"morphTargetInfluences",ss),On.getUniforms().setValue(ut,"morphTargetsTexture",wl.texture,ht),On.getUniforms().setValue(ut,"morphTargetsTextureSize",wl.size)}else{const ls=ss===void 0?0:ss.length;let cs=_t[xn.id];if(cs===void 0||cs.length!==ls){cs=[];for(let cp=0;cp<ls;cp++)cs[cp]=[cp,0];_t[xn.id]=cs}for(let cp=0;cp<ls;cp++){const Cp=cs[cp];Cp[0]=cp,Cp[1]=ss[cp]}cs.sort(absNumericalSort);for(let cp=0;cp<8;cp++)cp<ls&&cs[cp][1]?(cr[cp][0]=cs[cp][0],cr[cp][1]=cs[cp][1]):(cr[cp][0]=Number.MAX_SAFE_INTEGER,cr[cp][1]=0);cr.sort(numericalSort);const wl=xn.morphAttributes.position,ep=xn.morphAttributes.normal;let Al=0;for(let cp=0;cp<8;cp++){const Cp=cr[cp],Lp=Cp[0],jp=Cp[1];Lp!==Number.MAX_SAFE_INTEGER&&jp?(wl&&xn.getAttribute("morphTarget"+cp)!==wl[Lp]&&xn.setAttribute("morphTarget"+cp,wl[Lp]),ep&&xn.getAttribute("morphNormal"+cp)!==ep[Lp]&&xn.setAttribute("morphNormal"+cp,ep[Lp]),At[cp]=jp,Al+=jp):(wl&&xn.hasAttribute("morphTarget"+cp)===!0&&xn.deleteAttribute("morphTarget"+cp),ep&&xn.hasAttribute("morphNormal"+cp)===!0&&xn.deleteAttribute("morphNormal"+cp),At[cp]=0)}const np=xn.morphTargetsRelative?1:1-Al;On.getUniforms().setValue(ut,"morphTargetBaseInfluence",np),On.getUniforms().setValue(ut,"morphTargetInfluences",At)}}return{update:Gr}}function WebGLObjects(ut,lt,ht,_t){let At=new WeakMap;function qt(Gr){const Zr=_t.render.frame,xn=Gr.geometry,On=lt.get(Gr,xn);if(At.get(On)!==Zr&&(lt.update(On),At.set(On,Zr)),Gr.isInstancedMesh&&(Gr.hasEventListener("dispose",cr)===!1&&Gr.addEventListener("dispose",cr),At.get(Gr)!==Zr&&(ht.update(Gr.instanceMatrix,ut.ARRAY_BUFFER),Gr.instanceColor!==null&&ht.update(Gr.instanceColor,ut.ARRAY_BUFFER),At.set(Gr,Zr))),Gr.isSkinnedMesh){const ss=Gr.skeleton;At.get(ss)!==Zr&&(ss.update(),At.set(ss,Zr))}return On}function Zt(){At=new WeakMap}function cr(Gr){const Zr=Gr.target;Zr.removeEventListener("dispose",cr),ht.remove(Zr.instanceMatrix),Zr.instanceColor!==null&&ht.remove(Zr.instanceColor)}return{update:qt,dispose:Zt}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(ut,lt,ht){const _t=ut[0];if(_t<=0||_t>0)return ut;const At=lt*ht;let qt=arrayCacheF32[At];if(qt===void 0&&(qt=new Float32Array(At),arrayCacheF32[At]=qt),lt!==0){_t.toArray(qt,0);for(let Zt=1,cr=0;Zt!==lt;++Zt)cr+=ht,ut[Zt].toArray(qt,cr)}return qt}function arraysEqual(ut,lt){if(ut.length!==lt.length)return!1;for(let ht=0,_t=ut.length;ht<_t;ht++)if(ut[ht]!==lt[ht])return!1;return!0}function copyArray(ut,lt){for(let ht=0,_t=lt.length;ht<_t;ht++)ut[ht]=lt[ht]}function allocTexUnits(ut,lt){let ht=arrayCacheI32[lt];ht===void 0&&(ht=new Int32Array(lt),arrayCacheI32[lt]=ht);for(let _t=0;_t!==lt;++_t)ht[_t]=ut.allocateTextureUnit();return ht}function setValueV1f(ut,lt){const ht=this.cache;ht[0]!==lt&&(ut.uniform1f(this.addr,lt),ht[0]=lt)}function setValueV2f(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y)&&(ut.uniform2f(this.addr,lt.x,lt.y),ht[0]=lt.x,ht[1]=lt.y);else{if(arraysEqual(ht,lt))return;ut.uniform2fv(this.addr,lt),copyArray(ht,lt)}}function setValueV3f(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z)&&(ut.uniform3f(this.addr,lt.x,lt.y,lt.z),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z);else if(lt.r!==void 0)(ht[0]!==lt.r||ht[1]!==lt.g||ht[2]!==lt.b)&&(ut.uniform3f(this.addr,lt.r,lt.g,lt.b),ht[0]=lt.r,ht[1]=lt.g,ht[2]=lt.b);else{if(arraysEqual(ht,lt))return;ut.uniform3fv(this.addr,lt),copyArray(ht,lt)}}function setValueV4f(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z||ht[3]!==lt.w)&&(ut.uniform4f(this.addr,lt.x,lt.y,lt.z,lt.w),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z,ht[3]=lt.w);else{if(arraysEqual(ht,lt))return;ut.uniform4fv(this.addr,lt),copyArray(ht,lt)}}function setValueM2(ut,lt){const ht=this.cache,_t=lt.elements;if(_t===void 0){if(arraysEqual(ht,lt))return;ut.uniformMatrix2fv(this.addr,!1,lt),copyArray(ht,lt)}else{if(arraysEqual(ht,_t))return;mat2array.set(_t),ut.uniformMatrix2fv(this.addr,!1,mat2array),copyArray(ht,_t)}}function setValueM3(ut,lt){const ht=this.cache,_t=lt.elements;if(_t===void 0){if(arraysEqual(ht,lt))return;ut.uniformMatrix3fv(this.addr,!1,lt),copyArray(ht,lt)}else{if(arraysEqual(ht,_t))return;mat3array.set(_t),ut.uniformMatrix3fv(this.addr,!1,mat3array),copyArray(ht,_t)}}function setValueM4(ut,lt){const ht=this.cache,_t=lt.elements;if(_t===void 0){if(arraysEqual(ht,lt))return;ut.uniformMatrix4fv(this.addr,!1,lt),copyArray(ht,lt)}else{if(arraysEqual(ht,_t))return;mat4array.set(_t),ut.uniformMatrix4fv(this.addr,!1,mat4array),copyArray(ht,_t)}}function setValueV1i(ut,lt){const ht=this.cache;ht[0]!==lt&&(ut.uniform1i(this.addr,lt),ht[0]=lt)}function setValueV2i(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y)&&(ut.uniform2i(this.addr,lt.x,lt.y),ht[0]=lt.x,ht[1]=lt.y);else{if(arraysEqual(ht,lt))return;ut.uniform2iv(this.addr,lt),copyArray(ht,lt)}}function setValueV3i(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z)&&(ut.uniform3i(this.addr,lt.x,lt.y,lt.z),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z);else{if(arraysEqual(ht,lt))return;ut.uniform3iv(this.addr,lt),copyArray(ht,lt)}}function setValueV4i(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z||ht[3]!==lt.w)&&(ut.uniform4i(this.addr,lt.x,lt.y,lt.z,lt.w),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z,ht[3]=lt.w);else{if(arraysEqual(ht,lt))return;ut.uniform4iv(this.addr,lt),copyArray(ht,lt)}}function setValueV1ui(ut,lt){const ht=this.cache;ht[0]!==lt&&(ut.uniform1ui(this.addr,lt),ht[0]=lt)}function setValueV2ui(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y)&&(ut.uniform2ui(this.addr,lt.x,lt.y),ht[0]=lt.x,ht[1]=lt.y);else{if(arraysEqual(ht,lt))return;ut.uniform2uiv(this.addr,lt),copyArray(ht,lt)}}function setValueV3ui(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z)&&(ut.uniform3ui(this.addr,lt.x,lt.y,lt.z),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z);else{if(arraysEqual(ht,lt))return;ut.uniform3uiv(this.addr,lt),copyArray(ht,lt)}}function setValueV4ui(ut,lt){const ht=this.cache;if(lt.x!==void 0)(ht[0]!==lt.x||ht[1]!==lt.y||ht[2]!==lt.z||ht[3]!==lt.w)&&(ut.uniform4ui(this.addr,lt.x,lt.y,lt.z,lt.w),ht[0]=lt.x,ht[1]=lt.y,ht[2]=lt.z,ht[3]=lt.w);else{if(arraysEqual(ht,lt))return;ut.uniform4uiv(this.addr,lt),copyArray(ht,lt)}}function setValueT1(ut,lt,ht){const _t=this.cache,At=ht.allocateTextureUnit();_t[0]!==At&&(ut.uniform1i(this.addr,At),_t[0]=At),ht.setTexture2D(lt||emptyTexture,At)}function setValueT3D1(ut,lt,ht){const _t=this.cache,At=ht.allocateTextureUnit();_t[0]!==At&&(ut.uniform1i(this.addr,At),_t[0]=At),ht.setTexture3D(lt||empty3dTexture,At)}function setValueT6(ut,lt,ht){const _t=this.cache,At=ht.allocateTextureUnit();_t[0]!==At&&(ut.uniform1i(this.addr,At),_t[0]=At),ht.setTextureCube(lt||emptyCubeTexture,At)}function setValueT2DArray1(ut,lt,ht){const _t=this.cache,At=ht.allocateTextureUnit();_t[0]!==At&&(ut.uniform1i(this.addr,At),_t[0]=At),ht.setTexture2DArray(lt||emptyArrayTexture,At)}function getSingularSetter(ut){switch(ut){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(ut,lt){ut.uniform1fv(this.addr,lt)}function setValueV2fArray(ut,lt){const ht=flatten(lt,this.size,2);ut.uniform2fv(this.addr,ht)}function setValueV3fArray(ut,lt){const ht=flatten(lt,this.size,3);ut.uniform3fv(this.addr,ht)}function setValueV4fArray(ut,lt){const ht=flatten(lt,this.size,4);ut.uniform4fv(this.addr,ht)}function setValueM2Array(ut,lt){const ht=flatten(lt,this.size,4);ut.uniformMatrix2fv(this.addr,!1,ht)}function setValueM3Array(ut,lt){const ht=flatten(lt,this.size,9);ut.uniformMatrix3fv(this.addr,!1,ht)}function setValueM4Array(ut,lt){const ht=flatten(lt,this.size,16);ut.uniformMatrix4fv(this.addr,!1,ht)}function setValueV1iArray(ut,lt){ut.uniform1iv(this.addr,lt)}function setValueV2iArray(ut,lt){ut.uniform2iv(this.addr,lt)}function setValueV3iArray(ut,lt){ut.uniform3iv(this.addr,lt)}function setValueV4iArray(ut,lt){ut.uniform4iv(this.addr,lt)}function setValueV1uiArray(ut,lt){ut.uniform1uiv(this.addr,lt)}function setValueV2uiArray(ut,lt){ut.uniform2uiv(this.addr,lt)}function setValueV3uiArray(ut,lt){ut.uniform3uiv(this.addr,lt)}function setValueV4uiArray(ut,lt){ut.uniform4uiv(this.addr,lt)}function setValueT1Array(ut,lt,ht){const _t=this.cache,At=lt.length,qt=allocTexUnits(ht,At);arraysEqual(_t,qt)||(ut.uniform1iv(this.addr,qt),copyArray(_t,qt));for(let Zt=0;Zt!==At;++Zt)ht.setTexture2D(lt[Zt]||emptyTexture,qt[Zt])}function setValueT3DArray(ut,lt,ht){const _t=this.cache,At=lt.length,qt=allocTexUnits(ht,At);arraysEqual(_t,qt)||(ut.uniform1iv(this.addr,qt),copyArray(_t,qt));for(let Zt=0;Zt!==At;++Zt)ht.setTexture3D(lt[Zt]||empty3dTexture,qt[Zt])}function setValueT6Array(ut,lt,ht){const _t=this.cache,At=lt.length,qt=allocTexUnits(ht,At);arraysEqual(_t,qt)||(ut.uniform1iv(this.addr,qt),copyArray(_t,qt));for(let Zt=0;Zt!==At;++Zt)ht.setTextureCube(lt[Zt]||emptyCubeTexture,qt[Zt])}function setValueT2DArrayArray(ut,lt,ht){const _t=this.cache,At=lt.length,qt=allocTexUnits(ht,At);arraysEqual(_t,qt)||(ut.uniform1iv(this.addr,qt),copyArray(_t,qt));for(let Zt=0;Zt!==At;++Zt)ht.setTexture2DArray(lt[Zt]||emptyArrayTexture,qt[Zt])}function getPureArraySetter(ut){switch(ut){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(lt,ht,_t){this.id=lt,this.addr=_t,this.cache=[],this.setValue=getSingularSetter(ht.type)}}class PureArrayUniform{constructor(lt,ht,_t){this.id=lt,this.addr=_t,this.cache=[],this.size=ht.size,this.setValue=getPureArraySetter(ht.type)}}class StructuredUniform{constructor(lt){this.id=lt,this.seq=[],this.map={}}setValue(lt,ht,_t){const At=this.seq;for(let qt=0,Zt=At.length;qt!==Zt;++qt){const cr=At[qt];cr.setValue(lt,ht[cr.id],_t)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(ut,lt){ut.seq.push(lt),ut.map[lt.id]=lt}function parseUniform(ut,lt,ht){const _t=ut.name,At=_t.length;for(RePathPart.lastIndex=0;;){const qt=RePathPart.exec(_t),Zt=RePathPart.lastIndex;let cr=qt[1];const Gr=qt[2]==="]",Zr=qt[3];if(Gr&&(cr=cr|0),Zr===void 0||Zr==="["&&Zt+2===At){addUniform(ht,Zr===void 0?new SingleUniform(cr,ut,lt):new PureArrayUniform(cr,ut,lt));break}else{let On=ht.map[cr];On===void 0&&(On=new StructuredUniform(cr),addUniform(ht,On)),ht=On}}}class WebGLUniforms{constructor(lt,ht){this.seq=[],this.map={};const _t=lt.getProgramParameter(ht,lt.ACTIVE_UNIFORMS);for(let At=0;At<_t;++At){const qt=lt.getActiveUniform(ht,At),Zt=lt.getUniformLocation(ht,qt.name);parseUniform(qt,Zt,this)}}setValue(lt,ht,_t,At){const qt=this.map[ht];qt!==void 0&&qt.setValue(lt,_t,At)}setOptional(lt,ht,_t){const At=ht[_t];At!==void 0&&this.setValue(lt,_t,At)}static upload(lt,ht,_t,At){for(let qt=0,Zt=ht.length;qt!==Zt;++qt){const cr=ht[qt],Gr=_t[cr.id];Gr.needsUpdate!==!1&&cr.setValue(lt,Gr.value,At)}}static seqWithValue(lt,ht){const _t=[];for(let At=0,qt=lt.length;At!==qt;++At){const Zt=lt[At];Zt.id in ht&&_t.push(Zt)}return _t}}function WebGLShader(ut,lt,ht){const _t=ut.createShader(lt);return ut.shaderSource(_t,ht),ut.compileShader(_t),_t}let programIdCount=0;function handleSource(ut,lt){const ht=ut.split(`
`),_t=[],At=Math.max(lt-6,0),qt=Math.min(lt+6,ht.length);for(let Zt=At;Zt<qt;Zt++){const cr=Zt+1;_t.push(`${cr===lt?">":" "} ${cr}: ${ht[Zt]}`)}return _t.join(`
`)}function getEncodingComponents(ut){const lt=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),ht=ColorManagement.getPrimaries(ut);let _t;switch(lt===ht?_t="":lt===P3Primaries&&ht===Rec709Primaries?_t="LinearDisplayP3ToLinearSRGB":lt===Rec709Primaries&&ht===P3Primaries&&(_t="LinearSRGBToLinearDisplayP3"),ut){case LinearSRGBColorSpace$1:case LinearDisplayP3ColorSpace:return[_t,"LinearTransferOETF"];case SRGBColorSpace$1:case DisplayP3ColorSpace:return[_t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",ut),[_t,"LinearTransferOETF"]}}function getShaderErrors(ut,lt,ht){const _t=ut.getShaderParameter(lt,ut.COMPILE_STATUS),At=ut.getShaderInfoLog(lt).trim();if(_t&&At==="")return"";const qt=/ERROR: 0:(\d+)/.exec(At);if(qt){const Zt=parseInt(qt[1]);return ht.toUpperCase()+`

`+At+`

`+handleSource(ut.getShaderSource(lt),Zt)}else return At}function getTexelEncodingFunction(ut,lt){const ht=getEncodingComponents(lt);return`vec4 ${ut}( vec4 value ) { return ${ht[0]}( ${ht[1]}( value ) ); }`}function getToneMappingFunction(ut,lt){let ht;switch(lt){case LinearToneMapping:ht="Linear";break;case ReinhardToneMapping:ht="Reinhard";break;case CineonToneMapping:ht="OptimizedCineon";break;case ACESFilmicToneMapping:ht="ACESFilmic";break;case CustomToneMapping:ht="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",lt),ht="Linear"}return"vec3 "+ut+"( vec3 color ) { return "+ht+"ToneMapping( color ); }"}function generateExtensions(ut){return[ut.extensionDerivatives||ut.envMapCubeUVHeight||ut.bumpMap||ut.normalMapTangentSpace||ut.clearcoatNormalMap||ut.flatShading||ut.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(ut.extensionFragDepth||ut.logarithmicDepthBuffer)&&ut.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",ut.extensionDrawBuffers&&ut.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(ut.extensionShaderTextureLOD||ut.envMap||ut.transmission)&&ut.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(ut){const lt=[];for(const ht in ut){const _t=ut[ht];_t!==!1&&lt.push("#define "+ht+" "+_t)}return lt.join(`
`)}function fetchAttributeLocations(ut,lt){const ht={},_t=ut.getProgramParameter(lt,ut.ACTIVE_ATTRIBUTES);for(let At=0;At<_t;At++){const qt=ut.getActiveAttrib(lt,At),Zt=qt.name;let cr=1;qt.type===ut.FLOAT_MAT2&&(cr=2),qt.type===ut.FLOAT_MAT3&&(cr=3),qt.type===ut.FLOAT_MAT4&&(cr=4),ht[Zt]={type:qt.type,location:ut.getAttribLocation(lt,Zt),locationSize:cr}}return ht}function filterEmptyLine(ut){return ut!==""}function replaceLightNums(ut,lt){const ht=lt.numSpotLightShadows+lt.numSpotLightMaps-lt.numSpotLightShadowsWithMaps;return ut.replace(/NUM_DIR_LIGHTS/g,lt.numDirLights).replace(/NUM_SPOT_LIGHTS/g,lt.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,lt.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,ht).replace(/NUM_RECT_AREA_LIGHTS/g,lt.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,lt.numPointLights).replace(/NUM_HEMI_LIGHTS/g,lt.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,lt.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,lt.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,lt.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,lt.numPointLightShadows)}function replaceClippingPlaneNums(ut,lt){return ut.replace(/NUM_CLIPPING_PLANES/g,lt.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,lt.numClippingPlanes-lt.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(ut){return ut.replace(includePattern,includeReplacer)}const shaderChunkMap=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function includeReplacer(ut,lt){let ht=ShaderChunk[lt];if(ht===void 0){const _t=shaderChunkMap.get(lt);if(_t!==void 0)ht=ShaderChunk[_t],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',lt,_t);else throw new Error("Can not resolve #include <"+lt+">")}return resolveIncludes(ht)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(ut){return ut.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(ut,lt,ht,_t){let At="";for(let qt=parseInt(lt);qt<parseInt(ht);qt++)At+=_t.replace(/\[\s*i\s*\]/g,"[ "+qt+" ]").replace(/UNROLLED_LOOP_INDEX/g,qt);return At}function generatePrecision(ut){let lt="precision "+ut.precision+` float;
precision `+ut.precision+" int;";return ut.precision==="highp"?lt+=`
#define HIGH_PRECISION`:ut.precision==="mediump"?lt+=`
#define MEDIUM_PRECISION`:ut.precision==="lowp"&&(lt+=`
#define LOW_PRECISION`),lt}function generateShadowMapTypeDefine(ut){let lt="SHADOWMAP_TYPE_BASIC";return ut.shadowMapType===PCFShadowMap?lt="SHADOWMAP_TYPE_PCF":ut.shadowMapType===PCFSoftShadowMap?lt="SHADOWMAP_TYPE_PCF_SOFT":ut.shadowMapType===VSMShadowMap&&(lt="SHADOWMAP_TYPE_VSM"),lt}function generateEnvMapTypeDefine(ut){let lt="ENVMAP_TYPE_CUBE";if(ut.envMap)switch(ut.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:lt="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:lt="ENVMAP_TYPE_CUBE_UV";break}return lt}function generateEnvMapModeDefine(ut){let lt="ENVMAP_MODE_REFLECTION";if(ut.envMap)switch(ut.envMapMode){case CubeRefractionMapping:lt="ENVMAP_MODE_REFRACTION";break}return lt}function generateEnvMapBlendingDefine(ut){let lt="ENVMAP_BLENDING_NONE";if(ut.envMap)switch(ut.combine){case MultiplyOperation:lt="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:lt="ENVMAP_BLENDING_MIX";break;case AddOperation:lt="ENVMAP_BLENDING_ADD";break}return lt}function generateCubeUVSize(ut){const lt=ut.envMapCubeUVHeight;if(lt===null)return null;const ht=Math.log2(lt)-2,_t=1/lt;return{texelWidth:1/(3*Math.max(Math.pow(2,ht),7*16)),texelHeight:_t,maxMip:ht}}function WebGLProgram(ut,lt,ht,_t){const At=ut.getContext(),qt=ht.defines;let Zt=ht.vertexShader,cr=ht.fragmentShader;const Gr=generateShadowMapTypeDefine(ht),Zr=generateEnvMapTypeDefine(ht),xn=generateEnvMapModeDefine(ht),On=generateEnvMapBlendingDefine(ht),ss=generateCubeUVSize(ht),ls=ht.isWebGL2?"":generateExtensions(ht),cs=generateDefines(qt),wl=At.createProgram();let ep,Al,np=ht.glslVersion?"#version "+ht.glslVersion+`
`:"";ht.isRawShaderMaterial?(ep=["#define SHADER_TYPE "+ht.shaderType,"#define SHADER_NAME "+ht.shaderName,cs].filter(filterEmptyLine).join(`
`),ep.length>0&&(ep+=`
`),Al=[ls,"#define SHADER_TYPE "+ht.shaderType,"#define SHADER_NAME "+ht.shaderName,cs].filter(filterEmptyLine).join(`
`),Al.length>0&&(Al+=`
`)):(ep=[generatePrecision(ht),"#define SHADER_TYPE "+ht.shaderType,"#define SHADER_NAME "+ht.shaderName,cs,ht.instancing?"#define USE_INSTANCING":"",ht.instancingColor?"#define USE_INSTANCING_COLOR":"",ht.useFog&&ht.fog?"#define USE_FOG":"",ht.useFog&&ht.fogExp2?"#define FOG_EXP2":"",ht.map?"#define USE_MAP":"",ht.envMap?"#define USE_ENVMAP":"",ht.envMap?"#define "+xn:"",ht.lightMap?"#define USE_LIGHTMAP":"",ht.aoMap?"#define USE_AOMAP":"",ht.bumpMap?"#define USE_BUMPMAP":"",ht.normalMap?"#define USE_NORMALMAP":"",ht.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",ht.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",ht.displacementMap?"#define USE_DISPLACEMENTMAP":"",ht.emissiveMap?"#define USE_EMISSIVEMAP":"",ht.anisotropy?"#define USE_ANISOTROPY":"",ht.anisotropyMap?"#define USE_ANISOTROPYMAP":"",ht.clearcoatMap?"#define USE_CLEARCOATMAP":"",ht.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ht.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ht.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ht.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ht.specularMap?"#define USE_SPECULARMAP":"",ht.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",ht.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",ht.roughnessMap?"#define USE_ROUGHNESSMAP":"",ht.metalnessMap?"#define USE_METALNESSMAP":"",ht.alphaMap?"#define USE_ALPHAMAP":"",ht.alphaHash?"#define USE_ALPHAHASH":"",ht.transmission?"#define USE_TRANSMISSION":"",ht.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ht.thicknessMap?"#define USE_THICKNESSMAP":"",ht.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",ht.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",ht.mapUv?"#define MAP_UV "+ht.mapUv:"",ht.alphaMapUv?"#define ALPHAMAP_UV "+ht.alphaMapUv:"",ht.lightMapUv?"#define LIGHTMAP_UV "+ht.lightMapUv:"",ht.aoMapUv?"#define AOMAP_UV "+ht.aoMapUv:"",ht.emissiveMapUv?"#define EMISSIVEMAP_UV "+ht.emissiveMapUv:"",ht.bumpMapUv?"#define BUMPMAP_UV "+ht.bumpMapUv:"",ht.normalMapUv?"#define NORMALMAP_UV "+ht.normalMapUv:"",ht.displacementMapUv?"#define DISPLACEMENTMAP_UV "+ht.displacementMapUv:"",ht.metalnessMapUv?"#define METALNESSMAP_UV "+ht.metalnessMapUv:"",ht.roughnessMapUv?"#define ROUGHNESSMAP_UV "+ht.roughnessMapUv:"",ht.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+ht.anisotropyMapUv:"",ht.clearcoatMapUv?"#define CLEARCOATMAP_UV "+ht.clearcoatMapUv:"",ht.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+ht.clearcoatNormalMapUv:"",ht.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+ht.clearcoatRoughnessMapUv:"",ht.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+ht.iridescenceMapUv:"",ht.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+ht.iridescenceThicknessMapUv:"",ht.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+ht.sheenColorMapUv:"",ht.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+ht.sheenRoughnessMapUv:"",ht.specularMapUv?"#define SPECULARMAP_UV "+ht.specularMapUv:"",ht.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+ht.specularColorMapUv:"",ht.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+ht.specularIntensityMapUv:"",ht.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+ht.transmissionMapUv:"",ht.thicknessMapUv?"#define THICKNESSMAP_UV "+ht.thicknessMapUv:"",ht.vertexTangents&&ht.flatShading===!1?"#define USE_TANGENT":"",ht.vertexColors?"#define USE_COLOR":"",ht.vertexAlphas?"#define USE_COLOR_ALPHA":"",ht.vertexUv1s?"#define USE_UV1":"",ht.vertexUv2s?"#define USE_UV2":"",ht.vertexUv3s?"#define USE_UV3":"",ht.pointsUvs?"#define USE_POINTS_UV":"",ht.flatShading?"#define FLAT_SHADED":"",ht.skinning?"#define USE_SKINNING":"",ht.morphTargets?"#define USE_MORPHTARGETS":"",ht.morphNormals&&ht.flatShading===!1?"#define USE_MORPHNORMALS":"",ht.morphColors&&ht.isWebGL2?"#define USE_MORPHCOLORS":"",ht.morphTargetsCount>0&&ht.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",ht.morphTargetsCount>0&&ht.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+ht.morphTextureStride:"",ht.morphTargetsCount>0&&ht.isWebGL2?"#define MORPHTARGETS_COUNT "+ht.morphTargetsCount:"",ht.doubleSided?"#define DOUBLE_SIDED":"",ht.flipSided?"#define FLIP_SIDED":"",ht.shadowMapEnabled?"#define USE_SHADOWMAP":"",ht.shadowMapEnabled?"#define "+Gr:"",ht.sizeAttenuation?"#define USE_SIZEATTENUATION":"",ht.numLightProbes>0?"#define USE_LIGHT_PROBES":"",ht.useLegacyLights?"#define LEGACY_LIGHTS":"",ht.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ht.logarithmicDepthBuffer&&ht.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),Al=[ls,generatePrecision(ht),"#define SHADER_TYPE "+ht.shaderType,"#define SHADER_NAME "+ht.shaderName,cs,ht.useFog&&ht.fog?"#define USE_FOG":"",ht.useFog&&ht.fogExp2?"#define FOG_EXP2":"",ht.map?"#define USE_MAP":"",ht.matcap?"#define USE_MATCAP":"",ht.envMap?"#define USE_ENVMAP":"",ht.envMap?"#define "+Zr:"",ht.envMap?"#define "+xn:"",ht.envMap?"#define "+On:"",ss?"#define CUBEUV_TEXEL_WIDTH "+ss.texelWidth:"",ss?"#define CUBEUV_TEXEL_HEIGHT "+ss.texelHeight:"",ss?"#define CUBEUV_MAX_MIP "+ss.maxMip+".0":"",ht.lightMap?"#define USE_LIGHTMAP":"",ht.aoMap?"#define USE_AOMAP":"",ht.bumpMap?"#define USE_BUMPMAP":"",ht.normalMap?"#define USE_NORMALMAP":"",ht.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",ht.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",ht.emissiveMap?"#define USE_EMISSIVEMAP":"",ht.anisotropy?"#define USE_ANISOTROPY":"",ht.anisotropyMap?"#define USE_ANISOTROPYMAP":"",ht.clearcoat?"#define USE_CLEARCOAT":"",ht.clearcoatMap?"#define USE_CLEARCOATMAP":"",ht.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",ht.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",ht.iridescence?"#define USE_IRIDESCENCE":"",ht.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",ht.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",ht.specularMap?"#define USE_SPECULARMAP":"",ht.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",ht.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",ht.roughnessMap?"#define USE_ROUGHNESSMAP":"",ht.metalnessMap?"#define USE_METALNESSMAP":"",ht.alphaMap?"#define USE_ALPHAMAP":"",ht.alphaTest?"#define USE_ALPHATEST":"",ht.alphaHash?"#define USE_ALPHAHASH":"",ht.sheen?"#define USE_SHEEN":"",ht.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",ht.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",ht.transmission?"#define USE_TRANSMISSION":"",ht.transmissionMap?"#define USE_TRANSMISSIONMAP":"",ht.thicknessMap?"#define USE_THICKNESSMAP":"",ht.vertexTangents&&ht.flatShading===!1?"#define USE_TANGENT":"",ht.vertexColors||ht.instancingColor?"#define USE_COLOR":"",ht.vertexAlphas?"#define USE_COLOR_ALPHA":"",ht.vertexUv1s?"#define USE_UV1":"",ht.vertexUv2s?"#define USE_UV2":"",ht.vertexUv3s?"#define USE_UV3":"",ht.pointsUvs?"#define USE_POINTS_UV":"",ht.gradientMap?"#define USE_GRADIENTMAP":"",ht.flatShading?"#define FLAT_SHADED":"",ht.doubleSided?"#define DOUBLE_SIDED":"",ht.flipSided?"#define FLIP_SIDED":"",ht.shadowMapEnabled?"#define USE_SHADOWMAP":"",ht.shadowMapEnabled?"#define "+Gr:"",ht.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",ht.numLightProbes>0?"#define USE_LIGHT_PROBES":"",ht.useLegacyLights?"#define LEGACY_LIGHTS":"",ht.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",ht.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",ht.logarithmicDepthBuffer&&ht.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",ht.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",ht.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",ht.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",ht.toneMapping):"",ht.dithering?"#define DITHERING":"",ht.opaque?"#define OPAQUE":"",ShaderChunk.colorspace_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",ht.outputColorSpace),ht.useDepthPacking?"#define DEPTH_PACKING "+ht.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),Zt=resolveIncludes(Zt),Zt=replaceLightNums(Zt,ht),Zt=replaceClippingPlaneNums(Zt,ht),cr=resolveIncludes(cr),cr=replaceLightNums(cr,ht),cr=replaceClippingPlaneNums(cr,ht),Zt=unrollLoops(Zt),cr=unrollLoops(cr),ht.isWebGL2&&ht.isRawShaderMaterial!==!0&&(np=`#version 300 es
`,ep=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+ep,Al=["#define varying in",ht.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",ht.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+Al);const cp=np+ep+Zt,Cp=np+Al+cr,Lp=WebGLShader(At,At.VERTEX_SHADER,cp),jp=WebGLShader(At,At.FRAGMENT_SHADER,Cp);if(At.attachShader(wl,Lp),At.attachShader(wl,jp),ht.index0AttributeName!==void 0?At.bindAttribLocation(wl,0,ht.index0AttributeName):ht.morphTargets===!0&&At.bindAttribLocation(wl,0,"position"),At.linkProgram(wl),ut.debug.checkShaderErrors){const i1=At.getProgramInfoLog(wl).trim(),d3=At.getShaderInfoLog(Lp).trim(),op=At.getShaderInfoLog(jp).trim();let Sn=!0,Fo=!0;if(At.getProgramParameter(wl,At.LINK_STATUS)===!1)if(Sn=!1,typeof ut.debug.onShaderError=="function")ut.debug.onShaderError(At,wl,Lp,jp);else{const as=getShaderErrors(At,Lp,"vertex"),us=getShaderErrors(At,jp,"fragment");console.error("THREE.WebGLProgram: Shader Error "+At.getError()+" - VALIDATE_STATUS "+At.getProgramParameter(wl,At.VALIDATE_STATUS)+`

Program Info Log: `+i1+`
`+as+`
`+us)}else i1!==""?console.warn("THREE.WebGLProgram: Program Info Log:",i1):(d3===""||op==="")&&(Fo=!1);Fo&&(this.diagnostics={runnable:Sn,programLog:i1,vertexShader:{log:d3,prefix:ep},fragmentShader:{log:op,prefix:Al}})}At.deleteShader(Lp),At.deleteShader(jp);let nm;this.getUniforms=function(){return nm===void 0&&(nm=new WebGLUniforms(At,wl)),nm};let zm;return this.getAttributes=function(){return zm===void 0&&(zm=fetchAttributeLocations(At,wl)),zm},this.destroy=function(){_t.releaseStatesOfProgram(this),At.deleteProgram(wl),this.program=void 0},this.type=ht.shaderType,this.name=ht.shaderName,this.id=programIdCount++,this.cacheKey=lt,this.usedTimes=1,this.program=wl,this.vertexShader=Lp,this.fragmentShader=jp,this}let _id$1=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(lt){const ht=lt.vertexShader,_t=lt.fragmentShader,At=this._getShaderStage(ht),qt=this._getShaderStage(_t),Zt=this._getShaderCacheForMaterial(lt);return Zt.has(At)===!1&&(Zt.add(At),At.usedTimes++),Zt.has(qt)===!1&&(Zt.add(qt),qt.usedTimes++),this}remove(lt){const ht=this.materialCache.get(lt);for(const _t of ht)_t.usedTimes--,_t.usedTimes===0&&this.shaderCache.delete(_t.code);return this.materialCache.delete(lt),this}getVertexShaderID(lt){return this._getShaderStage(lt.vertexShader).id}getFragmentShaderID(lt){return this._getShaderStage(lt.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(lt){const ht=this.materialCache;let _t=ht.get(lt);return _t===void 0&&(_t=new Set,ht.set(lt,_t)),_t}_getShaderStage(lt){const ht=this.shaderCache;let _t=ht.get(lt);return _t===void 0&&(_t=new WebGLShaderStage(lt),ht.set(lt,_t)),_t}}class WebGLShaderStage{constructor(lt){this.id=_id$1++,this.code=lt,this.usedTimes=0}}function WebGLPrograms(ut,lt,ht,_t,At,qt,Zt){const cr=new Layers,Gr=new WebGLShaderCache,Zr=[],xn=At.isWebGL2,On=At.logarithmicDepthBuffer,ss=At.vertexTextures;let ls=At.precision;const cs={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function wl(i1){return i1===0?"uv":`uv${i1}`}function ep(i1,d3,op,Sn,Fo){const as=Sn.fog,us=Fo.geometry,xl=i1.isMeshStandardMaterial?Sn.environment:null,ip=(i1.isMeshStandardMaterial?ht:lt).get(i1.envMap||xl),lp=ip&&ip.mapping===CubeUVReflectionMapping?ip.image.height:null,pu=cs[i1.type];i1.precision!==null&&(ls=At.getMaxPrecision(i1.precision),ls!==i1.precision&&console.warn("THREE.WebGLProgram.getParameters:",i1.precision,"not supported, using",ls,"instead."));const go=us.morphAttributes.position||us.morphAttributes.normal||us.morphAttributes.color,h0=go!==void 0?go.length:0;let kp=0;us.morphAttributes.position!==void 0&&(kp=1),us.morphAttributes.normal!==void 0&&(kp=2),us.morphAttributes.color!==void 0&&(kp=3);let cm,b3,L_,Ym;if(pu){const xM=ShaderLib[pu];cm=xM.vertexShader,b3=xM.fragmentShader}else cm=i1.vertexShader,b3=i1.fragmentShader,Gr.update(i1),L_=Gr.getVertexShaderID(i1),Ym=Gr.getFragmentShaderID(i1);const Xm=ut.getRenderTarget(),Jm=Fo.isInstancedMesh===!0,$_=!!i1.map,j_=!!i1.matcap,h3=!!ip,Fp=!!i1.aoMap,W_=!!i1.lightMap,t4=!!i1.bumpMap,Nw=!!i1.normalMap,Dp=!!i1.displacementMap,a1=!!i1.emissiveMap,zp=!!i1.metalnessMap,v3=!!i1.roughnessMap,Mw=i1.anisotropy>0,nw=i1.clearcoat>0,n4=i1.iridescence>0,Ww=i1.sheen>0,F_=i1.transmission>0,qx=Mw&&!!i1.anisotropyMap,nM=nw&&!!i1.clearcoatMap,Hm=nw&&!!i1.clearcoatNormalMap,y3=nw&&!!i1.clearcoatRoughnessMap,Q_=n4&&!!i1.iridescenceMap,Uw=n4&&!!i1.iridescenceThicknessMap,s4=Ww&&!!i1.sheenColorMap,rM=Ww&&!!i1.sheenRoughnessMap,c4=!!i1.specularMap,tM=!!i1.specularColorMap,R5=!!i1.specularIntensityMap,r4=F_&&!!i1.transmissionMap,a4=F_&&!!i1.thicknessMap,cM=!!i1.gradientMap,Yx=!!i1.alphaMap,D5=i1.alphaTest>0,wM=!!i1.alphaHash,uM=!!i1.extensions,fM=!!us.attributes.uv1,AM=!!us.attributes.uv2,lM=!!us.attributes.uv3;let vM=NoToneMapping;return i1.toneMapped&&(Xm===null||Xm.isXRRenderTarget===!0)&&(vM=ut.toneMapping),{isWebGL2:xn,shaderID:pu,shaderType:i1.type,shaderName:i1.name,vertexShader:cm,fragmentShader:b3,defines:i1.defines,customVertexShaderID:L_,customFragmentShaderID:Ym,isRawShaderMaterial:i1.isRawShaderMaterial===!0,glslVersion:i1.glslVersion,precision:ls,instancing:Jm,instancingColor:Jm&&Fo.instanceColor!==null,supportsVertexTextures:ss,outputColorSpace:Xm===null?ut.outputColorSpace:Xm.isXRRenderTarget===!0?Xm.texture.colorSpace:LinearSRGBColorSpace$1,map:$_,matcap:j_,envMap:h3,envMapMode:h3&&ip.mapping,envMapCubeUVHeight:lp,aoMap:Fp,lightMap:W_,bumpMap:t4,normalMap:Nw,displacementMap:ss&&Dp,emissiveMap:a1,normalMapObjectSpace:Nw&&i1.normalMapType===ObjectSpaceNormalMap,normalMapTangentSpace:Nw&&i1.normalMapType===TangentSpaceNormalMap,metalnessMap:zp,roughnessMap:v3,anisotropy:Mw,anisotropyMap:qx,clearcoat:nw,clearcoatMap:nM,clearcoatNormalMap:Hm,clearcoatRoughnessMap:y3,iridescence:n4,iridescenceMap:Q_,iridescenceThicknessMap:Uw,sheen:Ww,sheenColorMap:s4,sheenRoughnessMap:rM,specularMap:c4,specularColorMap:tM,specularIntensityMap:R5,transmission:F_,transmissionMap:r4,thicknessMap:a4,gradientMap:cM,opaque:i1.transparent===!1&&i1.blending===NormalBlending,alphaMap:Yx,alphaTest:D5,alphaHash:wM,combine:i1.combine,mapUv:$_&&wl(i1.map.channel),aoMapUv:Fp&&wl(i1.aoMap.channel),lightMapUv:W_&&wl(i1.lightMap.channel),bumpMapUv:t4&&wl(i1.bumpMap.channel),normalMapUv:Nw&&wl(i1.normalMap.channel),displacementMapUv:Dp&&wl(i1.displacementMap.channel),emissiveMapUv:a1&&wl(i1.emissiveMap.channel),metalnessMapUv:zp&&wl(i1.metalnessMap.channel),roughnessMapUv:v3&&wl(i1.roughnessMap.channel),anisotropyMapUv:qx&&wl(i1.anisotropyMap.channel),clearcoatMapUv:nM&&wl(i1.clearcoatMap.channel),clearcoatNormalMapUv:Hm&&wl(i1.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:y3&&wl(i1.clearcoatRoughnessMap.channel),iridescenceMapUv:Q_&&wl(i1.iridescenceMap.channel),iridescenceThicknessMapUv:Uw&&wl(i1.iridescenceThicknessMap.channel),sheenColorMapUv:s4&&wl(i1.sheenColorMap.channel),sheenRoughnessMapUv:rM&&wl(i1.sheenRoughnessMap.channel),specularMapUv:c4&&wl(i1.specularMap.channel),specularColorMapUv:tM&&wl(i1.specularColorMap.channel),specularIntensityMapUv:R5&&wl(i1.specularIntensityMap.channel),transmissionMapUv:r4&&wl(i1.transmissionMap.channel),thicknessMapUv:a4&&wl(i1.thicknessMap.channel),alphaMapUv:Yx&&wl(i1.alphaMap.channel),vertexTangents:!!us.attributes.tangent&&(Nw||Mw),vertexColors:i1.vertexColors,vertexAlphas:i1.vertexColors===!0&&!!us.attributes.color&&us.attributes.color.itemSize===4,vertexUv1s:fM,vertexUv2s:AM,vertexUv3s:lM,pointsUvs:Fo.isPoints===!0&&!!us.attributes.uv&&($_||Yx),fog:!!as,useFog:i1.fog===!0,fogExp2:as&&as.isFogExp2,flatShading:i1.flatShading===!0,sizeAttenuation:i1.sizeAttenuation===!0,logarithmicDepthBuffer:On,skinning:Fo.isSkinnedMesh===!0,morphTargets:us.morphAttributes.position!==void 0,morphNormals:us.morphAttributes.normal!==void 0,morphColors:us.morphAttributes.color!==void 0,morphTargetsCount:h0,morphTextureStride:kp,numDirLights:d3.directional.length,numPointLights:d3.point.length,numSpotLights:d3.spot.length,numSpotLightMaps:d3.spotLightMap.length,numRectAreaLights:d3.rectArea.length,numHemiLights:d3.hemi.length,numDirLightShadows:d3.directionalShadowMap.length,numPointLightShadows:d3.pointShadowMap.length,numSpotLightShadows:d3.spotShadowMap.length,numSpotLightShadowsWithMaps:d3.numSpotLightShadowsWithMaps,numLightProbes:d3.numLightProbes,numClippingPlanes:Zt.numPlanes,numClipIntersection:Zt.numIntersection,dithering:i1.dithering,shadowMapEnabled:ut.shadowMap.enabled&&op.length>0,shadowMapType:ut.shadowMap.type,toneMapping:vM,useLegacyLights:ut._useLegacyLights,decodeVideoTexture:$_&&i1.map.isVideoTexture===!0&&ColorManagement.getTransfer(i1.map.colorSpace)===SRGBTransfer,premultipliedAlpha:i1.premultipliedAlpha,doubleSided:i1.side===DoubleSide,flipSided:i1.side===BackSide,useDepthPacking:i1.depthPacking>=0,depthPacking:i1.depthPacking||0,index0AttributeName:i1.index0AttributeName,extensionDerivatives:uM&&i1.extensions.derivatives===!0,extensionFragDepth:uM&&i1.extensions.fragDepth===!0,extensionDrawBuffers:uM&&i1.extensions.drawBuffers===!0,extensionShaderTextureLOD:uM&&i1.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:xn||_t.has("EXT_frag_depth"),rendererExtensionDrawBuffers:xn||_t.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:xn||_t.has("EXT_shader_texture_lod"),customProgramCacheKey:i1.customProgramCacheKey()}}function Al(i1){const d3=[];if(i1.shaderID?d3.push(i1.shaderID):(d3.push(i1.customVertexShaderID),d3.push(i1.customFragmentShaderID)),i1.defines!==void 0)for(const op in i1.defines)d3.push(op),d3.push(i1.defines[op]);return i1.isRawShaderMaterial===!1&&(np(d3,i1),cp(d3,i1),d3.push(ut.outputColorSpace)),d3.push(i1.customProgramCacheKey),d3.join()}function np(i1,d3){i1.push(d3.precision),i1.push(d3.outputColorSpace),i1.push(d3.envMapMode),i1.push(d3.envMapCubeUVHeight),i1.push(d3.mapUv),i1.push(d3.alphaMapUv),i1.push(d3.lightMapUv),i1.push(d3.aoMapUv),i1.push(d3.bumpMapUv),i1.push(d3.normalMapUv),i1.push(d3.displacementMapUv),i1.push(d3.emissiveMapUv),i1.push(d3.metalnessMapUv),i1.push(d3.roughnessMapUv),i1.push(d3.anisotropyMapUv),i1.push(d3.clearcoatMapUv),i1.push(d3.clearcoatNormalMapUv),i1.push(d3.clearcoatRoughnessMapUv),i1.push(d3.iridescenceMapUv),i1.push(d3.iridescenceThicknessMapUv),i1.push(d3.sheenColorMapUv),i1.push(d3.sheenRoughnessMapUv),i1.push(d3.specularMapUv),i1.push(d3.specularColorMapUv),i1.push(d3.specularIntensityMapUv),i1.push(d3.transmissionMapUv),i1.push(d3.thicknessMapUv),i1.push(d3.combine),i1.push(d3.fogExp2),i1.push(d3.sizeAttenuation),i1.push(d3.morphTargetsCount),i1.push(d3.morphAttributeCount),i1.push(d3.numDirLights),i1.push(d3.numPointLights),i1.push(d3.numSpotLights),i1.push(d3.numSpotLightMaps),i1.push(d3.numHemiLights),i1.push(d3.numRectAreaLights),i1.push(d3.numDirLightShadows),i1.push(d3.numPointLightShadows),i1.push(d3.numSpotLightShadows),i1.push(d3.numSpotLightShadowsWithMaps),i1.push(d3.numLightProbes),i1.push(d3.shadowMapType),i1.push(d3.toneMapping),i1.push(d3.numClippingPlanes),i1.push(d3.numClipIntersection),i1.push(d3.depthPacking)}function cp(i1,d3){cr.disableAll(),d3.isWebGL2&&cr.enable(0),d3.supportsVertexTextures&&cr.enable(1),d3.instancing&&cr.enable(2),d3.instancingColor&&cr.enable(3),d3.matcap&&cr.enable(4),d3.envMap&&cr.enable(5),d3.normalMapObjectSpace&&cr.enable(6),d3.normalMapTangentSpace&&cr.enable(7),d3.clearcoat&&cr.enable(8),d3.iridescence&&cr.enable(9),d3.alphaTest&&cr.enable(10),d3.vertexColors&&cr.enable(11),d3.vertexAlphas&&cr.enable(12),d3.vertexUv1s&&cr.enable(13),d3.vertexUv2s&&cr.enable(14),d3.vertexUv3s&&cr.enable(15),d3.vertexTangents&&cr.enable(16),d3.anisotropy&&cr.enable(17),i1.push(cr.mask),cr.disableAll(),d3.fog&&cr.enable(0),d3.useFog&&cr.enable(1),d3.flatShading&&cr.enable(2),d3.logarithmicDepthBuffer&&cr.enable(3),d3.skinning&&cr.enable(4),d3.morphTargets&&cr.enable(5),d3.morphNormals&&cr.enable(6),d3.morphColors&&cr.enable(7),d3.premultipliedAlpha&&cr.enable(8),d3.shadowMapEnabled&&cr.enable(9),d3.useLegacyLights&&cr.enable(10),d3.doubleSided&&cr.enable(11),d3.flipSided&&cr.enable(12),d3.useDepthPacking&&cr.enable(13),d3.dithering&&cr.enable(14),d3.transmission&&cr.enable(15),d3.sheen&&cr.enable(16),d3.opaque&&cr.enable(17),d3.pointsUvs&&cr.enable(18),d3.decodeVideoTexture&&cr.enable(19),i1.push(cr.mask)}function Cp(i1){const d3=cs[i1.type];let op;if(d3){const Sn=ShaderLib[d3];op=UniformsUtils.clone(Sn.uniforms)}else op=i1.uniforms;return op}function Lp(i1,d3){let op;for(let Sn=0,Fo=Zr.length;Sn<Fo;Sn++){const as=Zr[Sn];if(as.cacheKey===d3){op=as,++op.usedTimes;break}}return op===void 0&&(op=new WebGLProgram(ut,d3,i1,qt),Zr.push(op)),op}function jp(i1){if(--i1.usedTimes===0){const d3=Zr.indexOf(i1);Zr[d3]=Zr[Zr.length-1],Zr.pop(),i1.destroy()}}function nm(i1){Gr.remove(i1)}function zm(){Gr.dispose()}return{getParameters:ep,getProgramCacheKey:Al,getUniforms:Cp,acquireProgram:Lp,releaseProgram:jp,releaseShaderCache:nm,programs:Zr,dispose:zm}}function WebGLProperties(){let ut=new WeakMap;function lt(qt){let Zt=ut.get(qt);return Zt===void 0&&(Zt={},ut.set(qt,Zt)),Zt}function ht(qt){ut.delete(qt)}function _t(qt,Zt,cr){ut.get(qt)[Zt]=cr}function At(){ut=new WeakMap}return{get:lt,remove:ht,update:_t,dispose:At}}function painterSortStable(ut,lt){return ut.groupOrder!==lt.groupOrder?ut.groupOrder-lt.groupOrder:ut.renderOrder!==lt.renderOrder?ut.renderOrder-lt.renderOrder:ut.material.id!==lt.material.id?ut.material.id-lt.material.id:ut.z!==lt.z?ut.z-lt.z:ut.id-lt.id}function reversePainterSortStable(ut,lt){return ut.groupOrder!==lt.groupOrder?ut.groupOrder-lt.groupOrder:ut.renderOrder!==lt.renderOrder?ut.renderOrder-lt.renderOrder:ut.z!==lt.z?lt.z-ut.z:ut.id-lt.id}function WebGLRenderList(){const ut=[];let lt=0;const ht=[],_t=[],At=[];function qt(){lt=0,ht.length=0,_t.length=0,At.length=0}function Zt(On,ss,ls,cs,wl,ep){let Al=ut[lt];return Al===void 0?(Al={id:On.id,object:On,geometry:ss,material:ls,groupOrder:cs,renderOrder:On.renderOrder,z:wl,group:ep},ut[lt]=Al):(Al.id=On.id,Al.object=On,Al.geometry=ss,Al.material=ls,Al.groupOrder=cs,Al.renderOrder=On.renderOrder,Al.z=wl,Al.group=ep),lt++,Al}function cr(On,ss,ls,cs,wl,ep){const Al=Zt(On,ss,ls,cs,wl,ep);ls.transmission>0?_t.push(Al):ls.transparent===!0?At.push(Al):ht.push(Al)}function Gr(On,ss,ls,cs,wl,ep){const Al=Zt(On,ss,ls,cs,wl,ep);ls.transmission>0?_t.unshift(Al):ls.transparent===!0?At.unshift(Al):ht.unshift(Al)}function Zr(On,ss){ht.length>1&&ht.sort(On||painterSortStable),_t.length>1&&_t.sort(ss||reversePainterSortStable),At.length>1&&At.sort(ss||reversePainterSortStable)}function xn(){for(let On=lt,ss=ut.length;On<ss;On++){const ls=ut[On];if(ls.id===null)break;ls.id=null,ls.object=null,ls.geometry=null,ls.material=null,ls.group=null}}return{opaque:ht,transmissive:_t,transparent:At,init:qt,push:cr,unshift:Gr,finish:xn,sort:Zr}}function WebGLRenderLists(){let ut=new WeakMap;function lt(_t,At){const qt=ut.get(_t);let Zt;return qt===void 0?(Zt=new WebGLRenderList,ut.set(_t,[Zt])):At>=qt.length?(Zt=new WebGLRenderList,qt.push(Zt)):Zt=qt[At],Zt}function ht(){ut=new WeakMap}return{get:lt,dispose:ht}}function UniformsCache(){const ut={};return{get:function(lt){if(ut[lt.id]!==void 0)return ut[lt.id];let ht;switch(lt.type){case"DirectionalLight":ht={direction:new Vector3,color:new Color};break;case"SpotLight":ht={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":ht={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":ht={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":ht={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return ut[lt.id]=ht,ht}}}function ShadowUniformsCache(){const ut={};return{get:function(lt){if(ut[lt.id]!==void 0)return ut[lt.id];let ht;switch(lt.type){case"DirectionalLight":ht={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":ht={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":ht={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return ut[lt.id]=ht,ht}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(ut,lt){return(lt.castShadow?2:0)-(ut.castShadow?2:0)+(lt.map?1:0)-(ut.map?1:0)}function WebGLLights(ut,lt){const ht=new UniformsCache,_t=ShadowUniformsCache(),At={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let xn=0;xn<9;xn++)At.probe.push(new Vector3);const qt=new Vector3,Zt=new Matrix4,cr=new Matrix4;function Gr(xn,On){let ss=0,ls=0,cs=0;for(let Sn=0;Sn<9;Sn++)At.probe[Sn].set(0,0,0);let wl=0,ep=0,Al=0,np=0,cp=0,Cp=0,Lp=0,jp=0,nm=0,zm=0,i1=0;xn.sort(shadowCastingAndTexturingLightsFirst);const d3=On===!0?Math.PI:1;for(let Sn=0,Fo=xn.length;Sn<Fo;Sn++){const as=xn[Sn],us=as.color,xl=as.intensity,ip=as.distance,lp=as.shadow&&as.shadow.map?as.shadow.map.texture:null;if(as.isAmbientLight)ss+=us.r*xl*d3,ls+=us.g*xl*d3,cs+=us.b*xl*d3;else if(as.isLightProbe){for(let pu=0;pu<9;pu++)At.probe[pu].addScaledVector(as.sh.coefficients[pu],xl);i1++}else if(as.isDirectionalLight){const pu=ht.get(as);if(pu.color.copy(as.color).multiplyScalar(as.intensity*d3),as.castShadow){const go=as.shadow,h0=_t.get(as);h0.shadowBias=go.bias,h0.shadowNormalBias=go.normalBias,h0.shadowRadius=go.radius,h0.shadowMapSize=go.mapSize,At.directionalShadow[wl]=h0,At.directionalShadowMap[wl]=lp,At.directionalShadowMatrix[wl]=as.shadow.matrix,Cp++}At.directional[wl]=pu,wl++}else if(as.isSpotLight){const pu=ht.get(as);pu.position.setFromMatrixPosition(as.matrixWorld),pu.color.copy(us).multiplyScalar(xl*d3),pu.distance=ip,pu.coneCos=Math.cos(as.angle),pu.penumbraCos=Math.cos(as.angle*(1-as.penumbra)),pu.decay=as.decay,At.spot[Al]=pu;const go=as.shadow;if(as.map&&(At.spotLightMap[nm]=as.map,nm++,go.updateMatrices(as),as.castShadow&&zm++),At.spotLightMatrix[Al]=go.matrix,as.castShadow){const h0=_t.get(as);h0.shadowBias=go.bias,h0.shadowNormalBias=go.normalBias,h0.shadowRadius=go.radius,h0.shadowMapSize=go.mapSize,At.spotShadow[Al]=h0,At.spotShadowMap[Al]=lp,jp++}Al++}else if(as.isRectAreaLight){const pu=ht.get(as);pu.color.copy(us).multiplyScalar(xl),pu.halfWidth.set(as.width*.5,0,0),pu.halfHeight.set(0,as.height*.5,0),At.rectArea[np]=pu,np++}else if(as.isPointLight){const pu=ht.get(as);if(pu.color.copy(as.color).multiplyScalar(as.intensity*d3),pu.distance=as.distance,pu.decay=as.decay,as.castShadow){const go=as.shadow,h0=_t.get(as);h0.shadowBias=go.bias,h0.shadowNormalBias=go.normalBias,h0.shadowRadius=go.radius,h0.shadowMapSize=go.mapSize,h0.shadowCameraNear=go.camera.near,h0.shadowCameraFar=go.camera.far,At.pointShadow[ep]=h0,At.pointShadowMap[ep]=lp,At.pointShadowMatrix[ep]=as.shadow.matrix,Lp++}At.point[ep]=pu,ep++}else if(as.isHemisphereLight){const pu=ht.get(as);pu.skyColor.copy(as.color).multiplyScalar(xl*d3),pu.groundColor.copy(as.groundColor).multiplyScalar(xl*d3),At.hemi[cp]=pu,cp++}}np>0&&(lt.isWebGL2||ut.has("OES_texture_float_linear")===!0?(At.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,At.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):ut.has("OES_texture_half_float_linear")===!0?(At.rectAreaLTC1=UniformsLib.LTC_HALF_1,At.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),At.ambient[0]=ss,At.ambient[1]=ls,At.ambient[2]=cs;const op=At.hash;(op.directionalLength!==wl||op.pointLength!==ep||op.spotLength!==Al||op.rectAreaLength!==np||op.hemiLength!==cp||op.numDirectionalShadows!==Cp||op.numPointShadows!==Lp||op.numSpotShadows!==jp||op.numSpotMaps!==nm||op.numLightProbes!==i1)&&(At.directional.length=wl,At.spot.length=Al,At.rectArea.length=np,At.point.length=ep,At.hemi.length=cp,At.directionalShadow.length=Cp,At.directionalShadowMap.length=Cp,At.pointShadow.length=Lp,At.pointShadowMap.length=Lp,At.spotShadow.length=jp,At.spotShadowMap.length=jp,At.directionalShadowMatrix.length=Cp,At.pointShadowMatrix.length=Lp,At.spotLightMatrix.length=jp+nm-zm,At.spotLightMap.length=nm,At.numSpotLightShadowsWithMaps=zm,At.numLightProbes=i1,op.directionalLength=wl,op.pointLength=ep,op.spotLength=Al,op.rectAreaLength=np,op.hemiLength=cp,op.numDirectionalShadows=Cp,op.numPointShadows=Lp,op.numSpotShadows=jp,op.numSpotMaps=nm,op.numLightProbes=i1,At.version=nextVersion++)}function Zr(xn,On){let ss=0,ls=0,cs=0,wl=0,ep=0;const Al=On.matrixWorldInverse;for(let np=0,cp=xn.length;np<cp;np++){const Cp=xn[np];if(Cp.isDirectionalLight){const Lp=At.directional[ss];Lp.direction.setFromMatrixPosition(Cp.matrixWorld),qt.setFromMatrixPosition(Cp.target.matrixWorld),Lp.direction.sub(qt),Lp.direction.transformDirection(Al),ss++}else if(Cp.isSpotLight){const Lp=At.spot[cs];Lp.position.setFromMatrixPosition(Cp.matrixWorld),Lp.position.applyMatrix4(Al),Lp.direction.setFromMatrixPosition(Cp.matrixWorld),qt.setFromMatrixPosition(Cp.target.matrixWorld),Lp.direction.sub(qt),Lp.direction.transformDirection(Al),cs++}else if(Cp.isRectAreaLight){const Lp=At.rectArea[wl];Lp.position.setFromMatrixPosition(Cp.matrixWorld),Lp.position.applyMatrix4(Al),cr.identity(),Zt.copy(Cp.matrixWorld),Zt.premultiply(Al),cr.extractRotation(Zt),Lp.halfWidth.set(Cp.width*.5,0,0),Lp.halfHeight.set(0,Cp.height*.5,0),Lp.halfWidth.applyMatrix4(cr),Lp.halfHeight.applyMatrix4(cr),wl++}else if(Cp.isPointLight){const Lp=At.point[ls];Lp.position.setFromMatrixPosition(Cp.matrixWorld),Lp.position.applyMatrix4(Al),ls++}else if(Cp.isHemisphereLight){const Lp=At.hemi[ep];Lp.direction.setFromMatrixPosition(Cp.matrixWorld),Lp.direction.transformDirection(Al),ep++}}}return{setup:Gr,setupView:Zr,state:At}}function WebGLRenderState(ut,lt){const ht=new WebGLLights(ut,lt),_t=[],At=[];function qt(){_t.length=0,At.length=0}function Zt(On){_t.push(On)}function cr(On){At.push(On)}function Gr(On){ht.setup(_t,On)}function Zr(On){ht.setupView(_t,On)}return{init:qt,state:{lightsArray:_t,shadowsArray:At,lights:ht},setupLights:Gr,setupLightsView:Zr,pushLight:Zt,pushShadow:cr}}function WebGLRenderStates(ut,lt){let ht=new WeakMap;function _t(qt,Zt=0){const cr=ht.get(qt);let Gr;return cr===void 0?(Gr=new WebGLRenderState(ut,lt),ht.set(qt,[Gr])):Zt>=cr.length?(Gr=new WebGLRenderState(ut,lt),cr.push(Gr)):Gr=cr[Zt],Gr}function At(){ht=new WeakMap}return{get:_t,dispose:At}}class MeshDepthMaterial extends Material{constructor(lt){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.depthPacking=lt.depthPacking,this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material{constructor(lt){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(lt)}copy(lt){return super.copy(lt),this.map=lt.map,this.alphaMap=lt.alphaMap,this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(ut,lt,ht){let _t=new Frustum;const At=new Vector2,qt=new Vector2,Zt=new Vector4,cr=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),Gr=new MeshDistanceMaterial,Zr={},xn=ht.maxTextureSize,On={[FrontSide]:BackSide,[BackSide]:FrontSide,[DoubleSide]:DoubleSide},ss=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),ls=ss.clone();ls.defines.HORIZONTAL_PASS=1;const cs=new BufferGeometry;cs.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const wl=new Mesh(cs,ss),ep=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap;let Al=this.type;this.render=function(Lp,jp,nm){if(ep.enabled===!1||ep.autoUpdate===!1&&ep.needsUpdate===!1||Lp.length===0)return;const zm=ut.getRenderTarget(),i1=ut.getActiveCubeFace(),d3=ut.getActiveMipmapLevel(),op=ut.state;op.setBlending(NoBlending),op.buffers.color.setClear(1,1,1,1),op.buffers.depth.setTest(!0),op.setScissorTest(!1);const Sn=Al!==VSMShadowMap&&this.type===VSMShadowMap,Fo=Al===VSMShadowMap&&this.type!==VSMShadowMap;for(let as=0,us=Lp.length;as<us;as++){const xl=Lp[as],ip=xl.shadow;if(ip===void 0){console.warn("THREE.WebGLShadowMap:",xl,"has no shadow.");continue}if(ip.autoUpdate===!1&&ip.needsUpdate===!1)continue;At.copy(ip.mapSize);const lp=ip.getFrameExtents();if(At.multiply(lp),qt.copy(ip.mapSize),(At.x>xn||At.y>xn)&&(At.x>xn&&(qt.x=Math.floor(xn/lp.x),At.x=qt.x*lp.x,ip.mapSize.x=qt.x),At.y>xn&&(qt.y=Math.floor(xn/lp.y),At.y=qt.y*lp.y,ip.mapSize.y=qt.y)),ip.map===null||Sn===!0||Fo===!0){const go=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};ip.map!==null&&ip.map.dispose(),ip.map=new WebGLRenderTarget(At.x,At.y,go),ip.map.texture.name=xl.name+".shadowMap",ip.camera.updateProjectionMatrix()}ut.setRenderTarget(ip.map),ut.clear();const pu=ip.getViewportCount();for(let go=0;go<pu;go++){const h0=ip.getViewport(go);Zt.set(qt.x*h0.x,qt.y*h0.y,qt.x*h0.z,qt.y*h0.w),op.viewport(Zt),ip.updateMatrices(xl,go),_t=ip.getFrustum(),Cp(jp,nm,ip.camera,xl,this.type)}ip.isPointLightShadow!==!0&&this.type===VSMShadowMap&&np(ip,nm),ip.needsUpdate=!1}Al=this.type,ep.needsUpdate=!1,ut.setRenderTarget(zm,i1,d3)};function np(Lp,jp){const nm=lt.update(wl);ss.defines.VSM_SAMPLES!==Lp.blurSamples&&(ss.defines.VSM_SAMPLES=Lp.blurSamples,ls.defines.VSM_SAMPLES=Lp.blurSamples,ss.needsUpdate=!0,ls.needsUpdate=!0),Lp.mapPass===null&&(Lp.mapPass=new WebGLRenderTarget(At.x,At.y)),ss.uniforms.shadow_pass.value=Lp.map.texture,ss.uniforms.resolution.value=Lp.mapSize,ss.uniforms.radius.value=Lp.radius,ut.setRenderTarget(Lp.mapPass),ut.clear(),ut.renderBufferDirect(jp,null,nm,ss,wl,null),ls.uniforms.shadow_pass.value=Lp.mapPass.texture,ls.uniforms.resolution.value=Lp.mapSize,ls.uniforms.radius.value=Lp.radius,ut.setRenderTarget(Lp.map),ut.clear(),ut.renderBufferDirect(jp,null,nm,ls,wl,null)}function cp(Lp,jp,nm,zm){let i1=null;const d3=nm.isPointLight===!0?Lp.customDistanceMaterial:Lp.customDepthMaterial;if(d3!==void 0)i1=d3;else if(i1=nm.isPointLight===!0?Gr:cr,ut.localClippingEnabled&&jp.clipShadows===!0&&Array.isArray(jp.clippingPlanes)&&jp.clippingPlanes.length!==0||jp.displacementMap&&jp.displacementScale!==0||jp.alphaMap&&jp.alphaTest>0||jp.map&&jp.alphaTest>0){const op=i1.uuid,Sn=jp.uuid;let Fo=Zr[op];Fo===void 0&&(Fo={},Zr[op]=Fo);let as=Fo[Sn];as===void 0&&(as=i1.clone(),Fo[Sn]=as),i1=as}if(i1.visible=jp.visible,i1.wireframe=jp.wireframe,zm===VSMShadowMap?i1.side=jp.shadowSide!==null?jp.shadowSide:jp.side:i1.side=jp.shadowSide!==null?jp.shadowSide:On[jp.side],i1.alphaMap=jp.alphaMap,i1.alphaTest=jp.alphaTest,i1.map=jp.map,i1.clipShadows=jp.clipShadows,i1.clippingPlanes=jp.clippingPlanes,i1.clipIntersection=jp.clipIntersection,i1.displacementMap=jp.displacementMap,i1.displacementScale=jp.displacementScale,i1.displacementBias=jp.displacementBias,i1.wireframeLinewidth=jp.wireframeLinewidth,i1.linewidth=jp.linewidth,nm.isPointLight===!0&&i1.isMeshDistanceMaterial===!0){const op=ut.properties.get(i1);op.light=nm}return i1}function Cp(Lp,jp,nm,zm,i1){if(Lp.visible===!1)return;if(Lp.layers.test(jp.layers)&&(Lp.isMesh||Lp.isLine||Lp.isPoints)&&(Lp.castShadow||Lp.receiveShadow&&i1===VSMShadowMap)&&(!Lp.frustumCulled||_t.intersectsObject(Lp))){Lp.modelViewMatrix.multiplyMatrices(nm.matrixWorldInverse,Lp.matrixWorld);const Sn=lt.update(Lp),Fo=Lp.material;if(Array.isArray(Fo)){const as=Sn.groups;for(let us=0,xl=as.length;us<xl;us++){const ip=as[us],lp=Fo[ip.materialIndex];if(lp&&lp.visible){const pu=cp(Lp,lp,zm,i1);ut.renderBufferDirect(nm,null,Sn,pu,Lp,ip)}}}else if(Fo.visible){const as=cp(Lp,Fo,zm,i1);ut.renderBufferDirect(nm,null,Sn,as,Lp,null)}}const op=Lp.children;for(let Sn=0,Fo=op.length;Sn<Fo;Sn++)Cp(op[Sn],jp,nm,zm,i1)}}function WebGLState(ut,lt,ht){const _t=ht.isWebGL2;function At(){let Yx=!1;const D5=new Vector4;let wM=null;const uM=new Vector4(0,0,0,0);return{setMask:function(fM){wM!==fM&&!Yx&&(ut.colorMask(fM,fM,fM,fM),wM=fM)},setLocked:function(fM){Yx=fM},setClear:function(fM,AM,lM,vM,HM){HM===!0&&(fM*=vM,AM*=vM,lM*=vM),D5.set(fM,AM,lM,vM),uM.equals(D5)===!1&&(ut.clearColor(fM,AM,lM,vM),uM.copy(D5))},reset:function(){Yx=!1,wM=null,uM.set(-1,0,0,0)}}}function qt(){let Yx=!1,D5=null,wM=null,uM=null;return{setTest:function(fM){fM?Xm(ut.DEPTH_TEST):Jm(ut.DEPTH_TEST)},setMask:function(fM){D5!==fM&&!Yx&&(ut.depthMask(fM),D5=fM)},setFunc:function(fM){if(wM!==fM){switch(fM){case NeverDepth:ut.depthFunc(ut.NEVER);break;case AlwaysDepth:ut.depthFunc(ut.ALWAYS);break;case LessDepth:ut.depthFunc(ut.LESS);break;case LessEqualDepth:ut.depthFunc(ut.LEQUAL);break;case EqualDepth:ut.depthFunc(ut.EQUAL);break;case GreaterEqualDepth:ut.depthFunc(ut.GEQUAL);break;case GreaterDepth:ut.depthFunc(ut.GREATER);break;case NotEqualDepth:ut.depthFunc(ut.NOTEQUAL);break;default:ut.depthFunc(ut.LEQUAL)}wM=fM}},setLocked:function(fM){Yx=fM},setClear:function(fM){uM!==fM&&(ut.clearDepth(fM),uM=fM)},reset:function(){Yx=!1,D5=null,wM=null,uM=null}}}function Zt(){let Yx=!1,D5=null,wM=null,uM=null,fM=null,AM=null,lM=null,vM=null,HM=null;return{setTest:function(xM){Yx||(xM?Xm(ut.STENCIL_TEST):Jm(ut.STENCIL_TEST))},setMask:function(xM){D5!==xM&&!Yx&&(ut.stencilMask(xM),D5=xM)},setFunc:function(xM,RM,VM){(wM!==xM||uM!==RM||fM!==VM)&&(ut.stencilFunc(xM,RM,VM),wM=xM,uM=RM,fM=VM)},setOp:function(xM,RM,VM){(AM!==xM||lM!==RM||vM!==VM)&&(ut.stencilOp(xM,RM,VM),AM=xM,lM=RM,vM=VM)},setLocked:function(xM){Yx=xM},setClear:function(xM){HM!==xM&&(ut.clearStencil(xM),HM=xM)},reset:function(){Yx=!1,D5=null,wM=null,uM=null,fM=null,AM=null,lM=null,vM=null,HM=null}}}const cr=new At,Gr=new qt,Zr=new Zt,xn=new WeakMap,On=new WeakMap;let ss={},ls={},cs=new WeakMap,wl=[],ep=null,Al=!1,np=null,cp=null,Cp=null,Lp=null,jp=null,nm=null,zm=null,i1=!1,d3=null,op=null,Sn=null,Fo=null,as=null;const us=ut.getParameter(ut.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let xl=!1,ip=0;const lp=ut.getParameter(ut.VERSION);lp.indexOf("WebGL")!==-1?(ip=parseFloat(/^WebGL (\d)/.exec(lp)[1]),xl=ip>=1):lp.indexOf("OpenGL ES")!==-1&&(ip=parseFloat(/^OpenGL ES (\d)/.exec(lp)[1]),xl=ip>=2);let pu=null,go={};const h0=ut.getParameter(ut.SCISSOR_BOX),kp=ut.getParameter(ut.VIEWPORT),cm=new Vector4().fromArray(h0),b3=new Vector4().fromArray(kp);function L_(Yx,D5,wM,uM){const fM=new Uint8Array(4),AM=ut.createTexture();ut.bindTexture(Yx,AM),ut.texParameteri(Yx,ut.TEXTURE_MIN_FILTER,ut.NEAREST),ut.texParameteri(Yx,ut.TEXTURE_MAG_FILTER,ut.NEAREST);for(let lM=0;lM<wM;lM++)_t&&(Yx===ut.TEXTURE_3D||Yx===ut.TEXTURE_2D_ARRAY)?ut.texImage3D(D5,0,ut.RGBA,1,1,uM,0,ut.RGBA,ut.UNSIGNED_BYTE,fM):ut.texImage2D(D5+lM,0,ut.RGBA,1,1,0,ut.RGBA,ut.UNSIGNED_BYTE,fM);return AM}const Ym={};Ym[ut.TEXTURE_2D]=L_(ut.TEXTURE_2D,ut.TEXTURE_2D,1),Ym[ut.TEXTURE_CUBE_MAP]=L_(ut.TEXTURE_CUBE_MAP,ut.TEXTURE_CUBE_MAP_POSITIVE_X,6),_t&&(Ym[ut.TEXTURE_2D_ARRAY]=L_(ut.TEXTURE_2D_ARRAY,ut.TEXTURE_2D_ARRAY,1,1),Ym[ut.TEXTURE_3D]=L_(ut.TEXTURE_3D,ut.TEXTURE_3D,1,1)),cr.setClear(0,0,0,1),Gr.setClear(1),Zr.setClear(0),Xm(ut.DEPTH_TEST),Gr.setFunc(LessEqualDepth),Dp(!1),a1(CullFaceBack),Xm(ut.CULL_FACE),t4(NoBlending);function Xm(Yx){ss[Yx]!==!0&&(ut.enable(Yx),ss[Yx]=!0)}function Jm(Yx){ss[Yx]!==!1&&(ut.disable(Yx),ss[Yx]=!1)}function $_(Yx,D5){return ls[Yx]!==D5?(ut.bindFramebuffer(Yx,D5),ls[Yx]=D5,_t&&(Yx===ut.DRAW_FRAMEBUFFER&&(ls[ut.FRAMEBUFFER]=D5),Yx===ut.FRAMEBUFFER&&(ls[ut.DRAW_FRAMEBUFFER]=D5)),!0):!1}function j_(Yx,D5){let wM=wl,uM=!1;if(Yx)if(wM=cs.get(D5),wM===void 0&&(wM=[],cs.set(D5,wM)),Yx.isWebGLMultipleRenderTargets){const fM=Yx.texture;if(wM.length!==fM.length||wM[0]!==ut.COLOR_ATTACHMENT0){for(let AM=0,lM=fM.length;AM<lM;AM++)wM[AM]=ut.COLOR_ATTACHMENT0+AM;wM.length=fM.length,uM=!0}}else wM[0]!==ut.COLOR_ATTACHMENT0&&(wM[0]=ut.COLOR_ATTACHMENT0,uM=!0);else wM[0]!==ut.BACK&&(wM[0]=ut.BACK,uM=!0);uM&&(ht.isWebGL2?ut.drawBuffers(wM):lt.get("WEBGL_draw_buffers").drawBuffersWEBGL(wM))}function h3(Yx){return ep!==Yx?(ut.useProgram(Yx),ep=Yx,!0):!1}const Fp={[AddEquation]:ut.FUNC_ADD,[SubtractEquation]:ut.FUNC_SUBTRACT,[ReverseSubtractEquation]:ut.FUNC_REVERSE_SUBTRACT};if(_t)Fp[MinEquation]=ut.MIN,Fp[MaxEquation]=ut.MAX;else{const Yx=lt.get("EXT_blend_minmax");Yx!==null&&(Fp[MinEquation]=Yx.MIN_EXT,Fp[MaxEquation]=Yx.MAX_EXT)}const W_={[ZeroFactor]:ut.ZERO,[OneFactor]:ut.ONE,[SrcColorFactor]:ut.SRC_COLOR,[SrcAlphaFactor]:ut.SRC_ALPHA,[SrcAlphaSaturateFactor]:ut.SRC_ALPHA_SATURATE,[DstColorFactor]:ut.DST_COLOR,[DstAlphaFactor]:ut.DST_ALPHA,[OneMinusSrcColorFactor]:ut.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:ut.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:ut.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:ut.ONE_MINUS_DST_ALPHA};function t4(Yx,D5,wM,uM,fM,AM,lM,vM){if(Yx===NoBlending){Al===!0&&(Jm(ut.BLEND),Al=!1);return}if(Al===!1&&(Xm(ut.BLEND),Al=!0),Yx!==CustomBlending){if(Yx!==np||vM!==i1){if((cp!==AddEquation||jp!==AddEquation)&&(ut.blendEquation(ut.FUNC_ADD),cp=AddEquation,jp=AddEquation),vM)switch(Yx){case NormalBlending:ut.blendFuncSeparate(ut.ONE,ut.ONE_MINUS_SRC_ALPHA,ut.ONE,ut.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:ut.blendFunc(ut.ONE,ut.ONE);break;case SubtractiveBlending:ut.blendFuncSeparate(ut.ZERO,ut.ONE_MINUS_SRC_COLOR,ut.ZERO,ut.ONE);break;case MultiplyBlending:ut.blendFuncSeparate(ut.ZERO,ut.SRC_COLOR,ut.ZERO,ut.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Yx);break}else switch(Yx){case NormalBlending:ut.blendFuncSeparate(ut.SRC_ALPHA,ut.ONE_MINUS_SRC_ALPHA,ut.ONE,ut.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:ut.blendFunc(ut.SRC_ALPHA,ut.ONE);break;case SubtractiveBlending:ut.blendFuncSeparate(ut.ZERO,ut.ONE_MINUS_SRC_COLOR,ut.ZERO,ut.ONE);break;case MultiplyBlending:ut.blendFunc(ut.ZERO,ut.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Yx);break}Cp=null,Lp=null,nm=null,zm=null,np=Yx,i1=vM}return}fM=fM||D5,AM=AM||wM,lM=lM||uM,(D5!==cp||fM!==jp)&&(ut.blendEquationSeparate(Fp[D5],Fp[fM]),cp=D5,jp=fM),(wM!==Cp||uM!==Lp||AM!==nm||lM!==zm)&&(ut.blendFuncSeparate(W_[wM],W_[uM],W_[AM],W_[lM]),Cp=wM,Lp=uM,nm=AM,zm=lM),np=Yx,i1=!1}function Nw(Yx,D5){Yx.side===DoubleSide?Jm(ut.CULL_FACE):Xm(ut.CULL_FACE);let wM=Yx.side===BackSide;D5&&(wM=!wM),Dp(wM),Yx.blending===NormalBlending&&Yx.transparent===!1?t4(NoBlending):t4(Yx.blending,Yx.blendEquation,Yx.blendSrc,Yx.blendDst,Yx.blendEquationAlpha,Yx.blendSrcAlpha,Yx.blendDstAlpha,Yx.premultipliedAlpha),Gr.setFunc(Yx.depthFunc),Gr.setTest(Yx.depthTest),Gr.setMask(Yx.depthWrite),cr.setMask(Yx.colorWrite);const uM=Yx.stencilWrite;Zr.setTest(uM),uM&&(Zr.setMask(Yx.stencilWriteMask),Zr.setFunc(Yx.stencilFunc,Yx.stencilRef,Yx.stencilFuncMask),Zr.setOp(Yx.stencilFail,Yx.stencilZFail,Yx.stencilZPass)),v3(Yx.polygonOffset,Yx.polygonOffsetFactor,Yx.polygonOffsetUnits),Yx.alphaToCoverage===!0?Xm(ut.SAMPLE_ALPHA_TO_COVERAGE):Jm(ut.SAMPLE_ALPHA_TO_COVERAGE)}function Dp(Yx){d3!==Yx&&(Yx?ut.frontFace(ut.CW):ut.frontFace(ut.CCW),d3=Yx)}function a1(Yx){Yx!==CullFaceNone?(Xm(ut.CULL_FACE),Yx!==op&&(Yx===CullFaceBack?ut.cullFace(ut.BACK):Yx===CullFaceFront?ut.cullFace(ut.FRONT):ut.cullFace(ut.FRONT_AND_BACK))):Jm(ut.CULL_FACE),op=Yx}function zp(Yx){Yx!==Sn&&(xl&&ut.lineWidth(Yx),Sn=Yx)}function v3(Yx,D5,wM){Yx?(Xm(ut.POLYGON_OFFSET_FILL),(Fo!==D5||as!==wM)&&(ut.polygonOffset(D5,wM),Fo=D5,as=wM)):Jm(ut.POLYGON_OFFSET_FILL)}function Mw(Yx){Yx?Xm(ut.SCISSOR_TEST):Jm(ut.SCISSOR_TEST)}function nw(Yx){Yx===void 0&&(Yx=ut.TEXTURE0+us-1),pu!==Yx&&(ut.activeTexture(Yx),pu=Yx)}function n4(Yx,D5,wM){wM===void 0&&(pu===null?wM=ut.TEXTURE0+us-1:wM=pu);let uM=go[wM];uM===void 0&&(uM={type:void 0,texture:void 0},go[wM]=uM),(uM.type!==Yx||uM.texture!==D5)&&(pu!==wM&&(ut.activeTexture(wM),pu=wM),ut.bindTexture(Yx,D5||Ym[Yx]),uM.type=Yx,uM.texture=D5)}function Ww(){const Yx=go[pu];Yx!==void 0&&Yx.type!==void 0&&(ut.bindTexture(Yx.type,null),Yx.type=void 0,Yx.texture=void 0)}function F_(){try{ut.compressedTexImage2D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function qx(){try{ut.compressedTexImage3D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function nM(){try{ut.texSubImage2D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function Hm(){try{ut.texSubImage3D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function y3(){try{ut.compressedTexSubImage2D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function Q_(){try{ut.compressedTexSubImage3D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function Uw(){try{ut.texStorage2D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function s4(){try{ut.texStorage3D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function rM(){try{ut.texImage2D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function c4(){try{ut.texImage3D.apply(ut,arguments)}catch(Yx){console.error("THREE.WebGLState:",Yx)}}function tM(Yx){cm.equals(Yx)===!1&&(ut.scissor(Yx.x,Yx.y,Yx.z,Yx.w),cm.copy(Yx))}function R5(Yx){b3.equals(Yx)===!1&&(ut.viewport(Yx.x,Yx.y,Yx.z,Yx.w),b3.copy(Yx))}function r4(Yx,D5){let wM=On.get(D5);wM===void 0&&(wM=new WeakMap,On.set(D5,wM));let uM=wM.get(Yx);uM===void 0&&(uM=ut.getUniformBlockIndex(D5,Yx.name),wM.set(Yx,uM))}function a4(Yx,D5){const uM=On.get(D5).get(Yx);xn.get(D5)!==uM&&(ut.uniformBlockBinding(D5,uM,Yx.__bindingPointIndex),xn.set(D5,uM))}function cM(){ut.disable(ut.BLEND),ut.disable(ut.CULL_FACE),ut.disable(ut.DEPTH_TEST),ut.disable(ut.POLYGON_OFFSET_FILL),ut.disable(ut.SCISSOR_TEST),ut.disable(ut.STENCIL_TEST),ut.disable(ut.SAMPLE_ALPHA_TO_COVERAGE),ut.blendEquation(ut.FUNC_ADD),ut.blendFunc(ut.ONE,ut.ZERO),ut.blendFuncSeparate(ut.ONE,ut.ZERO,ut.ONE,ut.ZERO),ut.colorMask(!0,!0,!0,!0),ut.clearColor(0,0,0,0),ut.depthMask(!0),ut.depthFunc(ut.LESS),ut.clearDepth(1),ut.stencilMask(4294967295),ut.stencilFunc(ut.ALWAYS,0,4294967295),ut.stencilOp(ut.KEEP,ut.KEEP,ut.KEEP),ut.clearStencil(0),ut.cullFace(ut.BACK),ut.frontFace(ut.CCW),ut.polygonOffset(0,0),ut.activeTexture(ut.TEXTURE0),ut.bindFramebuffer(ut.FRAMEBUFFER,null),_t===!0&&(ut.bindFramebuffer(ut.DRAW_FRAMEBUFFER,null),ut.bindFramebuffer(ut.READ_FRAMEBUFFER,null)),ut.useProgram(null),ut.lineWidth(1),ut.scissor(0,0,ut.canvas.width,ut.canvas.height),ut.viewport(0,0,ut.canvas.width,ut.canvas.height),ss={},pu=null,go={},ls={},cs=new WeakMap,wl=[],ep=null,Al=!1,np=null,cp=null,Cp=null,Lp=null,jp=null,nm=null,zm=null,i1=!1,d3=null,op=null,Sn=null,Fo=null,as=null,cm.set(0,0,ut.canvas.width,ut.canvas.height),b3.set(0,0,ut.canvas.width,ut.canvas.height),cr.reset(),Gr.reset(),Zr.reset()}return{buffers:{color:cr,depth:Gr,stencil:Zr},enable:Xm,disable:Jm,bindFramebuffer:$_,drawBuffers:j_,useProgram:h3,setBlending:t4,setMaterial:Nw,setFlipSided:Dp,setCullFace:a1,setLineWidth:zp,setPolygonOffset:v3,setScissorTest:Mw,activeTexture:nw,bindTexture:n4,unbindTexture:Ww,compressedTexImage2D:F_,compressedTexImage3D:qx,texImage2D:rM,texImage3D:c4,updateUBOMapping:r4,uniformBlockBinding:a4,texStorage2D:Uw,texStorage3D:s4,texSubImage2D:nM,texSubImage3D:Hm,compressedTexSubImage2D:y3,compressedTexSubImage3D:Q_,scissor:tM,viewport:R5,reset:cM}}function WebGLTextures(ut,lt,ht,_t,At,qt,Zt){const cr=At.isWebGL2,Gr=At.maxTextures,Zr=At.maxCubemapSize,xn=At.maxTextureSize,On=At.maxSamples,ss=lt.has("WEBGL_multisampled_render_to_texture")?lt.get("WEBGL_multisampled_render_to_texture"):null,ls=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),cs=new WeakMap;let wl;const ep=new WeakMap;let Al=!1;try{Al=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function np(Ww,F_){return Al?new OffscreenCanvas(Ww,F_):createElementNS("canvas")}function cp(Ww,F_,qx,nM){let Hm=1;if((Ww.width>nM||Ww.height>nM)&&(Hm=nM/Math.max(Ww.width,Ww.height)),Hm<1||F_===!0)if(typeof HTMLImageElement<"u"&&Ww instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Ww instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Ww instanceof ImageBitmap){const y3=F_?floorPowerOfTwo:Math.floor,Q_=y3(Hm*Ww.width),Uw=y3(Hm*Ww.height);wl===void 0&&(wl=np(Q_,Uw));const s4=qx?np(Q_,Uw):wl;return s4.width=Q_,s4.height=Uw,s4.getContext("2d").drawImage(Ww,0,0,Q_,Uw),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ww.width+"x"+Ww.height+") to ("+Q_+"x"+Uw+")."),s4}else return"data"in Ww&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ww.width+"x"+Ww.height+")."),Ww;return Ww}function Cp(Ww){return isPowerOfTwo(Ww.width)&&isPowerOfTwo(Ww.height)}function Lp(Ww){return cr?!1:Ww.wrapS!==ClampToEdgeWrapping||Ww.wrapT!==ClampToEdgeWrapping||Ww.minFilter!==NearestFilter&&Ww.minFilter!==LinearFilter}function jp(Ww,F_){return Ww.generateMipmaps&&F_&&Ww.minFilter!==NearestFilter&&Ww.minFilter!==LinearFilter}function nm(Ww){ut.generateMipmap(Ww)}function zm(Ww,F_,qx,nM,Hm=!1){if(cr===!1)return F_;if(Ww!==null){if(ut[Ww]!==void 0)return ut[Ww];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Ww+"'")}let y3=F_;if(F_===ut.RED&&(qx===ut.FLOAT&&(y3=ut.R32F),qx===ut.HALF_FLOAT&&(y3=ut.R16F),qx===ut.UNSIGNED_BYTE&&(y3=ut.R8)),F_===ut.RED_INTEGER&&(qx===ut.UNSIGNED_BYTE&&(y3=ut.R8UI),qx===ut.UNSIGNED_SHORT&&(y3=ut.R16UI),qx===ut.UNSIGNED_INT&&(y3=ut.R32UI),qx===ut.BYTE&&(y3=ut.R8I),qx===ut.SHORT&&(y3=ut.R16I),qx===ut.INT&&(y3=ut.R32I)),F_===ut.RG&&(qx===ut.FLOAT&&(y3=ut.RG32F),qx===ut.HALF_FLOAT&&(y3=ut.RG16F),qx===ut.UNSIGNED_BYTE&&(y3=ut.RG8)),F_===ut.RGBA){const Q_=Hm?LinearTransfer:ColorManagement.getTransfer(nM);qx===ut.FLOAT&&(y3=ut.RGBA32F),qx===ut.HALF_FLOAT&&(y3=ut.RGBA16F),qx===ut.UNSIGNED_BYTE&&(y3=Q_===SRGBTransfer?ut.SRGB8_ALPHA8:ut.RGBA8),qx===ut.UNSIGNED_SHORT_4_4_4_4&&(y3=ut.RGBA4),qx===ut.UNSIGNED_SHORT_5_5_5_1&&(y3=ut.RGB5_A1)}return(y3===ut.R16F||y3===ut.R32F||y3===ut.RG16F||y3===ut.RG32F||y3===ut.RGBA16F||y3===ut.RGBA32F)&&lt.get("EXT_color_buffer_float"),y3}function i1(Ww,F_,qx){return jp(Ww,qx)===!0||Ww.isFramebufferTexture&&Ww.minFilter!==NearestFilter&&Ww.minFilter!==LinearFilter?Math.log2(Math.max(F_.width,F_.height))+1:Ww.mipmaps!==void 0&&Ww.mipmaps.length>0?Ww.mipmaps.length:Ww.isCompressedTexture&&Array.isArray(Ww.image)?F_.mipmaps.length:1}function d3(Ww){return Ww===NearestFilter||Ww===NearestMipmapNearestFilter||Ww===NearestMipmapLinearFilter?ut.NEAREST:ut.LINEAR}function op(Ww){const F_=Ww.target;F_.removeEventListener("dispose",op),Fo(F_),F_.isVideoTexture&&cs.delete(F_)}function Sn(Ww){const F_=Ww.target;F_.removeEventListener("dispose",Sn),us(F_)}function Fo(Ww){const F_=_t.get(Ww);if(F_.__webglInit===void 0)return;const qx=Ww.source,nM=ep.get(qx);if(nM){const Hm=nM[F_.__cacheKey];Hm.usedTimes--,Hm.usedTimes===0&&as(Ww),Object.keys(nM).length===0&&ep.delete(qx)}_t.remove(Ww)}function as(Ww){const F_=_t.get(Ww);ut.deleteTexture(F_.__webglTexture);const qx=Ww.source,nM=ep.get(qx);delete nM[F_.__cacheKey],Zt.memory.textures--}function us(Ww){const F_=Ww.texture,qx=_t.get(Ww),nM=_t.get(F_);if(nM.__webglTexture!==void 0&&(ut.deleteTexture(nM.__webglTexture),Zt.memory.textures--),Ww.depthTexture&&Ww.depthTexture.dispose(),Ww.isWebGLCubeRenderTarget)for(let Hm=0;Hm<6;Hm++){if(Array.isArray(qx.__webglFramebuffer[Hm]))for(let y3=0;y3<qx.__webglFramebuffer[Hm].length;y3++)ut.deleteFramebuffer(qx.__webglFramebuffer[Hm][y3]);else ut.deleteFramebuffer(qx.__webglFramebuffer[Hm]);qx.__webglDepthbuffer&&ut.deleteRenderbuffer(qx.__webglDepthbuffer[Hm])}else{if(Array.isArray(qx.__webglFramebuffer))for(let Hm=0;Hm<qx.__webglFramebuffer.length;Hm++)ut.deleteFramebuffer(qx.__webglFramebuffer[Hm]);else ut.deleteFramebuffer(qx.__webglFramebuffer);if(qx.__webglDepthbuffer&&ut.deleteRenderbuffer(qx.__webglDepthbuffer),qx.__webglMultisampledFramebuffer&&ut.deleteFramebuffer(qx.__webglMultisampledFramebuffer),qx.__webglColorRenderbuffer)for(let Hm=0;Hm<qx.__webglColorRenderbuffer.length;Hm++)qx.__webglColorRenderbuffer[Hm]&&ut.deleteRenderbuffer(qx.__webglColorRenderbuffer[Hm]);qx.__webglDepthRenderbuffer&&ut.deleteRenderbuffer(qx.__webglDepthRenderbuffer)}if(Ww.isWebGLMultipleRenderTargets)for(let Hm=0,y3=F_.length;Hm<y3;Hm++){const Q_=_t.get(F_[Hm]);Q_.__webglTexture&&(ut.deleteTexture(Q_.__webglTexture),Zt.memory.textures--),_t.remove(F_[Hm])}_t.remove(F_),_t.remove(Ww)}let xl=0;function ip(){xl=0}function lp(){const Ww=xl;return Ww>=Gr&&console.warn("THREE.WebGLTextures: Trying to use "+Ww+" texture units while this GPU supports only "+Gr),xl+=1,Ww}function pu(Ww){const F_=[];return F_.push(Ww.wrapS),F_.push(Ww.wrapT),F_.push(Ww.wrapR||0),F_.push(Ww.magFilter),F_.push(Ww.minFilter),F_.push(Ww.anisotropy),F_.push(Ww.internalFormat),F_.push(Ww.format),F_.push(Ww.type),F_.push(Ww.generateMipmaps),F_.push(Ww.premultiplyAlpha),F_.push(Ww.flipY),F_.push(Ww.unpackAlignment),F_.push(Ww.colorSpace),F_.join()}function go(Ww,F_){const qx=_t.get(Ww);if(Ww.isVideoTexture&&nw(Ww),Ww.isRenderTargetTexture===!1&&Ww.version>0&&qx.__version!==Ww.version){const nM=Ww.image;if(nM===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(nM.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{$_(qx,Ww,F_);return}}ht.bindTexture(ut.TEXTURE_2D,qx.__webglTexture,ut.TEXTURE0+F_)}function h0(Ww,F_){const qx=_t.get(Ww);if(Ww.version>0&&qx.__version!==Ww.version){$_(qx,Ww,F_);return}ht.bindTexture(ut.TEXTURE_2D_ARRAY,qx.__webglTexture,ut.TEXTURE0+F_)}function kp(Ww,F_){const qx=_t.get(Ww);if(Ww.version>0&&qx.__version!==Ww.version){$_(qx,Ww,F_);return}ht.bindTexture(ut.TEXTURE_3D,qx.__webglTexture,ut.TEXTURE0+F_)}function cm(Ww,F_){const qx=_t.get(Ww);if(Ww.version>0&&qx.__version!==Ww.version){j_(qx,Ww,F_);return}ht.bindTexture(ut.TEXTURE_CUBE_MAP,qx.__webglTexture,ut.TEXTURE0+F_)}const b3={[RepeatWrapping]:ut.REPEAT,[ClampToEdgeWrapping]:ut.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:ut.MIRRORED_REPEAT},L_={[NearestFilter]:ut.NEAREST,[NearestMipmapNearestFilter]:ut.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:ut.NEAREST_MIPMAP_LINEAR,[LinearFilter]:ut.LINEAR,[LinearMipmapNearestFilter]:ut.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:ut.LINEAR_MIPMAP_LINEAR},Ym={[NeverCompare]:ut.NEVER,[AlwaysCompare]:ut.ALWAYS,[LessCompare]:ut.LESS,[LessEqualCompare]:ut.LEQUAL,[EqualCompare]:ut.EQUAL,[GreaterEqualCompare]:ut.GEQUAL,[GreaterCompare]:ut.GREATER,[NotEqualCompare]:ut.NOTEQUAL};function Xm(Ww,F_,qx){if(qx?(ut.texParameteri(Ww,ut.TEXTURE_WRAP_S,b3[F_.wrapS]),ut.texParameteri(Ww,ut.TEXTURE_WRAP_T,b3[F_.wrapT]),(Ww===ut.TEXTURE_3D||Ww===ut.TEXTURE_2D_ARRAY)&&ut.texParameteri(Ww,ut.TEXTURE_WRAP_R,b3[F_.wrapR]),ut.texParameteri(Ww,ut.TEXTURE_MAG_FILTER,L_[F_.magFilter]),ut.texParameteri(Ww,ut.TEXTURE_MIN_FILTER,L_[F_.minFilter])):(ut.texParameteri(Ww,ut.TEXTURE_WRAP_S,ut.CLAMP_TO_EDGE),ut.texParameteri(Ww,ut.TEXTURE_WRAP_T,ut.CLAMP_TO_EDGE),(Ww===ut.TEXTURE_3D||Ww===ut.TEXTURE_2D_ARRAY)&&ut.texParameteri(Ww,ut.TEXTURE_WRAP_R,ut.CLAMP_TO_EDGE),(F_.wrapS!==ClampToEdgeWrapping||F_.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),ut.texParameteri(Ww,ut.TEXTURE_MAG_FILTER,d3(F_.magFilter)),ut.texParameteri(Ww,ut.TEXTURE_MIN_FILTER,d3(F_.minFilter)),F_.minFilter!==NearestFilter&&F_.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),F_.compareFunction&&(ut.texParameteri(Ww,ut.TEXTURE_COMPARE_MODE,ut.COMPARE_REF_TO_TEXTURE),ut.texParameteri(Ww,ut.TEXTURE_COMPARE_FUNC,Ym[F_.compareFunction])),lt.has("EXT_texture_filter_anisotropic")===!0){const nM=lt.get("EXT_texture_filter_anisotropic");if(F_.magFilter===NearestFilter||F_.minFilter!==NearestMipmapLinearFilter&&F_.minFilter!==LinearMipmapLinearFilter||F_.type===FloatType&&lt.has("OES_texture_float_linear")===!1||cr===!1&&F_.type===HalfFloatType&&lt.has("OES_texture_half_float_linear")===!1)return;(F_.anisotropy>1||_t.get(F_).__currentAnisotropy)&&(ut.texParameterf(Ww,nM.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F_.anisotropy,At.getMaxAnisotropy())),_t.get(F_).__currentAnisotropy=F_.anisotropy)}}function Jm(Ww,F_){let qx=!1;Ww.__webglInit===void 0&&(Ww.__webglInit=!0,F_.addEventListener("dispose",op));const nM=F_.source;let Hm=ep.get(nM);Hm===void 0&&(Hm={},ep.set(nM,Hm));const y3=pu(F_);if(y3!==Ww.__cacheKey){Hm[y3]===void 0&&(Hm[y3]={texture:ut.createTexture(),usedTimes:0},Zt.memory.textures++,qx=!0),Hm[y3].usedTimes++;const Q_=Hm[Ww.__cacheKey];Q_!==void 0&&(Hm[Ww.__cacheKey].usedTimes--,Q_.usedTimes===0&&as(F_)),Ww.__cacheKey=y3,Ww.__webglTexture=Hm[y3].texture}return qx}function $_(Ww,F_,qx){let nM=ut.TEXTURE_2D;(F_.isDataArrayTexture||F_.isCompressedArrayTexture)&&(nM=ut.TEXTURE_2D_ARRAY),F_.isData3DTexture&&(nM=ut.TEXTURE_3D);const Hm=Jm(Ww,F_),y3=F_.source;ht.bindTexture(nM,Ww.__webglTexture,ut.TEXTURE0+qx);const Q_=_t.get(y3);if(y3.version!==Q_.__version||Hm===!0){ht.activeTexture(ut.TEXTURE0+qx);const Uw=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),s4=F_.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(F_.colorSpace),rM=F_.colorSpace===NoColorSpace||Uw===s4?ut.NONE:ut.BROWSER_DEFAULT_WEBGL;ut.pixelStorei(ut.UNPACK_FLIP_Y_WEBGL,F_.flipY),ut.pixelStorei(ut.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F_.premultiplyAlpha),ut.pixelStorei(ut.UNPACK_ALIGNMENT,F_.unpackAlignment),ut.pixelStorei(ut.UNPACK_COLORSPACE_CONVERSION_WEBGL,rM);const c4=Lp(F_)&&Cp(F_.image)===!1;let tM=cp(F_.image,c4,!1,xn);tM=n4(F_,tM);const R5=Cp(tM)||cr,r4=qt.convert(F_.format,F_.colorSpace);let a4=qt.convert(F_.type),cM=zm(F_.internalFormat,r4,a4,F_.colorSpace,F_.isVideoTexture);Xm(nM,F_,R5);let Yx;const D5=F_.mipmaps,wM=cr&&F_.isVideoTexture!==!0,uM=Q_.__version===void 0||Hm===!0,fM=i1(F_,tM,R5);if(F_.isDepthTexture)cM=ut.DEPTH_COMPONENT,cr?F_.type===FloatType?cM=ut.DEPTH_COMPONENT32F:F_.type===UnsignedIntType?cM=ut.DEPTH_COMPONENT24:F_.type===UnsignedInt248Type?cM=ut.DEPTH24_STENCIL8:cM=ut.DEPTH_COMPONENT16:F_.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),F_.format===DepthFormat&&cM===ut.DEPTH_COMPONENT&&F_.type!==UnsignedShortType&&F_.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),F_.type=UnsignedIntType,a4=qt.convert(F_.type)),F_.format===DepthStencilFormat&&cM===ut.DEPTH_COMPONENT&&(cM=ut.DEPTH_STENCIL,F_.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),F_.type=UnsignedInt248Type,a4=qt.convert(F_.type))),uM&&(wM?ht.texStorage2D(ut.TEXTURE_2D,1,cM,tM.width,tM.height):ht.texImage2D(ut.TEXTURE_2D,0,cM,tM.width,tM.height,0,r4,a4,null));else if(F_.isDataTexture)if(D5.length>0&&R5){wM&&uM&&ht.texStorage2D(ut.TEXTURE_2D,fM,cM,D5[0].width,D5[0].height);for(let AM=0,lM=D5.length;AM<lM;AM++)Yx=D5[AM],wM?ht.texSubImage2D(ut.TEXTURE_2D,AM,0,0,Yx.width,Yx.height,r4,a4,Yx.data):ht.texImage2D(ut.TEXTURE_2D,AM,cM,Yx.width,Yx.height,0,r4,a4,Yx.data);F_.generateMipmaps=!1}else wM?(uM&&ht.texStorage2D(ut.TEXTURE_2D,fM,cM,tM.width,tM.height),ht.texSubImage2D(ut.TEXTURE_2D,0,0,0,tM.width,tM.height,r4,a4,tM.data)):ht.texImage2D(ut.TEXTURE_2D,0,cM,tM.width,tM.height,0,r4,a4,tM.data);else if(F_.isCompressedTexture)if(F_.isCompressedArrayTexture){wM&&uM&&ht.texStorage3D(ut.TEXTURE_2D_ARRAY,fM,cM,D5[0].width,D5[0].height,tM.depth);for(let AM=0,lM=D5.length;AM<lM;AM++)Yx=D5[AM],F_.format!==RGBAFormat?r4!==null?wM?ht.compressedTexSubImage3D(ut.TEXTURE_2D_ARRAY,AM,0,0,0,Yx.width,Yx.height,tM.depth,r4,Yx.data,0,0):ht.compressedTexImage3D(ut.TEXTURE_2D_ARRAY,AM,cM,Yx.width,Yx.height,tM.depth,0,Yx.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wM?ht.texSubImage3D(ut.TEXTURE_2D_ARRAY,AM,0,0,0,Yx.width,Yx.height,tM.depth,r4,a4,Yx.data):ht.texImage3D(ut.TEXTURE_2D_ARRAY,AM,cM,Yx.width,Yx.height,tM.depth,0,r4,a4,Yx.data)}else{wM&&uM&&ht.texStorage2D(ut.TEXTURE_2D,fM,cM,D5[0].width,D5[0].height);for(let AM=0,lM=D5.length;AM<lM;AM++)Yx=D5[AM],F_.format!==RGBAFormat?r4!==null?wM?ht.compressedTexSubImage2D(ut.TEXTURE_2D,AM,0,0,Yx.width,Yx.height,r4,Yx.data):ht.compressedTexImage2D(ut.TEXTURE_2D,AM,cM,Yx.width,Yx.height,0,Yx.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):wM?ht.texSubImage2D(ut.TEXTURE_2D,AM,0,0,Yx.width,Yx.height,r4,a4,Yx.data):ht.texImage2D(ut.TEXTURE_2D,AM,cM,Yx.width,Yx.height,0,r4,a4,Yx.data)}else if(F_.isDataArrayTexture)wM?(uM&&ht.texStorage3D(ut.TEXTURE_2D_ARRAY,fM,cM,tM.width,tM.height,tM.depth),ht.texSubImage3D(ut.TEXTURE_2D_ARRAY,0,0,0,0,tM.width,tM.height,tM.depth,r4,a4,tM.data)):ht.texImage3D(ut.TEXTURE_2D_ARRAY,0,cM,tM.width,tM.height,tM.depth,0,r4,a4,tM.data);else if(F_.isData3DTexture)wM?(uM&&ht.texStorage3D(ut.TEXTURE_3D,fM,cM,tM.width,tM.height,tM.depth),ht.texSubImage3D(ut.TEXTURE_3D,0,0,0,0,tM.width,tM.height,tM.depth,r4,a4,tM.data)):ht.texImage3D(ut.TEXTURE_3D,0,cM,tM.width,tM.height,tM.depth,0,r4,a4,tM.data);else if(F_.isFramebufferTexture){if(uM)if(wM)ht.texStorage2D(ut.TEXTURE_2D,fM,cM,tM.width,tM.height);else{let AM=tM.width,lM=tM.height;for(let vM=0;vM<fM;vM++)ht.texImage2D(ut.TEXTURE_2D,vM,cM,AM,lM,0,r4,a4,null),AM>>=1,lM>>=1}}else if(D5.length>0&&R5){wM&&uM&&ht.texStorage2D(ut.TEXTURE_2D,fM,cM,D5[0].width,D5[0].height);for(let AM=0,lM=D5.length;AM<lM;AM++)Yx=D5[AM],wM?ht.texSubImage2D(ut.TEXTURE_2D,AM,0,0,r4,a4,Yx):ht.texImage2D(ut.TEXTURE_2D,AM,cM,r4,a4,Yx);F_.generateMipmaps=!1}else wM?(uM&&ht.texStorage2D(ut.TEXTURE_2D,fM,cM,tM.width,tM.height),ht.texSubImage2D(ut.TEXTURE_2D,0,0,0,r4,a4,tM)):ht.texImage2D(ut.TEXTURE_2D,0,cM,r4,a4,tM);jp(F_,R5)&&nm(nM),Q_.__version=y3.version,F_.onUpdate&&F_.onUpdate(F_)}Ww.__version=F_.version}function j_(Ww,F_,qx){if(F_.image.length!==6)return;const nM=Jm(Ww,F_),Hm=F_.source;ht.bindTexture(ut.TEXTURE_CUBE_MAP,Ww.__webglTexture,ut.TEXTURE0+qx);const y3=_t.get(Hm);if(Hm.version!==y3.__version||nM===!0){ht.activeTexture(ut.TEXTURE0+qx);const Q_=ColorManagement.getPrimaries(ColorManagement.workingColorSpace),Uw=F_.colorSpace===NoColorSpace?null:ColorManagement.getPrimaries(F_.colorSpace),s4=F_.colorSpace===NoColorSpace||Q_===Uw?ut.NONE:ut.BROWSER_DEFAULT_WEBGL;ut.pixelStorei(ut.UNPACK_FLIP_Y_WEBGL,F_.flipY),ut.pixelStorei(ut.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F_.premultiplyAlpha),ut.pixelStorei(ut.UNPACK_ALIGNMENT,F_.unpackAlignment),ut.pixelStorei(ut.UNPACK_COLORSPACE_CONVERSION_WEBGL,s4);const rM=F_.isCompressedTexture||F_.image[0].isCompressedTexture,c4=F_.image[0]&&F_.image[0].isDataTexture,tM=[];for(let AM=0;AM<6;AM++)!rM&&!c4?tM[AM]=cp(F_.image[AM],!1,!0,Zr):tM[AM]=c4?F_.image[AM].image:F_.image[AM],tM[AM]=n4(F_,tM[AM]);const R5=tM[0],r4=Cp(R5)||cr,a4=qt.convert(F_.format,F_.colorSpace),cM=qt.convert(F_.type),Yx=zm(F_.internalFormat,a4,cM,F_.colorSpace),D5=cr&&F_.isVideoTexture!==!0,wM=y3.__version===void 0||nM===!0;let uM=i1(F_,R5,r4);Xm(ut.TEXTURE_CUBE_MAP,F_,r4);let fM;if(rM){D5&&wM&&ht.texStorage2D(ut.TEXTURE_CUBE_MAP,uM,Yx,R5.width,R5.height);for(let AM=0;AM<6;AM++){fM=tM[AM].mipmaps;for(let lM=0;lM<fM.length;lM++){const vM=fM[lM];F_.format!==RGBAFormat?a4!==null?D5?ht.compressedTexSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM,0,0,vM.width,vM.height,a4,vM.data):ht.compressedTexImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM,Yx,vM.width,vM.height,0,vM.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):D5?ht.texSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM,0,0,vM.width,vM.height,a4,cM,vM.data):ht.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM,Yx,vM.width,vM.height,0,a4,cM,vM.data)}}}else{fM=F_.mipmaps,D5&&wM&&(fM.length>0&&uM++,ht.texStorage2D(ut.TEXTURE_CUBE_MAP,uM,Yx,tM[0].width,tM[0].height));for(let AM=0;AM<6;AM++)if(c4){D5?ht.texSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,0,0,0,tM[AM].width,tM[AM].height,a4,cM,tM[AM].data):ht.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,0,Yx,tM[AM].width,tM[AM].height,0,a4,cM,tM[AM].data);for(let lM=0;lM<fM.length;lM++){const HM=fM[lM].image[AM].image;D5?ht.texSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM+1,0,0,HM.width,HM.height,a4,cM,HM.data):ht.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM+1,Yx,HM.width,HM.height,0,a4,cM,HM.data)}}else{D5?ht.texSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,0,0,0,a4,cM,tM[AM]):ht.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,0,Yx,a4,cM,tM[AM]);for(let lM=0;lM<fM.length;lM++){const vM=fM[lM];D5?ht.texSubImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM+1,0,0,a4,cM,vM.image[AM]):ht.texImage2D(ut.TEXTURE_CUBE_MAP_POSITIVE_X+AM,lM+1,Yx,a4,cM,vM.image[AM])}}}jp(F_,r4)&&nm(ut.TEXTURE_CUBE_MAP),y3.__version=Hm.version,F_.onUpdate&&F_.onUpdate(F_)}Ww.__version=F_.version}function h3(Ww,F_,qx,nM,Hm,y3){const Q_=qt.convert(qx.format,qx.colorSpace),Uw=qt.convert(qx.type),s4=zm(qx.internalFormat,Q_,Uw,qx.colorSpace);if(!_t.get(F_).__hasExternalTextures){const c4=Math.max(1,F_.width>>y3),tM=Math.max(1,F_.height>>y3);Hm===ut.TEXTURE_3D||Hm===ut.TEXTURE_2D_ARRAY?ht.texImage3D(Hm,y3,s4,c4,tM,F_.depth,0,Q_,Uw,null):ht.texImage2D(Hm,y3,s4,c4,tM,0,Q_,Uw,null)}ht.bindFramebuffer(ut.FRAMEBUFFER,Ww),Mw(F_)?ss.framebufferTexture2DMultisampleEXT(ut.FRAMEBUFFER,nM,Hm,_t.get(qx).__webglTexture,0,v3(F_)):(Hm===ut.TEXTURE_2D||Hm>=ut.TEXTURE_CUBE_MAP_POSITIVE_X&&Hm<=ut.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&ut.framebufferTexture2D(ut.FRAMEBUFFER,nM,Hm,_t.get(qx).__webglTexture,y3),ht.bindFramebuffer(ut.FRAMEBUFFER,null)}function Fp(Ww,F_,qx){if(ut.bindRenderbuffer(ut.RENDERBUFFER,Ww),F_.depthBuffer&&!F_.stencilBuffer){let nM=cr===!0?ut.DEPTH_COMPONENT24:ut.DEPTH_COMPONENT16;if(qx||Mw(F_)){const Hm=F_.depthTexture;Hm&&Hm.isDepthTexture&&(Hm.type===FloatType?nM=ut.DEPTH_COMPONENT32F:Hm.type===UnsignedIntType&&(nM=ut.DEPTH_COMPONENT24));const y3=v3(F_);Mw(F_)?ss.renderbufferStorageMultisampleEXT(ut.RENDERBUFFER,y3,nM,F_.width,F_.height):ut.renderbufferStorageMultisample(ut.RENDERBUFFER,y3,nM,F_.width,F_.height)}else ut.renderbufferStorage(ut.RENDERBUFFER,nM,F_.width,F_.height);ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.DEPTH_ATTACHMENT,ut.RENDERBUFFER,Ww)}else if(F_.depthBuffer&&F_.stencilBuffer){const nM=v3(F_);qx&&Mw(F_)===!1?ut.renderbufferStorageMultisample(ut.RENDERBUFFER,nM,ut.DEPTH24_STENCIL8,F_.width,F_.height):Mw(F_)?ss.renderbufferStorageMultisampleEXT(ut.RENDERBUFFER,nM,ut.DEPTH24_STENCIL8,F_.width,F_.height):ut.renderbufferStorage(ut.RENDERBUFFER,ut.DEPTH_STENCIL,F_.width,F_.height),ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.DEPTH_STENCIL_ATTACHMENT,ut.RENDERBUFFER,Ww)}else{const nM=F_.isWebGLMultipleRenderTargets===!0?F_.texture:[F_.texture];for(let Hm=0;Hm<nM.length;Hm++){const y3=nM[Hm],Q_=qt.convert(y3.format,y3.colorSpace),Uw=qt.convert(y3.type),s4=zm(y3.internalFormat,Q_,Uw,y3.colorSpace),rM=v3(F_);qx&&Mw(F_)===!1?ut.renderbufferStorageMultisample(ut.RENDERBUFFER,rM,s4,F_.width,F_.height):Mw(F_)?ss.renderbufferStorageMultisampleEXT(ut.RENDERBUFFER,rM,s4,F_.width,F_.height):ut.renderbufferStorage(ut.RENDERBUFFER,s4,F_.width,F_.height)}}ut.bindRenderbuffer(ut.RENDERBUFFER,null)}function W_(Ww,F_){if(F_&&F_.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(ht.bindFramebuffer(ut.FRAMEBUFFER,Ww),!(F_.depthTexture&&F_.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!_t.get(F_.depthTexture).__webglTexture||F_.depthTexture.image.width!==F_.width||F_.depthTexture.image.height!==F_.height)&&(F_.depthTexture.image.width=F_.width,F_.depthTexture.image.height=F_.height,F_.depthTexture.needsUpdate=!0),go(F_.depthTexture,0);const nM=_t.get(F_.depthTexture).__webglTexture,Hm=v3(F_);if(F_.depthTexture.format===DepthFormat)Mw(F_)?ss.framebufferTexture2DMultisampleEXT(ut.FRAMEBUFFER,ut.DEPTH_ATTACHMENT,ut.TEXTURE_2D,nM,0,Hm):ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.DEPTH_ATTACHMENT,ut.TEXTURE_2D,nM,0);else if(F_.depthTexture.format===DepthStencilFormat)Mw(F_)?ss.framebufferTexture2DMultisampleEXT(ut.FRAMEBUFFER,ut.DEPTH_STENCIL_ATTACHMENT,ut.TEXTURE_2D,nM,0,Hm):ut.framebufferTexture2D(ut.FRAMEBUFFER,ut.DEPTH_STENCIL_ATTACHMENT,ut.TEXTURE_2D,nM,0);else throw new Error("Unknown depthTexture format")}function t4(Ww){const F_=_t.get(Ww),qx=Ww.isWebGLCubeRenderTarget===!0;if(Ww.depthTexture&&!F_.__autoAllocateDepthBuffer){if(qx)throw new Error("target.depthTexture not supported in Cube render targets");W_(F_.__webglFramebuffer,Ww)}else if(qx){F_.__webglDepthbuffer=[];for(let nM=0;nM<6;nM++)ht.bindFramebuffer(ut.FRAMEBUFFER,F_.__webglFramebuffer[nM]),F_.__webglDepthbuffer[nM]=ut.createRenderbuffer(),Fp(F_.__webglDepthbuffer[nM],Ww,!1)}else ht.bindFramebuffer(ut.FRAMEBUFFER,F_.__webglFramebuffer),F_.__webglDepthbuffer=ut.createRenderbuffer(),Fp(F_.__webglDepthbuffer,Ww,!1);ht.bindFramebuffer(ut.FRAMEBUFFER,null)}function Nw(Ww,F_,qx){const nM=_t.get(Ww);F_!==void 0&&h3(nM.__webglFramebuffer,Ww,Ww.texture,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,0),qx!==void 0&&t4(Ww)}function Dp(Ww){const F_=Ww.texture,qx=_t.get(Ww),nM=_t.get(F_);Ww.addEventListener("dispose",Sn),Ww.isWebGLMultipleRenderTargets!==!0&&(nM.__webglTexture===void 0&&(nM.__webglTexture=ut.createTexture()),nM.__version=F_.version,Zt.memory.textures++);const Hm=Ww.isWebGLCubeRenderTarget===!0,y3=Ww.isWebGLMultipleRenderTargets===!0,Q_=Cp(Ww)||cr;if(Hm){qx.__webglFramebuffer=[];for(let Uw=0;Uw<6;Uw++)if(cr&&F_.mipmaps&&F_.mipmaps.length>0){qx.__webglFramebuffer[Uw]=[];for(let s4=0;s4<F_.mipmaps.length;s4++)qx.__webglFramebuffer[Uw][s4]=ut.createFramebuffer()}else qx.__webglFramebuffer[Uw]=ut.createFramebuffer()}else{if(cr&&F_.mipmaps&&F_.mipmaps.length>0){qx.__webglFramebuffer=[];for(let Uw=0;Uw<F_.mipmaps.length;Uw++)qx.__webglFramebuffer[Uw]=ut.createFramebuffer()}else qx.__webglFramebuffer=ut.createFramebuffer();if(y3)if(At.drawBuffers){const Uw=Ww.texture;for(let s4=0,rM=Uw.length;s4<rM;s4++){const c4=_t.get(Uw[s4]);c4.__webglTexture===void 0&&(c4.__webglTexture=ut.createTexture(),Zt.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(cr&&Ww.samples>0&&Mw(Ww)===!1){const Uw=y3?F_:[F_];qx.__webglMultisampledFramebuffer=ut.createFramebuffer(),qx.__webglColorRenderbuffer=[],ht.bindFramebuffer(ut.FRAMEBUFFER,qx.__webglMultisampledFramebuffer);for(let s4=0;s4<Uw.length;s4++){const rM=Uw[s4];qx.__webglColorRenderbuffer[s4]=ut.createRenderbuffer(),ut.bindRenderbuffer(ut.RENDERBUFFER,qx.__webglColorRenderbuffer[s4]);const c4=qt.convert(rM.format,rM.colorSpace),tM=qt.convert(rM.type),R5=zm(rM.internalFormat,c4,tM,rM.colorSpace,Ww.isXRRenderTarget===!0),r4=v3(Ww);ut.renderbufferStorageMultisample(ut.RENDERBUFFER,r4,R5,Ww.width,Ww.height),ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+s4,ut.RENDERBUFFER,qx.__webglColorRenderbuffer[s4])}ut.bindRenderbuffer(ut.RENDERBUFFER,null),Ww.depthBuffer&&(qx.__webglDepthRenderbuffer=ut.createRenderbuffer(),Fp(qx.__webglDepthRenderbuffer,Ww,!0)),ht.bindFramebuffer(ut.FRAMEBUFFER,null)}}if(Hm){ht.bindTexture(ut.TEXTURE_CUBE_MAP,nM.__webglTexture),Xm(ut.TEXTURE_CUBE_MAP,F_,Q_);for(let Uw=0;Uw<6;Uw++)if(cr&&F_.mipmaps&&F_.mipmaps.length>0)for(let s4=0;s4<F_.mipmaps.length;s4++)h3(qx.__webglFramebuffer[Uw][s4],Ww,F_,ut.COLOR_ATTACHMENT0,ut.TEXTURE_CUBE_MAP_POSITIVE_X+Uw,s4);else h3(qx.__webglFramebuffer[Uw],Ww,F_,ut.COLOR_ATTACHMENT0,ut.TEXTURE_CUBE_MAP_POSITIVE_X+Uw,0);jp(F_,Q_)&&nm(ut.TEXTURE_CUBE_MAP),ht.unbindTexture()}else if(y3){const Uw=Ww.texture;for(let s4=0,rM=Uw.length;s4<rM;s4++){const c4=Uw[s4],tM=_t.get(c4);ht.bindTexture(ut.TEXTURE_2D,tM.__webglTexture),Xm(ut.TEXTURE_2D,c4,Q_),h3(qx.__webglFramebuffer,Ww,c4,ut.COLOR_ATTACHMENT0+s4,ut.TEXTURE_2D,0),jp(c4,Q_)&&nm(ut.TEXTURE_2D)}ht.unbindTexture()}else{let Uw=ut.TEXTURE_2D;if((Ww.isWebGL3DRenderTarget||Ww.isWebGLArrayRenderTarget)&&(cr?Uw=Ww.isWebGL3DRenderTarget?ut.TEXTURE_3D:ut.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),ht.bindTexture(Uw,nM.__webglTexture),Xm(Uw,F_,Q_),cr&&F_.mipmaps&&F_.mipmaps.length>0)for(let s4=0;s4<F_.mipmaps.length;s4++)h3(qx.__webglFramebuffer[s4],Ww,F_,ut.COLOR_ATTACHMENT0,Uw,s4);else h3(qx.__webglFramebuffer,Ww,F_,ut.COLOR_ATTACHMENT0,Uw,0);jp(F_,Q_)&&nm(Uw),ht.unbindTexture()}Ww.depthBuffer&&t4(Ww)}function a1(Ww){const F_=Cp(Ww)||cr,qx=Ww.isWebGLMultipleRenderTargets===!0?Ww.texture:[Ww.texture];for(let nM=0,Hm=qx.length;nM<Hm;nM++){const y3=qx[nM];if(jp(y3,F_)){const Q_=Ww.isWebGLCubeRenderTarget?ut.TEXTURE_CUBE_MAP:ut.TEXTURE_2D,Uw=_t.get(y3).__webglTexture;ht.bindTexture(Q_,Uw),nm(Q_),ht.unbindTexture()}}}function zp(Ww){if(cr&&Ww.samples>0&&Mw(Ww)===!1){const F_=Ww.isWebGLMultipleRenderTargets?Ww.texture:[Ww.texture],qx=Ww.width,nM=Ww.height;let Hm=ut.COLOR_BUFFER_BIT;const y3=[],Q_=Ww.stencilBuffer?ut.DEPTH_STENCIL_ATTACHMENT:ut.DEPTH_ATTACHMENT,Uw=_t.get(Ww),s4=Ww.isWebGLMultipleRenderTargets===!0;if(s4)for(let rM=0;rM<F_.length;rM++)ht.bindFramebuffer(ut.FRAMEBUFFER,Uw.__webglMultisampledFramebuffer),ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+rM,ut.RENDERBUFFER,null),ht.bindFramebuffer(ut.FRAMEBUFFER,Uw.__webglFramebuffer),ut.framebufferTexture2D(ut.DRAW_FRAMEBUFFER,ut.COLOR_ATTACHMENT0+rM,ut.TEXTURE_2D,null,0);ht.bindFramebuffer(ut.READ_FRAMEBUFFER,Uw.__webglMultisampledFramebuffer),ht.bindFramebuffer(ut.DRAW_FRAMEBUFFER,Uw.__webglFramebuffer);for(let rM=0;rM<F_.length;rM++){y3.push(ut.COLOR_ATTACHMENT0+rM),Ww.depthBuffer&&y3.push(Q_);const c4=Uw.__ignoreDepthValues!==void 0?Uw.__ignoreDepthValues:!1;if(c4===!1&&(Ww.depthBuffer&&(Hm|=ut.DEPTH_BUFFER_BIT),Ww.stencilBuffer&&(Hm|=ut.STENCIL_BUFFER_BIT)),s4&&ut.framebufferRenderbuffer(ut.READ_FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.RENDERBUFFER,Uw.__webglColorRenderbuffer[rM]),c4===!0&&(ut.invalidateFramebuffer(ut.READ_FRAMEBUFFER,[Q_]),ut.invalidateFramebuffer(ut.DRAW_FRAMEBUFFER,[Q_])),s4){const tM=_t.get(F_[rM]).__webglTexture;ut.framebufferTexture2D(ut.DRAW_FRAMEBUFFER,ut.COLOR_ATTACHMENT0,ut.TEXTURE_2D,tM,0)}ut.blitFramebuffer(0,0,qx,nM,0,0,qx,nM,Hm,ut.NEAREST),ls&&ut.invalidateFramebuffer(ut.READ_FRAMEBUFFER,y3)}if(ht.bindFramebuffer(ut.READ_FRAMEBUFFER,null),ht.bindFramebuffer(ut.DRAW_FRAMEBUFFER,null),s4)for(let rM=0;rM<F_.length;rM++){ht.bindFramebuffer(ut.FRAMEBUFFER,Uw.__webglMultisampledFramebuffer),ut.framebufferRenderbuffer(ut.FRAMEBUFFER,ut.COLOR_ATTACHMENT0+rM,ut.RENDERBUFFER,Uw.__webglColorRenderbuffer[rM]);const c4=_t.get(F_[rM]).__webglTexture;ht.bindFramebuffer(ut.FRAMEBUFFER,Uw.__webglFramebuffer),ut.framebufferTexture2D(ut.DRAW_FRAMEBUFFER,ut.COLOR_ATTACHMENT0+rM,ut.TEXTURE_2D,c4,0)}ht.bindFramebuffer(ut.DRAW_FRAMEBUFFER,Uw.__webglMultisampledFramebuffer)}}function v3(Ww){return Math.min(On,Ww.samples)}function Mw(Ww){const F_=_t.get(Ww);return cr&&Ww.samples>0&&lt.has("WEBGL_multisampled_render_to_texture")===!0&&F_.__useRenderToTexture!==!1}function nw(Ww){const F_=Zt.render.frame;cs.get(Ww)!==F_&&(cs.set(Ww,F_),Ww.update())}function n4(Ww,F_){const qx=Ww.colorSpace,nM=Ww.format,Hm=Ww.type;return Ww.isCompressedTexture===!0||Ww.isVideoTexture===!0||Ww.format===_SRGBAFormat||qx!==LinearSRGBColorSpace$1&&qx!==NoColorSpace&&(ColorManagement.getTransfer(qx)===SRGBTransfer?cr===!1?lt.has("EXT_sRGB")===!0&&nM===RGBAFormat?(Ww.format=_SRGBAFormat,Ww.minFilter=LinearFilter,Ww.generateMipmaps=!1):F_=ImageUtils.sRGBToLinear(F_):(nM!==RGBAFormat||Hm!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",qx)),F_}this.allocateTextureUnit=lp,this.resetTextureUnits=ip,this.setTexture2D=go,this.setTexture2DArray=h0,this.setTexture3D=kp,this.setTextureCube=cm,this.rebindTextures=Nw,this.setupRenderTarget=Dp,this.updateRenderTargetMipmap=a1,this.updateMultisampleRenderTarget=zp,this.setupDepthRenderbuffer=t4,this.setupFrameBufferTexture=h3,this.useMultisampledRTT=Mw}function WebGLUtils(ut,lt,ht){const _t=ht.isWebGL2;function At(qt,Zt=NoColorSpace){let cr;const Gr=ColorManagement.getTransfer(Zt);if(qt===UnsignedByteType)return ut.UNSIGNED_BYTE;if(qt===UnsignedShort4444Type)return ut.UNSIGNED_SHORT_4_4_4_4;if(qt===UnsignedShort5551Type)return ut.UNSIGNED_SHORT_5_5_5_1;if(qt===ByteType)return ut.BYTE;if(qt===ShortType)return ut.SHORT;if(qt===UnsignedShortType)return ut.UNSIGNED_SHORT;if(qt===IntType)return ut.INT;if(qt===UnsignedIntType)return ut.UNSIGNED_INT;if(qt===FloatType)return ut.FLOAT;if(qt===HalfFloatType)return _t?ut.HALF_FLOAT:(cr=lt.get("OES_texture_half_float"),cr!==null?cr.HALF_FLOAT_OES:null);if(qt===AlphaFormat)return ut.ALPHA;if(qt===RGBAFormat)return ut.RGBA;if(qt===LuminanceFormat)return ut.LUMINANCE;if(qt===LuminanceAlphaFormat)return ut.LUMINANCE_ALPHA;if(qt===DepthFormat)return ut.DEPTH_COMPONENT;if(qt===DepthStencilFormat)return ut.DEPTH_STENCIL;if(qt===_SRGBAFormat)return cr=lt.get("EXT_sRGB"),cr!==null?cr.SRGB_ALPHA_EXT:null;if(qt===RedFormat)return ut.RED;if(qt===RedIntegerFormat)return ut.RED_INTEGER;if(qt===RGFormat)return ut.RG;if(qt===RGIntegerFormat)return ut.RG_INTEGER;if(qt===RGBAIntegerFormat)return ut.RGBA_INTEGER;if(qt===RGB_S3TC_DXT1_Format||qt===RGBA_S3TC_DXT1_Format||qt===RGBA_S3TC_DXT3_Format||qt===RGBA_S3TC_DXT5_Format)if(Gr===SRGBTransfer)if(cr=lt.get("WEBGL_compressed_texture_s3tc_srgb"),cr!==null){if(qt===RGB_S3TC_DXT1_Format)return cr.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(qt===RGBA_S3TC_DXT1_Format)return cr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(qt===RGBA_S3TC_DXT3_Format)return cr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(qt===RGBA_S3TC_DXT5_Format)return cr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(cr=lt.get("WEBGL_compressed_texture_s3tc"),cr!==null){if(qt===RGB_S3TC_DXT1_Format)return cr.COMPRESSED_RGB_S3TC_DXT1_EXT;if(qt===RGBA_S3TC_DXT1_Format)return cr.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(qt===RGBA_S3TC_DXT3_Format)return cr.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(qt===RGBA_S3TC_DXT5_Format)return cr.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(qt===RGB_PVRTC_4BPPV1_Format||qt===RGB_PVRTC_2BPPV1_Format||qt===RGBA_PVRTC_4BPPV1_Format||qt===RGBA_PVRTC_2BPPV1_Format)if(cr=lt.get("WEBGL_compressed_texture_pvrtc"),cr!==null){if(qt===RGB_PVRTC_4BPPV1_Format)return cr.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(qt===RGB_PVRTC_2BPPV1_Format)return cr.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(qt===RGBA_PVRTC_4BPPV1_Format)return cr.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(qt===RGBA_PVRTC_2BPPV1_Format)return cr.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(qt===RGB_ETC1_Format)return cr=lt.get("WEBGL_compressed_texture_etc1"),cr!==null?cr.COMPRESSED_RGB_ETC1_WEBGL:null;if(qt===RGB_ETC2_Format||qt===RGBA_ETC2_EAC_Format)if(cr=lt.get("WEBGL_compressed_texture_etc"),cr!==null){if(qt===RGB_ETC2_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ETC2:cr.COMPRESSED_RGB8_ETC2;if(qt===RGBA_ETC2_EAC_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:cr.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(qt===RGBA_ASTC_4x4_Format||qt===RGBA_ASTC_5x4_Format||qt===RGBA_ASTC_5x5_Format||qt===RGBA_ASTC_6x5_Format||qt===RGBA_ASTC_6x6_Format||qt===RGBA_ASTC_8x5_Format||qt===RGBA_ASTC_8x6_Format||qt===RGBA_ASTC_8x8_Format||qt===RGBA_ASTC_10x5_Format||qt===RGBA_ASTC_10x6_Format||qt===RGBA_ASTC_10x8_Format||qt===RGBA_ASTC_10x10_Format||qt===RGBA_ASTC_12x10_Format||qt===RGBA_ASTC_12x12_Format)if(cr=lt.get("WEBGL_compressed_texture_astc"),cr!==null){if(qt===RGBA_ASTC_4x4_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:cr.COMPRESSED_RGBA_ASTC_4x4_KHR;if(qt===RGBA_ASTC_5x4_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:cr.COMPRESSED_RGBA_ASTC_5x4_KHR;if(qt===RGBA_ASTC_5x5_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:cr.COMPRESSED_RGBA_ASTC_5x5_KHR;if(qt===RGBA_ASTC_6x5_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:cr.COMPRESSED_RGBA_ASTC_6x5_KHR;if(qt===RGBA_ASTC_6x6_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:cr.COMPRESSED_RGBA_ASTC_6x6_KHR;if(qt===RGBA_ASTC_8x5_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:cr.COMPRESSED_RGBA_ASTC_8x5_KHR;if(qt===RGBA_ASTC_8x6_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:cr.COMPRESSED_RGBA_ASTC_8x6_KHR;if(qt===RGBA_ASTC_8x8_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:cr.COMPRESSED_RGBA_ASTC_8x8_KHR;if(qt===RGBA_ASTC_10x5_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:cr.COMPRESSED_RGBA_ASTC_10x5_KHR;if(qt===RGBA_ASTC_10x6_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:cr.COMPRESSED_RGBA_ASTC_10x6_KHR;if(qt===RGBA_ASTC_10x8_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:cr.COMPRESSED_RGBA_ASTC_10x8_KHR;if(qt===RGBA_ASTC_10x10_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:cr.COMPRESSED_RGBA_ASTC_10x10_KHR;if(qt===RGBA_ASTC_12x10_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:cr.COMPRESSED_RGBA_ASTC_12x10_KHR;if(qt===RGBA_ASTC_12x12_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:cr.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(qt===RGBA_BPTC_Format||qt===RGB_BPTC_SIGNED_Format||qt===RGB_BPTC_UNSIGNED_Format)if(cr=lt.get("EXT_texture_compression_bptc"),cr!==null){if(qt===RGBA_BPTC_Format)return Gr===SRGBTransfer?cr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:cr.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(qt===RGB_BPTC_SIGNED_Format)return cr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(qt===RGB_BPTC_UNSIGNED_Format)return cr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(qt===RED_RGTC1_Format||qt===SIGNED_RED_RGTC1_Format||qt===RED_GREEN_RGTC2_Format||qt===SIGNED_RED_GREEN_RGTC2_Format)if(cr=lt.get("EXT_texture_compression_rgtc"),cr!==null){if(qt===RGBA_BPTC_Format)return cr.COMPRESSED_RED_RGTC1_EXT;if(qt===SIGNED_RED_RGTC1_Format)return cr.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(qt===RED_GREEN_RGTC2_Format)return cr.COMPRESSED_RED_GREEN_RGTC2_EXT;if(qt===SIGNED_RED_GREEN_RGTC2_Format)return cr.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return qt===UnsignedInt248Type?_t?ut.UNSIGNED_INT_24_8:(cr=lt.get("WEBGL_depth_texture"),cr!==null?cr.UNSIGNED_INT_24_8_WEBGL:null):ut[qt]!==void 0?ut[qt]:null}return{convert:At}}class ArrayCamera extends PerspectiveCamera{constructor(lt=[]){super(),this.isArrayCamera=!0,this.cameras=lt}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(lt){return this._targetRay!==null&&this._targetRay.dispatchEvent(lt),this._grip!==null&&this._grip.dispatchEvent(lt),this._hand!==null&&this._hand.dispatchEvent(lt),this}connect(lt){if(lt&&lt.hand){const ht=this._hand;if(ht)for(const _t of lt.hand.values())this._getHandJoint(ht,_t)}return this.dispatchEvent({type:"connected",data:lt}),this}disconnect(lt){return this.dispatchEvent({type:"disconnected",data:lt}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(lt,ht,_t){let At=null,qt=null,Zt=null;const cr=this._targetRay,Gr=this._grip,Zr=this._hand;if(lt&&ht.session.visibilityState!=="visible-blurred"){if(Zr&&lt.hand){Zt=!0;for(const wl of lt.hand.values()){const ep=ht.getJointPose(wl,_t),Al=this._getHandJoint(Zr,wl);ep!==null&&(Al.matrix.fromArray(ep.transform.matrix),Al.matrix.decompose(Al.position,Al.rotation,Al.scale),Al.matrixWorldNeedsUpdate=!0,Al.jointRadius=ep.radius),Al.visible=ep!==null}const xn=Zr.joints["index-finger-tip"],On=Zr.joints["thumb-tip"],ss=xn.position.distanceTo(On.position),ls=.02,cs=.005;Zr.inputState.pinching&&ss>ls+cs?(Zr.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:lt.handedness,target:this})):!Zr.inputState.pinching&&ss<=ls-cs&&(Zr.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:lt.handedness,target:this}))}else Gr!==null&&lt.gripSpace&&(qt=ht.getPose(lt.gripSpace,_t),qt!==null&&(Gr.matrix.fromArray(qt.transform.matrix),Gr.matrix.decompose(Gr.position,Gr.rotation,Gr.scale),Gr.matrixWorldNeedsUpdate=!0,qt.linearVelocity?(Gr.hasLinearVelocity=!0,Gr.linearVelocity.copy(qt.linearVelocity)):Gr.hasLinearVelocity=!1,qt.angularVelocity?(Gr.hasAngularVelocity=!0,Gr.angularVelocity.copy(qt.angularVelocity)):Gr.hasAngularVelocity=!1));cr!==null&&(At=ht.getPose(lt.targetRaySpace,_t),At===null&&qt!==null&&(At=qt),At!==null&&(cr.matrix.fromArray(At.transform.matrix),cr.matrix.decompose(cr.position,cr.rotation,cr.scale),cr.matrixWorldNeedsUpdate=!0,At.linearVelocity?(cr.hasLinearVelocity=!0,cr.linearVelocity.copy(At.linearVelocity)):cr.hasLinearVelocity=!1,At.angularVelocity?(cr.hasAngularVelocity=!0,cr.angularVelocity.copy(At.angularVelocity)):cr.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return cr!==null&&(cr.visible=At!==null),Gr!==null&&(Gr.visible=qt!==null),Zr!==null&&(Zr.visible=Zt!==null),this}_getHandJoint(lt,ht){if(lt.joints[ht.jointName]===void 0){const _t=new Group;_t.matrixAutoUpdate=!1,_t.visible=!1,lt.joints[ht.jointName]=_t,lt.add(_t)}return lt.joints[ht.jointName]}}class DepthTexture extends Texture{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn){if(xn=xn!==void 0?xn:DepthFormat,xn!==DepthFormat&&xn!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");_t===void 0&&xn===DepthFormat&&(_t=UnsignedIntType),_t===void 0&&xn===DepthStencilFormat&&(_t=UnsignedInt248Type),super(null,At,qt,Zt,cr,Gr,xn,_t,Zr),this.isDepthTexture=!0,this.image={width:lt,height:ht},this.magFilter=cr!==void 0?cr:NearestFilter,this.minFilter=Gr!==void 0?Gr:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(lt){return super.copy(lt),this.compareFunction=lt.compareFunction,this}toJSON(lt){const ht=super.toJSON(lt);return this.compareFunction!==null&&(ht.compareFunction=this.compareFunction),ht}}class WebXRManager extends EventDispatcher{constructor(lt,ht){super();const _t=this;let At=null,qt=1,Zt=null,cr="local-floor",Gr=1,Zr=null,xn=null,On=null,ss=null,ls=null,cs=null;const wl=ht.getContextAttributes();let ep=null,Al=null;const np=[],cp=[],Cp=new PerspectiveCamera;Cp.layers.enable(1),Cp.viewport=new Vector4;const Lp=new PerspectiveCamera;Lp.layers.enable(2),Lp.viewport=new Vector4;const jp=[Cp,Lp],nm=new ArrayCamera;nm.layers.enable(1),nm.layers.enable(2);let zm=null,i1=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(h0){let kp=np[h0];return kp===void 0&&(kp=new WebXRController,np[h0]=kp),kp.getTargetRaySpace()},this.getControllerGrip=function(h0){let kp=np[h0];return kp===void 0&&(kp=new WebXRController,np[h0]=kp),kp.getGripSpace()},this.getHand=function(h0){let kp=np[h0];return kp===void 0&&(kp=new WebXRController,np[h0]=kp),kp.getHandSpace()};function d3(h0){const kp=cp.indexOf(h0.inputSource);if(kp===-1)return;const cm=np[kp];cm!==void 0&&(cm.update(h0.inputSource,h0.frame,Zr||Zt),cm.dispatchEvent({type:h0.type,data:h0.inputSource}))}function op(){At.removeEventListener("select",d3),At.removeEventListener("selectstart",d3),At.removeEventListener("selectend",d3),At.removeEventListener("squeeze",d3),At.removeEventListener("squeezestart",d3),At.removeEventListener("squeezeend",d3),At.removeEventListener("end",op),At.removeEventListener("inputsourceschange",Sn);for(let h0=0;h0<np.length;h0++){const kp=cp[h0];kp!==null&&(cp[h0]=null,np[h0].disconnect(kp))}zm=null,i1=null,lt.setRenderTarget(ep),ls=null,ss=null,On=null,At=null,Al=null,go.stop(),_t.isPresenting=!1,_t.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(h0){qt=h0,_t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(h0){cr=h0,_t.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return Zr||Zt},this.setReferenceSpace=function(h0){Zr=h0},this.getBaseLayer=function(){return ss!==null?ss:ls},this.getBinding=function(){return On},this.getFrame=function(){return cs},this.getSession=function(){return At},this.setSession=async function(h0){if(At=h0,At!==null){if(ep=lt.getRenderTarget(),At.addEventListener("select",d3),At.addEventListener("selectstart",d3),At.addEventListener("selectend",d3),At.addEventListener("squeeze",d3),At.addEventListener("squeezestart",d3),At.addEventListener("squeezeend",d3),At.addEventListener("end",op),At.addEventListener("inputsourceschange",Sn),wl.xrCompatible!==!0&&await ht.makeXRCompatible(),At.renderState.layers===void 0||lt.capabilities.isWebGL2===!1){const kp={antialias:At.renderState.layers===void 0?wl.antialias:!0,alpha:!0,depth:wl.depth,stencil:wl.stencil,framebufferScaleFactor:qt};ls=new XRWebGLLayer(At,ht,kp),At.updateRenderState({baseLayer:ls}),Al=new WebGLRenderTarget(ls.framebufferWidth,ls.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,colorSpace:lt.outputColorSpace,stencilBuffer:wl.stencil})}else{let kp=null,cm=null,b3=null;wl.depth&&(b3=wl.stencil?ht.DEPTH24_STENCIL8:ht.DEPTH_COMPONENT24,kp=wl.stencil?DepthStencilFormat:DepthFormat,cm=wl.stencil?UnsignedInt248Type:UnsignedIntType);const L_={colorFormat:ht.RGBA8,depthFormat:b3,scaleFactor:qt};On=new XRWebGLBinding(At,ht),ss=On.createProjectionLayer(L_),At.updateRenderState({layers:[ss]}),Al=new WebGLRenderTarget(ss.textureWidth,ss.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(ss.textureWidth,ss.textureHeight,cm,void 0,void 0,void 0,void 0,void 0,void 0,kp),stencilBuffer:wl.stencil,colorSpace:lt.outputColorSpace,samples:wl.antialias?4:0});const Ym=lt.properties.get(Al);Ym.__ignoreDepthValues=ss.ignoreDepthValues}Al.isXRRenderTarget=!0,this.setFoveation(Gr),Zr=null,Zt=await At.requestReferenceSpace(cr),go.setContext(At),go.start(),_t.isPresenting=!0,_t.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(At!==null)return At.environmentBlendMode};function Sn(h0){for(let kp=0;kp<h0.removed.length;kp++){const cm=h0.removed[kp],b3=cp.indexOf(cm);b3>=0&&(cp[b3]=null,np[b3].disconnect(cm))}for(let kp=0;kp<h0.added.length;kp++){const cm=h0.added[kp];let b3=cp.indexOf(cm);if(b3===-1){for(let Ym=0;Ym<np.length;Ym++)if(Ym>=cp.length){cp.push(cm),b3=Ym;break}else if(cp[Ym]===null){cp[Ym]=cm,b3=Ym;break}if(b3===-1)break}const L_=np[b3];L_&&L_.connect(cm)}}const Fo=new Vector3,as=new Vector3;function us(h0,kp,cm){Fo.setFromMatrixPosition(kp.matrixWorld),as.setFromMatrixPosition(cm.matrixWorld);const b3=Fo.distanceTo(as),L_=kp.projectionMatrix.elements,Ym=cm.projectionMatrix.elements,Xm=L_[14]/(L_[10]-1),Jm=L_[14]/(L_[10]+1),$_=(L_[9]+1)/L_[5],j_=(L_[9]-1)/L_[5],h3=(L_[8]-1)/L_[0],Fp=(Ym[8]+1)/Ym[0],W_=Xm*h3,t4=Xm*Fp,Nw=b3/(-h3+Fp),Dp=Nw*-h3;kp.matrixWorld.decompose(h0.position,h0.quaternion,h0.scale),h0.translateX(Dp),h0.translateZ(Nw),h0.matrixWorld.compose(h0.position,h0.quaternion,h0.scale),h0.matrixWorldInverse.copy(h0.matrixWorld).invert();const a1=Xm+Nw,zp=Jm+Nw,v3=W_-Dp,Mw=t4+(b3-Dp),nw=$_*Jm/zp*a1,n4=j_*Jm/zp*a1;h0.projectionMatrix.makePerspective(v3,Mw,nw,n4,a1,zp),h0.projectionMatrixInverse.copy(h0.projectionMatrix).invert()}function xl(h0,kp){kp===null?h0.matrixWorld.copy(h0.matrix):h0.matrixWorld.multiplyMatrices(kp.matrixWorld,h0.matrix),h0.matrixWorldInverse.copy(h0.matrixWorld).invert()}this.updateCamera=function(h0){if(At===null)return;nm.near=Lp.near=Cp.near=h0.near,nm.far=Lp.far=Cp.far=h0.far,(zm!==nm.near||i1!==nm.far)&&(At.updateRenderState({depthNear:nm.near,depthFar:nm.far}),zm=nm.near,i1=nm.far);const kp=h0.parent,cm=nm.cameras;xl(nm,kp);for(let b3=0;b3<cm.length;b3++)xl(cm[b3],kp);cm.length===2?us(nm,Cp,Lp):nm.projectionMatrix.copy(Cp.projectionMatrix),ip(h0,nm,kp)};function ip(h0,kp,cm){cm===null?h0.matrix.copy(kp.matrixWorld):(h0.matrix.copy(cm.matrixWorld),h0.matrix.invert(),h0.matrix.multiply(kp.matrixWorld)),h0.matrix.decompose(h0.position,h0.quaternion,h0.scale),h0.updateMatrixWorld(!0),h0.projectionMatrix.copy(kp.projectionMatrix),h0.projectionMatrixInverse.copy(kp.projectionMatrixInverse),h0.isPerspectiveCamera&&(h0.fov=RAD2DEG*2*Math.atan(1/h0.projectionMatrix.elements[5]),h0.zoom=1)}this.getCamera=function(){return nm},this.getFoveation=function(){if(!(ss===null&&ls===null))return Gr},this.setFoveation=function(h0){Gr=h0,ss!==null&&(ss.fixedFoveation=h0),ls!==null&&ls.fixedFoveation!==void 0&&(ls.fixedFoveation=h0)};let lp=null;function pu(h0,kp){if(xn=kp.getViewerPose(Zr||Zt),cs=kp,xn!==null){const cm=xn.views;ls!==null&&(lt.setRenderTargetFramebuffer(Al,ls.framebuffer),lt.setRenderTarget(Al));let b3=!1;cm.length!==nm.cameras.length&&(nm.cameras.length=0,b3=!0);for(let L_=0;L_<cm.length;L_++){const Ym=cm[L_];let Xm=null;if(ls!==null)Xm=ls.getViewport(Ym);else{const $_=On.getViewSubImage(ss,Ym);Xm=$_.viewport,L_===0&&(lt.setRenderTargetTextures(Al,$_.colorTexture,ss.ignoreDepthValues?void 0:$_.depthStencilTexture),lt.setRenderTarget(Al))}let Jm=jp[L_];Jm===void 0&&(Jm=new PerspectiveCamera,Jm.layers.enable(L_),Jm.viewport=new Vector4,jp[L_]=Jm),Jm.matrix.fromArray(Ym.transform.matrix),Jm.matrix.decompose(Jm.position,Jm.quaternion,Jm.scale),Jm.projectionMatrix.fromArray(Ym.projectionMatrix),Jm.projectionMatrixInverse.copy(Jm.projectionMatrix).invert(),Jm.viewport.set(Xm.x,Xm.y,Xm.width,Xm.height),L_===0&&(nm.matrix.copy(Jm.matrix),nm.matrix.decompose(nm.position,nm.quaternion,nm.scale)),b3===!0&&nm.cameras.push(Jm)}}for(let cm=0;cm<np.length;cm++){const b3=cp[cm],L_=np[cm];b3!==null&&L_!==void 0&&L_.update(b3,kp,Zr||Zt)}lp&&lp(h0,kp),kp.detectedPlanes&&_t.dispatchEvent({type:"planesdetected",data:kp}),cs=null}const go=new WebGLAnimation;go.setAnimationLoop(pu),this.setAnimationLoop=function(h0){lp=h0},this.dispose=function(){}}}function WebGLMaterials(ut,lt){function ht(ep,Al){ep.matrixAutoUpdate===!0&&ep.updateMatrix(),Al.value.copy(ep.matrix)}function _t(ep,Al){Al.color.getRGB(ep.fogColor.value,getUnlitUniformColorSpace(ut)),Al.isFog?(ep.fogNear.value=Al.near,ep.fogFar.value=Al.far):Al.isFogExp2&&(ep.fogDensity.value=Al.density)}function At(ep,Al,np,cp,Cp){Al.isMeshBasicMaterial||Al.isMeshLambertMaterial?qt(ep,Al):Al.isMeshToonMaterial?(qt(ep,Al),On(ep,Al)):Al.isMeshPhongMaterial?(qt(ep,Al),xn(ep,Al)):Al.isMeshStandardMaterial?(qt(ep,Al),ss(ep,Al),Al.isMeshPhysicalMaterial&&ls(ep,Al,Cp)):Al.isMeshMatcapMaterial?(qt(ep,Al),cs(ep,Al)):Al.isMeshDepthMaterial?qt(ep,Al):Al.isMeshDistanceMaterial?(qt(ep,Al),wl(ep,Al)):Al.isMeshNormalMaterial?qt(ep,Al):Al.isLineBasicMaterial?(Zt(ep,Al),Al.isLineDashedMaterial&&cr(ep,Al)):Al.isPointsMaterial?Gr(ep,Al,np,cp):Al.isSpriteMaterial?Zr(ep,Al):Al.isShadowMaterial?(ep.color.value.copy(Al.color),ep.opacity.value=Al.opacity):Al.isShaderMaterial&&(Al.uniformsNeedUpdate=!1)}function qt(ep,Al){ep.opacity.value=Al.opacity,Al.color&&ep.diffuse.value.copy(Al.color),Al.emissive&&ep.emissive.value.copy(Al.emissive).multiplyScalar(Al.emissiveIntensity),Al.map&&(ep.map.value=Al.map,ht(Al.map,ep.mapTransform)),Al.alphaMap&&(ep.alphaMap.value=Al.alphaMap,ht(Al.alphaMap,ep.alphaMapTransform)),Al.bumpMap&&(ep.bumpMap.value=Al.bumpMap,ht(Al.bumpMap,ep.bumpMapTransform),ep.bumpScale.value=Al.bumpScale,Al.side===BackSide&&(ep.bumpScale.value*=-1)),Al.normalMap&&(ep.normalMap.value=Al.normalMap,ht(Al.normalMap,ep.normalMapTransform),ep.normalScale.value.copy(Al.normalScale),Al.side===BackSide&&ep.normalScale.value.negate()),Al.displacementMap&&(ep.displacementMap.value=Al.displacementMap,ht(Al.displacementMap,ep.displacementMapTransform),ep.displacementScale.value=Al.displacementScale,ep.displacementBias.value=Al.displacementBias),Al.emissiveMap&&(ep.emissiveMap.value=Al.emissiveMap,ht(Al.emissiveMap,ep.emissiveMapTransform)),Al.specularMap&&(ep.specularMap.value=Al.specularMap,ht(Al.specularMap,ep.specularMapTransform)),Al.alphaTest>0&&(ep.alphaTest.value=Al.alphaTest);const np=lt.get(Al).envMap;if(np&&(ep.envMap.value=np,ep.flipEnvMap.value=np.isCubeTexture&&np.isRenderTargetTexture===!1?-1:1,ep.reflectivity.value=Al.reflectivity,ep.ior.value=Al.ior,ep.refractionRatio.value=Al.refractionRatio),Al.lightMap){ep.lightMap.value=Al.lightMap;const cp=ut._useLegacyLights===!0?Math.PI:1;ep.lightMapIntensity.value=Al.lightMapIntensity*cp,ht(Al.lightMap,ep.lightMapTransform)}Al.aoMap&&(ep.aoMap.value=Al.aoMap,ep.aoMapIntensity.value=Al.aoMapIntensity,ht(Al.aoMap,ep.aoMapTransform))}function Zt(ep,Al){ep.diffuse.value.copy(Al.color),ep.opacity.value=Al.opacity,Al.map&&(ep.map.value=Al.map,ht(Al.map,ep.mapTransform))}function cr(ep,Al){ep.dashSize.value=Al.dashSize,ep.totalSize.value=Al.dashSize+Al.gapSize,ep.scale.value=Al.scale}function Gr(ep,Al,np,cp){ep.diffuse.value.copy(Al.color),ep.opacity.value=Al.opacity,ep.size.value=Al.size*np,ep.scale.value=cp*.5,Al.map&&(ep.map.value=Al.map,ht(Al.map,ep.uvTransform)),Al.alphaMap&&(ep.alphaMap.value=Al.alphaMap,ht(Al.alphaMap,ep.alphaMapTransform)),Al.alphaTest>0&&(ep.alphaTest.value=Al.alphaTest)}function Zr(ep,Al){ep.diffuse.value.copy(Al.color),ep.opacity.value=Al.opacity,ep.rotation.value=Al.rotation,Al.map&&(ep.map.value=Al.map,ht(Al.map,ep.mapTransform)),Al.alphaMap&&(ep.alphaMap.value=Al.alphaMap,ht(Al.alphaMap,ep.alphaMapTransform)),Al.alphaTest>0&&(ep.alphaTest.value=Al.alphaTest)}function xn(ep,Al){ep.specular.value.copy(Al.specular),ep.shininess.value=Math.max(Al.shininess,1e-4)}function On(ep,Al){Al.gradientMap&&(ep.gradientMap.value=Al.gradientMap)}function ss(ep,Al){ep.metalness.value=Al.metalness,Al.metalnessMap&&(ep.metalnessMap.value=Al.metalnessMap,ht(Al.metalnessMap,ep.metalnessMapTransform)),ep.roughness.value=Al.roughness,Al.roughnessMap&&(ep.roughnessMap.value=Al.roughnessMap,ht(Al.roughnessMap,ep.roughnessMapTransform)),lt.get(Al).envMap&&(ep.envMapIntensity.value=Al.envMapIntensity)}function ls(ep,Al,np){ep.ior.value=Al.ior,Al.sheen>0&&(ep.sheenColor.value.copy(Al.sheenColor).multiplyScalar(Al.sheen),ep.sheenRoughness.value=Al.sheenRoughness,Al.sheenColorMap&&(ep.sheenColorMap.value=Al.sheenColorMap,ht(Al.sheenColorMap,ep.sheenColorMapTransform)),Al.sheenRoughnessMap&&(ep.sheenRoughnessMap.value=Al.sheenRoughnessMap,ht(Al.sheenRoughnessMap,ep.sheenRoughnessMapTransform))),Al.clearcoat>0&&(ep.clearcoat.value=Al.clearcoat,ep.clearcoatRoughness.value=Al.clearcoatRoughness,Al.clearcoatMap&&(ep.clearcoatMap.value=Al.clearcoatMap,ht(Al.clearcoatMap,ep.clearcoatMapTransform)),Al.clearcoatRoughnessMap&&(ep.clearcoatRoughnessMap.value=Al.clearcoatRoughnessMap,ht(Al.clearcoatRoughnessMap,ep.clearcoatRoughnessMapTransform)),Al.clearcoatNormalMap&&(ep.clearcoatNormalMap.value=Al.clearcoatNormalMap,ht(Al.clearcoatNormalMap,ep.clearcoatNormalMapTransform),ep.clearcoatNormalScale.value.copy(Al.clearcoatNormalScale),Al.side===BackSide&&ep.clearcoatNormalScale.value.negate())),Al.iridescence>0&&(ep.iridescence.value=Al.iridescence,ep.iridescenceIOR.value=Al.iridescenceIOR,ep.iridescenceThicknessMinimum.value=Al.iridescenceThicknessRange[0],ep.iridescenceThicknessMaximum.value=Al.iridescenceThicknessRange[1],Al.iridescenceMap&&(ep.iridescenceMap.value=Al.iridescenceMap,ht(Al.iridescenceMap,ep.iridescenceMapTransform)),Al.iridescenceThicknessMap&&(ep.iridescenceThicknessMap.value=Al.iridescenceThicknessMap,ht(Al.iridescenceThicknessMap,ep.iridescenceThicknessMapTransform))),Al.transmission>0&&(ep.transmission.value=Al.transmission,ep.transmissionSamplerMap.value=np.texture,ep.transmissionSamplerSize.value.set(np.width,np.height),Al.transmissionMap&&(ep.transmissionMap.value=Al.transmissionMap,ht(Al.transmissionMap,ep.transmissionMapTransform)),ep.thickness.value=Al.thickness,Al.thicknessMap&&(ep.thicknessMap.value=Al.thicknessMap,ht(Al.thicknessMap,ep.thicknessMapTransform)),ep.attenuationDistance.value=Al.attenuationDistance,ep.attenuationColor.value.copy(Al.attenuationColor)),Al.anisotropy>0&&(ep.anisotropyVector.value.set(Al.anisotropy*Math.cos(Al.anisotropyRotation),Al.anisotropy*Math.sin(Al.anisotropyRotation)),Al.anisotropyMap&&(ep.anisotropyMap.value=Al.anisotropyMap,ht(Al.anisotropyMap,ep.anisotropyMapTransform))),ep.specularIntensity.value=Al.specularIntensity,ep.specularColor.value.copy(Al.specularColor),Al.specularColorMap&&(ep.specularColorMap.value=Al.specularColorMap,ht(Al.specularColorMap,ep.specularColorMapTransform)),Al.specularIntensityMap&&(ep.specularIntensityMap.value=Al.specularIntensityMap,ht(Al.specularIntensityMap,ep.specularIntensityMapTransform))}function cs(ep,Al){Al.matcap&&(ep.matcap.value=Al.matcap)}function wl(ep,Al){const np=lt.get(Al).light;ep.referencePosition.value.setFromMatrixPosition(np.matrixWorld),ep.nearDistance.value=np.shadow.camera.near,ep.farDistance.value=np.shadow.camera.far}return{refreshFogUniforms:_t,refreshMaterialUniforms:At}}function WebGLUniformsGroups(ut,lt,ht,_t){let At={},qt={},Zt=[];const cr=ht.isWebGL2?ut.getParameter(ut.MAX_UNIFORM_BUFFER_BINDINGS):0;function Gr(np,cp){const Cp=cp.program;_t.uniformBlockBinding(np,Cp)}function Zr(np,cp){let Cp=At[np.id];Cp===void 0&&(cs(np),Cp=xn(np),At[np.id]=Cp,np.addEventListener("dispose",ep));const Lp=cp.program;_t.updateUBOMapping(np,Lp);const jp=lt.render.frame;qt[np.id]!==jp&&(ss(np),qt[np.id]=jp)}function xn(np){const cp=On();np.__bindingPointIndex=cp;const Cp=ut.createBuffer(),Lp=np.__size,jp=np.usage;return ut.bindBuffer(ut.UNIFORM_BUFFER,Cp),ut.bufferData(ut.UNIFORM_BUFFER,Lp,jp),ut.bindBuffer(ut.UNIFORM_BUFFER,null),ut.bindBufferBase(ut.UNIFORM_BUFFER,cp,Cp),Cp}function On(){for(let np=0;np<cr;np++)if(Zt.indexOf(np)===-1)return Zt.push(np),np;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ss(np){const cp=At[np.id],Cp=np.uniforms,Lp=np.__cache;ut.bindBuffer(ut.UNIFORM_BUFFER,cp);for(let jp=0,nm=Cp.length;jp<nm;jp++){const zm=Cp[jp];if(ls(zm,jp,Lp)===!0){const i1=zm.__offset,d3=Array.isArray(zm.value)?zm.value:[zm.value];let op=0;for(let Sn=0;Sn<d3.length;Sn++){const Fo=d3[Sn],as=wl(Fo);typeof Fo=="number"?(zm.__data[0]=Fo,ut.bufferSubData(ut.UNIFORM_BUFFER,i1+op,zm.__data)):Fo.isMatrix3?(zm.__data[0]=Fo.elements[0],zm.__data[1]=Fo.elements[1],zm.__data[2]=Fo.elements[2],zm.__data[3]=Fo.elements[0],zm.__data[4]=Fo.elements[3],zm.__data[5]=Fo.elements[4],zm.__data[6]=Fo.elements[5],zm.__data[7]=Fo.elements[0],zm.__data[8]=Fo.elements[6],zm.__data[9]=Fo.elements[7],zm.__data[10]=Fo.elements[8],zm.__data[11]=Fo.elements[0]):(Fo.toArray(zm.__data,op),op+=as.storage/Float32Array.BYTES_PER_ELEMENT)}ut.bufferSubData(ut.UNIFORM_BUFFER,i1,zm.__data)}}ut.bindBuffer(ut.UNIFORM_BUFFER,null)}function ls(np,cp,Cp){const Lp=np.value;if(Cp[cp]===void 0){if(typeof Lp=="number")Cp[cp]=Lp;else{const jp=Array.isArray(Lp)?Lp:[Lp],nm=[];for(let zm=0;zm<jp.length;zm++)nm.push(jp[zm].clone());Cp[cp]=nm}return!0}else if(typeof Lp=="number"){if(Cp[cp]!==Lp)return Cp[cp]=Lp,!0}else{const jp=Array.isArray(Cp[cp])?Cp[cp]:[Cp[cp]],nm=Array.isArray(Lp)?Lp:[Lp];for(let zm=0;zm<jp.length;zm++){const i1=jp[zm];if(i1.equals(nm[zm])===!1)return i1.copy(nm[zm]),!0}}return!1}function cs(np){const cp=np.uniforms;let Cp=0;const Lp=16;let jp=0;for(let nm=0,zm=cp.length;nm<zm;nm++){const i1=cp[nm],d3={boundary:0,storage:0},op=Array.isArray(i1.value)?i1.value:[i1.value];for(let Sn=0,Fo=op.length;Sn<Fo;Sn++){const as=op[Sn],us=wl(as);d3.boundary+=us.boundary,d3.storage+=us.storage}if(i1.__data=new Float32Array(d3.storage/Float32Array.BYTES_PER_ELEMENT),i1.__offset=Cp,nm>0){jp=Cp%Lp;const Sn=Lp-jp;jp!==0&&Sn-d3.boundary<0&&(Cp+=Lp-jp,i1.__offset=Cp)}Cp+=d3.storage}return jp=Cp%Lp,jp>0&&(Cp+=Lp-jp),np.__size=Cp,np.__cache={},this}function wl(np){const cp={boundary:0,storage:0};return typeof np=="number"?(cp.boundary=4,cp.storage=4):np.isVector2?(cp.boundary=8,cp.storage=8):np.isVector3||np.isColor?(cp.boundary=16,cp.storage=12):np.isVector4?(cp.boundary=16,cp.storage=16):np.isMatrix3?(cp.boundary=48,cp.storage=48):np.isMatrix4?(cp.boundary=64,cp.storage=64):np.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",np),cp}function ep(np){const cp=np.target;cp.removeEventListener("dispose",ep);const Cp=Zt.indexOf(cp.__bindingPointIndex);Zt.splice(Cp,1),ut.deleteBuffer(At[cp.id]),delete At[cp.id],delete qt[cp.id]}function Al(){for(const np in At)ut.deleteBuffer(At[np]);Zt=[],At={},qt={}}return{bind:Gr,update:Zr,dispose:Al}}class WebGLRenderer{constructor(lt={}){const{canvas:ht=createCanvasElement(),context:_t=null,depth:At=!0,stencil:qt=!0,alpha:Zt=!1,antialias:cr=!1,premultipliedAlpha:Gr=!0,preserveDrawingBuffer:Zr=!1,powerPreference:xn="default",failIfMajorPerformanceCaveat:On=!1}=lt;this.isWebGLRenderer=!0;let ss;_t!==null?ss=_t.getContextAttributes().alpha:ss=Zt;const ls=new Uint32Array(4),cs=new Int32Array(4);let wl=null,ep=null;const Al=[],np=[];this.domElement=ht,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=SRGBColorSpace$1,this._useLegacyLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const cp=this;let Cp=!1,Lp=0,jp=0,nm=null,zm=-1,i1=null;const d3=new Vector4,op=new Vector4;let Sn=null;const Fo=new Color(0);let as=0,us=ht.width,xl=ht.height,ip=1,lp=null,pu=null;const go=new Vector4(0,0,us,xl),h0=new Vector4(0,0,us,xl);let kp=!1;const cm=new Frustum;let b3=!1,L_=!1,Ym=null;const Xm=new Matrix4,Jm=new Vector2,$_=new Vector3,j_={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function h3(){return nm===null?ip:1}let Fp=_t;function W_(r_,Vx){for(let l4=0;l4<r_.length;l4++){const R4=r_[l4],u4=ht.getContext(R4,Vx);if(u4!==null)return u4}return null}try{const r_={alpha:!0,depth:At,stencil:qt,antialias:cr,premultipliedAlpha:Gr,preserveDrawingBuffer:Zr,powerPreference:xn,failIfMajorPerformanceCaveat:On};if("setAttribute"in ht&&ht.setAttribute("data-engine",`three.js r${REVISION}`),ht.addEventListener("webglcontextlost",D5,!1),ht.addEventListener("webglcontextrestored",wM,!1),ht.addEventListener("webglcontextcreationerror",uM,!1),Fp===null){const Vx=["webgl2","webgl","experimental-webgl"];if(cp.isWebGL1Renderer===!0&&Vx.shift(),Fp=W_(Vx,r_),Fp===null)throw W_(Vx)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Fp instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Fp.getShaderPrecisionFormat===void 0&&(Fp.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(r_){throw console.error("THREE.WebGLRenderer: "+r_.message),r_}let t4,Nw,Dp,a1,zp,v3,Mw,nw,n4,Ww,F_,qx,nM,Hm,y3,Q_,Uw,s4,rM,c4,tM,R5,r4,a4;function cM(){t4=new WebGLExtensions(Fp),Nw=new WebGLCapabilities(Fp,t4,lt),t4.init(Nw),R5=new WebGLUtils(Fp,t4,Nw),Dp=new WebGLState(Fp,t4,Nw),a1=new WebGLInfo(Fp),zp=new WebGLProperties,v3=new WebGLTextures(Fp,t4,Dp,zp,Nw,R5,a1),Mw=new WebGLCubeMaps(cp),nw=new WebGLCubeUVMaps(cp),n4=new WebGLAttributes(Fp,Nw),r4=new WebGLBindingStates(Fp,t4,n4,Nw),Ww=new WebGLGeometries(Fp,n4,a1,r4),F_=new WebGLObjects(Fp,Ww,n4,a1),rM=new WebGLMorphtargets(Fp,Nw,v3),Q_=new WebGLClipping(zp),qx=new WebGLPrograms(cp,Mw,nw,t4,Nw,r4,Q_),nM=new WebGLMaterials(cp,zp),Hm=new WebGLRenderLists,y3=new WebGLRenderStates(t4,Nw),s4=new WebGLBackground(cp,Mw,nw,Dp,F_,ss,Gr),Uw=new WebGLShadowMap(cp,F_,Nw),a4=new WebGLUniformsGroups(Fp,a1,Nw,Dp),c4=new WebGLBufferRenderer(Fp,t4,a1,Nw),tM=new WebGLIndexedBufferRenderer(Fp,t4,a1,Nw),a1.programs=qx.programs,cp.capabilities=Nw,cp.extensions=t4,cp.properties=zp,cp.renderLists=Hm,cp.shadowMap=Uw,cp.state=Dp,cp.info=a1}cM();const Yx=new WebXRManager(cp,Fp);this.xr=Yx,this.getContext=function(){return Fp},this.getContextAttributes=function(){return Fp.getContextAttributes()},this.forceContextLoss=function(){const r_=t4.get("WEBGL_lose_context");r_&&r_.loseContext()},this.forceContextRestore=function(){const r_=t4.get("WEBGL_lose_context");r_&&r_.restoreContext()},this.getPixelRatio=function(){return ip},this.setPixelRatio=function(r_){r_!==void 0&&(ip=r_,this.setSize(us,xl,!1))},this.getSize=function(r_){return r_.set(us,xl)},this.setSize=function(r_,Vx,l4=!0){if(Yx.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}us=r_,xl=Vx,ht.width=Math.floor(r_*ip),ht.height=Math.floor(Vx*ip),l4===!0&&(ht.style.width=r_+"px",ht.style.height=Vx+"px"),this.setViewport(0,0,r_,Vx)},this.getDrawingBufferSize=function(r_){return r_.set(us*ip,xl*ip).floor()},this.setDrawingBufferSize=function(r_,Vx,l4){us=r_,xl=Vx,ip=l4,ht.width=Math.floor(r_*l4),ht.height=Math.floor(Vx*l4),this.setViewport(0,0,r_,Vx)},this.getCurrentViewport=function(r_){return r_.copy(d3)},this.getViewport=function(r_){return r_.copy(go)},this.setViewport=function(r_,Vx,l4,R4){r_.isVector4?go.set(r_.x,r_.y,r_.z,r_.w):go.set(r_,Vx,l4,R4),Dp.viewport(d3.copy(go).multiplyScalar(ip).floor())},this.getScissor=function(r_){return r_.copy(h0)},this.setScissor=function(r_,Vx,l4,R4){r_.isVector4?h0.set(r_.x,r_.y,r_.z,r_.w):h0.set(r_,Vx,l4,R4),Dp.scissor(op.copy(h0).multiplyScalar(ip).floor())},this.getScissorTest=function(){return kp},this.setScissorTest=function(r_){Dp.setScissorTest(kp=r_)},this.setOpaqueSort=function(r_){lp=r_},this.setTransparentSort=function(r_){pu=r_},this.getClearColor=function(r_){return r_.copy(s4.getClearColor())},this.setClearColor=function(){s4.setClearColor.apply(s4,arguments)},this.getClearAlpha=function(){return s4.getClearAlpha()},this.setClearAlpha=function(){s4.setClearAlpha.apply(s4,arguments)},this.clear=function(r_=!0,Vx=!0,l4=!0){let R4=0;if(r_){let u4=!1;if(nm!==null){const iM=nm.texture.format;u4=iM===RGBAIntegerFormat||iM===RGIntegerFormat||iM===RedIntegerFormat}if(u4){const iM=nm.texture.type,hM=iM===UnsignedByteType||iM===UnsignedIntType||iM===UnsignedShortType||iM===UnsignedInt248Type||iM===UnsignedShort4444Type||iM===UnsignedShort5551Type,bM=s4.getClearColor(),yM=s4.getClearAlpha(),_M=bM.r,oM=bM.g,LM=bM.b;hM?(ls[0]=_M,ls[1]=oM,ls[2]=LM,ls[3]=yM,Fp.clearBufferuiv(Fp.COLOR,0,ls)):(cs[0]=_M,cs[1]=oM,cs[2]=LM,cs[3]=yM,Fp.clearBufferiv(Fp.COLOR,0,cs))}else R4|=Fp.COLOR_BUFFER_BIT}Vx&&(R4|=Fp.DEPTH_BUFFER_BIT),l4&&(R4|=Fp.STENCIL_BUFFER_BIT),Fp.clear(R4)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){ht.removeEventListener("webglcontextlost",D5,!1),ht.removeEventListener("webglcontextrestored",wM,!1),ht.removeEventListener("webglcontextcreationerror",uM,!1),Hm.dispose(),y3.dispose(),zp.dispose(),Mw.dispose(),nw.dispose(),F_.dispose(),r4.dispose(),a4.dispose(),qx.dispose(),Yx.dispose(),Yx.removeEventListener("sessionstart",xM),Yx.removeEventListener("sessionend",RM),Ym&&(Ym.dispose(),Ym=null),VM.stop()};function D5(r_){r_.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Cp=!0}function wM(){console.log("THREE.WebGLRenderer: Context Restored."),Cp=!1;const r_=a1.autoReset,Vx=Uw.enabled,l4=Uw.autoUpdate,R4=Uw.needsUpdate,u4=Uw.type;cM(),a1.autoReset=r_,Uw.enabled=Vx,Uw.autoUpdate=l4,Uw.needsUpdate=R4,Uw.type=u4}function uM(r_){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",r_.statusMessage)}function fM(r_){const Vx=r_.target;Vx.removeEventListener("dispose",fM),AM(Vx)}function AM(r_){lM(r_),zp.remove(r_)}function lM(r_){const Vx=zp.get(r_).programs;Vx!==void 0&&(Vx.forEach(function(l4){qx.releaseProgram(l4)}),r_.isShaderMaterial&&qx.releaseShaderCache(r_))}this.renderBufferDirect=function(r_,Vx,l4,R4,u4,iM){Vx===null&&(Vx=j_);const hM=u4.isMesh&&u4.matrixWorld.determinant()<0,bM=eM(r_,Vx,l4,R4,u4);Dp.setMaterial(R4,hM);let yM=l4.index,_M=1;if(R4.wireframe===!0){if(yM=Ww.getWireframeAttribute(l4),yM===void 0)return;_M=2}const oM=l4.drawRange,LM=l4.attributes.position;let EM=oM.start*_M,BM=(oM.start+oM.count)*_M;iM!==null&&(EM=Math.max(EM,iM.start*_M),BM=Math.min(BM,(iM.start+iM.count)*_M)),yM!==null?(EM=Math.max(EM,0),BM=Math.min(BM,yM.count)):LM!=null&&(EM=Math.max(EM,0),BM=Math.min(BM,LM.count));const IM=BM-EM;if(IM<0||IM===1/0)return;r4.setup(u4,R4,bM,l4,yM);let $M,NM=c4;if(yM!==null&&($M=n4.get(yM),NM=tM,NM.setIndex($M)),u4.isMesh)R4.wireframe===!0?(Dp.setLineWidth(R4.wireframeLinewidth*h3()),NM.setMode(Fp.LINES)):NM.setMode(Fp.TRIANGLES);else if(u4.isLine){let CM=R4.linewidth;CM===void 0&&(CM=1),Dp.setLineWidth(CM*h3()),u4.isLineSegments?NM.setMode(Fp.LINES):u4.isLineLoop?NM.setMode(Fp.LINE_LOOP):NM.setMode(Fp.LINE_STRIP)}else u4.isPoints?NM.setMode(Fp.POINTS):u4.isSprite&&NM.setMode(Fp.TRIANGLES);if(u4.isInstancedMesh)NM.renderInstances(EM,IM,u4.count);else if(l4.isInstancedBufferGeometry){const CM=l4._maxInstanceCount!==void 0?l4._maxInstanceCount:1/0,pM=Math.min(l4.instanceCount,CM);NM.renderInstances(EM,IM,pM)}else NM.render(EM,IM)},this.compile=function(r_,Vx){function l4(R4,u4,iM){R4.transparent===!0&&R4.side===DoubleSide&&R4.forceSinglePass===!1?(R4.side=BackSide,R4.needsUpdate=!0,B_(R4,u4,iM),R4.side=FrontSide,R4.needsUpdate=!0,B_(R4,u4,iM),R4.side=DoubleSide):B_(R4,u4,iM)}ep=y3.get(r_),ep.init(),np.push(ep),r_.traverseVisible(function(R4){R4.isLight&&R4.layers.test(Vx.layers)&&(ep.pushLight(R4),R4.castShadow&&ep.pushShadow(R4))}),ep.setupLights(cp._useLegacyLights),r_.traverse(function(R4){const u4=R4.material;if(u4)if(Array.isArray(u4))for(let iM=0;iM<u4.length;iM++){const hM=u4[iM];l4(hM,r_,R4)}else l4(u4,r_,R4)}),np.pop(),ep=null};let vM=null;function HM(r_){vM&&vM(r_)}function xM(){VM.stop()}function RM(){VM.start()}const VM=new WebGLAnimation;VM.setAnimationLoop(HM),typeof self<"u"&&VM.setContext(self),this.setAnimationLoop=function(r_){vM=r_,Yx.setAnimationLoop(r_),r_===null?VM.stop():VM.start()},Yx.addEventListener("sessionstart",xM),Yx.addEventListener("sessionend",RM),this.render=function(r_,Vx){if(Vx!==void 0&&Vx.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Cp===!0)return;r_.matrixWorldAutoUpdate===!0&&r_.updateMatrixWorld(),Vx.parent===null&&Vx.matrixWorldAutoUpdate===!0&&Vx.updateMatrixWorld(),Yx.enabled===!0&&Yx.isPresenting===!0&&(Yx.cameraAutoUpdate===!0&&Yx.updateCamera(Vx),Vx=Yx.getCamera()),r_.isScene===!0&&r_.onBeforeRender(cp,r_,Vx,nm),ep=y3.get(r_,np.length),ep.init(),np.push(ep),Xm.multiplyMatrices(Vx.projectionMatrix,Vx.matrixWorldInverse),cm.setFromProjectionMatrix(Xm),L_=this.localClippingEnabled,b3=Q_.init(this.clippingPlanes,L_),wl=Hm.get(r_,Al.length),wl.init(),Al.push(wl),SM(r_,Vx,0,cp.sortObjects),wl.finish(),cp.sortObjects===!0&&wl.sort(lp,pu),this.info.render.frame++,b3===!0&&Q_.beginShadows();const l4=ep.state.shadowsArray;if(Uw.render(l4,r_,Vx),b3===!0&&Q_.endShadows(),this.info.autoReset===!0&&this.info.reset(),s4.render(wl,r_),ep.setupLights(cp._useLegacyLights),Vx.isArrayCamera){const R4=Vx.cameras;for(let u4=0,iM=R4.length;u4<iM;u4++){const hM=R4[u4];gM(wl,r_,hM,hM.viewport)}}else gM(wl,r_,Vx);nm!==null&&(v3.updateMultisampleRenderTarget(nm),v3.updateRenderTargetMipmap(nm)),r_.isScene===!0&&r_.onAfterRender(cp,r_,Vx),r4.resetDefaultState(),zm=-1,i1=null,np.pop(),np.length>0?ep=np[np.length-1]:ep=null,Al.pop(),Al.length>0?wl=Al[Al.length-1]:wl=null};function SM(r_,Vx,l4,R4){if(r_.visible===!1)return;if(r_.layers.test(Vx.layers)){if(r_.isGroup)l4=r_.renderOrder;else if(r_.isLOD)r_.autoUpdate===!0&&r_.update(Vx);else if(r_.isLight)ep.pushLight(r_),r_.castShadow&&ep.pushShadow(r_);else if(r_.isSprite){if(!r_.frustumCulled||cm.intersectsSprite(r_)){R4&&$_.setFromMatrixPosition(r_.matrixWorld).applyMatrix4(Xm);const hM=F_.update(r_),bM=r_.material;bM.visible&&wl.push(r_,hM,bM,l4,$_.z,null)}}else if((r_.isMesh||r_.isLine||r_.isPoints)&&(!r_.frustumCulled||cm.intersectsObject(r_))){const hM=F_.update(r_),bM=r_.material;if(R4&&(r_.boundingSphere!==void 0?(r_.boundingSphere===null&&r_.computeBoundingSphere(),$_.copy(r_.boundingSphere.center)):(hM.boundingSphere===null&&hM.computeBoundingSphere(),$_.copy(hM.boundingSphere.center)),$_.applyMatrix4(r_.matrixWorld).applyMatrix4(Xm)),Array.isArray(bM)){const yM=hM.groups;for(let _M=0,oM=yM.length;_M<oM;_M++){const LM=yM[_M],EM=bM[LM.materialIndex];EM&&EM.visible&&wl.push(r_,hM,EM,l4,$_.z,LM)}}else bM.visible&&wl.push(r_,hM,bM,l4,$_.z,null)}}const iM=r_.children;for(let hM=0,bM=iM.length;hM<bM;hM++)SM(iM[hM],Vx,l4,R4)}function gM(r_,Vx,l4,R4){const u4=r_.opaque,iM=r_.transmissive,hM=r_.transparent;ep.setupLightsView(l4),b3===!0&&Q_.setGlobalState(cp.clippingPlanes,l4),iM.length>0&&Z_(u4,iM,Vx,l4),R4&&Dp.viewport(d3.copy(R4)),u4.length>0&&Bw(u4,Vx,l4),iM.length>0&&Bw(iM,Vx,l4),hM.length>0&&Bw(hM,Vx,l4),Dp.buffers.depth.setTest(!0),Dp.buffers.depth.setMask(!0),Dp.buffers.color.setMask(!0),Dp.setPolygonOffset(!1)}function Z_(r_,Vx,l4,R4){const u4=Nw.isWebGL2;Ym===null&&(Ym=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:t4.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:u4?4:0})),cp.getDrawingBufferSize(Jm),u4?Ym.setSize(Jm.x,Jm.y):Ym.setSize(floorPowerOfTwo(Jm.x),floorPowerOfTwo(Jm.y));const iM=cp.getRenderTarget();cp.setRenderTarget(Ym),cp.getClearColor(Fo),as=cp.getClearAlpha(),as<1&&cp.setClearColor(16777215,.5),cp.clear();const hM=cp.toneMapping;cp.toneMapping=NoToneMapping,Bw(r_,l4,R4),v3.updateMultisampleRenderTarget(Ym),v3.updateRenderTargetMipmap(Ym);let bM=!1;for(let yM=0,_M=Vx.length;yM<_M;yM++){const oM=Vx[yM],LM=oM.object,EM=oM.geometry,BM=oM.material,IM=oM.group;if(BM.side===DoubleSide&&LM.layers.test(R4.layers)){const $M=BM.side;BM.side=BackSide,BM.needsUpdate=!0,Fw(LM,l4,R4,EM,BM,IM),BM.side=$M,BM.needsUpdate=!0,bM=!0}}bM===!0&&(v3.updateMultisampleRenderTarget(Ym),v3.updateRenderTargetMipmap(Ym)),cp.setRenderTarget(iM),cp.setClearColor(Fo,as),cp.toneMapping=hM}function Bw(r_,Vx,l4){const R4=Vx.isScene===!0?Vx.overrideMaterial:null;for(let u4=0,iM=r_.length;u4<iM;u4++){const hM=r_[u4],bM=hM.object,yM=hM.geometry,_M=R4===null?hM.material:R4,oM=hM.group;bM.layers.test(l4.layers)&&Fw(bM,Vx,l4,yM,_M,oM)}}function Fw(r_,Vx,l4,R4,u4,iM){r_.onBeforeRender(cp,Vx,l4,R4,u4,iM),r_.modelViewMatrix.multiplyMatrices(l4.matrixWorldInverse,r_.matrixWorld),r_.normalMatrix.getNormalMatrix(r_.modelViewMatrix),u4.onBeforeRender(cp,Vx,l4,R4,r_,iM),u4.transparent===!0&&u4.side===DoubleSide&&u4.forceSinglePass===!1?(u4.side=BackSide,u4.needsUpdate=!0,cp.renderBufferDirect(l4,Vx,R4,u4,r_,iM),u4.side=FrontSide,u4.needsUpdate=!0,cp.renderBufferDirect(l4,Vx,R4,u4,r_,iM),u4.side=DoubleSide):cp.renderBufferDirect(l4,Vx,R4,u4,r_,iM),r_.onAfterRender(cp,Vx,l4,R4,u4,iM)}function B_(r_,Vx,l4){Vx.isScene!==!0&&(Vx=j_);const R4=zp.get(r_),u4=ep.state.lights,iM=ep.state.shadowsArray,hM=u4.state.version,bM=qx.getParameters(r_,u4.state,iM,Vx,l4),yM=qx.getProgramCacheKey(bM);let _M=R4.programs;R4.environment=r_.isMeshStandardMaterial?Vx.environment:null,R4.fog=Vx.fog,R4.envMap=(r_.isMeshStandardMaterial?nw:Mw).get(r_.envMap||R4.environment),_M===void 0&&(r_.addEventListener("dispose",fM),_M=new Map,R4.programs=_M);let oM=_M.get(yM);if(oM!==void 0){if(R4.currentProgram===oM&&R4.lightsStateVersion===hM)return Lw(r_,bM),oM}else bM.uniforms=qx.getUniforms(r_),r_.onBuild(l4,bM,cp),r_.onBeforeCompile(bM,cp),oM=qx.acquireProgram(bM,yM),_M.set(yM,oM),R4.uniforms=bM.uniforms;const LM=R4.uniforms;(!r_.isShaderMaterial&&!r_.isRawShaderMaterial||r_.clipping===!0)&&(LM.clippingPlanes=Q_.uniform),Lw(r_,bM),R4.needsLights=G_(r_),R4.lightsStateVersion=hM,R4.needsLights&&(LM.ambientLightColor.value=u4.state.ambient,LM.lightProbe.value=u4.state.probe,LM.directionalLights.value=u4.state.directional,LM.directionalLightShadows.value=u4.state.directionalShadow,LM.spotLights.value=u4.state.spot,LM.spotLightShadows.value=u4.state.spotShadow,LM.rectAreaLights.value=u4.state.rectArea,LM.ltc_1.value=u4.state.rectAreaLTC1,LM.ltc_2.value=u4.state.rectAreaLTC2,LM.pointLights.value=u4.state.point,LM.pointLightShadows.value=u4.state.pointShadow,LM.hemisphereLights.value=u4.state.hemi,LM.directionalShadowMap.value=u4.state.directionalShadowMap,LM.directionalShadowMatrix.value=u4.state.directionalShadowMatrix,LM.spotShadowMap.value=u4.state.spotShadowMap,LM.spotLightMatrix.value=u4.state.spotLightMatrix,LM.spotLightMap.value=u4.state.spotLightMap,LM.pointShadowMap.value=u4.state.pointShadowMap,LM.pointShadowMatrix.value=u4.state.pointShadowMatrix);const EM=oM.getUniforms(),BM=WebGLUniforms.seqWithValue(EM.seq,LM);return R4.currentProgram=oM,R4.uniformsList=BM,oM}function Lw(r_,Vx){const l4=zp.get(r_);l4.outputColorSpace=Vx.outputColorSpace,l4.instancing=Vx.instancing,l4.instancingColor=Vx.instancingColor,l4.skinning=Vx.skinning,l4.morphTargets=Vx.morphTargets,l4.morphNormals=Vx.morphNormals,l4.morphColors=Vx.morphColors,l4.morphTargetsCount=Vx.morphTargetsCount,l4.numClippingPlanes=Vx.numClippingPlanes,l4.numIntersection=Vx.numClipIntersection,l4.vertexAlphas=Vx.vertexAlphas,l4.vertexTangents=Vx.vertexTangents,l4.toneMapping=Vx.toneMapping}function eM(r_,Vx,l4,R4,u4){Vx.isScene!==!0&&(Vx=j_),v3.resetTextureUnits();const iM=Vx.fog,hM=R4.isMeshStandardMaterial?Vx.environment:null,bM=nm===null?cp.outputColorSpace:nm.isXRRenderTarget===!0?nm.texture.colorSpace:LinearSRGBColorSpace$1,yM=(R4.isMeshStandardMaterial?nw:Mw).get(R4.envMap||hM),_M=R4.vertexColors===!0&&!!l4.attributes.color&&l4.attributes.color.itemSize===4,oM=!!l4.attributes.tangent&&(!!R4.normalMap||R4.anisotropy>0),LM=!!l4.morphAttributes.position,EM=!!l4.morphAttributes.normal,BM=!!l4.morphAttributes.color;let IM=NoToneMapping;R4.toneMapped&&(nm===null||nm.isXRRenderTarget===!0)&&(IM=cp.toneMapping);const $M=l4.morphAttributes.position||l4.morphAttributes.normal||l4.morphAttributes.color,NM=$M!==void 0?$M.length:0,CM=zp.get(R4),pM=ep.state.lights;if(b3===!0&&(L_===!0||r_!==i1)){const GM=r_===i1&&R4.id===zm;Q_.setState(R4,r_,GM)}let dM=!1;R4.version===CM.__version?(CM.needsLights&&CM.lightsStateVersion!==pM.state.version||CM.outputColorSpace!==bM||u4.isInstancedMesh&&CM.instancing===!1||!u4.isInstancedMesh&&CM.instancing===!0||u4.isSkinnedMesh&&CM.skinning===!1||!u4.isSkinnedMesh&&CM.skinning===!0||u4.isInstancedMesh&&CM.instancingColor===!0&&u4.instanceColor===null||u4.isInstancedMesh&&CM.instancingColor===!1&&u4.instanceColor!==null||CM.envMap!==yM||R4.fog===!0&&CM.fog!==iM||CM.numClippingPlanes!==void 0&&(CM.numClippingPlanes!==Q_.numPlanes||CM.numIntersection!==Q_.numIntersection)||CM.vertexAlphas!==_M||CM.vertexTangents!==oM||CM.morphTargets!==LM||CM.morphNormals!==EM||CM.morphColors!==BM||CM.toneMapping!==IM||Nw.isWebGL2===!0&&CM.morphTargetsCount!==NM)&&(dM=!0):(dM=!0,CM.__version=R4.version);let PM=CM.currentProgram;dM===!0&&(PM=B_(R4,Vx,u4));let DM=!1,kM=!1,UM=!1;const WM=PM.getUniforms(),KM=CM.uniforms;if(Dp.useProgram(PM.program)&&(DM=!0,kM=!0,UM=!0),R4.id!==zm&&(zm=R4.id,kM=!0),DM||i1!==r_){WM.setValue(Fp,"projectionMatrix",r_.projectionMatrix),WM.setValue(Fp,"viewMatrix",r_.matrixWorldInverse);const GM=WM.map.cameraPosition;GM!==void 0&&GM.setValue(Fp,$_.setFromMatrixPosition(r_.matrixWorld)),Nw.logarithmicDepthBuffer&&WM.setValue(Fp,"logDepthBufFC",2/(Math.log(r_.far+1)/Math.LN2)),(R4.isMeshPhongMaterial||R4.isMeshToonMaterial||R4.isMeshLambertMaterial||R4.isMeshBasicMaterial||R4.isMeshStandardMaterial||R4.isShaderMaterial)&&WM.setValue(Fp,"isOrthographic",r_.isOrthographicCamera===!0),i1!==r_&&(i1=r_,kM=!0,UM=!0)}if(u4.isSkinnedMesh){WM.setOptional(Fp,u4,"bindMatrix"),WM.setOptional(Fp,u4,"bindMatrixInverse");const GM=u4.skeleton;GM&&(Nw.floatVertexTextures?(GM.boneTexture===null&&GM.computeBoneTexture(),WM.setValue(Fp,"boneTexture",GM.boneTexture,v3),WM.setValue(Fp,"boneTextureSize",GM.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const QM=l4.morphAttributes;if((QM.position!==void 0||QM.normal!==void 0||QM.color!==void 0&&Nw.isWebGL2===!0)&&rM.update(u4,l4,PM),(kM||CM.receiveShadow!==u4.receiveShadow)&&(CM.receiveShadow=u4.receiveShadow,WM.setValue(Fp,"receiveShadow",u4.receiveShadow)),R4.isMeshGouraudMaterial&&R4.envMap!==null&&(KM.envMap.value=yM,KM.flipEnvMap.value=yM.isCubeTexture&&yM.isRenderTargetTexture===!1?-1:1),kM&&(WM.setValue(Fp,"toneMappingExposure",cp.toneMappingExposure),CM.needsLights&&mM(KM,UM),iM&&R4.fog===!0&&nM.refreshFogUniforms(KM,iM),nM.refreshMaterialUniforms(KM,R4,ip,xl,Ym),WebGLUniforms.upload(Fp,CM.uniformsList,KM,v3)),R4.isShaderMaterial&&R4.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(Fp,CM.uniformsList,KM,v3),R4.uniformsNeedUpdate=!1),R4.isSpriteMaterial&&WM.setValue(Fp,"center",u4.center),WM.setValue(Fp,"modelViewMatrix",u4.modelViewMatrix),WM.setValue(Fp,"normalMatrix",u4.normalMatrix),WM.setValue(Fp,"modelMatrix",u4.matrixWorld),R4.isShaderMaterial||R4.isRawShaderMaterial){const GM=R4.uniformsGroups;for(let sM=0,XM=GM.length;sM<XM;sM++)if(Nw.isWebGL2){const jM=GM[sM];a4.update(jM,PM),a4.bind(jM,PM)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return PM}function mM(r_,Vx){r_.ambientLightColor.needsUpdate=Vx,r_.lightProbe.needsUpdate=Vx,r_.directionalLights.needsUpdate=Vx,r_.directionalLightShadows.needsUpdate=Vx,r_.pointLights.needsUpdate=Vx,r_.pointLightShadows.needsUpdate=Vx,r_.spotLights.needsUpdate=Vx,r_.spotLightShadows.needsUpdate=Vx,r_.rectAreaLights.needsUpdate=Vx,r_.hemisphereLights.needsUpdate=Vx}function G_(r_){return r_.isMeshLambertMaterial||r_.isMeshToonMaterial||r_.isMeshPhongMaterial||r_.isMeshStandardMaterial||r_.isShadowMaterial||r_.isShaderMaterial&&r_.lights===!0}this.getActiveCubeFace=function(){return Lp},this.getActiveMipmapLevel=function(){return jp},this.getRenderTarget=function(){return nm},this.setRenderTargetTextures=function(r_,Vx,l4){zp.get(r_.texture).__webglTexture=Vx,zp.get(r_.depthTexture).__webglTexture=l4;const R4=zp.get(r_);R4.__hasExternalTextures=!0,R4.__hasExternalTextures&&(R4.__autoAllocateDepthBuffer=l4===void 0,R4.__autoAllocateDepthBuffer||t4.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),R4.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(r_,Vx){const l4=zp.get(r_);l4.__webglFramebuffer=Vx,l4.__useDefaultFramebuffer=Vx===void 0},this.setRenderTarget=function(r_,Vx=0,l4=0){nm=r_,Lp=Vx,jp=l4;let R4=!0,u4=null,iM=!1,hM=!1;if(r_){const yM=zp.get(r_);yM.__useDefaultFramebuffer!==void 0?(Dp.bindFramebuffer(Fp.FRAMEBUFFER,null),R4=!1):yM.__webglFramebuffer===void 0?v3.setupRenderTarget(r_):yM.__hasExternalTextures&&v3.rebindTextures(r_,zp.get(r_.texture).__webglTexture,zp.get(r_.depthTexture).__webglTexture);const _M=r_.texture;(_M.isData3DTexture||_M.isDataArrayTexture||_M.isCompressedArrayTexture)&&(hM=!0);const oM=zp.get(r_).__webglFramebuffer;r_.isWebGLCubeRenderTarget?(Array.isArray(oM[Vx])?u4=oM[Vx][l4]:u4=oM[Vx],iM=!0):Nw.isWebGL2&&r_.samples>0&&v3.useMultisampledRTT(r_)===!1?u4=zp.get(r_).__webglMultisampledFramebuffer:Array.isArray(oM)?u4=oM[l4]:u4=oM,d3.copy(r_.viewport),op.copy(r_.scissor),Sn=r_.scissorTest}else d3.copy(go).multiplyScalar(ip).floor(),op.copy(h0).multiplyScalar(ip).floor(),Sn=kp;if(Dp.bindFramebuffer(Fp.FRAMEBUFFER,u4)&&Nw.drawBuffers&&R4&&Dp.drawBuffers(r_,u4),Dp.viewport(d3),Dp.scissor(op),Dp.setScissorTest(Sn),iM){const yM=zp.get(r_.texture);Fp.framebufferTexture2D(Fp.FRAMEBUFFER,Fp.COLOR_ATTACHMENT0,Fp.TEXTURE_CUBE_MAP_POSITIVE_X+Vx,yM.__webglTexture,l4)}else if(hM){const yM=zp.get(r_.texture),_M=Vx||0;Fp.framebufferTextureLayer(Fp.FRAMEBUFFER,Fp.COLOR_ATTACHMENT0,yM.__webglTexture,l4||0,_M)}zm=-1},this.readRenderTargetPixels=function(r_,Vx,l4,R4,u4,iM,hM){if(!(r_&&r_.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let bM=zp.get(r_).__webglFramebuffer;if(r_.isWebGLCubeRenderTarget&&hM!==void 0&&(bM=bM[hM]),bM){Dp.bindFramebuffer(Fp.FRAMEBUFFER,bM);try{const yM=r_.texture,_M=yM.format,oM=yM.type;if(_M!==RGBAFormat&&R5.convert(_M)!==Fp.getParameter(Fp.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const LM=oM===HalfFloatType&&(t4.has("EXT_color_buffer_half_float")||Nw.isWebGL2&&t4.has("EXT_color_buffer_float"));if(oM!==UnsignedByteType&&R5.convert(oM)!==Fp.getParameter(Fp.IMPLEMENTATION_COLOR_READ_TYPE)&&!(oM===FloatType&&(Nw.isWebGL2||t4.has("OES_texture_float")||t4.has("WEBGL_color_buffer_float")))&&!LM){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Vx>=0&&Vx<=r_.width-R4&&l4>=0&&l4<=r_.height-u4&&Fp.readPixels(Vx,l4,R4,u4,R5.convert(_M),R5.convert(oM),iM)}finally{const yM=nm!==null?zp.get(nm).__webglFramebuffer:null;Dp.bindFramebuffer(Fp.FRAMEBUFFER,yM)}}},this.copyFramebufferToTexture=function(r_,Vx,l4=0){const R4=Math.pow(2,-l4),u4=Math.floor(Vx.image.width*R4),iM=Math.floor(Vx.image.height*R4);v3.setTexture2D(Vx,0),Fp.copyTexSubImage2D(Fp.TEXTURE_2D,l4,0,0,r_.x,r_.y,u4,iM),Dp.unbindTexture()},this.copyTextureToTexture=function(r_,Vx,l4,R4=0){const u4=Vx.image.width,iM=Vx.image.height,hM=R5.convert(l4.format),bM=R5.convert(l4.type);v3.setTexture2D(l4,0),Fp.pixelStorei(Fp.UNPACK_FLIP_Y_WEBGL,l4.flipY),Fp.pixelStorei(Fp.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l4.premultiplyAlpha),Fp.pixelStorei(Fp.UNPACK_ALIGNMENT,l4.unpackAlignment),Vx.isDataTexture?Fp.texSubImage2D(Fp.TEXTURE_2D,R4,r_.x,r_.y,u4,iM,hM,bM,Vx.image.data):Vx.isCompressedTexture?Fp.compressedTexSubImage2D(Fp.TEXTURE_2D,R4,r_.x,r_.y,Vx.mipmaps[0].width,Vx.mipmaps[0].height,hM,Vx.mipmaps[0].data):Fp.texSubImage2D(Fp.TEXTURE_2D,R4,r_.x,r_.y,hM,bM,Vx.image),R4===0&&l4.generateMipmaps&&Fp.generateMipmap(Fp.TEXTURE_2D),Dp.unbindTexture()},this.copyTextureToTexture3D=function(r_,Vx,l4,R4,u4=0){if(cp.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const iM=r_.max.x-r_.min.x+1,hM=r_.max.y-r_.min.y+1,bM=r_.max.z-r_.min.z+1,yM=R5.convert(R4.format),_M=R5.convert(R4.type);let oM;if(R4.isData3DTexture)v3.setTexture3D(R4,0),oM=Fp.TEXTURE_3D;else if(R4.isDataArrayTexture)v3.setTexture2DArray(R4,0),oM=Fp.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Fp.pixelStorei(Fp.UNPACK_FLIP_Y_WEBGL,R4.flipY),Fp.pixelStorei(Fp.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R4.premultiplyAlpha),Fp.pixelStorei(Fp.UNPACK_ALIGNMENT,R4.unpackAlignment);const LM=Fp.getParameter(Fp.UNPACK_ROW_LENGTH),EM=Fp.getParameter(Fp.UNPACK_IMAGE_HEIGHT),BM=Fp.getParameter(Fp.UNPACK_SKIP_PIXELS),IM=Fp.getParameter(Fp.UNPACK_SKIP_ROWS),$M=Fp.getParameter(Fp.UNPACK_SKIP_IMAGES),NM=l4.isCompressedTexture?l4.mipmaps[0]:l4.image;Fp.pixelStorei(Fp.UNPACK_ROW_LENGTH,NM.width),Fp.pixelStorei(Fp.UNPACK_IMAGE_HEIGHT,NM.height),Fp.pixelStorei(Fp.UNPACK_SKIP_PIXELS,r_.min.x),Fp.pixelStorei(Fp.UNPACK_SKIP_ROWS,r_.min.y),Fp.pixelStorei(Fp.UNPACK_SKIP_IMAGES,r_.min.z),l4.isDataTexture||l4.isData3DTexture?Fp.texSubImage3D(oM,u4,Vx.x,Vx.y,Vx.z,iM,hM,bM,yM,_M,NM.data):l4.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Fp.compressedTexSubImage3D(oM,u4,Vx.x,Vx.y,Vx.z,iM,hM,bM,yM,NM.data)):Fp.texSubImage3D(oM,u4,Vx.x,Vx.y,Vx.z,iM,hM,bM,yM,_M,NM),Fp.pixelStorei(Fp.UNPACK_ROW_LENGTH,LM),Fp.pixelStorei(Fp.UNPACK_IMAGE_HEIGHT,EM),Fp.pixelStorei(Fp.UNPACK_SKIP_PIXELS,BM),Fp.pixelStorei(Fp.UNPACK_SKIP_ROWS,IM),Fp.pixelStorei(Fp.UNPACK_SKIP_IMAGES,$M),u4===0&&R4.generateMipmaps&&Fp.generateMipmap(oM),Dp.unbindTexture()},this.initTexture=function(r_){r_.isCubeTexture?v3.setTextureCube(r_,0):r_.isData3DTexture?v3.setTexture3D(r_,0):r_.isDataArrayTexture||r_.isCompressedArrayTexture?v3.setTexture2DArray(r_,0):v3.setTexture2D(r_,0),Dp.unbindTexture()},this.resetState=function(){Lp=0,jp=0,nm=null,Dp.reset(),r4.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return WebGLCoordinateSystem}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(lt){this._outputColorSpace=lt;const ht=this.getContext();ht.drawingBufferColorSpace=lt===DisplayP3ColorSpace?"display-p3":"srgb",ht.unpackColorSpace=ColorManagement.workingColorSpace===LinearDisplayP3ColorSpace?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(lt){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!lt}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===SRGBColorSpace$1?sRGBEncoding$1:LinearEncoding$1}set outputEncoding(lt){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=lt===sRGBEncoding$1?SRGBColorSpace$1:LinearSRGBColorSpace$1}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(lt){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=lt}}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(lt,ht=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(lt),this.density=ht}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Fog{constructor(lt,ht=1,_t=1e3){this.isFog=!0,this.name="",this.color=new Color(lt),this.near=ht,this.far=_t}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(lt,ht){return super.copy(lt,ht),lt.background!==null&&(this.background=lt.background.clone()),lt.environment!==null&&(this.environment=lt.environment.clone()),lt.fog!==null&&(this.fog=lt.fog.clone()),this.backgroundBlurriness=lt.backgroundBlurriness,this.backgroundIntensity=lt.backgroundIntensity,lt.overrideMaterial!==null&&(this.overrideMaterial=lt.overrideMaterial.clone()),this.matrixAutoUpdate=lt.matrixAutoUpdate,this}toJSON(lt){const ht=super.toJSON(lt);return this.fog!==null&&(ht.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(ht.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(ht.object.backgroundIntensity=this.backgroundIntensity),ht}}class InterleavedBuffer{constructor(lt,ht){this.isInterleavedBuffer=!0,this.array=lt,this.stride=ht,this.count=lt!==void 0?lt.length/ht:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(lt){lt===!0&&this.version++}setUsage(lt){return this.usage=lt,this}copy(lt){return this.array=new lt.array.constructor(lt.array),this.count=lt.count,this.stride=lt.stride,this.usage=lt.usage,this}copyAt(lt,ht,_t){lt*=this.stride,_t*=ht.stride;for(let At=0,qt=this.stride;At<qt;At++)this.array[lt+At]=ht.array[_t+At];return this}set(lt,ht=0){return this.array.set(lt,ht),this}clone(lt){lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const ht=new this.array.constructor(lt.arrayBuffers[this.array.buffer._uuid]),_t=new this.constructor(ht,this.stride);return _t.setUsage(this.usage),_t}onUpload(lt){return this.onUploadCallback=lt,this}toJSON(lt){return lt.arrayBuffers===void 0&&(lt.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),lt.arrayBuffers[this.array.buffer._uuid]===void 0&&(lt.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$5=new Vector3;class InterleavedBufferAttribute{constructor(lt,ht,_t,At=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=lt,this.itemSize=ht,this.offset=_t,this.normalized=At}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(lt){this.data.needsUpdate=lt}applyMatrix4(lt){for(let ht=0,_t=this.data.count;ht<_t;ht++)_vector$5.fromBufferAttribute(this,ht),_vector$5.applyMatrix4(lt),this.setXYZ(ht,_vector$5.x,_vector$5.y,_vector$5.z);return this}applyNormalMatrix(lt){for(let ht=0,_t=this.count;ht<_t;ht++)_vector$5.fromBufferAttribute(this,ht),_vector$5.applyNormalMatrix(lt),this.setXYZ(ht,_vector$5.x,_vector$5.y,_vector$5.z);return this}transformDirection(lt){for(let ht=0,_t=this.count;ht<_t;ht++)_vector$5.fromBufferAttribute(this,ht),_vector$5.transformDirection(lt),this.setXYZ(ht,_vector$5.x,_vector$5.y,_vector$5.z);return this}setX(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.data.array[lt*this.data.stride+this.offset]=ht,this}setY(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.data.array[lt*this.data.stride+this.offset+1]=ht,this}setZ(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.data.array[lt*this.data.stride+this.offset+2]=ht,this}setW(lt,ht){return this.normalized&&(ht=normalize(ht,this.array)),this.data.array[lt*this.data.stride+this.offset+3]=ht,this}getX(lt){let ht=this.data.array[lt*this.data.stride+this.offset];return this.normalized&&(ht=denormalize(ht,this.array)),ht}getY(lt){let ht=this.data.array[lt*this.data.stride+this.offset+1];return this.normalized&&(ht=denormalize(ht,this.array)),ht}getZ(lt){let ht=this.data.array[lt*this.data.stride+this.offset+2];return this.normalized&&(ht=denormalize(ht,this.array)),ht}getW(lt){let ht=this.data.array[lt*this.data.stride+this.offset+3];return this.normalized&&(ht=denormalize(ht,this.array)),ht}setXY(lt,ht,_t){return lt=lt*this.data.stride+this.offset,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array)),this.data.array[lt+0]=ht,this.data.array[lt+1]=_t,this}setXYZ(lt,ht,_t,At){return lt=lt*this.data.stride+this.offset,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array)),this.data.array[lt+0]=ht,this.data.array[lt+1]=_t,this.data.array[lt+2]=At,this}setXYZW(lt,ht,_t,At,qt){return lt=lt*this.data.stride+this.offset,this.normalized&&(ht=normalize(ht,this.array),_t=normalize(_t,this.array),At=normalize(At,this.array),qt=normalize(qt,this.array)),this.data.array[lt+0]=ht,this.data.array[lt+1]=_t,this.data.array[lt+2]=At,this.data.array[lt+3]=qt,this}clone(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const ht=[];for(let _t=0;_t<this.count;_t++){const At=_t*this.data.stride+this.offset;for(let qt=0;qt<this.itemSize;qt++)ht.push(this.data.array[At+qt])}return new BufferAttribute(new this.array.constructor(ht),this.itemSize,this.normalized)}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.clone(lt)),new InterleavedBufferAttribute(lt.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(lt){if(lt===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const ht=[];for(let _t=0;_t<this.count;_t++){const At=_t*this.data.stride+this.offset;for(let qt=0;qt<this.itemSize;qt++)ht.push(this.data.array[At+qt])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:ht,normalized:this.normalized}}else return lt.interleavedBuffers===void 0&&(lt.interleavedBuffers={}),lt.interleavedBuffers[this.data.uuid]===void 0&&(lt.interleavedBuffers[this.data.uuid]=this.data.toJSON(lt)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(lt){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.rotation=lt.rotation,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(lt=new SpriteMaterial){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const ht=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),_t=new InterleavedBuffer(ht,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(_t,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(_t,2,3,!1))}this.geometry=_geometry,this.material=lt,this.center=new Vector2(.5,.5)}raycast(lt,ht){lt.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(lt.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(lt.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),lt.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const _t=this.material.rotation;let At,qt;_t!==0&&(qt=Math.cos(_t),At=Math.sin(_t));const Zt=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,Zt,_worldScale,At,qt),transformVertex(_vB.set(.5,-.5,0),_mvPosition,Zt,_worldScale,At,qt),transformVertex(_vC.set(.5,.5,0),_mvPosition,Zt,_worldScale,At,qt),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let cr=lt.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(cr===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,Zt,_worldScale,At,qt),_uvB.set(0,1),cr=lt.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),cr===null))return;const Gr=lt.ray.origin.distanceTo(_intersectPoint);Gr<lt.near||Gr>lt.far||ht.push({distance:Gr,point:_intersectPoint.clone(),uv:Triangle.getInterpolation(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(lt,ht){return super.copy(lt,ht),lt.center!==void 0&&this.center.copy(lt.center),this.material=lt.material,this}}function transformVertex(ut,lt,ht,_t,At,qt){_alignedPosition.subVectors(ut,ht).addScalar(.5).multiply(_t),At!==void 0?(_rotatedPosition.x=qt*_alignedPosition.x-At*_alignedPosition.y,_rotatedPosition.y=At*_alignedPosition.x+qt*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),ut.copy(lt),ut.x+=_rotatedPosition.x,ut.y+=_rotatedPosition.y,ut.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(lt){super.copy(lt,!1);const ht=lt.levels;for(let _t=0,At=ht.length;_t<At;_t++){const qt=ht[_t];this.addLevel(qt.object.clone(),qt.distance,qt.hysteresis)}return this.autoUpdate=lt.autoUpdate,this}addLevel(lt,ht=0,_t=0){ht=Math.abs(ht);const At=this.levels;let qt;for(qt=0;qt<At.length&&!(ht<At[qt].distance);qt++);return At.splice(qt,0,{distance:ht,hysteresis:_t,object:lt}),this.add(lt),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(lt){const ht=this.levels;if(ht.length>0){let _t,At;for(_t=1,At=ht.length;_t<At;_t++){let qt=ht[_t].distance;if(ht[_t].object.visible&&(qt-=qt*ht[_t].hysteresis),lt<qt)break}return ht[_t-1].object}return null}raycast(lt,ht){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const At=lt.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(At).raycast(lt,ht)}}update(lt){const ht=this.levels;if(ht.length>1){_v1$2.setFromMatrixPosition(lt.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const _t=_v1$2.distanceTo(_v2$1)/lt.zoom;ht[0].object.visible=!0;let At,qt;for(At=1,qt=ht.length;At<qt;At++){let Zt=ht[At].distance;if(ht[At].object.visible&&(Zt-=Zt*ht[At].hysteresis),_t>=Zt)ht[At-1].object.visible=!1,ht[At].object.visible=!0;else break}for(this._currentLevel=At-1;At<qt;At++)ht[At].object.visible=!1}}toJSON(lt){const ht=super.toJSON(lt);this.autoUpdate===!1&&(ht.object.autoUpdate=!1),ht.object.levels=[];const _t=this.levels;for(let At=0,qt=_t.length;At<qt;At++){const Zt=_t[At];ht.object.levels.push({object:Zt.object.uuid,distance:Zt.distance,hysteresis:Zt.hysteresis})}return ht}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector3=new Vector3,_matrix4=new Matrix4,_vertex=new Vector3,_sphere$3=new Sphere,_inverseMatrix$2=new Matrix4,_ray$2=new Ray;class SkinnedMesh extends Mesh{constructor(lt,ht){super(lt,ht),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const lt=this.geometry;this.boundingBox===null&&(this.boundingBox=new Box3),this.boundingBox.makeEmpty();const ht=lt.getAttribute("position");for(let _t=0;_t<ht.count;_t++)_vertex.fromBufferAttribute(ht,_t),this.applyBoneTransform(_t,_vertex),this.boundingBox.expandByPoint(_vertex)}computeBoundingSphere(){const lt=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Sphere),this.boundingSphere.makeEmpty();const ht=lt.getAttribute("position");for(let _t=0;_t<ht.count;_t++)_vertex.fromBufferAttribute(ht,_t),this.applyBoneTransform(_t,_vertex),this.boundingSphere.expandByPoint(_vertex)}copy(lt,ht){return super.copy(lt,ht),this.bindMode=lt.bindMode,this.bindMatrix.copy(lt.bindMatrix),this.bindMatrixInverse.copy(lt.bindMatrixInverse),this.skeleton=lt.skeleton,lt.boundingBox!==null&&(this.boundingBox=lt.boundingBox.clone()),lt.boundingSphere!==null&&(this.boundingSphere=lt.boundingSphere.clone()),this}raycast(lt,ht){const _t=this.material,At=this.matrixWorld;_t!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$3.copy(this.boundingSphere),_sphere$3.applyMatrix4(At),lt.ray.intersectsSphere(_sphere$3)!==!1&&(_inverseMatrix$2.copy(At).invert(),_ray$2.copy(lt.ray).applyMatrix4(_inverseMatrix$2),!(this.boundingBox!==null&&_ray$2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(lt,ht,_ray$2)))}getVertexPosition(lt,ht){return super.getVertexPosition(lt,ht),this.applyBoneTransform(lt,ht),ht}bind(lt,ht){this.skeleton=lt,ht===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),ht=this.matrixWorld),this.bindMatrix.copy(ht),this.bindMatrixInverse.copy(ht).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const lt=new Vector4,ht=this.geometry.attributes.skinWeight;for(let _t=0,At=ht.count;_t<At;_t++){lt.fromBufferAttribute(ht,_t);const qt=1/lt.manhattanLength();qt!==1/0?lt.multiplyScalar(qt):lt.set(1,0,0,0),ht.setXYZW(_t,lt.x,lt.y,lt.z,lt.w)}}updateMatrixWorld(lt){super.updateMatrixWorld(lt),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(lt,ht){const _t=this.skeleton,At=this.geometry;_skinIndex.fromBufferAttribute(At.attributes.skinIndex,lt),_skinWeight.fromBufferAttribute(At.attributes.skinWeight,lt),_basePosition.copy(ht).applyMatrix4(this.bindMatrix),ht.set(0,0,0);for(let qt=0;qt<4;qt++){const Zt=_skinWeight.getComponent(qt);if(Zt!==0){const cr=_skinIndex.getComponent(qt);_matrix4.multiplyMatrices(_t.bones[cr].matrixWorld,_t.boneInverses[cr]),ht.addScaledVector(_vector3.copy(_basePosition).applyMatrix4(_matrix4),Zt)}}return ht.applyMatrix4(this.bindMatrixInverse)}boneTransform(lt,ht){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(lt,ht)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(lt=null,ht=1,_t=1,At,qt,Zt,cr,Gr,Zr=NearestFilter,xn=NearestFilter,On,ss){super(null,Zt,cr,Gr,Zr,xn,At,qt,On,ss),this.isDataTexture=!0,this.image={data:lt,width:ht,height:_t},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix$1=new Matrix4;class Skeleton{constructor(lt=[],ht=[]){this.uuid=generateUUID$1(),this.bones=lt.slice(0),this.boneInverses=ht,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const lt=this.bones,ht=this.boneInverses;if(this.boneMatrices=new Float32Array(lt.length*16),ht.length===0)this.calculateInverses();else if(lt.length!==ht.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let _t=0,At=this.bones.length;_t<At;_t++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let lt=0,ht=this.bones.length;lt<ht;lt++){const _t=new Matrix4;this.bones[lt]&&_t.copy(this.bones[lt].matrixWorld).invert(),this.boneInverses.push(_t)}}pose(){for(let lt=0,ht=this.bones.length;lt<ht;lt++){const _t=this.bones[lt];_t&&_t.matrixWorld.copy(this.boneInverses[lt]).invert()}for(let lt=0,ht=this.bones.length;lt<ht;lt++){const _t=this.bones[lt];_t&&(_t.parent&&_t.parent.isBone?(_t.matrix.copy(_t.parent.matrixWorld).invert(),_t.matrix.multiply(_t.matrixWorld)):_t.matrix.copy(_t.matrixWorld),_t.matrix.decompose(_t.position,_t.quaternion,_t.scale))}}update(){const lt=this.bones,ht=this.boneInverses,_t=this.boneMatrices,At=this.boneTexture;for(let qt=0,Zt=lt.length;qt<Zt;qt++){const cr=lt[qt]?lt[qt].matrixWorld:_identityMatrix$1;_offsetMatrix.multiplyMatrices(cr,ht[qt]),_offsetMatrix.toArray(_t,qt*16)}At!==null&&(At.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let lt=Math.sqrt(this.bones.length*4);lt=ceilPowerOfTwo(lt),lt=Math.max(lt,4);const ht=new Float32Array(lt*lt*4);ht.set(this.boneMatrices);const _t=new DataTexture(ht,lt,lt,RGBAFormat,FloatType);return _t.needsUpdate=!0,this.boneMatrices=ht,this.boneTexture=_t,this.boneTextureSize=lt,this}getBoneByName(lt){for(let ht=0,_t=this.bones.length;ht<_t;ht++){const At=this.bones[ht];if(At.name===lt)return At}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(lt,ht){this.uuid=lt.uuid;for(let _t=0,At=lt.bones.length;_t<At;_t++){const qt=lt.bones[_t];let Zt=ht[qt];Zt===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",qt),Zt=new Bone),this.bones.push(Zt),this.boneInverses.push(new Matrix4().fromArray(lt.boneInverses[_t]))}return this.init(),this}toJSON(){const lt={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};lt.uuid=this.uuid;const ht=this.bones,_t=this.boneInverses;for(let At=0,qt=ht.length;At<qt;At++){const Zt=ht[At];lt.bones.push(Zt.uuid);const cr=_t[At];lt.boneInverses.push(cr.toArray())}return lt}}class InstancedBufferAttribute extends BufferAttribute{constructor(lt,ht,_t,At=1){super(lt,ht,_t),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=At}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}toJSON(){const lt=super.toJSON();return lt.meshPerAttribute=this.meshPerAttribute,lt.isInstancedBufferAttribute=!0,lt}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_box3=new Box3,_identity=new Matrix4,_mesh=new Mesh,_sphere$2=new Sphere;class InstancedMesh extends Mesh{constructor(lt,ht,_t){super(lt,ht),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(_t*16),16),this.instanceColor=null,this.count=_t,this.boundingBox=null,this.boundingSphere=null;for(let At=0;At<_t;At++)this.setMatrixAt(At,_identity)}computeBoundingBox(){const lt=this.geometry,ht=this.count;this.boundingBox===null&&(this.boundingBox=new Box3),lt.boundingBox===null&&lt.computeBoundingBox(),this.boundingBox.makeEmpty();for(let _t=0;_t<ht;_t++)this.getMatrixAt(_t,_instanceLocalMatrix),_box3.copy(lt.boundingBox).applyMatrix4(_instanceLocalMatrix),this.boundingBox.union(_box3)}computeBoundingSphere(){const lt=this.geometry,ht=this.count;this.boundingSphere===null&&(this.boundingSphere=new Sphere),lt.boundingSphere===null&&lt.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let _t=0;_t<ht;_t++)this.getMatrixAt(_t,_instanceLocalMatrix),_sphere$2.copy(lt.boundingSphere).applyMatrix4(_instanceLocalMatrix),this.boundingSphere.union(_sphere$2)}copy(lt,ht){return super.copy(lt,ht),this.instanceMatrix.copy(lt.instanceMatrix),lt.instanceColor!==null&&(this.instanceColor=lt.instanceColor.clone()),this.count=lt.count,lt.boundingBox!==null&&(this.boundingBox=lt.boundingBox.clone()),lt.boundingSphere!==null&&(this.boundingSphere=lt.boundingSphere.clone()),this}getColorAt(lt,ht){ht.fromArray(this.instanceColor.array,lt*3)}getMatrixAt(lt,ht){ht.fromArray(this.instanceMatrix.array,lt*16)}raycast(lt,ht){const _t=this.matrixWorld,At=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_sphere$2.copy(this.boundingSphere),_sphere$2.applyMatrix4(_t),lt.ray.intersectsSphere(_sphere$2)!==!1))for(let qt=0;qt<At;qt++){this.getMatrixAt(qt,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(_t,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(lt,_instanceIntersects);for(let Zt=0,cr=_instanceIntersects.length;Zt<cr;Zt++){const Gr=_instanceIntersects[Zt];Gr.instanceId=qt,Gr.object=this,ht.push(Gr)}_instanceIntersects.length=0}}setColorAt(lt,ht){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),ht.toArray(this.instanceColor.array,lt*3)}setMatrixAt(lt,ht){ht.toArray(this.instanceMatrix.array,lt*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material{constructor(lt){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.linewidth=lt.linewidth,this.linecap=lt.linecap,this.linejoin=lt.linejoin,this.fog=lt.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(lt=new BufferGeometry,ht=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=lt,this.material=ht,this.updateMorphTargets()}copy(lt,ht){return super.copy(lt,ht),this.material=Array.isArray(lt.material)?lt.material.slice():lt.material,this.geometry=lt.geometry,this}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const ht=lt.attributes.position,_t=[0];for(let At=1,qt=ht.count;At<qt;At++)_start$1.fromBufferAttribute(ht,At-1),_end$1.fromBufferAttribute(ht,At),_t[At]=_t[At-1],_t[At]+=_start$1.distanceTo(_end$1);lt.setAttribute("lineDistance",new Float32BufferAttribute(_t,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(lt,ht){const _t=this.geometry,At=this.matrixWorld,qt=lt.params.Line.threshold,Zt=_t.drawRange;if(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere$1.copy(_t.boundingSphere),_sphere$1.applyMatrix4(At),_sphere$1.radius+=qt,lt.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(At).invert(),_ray$1.copy(lt.ray).applyMatrix4(_inverseMatrix$1);const cr=qt/((this.scale.x+this.scale.y+this.scale.z)/3),Gr=cr*cr,Zr=new Vector3,xn=new Vector3,On=new Vector3,ss=new Vector3,ls=this.isLineSegments?2:1,cs=_t.index,ep=_t.attributes.position;if(cs!==null){const Al=Math.max(0,Zt.start),np=Math.min(cs.count,Zt.start+Zt.count);for(let cp=Al,Cp=np-1;cp<Cp;cp+=ls){const Lp=cs.getX(cp),jp=cs.getX(cp+1);if(Zr.fromBufferAttribute(ep,Lp),xn.fromBufferAttribute(ep,jp),_ray$1.distanceSqToSegment(Zr,xn,ss,On)>Gr)continue;ss.applyMatrix4(this.matrixWorld);const zm=lt.ray.origin.distanceTo(ss);zm<lt.near||zm>lt.far||ht.push({distance:zm,point:On.clone().applyMatrix4(this.matrixWorld),index:cp,face:null,faceIndex:null,object:this})}}else{const Al=Math.max(0,Zt.start),np=Math.min(ep.count,Zt.start+Zt.count);for(let cp=Al,Cp=np-1;cp<Cp;cp+=ls){if(Zr.fromBufferAttribute(ep,cp),xn.fromBufferAttribute(ep,cp+1),_ray$1.distanceSqToSegment(Zr,xn,ss,On)>Gr)continue;ss.applyMatrix4(this.matrixWorld);const jp=lt.ray.origin.distanceTo(ss);jp<lt.near||jp>lt.far||ht.push({distance:jp,point:On.clone().applyMatrix4(this.matrixWorld),index:cp,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const ht=this.geometry.morphAttributes,_t=Object.keys(ht);if(_t.length>0){const At=ht[_t[0]];if(At!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let qt=0,Zt=At.length;qt<Zt;qt++){const cr=At[qt].name||String(qt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[cr]=qt}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(lt,ht){super(lt,ht),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const lt=this.geometry;if(lt.index===null){const ht=lt.attributes.position,_t=[];for(let At=0,qt=ht.count;At<qt;At+=2)_start.fromBufferAttribute(ht,At),_end.fromBufferAttribute(ht,At+1),_t[At]=At===0?0:_t[At-1],_t[At+1]=_t[At]+_start.distanceTo(_end);lt.setAttribute("lineDistance",new Float32BufferAttribute(_t,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(lt,ht){super(lt,ht),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material{constructor(lt){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.alphaMap=lt.alphaMap,this.size=lt.size,this.sizeAttenuation=lt.sizeAttenuation,this.fog=lt.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(lt=new BufferGeometry,ht=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=lt,this.material=ht,this.updateMorphTargets()}copy(lt,ht){return super.copy(lt,ht),this.material=Array.isArray(lt.material)?lt.material.slice():lt.material,this.geometry=lt.geometry,this}raycast(lt,ht){const _t=this.geometry,At=this.matrixWorld,qt=lt.params.Points.threshold,Zt=_t.drawRange;if(_t.boundingSphere===null&&_t.computeBoundingSphere(),_sphere.copy(_t.boundingSphere),_sphere.applyMatrix4(At),_sphere.radius+=qt,lt.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(At).invert(),_ray.copy(lt.ray).applyMatrix4(_inverseMatrix);const cr=qt/((this.scale.x+this.scale.y+this.scale.z)/3),Gr=cr*cr,Zr=_t.index,On=_t.attributes.position;if(Zr!==null){const ss=Math.max(0,Zt.start),ls=Math.min(Zr.count,Zt.start+Zt.count);for(let cs=ss,wl=ls;cs<wl;cs++){const ep=Zr.getX(cs);_position$2.fromBufferAttribute(On,ep),testPoint(_position$2,ep,Gr,At,lt,ht,this)}}else{const ss=Math.max(0,Zt.start),ls=Math.min(On.count,Zt.start+Zt.count);for(let cs=ss,wl=ls;cs<wl;cs++)_position$2.fromBufferAttribute(On,cs),testPoint(_position$2,cs,Gr,At,lt,ht,this)}}updateMorphTargets(){const ht=this.geometry.morphAttributes,_t=Object.keys(ht);if(_t.length>0){const At=ht[_t[0]];if(At!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let qt=0,Zt=At.length;qt<Zt;qt++){const cr=At[qt].name||String(qt);this.morphTargetInfluences.push(0),this.morphTargetDictionary[cr]=qt}}}}}function testPoint(ut,lt,ht,_t,At,qt,Zt){const cr=_ray.distanceSqToPoint(ut);if(cr<ht){const Gr=new Vector3;_ray.closestPointToPoint(ut,Gr),Gr.applyMatrix4(_t);const Zr=At.ray.origin.distanceTo(Gr);if(Zr<At.near||Zr>At.far)return;qt.push({distance:Zr,distanceToRay:Math.sqrt(cr),point:Gr,index:lt,face:null,object:Zt})}}class VideoTexture extends Texture{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr){super(lt,ht,_t,At,qt,Zt,cr,Gr,Zr),this.isVideoTexture=!0,this.minFilter=Zt!==void 0?Zt:LinearFilter,this.magFilter=qt!==void 0?qt:LinearFilter,this.generateMipmaps=!1;const xn=this;function On(){xn.needsUpdate=!0,lt.requestVideoFrameCallback(On)}"requestVideoFrameCallback"in lt&&lt.requestVideoFrameCallback(On)}clone(){return new this.constructor(this.image).copy(this)}update(){const lt=this.image;"requestVideoFrameCallback"in lt===!1&&lt.readyState>=lt.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(lt,ht){super({width:lt,height:ht}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn,On,ss){super(null,Zt,cr,Gr,Zr,xn,At,qt,On,ss),this.isCompressedTexture=!0,this.image={width:ht,height:_t},this.mipmaps=lt,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(lt,ht,_t,At,qt,Zt){super(lt,ht,_t,qt,Zt),this.isCompressedArrayTexture=!0,this.image.depth=At,this.wrapR=ClampToEdgeWrapping}}class CompressedCubeTexture extends CompressedTexture{constructor(lt,ht,_t){super(void 0,lt[0].width,lt[0].height,ht,_t,CubeReflectionMapping),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=lt}}class CanvasTexture extends Texture{constructor(lt,ht,_t,At,qt,Zt,cr,Gr,Zr){super(lt,ht,_t,At,qt,Zt,cr,Gr,Zr),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(lt,ht){const _t=this.getUtoTmapping(lt);return this.getPoint(_t,ht)}getPoints(lt=5){const ht=[];for(let _t=0;_t<=lt;_t++)ht.push(this.getPoint(_t/lt));return ht}getSpacedPoints(lt=5){const ht=[];for(let _t=0;_t<=lt;_t++)ht.push(this.getPointAt(_t/lt));return ht}getLength(){const lt=this.getLengths();return lt[lt.length-1]}getLengths(lt=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===lt+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const ht=[];let _t,At=this.getPoint(0),qt=0;ht.push(0);for(let Zt=1;Zt<=lt;Zt++)_t=this.getPoint(Zt/lt),qt+=_t.distanceTo(At),ht.push(qt),At=_t;return this.cacheArcLengths=ht,ht}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(lt,ht){const _t=this.getLengths();let At=0;const qt=_t.length;let Zt;ht?Zt=ht:Zt=lt*_t[qt-1];let cr=0,Gr=qt-1,Zr;for(;cr<=Gr;)if(At=Math.floor(cr+(Gr-cr)/2),Zr=_t[At]-Zt,Zr<0)cr=At+1;else if(Zr>0)Gr=At-1;else{Gr=At;break}if(At=Gr,_t[At]===Zt)return At/(qt-1);const xn=_t[At],ss=_t[At+1]-xn,ls=(Zt-xn)/ss;return(At+ls)/(qt-1)}getTangent(lt,ht){let At=lt-1e-4,qt=lt+1e-4;At<0&&(At=0),qt>1&&(qt=1);const Zt=this.getPoint(At),cr=this.getPoint(qt),Gr=ht||(Zt.isVector2?new Vector2:new Vector3);return Gr.copy(cr).sub(Zt).normalize(),Gr}getTangentAt(lt,ht){const _t=this.getUtoTmapping(lt);return this.getTangent(_t,ht)}computeFrenetFrames(lt,ht){const _t=new Vector3,At=[],qt=[],Zt=[],cr=new Vector3,Gr=new Matrix4;for(let ls=0;ls<=lt;ls++){const cs=ls/lt;At[ls]=this.getTangentAt(cs,new Vector3)}qt[0]=new Vector3,Zt[0]=new Vector3;let Zr=Number.MAX_VALUE;const xn=Math.abs(At[0].x),On=Math.abs(At[0].y),ss=Math.abs(At[0].z);xn<=Zr&&(Zr=xn,_t.set(1,0,0)),On<=Zr&&(Zr=On,_t.set(0,1,0)),ss<=Zr&&_t.set(0,0,1),cr.crossVectors(At[0],_t).normalize(),qt[0].crossVectors(At[0],cr),Zt[0].crossVectors(At[0],qt[0]);for(let ls=1;ls<=lt;ls++){if(qt[ls]=qt[ls-1].clone(),Zt[ls]=Zt[ls-1].clone(),cr.crossVectors(At[ls-1],At[ls]),cr.length()>Number.EPSILON){cr.normalize();const cs=Math.acos(clamp(At[ls-1].dot(At[ls]),-1,1));qt[ls].applyMatrix4(Gr.makeRotationAxis(cr,cs))}Zt[ls].crossVectors(At[ls],qt[ls])}if(ht===!0){let ls=Math.acos(clamp(qt[0].dot(qt[lt]),-1,1));ls/=lt,At[0].dot(cr.crossVectors(qt[0],qt[lt]))>0&&(ls=-ls);for(let cs=1;cs<=lt;cs++)qt[cs].applyMatrix4(Gr.makeRotationAxis(At[cs],ls*cs)),Zt[cs].crossVectors(At[cs],qt[cs])}return{tangents:At,normals:qt,binormals:Zt}}clone(){return new this.constructor().copy(this)}copy(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}toJSON(){const lt={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return lt.arcLengthDivisions=this.arcLengthDivisions,lt.type=this.type,lt}fromJSON(lt){return this.arcLengthDivisions=lt.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(lt=0,ht=0,_t=1,At=1,qt=0,Zt=Math.PI*2,cr=!1,Gr=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=lt,this.aY=ht,this.xRadius=_t,this.yRadius=At,this.aStartAngle=qt,this.aEndAngle=Zt,this.aClockwise=cr,this.aRotation=Gr}getPoint(lt,ht){const _t=ht||new Vector2,At=Math.PI*2;let qt=this.aEndAngle-this.aStartAngle;const Zt=Math.abs(qt)<Number.EPSILON;for(;qt<0;)qt+=At;for(;qt>At;)qt-=At;qt<Number.EPSILON&&(Zt?qt=0:qt=At),this.aClockwise===!0&&!Zt&&(qt===At?qt=-At:qt=qt-At);const cr=this.aStartAngle+lt*qt;let Gr=this.aX+this.xRadius*Math.cos(cr),Zr=this.aY+this.yRadius*Math.sin(cr);if(this.aRotation!==0){const xn=Math.cos(this.aRotation),On=Math.sin(this.aRotation),ss=Gr-this.aX,ls=Zr-this.aY;Gr=ss*xn-ls*On+this.aX,Zr=ss*On+ls*xn+this.aY}return _t.set(Gr,Zr)}copy(lt){return super.copy(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}toJSON(){const lt=super.toJSON();return lt.aX=this.aX,lt.aY=this.aY,lt.xRadius=this.xRadius,lt.yRadius=this.yRadius,lt.aStartAngle=this.aStartAngle,lt.aEndAngle=this.aEndAngle,lt.aClockwise=this.aClockwise,lt.aRotation=this.aRotation,lt}fromJSON(lt){return super.fromJSON(lt),this.aX=lt.aX,this.aY=lt.aY,this.xRadius=lt.xRadius,this.yRadius=lt.yRadius,this.aStartAngle=lt.aStartAngle,this.aEndAngle=lt.aEndAngle,this.aClockwise=lt.aClockwise,this.aRotation=lt.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(lt,ht,_t,At,qt,Zt){super(lt,ht,_t,_t,At,qt,Zt),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let ut=0,lt=0,ht=0,_t=0;function At(qt,Zt,cr,Gr){ut=qt,lt=cr,ht=-3*qt+3*Zt-2*cr-Gr,_t=2*qt-2*Zt+cr+Gr}return{initCatmullRom:function(qt,Zt,cr,Gr,Zr){At(Zt,cr,Zr*(cr-qt),Zr*(Gr-Zt))},initNonuniformCatmullRom:function(qt,Zt,cr,Gr,Zr,xn,On){let ss=(Zt-qt)/Zr-(cr-qt)/(Zr+xn)+(cr-Zt)/xn,ls=(cr-Zt)/xn-(Gr-Zt)/(xn+On)+(Gr-cr)/On;ss*=xn,ls*=xn,At(Zt,cr,ss,ls)},calc:function(qt){const Zt=qt*qt,cr=Zt*qt;return ut+lt*qt+ht*Zt+_t*cr}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(lt=[],ht=!1,_t="centripetal",At=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=lt,this.closed=ht,this.curveType=_t,this.tension=At}getPoint(lt,ht=new Vector3){const _t=ht,At=this.points,qt=At.length,Zt=(qt-(this.closed?0:1))*lt;let cr=Math.floor(Zt),Gr=Zt-cr;this.closed?cr+=cr>0?0:(Math.floor(Math.abs(cr)/qt)+1)*qt:Gr===0&&cr===qt-1&&(cr=qt-2,Gr=1);let Zr,xn;this.closed||cr>0?Zr=At[(cr-1)%qt]:(tmp.subVectors(At[0],At[1]).add(At[0]),Zr=tmp);const On=At[cr%qt],ss=At[(cr+1)%qt];if(this.closed||cr+2<qt?xn=At[(cr+2)%qt]:(tmp.subVectors(At[qt-1],At[qt-2]).add(At[qt-1]),xn=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const ls=this.curveType==="chordal"?.5:.25;let cs=Math.pow(Zr.distanceToSquared(On),ls),wl=Math.pow(On.distanceToSquared(ss),ls),ep=Math.pow(ss.distanceToSquared(xn),ls);wl<1e-4&&(wl=1),cs<1e-4&&(cs=wl),ep<1e-4&&(ep=wl),px.initNonuniformCatmullRom(Zr.x,On.x,ss.x,xn.x,cs,wl,ep),py.initNonuniformCatmullRom(Zr.y,On.y,ss.y,xn.y,cs,wl,ep),pz.initNonuniformCatmullRom(Zr.z,On.z,ss.z,xn.z,cs,wl,ep)}else this.curveType==="catmullrom"&&(px.initCatmullRom(Zr.x,On.x,ss.x,xn.x,this.tension),py.initCatmullRom(Zr.y,On.y,ss.y,xn.y,this.tension),pz.initCatmullRom(Zr.z,On.z,ss.z,xn.z,this.tension));return _t.set(px.calc(Gr),py.calc(Gr),pz.calc(Gr)),_t}copy(lt){super.copy(lt),this.points=[];for(let ht=0,_t=lt.points.length;ht<_t;ht++){const At=lt.points[ht];this.points.push(At.clone())}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}toJSON(){const lt=super.toJSON();lt.points=[];for(let ht=0,_t=this.points.length;ht<_t;ht++){const At=this.points[ht];lt.points.push(At.toArray())}return lt.closed=this.closed,lt.curveType=this.curveType,lt.tension=this.tension,lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let ht=0,_t=lt.points.length;ht<_t;ht++){const At=lt.points[ht];this.points.push(new Vector3().fromArray(At))}return this.closed=lt.closed,this.curveType=lt.curveType,this.tension=lt.tension,this}}function CatmullRom(ut,lt,ht,_t,At){const qt=(_t-lt)*.5,Zt=(At-ht)*.5,cr=ut*ut,Gr=ut*cr;return(2*ht-2*_t+qt+Zt)*Gr+(-3*ht+3*_t-2*qt-Zt)*cr+qt*ut+ht}function QuadraticBezierP0(ut,lt){const ht=1-ut;return ht*ht*lt}function QuadraticBezierP1(ut,lt){return 2*(1-ut)*ut*lt}function QuadraticBezierP2(ut,lt){return ut*ut*lt}function QuadraticBezier(ut,lt,ht,_t){return QuadraticBezierP0(ut,lt)+QuadraticBezierP1(ut,ht)+QuadraticBezierP2(ut,_t)}function CubicBezierP0(ut,lt){const ht=1-ut;return ht*ht*ht*lt}function CubicBezierP1(ut,lt){const ht=1-ut;return 3*ht*ht*ut*lt}function CubicBezierP2(ut,lt){return 3*(1-ut)*ut*ut*lt}function CubicBezierP3(ut,lt){return ut*ut*ut*lt}function CubicBezier(ut,lt,ht,_t,At){return CubicBezierP0(ut,lt)+CubicBezierP1(ut,ht)+CubicBezierP2(ut,_t)+CubicBezierP3(ut,At)}class CubicBezierCurve extends Curve{constructor(lt=new Vector2,ht=new Vector2,_t=new Vector2,At=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=lt,this.v1=ht,this.v2=_t,this.v3=At}getPoint(lt,ht=new Vector2){const _t=ht,At=this.v0,qt=this.v1,Zt=this.v2,cr=this.v3;return _t.set(CubicBezier(lt,At.x,qt.x,Zt.x,cr.x),CubicBezier(lt,At.y,qt.y,Zt.y,cr.y)),_t}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class CubicBezierCurve3 extends Curve{constructor(lt=new Vector3,ht=new Vector3,_t=new Vector3,At=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=lt,this.v1=ht,this.v2=_t,this.v3=At}getPoint(lt,ht=new Vector3){const _t=ht,At=this.v0,qt=this.v1,Zt=this.v2,cr=this.v3;return _t.set(CubicBezier(lt,At.x,qt.x,Zt.x,cr.x),CubicBezier(lt,At.y,qt.y,Zt.y,cr.y),CubicBezier(lt,At.z,qt.z,Zt.z,cr.z)),_t}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this.v3.copy(lt.v3),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt.v3=this.v3.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this.v3.fromArray(lt.v3),this}}class LineCurve extends Curve{constructor(lt=new Vector2,ht=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=lt,this.v2=ht}getPoint(lt,ht=new Vector2){const _t=ht;return lt===1?_t.copy(this.v2):(_t.copy(this.v2).sub(this.v1),_t.multiplyScalar(lt).add(this.v1)),_t}getPointAt(lt,ht){return this.getPoint(lt,ht)}getTangent(lt,ht=new Vector2){return ht.subVectors(this.v2,this.v1).normalize()}getTangentAt(lt,ht){return this.getTangent(lt,ht)}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class LineCurve3 extends Curve{constructor(lt=new Vector3,ht=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=lt,this.v2=ht}getPoint(lt,ht=new Vector3){const _t=ht;return lt===1?_t.copy(this.v2):(_t.copy(this.v2).sub(this.v1),_t.multiplyScalar(lt).add(this.v1)),_t}getPointAt(lt,ht){return this.getPoint(lt,ht)}getTangent(lt,ht=new Vector3){return ht.subVectors(this.v2,this.v1).normalize()}getTangentAt(lt,ht){return this.getTangent(lt,ht)}copy(lt){return super.copy(lt),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve extends Curve{constructor(lt=new Vector2,ht=new Vector2,_t=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=lt,this.v1=ht,this.v2=_t}getPoint(lt,ht=new Vector2){const _t=ht,At=this.v0,qt=this.v1,Zt=this.v2;return _t.set(QuadraticBezier(lt,At.x,qt.x,Zt.x),QuadraticBezier(lt,At.y,qt.y,Zt.y)),_t}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(lt=new Vector3,ht=new Vector3,_t=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=lt,this.v1=ht,this.v2=_t}getPoint(lt,ht=new Vector3){const _t=ht,At=this.v0,qt=this.v1,Zt=this.v2;return _t.set(QuadraticBezier(lt,At.x,qt.x,Zt.x),QuadraticBezier(lt,At.y,qt.y,Zt.y),QuadraticBezier(lt,At.z,qt.z,Zt.z)),_t}copy(lt){return super.copy(lt),this.v0.copy(lt.v0),this.v1.copy(lt.v1),this.v2.copy(lt.v2),this}toJSON(){const lt=super.toJSON();return lt.v0=this.v0.toArray(),lt.v1=this.v1.toArray(),lt.v2=this.v2.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.v0.fromArray(lt.v0),this.v1.fromArray(lt.v1),this.v2.fromArray(lt.v2),this}}class SplineCurve extends Curve{constructor(lt=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=lt}getPoint(lt,ht=new Vector2){const _t=ht,At=this.points,qt=(At.length-1)*lt,Zt=Math.floor(qt),cr=qt-Zt,Gr=At[Zt===0?Zt:Zt-1],Zr=At[Zt],xn=At[Zt>At.length-2?At.length-1:Zt+1],On=At[Zt>At.length-3?At.length-1:Zt+2];return _t.set(CatmullRom(cr,Gr.x,Zr.x,xn.x,On.x),CatmullRom(cr,Gr.y,Zr.y,xn.y,On.y)),_t}copy(lt){super.copy(lt),this.points=[];for(let ht=0,_t=lt.points.length;ht<_t;ht++){const At=lt.points[ht];this.points.push(At.clone())}return this}toJSON(){const lt=super.toJSON();lt.points=[];for(let ht=0,_t=this.points.length;ht<_t;ht++){const At=this.points[ht];lt.points.push(At.toArray())}return lt}fromJSON(lt){super.fromJSON(lt),this.points=[];for(let ht=0,_t=lt.points.length;ht<_t;ht++){const At=lt.points[ht];this.points.push(new Vector2().fromArray(At))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(lt){this.curves.push(lt)}closePath(){const lt=this.curves[0].getPoint(0),ht=this.curves[this.curves.length-1].getPoint(1);if(!lt.equals(ht)){const _t=lt.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Curves[_t](ht,lt))}return this}getPoint(lt,ht){const _t=lt*this.getLength(),At=this.getCurveLengths();let qt=0;for(;qt<At.length;){if(At[qt]>=_t){const Zt=At[qt]-_t,cr=this.curves[qt],Gr=cr.getLength(),Zr=Gr===0?0:1-Zt/Gr;return cr.getPointAt(Zr,ht)}qt++}return null}getLength(){const lt=this.getCurveLengths();return lt[lt.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const lt=[];let ht=0;for(let _t=0,At=this.curves.length;_t<At;_t++)ht+=this.curves[_t].getLength(),lt.push(ht);return this.cacheLengths=lt,lt}getSpacedPoints(lt=40){const ht=[];for(let _t=0;_t<=lt;_t++)ht.push(this.getPoint(_t/lt));return this.autoClose&&ht.push(ht[0]),ht}getPoints(lt=12){const ht=[];let _t;for(let At=0,qt=this.curves;At<qt.length;At++){const Zt=qt[At],cr=Zt.isEllipseCurve?lt*2:Zt.isLineCurve||Zt.isLineCurve3?1:Zt.isSplineCurve?lt*Zt.points.length:lt,Gr=Zt.getPoints(cr);for(let Zr=0;Zr<Gr.length;Zr++){const xn=Gr[Zr];_t&&_t.equals(xn)||(ht.push(xn),_t=xn)}}return this.autoClose&&ht.length>1&&!ht[ht.length-1].equals(ht[0])&&ht.push(ht[0]),ht}copy(lt){super.copy(lt),this.curves=[];for(let ht=0,_t=lt.curves.length;ht<_t;ht++){const At=lt.curves[ht];this.curves.push(At.clone())}return this.autoClose=lt.autoClose,this}toJSON(){const lt=super.toJSON();lt.autoClose=this.autoClose,lt.curves=[];for(let ht=0,_t=this.curves.length;ht<_t;ht++){const At=this.curves[ht];lt.curves.push(At.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.autoClose=lt.autoClose,this.curves=[];for(let ht=0,_t=lt.curves.length;ht<_t;ht++){const At=lt.curves[ht];this.curves.push(new Curves[At.type]().fromJSON(At))}return this}}class Path extends CurvePath{constructor(lt){super(),this.type="Path",this.currentPoint=new Vector2,lt&&this.setFromPoints(lt)}setFromPoints(lt){this.moveTo(lt[0].x,lt[0].y);for(let ht=1,_t=lt.length;ht<_t;ht++)this.lineTo(lt[ht].x,lt[ht].y);return this}moveTo(lt,ht){return this.currentPoint.set(lt,ht),this}lineTo(lt,ht){const _t=new LineCurve(this.currentPoint.clone(),new Vector2(lt,ht));return this.curves.push(_t),this.currentPoint.set(lt,ht),this}quadraticCurveTo(lt,ht,_t,At){const qt=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(lt,ht),new Vector2(_t,At));return this.curves.push(qt),this.currentPoint.set(_t,At),this}bezierCurveTo(lt,ht,_t,At,qt,Zt){const cr=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(lt,ht),new Vector2(_t,At),new Vector2(qt,Zt));return this.curves.push(cr),this.currentPoint.set(qt,Zt),this}splineThru(lt){const ht=[this.currentPoint.clone()].concat(lt),_t=new SplineCurve(ht);return this.curves.push(_t),this.currentPoint.copy(lt[lt.length-1]),this}arc(lt,ht,_t,At,qt,Zt){const cr=this.currentPoint.x,Gr=this.currentPoint.y;return this.absarc(lt+cr,ht+Gr,_t,At,qt,Zt),this}absarc(lt,ht,_t,At,qt,Zt){return this.absellipse(lt,ht,_t,_t,At,qt,Zt),this}ellipse(lt,ht,_t,At,qt,Zt,cr,Gr){const Zr=this.currentPoint.x,xn=this.currentPoint.y;return this.absellipse(lt+Zr,ht+xn,_t,At,qt,Zt,cr,Gr),this}absellipse(lt,ht,_t,At,qt,Zt,cr,Gr){const Zr=new EllipseCurve(lt,ht,_t,At,qt,Zt,cr,Gr);if(this.curves.length>0){const On=Zr.getPoint(0);On.equals(this.currentPoint)||this.lineTo(On.x,On.y)}this.curves.push(Zr);const xn=Zr.getPoint(1);return this.currentPoint.copy(xn),this}copy(lt){return super.copy(lt),this.currentPoint.copy(lt.currentPoint),this}toJSON(){const lt=super.toJSON();return lt.currentPoint=this.currentPoint.toArray(),lt}fromJSON(lt){return super.fromJSON(lt),this.currentPoint.fromArray(lt.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(lt=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],ht=12,_t=0,At=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:lt,segments:ht,phiStart:_t,phiLength:At},ht=Math.floor(ht),At=clamp(At,0,Math.PI*2);const qt=[],Zt=[],cr=[],Gr=[],Zr=[],xn=1/ht,On=new Vector3,ss=new Vector2,ls=new Vector3,cs=new Vector3,wl=new Vector3;let ep=0,Al=0;for(let np=0;np<=lt.length-1;np++)switch(np){case 0:ep=lt[np+1].x-lt[np].x,Al=lt[np+1].y-lt[np].y,ls.x=Al*1,ls.y=-ep,ls.z=Al*0,wl.copy(ls),ls.normalize(),Gr.push(ls.x,ls.y,ls.z);break;case lt.length-1:Gr.push(wl.x,wl.y,wl.z);break;default:ep=lt[np+1].x-lt[np].x,Al=lt[np+1].y-lt[np].y,ls.x=Al*1,ls.y=-ep,ls.z=Al*0,cs.copy(ls),ls.x+=wl.x,ls.y+=wl.y,ls.z+=wl.z,ls.normalize(),Gr.push(ls.x,ls.y,ls.z),wl.copy(cs)}for(let np=0;np<=ht;np++){const cp=_t+np*xn*At,Cp=Math.sin(cp),Lp=Math.cos(cp);for(let jp=0;jp<=lt.length-1;jp++){On.x=lt[jp].x*Cp,On.y=lt[jp].y,On.z=lt[jp].x*Lp,Zt.push(On.x,On.y,On.z),ss.x=np/ht,ss.y=jp/(lt.length-1),cr.push(ss.x,ss.y);const nm=Gr[3*jp+0]*Cp,zm=Gr[3*jp+1],i1=Gr[3*jp+0]*Lp;Zr.push(nm,zm,i1)}}for(let np=0;np<ht;np++)for(let cp=0;cp<lt.length-1;cp++){const Cp=cp+np*lt.length,Lp=Cp,jp=Cp+lt.length,nm=Cp+lt.length+1,zm=Cp+1;qt.push(Lp,jp,zm),qt.push(nm,zm,jp)}this.setIndex(qt),this.setAttribute("position",new Float32BufferAttribute(Zt,3)),this.setAttribute("uv",new Float32BufferAttribute(cr,2)),this.setAttribute("normal",new Float32BufferAttribute(Zr,3))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new LatheGeometry(lt.points,lt.segments,lt.phiStart,lt.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(lt=1,ht=1,_t=4,At=8){const qt=new Path;qt.absarc(0,-ht/2,lt,Math.PI*1.5,0),qt.absarc(0,ht/2,lt,0,Math.PI*.5),super(qt.getPoints(_t),At),this.type="CapsuleGeometry",this.parameters={radius:lt,length:ht,capSegments:_t,radialSegments:At}}static fromJSON(lt){return new CapsuleGeometry(lt.radius,lt.length,lt.capSegments,lt.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(lt=1,ht=32,_t=0,At=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:lt,segments:ht,thetaStart:_t,thetaLength:At},ht=Math.max(3,ht);const qt=[],Zt=[],cr=[],Gr=[],Zr=new Vector3,xn=new Vector2;Zt.push(0,0,0),cr.push(0,0,1),Gr.push(.5,.5);for(let On=0,ss=3;On<=ht;On++,ss+=3){const ls=_t+On/ht*At;Zr.x=lt*Math.cos(ls),Zr.y=lt*Math.sin(ls),Zt.push(Zr.x,Zr.y,Zr.z),cr.push(0,0,1),xn.x=(Zt[ss]/lt+1)/2,xn.y=(Zt[ss+1]/lt+1)/2,Gr.push(xn.x,xn.y)}for(let On=1;On<=ht;On++)qt.push(On,On+1,0);this.setIndex(qt),this.setAttribute("position",new Float32BufferAttribute(Zt,3)),this.setAttribute("normal",new Float32BufferAttribute(cr,3)),this.setAttribute("uv",new Float32BufferAttribute(Gr,2))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new CircleGeometry(lt.radius,lt.segments,lt.thetaStart,lt.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(lt=1,ht=1,_t=1,At=32,qt=1,Zt=!1,cr=0,Gr=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:lt,radiusBottom:ht,height:_t,radialSegments:At,heightSegments:qt,openEnded:Zt,thetaStart:cr,thetaLength:Gr};const Zr=this;At=Math.floor(At),qt=Math.floor(qt);const xn=[],On=[],ss=[],ls=[];let cs=0;const wl=[],ep=_t/2;let Al=0;np(),Zt===!1&&(lt>0&&cp(!0),ht>0&&cp(!1)),this.setIndex(xn),this.setAttribute("position",new Float32BufferAttribute(On,3)),this.setAttribute("normal",new Float32BufferAttribute(ss,3)),this.setAttribute("uv",new Float32BufferAttribute(ls,2));function np(){const Cp=new Vector3,Lp=new Vector3;let jp=0;const nm=(ht-lt)/_t;for(let zm=0;zm<=qt;zm++){const i1=[],d3=zm/qt,op=d3*(ht-lt)+lt;for(let Sn=0;Sn<=At;Sn++){const Fo=Sn/At,as=Fo*Gr+cr,us=Math.sin(as),xl=Math.cos(as);Lp.x=op*us,Lp.y=-d3*_t+ep,Lp.z=op*xl,On.push(Lp.x,Lp.y,Lp.z),Cp.set(us,nm,xl).normalize(),ss.push(Cp.x,Cp.y,Cp.z),ls.push(Fo,1-d3),i1.push(cs++)}wl.push(i1)}for(let zm=0;zm<At;zm++)for(let i1=0;i1<qt;i1++){const d3=wl[i1][zm],op=wl[i1+1][zm],Sn=wl[i1+1][zm+1],Fo=wl[i1][zm+1];xn.push(d3,op,Fo),xn.push(op,Sn,Fo),jp+=6}Zr.addGroup(Al,jp,0),Al+=jp}function cp(Cp){const Lp=cs,jp=new Vector2,nm=new Vector3;let zm=0;const i1=Cp===!0?lt:ht,d3=Cp===!0?1:-1;for(let Sn=1;Sn<=At;Sn++)On.push(0,ep*d3,0),ss.push(0,d3,0),ls.push(.5,.5),cs++;const op=cs;for(let Sn=0;Sn<=At;Sn++){const as=Sn/At*Gr+cr,us=Math.cos(as),xl=Math.sin(as);nm.x=i1*xl,nm.y=ep*d3,nm.z=i1*us,On.push(nm.x,nm.y,nm.z),ss.push(0,d3,0),jp.x=us*.5+.5,jp.y=xl*.5*d3+.5,ls.push(jp.x,jp.y),cs++}for(let Sn=0;Sn<At;Sn++){const Fo=Lp+Sn,as=op+Sn;Cp===!0?xn.push(as,as+1,Fo):xn.push(as+1,as,Fo),zm+=3}Zr.addGroup(Al,zm,Cp===!0?1:2),Al+=zm}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new CylinderGeometry(lt.radiusTop,lt.radiusBottom,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(lt=1,ht=1,_t=32,At=1,qt=!1,Zt=0,cr=Math.PI*2){super(0,lt,ht,_t,At,qt,Zt,cr),this.type="ConeGeometry",this.parameters={radius:lt,height:ht,radialSegments:_t,heightSegments:At,openEnded:qt,thetaStart:Zt,thetaLength:cr}}static fromJSON(lt){return new ConeGeometry(lt.radius,lt.height,lt.radialSegments,lt.heightSegments,lt.openEnded,lt.thetaStart,lt.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(lt=[],ht=[],_t=1,At=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:lt,indices:ht,radius:_t,detail:At};const qt=[],Zt=[];cr(At),Zr(_t),xn(),this.setAttribute("position",new Float32BufferAttribute(qt,3)),this.setAttribute("normal",new Float32BufferAttribute(qt.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(Zt,2)),At===0?this.computeVertexNormals():this.normalizeNormals();function cr(np){const cp=new Vector3,Cp=new Vector3,Lp=new Vector3;for(let jp=0;jp<ht.length;jp+=3)ls(ht[jp+0],cp),ls(ht[jp+1],Cp),ls(ht[jp+2],Lp),Gr(cp,Cp,Lp,np)}function Gr(np,cp,Cp,Lp){const jp=Lp+1,nm=[];for(let zm=0;zm<=jp;zm++){nm[zm]=[];const i1=np.clone().lerp(Cp,zm/jp),d3=cp.clone().lerp(Cp,zm/jp),op=jp-zm;for(let Sn=0;Sn<=op;Sn++)Sn===0&&zm===jp?nm[zm][Sn]=i1:nm[zm][Sn]=i1.clone().lerp(d3,Sn/op)}for(let zm=0;zm<jp;zm++)for(let i1=0;i1<2*(jp-zm)-1;i1++){const d3=Math.floor(i1/2);i1%2===0?(ss(nm[zm][d3+1]),ss(nm[zm+1][d3]),ss(nm[zm][d3])):(ss(nm[zm][d3+1]),ss(nm[zm+1][d3+1]),ss(nm[zm+1][d3]))}}function Zr(np){const cp=new Vector3;for(let Cp=0;Cp<qt.length;Cp+=3)cp.x=qt[Cp+0],cp.y=qt[Cp+1],cp.z=qt[Cp+2],cp.normalize().multiplyScalar(np),qt[Cp+0]=cp.x,qt[Cp+1]=cp.y,qt[Cp+2]=cp.z}function xn(){const np=new Vector3;for(let cp=0;cp<qt.length;cp+=3){np.x=qt[cp+0],np.y=qt[cp+1],np.z=qt[cp+2];const Cp=ep(np)/2/Math.PI+.5,Lp=Al(np)/Math.PI+.5;Zt.push(Cp,1-Lp)}cs(),On()}function On(){for(let np=0;np<Zt.length;np+=6){const cp=Zt[np+0],Cp=Zt[np+2],Lp=Zt[np+4],jp=Math.max(cp,Cp,Lp),nm=Math.min(cp,Cp,Lp);jp>.9&&nm<.1&&(cp<.2&&(Zt[np+0]+=1),Cp<.2&&(Zt[np+2]+=1),Lp<.2&&(Zt[np+4]+=1))}}function ss(np){qt.push(np.x,np.y,np.z)}function ls(np,cp){const Cp=np*3;cp.x=lt[Cp+0],cp.y=lt[Cp+1],cp.z=lt[Cp+2]}function cs(){const np=new Vector3,cp=new Vector3,Cp=new Vector3,Lp=new Vector3,jp=new Vector2,nm=new Vector2,zm=new Vector2;for(let i1=0,d3=0;i1<qt.length;i1+=9,d3+=6){np.set(qt[i1+0],qt[i1+1],qt[i1+2]),cp.set(qt[i1+3],qt[i1+4],qt[i1+5]),Cp.set(qt[i1+6],qt[i1+7],qt[i1+8]),jp.set(Zt[d3+0],Zt[d3+1]),nm.set(Zt[d3+2],Zt[d3+3]),zm.set(Zt[d3+4],Zt[d3+5]),Lp.copy(np).add(cp).add(Cp).divideScalar(3);const op=ep(Lp);wl(jp,d3+0,np,op),wl(nm,d3+2,cp,op),wl(zm,d3+4,Cp,op)}}function wl(np,cp,Cp,Lp){Lp<0&&np.x===1&&(Zt[cp]=np.x-1),Cp.x===0&&Cp.z===0&&(Zt[cp]=Lp/2/Math.PI+.5)}function ep(np){return Math.atan2(np.z,-np.x)}function Al(np){return Math.atan2(-np.y,Math.sqrt(np.x*np.x+np.z*np.z))}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new PolyhedronGeometry(lt.vertices,lt.indices,lt.radius,lt.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ht=0){const _t=(1+Math.sqrt(5))/2,At=1/_t,qt=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-At,-_t,0,-At,_t,0,At,-_t,0,At,_t,-At,-_t,0,-At,_t,0,At,-_t,0,At,_t,0,-_t,0,-At,_t,0,-At,-_t,0,At,_t,0,At],Zt=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(qt,Zt,lt,ht),this.type="DodecahedronGeometry",this.parameters={radius:lt,detail:ht}}static fromJSON(lt){return new DodecahedronGeometry(lt.radius,lt.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(lt=null,ht=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:lt,thresholdAngle:ht},lt!==null){const At=Math.pow(10,4),qt=Math.cos(DEG2RAD*ht),Zt=lt.getIndex(),cr=lt.getAttribute("position"),Gr=Zt?Zt.count:cr.count,Zr=[0,0,0],xn=["a","b","c"],On=new Array(3),ss={},ls=[];for(let cs=0;cs<Gr;cs+=3){Zt?(Zr[0]=Zt.getX(cs),Zr[1]=Zt.getX(cs+1),Zr[2]=Zt.getX(cs+2)):(Zr[0]=cs,Zr[1]=cs+1,Zr[2]=cs+2);const{a:wl,b:ep,c:Al}=_triangle;if(wl.fromBufferAttribute(cr,Zr[0]),ep.fromBufferAttribute(cr,Zr[1]),Al.fromBufferAttribute(cr,Zr[2]),_triangle.getNormal(_normal),On[0]=`${Math.round(wl.x*At)},${Math.round(wl.y*At)},${Math.round(wl.z*At)}`,On[1]=`${Math.round(ep.x*At)},${Math.round(ep.y*At)},${Math.round(ep.z*At)}`,On[2]=`${Math.round(Al.x*At)},${Math.round(Al.y*At)},${Math.round(Al.z*At)}`,!(On[0]===On[1]||On[1]===On[2]||On[2]===On[0]))for(let np=0;np<3;np++){const cp=(np+1)%3,Cp=On[np],Lp=On[cp],jp=_triangle[xn[np]],nm=_triangle[xn[cp]],zm=`${Cp}_${Lp}`,i1=`${Lp}_${Cp}`;i1 in ss&&ss[i1]?(_normal.dot(ss[i1].normal)<=qt&&(ls.push(jp.x,jp.y,jp.z),ls.push(nm.x,nm.y,nm.z)),ss[i1]=null):zm in ss||(ss[zm]={index0:Zr[np],index1:Zr[cp],normal:_normal.clone()})}}for(const cs in ss)if(ss[cs]){const{index0:wl,index1:ep}=ss[cs];_v0.fromBufferAttribute(cr,wl),_v1$1.fromBufferAttribute(cr,ep),ls.push(_v0.x,_v0.y,_v0.z),ls.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(ls,3))}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}}class Shape extends Path{constructor(lt){super(lt),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(lt){const ht=[];for(let _t=0,At=this.holes.length;_t<At;_t++)ht[_t]=this.holes[_t].getPoints(lt);return ht}extractPoints(lt){return{shape:this.getPoints(lt),holes:this.getPointsHoles(lt)}}copy(lt){super.copy(lt),this.holes=[];for(let ht=0,_t=lt.holes.length;ht<_t;ht++){const At=lt.holes[ht];this.holes.push(At.clone())}return this}toJSON(){const lt=super.toJSON();lt.uuid=this.uuid,lt.holes=[];for(let ht=0,_t=this.holes.length;ht<_t;ht++){const At=this.holes[ht];lt.holes.push(At.toJSON())}return lt}fromJSON(lt){super.fromJSON(lt),this.uuid=lt.uuid,this.holes=[];for(let ht=0,_t=lt.holes.length;ht<_t;ht++){const At=lt.holes[ht];this.holes.push(new Path().fromJSON(At))}return this}}const Earcut={triangulate:function(ut,lt,ht=2){const _t=lt&&lt.length,At=_t?lt[0]*ht:ut.length;let qt=linkedList(ut,0,At,ht,!0);const Zt=[];if(!qt||qt.next===qt.prev)return Zt;let cr,Gr,Zr,xn,On,ss,ls;if(_t&&(qt=eliminateHoles(ut,lt,qt,ht)),ut.length>80*ht){cr=Zr=ut[0],Gr=xn=ut[1];for(let cs=ht;cs<At;cs+=ht)On=ut[cs],ss=ut[cs+1],On<cr&&(cr=On),ss<Gr&&(Gr=ss),On>Zr&&(Zr=On),ss>xn&&(xn=ss);ls=Math.max(Zr-cr,xn-Gr),ls=ls!==0?32767/ls:0}return earcutLinked(qt,Zt,ht,cr,Gr,ls,0),Zt}};function linkedList(ut,lt,ht,_t,At){let qt,Zt;if(At===signedArea(ut,lt,ht,_t)>0)for(qt=lt;qt<ht;qt+=_t)Zt=insertNode(qt,ut[qt],ut[qt+1],Zt);else for(qt=ht-_t;qt>=lt;qt-=_t)Zt=insertNode(qt,ut[qt],ut[qt+1],Zt);return Zt&&equals(Zt,Zt.next)&&(removeNode(Zt),Zt=Zt.next),Zt}function filterPoints(ut,lt){if(!ut)return ut;lt||(lt=ut);let ht=ut,_t;do if(_t=!1,!ht.steiner&&(equals(ht,ht.next)||area(ht.prev,ht,ht.next)===0)){if(removeNode(ht),ht=lt=ht.prev,ht===ht.next)break;_t=!0}else ht=ht.next;while(_t||ht!==lt);return lt}function earcutLinked(ut,lt,ht,_t,At,qt,Zt){if(!ut)return;!Zt&&qt&&indexCurve(ut,_t,At,qt);let cr=ut,Gr,Zr;for(;ut.prev!==ut.next;){if(Gr=ut.prev,Zr=ut.next,qt?isEarHashed(ut,_t,At,qt):isEar(ut)){lt.push(Gr.i/ht|0),lt.push(ut.i/ht|0),lt.push(Zr.i/ht|0),removeNode(ut),ut=Zr.next,cr=Zr.next;continue}if(ut=Zr,ut===cr){Zt?Zt===1?(ut=cureLocalIntersections(filterPoints(ut),lt,ht),earcutLinked(ut,lt,ht,_t,At,qt,2)):Zt===2&&splitEarcut(ut,lt,ht,_t,At,qt):earcutLinked(filterPoints(ut),lt,ht,_t,At,qt,1);break}}}function isEar(ut){const lt=ut.prev,ht=ut,_t=ut.next;if(area(lt,ht,_t)>=0)return!1;const At=lt.x,qt=ht.x,Zt=_t.x,cr=lt.y,Gr=ht.y,Zr=_t.y,xn=At<qt?At<Zt?At:Zt:qt<Zt?qt:Zt,On=cr<Gr?cr<Zr?cr:Zr:Gr<Zr?Gr:Zr,ss=At>qt?At>Zt?At:Zt:qt>Zt?qt:Zt,ls=cr>Gr?cr>Zr?cr:Zr:Gr>Zr?Gr:Zr;let cs=_t.next;for(;cs!==lt;){if(cs.x>=xn&&cs.x<=ss&&cs.y>=On&&cs.y<=ls&&pointInTriangle(At,cr,qt,Gr,Zt,Zr,cs.x,cs.y)&&area(cs.prev,cs,cs.next)>=0)return!1;cs=cs.next}return!0}function isEarHashed(ut,lt,ht,_t){const At=ut.prev,qt=ut,Zt=ut.next;if(area(At,qt,Zt)>=0)return!1;const cr=At.x,Gr=qt.x,Zr=Zt.x,xn=At.y,On=qt.y,ss=Zt.y,ls=cr<Gr?cr<Zr?cr:Zr:Gr<Zr?Gr:Zr,cs=xn<On?xn<ss?xn:ss:On<ss?On:ss,wl=cr>Gr?cr>Zr?cr:Zr:Gr>Zr?Gr:Zr,ep=xn>On?xn>ss?xn:ss:On>ss?On:ss,Al=zOrder(ls,cs,lt,ht,_t),np=zOrder(wl,ep,lt,ht,_t);let cp=ut.prevZ,Cp=ut.nextZ;for(;cp&&cp.z>=Al&&Cp&&Cp.z<=np;){if(cp.x>=ls&&cp.x<=wl&&cp.y>=cs&&cp.y<=ep&&cp!==At&&cp!==Zt&&pointInTriangle(cr,xn,Gr,On,Zr,ss,cp.x,cp.y)&&area(cp.prev,cp,cp.next)>=0||(cp=cp.prevZ,Cp.x>=ls&&Cp.x<=wl&&Cp.y>=cs&&Cp.y<=ep&&Cp!==At&&Cp!==Zt&&pointInTriangle(cr,xn,Gr,On,Zr,ss,Cp.x,Cp.y)&&area(Cp.prev,Cp,Cp.next)>=0))return!1;Cp=Cp.nextZ}for(;cp&&cp.z>=Al;){if(cp.x>=ls&&cp.x<=wl&&cp.y>=cs&&cp.y<=ep&&cp!==At&&cp!==Zt&&pointInTriangle(cr,xn,Gr,On,Zr,ss,cp.x,cp.y)&&area(cp.prev,cp,cp.next)>=0)return!1;cp=cp.prevZ}for(;Cp&&Cp.z<=np;){if(Cp.x>=ls&&Cp.x<=wl&&Cp.y>=cs&&Cp.y<=ep&&Cp!==At&&Cp!==Zt&&pointInTriangle(cr,xn,Gr,On,Zr,ss,Cp.x,Cp.y)&&area(Cp.prev,Cp,Cp.next)>=0)return!1;Cp=Cp.nextZ}return!0}function cureLocalIntersections(ut,lt,ht){let _t=ut;do{const At=_t.prev,qt=_t.next.next;!equals(At,qt)&&intersects(At,_t,_t.next,qt)&&locallyInside(At,qt)&&locallyInside(qt,At)&&(lt.push(At.i/ht|0),lt.push(_t.i/ht|0),lt.push(qt.i/ht|0),removeNode(_t),removeNode(_t.next),_t=ut=qt),_t=_t.next}while(_t!==ut);return filterPoints(_t)}function splitEarcut(ut,lt,ht,_t,At,qt){let Zt=ut;do{let cr=Zt.next.next;for(;cr!==Zt.prev;){if(Zt.i!==cr.i&&isValidDiagonal(Zt,cr)){let Gr=splitPolygon(Zt,cr);Zt=filterPoints(Zt,Zt.next),Gr=filterPoints(Gr,Gr.next),earcutLinked(Zt,lt,ht,_t,At,qt,0),earcutLinked(Gr,lt,ht,_t,At,qt,0);return}cr=cr.next}Zt=Zt.next}while(Zt!==ut)}function eliminateHoles(ut,lt,ht,_t){const At=[];let qt,Zt,cr,Gr,Zr;for(qt=0,Zt=lt.length;qt<Zt;qt++)cr=lt[qt]*_t,Gr=qt<Zt-1?lt[qt+1]*_t:ut.length,Zr=linkedList(ut,cr,Gr,_t,!1),Zr===Zr.next&&(Zr.steiner=!0),At.push(getLeftmost(Zr));for(At.sort(compareX),qt=0;qt<At.length;qt++)ht=eliminateHole(At[qt],ht);return ht}function compareX(ut,lt){return ut.x-lt.x}function eliminateHole(ut,lt){const ht=findHoleBridge(ut,lt);if(!ht)return lt;const _t=splitPolygon(ht,ut);return filterPoints(_t,_t.next),filterPoints(ht,ht.next)}function findHoleBridge(ut,lt){let ht=lt,_t=-1/0,At;const qt=ut.x,Zt=ut.y;do{if(Zt<=ht.y&&Zt>=ht.next.y&&ht.next.y!==ht.y){const ss=ht.x+(Zt-ht.y)*(ht.next.x-ht.x)/(ht.next.y-ht.y);if(ss<=qt&&ss>_t&&(_t=ss,At=ht.x<ht.next.x?ht:ht.next,ss===qt))return At}ht=ht.next}while(ht!==lt);if(!At)return null;const cr=At,Gr=At.x,Zr=At.y;let xn=1/0,On;ht=At;do qt>=ht.x&&ht.x>=Gr&&qt!==ht.x&&pointInTriangle(Zt<Zr?qt:_t,Zt,Gr,Zr,Zt<Zr?_t:qt,Zt,ht.x,ht.y)&&(On=Math.abs(Zt-ht.y)/(qt-ht.x),locallyInside(ht,ut)&&(On<xn||On===xn&&(ht.x>At.x||ht.x===At.x&&sectorContainsSector(At,ht)))&&(At=ht,xn=On)),ht=ht.next;while(ht!==cr);return At}function sectorContainsSector(ut,lt){return area(ut.prev,ut,lt.prev)<0&&area(lt.next,ut,ut.next)<0}function indexCurve(ut,lt,ht,_t){let At=ut;do At.z===0&&(At.z=zOrder(At.x,At.y,lt,ht,_t)),At.prevZ=At.prev,At.nextZ=At.next,At=At.next;while(At!==ut);At.prevZ.nextZ=null,At.prevZ=null,sortLinked(At)}function sortLinked(ut){let lt,ht,_t,At,qt,Zt,cr,Gr,Zr=1;do{for(ht=ut,ut=null,qt=null,Zt=0;ht;){for(Zt++,_t=ht,cr=0,lt=0;lt<Zr&&(cr++,_t=_t.nextZ,!!_t);lt++);for(Gr=Zr;cr>0||Gr>0&&_t;)cr!==0&&(Gr===0||!_t||ht.z<=_t.z)?(At=ht,ht=ht.nextZ,cr--):(At=_t,_t=_t.nextZ,Gr--),qt?qt.nextZ=At:ut=At,At.prevZ=qt,qt=At;ht=_t}qt.nextZ=null,Zr*=2}while(Zt>1);return ut}function zOrder(ut,lt,ht,_t,At){return ut=(ut-ht)*At|0,lt=(lt-_t)*At|0,ut=(ut|ut<<8)&16711935,ut=(ut|ut<<4)&252645135,ut=(ut|ut<<2)&858993459,ut=(ut|ut<<1)&1431655765,lt=(lt|lt<<8)&16711935,lt=(lt|lt<<4)&252645135,lt=(lt|lt<<2)&858993459,lt=(lt|lt<<1)&1431655765,ut|lt<<1}function getLeftmost(ut){let lt=ut,ht=ut;do(lt.x<ht.x||lt.x===ht.x&&lt.y<ht.y)&&(ht=lt),lt=lt.next;while(lt!==ut);return ht}function pointInTriangle(ut,lt,ht,_t,At,qt,Zt,cr){return(At-Zt)*(lt-cr)>=(ut-Zt)*(qt-cr)&&(ut-Zt)*(_t-cr)>=(ht-Zt)*(lt-cr)&&(ht-Zt)*(qt-cr)>=(At-Zt)*(_t-cr)}function isValidDiagonal(ut,lt){return ut.next.i!==lt.i&&ut.prev.i!==lt.i&&!intersectsPolygon(ut,lt)&&(locallyInside(ut,lt)&&locallyInside(lt,ut)&&middleInside(ut,lt)&&(area(ut.prev,ut,lt.prev)||area(ut,lt.prev,lt))||equals(ut,lt)&&area(ut.prev,ut,ut.next)>0&&area(lt.prev,lt,lt.next)>0)}function area(ut,lt,ht){return(lt.y-ut.y)*(ht.x-lt.x)-(lt.x-ut.x)*(ht.y-lt.y)}function equals(ut,lt){return ut.x===lt.x&&ut.y===lt.y}function intersects(ut,lt,ht,_t){const At=sign(area(ut,lt,ht)),qt=sign(area(ut,lt,_t)),Zt=sign(area(ht,_t,ut)),cr=sign(area(ht,_t,lt));return!!(At!==qt&&Zt!==cr||At===0&&onSegment(ut,ht,lt)||qt===0&&onSegment(ut,_t,lt)||Zt===0&&onSegment(ht,ut,_t)||cr===0&&onSegment(ht,lt,_t))}function onSegment(ut,lt,ht){return lt.x<=Math.max(ut.x,ht.x)&&lt.x>=Math.min(ut.x,ht.x)&&lt.y<=Math.max(ut.y,ht.y)&&lt.y>=Math.min(ut.y,ht.y)}function sign(ut){return ut>0?1:ut<0?-1:0}function intersectsPolygon(ut,lt){let ht=ut;do{if(ht.i!==ut.i&&ht.next.i!==ut.i&&ht.i!==lt.i&&ht.next.i!==lt.i&&intersects(ht,ht.next,ut,lt))return!0;ht=ht.next}while(ht!==ut);return!1}function locallyInside(ut,lt){return area(ut.prev,ut,ut.next)<0?area(ut,lt,ut.next)>=0&&area(ut,ut.prev,lt)>=0:area(ut,lt,ut.prev)<0||area(ut,ut.next,lt)<0}function middleInside(ut,lt){let ht=ut,_t=!1;const At=(ut.x+lt.x)/2,qt=(ut.y+lt.y)/2;do ht.y>qt!=ht.next.y>qt&&ht.next.y!==ht.y&&At<(ht.next.x-ht.x)*(qt-ht.y)/(ht.next.y-ht.y)+ht.x&&(_t=!_t),ht=ht.next;while(ht!==ut);return _t}function splitPolygon(ut,lt){const ht=new Node$1(ut.i,ut.x,ut.y),_t=new Node$1(lt.i,lt.x,lt.y),At=ut.next,qt=lt.prev;return ut.next=lt,lt.prev=ut,ht.next=At,At.prev=ht,_t.next=ht,ht.prev=_t,qt.next=_t,_t.prev=qt,_t}function insertNode(ut,lt,ht,_t){const At=new Node$1(ut,lt,ht);return _t?(At.next=_t.next,At.prev=_t,_t.next.prev=At,_t.next=At):(At.prev=At,At.next=At),At}function removeNode(ut){ut.next.prev=ut.prev,ut.prev.next=ut.next,ut.prevZ&&(ut.prevZ.nextZ=ut.nextZ),ut.nextZ&&(ut.nextZ.prevZ=ut.prevZ)}function Node$1(ut,lt,ht){this.i=ut,this.x=lt,this.y=ht,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(ut,lt,ht,_t){let At=0;for(let qt=lt,Zt=ht-_t;qt<ht;qt+=_t)At+=(ut[Zt]-ut[qt])*(ut[qt+1]+ut[Zt+1]),Zt=qt;return At}class ShapeUtils{static area(lt){const ht=lt.length;let _t=0;for(let At=ht-1,qt=0;qt<ht;At=qt++)_t+=lt[At].x*lt[qt].y-lt[qt].x*lt[At].y;return _t*.5}static isClockWise(lt){return ShapeUtils.area(lt)<0}static triangulateShape(lt,ht){const _t=[],At=[],qt=[];removeDupEndPts(lt),addContour(_t,lt);let Zt=lt.length;ht.forEach(removeDupEndPts);for(let Gr=0;Gr<ht.length;Gr++)At.push(Zt),Zt+=ht[Gr].length,addContour(_t,ht[Gr]);const cr=Earcut.triangulate(_t,At);for(let Gr=0;Gr<cr.length;Gr+=3)qt.push(cr.slice(Gr,Gr+3));return qt}}function removeDupEndPts(ut){const lt=ut.length;lt>2&&ut[lt-1].equals(ut[0])&&ut.pop()}function addContour(ut,lt){for(let ht=0;ht<lt.length;ht++)ut.push(lt[ht].x),ut.push(lt[ht].y)}class ExtrudeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ht={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:lt,options:ht},lt=Array.isArray(lt)?lt:[lt];const _t=this,At=[],qt=[];for(let cr=0,Gr=lt.length;cr<Gr;cr++){const Zr=lt[cr];Zt(Zr)}this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("uv",new Float32BufferAttribute(qt,2)),this.computeVertexNormals();function Zt(cr){const Gr=[],Zr=ht.curveSegments!==void 0?ht.curveSegments:12,xn=ht.steps!==void 0?ht.steps:1,On=ht.depth!==void 0?ht.depth:1;let ss=ht.bevelEnabled!==void 0?ht.bevelEnabled:!0,ls=ht.bevelThickness!==void 0?ht.bevelThickness:.2,cs=ht.bevelSize!==void 0?ht.bevelSize:ls-.1,wl=ht.bevelOffset!==void 0?ht.bevelOffset:0,ep=ht.bevelSegments!==void 0?ht.bevelSegments:3;const Al=ht.extrudePath,np=ht.UVGenerator!==void 0?ht.UVGenerator:WorldUVGenerator;let cp,Cp=!1,Lp,jp,nm,zm;Al&&(cp=Al.getSpacedPoints(xn),Cp=!0,ss=!1,Lp=Al.computeFrenetFrames(xn,!1),jp=new Vector3,nm=new Vector3,zm=new Vector3),ss||(ep=0,ls=0,cs=0,wl=0);const i1=cr.extractPoints(Zr);let d3=i1.shape;const op=i1.holes;if(!ShapeUtils.isClockWise(d3)){d3=d3.reverse();for(let Fp=0,W_=op.length;Fp<W_;Fp++){const t4=op[Fp];ShapeUtils.isClockWise(t4)&&(op[Fp]=t4.reverse())}}const Fo=ShapeUtils.triangulateShape(d3,op),as=d3;for(let Fp=0,W_=op.length;Fp<W_;Fp++){const t4=op[Fp];d3=d3.concat(t4)}function us(Fp,W_,t4){return W_||console.error("THREE.ExtrudeGeometry: vec does not exist"),Fp.clone().addScaledVector(W_,t4)}const xl=d3.length,ip=Fo.length;function lp(Fp,W_,t4){let Nw,Dp,a1;const zp=Fp.x-W_.x,v3=Fp.y-W_.y,Mw=t4.x-Fp.x,nw=t4.y-Fp.y,n4=zp*zp+v3*v3,Ww=zp*nw-v3*Mw;if(Math.abs(Ww)>Number.EPSILON){const F_=Math.sqrt(n4),qx=Math.sqrt(Mw*Mw+nw*nw),nM=W_.x-v3/F_,Hm=W_.y+zp/F_,y3=t4.x-nw/qx,Q_=t4.y+Mw/qx,Uw=((y3-nM)*nw-(Q_-Hm)*Mw)/(zp*nw-v3*Mw);Nw=nM+zp*Uw-Fp.x,Dp=Hm+v3*Uw-Fp.y;const s4=Nw*Nw+Dp*Dp;if(s4<=2)return new Vector2(Nw,Dp);a1=Math.sqrt(s4/2)}else{let F_=!1;zp>Number.EPSILON?Mw>Number.EPSILON&&(F_=!0):zp<-Number.EPSILON?Mw<-Number.EPSILON&&(F_=!0):Math.sign(v3)===Math.sign(nw)&&(F_=!0),F_?(Nw=-v3,Dp=zp,a1=Math.sqrt(n4)):(Nw=zp,Dp=v3,a1=Math.sqrt(n4/2))}return new Vector2(Nw/a1,Dp/a1)}const pu=[];for(let Fp=0,W_=as.length,t4=W_-1,Nw=Fp+1;Fp<W_;Fp++,t4++,Nw++)t4===W_&&(t4=0),Nw===W_&&(Nw=0),pu[Fp]=lp(as[Fp],as[t4],as[Nw]);const go=[];let h0,kp=pu.concat();for(let Fp=0,W_=op.length;Fp<W_;Fp++){const t4=op[Fp];h0=[];for(let Nw=0,Dp=t4.length,a1=Dp-1,zp=Nw+1;Nw<Dp;Nw++,a1++,zp++)a1===Dp&&(a1=0),zp===Dp&&(zp=0),h0[Nw]=lp(t4[Nw],t4[a1],t4[zp]);go.push(h0),kp=kp.concat(h0)}for(let Fp=0;Fp<ep;Fp++){const W_=Fp/ep,t4=ls*Math.cos(W_*Math.PI/2),Nw=cs*Math.sin(W_*Math.PI/2)+wl;for(let Dp=0,a1=as.length;Dp<a1;Dp++){const zp=us(as[Dp],pu[Dp],Nw);Xm(zp.x,zp.y,-t4)}for(let Dp=0,a1=op.length;Dp<a1;Dp++){const zp=op[Dp];h0=go[Dp];for(let v3=0,Mw=zp.length;v3<Mw;v3++){const nw=us(zp[v3],h0[v3],Nw);Xm(nw.x,nw.y,-t4)}}}const cm=cs+wl;for(let Fp=0;Fp<xl;Fp++){const W_=ss?us(d3[Fp],kp[Fp],cm):d3[Fp];Cp?(nm.copy(Lp.normals[0]).multiplyScalar(W_.x),jp.copy(Lp.binormals[0]).multiplyScalar(W_.y),zm.copy(cp[0]).add(nm).add(jp),Xm(zm.x,zm.y,zm.z)):Xm(W_.x,W_.y,0)}for(let Fp=1;Fp<=xn;Fp++)for(let W_=0;W_<xl;W_++){const t4=ss?us(d3[W_],kp[W_],cm):d3[W_];Cp?(nm.copy(Lp.normals[Fp]).multiplyScalar(t4.x),jp.copy(Lp.binormals[Fp]).multiplyScalar(t4.y),zm.copy(cp[Fp]).add(nm).add(jp),Xm(zm.x,zm.y,zm.z)):Xm(t4.x,t4.y,On/xn*Fp)}for(let Fp=ep-1;Fp>=0;Fp--){const W_=Fp/ep,t4=ls*Math.cos(W_*Math.PI/2),Nw=cs*Math.sin(W_*Math.PI/2)+wl;for(let Dp=0,a1=as.length;Dp<a1;Dp++){const zp=us(as[Dp],pu[Dp],Nw);Xm(zp.x,zp.y,On+t4)}for(let Dp=0,a1=op.length;Dp<a1;Dp++){const zp=op[Dp];h0=go[Dp];for(let v3=0,Mw=zp.length;v3<Mw;v3++){const nw=us(zp[v3],h0[v3],Nw);Cp?Xm(nw.x,nw.y+cp[xn-1].y,cp[xn-1].x+t4):Xm(nw.x,nw.y,On+t4)}}}b3(),L_();function b3(){const Fp=At.length/3;if(ss){let W_=0,t4=xl*W_;for(let Nw=0;Nw<ip;Nw++){const Dp=Fo[Nw];Jm(Dp[2]+t4,Dp[1]+t4,Dp[0]+t4)}W_=xn+ep*2,t4=xl*W_;for(let Nw=0;Nw<ip;Nw++){const Dp=Fo[Nw];Jm(Dp[0]+t4,Dp[1]+t4,Dp[2]+t4)}}else{for(let W_=0;W_<ip;W_++){const t4=Fo[W_];Jm(t4[2],t4[1],t4[0])}for(let W_=0;W_<ip;W_++){const t4=Fo[W_];Jm(t4[0]+xl*xn,t4[1]+xl*xn,t4[2]+xl*xn)}}_t.addGroup(Fp,At.length/3-Fp,0)}function L_(){const Fp=At.length/3;let W_=0;Ym(as,W_),W_+=as.length;for(let t4=0,Nw=op.length;t4<Nw;t4++){const Dp=op[t4];Ym(Dp,W_),W_+=Dp.length}_t.addGroup(Fp,At.length/3-Fp,1)}function Ym(Fp,W_){let t4=Fp.length;for(;--t4>=0;){const Nw=t4;let Dp=t4-1;Dp<0&&(Dp=Fp.length-1);for(let a1=0,zp=xn+ep*2;a1<zp;a1++){const v3=xl*a1,Mw=xl*(a1+1),nw=W_+Nw+v3,n4=W_+Dp+v3,Ww=W_+Dp+Mw,F_=W_+Nw+Mw;$_(nw,n4,Ww,F_)}}}function Xm(Fp,W_,t4){Gr.push(Fp),Gr.push(W_),Gr.push(t4)}function Jm(Fp,W_,t4){j_(Fp),j_(W_),j_(t4);const Nw=At.length/3,Dp=np.generateTopUV(_t,At,Nw-3,Nw-2,Nw-1);h3(Dp[0]),h3(Dp[1]),h3(Dp[2])}function $_(Fp,W_,t4,Nw){j_(Fp),j_(W_),j_(Nw),j_(W_),j_(t4),j_(Nw);const Dp=At.length/3,a1=np.generateSideWallUV(_t,At,Dp-6,Dp-3,Dp-2,Dp-1);h3(a1[0]),h3(a1[1]),h3(a1[3]),h3(a1[1]),h3(a1[2]),h3(a1[3])}function j_(Fp){At.push(Gr[Fp*3+0]),At.push(Gr[Fp*3+1]),At.push(Gr[Fp*3+2])}function h3(Fp){qt.push(Fp.x),qt.push(Fp.y)}}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}toJSON(){const lt=super.toJSON(),ht=this.parameters.shapes,_t=this.parameters.options;return toJSON$1(ht,_t,lt)}static fromJSON(lt,ht){const _t=[];for(let qt=0,Zt=lt.shapes.length;qt<Zt;qt++){const cr=ht[lt.shapes[qt]];_t.push(cr)}const At=lt.options.extrudePath;return At!==void 0&&(lt.options.extrudePath=new Curves[At.type]().fromJSON(At)),new ExtrudeGeometry(_t,lt.options)}}const WorldUVGenerator={generateTopUV:function(ut,lt,ht,_t,At){const qt=lt[ht*3],Zt=lt[ht*3+1],cr=lt[_t*3],Gr=lt[_t*3+1],Zr=lt[At*3],xn=lt[At*3+1];return[new Vector2(qt,Zt),new Vector2(cr,Gr),new Vector2(Zr,xn)]},generateSideWallUV:function(ut,lt,ht,_t,At,qt){const Zt=lt[ht*3],cr=lt[ht*3+1],Gr=lt[ht*3+2],Zr=lt[_t*3],xn=lt[_t*3+1],On=lt[_t*3+2],ss=lt[At*3],ls=lt[At*3+1],cs=lt[At*3+2],wl=lt[qt*3],ep=lt[qt*3+1],Al=lt[qt*3+2];return Math.abs(cr-xn)<Math.abs(Zt-Zr)?[new Vector2(Zt,1-Gr),new Vector2(Zr,1-On),new Vector2(ss,1-cs),new Vector2(wl,1-Al)]:[new Vector2(cr,1-Gr),new Vector2(xn,1-On),new Vector2(ls,1-cs),new Vector2(ep,1-Al)]}};function toJSON$1(ut,lt,ht){if(ht.shapes=[],Array.isArray(ut))for(let _t=0,At=ut.length;_t<At;_t++){const qt=ut[_t];ht.shapes.push(qt.uuid)}else ht.shapes.push(ut.uuid);return ht.options=Object.assign({},lt),lt.extrudePath!==void 0&&(ht.options.extrudePath=lt.extrudePath.toJSON()),ht}class IcosahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ht=0){const _t=(1+Math.sqrt(5))/2,At=[-1,_t,0,1,_t,0,-1,-_t,0,1,-_t,0,0,-1,_t,0,1,_t,0,-1,-_t,0,1,-_t,_t,0,-1,_t,0,1,-_t,0,-1,-_t,0,1],qt=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(At,qt,lt,ht),this.type="IcosahedronGeometry",this.parameters={radius:lt,detail:ht}}static fromJSON(lt){return new IcosahedronGeometry(lt.radius,lt.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ht=0){const _t=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],At=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(_t,At,lt,ht),this.type="OctahedronGeometry",this.parameters={radius:lt,detail:ht}}static fromJSON(lt){return new OctahedronGeometry(lt.radius,lt.detail)}}class RingGeometry extends BufferGeometry{constructor(lt=.5,ht=1,_t=32,At=1,qt=0,Zt=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:lt,outerRadius:ht,thetaSegments:_t,phiSegments:At,thetaStart:qt,thetaLength:Zt},_t=Math.max(3,_t),At=Math.max(1,At);const cr=[],Gr=[],Zr=[],xn=[];let On=lt;const ss=(ht-lt)/At,ls=new Vector3,cs=new Vector2;for(let wl=0;wl<=At;wl++){for(let ep=0;ep<=_t;ep++){const Al=qt+ep/_t*Zt;ls.x=On*Math.cos(Al),ls.y=On*Math.sin(Al),Gr.push(ls.x,ls.y,ls.z),Zr.push(0,0,1),cs.x=(ls.x/ht+1)/2,cs.y=(ls.y/ht+1)/2,xn.push(cs.x,cs.y)}On+=ss}for(let wl=0;wl<At;wl++){const ep=wl*(_t+1);for(let Al=0;Al<_t;Al++){const np=Al+ep,cp=np,Cp=np+_t+1,Lp=np+_t+2,jp=np+1;cr.push(cp,Cp,jp),cr.push(Cp,Lp,jp)}}this.setIndex(cr),this.setAttribute("position",new Float32BufferAttribute(Gr,3)),this.setAttribute("normal",new Float32BufferAttribute(Zr,3)),this.setAttribute("uv",new Float32BufferAttribute(xn,2))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new RingGeometry(lt.innerRadius,lt.outerRadius,lt.thetaSegments,lt.phiSegments,lt.thetaStart,lt.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(lt=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),ht=12){super(),this.type="ShapeGeometry",this.parameters={shapes:lt,curveSegments:ht};const _t=[],At=[],qt=[],Zt=[];let cr=0,Gr=0;if(Array.isArray(lt)===!1)Zr(lt);else for(let xn=0;xn<lt.length;xn++)Zr(lt[xn]),this.addGroup(cr,Gr,xn),cr+=Gr,Gr=0;this.setIndex(_t),this.setAttribute("position",new Float32BufferAttribute(At,3)),this.setAttribute("normal",new Float32BufferAttribute(qt,3)),this.setAttribute("uv",new Float32BufferAttribute(Zt,2));function Zr(xn){const On=At.length/3,ss=xn.extractPoints(ht);let ls=ss.shape;const cs=ss.holes;ShapeUtils.isClockWise(ls)===!1&&(ls=ls.reverse());for(let ep=0,Al=cs.length;ep<Al;ep++){const np=cs[ep];ShapeUtils.isClockWise(np)===!0&&(cs[ep]=np.reverse())}const wl=ShapeUtils.triangulateShape(ls,cs);for(let ep=0,Al=cs.length;ep<Al;ep++){const np=cs[ep];ls=ls.concat(np)}for(let ep=0,Al=ls.length;ep<Al;ep++){const np=ls[ep];At.push(np.x,np.y,0),qt.push(0,0,1),Zt.push(np.x,np.y)}for(let ep=0,Al=wl.length;ep<Al;ep++){const np=wl[ep],cp=np[0]+On,Cp=np[1]+On,Lp=np[2]+On;_t.push(cp,Cp,Lp),Gr+=3}}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}toJSON(){const lt=super.toJSON(),ht=this.parameters.shapes;return toJSON(ht,lt)}static fromJSON(lt,ht){const _t=[];for(let At=0,qt=lt.shapes.length;At<qt;At++){const Zt=ht[lt.shapes[At]];_t.push(Zt)}return new ShapeGeometry(_t,lt.curveSegments)}}function toJSON(ut,lt){if(lt.shapes=[],Array.isArray(ut))for(let ht=0,_t=ut.length;ht<_t;ht++){const At=ut[ht];lt.shapes.push(At.uuid)}else lt.shapes.push(ut.uuid);return lt}class SphereGeometry extends BufferGeometry{constructor(lt=1,ht=32,_t=16,At=0,qt=Math.PI*2,Zt=0,cr=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:lt,widthSegments:ht,heightSegments:_t,phiStart:At,phiLength:qt,thetaStart:Zt,thetaLength:cr},ht=Math.max(3,Math.floor(ht)),_t=Math.max(2,Math.floor(_t));const Gr=Math.min(Zt+cr,Math.PI);let Zr=0;const xn=[],On=new Vector3,ss=new Vector3,ls=[],cs=[],wl=[],ep=[];for(let Al=0;Al<=_t;Al++){const np=[],cp=Al/_t;let Cp=0;Al===0&&Zt===0?Cp=.5/ht:Al===_t&&Gr===Math.PI&&(Cp=-.5/ht);for(let Lp=0;Lp<=ht;Lp++){const jp=Lp/ht;On.x=-lt*Math.cos(At+jp*qt)*Math.sin(Zt+cp*cr),On.y=lt*Math.cos(Zt+cp*cr),On.z=lt*Math.sin(At+jp*qt)*Math.sin(Zt+cp*cr),cs.push(On.x,On.y,On.z),ss.copy(On).normalize(),wl.push(ss.x,ss.y,ss.z),ep.push(jp+Cp,1-cp),np.push(Zr++)}xn.push(np)}for(let Al=0;Al<_t;Al++)for(let np=0;np<ht;np++){const cp=xn[Al][np+1],Cp=xn[Al][np],Lp=xn[Al+1][np],jp=xn[Al+1][np+1];(Al!==0||Zt>0)&&ls.push(cp,Cp,jp),(Al!==_t-1||Gr<Math.PI)&&ls.push(Cp,Lp,jp)}this.setIndex(ls),this.setAttribute("position",new Float32BufferAttribute(cs,3)),this.setAttribute("normal",new Float32BufferAttribute(wl,3)),this.setAttribute("uv",new Float32BufferAttribute(ep,2))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new SphereGeometry(lt.radius,lt.widthSegments,lt.heightSegments,lt.phiStart,lt.phiLength,lt.thetaStart,lt.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(lt=1,ht=0){const _t=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],At=[2,1,0,0,3,2,1,3,0,2,3,1];super(_t,At,lt,ht),this.type="TetrahedronGeometry",this.parameters={radius:lt,detail:ht}}static fromJSON(lt){return new TetrahedronGeometry(lt.radius,lt.detail)}}class TorusGeometry extends BufferGeometry{constructor(lt=1,ht=.4,_t=12,At=48,qt=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:lt,tube:ht,radialSegments:_t,tubularSegments:At,arc:qt},_t=Math.floor(_t),At=Math.floor(At);const Zt=[],cr=[],Gr=[],Zr=[],xn=new Vector3,On=new Vector3,ss=new Vector3;for(let ls=0;ls<=_t;ls++)for(let cs=0;cs<=At;cs++){const wl=cs/At*qt,ep=ls/_t*Math.PI*2;On.x=(lt+ht*Math.cos(ep))*Math.cos(wl),On.y=(lt+ht*Math.cos(ep))*Math.sin(wl),On.z=ht*Math.sin(ep),cr.push(On.x,On.y,On.z),xn.x=lt*Math.cos(wl),xn.y=lt*Math.sin(wl),ss.subVectors(On,xn).normalize(),Gr.push(ss.x,ss.y,ss.z),Zr.push(cs/At),Zr.push(ls/_t)}for(let ls=1;ls<=_t;ls++)for(let cs=1;cs<=At;cs++){const wl=(At+1)*ls+cs-1,ep=(At+1)*(ls-1)+cs-1,Al=(At+1)*(ls-1)+cs,np=(At+1)*ls+cs;Zt.push(wl,ep,np),Zt.push(ep,Al,np)}this.setIndex(Zt),this.setAttribute("position",new Float32BufferAttribute(cr,3)),this.setAttribute("normal",new Float32BufferAttribute(Gr,3)),this.setAttribute("uv",new Float32BufferAttribute(Zr,2))}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new TorusGeometry(lt.radius,lt.tube,lt.radialSegments,lt.tubularSegments,lt.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(lt=1,ht=.4,_t=64,At=8,qt=2,Zt=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:lt,tube:ht,tubularSegments:_t,radialSegments:At,p:qt,q:Zt},_t=Math.floor(_t),At=Math.floor(At);const cr=[],Gr=[],Zr=[],xn=[],On=new Vector3,ss=new Vector3,ls=new Vector3,cs=new Vector3,wl=new Vector3,ep=new Vector3,Al=new Vector3;for(let cp=0;cp<=_t;++cp){const Cp=cp/_t*qt*Math.PI*2;np(Cp,qt,Zt,lt,ls),np(Cp+.01,qt,Zt,lt,cs),ep.subVectors(cs,ls),Al.addVectors(cs,ls),wl.crossVectors(ep,Al),Al.crossVectors(wl,ep),wl.normalize(),Al.normalize();for(let Lp=0;Lp<=At;++Lp){const jp=Lp/At*Math.PI*2,nm=-ht*Math.cos(jp),zm=ht*Math.sin(jp);On.x=ls.x+(nm*Al.x+zm*wl.x),On.y=ls.y+(nm*Al.y+zm*wl.y),On.z=ls.z+(nm*Al.z+zm*wl.z),Gr.push(On.x,On.y,On.z),ss.subVectors(On,ls).normalize(),Zr.push(ss.x,ss.y,ss.z),xn.push(cp/_t),xn.push(Lp/At)}}for(let cp=1;cp<=_t;cp++)for(let Cp=1;Cp<=At;Cp++){const Lp=(At+1)*(cp-1)+(Cp-1),jp=(At+1)*cp+(Cp-1),nm=(At+1)*cp+Cp,zm=(At+1)*(cp-1)+Cp;cr.push(Lp,jp,zm),cr.push(jp,nm,zm)}this.setIndex(cr),this.setAttribute("position",new Float32BufferAttribute(Gr,3)),this.setAttribute("normal",new Float32BufferAttribute(Zr,3)),this.setAttribute("uv",new Float32BufferAttribute(xn,2));function np(cp,Cp,Lp,jp,nm){const zm=Math.cos(cp),i1=Math.sin(cp),d3=Lp/Cp*cp,op=Math.cos(d3);nm.x=jp*(2+op)*.5*zm,nm.y=jp*(2+op)*i1*.5,nm.z=jp*Math.sin(d3)*.5}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}static fromJSON(lt){return new TorusKnotGeometry(lt.radius,lt.tube,lt.tubularSegments,lt.radialSegments,lt.p,lt.q)}}class TubeGeometry extends BufferGeometry{constructor(lt=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),ht=64,_t=1,At=8,qt=!1){super(),this.type="TubeGeometry",this.parameters={path:lt,tubularSegments:ht,radius:_t,radialSegments:At,closed:qt};const Zt=lt.computeFrenetFrames(ht,qt);this.tangents=Zt.tangents,this.normals=Zt.normals,this.binormals=Zt.binormals;const cr=new Vector3,Gr=new Vector3,Zr=new Vector2;let xn=new Vector3;const On=[],ss=[],ls=[],cs=[];wl(),this.setIndex(cs),this.setAttribute("position",new Float32BufferAttribute(On,3)),this.setAttribute("normal",new Float32BufferAttribute(ss,3)),this.setAttribute("uv",new Float32BufferAttribute(ls,2));function wl(){for(let cp=0;cp<ht;cp++)ep(cp);ep(qt===!1?ht:0),np(),Al()}function ep(cp){xn=lt.getPointAt(cp/ht,xn);const Cp=Zt.normals[cp],Lp=Zt.binormals[cp];for(let jp=0;jp<=At;jp++){const nm=jp/At*Math.PI*2,zm=Math.sin(nm),i1=-Math.cos(nm);Gr.x=i1*Cp.x+zm*Lp.x,Gr.y=i1*Cp.y+zm*Lp.y,Gr.z=i1*Cp.z+zm*Lp.z,Gr.normalize(),ss.push(Gr.x,Gr.y,Gr.z),cr.x=xn.x+_t*Gr.x,cr.y=xn.y+_t*Gr.y,cr.z=xn.z+_t*Gr.z,On.push(cr.x,cr.y,cr.z)}}function Al(){for(let cp=1;cp<=ht;cp++)for(let Cp=1;Cp<=At;Cp++){const Lp=(At+1)*(cp-1)+(Cp-1),jp=(At+1)*cp+(Cp-1),nm=(At+1)*cp+Cp,zm=(At+1)*(cp-1)+Cp;cs.push(Lp,jp,zm),cs.push(jp,nm,zm)}}function np(){for(let cp=0;cp<=ht;cp++)for(let Cp=0;Cp<=At;Cp++)Zr.x=cp/ht,Zr.y=Cp/At,ls.push(Zr.x,Zr.y)}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}toJSON(){const lt=super.toJSON();return lt.path=this.parameters.path.toJSON(),lt}static fromJSON(lt){return new TubeGeometry(new Curves[lt.path.type]().fromJSON(lt.path),lt.tubularSegments,lt.radius,lt.radialSegments,lt.closed)}}class WireframeGeometry extends BufferGeometry{constructor(lt=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:lt},lt!==null){const ht=[],_t=new Set,At=new Vector3,qt=new Vector3;if(lt.index!==null){const Zt=lt.attributes.position,cr=lt.index;let Gr=lt.groups;Gr.length===0&&(Gr=[{start:0,count:cr.count,materialIndex:0}]);for(let Zr=0,xn=Gr.length;Zr<xn;++Zr){const On=Gr[Zr],ss=On.start,ls=On.count;for(let cs=ss,wl=ss+ls;cs<wl;cs+=3)for(let ep=0;ep<3;ep++){const Al=cr.getX(cs+ep),np=cr.getX(cs+(ep+1)%3);At.fromBufferAttribute(Zt,Al),qt.fromBufferAttribute(Zt,np),isUniqueEdge(At,qt,_t)===!0&&(ht.push(At.x,At.y,At.z),ht.push(qt.x,qt.y,qt.z))}}}else{const Zt=lt.attributes.position;for(let cr=0,Gr=Zt.count/3;cr<Gr;cr++)for(let Zr=0;Zr<3;Zr++){const xn=3*cr+Zr,On=3*cr+(Zr+1)%3;At.fromBufferAttribute(Zt,xn),qt.fromBufferAttribute(Zt,On),isUniqueEdge(At,qt,_t)===!0&&(ht.push(At.x,At.y,At.z),ht.push(qt.x,qt.y,qt.z))}}this.setAttribute("position",new Float32BufferAttribute(ht,3))}}copy(lt){return super.copy(lt),this.parameters=Object.assign({},lt.parameters),this}}function isUniqueEdge(ut,lt,ht){const _t=`${ut.x},${ut.y},${ut.z}-${lt.x},${lt.y},${lt.z}`,At=`${lt.x},${lt.y},${lt.z}-${ut.x},${ut.y},${ut.z}`;return ht.has(_t)===!0||ht.has(At)===!0?!1:(ht.add(_t),ht.add(At),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material{constructor(lt){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.fog=lt.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(lt){super(lt),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material{constructor(lt){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={STANDARD:""},this.color.copy(lt.color),this.roughness=lt.roughness,this.metalness=lt.metalness,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.roughnessMap=lt.roughnessMap,this.metalnessMap=lt.metalnessMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.envMapIntensity=lt.envMapIntensity,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(lt){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(ht){this.ior=(1+.4*ht)/(1-.4*ht)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(lt)}get anisotropy(){return this._anisotropy}set anisotropy(lt){this._anisotropy>0!=lt>0&&this.version++,this._anisotropy=lt}get clearcoat(){return this._clearcoat}set clearcoat(lt){this._clearcoat>0!=lt>0&&this.version++,this._clearcoat=lt}get iridescence(){return this._iridescence}set iridescence(lt){this._iridescence>0!=lt>0&&this.version++,this._iridescence=lt}get sheen(){return this._sheen}set sheen(lt){this._sheen>0!=lt>0&&this.version++,this._sheen=lt}get transmission(){return this._transmission}set transmission(lt){this._transmission>0!=lt>0&&this.version++,this._transmission=lt}copy(lt){return super.copy(lt),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=lt.anisotropy,this.anisotropyRotation=lt.anisotropyRotation,this.anisotropyMap=lt.anisotropyMap,this.clearcoat=lt.clearcoat,this.clearcoatMap=lt.clearcoatMap,this.clearcoatRoughness=lt.clearcoatRoughness,this.clearcoatRoughnessMap=lt.clearcoatRoughnessMap,this.clearcoatNormalMap=lt.clearcoatNormalMap,this.clearcoatNormalScale.copy(lt.clearcoatNormalScale),this.ior=lt.ior,this.iridescence=lt.iridescence,this.iridescenceMap=lt.iridescenceMap,this.iridescenceIOR=lt.iridescenceIOR,this.iridescenceThicknessRange=[...lt.iridescenceThicknessRange],this.iridescenceThicknessMap=lt.iridescenceThicknessMap,this.sheen=lt.sheen,this.sheenColor.copy(lt.sheenColor),this.sheenColorMap=lt.sheenColorMap,this.sheenRoughness=lt.sheenRoughness,this.sheenRoughnessMap=lt.sheenRoughnessMap,this.transmission=lt.transmission,this.transmissionMap=lt.transmissionMap,this.thickness=lt.thickness,this.thicknessMap=lt.thicknessMap,this.attenuationDistance=lt.attenuationDistance,this.attenuationColor.copy(lt.attenuationColor),this.specularIntensity=lt.specularIntensity,this.specularIntensityMap=lt.specularIntensityMap,this.specularColor.copy(lt.specularColor),this.specularColorMap=lt.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(lt){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.specular.copy(lt.specular),this.shininess=lt.shininess,this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshToonMaterial extends Material{constructor(lt){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.gradientMap=lt.gradientMap,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.fog=lt.fog,this}}class MeshNormalMaterial extends Material{constructor(lt){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(lt)}copy(lt){return super.copy(lt),this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.flatShading=lt.flatShading,this}}class MeshLambertMaterial extends Material{constructor(lt){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.color.copy(lt.color),this.map=lt.map,this.lightMap=lt.lightMap,this.lightMapIntensity=lt.lightMapIntensity,this.aoMap=lt.aoMap,this.aoMapIntensity=lt.aoMapIntensity,this.emissive.copy(lt.emissive),this.emissiveMap=lt.emissiveMap,this.emissiveIntensity=lt.emissiveIntensity,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.specularMap=lt.specularMap,this.alphaMap=lt.alphaMap,this.envMap=lt.envMap,this.combine=lt.combine,this.reflectivity=lt.reflectivity,this.refractionRatio=lt.refractionRatio,this.wireframe=lt.wireframe,this.wireframeLinewidth=lt.wireframeLinewidth,this.wireframeLinecap=lt.wireframeLinecap,this.wireframeLinejoin=lt.wireframeLinejoin,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class MeshMatcapMaterial extends Material{constructor(lt){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(lt)}copy(lt){return super.copy(lt),this.defines={MATCAP:""},this.color.copy(lt.color),this.matcap=lt.matcap,this.map=lt.map,this.bumpMap=lt.bumpMap,this.bumpScale=lt.bumpScale,this.normalMap=lt.normalMap,this.normalMapType=lt.normalMapType,this.normalScale.copy(lt.normalScale),this.displacementMap=lt.displacementMap,this.displacementScale=lt.displacementScale,this.displacementBias=lt.displacementBias,this.alphaMap=lt.alphaMap,this.flatShading=lt.flatShading,this.fog=lt.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(lt){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(lt)}copy(lt){return super.copy(lt),this.scale=lt.scale,this.dashSize=lt.dashSize,this.gapSize=lt.gapSize,this}}function convertArray(ut,lt,ht){return!ut||!ht&&ut.constructor===lt?ut:typeof lt.BYTES_PER_ELEMENT=="number"?new lt(ut):Array.prototype.slice.call(ut)}function isTypedArray(ut){return ArrayBuffer.isView(ut)&&!(ut instanceof DataView)}function getKeyframeOrder(ut){function lt(At,qt){return ut[At]-ut[qt]}const ht=ut.length,_t=new Array(ht);for(let At=0;At!==ht;++At)_t[At]=At;return _t.sort(lt),_t}function sortedArray(ut,lt,ht){const _t=ut.length,At=new ut.constructor(_t);for(let qt=0,Zt=0;Zt!==_t;++qt){const cr=ht[qt]*lt;for(let Gr=0;Gr!==lt;++Gr)At[Zt++]=ut[cr+Gr]}return At}function flattenJSON(ut,lt,ht,_t){let At=1,qt=ut[0];for(;qt!==void 0&&qt[_t]===void 0;)qt=ut[At++];if(qt===void 0)return;let Zt=qt[_t];if(Zt!==void 0)if(Array.isArray(Zt))do Zt=qt[_t],Zt!==void 0&&(lt.push(qt.time),ht.push.apply(ht,Zt)),qt=ut[At++];while(qt!==void 0);else if(Zt.toArray!==void 0)do Zt=qt[_t],Zt!==void 0&&(lt.push(qt.time),Zt.toArray(ht,ht.length)),qt=ut[At++];while(qt!==void 0);else do Zt=qt[_t],Zt!==void 0&&(lt.push(qt.time),ht.push(Zt)),qt=ut[At++];while(qt!==void 0)}function subclip(ut,lt,ht,_t,At=30){const qt=ut.clone();qt.name=lt;const Zt=[];for(let Gr=0;Gr<qt.tracks.length;++Gr){const Zr=qt.tracks[Gr],xn=Zr.getValueSize(),On=[],ss=[];for(let ls=0;ls<Zr.times.length;++ls){const cs=Zr.times[ls]*At;if(!(cs<ht||cs>=_t)){On.push(Zr.times[ls]);for(let wl=0;wl<xn;++wl)ss.push(Zr.values[ls*xn+wl])}}On.length!==0&&(Zr.times=convertArray(On,Zr.times.constructor),Zr.values=convertArray(ss,Zr.values.constructor),Zt.push(Zr))}qt.tracks=Zt;let cr=1/0;for(let Gr=0;Gr<qt.tracks.length;++Gr)cr>qt.tracks[Gr].times[0]&&(cr=qt.tracks[Gr].times[0]);for(let Gr=0;Gr<qt.tracks.length;++Gr)qt.tracks[Gr].shift(-1*cr);return qt.resetDuration(),qt}function makeClipAdditive(ut,lt=0,ht=ut,_t=30){_t<=0&&(_t=30);const At=ht.tracks.length,qt=lt/_t;for(let Zt=0;Zt<At;++Zt){const cr=ht.tracks[Zt],Gr=cr.ValueTypeName;if(Gr==="bool"||Gr==="string")continue;const Zr=ut.tracks.find(function(Al){return Al.name===cr.name&&Al.ValueTypeName===Gr});if(Zr===void 0)continue;let xn=0;const On=cr.getValueSize();cr.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(xn=On/3);let ss=0;const ls=Zr.getValueSize();Zr.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ss=ls/3);const cs=cr.times.length-1;let wl;if(qt<=cr.times[0]){const Al=xn,np=On-xn;wl=cr.values.slice(Al,np)}else if(qt>=cr.times[cs]){const Al=cs*On+xn,np=Al+On-xn;wl=cr.values.slice(Al,np)}else{const Al=cr.createInterpolant(),np=xn,cp=On-xn;Al.evaluate(qt),wl=Al.resultBuffer.slice(np,cp)}Gr==="quaternion"&&new Quaternion().fromArray(wl).normalize().conjugate().toArray(wl);const ep=Zr.times.length;for(let Al=0;Al<ep;++Al){const np=Al*ls+ss;if(Gr==="quaternion")Quaternion.multiplyQuaternionsFlat(Zr.values,np,wl,0,Zr.values,np);else{const cp=ls-ss*2;for(let Cp=0;Cp<cp;++Cp)Zr.values[np+Cp]-=wl[Cp]}}}return ut.blendMode=AdditiveAnimationBlendMode,ut}const AnimationUtils={convertArray,isTypedArray,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive};class Interpolant{constructor(lt,ht,_t,At){this.parameterPositions=lt,this._cachedIndex=0,this.resultBuffer=At!==void 0?At:new ht.constructor(_t),this.sampleValues=ht,this.valueSize=_t,this.settings=null,this.DefaultSettings_={}}evaluate(lt){const ht=this.parameterPositions;let _t=this._cachedIndex,At=ht[_t],qt=ht[_t-1];e:{t:{let Zt;r:{n:if(!(lt<At)){for(let cr=_t+2;;){if(At===void 0){if(lt<qt)break n;return _t=ht.length,this._cachedIndex=_t,this.copySampleValue_(_t-1)}if(_t===cr)break;if(qt=At,At=ht[++_t],lt<At)break t}Zt=ht.length;break r}if(!(lt>=qt)){const cr=ht[1];lt<cr&&(_t=2,qt=cr);for(let Gr=_t-2;;){if(qt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(_t===Gr)break;if(At=qt,qt=ht[--_t-1],lt>=qt)break t}Zt=_t,_t=0;break r}break e}for(;_t<Zt;){const cr=_t+Zt>>>1;lt<ht[cr]?Zt=cr:_t=cr+1}if(At=ht[_t],qt=ht[_t-1],qt===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(At===void 0)return _t=ht.length,this._cachedIndex=_t,this.copySampleValue_(_t-1)}this._cachedIndex=_t,this.intervalChanged_(_t,qt,At)}return this.interpolate_(_t,qt,lt,At)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(lt){const ht=this.resultBuffer,_t=this.sampleValues,At=this.valueSize,qt=lt*At;for(let Zt=0;Zt!==At;++Zt)ht[Zt]=_t[qt+Zt];return ht}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(lt,ht,_t,At){super(lt,ht,_t,At),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(lt,ht,_t){const At=this.parameterPositions;let qt=lt-2,Zt=lt+1,cr=At[qt],Gr=At[Zt];if(cr===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:qt=lt,cr=2*ht-_t;break;case WrapAroundEnding:qt=At.length-2,cr=ht+At[qt]-At[qt+1];break;default:qt=lt,cr=_t}if(Gr===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:Zt=lt,Gr=2*_t-ht;break;case WrapAroundEnding:Zt=1,Gr=_t+At[1]-At[0];break;default:Zt=lt-1,Gr=ht}const Zr=(_t-ht)*.5,xn=this.valueSize;this._weightPrev=Zr/(ht-cr),this._weightNext=Zr/(Gr-_t),this._offsetPrev=qt*xn,this._offsetNext=Zt*xn}interpolate_(lt,ht,_t,At){const qt=this.resultBuffer,Zt=this.sampleValues,cr=this.valueSize,Gr=lt*cr,Zr=Gr-cr,xn=this._offsetPrev,On=this._offsetNext,ss=this._weightPrev,ls=this._weightNext,cs=(_t-ht)/(At-ht),wl=cs*cs,ep=wl*cs,Al=-ss*ep+2*ss*wl-ss*cs,np=(1+ss)*ep+(-1.5-2*ss)*wl+(-.5+ss)*cs+1,cp=(-1-ls)*ep+(1.5+ls)*wl+.5*cs,Cp=ls*ep-ls*wl;for(let Lp=0;Lp!==cr;++Lp)qt[Lp]=Al*Zt[xn+Lp]+np*Zt[Zr+Lp]+cp*Zt[Gr+Lp]+Cp*Zt[On+Lp];return qt}}class LinearInterpolant extends Interpolant{constructor(lt,ht,_t,At){super(lt,ht,_t,At)}interpolate_(lt,ht,_t,At){const qt=this.resultBuffer,Zt=this.sampleValues,cr=this.valueSize,Gr=lt*cr,Zr=Gr-cr,xn=(_t-ht)/(At-ht),On=1-xn;for(let ss=0;ss!==cr;++ss)qt[ss]=Zt[Zr+ss]*On+Zt[Gr+ss]*xn;return qt}}class DiscreteInterpolant extends Interpolant{constructor(lt,ht,_t,At){super(lt,ht,_t,At)}interpolate_(lt){return this.copySampleValue_(lt-1)}}class KeyframeTrack{constructor(lt,ht,_t,At){if(lt===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(ht===void 0||ht.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+lt);this.name=lt,this.times=convertArray(ht,this.TimeBufferType),this.values=convertArray(_t,this.ValueBufferType),this.setInterpolation(At||this.DefaultInterpolation)}static toJSON(lt){const ht=lt.constructor;let _t;if(ht.toJSON!==this.toJSON)_t=ht.toJSON(lt);else{_t={name:lt.name,times:convertArray(lt.times,Array),values:convertArray(lt.values,Array)};const At=lt.getInterpolation();At!==lt.DefaultInterpolation&&(_t.interpolation=At)}return _t.type=lt.ValueTypeName,_t}InterpolantFactoryMethodDiscrete(lt){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodLinear(lt){return new LinearInterpolant(this.times,this.values,this.getValueSize(),lt)}InterpolantFactoryMethodSmooth(lt){return new CubicInterpolant(this.times,this.values,this.getValueSize(),lt)}setInterpolation(lt){let ht;switch(lt){case InterpolateDiscrete:ht=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:ht=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:ht=this.InterpolantFactoryMethodSmooth;break}if(ht===void 0){const _t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(lt!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(_t);return console.warn("THREE.KeyframeTrack:",_t),this}return this.createInterpolant=ht,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(lt){if(lt!==0){const ht=this.times;for(let _t=0,At=ht.length;_t!==At;++_t)ht[_t]+=lt}return this}scale(lt){if(lt!==1){const ht=this.times;for(let _t=0,At=ht.length;_t!==At;++_t)ht[_t]*=lt}return this}trim(lt,ht){const _t=this.times,At=_t.length;let qt=0,Zt=At-1;for(;qt!==At&&_t[qt]<lt;)++qt;for(;Zt!==-1&&_t[Zt]>ht;)--Zt;if(++Zt,qt!==0||Zt!==At){qt>=Zt&&(Zt=Math.max(Zt,1),qt=Zt-1);const cr=this.getValueSize();this.times=_t.slice(qt,Zt),this.values=this.values.slice(qt*cr,Zt*cr)}return this}validate(){let lt=!0;const ht=this.getValueSize();ht-Math.floor(ht)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),lt=!1);const _t=this.times,At=this.values,qt=_t.length;qt===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),lt=!1);let Zt=null;for(let cr=0;cr!==qt;cr++){const Gr=_t[cr];if(typeof Gr=="number"&&isNaN(Gr)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,cr,Gr),lt=!1;break}if(Zt!==null&&Zt>Gr){console.error("THREE.KeyframeTrack: Out of order keys.",this,cr,Gr,Zt),lt=!1;break}Zt=Gr}if(At!==void 0&&isTypedArray(At))for(let cr=0,Gr=At.length;cr!==Gr;++cr){const Zr=At[cr];if(isNaN(Zr)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,cr,Zr),lt=!1;break}}return lt}optimize(){const lt=this.times.slice(),ht=this.values.slice(),_t=this.getValueSize(),At=this.getInterpolation()===InterpolateSmooth,qt=lt.length-1;let Zt=1;for(let cr=1;cr<qt;++cr){let Gr=!1;const Zr=lt[cr],xn=lt[cr+1];if(Zr!==xn&&(cr!==1||Zr!==lt[0]))if(At)Gr=!0;else{const On=cr*_t,ss=On-_t,ls=On+_t;for(let cs=0;cs!==_t;++cs){const wl=ht[On+cs];if(wl!==ht[ss+cs]||wl!==ht[ls+cs]){Gr=!0;break}}}if(Gr){if(cr!==Zt){lt[Zt]=lt[cr];const On=cr*_t,ss=Zt*_t;for(let ls=0;ls!==_t;++ls)ht[ss+ls]=ht[On+ls]}++Zt}}if(qt>0){lt[Zt]=lt[qt];for(let cr=qt*_t,Gr=Zt*_t,Zr=0;Zr!==_t;++Zr)ht[Gr+Zr]=ht[cr+Zr];++Zt}return Zt!==lt.length?(this.times=lt.slice(0,Zt),this.values=ht.slice(0,Zt*_t)):(this.times=lt,this.values=ht),this}clone(){const lt=this.times.slice(),ht=this.values.slice(),_t=this.constructor,At=new _t(this.name,lt,ht);return At.createInterpolant=this.createInterpolant,At}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(lt,ht,_t,At){super(lt,ht,_t,At)}interpolate_(lt,ht,_t,At){const qt=this.resultBuffer,Zt=this.sampleValues,cr=this.valueSize,Gr=(_t-ht)/(At-ht);let Zr=lt*cr;for(let xn=Zr+cr;Zr!==xn;Zr+=4)Quaternion.slerpFlat(qt,0,Zt,Zr-cr,Zt,Zr,Gr);return qt}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(lt){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),lt)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(lt,ht=-1,_t,At=NormalAnimationBlendMode){this.name=lt,this.tracks=_t,this.duration=ht,this.blendMode=At,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(lt){const ht=[],_t=lt.tracks,At=1/(lt.fps||1);for(let Zt=0,cr=_t.length;Zt!==cr;++Zt)ht.push(parseKeyframeTrack(_t[Zt]).scale(At));const qt=new this(lt.name,lt.duration,ht,lt.blendMode);return qt.uuid=lt.uuid,qt}static toJSON(lt){const ht=[],_t=lt.tracks,At={name:lt.name,duration:lt.duration,tracks:ht,uuid:lt.uuid,blendMode:lt.blendMode};for(let qt=0,Zt=_t.length;qt!==Zt;++qt)ht.push(KeyframeTrack.toJSON(_t[qt]));return At}static CreateFromMorphTargetSequence(lt,ht,_t,At){const qt=ht.length,Zt=[];for(let cr=0;cr<qt;cr++){let Gr=[],Zr=[];Gr.push((cr+qt-1)%qt,cr,(cr+1)%qt),Zr.push(0,1,0);const xn=getKeyframeOrder(Gr);Gr=sortedArray(Gr,1,xn),Zr=sortedArray(Zr,1,xn),!At&&Gr[0]===0&&(Gr.push(qt),Zr.push(Zr[0])),Zt.push(new NumberKeyframeTrack(".morphTargetInfluences["+ht[cr].name+"]",Gr,Zr).scale(1/_t))}return new this(lt,-1,Zt)}static findByName(lt,ht){let _t=lt;if(!Array.isArray(lt)){const At=lt;_t=At.geometry&&At.geometry.animations||At.animations}for(let At=0;At<_t.length;At++)if(_t[At].name===ht)return _t[At];return null}static CreateClipsFromMorphTargetSequences(lt,ht,_t){const At={},qt=/^([\w-]*?)([\d]+)$/;for(let cr=0,Gr=lt.length;cr<Gr;cr++){const Zr=lt[cr],xn=Zr.name.match(qt);if(xn&&xn.length>1){const On=xn[1];let ss=At[On];ss||(At[On]=ss=[]),ss.push(Zr)}}const Zt=[];for(const cr in At)Zt.push(this.CreateFromMorphTargetSequence(cr,At[cr],ht,_t));return Zt}static parseAnimation(lt,ht){if(!lt)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const _t=function(On,ss,ls,cs,wl){if(ls.length!==0){const ep=[],Al=[];flattenJSON(ls,ep,Al,cs),ep.length!==0&&wl.push(new On(ss,ep,Al))}},At=[],qt=lt.name||"default",Zt=lt.fps||30,cr=lt.blendMode;let Gr=lt.length||-1;const Zr=lt.hierarchy||[];for(let On=0;On<Zr.length;On++){const ss=Zr[On].keys;if(!(!ss||ss.length===0))if(ss[0].morphTargets){const ls={};let cs;for(cs=0;cs<ss.length;cs++)if(ss[cs].morphTargets)for(let wl=0;wl<ss[cs].morphTargets.length;wl++)ls[ss[cs].morphTargets[wl]]=-1;for(const wl in ls){const ep=[],Al=[];for(let np=0;np!==ss[cs].morphTargets.length;++np){const cp=ss[cs];ep.push(cp.time),Al.push(cp.morphTarget===wl?1:0)}At.push(new NumberKeyframeTrack(".morphTargetInfluence["+wl+"]",ep,Al))}Gr=ls.length*Zt}else{const ls=".bones["+ht[On].name+"]";_t(VectorKeyframeTrack,ls+".position",ss,"pos",At),_t(QuaternionKeyframeTrack,ls+".quaternion",ss,"rot",At),_t(VectorKeyframeTrack,ls+".scale",ss,"scl",At)}}return At.length===0?null:new this(qt,Gr,At,cr)}resetDuration(){const lt=this.tracks;let ht=0;for(let _t=0,At=lt.length;_t!==At;++_t){const qt=this.tracks[_t];ht=Math.max(ht,qt.times[qt.times.length-1])}return this.duration=ht,this}trim(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].trim(0,this.duration);return this}validate(){let lt=!0;for(let ht=0;ht<this.tracks.length;ht++)lt=lt&&this.tracks[ht].validate();return lt}optimize(){for(let lt=0;lt<this.tracks.length;lt++)this.tracks[lt].optimize();return this}clone(){const lt=[];for(let ht=0;ht<this.tracks.length;ht++)lt.push(this.tracks[ht].clone());return new this.constructor(this.name,this.duration,lt,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(ut){switch(ut.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+ut)}function parseKeyframeTrack(ut){if(ut.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const lt=getTrackTypeForValueTypeName(ut.type);if(ut.times===void 0){const ht=[],_t=[];flattenJSON(ut.keys,ht,_t,"value"),ut.times=ht,ut.values=_t}return lt.parse!==void 0?lt.parse(ut):new lt(ut.name,ut.times,ut.values,ut.interpolation)}const Cache={enabled:!1,files:{},add:function(ut,lt){this.enabled!==!1&&(this.files[ut]=lt)},get:function(ut){if(this.enabled!==!1)return this.files[ut]},remove:function(ut){delete this.files[ut]},clear:function(){this.files={}}};class LoadingManager{constructor(lt,ht,_t){const At=this;let qt=!1,Zt=0,cr=0,Gr;const Zr=[];this.onStart=void 0,this.onLoad=lt,this.onProgress=ht,this.onError=_t,this.itemStart=function(xn){cr++,qt===!1&&At.onStart!==void 0&&At.onStart(xn,Zt,cr),qt=!0},this.itemEnd=function(xn){Zt++,At.onProgress!==void 0&&At.onProgress(xn,Zt,cr),Zt===cr&&(qt=!1,At.onLoad!==void 0&&At.onLoad())},this.itemError=function(xn){At.onError!==void 0&&At.onError(xn)},this.resolveURL=function(xn){return Gr?Gr(xn):xn},this.setURLModifier=function(xn){return Gr=xn,this},this.addHandler=function(xn,On){return Zr.push(xn,On),this},this.removeHandler=function(xn){const On=Zr.indexOf(xn);return On!==-1&&Zr.splice(On,2),this},this.getHandler=function(xn){for(let On=0,ss=Zr.length;On<ss;On+=2){const ls=Zr[On],cs=Zr[On+1];if(ls.global&&(ls.lastIndex=0),ls.test(xn))return cs}return null}}}const DefaultLoadingManager=new LoadingManager;let Loader$1=class{constructor(lt){this.manager=lt!==void 0?lt:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(lt,ht){const _t=this;return new Promise(function(At,qt){_t.load(lt,At,ht,qt)})}parse(){}setCrossOrigin(lt){return this.crossOrigin=lt,this}setWithCredentials(lt){return this.withCredentials=lt,this}setPath(lt){return this.path=lt,this}setResourcePath(lt){return this.resourcePath=lt,this}setRequestHeader(lt){return this.requestHeader=lt,this}};Loader$1.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(lt,ht){super(lt),this.response=ht}}class FileLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const qt=Cache.get(lt);if(qt!==void 0)return this.manager.itemStart(lt),setTimeout(()=>{ht&&ht(qt),this.manager.itemEnd(lt)},0),qt;if(loading[lt]!==void 0){loading[lt].push({onLoad:ht,onProgress:_t,onError:At});return}loading[lt]=[],loading[lt].push({onLoad:ht,onProgress:_t,onError:At});const Zt=new Request(lt,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),cr=this.mimeType,Gr=this.responseType;fetch(Zt).then(Zr=>{if(Zr.status===200||Zr.status===0){if(Zr.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||Zr.body===void 0||Zr.body.getReader===void 0)return Zr;const xn=loading[lt],On=Zr.body.getReader(),ss=Zr.headers.get("Content-Length")||Zr.headers.get("X-File-Size"),ls=ss?parseInt(ss):0,cs=ls!==0;let wl=0;const ep=new ReadableStream({start(Al){np();function np(){On.read().then(({done:cp,value:Cp})=>{if(cp)Al.close();else{wl+=Cp.byteLength;const Lp=new ProgressEvent("progress",{lengthComputable:cs,loaded:wl,total:ls});for(let jp=0,nm=xn.length;jp<nm;jp++){const zm=xn[jp];zm.onProgress&&zm.onProgress(Lp)}Al.enqueue(Cp),np()}})}}});return new Response(ep)}else throw new HttpError(`fetch for "${Zr.url}" responded with ${Zr.status}: ${Zr.statusText}`,Zr)}).then(Zr=>{switch(Gr){case"arraybuffer":return Zr.arrayBuffer();case"blob":return Zr.blob();case"document":return Zr.text().then(xn=>new DOMParser().parseFromString(xn,cr));case"json":return Zr.json();default:if(cr===void 0)return Zr.text();{const On=/charset="?([^;"\s]*)"?/i.exec(cr),ss=On&&On[1]?On[1].toLowerCase():void 0,ls=new TextDecoder(ss);return Zr.arrayBuffer().then(cs=>ls.decode(cs))}}}).then(Zr=>{Cache.add(lt,Zr);const xn=loading[lt];delete loading[lt];for(let On=0,ss=xn.length;On<ss;On++){const ls=xn[On];ls.onLoad&&ls.onLoad(Zr)}}).catch(Zr=>{const xn=loading[lt];if(xn===void 0)throw this.manager.itemError(lt),Zr;delete loading[lt];for(let On=0,ss=xn.length;On<ss;On++){const ls=xn[On];ls.onError&&ls.onError(Zr)}this.manager.itemError(lt)}).finally(()=>{this.manager.itemEnd(lt)}),this.manager.itemStart(lt)}setResponseType(lt){return this.responseType=lt,this}setMimeType(lt){return this.mimeType=lt,this}}class AnimationLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=new FileLoader(this.manager);Zt.setPath(this.path),Zt.setRequestHeader(this.requestHeader),Zt.setWithCredentials(this.withCredentials),Zt.load(lt,function(cr){try{ht(qt.parse(JSON.parse(cr)))}catch(Gr){At?At(Gr):console.error(Gr),qt.manager.itemError(lt)}},_t,At)}parse(lt){const ht=[];for(let _t=0;_t<lt.length;_t++){const At=AnimationClip.parse(lt[_t]);ht.push(At)}return ht}}class CompressedTextureLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=[],cr=new CompressedTexture,Gr=new FileLoader(this.manager);Gr.setPath(this.path),Gr.setResponseType("arraybuffer"),Gr.setRequestHeader(this.requestHeader),Gr.setWithCredentials(qt.withCredentials);let Zr=0;function xn(On){Gr.load(lt[On],function(ss){const ls=qt.parse(ss,!0);Zt[On]={width:ls.width,height:ls.height,format:ls.format,mipmaps:ls.mipmaps},Zr+=1,Zr===6&&(ls.mipmapCount===1&&(cr.minFilter=LinearFilter),cr.image=Zt,cr.format=ls.format,cr.needsUpdate=!0,ht&&ht(cr))},_t,At)}if(Array.isArray(lt))for(let On=0,ss=lt.length;On<ss;++On)xn(On);else Gr.load(lt,function(On){const ss=qt.parse(On,!0);if(ss.isCubemap){const ls=ss.mipmaps.length/ss.mipmapCount;for(let cs=0;cs<ls;cs++){Zt[cs]={mipmaps:[]};for(let wl=0;wl<ss.mipmapCount;wl++)Zt[cs].mipmaps.push(ss.mipmaps[cs*ss.mipmapCount+wl]),Zt[cs].format=ss.format,Zt[cs].width=ss.width,Zt[cs].height=ss.height}cr.image=Zt}else cr.image.width=ss.width,cr.image.height=ss.height,cr.mipmaps=ss.mipmaps;ss.mipmapCount===1&&(cr.minFilter=LinearFilter),cr.format=ss.format,cr.needsUpdate=!0,ht&&ht(cr)},_t,At);return cr}}class ImageLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const qt=this,Zt=Cache.get(lt);if(Zt!==void 0)return qt.manager.itemStart(lt),setTimeout(function(){ht&&ht(Zt),qt.manager.itemEnd(lt)},0),Zt;const cr=createElementNS("img");function Gr(){xn(),Cache.add(lt,this),ht&&ht(this),qt.manager.itemEnd(lt)}function Zr(On){xn(),At&&At(On),qt.manager.itemError(lt),qt.manager.itemEnd(lt)}function xn(){cr.removeEventListener("load",Gr,!1),cr.removeEventListener("error",Zr,!1)}return cr.addEventListener("load",Gr,!1),cr.addEventListener("error",Zr,!1),lt.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(cr.crossOrigin=this.crossOrigin),qt.manager.itemStart(lt),cr.src=lt,cr}}class CubeTextureLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=new CubeTexture;qt.colorSpace=SRGBColorSpace$1;const Zt=new ImageLoader(this.manager);Zt.setCrossOrigin(this.crossOrigin),Zt.setPath(this.path);let cr=0;function Gr(Zr){Zt.load(lt[Zr],function(xn){qt.images[Zr]=xn,cr++,cr===6&&(qt.needsUpdate=!0,ht&&ht(qt))},void 0,At)}for(let Zr=0;Zr<lt.length;++Zr)Gr(Zr);return qt}}class DataTextureLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=new DataTexture,cr=new FileLoader(this.manager);return cr.setResponseType("arraybuffer"),cr.setRequestHeader(this.requestHeader),cr.setPath(this.path),cr.setWithCredentials(qt.withCredentials),cr.load(lt,function(Gr){let Zr;try{Zr=qt.parse(Gr)}catch(xn){if(At!==void 0)At(xn);else{console.error(xn);return}}Zr.image!==void 0?Zt.image=Zr.image:Zr.data!==void 0&&(Zt.image.width=Zr.width,Zt.image.height=Zr.height,Zt.image.data=Zr.data),Zt.wrapS=Zr.wrapS!==void 0?Zr.wrapS:ClampToEdgeWrapping,Zt.wrapT=Zr.wrapT!==void 0?Zr.wrapT:ClampToEdgeWrapping,Zt.magFilter=Zr.magFilter!==void 0?Zr.magFilter:LinearFilter,Zt.minFilter=Zr.minFilter!==void 0?Zr.minFilter:LinearFilter,Zt.anisotropy=Zr.anisotropy!==void 0?Zr.anisotropy:1,Zr.colorSpace!==void 0?Zt.colorSpace=Zr.colorSpace:Zr.encoding!==void 0&&(Zt.encoding=Zr.encoding),Zr.flipY!==void 0&&(Zt.flipY=Zr.flipY),Zr.format!==void 0&&(Zt.format=Zr.format),Zr.type!==void 0&&(Zt.type=Zr.type),Zr.mipmaps!==void 0&&(Zt.mipmaps=Zr.mipmaps,Zt.minFilter=LinearMipmapLinearFilter),Zr.mipmapCount===1&&(Zt.minFilter=LinearFilter),Zr.generateMipmaps!==void 0&&(Zt.generateMipmaps=Zr.generateMipmaps),Zt.needsUpdate=!0,ht&&ht(Zt,Zr)},_t,At),Zt}}class TextureLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=new Texture,Zt=new ImageLoader(this.manager);return Zt.setCrossOrigin(this.crossOrigin),Zt.setPath(this.path),Zt.load(lt,function(cr){qt.image=cr,qt.needsUpdate=!0,ht!==void 0&&ht(qt)},_t,At),qt}}class Light extends Object3D{constructor(lt,ht=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(lt),this.intensity=ht}dispose(){}copy(lt,ht){return super.copy(lt,ht),this.color.copy(lt.color),this.intensity=lt.intensity,this}toJSON(lt){const ht=super.toJSON(lt);return ht.object.color=this.color.getHex(),ht.object.intensity=this.intensity,this.groundColor!==void 0&&(ht.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(ht.object.distance=this.distance),this.angle!==void 0&&(ht.object.angle=this.angle),this.decay!==void 0&&(ht.object.decay=this.decay),this.penumbra!==void 0&&(ht.object.penumbra=this.penumbra),this.shadow!==void 0&&(ht.object.shadow=this.shadow.toJSON()),ht}}class HemisphereLight extends Light{constructor(lt,ht,_t){super(lt,_t),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(ht)}copy(lt,ht){return super.copy(lt,ht),this.groundColor.copy(lt.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(lt){this.camera=lt,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(lt){const ht=this.camera,_t=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(lt.matrixWorld),ht.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(lt.target.matrixWorld),ht.lookAt(_lookTarget$1),ht.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(ht.projectionMatrix,ht.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),_t.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),_t.multiply(_projScreenMatrix$1)}getViewport(lt){return this._viewports[lt]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(lt){return this.camera=lt.camera.clone(),this.bias=lt.bias,this.radius=lt.radius,this.mapSize.copy(lt.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const lt={};return this.bias!==0&&(lt.bias=this.bias),this.normalBias!==0&&(lt.normalBias=this.normalBias),this.radius!==1&&(lt.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(lt.mapSize=this.mapSize.toArray()),lt.camera=this.camera.toJSON(!1).object,delete lt.camera.matrix,lt}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(lt){const ht=this.camera,_t=RAD2DEG*2*lt.angle*this.focus,At=this.mapSize.width/this.mapSize.height,qt=lt.distance||ht.far;(_t!==ht.fov||At!==ht.aspect||qt!==ht.far)&&(ht.fov=_t,ht.aspect=At,ht.far=qt,ht.updateProjectionMatrix()),super.updateMatrices(lt)}copy(lt){return super.copy(lt),this.focus=lt.focus,this}}class SpotLight extends Light{constructor(lt,ht,_t=0,At=Math.PI/3,qt=0,Zt=2){super(lt,ht),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=_t,this.angle=At,this.penumbra=qt,this.decay=Zt,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(lt){this.intensity=lt/Math.PI}dispose(){this.shadow.dispose()}copy(lt,ht){return super.copy(lt,ht),this.distance=lt.distance,this.angle=lt.angle,this.penumbra=lt.penumbra,this.decay=lt.decay,this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(lt,ht=0){const _t=this.camera,At=this.matrix,qt=lt.distance||_t.far;qt!==_t.far&&(_t.far=qt,_t.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(lt.matrixWorld),_t.position.copy(_lightPositionWorld),_lookTarget.copy(_t.position),_lookTarget.add(this._cubeDirections[ht]),_t.up.copy(this._cubeUps[ht]),_t.lookAt(_lookTarget),_t.updateMatrixWorld(),At.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(_t.projectionMatrix,_t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light{constructor(lt,ht,_t=0,At=2){super(lt,ht),this.isPointLight=!0,this.type="PointLight",this.distance=_t,this.decay=At,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(lt){this.intensity=lt/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(lt,ht){return super.copy(lt,ht),this.distance=lt.distance,this.decay=lt.decay,this.shadow=lt.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(lt,ht){super(lt,ht),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(lt){return super.copy(lt),this.target=lt.target.clone(),this.shadow=lt.shadow.clone(),this}}class AmbientLight extends Light{constructor(lt,ht){super(lt,ht),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(lt,ht,_t=10,At=10){super(lt,ht),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=_t,this.height=At}get power(){return this.intensity*this.width*this.height*Math.PI}set power(lt){this.intensity=lt/(this.width*this.height*Math.PI)}copy(lt){return super.copy(lt),this.width=lt.width,this.height=lt.height,this}toJSON(lt){const ht=super.toJSON(lt);return ht.object.width=this.width,ht.object.height=this.height,ht}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let lt=0;lt<9;lt++)this.coefficients.push(new Vector3)}set(lt){for(let ht=0;ht<9;ht++)this.coefficients[ht].copy(lt[ht]);return this}zero(){for(let lt=0;lt<9;lt++)this.coefficients[lt].set(0,0,0);return this}getAt(lt,ht){const _t=lt.x,At=lt.y,qt=lt.z,Zt=this.coefficients;return ht.copy(Zt[0]).multiplyScalar(.282095),ht.addScaledVector(Zt[1],.488603*At),ht.addScaledVector(Zt[2],.488603*qt),ht.addScaledVector(Zt[3],.488603*_t),ht.addScaledVector(Zt[4],1.092548*(_t*At)),ht.addScaledVector(Zt[5],1.092548*(At*qt)),ht.addScaledVector(Zt[6],.315392*(3*qt*qt-1)),ht.addScaledVector(Zt[7],1.092548*(_t*qt)),ht.addScaledVector(Zt[8],.546274*(_t*_t-At*At)),ht}getIrradianceAt(lt,ht){const _t=lt.x,At=lt.y,qt=lt.z,Zt=this.coefficients;return ht.copy(Zt[0]).multiplyScalar(.886227),ht.addScaledVector(Zt[1],2*.511664*At),ht.addScaledVector(Zt[2],2*.511664*qt),ht.addScaledVector(Zt[3],2*.511664*_t),ht.addScaledVector(Zt[4],2*.429043*_t*At),ht.addScaledVector(Zt[5],2*.429043*At*qt),ht.addScaledVector(Zt[6],.743125*qt*qt-.247708),ht.addScaledVector(Zt[7],2*.429043*_t*qt),ht.addScaledVector(Zt[8],.429043*(_t*_t-At*At)),ht}add(lt){for(let ht=0;ht<9;ht++)this.coefficients[ht].add(lt.coefficients[ht]);return this}addScaledSH(lt,ht){for(let _t=0;_t<9;_t++)this.coefficients[_t].addScaledVector(lt.coefficients[_t],ht);return this}scale(lt){for(let ht=0;ht<9;ht++)this.coefficients[ht].multiplyScalar(lt);return this}lerp(lt,ht){for(let _t=0;_t<9;_t++)this.coefficients[_t].lerp(lt.coefficients[_t],ht);return this}equals(lt){for(let ht=0;ht<9;ht++)if(!this.coefficients[ht].equals(lt.coefficients[ht]))return!1;return!0}copy(lt){return this.set(lt.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(lt,ht=0){const _t=this.coefficients;for(let At=0;At<9;At++)_t[At].fromArray(lt,ht+At*3);return this}toArray(lt=[],ht=0){const _t=this.coefficients;for(let At=0;At<9;At++)_t[At].toArray(lt,ht+At*3);return lt}static getBasisAt(lt,ht){const _t=lt.x,At=lt.y,qt=lt.z;ht[0]=.282095,ht[1]=.488603*At,ht[2]=.488603*qt,ht[3]=.488603*_t,ht[4]=1.092548*_t*At,ht[5]=1.092548*At*qt,ht[6]=.315392*(3*qt*qt-1),ht[7]=1.092548*_t*qt,ht[8]=.546274*(_t*_t-At*At)}}class LightProbe extends Light{constructor(lt=new SphericalHarmonics3,ht=1){super(void 0,ht),this.isLightProbe=!0,this.sh=lt}copy(lt){return super.copy(lt),this.sh.copy(lt.sh),this}fromJSON(lt){return this.intensity=lt.intensity,this.sh.fromArray(lt.sh),this}toJSON(lt){const ht=super.toJSON(lt);return ht.object.sh=this.sh.toArray(),ht}}class MaterialLoader extends Loader$1{constructor(lt){super(lt),this.textures={}}load(lt,ht,_t,At){const qt=this,Zt=new FileLoader(qt.manager);Zt.setPath(qt.path),Zt.setRequestHeader(qt.requestHeader),Zt.setWithCredentials(qt.withCredentials),Zt.load(lt,function(cr){try{ht(qt.parse(JSON.parse(cr)))}catch(Gr){At?At(Gr):console.error(Gr),qt.manager.itemError(lt)}},_t,At)}parse(lt){const ht=this.textures;function _t(qt){return ht[qt]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",qt),ht[qt]}const At=MaterialLoader.createMaterialFromType(lt.type);if(lt.uuid!==void 0&&(At.uuid=lt.uuid),lt.name!==void 0&&(At.name=lt.name),lt.color!==void 0&&At.color!==void 0&&At.color.setHex(lt.color),lt.roughness!==void 0&&(At.roughness=lt.roughness),lt.metalness!==void 0&&(At.metalness=lt.metalness),lt.sheen!==void 0&&(At.sheen=lt.sheen),lt.sheenColor!==void 0&&(At.sheenColor=new Color().setHex(lt.sheenColor)),lt.sheenRoughness!==void 0&&(At.sheenRoughness=lt.sheenRoughness),lt.emissive!==void 0&&At.emissive!==void 0&&At.emissive.setHex(lt.emissive),lt.specular!==void 0&&At.specular!==void 0&&At.specular.setHex(lt.specular),lt.specularIntensity!==void 0&&(At.specularIntensity=lt.specularIntensity),lt.specularColor!==void 0&&At.specularColor!==void 0&&At.specularColor.setHex(lt.specularColor),lt.shininess!==void 0&&(At.shininess=lt.shininess),lt.clearcoat!==void 0&&(At.clearcoat=lt.clearcoat),lt.clearcoatRoughness!==void 0&&(At.clearcoatRoughness=lt.clearcoatRoughness),lt.iridescence!==void 0&&(At.iridescence=lt.iridescence),lt.iridescenceIOR!==void 0&&(At.iridescenceIOR=lt.iridescenceIOR),lt.iridescenceThicknessRange!==void 0&&(At.iridescenceThicknessRange=lt.iridescenceThicknessRange),lt.transmission!==void 0&&(At.transmission=lt.transmission),lt.thickness!==void 0&&(At.thickness=lt.thickness),lt.attenuationDistance!==void 0&&(At.attenuationDistance=lt.attenuationDistance),lt.attenuationColor!==void 0&&At.attenuationColor!==void 0&&At.attenuationColor.setHex(lt.attenuationColor),lt.anisotropy!==void 0&&(At.anisotropy=lt.anisotropy),lt.anisotropyRotation!==void 0&&(At.anisotropyRotation=lt.anisotropyRotation),lt.fog!==void 0&&(At.fog=lt.fog),lt.flatShading!==void 0&&(At.flatShading=lt.flatShading),lt.blending!==void 0&&(At.blending=lt.blending),lt.combine!==void 0&&(At.combine=lt.combine),lt.side!==void 0&&(At.side=lt.side),lt.shadowSide!==void 0&&(At.shadowSide=lt.shadowSide),lt.opacity!==void 0&&(At.opacity=lt.opacity),lt.transparent!==void 0&&(At.transparent=lt.transparent),lt.alphaTest!==void 0&&(At.alphaTest=lt.alphaTest),lt.alphaHash!==void 0&&(At.alphaHash=lt.alphaHash),lt.depthTest!==void 0&&(At.depthTest=lt.depthTest),lt.depthWrite!==void 0&&(At.depthWrite=lt.depthWrite),lt.colorWrite!==void 0&&(At.colorWrite=lt.colorWrite),lt.stencilWrite!==void 0&&(At.stencilWrite=lt.stencilWrite),lt.stencilWriteMask!==void 0&&(At.stencilWriteMask=lt.stencilWriteMask),lt.stencilFunc!==void 0&&(At.stencilFunc=lt.stencilFunc),lt.stencilRef!==void 0&&(At.stencilRef=lt.stencilRef),lt.stencilFuncMask!==void 0&&(At.stencilFuncMask=lt.stencilFuncMask),lt.stencilFail!==void 0&&(At.stencilFail=lt.stencilFail),lt.stencilZFail!==void 0&&(At.stencilZFail=lt.stencilZFail),lt.stencilZPass!==void 0&&(At.stencilZPass=lt.stencilZPass),lt.wireframe!==void 0&&(At.wireframe=lt.wireframe),lt.wireframeLinewidth!==void 0&&(At.wireframeLinewidth=lt.wireframeLinewidth),lt.wireframeLinecap!==void 0&&(At.wireframeLinecap=lt.wireframeLinecap),lt.wireframeLinejoin!==void 0&&(At.wireframeLinejoin=lt.wireframeLinejoin),lt.rotation!==void 0&&(At.rotation=lt.rotation),lt.linewidth!==void 0&&(At.linewidth=lt.linewidth),lt.dashSize!==void 0&&(At.dashSize=lt.dashSize),lt.gapSize!==void 0&&(At.gapSize=lt.gapSize),lt.scale!==void 0&&(At.scale=lt.scale),lt.polygonOffset!==void 0&&(At.polygonOffset=lt.polygonOffset),lt.polygonOffsetFactor!==void 0&&(At.polygonOffsetFactor=lt.polygonOffsetFactor),lt.polygonOffsetUnits!==void 0&&(At.polygonOffsetUnits=lt.polygonOffsetUnits),lt.dithering!==void 0&&(At.dithering=lt.dithering),lt.alphaToCoverage!==void 0&&(At.alphaToCoverage=lt.alphaToCoverage),lt.premultipliedAlpha!==void 0&&(At.premultipliedAlpha=lt.premultipliedAlpha),lt.forceSinglePass!==void 0&&(At.forceSinglePass=lt.forceSinglePass),lt.visible!==void 0&&(At.visible=lt.visible),lt.toneMapped!==void 0&&(At.toneMapped=lt.toneMapped),lt.userData!==void 0&&(At.userData=lt.userData),lt.vertexColors!==void 0&&(typeof lt.vertexColors=="number"?At.vertexColors=lt.vertexColors>0:At.vertexColors=lt.vertexColors),lt.uniforms!==void 0)for(const qt in lt.uniforms){const Zt=lt.uniforms[qt];switch(At.uniforms[qt]={},Zt.type){case"t":At.uniforms[qt].value=_t(Zt.value);break;case"c":At.uniforms[qt].value=new Color().setHex(Zt.value);break;case"v2":At.uniforms[qt].value=new Vector2().fromArray(Zt.value);break;case"v3":At.uniforms[qt].value=new Vector3().fromArray(Zt.value);break;case"v4":At.uniforms[qt].value=new Vector4().fromArray(Zt.value);break;case"m3":At.uniforms[qt].value=new Matrix3().fromArray(Zt.value);break;case"m4":At.uniforms[qt].value=new Matrix4().fromArray(Zt.value);break;default:At.uniforms[qt].value=Zt.value}}if(lt.defines!==void 0&&(At.defines=lt.defines),lt.vertexShader!==void 0&&(At.vertexShader=lt.vertexShader),lt.fragmentShader!==void 0&&(At.fragmentShader=lt.fragmentShader),lt.glslVersion!==void 0&&(At.glslVersion=lt.glslVersion),lt.extensions!==void 0)for(const qt in lt.extensions)At.extensions[qt]=lt.extensions[qt];if(lt.lights!==void 0&&(At.lights=lt.lights),lt.clipping!==void 0&&(At.clipping=lt.clipping),lt.size!==void 0&&(At.size=lt.size),lt.sizeAttenuation!==void 0&&(At.sizeAttenuation=lt.sizeAttenuation),lt.map!==void 0&&(At.map=_t(lt.map)),lt.matcap!==void 0&&(At.matcap=_t(lt.matcap)),lt.alphaMap!==void 0&&(At.alphaMap=_t(lt.alphaMap)),lt.bumpMap!==void 0&&(At.bumpMap=_t(lt.bumpMap)),lt.bumpScale!==void 0&&(At.bumpScale=lt.bumpScale),lt.normalMap!==void 0&&(At.normalMap=_t(lt.normalMap)),lt.normalMapType!==void 0&&(At.normalMapType=lt.normalMapType),lt.normalScale!==void 0){let qt=lt.normalScale;Array.isArray(qt)===!1&&(qt=[qt,qt]),At.normalScale=new Vector2().fromArray(qt)}return lt.displacementMap!==void 0&&(At.displacementMap=_t(lt.displacementMap)),lt.displacementScale!==void 0&&(At.displacementScale=lt.displacementScale),lt.displacementBias!==void 0&&(At.displacementBias=lt.displacementBias),lt.roughnessMap!==void 0&&(At.roughnessMap=_t(lt.roughnessMap)),lt.metalnessMap!==void 0&&(At.metalnessMap=_t(lt.metalnessMap)),lt.emissiveMap!==void 0&&(At.emissiveMap=_t(lt.emissiveMap)),lt.emissiveIntensity!==void 0&&(At.emissiveIntensity=lt.emissiveIntensity),lt.specularMap!==void 0&&(At.specularMap=_t(lt.specularMap)),lt.specularIntensityMap!==void 0&&(At.specularIntensityMap=_t(lt.specularIntensityMap)),lt.specularColorMap!==void 0&&(At.specularColorMap=_t(lt.specularColorMap)),lt.envMap!==void 0&&(At.envMap=_t(lt.envMap)),lt.envMapIntensity!==void 0&&(At.envMapIntensity=lt.envMapIntensity),lt.reflectivity!==void 0&&(At.reflectivity=lt.reflectivity),lt.refractionRatio!==void 0&&(At.refractionRatio=lt.refractionRatio),lt.lightMap!==void 0&&(At.lightMap=_t(lt.lightMap)),lt.lightMapIntensity!==void 0&&(At.lightMapIntensity=lt.lightMapIntensity),lt.aoMap!==void 0&&(At.aoMap=_t(lt.aoMap)),lt.aoMapIntensity!==void 0&&(At.aoMapIntensity=lt.aoMapIntensity),lt.gradientMap!==void 0&&(At.gradientMap=_t(lt.gradientMap)),lt.clearcoatMap!==void 0&&(At.clearcoatMap=_t(lt.clearcoatMap)),lt.clearcoatRoughnessMap!==void 0&&(At.clearcoatRoughnessMap=_t(lt.clearcoatRoughnessMap)),lt.clearcoatNormalMap!==void 0&&(At.clearcoatNormalMap=_t(lt.clearcoatNormalMap)),lt.clearcoatNormalScale!==void 0&&(At.clearcoatNormalScale=new Vector2().fromArray(lt.clearcoatNormalScale)),lt.iridescenceMap!==void 0&&(At.iridescenceMap=_t(lt.iridescenceMap)),lt.iridescenceThicknessMap!==void 0&&(At.iridescenceThicknessMap=_t(lt.iridescenceThicknessMap)),lt.transmissionMap!==void 0&&(At.transmissionMap=_t(lt.transmissionMap)),lt.thicknessMap!==void 0&&(At.thicknessMap=_t(lt.thicknessMap)),lt.anisotropyMap!==void 0&&(At.anisotropyMap=_t(lt.anisotropyMap)),lt.sheenColorMap!==void 0&&(At.sheenColorMap=_t(lt.sheenColorMap)),lt.sheenRoughnessMap!==void 0&&(At.sheenRoughnessMap=_t(lt.sheenRoughnessMap)),At}setTextures(lt){return this.textures=lt,this}static createMaterialFromType(lt){const ht={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material};return new ht[lt]}}class LoaderUtils{static decodeText(lt){if(typeof TextDecoder<"u")return new TextDecoder().decode(lt);let ht="";for(let _t=0,At=lt.length;_t<At;_t++)ht+=String.fromCharCode(lt[_t]);try{return decodeURIComponent(escape(ht))}catch{return ht}}static extractUrlBase(lt){const ht=lt.lastIndexOf("/");return ht===-1?"./":lt.slice(0,ht+1)}static resolveURL(lt,ht){return typeof lt!="string"||lt===""?"":(/^https?:\/\//i.test(ht)&&/^\//.test(lt)&&(ht=ht.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(lt)||/^data:.*,.*$/i.test(lt)||/^blob:.*$/i.test(lt)?lt:ht+lt)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(lt){return super.copy(lt),this.instanceCount=lt.instanceCount,this}toJSON(){const lt=super.toJSON();return lt.instanceCount=this.instanceCount,lt.isInstancedBufferGeometry=!0,lt}}class BufferGeometryLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=new FileLoader(qt.manager);Zt.setPath(qt.path),Zt.setRequestHeader(qt.requestHeader),Zt.setWithCredentials(qt.withCredentials),Zt.load(lt,function(cr){try{ht(qt.parse(JSON.parse(cr)))}catch(Gr){At?At(Gr):console.error(Gr),qt.manager.itemError(lt)}},_t,At)}parse(lt){const ht={},_t={};function At(ls,cs){if(ht[cs]!==void 0)return ht[cs];const ep=ls.interleavedBuffers[cs],Al=qt(ls,ep.buffer),np=getTypedArray(ep.type,Al),cp=new InterleavedBuffer(np,ep.stride);return cp.uuid=ep.uuid,ht[cs]=cp,cp}function qt(ls,cs){if(_t[cs]!==void 0)return _t[cs];const ep=ls.arrayBuffers[cs],Al=new Uint32Array(ep).buffer;return _t[cs]=Al,Al}const Zt=lt.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,cr=lt.data.index;if(cr!==void 0){const ls=getTypedArray(cr.type,cr.array);Zt.setIndex(new BufferAttribute(ls,1))}const Gr=lt.data.attributes;for(const ls in Gr){const cs=Gr[ls];let wl;if(cs.isInterleavedBufferAttribute){const ep=At(lt.data,cs.data);wl=new InterleavedBufferAttribute(ep,cs.itemSize,cs.offset,cs.normalized)}else{const ep=getTypedArray(cs.type,cs.array),Al=cs.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;wl=new Al(ep,cs.itemSize,cs.normalized)}cs.name!==void 0&&(wl.name=cs.name),cs.usage!==void 0&&wl.setUsage(cs.usage),cs.updateRange!==void 0&&(wl.updateRange.offset=cs.updateRange.offset,wl.updateRange.count=cs.updateRange.count),Zt.setAttribute(ls,wl)}const Zr=lt.data.morphAttributes;if(Zr)for(const ls in Zr){const cs=Zr[ls],wl=[];for(let ep=0,Al=cs.length;ep<Al;ep++){const np=cs[ep];let cp;if(np.isInterleavedBufferAttribute){const Cp=At(lt.data,np.data);cp=new InterleavedBufferAttribute(Cp,np.itemSize,np.offset,np.normalized)}else{const Cp=getTypedArray(np.type,np.array);cp=new BufferAttribute(Cp,np.itemSize,np.normalized)}np.name!==void 0&&(cp.name=np.name),wl.push(cp)}Zt.morphAttributes[ls]=wl}lt.data.morphTargetsRelative&&(Zt.morphTargetsRelative=!0);const On=lt.data.groups||lt.data.drawcalls||lt.data.offsets;if(On!==void 0)for(let ls=0,cs=On.length;ls!==cs;++ls){const wl=On[ls];Zt.addGroup(wl.start,wl.count,wl.materialIndex)}const ss=lt.data.boundingSphere;if(ss!==void 0){const ls=new Vector3;ss.center!==void 0&&ls.fromArray(ss.center),Zt.boundingSphere=new Sphere(ls,ss.radius)}return lt.name&&(Zt.name=lt.name),lt.userData&&(Zt.userData=lt.userData),Zt}}class ObjectLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||Zt;const cr=new FileLoader(this.manager);cr.setPath(this.path),cr.setRequestHeader(this.requestHeader),cr.setWithCredentials(this.withCredentials),cr.load(lt,function(Gr){let Zr=null;try{Zr=JSON.parse(Gr)}catch(On){At!==void 0&&At(On),console.error("THREE:ObjectLoader: Can't parse "+lt+".",On.message);return}const xn=Zr.metadata;if(xn===void 0||xn.type===void 0||xn.type.toLowerCase()==="geometry"){At!==void 0&&At(new Error("THREE.ObjectLoader: Can't load "+lt)),console.error("THREE.ObjectLoader: Can't load "+lt);return}qt.parse(Zr,ht)},_t,At)}async loadAsync(lt,ht){const _t=this,At=this.path===""?LoaderUtils.extractUrlBase(lt):this.path;this.resourcePath=this.resourcePath||At;const qt=new FileLoader(this.manager);qt.setPath(this.path),qt.setRequestHeader(this.requestHeader),qt.setWithCredentials(this.withCredentials);const Zt=await qt.loadAsync(lt,ht),cr=JSON.parse(Zt),Gr=cr.metadata;if(Gr===void 0||Gr.type===void 0||Gr.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+lt);return await _t.parseAsync(cr)}parse(lt,ht){const _t=this.parseAnimations(lt.animations),At=this.parseShapes(lt.shapes),qt=this.parseGeometries(lt.geometries,At),Zt=this.parseImages(lt.images,function(){ht!==void 0&&ht(Zr)}),cr=this.parseTextures(lt.textures,Zt),Gr=this.parseMaterials(lt.materials,cr),Zr=this.parseObject(lt.object,qt,Gr,cr,_t),xn=this.parseSkeletons(lt.skeletons,Zr);if(this.bindSkeletons(Zr,xn),ht!==void 0){let On=!1;for(const ss in Zt)if(Zt[ss].data instanceof HTMLImageElement){On=!0;break}On===!1&&ht(Zr)}return Zr}async parseAsync(lt){const ht=this.parseAnimations(lt.animations),_t=this.parseShapes(lt.shapes),At=this.parseGeometries(lt.geometries,_t),qt=await this.parseImagesAsync(lt.images),Zt=this.parseTextures(lt.textures,qt),cr=this.parseMaterials(lt.materials,Zt),Gr=this.parseObject(lt.object,At,cr,Zt,ht),Zr=this.parseSkeletons(lt.skeletons,Gr);return this.bindSkeletons(Gr,Zr),Gr}parseShapes(lt){const ht={};if(lt!==void 0)for(let _t=0,At=lt.length;_t<At;_t++){const qt=new Shape().fromJSON(lt[_t]);ht[qt.uuid]=qt}return ht}parseSkeletons(lt,ht){const _t={},At={};if(ht.traverse(function(qt){qt.isBone&&(At[qt.uuid]=qt)}),lt!==void 0)for(let qt=0,Zt=lt.length;qt<Zt;qt++){const cr=new Skeleton().fromJSON(lt[qt],At);_t[cr.uuid]=cr}return _t}parseGeometries(lt,ht){const _t={};if(lt!==void 0){const At=new BufferGeometryLoader;for(let qt=0,Zt=lt.length;qt<Zt;qt++){let cr;const Gr=lt[qt];switch(Gr.type){case"BufferGeometry":case"InstancedBufferGeometry":cr=At.parse(Gr);break;default:Gr.type in Geometries?cr=Geometries[Gr.type].fromJSON(Gr,ht):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${Gr.type}"`)}cr.uuid=Gr.uuid,Gr.name!==void 0&&(cr.name=Gr.name),Gr.userData!==void 0&&(cr.userData=Gr.userData),_t[Gr.uuid]=cr}}return _t}parseMaterials(lt,ht){const _t={},At={};if(lt!==void 0){const qt=new MaterialLoader;qt.setTextures(ht);for(let Zt=0,cr=lt.length;Zt<cr;Zt++){const Gr=lt[Zt];_t[Gr.uuid]===void 0&&(_t[Gr.uuid]=qt.parse(Gr)),At[Gr.uuid]=_t[Gr.uuid]}}return At}parseAnimations(lt){const ht={};if(lt!==void 0)for(let _t=0;_t<lt.length;_t++){const At=lt[_t],qt=AnimationClip.parse(At);ht[qt.uuid]=qt}return ht}parseImages(lt,ht){const _t=this,At={};let qt;function Zt(Gr){return _t.manager.itemStart(Gr),qt.load(Gr,function(){_t.manager.itemEnd(Gr)},void 0,function(){_t.manager.itemError(Gr),_t.manager.itemEnd(Gr)})}function cr(Gr){if(typeof Gr=="string"){const Zr=Gr,xn=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(Zr)?Zr:_t.resourcePath+Zr;return Zt(xn)}else return Gr.data?{data:getTypedArray(Gr.type,Gr.data),width:Gr.width,height:Gr.height}:null}if(lt!==void 0&&lt.length>0){const Gr=new LoadingManager(ht);qt=new ImageLoader(Gr),qt.setCrossOrigin(this.crossOrigin);for(let Zr=0,xn=lt.length;Zr<xn;Zr++){const On=lt[Zr],ss=On.url;if(Array.isArray(ss)){const ls=[];for(let cs=0,wl=ss.length;cs<wl;cs++){const ep=ss[cs],Al=cr(ep);Al!==null&&(Al instanceof HTMLImageElement?ls.push(Al):ls.push(new DataTexture(Al.data,Al.width,Al.height)))}At[On.uuid]=new Source(ls)}else{const ls=cr(On.url);At[On.uuid]=new Source(ls)}}}return At}async parseImagesAsync(lt){const ht=this,_t={};let At;async function qt(Zt){if(typeof Zt=="string"){const cr=Zt,Gr=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(cr)?cr:ht.resourcePath+cr;return await At.loadAsync(Gr)}else return Zt.data?{data:getTypedArray(Zt.type,Zt.data),width:Zt.width,height:Zt.height}:null}if(lt!==void 0&&lt.length>0){At=new ImageLoader(this.manager),At.setCrossOrigin(this.crossOrigin);for(let Zt=0,cr=lt.length;Zt<cr;Zt++){const Gr=lt[Zt],Zr=Gr.url;if(Array.isArray(Zr)){const xn=[];for(let On=0,ss=Zr.length;On<ss;On++){const ls=Zr[On],cs=await qt(ls);cs!==null&&(cs instanceof HTMLImageElement?xn.push(cs):xn.push(new DataTexture(cs.data,cs.width,cs.height)))}_t[Gr.uuid]=new Source(xn)}else{const xn=await qt(Gr.url);_t[Gr.uuid]=new Source(xn)}}}return _t}parseTextures(lt,ht){function _t(qt,Zt){return typeof qt=="number"?qt:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",qt),Zt[qt])}const At={};if(lt!==void 0)for(let qt=0,Zt=lt.length;qt<Zt;qt++){const cr=lt[qt];cr.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',cr.uuid),ht[cr.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",cr.image);const Gr=ht[cr.image],Zr=Gr.data;let xn;Array.isArray(Zr)?(xn=new CubeTexture,Zr.length===6&&(xn.needsUpdate=!0)):(Zr&&Zr.data?xn=new DataTexture:xn=new Texture,Zr&&(xn.needsUpdate=!0)),xn.source=Gr,xn.uuid=cr.uuid,cr.name!==void 0&&(xn.name=cr.name),cr.mapping!==void 0&&(xn.mapping=_t(cr.mapping,TEXTURE_MAPPING)),cr.channel!==void 0&&(xn.channel=cr.channel),cr.offset!==void 0&&xn.offset.fromArray(cr.offset),cr.repeat!==void 0&&xn.repeat.fromArray(cr.repeat),cr.center!==void 0&&xn.center.fromArray(cr.center),cr.rotation!==void 0&&(xn.rotation=cr.rotation),cr.wrap!==void 0&&(xn.wrapS=_t(cr.wrap[0],TEXTURE_WRAPPING),xn.wrapT=_t(cr.wrap[1],TEXTURE_WRAPPING)),cr.format!==void 0&&(xn.format=cr.format),cr.internalFormat!==void 0&&(xn.internalFormat=cr.internalFormat),cr.type!==void 0&&(xn.type=cr.type),cr.colorSpace!==void 0&&(xn.colorSpace=cr.colorSpace),cr.encoding!==void 0&&(xn.encoding=cr.encoding),cr.minFilter!==void 0&&(xn.minFilter=_t(cr.minFilter,TEXTURE_FILTER)),cr.magFilter!==void 0&&(xn.magFilter=_t(cr.magFilter,TEXTURE_FILTER)),cr.anisotropy!==void 0&&(xn.anisotropy=cr.anisotropy),cr.flipY!==void 0&&(xn.flipY=cr.flipY),cr.generateMipmaps!==void 0&&(xn.generateMipmaps=cr.generateMipmaps),cr.premultiplyAlpha!==void 0&&(xn.premultiplyAlpha=cr.premultiplyAlpha),cr.unpackAlignment!==void 0&&(xn.unpackAlignment=cr.unpackAlignment),cr.compareFunction!==void 0&&(xn.compareFunction=cr.compareFunction),cr.userData!==void 0&&(xn.userData=cr.userData),At[cr.uuid]=xn}return At}parseObject(lt,ht,_t,At,qt){let Zt;function cr(ss){return ht[ss]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ss),ht[ss]}function Gr(ss){if(ss!==void 0){if(Array.isArray(ss)){const ls=[];for(let cs=0,wl=ss.length;cs<wl;cs++){const ep=ss[cs];_t[ep]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ep),ls.push(_t[ep])}return ls}return _t[ss]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ss),_t[ss]}}function Zr(ss){return At[ss]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ss),At[ss]}let xn,On;switch(lt.type){case"Scene":Zt=new Scene,lt.background!==void 0&&(Number.isInteger(lt.background)?Zt.background=new Color(lt.background):Zt.background=Zr(lt.background)),lt.environment!==void 0&&(Zt.environment=Zr(lt.environment)),lt.fog!==void 0&&(lt.fog.type==="Fog"?Zt.fog=new Fog(lt.fog.color,lt.fog.near,lt.fog.far):lt.fog.type==="FogExp2"&&(Zt.fog=new FogExp2(lt.fog.color,lt.fog.density)),lt.fog.name!==""&&(Zt.fog.name=lt.fog.name)),lt.backgroundBlurriness!==void 0&&(Zt.backgroundBlurriness=lt.backgroundBlurriness),lt.backgroundIntensity!==void 0&&(Zt.backgroundIntensity=lt.backgroundIntensity);break;case"PerspectiveCamera":Zt=new PerspectiveCamera(lt.fov,lt.aspect,lt.near,lt.far),lt.focus!==void 0&&(Zt.focus=lt.focus),lt.zoom!==void 0&&(Zt.zoom=lt.zoom),lt.filmGauge!==void 0&&(Zt.filmGauge=lt.filmGauge),lt.filmOffset!==void 0&&(Zt.filmOffset=lt.filmOffset),lt.view!==void 0&&(Zt.view=Object.assign({},lt.view));break;case"OrthographicCamera":Zt=new OrthographicCamera(lt.left,lt.right,lt.top,lt.bottom,lt.near,lt.far),lt.zoom!==void 0&&(Zt.zoom=lt.zoom),lt.view!==void 0&&(Zt.view=Object.assign({},lt.view));break;case"AmbientLight":Zt=new AmbientLight(lt.color,lt.intensity);break;case"DirectionalLight":Zt=new DirectionalLight(lt.color,lt.intensity);break;case"PointLight":Zt=new PointLight(lt.color,lt.intensity,lt.distance,lt.decay);break;case"RectAreaLight":Zt=new RectAreaLight(lt.color,lt.intensity,lt.width,lt.height);break;case"SpotLight":Zt=new SpotLight(lt.color,lt.intensity,lt.distance,lt.angle,lt.penumbra,lt.decay);break;case"HemisphereLight":Zt=new HemisphereLight(lt.color,lt.groundColor,lt.intensity);break;case"LightProbe":Zt=new LightProbe().fromJSON(lt);break;case"SkinnedMesh":xn=cr(lt.geometry),On=Gr(lt.material),Zt=new SkinnedMesh(xn,On),lt.bindMode!==void 0&&(Zt.bindMode=lt.bindMode),lt.bindMatrix!==void 0&&Zt.bindMatrix.fromArray(lt.bindMatrix),lt.skeleton!==void 0&&(Zt.skeleton=lt.skeleton);break;case"Mesh":xn=cr(lt.geometry),On=Gr(lt.material),Zt=new Mesh(xn,On);break;case"InstancedMesh":xn=cr(lt.geometry),On=Gr(lt.material);const ss=lt.count,ls=lt.instanceMatrix,cs=lt.instanceColor;Zt=new InstancedMesh(xn,On,ss),Zt.instanceMatrix=new InstancedBufferAttribute(new Float32Array(ls.array),16),cs!==void 0&&(Zt.instanceColor=new InstancedBufferAttribute(new Float32Array(cs.array),cs.itemSize));break;case"LOD":Zt=new LOD;break;case"Line":Zt=new Line(cr(lt.geometry),Gr(lt.material));break;case"LineLoop":Zt=new LineLoop(cr(lt.geometry),Gr(lt.material));break;case"LineSegments":Zt=new LineSegments(cr(lt.geometry),Gr(lt.material));break;case"PointCloud":case"Points":Zt=new Points(cr(lt.geometry),Gr(lt.material));break;case"Sprite":Zt=new Sprite(Gr(lt.material));break;case"Group":Zt=new Group;break;case"Bone":Zt=new Bone;break;default:Zt=new Object3D}if(Zt.uuid=lt.uuid,lt.name!==void 0&&(Zt.name=lt.name),lt.matrix!==void 0?(Zt.matrix.fromArray(lt.matrix),lt.matrixAutoUpdate!==void 0&&(Zt.matrixAutoUpdate=lt.matrixAutoUpdate),Zt.matrixAutoUpdate&&Zt.matrix.decompose(Zt.position,Zt.quaternion,Zt.scale)):(lt.position!==void 0&&Zt.position.fromArray(lt.position),lt.rotation!==void 0&&Zt.rotation.fromArray(lt.rotation),lt.quaternion!==void 0&&Zt.quaternion.fromArray(lt.quaternion),lt.scale!==void 0&&Zt.scale.fromArray(lt.scale)),lt.up!==void 0&&Zt.up.fromArray(lt.up),lt.castShadow!==void 0&&(Zt.castShadow=lt.castShadow),lt.receiveShadow!==void 0&&(Zt.receiveShadow=lt.receiveShadow),lt.shadow&&(lt.shadow.bias!==void 0&&(Zt.shadow.bias=lt.shadow.bias),lt.shadow.normalBias!==void 0&&(Zt.shadow.normalBias=lt.shadow.normalBias),lt.shadow.radius!==void 0&&(Zt.shadow.radius=lt.shadow.radius),lt.shadow.mapSize!==void 0&&Zt.shadow.mapSize.fromArray(lt.shadow.mapSize),lt.shadow.camera!==void 0&&(Zt.shadow.camera=this.parseObject(lt.shadow.camera))),lt.visible!==void 0&&(Zt.visible=lt.visible),lt.frustumCulled!==void 0&&(Zt.frustumCulled=lt.frustumCulled),lt.renderOrder!==void 0&&(Zt.renderOrder=lt.renderOrder),lt.userData!==void 0&&(Zt.userData=lt.userData),lt.layers!==void 0&&(Zt.layers.mask=lt.layers),lt.children!==void 0){const ss=lt.children;for(let ls=0;ls<ss.length;ls++)Zt.add(this.parseObject(ss[ls],ht,_t,At,qt))}if(lt.animations!==void 0){const ss=lt.animations;for(let ls=0;ls<ss.length;ls++){const cs=ss[ls];Zt.animations.push(qt[cs])}}if(lt.type==="LOD"){lt.autoUpdate!==void 0&&(Zt.autoUpdate=lt.autoUpdate);const ss=lt.levels;for(let ls=0;ls<ss.length;ls++){const cs=ss[ls],wl=Zt.getObjectByProperty("uuid",cs.object);wl!==void 0&&Zt.addLevel(wl,cs.distance,cs.hysteresis)}}return Zt}bindSkeletons(lt,ht){Object.keys(ht).length!==0&&lt.traverse(function(_t){if(_t.isSkinnedMesh===!0&&_t.skeleton!==void 0){const At=ht[_t.skeleton];At===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",_t.skeleton):_t.bind(At,_t.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader$1{constructor(lt){super(lt),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(lt){return this.options=lt,this}load(lt,ht,_t,At){lt===void 0&&(lt=""),this.path!==void 0&&(lt=this.path+lt),lt=this.manager.resolveURL(lt);const qt=this,Zt=Cache.get(lt);if(Zt!==void 0)return qt.manager.itemStart(lt),setTimeout(function(){ht&&ht(Zt),qt.manager.itemEnd(lt)},0),Zt;const cr={};cr.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",cr.headers=this.requestHeader,fetch(lt,cr).then(function(Gr){return Gr.blob()}).then(function(Gr){return createImageBitmap(Gr,Object.assign(qt.options,{colorSpaceConversion:"none"}))}).then(function(Gr){Cache.add(lt,Gr),ht&&ht(Gr),qt.manager.itemEnd(lt)}).catch(function(Gr){At&&At(Gr),qt.manager.itemError(lt),qt.manager.itemEnd(lt)}),qt.manager.itemStart(lt)}}let _context;class AudioContext{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(lt){_context=lt}}class AudioLoader extends Loader$1{constructor(lt){super(lt)}load(lt,ht,_t,At){const qt=this,Zt=new FileLoader(this.manager);Zt.setResponseType("arraybuffer"),Zt.setPath(this.path),Zt.setRequestHeader(this.requestHeader),Zt.setWithCredentials(this.withCredentials),Zt.load(lt,function(Gr){try{const Zr=Gr.slice(0);AudioContext.getContext().decodeAudioData(Zr,function(On){ht(On)},cr)}catch(Zr){cr(Zr)}},_t,At);function cr(Gr){At?At(Gr):console.error(Gr),qt.manager.itemError(lt)}}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(lt){const ht=this._cache;if(ht.focus!==lt.focus||ht.fov!==lt.fov||ht.aspect!==lt.aspect*this.aspect||ht.near!==lt.near||ht.far!==lt.far||ht.zoom!==lt.zoom||ht.eyeSep!==this.eyeSep){ht.focus=lt.focus,ht.fov=lt.fov,ht.aspect=lt.aspect*this.aspect,ht.near=lt.near,ht.far=lt.far,ht.zoom=lt.zoom,ht.eyeSep=this.eyeSep,_projectionMatrix.copy(lt.projectionMatrix);const At=ht.eyeSep/2,qt=At*ht.near/ht.focus,Zt=ht.near*Math.tan(DEG2RAD*ht.fov*.5)/ht.zoom;let cr,Gr;_eyeLeft.elements[12]=-At,_eyeRight.elements[12]=At,cr=-Zt*ht.aspect+qt,Gr=Zt*ht.aspect+qt,_projectionMatrix.elements[0]=2*ht.near/(Gr-cr),_projectionMatrix.elements[8]=(Gr+cr)/(Gr-cr),this.cameraL.projectionMatrix.copy(_projectionMatrix),cr=-Zt*ht.aspect-qt,Gr=Zt*ht.aspect-qt,_projectionMatrix.elements[0]=2*ht.near/(Gr-cr),_projectionMatrix.elements[8]=(Gr+cr)/(Gr-cr),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(lt.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(lt.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(lt=!0){this.autoStart=lt,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let lt=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const ht=now$2();lt=(ht-this.oldTime)/1e3,this.oldTime=ht,this.elapsedTime+=lt}return lt}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(lt){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=lt,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}updateMatrixWorld(lt){super.updateMatrixWorld(lt);const ht=this.context.listener,_t=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),ht.positionX){const At=this.context.currentTime+this.timeDelta;ht.positionX.linearRampToValueAtTime(_position$1.x,At),ht.positionY.linearRampToValueAtTime(_position$1.y,At),ht.positionZ.linearRampToValueAtTime(_position$1.z,At),ht.forwardX.linearRampToValueAtTime(_orientation$1.x,At),ht.forwardY.linearRampToValueAtTime(_orientation$1.y,At),ht.forwardZ.linearRampToValueAtTime(_orientation$1.z,At),ht.upX.linearRampToValueAtTime(_t.x,At),ht.upY.linearRampToValueAtTime(_t.y,At),ht.upZ.linearRampToValueAtTime(_t.z,At)}else ht.setPosition(_position$1.x,_position$1.y,_position$1.z),ht.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,_t.x,_t.y,_t.z)}}let Audio$1=class extends Object3D{constructor(lt){super(),this.type="Audio",this.listener=lt,this.context=lt.context,this.gain=this.context.createGain(),this.gain.connect(lt.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(lt){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=lt,this.connect(),this}setMediaElementSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(lt),this.connect(),this}setMediaStreamSource(lt){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(lt),this.connect(),this}setBuffer(lt){return this.buffer=lt,this.sourceType="buffer",this.autoplay&&this.play(),this}play(lt=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+lt;const ht=this.context.createBufferSource();return ht.buffer=this.buffer,ht.loop=this.loop,ht.loopStart=this.loopStart,ht.loopEnd=this.loopEnd,ht.onended=this.onEnded.bind(this),ht.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=ht,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let lt=1,ht=this.filters.length;lt<ht;lt++)this.filters[lt-1].connect(this.filters[lt]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let lt=1,ht=this.filters.length;lt<ht;lt++)this.filters[lt-1].disconnect(this.filters[lt]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(lt){return lt||(lt=[]),this._connected===!0?(this.disconnect(),this.filters=lt.slice(),this.connect()):this.filters=lt.slice(),this}setDetune(lt){if(this.detune=lt,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(lt){return this.setFilters(lt?[lt]:[])}setPlaybackRate(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=lt,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(lt){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=lt,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(lt){return this.loopStart=lt,this}setLoopEnd(lt){return this.loopEnd=lt,this}getVolume(){return this.gain.gain.value}setVolume(lt){return this.gain.gain.setTargetAtTime(lt,this.context.currentTime,.01),this}};const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio$1{constructor(lt){super(lt),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(lt){return this.panner.refDistance=lt,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(lt){return this.panner.rolloffFactor=lt,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(lt){return this.panner.distanceModel=lt,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(lt){return this.panner.maxDistance=lt,this}setDirectionalCone(lt,ht,_t){return this.panner.coneInnerAngle=lt,this.panner.coneOuterAngle=ht,this.panner.coneOuterGain=_t,this}updateMatrixWorld(lt){if(super.updateMatrixWorld(lt),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const ht=this.panner;if(ht.positionX){const _t=this.context.currentTime+this.listener.timeDelta;ht.positionX.linearRampToValueAtTime(_position.x,_t),ht.positionY.linearRampToValueAtTime(_position.y,_t),ht.positionZ.linearRampToValueAtTime(_position.z,_t),ht.orientationX.linearRampToValueAtTime(_orientation.x,_t),ht.orientationY.linearRampToValueAtTime(_orientation.y,_t),ht.orientationZ.linearRampToValueAtTime(_orientation.z,_t)}else ht.setPosition(_position.x,_position.y,_position.z),ht.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(lt,ht=2048){this.analyser=lt.context.createAnalyser(),this.analyser.fftSize=ht,this.data=new Uint8Array(this.analyser.frequencyBinCount),lt.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let lt=0;const ht=this.getFrequencyData();for(let _t=0;_t<ht.length;_t++)lt+=ht[_t];return lt/ht.length}}class PropertyMixer{constructor(lt,ht,_t){this.binding=lt,this.valueSize=_t;let At,qt,Zt;switch(ht){case"quaternion":At=this._slerp,qt=this._slerpAdditive,Zt=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(_t*6),this._workIndex=5;break;case"string":case"bool":At=this._select,qt=this._select,Zt=this._setAdditiveIdentityOther,this.buffer=new Array(_t*5);break;default:At=this._lerp,qt=this._lerpAdditive,Zt=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(_t*5)}this._mixBufferRegion=At,this._mixBufferRegionAdditive=qt,this._setIdentity=Zt,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(lt,ht){const _t=this.buffer,At=this.valueSize,qt=lt*At+At;let Zt=this.cumulativeWeight;if(Zt===0){for(let cr=0;cr!==At;++cr)_t[qt+cr]=_t[cr];Zt=ht}else{Zt+=ht;const cr=ht/Zt;this._mixBufferRegion(_t,qt,0,cr,At)}this.cumulativeWeight=Zt}accumulateAdditive(lt){const ht=this.buffer,_t=this.valueSize,At=_t*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(ht,At,0,lt,_t),this.cumulativeWeightAdditive+=lt}apply(lt){const ht=this.valueSize,_t=this.buffer,At=lt*ht+ht,qt=this.cumulativeWeight,Zt=this.cumulativeWeightAdditive,cr=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,qt<1){const Gr=ht*this._origIndex;this._mixBufferRegion(_t,At,Gr,1-qt,ht)}Zt>0&&this._mixBufferRegionAdditive(_t,At,this._addIndex*ht,1,ht);for(let Gr=ht,Zr=ht+ht;Gr!==Zr;++Gr)if(_t[Gr]!==_t[Gr+ht]){cr.setValue(_t,At);break}}saveOriginalState(){const lt=this.binding,ht=this.buffer,_t=this.valueSize,At=_t*this._origIndex;lt.getValue(ht,At);for(let qt=_t,Zt=At;qt!==Zt;++qt)ht[qt]=ht[At+qt%_t];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const lt=this.valueSize*3;this.binding.setValue(this.buffer,lt)}_setAdditiveIdentityNumeric(){const lt=this._addIndex*this.valueSize,ht=lt+this.valueSize;for(let _t=lt;_t<ht;_t++)this.buffer[_t]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const lt=this._origIndex*this.valueSize,ht=this._addIndex*this.valueSize;for(let _t=0;_t<this.valueSize;_t++)this.buffer[ht+_t]=this.buffer[lt+_t]}_select(lt,ht,_t,At,qt){if(At>=.5)for(let Zt=0;Zt!==qt;++Zt)lt[ht+Zt]=lt[_t+Zt]}_slerp(lt,ht,_t,At){Quaternion.slerpFlat(lt,ht,lt,ht,lt,_t,At)}_slerpAdditive(lt,ht,_t,At,qt){const Zt=this._workIndex*qt;Quaternion.multiplyQuaternionsFlat(lt,Zt,lt,ht,lt,_t),Quaternion.slerpFlat(lt,ht,lt,ht,lt,Zt,At)}_lerp(lt,ht,_t,At,qt){const Zt=1-At;for(let cr=0;cr!==qt;++cr){const Gr=ht+cr;lt[Gr]=lt[Gr]*Zt+lt[_t+cr]*At}}_lerpAdditive(lt,ht,_t,At,qt){for(let Zt=0;Zt!==qt;++Zt){const cr=ht+Zt;lt[cr]=lt[cr]+lt[_t+Zt]*At}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(lt,ht,_t){const At=_t||PropertyBinding.parseTrackName(ht);this._targetGroup=lt,this._bindings=lt.subscribe_(ht,At)}getValue(lt,ht){this.bind();const _t=this._targetGroup.nCachedObjects_,At=this._bindings[_t];At!==void 0&&At.getValue(lt,ht)}setValue(lt,ht){const _t=this._bindings;for(let At=this._targetGroup.nCachedObjects_,qt=_t.length;At!==qt;++At)_t[At].setValue(lt,ht)}bind(){const lt=this._bindings;for(let ht=this._targetGroup.nCachedObjects_,_t=lt.length;ht!==_t;++ht)lt[ht].bind()}unbind(){const lt=this._bindings;for(let ht=this._targetGroup.nCachedObjects_,_t=lt.length;ht!==_t;++ht)lt[ht].unbind()}}class PropertyBinding{constructor(lt,ht,_t){this.path=ht,this.parsedPath=_t||PropertyBinding.parseTrackName(ht),this.node=PropertyBinding.findNode(lt,this.parsedPath.nodeName),this.rootNode=lt,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(lt,ht,_t){return lt&&lt.isAnimationObjectGroup?new PropertyBinding.Composite(lt,ht,_t):new PropertyBinding(lt,ht,_t)}static sanitizeNodeName(lt){return lt.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(lt){const ht=_trackRe.exec(lt);if(ht===null)throw new Error("PropertyBinding: Cannot parse trackName: "+lt);const _t={nodeName:ht[2],objectName:ht[3],objectIndex:ht[4],propertyName:ht[5],propertyIndex:ht[6]},At=_t.nodeName&&_t.nodeName.lastIndexOf(".");if(At!==void 0&&At!==-1){const qt=_t.nodeName.substring(At+1);_supportedObjectNames.indexOf(qt)!==-1&&(_t.nodeName=_t.nodeName.substring(0,At),_t.objectName=qt)}if(_t.propertyName===null||_t.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+lt);return _t}static findNode(lt,ht){if(ht===void 0||ht===""||ht==="."||ht===-1||ht===lt.name||ht===lt.uuid)return lt;if(lt.skeleton){const _t=lt.skeleton.getBoneByName(ht);if(_t!==void 0)return _t}if(lt.children){const _t=function(qt){for(let Zt=0;Zt<qt.length;Zt++){const cr=qt[Zt];if(cr.name===ht||cr.uuid===ht)return cr;const Gr=_t(cr.children);if(Gr)return Gr}return null},At=_t(lt.children);if(At)return At}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(lt,ht){lt[ht]=this.targetObject[this.propertyName]}_getValue_array(lt,ht){const _t=this.resolvedProperty;for(let At=0,qt=_t.length;At!==qt;++At)lt[ht++]=_t[At]}_getValue_arrayElement(lt,ht){lt[ht]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(lt,ht){this.resolvedProperty.toArray(lt,ht)}_setValue_direct(lt,ht){this.targetObject[this.propertyName]=lt[ht]}_setValue_direct_setNeedsUpdate(lt,ht){this.targetObject[this.propertyName]=lt[ht],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(lt,ht){this.targetObject[this.propertyName]=lt[ht],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(lt,ht){const _t=this.resolvedProperty;for(let At=0,qt=_t.length;At!==qt;++At)_t[At]=lt[ht++]}_setValue_array_setNeedsUpdate(lt,ht){const _t=this.resolvedProperty;for(let At=0,qt=_t.length;At!==qt;++At)_t[At]=lt[ht++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(lt,ht){const _t=this.resolvedProperty;for(let At=0,qt=_t.length;At!==qt;++At)_t[At]=lt[ht++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(lt,ht){this.resolvedProperty[this.propertyIndex]=lt[ht]}_setValue_arrayElement_setNeedsUpdate(lt,ht){this.resolvedProperty[this.propertyIndex]=lt[ht],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(lt,ht){this.resolvedProperty[this.propertyIndex]=lt[ht],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(lt,ht){this.resolvedProperty.fromArray(lt,ht)}_setValue_fromArray_setNeedsUpdate(lt,ht){this.resolvedProperty.fromArray(lt,ht),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(lt,ht){this.resolvedProperty.fromArray(lt,ht),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(lt,ht){this.bind(),this.getValue(lt,ht)}_setValue_unbound(lt,ht){this.bind(),this.setValue(lt,ht)}bind(){let lt=this.node;const ht=this.parsedPath,_t=ht.objectName,At=ht.propertyName;let qt=ht.propertyIndex;if(lt||(lt=PropertyBinding.findNode(this.rootNode,ht.nodeName),this.node=lt),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!lt){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(_t){let Zr=ht.objectIndex;switch(_t){case"materials":if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}lt=lt.material.materials;break;case"bones":if(!lt.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}lt=lt.skeleton.bones;for(let xn=0;xn<lt.length;xn++)if(lt[xn].name===Zr){Zr=xn;break}break;case"map":if("map"in lt){lt=lt.map;break}if(!lt.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!lt.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}lt=lt.material.map;break;default:if(lt[_t]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}lt=lt[_t]}if(Zr!==void 0){if(lt[Zr]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,lt);return}lt=lt[Zr]}}const Zt=lt[At];if(Zt===void 0){const Zr=ht.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Zr+"."+At+" but it wasn't found.",lt);return}let cr=this.Versioning.None;this.targetObject=lt,lt.needsUpdate!==void 0?cr=this.Versioning.NeedsUpdate:lt.matrixWorldNeedsUpdate!==void 0&&(cr=this.Versioning.MatrixWorldNeedsUpdate);let Gr=this.BindingType.Direct;if(qt!==void 0){if(At==="morphTargetInfluences"){if(!lt.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!lt.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}lt.morphTargetDictionary[qt]!==void 0&&(qt=lt.morphTargetDictionary[qt])}Gr=this.BindingType.ArrayElement,this.resolvedProperty=Zt,this.propertyIndex=qt}else Zt.fromArray!==void 0&&Zt.toArray!==void 0?(Gr=this.BindingType.HasFromToArray,this.resolvedProperty=Zt):Array.isArray(Zt)?(Gr=this.BindingType.EntireArray,this.resolvedProperty=Zt):this.propertyName=At;this.getValue=this.GetterByBindingType[Gr],this.setValue=this.SetterByBindingTypeAndVersioning[Gr][cr]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const lt={};this._indicesByUUID=lt;for(let _t=0,At=arguments.length;_t!==At;++_t)lt[arguments[_t].uuid]=_t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const ht=this;this.stats={objects:{get total(){return ht._objects.length},get inUse(){return this.total-ht.nCachedObjects_}},get bindingsPerObject(){return ht._bindings.length}}}add(){const lt=this._objects,ht=this._indicesByUUID,_t=this._paths,At=this._parsedPaths,qt=this._bindings,Zt=qt.length;let cr,Gr=lt.length,Zr=this.nCachedObjects_;for(let xn=0,On=arguments.length;xn!==On;++xn){const ss=arguments[xn],ls=ss.uuid;let cs=ht[ls];if(cs===void 0){cs=Gr++,ht[ls]=cs,lt.push(ss);for(let wl=0,ep=Zt;wl!==ep;++wl)qt[wl].push(new PropertyBinding(ss,_t[wl],At[wl]))}else if(cs<Zr){cr=lt[cs];const wl=--Zr,ep=lt[wl];ht[ep.uuid]=cs,lt[cs]=ep,ht[ls]=wl,lt[wl]=ss;for(let Al=0,np=Zt;Al!==np;++Al){const cp=qt[Al],Cp=cp[wl];let Lp=cp[cs];cp[cs]=Cp,Lp===void 0&&(Lp=new PropertyBinding(ss,_t[Al],At[Al])),cp[wl]=Lp}}else lt[cs]!==cr&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Zr}remove(){const lt=this._objects,ht=this._indicesByUUID,_t=this._bindings,At=_t.length;let qt=this.nCachedObjects_;for(let Zt=0,cr=arguments.length;Zt!==cr;++Zt){const Gr=arguments[Zt],Zr=Gr.uuid,xn=ht[Zr];if(xn!==void 0&&xn>=qt){const On=qt++,ss=lt[On];ht[ss.uuid]=xn,lt[xn]=ss,ht[Zr]=On,lt[On]=Gr;for(let ls=0,cs=At;ls!==cs;++ls){const wl=_t[ls],ep=wl[On],Al=wl[xn];wl[xn]=ep,wl[On]=Al}}}this.nCachedObjects_=qt}uncache(){const lt=this._objects,ht=this._indicesByUUID,_t=this._bindings,At=_t.length;let qt=this.nCachedObjects_,Zt=lt.length;for(let cr=0,Gr=arguments.length;cr!==Gr;++cr){const Zr=arguments[cr],xn=Zr.uuid,On=ht[xn];if(On!==void 0)if(delete ht[xn],On<qt){const ss=--qt,ls=lt[ss],cs=--Zt,wl=lt[cs];ht[ls.uuid]=On,lt[On]=ls,ht[wl.uuid]=ss,lt[ss]=wl,lt.pop();for(let ep=0,Al=At;ep!==Al;++ep){const np=_t[ep],cp=np[ss],Cp=np[cs];np[On]=cp,np[ss]=Cp,np.pop()}}else{const ss=--Zt,ls=lt[ss];ss>0&&(ht[ls.uuid]=On),lt[On]=ls,lt.pop();for(let cs=0,wl=At;cs!==wl;++cs){const ep=_t[cs];ep[On]=ep[ss],ep.pop()}}}this.nCachedObjects_=qt}subscribe_(lt,ht){const _t=this._bindingsIndicesByPath;let At=_t[lt];const qt=this._bindings;if(At!==void 0)return qt[At];const Zt=this._paths,cr=this._parsedPaths,Gr=this._objects,Zr=Gr.length,xn=this.nCachedObjects_,On=new Array(Zr);At=qt.length,_t[lt]=At,Zt.push(lt),cr.push(ht),qt.push(On);for(let ss=xn,ls=Gr.length;ss!==ls;++ss){const cs=Gr[ss];On[ss]=new PropertyBinding(cs,lt,ht)}return On}unsubscribe_(lt){const ht=this._bindingsIndicesByPath,_t=ht[lt];if(_t!==void 0){const At=this._paths,qt=this._parsedPaths,Zt=this._bindings,cr=Zt.length-1,Gr=Zt[cr],Zr=lt[cr];ht[Zr]=_t,Zt[_t]=Gr,Zt.pop(),qt[_t]=qt[cr],qt.pop(),At[_t]=At[cr],At.pop()}}}class AnimationAction{constructor(lt,ht,_t=null,At=ht.blendMode){this._mixer=lt,this._clip=ht,this._localRoot=_t,this.blendMode=At;const qt=ht.tracks,Zt=qt.length,cr=new Array(Zt),Gr={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let Zr=0;Zr!==Zt;++Zr){const xn=qt[Zr].createInterpolant(null);cr[Zr]=xn,xn.settings=Gr}this._interpolantSettings=Gr,this._interpolants=cr,this._propertyBindings=new Array(Zt),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(lt){return this._startTime=lt,this}setLoop(lt,ht){return this.loop=lt,this.repetitions=ht,this}setEffectiveWeight(lt){return this.weight=lt,this._effectiveWeight=this.enabled?lt:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(lt){return this._scheduleFading(lt,0,1)}fadeOut(lt){return this._scheduleFading(lt,1,0)}crossFadeFrom(lt,ht,_t){if(lt.fadeOut(ht),this.fadeIn(ht),_t){const At=this._clip.duration,qt=lt._clip.duration,Zt=qt/At,cr=At/qt;lt.warp(1,Zt,ht),this.warp(cr,1,ht)}return this}crossFadeTo(lt,ht,_t){return lt.crossFadeFrom(this,ht,_t)}stopFading(){const lt=this._weightInterpolant;return lt!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}setEffectiveTimeScale(lt){return this.timeScale=lt,this._effectiveTimeScale=this.paused?0:lt,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(lt){return this.timeScale=this._clip.duration/lt,this.stopWarping()}syncWith(lt){return this.time=lt.time,this.timeScale=lt.timeScale,this.stopWarping()}halt(lt){return this.warp(this._effectiveTimeScale,0,lt)}warp(lt,ht,_t){const At=this._mixer,qt=At.time,Zt=this.timeScale;let cr=this._timeScaleInterpolant;cr===null&&(cr=At._lendControlInterpolant(),this._timeScaleInterpolant=cr);const Gr=cr.parameterPositions,Zr=cr.sampleValues;return Gr[0]=qt,Gr[1]=qt+_t,Zr[0]=lt/Zt,Zr[1]=ht/Zt,this}stopWarping(){const lt=this._timeScaleInterpolant;return lt!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(lt)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(lt,ht,_t,At){if(!this.enabled){this._updateWeight(lt);return}const qt=this._startTime;if(qt!==null){const Gr=(lt-qt)*_t;Gr<0||_t===0?ht=0:(this._startTime=null,ht=_t*Gr)}ht*=this._updateTimeScale(lt);const Zt=this._updateTime(ht),cr=this._updateWeight(lt);if(cr>0){const Gr=this._interpolants,Zr=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let xn=0,On=Gr.length;xn!==On;++xn)Gr[xn].evaluate(Zt),Zr[xn].accumulateAdditive(cr);break;case NormalAnimationBlendMode:default:for(let xn=0,On=Gr.length;xn!==On;++xn)Gr[xn].evaluate(Zt),Zr[xn].accumulate(At,cr)}}}_updateWeight(lt){let ht=0;if(this.enabled){ht=this.weight;const _t=this._weightInterpolant;if(_t!==null){const At=_t.evaluate(lt)[0];ht*=At,lt>_t.parameterPositions[1]&&(this.stopFading(),At===0&&(this.enabled=!1))}}return this._effectiveWeight=ht,ht}_updateTimeScale(lt){let ht=0;if(!this.paused){ht=this.timeScale;const _t=this._timeScaleInterpolant;if(_t!==null){const At=_t.evaluate(lt)[0];ht*=At,lt>_t.parameterPositions[1]&&(this.stopWarping(),ht===0?this.paused=!0:this.timeScale=ht)}}return this._effectiveTimeScale=ht,ht}_updateTime(lt){const ht=this._clip.duration,_t=this.loop;let At=this.time+lt,qt=this._loopCount;const Zt=_t===LoopPingPong;if(lt===0)return qt===-1?At:Zt&&(qt&1)===1?ht-At:At;if(_t===LoopOnce){qt===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(At>=ht)At=ht;else if(At<0)At=0;else{this.time=At;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=At,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt<0?-1:1})}}else{if(qt===-1&&(lt>=0?(qt=0,this._setEndings(!0,this.repetitions===0,Zt)):this._setEndings(this.repetitions===0,!0,Zt)),At>=ht||At<0){const cr=Math.floor(At/ht);At-=ht*cr,qt+=Math.abs(cr);const Gr=this.repetitions-qt;if(Gr<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,At=lt>0?ht:0,this.time=At,this._mixer.dispatchEvent({type:"finished",action:this,direction:lt>0?1:-1});else{if(Gr===1){const Zr=lt<0;this._setEndings(Zr,!Zr,Zt)}else this._setEndings(!1,!1,Zt);this._loopCount=qt,this.time=At,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:cr})}}else this.time=At;if(Zt&&(qt&1)===1)return ht-At}return At}_setEndings(lt,ht,_t){const At=this._interpolantSettings;_t?(At.endingStart=ZeroSlopeEnding,At.endingEnd=ZeroSlopeEnding):(lt?At.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:At.endingStart=WrapAroundEnding,ht?At.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:At.endingEnd=WrapAroundEnding)}_scheduleFading(lt,ht,_t){const At=this._mixer,qt=At.time;let Zt=this._weightInterpolant;Zt===null&&(Zt=At._lendControlInterpolant(),this._weightInterpolant=Zt);const cr=Zt.parameterPositions,Gr=Zt.sampleValues;return cr[0]=qt,Gr[0]=ht,cr[1]=qt+lt,Gr[1]=_t,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(lt){super(),this._root=lt,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(lt,ht){const _t=lt._localRoot||this._root,At=lt._clip.tracks,qt=At.length,Zt=lt._propertyBindings,cr=lt._interpolants,Gr=_t.uuid,Zr=this._bindingsByRootAndName;let xn=Zr[Gr];xn===void 0&&(xn={},Zr[Gr]=xn);for(let On=0;On!==qt;++On){const ss=At[On],ls=ss.name;let cs=xn[ls];if(cs!==void 0)++cs.referenceCount,Zt[On]=cs;else{if(cs=Zt[On],cs!==void 0){cs._cacheIndex===null&&(++cs.referenceCount,this._addInactiveBinding(cs,Gr,ls));continue}const wl=ht&&ht._propertyBindings[On].binding.parsedPath;cs=new PropertyMixer(PropertyBinding.create(_t,ls,wl),ss.ValueTypeName,ss.getValueSize()),++cs.referenceCount,this._addInactiveBinding(cs,Gr,ls),Zt[On]=cs}cr[On].resultBuffer=cs.buffer}}_activateAction(lt){if(!this._isActiveAction(lt)){if(lt._cacheIndex===null){const _t=(lt._localRoot||this._root).uuid,At=lt._clip.uuid,qt=this._actionsByClip[At];this._bindAction(lt,qt&&qt.knownActions[0]),this._addInactiveAction(lt,At,_t)}const ht=lt._propertyBindings;for(let _t=0,At=ht.length;_t!==At;++_t){const qt=ht[_t];qt.useCount++===0&&(this._lendBinding(qt),qt.saveOriginalState())}this._lendAction(lt)}}_deactivateAction(lt){if(this._isActiveAction(lt)){const ht=lt._propertyBindings;for(let _t=0,At=ht.length;_t!==At;++_t){const qt=ht[_t];--qt.useCount===0&&(qt.restoreOriginalState(),this._takeBackBinding(qt))}this._takeBackAction(lt)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const lt=this;this.stats={actions:{get total(){return lt._actions.length},get inUse(){return lt._nActiveActions}},bindings:{get total(){return lt._bindings.length},get inUse(){return lt._nActiveBindings}},controlInterpolants:{get total(){return lt._controlInterpolants.length},get inUse(){return lt._nActiveControlInterpolants}}}}_isActiveAction(lt){const ht=lt._cacheIndex;return ht!==null&&ht<this._nActiveActions}_addInactiveAction(lt,ht,_t){const At=this._actions,qt=this._actionsByClip;let Zt=qt[ht];if(Zt===void 0)Zt={knownActions:[lt],actionByRoot:{}},lt._byClipCacheIndex=0,qt[ht]=Zt;else{const cr=Zt.knownActions;lt._byClipCacheIndex=cr.length,cr.push(lt)}lt._cacheIndex=At.length,At.push(lt),Zt.actionByRoot[_t]=lt}_removeInactiveAction(lt){const ht=this._actions,_t=ht[ht.length-1],At=lt._cacheIndex;_t._cacheIndex=At,ht[At]=_t,ht.pop(),lt._cacheIndex=null;const qt=lt._clip.uuid,Zt=this._actionsByClip,cr=Zt[qt],Gr=cr.knownActions,Zr=Gr[Gr.length-1],xn=lt._byClipCacheIndex;Zr._byClipCacheIndex=xn,Gr[xn]=Zr,Gr.pop(),lt._byClipCacheIndex=null;const On=cr.actionByRoot,ss=(lt._localRoot||this._root).uuid;delete On[ss],Gr.length===0&&delete Zt[qt],this._removeInactiveBindingsForAction(lt)}_removeInactiveBindingsForAction(lt){const ht=lt._propertyBindings;for(let _t=0,At=ht.length;_t!==At;++_t){const qt=ht[_t];--qt.referenceCount===0&&this._removeInactiveBinding(qt)}}_lendAction(lt){const ht=this._actions,_t=lt._cacheIndex,At=this._nActiveActions++,qt=ht[At];lt._cacheIndex=At,ht[At]=lt,qt._cacheIndex=_t,ht[_t]=qt}_takeBackAction(lt){const ht=this._actions,_t=lt._cacheIndex,At=--this._nActiveActions,qt=ht[At];lt._cacheIndex=At,ht[At]=lt,qt._cacheIndex=_t,ht[_t]=qt}_addInactiveBinding(lt,ht,_t){const At=this._bindingsByRootAndName,qt=this._bindings;let Zt=At[ht];Zt===void 0&&(Zt={},At[ht]=Zt),Zt[_t]=lt,lt._cacheIndex=qt.length,qt.push(lt)}_removeInactiveBinding(lt){const ht=this._bindings,_t=lt.binding,At=_t.rootNode.uuid,qt=_t.path,Zt=this._bindingsByRootAndName,cr=Zt[At],Gr=ht[ht.length-1],Zr=lt._cacheIndex;Gr._cacheIndex=Zr,ht[Zr]=Gr,ht.pop(),delete cr[qt],Object.keys(cr).length===0&&delete Zt[At]}_lendBinding(lt){const ht=this._bindings,_t=lt._cacheIndex,At=this._nActiveBindings++,qt=ht[At];lt._cacheIndex=At,ht[At]=lt,qt._cacheIndex=_t,ht[_t]=qt}_takeBackBinding(lt){const ht=this._bindings,_t=lt._cacheIndex,At=--this._nActiveBindings,qt=ht[At];lt._cacheIndex=At,ht[At]=lt,qt._cacheIndex=_t,ht[_t]=qt}_lendControlInterpolant(){const lt=this._controlInterpolants,ht=this._nActiveControlInterpolants++;let _t=lt[ht];return _t===void 0&&(_t=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),_t.__cacheIndex=ht,lt[ht]=_t),_t}_takeBackControlInterpolant(lt){const ht=this._controlInterpolants,_t=lt.__cacheIndex,At=--this._nActiveControlInterpolants,qt=ht[At];lt.__cacheIndex=At,ht[At]=lt,qt.__cacheIndex=_t,ht[_t]=qt}clipAction(lt,ht,_t){const At=ht||this._root,qt=At.uuid;let Zt=typeof lt=="string"?AnimationClip.findByName(At,lt):lt;const cr=Zt!==null?Zt.uuid:lt,Gr=this._actionsByClip[cr];let Zr=null;if(_t===void 0&&(Zt!==null?_t=Zt.blendMode:_t=NormalAnimationBlendMode),Gr!==void 0){const On=Gr.actionByRoot[qt];if(On!==void 0&&On.blendMode===_t)return On;Zr=Gr.knownActions[0],Zt===null&&(Zt=Zr._clip)}if(Zt===null)return null;const xn=new AnimationAction(this,Zt,ht,_t);return this._bindAction(xn,Zr),this._addInactiveAction(xn,cr,qt),xn}existingAction(lt,ht){const _t=ht||this._root,At=_t.uuid,qt=typeof lt=="string"?AnimationClip.findByName(_t,lt):lt,Zt=qt?qt.uuid:lt,cr=this._actionsByClip[Zt];return cr!==void 0&&cr.actionByRoot[At]||null}stopAllAction(){const lt=this._actions,ht=this._nActiveActions;for(let _t=ht-1;_t>=0;--_t)lt[_t].stop();return this}update(lt){lt*=this.timeScale;const ht=this._actions,_t=this._nActiveActions,At=this.time+=lt,qt=Math.sign(lt),Zt=this._accuIndex^=1;for(let Zr=0;Zr!==_t;++Zr)ht[Zr]._update(At,lt,qt,Zt);const cr=this._bindings,Gr=this._nActiveBindings;for(let Zr=0;Zr!==Gr;++Zr)cr[Zr].apply(Zt);return this}setTime(lt){this.time=0;for(let ht=0;ht<this._actions.length;ht++)this._actions[ht].time=0;return this.update(lt)}getRoot(){return this._root}uncacheClip(lt){const ht=this._actions,_t=lt.uuid,At=this._actionsByClip,qt=At[_t];if(qt!==void 0){const Zt=qt.knownActions;for(let cr=0,Gr=Zt.length;cr!==Gr;++cr){const Zr=Zt[cr];this._deactivateAction(Zr);const xn=Zr._cacheIndex,On=ht[ht.length-1];Zr._cacheIndex=null,Zr._byClipCacheIndex=null,On._cacheIndex=xn,ht[xn]=On,ht.pop(),this._removeInactiveBindingsForAction(Zr)}delete At[_t]}}uncacheRoot(lt){const ht=lt.uuid,_t=this._actionsByClip;for(const Zt in _t){const cr=_t[Zt].actionByRoot,Gr=cr[ht];Gr!==void 0&&(this._deactivateAction(Gr),this._removeInactiveAction(Gr))}const At=this._bindingsByRootAndName,qt=At[ht];if(qt!==void 0)for(const Zt in qt){const cr=qt[Zt];cr.restoreOriginalState(),this._removeInactiveBinding(cr)}}uncacheAction(lt,ht){const _t=this.existingAction(lt,ht);_t!==null&&(this._deactivateAction(_t),this._removeInactiveAction(_t))}}class Uniform{constructor(lt){this.value=lt}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let _id=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:_id++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(lt){return this.uniforms.push(lt),this}remove(lt){const ht=this.uniforms.indexOf(lt);return ht!==-1&&this.uniforms.splice(ht,1),this}setName(lt){return this.name=lt,this}setUsage(lt){return this.usage=lt,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(lt){this.name=lt.name,this.usage=lt.usage;const ht=lt.uniforms;this.uniforms.length=0;for(let _t=0,At=ht.length;_t<At;_t++)this.uniforms.push(ht[_t].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(lt,ht,_t=1){super(lt,ht),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=_t}copy(lt){return super.copy(lt),this.meshPerAttribute=lt.meshPerAttribute,this}clone(lt){const ht=super.clone(lt);return ht.meshPerAttribute=this.meshPerAttribute,ht}toJSON(lt){const ht=super.toJSON(lt);return ht.isInstancedInterleavedBuffer=!0,ht.meshPerAttribute=this.meshPerAttribute,ht}}class GLBufferAttribute{constructor(lt,ht,_t,At,qt){this.isGLBufferAttribute=!0,this.name="",this.buffer=lt,this.type=ht,this.itemSize=_t,this.elementSize=At,this.count=qt,this.version=0}set needsUpdate(lt){lt===!0&&this.version++}setBuffer(lt){return this.buffer=lt,this}setType(lt,ht){return this.type=lt,this.elementSize=ht,this}setItemSize(lt){return this.itemSize=lt,this}setCount(lt){return this.count=lt,this}}class Raycaster{constructor(lt,ht,_t=0,At=1/0){this.ray=new Ray(lt,ht),this.near=_t,this.far=At,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(lt,ht){this.ray.set(lt,ht)}setFromCamera(lt,ht){ht.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(ht.matrixWorld),this.ray.direction.set(lt.x,lt.y,.5).unproject(ht).sub(this.ray.origin).normalize(),this.camera=ht):ht.isOrthographicCamera?(this.ray.origin.set(lt.x,lt.y,(ht.near+ht.far)/(ht.near-ht.far)).unproject(ht),this.ray.direction.set(0,0,-1).transformDirection(ht.matrixWorld),this.camera=ht):console.error("THREE.Raycaster: Unsupported camera type: "+ht.type)}intersectObject(lt,ht=!0,_t=[]){return intersectObject(lt,this,_t,ht),_t.sort(ascSort),_t}intersectObjects(lt,ht=!0,_t=[]){for(let At=0,qt=lt.length;At<qt;At++)intersectObject(lt[At],this,_t,ht);return _t.sort(ascSort),_t}}function ascSort(ut,lt){return ut.distance-lt.distance}function intersectObject(ut,lt,ht,_t){if(ut.layers.test(lt.layers)&&ut.raycast(lt,ht),_t===!0){const At=ut.children;for(let qt=0,Zt=At.length;qt<Zt;qt++)intersectObject(At[qt],lt,ht,!0)}}class Spherical{constructor(lt=1,ht=0,_t=0){return this.radius=lt,this.phi=ht,this.theta=_t,this}set(lt,ht,_t){return this.radius=lt,this.phi=ht,this.theta=_t,this}copy(lt){return this.radius=lt.radius,this.phi=lt.phi,this.theta=lt.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,ht,_t){return this.radius=Math.sqrt(lt*lt+ht*ht+_t*_t),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(lt,_t),this.phi=Math.acos(clamp(ht/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(lt=1,ht=0,_t=0){return this.radius=lt,this.theta=ht,this.y=_t,this}set(lt,ht,_t){return this.radius=lt,this.theta=ht,this.y=_t,this}copy(lt){return this.radius=lt.radius,this.theta=lt.theta,this.y=lt.y,this}setFromVector3(lt){return this.setFromCartesianCoords(lt.x,lt.y,lt.z)}setFromCartesianCoords(lt,ht,_t){return this.radius=Math.sqrt(lt*lt+_t*_t),this.theta=Math.atan2(lt,_t),this.y=ht,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(lt=new Vector2(1/0,1/0),ht=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=lt,this.max=ht}set(lt,ht){return this.min.copy(lt),this.max.copy(ht),this}setFromPoints(lt){this.makeEmpty();for(let ht=0,_t=lt.length;ht<_t;ht++)this.expandByPoint(lt[ht]);return this}setFromCenterAndSize(lt,ht){const _t=_vector$4.copy(ht).multiplyScalar(.5);return this.min.copy(lt).sub(_t),this.max.copy(lt).add(_t),this}clone(){return new this.constructor().copy(this)}copy(lt){return this.min.copy(lt.min),this.max.copy(lt.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(lt){return this.isEmpty()?lt.set(0,0):lt.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(lt){return this.isEmpty()?lt.set(0,0):lt.subVectors(this.max,this.min)}expandByPoint(lt){return this.min.min(lt),this.max.max(lt),this}expandByVector(lt){return this.min.sub(lt),this.max.add(lt),this}expandByScalar(lt){return this.min.addScalar(-lt),this.max.addScalar(lt),this}containsPoint(lt){return!(lt.x<this.min.x||lt.x>this.max.x||lt.y<this.min.y||lt.y>this.max.y)}containsBox(lt){return this.min.x<=lt.min.x&&lt.max.x<=this.max.x&&this.min.y<=lt.min.y&&lt.max.y<=this.max.y}getParameter(lt,ht){return ht.set((lt.x-this.min.x)/(this.max.x-this.min.x),(lt.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(lt){return!(lt.max.x<this.min.x||lt.min.x>this.max.x||lt.max.y<this.min.y||lt.min.y>this.max.y)}clampPoint(lt,ht){return ht.copy(lt).clamp(this.min,this.max)}distanceToPoint(lt){return this.clampPoint(lt,_vector$4).distanceTo(lt)}intersect(lt){return this.min.max(lt.min),this.max.min(lt.max),this.isEmpty()&&this.makeEmpty(),this}union(lt){return this.min.min(lt.min),this.max.max(lt.max),this}translate(lt){return this.min.add(lt),this.max.add(lt),this}equals(lt){return lt.min.equals(this.min)&&lt.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(lt=new Vector3,ht=new Vector3){this.start=lt,this.end=ht}set(lt,ht){return this.start.copy(lt),this.end.copy(ht),this}copy(lt){return this.start.copy(lt.start),this.end.copy(lt.end),this}getCenter(lt){return lt.addVectors(this.start,this.end).multiplyScalar(.5)}delta(lt){return lt.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(lt,ht){return this.delta(ht).multiplyScalar(lt).add(this.start)}closestPointToPointParameter(lt,ht){_startP.subVectors(lt,this.start),_startEnd.subVectors(this.end,this.start);const _t=_startEnd.dot(_startEnd);let qt=_startEnd.dot(_startP)/_t;return ht&&(qt=clamp(qt,0,1)),qt}closestPointToPoint(lt,ht,_t){const At=this.closestPointToPointParameter(lt,ht);return this.delta(_t).multiplyScalar(At).add(this.start)}applyMatrix4(lt){return this.start.applyMatrix4(lt),this.end.applyMatrix4(lt),this}equals(lt){return lt.start.equals(this.start)&&lt.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(lt,ht){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=ht,this.type="SpotLightHelper";const _t=new BufferGeometry,At=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let Zt=0,cr=1,Gr=32;Zt<Gr;Zt++,cr++){const Zr=Zt/Gr*Math.PI*2,xn=cr/Gr*Math.PI*2;At.push(Math.cos(Zr),Math.sin(Zr),1,Math.cos(xn),Math.sin(xn),1)}_t.setAttribute("position",new Float32BufferAttribute(At,3));const qt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(_t,qt),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const lt=this.light.distance?this.light.distance:1e3,ht=lt*Math.tan(this.light.angle);this.cone.scale.set(ht,ht,lt),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(lt){const ht=getBoneList(lt),_t=new BufferGeometry,At=[],qt=[],Zt=new Color(0,0,1),cr=new Color(0,1,0);for(let Zr=0;Zr<ht.length;Zr++){const xn=ht[Zr];xn.parent&&xn.parent.isBone&&(At.push(0,0,0),At.push(0,0,0),qt.push(Zt.r,Zt.g,Zt.b),qt.push(cr.r,cr.g,cr.b))}_t.setAttribute("position",new Float32BufferAttribute(At,3)),_t.setAttribute("color",new Float32BufferAttribute(qt,3));const Gr=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(_t,Gr),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=lt,this.bones=ht,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(lt){const ht=this.bones,_t=this.geometry,At=_t.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let qt=0,Zt=0;qt<ht.length;qt++){const cr=ht[qt];cr.parent&&cr.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,cr.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),At.setXYZ(Zt,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,cr.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),At.setXYZ(Zt+1,_vector$2.x,_vector$2.y,_vector$2.z),Zt+=2)}_t.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(ut){const lt=[];ut.isBone===!0&&lt.push(ut);for(let ht=0;ht<ut.children.length;ht++)lt.push.apply(lt,getBoneList(ut.children[ht]));return lt}class PointLightHelper extends Mesh{constructor(lt,ht,_t){const At=new SphereGeometry(ht,4,2),qt=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(At,qt),this.light=lt,this.color=_t,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(lt,ht,_t){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=_t,this.type="HemisphereLightHelper";const At=new OctahedronGeometry(ht);At.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const qt=At.getAttribute("position"),Zt=new Float32Array(qt.count*3);At.setAttribute("color",new BufferAttribute(Zt,3)),this.add(new Mesh(At,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const lt=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const ht=lt.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let _t=0,At=ht.count;_t<At;_t++){const qt=_t<At/2?_color1:_color2;ht.setXYZ(_t,qt.r,qt.g,qt.b)}ht.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),lt.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(lt=10,ht=10,_t=4473924,At=8947848){_t=new Color(_t),At=new Color(At);const qt=ht/2,Zt=lt/ht,cr=lt/2,Gr=[],Zr=[];for(let ss=0,ls=0,cs=-cr;ss<=ht;ss++,cs+=Zt){Gr.push(-cr,0,cs,cr,0,cs),Gr.push(cs,0,-cr,cs,0,cr);const wl=ss===qt?_t:At;wl.toArray(Zr,ls),ls+=3,wl.toArray(Zr,ls),ls+=3,wl.toArray(Zr,ls),ls+=3,wl.toArray(Zr,ls),ls+=3}const xn=new BufferGeometry;xn.setAttribute("position",new Float32BufferAttribute(Gr,3)),xn.setAttribute("color",new Float32BufferAttribute(Zr,3));const On=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(xn,On),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(lt=10,ht=16,_t=8,At=64,qt=4473924,Zt=8947848){qt=new Color(qt),Zt=new Color(Zt);const cr=[],Gr=[];if(ht>1)for(let On=0;On<ht;On++){const ss=On/ht*(Math.PI*2),ls=Math.sin(ss)*lt,cs=Math.cos(ss)*lt;cr.push(0,0,0),cr.push(ls,0,cs);const wl=On&1?qt:Zt;Gr.push(wl.r,wl.g,wl.b),Gr.push(wl.r,wl.g,wl.b)}for(let On=0;On<_t;On++){const ss=On&1?qt:Zt,ls=lt-lt/_t*On;for(let cs=0;cs<At;cs++){let wl=cs/At*(Math.PI*2),ep=Math.sin(wl)*ls,Al=Math.cos(wl)*ls;cr.push(ep,0,Al),Gr.push(ss.r,ss.g,ss.b),wl=(cs+1)/At*(Math.PI*2),ep=Math.sin(wl)*ls,Al=Math.cos(wl)*ls,cr.push(ep,0,Al),Gr.push(ss.r,ss.g,ss.b)}}const Zr=new BufferGeometry;Zr.setAttribute("position",new Float32BufferAttribute(cr,3)),Zr.setAttribute("color",new Float32BufferAttribute(Gr,3));const xn=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(Zr,xn),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(lt,ht,_t){super(),this.light=lt,this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.color=_t,this.type="DirectionalLightHelper",ht===void 0&&(ht=1);let At=new BufferGeometry;At.setAttribute("position",new Float32BufferAttribute([-ht,ht,0,ht,ht,0,ht,-ht,0,-ht,-ht,0,-ht,ht,0],3));const qt=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(At,qt),this.add(this.lightPlane),At=new BufferGeometry,At.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(At,qt),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(lt){const ht=new BufferGeometry,_t=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),At=[],qt=[],Zt={};cr("n1","n2"),cr("n2","n4"),cr("n4","n3"),cr("n3","n1"),cr("f1","f2"),cr("f2","f4"),cr("f4","f3"),cr("f3","f1"),cr("n1","f1"),cr("n2","f2"),cr("n3","f3"),cr("n4","f4"),cr("p","n1"),cr("p","n2"),cr("p","n3"),cr("p","n4"),cr("u1","u2"),cr("u2","u3"),cr("u3","u1"),cr("c","t"),cr("p","c"),cr("cn1","cn2"),cr("cn3","cn4"),cr("cf1","cf2"),cr("cf3","cf4");function cr(cs,wl){Gr(cs),Gr(wl)}function Gr(cs){At.push(0,0,0),qt.push(0,0,0),Zt[cs]===void 0&&(Zt[cs]=[]),Zt[cs].push(At.length/3-1)}ht.setAttribute("position",new Float32BufferAttribute(At,3)),ht.setAttribute("color",new Float32BufferAttribute(qt,3)),super(ht,_t),this.type="CameraHelper",this.camera=lt,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=lt.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=Zt,this.update();const Zr=new Color(16755200),xn=new Color(16711680),On=new Color(43775),ss=new Color(16777215),ls=new Color(3355443);this.setColors(Zr,xn,On,ss,ls)}setColors(lt,ht,_t,At,qt){const cr=this.geometry.getAttribute("color");cr.setXYZ(0,lt.r,lt.g,lt.b),cr.setXYZ(1,lt.r,lt.g,lt.b),cr.setXYZ(2,lt.r,lt.g,lt.b),cr.setXYZ(3,lt.r,lt.g,lt.b),cr.setXYZ(4,lt.r,lt.g,lt.b),cr.setXYZ(5,lt.r,lt.g,lt.b),cr.setXYZ(6,lt.r,lt.g,lt.b),cr.setXYZ(7,lt.r,lt.g,lt.b),cr.setXYZ(8,lt.r,lt.g,lt.b),cr.setXYZ(9,lt.r,lt.g,lt.b),cr.setXYZ(10,lt.r,lt.g,lt.b),cr.setXYZ(11,lt.r,lt.g,lt.b),cr.setXYZ(12,lt.r,lt.g,lt.b),cr.setXYZ(13,lt.r,lt.g,lt.b),cr.setXYZ(14,lt.r,lt.g,lt.b),cr.setXYZ(15,lt.r,lt.g,lt.b),cr.setXYZ(16,lt.r,lt.g,lt.b),cr.setXYZ(17,lt.r,lt.g,lt.b),cr.setXYZ(18,lt.r,lt.g,lt.b),cr.setXYZ(19,lt.r,lt.g,lt.b),cr.setXYZ(20,lt.r,lt.g,lt.b),cr.setXYZ(21,lt.r,lt.g,lt.b),cr.setXYZ(22,lt.r,lt.g,lt.b),cr.setXYZ(23,lt.r,lt.g,lt.b),cr.setXYZ(24,ht.r,ht.g,ht.b),cr.setXYZ(25,ht.r,ht.g,ht.b),cr.setXYZ(26,ht.r,ht.g,ht.b),cr.setXYZ(27,ht.r,ht.g,ht.b),cr.setXYZ(28,ht.r,ht.g,ht.b),cr.setXYZ(29,ht.r,ht.g,ht.b),cr.setXYZ(30,ht.r,ht.g,ht.b),cr.setXYZ(31,ht.r,ht.g,ht.b),cr.setXYZ(32,_t.r,_t.g,_t.b),cr.setXYZ(33,_t.r,_t.g,_t.b),cr.setXYZ(34,_t.r,_t.g,_t.b),cr.setXYZ(35,_t.r,_t.g,_t.b),cr.setXYZ(36,_t.r,_t.g,_t.b),cr.setXYZ(37,_t.r,_t.g,_t.b),cr.setXYZ(38,At.r,At.g,At.b),cr.setXYZ(39,At.r,At.g,At.b),cr.setXYZ(40,qt.r,qt.g,qt.b),cr.setXYZ(41,qt.r,qt.g,qt.b),cr.setXYZ(42,qt.r,qt.g,qt.b),cr.setXYZ(43,qt.r,qt.g,qt.b),cr.setXYZ(44,qt.r,qt.g,qt.b),cr.setXYZ(45,qt.r,qt.g,qt.b),cr.setXYZ(46,qt.r,qt.g,qt.b),cr.setXYZ(47,qt.r,qt.g,qt.b),cr.setXYZ(48,qt.r,qt.g,qt.b),cr.setXYZ(49,qt.r,qt.g,qt.b),cr.needsUpdate=!0}update(){const lt=this.geometry,ht=this.pointMap,_t=1,At=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",ht,lt,_camera,0,0,-1),setPoint("t",ht,lt,_camera,0,0,1),setPoint("n1",ht,lt,_camera,-_t,-At,-1),setPoint("n2",ht,lt,_camera,_t,-At,-1),setPoint("n3",ht,lt,_camera,-_t,At,-1),setPoint("n4",ht,lt,_camera,_t,At,-1),setPoint("f1",ht,lt,_camera,-_t,-At,1),setPoint("f2",ht,lt,_camera,_t,-At,1),setPoint("f3",ht,lt,_camera,-_t,At,1),setPoint("f4",ht,lt,_camera,_t,At,1),setPoint("u1",ht,lt,_camera,_t*.7,At*1.1,-1),setPoint("u2",ht,lt,_camera,-_t*.7,At*1.1,-1),setPoint("u3",ht,lt,_camera,0,At*2,-1),setPoint("cf1",ht,lt,_camera,-_t,0,1),setPoint("cf2",ht,lt,_camera,_t,0,1),setPoint("cf3",ht,lt,_camera,0,-At,1),setPoint("cf4",ht,lt,_camera,0,At,1),setPoint("cn1",ht,lt,_camera,-_t,0,-1),setPoint("cn2",ht,lt,_camera,_t,0,-1),setPoint("cn3",ht,lt,_camera,0,-At,-1),setPoint("cn4",ht,lt,_camera,0,At,-1),lt.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(ut,lt,ht,_t,At,qt,Zt){_vector.set(At,qt,Zt).unproject(_t);const cr=lt[ut];if(cr!==void 0){const Gr=ht.getAttribute("position");for(let Zr=0,xn=cr.length;Zr<xn;Zr++)Gr.setXYZ(cr[Zr],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(lt,ht=16776960){const _t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),At=new Float32Array(8*3),qt=new BufferGeometry;qt.setIndex(new BufferAttribute(_t,1)),qt.setAttribute("position",new BufferAttribute(At,3)),super(qt,new LineBasicMaterial({color:ht,toneMapped:!1})),this.object=lt,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(lt){if(lt!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const ht=_box.min,_t=_box.max,At=this.geometry.attributes.position,qt=At.array;qt[0]=_t.x,qt[1]=_t.y,qt[2]=_t.z,qt[3]=ht.x,qt[4]=_t.y,qt[5]=_t.z,qt[6]=ht.x,qt[7]=ht.y,qt[8]=_t.z,qt[9]=_t.x,qt[10]=ht.y,qt[11]=_t.z,qt[12]=_t.x,qt[13]=_t.y,qt[14]=ht.z,qt[15]=ht.x,qt[16]=_t.y,qt[17]=ht.z,qt[18]=ht.x,qt[19]=ht.y,qt[20]=ht.z,qt[21]=_t.x,qt[22]=ht.y,qt[23]=ht.z,At.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(lt){return this.object=lt,this.update(),this}copy(lt,ht){return super.copy(lt,ht),this.object=lt.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(lt,ht=16776960){const _t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),At=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],qt=new BufferGeometry;qt.setIndex(new BufferAttribute(_t,1)),qt.setAttribute("position",new Float32BufferAttribute(At,3)),super(qt,new LineBasicMaterial({color:ht,toneMapped:!1})),this.box=lt,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(lt){const ht=this.box;ht.isEmpty()||(ht.getCenter(this.position),ht.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(lt))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(lt,ht=1,_t=16776960){const At=_t,qt=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],Zt=new BufferGeometry;Zt.setAttribute("position",new Float32BufferAttribute(qt,3)),Zt.computeBoundingSphere(),super(Zt,new LineBasicMaterial({color:At,toneMapped:!1})),this.type="PlaneHelper",this.plane=lt,this.size=ht;const cr=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],Gr=new BufferGeometry;Gr.setAttribute("position",new Float32BufferAttribute(cr,3)),Gr.computeBoundingSphere(),this.add(new Mesh(Gr,new MeshBasicMaterial({color:At,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(lt){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(lt)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(lt=new Vector3(0,0,1),ht=new Vector3(0,0,0),_t=1,At=16776960,qt=_t*.2,Zt=qt*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(ht),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:At,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:At,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(lt),this.setLength(_t,qt,Zt)}setDirection(lt){if(lt.y>.99999)this.quaternion.set(0,0,0,1);else if(lt.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(lt.z,0,-lt.x).normalize();const ht=Math.acos(lt.y);this.quaternion.setFromAxisAngle(_axis,ht)}}setLength(lt,ht=lt*.2,_t=ht*.2){this.line.scale.set(1,Math.max(1e-4,lt-ht),1),this.line.updateMatrix(),this.cone.scale.set(_t,ht,_t),this.cone.position.y=lt,this.cone.updateMatrix()}setColor(lt){this.line.material.color.set(lt),this.cone.material.color.set(lt)}copy(lt){return super.copy(lt,!1),this.line.copy(lt.line),this.cone.copy(lt.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(lt=1){const ht=[0,0,0,lt,0,0,0,0,0,0,lt,0,0,0,0,0,0,lt],_t=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],At=new BufferGeometry;At.setAttribute("position",new Float32BufferAttribute(ht,3)),At.setAttribute("color",new Float32BufferAttribute(_t,3));const qt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(At,qt),this.type="AxesHelper"}setColors(lt,ht,_t){const At=new Color,qt=this.geometry.attributes.color.array;return At.set(lt),At.toArray(qt,0),At.toArray(qt,3),At.set(ht),At.toArray(qt,6),At.toArray(qt,9),At.set(_t),At.toArray(qt,12),At.toArray(qt,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(lt,ht){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(lt,ht),this}lineTo(lt,ht){return this.currentPath.lineTo(lt,ht),this}quadraticCurveTo(lt,ht,_t,At){return this.currentPath.quadraticCurveTo(lt,ht,_t,At),this}bezierCurveTo(lt,ht,_t,At,qt,Zt){return this.currentPath.bezierCurveTo(lt,ht,_t,At,qt,Zt),this}splineThru(lt){return this.currentPath.splineThru(lt),this}toShapes(lt){function ht(Al){const np=[];for(let cp=0,Cp=Al.length;cp<Cp;cp++){const Lp=Al[cp],jp=new Shape;jp.curves=Lp.curves,np.push(jp)}return np}function _t(Al,np){const cp=np.length;let Cp=!1;for(let Lp=cp-1,jp=0;jp<cp;Lp=jp++){let nm=np[Lp],zm=np[jp],i1=zm.x-nm.x,d3=zm.y-nm.y;if(Math.abs(d3)>Number.EPSILON){if(d3<0&&(nm=np[jp],i1=-i1,zm=np[Lp],d3=-d3),Al.y<nm.y||Al.y>zm.y)continue;if(Al.y===nm.y){if(Al.x===nm.x)return!0}else{const op=d3*(Al.x-nm.x)-i1*(Al.y-nm.y);if(op===0)return!0;if(op<0)continue;Cp=!Cp}}else{if(Al.y!==nm.y)continue;if(zm.x<=Al.x&&Al.x<=nm.x||nm.x<=Al.x&&Al.x<=zm.x)return!0}}return Cp}const At=ShapeUtils.isClockWise,qt=this.subPaths;if(qt.length===0)return[];let Zt,cr,Gr;const Zr=[];if(qt.length===1)return cr=qt[0],Gr=new Shape,Gr.curves=cr.curves,Zr.push(Gr),Zr;let xn=!At(qt[0].getPoints());xn=lt?!xn:xn;const On=[],ss=[];let ls=[],cs=0,wl;ss[cs]=void 0,ls[cs]=[];for(let Al=0,np=qt.length;Al<np;Al++)cr=qt[Al],wl=cr.getPoints(),Zt=At(wl),Zt=lt?!Zt:Zt,Zt?(!xn&&ss[cs]&&cs++,ss[cs]={s:new Shape,p:wl},ss[cs].s.curves=cr.curves,xn&&cs++,ls[cs]=[]):ls[cs].push({h:cr,p:wl[0]});if(!ss[0])return ht(qt);if(ss.length>1){let Al=!1,np=0;for(let cp=0,Cp=ss.length;cp<Cp;cp++)On[cp]=[];for(let cp=0,Cp=ss.length;cp<Cp;cp++){const Lp=ls[cp];for(let jp=0;jp<Lp.length;jp++){const nm=Lp[jp];let zm=!0;for(let i1=0;i1<ss.length;i1++)_t(nm.p,ss[i1].p)&&(cp!==i1&&np++,zm?(zm=!1,On[i1].push(nm)):Al=!0);zm&&On[cp].push(nm)}}np>0&&Al===!1&&(ls=On)}let ep;for(let Al=0,np=ss.length;Al<np;Al++){Gr=ss[Al].s,Zr.push(Gr),ep=ls[Al];for(let cp=0,Cp=ep.length;cp<Cp;cp++)Gr.holes.push(ep[cp].h)}return Zr}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysCompare,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AnimationAction,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio:Audio$1,AudioAnalyser,AudioContext,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedCubeTexture,CompressedTexture,CompressedTextureLoader,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DisplayP3ColorSpace,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualCompare,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterCompare,GreaterDepth,GreaterEqualCompare,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group,HalfFloatType,HemisphereLight,HemisphereLightHelper,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheGeometry,Layers,LessCompare,LessDepth,LessEqualCompare,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearDisplayP3ColorSpace,LinearEncoding:LinearEncoding$1,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace:LinearSRGBColorSpace$1,LinearToneMapping,LinearTransfer,Loader:Loader$1,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverCompare,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualCompare,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera,P3Primaries,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera,Plane,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,RED_GREEN_RGTC2_Format,RED_RGTC1_Format,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGB_BPTC_SIGNED_Format,RGB_BPTC_UNSIGNED_Format,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,Rec709Primaries,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RenderTarget,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingGeometry,SIGNED_RED_GREEN_RGTC2_Format,SIGNED_RED_RGTC1_Format,SRGBColorSpace:SRGBColorSpace$1,SRGBTransfer,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronGeometry,Texture,TextureLoader,TorusGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCoordinateSystem,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WebGPUCoordinateSystem,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,createCanvasElement,sRGBEncoding:sRGBEncoding$1},Symbol.toStringTag,{value:"Module"}));var constants={exports:{}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;constants.exports=reactReconcilerConstants_production_min;var constantsExports=constants.exports;function createStore$2(ut){let lt;const ht=new Set,_t=(Zr,xn)=>{const On=typeof Zr=="function"?Zr(lt):Zr;if(On!==lt){const ss=lt;lt=xn?On:Object.assign({},lt,On),ht.forEach(ls=>ls(lt,ss))}},At=()=>lt,qt=(Zr,xn=At,On=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ss=xn(lt);function ls(){const cs=xn(lt);if(!On(ss,cs)){const wl=ss;Zr(ss=cs,wl)}}return ht.add(ls),()=>ht.delete(ls)},Gr={setState:_t,getState:At,subscribe:(Zr,xn,On)=>xn||On?qt(Zr,xn,On):(ht.add(Zr),()=>ht.delete(Zr)),destroy:()=>ht.clear()};return lt=ut(_t,At,Gr),Gr}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(ut){const lt=typeof ut=="function"?createStore$2(ut):ut,ht=(_t=lt.getState,At=Object.is)=>{const[,qt]=reactExports.useReducer(ep=>ep+1,0),Zt=lt.getState(),cr=reactExports.useRef(Zt),Gr=reactExports.useRef(_t),Zr=reactExports.useRef(At),xn=reactExports.useRef(!1),On=reactExports.useRef();On.current===void 0&&(On.current=_t(Zt));let ss,ls=!1;(cr.current!==Zt||Gr.current!==_t||Zr.current!==At||xn.current)&&(ss=_t(Zt),ls=!At(On.current,ss)),useIsomorphicLayoutEffect$2(()=>{ls&&(On.current=ss),cr.current=Zt,Gr.current=_t,Zr.current=At,xn.current=!1});const cs=reactExports.useRef(Zt);useIsomorphicLayoutEffect$2(()=>{const ep=()=>{try{const np=lt.getState(),cp=Gr.current(np);Zr.current(On.current,cp)||(cr.current=np,On.current=cp,qt())}catch{xn.current=!0,qt()}},Al=lt.subscribe(ep);return lt.getState()!==cs.current&&ep(),Al},[]);const wl=ls?ss:On.current;return reactExports.useDebugValue(wl),wl};return Object.assign(ht,lt),ht[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const _t=[ht,lt];return{next(){const At=_t.length<=0;return{value:_t.shift(),done:At}}}},ht}var reactReconciler={exports:{}},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(ut){function lt(lp,pu){var go=lp.length;lp.push(pu);e:for(;0<go;){var h0=go-1>>>1,kp=lp[h0];if(0<At(kp,pu))lp[h0]=pu,lp[go]=kp,go=h0;else break e}}function ht(lp){return lp.length===0?null:lp[0]}function _t(lp){if(lp.length===0)return null;var pu=lp[0],go=lp.pop();if(go!==pu){lp[0]=go;e:for(var h0=0,kp=lp.length,cm=kp>>>1;h0<cm;){var b3=2*(h0+1)-1,L_=lp[b3],Ym=b3+1,Xm=lp[Ym];if(0>At(L_,go))Ym<kp&&0>At(Xm,L_)?(lp[h0]=Xm,lp[Ym]=go,h0=Ym):(lp[h0]=L_,lp[b3]=go,h0=b3);else if(Ym<kp&&0>At(Xm,go))lp[h0]=Xm,lp[Ym]=go,h0=Ym;else break e}}return pu}function At(lp,pu){var go=lp.sortIndex-pu.sortIndex;return go!==0?go:lp.id-pu.id}if(typeof performance=="object"&&typeof performance.now=="function"){var qt=performance;ut.unstable_now=function(){return qt.now()}}else{var Zt=Date,cr=Zt.now();ut.unstable_now=function(){return Zt.now()-cr}}var Gr=[],Zr=[],xn=1,On=null,ss=3,ls=!1,cs=!1,wl=!1,ep=typeof setTimeout=="function"?setTimeout:null,Al=typeof clearTimeout=="function"?clearTimeout:null,np=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function cp(lp){for(var pu=ht(Zr);pu!==null;){if(pu.callback===null)_t(Zr);else if(pu.startTime<=lp)_t(Zr),pu.sortIndex=pu.expirationTime,lt(Gr,pu);else break;pu=ht(Zr)}}function Cp(lp){if(wl=!1,cp(lp),!cs)if(ht(Gr)!==null)cs=!0,xl(Lp);else{var pu=ht(Zr);pu!==null&&ip(Cp,pu.startTime-lp)}}function Lp(lp,pu){cs=!1,wl&&(wl=!1,Al(zm),zm=-1),ls=!0;var go=ss;try{for(cp(pu),On=ht(Gr);On!==null&&(!(On.expirationTime>pu)||lp&&!op());){var h0=On.callback;if(typeof h0=="function"){On.callback=null,ss=On.priorityLevel;var kp=h0(On.expirationTime<=pu);pu=ut.unstable_now(),typeof kp=="function"?On.callback=kp:On===ht(Gr)&&_t(Gr),cp(pu)}else _t(Gr);On=ht(Gr)}if(On!==null)var cm=!0;else{var b3=ht(Zr);b3!==null&&ip(Cp,b3.startTime-pu),cm=!1}return cm}finally{On=null,ss=go,ls=!1}}var jp=!1,nm=null,zm=-1,i1=5,d3=-1;function op(){return!(ut.unstable_now()-d3<i1)}function Sn(){if(nm!==null){var lp=ut.unstable_now();d3=lp;var pu=!0;try{pu=nm(!0,lp)}finally{pu?Fo():(jp=!1,nm=null)}}else jp=!1}var Fo;if(typeof np=="function")Fo=function(){np(Sn)};else if(typeof MessageChannel<"u"){var as=new MessageChannel,us=as.port2;as.port1.onmessage=Sn,Fo=function(){us.postMessage(null)}}else Fo=function(){ep(Sn,0)};function xl(lp){nm=lp,jp||(jp=!0,Fo())}function ip(lp,pu){zm=ep(function(){lp(ut.unstable_now())},pu)}ut.unstable_IdlePriority=5,ut.unstable_ImmediatePriority=1,ut.unstable_LowPriority=4,ut.unstable_NormalPriority=3,ut.unstable_Profiling=null,ut.unstable_UserBlockingPriority=2,ut.unstable_cancelCallback=function(lp){lp.callback=null},ut.unstable_continueExecution=function(){cs||ls||(cs=!0,xl(Lp))},ut.unstable_forceFrameRate=function(lp){0>lp||125<lp?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):i1=0<lp?Math.floor(1e3/lp):5},ut.unstable_getCurrentPriorityLevel=function(){return ss},ut.unstable_getFirstCallbackNode=function(){return ht(Gr)},ut.unstable_next=function(lp){switch(ss){case 1:case 2:case 3:var pu=3;break;default:pu=ss}var go=ss;ss=pu;try{return lp()}finally{ss=go}},ut.unstable_pauseExecution=function(){},ut.unstable_requestPaint=function(){},ut.unstable_runWithPriority=function(lp,pu){switch(lp){case 1:case 2:case 3:case 4:case 5:break;default:lp=3}var go=ss;ss=lp;try{return pu()}finally{ss=go}},ut.unstable_scheduleCallback=function(lp,pu,go){var h0=ut.unstable_now();switch(typeof go=="object"&&go!==null?(go=go.delay,go=typeof go=="number"&&0<go?h0+go:h0):go=h0,lp){case 1:var kp=-1;break;case 2:kp=250;break;case 5:kp=1073741823;break;case 4:kp=1e4;break;default:kp=5e3}return kp=go+kp,lp={id:xn++,callback:pu,priorityLevel:lp,startTime:go,expirationTime:kp,sortIndex:-1},go>h0?(lp.sortIndex=go,lt(Zr,lp),ht(Gr)===null&&lp===ht(Zr)&&(wl?(Al(zm),zm=-1):wl=!0,ip(Cp,go-h0))):(lp.sortIndex=kp,lt(Gr,lp),cs||ls||(cs=!0,xl(Lp))),lp},ut.unstable_shouldYield=op,ut.unstable_wrapCallback=function(lp){var pu=ss;return function(){var go=ss;ss=pu;try{return lp.apply(this,arguments)}finally{ss=go}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function ut(lt){var ht={},_t=reactExports,At=schedulerExports,qt=Object.assign;function Zt(gp){for(var Mp="https://reactjs.org/docs/error-decoder.html?invariant="+gp,Km=1;Km<arguments.length;Km++)Mp+="&args[]="+encodeURIComponent(arguments[Km]);return"Minified React error #"+gp+"; visit "+Mp+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cr=_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gr=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),xn=Symbol.for("react.fragment"),On=Symbol.for("react.strict_mode"),ss=Symbol.for("react.profiler"),ls=Symbol.for("react.provider"),cs=Symbol.for("react.context"),wl=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),np=Symbol.for("react.memo"),cp=Symbol.for("react.lazy"),Cp=Symbol.for("react.offscreen"),Lp=Symbol.iterator;function jp(gp){return gp===null||typeof gp!="object"?null:(gp=Lp&&gp[Lp]||gp["@@iterator"],typeof gp=="function"?gp:null)}function nm(gp){if(gp==null)return null;if(typeof gp=="function")return gp.displayName||gp.name||null;if(typeof gp=="string")return gp;switch(gp){case xn:return"Fragment";case Zr:return"Portal";case ss:return"Profiler";case On:return"StrictMode";case ep:return"Suspense";case Al:return"SuspenseList"}if(typeof gp=="object")switch(gp.$$typeof){case cs:return(gp.displayName||"Context")+".Consumer";case ls:return(gp._context.displayName||"Context")+".Provider";case wl:var Mp=gp.render;return gp=gp.displayName,gp||(gp=Mp.displayName||Mp.name||"",gp=gp!==""?"ForwardRef("+gp+")":"ForwardRef"),gp;case np:return Mp=gp.displayName||null,Mp!==null?Mp:nm(gp.type)||"Memo";case cp:Mp=gp._payload,gp=gp._init;try{return nm(gp(Mp))}catch{}}return null}function zm(gp){var Mp=gp.type;switch(gp.tag){case 24:return"Cache";case 9:return(Mp.displayName||"Context")+".Consumer";case 10:return(Mp._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return gp=Mp.render,gp=gp.displayName||gp.name||"",Mp.displayName||(gp!==""?"ForwardRef("+gp+")":"ForwardRef");case 7:return"Fragment";case 5:return Mp;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nm(Mp);case 8:return Mp===On?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Mp=="function")return Mp.displayName||Mp.name||null;if(typeof Mp=="string")return Mp}return null}function i1(gp){var Mp=gp,Km=gp;if(gp.alternate)for(;Mp.return;)Mp=Mp.return;else{gp=Mp;do Mp=gp,Mp.flags&4098&&(Km=Mp.return),gp=Mp.return;while(gp)}return Mp.tag===3?Km:null}function d3(gp){if(i1(gp)!==gp)throw Error(Zt(188))}function op(gp){var Mp=gp.alternate;if(!Mp){if(Mp=i1(gp),Mp===null)throw Error(Zt(188));return Mp!==gp?null:gp}for(var Km=gp,A3=Mp;;){var X_=Km.return;if(X_===null)break;var zx=X_.alternate;if(zx===null){if(A3=X_.return,A3!==null){Km=A3;continue}break}if(X_.child===zx.child){for(zx=X_.child;zx;){if(zx===Km)return d3(X_),gp;if(zx===A3)return d3(X_),Mp;zx=zx.sibling}throw Error(Zt(188))}if(Km.return!==A3.return)Km=X_,A3=zx;else{for(var aM=!1,MM=X_.child;MM;){if(MM===Km){aM=!0,Km=X_,A3=zx;break}if(MM===A3){aM=!0,A3=X_,Km=zx;break}MM=MM.sibling}if(!aM){for(MM=zx.child;MM;){if(MM===Km){aM=!0,Km=zx,A3=X_;break}if(MM===A3){aM=!0,A3=zx,Km=X_;break}MM=MM.sibling}if(!aM)throw Error(Zt(189))}}if(Km.alternate!==A3)throw Error(Zt(190))}if(Km.tag!==3)throw Error(Zt(188));return Km.stateNode.current===Km?gp:Mp}function Sn(gp){return gp=op(gp),gp!==null?Fo(gp):null}function Fo(gp){if(gp.tag===5||gp.tag===6)return gp;for(gp=gp.child;gp!==null;){var Mp=Fo(gp);if(Mp!==null)return Mp;gp=gp.sibling}return null}function as(gp){if(gp.tag===5||gp.tag===6)return gp;for(gp=gp.child;gp!==null;){if(gp.tag!==4){var Mp=as(gp);if(Mp!==null)return Mp}gp=gp.sibling}return null}var us=Array.isArray,xl=lt.getPublicInstance,ip=lt.getRootHostContext,lp=lt.getChildHostContext,pu=lt.prepareForCommit,go=lt.resetAfterCommit,h0=lt.createInstance,kp=lt.appendInitialChild,cm=lt.finalizeInitialChildren,b3=lt.prepareUpdate,L_=lt.shouldSetTextContent,Ym=lt.createTextInstance,Xm=lt.scheduleTimeout,Jm=lt.cancelTimeout,$_=lt.noTimeout,j_=lt.isPrimaryRenderer,h3=lt.supportsMutation,Fp=lt.supportsPersistence,W_=lt.supportsHydration,t4=lt.getInstanceFromNode,Nw=lt.preparePortalMount,Dp=lt.getCurrentEventPriority,a1=lt.detachDeletedInstance,zp=lt.supportsMicrotasks,v3=lt.scheduleMicrotask,Mw=lt.supportsTestSelectors,nw=lt.findFiberRoot,n4=lt.getBoundingRect,Ww=lt.getTextContent,F_=lt.isHiddenSubtree,qx=lt.matchAccessibilityRole,nM=lt.setFocusIfFocusable,Hm=lt.setupIntersectionObserver,y3=lt.appendChild,Q_=lt.appendChildToContainer,Uw=lt.commitTextUpdate,s4=lt.commitMount,rM=lt.commitUpdate,c4=lt.insertBefore,tM=lt.insertInContainerBefore,R5=lt.removeChild,r4=lt.removeChildFromContainer,a4=lt.resetTextContent,cM=lt.hideInstance,Yx=lt.hideTextInstance,D5=lt.unhideInstance,wM=lt.unhideTextInstance,uM=lt.clearContainer,fM=lt.cloneInstance,AM=lt.createContainerChildSet,lM=lt.appendChildToContainerChildSet,vM=lt.finalizeContainerChildren,HM=lt.replaceContainerChildren,xM=lt.cloneHiddenInstance,RM=lt.cloneHiddenTextInstance,VM=lt.canHydrateInstance,SM=lt.canHydrateTextInstance,gM=lt.canHydrateSuspenseInstance,Z_=lt.isSuspenseInstancePending,Bw=lt.isSuspenseInstanceFallback,Fw=lt.registerSuspenseInstanceRetry,B_=lt.getNextHydratableSibling,Lw=lt.getFirstHydratableChild,eM=lt.getFirstHydratableChildWithinContainer,mM=lt.getFirstHydratableChildWithinSuspenseInstance,G_=lt.hydrateInstance,r_=lt.hydrateTextInstance,Vx=lt.hydrateSuspenseInstance,l4=lt.getNextHydratableInstanceAfterSuspenseInstance,R4=lt.commitHydratedContainer,u4=lt.commitHydratedSuspenseInstance,iM=lt.clearSuspenseBoundary,hM=lt.clearSuspenseBoundaryFromContainer,bM=lt.shouldDeleteUnhydratedTailInstances,yM=lt.didNotMatchHydratedContainerTextInstance,_M=lt.didNotMatchHydratedTextInstance,oM;function LM(gp){if(oM===void 0)try{throw Error()}catch(Km){var Mp=Km.stack.trim().match(/\n( *(at )?)/);oM=Mp&&Mp[1]||""}return`
`+oM+gp}var EM=!1;function BM(gp,Mp){if(!gp||EM)return"";EM=!0;var Km=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Mp)if(Mp=function(){throw Error()},Object.defineProperty(Mp.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Mp,[])}catch(qM){var A3=qM}Reflect.construct(gp,[],Mp)}else{try{Mp.call()}catch(qM){A3=qM}gp.call(Mp.prototype)}else{try{throw Error()}catch(qM){A3=qM}gp()}}catch(qM){if(qM&&A3&&typeof qM.stack=="string"){for(var X_=qM.stack.split(`
`),zx=A3.stack.split(`
`),aM=X_.length-1,MM=zx.length-1;1<=aM&&0<=MM&&X_[aM]!==zx[MM];)MM--;for(;1<=aM&&0<=MM;aM--,MM--)if(X_[aM]!==zx[MM]){if(aM!==1||MM!==1)do if(aM--,MM--,0>MM||X_[aM]!==zx[MM]){var zM=`
`+X_[aM].replace(" at new "," at ");return gp.displayName&&zM.includes("<anonymous>")&&(zM=zM.replace("<anonymous>",gp.displayName)),zM}while(1<=aM&&0<=MM);break}}}finally{EM=!1,Error.prepareStackTrace=Km}return(gp=gp?gp.displayName||gp.name:"")?LM(gp):""}var IM=Object.prototype.hasOwnProperty,$M=[],NM=-1;function CM(gp){return{current:gp}}function pM(gp){0>NM||(gp.current=$M[NM],$M[NM]=null,NM--)}function dM(gp,Mp){NM++,$M[NM]=gp.current,gp.current=Mp}var PM={},DM=CM(PM),kM=CM(!1),UM=PM;function WM(gp,Mp){var Km=gp.type.contextTypes;if(!Km)return PM;var A3=gp.stateNode;if(A3&&A3.__reactInternalMemoizedUnmaskedChildContext===Mp)return A3.__reactInternalMemoizedMaskedChildContext;var X_={},zx;for(zx in Km)X_[zx]=Mp[zx];return A3&&(gp=gp.stateNode,gp.__reactInternalMemoizedUnmaskedChildContext=Mp,gp.__reactInternalMemoizedMaskedChildContext=X_),X_}function KM(gp){return gp=gp.childContextTypes,gp!=null}function QM(){pM(kM),pM(DM)}function GM(gp,Mp,Km){if(DM.current!==PM)throw Error(Zt(168));dM(DM,Mp),dM(kM,Km)}function sM(gp,Mp,Km){var A3=gp.stateNode;if(Mp=Mp.childContextTypes,typeof A3.getChildContext!="function")return Km;A3=A3.getChildContext();for(var X_ in A3)if(!(X_ in Mp))throw Error(Zt(108,zm(gp)||"Unknown",X_));return qt({},Km,A3)}function XM(gp){return gp=(gp=gp.stateNode)&&gp.__reactInternalMemoizedMergedChildContext||PM,UM=DM.current,dM(DM,gp),dM(kM,kM.current),!0}function jM(gp,Mp,Km){var A3=gp.stateNode;if(!A3)throw Error(Zt(169));Km?(gp=sM(gp,Mp,UM),A3.__reactInternalMemoizedMergedChildContext=gp,pM(kM),pM(DM),dM(DM,gp)):pM(kM),dM(kM,Km)}var eE=Math.clz32?Math.clz32:sE,iE=Math.log,nE=Math.LN2;function sE(gp){return gp>>>=0,gp===0?32:31-(iE(gp)/nE|0)|0}var vE=64,cE=4194304;function pE(gp){switch(gp&-gp){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return gp&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return gp&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return gp}}function yE(gp,Mp){var Km=gp.pendingLanes;if(Km===0)return 0;var A3=0,X_=gp.suspendedLanes,zx=gp.pingedLanes,aM=Km&268435455;if(aM!==0){var MM=aM&~X_;MM!==0?A3=pE(MM):(zx&=aM,zx!==0&&(A3=pE(zx)))}else aM=Km&~X_,aM!==0?A3=pE(aM):zx!==0&&(A3=pE(zx));if(A3===0)return 0;if(Mp!==0&&Mp!==A3&&!(Mp&X_)&&(X_=A3&-A3,zx=Mp&-Mp,X_>=zx||X_===16&&(zx&4194240)!==0))return Mp;if(A3&4&&(A3|=Km&16),Mp=gp.entangledLanes,Mp!==0)for(gp=gp.entanglements,Mp&=A3;0<Mp;)Km=31-eE(Mp),X_=1<<Km,A3|=gp[Km],Mp&=~X_;return A3}function bE(gp,Mp){switch(gp){case 1:case 2:case 4:return Mp+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Mp+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AE(gp,Mp){for(var Km=gp.suspendedLanes,A3=gp.pingedLanes,X_=gp.expirationTimes,zx=gp.pendingLanes;0<zx;){var aM=31-eE(zx),MM=1<<aM,zM=X_[aM];zM===-1?(!(MM&Km)||MM&A3)&&(X_[aM]=bE(MM,Mp)):zM<=Mp&&(gp.expiredLanes|=MM),zx&=~MM}}function xE(gp){return gp=gp.pendingLanes&-1073741825,gp!==0?gp:gp&1073741824?1073741824:0}function ME(gp){for(var Mp=[],Km=0;31>Km;Km++)Mp.push(gp);return Mp}function _E(gp,Mp,Km){gp.pendingLanes|=Mp,Mp!==536870912&&(gp.suspendedLanes=0,gp.pingedLanes=0),gp=gp.eventTimes,Mp=31-eE(Mp),gp[Mp]=Km}function TC(gp,Mp){var Km=gp.pendingLanes&~Mp;gp.pendingLanes=Mp,gp.suspendedLanes=0,gp.pingedLanes=0,gp.expiredLanes&=Mp,gp.mutableReadLanes&=Mp,gp.entangledLanes&=Mp,Mp=gp.entanglements;var A3=gp.eventTimes;for(gp=gp.expirationTimes;0<Km;){var X_=31-eE(Km),zx=1<<X_;Mp[X_]=0,A3[X_]=-1,gp[X_]=-1,Km&=~zx}}function vC(gp,Mp){var Km=gp.entangledLanes|=Mp;for(gp=gp.entanglements;Km;){var A3=31-eE(Km),X_=1<<A3;X_&Mp|gp[A3]&Mp&&(gp[A3]|=Mp),Km&=~X_}}var dE=0;function oT(gp){return gp&=-gp,1<gp?4<gp?gp&268435455?16:536870912:4:1}var xC=At.unstable_scheduleCallback,QC=At.unstable_cancelCallback,sT=At.unstable_shouldYield,RT=At.unstable_requestPaint,EE=At.unstable_now,$C=At.unstable_ImmediatePriority,BT=At.unstable_UserBlockingPriority,qE=At.unstable_NormalPriority,aT=At.unstable_IdlePriority,FC=null,eC=null;function lT(gp){if(eC&&typeof eC.onCommitFiberRoot=="function")try{eC.onCommitFiberRoot(FC,gp,void 0,(gp.current.flags&128)===128)}catch{}}function kT(gp,Mp){return gp===Mp&&(gp!==0||1/gp===1/Mp)||gp!==gp&&Mp!==Mp}var tC=typeof Object.is=="function"?Object.is:kT,VE=null,yC=!1,aC=!1;function uT(gp){VE===null?VE=[gp]:VE.push(gp)}function cT(gp){yC=!0,uT(gp)}function JE(){if(!aC&&VE!==null){aC=!0;var gp=0,Mp=dE;try{var Km=VE;for(dE=1;gp<Km.length;gp++){var A3=Km[gp];do A3=A3(!0);while(A3!==null)}VE=null,yC=!1}catch(X_){throw VE!==null&&(VE=VE.slice(gp+1)),xC($C,JE),X_}finally{dE=Mp,aC=!1}}return null}var UC=cr.ReactCurrentBatchConfig;function zC(gp,Mp){if(tC(gp,Mp))return!0;if(typeof gp!="object"||gp===null||typeof Mp!="object"||Mp===null)return!1;var Km=Object.keys(gp),A3=Object.keys(Mp);if(Km.length!==A3.length)return!1;for(A3=0;A3<Km.length;A3++){var X_=Km[A3];if(!IM.call(Mp,X_)||!tC(gp[X_],Mp[X_]))return!1}return!0}function HC(gp){switch(gp.tag){case 5:return LM(gp.type);case 16:return LM("Lazy");case 13:return LM("Suspense");case 19:return LM("SuspenseList");case 0:case 2:case 15:return gp=BM(gp.type,!1),gp;case 11:return gp=BM(gp.type.render,!1),gp;case 1:return gp=BM(gp.type,!0),gp;default:return""}}function jE(gp,Mp){if(gp&&gp.defaultProps){Mp=qt({},Mp),gp=gp.defaultProps;for(var Km in gp)Mp[Km]===void 0&&(Mp[Km]=gp[Km]);return Mp}return Mp}var OE=CM(null),ZC=null,mC=null,RC=null;function e9(){RC=mC=ZC=null}function IT(gp,Mp,Km){j_?(dM(OE,Mp._currentValue),Mp._currentValue=Km):(dM(OE,Mp._currentValue2),Mp._currentValue2=Km)}function NE(gp){var Mp=OE.current;pM(OE),j_?gp._currentValue=Mp:gp._currentValue2=Mp}function KE(gp,Mp,Km){for(;gp!==null;){var A3=gp.alternate;if((gp.childLanes&Mp)!==Mp?(gp.childLanes|=Mp,A3!==null&&(A3.childLanes|=Mp)):A3!==null&&(A3.childLanes&Mp)!==Mp&&(A3.childLanes|=Mp),gp===Km)break;gp=gp.return}}function BE(gp,Mp){ZC=gp,RC=mC=null,gp=gp.dependencies,gp!==null&&gp.firstContext!==null&&(gp.lanes&Mp&&(oC=!0),gp.firstContext=null)}function kE(gp){var Mp=j_?gp._currentValue:gp._currentValue2;if(RC!==gp)if(gp={context:gp,memoizedValue:Mp,next:null},mC===null){if(ZC===null)throw Error(Zt(308));mC=gp,ZC.dependencies={lanes:0,firstContext:gp}}else mC=mC.next=gp;return Mp}var rC=null,BC=!1;function gR(gp){gp.updateQueue={baseState:gp.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cB(gp,Mp){gp=gp.updateQueue,Mp.updateQueue===gp&&(Mp.updateQueue={baseState:gp.baseState,firstBaseUpdate:gp.firstBaseUpdate,lastBaseUpdate:gp.lastBaseUpdate,shared:gp.shared,effects:gp.effects})}function AC(gp,Mp){return{eventTime:gp,lane:Mp,tag:0,payload:null,callback:null,next:null}}function kC(gp,Mp){var Km=gp.updateQueue;Km!==null&&(Km=Km.shared,PE!==null&&gp.mode&1&&!(fE&2)?(gp=Km.interleaved,gp===null?(Mp.next=Mp,rC===null?rC=[Km]:rC.push(Km)):(Mp.next=gp.next,gp.next=Mp),Km.interleaved=Mp):(gp=Km.pending,gp===null?Mp.next=Mp:(Mp.next=gp.next,gp.next=Mp),Km.pending=Mp))}function PT(gp,Mp,Km){if(Mp=Mp.updateQueue,Mp!==null&&(Mp=Mp.shared,(Km&4194240)!==0)){var A3=Mp.lanes;A3&=gp.pendingLanes,Km|=A3,Mp.lanes=Km,vC(gp,Km)}}function fB(gp,Mp){var Km=gp.updateQueue,A3=gp.alternate;if(A3!==null&&(A3=A3.updateQueue,Km===A3)){var X_=null,zx=null;if(Km=Km.firstBaseUpdate,Km!==null){do{var aM={eventTime:Km.eventTime,lane:Km.lane,tag:Km.tag,payload:Km.payload,callback:Km.callback,next:null};zx===null?X_=zx=aM:zx=zx.next=aM,Km=Km.next}while(Km!==null);zx===null?X_=zx=Mp:zx=zx.next=Mp}else X_=zx=Mp;Km={baseState:A3.baseState,firstBaseUpdate:X_,lastBaseUpdate:zx,shared:A3.shared,effects:A3.effects},gp.updateQueue=Km;return}gp=Km.lastBaseUpdate,gp===null?Km.firstBaseUpdate=Mp:gp.next=Mp,Km.lastBaseUpdate=Mp}function LT(gp,Mp,Km,A3){var X_=gp.updateQueue;BC=!1;var zx=X_.firstBaseUpdate,aM=X_.lastBaseUpdate,MM=X_.shared.pending;if(MM!==null){X_.shared.pending=null;var zM=MM,qM=zM.next;zM.next=null,aM===null?zx=qM:aM.next=qM,aM=zM;var ZM=gp.alternate;ZM!==null&&(ZM=ZM.updateQueue,MM=ZM.lastBaseUpdate,MM!==aM&&(MM===null?ZM.firstBaseUpdate=qM:MM.next=qM,ZM.lastBaseUpdate=zM))}if(zx!==null){var aE=X_.baseState;aM=0,ZM=qM=zM=null,MM=zx;do{var oE=MM.lane,wE=MM.eventTime;if((A3&oE)===oE){ZM!==null&&(ZM=ZM.next={eventTime:wE,lane:0,tag:MM.tag,payload:MM.payload,callback:MM.callback,next:null});e:{var rE=gp,GE=MM;switch(oE=Mp,wE=Km,GE.tag){case 1:if(rE=GE.payload,typeof rE=="function"){aE=rE.call(wE,aE,oE);break e}aE=rE;break e;case 3:rE.flags=rE.flags&-65537|128;case 0:if(rE=GE.payload,oE=typeof rE=="function"?rE.call(wE,aE,oE):rE,oE==null)break e;aE=qt({},aE,oE);break e;case 2:BC=!0}}MM.callback!==null&&MM.lane!==0&&(gp.flags|=64,oE=X_.effects,oE===null?X_.effects=[MM]:oE.push(MM))}else wE={eventTime:wE,lane:oE,tag:MM.tag,payload:MM.payload,callback:MM.callback,next:null},ZM===null?(qM=ZM=wE,zM=aE):ZM=ZM.next=wE,aM|=oE;if(MM=MM.next,MM===null){if(MM=X_.shared.pending,MM===null)break;oE=MM,MM=oE.next,oE.next=null,X_.lastBaseUpdate=oE,X_.shared.pending=null}}while(1);if(ZM===null&&(zM=aE),X_.baseState=zM,X_.firstBaseUpdate=qM,X_.lastBaseUpdate=ZM,Mp=X_.shared.interleaved,Mp!==null){X_=Mp;do aM|=X_.lane,X_=X_.next;while(X_!==Mp)}else zx===null&&(X_.shared.lanes=0);nT|=aM,gp.lanes=aM,gp.memoizedState=aE}}function hB(gp,Mp,Km){if(gp=Mp.effects,Mp.effects=null,gp!==null)for(Mp=0;Mp<gp.length;Mp++){var A3=gp[Mp],X_=A3.callback;if(X_!==null){if(A3.callback=null,A3=Km,typeof X_!="function")throw Error(Zt(191,X_));X_.call(A3)}}}var dB=new _t.Component().refs;function vR(gp,Mp,Km,A3){Mp=gp.memoizedState,Km=Km(A3,Mp),Km=Km==null?Mp:qt({},Mp,Km),gp.memoizedState=Km,gp.lanes===0&&(gp.updateQueue.baseState=Km)}var DT={isMounted:function(gp){return(gp=gp._reactInternals)?i1(gp)===gp:!1},enqueueSetState:function(gp,Mp,Km){gp=gp._reactInternals;var A3=YE(),X_=LC(gp),zx=AC(A3,X_);zx.payload=Mp,Km!=null&&(zx.callback=Km),kC(gp,zx),Mp=hC(gp,X_,A3),Mp!==null&&PT(Mp,gp,X_)},enqueueReplaceState:function(gp,Mp,Km){gp=gp._reactInternals;var A3=YE(),X_=LC(gp),zx=AC(A3,X_);zx.tag=1,zx.payload=Mp,Km!=null&&(zx.callback=Km),kC(gp,zx),Mp=hC(gp,X_,A3),Mp!==null&&PT(Mp,gp,X_)},enqueueForceUpdate:function(gp,Mp){gp=gp._reactInternals;var Km=YE(),A3=LC(gp),X_=AC(Km,A3);X_.tag=2,Mp!=null&&(X_.callback=Mp),kC(gp,X_),Mp=hC(gp,A3,Km),Mp!==null&&PT(Mp,gp,A3)}};function pB(gp,Mp,Km,A3,X_,zx,aM){return gp=gp.stateNode,typeof gp.shouldComponentUpdate=="function"?gp.shouldComponentUpdate(A3,zx,aM):Mp.prototype&&Mp.prototype.isPureReactComponent?!zC(Km,A3)||!zC(X_,zx):!0}function mB(gp,Mp,Km){var A3=!1,X_=PM,zx=Mp.contextType;return typeof zx=="object"&&zx!==null?zx=kE(zx):(X_=KM(Mp)?UM:DM.current,A3=Mp.contextTypes,zx=(A3=A3!=null)?WM(gp,X_):PM),Mp=new Mp(Km,zx),gp.memoizedState=Mp.state!==null&&Mp.state!==void 0?Mp.state:null,Mp.updater=DT,gp.stateNode=Mp,Mp._reactInternals=gp,A3&&(gp=gp.stateNode,gp.__reactInternalMemoizedUnmaskedChildContext=X_,gp.__reactInternalMemoizedMaskedChildContext=zx),Mp}function gB(gp,Mp,Km,A3){gp=Mp.state,typeof Mp.componentWillReceiveProps=="function"&&Mp.componentWillReceiveProps(Km,A3),typeof Mp.UNSAFE_componentWillReceiveProps=="function"&&Mp.UNSAFE_componentWillReceiveProps(Km,A3),Mp.state!==gp&&DT.enqueueReplaceState(Mp,Mp.state,null)}function yR(gp,Mp,Km,A3){var X_=gp.stateNode;X_.props=Km,X_.state=gp.memoizedState,X_.refs=dB,gR(gp);var zx=Mp.contextType;typeof zx=="object"&&zx!==null?X_.context=kE(zx):(zx=KM(Mp)?UM:DM.current,X_.context=WM(gp,zx)),X_.state=gp.memoizedState,zx=Mp.getDerivedStateFromProps,typeof zx=="function"&&(vR(gp,Mp,zx,Km),X_.state=gp.memoizedState),typeof Mp.getDerivedStateFromProps=="function"||typeof X_.getSnapshotBeforeUpdate=="function"||typeof X_.UNSAFE_componentWillMount!="function"&&typeof X_.componentWillMount!="function"||(Mp=X_.state,typeof X_.componentWillMount=="function"&&X_.componentWillMount(),typeof X_.UNSAFE_componentWillMount=="function"&&X_.UNSAFE_componentWillMount(),Mp!==X_.state&&DT.enqueueReplaceState(X_,X_.state,null),LT(gp,Km,X_,A3),X_.state=gp.memoizedState),typeof X_.componentDidMount=="function"&&(gp.flags|=4194308)}var i9=[],o9=0,OT=null,NT=0,lC=[],uC=0,WC=null,SC=1,MC="";function GC(gp,Mp){i9[o9++]=NT,i9[o9++]=OT,OT=gp,NT=Mp}function vB(gp,Mp,Km){lC[uC++]=SC,lC[uC++]=MC,lC[uC++]=WC,WC=gp;var A3=SC;gp=MC;var X_=32-eE(A3)-1;A3&=~(1<<X_),Km+=1;var zx=32-eE(Mp)+X_;if(30<zx){var aM=X_-X_%5;zx=(A3&(1<<aM)-1).toString(32),A3>>=aM,X_-=aM,SC=1<<32-eE(Mp)+X_|Km<<X_|A3,MC=zx+gp}else SC=1<<zx|Km<<X_|A3,MC=gp}function bR(gp){gp.return!==null&&(GC(gp,1),vB(gp,1,0))}function _R(gp){for(;gp===OT;)OT=i9[--o9],i9[o9]=null,NT=i9[--o9],i9[o9]=null;for(;gp===WC;)WC=lC[--uC],lC[uC]=null,MC=lC[--uC],lC[uC]=null,SC=lC[--uC],lC[uC]=null}var nC=null,iC=null,SE=!1,fT=!1,gC=null;function yB(gp,Mp){var Km=dC(5,null,null,0);Km.elementType="DELETED",Km.stateNode=Mp,Km.return=gp,Mp=gp.deletions,Mp===null?(gp.deletions=[Km],gp.flags|=16):Mp.push(Km)}function bB(gp,Mp){switch(gp.tag){case 5:return Mp=VM(Mp,gp.type,gp.pendingProps),Mp!==null?(gp.stateNode=Mp,nC=gp,iC=Lw(Mp),!0):!1;case 6:return Mp=SM(Mp,gp.pendingProps),Mp!==null?(gp.stateNode=Mp,nC=gp,iC=null,!0):!1;case 13:if(Mp=gM(Mp),Mp!==null){var Km=WC!==null?{id:SC,overflow:MC}:null;return gp.memoizedState={dehydrated:Mp,treeContext:Km,retryLane:1073741824},Km=dC(18,null,null,0),Km.stateNode=Mp,Km.return=gp,gp.child=Km,nC=gp,iC=null,!0}return!1;default:return!1}}function wR(gp){return(gp.mode&1)!==0&&(gp.flags&128)===0}function xR(gp){if(SE){var Mp=iC;if(Mp){var Km=Mp;if(!bB(gp,Mp)){if(wR(gp))throw Error(Zt(418));Mp=B_(Km);var A3=nC;Mp&&bB(gp,Mp)?yB(A3,Km):(gp.flags=gp.flags&-4097|2,SE=!1,nC=gp)}}else{if(wR(gp))throw Error(Zt(418));gp.flags=gp.flags&-4097|2,SE=!1,nC=gp}}}function _B(gp){for(gp=gp.return;gp!==null&&gp.tag!==5&&gp.tag!==3&&gp.tag!==13;)gp=gp.return;nC=gp}function hT(gp){if(!W_||gp!==nC)return!1;if(!SE)return _B(gp),SE=!0,!1;if(gp.tag!==3&&(gp.tag!==5||bM(gp.type)&&!L_(gp.type,gp.memoizedProps))){var Mp=iC;if(Mp){if(wR(gp)){for(gp=iC;gp;)gp=B_(gp);throw Error(Zt(418))}for(;Mp;)yB(gp,Mp),Mp=B_(Mp)}}if(_B(gp),gp.tag===13){if(!W_)throw Error(Zt(316));if(gp=gp.memoizedState,gp=gp!==null?gp.dehydrated:null,!gp)throw Error(Zt(317));iC=l4(gp)}else iC=nC?B_(gp.stateNode):null;return!0}function s9(){W_&&(iC=nC=null,fT=SE=!1)}function AR(gp){gC===null?gC=[gp]:gC.push(gp)}function dT(gp,Mp,Km){if(gp=Km.ref,gp!==null&&typeof gp!="function"&&typeof gp!="object"){if(Km._owner){if(Km=Km._owner,Km){if(Km.tag!==1)throw Error(Zt(309));var A3=Km.stateNode}if(!A3)throw Error(Zt(147,gp));var X_=A3,zx=""+gp;return Mp!==null&&Mp.ref!==null&&typeof Mp.ref=="function"&&Mp.ref._stringRef===zx?Mp.ref:(Mp=function(aM){var MM=X_.refs;MM===dB&&(MM=X_.refs={}),aM===null?delete MM[zx]:MM[zx]=aM},Mp._stringRef=zx,Mp)}if(typeof gp!="string")throw Error(Zt(284));if(!Km._owner)throw Error(Zt(290,gp))}return gp}function $T(gp,Mp){throw gp=Object.prototype.toString.call(Mp),Error(Zt(31,gp==="[object Object]"?"object with keys {"+Object.keys(Mp).join(", ")+"}":gp))}function wB(gp){var Mp=gp._init;return Mp(gp._payload)}function xB(gp){function Mp(OM,TM){if(gp){var FM=OM.deletions;FM===null?(OM.deletions=[TM],OM.flags|=16):FM.push(TM)}}function Km(OM,TM){if(!gp)return null;for(;TM!==null;)Mp(OM,TM),TM=TM.sibling;return null}function A3(OM,TM){for(OM=new Map;TM!==null;)TM.key!==null?OM.set(TM.key,TM):OM.set(TM.index,TM),TM=TM.sibling;return OM}function X_(OM,TM){return OM=OC(OM,TM),OM.index=0,OM.sibling=null,OM}function zx(OM,TM,FM){return OM.index=FM,gp?(FM=OM.alternate,FM!==null?(FM=FM.index,FM<TM?(OM.flags|=2,TM):FM):(OM.flags|=2,TM)):(OM.flags|=1048576,TM)}function aM(OM){return gp&&OM.alternate===null&&(OM.flags|=2),OM}function MM(OM,TM,FM,JM){return TM===null||TM.tag!==6?(TM=sB(FM,OM.mode,JM),TM.return=OM,TM):(TM=X_(TM,FM),TM.return=OM,TM)}function zM(OM,TM,FM,JM){var tE=FM.type;return tE===xn?ZM(OM,TM,FM.props.children,JM,FM.key):TM!==null&&(TM.elementType===tE||typeof tE=="object"&&tE!==null&&tE.$$typeof===cp&&wB(tE)===TM.type)?(JM=X_(TM,FM.props),JM.ref=dT(OM,TM,FM),JM.return=OM,JM):(JM=pR(FM.type,FM.key,FM.props,null,OM.mode,JM),JM.ref=dT(OM,TM,FM),JM.return=OM,JM)}function qM(OM,TM,FM,JM){return TM===null||TM.tag!==4||TM.stateNode.containerInfo!==FM.containerInfo||TM.stateNode.implementation!==FM.implementation?(TM=aB(FM,OM.mode,JM),TM.return=OM,TM):(TM=X_(TM,FM.children||[]),TM.return=OM,TM)}function ZM(OM,TM,FM,JM,tE){return TM===null||TM.tag!==7?(TM=JC(FM,OM.mode,JM,tE),TM.return=OM,TM):(TM=X_(TM,FM),TM.return=OM,TM)}function aE(OM,TM,FM){if(typeof TM=="string"&&TM!==""||typeof TM=="number")return TM=sB(""+TM,OM.mode,FM),TM.return=OM,TM;if(typeof TM=="object"&&TM!==null){switch(TM.$$typeof){case Gr:return FM=pR(TM.type,TM.key,TM.props,null,OM.mode,FM),FM.ref=dT(OM,null,TM),FM.return=OM,FM;case Zr:return TM=aB(TM,OM.mode,FM),TM.return=OM,TM;case cp:var JM=TM._init;return aE(OM,JM(TM._payload),FM)}if(us(TM)||jp(TM))return TM=JC(TM,OM.mode,FM,null),TM.return=OM,TM;$T(OM,TM)}return null}function oE(OM,TM,FM,JM){var tE=TM!==null?TM.key:null;if(typeof FM=="string"&&FM!==""||typeof FM=="number")return tE!==null?null:MM(OM,TM,""+FM,JM);if(typeof FM=="object"&&FM!==null){switch(FM.$$typeof){case Gr:return FM.key===tE?zM(OM,TM,FM,JM):null;case Zr:return FM.key===tE?qM(OM,TM,FM,JM):null;case cp:return tE=FM._init,oE(OM,TM,tE(FM._payload),JM)}if(us(FM)||jp(FM))return tE!==null?null:ZM(OM,TM,FM,JM,null);$T(OM,FM)}return null}function wE(OM,TM,FM,JM,tE){if(typeof JM=="string"&&JM!==""||typeof JM=="number")return OM=OM.get(FM)||null,MM(TM,OM,""+JM,tE);if(typeof JM=="object"&&JM!==null){switch(JM.$$typeof){case Gr:return OM=OM.get(JM.key===null?FM:JM.key)||null,zM(TM,OM,JM,tE);case Zr:return OM=OM.get(JM.key===null?FM:JM.key)||null,qM(TM,OM,JM,tE);case cp:var uE=JM._init;return wE(OM,TM,FM,uE(JM._payload),tE)}if(us(JM)||jp(JM))return OM=OM.get(FM)||null,ZM(TM,OM,JM,tE,null);$T(TM,JM)}return null}function rE(OM,TM,FM,JM){for(var tE=null,uE=null,lE=TM,mE=TM=0,FE=null;lE!==null&&mE<FM.length;mE++){lE.index>mE?(FE=lE,lE=null):FE=lE.sibling;var gE=oE(OM,lE,FM[mE],JM);if(gE===null){lE===null&&(lE=FE);break}gp&&lE&&gE.alternate===null&&Mp(OM,lE),TM=zx(gE,TM,mE),uE===null?tE=gE:uE.sibling=gE,uE=gE,lE=FE}if(mE===FM.length)return Km(OM,lE),SE&&GC(OM,mE),tE;if(lE===null){for(;mE<FM.length;mE++)lE=aE(OM,FM[mE],JM),lE!==null&&(TM=zx(lE,TM,mE),uE===null?tE=lE:uE.sibling=lE,uE=lE);return SE&&GC(OM,mE),tE}for(lE=A3(OM,lE);mE<FM.length;mE++)FE=wE(lE,OM,mE,FM[mE],JM),FE!==null&&(gp&&FE.alternate!==null&&lE.delete(FE.key===null?mE:FE.key),TM=zx(FE,TM,mE),uE===null?tE=FE:uE.sibling=FE,uE=FE);return gp&&lE.forEach(function(NC){return Mp(OM,NC)}),SE&&GC(OM,mE),tE}function GE(OM,TM,FM,JM){var tE=jp(FM);if(typeof tE!="function")throw Error(Zt(150));if(FM=tE.call(FM),FM==null)throw Error(Zt(151));for(var uE=tE=null,lE=TM,mE=TM=0,FE=null,gE=FM.next();lE!==null&&!gE.done;mE++,gE=FM.next()){lE.index>mE?(FE=lE,lE=null):FE=lE.sibling;var NC=oE(OM,lE,gE.value,JM);if(NC===null){lE===null&&(lE=FE);break}gp&&lE&&NC.alternate===null&&Mp(OM,lE),TM=zx(NC,TM,mE),uE===null?tE=NC:uE.sibling=NC,uE=NC,lE=FE}if(gE.done)return Km(OM,lE),SE&&GC(OM,mE),tE;if(lE===null){for(;!gE.done;mE++,gE=FM.next())gE=aE(OM,gE.value,JM),gE!==null&&(TM=zx(gE,TM,mE),uE===null?tE=gE:uE.sibling=gE,uE=gE);return SE&&GC(OM,mE),tE}for(lE=A3(OM,lE);!gE.done;mE++,gE=FM.next())gE=wE(lE,OM,mE,gE.value,JM),gE!==null&&(gp&&gE.alternate!==null&&lE.delete(gE.key===null?mE:gE.key),TM=zx(gE,TM,mE),uE===null?tE=gE:uE.sibling=gE,uE=gE);return gp&&lE.forEach(function(fP){return Mp(OM,fP)}),SE&&GC(OM,mE),tE}function pC(OM,TM,FM,JM){if(typeof FM=="object"&&FM!==null&&FM.type===xn&&FM.key===null&&(FM=FM.props.children),typeof FM=="object"&&FM!==null){switch(FM.$$typeof){case Gr:e:{for(var tE=FM.key,uE=TM;uE!==null;){if(uE.key===tE){if(tE=FM.type,tE===xn){if(uE.tag===7){Km(OM,uE.sibling),TM=X_(uE,FM.props.children),TM.return=OM,OM=TM;break e}}else if(uE.elementType===tE||typeof tE=="object"&&tE!==null&&tE.$$typeof===cp&&wB(tE)===uE.type){Km(OM,uE.sibling),TM=X_(uE,FM.props),TM.ref=dT(OM,uE,FM),TM.return=OM,OM=TM;break e}Km(OM,uE);break}else Mp(OM,uE);uE=uE.sibling}FM.type===xn?(TM=JC(FM.props.children,OM.mode,JM,FM.key),TM.return=OM,OM=TM):(JM=pR(FM.type,FM.key,FM.props,null,OM.mode,JM),JM.ref=dT(OM,TM,FM),JM.return=OM,OM=JM)}return aM(OM);case Zr:e:{for(uE=FM.key;TM!==null;){if(TM.key===uE)if(TM.tag===4&&TM.stateNode.containerInfo===FM.containerInfo&&TM.stateNode.implementation===FM.implementation){Km(OM,TM.sibling),TM=X_(TM,FM.children||[]),TM.return=OM,OM=TM;break e}else{Km(OM,TM);break}else Mp(OM,TM);TM=TM.sibling}TM=aB(FM,OM.mode,JM),TM.return=OM,OM=TM}return aM(OM);case cp:return uE=FM._init,pC(OM,TM,uE(FM._payload),JM)}if(us(FM))return rE(OM,TM,FM,JM);if(jp(FM))return GE(OM,TM,FM,JM);$T(OM,FM)}return typeof FM=="string"&&FM!==""||typeof FM=="number"?(FM=""+FM,TM!==null&&TM.tag===6?(Km(OM,TM.sibling),TM=X_(TM,FM),TM.return=OM,OM=TM):(Km(OM,TM),TM=sB(FM,OM.mode,JM),TM.return=OM,OM=TM),aM(OM)):Km(OM,TM)}return pC}var w9=xB(!0),AB=xB(!1),pT={},cC=CM(pT),mT=CM(pT),T9=CM(pT);function bC(gp){if(gp===pT)throw Error(Zt(174));return gp}function SR(gp,Mp){dM(T9,Mp),dM(mT,gp),dM(cC,pT),gp=ip(Mp),pM(cC),dM(cC,gp)}function eT(){pM(cC),pM(mT),pM(T9)}function SB(gp){var Mp=bC(T9.current),Km=bC(cC.current);Mp=lp(Km,gp.type,Mp),Km!==Mp&&(dM(mT,gp),dM(cC,Mp))}function MR(gp){mT.current===gp&&(pM(cC),pM(mT))}var CE=CM(0);function FT(gp){for(var Mp=gp;Mp!==null;){if(Mp.tag===13){var Km=Mp.memoizedState;if(Km!==null&&(Km=Km.dehydrated,Km===null||Z_(Km)||Bw(Km)))return Mp}else if(Mp.tag===19&&Mp.memoizedProps.revealOrder!==void 0){if(Mp.flags&128)return Mp}else if(Mp.child!==null){Mp.child.return=Mp,Mp=Mp.child;continue}if(Mp===gp)break;for(;Mp.sibling===null;){if(Mp.return===null||Mp.return===gp)return null;Mp=Mp.return}Mp.sibling.return=Mp.return,Mp=Mp.sibling}return null}var ER=[];function CR(){for(var gp=0;gp<ER.length;gp++){var Mp=ER[gp];j_?Mp._workInProgressVersionPrimary=null:Mp._workInProgressVersionSecondary=null}ER.length=0}var UT=cr.ReactCurrentDispatcher,fC=cr.ReactCurrentBatchConfig,tT=0,TE=null,zE=null,$E=null,zT=!1,gT=!1,vT=0,OI=0;function HE(){throw Error(Zt(321))}function TR(gp,Mp){if(Mp===null)return!1;for(var Km=0;Km<Mp.length&&Km<gp.length;Km++)if(!tC(gp[Km],Mp[Km]))return!1;return!0}function RR(gp,Mp,Km,A3,X_,zx){if(tT=zx,TE=Mp,Mp.memoizedState=null,Mp.updateQueue=null,Mp.lanes=0,UT.current=gp===null||gp.memoizedState===null?UI:zI,gp=Km(A3,X_),gT){zx=0;do{if(gT=!1,vT=0,25<=zx)throw Error(Zt(301));zx+=1,$E=zE=null,Mp.updateQueue=null,UT.current=HI,gp=Km(A3,X_)}while(gT)}if(UT.current=VT,Mp=zE!==null&&zE.next!==null,tT=0,$E=zE=TE=null,zT=!1,Mp)throw Error(Zt(300));return gp}function BR(){var gp=vT!==0;return vT=0,gp}function EC(){var gp={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $E===null?TE.memoizedState=$E=gp:$E=$E.next=gp,$E}function _C(){if(zE===null){var gp=TE.alternate;gp=gp!==null?gp.memoizedState:null}else gp=zE.next;var Mp=$E===null?TE.memoizedState:$E.next;if(Mp!==null)$E=Mp,zE=gp;else{if(gp===null)throw Error(Zt(310));zE=gp,gp={memoizedState:zE.memoizedState,baseState:zE.baseState,baseQueue:zE.baseQueue,queue:zE.queue,next:null},$E===null?TE.memoizedState=$E=gp:$E=$E.next=gp}return $E}function qC(gp,Mp){return typeof Mp=="function"?Mp(gp):Mp}function HT(gp){var Mp=_C(),Km=Mp.queue;if(Km===null)throw Error(Zt(311));Km.lastRenderedReducer=gp;var A3=zE,X_=A3.baseQueue,zx=Km.pending;if(zx!==null){if(X_!==null){var aM=X_.next;X_.next=zx.next,zx.next=aM}A3.baseQueue=X_=zx,Km.pending=null}if(X_!==null){zx=X_.next,A3=A3.baseState;var MM=aM=null,zM=null,qM=zx;do{var ZM=qM.lane;if((tT&ZM)===ZM)zM!==null&&(zM=zM.next={lane:0,action:qM.action,hasEagerState:qM.hasEagerState,eagerState:qM.eagerState,next:null}),A3=qM.hasEagerState?qM.eagerState:gp(A3,qM.action);else{var aE={lane:ZM,action:qM.action,hasEagerState:qM.hasEagerState,eagerState:qM.eagerState,next:null};zM===null?(MM=zM=aE,aM=A3):zM=zM.next=aE,TE.lanes|=ZM,nT|=ZM}qM=qM.next}while(qM!==null&&qM!==zx);zM===null?aM=A3:zM.next=MM,tC(A3,Mp.memoizedState)||(oC=!0),Mp.memoizedState=A3,Mp.baseState=aM,Mp.baseQueue=zM,Km.lastRenderedState=A3}if(gp=Km.interleaved,gp!==null){X_=gp;do zx=X_.lane,TE.lanes|=zx,nT|=zx,X_=X_.next;while(X_!==gp)}else X_===null&&(Km.lanes=0);return[Mp.memoizedState,Km.dispatch]}function WT(gp){var Mp=_C(),Km=Mp.queue;if(Km===null)throw Error(Zt(311));Km.lastRenderedReducer=gp;var A3=Km.dispatch,X_=Km.pending,zx=Mp.memoizedState;if(X_!==null){Km.pending=null;var aM=X_=X_.next;do zx=gp(zx,aM.action),aM=aM.next;while(aM!==X_);tC(zx,Mp.memoizedState)||(oC=!0),Mp.memoizedState=zx,Mp.baseQueue===null&&(Mp.baseState=zx),Km.lastRenderedState=zx}return[zx,A3]}function MB(){}function EB(gp,Mp){var Km=TE,A3=_C(),X_=Mp(),zx=!tC(A3.memoizedState,X_);if(zx&&(A3.memoizedState=X_,oC=!0),A3=A3.queue,bT(RB.bind(null,Km,A3,gp),[gp]),A3.getSnapshot!==Mp||zx||$E!==null&&$E.memoizedState.tag&1){if(Km.flags|=2048,yT(9,TB.bind(null,Km,A3,X_,Mp),void 0,null),PE===null)throw Error(Zt(349));tT&30||CB(Km,Mp,X_)}return X_}function CB(gp,Mp,Km){gp.flags|=16384,gp={getSnapshot:Mp,value:Km},Mp=TE.updateQueue,Mp===null?(Mp={lastEffect:null,stores:null},TE.updateQueue=Mp,Mp.stores=[gp]):(Km=Mp.stores,Km===null?Mp.stores=[gp]:Km.push(gp))}function TB(gp,Mp,Km,A3){Mp.value=Km,Mp.getSnapshot=A3,BB(Mp)&&hC(gp,1,-1)}function RB(gp,Mp,Km){return Km(function(){BB(Mp)&&hC(gp,1,-1)})}function BB(gp){var Mp=gp.getSnapshot;gp=gp.value;try{var Km=Mp();return!tC(gp,Km)}catch{return!0}}function kR(gp){var Mp=EC();return typeof gp=="function"&&(gp=gp()),Mp.memoizedState=Mp.baseState=gp,gp={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qC,lastRenderedState:gp},Mp.queue=gp,gp=gp.dispatch=FI.bind(null,TE,gp),[Mp.memoizedState,gp]}function yT(gp,Mp,Km,A3){return gp={tag:gp,create:Mp,destroy:Km,deps:A3,next:null},Mp=TE.updateQueue,Mp===null?(Mp={lastEffect:null,stores:null},TE.updateQueue=Mp,Mp.lastEffect=gp.next=gp):(Km=Mp.lastEffect,Km===null?Mp.lastEffect=gp.next=gp:(A3=Km.next,Km.next=gp,gp.next=A3,Mp.lastEffect=gp)),gp}function kB(){return _C().memoizedState}function GT(gp,Mp,Km,A3){var X_=EC();TE.flags|=gp,X_.memoizedState=yT(1|Mp,Km,void 0,A3===void 0?null:A3)}function qT(gp,Mp,Km,A3){var X_=_C();A3=A3===void 0?null:A3;var zx=void 0;if(zE!==null){var aM=zE.memoizedState;if(zx=aM.destroy,A3!==null&&TR(A3,aM.deps)){X_.memoizedState=yT(Mp,Km,zx,A3);return}}TE.flags|=gp,X_.memoizedState=yT(1|Mp,Km,zx,A3)}function IR(gp,Mp){return GT(8390656,8,gp,Mp)}function bT(gp,Mp){return qT(2048,8,gp,Mp)}function IB(gp,Mp){return qT(4,2,gp,Mp)}function PB(gp,Mp){return qT(4,4,gp,Mp)}function LB(gp,Mp){if(typeof Mp=="function")return gp=gp(),Mp(gp),function(){Mp(null)};if(Mp!=null)return gp=gp(),Mp.current=gp,function(){Mp.current=null}}function DB(gp,Mp,Km){return Km=Km!=null?Km.concat([gp]):null,qT(4,4,LB.bind(null,Mp,gp),Km)}function PR(){}function OB(gp,Mp){var Km=_C();Mp=Mp===void 0?null:Mp;var A3=Km.memoizedState;return A3!==null&&Mp!==null&&TR(Mp,A3[1])?A3[0]:(Km.memoizedState=[gp,Mp],gp)}function NB(gp,Mp){var Km=_C();Mp=Mp===void 0?null:Mp;var A3=Km.memoizedState;return A3!==null&&Mp!==null&&TR(Mp,A3[1])?A3[0]:(gp=gp(),Km.memoizedState=[gp,Mp],gp)}function NI(gp,Mp){var Km=dE;dE=Km!==0&&4>Km?Km:4,gp(!0);var A3=fC.transition;fC.transition={};try{gp(!1),Mp()}finally{dE=Km,fC.transition=A3}}function $B(){return _C().memoizedState}function $I(gp,Mp,Km){var A3=LC(gp);Km={lane:A3,action:Km,hasEagerState:!1,eagerState:null,next:null},FB(gp)?UB(Mp,Km):(zB(gp,Mp,Km),Km=YE(),gp=hC(gp,A3,Km),gp!==null&&HB(gp,Mp,A3))}function FI(gp,Mp,Km){var A3=LC(gp),X_={lane:A3,action:Km,hasEagerState:!1,eagerState:null,next:null};if(FB(gp))UB(Mp,X_);else{zB(gp,Mp,X_);var zx=gp.alternate;if(gp.lanes===0&&(zx===null||zx.lanes===0)&&(zx=Mp.lastRenderedReducer,zx!==null))try{var aM=Mp.lastRenderedState,MM=zx(aM,Km);if(X_.hasEagerState=!0,X_.eagerState=MM,tC(MM,aM))return}catch{}finally{}Km=YE(),gp=hC(gp,A3,Km),gp!==null&&HB(gp,Mp,A3)}}function FB(gp){var Mp=gp.alternate;return gp===TE||Mp!==null&&Mp===TE}function UB(gp,Mp){gT=zT=!0;var Km=gp.pending;Km===null?Mp.next=Mp:(Mp.next=Km.next,Km.next=Mp),gp.pending=Mp}function zB(gp,Mp,Km){PE!==null&&gp.mode&1&&!(fE&2)?(gp=Mp.interleaved,gp===null?(Km.next=Km,rC===null?rC=[Mp]:rC.push(Mp)):(Km.next=gp.next,gp.next=Km),Mp.interleaved=Km):(gp=Mp.pending,gp===null?Km.next=Km:(Km.next=gp.next,gp.next=Km),Mp.pending=Km)}function HB(gp,Mp,Km){if(Km&4194240){var A3=Mp.lanes;A3&=gp.pendingLanes,Km|=A3,Mp.lanes=Km,vC(gp,Km)}}var VT={readContext:kE,useCallback:HE,useContext:HE,useEffect:HE,useImperativeHandle:HE,useInsertionEffect:HE,useLayoutEffect:HE,useMemo:HE,useReducer:HE,useRef:HE,useState:HE,useDebugValue:HE,useDeferredValue:HE,useTransition:HE,useMutableSource:HE,useSyncExternalStore:HE,useId:HE,unstable_isNewReconciler:!1},UI={readContext:kE,useCallback:function(gp,Mp){return EC().memoizedState=[gp,Mp===void 0?null:Mp],gp},useContext:kE,useEffect:IR,useImperativeHandle:function(gp,Mp,Km){return Km=Km!=null?Km.concat([gp]):null,GT(4194308,4,LB.bind(null,Mp,gp),Km)},useLayoutEffect:function(gp,Mp){return GT(4194308,4,gp,Mp)},useInsertionEffect:function(gp,Mp){return GT(4,2,gp,Mp)},useMemo:function(gp,Mp){var Km=EC();return Mp=Mp===void 0?null:Mp,gp=gp(),Km.memoizedState=[gp,Mp],gp},useReducer:function(gp,Mp,Km){var A3=EC();return Mp=Km!==void 0?Km(Mp):Mp,A3.memoizedState=A3.baseState=Mp,gp={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:Mp},A3.queue=gp,gp=gp.dispatch=$I.bind(null,TE,gp),[A3.memoizedState,gp]},useRef:function(gp){var Mp=EC();return gp={current:gp},Mp.memoizedState=gp},useState:kR,useDebugValue:PR,useDeferredValue:function(gp){var Mp=kR(gp),Km=Mp[0],A3=Mp[1];return IR(function(){var X_=fC.transition;fC.transition={};try{A3(gp)}finally{fC.transition=X_}},[gp]),Km},useTransition:function(){var gp=kR(!1),Mp=gp[0];return gp=NI.bind(null,gp[1]),EC().memoizedState=gp,[Mp,gp]},useMutableSource:function(){},useSyncExternalStore:function(gp,Mp,Km){var A3=TE,X_=EC();if(SE){if(Km===void 0)throw Error(Zt(407));Km=Km()}else{if(Km=Mp(),PE===null)throw Error(Zt(349));tT&30||CB(A3,Mp,Km)}X_.memoizedState=Km;var zx={value:Km,getSnapshot:Mp};return X_.queue=zx,IR(RB.bind(null,A3,zx,gp),[gp]),A3.flags|=2048,yT(9,TB.bind(null,A3,zx,Km,Mp),void 0,null),Km},useId:function(){var gp=EC(),Mp=PE.identifierPrefix;if(SE){var Km=MC,A3=SC;Km=(A3&~(1<<32-eE(A3)-1)).toString(32)+Km,Mp=":"+Mp+"R"+Km,Km=vT++,0<Km&&(Mp+="H"+Km.toString(32)),Mp+=":"}else Km=OI++,Mp=":"+Mp+"r"+Km.toString(32)+":";return gp.memoizedState=Mp},unstable_isNewReconciler:!1},zI={readContext:kE,useCallback:OB,useContext:kE,useEffect:bT,useImperativeHandle:DB,useInsertionEffect:IB,useLayoutEffect:PB,useMemo:NB,useReducer:HT,useRef:kB,useState:function(){return HT(qC)},useDebugValue:PR,useDeferredValue:function(gp){var Mp=HT(qC),Km=Mp[0],A3=Mp[1];return bT(function(){var X_=fC.transition;fC.transition={};try{A3(gp)}finally{fC.transition=X_}},[gp]),Km},useTransition:function(){var gp=HT(qC)[0],Mp=_C().memoizedState;return[gp,Mp]},useMutableSource:MB,useSyncExternalStore:EB,useId:$B,unstable_isNewReconciler:!1},HI={readContext:kE,useCallback:OB,useContext:kE,useEffect:bT,useImperativeHandle:DB,useInsertionEffect:IB,useLayoutEffect:PB,useMemo:NB,useReducer:WT,useRef:kB,useState:function(){return WT(qC)},useDebugValue:PR,useDeferredValue:function(gp){var Mp=WT(qC),Km=Mp[0],A3=Mp[1];return bT(function(){var X_=fC.transition;fC.transition={};try{A3(gp)}finally{fC.transition=X_}},[gp]),Km},useTransition:function(){var gp=WT(qC)[0],Mp=_C().memoizedState;return[gp,Mp]},useMutableSource:MB,useSyncExternalStore:EB,useId:$B,unstable_isNewReconciler:!1};function LR(gp,Mp){try{var Km="",A3=Mp;do Km+=HC(A3),A3=A3.return;while(A3);var X_=Km}catch(zx){X_=`
Error generating stack: `+zx.message+`
`+zx.stack}return{value:gp,source:Mp,stack:X_}}function DR(gp,Mp){try{console.error(Mp.value)}catch(Km){setTimeout(function(){throw Km})}}var WI=typeof WeakMap=="function"?WeakMap:Map;function WB(gp,Mp,Km){Km=AC(-1,Km),Km.tag=3,Km.payload={element:null};var A3=Mp.value;return Km.callback=function(){aR||(aR=!0,ZR=A3),DR(gp,Mp)},Km}function GB(gp,Mp,Km){Km=AC(-1,Km),Km.tag=3;var A3=gp.type.getDerivedStateFromError;if(typeof A3=="function"){var X_=Mp.value;Km.payload=function(){return A3(X_)},Km.callback=function(){DR(gp,Mp)}}var zx=gp.stateNode;return zx!==null&&typeof zx.componentDidCatch=="function"&&(Km.callback=function(){DR(gp,Mp),typeof A3!="function"&&(IC===null?IC=new Set([this]):IC.add(this));var aM=Mp.stack;this.componentDidCatch(Mp.value,{componentStack:aM!==null?aM:""})}),Km}function qB(gp,Mp,Km){var A3=gp.pingCache;if(A3===null){A3=gp.pingCache=new WI;var X_=new Set;A3.set(Mp,X_)}else X_=A3.get(Mp),X_===void 0&&(X_=new Set,A3.set(Mp,X_));X_.has(Km)||(X_.add(Km),gp=nP.bind(null,gp,Mp,Km),Mp.then(gp,gp))}function VB(gp){do{var Mp;if((Mp=gp.tag===13)&&(Mp=gp.memoizedState,Mp=Mp!==null?Mp.dehydrated!==null:!0),Mp)return gp;gp=gp.return}while(gp!==null);return null}function jB(gp,Mp,Km,A3,X_){return gp.mode&1?(gp.flags|=65536,gp.lanes=X_,gp):(gp===Mp?gp.flags|=65536:(gp.flags|=128,Km.flags|=131072,Km.flags&=-52805,Km.tag===1&&(Km.alternate===null?Km.tag=17:(Mp=AC(-1,1),Mp.tag=2,kC(Km,Mp))),Km.lanes|=1),gp)}function wC(gp){gp.flags|=4}function KB(gp,Mp){if(gp!==null&&gp.child===Mp.child)return!0;if(Mp.flags&16)return!1;for(gp=Mp.child;gp!==null;){if(gp.flags&12854||gp.subtreeFlags&12854)return!1;gp=gp.sibling}return!0}var _T,wT,jT,KT;if(h3)_T=function(gp,Mp){for(var Km=Mp.child;Km!==null;){if(Km.tag===5||Km.tag===6)kp(gp,Km.stateNode);else if(Km.tag!==4&&Km.child!==null){Km.child.return=Km,Km=Km.child;continue}if(Km===Mp)break;for(;Km.sibling===null;){if(Km.return===null||Km.return===Mp)return;Km=Km.return}Km.sibling.return=Km.return,Km=Km.sibling}},wT=function(){},jT=function(gp,Mp,Km,A3,X_){if(gp=gp.memoizedProps,gp!==A3){var zx=Mp.stateNode,aM=bC(cC.current);Km=b3(zx,Km,gp,A3,X_,aM),(Mp.updateQueue=Km)&&wC(Mp)}},KT=function(gp,Mp,Km,A3){Km!==A3&&wC(Mp)};else if(Fp){_T=function(gp,Mp,Km,A3){for(var X_=Mp.child;X_!==null;){if(X_.tag===5){var zx=X_.stateNode;Km&&A3&&(zx=xM(zx,X_.type,X_.memoizedProps,X_)),kp(gp,zx)}else if(X_.tag===6)zx=X_.stateNode,Km&&A3&&(zx=RM(zx,X_.memoizedProps,X_)),kp(gp,zx);else if(X_.tag!==4){if(X_.tag===22&&X_.memoizedState!==null)zx=X_.child,zx!==null&&(zx.return=X_),_T(gp,X_,!0,!0);else if(X_.child!==null){X_.child.return=X_,X_=X_.child;continue}}if(X_===Mp)break;for(;X_.sibling===null;){if(X_.return===null||X_.return===Mp)return;X_=X_.return}X_.sibling.return=X_.return,X_=X_.sibling}};var XB=function(gp,Mp,Km,A3){for(var X_=Mp.child;X_!==null;){if(X_.tag===5){var zx=X_.stateNode;Km&&A3&&(zx=xM(zx,X_.type,X_.memoizedProps,X_)),lM(gp,zx)}else if(X_.tag===6)zx=X_.stateNode,Km&&A3&&(zx=RM(zx,X_.memoizedProps,X_)),lM(gp,zx);else if(X_.tag!==4){if(X_.tag===22&&X_.memoizedState!==null)zx=X_.child,zx!==null&&(zx.return=X_),XB(gp,X_,!0,!0);else if(X_.child!==null){X_.child.return=X_,X_=X_.child;continue}}if(X_===Mp)break;for(;X_.sibling===null;){if(X_.return===null||X_.return===Mp)return;X_=X_.return}X_.sibling.return=X_.return,X_=X_.sibling}};wT=function(gp,Mp){var Km=Mp.stateNode;if(!KB(gp,Mp)){gp=Km.containerInfo;var A3=AM(gp);XB(A3,Mp,!1,!1),Km.pendingChildren=A3,wC(Mp),vM(gp,A3)}},jT=function(gp,Mp,Km,A3,X_){var zx=gp.stateNode,aM=gp.memoizedProps;if((gp=KB(gp,Mp))&&aM===A3)Mp.stateNode=zx;else{var MM=Mp.stateNode,zM=bC(cC.current),qM=null;aM!==A3&&(qM=b3(MM,Km,aM,A3,X_,zM)),gp&&qM===null?Mp.stateNode=zx:(zx=fM(zx,qM,Km,aM,A3,Mp,gp,MM),cm(zx,Km,A3,X_,zM)&&wC(Mp),Mp.stateNode=zx,gp?wC(Mp):_T(zx,Mp,!1,!1))}},KT=function(gp,Mp,Km,A3){Km!==A3?(gp=bC(T9.current),Km=bC(cC.current),Mp.stateNode=Ym(A3,gp,Km,Mp),wC(Mp)):Mp.stateNode=gp.stateNode}}else wT=function(){},jT=function(){},KT=function(){};function xT(gp,Mp){if(!SE)switch(gp.tailMode){case"hidden":Mp=gp.tail;for(var Km=null;Mp!==null;)Mp.alternate!==null&&(Km=Mp),Mp=Mp.sibling;Km===null?gp.tail=null:Km.sibling=null;break;case"collapsed":Km=gp.tail;for(var A3=null;Km!==null;)Km.alternate!==null&&(A3=Km),Km=Km.sibling;A3===null?Mp||gp.tail===null?gp.tail=null:gp.tail.sibling=null:A3.sibling=null}}function WE(gp){var Mp=gp.alternate!==null&&gp.alternate.child===gp.child,Km=0,A3=0;if(Mp)for(var X_=gp.child;X_!==null;)Km|=X_.lanes|X_.childLanes,A3|=X_.subtreeFlags&14680064,A3|=X_.flags&14680064,X_.return=gp,X_=X_.sibling;else for(X_=gp.child;X_!==null;)Km|=X_.lanes|X_.childLanes,A3|=X_.subtreeFlags,A3|=X_.flags,X_.return=gp,X_=X_.sibling;return gp.subtreeFlags|=A3,gp.childLanes=Km,Mp}function GI(gp,Mp,Km){var A3=Mp.pendingProps;switch(_R(Mp),Mp.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return WE(Mp),null;case 1:return KM(Mp.type)&&QM(),WE(Mp),null;case 3:return A3=Mp.stateNode,eT(),pM(kM),pM(DM),CR(),A3.pendingContext&&(A3.context=A3.pendingContext,A3.pendingContext=null),(gp===null||gp.child===null)&&(hT(Mp)?wC(Mp):gp===null||gp.memoizedState.isDehydrated&&!(Mp.flags&256)||(Mp.flags|=1024,gC!==null&&(rB(gC),gC=null))),wT(gp,Mp),WE(Mp),null;case 5:MR(Mp),Km=bC(T9.current);var X_=Mp.type;if(gp!==null&&Mp.stateNode!=null)jT(gp,Mp,X_,A3,Km),gp.ref!==Mp.ref&&(Mp.flags|=512,Mp.flags|=2097152);else{if(!A3){if(Mp.stateNode===null)throw Error(Zt(166));return WE(Mp),null}if(gp=bC(cC.current),hT(Mp)){if(!W_)throw Error(Zt(175));gp=G_(Mp.stateNode,Mp.type,Mp.memoizedProps,Km,gp,Mp,!fT),Mp.updateQueue=gp,gp!==null&&wC(Mp)}else{var zx=h0(X_,A3,Km,gp,Mp);_T(zx,Mp,!1,!1),Mp.stateNode=zx,cm(zx,X_,A3,Km,gp)&&wC(Mp)}Mp.ref!==null&&(Mp.flags|=512,Mp.flags|=2097152)}return WE(Mp),null;case 6:if(gp&&Mp.stateNode!=null)KT(gp,Mp,gp.memoizedProps,A3);else{if(typeof A3!="string"&&Mp.stateNode===null)throw Error(Zt(166));if(gp=bC(T9.current),Km=bC(cC.current),hT(Mp)){if(!W_)throw Error(Zt(176));if(gp=Mp.stateNode,A3=Mp.memoizedProps,(Km=r_(gp,A3,Mp,!fT))&&(X_=nC,X_!==null))switch(zx=(X_.mode&1)!==0,X_.tag){case 3:yM(X_.stateNode.containerInfo,gp,A3,zx);break;case 5:_M(X_.type,X_.memoizedProps,X_.stateNode,gp,A3,zx)}Km&&wC(Mp)}else Mp.stateNode=Ym(A3,gp,Km,Mp)}return WE(Mp),null;case 13:if(pM(CE),A3=Mp.memoizedState,SE&&iC!==null&&Mp.mode&1&&!(Mp.flags&128)){for(gp=iC;gp;)gp=B_(gp);return s9(),Mp.flags|=98560,Mp}if(A3!==null&&A3.dehydrated!==null){if(A3=hT(Mp),gp===null){if(!A3)throw Error(Zt(318));if(!W_)throw Error(Zt(344));if(gp=Mp.memoizedState,gp=gp!==null?gp.dehydrated:null,!gp)throw Error(Zt(317));Vx(gp,Mp)}else s9(),!(Mp.flags&128)&&(Mp.memoizedState=null),Mp.flags|=4;return WE(Mp),null}return gC!==null&&(rB(gC),gC=null),Mp.flags&128?(Mp.lanes=Km,Mp):(A3=A3!==null,Km=!1,gp===null?hT(Mp):Km=gp.memoizedState!==null,A3&&!Km&&(Mp.child.flags|=8192,Mp.mode&1&&(gp===null||CE.current&1?DE===0&&(DE=3):iB())),Mp.updateQueue!==null&&(Mp.flags|=4),WE(Mp),null);case 4:return eT(),wT(gp,Mp),gp===null&&Nw(Mp.stateNode.containerInfo),WE(Mp),null;case 10:return NE(Mp.type._context),WE(Mp),null;case 17:return KM(Mp.type)&&QM(),WE(Mp),null;case 19:if(pM(CE),X_=Mp.memoizedState,X_===null)return WE(Mp),null;if(A3=(Mp.flags&128)!==0,zx=X_.rendering,zx===null)if(A3)xT(X_,!1);else{if(DE!==0||gp!==null&&gp.flags&128)for(gp=Mp.child;gp!==null;){if(zx=FT(gp),zx!==null){for(Mp.flags|=128,xT(X_,!1),gp=zx.updateQueue,gp!==null&&(Mp.updateQueue=gp,Mp.flags|=4),Mp.subtreeFlags=0,gp=Km,A3=Mp.child;A3!==null;)Km=A3,X_=gp,Km.flags&=14680066,zx=Km.alternate,zx===null?(Km.childLanes=0,Km.lanes=X_,Km.child=null,Km.subtreeFlags=0,Km.memoizedProps=null,Km.memoizedState=null,Km.updateQueue=null,Km.dependencies=null,Km.stateNode=null):(Km.childLanes=zx.childLanes,Km.lanes=zx.lanes,Km.child=zx.child,Km.subtreeFlags=0,Km.deletions=null,Km.memoizedProps=zx.memoizedProps,Km.memoizedState=zx.memoizedState,Km.updateQueue=zx.updateQueue,Km.type=zx.type,X_=zx.dependencies,Km.dependencies=X_===null?null:{lanes:X_.lanes,firstContext:X_.firstContext}),A3=A3.sibling;return dM(CE,CE.current&1|2),Mp.child}gp=gp.sibling}X_.tail!==null&&EE()>QR&&(Mp.flags|=128,A3=!0,xT(X_,!1),Mp.lanes=4194304)}else{if(!A3)if(gp=FT(zx),gp!==null){if(Mp.flags|=128,A3=!0,gp=gp.updateQueue,gp!==null&&(Mp.updateQueue=gp,Mp.flags|=4),xT(X_,!0),X_.tail===null&&X_.tailMode==="hidden"&&!zx.alternate&&!SE)return WE(Mp),null}else 2*EE()-X_.renderingStartTime>QR&&Km!==1073741824&&(Mp.flags|=128,A3=!0,xT(X_,!1),Mp.lanes=4194304);X_.isBackwards?(zx.sibling=Mp.child,Mp.child=zx):(gp=X_.last,gp!==null?gp.sibling=zx:Mp.child=zx,X_.last=zx)}return X_.tail!==null?(Mp=X_.tail,X_.rendering=Mp,X_.tail=Mp.sibling,X_.renderingStartTime=EE(),Mp.sibling=null,gp=CE.current,dM(CE,A3?gp&1|2:gp&1),Mp):(WE(Mp),null);case 22:case 23:return nB(),A3=Mp.memoizedState!==null,gp!==null&&gp.memoizedState!==null!==A3&&(Mp.flags|=8192),A3&&Mp.mode&1?sC&1073741824&&(WE(Mp),h3&&Mp.subtreeFlags&6&&(Mp.flags|=8192)):WE(Mp),null;case 24:return null;case 25:return null}throw Error(Zt(156,Mp.tag))}var qI=cr.ReactCurrentOwner,oC=!1;function XE(gp,Mp,Km,A3){Mp.child=gp===null?AB(Mp,null,Km,A3):w9(Mp,gp.child,Km,A3)}function YB(gp,Mp,Km,A3,X_){Km=Km.render;var zx=Mp.ref;return BE(Mp,X_),A3=RR(gp,Mp,Km,A3,zx,X_),Km=BR(),gp!==null&&!oC?(Mp.updateQueue=gp.updateQueue,Mp.flags&=-2053,gp.lanes&=~X_,CC(gp,Mp,X_)):(SE&&Km&&bR(Mp),Mp.flags|=1,XE(gp,Mp,A3,X_),Mp.child)}function JB(gp,Mp,Km,A3,X_){if(gp===null){var zx=Km.type;return typeof zx=="function"&&!oB(zx)&&zx.defaultProps===void 0&&Km.compare===null&&Km.defaultProps===void 0?(Mp.tag=15,Mp.type=zx,QB(gp,Mp,zx,A3,X_)):(gp=pR(Km.type,null,A3,Mp,Mp.mode,X_),gp.ref=Mp.ref,gp.return=Mp,Mp.child=gp)}if(zx=gp.child,!(gp.lanes&X_)){var aM=zx.memoizedProps;if(Km=Km.compare,Km=Km!==null?Km:zC,Km(aM,A3)&&gp.ref===Mp.ref)return CC(gp,Mp,X_)}return Mp.flags|=1,gp=OC(zx,A3),gp.ref=Mp.ref,gp.return=Mp,Mp.child=gp}function QB(gp,Mp,Km,A3,X_){if(gp!==null&&zC(gp.memoizedProps,A3)&&gp.ref===Mp.ref)if(oC=!1,(gp.lanes&X_)!==0)gp.flags&131072&&(oC=!0);else return Mp.lanes=gp.lanes,CC(gp,Mp,X_);return OR(gp,Mp,Km,A3,X_)}function ZB(gp,Mp,Km){var A3=Mp.pendingProps,X_=A3.children,zx=gp!==null?gp.memoizedState:null;if(A3.mode==="hidden")if(!(Mp.mode&1))Mp.memoizedState={baseLanes:0,cachePool:null},dM(rT,sC),sC|=Km;else if(Km&1073741824)Mp.memoizedState={baseLanes:0,cachePool:null},A3=zx!==null?zx.baseLanes:Km,dM(rT,sC),sC|=A3;else return gp=zx!==null?zx.baseLanes|Km:Km,Mp.lanes=Mp.childLanes=1073741824,Mp.memoizedState={baseLanes:gp,cachePool:null},Mp.updateQueue=null,dM(rT,sC),sC|=gp,null;else zx!==null?(A3=zx.baseLanes|Km,Mp.memoizedState=null):A3=Km,dM(rT,sC),sC|=A3;return XE(gp,Mp,X_,Km),Mp.child}function _k(gp,Mp){var Km=Mp.ref;(gp===null&&Km!==null||gp!==null&&gp.ref!==Km)&&(Mp.flags|=512,Mp.flags|=2097152)}function OR(gp,Mp,Km,A3,X_){var zx=KM(Km)?UM:DM.current;return zx=WM(Mp,zx),BE(Mp,X_),Km=RR(gp,Mp,Km,A3,zx,X_),A3=BR(),gp!==null&&!oC?(Mp.updateQueue=gp.updateQueue,Mp.flags&=-2053,gp.lanes&=~X_,CC(gp,Mp,X_)):(SE&&A3&&bR(Mp),Mp.flags|=1,XE(gp,Mp,Km,X_),Mp.child)}function eI(gp,Mp,Km,A3,X_){if(KM(Km)){var zx=!0;XM(Mp)}else zx=!1;if(BE(Mp,X_),Mp.stateNode===null)gp!==null&&(gp.alternate=null,Mp.alternate=null,Mp.flags|=2),mB(Mp,Km,A3),yR(Mp,Km,A3,X_),A3=!0;else if(gp===null){var aM=Mp.stateNode,MM=Mp.memoizedProps;aM.props=MM;var zM=aM.context,qM=Km.contextType;typeof qM=="object"&&qM!==null?qM=kE(qM):(qM=KM(Km)?UM:DM.current,qM=WM(Mp,qM));var ZM=Km.getDerivedStateFromProps,aE=typeof ZM=="function"||typeof aM.getSnapshotBeforeUpdate=="function";aE||typeof aM.UNSAFE_componentWillReceiveProps!="function"&&typeof aM.componentWillReceiveProps!="function"||(MM!==A3||zM!==qM)&&gB(Mp,aM,A3,qM),BC=!1;var oE=Mp.memoizedState;aM.state=oE,LT(Mp,A3,aM,X_),zM=Mp.memoizedState,MM!==A3||oE!==zM||kM.current||BC?(typeof ZM=="function"&&(vR(Mp,Km,ZM,A3),zM=Mp.memoizedState),(MM=BC||pB(Mp,Km,MM,A3,oE,zM,qM))?(aE||typeof aM.UNSAFE_componentWillMount!="function"&&typeof aM.componentWillMount!="function"||(typeof aM.componentWillMount=="function"&&aM.componentWillMount(),typeof aM.UNSAFE_componentWillMount=="function"&&aM.UNSAFE_componentWillMount()),typeof aM.componentDidMount=="function"&&(Mp.flags|=4194308)):(typeof aM.componentDidMount=="function"&&(Mp.flags|=4194308),Mp.memoizedProps=A3,Mp.memoizedState=zM),aM.props=A3,aM.state=zM,aM.context=qM,A3=MM):(typeof aM.componentDidMount=="function"&&(Mp.flags|=4194308),A3=!1)}else{aM=Mp.stateNode,cB(gp,Mp),MM=Mp.memoizedProps,qM=Mp.type===Mp.elementType?MM:jE(Mp.type,MM),aM.props=qM,aE=Mp.pendingProps,oE=aM.context,zM=Km.contextType,typeof zM=="object"&&zM!==null?zM=kE(zM):(zM=KM(Km)?UM:DM.current,zM=WM(Mp,zM));var wE=Km.getDerivedStateFromProps;(ZM=typeof wE=="function"||typeof aM.getSnapshotBeforeUpdate=="function")||typeof aM.UNSAFE_componentWillReceiveProps!="function"&&typeof aM.componentWillReceiveProps!="function"||(MM!==aE||oE!==zM)&&gB(Mp,aM,A3,zM),BC=!1,oE=Mp.memoizedState,aM.state=oE,LT(Mp,A3,aM,X_);var rE=Mp.memoizedState;MM!==aE||oE!==rE||kM.current||BC?(typeof wE=="function"&&(vR(Mp,Km,wE,A3),rE=Mp.memoizedState),(qM=BC||pB(Mp,Km,qM,A3,oE,rE,zM)||!1)?(ZM||typeof aM.UNSAFE_componentWillUpdate!="function"&&typeof aM.componentWillUpdate!="function"||(typeof aM.componentWillUpdate=="function"&&aM.componentWillUpdate(A3,rE,zM),typeof aM.UNSAFE_componentWillUpdate=="function"&&aM.UNSAFE_componentWillUpdate(A3,rE,zM)),typeof aM.componentDidUpdate=="function"&&(Mp.flags|=4),typeof aM.getSnapshotBeforeUpdate=="function"&&(Mp.flags|=1024)):(typeof aM.componentDidUpdate!="function"||MM===gp.memoizedProps&&oE===gp.memoizedState||(Mp.flags|=4),typeof aM.getSnapshotBeforeUpdate!="function"||MM===gp.memoizedProps&&oE===gp.memoizedState||(Mp.flags|=1024),Mp.memoizedProps=A3,Mp.memoizedState=rE),aM.props=A3,aM.state=rE,aM.context=zM,A3=qM):(typeof aM.componentDidUpdate!="function"||MM===gp.memoizedProps&&oE===gp.memoizedState||(Mp.flags|=4),typeof aM.getSnapshotBeforeUpdate!="function"||MM===gp.memoizedProps&&oE===gp.memoizedState||(Mp.flags|=1024),A3=!1)}return NR(gp,Mp,Km,A3,zx,X_)}function NR(gp,Mp,Km,A3,X_,zx){_k(gp,Mp);var aM=(Mp.flags&128)!==0;if(!A3&&!aM)return X_&&jM(Mp,Km,!1),CC(gp,Mp,zx);A3=Mp.stateNode,qI.current=Mp;var MM=aM&&typeof Km.getDerivedStateFromError!="function"?null:A3.render();return Mp.flags|=1,gp!==null&&aM?(Mp.child=w9(Mp,gp.child,null,zx),Mp.child=w9(Mp,null,MM,zx)):XE(gp,Mp,MM,zx),Mp.memoizedState=A3.state,X_&&jM(Mp,Km,!0),Mp.child}function tI(gp){var Mp=gp.stateNode;Mp.pendingContext?GM(gp,Mp.pendingContext,Mp.pendingContext!==Mp.context):Mp.context&&GM(gp,Mp.context,!1),SR(gp,Mp.containerInfo)}function rI(gp,Mp,Km,A3,X_){return s9(),AR(X_),Mp.flags|=256,XE(gp,Mp,Km,A3),Mp.child}var XT={dehydrated:null,treeContext:null,retryLane:0};function YT(gp){return{baseLanes:gp,cachePool:null}}function nI(gp,Mp,Km){var A3=Mp.pendingProps,X_=CE.current,zx=!1,aM=(Mp.flags&128)!==0,MM;if((MM=aM)||(MM=gp!==null&&gp.memoizedState===null?!1:(X_&2)!==0),MM?(zx=!0,Mp.flags&=-129):(gp===null||gp.memoizedState!==null)&&(X_|=1),dM(CE,X_&1),gp===null)return xR(Mp),gp=Mp.memoizedState,gp!==null&&(gp=gp.dehydrated,gp!==null)?(Mp.mode&1?Bw(gp)?Mp.lanes=8:Mp.lanes=1073741824:Mp.lanes=1,null):(X_=A3.children,gp=A3.fallback,zx?(A3=Mp.mode,zx=Mp.child,X_={mode:"hidden",children:X_},!(A3&1)&&zx!==null?(zx.childLanes=0,zx.pendingProps=X_):zx=mR(X_,A3,0,null),gp=JC(gp,A3,Km,null),zx.return=Mp,gp.return=Mp,zx.sibling=gp,Mp.child=zx,Mp.child.memoizedState=YT(Km),Mp.memoizedState=XT,gp):$R(Mp,X_));if(X_=gp.memoizedState,X_!==null){if(MM=X_.dehydrated,MM!==null){if(aM)return Mp.flags&256?(Mp.flags&=-257,JT(gp,Mp,Km,Error(Zt(422)))):Mp.memoizedState!==null?(Mp.child=gp.child,Mp.flags|=128,null):(zx=A3.fallback,X_=Mp.mode,A3=mR({mode:"visible",children:A3.children},X_,0,null),zx=JC(zx,X_,Km,null),zx.flags|=2,A3.return=Mp,zx.return=Mp,A3.sibling=zx,Mp.child=A3,Mp.mode&1&&w9(Mp,gp.child,null,Km),Mp.child.memoizedState=YT(Km),Mp.memoizedState=XT,zx);if(!(Mp.mode&1))Mp=JT(gp,Mp,Km,null);else if(Bw(MM))Mp=JT(gp,Mp,Km,Error(Zt(419)));else if(A3=(Km&gp.childLanes)!==0,oC||A3){if(A3=PE,A3!==null){switch(Km&-Km){case 4:zx=2;break;case 16:zx=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:zx=32;break;case 536870912:zx=268435456;break;default:zx=0}A3=zx&(A3.suspendedLanes|Km)?0:zx,A3!==0&&A3!==X_.retryLane&&(X_.retryLane=A3,hC(gp,A3,-1))}iB(),Mp=JT(gp,Mp,Km,Error(Zt(421)))}else Z_(MM)?(Mp.flags|=128,Mp.child=gp.child,Mp=iP.bind(null,gp),Fw(MM,Mp),Mp=null):(Km=X_.treeContext,W_&&(iC=mM(MM),nC=Mp,SE=!0,gC=null,fT=!1,Km!==null&&(lC[uC++]=SC,lC[uC++]=MC,lC[uC++]=WC,SC=Km.id,MC=Km.overflow,WC=Mp)),Mp=$R(Mp,Mp.pendingProps.children),Mp.flags|=4096);return Mp}return zx?(A3=oI(gp,Mp,A3.children,A3.fallback,Km),zx=Mp.child,X_=gp.child.memoizedState,zx.memoizedState=X_===null?YT(Km):{baseLanes:X_.baseLanes|Km,cachePool:null},zx.childLanes=gp.childLanes&~Km,Mp.memoizedState=XT,A3):(Km=iI(gp,Mp,A3.children,Km),Mp.memoizedState=null,Km)}return zx?(A3=oI(gp,Mp,A3.children,A3.fallback,Km),zx=Mp.child,X_=gp.child.memoizedState,zx.memoizedState=X_===null?YT(Km):{baseLanes:X_.baseLanes|Km,cachePool:null},zx.childLanes=gp.childLanes&~Km,Mp.memoizedState=XT,A3):(Km=iI(gp,Mp,A3.children,Km),Mp.memoizedState=null,Km)}function $R(gp,Mp){return Mp=mR({mode:"visible",children:Mp},gp.mode,0,null),Mp.return=gp,gp.child=Mp}function iI(gp,Mp,Km,A3){var X_=gp.child;return gp=X_.sibling,Km=OC(X_,{mode:"visible",children:Km}),!(Mp.mode&1)&&(Km.lanes=A3),Km.return=Mp,Km.sibling=null,gp!==null&&(A3=Mp.deletions,A3===null?(Mp.deletions=[gp],Mp.flags|=16):A3.push(gp)),Mp.child=Km}function oI(gp,Mp,Km,A3,X_){var zx=Mp.mode;gp=gp.child;var aM=gp.sibling,MM={mode:"hidden",children:Km};return!(zx&1)&&Mp.child!==gp?(Km=Mp.child,Km.childLanes=0,Km.pendingProps=MM,Mp.deletions=null):(Km=OC(gp,MM),Km.subtreeFlags=gp.subtreeFlags&14680064),aM!==null?A3=OC(aM,A3):(A3=JC(A3,zx,X_,null),A3.flags|=2),A3.return=Mp,Km.return=Mp,Km.sibling=A3,Mp.child=Km,A3}function JT(gp,Mp,Km,A3){return A3!==null&&AR(A3),w9(Mp,gp.child,null,Km),gp=$R(Mp,Mp.pendingProps.children),gp.flags|=2,Mp.memoizedState=null,gp}function sI(gp,Mp,Km){gp.lanes|=Mp;var A3=gp.alternate;A3!==null&&(A3.lanes|=Mp),KE(gp.return,Mp,Km)}function FR(gp,Mp,Km,A3,X_){var zx=gp.memoizedState;zx===null?gp.memoizedState={isBackwards:Mp,rendering:null,renderingStartTime:0,last:A3,tail:Km,tailMode:X_}:(zx.isBackwards=Mp,zx.rendering=null,zx.renderingStartTime=0,zx.last=A3,zx.tail=Km,zx.tailMode=X_)}function aI(gp,Mp,Km){var A3=Mp.pendingProps,X_=A3.revealOrder,zx=A3.tail;if(XE(gp,Mp,A3.children,Km),A3=CE.current,A3&2)A3=A3&1|2,Mp.flags|=128;else{if(gp!==null&&gp.flags&128)e:for(gp=Mp.child;gp!==null;){if(gp.tag===13)gp.memoizedState!==null&&sI(gp,Km,Mp);else if(gp.tag===19)sI(gp,Km,Mp);else if(gp.child!==null){gp.child.return=gp,gp=gp.child;continue}if(gp===Mp)break e;for(;gp.sibling===null;){if(gp.return===null||gp.return===Mp)break e;gp=gp.return}gp.sibling.return=gp.return,gp=gp.sibling}A3&=1}if(dM(CE,A3),!(Mp.mode&1))Mp.memoizedState=null;else switch(X_){case"forwards":for(Km=Mp.child,X_=null;Km!==null;)gp=Km.alternate,gp!==null&&FT(gp)===null&&(X_=Km),Km=Km.sibling;Km=X_,Km===null?(X_=Mp.child,Mp.child=null):(X_=Km.sibling,Km.sibling=null),FR(Mp,!1,X_,Km,zx);break;case"backwards":for(Km=null,X_=Mp.child,Mp.child=null;X_!==null;){if(gp=X_.alternate,gp!==null&&FT(gp)===null){Mp.child=X_;break}gp=X_.sibling,X_.sibling=Km,Km=X_,X_=gp}FR(Mp,!0,Km,null,zx);break;case"together":FR(Mp,!1,null,null,void 0);break;default:Mp.memoizedState=null}return Mp.child}function CC(gp,Mp,Km){if(gp!==null&&(Mp.dependencies=gp.dependencies),nT|=Mp.lanes,!(Km&Mp.childLanes))return null;if(gp!==null&&Mp.child!==gp.child)throw Error(Zt(153));if(Mp.child!==null){for(gp=Mp.child,Km=OC(gp,gp.pendingProps),Mp.child=Km,Km.return=Mp;gp.sibling!==null;)gp=gp.sibling,Km=Km.sibling=OC(gp,gp.pendingProps),Km.return=Mp;Km.sibling=null}return Mp.child}function VI(gp,Mp,Km){switch(Mp.tag){case 3:tI(Mp),s9();break;case 5:SB(Mp);break;case 1:KM(Mp.type)&&XM(Mp);break;case 4:SR(Mp,Mp.stateNode.containerInfo);break;case 10:IT(Mp,Mp.type._context,Mp.memoizedProps.value);break;case 13:var A3=Mp.memoizedState;if(A3!==null)return A3.dehydrated!==null?(dM(CE,CE.current&1),Mp.flags|=128,null):Km&Mp.child.childLanes?nI(gp,Mp,Km):(dM(CE,CE.current&1),gp=CC(gp,Mp,Km),gp!==null?gp.sibling:null);dM(CE,CE.current&1);break;case 19:if(A3=(Km&Mp.childLanes)!==0,gp.flags&128){if(A3)return aI(gp,Mp,Km);Mp.flags|=128}var X_=Mp.memoizedState;if(X_!==null&&(X_.rendering=null,X_.tail=null,X_.lastEffect=null),dM(CE,CE.current),A3)break;return null;case 22:case 23:return Mp.lanes=0,ZB(gp,Mp,Km)}return CC(gp,Mp,Km)}function jI(gp,Mp){switch(_R(Mp),Mp.tag){case 1:return KM(Mp.type)&&QM(),gp=Mp.flags,gp&65536?(Mp.flags=gp&-65537|128,Mp):null;case 3:return eT(),pM(kM),pM(DM),CR(),gp=Mp.flags,gp&65536&&!(gp&128)?(Mp.flags=gp&-65537|128,Mp):null;case 5:return MR(Mp),null;case 13:if(pM(CE),gp=Mp.memoizedState,gp!==null&&gp.dehydrated!==null){if(Mp.alternate===null)throw Error(Zt(340));s9()}return gp=Mp.flags,gp&65536?(Mp.flags=gp&-65537|128,Mp):null;case 19:return pM(CE),null;case 4:return eT(),null;case 10:return NE(Mp.type._context),null;case 22:case 23:return nB(),null;case 24:return null;default:return null}}var QT=!1,VC=!1,KI=typeof WeakSet=="function"?WeakSet:Set,YM=null;function ZT(gp,Mp){var Km=gp.ref;if(Km!==null)if(typeof Km=="function")try{Km(null)}catch(A3){w8(gp,Mp,A3)}else Km.current=null}function UR(gp,Mp,Km){try{Km()}catch(A3){w8(gp,Mp,A3)}}var lI=!1;function XI(gp,Mp){for(pu(gp.containerInfo),YM=Mp;YM!==null;)if(gp=YM,Mp=gp.child,(gp.subtreeFlags&1028)!==0&&Mp!==null)Mp.return=gp,YM=Mp;else for(;YM!==null;){gp=YM;try{var Km=gp.alternate;if(gp.flags&1024)switch(gp.tag){case 0:case 11:case 15:break;case 1:if(Km!==null){var A3=Km.memoizedProps,X_=Km.memoizedState,zx=gp.stateNode,aM=zx.getSnapshotBeforeUpdate(gp.elementType===gp.type?A3:jE(gp.type,A3),X_);zx.__reactInternalSnapshotBeforeUpdate=aM}break;case 3:h3&&uM(gp.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(Zt(163))}}catch(MM){w8(gp,gp.return,MM)}if(Mp=gp.sibling,Mp!==null){Mp.return=gp.return,YM=Mp;break}YM=gp.return}return Km=lI,lI=!1,Km}function jC(gp,Mp,Km){var A3=Mp.updateQueue;if(A3=A3!==null?A3.lastEffect:null,A3!==null){var X_=A3=A3.next;do{if((X_.tag&gp)===gp){var zx=X_.destroy;X_.destroy=void 0,zx!==void 0&&UR(Mp,Km,zx)}X_=X_.next}while(X_!==A3)}}function AT(gp,Mp){if(Mp=Mp.updateQueue,Mp=Mp!==null?Mp.lastEffect:null,Mp!==null){var Km=Mp=Mp.next;do{if((Km.tag&gp)===gp){var A3=Km.create;Km.destroy=A3()}Km=Km.next}while(Km!==Mp)}}function zR(gp){var Mp=gp.ref;if(Mp!==null){var Km=gp.stateNode;switch(gp.tag){case 5:gp=xl(Km);break;default:gp=Km}typeof Mp=="function"?Mp(gp):Mp.current=gp}}function uI(gp,Mp,Km){if(eC&&typeof eC.onCommitFiberUnmount=="function")try{eC.onCommitFiberUnmount(FC,Mp)}catch{}switch(Mp.tag){case 0:case 11:case 14:case 15:if(gp=Mp.updateQueue,gp!==null&&(gp=gp.lastEffect,gp!==null)){var A3=gp=gp.next;do{var X_=A3,zx=X_.destroy;X_=X_.tag,zx!==void 0&&(X_&2||X_&4)&&UR(Mp,Km,zx),A3=A3.next}while(A3!==gp)}break;case 1:if(ZT(Mp,Km),gp=Mp.stateNode,typeof gp.componentWillUnmount=="function")try{gp.props=Mp.memoizedProps,gp.state=Mp.memoizedState,gp.componentWillUnmount()}catch(aM){w8(Mp,Km,aM)}break;case 5:ZT(Mp,Km);break;case 4:h3?mI(gp,Mp,Km):Fp&&Fp&&(Mp=Mp.stateNode.containerInfo,Km=AM(Mp),HM(Mp,Km))}}function cI(gp,Mp,Km){for(var A3=Mp;;)if(uI(gp,A3,Km),A3.child===null||h3&&A3.tag===4){if(A3===Mp)break;for(;A3.sibling===null;){if(A3.return===null||A3.return===Mp)return;A3=A3.return}A3.sibling.return=A3.return,A3=A3.sibling}else A3.child.return=A3,A3=A3.child}function fI(gp){var Mp=gp.alternate;Mp!==null&&(gp.alternate=null,fI(Mp)),gp.child=null,gp.deletions=null,gp.sibling=null,gp.tag===5&&(Mp=gp.stateNode,Mp!==null&&a1(Mp)),gp.stateNode=null,gp.return=null,gp.dependencies=null,gp.memoizedProps=null,gp.memoizedState=null,gp.pendingProps=null,gp.stateNode=null,gp.updateQueue=null}function hI(gp){return gp.tag===5||gp.tag===3||gp.tag===4}function dI(gp){e:for(;;){for(;gp.sibling===null;){if(gp.return===null||hI(gp.return))return null;gp=gp.return}for(gp.sibling.return=gp.return,gp=gp.sibling;gp.tag!==5&&gp.tag!==6&&gp.tag!==18;){if(gp.flags&2||gp.child===null||gp.tag===4)continue e;gp.child.return=gp,gp=gp.child}if(!(gp.flags&2))return gp.stateNode}}function pI(gp){if(h3){e:{for(var Mp=gp.return;Mp!==null;){if(hI(Mp))break e;Mp=Mp.return}throw Error(Zt(160))}var Km=Mp;switch(Km.tag){case 5:Mp=Km.stateNode,Km.flags&32&&(a4(Mp),Km.flags&=-33),Km=dI(gp),WR(gp,Km,Mp);break;case 3:case 4:Mp=Km.stateNode.containerInfo,Km=dI(gp),HR(gp,Km,Mp);break;default:throw Error(Zt(161))}}}function HR(gp,Mp,Km){var A3=gp.tag;if(A3===5||A3===6)gp=gp.stateNode,Mp?tM(Km,gp,Mp):Q_(Km,gp);else if(A3!==4&&(gp=gp.child,gp!==null))for(HR(gp,Mp,Km),gp=gp.sibling;gp!==null;)HR(gp,Mp,Km),gp=gp.sibling}function WR(gp,Mp,Km){var A3=gp.tag;if(A3===5||A3===6)gp=gp.stateNode,Mp?c4(Km,gp,Mp):y3(Km,gp);else if(A3!==4&&(gp=gp.child,gp!==null))for(WR(gp,Mp,Km),gp=gp.sibling;gp!==null;)WR(gp,Mp,Km),gp=gp.sibling}function mI(gp,Mp,Km){for(var A3=Mp,X_=!1,zx,aM;;){if(!X_){X_=A3.return;e:for(;;){if(X_===null)throw Error(Zt(160));switch(zx=X_.stateNode,X_.tag){case 5:aM=!1;break e;case 3:zx=zx.containerInfo,aM=!0;break e;case 4:zx=zx.containerInfo,aM=!0;break e}X_=X_.return}X_=!0}if(A3.tag===5||A3.tag===6)cI(gp,A3,Km),aM?r4(zx,A3.stateNode):R5(zx,A3.stateNode);else if(A3.tag===18)aM?hM(zx,A3.stateNode):iM(zx,A3.stateNode);else if(A3.tag===4){if(A3.child!==null){zx=A3.stateNode.containerInfo,aM=!0,A3.child.return=A3,A3=A3.child;continue}}else if(uI(gp,A3,Km),A3.child!==null){A3.child.return=A3,A3=A3.child;continue}if(A3===Mp)break;for(;A3.sibling===null;){if(A3.return===null||A3.return===Mp)return;A3=A3.return,A3.tag===4&&(X_=!1)}A3.sibling.return=A3.return,A3=A3.sibling}}function GR(gp,Mp){if(h3){switch(Mp.tag){case 0:case 11:case 14:case 15:jC(3,Mp,Mp.return),AT(3,Mp),jC(5,Mp,Mp.return);return;case 1:return;case 5:var Km=Mp.stateNode;if(Km!=null){var A3=Mp.memoizedProps;gp=gp!==null?gp.memoizedProps:A3;var X_=Mp.type,zx=Mp.updateQueue;Mp.updateQueue=null,zx!==null&&rM(Km,zx,X_,gp,A3,Mp)}return;case 6:if(Mp.stateNode===null)throw Error(Zt(162));Km=Mp.memoizedProps,Uw(Mp.stateNode,gp!==null?gp.memoizedProps:Km,Km);return;case 3:W_&&gp!==null&&gp.memoizedState.isDehydrated&&R4(Mp.stateNode.containerInfo);return;case 12:return;case 13:g7(Mp);return;case 19:g7(Mp);return;case 17:return}throw Error(Zt(163))}switch(Mp.tag){case 0:case 11:case 14:case 15:jC(3,Mp,Mp.return),AT(3,Mp),jC(5,Mp,Mp.return);return;case 12:return;case 13:g7(Mp);return;case 19:g7(Mp);return;case 3:W_&&gp!==null&&gp.memoizedState.isDehydrated&&R4(Mp.stateNode.containerInfo);break;case 22:case 23:return}e:if(Fp){switch(Mp.tag){case 1:case 5:case 6:break e;case 3:case 4:Mp=Mp.stateNode,HM(Mp.containerInfo,Mp.pendingChildren);break e}throw Error(Zt(163))}}function g7(gp){var Mp=gp.updateQueue;if(Mp!==null){gp.updateQueue=null;var Km=gp.stateNode;Km===null&&(Km=gp.stateNode=new KI),Mp.forEach(function(A3){var X_=oP.bind(null,gp,A3);Km.has(A3)||(Km.add(A3),A3.then(X_,X_))})}}function YI(gp,Mp){for(YM=Mp;YM!==null;){Mp=YM;var Km=Mp.deletions;if(Km!==null)for(var A3=0;A3<Km.length;A3++){var X_=Km[A3];try{var zx=gp;h3?mI(zx,X_,Mp):cI(zx,X_,Mp);var aM=X_.alternate;aM!==null&&(aM.return=null),X_.return=null}catch(tE){w8(X_,Mp,tE)}}if(Km=Mp.child,Mp.subtreeFlags&12854&&Km!==null)Km.return=Mp,YM=Km;else for(;YM!==null;){Mp=YM;try{var MM=Mp.flags;if(MM&32&&h3&&a4(Mp.stateNode),MM&512){var zM=Mp.alternate;if(zM!==null){var qM=zM.ref;qM!==null&&(typeof qM=="function"?qM(null):qM.current=null)}}if(MM&8192)switch(Mp.tag){case 13:if(Mp.memoizedState!==null){var ZM=Mp.alternate;(ZM===null||ZM.memoizedState===null)&&(JR=EE())}break;case 22:var aE=Mp.memoizedState!==null,oE=Mp.alternate,wE=oE!==null&&oE.memoizedState!==null;if(Km=Mp,h3){e:if(A3=Km,X_=aE,zx=null,h3)for(var rE=A3;;){if(rE.tag===5){if(zx===null){zx=rE;var GE=rE.stateNode;X_?cM(GE):D5(rE.stateNode,rE.memoizedProps)}}else if(rE.tag===6){if(zx===null){var pC=rE.stateNode;X_?Yx(pC):wM(pC,rE.memoizedProps)}}else if((rE.tag!==22&&rE.tag!==23||rE.memoizedState===null||rE===A3)&&rE.child!==null){rE.child.return=rE,rE=rE.child;continue}if(rE===A3)break;for(;rE.sibling===null;){if(rE.return===null||rE.return===A3)break e;zx===rE&&(zx=null),rE=rE.return}zx===rE&&(zx=null),rE.sibling.return=rE.return,rE=rE.sibling}}if(aE&&!wE&&Km.mode&1){YM=Km;for(var OM=Km.child;OM!==null;){for(Km=YM=OM;YM!==null;){A3=YM;var TM=A3.child;switch(A3.tag){case 0:case 11:case 14:case 15:jC(4,A3,A3.return);break;case 1:ZT(A3,A3.return);var FM=A3.stateNode;if(typeof FM.componentWillUnmount=="function"){var JM=A3.return;try{FM.props=A3.memoizedProps,FM.state=A3.memoizedState,FM.componentWillUnmount()}catch(tE){w8(A3,JM,tE)}}break;case 5:ZT(A3,A3.return);break;case 22:if(A3.memoizedState!==null){yI(Km);continue}}TM!==null?(TM.return=A3,YM=TM):yI(Km)}OM=OM.sibling}}}switch(MM&4102){case 2:pI(Mp),Mp.flags&=-3;break;case 6:pI(Mp),Mp.flags&=-3,GR(Mp.alternate,Mp);break;case 4096:Mp.flags&=-4097;break;case 4100:Mp.flags&=-4097,GR(Mp.alternate,Mp);break;case 4:GR(Mp.alternate,Mp)}}catch(tE){w8(Mp,Mp.return,tE)}if(Km=Mp.sibling,Km!==null){Km.return=Mp.return,YM=Km;break}YM=Mp.return}}}function JI(gp,Mp,Km){YM=gp,gI(gp)}function gI(gp,Mp,Km){for(var A3=(gp.mode&1)!==0;YM!==null;){var X_=YM,zx=X_.child;if(X_.tag===22&&A3){var aM=X_.memoizedState!==null||QT;if(!aM){var MM=X_.alternate,zM=MM!==null&&MM.memoizedState!==null||VC;MM=QT;var qM=VC;if(QT=aM,(VC=zM)&&!qM)for(YM=X_;YM!==null;)aM=YM,zM=aM.child,aM.tag===22&&aM.memoizedState!==null?bI(X_):zM!==null?(zM.return=aM,YM=zM):bI(X_);for(;zx!==null;)YM=zx,gI(zx),zx=zx.sibling;YM=X_,QT=MM,VC=qM}vI(gp)}else X_.subtreeFlags&8772&&zx!==null?(zx.return=X_,YM=zx):vI(gp)}}function vI(gp){for(;YM!==null;){var Mp=YM;if(Mp.flags&8772){var Km=Mp.alternate;try{if(Mp.flags&8772)switch(Mp.tag){case 0:case 11:case 15:VC||AT(5,Mp);break;case 1:var A3=Mp.stateNode;if(Mp.flags&4&&!VC)if(Km===null)A3.componentDidMount();else{var X_=Mp.elementType===Mp.type?Km.memoizedProps:jE(Mp.type,Km.memoizedProps);A3.componentDidUpdate(X_,Km.memoizedState,A3.__reactInternalSnapshotBeforeUpdate)}var zx=Mp.updateQueue;zx!==null&&hB(Mp,zx,A3);break;case 3:var aM=Mp.updateQueue;if(aM!==null){if(Km=null,Mp.child!==null)switch(Mp.child.tag){case 5:Km=xl(Mp.child.stateNode);break;case 1:Km=Mp.child.stateNode}hB(Mp,aM,Km)}break;case 5:var MM=Mp.stateNode;Km===null&&Mp.flags&4&&s4(MM,Mp.type,Mp.memoizedProps,Mp);break;case 6:break;case 4:break;case 12:break;case 13:if(W_&&Mp.memoizedState===null){var zM=Mp.alternate;if(zM!==null){var qM=zM.memoizedState;if(qM!==null){var ZM=qM.dehydrated;ZM!==null&&u4(ZM)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(Zt(163))}VC||Mp.flags&512&&zR(Mp)}catch(aE){w8(Mp,Mp.return,aE)}}if(Mp===gp){YM=null;break}if(Km=Mp.sibling,Km!==null){Km.return=Mp.return,YM=Km;break}YM=Mp.return}}function yI(gp){for(;YM!==null;){var Mp=YM;if(Mp===gp){YM=null;break}var Km=Mp.sibling;if(Km!==null){Km.return=Mp.return,YM=Km;break}YM=Mp.return}}function bI(gp){for(;YM!==null;){var Mp=YM;try{switch(Mp.tag){case 0:case 11:case 15:var Km=Mp.return;try{AT(4,Mp)}catch(zM){w8(Mp,Km,zM)}break;case 1:var A3=Mp.stateNode;if(typeof A3.componentDidMount=="function"){var X_=Mp.return;try{A3.componentDidMount()}catch(zM){w8(Mp,X_,zM)}}var zx=Mp.return;try{zR(Mp)}catch(zM){w8(Mp,zx,zM)}break;case 5:var aM=Mp.return;try{zR(Mp)}catch(zM){w8(Mp,aM,zM)}}}catch(zM){w8(Mp,Mp.return,zM)}if(Mp===gp){YM=null;break}var MM=Mp.sibling;if(MM!==null){MM.return=Mp.return,YM=MM;break}YM=Mp.return}}var eR=0,tR=1,rR=2,nR=3,iR=4;if(typeof Symbol=="function"&&Symbol.for){var ST=Symbol.for;eR=ST("selector.component"),tR=ST("selector.has_pseudo_class"),rR=ST("selector.role"),nR=ST("selector.test_id"),iR=ST("selector.text")}function qR(gp){var Mp=t4(gp);if(Mp!=null){if(typeof Mp.memoizedProps["data-testname"]!="string")throw Error(Zt(364));return Mp}if(gp=nw(gp),gp===null)throw Error(Zt(362));return gp.stateNode.current}function VR(gp,Mp){switch(Mp.$$typeof){case eR:if(gp.type===Mp.value)return!0;break;case tR:e:{Mp=Mp.value,gp=[gp,0];for(var Km=0;Km<gp.length;){var A3=gp[Km++],X_=gp[Km++],zx=Mp[X_];if(A3.tag!==5||!F_(A3)){for(;zx!=null&&VR(A3,zx);)X_++,zx=Mp[X_];if(X_===Mp.length){Mp=!0;break e}else for(A3=A3.child;A3!==null;)gp.push(A3,X_),A3=A3.sibling}}Mp=!1}return Mp;case rR:if(gp.tag===5&&qx(gp.stateNode,Mp.value))return!0;break;case iR:if((gp.tag===5||gp.tag===6)&&(gp=Ww(gp),gp!==null&&0<=gp.indexOf(Mp.value)))return!0;break;case nR:if(gp.tag===5&&(gp=gp.memoizedProps["data-testname"],typeof gp=="string"&&gp.toLowerCase()===Mp.value.toLowerCase()))return!0;break;default:throw Error(Zt(365))}return!1}function jR(gp){switch(gp.$$typeof){case eR:return"<"+(nm(gp.value)||"Unknown")+">";case tR:return":has("+(jR(gp)||"")+")";case rR:return'[role="'+gp.value+'"]';case iR:return'"'+gp.value+'"';case nR:return'[data-testname="'+gp.value+'"]';default:throw Error(Zt(365))}}function _I(gp,Mp){var Km=[];gp=[gp,0];for(var A3=0;A3<gp.length;){var X_=gp[A3++],zx=gp[A3++],aM=Mp[zx];if(X_.tag!==5||!F_(X_)){for(;aM!=null&&VR(X_,aM);)zx++,aM=Mp[zx];if(zx===Mp.length)Km.push(X_);else for(X_=X_.child;X_!==null;)gp.push(X_,zx),X_=X_.sibling}}return Km}function KR(gp,Mp){if(!Mw)throw Error(Zt(363));gp=qR(gp),gp=_I(gp,Mp),Mp=[],gp=Array.from(gp);for(var Km=0;Km<gp.length;){var A3=gp[Km++];if(A3.tag===5)F_(A3)||Mp.push(A3.stateNode);else for(A3=A3.child;A3!==null;)gp.push(A3),A3=A3.sibling}return Mp}var QI=Math.ceil,oR=cr.ReactCurrentDispatcher,XR=cr.ReactCurrentOwner,IE=cr.ReactCurrentBatchConfig,fE=0,PE=null,LE=null,UE=0,sC=0,rT=CM(0),DE=0,MT=null,nT=0,sR=0,YR=0,ET=null,QE=null,JR=0,QR=1/0;function iT(){QR=EE()+500}var aR=!1,ZR=null,IC=null,lR=!1,PC=null,uR=0,CT=0,eB=null,cR=-1,fR=0;function YE(){return fE&6?EE():cR!==-1?cR:cR=EE()}function LC(gp){return gp.mode&1?fE&2&&UE!==0?UE&-UE:UC.transition!==null?(fR===0&&(gp=vE,vE<<=1,!(vE&4194240)&&(vE=64),fR=gp),fR):(gp=dE,gp!==0?gp:Dp()):1}function hC(gp,Mp,Km){if(50<CT)throw CT=0,eB=null,Error(Zt(185));var A3=hR(gp,Mp);return A3===null?null:(_E(A3,Mp,Km),(!(fE&2)||A3!==PE)&&(A3===PE&&(!(fE&2)&&(sR|=Mp),DE===4&&DC(A3,UE)),ZE(A3,Km),Mp===1&&fE===0&&!(gp.mode&1)&&(iT(),yC&&JE())),A3)}function hR(gp,Mp){gp.lanes|=Mp;var Km=gp.alternate;for(Km!==null&&(Km.lanes|=Mp),Km=gp,gp=gp.return;gp!==null;)gp.childLanes|=Mp,Km=gp.alternate,Km!==null&&(Km.childLanes|=Mp),Km=gp,gp=gp.return;return Km.tag===3?Km.stateNode:null}function ZE(gp,Mp){var Km=gp.callbackNode;AE(gp,Mp);var A3=yE(gp,gp===PE?UE:0);if(A3===0)Km!==null&&QC(Km),gp.callbackNode=null,gp.callbackPriority=0;else if(Mp=A3&-A3,gp.callbackPriority!==Mp){if(Km!=null&&QC(Km),Mp===1)gp.tag===0?cT(xI.bind(null,gp)):uT(xI.bind(null,gp)),zp?v3(function(){fE===0&&JE()}):xC($C,JE),Km=null;else{switch(oT(A3)){case 1:Km=$C;break;case 4:Km=BT;break;case 16:Km=qE;break;case 536870912:Km=aT;break;default:Km=qE}Km=kI(Km,wI.bind(null,gp))}gp.callbackPriority=Mp,gp.callbackNode=Km}}function wI(gp,Mp){if(cR=-1,fR=0,fE&6)throw Error(Zt(327));var Km=gp.callbackNode;if(YC()&&gp.callbackNode!==Km)return null;var A3=yE(gp,gp===PE?UE:0);if(A3===0)return null;if(A3&30||A3&gp.expiredLanes||Mp)Mp=dR(gp,A3);else{Mp=A3;var X_=fE;fE|=2;var zx=MI();(PE!==gp||UE!==Mp)&&(iT(),KC(gp,Mp));do try{tP();break}catch(MM){SI(gp,MM)}while(1);e9(),oR.current=zx,fE=X_,LE!==null?Mp=0:(PE=null,UE=0,Mp=DE)}if(Mp!==0){if(Mp===2&&(X_=xE(gp),X_!==0&&(A3=X_,Mp=tB(gp,X_))),Mp===1)throw Km=MT,KC(gp,0),DC(gp,A3),ZE(gp,EE()),Km;if(Mp===6)DC(gp,A3);else{if(X_=gp.current.alternate,!(A3&30)&&!ZI(X_)&&(Mp=dR(gp,A3),Mp===2&&(zx=xE(gp),zx!==0&&(A3=zx,Mp=tB(gp,zx))),Mp===1))throw Km=MT,KC(gp,0),DC(gp,A3),ZE(gp,EE()),Km;switch(gp.finishedWork=X_,gp.finishedLanes=A3,Mp){case 0:case 1:throw Error(Zt(345));case 2:XC(gp,QE);break;case 3:if(DC(gp,A3),(A3&130023424)===A3&&(Mp=JR+500-EE(),10<Mp)){if(yE(gp,0)!==0)break;if(X_=gp.suspendedLanes,(X_&A3)!==A3){YE(),gp.pingedLanes|=gp.suspendedLanes&X_;break}gp.timeoutHandle=Xm(XC.bind(null,gp,QE),Mp);break}XC(gp,QE);break;case 4:if(DC(gp,A3),(A3&4194240)===A3)break;for(Mp=gp.eventTimes,X_=-1;0<A3;){var aM=31-eE(A3);zx=1<<aM,aM=Mp[aM],aM>X_&&(X_=aM),A3&=~zx}if(A3=X_,A3=EE()-A3,A3=(120>A3?120:480>A3?480:1080>A3?1080:1920>A3?1920:3e3>A3?3e3:4320>A3?4320:1960*QI(A3/1960))-A3,10<A3){gp.timeoutHandle=Xm(XC.bind(null,gp,QE),A3);break}XC(gp,QE);break;case 5:XC(gp,QE);break;default:throw Error(Zt(329))}}}return ZE(gp,EE()),gp.callbackNode===Km?wI.bind(null,gp):null}function tB(gp,Mp){var Km=ET;return gp.current.memoizedState.isDehydrated&&(KC(gp,Mp).flags|=256),gp=dR(gp,Mp),gp!==2&&(Mp=QE,QE=Km,Mp!==null&&rB(Mp)),gp}function rB(gp){QE===null?QE=gp:QE.push.apply(QE,gp)}function ZI(gp){for(var Mp=gp;;){if(Mp.flags&16384){var Km=Mp.updateQueue;if(Km!==null&&(Km=Km.stores,Km!==null))for(var A3=0;A3<Km.length;A3++){var X_=Km[A3],zx=X_.getSnapshot;X_=X_.value;try{if(!tC(zx(),X_))return!1}catch{return!1}}}if(Km=Mp.child,Mp.subtreeFlags&16384&&Km!==null)Km.return=Mp,Mp=Km;else{if(Mp===gp)break;for(;Mp.sibling===null;){if(Mp.return===null||Mp.return===gp)return!0;Mp=Mp.return}Mp.sibling.return=Mp.return,Mp=Mp.sibling}}return!0}function DC(gp,Mp){for(Mp&=~YR,Mp&=~sR,gp.suspendedLanes|=Mp,gp.pingedLanes&=~Mp,gp=gp.expirationTimes;0<Mp;){var Km=31-eE(Mp),A3=1<<Km;gp[Km]=-1,Mp&=~A3}}function xI(gp){if(fE&6)throw Error(Zt(327));YC();var Mp=yE(gp,0);if(!(Mp&1))return ZE(gp,EE()),null;var Km=dR(gp,Mp);if(gp.tag!==0&&Km===2){var A3=xE(gp);A3!==0&&(Mp=A3,Km=tB(gp,A3))}if(Km===1)throw Km=MT,KC(gp,0),DC(gp,Mp),ZE(gp,EE()),Km;if(Km===6)throw Error(Zt(345));return gp.finishedWork=gp.current.alternate,gp.finishedLanes=Mp,XC(gp,QE),ZE(gp,EE()),null}function AI(gp){PC!==null&&PC.tag===0&&!(fE&6)&&YC();var Mp=fE;fE|=1;var Km=IE.transition,A3=dE;try{if(IE.transition=null,dE=1,gp)return gp()}finally{dE=A3,IE.transition=Km,fE=Mp,!(fE&6)&&JE()}}function nB(){sC=rT.current,pM(rT)}function KC(gp,Mp){gp.finishedWork=null,gp.finishedLanes=0;var Km=gp.timeoutHandle;if(Km!==$_&&(gp.timeoutHandle=$_,Jm(Km)),LE!==null)for(Km=LE.return;Km!==null;){var A3=Km;switch(_R(A3),A3.tag){case 1:A3=A3.type.childContextTypes,A3!=null&&QM();break;case 3:eT(),pM(kM),pM(DM),CR();break;case 5:MR(A3);break;case 4:eT();break;case 13:pM(CE);break;case 19:pM(CE);break;case 10:NE(A3.type._context);break;case 22:case 23:nB()}Km=Km.return}if(PE=gp,LE=gp=OC(gp.current,null),UE=sC=Mp,DE=0,MT=null,YR=sR=nT=0,QE=ET=null,rC!==null){for(Mp=0;Mp<rC.length;Mp++)if(Km=rC[Mp],A3=Km.interleaved,A3!==null){Km.interleaved=null;var X_=A3.next,zx=Km.pending;if(zx!==null){var aM=zx.next;zx.next=X_,A3.next=aM}Km.pending=A3}rC=null}return gp}function SI(gp,Mp){do{var Km=LE;try{if(e9(),UT.current=VT,zT){for(var A3=TE.memoizedState;A3!==null;){var X_=A3.queue;X_!==null&&(X_.pending=null),A3=A3.next}zT=!1}if(tT=0,$E=zE=TE=null,gT=!1,vT=0,XR.current=null,Km===null||Km.return===null){DE=1,MT=Mp,LE=null;break}e:{var zx=gp,aM=Km.return,MM=Km,zM=Mp;if(Mp=UE,MM.flags|=32768,zM!==null&&typeof zM=="object"&&typeof zM.then=="function"){var qM=zM,ZM=MM,aE=ZM.tag;if(!(ZM.mode&1)&&(aE===0||aE===11||aE===15)){var oE=ZM.alternate;oE?(ZM.updateQueue=oE.updateQueue,ZM.memoizedState=oE.memoizedState,ZM.lanes=oE.lanes):(ZM.updateQueue=null,ZM.memoizedState=null)}var wE=VB(aM);if(wE!==null){wE.flags&=-257,jB(wE,aM,MM,zx,Mp),wE.mode&1&&qB(zx,qM,Mp),Mp=wE,zM=qM;var rE=Mp.updateQueue;if(rE===null){var GE=new Set;GE.add(zM),Mp.updateQueue=GE}else rE.add(zM);break e}else{if(!(Mp&1)){qB(zx,qM,Mp),iB();break e}zM=Error(Zt(426))}}else if(SE&&MM.mode&1){var pC=VB(aM);if(pC!==null){!(pC.flags&65536)&&(pC.flags|=256),jB(pC,aM,MM,zx,Mp),AR(zM);break e}}zx=zM,DE!==4&&(DE=2),ET===null?ET=[zx]:ET.push(zx),zM=LR(zM,MM),MM=aM;do{switch(MM.tag){case 3:MM.flags|=65536,Mp&=-Mp,MM.lanes|=Mp;var OM=WB(MM,zM,Mp);fB(MM,OM);break e;case 1:zx=zM;var TM=MM.type,FM=MM.stateNode;if(!(MM.flags&128)&&(typeof TM.getDerivedStateFromError=="function"||FM!==null&&typeof FM.componentDidCatch=="function"&&(IC===null||!IC.has(FM)))){MM.flags|=65536,Mp&=-Mp,MM.lanes|=Mp;var JM=GB(MM,zx,Mp);fB(MM,JM);break e}}MM=MM.return}while(MM!==null)}CI(Km)}catch(tE){Mp=tE,LE===Km&&Km!==null&&(LE=Km=Km.return);continue}break}while(1)}function MI(){var gp=oR.current;return oR.current=VT,gp===null?VT:gp}function iB(){(DE===0||DE===3||DE===2)&&(DE=4),PE===null||!(nT&268435455)&&!(sR&268435455)||DC(PE,UE)}function dR(gp,Mp){var Km=fE;fE|=2;var A3=MI();PE===gp&&UE===Mp||KC(gp,Mp);do try{eP();break}catch(X_){SI(gp,X_)}while(1);if(e9(),fE=Km,oR.current=A3,LE!==null)throw Error(Zt(261));return PE=null,UE=0,DE}function eP(){for(;LE!==null;)EI(LE)}function tP(){for(;LE!==null&&!sT();)EI(LE)}function EI(gp){var Mp=BI(gp.alternate,gp,sC);gp.memoizedProps=gp.pendingProps,Mp===null?CI(gp):LE=Mp,XR.current=null}function CI(gp){var Mp=gp;do{var Km=Mp.alternate;if(gp=Mp.return,Mp.flags&32768){if(Km=jI(Km,Mp),Km!==null){Km.flags&=32767,LE=Km;return}if(gp!==null)gp.flags|=32768,gp.subtreeFlags=0,gp.deletions=null;else{DE=6,LE=null;return}}else if(Km=GI(Km,Mp,sC),Km!==null){LE=Km;return}if(Mp=Mp.sibling,Mp!==null){LE=Mp;return}LE=Mp=gp}while(Mp!==null);DE===0&&(DE=5)}function XC(gp,Mp){var Km=dE,A3=IE.transition;try{IE.transition=null,dE=1,rP(gp,Mp,Km)}finally{IE.transition=A3,dE=Km}return null}function rP(gp,Mp,Km){do YC();while(PC!==null);if(fE&6)throw Error(Zt(327));var A3=gp.finishedWork,X_=gp.finishedLanes;if(A3===null)return null;if(gp.finishedWork=null,gp.finishedLanes=0,A3===gp.current)throw Error(Zt(177));gp.callbackNode=null,gp.callbackPriority=0;var zx=A3.lanes|A3.childLanes;if(TC(gp,zx),gp===PE&&(LE=PE=null,UE=0),!(A3.subtreeFlags&2064)&&!(A3.flags&2064)||lR||(lR=!0,kI(qE,function(){return YC(),null})),zx=(A3.flags&15990)!==0,A3.subtreeFlags&15990||zx){zx=IE.transition,IE.transition=null;var aM=dE;dE=1;var MM=fE;fE|=4,XR.current=null,XI(gp,A3),YI(gp,A3),go(gp.containerInfo),gp.current=A3,JI(A3),RT(),fE=MM,dE=aM,IE.transition=zx}else gp.current=A3;if(lR&&(lR=!1,PC=gp,uR=X_),zx=gp.pendingLanes,zx===0&&(IC=null),lT(A3.stateNode),ZE(gp,EE()),Mp!==null)for(Km=gp.onRecoverableError,A3=0;A3<Mp.length;A3++)Km(Mp[A3]);if(aR)throw aR=!1,gp=ZR,ZR=null,gp;return uR&1&&gp.tag!==0&&YC(),zx=gp.pendingLanes,zx&1?gp===eB?CT++:(CT=0,eB=gp):CT=0,JE(),null}function YC(){if(PC!==null){var gp=oT(uR),Mp=IE.transition,Km=dE;try{if(IE.transition=null,dE=16>gp?16:gp,PC===null)var A3=!1;else{if(gp=PC,PC=null,uR=0,fE&6)throw Error(Zt(331));var X_=fE;for(fE|=4,YM=gp.current;YM!==null;){var zx=YM,aM=zx.child;if(YM.flags&16){var MM=zx.deletions;if(MM!==null){for(var zM=0;zM<MM.length;zM++){var qM=MM[zM];for(YM=qM;YM!==null;){var ZM=YM;switch(ZM.tag){case 0:case 11:case 15:jC(8,ZM,zx)}var aE=ZM.child;if(aE!==null)aE.return=ZM,YM=aE;else for(;YM!==null;){ZM=YM;var oE=ZM.sibling,wE=ZM.return;if(fI(ZM),ZM===qM){YM=null;break}if(oE!==null){oE.return=wE,YM=oE;break}YM=wE}}}var rE=zx.alternate;if(rE!==null){var GE=rE.child;if(GE!==null){rE.child=null;do{var pC=GE.sibling;GE.sibling=null,GE=pC}while(GE!==null)}}YM=zx}}if(zx.subtreeFlags&2064&&aM!==null)aM.return=zx,YM=aM;else e:for(;YM!==null;){if(zx=YM,zx.flags&2048)switch(zx.tag){case 0:case 11:case 15:jC(9,zx,zx.return)}var OM=zx.sibling;if(OM!==null){OM.return=zx.return,YM=OM;break e}YM=zx.return}}var TM=gp.current;for(YM=TM;YM!==null;){aM=YM;var FM=aM.child;if(aM.subtreeFlags&2064&&FM!==null)FM.return=aM,YM=FM;else e:for(aM=TM;YM!==null;){if(MM=YM,MM.flags&2048)try{switch(MM.tag){case 0:case 11:case 15:AT(9,MM)}}catch(tE){w8(MM,MM.return,tE)}if(MM===aM){YM=null;break e}var JM=MM.sibling;if(JM!==null){JM.return=MM.return,YM=JM;break e}YM=MM.return}}if(fE=X_,JE(),eC&&typeof eC.onPostCommitFiberRoot=="function")try{eC.onPostCommitFiberRoot(FC,gp)}catch{}A3=!0}return A3}finally{dE=Km,IE.transition=Mp}}return!1}function TI(gp,Mp,Km){Mp=LR(Km,Mp),Mp=WB(gp,Mp,1),kC(gp,Mp),Mp=YE(),gp=hR(gp,1),gp!==null&&(_E(gp,1,Mp),ZE(gp,Mp))}function w8(gp,Mp,Km){if(gp.tag===3)TI(gp,gp,Km);else for(;Mp!==null;){if(Mp.tag===3){TI(Mp,gp,Km);break}else if(Mp.tag===1){var A3=Mp.stateNode;if(typeof Mp.type.getDerivedStateFromError=="function"||typeof A3.componentDidCatch=="function"&&(IC===null||!IC.has(A3))){gp=LR(Km,gp),gp=GB(Mp,gp,1),kC(Mp,gp),gp=YE(),Mp=hR(Mp,1),Mp!==null&&(_E(Mp,1,gp),ZE(Mp,gp));break}}Mp=Mp.return}}function nP(gp,Mp,Km){var A3=gp.pingCache;A3!==null&&A3.delete(Mp),Mp=YE(),gp.pingedLanes|=gp.suspendedLanes&Km,PE===gp&&(UE&Km)===Km&&(DE===4||DE===3&&(UE&130023424)===UE&&500>EE()-JR?KC(gp,0):YR|=Km),ZE(gp,Mp)}function RI(gp,Mp){Mp===0&&(gp.mode&1?(Mp=cE,cE<<=1,!(cE&130023424)&&(cE=4194304)):Mp=1);var Km=YE();gp=hR(gp,Mp),gp!==null&&(_E(gp,Mp,Km),ZE(gp,Km))}function iP(gp){var Mp=gp.memoizedState,Km=0;Mp!==null&&(Km=Mp.retryLane),RI(gp,Km)}function oP(gp,Mp){var Km=0;switch(gp.tag){case 13:var A3=gp.stateNode,X_=gp.memoizedState;X_!==null&&(Km=X_.retryLane);break;case 19:A3=gp.stateNode;break;default:throw Error(Zt(314))}A3!==null&&A3.delete(Mp),RI(gp,Km)}var BI;BI=function(gp,Mp,Km){if(gp!==null)if(gp.memoizedProps!==Mp.pendingProps||kM.current)oC=!0;else{if(!(gp.lanes&Km)&&!(Mp.flags&128))return oC=!1,VI(gp,Mp,Km);oC=!!(gp.flags&131072)}else oC=!1,SE&&Mp.flags&1048576&&vB(Mp,NT,Mp.index);switch(Mp.lanes=0,Mp.tag){case 2:var A3=Mp.type;gp!==null&&(gp.alternate=null,Mp.alternate=null,Mp.flags|=2),gp=Mp.pendingProps;var X_=WM(Mp,DM.current);BE(Mp,Km),X_=RR(null,Mp,A3,gp,X_,Km);var zx=BR();return Mp.flags|=1,typeof X_=="object"&&X_!==null&&typeof X_.render=="function"&&X_.$$typeof===void 0?(Mp.tag=1,Mp.memoizedState=null,Mp.updateQueue=null,KM(A3)?(zx=!0,XM(Mp)):zx=!1,Mp.memoizedState=X_.state!==null&&X_.state!==void 0?X_.state:null,gR(Mp),X_.updater=DT,Mp.stateNode=X_,X_._reactInternals=Mp,yR(Mp,A3,gp,Km),Mp=NR(null,Mp,A3,!0,zx,Km)):(Mp.tag=0,SE&&zx&&bR(Mp),XE(null,Mp,X_,Km),Mp=Mp.child),Mp;case 16:A3=Mp.elementType;e:{switch(gp!==null&&(gp.alternate=null,Mp.alternate=null,Mp.flags|=2),gp=Mp.pendingProps,X_=A3._init,A3=X_(A3._payload),Mp.type=A3,X_=Mp.tag=aP(A3),gp=jE(A3,gp),X_){case 0:Mp=OR(null,Mp,A3,gp,Km);break e;case 1:Mp=eI(null,Mp,A3,gp,Km);break e;case 11:Mp=YB(null,Mp,A3,gp,Km);break e;case 14:Mp=JB(null,Mp,A3,jE(A3.type,gp),Km);break e}throw Error(Zt(306,A3,""))}return Mp;case 0:return A3=Mp.type,X_=Mp.pendingProps,X_=Mp.elementType===A3?X_:jE(A3,X_),OR(gp,Mp,A3,X_,Km);case 1:return A3=Mp.type,X_=Mp.pendingProps,X_=Mp.elementType===A3?X_:jE(A3,X_),eI(gp,Mp,A3,X_,Km);case 3:e:{if(tI(Mp),gp===null)throw Error(Zt(387));A3=Mp.pendingProps,zx=Mp.memoizedState,X_=zx.element,cB(gp,Mp),LT(Mp,A3,null,Km);var aM=Mp.memoizedState;if(A3=aM.element,W_&&zx.isDehydrated)if(zx={element:A3,isDehydrated:!1,cache:aM.cache,transitions:aM.transitions},Mp.updateQueue.baseState=zx,Mp.memoizedState=zx,Mp.flags&256){X_=Error(Zt(423)),Mp=rI(gp,Mp,A3,Km,X_);break e}else if(A3!==X_){X_=Error(Zt(424)),Mp=rI(gp,Mp,A3,Km,X_);break e}else for(W_&&(iC=eM(Mp.stateNode.containerInfo),nC=Mp,SE=!0,gC=null,fT=!1),Km=AB(Mp,null,A3,Km),Mp.child=Km;Km;)Km.flags=Km.flags&-3|4096,Km=Km.sibling;else{if(s9(),A3===X_){Mp=CC(gp,Mp,Km);break e}XE(gp,Mp,A3,Km)}Mp=Mp.child}return Mp;case 5:return SB(Mp),gp===null&&xR(Mp),A3=Mp.type,X_=Mp.pendingProps,zx=gp!==null?gp.memoizedProps:null,aM=X_.children,L_(A3,X_)?aM=null:zx!==null&&L_(A3,zx)&&(Mp.flags|=32),_k(gp,Mp),XE(gp,Mp,aM,Km),Mp.child;case 6:return gp===null&&xR(Mp),null;case 13:return nI(gp,Mp,Km);case 4:return SR(Mp,Mp.stateNode.containerInfo),A3=Mp.pendingProps,gp===null?Mp.child=w9(Mp,null,A3,Km):XE(gp,Mp,A3,Km),Mp.child;case 11:return A3=Mp.type,X_=Mp.pendingProps,X_=Mp.elementType===A3?X_:jE(A3,X_),YB(gp,Mp,A3,X_,Km);case 7:return XE(gp,Mp,Mp.pendingProps,Km),Mp.child;case 8:return XE(gp,Mp,Mp.pendingProps.children,Km),Mp.child;case 12:return XE(gp,Mp,Mp.pendingProps.children,Km),Mp.child;case 10:e:{if(A3=Mp.type._context,X_=Mp.pendingProps,zx=Mp.memoizedProps,aM=X_.value,IT(Mp,A3,aM),zx!==null)if(tC(zx.value,aM)){if(zx.children===X_.children&&!kM.current){Mp=CC(gp,Mp,Km);break e}}else for(zx=Mp.child,zx!==null&&(zx.return=Mp);zx!==null;){var MM=zx.dependencies;if(MM!==null){aM=zx.child;for(var zM=MM.firstContext;zM!==null;){if(zM.context===A3){if(zx.tag===1){zM=AC(-1,Km&-Km),zM.tag=2;var qM=zx.updateQueue;if(qM!==null){qM=qM.shared;var ZM=qM.pending;ZM===null?zM.next=zM:(zM.next=ZM.next,ZM.next=zM),qM.pending=zM}}zx.lanes|=Km,zM=zx.alternate,zM!==null&&(zM.lanes|=Km),KE(zx.return,Km,Mp),MM.lanes|=Km;break}zM=zM.next}}else if(zx.tag===10)aM=zx.type===Mp.type?null:zx.child;else if(zx.tag===18){if(aM=zx.return,aM===null)throw Error(Zt(341));aM.lanes|=Km,MM=aM.alternate,MM!==null&&(MM.lanes|=Km),KE(aM,Km,Mp),aM=zx.sibling}else aM=zx.child;if(aM!==null)aM.return=zx;else for(aM=zx;aM!==null;){if(aM===Mp){aM=null;break}if(zx=aM.sibling,zx!==null){zx.return=aM.return,aM=zx;break}aM=aM.return}zx=aM}XE(gp,Mp,X_.children,Km),Mp=Mp.child}return Mp;case 9:return X_=Mp.type,A3=Mp.pendingProps.children,BE(Mp,Km),X_=kE(X_),A3=A3(X_),Mp.flags|=1,XE(gp,Mp,A3,Km),Mp.child;case 14:return A3=Mp.type,X_=jE(A3,Mp.pendingProps),X_=jE(A3.type,X_),JB(gp,Mp,A3,X_,Km);case 15:return QB(gp,Mp,Mp.type,Mp.pendingProps,Km);case 17:return A3=Mp.type,X_=Mp.pendingProps,X_=Mp.elementType===A3?X_:jE(A3,X_),gp!==null&&(gp.alternate=null,Mp.alternate=null,Mp.flags|=2),Mp.tag=1,KM(A3)?(gp=!0,XM(Mp)):gp=!1,BE(Mp,Km),mB(Mp,A3,X_),yR(Mp,A3,X_,Km),NR(null,Mp,A3,!0,gp,Km);case 19:return aI(gp,Mp,Km);case 22:return ZB(gp,Mp,Km)}throw Error(Zt(156,Mp.tag))};function kI(gp,Mp){return xC(gp,Mp)}function sP(gp,Mp,Km,A3){this.tag=gp,this.key=Km,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Mp,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A3,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dC(gp,Mp,Km,A3){return new sP(gp,Mp,Km,A3)}function oB(gp){return gp=gp.prototype,!(!gp||!gp.isReactComponent)}function aP(gp){if(typeof gp=="function")return oB(gp)?1:0;if(gp!=null){if(gp=gp.$$typeof,gp===wl)return 11;if(gp===np)return 14}return 2}function OC(gp,Mp){var Km=gp.alternate;return Km===null?(Km=dC(gp.tag,Mp,gp.key,gp.mode),Km.elementType=gp.elementType,Km.type=gp.type,Km.stateNode=gp.stateNode,Km.alternate=gp,gp.alternate=Km):(Km.pendingProps=Mp,Km.type=gp.type,Km.flags=0,Km.subtreeFlags=0,Km.deletions=null),Km.flags=gp.flags&14680064,Km.childLanes=gp.childLanes,Km.lanes=gp.lanes,Km.child=gp.child,Km.memoizedProps=gp.memoizedProps,Km.memoizedState=gp.memoizedState,Km.updateQueue=gp.updateQueue,Mp=gp.dependencies,Km.dependencies=Mp===null?null:{lanes:Mp.lanes,firstContext:Mp.firstContext},Km.sibling=gp.sibling,Km.index=gp.index,Km.ref=gp.ref,Km}function pR(gp,Mp,Km,A3,X_,zx){var aM=2;if(A3=gp,typeof gp=="function")oB(gp)&&(aM=1);else if(typeof gp=="string")aM=5;else e:switch(gp){case xn:return JC(Km.children,X_,zx,Mp);case On:aM=8,X_|=8;break;case ss:return gp=dC(12,Km,Mp,X_|2),gp.elementType=ss,gp.lanes=zx,gp;case ep:return gp=dC(13,Km,Mp,X_),gp.elementType=ep,gp.lanes=zx,gp;case Al:return gp=dC(19,Km,Mp,X_),gp.elementType=Al,gp.lanes=zx,gp;case Cp:return mR(Km,X_,zx,Mp);default:if(typeof gp=="object"&&gp!==null)switch(gp.$$typeof){case ls:aM=10;break e;case cs:aM=9;break e;case wl:aM=11;break e;case np:aM=14;break e;case cp:aM=16,A3=null;break e}throw Error(Zt(130,gp==null?gp:typeof gp,""))}return Mp=dC(aM,Km,Mp,X_),Mp.elementType=gp,Mp.type=A3,Mp.lanes=zx,Mp}function JC(gp,Mp,Km,A3){return gp=dC(7,gp,A3,Mp),gp.lanes=Km,gp}function mR(gp,Mp,Km,A3){return gp=dC(22,gp,A3,Mp),gp.elementType=Cp,gp.lanes=Km,gp.stateNode={},gp}function sB(gp,Mp,Km){return gp=dC(6,gp,null,Mp),gp.lanes=Km,gp}function aB(gp,Mp,Km){return Mp=dC(4,gp.children!==null?gp.children:[],gp.key,Mp),Mp.lanes=Km,Mp.stateNode={containerInfo:gp.containerInfo,pendingChildren:null,implementation:gp.implementation},Mp}function lP(gp,Mp,Km,A3,X_){this.tag=Mp,this.containerInfo=gp,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=$_,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ME(0),this.expirationTimes=ME(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ME(0),this.identifierPrefix=A3,this.onRecoverableError=X_,W_&&(this.mutableSourceEagerHydrationData=null)}function II(gp,Mp,Km,A3,X_,zx,aM,MM,zM){return gp=new lP(gp,Mp,Km,MM,zM),Mp===1?(Mp=1,zx===!0&&(Mp|=8)):Mp=0,zx=dC(3,null,null,Mp),gp.current=zx,zx.stateNode=gp,zx.memoizedState={element:A3,isDehydrated:Km,cache:null,transitions:null},gR(zx),gp}function PI(gp){if(!gp)return PM;gp=gp._reactInternals;e:{if(i1(gp)!==gp||gp.tag!==1)throw Error(Zt(170));var Mp=gp;do{switch(Mp.tag){case 3:Mp=Mp.stateNode.context;break e;case 1:if(KM(Mp.type)){Mp=Mp.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Mp=Mp.return}while(Mp!==null);throw Error(Zt(171))}if(gp.tag===1){var Km=gp.type;if(KM(Km))return sM(gp,Km,Mp)}return Mp}function LI(gp){var Mp=gp._reactInternals;if(Mp===void 0)throw typeof gp.render=="function"?Error(Zt(188)):(gp=Object.keys(gp).join(","),Error(Zt(268,gp)));return gp=Sn(Mp),gp===null?null:gp.stateNode}function DI(gp,Mp){if(gp=gp.memoizedState,gp!==null&&gp.dehydrated!==null){var Km=gp.retryLane;gp.retryLane=Km!==0&&Km<Mp?Km:Mp}}function lB(gp,Mp){DI(gp,Mp),(gp=gp.alternate)&&DI(gp,Mp)}function uP(gp){return gp=Sn(gp),gp===null?null:gp.stateNode}function cP(){return null}return ht.attemptContinuousHydration=function(gp){if(gp.tag===13){var Mp=YE();hC(gp,134217728,Mp),lB(gp,134217728)}},ht.attemptHydrationAtCurrentPriority=function(gp){if(gp.tag===13){var Mp=YE(),Km=LC(gp);hC(gp,Km,Mp),lB(gp,Km)}},ht.attemptSynchronousHydration=function(gp){switch(gp.tag){case 3:var Mp=gp.stateNode;if(Mp.current.memoizedState.isDehydrated){var Km=pE(Mp.pendingLanes);Km!==0&&(vC(Mp,Km|1),ZE(Mp,EE()),!(fE&6)&&(iT(),JE()))}break;case 13:var A3=YE();AI(function(){return hC(gp,1,A3)}),lB(gp,1)}},ht.batchedUpdates=function(gp,Mp){var Km=fE;fE|=1;try{return gp(Mp)}finally{fE=Km,fE===0&&(iT(),yC&&JE())}},ht.createComponentSelector=function(gp){return{$$typeof:eR,value:gp}},ht.createContainer=function(gp,Mp,Km,A3,X_,zx,aM){return II(gp,Mp,!1,null,Km,A3,X_,zx,aM)},ht.createHasPseudoClassSelector=function(gp){return{$$typeof:tR,value:gp}},ht.createHydrationContainer=function(gp,Mp,Km,A3,X_,zx,aM,MM,zM){return gp=II(Km,A3,!0,gp,X_,zx,aM,MM,zM),gp.context=PI(null),Km=gp.current,A3=YE(),X_=LC(Km),zx=AC(A3,X_),zx.callback=Mp??null,kC(Km,zx),gp.current.lanes=X_,_E(gp,X_,A3),ZE(gp,A3),gp},ht.createPortal=function(gp,Mp,Km){var A3=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:A3==null?null:""+A3,children:gp,containerInfo:Mp,implementation:Km}},ht.createRoleSelector=function(gp){return{$$typeof:rR,value:gp}},ht.createTestNameSelector=function(gp){return{$$typeof:nR,value:gp}},ht.createTextSelector=function(gp){return{$$typeof:iR,value:gp}},ht.deferredUpdates=function(gp){var Mp=dE,Km=IE.transition;try{return IE.transition=null,dE=16,gp()}finally{dE=Mp,IE.transition=Km}},ht.discreteUpdates=function(gp,Mp,Km,A3,X_){var zx=dE,aM=IE.transition;try{return IE.transition=null,dE=1,gp(Mp,Km,A3,X_)}finally{dE=zx,IE.transition=aM,fE===0&&iT()}},ht.findAllNodes=KR,ht.findBoundingRects=function(gp,Mp){if(!Mw)throw Error(Zt(363));Mp=KR(gp,Mp),gp=[];for(var Km=0;Km<Mp.length;Km++)gp.push(n4(Mp[Km]));for(Mp=gp.length-1;0<Mp;Mp--){Km=gp[Mp];for(var A3=Km.x,X_=A3+Km.width,zx=Km.y,aM=zx+Km.height,MM=Mp-1;0<=MM;MM--)if(Mp!==MM){var zM=gp[MM],qM=zM.x,ZM=qM+zM.width,aE=zM.y,oE=aE+zM.height;if(A3>=qM&&zx>=aE&&X_<=ZM&&aM<=oE){gp.splice(Mp,1);break}else if(A3!==qM||Km.width!==zM.width||oE<zx||aE>aM){if(!(zx!==aE||Km.height!==zM.height||ZM<A3||qM>X_)){qM>A3&&(zM.width+=qM-A3,zM.x=A3),ZM<X_&&(zM.width=X_-qM),gp.splice(Mp,1);break}}else{aE>zx&&(zM.height+=aE-zx,zM.y=zx),oE<aM&&(zM.height=aM-aE),gp.splice(Mp,1);break}}}return gp},ht.findHostInstance=LI,ht.findHostInstanceWithNoPortals=function(gp){return gp=op(gp),gp=gp!==null?as(gp):null,gp===null?null:gp.stateNode},ht.findHostInstanceWithWarning=function(gp){return LI(gp)},ht.flushControlled=function(gp){var Mp=fE;fE|=1;var Km=IE.transition,A3=dE;try{IE.transition=null,dE=1,gp()}finally{dE=A3,IE.transition=Km,fE=Mp,fE===0&&(iT(),JE())}},ht.flushPassiveEffects=YC,ht.flushSync=AI,ht.focusWithin=function(gp,Mp){if(!Mw)throw Error(Zt(363));for(gp=qR(gp),Mp=_I(gp,Mp),Mp=Array.from(Mp),gp=0;gp<Mp.length;){var Km=Mp[gp++];if(!F_(Km)){if(Km.tag===5&&nM(Km.stateNode))return!0;for(Km=Km.child;Km!==null;)Mp.push(Km),Km=Km.sibling}}return!1},ht.getCurrentUpdatePriority=function(){return dE},ht.getFindAllNodesFailureDescription=function(gp,Mp){if(!Mw)throw Error(Zt(363));var Km=0,A3=[];gp=[qR(gp),0];for(var X_=0;X_<gp.length;){var zx=gp[X_++],aM=gp[X_++],MM=Mp[aM];if((zx.tag!==5||!F_(zx))&&(VR(zx,MM)&&(A3.push(jR(MM)),aM++,aM>Km&&(Km=aM)),aM<Mp.length))for(zx=zx.child;zx!==null;)gp.push(zx,aM),zx=zx.sibling}if(Km<Mp.length){for(gp=[];Km<Mp.length;Km++)gp.push(jR(Mp[Km]));return`findAllNodes was able to match part of the selector:
  `+(A3.join(" > ")+`

No matching component was found for:
  `)+gp.join(" > ")}return null},ht.getPublicRootInstance=function(gp){if(gp=gp.current,!gp.child)return null;switch(gp.child.tag){case 5:return xl(gp.child.stateNode);default:return gp.child.stateNode}},ht.injectIntoDevTools=function(gp){if(gp={bundleType:gp.bundleType,version:gp.version,rendererPackageName:gp.rendererPackageName,rendererConfig:gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cr.ReactCurrentDispatcher,findHostInstanceByFiber:uP,findFiberByHostInstance:gp.findFiberByHostInstance||cP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")gp=!1;else{var Mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Mp.isDisabled||!Mp.supportsFiber)gp=!0;else{try{FC=Mp.inject(gp),eC=Mp}catch{}gp=!!Mp.checkDCE}}return gp},ht.isAlreadyRendering=function(){return!1},ht.observeVisibleRects=function(gp,Mp,Km,A3){if(!Mw)throw Error(Zt(363));gp=KR(gp,Mp);var X_=Hm(gp,Km,A3).disconnect;return{disconnect:function(){X_()}}},ht.registerMutableSourceForHydration=function(gp,Mp){var Km=Mp._getVersion;Km=Km(Mp._source),gp.mutableSourceEagerHydrationData==null?gp.mutableSourceEagerHydrationData=[Mp,Km]:gp.mutableSourceEagerHydrationData.push(Mp,Km)},ht.runWithPriority=function(gp,Mp){var Km=dE;try{return dE=gp,Mp()}finally{dE=Km}},ht.shouldError=function(){return null},ht.shouldSuspend=function(){return!1},ht.updateContainer=function(gp,Mp,Km,A3){var X_=Mp.current,zx=YE(),aM=LC(X_);return Km=PI(Km),Mp.context===null?Mp.context=Km:Mp.pendingContext=Km,Mp=AC(zx,aM),Mp.payload={element:gp},A3=A3===void 0?null:A3,A3!==null&&(Mp.callback=A3),kC(X_,Mp),gp=hC(X_,aM,zx),gp!==null&&PT(gp,X_,aM),aM},ht};reactReconciler.exports=reactReconciler_production_min;var reactReconcilerExports=reactReconciler.exports;const Reconciler=getDefaultExportFromCjs(reactReconcilerExports),isPromise=ut=>typeof ut=="object"&&typeof ut.then=="function",globalCache=[];function shallowEqualArrays(ut,lt,ht=(_t,At)=>_t===At){if(ut===lt)return!0;if(!ut||!lt)return!1;const _t=ut.length;if(lt.length!==_t)return!1;for(let At=0;At<_t;At++)if(!ht(ut[At],lt[At]))return!1;return!0}function query(ut,lt=null,ht=!1,_t={}){lt===null&&(lt=[ut]);for(const qt of globalCache)if(shallowEqualArrays(lt,qt.keys,qt.equal)){if(ht)return;if(Object.prototype.hasOwnProperty.call(qt,"error"))throw qt.error;if(Object.prototype.hasOwnProperty.call(qt,"response"))return _t.lifespan&&_t.lifespan>0&&(qt.timeout&&clearTimeout(qt.timeout),qt.timeout=setTimeout(qt.remove,_t.lifespan)),qt.response;if(!ht)throw qt.promise}const At={keys:lt,equal:_t.equal,remove:()=>{const qt=globalCache.indexOf(At);qt!==-1&&globalCache.splice(qt,1)},promise:(isPromise(ut)?ut:ut(...lt)).then(qt=>{At.response=qt,_t.lifespan&&_t.lifespan>0&&(At.timeout=setTimeout(At.remove,_t.lifespan))}).catch(qt=>At.error=qt)};if(globalCache.push(At),!ht)throw At.promise}const suspend=(ut,lt,ht)=>query(ut,lt,!1,ht),preload=(ut,lt,ht)=>void query(ut,lt,!0,ht),clear=ut=>{if(ut===void 0||ut.length===0)globalCache.splice(0,globalCache.length);else{const lt=globalCache.find(ht=>shallowEqualArrays(ut,ht.keys,ht.equal));lt&&lt.remove()}},catalogue={},extend=ut=>void Object.assign(catalogue,ut);function createRenderer(ut,lt){function ht(xn,{args:On=[],attach:ss,...ls},cs){let wl=`${xn[0].toUpperCase()}${xn.slice(1)}`,ep;if(xn==="primitive"){if(ls.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const Al=ls.object;ep=prepare(Al,{type:xn,root:cs,attach:ss,primitive:!0})}else{const Al=catalogue[wl];if(!Al)throw new Error(`R3F: ${wl} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(On))throw new Error("R3F: The args prop must be an array!");ep=prepare(new Al(...On),{type:xn,root:cs,attach:ss,memoizedProps:{args:On}})}return ep.__r3f.attach===void 0&&(ep instanceof BufferGeometry?ep.__r3f.attach="geometry":ep instanceof Material&&(ep.__r3f.attach="material")),wl!=="inject"&&applyProps$1(ep,ls),ep}function _t(xn,On){let ss=!1;if(On){var ls,cs;(ls=On.__r3f)!=null&&ls.attach?attach(xn,On,On.__r3f.attach):On.isObject3D&&xn.isObject3D&&(xn.add(On),ss=!0),ss||(cs=xn.__r3f)==null||cs.objects.push(On),On.__r3f||prepare(On,{}),On.__r3f.parent=xn,updateInstance(On),invalidateInstance(On)}}function At(xn,On,ss){let ls=!1;if(On){var cs,wl;if((cs=On.__r3f)!=null&&cs.attach)attach(xn,On,On.__r3f.attach);else if(On.isObject3D&&xn.isObject3D){On.parent=xn,On.dispatchEvent({type:"added"});const ep=xn.children.filter(np=>np!==On),Al=ep.indexOf(ss);xn.children=[...ep.slice(0,Al),On,...ep.slice(Al)],ls=!0}ls||(wl=xn.__r3f)==null||wl.objects.push(On),On.__r3f||prepare(On,{}),On.__r3f.parent=xn,updateInstance(On),invalidateInstance(On)}}function qt(xn,On,ss=!1){xn&&[...xn].forEach(ls=>Zt(On,ls,ss))}function Zt(xn,On,ss){if(On){var ls,cs,wl;if(On.__r3f&&(On.__r3f.parent=null),(ls=xn.__r3f)!=null&&ls.objects&&(xn.__r3f.objects=xn.__r3f.objects.filter(Cp=>Cp!==On)),(cs=On.__r3f)!=null&&cs.attach)detach(xn,On,On.__r3f.attach);else if(On.isObject3D&&xn.isObject3D){var ep;xn.remove(On),(ep=On.__r3f)!=null&&ep.root&&removeInteractivity(On.__r3f.root,On)}const np=(wl=On.__r3f)==null?void 0:wl.primitive,cp=ss===void 0?On.dispose!==null&&!np:ss;if(!np){var Al;qt((Al=On.__r3f)==null?void 0:Al.objects,On,cp),qt(On.children,On,cp)}delete On.__r3f,cp&&On.dispose&&On.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{On.dispose()}catch{}}),invalidateInstance(xn)}}function cr(xn,On,ss,ls){var cs;const wl=(cs=xn.__r3f)==null?void 0:cs.parent;if(!wl)return;const ep=ht(On,ss,xn.__r3f.root);if(xn.children){for(const Al of xn.children)Al.__r3f&&_t(ep,Al);xn.children=xn.children.filter(Al=>!Al.__r3f)}xn.__r3f.objects.forEach(Al=>_t(ep,Al)),xn.__r3f.objects=[],xn.__r3f.autoRemovedBeforeAppend||Zt(wl,xn),ep.parent&&(ep.__r3f.autoRemovedBeforeAppend=!0),_t(wl,ep),ep.raycast&&ep.__r3f.eventCount&&ep.__r3f.root.getState().internal.interaction.push(ep),[ls,ls.alternate].forEach(Al=>{Al!==null&&(Al.stateNode=ep,Al.ref&&(typeof Al.ref=="function"?Al.ref(ep):Al.ref.current=ep))})}const Gr=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:ht,removeChild:Zt,appendChild:_t,appendInitialChild:_t,insertBefore:At,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(xn,On)=>{if(!On)return;const ss=xn.getState().scene;ss.__r3f&&(ss.__r3f.root=xn,_t(ss,On))},removeChildFromContainer:(xn,On)=>{On&&Zt(xn.getState().scene,On)},insertInContainerBefore:(xn,On,ss)=>{if(!On||!ss)return;const ls=xn.getState().scene;ls.__r3f&&At(ls,On,ss)},getRootHostContext:()=>null,getChildHostContext:xn=>xn,finalizeInitialChildren(xn){var On;return!!((On=xn==null?void 0:xn.__r3f)!=null?On:{}).handlers},prepareUpdate(xn,On,ss,ls){var cs;if(((cs=xn==null?void 0:xn.__r3f)!=null?cs:{}).primitive&&ls.object&&ls.object!==xn)return[!0];{const{args:ep=[],children:Al,...np}=ls,{args:cp=[],children:Cp,...Lp}=ss;if(!Array.isArray(ep))throw new Error("R3F: the args prop must be an array!");if(ep.some((nm,zm)=>nm!==cp[zm]))return[!0];const jp=diffProps(xn,np,Lp,!0);return jp.changes.length?[!1,jp]:null}},commitUpdate(xn,[On,ss],ls,cs,wl,ep){On?cr(xn,ls,wl,ep):applyProps$1(xn,ss)},commitMount(xn,On,ss,ls){var cs;const wl=(cs=xn.__r3f)!=null?cs:{};xn.raycast&&wl.handlers&&wl.eventCount&&xn.__r3f.root.getState().internal.interaction.push(xn)},getPublicInstance:xn=>xn,prepareForCommit:()=>null,preparePortalMount:xn=>prepare(xn.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(xn){var On;const{attach:ss,parent:ls}=(On=xn.__r3f)!=null?On:{};ss&&ls&&detach(ls,xn,ss),xn.isObject3D&&(xn.visible=!1),invalidateInstance(xn)},unhideInstance(xn,On){var ss;const{attach:ls,parent:cs}=(ss=xn.__r3f)!=null?ss:{};ls&&cs&&attach(cs,xn,ls),(xn.isObject3D&&On.visible==null||On.visible)&&(xn.visible=!0),invalidateInstance(xn)},createTextInstance:Gr,hideTextInstance:Gr,unhideTextInstance:Gr,getCurrentEventPriority:()=>lt?lt():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is.fun(performance.now)?performance.now:is.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}var _window$document,_window$navigator;const hasColorSpace$1=ut=>"colorSpace"in ut||"outputColorSpace"in ut,getColorManagement=()=>{var ut;return(ut=catalogue.ColorManagement)!=null?ut:null},isOrthographicCamera=ut=>ut&&ut.isOrthographicCamera,isRef$1=ut=>ut&&ut.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(ut){const lt=reactExports.useRef(ut);return useIsomorphicLayoutEffect$1(()=>void(lt.current=ut),[ut]),lt}function Block({set:ut}){return useIsomorphicLayoutEffect$1(()=>(ut(new Promise(()=>null)),()=>ut(!1)),[ut]),null}class ErrorBoundary extends reactExports.Component{constructor(...lt){super(...lt),this.state={error:!1}}componentDidCatch(lt){this.props.set(lt)}render(){return this.state.error?null:this.props.children}}ErrorBoundary.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",DEFAULTS=new Map,isDiffSet=ut=>ut&&!!ut.memoized&&!!ut.changes;function calculateDpr(ut){var lt;const ht=typeof window<"u"?(lt=window.devicePixelRatio)!=null?lt:2:1;return Array.isArray(ut)?Math.min(Math.max(ut[0],ht),ut[1]):ut}const getRootState=ut=>{var lt;return(lt=ut.__r3f)==null?void 0:lt.root.getState()},is={obj:ut=>ut===Object(ut)&&!is.arr(ut)&&typeof ut!="function",fun:ut=>typeof ut=="function",str:ut=>typeof ut=="string",num:ut=>typeof ut=="number",boo:ut=>typeof ut=="boolean",und:ut=>ut===void 0,arr:ut=>Array.isArray(ut),equ(ut,lt,{arrays:ht="shallow",objects:_t="reference",strict:At=!0}={}){if(typeof ut!=typeof lt||!!ut!=!!lt)return!1;if(is.str(ut)||is.num(ut))return ut===lt;const qt=is.obj(ut);if(qt&&_t==="reference")return ut===lt;const Zt=is.arr(ut);if(Zt&&ht==="reference")return ut===lt;if((Zt||qt)&&ut===lt)return!0;let cr;for(cr in ut)if(!(cr in lt))return!1;if(qt&&ht==="shallow"&&_t==="shallow"){for(cr in At?lt:ut)if(!is.equ(ut[cr],lt[cr],{strict:At,objects:"reference"}))return!1}else for(cr in At?lt:ut)if(ut[cr]!==lt[cr])return!1;if(is.und(cr)){if(Zt&&ut.length===0&&lt.length===0||qt&&Object.keys(ut).length===0&&Object.keys(lt).length===0)return!0;if(ut!==lt)return!1}return!0}};function buildGraph(ut){const lt={nodes:{},materials:{}};return ut&&ut.traverse(ht=>{ht.name&&(lt.nodes[ht.name]=ht),ht.material&&!lt.materials[ht.material.name]&&(lt.materials[ht.material.name]=ht.material)}),lt}function dispose(ut){ut.dispose&&ut.type!=="Scene"&&ut.dispose();for(const lt in ut)lt.dispose==null||lt.dispose(),delete ut[lt]}function prepare(ut,lt){const ht=ut;return ht.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...lt},ut}function resolve(ut,lt){let ht=ut;if(lt.includes("-")){const _t=lt.split("-"),At=_t.pop();return ht=_t.reduce((qt,Zt)=>qt[Zt],ut),{target:ht,key:At}}else return{target:ht,key:lt}}const INDEX_REGEX=/-\d+$/;function attach(ut,lt,ht){if(is.str(ht)){if(INDEX_REGEX.test(ht)){const qt=ht.replace(INDEX_REGEX,""),{target:Zt,key:cr}=resolve(ut,qt);Array.isArray(Zt[cr])||(Zt[cr]=[])}const{target:_t,key:At}=resolve(ut,ht);lt.__r3f.previousAttach=_t[At],_t[At]=lt}else lt.__r3f.previousAttach=ht(ut,lt)}function detach(ut,lt,ht){var _t,At;if(is.str(ht)){const{target:qt,key:Zt}=resolve(ut,ht),cr=lt.__r3f.previousAttach;cr===void 0?delete qt[Zt]:qt[Zt]=cr}else(_t=lt.__r3f)==null||_t.previousAttach==null||_t.previousAttach(ut,lt);(At=lt.__r3f)==null||delete At.previousAttach}function diffProps(ut,{children:lt,key:ht,ref:_t,...At},{children:qt,key:Zt,ref:cr,...Gr}={},Zr=!1){var xn;const On=(xn=ut==null?void 0:ut.__r3f)!=null?xn:{},ss=Object.entries(At),ls=[];if(Zr){const wl=Object.keys(Gr);for(let ep=0;ep<wl.length;ep++)At.hasOwnProperty(wl[ep])||ss.unshift([wl[ep],DEFAULT+"remove"])}ss.forEach(([wl,ep])=>{var Al;if((Al=ut.__r3f)!=null&&Al.primitive&&wl==="object"||is.equ(ep,Gr[wl]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(wl))return ls.push([wl,ep,!0,[]]);let np=[];wl.includes("-")&&(np=wl.split("-")),ls.push([wl,ep,!1,np]);for(const cp in At){const Cp=At[cp];cp.startsWith(`${wl}-`)&&ls.push([cp,Cp,!1,cp.split("-")])}});const cs={...At};return On.memoizedProps&&On.memoizedProps.args&&(cs.args=On.memoizedProps.args),On.memoizedProps&&On.memoizedProps.attach&&(cs.attach=On.memoizedProps.attach),{memoized:cs,changes:ls}}const __DEV__=typeof api$2<"u"&&!1;function applyProps$1(ut,lt){var ht,_t,At;const qt=(ht=ut.__r3f)!=null?ht:{},Zt=qt.root,cr=(_t=Zt==null||Zt.getState==null?void 0:Zt.getState())!=null?_t:{},{memoized:Gr,changes:Zr}=isDiffSet(lt)?lt:diffProps(ut,lt),xn=qt.eventCount;ut.__r3f&&(ut.__r3f.memoizedProps=Gr);for(let ss=0;ss<Zr.length;ss++){let[ls,cs,wl,ep]=Zr[ss];if(hasColorSpace$1(ut)){const Cp="srgb",Lp="srgb-linear";ls==="encoding"?(ls="colorSpace",cs=cs===3001?Cp:Lp):ls==="outputEncoding"&&(ls="outputColorSpace",cs=cs===3001?Cp:Lp)}let Al=ut,np=Al[ls];if(ep.length&&(np=ep.reduce((cp,Cp)=>cp[Cp],ut),!(np&&np.set))){const[cp,...Cp]=ep.reverse();Al=Cp.reverse().reduce((Lp,jp)=>Lp[jp],ut),ls=cp}if(cs===DEFAULT+"remove")if(Al.constructor){let cp=DEFAULTS.get(Al.constructor);cp||(cp=new Al.constructor,DEFAULTS.set(Al.constructor,cp)),cs=cp[ls]}else cs=0;if(wl)cs?qt.handlers[ls]=cs:delete qt.handlers[ls],qt.eventCount=Object.keys(qt.handlers).length;else if(np&&np.set&&(np.copy||np instanceof Layers)){if(Array.isArray(cs))np.fromArray?np.fromArray(cs):np.set(...cs);else if(np.copy&&cs&&cs.constructor&&(__DEV__?np.constructor.name===cs.constructor.name:np.constructor===cs.constructor))np.copy(cs);else if(cs!==void 0){const cp=np instanceof Color;!cp&&np.setScalar?np.setScalar(cs):np instanceof Layers&&cs instanceof Layers?np.mask=cs.mask:np.set(cs),!getColorManagement()&&!cr.linear&&cp&&np.convertSRGBToLinear()}}else if(Al[ls]=cs,Al[ls]instanceof Texture&&Al[ls].format===RGBAFormat&&Al[ls].type===UnsignedByteType){const cp=Al[ls];hasColorSpace$1(cp)&&hasColorSpace$1(cr.gl)?cp.colorSpace=cr.gl.outputColorSpace:cp.encoding=cr.gl.outputEncoding}invalidateInstance(ut)}if(qt.parent&&cr.internal&&ut.raycast&&xn!==qt.eventCount){const ss=cr.internal.interaction.indexOf(ut);ss>-1&&cr.internal.interaction.splice(ss,1),qt.eventCount&&cr.internal.interaction.push(ut)}return!(Zr.length===1&&Zr[0][0]==="onUpdate")&&Zr.length&&(At=ut.__r3f)!=null&&At.parent&&updateInstance(ut),ut}function invalidateInstance(ut){var lt,ht;const _t=(lt=ut.__r3f)==null||(ht=lt.root)==null||ht.getState==null?void 0:ht.getState();_t&&_t.internal.frames===0&&_t.invalidate()}function updateInstance(ut){ut.onUpdate==null||ut.onUpdate(ut)}function updateCamera(ut,lt){ut.manual||(isOrthographicCamera(ut)?(ut.left=lt.width/-2,ut.right=lt.width/2,ut.top=lt.height/2,ut.bottom=lt.height/-2):ut.aspect=lt.width/lt.height,ut.updateProjectionMatrix(),ut.updateMatrixWorld())}function makeId(ut){return(ut.eventObject||ut.object).uuid+"/"+ut.index+ut.instanceId}function getEventPriority(){var ut;const lt=typeof self<"u"&&self||typeof window<"u"&&window;if(!lt)return constantsExports.DefaultEventPriority;switch((ut=lt.event)==null?void 0:ut.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(ut,lt,ht,_t){const At=ht.get(lt);At&&(ht.delete(lt),ht.size===0&&(ut.delete(_t),At.target.releasePointerCapture(_t)))}function removeInteractivity(ut,lt){const{internal:ht}=ut.getState();ht.interaction=ht.interaction.filter(_t=>_t!==lt),ht.initialHits=ht.initialHits.filter(_t=>_t!==lt),ht.hovered.forEach((_t,At)=>{(_t.eventObject===lt||_t.object===lt)&&ht.hovered.delete(At)}),ht.capturedMap.forEach((_t,At)=>{releaseInternalPointerCapture(ht.capturedMap,lt,_t,At)})}function createEvents(ut){function lt(Gr){const{internal:Zr}=ut.getState(),xn=Gr.offsetX-Zr.initialClick[0],On=Gr.offsetY-Zr.initialClick[1];return Math.round(Math.sqrt(xn*xn+On*On))}function ht(Gr){return Gr.filter(Zr=>["Move","Over","Enter","Out","Leave"].some(xn=>{var On;return(On=Zr.__r3f)==null?void 0:On.handlers["onPointer"+xn]}))}function _t(Gr,Zr){const xn=ut.getState(),On=new Set,ss=[],ls=Zr?Zr(xn.internal.interaction):xn.internal.interaction;for(let Al=0;Al<ls.length;Al++){const np=getRootState(ls[Al]);np&&(np.raycaster.camera=void 0)}xn.previousRoot||xn.events.compute==null||xn.events.compute(Gr,xn);function cs(Al){const np=getRootState(Al);if(!np||!np.events.enabled||np.raycaster.camera===null)return[];if(np.raycaster.camera===void 0){var cp;np.events.compute==null||np.events.compute(Gr,np,(cp=np.previousRoot)==null?void 0:cp.getState()),np.raycaster.camera===void 0&&(np.raycaster.camera=null)}return np.raycaster.camera?np.raycaster.intersectObject(Al,!0):[]}let wl=ls.flatMap(cs).sort((Al,np)=>{const cp=getRootState(Al.object),Cp=getRootState(np.object);return!cp||!Cp?Al.distance-np.distance:Cp.events.priority-cp.events.priority||Al.distance-np.distance}).filter(Al=>{const np=makeId(Al);return On.has(np)?!1:(On.add(np),!0)});xn.events.filter&&(wl=xn.events.filter(wl,xn));for(const Al of wl){let np=Al.object;for(;np;){var ep;(ep=np.__r3f)!=null&&ep.eventCount&&ss.push({...Al,eventObject:np}),np=np.parent}}if("pointerId"in Gr&&xn.internal.capturedMap.has(Gr.pointerId))for(let Al of xn.internal.capturedMap.get(Gr.pointerId).values())On.has(makeId(Al.intersection))||ss.push(Al.intersection);return ss}function At(Gr,Zr,xn,On){const ss=ut.getState();if(Gr.length){const ls={stopped:!1};for(const cs of Gr){const wl=getRootState(cs.object)||ss,{raycaster:ep,pointer:Al,camera:np,internal:cp}=wl,Cp=new Vector3(Al.x,Al.y,0).unproject(np),Lp=d3=>{var op,Sn;return(op=(Sn=cp.capturedMap.get(d3))==null?void 0:Sn.has(cs.eventObject))!=null?op:!1},jp=d3=>{const op={intersection:cs,target:Zr.target};cp.capturedMap.has(d3)?cp.capturedMap.get(d3).set(cs.eventObject,op):cp.capturedMap.set(d3,new Map([[cs.eventObject,op]])),Zr.target.setPointerCapture(d3)},nm=d3=>{const op=cp.capturedMap.get(d3);op&&releaseInternalPointerCapture(cp.capturedMap,cs.eventObject,op,d3)};let zm={};for(let d3 in Zr){let op=Zr[d3];typeof op!="function"&&(zm[d3]=op)}let i1={...cs,...zm,pointer:Al,intersections:Gr,stopped:ls.stopped,delta:xn,unprojectedPoint:Cp,ray:ep.ray,camera:np,stopPropagation(){const d3="pointerId"in Zr&&cp.capturedMap.get(Zr.pointerId);if((!d3||d3.has(cs.eventObject))&&(i1.stopped=ls.stopped=!0,cp.hovered.size&&Array.from(cp.hovered.values()).find(op=>op.eventObject===cs.eventObject))){const op=Gr.slice(0,Gr.indexOf(cs));qt([...op,cs])}},target:{hasPointerCapture:Lp,setPointerCapture:jp,releasePointerCapture:nm},currentTarget:{hasPointerCapture:Lp,setPointerCapture:jp,releasePointerCapture:nm},nativeEvent:Zr};if(On(i1),ls.stopped===!0)break}}return Gr}function qt(Gr){const{internal:Zr}=ut.getState();for(const xn of Zr.hovered.values())if(!Gr.length||!Gr.find(On=>On.object===xn.object&&On.index===xn.index&&On.instanceId===xn.instanceId)){const ss=xn.eventObject.__r3f,ls=ss==null?void 0:ss.handlers;if(Zr.hovered.delete(makeId(xn)),ss!=null&&ss.eventCount){const cs={...xn,intersections:Gr};ls.onPointerOut==null||ls.onPointerOut(cs),ls.onPointerLeave==null||ls.onPointerLeave(cs)}}}function Zt(Gr,Zr){for(let xn=0;xn<Zr.length;xn++){const On=Zr[xn].__r3f;On==null||On.handlers.onPointerMissed==null||On.handlers.onPointerMissed(Gr)}}function cr(Gr){switch(Gr){case"onPointerLeave":case"onPointerCancel":return()=>qt([]);case"onLostPointerCapture":return Zr=>{const{internal:xn}=ut.getState();"pointerId"in Zr&&xn.capturedMap.has(Zr.pointerId)&&requestAnimationFrame(()=>{xn.capturedMap.has(Zr.pointerId)&&(xn.capturedMap.delete(Zr.pointerId),qt([]))})}}return function(xn){const{onPointerMissed:On,internal:ss}=ut.getState();ss.lastEvent.current=xn;const ls=Gr==="onPointerMove",cs=Gr==="onClick"||Gr==="onContextMenu"||Gr==="onDoubleClick",ep=_t(xn,ls?ht:void 0),Al=cs?lt(xn):0;Gr==="onPointerDown"&&(ss.initialClick=[xn.offsetX,xn.offsetY],ss.initialHits=ep.map(cp=>cp.eventObject)),cs&&!ep.length&&Al<=2&&(Zt(xn,ss.interaction),On&&On(xn)),ls&&qt(ep);function np(cp){const Cp=cp.eventObject,Lp=Cp.__r3f,jp=Lp==null?void 0:Lp.handlers;if(Lp!=null&&Lp.eventCount)if(ls){if(jp.onPointerOver||jp.onPointerEnter||jp.onPointerOut||jp.onPointerLeave){const nm=makeId(cp),zm=ss.hovered.get(nm);zm?zm.stopped&&cp.stopPropagation():(ss.hovered.set(nm,cp),jp.onPointerOver==null||jp.onPointerOver(cp),jp.onPointerEnter==null||jp.onPointerEnter(cp))}jp.onPointerMove==null||jp.onPointerMove(cp)}else{const nm=jp[Gr];nm?(!cs||ss.initialHits.includes(Cp))&&(Zt(xn,ss.interaction.filter(zm=>!ss.initialHits.includes(zm))),nm(cp)):cs&&ss.initialHits.includes(Cp)&&Zt(xn,ss.interaction.filter(zm=>!ss.initialHits.includes(zm)))}}At(ep,xn,Al,np)}}return{handlePointer:cr}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=ut=>!!(ut!=null&&ut.render),context=reactExports.createContext(null),createStore$1=(ut,lt)=>{const ht=create$1((cr,Gr)=>{const Zr=new Vector3,xn=new Vector3,On=new Vector3;function ss(Al=Gr().camera,np=xn,cp=Gr().size){const{width:Cp,height:Lp,top:jp,left:nm}=cp,zm=Cp/Lp;np instanceof Vector3?On.copy(np):On.set(...np);const i1=Al.getWorldPosition(Zr).distanceTo(On);if(isOrthographicCamera(Al))return{width:Cp/Al.zoom,height:Lp/Al.zoom,top:jp,left:nm,factor:1,distance:i1,aspect:zm};{const d3=Al.fov*Math.PI/180,op=2*Math.tan(d3/2)*i1,Sn=op*(Cp/Lp);return{width:Sn,height:op,top:jp,left:nm,factor:Cp/Sn,distance:i1,aspect:zm}}}let ls;const cs=Al=>cr(np=>({performance:{...np.performance,current:Al}})),wl=new Vector2;return{set:cr,get:Gr,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(Al=1)=>ut(Gr(),Al),advance:(Al,np)=>lt(Al,np,Gr()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Clock,pointer:wl,mouse:wl,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const Al=Gr();ls&&clearTimeout(ls),Al.performance.current!==Al.performance.min&&cs(Al.performance.min),ls=setTimeout(()=>cs(Gr().performance.max),Al.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ss},setEvents:Al=>cr(np=>({...np,events:{...np.events,...Al}})),setSize:(Al,np,cp,Cp,Lp)=>{const jp=Gr().camera,nm={width:Al,height:np,top:Cp||0,left:Lp||0,updateStyle:cp};cr(zm=>({size:nm,viewport:{...zm.viewport,...ss(jp,xn,nm)}}))},setDpr:Al=>cr(np=>{const cp=calculateDpr(Al);return{viewport:{...np.viewport,dpr:cp,initialDpr:np.viewport.initialDpr||cp}}}),setFrameloop:(Al="always")=>{const np=Gr().clock;np.stop(),np.elapsedTime=0,Al!=="never"&&(np.start(),np.elapsedTime=0),cr(()=>({frameloop:Al}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(Al,np,cp)=>{const Cp=Gr().internal;return Cp.priority=Cp.priority+(np>0?1:0),Cp.subscribers.push({ref:Al,priority:np,store:cp}),Cp.subscribers=Cp.subscribers.sort((Lp,jp)=>Lp.priority-jp.priority),()=>{const Lp=Gr().internal;Lp!=null&&Lp.subscribers&&(Lp.priority=Lp.priority-(np>0?1:0),Lp.subscribers=Lp.subscribers.filter(jp=>jp.ref!==Al))}}}}}),_t=ht.getState();let At=_t.size,qt=_t.viewport.dpr,Zt=_t.camera;return ht.subscribe(()=>{const{camera:cr,size:Gr,viewport:Zr,gl:xn,set:On}=ht.getState();if(Gr!==At||Zr.dpr!==qt){var ss;At=Gr,qt=Zr.dpr,updateCamera(cr,Gr),xn.setPixelRatio(Zr.dpr);const ls=(ss=Gr.updateStyle)!=null?ss:typeof HTMLCanvasElement<"u"&&xn.domElement instanceof HTMLCanvasElement;xn.setSize(Gr.width,Gr.height,ls)}cr!==Zt&&(Zt=cr,On(ls=>({viewport:{...ls.viewport,...ls.viewport.getCurrentViewport(cr)}})))}),ht.subscribe(cr=>ut(cr)),ht};let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;function run(ut,lt){if(ut.size)for(const{callback:ht}of ut.values())ht(lt)}function flushGlobalEffects(ut,lt){switch(ut){case"before":return run(globalEffects,lt);case"after":return run(globalAfterEffects,lt);case"tail":return run(globalTailEffects,lt)}}let subscribers,subscription;function render$1(ut,lt,ht){let _t=lt.clock.getDelta();for(lt.frameloop==="never"&&typeof ut=="number"&&(_t=ut-lt.clock.elapsedTime,lt.clock.oldTime=lt.clock.elapsedTime,lt.clock.elapsedTime=ut),subscribers=lt.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),_t,ht);return!lt.internal.priority&&lt.gl.render&&lt.gl.render(lt.scene,lt.camera),lt.internal.frames=Math.max(0,lt.internal.frames-1),lt.frameloop==="always"?1:lt.internal.frames}function createLoop(ut){let lt=!1,ht,_t,At;function qt(Gr){_t=requestAnimationFrame(qt),lt=!0,ht=0,flushGlobalEffects("before",Gr);for(const xn of ut.values()){var Zr;At=xn.store.getState(),At.internal.active&&(At.frameloop==="always"||At.internal.frames>0)&&!((Zr=At.gl.xr)!=null&&Zr.isPresenting)&&(ht+=render$1(Gr,At))}if(flushGlobalEffects("after",Gr),ht===0)return flushGlobalEffects("tail",Gr),lt=!1,cancelAnimationFrame(_t)}function Zt(Gr,Zr=1){var xn;if(!Gr)return ut.forEach(On=>Zt(On.store.getState()),Zr);(xn=Gr.gl.xr)!=null&&xn.isPresenting||!Gr.internal.active||Gr.frameloop==="never"||(Gr.internal.frames=Math.min(60,Gr.internal.frames+Zr),lt||(lt=!0,requestAnimationFrame(qt)))}function cr(Gr,Zr=!0,xn,On){if(Zr&&flushGlobalEffects("before",Gr),xn)render$1(Gr,xn,On);else for(const ss of ut.values())render$1(Gr,ss.store.getState());Zr&&flushGlobalEffects("after",Gr)}return{loop:qt,invalidate:Zt,advance:cr}}function useStore(){const ut=reactExports.useContext(context);if(!ut)throw new Error("R3F: Hooks can only be used within the Canvas component!");return ut}function useThree(ut=ht=>ht,lt){return useStore()(ut,lt)}function useFrame(ut,lt=0){const ht=useStore(),_t=ht.getState().internal.subscribe,At=useMutableCallback(ut);return useIsomorphicLayoutEffect$1(()=>_t(At,lt,ht),[lt,_t,ht]),null}const memoizedLoaders=new WeakMap;function loadingFn(ut,lt){return function(ht,..._t){let At=memoizedLoaders.get(ht);return At||(At=new ht,memoizedLoaders.set(ht,At)),ut&&ut(At),Promise.all(_t.map(qt=>new Promise((Zt,cr)=>At.load(qt,Gr=>{Gr.scene&&Object.assign(Gr,buildGraph(Gr.scene)),Zt(Gr)},lt,Gr=>cr(new Error(`Could not load ${qt}: ${Gr==null?void 0:Gr.message}`)))))).finally(()=>At.dispose==null?void 0:At.dispose())}}function useLoader(ut,lt,ht,_t){const At=Array.isArray(lt)?lt:[lt],qt=suspend(loadingFn(ht,_t),[ut,...At],{equal:is.equ});return Array.isArray(lt)?qt:qt[0]}useLoader.preload=function(ut,lt,ht){const _t=Array.isArray(lt)?lt:[lt];return preload(loadingFn(ht),[ut,..._t])};useLoader.clear=function(ut,lt){const ht=Array.isArray(lt)?lt:[lt];return clear([ut,...ht])};const roots=new Map,{invalidate,advance}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(ut,lt)=>{const ht=typeof ut=="function"?ut(lt):ut;return isRenderer(ht)?ht:new WebGLRenderer({powerPreference:"high-performance",canvas:lt,antialias:!0,alpha:!0,...ut})};function computeInitialSize(ut,lt){if(lt)return lt;if(typeof HTMLCanvasElement<"u"&&ut instanceof HTMLCanvasElement&&ut.parentElement){const{width:ht,height:_t,top:At,left:qt}=ut.parentElement.getBoundingClientRect();return{width:ht,height:_t,top:At,left:qt}}else if(typeof OffscreenCanvas<"u"&&ut instanceof OffscreenCanvas)return{width:ut.width,height:ut.height,top:0,left:0};return{width:0,height:0,top:0,left:0}}function createRoot(ut){const lt=roots.get(ut),ht=lt==null?void 0:lt.fiber,_t=lt==null?void 0:lt.store;lt&&console.warn("R3F.createRoot should only be called once!");const At=typeof reportError=="function"?reportError:console.error,qt=_t||createStore$1(invalidate,advance),Zt=ht||reconciler.createContainer(qt,constantsExports.ConcurrentRoot,null,!1,null,"",At,null);lt||roots.set(ut,{fiber:Zt,store:qt});let cr,Gr=!1,Zr;return{configure(xn={}){let{gl:On,size:ss,scene:ls,events:cs,onCreated:wl,shadows:ep=!1,linear:Al=!1,flat:np=!1,legacy:cp=!1,orthographic:Cp=!1,frameloop:Lp="always",dpr:jp=[1,2],performance:nm,raycaster:zm,camera:i1,onPointerMissed:d3}=xn,op=qt.getState(),Sn=op.gl;op.gl||op.set({gl:Sn=createRendererInstance(On,ut)});let Fo=op.raycaster;Fo||op.set({raycaster:Fo=new Raycaster});const{params:as,...us}=zm||{};if(is.equ(us,Fo,shallowLoose)||applyProps(Fo,{...us}),is.equ(as,Fo.params,shallowLoose)||applyProps(Fo,{params:{...Fo.params,...as}}),!op.camera||op.camera===Zr&&!is.equ(Zr,i1,shallowLoose)){Zr=i1;const kp=i1 instanceof Camera,cm=kp?i1:Cp?new OrthographicCamera(0,0,0,0,.1,1e3):new PerspectiveCamera(75,0,.1,1e3);kp||(cm.position.z=5,i1&&applyProps(cm,i1),!op.camera&&!(i1!=null&&i1.rotation)&&cm.lookAt(0,0,0)),op.set({camera:cm})}if(!op.scene){let kp;ls instanceof Scene?kp=ls:(kp=new Scene,ls&&applyProps(kp,ls)),op.set({scene:prepare(kp)})}if(!op.xr){var xl;const kp=(L_,Ym)=>{const Xm=qt.getState();Xm.frameloop!=="never"&&advance(L_,!0,Xm,Ym)},cm=()=>{const L_=qt.getState();L_.gl.xr.enabled=L_.gl.xr.isPresenting,L_.gl.xr.setAnimationLoop(L_.gl.xr.isPresenting?kp:null),L_.gl.xr.isPresenting||invalidate(L_)},b3={connect(){const L_=qt.getState().gl;L_.xr.addEventListener("sessionstart",cm),L_.xr.addEventListener("sessionend",cm)},disconnect(){const L_=qt.getState().gl;L_.xr.removeEventListener("sessionstart",cm),L_.xr.removeEventListener("sessionend",cm)}};typeof((xl=Sn.xr)==null?void 0:xl.addEventListener)=="function"&&b3.connect(),op.set({xr:b3})}if(Sn.shadowMap){const kp=Sn.shadowMap.enabled,cm=Sn.shadowMap.type;if(Sn.shadowMap.enabled=!!ep,is.boo(ep))Sn.shadowMap.type=PCFSoftShadowMap;else if(is.str(ep)){var ip;const b3={basic:BasicShadowMap,percentage:PCFShadowMap,soft:PCFSoftShadowMap,variance:VSMShadowMap};Sn.shadowMap.type=(ip=b3[ep])!=null?ip:PCFSoftShadowMap}else is.obj(ep)&&Object.assign(Sn.shadowMap,ep);(kp!==Sn.shadowMap.enabled||cm!==Sn.shadowMap.type)&&(Sn.shadowMap.needsUpdate=!0)}const lp=getColorManagement();lp&&("enabled"in lp?lp.enabled=!cp:"legacyMode"in lp&&(lp.legacyMode=cp)),applyProps(Sn,{outputEncoding:Al?3e3:3001,toneMapping:np?NoToneMapping:ACESFilmicToneMapping}),op.legacy!==cp&&op.set(()=>({legacy:cp})),op.linear!==Al&&op.set(()=>({linear:Al})),op.flat!==np&&op.set(()=>({flat:np})),On&&!is.fun(On)&&!isRenderer(On)&&!is.equ(On,Sn,shallowLoose)&&applyProps(Sn,On),cs&&!op.events.handlers&&op.set({events:cs(qt)});const h0=computeInitialSize(ut,ss);return is.equ(h0,op.size,shallowLoose)||op.setSize(h0.width,h0.height,h0.updateStyle,h0.top,h0.left),jp&&op.viewport.dpr!==calculateDpr(jp)&&op.setDpr(jp),op.frameloop!==Lp&&op.setFrameloop(Lp),op.onPointerMissed||op.set({onPointerMissed:d3}),nm&&!is.equ(nm,op.performance,shallowLoose)&&op.set(kp=>({performance:{...kp.performance,...nm}})),cr=wl,Gr=!0,this},render(xn){return Gr||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:qt,children:xn,onCreated:cr,rootElement:ut}),Zt,null,()=>{}),qt},unmount(){unmountComponentAtNode(ut)}}}function Provider({store:ut,children:lt,onCreated:ht,rootElement:_t}){return useIsomorphicLayoutEffect$1(()=>{const At=ut.getState();At.set(qt=>({internal:{...qt.internal,active:!0}})),ht&&ht(At),ut.getState().events.connected||At.events.connect==null||At.events.connect(_t)},[]),reactExports.createElement(context.Provider,{value:ut},lt)}function unmountComponentAtNode(ut,lt){const ht=roots.get(ut),_t=ht==null?void 0:ht.fiber;if(_t){const At=ht==null?void 0:ht.store.getState();At&&(At.internal.active=!1),reconciler.updateContainer(null,_t,null,()=>{At&&setTimeout(()=>{try{var qt,Zt,cr,Gr;At.events.disconnect==null||At.events.disconnect(),(qt=At.gl)==null||(Zt=qt.renderLists)==null||Zt.dispose==null||Zt.dispose(),(cr=At.gl)==null||cr.forceContextLoss==null||cr.forceContextLoss(),(Gr=At.gl)!=null&&Gr.xr&&At.xr.disconnect(),dispose(At),roots.delete(ut),lt&&lt(ut)}catch{}},500)})}}function createPortal(ut,lt,ht){return reactExports.createElement(Portal,{key:lt.uuid,children:ut,container:lt,state:ht})}function Portal({state:ut={},children:lt,container:ht}){const{events:_t,size:At,...qt}=ut,Zt=useStore(),[cr]=reactExports.useState(()=>new Raycaster),[Gr]=reactExports.useState(()=>new Vector2),Zr=reactExports.useCallback((On,ss)=>{const ls={...On};Object.keys(On).forEach(wl=>{(privateKeys.includes(wl)||On[wl]!==ss[wl]&&ss[wl])&&delete ls[wl]});let cs;if(ss&&At){const wl=ss.camera;cs=On.viewport.getCurrentViewport(wl,new Vector3,At),wl!==On.camera&&updateCamera(wl,At)}return{...ls,scene:ht,raycaster:cr,pointer:Gr,mouse:Gr,previousRoot:Zt,events:{...On.events,...ss==null?void 0:ss.events,..._t},size:{...On.size,...At},viewport:{...On.viewport,...cs},...qt}},[ut]),[xn]=reactExports.useState(()=>{const On=Zt.getState();return create$1((ls,cs)=>({...On,scene:ht,raycaster:cr,pointer:Gr,mouse:Gr,previousRoot:Zt,events:{...On.events,..._t},size:{...On.size,...At},...qt,set:ls,get:cs,setEvents:wl=>ls(ep=>({...ep,events:{...ep.events,...wl}}))}))});return reactExports.useEffect(()=>{const On=Zt.subscribe(ss=>xn.setState(ls=>Zr(ss,ls)));return()=>{On(),xn.destroy()}},[]),reactExports.useEffect(()=>{xn.setState(On=>Zr(Zt.getState(),On))},[Zr]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context.Provider,{value:xn},lt),xn,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function _extends(){return _extends=Object.assign?Object.assign.bind():function(ut){for(var lt=1;lt<arguments.length;lt++){var ht=arguments[lt];for(var _t in ht)({}).hasOwnProperty.call(ht,_t)&&(ut[_t]=ht[_t])}return ut},_extends.apply(null,arguments)}function g(ut,lt){let ht;return(..._t)=>{window.clearTimeout(ht),ht=window.setTimeout(()=>ut(..._t),lt)}}function j({debounce:ut,scroll:lt,polyfill:ht,offsetSize:_t}={debounce:0,scroll:!1,offsetSize:!1}){const At=ht||(typeof window>"u"?class{}:window.ResizeObserver);if(!At)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[qt,Zt]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),cr=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:qt,orientationHandler:null}),Gr=ut?typeof ut=="number"?ut:ut.scroll:null,Zr=ut?typeof ut=="number"?ut:ut.resize:null,xn=reactExports.useRef(!1);reactExports.useEffect(()=>(xn.current=!0,()=>void(xn.current=!1)));const[On,ss,ls]=reactExports.useMemo(()=>{const Al=()=>{if(!cr.current.element)return;const{left:np,top:cp,width:Cp,height:Lp,bottom:jp,right:nm,x:zm,y:i1}=cr.current.element.getBoundingClientRect(),d3={left:np,top:cp,width:Cp,height:Lp,bottom:jp,right:nm,x:zm,y:i1};cr.current.element instanceof HTMLElement&&_t&&(d3.height=cr.current.element.offsetHeight,d3.width=cr.current.element.offsetWidth),Object.freeze(d3),xn.current&&!D(cr.current.lastBounds,d3)&&Zt(cr.current.lastBounds=d3)};return[Al,Zr?g(Al,Zr):Al,Gr?g(Al,Gr):Al]},[Zt,_t,Gr,Zr]);function cs(){cr.current.scrollContainers&&(cr.current.scrollContainers.forEach(Al=>Al.removeEventListener("scroll",ls,!0)),cr.current.scrollContainers=null),cr.current.resizeObserver&&(cr.current.resizeObserver.disconnect(),cr.current.resizeObserver=null),cr.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",cr.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",cr.current.orientationHandler))}function wl(){cr.current.element&&(cr.current.resizeObserver=new At(ls),cr.current.resizeObserver.observe(cr.current.element),lt&&cr.current.scrollContainers&&cr.current.scrollContainers.forEach(Al=>Al.addEventListener("scroll",ls,{capture:!0,passive:!0})),cr.current.orientationHandler=()=>{ls()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",cr.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",cr.current.orientationHandler))}const ep=Al=>{!Al||Al===cr.current.element||(cs(),cr.current.element=Al,cr.current.scrollContainers=E(Al),wl())};return X(ls,!!lt),W(ss),reactExports.useEffect(()=>{cs(),wl()},[lt,ls,ss]),reactExports.useEffect(()=>cs,[]),[ep,qt,On]}function W(ut){reactExports.useEffect(()=>{const lt=ut;return window.addEventListener("resize",lt),()=>void window.removeEventListener("resize",lt)},[ut])}function X(ut,lt){reactExports.useEffect(()=>{if(lt){const ht=ut;return window.addEventListener("scroll",ht,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",ht,!0)}},[ut,lt])}function E(ut){const lt=[];if(!ut||ut===document.body)return lt;const{overflow:ht,overflowX:_t,overflowY:At}=window.getComputedStyle(ut);return[ht,_t,At].some(qt=>qt==="auto"||qt==="scroll")&&lt.push(ut),[...lt,...E(ut.parentElement)]}const k=["x","y","top","bottom","left","right","width","height"],D=(ut,lt)=>k.every(ht=>ut[ht]===lt[ht]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(ut,lt,ht)=>lt in ut?__defProp(ut,lt,{enumerable:!0,configurable:!0,writable:!0,value:ht}):ut[lt]=ht,__spreadValues=(ut,lt)=>{for(var ht in lt||(lt={}))__hasOwnProp.call(lt,ht)&&__defNormalProp(ut,ht,lt[ht]);if(__getOwnPropSymbols)for(var ht of __getOwnPropSymbols(lt))__propIsEnum.call(lt,ht)&&__defNormalProp(ut,ht,lt[ht]);return ut},__spreadProps=(ut,lt)=>__defProps(ut,__getOwnPropDescs(lt)),_a$1,_b$1;typeof window<"u"&&((_a$1=window.document)!=null&&_a$1.createElement||((_b$1=window.navigator)==null?void 0:_b$1.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function traverseFiber(ut,lt,ht){if(!ut)return;if(ht(ut)===!0)return ut;let _t=lt?ut.return:ut.child;for(;_t;){const At=traverseFiber(_t,lt,ht);if(At)return At;_t=lt?null:_t.sibling}}function wrapContext(ut){try{return Object.defineProperties(ut,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return ut}}const error=console.error;console.error=function(){const ut=[...arguments].join("");if(ut!=null&&ut.startsWith("Warning:")&&ut.includes("useContext")){console.error=error;return}return error.apply(this,arguments)};const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}function useFiber(){const ut=reactExports.useContext(FiberContext);if(ut===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const lt=reactExports.useId();return reactExports.useMemo(()=>{for(const _t of[ut,ut==null?void 0:ut.alternate]){if(!_t)continue;const At=traverseFiber(_t,!1,qt=>{let Zt=qt.memoizedState;for(;Zt;){if(Zt.memoizedState===lt)return!0;Zt=Zt.next}});if(At)return At}},[ut,lt])}function useContextMap(){const ut=useFiber(),[lt]=reactExports.useState(()=>new Map);lt.clear();let ht=ut;for(;ht;){if(ht.type&&typeof ht.type=="object"){const At=ht.type._context===void 0&&ht.type.Provider===ht.type?ht.type:ht.type._context;At&&At!==FiberContext&&!lt.has(At)&&lt.set(At,reactExports.useContext(wrapContext(At)))}ht=ht.return}return lt}function useContextBridge(){const ut=useContextMap();return reactExports.useMemo(()=>Array.from(ut.keys()).reduce((lt,ht)=>_t=>reactExports.createElement(lt,null,reactExports.createElement(ht.Provider,__spreadProps(__spreadValues({},_t),{value:ut.get(ht)}))),lt=>reactExports.createElement(FiberProvider,__spreadValues({},lt))),[ut])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(ut){const{handlePointer:lt}=createEvents(ut);return{priority:1,enabled:!0,compute(ht,_t,At){_t.pointer.set(ht.offsetX/_t.size.width*2-1,-(ht.offsetY/_t.size.height)*2+1),_t.raycaster.setFromCamera(_t.pointer,_t.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((ht,_t)=>({...ht,[_t]:lt(_t)}),{}),update:()=>{var ht;const{events:_t,internal:At}=ut.getState();(ht=At.lastEvent)!=null&&ht.current&&_t.handlers&&_t.handlers.onPointerMove(At.lastEvent.current)},connect:ht=>{var _t;const{set:At,events:qt}=ut.getState();qt.disconnect==null||qt.disconnect(),At(Zt=>({events:{...Zt.events,connected:ht}})),Object.entries((_t=qt.handlers)!=null?_t:[]).forEach(([Zt,cr])=>{const[Gr,Zr]=DOM_EVENTS[Zt];ht.addEventListener(Gr,cr,{passive:Zr})})},disconnect:()=>{const{set:ht,events:_t}=ut.getState();if(_t.connected){var At;Object.entries((At=_t.handlers)!=null?At:[]).forEach(([qt,Zt])=>{if(_t&&_t.connected instanceof HTMLElement){const[cr]=DOM_EVENTS[qt];_t.connected.removeEventListener(cr,Zt)}}),ht(qt=>({events:{...qt.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function ut({children:lt,fallback:ht,resize:_t,style:At,gl:qt,events:Zt=createPointerEvents,eventSource:cr,eventPrefix:Gr,shadows:Zr,linear:xn,flat:On,legacy:ss,orthographic:ls,frameloop:cs,dpr:wl,performance:ep,raycaster:Al,camera:np,scene:cp,onPointerMissed:Cp,onCreated:Lp,...jp},nm){reactExports.useMemo(()=>extend(THREE),[]);const zm=useContextBridge(),[i1,d3]=j({scroll:!0,debounce:{scroll:50,resize:0},..._t}),op=reactExports.useRef(null),Sn=reactExports.useRef(null);reactExports.useImperativeHandle(nm,()=>op.current);const Fo=useMutableCallback(Cp),[as,us]=reactExports.useState(!1),[xl,ip]=reactExports.useState(!1);if(as)throw as;if(xl)throw xl;const lp=reactExports.useRef(null);useIsomorphicLayoutEffect$1(()=>{const go=op.current;d3.width>0&&d3.height>0&&go&&(lp.current||(lp.current=createRoot(go)),lp.current.configure({gl:qt,events:Zt,shadows:Zr,linear:xn,flat:On,legacy:ss,orthographic:ls,frameloop:cs,dpr:wl,performance:ep,raycaster:Al,camera:np,scene:cp,size:d3,onPointerMissed:(...h0)=>Fo.current==null?void 0:Fo.current(...h0),onCreated:h0=>{h0.events.connect==null||h0.events.connect(cr?isRef$1(cr)?cr.current:cr:Sn.current),Gr&&h0.setEvents({compute:(kp,cm)=>{const b3=kp[Gr+"X"],L_=kp[Gr+"Y"];cm.pointer.set(b3/cm.size.width*2-1,-(L_/cm.size.height)*2+1),cm.raycaster.setFromCamera(cm.pointer,cm.camera)}}),Lp==null||Lp(h0)}}),lp.current.render(reactExports.createElement(zm,null,reactExports.createElement(ErrorBoundary,{set:ip},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block,{set:us})},lt)))))}),reactExports.useEffect(()=>{const go=op.current;if(go)return()=>unmountComponentAtNode(go)},[]);const pu=cr?"none":"auto";return reactExports.createElement("div",_extends({ref:Sn,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:pu,...At}},jp),reactExports.createElement("div",{ref:i1,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:op,style:{display:"block"}},ht)))}),Canvas=reactExports.forwardRef(function ut(lt,ht){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends({},lt,{ref:ht})))});function createStore(ut){let lt;const ht=new Set,_t=(Zr,xn)=>{const On=typeof Zr=="function"?Zr(lt):Zr;if(On!==lt){const ss=lt;lt=xn?On:Object.assign({},lt,On),ht.forEach(ls=>ls(lt,ss))}},At=()=>lt,qt=(Zr,xn=At,On=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ss=xn(lt);function ls(){const cs=xn(lt);if(!On(ss,cs)){const wl=ss;Zr(ss=cs,wl)}}return ht.add(ls),()=>ht.delete(ls)},Gr={setState:_t,getState:At,subscribe:(Zr,xn,On)=>xn||On?qt(Zr,xn,On):(ht.add(Zr),()=>ht.delete(Zr)),destroy:()=>ht.clear()};return lt=ut(_t,At,Gr),Gr}const isSSR=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect=isSSR?reactExports.useEffect:reactExports.useLayoutEffect;function create(ut){const lt=typeof ut=="function"?createStore(ut):ut,ht=(_t=lt.getState,At=Object.is)=>{const[,qt]=reactExports.useReducer(ep=>ep+1,0),Zt=lt.getState(),cr=reactExports.useRef(Zt),Gr=reactExports.useRef(_t),Zr=reactExports.useRef(At),xn=reactExports.useRef(!1),On=reactExports.useRef();On.current===void 0&&(On.current=_t(Zt));let ss,ls=!1;(cr.current!==Zt||Gr.current!==_t||Zr.current!==At||xn.current)&&(ss=_t(Zt),ls=!At(On.current,ss)),useIsomorphicLayoutEffect(()=>{ls&&(On.current=ss),cr.current=Zt,Gr.current=_t,Zr.current=At,xn.current=!1});const cs=reactExports.useRef(Zt);useIsomorphicLayoutEffect(()=>{const ep=()=>{try{const np=lt.getState(),cp=Gr.current(np);Zr.current(On.current,cp)||(cr.current=np,On.current=cp,qt())}catch{xn.current=!0,qt()}},Al=lt.subscribe(ep);return lt.getState()!==cs.current&&ep(),Al},[]);const wl=ls?ss:On.current;return reactExports.useDebugValue(wl),wl};return Object.assign(ht,lt),ht[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const _t=[ht,lt];return{next(){const At=_t.length<=0;return{value:_t.shift(),done:At}}}},ht}let saveLastTotalLoaded=0;const useProgress=create(ut=>(DefaultLoadingManager.onStart=(lt,ht,_t)=>{ut({active:!0,item:lt,loaded:ht,total:_t,progress:(ht-saveLastTotalLoaded)/(_t-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{ut({active:!1})},DefaultLoadingManager.onError=lt=>ut(ht=>({errors:[...ht.errors,lt]})),DefaultLoadingManager.onProgress=(lt,ht,_t)=>{ht===_t&&(saveLastTotalLoaded=_t),ut({active:!0,item:lt,loaded:ht,total:_t,progress:(ht-saveLastTotalLoaded)/(_t-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),defaultDataInterpolation=ut=>`Loading ${ut.toFixed(2)}%`;function Loader({containerStyles:ut,innerStyles:lt,barStyles:ht,dataStyles:_t,dataInterpolation:At=defaultDataInterpolation,initialState:qt=Zt=>Zt}){const{active:Zt,progress:cr}=useProgress(),Gr=reactExports.useRef(0),Zr=reactExports.useRef(0),xn=reactExports.useRef(null),[On,ss]=reactExports.useState(qt(Zt));reactExports.useEffect(()=>{let cs;return Zt!==On&&(cs=setTimeout(()=>ss(Zt),300)),()=>clearTimeout(cs)},[On,Zt]);const ls=reactExports.useCallback(()=>{xn.current&&(Gr.current+=(cr-Gr.current)/2,(Gr.current>.95*cr||cr===100)&&(Gr.current=cr),xn.current.innerText=At(Gr.current),Gr.current<cr&&(Zr.current=requestAnimationFrame(ls)))},[At,cr]);return reactExports.useEffect(()=>(ls(),()=>cancelAnimationFrame(Zr.current)),[ls]),On?reactExports.createElement("div",{style:{...styles.container,opacity:Zt?1:0,...ut}},reactExports.createElement("div",null,reactExports.createElement("div",{style:{...styles.inner,...lt}},reactExports.createElement("div",{style:{...styles.bar,transform:`scaleX(${cr/100})`,...ht}}),reactExports.createElement("span",{ref:xn,style:{...styles.data,..._t}})))):null}const styles={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}},version=(()=>parseInt(REVISION.replace(/\D+/g,"")))();function toTrianglesDrawMode(ut,lt){if(lt===TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),ut;if(lt===TriangleFanDrawMode||lt===TriangleStripDrawMode){let ht=ut.getIndex();if(ht===null){const Zt=[],cr=ut.getAttribute("position");if(cr!==void 0){for(let Gr=0;Gr<cr.count;Gr++)Zt.push(Gr);ut.setIndex(Zt),ht=ut.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),ut}const _t=ht.count-2,At=[];if(ht)if(lt===TriangleFanDrawMode)for(let Zt=1;Zt<=_t;Zt++)At.push(ht.getX(0)),At.push(ht.getX(Zt)),At.push(ht.getX(Zt+1));else for(let Zt=0;Zt<_t;Zt++)Zt%2===0?(At.push(ht.getX(Zt)),At.push(ht.getX(Zt+1)),At.push(ht.getX(Zt+2))):(At.push(ht.getX(Zt+2)),At.push(ht.getX(Zt+1)),At.push(ht.getX(Zt)));At.length/3!==_t&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const qt=ut.clone();return qt.setIndex(At),qt.clearGroups(),qt}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",lt),ut}var u8=Uint8Array,u16=Uint16Array,u32=Uint32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(ut,lt){for(var ht=new u16(31),_t=0;_t<31;++_t)ht[_t]=lt+=1<<ut[_t-1];for(var At=new u32(ht[30]),_t=1;_t<30;++_t)for(var qt=ht[_t];qt<ht[_t+1];++qt)At[qt]=qt-ht[_t]<<5|_t;return[ht,At]},_a=freb(fleb,2),fl=_a[0],revfl=_a[1];fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b[0],rev=new u16(32768);for(var i=0;i<32768;++i){var x=(i&43690)>>>1|(i&21845)<<1;x=(x&52428)>>>2|(x&13107)<<2,x=(x&61680)>>>4|(x&3855)<<4,rev[i]=((x&65280)>>>8|(x&255)<<8)>>>1}var hMap=function(ut,lt,ht){for(var _t=ut.length,At=0,qt=new u16(lt);At<_t;++At)++qt[ut[At]-1];var Zt=new u16(lt);for(At=0;At<lt;++At)Zt[At]=Zt[At-1]+qt[At-1]<<1;var cr;if(ht){cr=new u16(1<<lt);var Gr=15-lt;for(At=0;At<_t;++At)if(ut[At])for(var Zr=At<<4|ut[At],xn=lt-ut[At],On=Zt[ut[At]-1]++<<xn,ss=On|(1<<xn)-1;On<=ss;++On)cr[rev[On]>>>Gr]=Zr}else for(cr=new u16(_t),At=0;At<_t;++At)ut[At]&&(cr[At]=rev[Zt[ut[At]-1]++]>>>15-ut[At]);return cr},flt=new u8(288);for(var i=0;i<144;++i)flt[i]=8;for(var i=144;i<256;++i)flt[i]=9;for(var i=256;i<280;++i)flt[i]=7;for(var i=280;i<288;++i)flt[i]=8;var fdt=new u8(32);for(var i=0;i<32;++i)fdt[i]=5;var flrm=hMap(flt,9,1),fdrm=hMap(fdt,5,1),max=function(ut){for(var lt=ut[0],ht=1;ht<ut.length;++ht)ut[ht]>lt&&(lt=ut[ht]);return lt},bits=function(ut,lt,ht){var _t=lt/8|0;return(ut[_t]|ut[_t+1]<<8)>>(lt&7)&ht},bits16=function(ut,lt){var ht=lt/8|0;return(ut[ht]|ut[ht+1]<<8|ut[ht+2]<<16)>>(lt&7)},shft=function(ut){return(ut/8|0)+(ut&7&&1)},slc=function(ut,lt,ht){(lt==null||lt<0)&&(lt=0),(ht==null||ht>ut.length)&&(ht=ut.length);var _t=new(ut instanceof u16?u16:ut instanceof u32?u32:u8)(ht-lt);return _t.set(ut.subarray(lt,ht)),_t},inflt=function(ut,lt,ht){var _t=ut.length;if(!_t||ht&&!ht.l&&_t<5)return lt||new u8(0);var At=!lt||ht,qt=!ht||ht.i;ht||(ht={}),lt||(lt=new u8(_t*3));var Zt=function(Ym){var Xm=lt.length;if(Ym>Xm){var Jm=new u8(Math.max(Xm*2,Ym));Jm.set(lt),lt=Jm}},cr=ht.f||0,Gr=ht.p||0,Zr=ht.b||0,xn=ht.l,On=ht.d,ss=ht.m,ls=ht.n,cs=_t*8;do{if(!xn){ht.f=cr=bits(ut,Gr,1);var wl=bits(ut,Gr+1,3);if(Gr+=3,wl)if(wl==1)xn=flrm,On=fdrm,ss=9,ls=5;else if(wl==2){var cp=bits(ut,Gr,31)+257,Cp=bits(ut,Gr+10,15)+4,Lp=cp+bits(ut,Gr+5,31)+1;Gr+=14;for(var jp=new u8(Lp),nm=new u8(19),zm=0;zm<Cp;++zm)nm[clim[zm]]=bits(ut,Gr+zm*3,7);Gr+=Cp*3;for(var i1=max(nm),d3=(1<<i1)-1,op=hMap(nm,i1,1),zm=0;zm<Lp;){var Sn=op[bits(ut,Gr,d3)];Gr+=Sn&15;var ep=Sn>>>4;if(ep<16)jp[zm++]=ep;else{var Fo=0,as=0;for(ep==16?(as=3+bits(ut,Gr,3),Gr+=2,Fo=jp[zm-1]):ep==17?(as=3+bits(ut,Gr,7),Gr+=3):ep==18&&(as=11+bits(ut,Gr,127),Gr+=7);as--;)jp[zm++]=Fo}}var us=jp.subarray(0,cp),xl=jp.subarray(cp);ss=max(us),ls=max(xl),xn=hMap(us,ss,1),On=hMap(xl,ls,1)}else throw"invalid block type";else{var ep=shft(Gr)+4,Al=ut[ep-4]|ut[ep-3]<<8,np=ep+Al;if(np>_t){if(qt)throw"unexpected EOF";break}At&&Zt(Zr+Al),lt.set(ut.subarray(ep,np),Zr),ht.b=Zr+=Al,ht.p=Gr=np*8;continue}if(Gr>cs){if(qt)throw"unexpected EOF";break}}At&&Zt(Zr+131072);for(var ip=(1<<ss)-1,lp=(1<<ls)-1,pu=Gr;;pu=Gr){var Fo=xn[bits16(ut,Gr)&ip],go=Fo>>>4;if(Gr+=Fo&15,Gr>cs){if(qt)throw"unexpected EOF";break}if(!Fo)throw"invalid length/literal";if(go<256)lt[Zr++]=go;else if(go==256){pu=Gr,xn=null;break}else{var h0=go-254;if(go>264){var zm=go-257,kp=fleb[zm];h0=bits(ut,Gr,(1<<kp)-1)+fl[zm],Gr+=kp}var cm=On[bits16(ut,Gr)&lp],b3=cm>>>4;if(!cm)throw"invalid distance";Gr+=cm&15;var xl=fd[b3];if(b3>3){var kp=fdeb[b3];xl+=bits16(ut,Gr)&(1<<kp)-1,Gr+=kp}if(Gr>cs){if(qt)throw"unexpected EOF";break}At&&Zt(Zr+131072);for(var L_=Zr+h0;Zr<L_;Zr+=4)lt[Zr]=lt[Zr-xl],lt[Zr+1]=lt[Zr+1-xl],lt[Zr+2]=lt[Zr+2-xl],lt[Zr+3]=lt[Zr+3-xl];Zr=L_}}ht.l=xn,ht.p=pu,ht.b=Zr,xn&&(cr=1,ht.m=ss,ht.d=On,ht.n=ls)}while(!cr);return Zr==lt.length?lt:slc(lt,0,Zr)},et=new u8(0),zlv=function(ut){if((ut[0]&15)!=8||ut[0]>>>4>7||(ut[0]<<8|ut[1])%31)throw"invalid zlib data";if(ut[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function unzlibSync(ut,lt){return inflt((zlv(ut),ut.subarray(2,-4)),lt)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et,{stream:!0}),tds=1}catch(ut){}const isCubeTexture=ut=>ut&&ut.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(lt,ht){var _t,At;const qt=isCubeTexture(lt),cr=((At=qt?(_t=lt.image[0])==null?void 0:_t.width:lt.image.width)!=null?At:1024)/4,Gr=Math.floor(Math.log2(cr)),Zr=Math.pow(2,Gr),xn=3*Math.max(Zr,16*7),On=4*Zr,ss=[qt?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/xn}`,`#define CUBEUV_TEXEL_HEIGHT ${1/On}`,`#define CUBEUV_MAX_MIP ${Gr}.0`],ls=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,cs=ss.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${version>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,wl={map:{value:lt},height:{value:(ht==null?void 0:ht.height)||15},radius:{value:(ht==null?void 0:ht.radius)||100}},ep=new IcosahedronGeometry(1,16),Al=new ShaderMaterial({uniforms:wl,fragmentShader:cs,vertexShader:ls,side:DoubleSide});super(ep,Al)}set radius(lt){this.material.uniforms.radius.value=lt}get radius(){return this.material.uniforms.radius.value}set height(lt){this.material.uniforms.height.value=lt}get height(){return this.material.uniforms.height.value}}function retarget(ut,lt,ht={}){const _t=new Vector3,At=new Quaternion,qt=new Vector3,Zt=new Matrix4,cr=new Matrix4,Gr=new Matrix4;ht.preserveMatrix=ht.preserveMatrix!==void 0?ht.preserveMatrix:!0,ht.preservePosition=ht.preservePosition!==void 0?ht.preservePosition:!0,ht.preserveHipPosition=ht.preserveHipPosition!==void 0?ht.preserveHipPosition:!1,ht.useTargetMatrix=ht.useTargetMatrix!==void 0?ht.useTargetMatrix:!1,ht.hip=ht.hip!==void 0?ht.hip:"hip",ht.names=ht.names||{};const Zr=lt.isObject3D?lt.skeleton.bones:getBones(lt),xn=ut.isObject3D?ut.skeleton.bones:getBones(ut);let On,ss,ls,cs,wl;if(ut.isObject3D?ut.skeleton.pose():(ht.useTargetMatrix=!0,ht.preserveMatrix=!1),ht.preservePosition){wl=[];for(let ep=0;ep<xn.length;ep++)wl.push(xn[ep].position.clone())}if(ht.preserveMatrix){ut.updateMatrixWorld(),ut.matrixWorld.identity();for(let ep=0;ep<ut.children.length;++ep)ut.children[ep].updateMatrixWorld(!0)}if(ht.offsets){On=[];for(let ep=0;ep<xn.length;++ep)ss=xn[ep],ls=ht.names[ss.name]||ss.name,ht.offsets[ls]&&(ss.matrix.multiply(ht.offsets[ls]),ss.matrix.decompose(ss.position,ss.quaternion,ss.scale),ss.updateMatrixWorld()),On.push(ss.matrixWorld.clone())}for(let ep=0;ep<xn.length;++ep){if(ss=xn[ep],ls=ht.names[ss.name]||ss.name,cs=getBoneByName(ls,Zr),Gr.copy(ss.matrixWorld),cs){if(cs.updateMatrixWorld(),ht.useTargetMatrix?cr.copy(cs.matrixWorld):(cr.copy(ut.matrixWorld).invert(),cr.multiply(cs.matrixWorld)),qt.setFromMatrixScale(cr),cr.scale(qt.set(1/qt.x,1/qt.y,1/qt.z)),Gr.makeRotationFromQuaternion(At.setFromRotationMatrix(cr)),ut.isObject3D){const Al=xn.indexOf(ss),np=On?On[Al]:Zt.copy(ut.skeleton.boneInverses[Al]).invert();Gr.multiply(np)}Gr.copyPosition(cr)}ss.parent&&ss.parent.isBone?(ss.matrix.copy(ss.parent.matrixWorld).invert(),ss.matrix.multiply(Gr)):ss.matrix.copy(Gr),ht.preserveHipPosition&&ls===ht.hip&&ss.matrix.setPosition(_t.set(0,ss.position.y,0)),ss.matrix.decompose(ss.position,ss.quaternion,ss.scale),ss.updateMatrixWorld()}if(ht.preservePosition)for(let ep=0;ep<xn.length;++ep)ss=xn[ep],ls=ht.names[ss.name]||ss.name,ls!==ht.hip&&ss.position.copy(wl[ep]);ht.preserveMatrix&&ut.updateMatrixWorld(!0)}function retargetClip(ut,lt,ht,_t={}){_t.useFirstFramePosition=_t.useFirstFramePosition!==void 0?_t.useFirstFramePosition:!1,_t.fps=_t.fps!==void 0?_t.fps:30,_t.names=_t.names||[],lt.isObject3D||(lt=getHelperFromSkeleton(lt));const At=Math.round(ht.duration*(_t.fps/1e3)*1e3),qt=1/_t.fps,Zt=[],cr=new AnimationMixer(lt),Gr=getBones(ut.skeleton),Zr=[];let xn,On,ss,ls,cs;cr.clipAction(ht).play(),cr.update(0),lt.updateMatrixWorld();for(let wl=0;wl<At;++wl){const ep=wl*qt;retarget(ut,lt,_t);for(let Al=0;Al<Gr.length;++Al)cs=_t.names[Gr[Al].name]||Gr[Al].name,ss=getBoneByName(cs,lt.skeleton),ss&&(On=Gr[Al],ls=Zr[Al]=Zr[Al]||{bone:On},_t.hip===cs&&(ls.pos||(ls.pos={times:new Float32Array(At),values:new Float32Array(At*3)}),_t.useFirstFramePosition&&(wl===0&&(xn=On.position.clone()),On.position.sub(xn)),ls.pos.times[wl]=ep,On.position.toArray(ls.pos.values,wl*3)),ls.quat||(ls.quat={times:new Float32Array(At),values:new Float32Array(At*4)}),ls.quat.times[wl]=ep,On.quaternion.toArray(ls.quat.values,wl*4));cr.update(qt),lt.updateMatrixWorld()}for(let wl=0;wl<Zr.length;++wl)ls=Zr[wl],ls&&(ls.pos&&Zt.push(new VectorKeyframeTrack(".bones["+ls.bone.name+"].position",ls.pos.times,ls.pos.values)),Zt.push(new QuaternionKeyframeTrack(".bones["+ls.bone.name+"].quaternion",ls.quat.times,ls.quat.values)));return cr.uncacheAction(ht),new AnimationClip(ht.name,-1,Zt)}function clone(ut){const lt=new Map,ht=new Map,_t=ut.clone();return parallelTraverse(ut,_t,function(At,qt){lt.set(qt,At),ht.set(At,qt)}),_t.traverse(function(At){if(!At.isSkinnedMesh)return;const qt=At,Zt=lt.get(At),cr=Zt.skeleton.bones;qt.skeleton=Zt.skeleton.clone(),qt.bindMatrix.copy(Zt.bindMatrix),qt.skeleton.bones=cr.map(function(Gr){return ht.get(Gr)}),qt.bind(qt.skeleton,qt.bindMatrix)}),_t}function getBoneByName(ut,lt){for(let ht=0,_t=getBones(lt);ht<_t.length;ht++)if(ut===_t[ht].name)return _t[ht]}function getBones(ut){return Array.isArray(ut)?ut:ut.bones}function getHelperFromSkeleton(ut){const lt=new SkeletonHelper(ut.bones[0]);return lt.skeleton=ut,lt}function parallelTraverse(ut,lt,ht){ht(ut,lt);for(let _t=0;_t<ut.children.length;_t++)parallelTraverse(ut.children[_t],lt.children[_t],ht)}const SkeletonUtils={retarget,retargetClip,clone};function decodeText(ut){if(typeof TextDecoder<"u")return new TextDecoder().decode(ut);let lt="";for(let ht=0,_t=ut.length;ht<_t;ht++)lt+=String.fromCharCode(ut[ht]);try{return decodeURIComponent(escape(lt))}catch{return lt}}const SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",sRGBEncoding=3001,LinearEncoding=3e3;class GLTFLoader extends Loader$1{constructor(lt){super(lt),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(ht){return new GLTFMaterialsClearcoatExtension(ht)}),this.register(function(ht){return new GLTFMaterialsDispersionExtension(ht)}),this.register(function(ht){return new GLTFTextureBasisUExtension(ht)}),this.register(function(ht){return new GLTFTextureWebPExtension(ht)}),this.register(function(ht){return new GLTFTextureAVIFExtension(ht)}),this.register(function(ht){return new GLTFMaterialsSheenExtension(ht)}),this.register(function(ht){return new GLTFMaterialsTransmissionExtension(ht)}),this.register(function(ht){return new GLTFMaterialsVolumeExtension(ht)}),this.register(function(ht){return new GLTFMaterialsIorExtension(ht)}),this.register(function(ht){return new GLTFMaterialsEmissiveStrengthExtension(ht)}),this.register(function(ht){return new GLTFMaterialsSpecularExtension(ht)}),this.register(function(ht){return new GLTFMaterialsIridescenceExtension(ht)}),this.register(function(ht){return new GLTFMaterialsAnisotropyExtension(ht)}),this.register(function(ht){return new GLTFMaterialsBumpExtension(ht)}),this.register(function(ht){return new GLTFLightsExtension(ht)}),this.register(function(ht){return new GLTFMeshoptCompression(ht)}),this.register(function(ht){return new GLTFMeshGpuInstancing(ht)})}load(lt,ht,_t,At){const qt=this;let Zt;if(this.resourcePath!=="")Zt=this.resourcePath;else if(this.path!==""){const Zr=LoaderUtils.extractUrlBase(lt);Zt=LoaderUtils.resolveURL(Zr,this.path)}else Zt=LoaderUtils.extractUrlBase(lt);this.manager.itemStart(lt);const cr=function(Zr){At?At(Zr):console.error(Zr),qt.manager.itemError(lt),qt.manager.itemEnd(lt)},Gr=new FileLoader(this.manager);Gr.setPath(this.path),Gr.setResponseType("arraybuffer"),Gr.setRequestHeader(this.requestHeader),Gr.setWithCredentials(this.withCredentials),Gr.load(lt,function(Zr){try{qt.parse(Zr,Zt,function(xn){ht(xn),qt.manager.itemEnd(lt)},cr)}catch(xn){cr(xn)}},_t,cr)}setDRACOLoader(lt){return this.dracoLoader=lt,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(lt){return this.ktx2Loader=lt,this}setMeshoptDecoder(lt){return this.meshoptDecoder=lt,this}register(lt){return this.pluginCallbacks.indexOf(lt)===-1&&this.pluginCallbacks.push(lt),this}unregister(lt){return this.pluginCallbacks.indexOf(lt)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(lt),1),this}parse(lt,ht,_t,At){let qt;const Zt={},cr={};if(typeof lt=="string")qt=JSON.parse(lt);else if(lt instanceof ArrayBuffer)if(decodeText(new Uint8Array(lt.slice(0,4)))===BINARY_EXTENSION_HEADER_MAGIC){try{Zt[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(lt)}catch(xn){At&&At(xn);return}qt=JSON.parse(Zt[EXTENSIONS.KHR_BINARY_GLTF].content)}else qt=JSON.parse(decodeText(new Uint8Array(lt)));else qt=lt;if(qt.asset===void 0||qt.asset.version[0]<2){At&&At(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const Gr=new GLTFParser(qt,{path:ht||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});Gr.fileLoader.setRequestHeader(this.requestHeader);for(let Zr=0;Zr<this.pluginCallbacks.length;Zr++){const xn=this.pluginCallbacks[Zr](Gr);xn.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),cr[xn.name]=xn,Zt[xn.name]=!0}if(qt.extensionsUsed)for(let Zr=0;Zr<qt.extensionsUsed.length;++Zr){const xn=qt.extensionsUsed[Zr],On=qt.extensionsRequired||[];switch(xn){case EXTENSIONS.KHR_MATERIALS_UNLIT:Zt[xn]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:Zt[xn]=new GLTFDracoMeshCompressionExtension(qt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:Zt[xn]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:Zt[xn]=new GLTFMeshQuantizationExtension;break;default:On.indexOf(xn)>=0&&cr[xn]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+xn+'".')}}Gr.setExtensions(Zt),Gr.setPlugins(cr),Gr.parse(_t,At)}parseAsync(lt,ht){const _t=this;return new Promise(function(At,qt){_t.parse(lt,ht,At,qt)})}}function GLTFRegistry(){let ut={};return{get:function(lt){return ut[lt]},add:function(lt,ht){ut[lt]=ht},remove:function(lt){delete ut[lt]},removeAll:function(){ut={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class GLTFLightsExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const lt=this.parser,ht=this.parser.json.nodes||[];for(let _t=0,At=ht.length;_t<At;_t++){const qt=ht[_t];qt.extensions&&qt.extensions[this.name]&&qt.extensions[this.name].light!==void 0&&lt._addNodeRef(this.cache,qt.extensions[this.name].light)}}_loadLight(lt){const ht=this.parser,_t="light:"+lt;let At=ht.cache.get(_t);if(At)return At;const qt=ht.json,Gr=((qt.extensions&&qt.extensions[this.name]||{}).lights||[])[lt];let Zr;const xn=new Color(16777215);Gr.color!==void 0&&xn.setRGB(Gr.color[0],Gr.color[1],Gr.color[2],LinearSRGBColorSpace);const On=Gr.range!==void 0?Gr.range:0;switch(Gr.type){case"directional":Zr=new DirectionalLight(xn),Zr.target.position.set(0,0,-1),Zr.add(Zr.target);break;case"point":Zr=new PointLight(xn),Zr.distance=On;break;case"spot":Zr=new SpotLight(xn),Zr.distance=On,Gr.spot=Gr.spot||{},Gr.spot.innerConeAngle=Gr.spot.innerConeAngle!==void 0?Gr.spot.innerConeAngle:0,Gr.spot.outerConeAngle=Gr.spot.outerConeAngle!==void 0?Gr.spot.outerConeAngle:Math.PI/4,Zr.angle=Gr.spot.outerConeAngle,Zr.penumbra=1-Gr.spot.innerConeAngle/Gr.spot.outerConeAngle,Zr.target.position.set(0,0,-1),Zr.add(Zr.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+Gr.type)}return Zr.position.set(0,0,0),Zr.decay=2,assignExtrasToUserData(Zr,Gr),Gr.intensity!==void 0&&(Zr.intensity=Gr.intensity),Zr.name=ht.createUniqueName(Gr.name||"light_"+lt),At=Promise.resolve(Zr),ht.cache.add(_t,At),At}getDependency(lt,ht){if(lt==="light")return this._loadLight(ht)}createNodeAttachment(lt){const ht=this,_t=this.parser,qt=_t.json.nodes[lt],cr=(qt.extensions&&qt.extensions[this.name]||{}).light;return cr===void 0?null:this._loadLight(cr).then(function(Gr){return _t._getNodeRef(ht.cache,cr,Gr)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(lt,ht,_t){const At=[];lt.color=new Color(1,1,1),lt.opacity=1;const qt=ht.pbrMetallicRoughness;if(qt){if(Array.isArray(qt.baseColorFactor)){const Zt=qt.baseColorFactor;lt.color.setRGB(Zt[0],Zt[1],Zt[2],LinearSRGBColorSpace),lt.opacity=Zt[3]}qt.baseColorTexture!==void 0&&At.push(_t.assignTexture(lt,"map",qt.baseColorTexture,SRGBColorSpace))}return Promise.all(At)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(lt,ht){const At=this.parser.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=At.extensions[this.name].emissiveStrength;return qt!==void 0&&(ht.emissiveIntensity=qt),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];if(Zt.clearcoatFactor!==void 0&&(ht.clearcoat=Zt.clearcoatFactor),Zt.clearcoatTexture!==void 0&&qt.push(_t.assignTexture(ht,"clearcoatMap",Zt.clearcoatTexture)),Zt.clearcoatRoughnessFactor!==void 0&&(ht.clearcoatRoughness=Zt.clearcoatRoughnessFactor),Zt.clearcoatRoughnessTexture!==void 0&&qt.push(_t.assignTexture(ht,"clearcoatRoughnessMap",Zt.clearcoatRoughnessTexture)),Zt.clearcoatNormalTexture!==void 0&&(qt.push(_t.assignTexture(ht,"clearcoatNormalMap",Zt.clearcoatNormalTexture)),Zt.clearcoatNormalTexture.scale!==void 0)){const cr=Zt.clearcoatNormalTexture.scale;ht.clearcoatNormalScale=new Vector2(cr,cr)}return Promise.all(qt)}}class GLTFMaterialsDispersionExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_DISPERSION}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const At=this.parser.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=At.extensions[this.name];return ht.dispersion=qt.dispersion!==void 0?qt.dispersion:0,Promise.resolve()}}class GLTFMaterialsIridescenceExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];return Zt.iridescenceFactor!==void 0&&(ht.iridescence=Zt.iridescenceFactor),Zt.iridescenceTexture!==void 0&&qt.push(_t.assignTexture(ht,"iridescenceMap",Zt.iridescenceTexture)),Zt.iridescenceIor!==void 0&&(ht.iridescenceIOR=Zt.iridescenceIor),ht.iridescenceThicknessRange===void 0&&(ht.iridescenceThicknessRange=[100,400]),Zt.iridescenceThicknessMinimum!==void 0&&(ht.iridescenceThicknessRange[0]=Zt.iridescenceThicknessMinimum),Zt.iridescenceThicknessMaximum!==void 0&&(ht.iridescenceThicknessRange[1]=Zt.iridescenceThicknessMaximum),Zt.iridescenceThicknessTexture!==void 0&&qt.push(_t.assignTexture(ht,"iridescenceThicknessMap",Zt.iridescenceThicknessTexture)),Promise.all(qt)}}class GLTFMaterialsSheenExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[];ht.sheenColor=new Color(0,0,0),ht.sheenRoughness=0,ht.sheen=1;const Zt=At.extensions[this.name];if(Zt.sheenColorFactor!==void 0){const cr=Zt.sheenColorFactor;ht.sheenColor.setRGB(cr[0],cr[1],cr[2],LinearSRGBColorSpace)}return Zt.sheenRoughnessFactor!==void 0&&(ht.sheenRoughness=Zt.sheenRoughnessFactor),Zt.sheenColorTexture!==void 0&&qt.push(_t.assignTexture(ht,"sheenColorMap",Zt.sheenColorTexture,SRGBColorSpace)),Zt.sheenRoughnessTexture!==void 0&&qt.push(_t.assignTexture(ht,"sheenRoughnessMap",Zt.sheenRoughnessTexture)),Promise.all(qt)}}class GLTFMaterialsTransmissionExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];return Zt.transmissionFactor!==void 0&&(ht.transmission=Zt.transmissionFactor),Zt.transmissionTexture!==void 0&&qt.push(_t.assignTexture(ht,"transmissionMap",Zt.transmissionTexture)),Promise.all(qt)}}class GLTFMaterialsVolumeExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];ht.thickness=Zt.thicknessFactor!==void 0?Zt.thicknessFactor:0,Zt.thicknessTexture!==void 0&&qt.push(_t.assignTexture(ht,"thicknessMap",Zt.thicknessTexture)),ht.attenuationDistance=Zt.attenuationDistance||1/0;const cr=Zt.attenuationColor||[1,1,1];return ht.attenuationColor=new Color().setRGB(cr[0],cr[1],cr[2],LinearSRGBColorSpace),Promise.all(qt)}}class GLTFMaterialsIorExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const At=this.parser.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=At.extensions[this.name];return ht.ior=qt.ior!==void 0?qt.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];ht.specularIntensity=Zt.specularFactor!==void 0?Zt.specularFactor:1,Zt.specularTexture!==void 0&&qt.push(_t.assignTexture(ht,"specularIntensityMap",Zt.specularTexture));const cr=Zt.specularColorFactor||[1,1,1];return ht.specularColor=new Color().setRGB(cr[0],cr[1],cr[2],LinearSRGBColorSpace),Zt.specularColorTexture!==void 0&&qt.push(_t.assignTexture(ht,"specularColorMap",Zt.specularColorTexture,SRGBColorSpace)),Promise.all(qt)}}class GLTFMaterialsBumpExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_MATERIALS_BUMP}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];return ht.bumpScale=Zt.bumpFactor!==void 0?Zt.bumpFactor:1,Zt.bumpTexture!==void 0&&qt.push(_t.assignTexture(ht,"bumpMap",Zt.bumpTexture)),Promise.all(qt)}}class GLTFMaterialsAnisotropyExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_MATERIALS_ANISOTROPY}getMaterialType(lt){const _t=this.parser.json.materials[lt];return!_t.extensions||!_t.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(lt,ht){const _t=this.parser,At=_t.json.materials[lt];if(!At.extensions||!At.extensions[this.name])return Promise.resolve();const qt=[],Zt=At.extensions[this.name];return Zt.anisotropyStrength!==void 0&&(ht.anisotropy=Zt.anisotropyStrength),Zt.anisotropyRotation!==void 0&&(ht.anisotropyRotation=Zt.anisotropyRotation),Zt.anisotropyTexture!==void 0&&qt.push(_t.assignTexture(ht,"anisotropyMap",Zt.anisotropyTexture)),Promise.all(qt)}}class GLTFTextureBasisUExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(lt){const ht=this.parser,_t=ht.json,At=_t.textures[lt];if(!At.extensions||!At.extensions[this.name])return null;const qt=At.extensions[this.name],Zt=ht.options.ktx2Loader;if(!Zt){if(_t.extensionsRequired&&_t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return ht.loadTextureImage(lt,qt.source,Zt)}}class GLTFTextureWebPExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(lt){const ht=this.name,_t=this.parser,At=_t.json,qt=At.textures[lt];if(!qt.extensions||!qt.extensions[ht])return null;const Zt=qt.extensions[ht],cr=At.images[Zt.source];let Gr=_t.textureLoader;if(cr.uri){const Zr=_t.options.manager.getHandler(cr.uri);Zr!==null&&(Gr=Zr)}return this.detectSupport().then(function(Zr){if(Zr)return _t.loadTextureImage(lt,Zt.source,Gr);if(At.extensionsRequired&&At.extensionsRequired.indexOf(ht)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return _t.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const ht=new Image;ht.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",ht.onload=ht.onerror=function(){lt(ht.height===1)}})),this.isSupported}}class GLTFTextureAVIFExtension{constructor(lt){this.parser=lt,this.name=EXTENSIONS.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(lt){const ht=this.name,_t=this.parser,At=_t.json,qt=At.textures[lt];if(!qt.extensions||!qt.extensions[ht])return null;const Zt=qt.extensions[ht],cr=At.images[Zt.source];let Gr=_t.textureLoader;if(cr.uri){const Zr=_t.options.manager.getHandler(cr.uri);Zr!==null&&(Gr=Zr)}return this.detectSupport().then(function(Zr){if(Zr)return _t.loadTextureImage(lt,Zt.source,Gr);if(At.extensionsRequired&&At.extensionsRequired.indexOf(ht)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return _t.loadTexture(lt)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(lt){const ht=new Image;ht.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",ht.onload=ht.onerror=function(){lt(ht.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(lt){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=lt}loadBufferView(lt){const ht=this.parser.json,_t=ht.bufferViews[lt];if(_t.extensions&&_t.extensions[this.name]){const At=_t.extensions[this.name],qt=this.parser.getDependency("buffer",At.buffer),Zt=this.parser.options.meshoptDecoder;if(!Zt||!Zt.supported){if(ht.extensionsRequired&&ht.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return qt.then(function(cr){const Gr=At.byteOffset||0,Zr=At.byteLength||0,xn=At.count,On=At.byteStride,ss=new Uint8Array(cr,Gr,Zr);return Zt.decodeGltfBufferAsync?Zt.decodeGltfBufferAsync(xn,On,ss,At.mode,At.filter).then(function(ls){return ls.buffer}):Zt.ready.then(function(){const ls=new ArrayBuffer(xn*On);return Zt.decodeGltfBuffer(new Uint8Array(ls),xn,On,ss,At.mode,At.filter),ls})})}else return null}}class GLTFMeshGpuInstancing{constructor(lt){this.name=EXTENSIONS.EXT_MESH_GPU_INSTANCING,this.parser=lt}createNodeMesh(lt){const ht=this.parser.json,_t=ht.nodes[lt];if(!_t.extensions||!_t.extensions[this.name]||_t.mesh===void 0)return null;const At=ht.meshes[_t.mesh];for(const Zr of At.primitives)if(Zr.mode!==WEBGL_CONSTANTS.TRIANGLES&&Zr.mode!==WEBGL_CONSTANTS.TRIANGLE_STRIP&&Zr.mode!==WEBGL_CONSTANTS.TRIANGLE_FAN&&Zr.mode!==void 0)return null;const Zt=_t.extensions[this.name].attributes,cr=[],Gr={};for(const Zr in Zt)cr.push(this.parser.getDependency("accessor",Zt[Zr]).then(xn=>(Gr[Zr]=xn,Gr[Zr])));return cr.length<1?null:(cr.push(this.parser.createNodeMesh(lt)),Promise.all(cr).then(Zr=>{const xn=Zr.pop(),On=xn.isGroup?xn.children:[xn],ss=Zr[0].count,ls=[];for(const cs of On){const wl=new Matrix4,ep=new Vector3,Al=new Quaternion,np=new Vector3(1,1,1),cp=new InstancedMesh(cs.geometry,cs.material,ss);for(let Cp=0;Cp<ss;Cp++)Gr.TRANSLATION&&ep.fromBufferAttribute(Gr.TRANSLATION,Cp),Gr.ROTATION&&Al.fromBufferAttribute(Gr.ROTATION,Cp),Gr.SCALE&&np.fromBufferAttribute(Gr.SCALE,Cp),cp.setMatrixAt(Cp,wl.compose(ep,Al,np));for(const Cp in Gr)if(Cp==="_COLOR_0"){const Lp=Gr[Cp];cp.instanceColor=new InstancedBufferAttribute(Lp.array,Lp.itemSize,Lp.normalized)}else Cp!=="TRANSLATION"&&Cp!=="ROTATION"&&Cp!=="SCALE"&&cs.geometry.setAttribute(Cp,Gr[Cp]);Object3D.prototype.copy.call(cp,cs),this.parser.assignFinalMaterial(cp),ls.push(cp)}return xn.isGroup?(xn.clear(),xn.add(...ls),xn):ls[0]}))}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(lt){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const ht=new DataView(lt,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:decodeText(new Uint8Array(lt.slice(0,4))),version:ht.getUint32(4,!0),length:ht.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const _t=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,At=new DataView(lt,BINARY_EXTENSION_HEADER_LENGTH);let qt=0;for(;qt<_t;){const Zt=At.getUint32(qt,!0);qt+=4;const cr=At.getUint32(qt,!0);if(qt+=4,cr===BINARY_EXTENSION_CHUNK_TYPES.JSON){const Gr=new Uint8Array(lt,BINARY_EXTENSION_HEADER_LENGTH+qt,Zt);this.content=decodeText(Gr)}else if(cr===BINARY_EXTENSION_CHUNK_TYPES.BIN){const Gr=BINARY_EXTENSION_HEADER_LENGTH+qt;this.body=lt.slice(Gr,Gr+Zt)}qt+=Zt}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(lt,ht){if(!ht)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=lt,this.dracoLoader=ht,this.dracoLoader.preload()}decodePrimitive(lt,ht){const _t=this.json,At=this.dracoLoader,qt=lt.extensions[this.name].bufferView,Zt=lt.extensions[this.name].attributes,cr={},Gr={},Zr={};for(const xn in Zt){const On=ATTRIBUTES[xn]||xn.toLowerCase();cr[On]=Zt[xn]}for(const xn in lt.attributes){const On=ATTRIBUTES[xn]||xn.toLowerCase();if(Zt[xn]!==void 0){const ss=_t.accessors[lt.attributes[xn]],ls=WEBGL_COMPONENT_TYPES[ss.componentType];Zr[On]=ls.name,Gr[On]=ss.normalized===!0}}return ht.getDependency("bufferView",qt).then(function(xn){return new Promise(function(On,ss){At.decodeDracoFile(xn,function(ls){for(const cs in ls.attributes){const wl=ls.attributes[cs],ep=Gr[cs];ep!==void 0&&(wl.normalized=ep)}On(ls)},cr,Zr,LinearSRGBColorSpace,ss)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(lt,ht){return(ht.texCoord===void 0||ht.texCoord===lt.channel)&&ht.offset===void 0&&ht.rotation===void 0&&ht.scale===void 0||(lt=lt.clone(),ht.texCoord!==void 0&&(lt.channel=ht.texCoord),ht.offset!==void 0&&lt.offset.fromArray(ht.offset),ht.rotation!==void 0&&(lt.rotation=ht.rotation),ht.scale!==void 0&&lt.repeat.fromArray(ht.scale),lt.needsUpdate=!0),lt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(lt,ht,_t,At){super(lt,ht,_t,At)}copySampleValue_(lt){const ht=this.resultBuffer,_t=this.sampleValues,At=this.valueSize,qt=lt*At*3+At;for(let Zt=0;Zt!==At;Zt++)ht[Zt]=_t[qt+Zt];return ht}interpolate_(lt,ht,_t,At){const qt=this.resultBuffer,Zt=this.sampleValues,cr=this.valueSize,Gr=cr*2,Zr=cr*3,xn=At-ht,On=(_t-ht)/xn,ss=On*On,ls=ss*On,cs=lt*Zr,wl=cs-Zr,ep=-2*ls+3*ss,Al=ls-ss,np=1-ep,cp=Al-ss+On;for(let Cp=0;Cp!==cr;Cp++){const Lp=Zt[wl+Cp+cr],jp=Zt[wl+Cp+Gr]*xn,nm=Zt[cs+Cp+cr],zm=Zt[cs+Cp]*xn;qt[Cp]=np*Lp+cp*jp+ep*nm+Al*zm}return qt}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(lt,ht,_t,At){const qt=super.interpolate_(lt,ht,_t,At);return _q.fromArray(qt).normalize().toArray(qt),qt}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...version>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(ut){return ut.DefaultMaterial===void 0&&(ut.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),ut.DefaultMaterial}function addUnknownExtensionsToUserData(ut,lt,ht){for(const _t in ht.extensions)ut[_t]===void 0&&(lt.userData.gltfExtensions=lt.userData.gltfExtensions||{},lt.userData.gltfExtensions[_t]=ht.extensions[_t])}function assignExtrasToUserData(ut,lt){lt.extras!==void 0&&(typeof lt.extras=="object"?Object.assign(ut.userData,lt.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+lt.extras))}function addMorphTargets(ut,lt,ht){let _t=!1,At=!1,qt=!1;for(let Zr=0,xn=lt.length;Zr<xn;Zr++){const On=lt[Zr];if(On.POSITION!==void 0&&(_t=!0),On.NORMAL!==void 0&&(At=!0),On.COLOR_0!==void 0&&(qt=!0),_t&&At&&qt)break}if(!_t&&!At&&!qt)return Promise.resolve(ut);const Zt=[],cr=[],Gr=[];for(let Zr=0,xn=lt.length;Zr<xn;Zr++){const On=lt[Zr];if(_t){const ss=On.POSITION!==void 0?ht.getDependency("accessor",On.POSITION):ut.attributes.position;Zt.push(ss)}if(At){const ss=On.NORMAL!==void 0?ht.getDependency("accessor",On.NORMAL):ut.attributes.normal;cr.push(ss)}if(qt){const ss=On.COLOR_0!==void 0?ht.getDependency("accessor",On.COLOR_0):ut.attributes.color;Gr.push(ss)}}return Promise.all([Promise.all(Zt),Promise.all(cr),Promise.all(Gr)]).then(function(Zr){const xn=Zr[0],On=Zr[1],ss=Zr[2];return _t&&(ut.morphAttributes.position=xn),At&&(ut.morphAttributes.normal=On),qt&&(ut.morphAttributes.color=ss),ut.morphTargetsRelative=!0,ut})}function updateMorphTargets(ut,lt){if(ut.updateMorphTargets(),lt.weights!==void 0)for(let ht=0,_t=lt.weights.length;ht<_t;ht++)ut.morphTargetInfluences[ht]=lt.weights[ht];if(lt.extras&&Array.isArray(lt.extras.targetNames)){const ht=lt.extras.targetNames;if(ut.morphTargetInfluences.length===ht.length){ut.morphTargetDictionary={};for(let _t=0,At=ht.length;_t<At;_t++)ut.morphTargetDictionary[ht[_t]]=_t}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(ut){let lt;const ht=ut.extensions&&ut.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];if(ht?lt="draco:"+ht.bufferView+":"+ht.indices+":"+createAttributesKey(ht.attributes):lt=ut.indices+":"+createAttributesKey(ut.attributes)+":"+ut.mode,ut.targets!==void 0)for(let _t=0,At=ut.targets.length;_t<At;_t++)lt+=":"+createAttributesKey(ut.targets[_t]);return lt}function createAttributesKey(ut){let lt="";const ht=Object.keys(ut).sort();for(let _t=0,At=ht.length;_t<At;_t++)lt+=ht[_t]+":"+ut[ht[_t]]+";";return lt}function getNormalizedComponentScale(ut){switch(ut){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(ut){return ut.search(/\.jpe?g($|\?)/i)>0||ut.search(/^data\:image\/jpeg/)===0?"image/jpeg":ut.search(/\.webp($|\?)/i)>0||ut.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const _identityMatrix=new Matrix4;class GLTFParser{constructor(lt={},ht={}){this.json=lt,this.extensions={},this.plugins={},this.options=ht,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let _t=!1,At=!1,qt=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(_t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,At=navigator.userAgent.indexOf("Firefox")>-1,qt=At?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||_t||At&&qt<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(lt){this.extensions=lt}setPlugins(lt){this.plugins=lt}parse(lt,ht){const _t=this,At=this.json,qt=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(Zt){return Zt._markDefs&&Zt._markDefs()}),Promise.all(this._invokeAll(function(Zt){return Zt.beforeRoot&&Zt.beforeRoot()})).then(function(){return Promise.all([_t.getDependencies("scene"),_t.getDependencies("animation"),_t.getDependencies("camera")])}).then(function(Zt){const cr={scene:Zt[0][At.scene||0],scenes:Zt[0],animations:Zt[1],cameras:Zt[2],asset:At.asset,parser:_t,userData:{}};return addUnknownExtensionsToUserData(qt,cr,At),assignExtrasToUserData(cr,At),Promise.all(_t._invokeAll(function(Gr){return Gr.afterRoot&&Gr.afterRoot(cr)})).then(function(){for(const Gr of cr.scenes)Gr.updateMatrixWorld();lt(cr)})}).catch(ht)}_markDefs(){const lt=this.json.nodes||[],ht=this.json.skins||[],_t=this.json.meshes||[];for(let At=0,qt=ht.length;At<qt;At++){const Zt=ht[At].joints;for(let cr=0,Gr=Zt.length;cr<Gr;cr++)lt[Zt[cr]].isBone=!0}for(let At=0,qt=lt.length;At<qt;At++){const Zt=lt[At];Zt.mesh!==void 0&&(this._addNodeRef(this.meshCache,Zt.mesh),Zt.skin!==void 0&&(_t[Zt.mesh].isSkinnedMesh=!0)),Zt.camera!==void 0&&this._addNodeRef(this.cameraCache,Zt.camera)}}_addNodeRef(lt,ht){ht!==void 0&&(lt.refs[ht]===void 0&&(lt.refs[ht]=lt.uses[ht]=0),lt.refs[ht]++)}_getNodeRef(lt,ht,_t){if(lt.refs[ht]<=1)return _t;const At=_t.clone(),qt=(Zt,cr)=>{const Gr=this.associations.get(Zt);Gr!=null&&this.associations.set(cr,Gr);for(const[Zr,xn]of Zt.children.entries())qt(xn,cr.children[Zr])};return qt(_t,At),At.name+="_instance_"+lt.uses[ht]++,At}_invokeOne(lt){const ht=Object.values(this.plugins);ht.push(this);for(let _t=0;_t<ht.length;_t++){const At=lt(ht[_t]);if(At)return At}return null}_invokeAll(lt){const ht=Object.values(this.plugins);ht.unshift(this);const _t=[];for(let At=0;At<ht.length;At++){const qt=lt(ht[At]);qt&&_t.push(qt)}return _t}getDependency(lt,ht){const _t=lt+":"+ht;let At=this.cache.get(_t);if(!At){switch(lt){case"scene":At=this.loadScene(ht);break;case"node":At=this._invokeOne(function(qt){return qt.loadNode&&qt.loadNode(ht)});break;case"mesh":At=this._invokeOne(function(qt){return qt.loadMesh&&qt.loadMesh(ht)});break;case"accessor":At=this.loadAccessor(ht);break;case"bufferView":At=this._invokeOne(function(qt){return qt.loadBufferView&&qt.loadBufferView(ht)});break;case"buffer":At=this.loadBuffer(ht);break;case"material":At=this._invokeOne(function(qt){return qt.loadMaterial&&qt.loadMaterial(ht)});break;case"texture":At=this._invokeOne(function(qt){return qt.loadTexture&&qt.loadTexture(ht)});break;case"skin":At=this.loadSkin(ht);break;case"animation":At=this._invokeOne(function(qt){return qt.loadAnimation&&qt.loadAnimation(ht)});break;case"camera":At=this.loadCamera(ht);break;default:if(At=this._invokeOne(function(qt){return qt!=this&&qt.getDependency&&qt.getDependency(lt,ht)}),!At)throw new Error("Unknown type: "+lt);break}this.cache.add(_t,At)}return At}getDependencies(lt){let ht=this.cache.get(lt);if(!ht){const _t=this,At=this.json[lt+(lt==="mesh"?"es":"s")]||[];ht=Promise.all(At.map(function(qt,Zt){return _t.getDependency(lt,Zt)})),this.cache.add(lt,ht)}return ht}loadBuffer(lt){const ht=this.json.buffers[lt],_t=this.fileLoader;if(ht.type&&ht.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+ht.type+" buffer type is not supported.");if(ht.uri===void 0&&lt===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const At=this.options;return new Promise(function(qt,Zt){_t.load(LoaderUtils.resolveURL(ht.uri,At.path),qt,void 0,function(){Zt(new Error('THREE.GLTFLoader: Failed to load buffer "'+ht.uri+'".'))})})}loadBufferView(lt){const ht=this.json.bufferViews[lt];return this.getDependency("buffer",ht.buffer).then(function(_t){const At=ht.byteLength||0,qt=ht.byteOffset||0;return _t.slice(qt,qt+At)})}loadAccessor(lt){const ht=this,_t=this.json,At=this.json.accessors[lt];if(At.bufferView===void 0&&At.sparse===void 0){const Zt=WEBGL_TYPE_SIZES[At.type],cr=WEBGL_COMPONENT_TYPES[At.componentType],Gr=At.normalized===!0,Zr=new cr(At.count*Zt);return Promise.resolve(new BufferAttribute(Zr,Zt,Gr))}const qt=[];return At.bufferView!==void 0?qt.push(this.getDependency("bufferView",At.bufferView)):qt.push(null),At.sparse!==void 0&&(qt.push(this.getDependency("bufferView",At.sparse.indices.bufferView)),qt.push(this.getDependency("bufferView",At.sparse.values.bufferView))),Promise.all(qt).then(function(Zt){const cr=Zt[0],Gr=WEBGL_TYPE_SIZES[At.type],Zr=WEBGL_COMPONENT_TYPES[At.componentType],xn=Zr.BYTES_PER_ELEMENT,On=xn*Gr,ss=At.byteOffset||0,ls=At.bufferView!==void 0?_t.bufferViews[At.bufferView].byteStride:void 0,cs=At.normalized===!0;let wl,ep;if(ls&&ls!==On){const Al=Math.floor(ss/ls),np="InterleavedBuffer:"+At.bufferView+":"+At.componentType+":"+Al+":"+At.count;let cp=ht.cache.get(np);cp||(wl=new Zr(cr,Al*ls,At.count*ls/xn),cp=new InterleavedBuffer(wl,ls/xn),ht.cache.add(np,cp)),ep=new InterleavedBufferAttribute(cp,Gr,ss%ls/xn,cs)}else cr===null?wl=new Zr(At.count*Gr):wl=new Zr(cr,ss,At.count*Gr),ep=new BufferAttribute(wl,Gr,cs);if(At.sparse!==void 0){const Al=WEBGL_TYPE_SIZES.SCALAR,np=WEBGL_COMPONENT_TYPES[At.sparse.indices.componentType],cp=At.sparse.indices.byteOffset||0,Cp=At.sparse.values.byteOffset||0,Lp=new np(Zt[1],cp,At.sparse.count*Al),jp=new Zr(Zt[2],Cp,At.sparse.count*Gr);cr!==null&&(ep=new BufferAttribute(ep.array.slice(),ep.itemSize,ep.normalized));for(let nm=0,zm=Lp.length;nm<zm;nm++){const i1=Lp[nm];if(ep.setX(i1,jp[nm*Gr]),Gr>=2&&ep.setY(i1,jp[nm*Gr+1]),Gr>=3&&ep.setZ(i1,jp[nm*Gr+2]),Gr>=4&&ep.setW(i1,jp[nm*Gr+3]),Gr>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return ep})}loadTexture(lt){const ht=this.json,_t=this.options,qt=ht.textures[lt].source,Zt=ht.images[qt];let cr=this.textureLoader;if(Zt.uri){const Gr=_t.manager.getHandler(Zt.uri);Gr!==null&&(cr=Gr)}return this.loadTextureImage(lt,qt,cr)}loadTextureImage(lt,ht,_t){const At=this,qt=this.json,Zt=qt.textures[lt],cr=qt.images[ht],Gr=(cr.uri||cr.bufferView)+":"+Zt.sampler;if(this.textureCache[Gr])return this.textureCache[Gr];const Zr=this.loadImageSource(ht,_t).then(function(xn){xn.flipY=!1,xn.name=Zt.name||cr.name||"",xn.name===""&&typeof cr.uri=="string"&&cr.uri.startsWith("data:image/")===!1&&(xn.name=cr.uri);const ss=(qt.samplers||{})[Zt.sampler]||{};return xn.magFilter=WEBGL_FILTERS[ss.magFilter]||LinearFilter,xn.minFilter=WEBGL_FILTERS[ss.minFilter]||LinearMipmapLinearFilter,xn.wrapS=WEBGL_WRAPPINGS[ss.wrapS]||RepeatWrapping,xn.wrapT=WEBGL_WRAPPINGS[ss.wrapT]||RepeatWrapping,At.associations.set(xn,{textures:lt}),xn}).catch(function(){return null});return this.textureCache[Gr]=Zr,Zr}loadImageSource(lt,ht){const _t=this,At=this.json,qt=this.options;if(this.sourceCache[lt]!==void 0)return this.sourceCache[lt].then(On=>On.clone());const Zt=At.images[lt],cr=self.URL||self.webkitURL;let Gr=Zt.uri||"",Zr=!1;if(Zt.bufferView!==void 0)Gr=_t.getDependency("bufferView",Zt.bufferView).then(function(On){Zr=!0;const ss=new Blob([On],{type:Zt.mimeType});return Gr=cr.createObjectURL(ss),Gr});else if(Zt.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+lt+" is missing URI and bufferView");const xn=Promise.resolve(Gr).then(function(On){return new Promise(function(ss,ls){let cs=ss;ht.isImageBitmapLoader===!0&&(cs=function(wl){const ep=new Texture(wl);ep.needsUpdate=!0,ss(ep)}),ht.load(LoaderUtils.resolveURL(On,qt.path),cs,void 0,ls)})}).then(function(On){return Zr===!0&&cr.revokeObjectURL(Gr),assignExtrasToUserData(On,Zt),On.userData.mimeType=Zt.mimeType||getImageURIMimeType(Zt.uri),On}).catch(function(On){throw console.error("THREE.GLTFLoader: Couldn't load texture",Gr),On});return this.sourceCache[lt]=xn,xn}assignTexture(lt,ht,_t,At){const qt=this;return this.getDependency("texture",_t.index).then(function(Zt){if(!Zt)return null;if(_t.texCoord!==void 0&&_t.texCoord>0&&(Zt=Zt.clone(),Zt.channel=_t.texCoord),qt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const cr=_t.extensions!==void 0?_t.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(cr){const Gr=qt.associations.get(Zt);Zt=qt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(Zt,cr),qt.associations.set(Zt,Gr)}}return At!==void 0&&(typeof At=="number"&&(At=At===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace),"colorSpace"in Zt?Zt.colorSpace=At:Zt.encoding=At===SRGBColorSpace?sRGBEncoding:LinearEncoding),lt[ht]=Zt,Zt})}assignFinalMaterial(lt){const ht=lt.geometry;let _t=lt.material;const At=ht.attributes.tangent===void 0,qt=ht.attributes.color!==void 0,Zt=ht.attributes.normal===void 0;if(lt.isPoints){const cr="PointsMaterial:"+_t.uuid;let Gr=this.cache.get(cr);Gr||(Gr=new PointsMaterial,Material.prototype.copy.call(Gr,_t),Gr.color.copy(_t.color),Gr.map=_t.map,Gr.sizeAttenuation=!1,this.cache.add(cr,Gr)),_t=Gr}else if(lt.isLine){const cr="LineBasicMaterial:"+_t.uuid;let Gr=this.cache.get(cr);Gr||(Gr=new LineBasicMaterial,Material.prototype.copy.call(Gr,_t),Gr.color.copy(_t.color),Gr.map=_t.map,this.cache.add(cr,Gr)),_t=Gr}if(At||qt||Zt){let cr="ClonedMaterial:"+_t.uuid+":";At&&(cr+="derivative-tangents:"),qt&&(cr+="vertex-colors:"),Zt&&(cr+="flat-shading:");let Gr=this.cache.get(cr);Gr||(Gr=_t.clone(),qt&&(Gr.vertexColors=!0),Zt&&(Gr.flatShading=!0),At&&(Gr.normalScale&&(Gr.normalScale.y*=-1),Gr.clearcoatNormalScale&&(Gr.clearcoatNormalScale.y*=-1)),this.cache.add(cr,Gr),this.associations.set(Gr,this.associations.get(_t))),_t=Gr}lt.material=_t}getMaterialType(){return MeshStandardMaterial}loadMaterial(lt){const ht=this,_t=this.json,At=this.extensions,qt=_t.materials[lt];let Zt;const cr={},Gr=qt.extensions||{},Zr=[];if(Gr[EXTENSIONS.KHR_MATERIALS_UNLIT]){const On=At[EXTENSIONS.KHR_MATERIALS_UNLIT];Zt=On.getMaterialType(),Zr.push(On.extendParams(cr,qt,ht))}else{const On=qt.pbrMetallicRoughness||{};if(cr.color=new Color(1,1,1),cr.opacity=1,Array.isArray(On.baseColorFactor)){const ss=On.baseColorFactor;cr.color.setRGB(ss[0],ss[1],ss[2],LinearSRGBColorSpace),cr.opacity=ss[3]}On.baseColorTexture!==void 0&&Zr.push(ht.assignTexture(cr,"map",On.baseColorTexture,SRGBColorSpace)),cr.metalness=On.metallicFactor!==void 0?On.metallicFactor:1,cr.roughness=On.roughnessFactor!==void 0?On.roughnessFactor:1,On.metallicRoughnessTexture!==void 0&&(Zr.push(ht.assignTexture(cr,"metalnessMap",On.metallicRoughnessTexture)),Zr.push(ht.assignTexture(cr,"roughnessMap",On.metallicRoughnessTexture))),Zt=this._invokeOne(function(ss){return ss.getMaterialType&&ss.getMaterialType(lt)}),Zr.push(Promise.all(this._invokeAll(function(ss){return ss.extendMaterialParams&&ss.extendMaterialParams(lt,cr)})))}qt.doubleSided===!0&&(cr.side=DoubleSide);const xn=qt.alphaMode||ALPHA_MODES.OPAQUE;if(xn===ALPHA_MODES.BLEND?(cr.transparent=!0,cr.depthWrite=!1):(cr.transparent=!1,xn===ALPHA_MODES.MASK&&(cr.alphaTest=qt.alphaCutoff!==void 0?qt.alphaCutoff:.5)),qt.normalTexture!==void 0&&Zt!==MeshBasicMaterial&&(Zr.push(ht.assignTexture(cr,"normalMap",qt.normalTexture)),cr.normalScale=new Vector2(1,1),qt.normalTexture.scale!==void 0)){const On=qt.normalTexture.scale;cr.normalScale.set(On,On)}if(qt.occlusionTexture!==void 0&&Zt!==MeshBasicMaterial&&(Zr.push(ht.assignTexture(cr,"aoMap",qt.occlusionTexture)),qt.occlusionTexture.strength!==void 0&&(cr.aoMapIntensity=qt.occlusionTexture.strength)),qt.emissiveFactor!==void 0&&Zt!==MeshBasicMaterial){const On=qt.emissiveFactor;cr.emissive=new Color().setRGB(On[0],On[1],On[2],LinearSRGBColorSpace)}return qt.emissiveTexture!==void 0&&Zt!==MeshBasicMaterial&&Zr.push(ht.assignTexture(cr,"emissiveMap",qt.emissiveTexture,SRGBColorSpace)),Promise.all(Zr).then(function(){const On=new Zt(cr);return qt.name&&(On.name=qt.name),assignExtrasToUserData(On,qt),ht.associations.set(On,{materials:lt}),qt.extensions&&addUnknownExtensionsToUserData(At,On,qt),On})}createUniqueName(lt){const ht=PropertyBinding.sanitizeNodeName(lt||"");return ht in this.nodeNamesUsed?ht+"_"+ ++this.nodeNamesUsed[ht]:(this.nodeNamesUsed[ht]=0,ht)}loadGeometries(lt){const ht=this,_t=this.extensions,At=this.primitiveCache;function qt(cr){return _t[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(cr,ht).then(function(Gr){return addPrimitiveAttributes(Gr,cr,ht)})}const Zt=[];for(let cr=0,Gr=lt.length;cr<Gr;cr++){const Zr=lt[cr],xn=createPrimitiveKey(Zr),On=At[xn];if(On)Zt.push(On.promise);else{let ss;Zr.extensions&&Zr.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ss=qt(Zr):ss=addPrimitiveAttributes(new BufferGeometry,Zr,ht),At[xn]={primitive:Zr,promise:ss},Zt.push(ss)}}return Promise.all(Zt)}loadMesh(lt){const ht=this,_t=this.json,At=this.extensions,qt=_t.meshes[lt],Zt=qt.primitives,cr=[];for(let Gr=0,Zr=Zt.length;Gr<Zr;Gr++){const xn=Zt[Gr].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",Zt[Gr].material);cr.push(xn)}return cr.push(ht.loadGeometries(Zt)),Promise.all(cr).then(function(Gr){const Zr=Gr.slice(0,Gr.length-1),xn=Gr[Gr.length-1],On=[];for(let ls=0,cs=xn.length;ls<cs;ls++){const wl=xn[ls],ep=Zt[ls];let Al;const np=Zr[ls];if(ep.mode===WEBGL_CONSTANTS.TRIANGLES||ep.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||ep.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||ep.mode===void 0)Al=qt.isSkinnedMesh===!0?new SkinnedMesh(wl,np):new Mesh(wl,np),Al.isSkinnedMesh===!0&&Al.normalizeSkinWeights(),ep.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?Al.geometry=toTrianglesDrawMode(Al.geometry,TriangleStripDrawMode):ep.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(Al.geometry=toTrianglesDrawMode(Al.geometry,TriangleFanDrawMode));else if(ep.mode===WEBGL_CONSTANTS.LINES)Al=new LineSegments(wl,np);else if(ep.mode===WEBGL_CONSTANTS.LINE_STRIP)Al=new Line(wl,np);else if(ep.mode===WEBGL_CONSTANTS.LINE_LOOP)Al=new LineLoop(wl,np);else if(ep.mode===WEBGL_CONSTANTS.POINTS)Al=new Points(wl,np);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+ep.mode);Object.keys(Al.geometry.morphAttributes).length>0&&updateMorphTargets(Al,qt),Al.name=ht.createUniqueName(qt.name||"mesh_"+lt),assignExtrasToUserData(Al,qt),ep.extensions&&addUnknownExtensionsToUserData(At,Al,ep),ht.assignFinalMaterial(Al),On.push(Al)}for(let ls=0,cs=On.length;ls<cs;ls++)ht.associations.set(On[ls],{meshes:lt,primitives:ls});if(On.length===1)return qt.extensions&&addUnknownExtensionsToUserData(At,On[0],qt),On[0];const ss=new Group;qt.extensions&&addUnknownExtensionsToUserData(At,ss,qt),ht.associations.set(ss,{meshes:lt});for(let ls=0,cs=On.length;ls<cs;ls++)ss.add(On[ls]);return ss})}loadCamera(lt){let ht;const _t=this.json.cameras[lt],At=_t[_t.type];if(!At){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return _t.type==="perspective"?ht=new PerspectiveCamera(MathUtils.radToDeg(At.yfov),At.aspectRatio||1,At.znear||1,At.zfar||2e6):_t.type==="orthographic"&&(ht=new OrthographicCamera(-At.xmag,At.xmag,At.ymag,-At.ymag,At.znear,At.zfar)),_t.name&&(ht.name=this.createUniqueName(_t.name)),assignExtrasToUserData(ht,_t),Promise.resolve(ht)}loadSkin(lt){const ht=this.json.skins[lt],_t=[];for(let At=0,qt=ht.joints.length;At<qt;At++)_t.push(this._loadNodeShallow(ht.joints[At]));return ht.inverseBindMatrices!==void 0?_t.push(this.getDependency("accessor",ht.inverseBindMatrices)):_t.push(null),Promise.all(_t).then(function(At){const qt=At.pop(),Zt=At,cr=[],Gr=[];for(let Zr=0,xn=Zt.length;Zr<xn;Zr++){const On=Zt[Zr];if(On){cr.push(On);const ss=new Matrix4;qt!==null&&ss.fromArray(qt.array,Zr*16),Gr.push(ss)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',ht.joints[Zr])}return new Skeleton(cr,Gr)})}loadAnimation(lt){const ht=this.json,_t=this,At=ht.animations[lt],qt=At.name?At.name:"animation_"+lt,Zt=[],cr=[],Gr=[],Zr=[],xn=[];for(let On=0,ss=At.channels.length;On<ss;On++){const ls=At.channels[On],cs=At.samplers[ls.sampler],wl=ls.target,ep=wl.node,Al=At.parameters!==void 0?At.parameters[cs.input]:cs.input,np=At.parameters!==void 0?At.parameters[cs.output]:cs.output;wl.node!==void 0&&(Zt.push(this.getDependency("node",ep)),cr.push(this.getDependency("accessor",Al)),Gr.push(this.getDependency("accessor",np)),Zr.push(cs),xn.push(wl))}return Promise.all([Promise.all(Zt),Promise.all(cr),Promise.all(Gr),Promise.all(Zr),Promise.all(xn)]).then(function(On){const ss=On[0],ls=On[1],cs=On[2],wl=On[3],ep=On[4],Al=[];for(let np=0,cp=ss.length;np<cp;np++){const Cp=ss[np],Lp=ls[np],jp=cs[np],nm=wl[np],zm=ep[np];if(Cp===void 0)continue;Cp.updateMatrix&&Cp.updateMatrix();const i1=_t._createAnimationTracks(Cp,Lp,jp,nm,zm);if(i1)for(let d3=0;d3<i1.length;d3++)Al.push(i1[d3])}return new AnimationClip(qt,void 0,Al)})}createNodeMesh(lt){const ht=this.json,_t=this,At=ht.nodes[lt];return At.mesh===void 0?null:_t.getDependency("mesh",At.mesh).then(function(qt){const Zt=_t._getNodeRef(_t.meshCache,At.mesh,qt);return At.weights!==void 0&&Zt.traverse(function(cr){if(cr.isMesh)for(let Gr=0,Zr=At.weights.length;Gr<Zr;Gr++)cr.morphTargetInfluences[Gr]=At.weights[Gr]}),Zt})}loadNode(lt){const ht=this.json,_t=this,At=ht.nodes[lt],qt=_t._loadNodeShallow(lt),Zt=[],cr=At.children||[];for(let Zr=0,xn=cr.length;Zr<xn;Zr++)Zt.push(_t.getDependency("node",cr[Zr]));const Gr=At.skin===void 0?Promise.resolve(null):_t.getDependency("skin",At.skin);return Promise.all([qt,Promise.all(Zt),Gr]).then(function(Zr){const xn=Zr[0],On=Zr[1],ss=Zr[2];ss!==null&&xn.traverse(function(ls){ls.isSkinnedMesh&&ls.bind(ss,_identityMatrix)});for(let ls=0,cs=On.length;ls<cs;ls++)xn.add(On[ls]);return xn})}_loadNodeShallow(lt){const ht=this.json,_t=this.extensions,At=this;if(this.nodeCache[lt]!==void 0)return this.nodeCache[lt];const qt=ht.nodes[lt],Zt=qt.name?At.createUniqueName(qt.name):"",cr=[],Gr=At._invokeOne(function(Zr){return Zr.createNodeMesh&&Zr.createNodeMesh(lt)});return Gr&&cr.push(Gr),qt.camera!==void 0&&cr.push(At.getDependency("camera",qt.camera).then(function(Zr){return At._getNodeRef(At.cameraCache,qt.camera,Zr)})),At._invokeAll(function(Zr){return Zr.createNodeAttachment&&Zr.createNodeAttachment(lt)}).forEach(function(Zr){cr.push(Zr)}),this.nodeCache[lt]=Promise.all(cr).then(function(Zr){let xn;if(qt.isBone===!0?xn=new Bone:Zr.length>1?xn=new Group:Zr.length===1?xn=Zr[0]:xn=new Object3D,xn!==Zr[0])for(let On=0,ss=Zr.length;On<ss;On++)xn.add(Zr[On]);if(qt.name&&(xn.userData.name=qt.name,xn.name=Zt),assignExtrasToUserData(xn,qt),qt.extensions&&addUnknownExtensionsToUserData(_t,xn,qt),qt.matrix!==void 0){const On=new Matrix4;On.fromArray(qt.matrix),xn.applyMatrix4(On)}else qt.translation!==void 0&&xn.position.fromArray(qt.translation),qt.rotation!==void 0&&xn.quaternion.fromArray(qt.rotation),qt.scale!==void 0&&xn.scale.fromArray(qt.scale);return At.associations.has(xn)||At.associations.set(xn,{}),At.associations.get(xn).nodes=lt,xn}),this.nodeCache[lt]}loadScene(lt){const ht=this.extensions,_t=this.json.scenes[lt],At=this,qt=new Group;_t.name&&(qt.name=At.createUniqueName(_t.name)),assignExtrasToUserData(qt,_t),_t.extensions&&addUnknownExtensionsToUserData(ht,qt,_t);const Zt=_t.nodes||[],cr=[];for(let Gr=0,Zr=Zt.length;Gr<Zr;Gr++)cr.push(At.getDependency("node",Zt[Gr]));return Promise.all(cr).then(function(Gr){for(let xn=0,On=Gr.length;xn<On;xn++)qt.add(Gr[xn]);const Zr=xn=>{const On=new Map;for(const[ss,ls]of At.associations)(ss instanceof Material||ss instanceof Texture)&&On.set(ss,ls);return xn.traverse(ss=>{const ls=At.associations.get(ss);ls!=null&&On.set(ss,ls)}),On};return At.associations=Zr(qt),qt})}_createAnimationTracks(lt,ht,_t,At,qt){const Zt=[],cr=lt.name?lt.name:lt.uuid,Gr=[];PATH_PROPERTIES[qt.path]===PATH_PROPERTIES.weights?lt.traverse(function(ss){ss.morphTargetInfluences&&Gr.push(ss.name?ss.name:ss.uuid)}):Gr.push(cr);let Zr;switch(PATH_PROPERTIES[qt.path]){case PATH_PROPERTIES.weights:Zr=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:Zr=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:Zr=VectorKeyframeTrack;break;default:switch(_t.itemSize){case 1:Zr=NumberKeyframeTrack;break;case 2:case 3:default:Zr=VectorKeyframeTrack;break}break}const xn=At.interpolation!==void 0?INTERPOLATION[At.interpolation]:InterpolateLinear,On=this._getArrayFromAccessor(_t);for(let ss=0,ls=Gr.length;ss<ls;ss++){const cs=new Zr(Gr[ss]+"."+PATH_PROPERTIES[qt.path],ht.array,On,xn);At.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(cs),Zt.push(cs)}return Zt}_getArrayFromAccessor(lt){let ht=lt.array;if(lt.normalized){const _t=getNormalizedComponentScale(ht.constructor),At=new Float32Array(ht.length);for(let qt=0,Zt=ht.length;qt<Zt;qt++)At[qt]=ht[qt]*_t;ht=At}return ht}_createCubicSplineTrackInterpolant(lt){lt.createInterpolant=function(_t){const At=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new At(this.times,this.values,this.getValueSize()/3,_t)},lt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function computeBounds(ut,lt,ht){const _t=lt.attributes,At=new Box3;if(_t.POSITION!==void 0){const cr=ht.json.accessors[_t.POSITION],Gr=cr.min,Zr=cr.max;if(Gr!==void 0&&Zr!==void 0){if(At.set(new Vector3(Gr[0],Gr[1],Gr[2]),new Vector3(Zr[0],Zr[1],Zr[2])),cr.normalized){const xn=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[cr.componentType]);At.min.multiplyScalar(xn),At.max.multiplyScalar(xn)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const qt=lt.targets;if(qt!==void 0){const cr=new Vector3,Gr=new Vector3;for(let Zr=0,xn=qt.length;Zr<xn;Zr++){const On=qt[Zr];if(On.POSITION!==void 0){const ss=ht.json.accessors[On.POSITION],ls=ss.min,cs=ss.max;if(ls!==void 0&&cs!==void 0){if(Gr.setX(Math.max(Math.abs(ls[0]),Math.abs(cs[0]))),Gr.setY(Math.max(Math.abs(ls[1]),Math.abs(cs[1]))),Gr.setZ(Math.max(Math.abs(ls[2]),Math.abs(cs[2]))),ss.normalized){const wl=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ss.componentType]);Gr.multiplyScalar(wl)}cr.max(Gr)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}At.expandByVector(cr)}ut.boundingBox=At;const Zt=new Sphere;At.getCenter(Zt.center),Zt.radius=At.min.distanceTo(At.max)/2,ut.boundingSphere=Zt}function addPrimitiveAttributes(ut,lt,ht){const _t=lt.attributes,At=[];function qt(Zt,cr){return ht.getDependency("accessor",Zt).then(function(Gr){ut.setAttribute(cr,Gr)})}for(const Zt in _t){const cr=ATTRIBUTES[Zt]||Zt.toLowerCase();cr in ut.attributes||At.push(qt(_t[Zt],cr))}if(lt.indices!==void 0&&!ut.index){const Zt=ht.getDependency("accessor",lt.indices).then(function(cr){ut.setIndex(cr)});At.push(Zt)}return assignExtrasToUserData(ut,lt),computeBounds(ut,lt,ht),Promise.all(At).then(function(){return lt.targets!==void 0?addMorphTargets(ut,lt.targets,ht):ut})}class RGBELoader extends DataTextureLoader{constructor(lt){super(lt),this.type=HalfFloatType}parse(lt){const Zt=function(zm,i1){switch(zm){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(i1||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(i1||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(i1||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(i1||""))}},xn=`
`,On=function(zm,i1,d3){i1=i1||1024;let Sn=zm.pos,Fo=-1,as=0,us="",xl=String.fromCharCode.apply(null,new Uint16Array(zm.subarray(Sn,Sn+128)));for(;0>(Fo=xl.indexOf(xn))&&as<i1&&Sn<zm.byteLength;)us+=xl,as+=xl.length,Sn+=128,xl+=String.fromCharCode.apply(null,new Uint16Array(zm.subarray(Sn,Sn+128)));return-1<Fo?(d3!==!1&&(zm.pos+=as+Fo+1),us+xl.slice(0,Fo)):!1},ss=function(zm){const i1=/^#\?(\S+)/,d3=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,op=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,Sn=/^\s*FORMAT=(\S+)\s*$/,Fo=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,as={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let us,xl;for((zm.pos>=zm.byteLength||!(us=On(zm)))&&Zt(1,"no header found"),(xl=us.match(i1))||Zt(3,"bad initial token"),as.valid|=1,as.programtype=xl[1],as.string+=us+`
`;us=On(zm),us!==!1;){if(as.string+=us+`
`,us.charAt(0)==="#"){as.comments+=us+`
`;continue}if((xl=us.match(d3))&&(as.gamma=parseFloat(xl[1])),(xl=us.match(op))&&(as.exposure=parseFloat(xl[1])),(xl=us.match(Sn))&&(as.valid|=2,as.format=xl[1]),(xl=us.match(Fo))&&(as.valid|=4,as.height=parseInt(xl[1],10),as.width=parseInt(xl[2],10)),as.valid&2&&as.valid&4)break}return as.valid&2||Zt(3,"missing format specifier"),as.valid&4||Zt(3,"missing image size specifier"),as},ls=function(zm,i1,d3){const op=i1;if(op<8||op>32767||zm[0]!==2||zm[1]!==2||zm[2]&128)return new Uint8Array(zm);op!==(zm[2]<<8|zm[3])&&Zt(3,"wrong scanline width");const Sn=new Uint8Array(4*i1*d3);Sn.length||Zt(4,"unable to allocate buffer space");let Fo=0,as=0;const us=4*op,xl=new Uint8Array(4),ip=new Uint8Array(us);let lp=d3;for(;lp>0&&as<zm.byteLength;){as+4>zm.byteLength&&Zt(1),xl[0]=zm[as++],xl[1]=zm[as++],xl[2]=zm[as++],xl[3]=zm[as++],(xl[0]!=2||xl[1]!=2||(xl[2]<<8|xl[3])!=op)&&Zt(3,"bad rgbe scanline format");let pu=0,go;for(;pu<us&&as<zm.byteLength;){go=zm[as++];const kp=go>128;if(kp&&(go-=128),(go===0||pu+go>us)&&Zt(3,"bad scanline data"),kp){const cm=zm[as++];for(let b3=0;b3<go;b3++)ip[pu++]=cm}else ip.set(zm.subarray(as,as+go),pu),pu+=go,as+=go}const h0=op;for(let kp=0;kp<h0;kp++){let cm=0;Sn[Fo]=ip[kp+cm],cm+=op,Sn[Fo+1]=ip[kp+cm],cm+=op,Sn[Fo+2]=ip[kp+cm],cm+=op,Sn[Fo+3]=ip[kp+cm],Fo+=4}lp--}return Sn},cs=function(zm,i1,d3,op){const Sn=zm[i1+3],Fo=Math.pow(2,Sn-128)/255;d3[op+0]=zm[i1+0]*Fo,d3[op+1]=zm[i1+1]*Fo,d3[op+2]=zm[i1+2]*Fo,d3[op+3]=1},wl=function(zm,i1,d3,op){const Sn=zm[i1+3],Fo=Math.pow(2,Sn-128)/255;d3[op+0]=DataUtils.toHalfFloat(Math.min(zm[i1+0]*Fo,65504)),d3[op+1]=DataUtils.toHalfFloat(Math.min(zm[i1+1]*Fo,65504)),d3[op+2]=DataUtils.toHalfFloat(Math.min(zm[i1+2]*Fo,65504)),d3[op+3]=DataUtils.toHalfFloat(1)},ep=new Uint8Array(lt);ep.pos=0;const Al=ss(ep),np=Al.width,cp=Al.height,Cp=ls(ep.subarray(ep.pos),np,cp);let Lp,jp,nm;switch(this.type){case FloatType:nm=Cp.length/4;const zm=new Float32Array(nm*4);for(let d3=0;d3<nm;d3++)cs(Cp,d3*4,zm,d3*4);Lp=zm,jp=FloatType;break;case HalfFloatType:nm=Cp.length/4;const i1=new Uint16Array(nm*4);for(let d3=0;d3<nm;d3++)wl(Cp,d3*4,i1,d3*4);Lp=i1,jp=HalfFloatType;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:np,height:cp,data:Lp,header:Al.string,gamma:Al.gamma,exposure:Al.exposure,type:jp}}setDataType(lt){return this.type=lt,this}load(lt,ht,_t,At){function qt(Zt,cr){switch(Zt.type){case FloatType:case HalfFloatType:"colorSpace"in Zt?Zt.colorSpace="srgb-linear":Zt.encoding=3e3,Zt.minFilter=LinearFilter,Zt.magFilter=LinearFilter,Zt.generateMipmaps=!1,Zt.flipY=!0;break}ht&&ht(Zt,cr)}return super.load(lt,qt,_t,At)}}const hasColorSpace=version>=152;class EXRLoader extends DataTextureLoader{constructor(lt){super(lt),this.type=HalfFloatType}parse(lt){const i1=Math.pow(2.7182818,2.2);function d3(G_,r_){for(var Vx=0,l4=0;l4<65536;++l4)(l4==0||G_[l4>>3]&1<<(l4&7))&&(r_[Vx++]=l4);for(var R4=Vx-1;Vx<65536;)r_[Vx++]=0;return R4}function op(G_){for(var r_=0;r_<16384;r_++)G_[r_]={},G_[r_].len=0,G_[r_].lit=0,G_[r_].p=null}const Sn={l:0,c:0,lc:0};function Fo(G_,r_,Vx,l4,R4){for(;Vx<G_;)r_=r_<<8|R5(l4,R4),Vx+=8;Vx-=G_,Sn.l=r_>>Vx&(1<<G_)-1,Sn.c=r_,Sn.lc=Vx}const as=new Array(59);function us(G_){for(var r_=0;r_<=58;++r_)as[r_]=0;for(var r_=0;r_<65537;++r_)as[G_[r_]]+=1;for(var Vx=0,r_=58;r_>0;--r_){var l4=Vx+as[r_]>>1;as[r_]=Vx,Vx=l4}for(var r_=0;r_<65537;++r_){var R4=G_[r_];R4>0&&(G_[r_]=R4|as[R4]++<<6)}}function xl(G_,r_,Vx,l4,R4,u4,iM){for(var hM=Vx,bM=0,yM=0;R4<=u4;R4++){if(hM.value-Vx.value>l4)return!1;Fo(6,bM,yM,G_,hM);var _M=Sn.l;if(bM=Sn.c,yM=Sn.lc,iM[R4]=_M,_M==63){if(hM.value-Vx.value>l4)throw"Something wrong with hufUnpackEncTable";Fo(8,bM,yM,G_,hM);var oM=Sn.l+6;if(bM=Sn.c,yM=Sn.lc,R4+oM>u4+1)throw"Something wrong with hufUnpackEncTable";for(;oM--;)iM[R4++]=0;R4--}else if(_M>=59){var oM=_M-59+2;if(R4+oM>u4+1)throw"Something wrong with hufUnpackEncTable";for(;oM--;)iM[R4++]=0;R4--}}us(iM)}function ip(G_){return G_&63}function lp(G_){return G_>>6}function pu(G_,r_,Vx,l4){for(;r_<=Vx;r_++){var R4=lp(G_[r_]),u4=ip(G_[r_]);if(R4>>u4)throw"Invalid table entry";if(u4>14){var iM=l4[R4>>u4-14];if(iM.len)throw"Invalid table entry";if(iM.lit++,iM.p){var hM=iM.p;iM.p=new Array(iM.lit);for(var bM=0;bM<iM.lit-1;++bM)iM.p[bM]=hM[bM]}else iM.p=new Array(1);iM.p[iM.lit-1]=r_}else if(u4)for(var yM=0,bM=1<<14-u4;bM>0;bM--){var iM=l4[(R4<<14-u4)+yM];if(iM.len||iM.p)throw"Invalid table entry";iM.len=u4,iM.lit=r_,yM++}}return!0}const go={c:0,lc:0};function h0(G_,r_,Vx,l4){G_=G_<<8|R5(Vx,l4),r_+=8,go.c=G_,go.lc=r_}const kp={c:0,lc:0};function cm(G_,r_,Vx,l4,R4,u4,iM,hM,bM,yM){if(G_==r_){l4<8&&(h0(Vx,l4,R4,iM),Vx=go.c,l4=go.lc),l4-=8;var _M=Vx>>l4,_M=new Uint8Array([_M])[0];if(bM.value+_M>yM)return!1;for(var oM=hM[bM.value-1];_M-- >0;)hM[bM.value++]=oM}else if(bM.value<yM)hM[bM.value++]=G_;else return!1;kp.c=Vx,kp.lc=l4}function b3(G_){return G_&65535}function L_(G_){var r_=b3(G_);return r_>32767?r_-65536:r_}const Ym={a:0,b:0};function Xm(G_,r_){var Vx=L_(G_),l4=L_(r_),R4=l4,u4=Vx+(R4&1)+(R4>>1),iM=u4,hM=u4-R4;Ym.a=iM,Ym.b=hM}function Jm(G_,r_){var Vx=b3(G_),l4=b3(r_),R4=Vx-(l4>>1)&65535,u4=l4+R4-32768&65535;Ym.a=u4,Ym.b=R4}function $_(G_,r_,Vx,l4,R4,u4,iM){for(var hM=iM<16384,bM=Vx>R4?R4:Vx,yM=1,_M;yM<=bM;)yM<<=1;for(yM>>=1,_M=yM,yM>>=1;yM>=1;){for(var oM=0,LM=oM+u4*(R4-_M),EM=u4*yM,BM=u4*_M,IM=l4*yM,$M=l4*_M,NM,CM,pM,dM;oM<=LM;oM+=BM){for(var PM=oM,DM=oM+l4*(Vx-_M);PM<=DM;PM+=$M){var kM=PM+IM,UM=PM+EM,WM=UM+IM;hM?(Xm(G_[PM+r_],G_[UM+r_]),NM=Ym.a,pM=Ym.b,Xm(G_[kM+r_],G_[WM+r_]),CM=Ym.a,dM=Ym.b,Xm(NM,CM),G_[PM+r_]=Ym.a,G_[kM+r_]=Ym.b,Xm(pM,dM),G_[UM+r_]=Ym.a,G_[WM+r_]=Ym.b):(Jm(G_[PM+r_],G_[UM+r_]),NM=Ym.a,pM=Ym.b,Jm(G_[kM+r_],G_[WM+r_]),CM=Ym.a,dM=Ym.b,Jm(NM,CM),G_[PM+r_]=Ym.a,G_[kM+r_]=Ym.b,Jm(pM,dM),G_[UM+r_]=Ym.a,G_[WM+r_]=Ym.b)}if(Vx&yM){var UM=PM+EM;hM?Xm(G_[PM+r_],G_[UM+r_]):Jm(G_[PM+r_],G_[UM+r_]),NM=Ym.a,G_[UM+r_]=Ym.b,G_[PM+r_]=NM}}if(R4&yM)for(var PM=oM,DM=oM+l4*(Vx-_M);PM<=DM;PM+=$M){var kM=PM+IM;hM?Xm(G_[PM+r_],G_[kM+r_]):Jm(G_[PM+r_],G_[kM+r_]),NM=Ym.a,G_[kM+r_]=Ym.b,G_[PM+r_]=NM}_M=yM,yM>>=1}return oM}function j_(G_,r_,Vx,l4,R4,u4,iM,hM,bM,yM){for(var _M=0,oM=0,LM=hM,EM=Math.trunc(R4.value+(u4+7)/8);R4.value<EM;)for(h0(_M,oM,Vx,R4),_M=go.c,oM=go.lc;oM>=14;){var BM=_M>>oM-14&16383,IM=r_[BM];if(IM.len)oM-=IM.len,cm(IM.lit,iM,_M,oM,Vx,l4,R4,bM,yM,LM),_M=kp.c,oM=kp.lc;else{if(!IM.p)throw"hufDecode issues";var $M;for($M=0;$M<IM.lit;$M++){for(var NM=ip(G_[IM.p[$M]]);oM<NM&&R4.value<EM;)h0(_M,oM,Vx,R4),_M=go.c,oM=go.lc;if(oM>=NM&&lp(G_[IM.p[$M]])==(_M>>oM-NM&(1<<NM)-1)){oM-=NM,cm(IM.p[$M],iM,_M,oM,Vx,l4,R4,bM,yM,LM),_M=kp.c,oM=kp.lc;break}}if($M==IM.lit)throw"hufDecode issues"}}var CM=8-u4&7;for(_M>>=CM,oM-=CM;oM>0;){var IM=r_[_M<<14-oM&16383];if(IM.len)oM-=IM.len,cm(IM.lit,iM,_M,oM,Vx,l4,R4,bM,yM,LM),_M=kp.c,oM=kp.lc;else throw"hufDecode issues"}return!0}function h3(G_,r_,Vx,l4,R4,u4){var iM={value:0},hM=Vx.value,bM=tM(r_,Vx),yM=tM(r_,Vx);Vx.value+=4;var _M=tM(r_,Vx);if(Vx.value+=4,bM<0||bM>=65537||yM<0||yM>=65537)throw"Something wrong with HUF_ENCSIZE";var oM=new Array(65537),LM=new Array(16384);op(LM);var EM=l4-(Vx.value-hM);if(xl(G_,r_,Vx,EM,bM,yM,oM),_M>8*(l4-(Vx.value-hM)))throw"Something wrong with hufUncompress";pu(oM,bM,yM,LM),j_(oM,LM,G_,r_,Vx,_M,yM,u4,R4,iM)}function Fp(G_,r_,Vx){for(var l4=0;l4<Vx;++l4)r_[l4]=G_[r_[l4]]}function W_(G_){for(var r_=1;r_<G_.length;r_++){var Vx=G_[r_-1]+G_[r_]-128;G_[r_]=Vx}}function t4(G_,r_){for(var Vx=0,l4=Math.floor((G_.length+1)/2),R4=0,u4=G_.length-1;!(R4>u4||(r_[R4++]=G_[Vx++],R4>u4));)r_[R4++]=G_[l4++]}function Nw(G_){for(var r_=G_.byteLength,Vx=new Array,l4=0,R4=new DataView(G_);r_>0;){var u4=R4.getInt8(l4++);if(u4<0){var iM=-u4;r_-=iM+1;for(var hM=0;hM<iM;hM++)Vx.push(R4.getUint8(l4++))}else{var iM=u4;r_-=2;for(var bM=R4.getUint8(l4++),hM=0;hM<iM+1;hM++)Vx.push(bM)}}return Vx}function Dp(G_,r_,Vx,l4,R4,u4){var kM=new DataView(u4.buffer),iM=Vx[G_.idx[0]].width,hM=Vx[G_.idx[0]].height,bM=3,yM=Math.floor(iM/8),_M=Math.ceil(iM/8),oM=Math.ceil(hM/8),LM=iM-(_M-1)*8,EM=hM-(oM-1)*8,BM={value:0},IM=new Array(bM),$M=new Array(bM),NM=new Array(bM),CM=new Array(bM),pM=new Array(bM);for(let GM=0;GM<bM;++GM)pM[GM]=r_[G_.idx[GM]],IM[GM]=GM<1?0:IM[GM-1]+_M*oM,$M[GM]=new Float32Array(64),NM[GM]=new Uint16Array(64),CM[GM]=new Uint16Array(_M*64);for(let GM=0;GM<oM;++GM){var dM=8;GM==oM-1&&(dM=EM);var PM=8;for(let XM=0;XM<_M;++XM){XM==_M-1&&(PM=LM);for(let jM=0;jM<bM;++jM)NM[jM].fill(0),NM[jM][0]=R4[IM[jM]++],a1(BM,l4,NM[jM]),zp(NM[jM],$M[jM]),v3($M[jM]);Mw($M);for(let jM=0;jM<bM;++jM)nw($M[jM],CM[jM],XM*64)}let sM=0;for(let XM=0;XM<bM;++XM){const jM=Vx[G_.idx[XM]].type;for(let eE=8*GM;eE<8*GM+dM;++eE){sM=pM[XM][eE];for(let iE=0;iE<yM;++iE){const nE=iE*64+(eE&7)*8;kM.setUint16(sM+0*2*jM,CM[XM][nE+0],!0),kM.setUint16(sM+1*2*jM,CM[XM][nE+1],!0),kM.setUint16(sM+2*2*jM,CM[XM][nE+2],!0),kM.setUint16(sM+3*2*jM,CM[XM][nE+3],!0),kM.setUint16(sM+4*2*jM,CM[XM][nE+4],!0),kM.setUint16(sM+5*2*jM,CM[XM][nE+5],!0),kM.setUint16(sM+6*2*jM,CM[XM][nE+6],!0),kM.setUint16(sM+7*2*jM,CM[XM][nE+7],!0),sM+=8*2*jM}}if(yM!=_M)for(let eE=8*GM;eE<8*GM+dM;++eE){const iE=pM[XM][eE]+8*yM*2*jM,nE=yM*64+(eE&7)*8;for(let sE=0;sE<PM;++sE)kM.setUint16(iE+sE*2*jM,CM[XM][nE+sE],!0)}}}for(var DM=new Uint16Array(iM),kM=new DataView(u4.buffer),UM=0;UM<bM;++UM){Vx[G_.idx[UM]].decoded=!0;var WM=Vx[G_.idx[UM]].type;if(Vx[UM].type==2)for(var KM=0;KM<hM;++KM){const GM=pM[UM][KM];for(var QM=0;QM<iM;++QM)DM[QM]=kM.getUint16(GM+QM*2*WM,!0);for(var QM=0;QM<iM;++QM)kM.setFloat32(GM+QM*2*WM,D5(DM[QM]),!0)}}}function a1(G_,r_,Vx){for(var l4,R4=1;R4<64;)l4=r_[G_.value],l4==65280?R4=64:l4>>8==255?R4+=l4&255:(Vx[R4]=l4,R4++),G_.value++}function zp(G_,r_){r_[0]=D5(G_[0]),r_[1]=D5(G_[1]),r_[2]=D5(G_[5]),r_[3]=D5(G_[6]),r_[4]=D5(G_[14]),r_[5]=D5(G_[15]),r_[6]=D5(G_[27]),r_[7]=D5(G_[28]),r_[8]=D5(G_[2]),r_[9]=D5(G_[4]),r_[10]=D5(G_[7]),r_[11]=D5(G_[13]),r_[12]=D5(G_[16]),r_[13]=D5(G_[26]),r_[14]=D5(G_[29]),r_[15]=D5(G_[42]),r_[16]=D5(G_[3]),r_[17]=D5(G_[8]),r_[18]=D5(G_[12]),r_[19]=D5(G_[17]),r_[20]=D5(G_[25]),r_[21]=D5(G_[30]),r_[22]=D5(G_[41]),r_[23]=D5(G_[43]),r_[24]=D5(G_[9]),r_[25]=D5(G_[11]),r_[26]=D5(G_[18]),r_[27]=D5(G_[24]),r_[28]=D5(G_[31]),r_[29]=D5(G_[40]),r_[30]=D5(G_[44]),r_[31]=D5(G_[53]),r_[32]=D5(G_[10]),r_[33]=D5(G_[19]),r_[34]=D5(G_[23]),r_[35]=D5(G_[32]),r_[36]=D5(G_[39]),r_[37]=D5(G_[45]),r_[38]=D5(G_[52]),r_[39]=D5(G_[54]),r_[40]=D5(G_[20]),r_[41]=D5(G_[22]),r_[42]=D5(G_[33]),r_[43]=D5(G_[38]),r_[44]=D5(G_[46]),r_[45]=D5(G_[51]),r_[46]=D5(G_[55]),r_[47]=D5(G_[60]),r_[48]=D5(G_[21]),r_[49]=D5(G_[34]),r_[50]=D5(G_[37]),r_[51]=D5(G_[47]),r_[52]=D5(G_[50]),r_[53]=D5(G_[56]),r_[54]=D5(G_[59]),r_[55]=D5(G_[61]),r_[56]=D5(G_[35]),r_[57]=D5(G_[36]),r_[58]=D5(G_[48]),r_[59]=D5(G_[49]),r_[60]=D5(G_[57]),r_[61]=D5(G_[58]),r_[62]=D5(G_[62]),r_[63]=D5(G_[63])}function v3(G_){const r_=.5*Math.cos(.7853975),Vx=.5*Math.cos(3.14159/16),l4=.5*Math.cos(3.14159/8),R4=.5*Math.cos(3*3.14159/16),u4=.5*Math.cos(5*3.14159/16),iM=.5*Math.cos(3*3.14159/8),hM=.5*Math.cos(7*3.14159/16);for(var bM=new Array(4),yM=new Array(4),_M=new Array(4),oM=new Array(4),LM=0;LM<8;++LM){var EM=LM*8;bM[0]=l4*G_[EM+2],bM[1]=iM*G_[EM+2],bM[2]=l4*G_[EM+6],bM[3]=iM*G_[EM+6],yM[0]=Vx*G_[EM+1]+R4*G_[EM+3]+u4*G_[EM+5]+hM*G_[EM+7],yM[1]=R4*G_[EM+1]-hM*G_[EM+3]-Vx*G_[EM+5]-u4*G_[EM+7],yM[2]=u4*G_[EM+1]-Vx*G_[EM+3]+hM*G_[EM+5]+R4*G_[EM+7],yM[3]=hM*G_[EM+1]-u4*G_[EM+3]+R4*G_[EM+5]-Vx*G_[EM+7],_M[0]=r_*(G_[EM+0]+G_[EM+4]),_M[3]=r_*(G_[EM+0]-G_[EM+4]),_M[1]=bM[0]+bM[3],_M[2]=bM[1]-bM[2],oM[0]=_M[0]+_M[1],oM[1]=_M[3]+_M[2],oM[2]=_M[3]-_M[2],oM[3]=_M[0]-_M[1],G_[EM+0]=oM[0]+yM[0],G_[EM+1]=oM[1]+yM[1],G_[EM+2]=oM[2]+yM[2],G_[EM+3]=oM[3]+yM[3],G_[EM+4]=oM[3]-yM[3],G_[EM+5]=oM[2]-yM[2],G_[EM+6]=oM[1]-yM[1],G_[EM+7]=oM[0]-yM[0]}for(var BM=0;BM<8;++BM)bM[0]=l4*G_[16+BM],bM[1]=iM*G_[16+BM],bM[2]=l4*G_[48+BM],bM[3]=iM*G_[48+BM],yM[0]=Vx*G_[8+BM]+R4*G_[24+BM]+u4*G_[40+BM]+hM*G_[56+BM],yM[1]=R4*G_[8+BM]-hM*G_[24+BM]-Vx*G_[40+BM]-u4*G_[56+BM],yM[2]=u4*G_[8+BM]-Vx*G_[24+BM]+hM*G_[40+BM]+R4*G_[56+BM],yM[3]=hM*G_[8+BM]-u4*G_[24+BM]+R4*G_[40+BM]-Vx*G_[56+BM],_M[0]=r_*(G_[BM]+G_[32+BM]),_M[3]=r_*(G_[BM]-G_[32+BM]),_M[1]=bM[0]+bM[3],_M[2]=bM[1]-bM[2],oM[0]=_M[0]+_M[1],oM[1]=_M[3]+_M[2],oM[2]=_M[3]-_M[2],oM[3]=_M[0]-_M[1],G_[0+BM]=oM[0]+yM[0],G_[8+BM]=oM[1]+yM[1],G_[16+BM]=oM[2]+yM[2],G_[24+BM]=oM[3]+yM[3],G_[32+BM]=oM[3]-yM[3],G_[40+BM]=oM[2]-yM[2],G_[48+BM]=oM[1]-yM[1],G_[56+BM]=oM[0]-yM[0]}function Mw(G_){for(var r_=0;r_<64;++r_){var Vx=G_[0][r_],l4=G_[1][r_],R4=G_[2][r_];G_[0][r_]=Vx+1.5747*R4,G_[1][r_]=Vx-.1873*l4-.4682*R4,G_[2][r_]=Vx+1.8556*l4}}function nw(G_,r_,Vx){for(var l4=0;l4<64;++l4)r_[Vx+l4]=DataUtils.toHalfFloat(n4(G_[l4]))}function n4(G_){return G_<=1?Math.sign(G_)*Math.pow(Math.abs(G_),2.2):Math.sign(G_)*Math.pow(i1,Math.abs(G_)-1)}function Ww(G_){return new DataView(G_.array.buffer,G_.offset.value,G_.size)}function F_(G_){var r_=G_.viewer.buffer.slice(G_.offset.value,G_.offset.value+G_.size),Vx=new Uint8Array(Nw(r_)),l4=new Uint8Array(Vx.length);return W_(Vx),t4(Vx,l4),new DataView(l4.buffer)}function qx(G_){var r_=G_.array.slice(G_.offset.value,G_.offset.value+G_.size),Vx=unzlibSync(r_),l4=new Uint8Array(Vx.length);return W_(Vx),t4(Vx,l4),new DataView(l4.buffer)}function nM(G_){for(var r_=G_.viewer,Vx={value:G_.offset.value},l4=new Uint16Array(G_.width*G_.scanlineBlockSize*(G_.channels*G_.type)),R4=new Uint8Array(8192),u4=0,iM=new Array(G_.channels),hM=0;hM<G_.channels;hM++)iM[hM]={},iM[hM].start=u4,iM[hM].end=iM[hM].start,iM[hM].nx=G_.width,iM[hM].ny=G_.lines,iM[hM].size=G_.type,u4+=iM[hM].nx*iM[hM].ny*iM[hM].size;var bM=wM(r_,Vx),yM=wM(r_,Vx);if(yM>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(bM<=yM)for(var hM=0;hM<yM-bM+1;hM++)R4[hM+bM]=r4(r_,Vx);var _M=new Uint16Array(65536),oM=d3(R4,_M),LM=tM(r_,Vx);h3(G_.array,r_,Vx,LM,l4,u4);for(var hM=0;hM<G_.channels;++hM)for(var EM=iM[hM],BM=0;BM<iM[hM].size;++BM)$_(l4,EM.start+BM,EM.nx,EM.size,EM.ny,EM.nx*EM.size,oM);Fp(_M,l4,u4);for(var IM=0,$M=new Uint8Array(l4.buffer.byteLength),NM=0;NM<G_.lines;NM++)for(var CM=0;CM<G_.channels;CM++){var EM=iM[CM],pM=EM.nx*EM.size,dM=new Uint8Array(l4.buffer,EM.end*2,pM*2);$M.set(dM,IM),IM+=pM*2,EM.end+=pM}return new DataView($M.buffer)}function Hm(G_){var r_=G_.array.slice(G_.offset.value,G_.offset.value+G_.size),Vx=unzlibSync(r_);const l4=G_.lines*G_.channels*G_.width,R4=G_.type==1?new Uint16Array(l4):new Uint32Array(l4);let u4=0,iM=0;const hM=new Array(4);for(let bM=0;bM<G_.lines;bM++)for(let yM=0;yM<G_.channels;yM++){let _M=0;switch(G_.type){case 1:hM[0]=u4,hM[1]=hM[0]+G_.width,u4=hM[1]+G_.width;for(let oM=0;oM<G_.width;++oM){const LM=Vx[hM[0]++]<<8|Vx[hM[1]++];_M+=LM,R4[iM]=_M,iM++}break;case 2:hM[0]=u4,hM[1]=hM[0]+G_.width,hM[2]=hM[1]+G_.width,u4=hM[2]+G_.width;for(let oM=0;oM<G_.width;++oM){const LM=Vx[hM[0]++]<<24|Vx[hM[1]++]<<16|Vx[hM[2]++]<<8;_M+=LM,R4[iM]=_M,iM++}break}}return new DataView(R4.buffer)}function y3(G_){var r_=G_.viewer,Vx={value:G_.offset.value},l4=new Uint8Array(G_.width*G_.lines*(G_.channels*G_.type*2)),R4={version:a4(r_,Vx),unknownUncompressedSize:a4(r_,Vx),unknownCompressedSize:a4(r_,Vx),acCompressedSize:a4(r_,Vx),dcCompressedSize:a4(r_,Vx),rleCompressedSize:a4(r_,Vx),rleUncompressedSize:a4(r_,Vx),rleRawSize:a4(r_,Vx),totalAcUncompressedCount:a4(r_,Vx),totalDcUncompressedCount:a4(r_,Vx),acCompression:a4(r_,Vx)};if(R4.version<2)throw"EXRLoader.parse: "+B_.compression+" version "+R4.version+" is unsupported";for(var u4=new Array,iM=wM(r_,Vx)-2;iM>0;){var hM=Q_(r_.buffer,Vx),bM=r4(r_,Vx),yM=bM>>2&3,_M=(bM>>4)-1,oM=new Int8Array([_M])[0],LM=r4(r_,Vx);u4.push({name:hM,index:oM,type:LM,compression:yM}),iM-=hM.length+3}for(var EM=B_.channels,BM=new Array(G_.channels),IM=0;IM<G_.channels;++IM){var $M=BM[IM]={},NM=EM[IM];$M.name=NM.name,$M.compression=0,$M.decoded=!1,$M.type=NM.pixelType,$M.pLinear=NM.pLinear,$M.width=G_.width,$M.height=G_.lines}for(var CM={idx:new Array(3)},pM=0;pM<G_.channels;++pM)for(var $M=BM[pM],IM=0;IM<u4.length;++IM){var dM=u4[IM];$M.name==dM.name&&($M.compression=dM.compression,dM.index>=0&&(CM.idx[dM.index]=pM),$M.offset=pM)}if(R4.acCompressedSize>0)switch(R4.acCompression){case 0:var kM=new Uint16Array(R4.totalAcUncompressedCount);h3(G_.array,r_,Vx,R4.acCompressedSize,kM,R4.totalAcUncompressedCount);break;case 1:var PM=G_.array.slice(Vx.value,Vx.value+R4.totalAcUncompressedCount),DM=unzlibSync(PM),kM=new Uint16Array(DM.buffer);Vx.value+=R4.totalAcUncompressedCount;break}if(R4.dcCompressedSize>0){var UM={array:G_.array,offset:Vx,size:R4.dcCompressedSize},WM=new Uint16Array(qx(UM).buffer);Vx.value+=R4.dcCompressedSize}if(R4.rleRawSize>0){var PM=G_.array.slice(Vx.value,Vx.value+R4.rleCompressedSize),DM=unzlibSync(PM),KM=Nw(DM.buffer);Vx.value+=R4.rleCompressedSize}for(var QM=0,GM=new Array(BM.length),IM=0;IM<GM.length;++IM)GM[IM]=new Array;for(var sM=0;sM<G_.lines;++sM)for(var XM=0;XM<BM.length;++XM)GM[XM].push(QM),QM+=BM[XM].width*G_.type*2;Dp(CM,GM,BM,kM,WM,l4);for(var IM=0;IM<BM.length;++IM){var $M=BM[IM];if(!$M.decoded)switch($M.compression){case 2:for(var jM=0,eE=0,sM=0;sM<G_.lines;++sM){for(var iE=GM[IM][jM],nE=0;nE<$M.width;++nE){for(var sE=0;sE<2*$M.type;++sE)l4[iE++]=KM[eE+sE*$M.width*$M.height];eE++}jM++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(l4.buffer)}function Q_(G_,r_){for(var Vx=new Uint8Array(G_),l4=0;Vx[r_.value+l4]!=0;)l4+=1;var R4=new TextDecoder().decode(Vx.slice(r_.value,r_.value+l4));return r_.value=r_.value+l4+1,R4}function Uw(G_,r_,Vx){var l4=new TextDecoder().decode(new Uint8Array(G_).slice(r_.value,r_.value+Vx));return r_.value=r_.value+Vx,l4}function s4(G_,r_){var Vx=c4(G_,r_),l4=tM(G_,r_);return[Vx,l4]}function rM(G_,r_){var Vx=tM(G_,r_),l4=tM(G_,r_);return[Vx,l4]}function c4(G_,r_){var Vx=G_.getInt32(r_.value,!0);return r_.value=r_.value+4,Vx}function tM(G_,r_){var Vx=G_.getUint32(r_.value,!0);return r_.value=r_.value+4,Vx}function R5(G_,r_){var Vx=G_[r_.value];return r_.value=r_.value+1,Vx}function r4(G_,r_){var Vx=G_.getUint8(r_.value);return r_.value=r_.value+1,Vx}const a4=function(G_,r_){let Vx;return"getBigInt64"in DataView.prototype?Vx=Number(G_.getBigInt64(r_.value,!0)):Vx=G_.getUint32(r_.value+4,!0)+Number(G_.getUint32(r_.value,!0)<<32),r_.value+=8,Vx};function cM(G_,r_){var Vx=G_.getFloat32(r_.value,!0);return r_.value+=4,Vx}function Yx(G_,r_){return DataUtils.toHalfFloat(cM(G_,r_))}function D5(G_){var r_=(G_&31744)>>10,Vx=G_&1023;return(G_>>15?-1:1)*(r_?r_===31?Vx?NaN:1/0:Math.pow(2,r_-15)*(1+Vx/1024):6103515625e-14*(Vx/1024))}function wM(G_,r_){var Vx=G_.getUint16(r_.value,!0);return r_.value+=2,Vx}function uM(G_,r_){return D5(wM(G_,r_))}function fM(G_,r_,Vx,l4){for(var R4=Vx.value,u4=[];Vx.value<R4+l4-1;){var iM=Q_(r_,Vx),hM=c4(G_,Vx),bM=r4(G_,Vx);Vx.value+=3;var yM=c4(G_,Vx),_M=c4(G_,Vx);u4.push({name:iM,pixelType:hM,pLinear:bM,xSampling:yM,ySampling:_M})}return Vx.value+=1,u4}function AM(G_,r_){var Vx=cM(G_,r_),l4=cM(G_,r_),R4=cM(G_,r_),u4=cM(G_,r_),iM=cM(G_,r_),hM=cM(G_,r_),bM=cM(G_,r_),yM=cM(G_,r_);return{redX:Vx,redY:l4,greenX:R4,greenY:u4,blueX:iM,blueY:hM,whiteX:bM,whiteY:yM}}function lM(G_,r_){var Vx=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],l4=r4(G_,r_);return Vx[l4]}function vM(G_,r_){var Vx=tM(G_,r_),l4=tM(G_,r_),R4=tM(G_,r_),u4=tM(G_,r_);return{xMin:Vx,yMin:l4,xMax:R4,yMax:u4}}function HM(G_,r_){var Vx=["INCREASING_Y"],l4=r4(G_,r_);return Vx[l4]}function xM(G_,r_){var Vx=cM(G_,r_),l4=cM(G_,r_);return[Vx,l4]}function RM(G_,r_){var Vx=cM(G_,r_),l4=cM(G_,r_),R4=cM(G_,r_);return[Vx,l4,R4]}function VM(G_,r_,Vx,l4,R4){if(l4==="string"||l4==="stringvector"||l4==="iccProfile")return Uw(r_,Vx,R4);if(l4==="chlist")return fM(G_,r_,Vx,R4);if(l4==="chromaticities")return AM(G_,Vx);if(l4==="compression")return lM(G_,Vx);if(l4==="box2i")return vM(G_,Vx);if(l4==="lineOrder")return HM(G_,Vx);if(l4==="float")return cM(G_,Vx);if(l4==="v2f")return xM(G_,Vx);if(l4==="v3f")return RM(G_,Vx);if(l4==="int")return c4(G_,Vx);if(l4==="rational")return s4(G_,Vx);if(l4==="timecode")return rM(G_,Vx);if(l4==="preview")return Vx.value+=R4,"skipped";Vx.value+=R4}function SM(G_,r_,Vx){const l4={};if(G_.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";l4.version=G_.getUint8(4);const R4=G_.getUint8(5);l4.spec={singleTile:!!(R4&2),longName:!!(R4&4),deepFormat:!!(R4&8),multiPart:!!(R4&16)},Vx.value=8;for(var u4=!0;u4;){var iM=Q_(r_,Vx);if(iM==0)u4=!1;else{var hM=Q_(r_,Vx),bM=tM(G_,Vx),yM=VM(G_,r_,Vx,hM,bM);yM===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${hM}'.`):l4[iM]=yM}}if(R4&-5)throw console.error("EXRHeader:",l4),"THREE.EXRLoader: provided file is currently unsupported.";return l4}function gM(G_,r_,Vx,l4,R4){const u4={size:0,viewer:r_,array:Vx,offset:l4,width:G_.dataWindow.xMax-G_.dataWindow.xMin+1,height:G_.dataWindow.yMax-G_.dataWindow.yMin+1,channels:G_.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:G_.channels[0].pixelType,uncompress:null,getter:null,format:null,[hasColorSpace?"colorSpace":"encoding"]:null};switch(G_.compression){case"NO_COMPRESSION":u4.lines=1,u4.uncompress=Ww;break;case"RLE_COMPRESSION":u4.lines=1,u4.uncompress=F_;break;case"ZIPS_COMPRESSION":u4.lines=1,u4.uncompress=qx;break;case"ZIP_COMPRESSION":u4.lines=16,u4.uncompress=qx;break;case"PIZ_COMPRESSION":u4.lines=32,u4.uncompress=nM;break;case"PXR24_COMPRESSION":u4.lines=16,u4.uncompress=Hm;break;case"DWAA_COMPRESSION":u4.lines=32,u4.uncompress=y3;break;case"DWAB_COMPRESSION":u4.lines=256,u4.uncompress=y3;break;default:throw"EXRLoader.parse: "+G_.compression+" is unsupported"}if(u4.scanlineBlockSize=u4.lines,u4.type==1)switch(R4){case FloatType:u4.getter=uM,u4.inputSize=2;break;case HalfFloatType:u4.getter=wM,u4.inputSize=2;break}else if(u4.type==2)switch(R4){case FloatType:u4.getter=cM,u4.inputSize=4;break;case HalfFloatType:u4.getter=Yx,u4.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+u4.type+" for "+G_.compression+".";u4.blockCount=(G_.dataWindow.yMax+1)/u4.scanlineBlockSize;for(var iM=0;iM<u4.blockCount;iM++)a4(r_,l4);u4.outputChannels=u4.channels==3?4:u4.channels;const hM=u4.width*u4.height*u4.outputChannels;switch(R4){case FloatType:u4.byteArray=new Float32Array(hM),u4.channels<u4.outputChannels&&u4.byteArray.fill(1,0,hM);break;case HalfFloatType:u4.byteArray=new Uint16Array(hM),u4.channels<u4.outputChannels&&u4.byteArray.fill(15360,0,hM);break;default:console.error("THREE.EXRLoader: unsupported type: ",R4);break}return u4.bytesPerLine=u4.width*u4.inputSize*u4.channels,u4.outputChannels==4?u4.format=RGBAFormat:u4.format=RedFormat,hasColorSpace?u4.colorSpace="srgb-linear":u4.encoding=3e3,u4}const Z_=new DataView(lt),Bw=new Uint8Array(lt),Fw={value:0},B_=SM(Z_,lt,Fw),Lw=gM(B_,Z_,Bw,Fw,this.type),eM={value:0},mM={R:0,G:1,B:2,A:3,Y:0};for(let G_=0;G_<Lw.height/Lw.scanlineBlockSize;G_++){const r_=tM(Z_,Fw);Lw.size=tM(Z_,Fw),Lw.lines=r_+Lw.scanlineBlockSize>Lw.height?Lw.height-r_:Lw.scanlineBlockSize;const l4=Lw.size<Lw.lines*Lw.bytesPerLine?Lw.uncompress(Lw):Ww(Lw);Fw.value+=Lw.size;for(let R4=0;R4<Lw.scanlineBlockSize;R4++){const u4=R4+G_*Lw.scanlineBlockSize;if(u4>=Lw.height)break;for(let iM=0;iM<Lw.channels;iM++){const hM=mM[B_.channels[iM].name];for(let bM=0;bM<Lw.width;bM++){eM.value=(R4*(Lw.channels*Lw.width)+iM*Lw.width+bM)*Lw.inputSize;const yM=(Lw.height-1-u4)*(Lw.width*Lw.outputChannels)+bM*Lw.outputChannels+hM;Lw.byteArray[yM]=Lw.getter(l4,eM)}}}}return{header:B_,width:Lw.width,height:Lw.height,data:Lw.byteArray,format:Lw.format,[hasColorSpace?"colorSpace":"encoding"]:Lw[hasColorSpace?"colorSpace":"encoding"],type:this.type}}setDataType(lt){return this.type=lt,this}load(lt,ht,_t,At){function qt(Zt,cr){hasColorSpace?Zt.colorSpace=cr.colorSpace:Zt.encoding=cr.encoding,Zt.minFilter=LinearFilter,Zt.magFilter=LinearFilter,Zt.generateMipmaps=!1,Zt.flipY=!1,ht&&ht(Zt,cr)}return super.load(lt,qt,_t,At)}}const _taskCache=new WeakMap;class DRACOLoader extends Loader$1{constructor(lt){super(lt),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(lt){return this.decoderPath=lt,this}setDecoderConfig(lt){return this.decoderConfig=lt,this}setWorkerLimit(lt){return this.workerLimit=lt,this}load(lt,ht,_t,At){const qt=new FileLoader(this.manager);qt.setPath(this.path),qt.setResponseType("arraybuffer"),qt.setRequestHeader(this.requestHeader),qt.setWithCredentials(this.withCredentials),qt.load(lt,Zt=>{const cr={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(Zt,cr).then(ht).catch(At)},_t,At)}decodeDracoFile(lt,ht,_t,At){const qt={attributeIDs:_t||this.defaultAttributeIDs,attributeTypes:At||this.defaultAttributeTypes,useUniqueIDs:!!_t};this.decodeGeometry(lt,qt).then(ht)}decodeGeometry(lt,ht){for(const Gr in ht.attributeTypes){const Zr=ht.attributeTypes[Gr];Zr.BYTES_PER_ELEMENT!==void 0&&(ht.attributeTypes[Gr]=Zr.name)}const _t=JSON.stringify(ht);if(_taskCache.has(lt)){const Gr=_taskCache.get(lt);if(Gr.key===_t)return Gr.promise;if(lt.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let At;const qt=this.workerNextTaskID++,Zt=lt.byteLength,cr=this._getWorker(qt,Zt).then(Gr=>(At=Gr,new Promise((Zr,xn)=>{At._callbacks[qt]={resolve:Zr,reject:xn},At.postMessage({type:"decode",id:qt,taskConfig:ht,buffer:lt},[lt])}))).then(Gr=>this._createGeometry(Gr.geometry));return cr.catch(()=>!0).then(()=>{At&&qt&&this._releaseTask(At,qt)}),_taskCache.set(lt,{key:_t,promise:cr}),cr}_createGeometry(lt){const ht=new BufferGeometry;lt.index&&ht.setIndex(new BufferAttribute(lt.index.array,1));for(let _t=0;_t<lt.attributes.length;_t++){const At=lt.attributes[_t],qt=At.name,Zt=At.array,cr=At.itemSize;ht.setAttribute(qt,new BufferAttribute(Zt,cr))}return ht}_loadLibrary(lt,ht){const _t=new FileLoader(this.manager);return _t.setPath(this.decoderPath),_t.setResponseType(ht),_t.setWithCredentials(this.withCredentials),new Promise((At,qt)=>{_t.load(lt,At,void 0,qt)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const lt=typeof WebAssembly!="object"||this.decoderConfig.type==="js",ht=[];return lt?ht.push(this._loadLibrary("draco_decoder.js","text")):(ht.push(this._loadLibrary("draco_wasm_wrapper.js","text")),ht.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(ht).then(_t=>{const At=_t[0];lt||(this.decoderConfig.wasmBinary=_t[1]);const qt=DRACOWorker.toString(),Zt=["/* draco decoder */",At,"","/* worker */",qt.substring(qt.indexOf("{")+1,qt.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([Zt]))}),this.decoderPending}_getWorker(lt,ht){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const At=new Worker(this.workerSourceURL);At._callbacks={},At._taskCosts={},At._taskLoad=0,At.postMessage({type:"init",decoderConfig:this.decoderConfig}),At.onmessage=function(qt){const Zt=qt.data;switch(Zt.type){case"decode":At._callbacks[Zt.id].resolve(Zt);break;case"error":At._callbacks[Zt.id].reject(Zt);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+Zt.type+'"')}},this.workerPool.push(At)}else this.workerPool.sort(function(At,qt){return At._taskLoad>qt._taskLoad?-1:1});const _t=this.workerPool[this.workerPool.length-1];return _t._taskCosts[lt]=ht,_t._taskLoad+=ht,_t})}_releaseTask(lt,ht){lt._taskLoad-=lt._taskCosts[ht],delete lt._callbacks[ht],delete lt._taskCosts[ht]}debug(){console.log("Task load: ",this.workerPool.map(lt=>lt._taskLoad))}dispose(){for(let lt=0;lt<this.workerPool.length;++lt)this.workerPool[lt].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let ut,lt;onmessage=function(Zt){const cr=Zt.data;switch(cr.type){case"init":ut=cr.decoderConfig,lt=new Promise(function(xn){ut.onModuleLoaded=function(On){xn({draco:On})},DracoDecoderModule(ut)});break;case"decode":const Gr=cr.buffer,Zr=cr.taskConfig;lt.then(xn=>{const On=xn.draco,ss=new On.Decoder,ls=new On.DecoderBuffer;ls.Init(new Int8Array(Gr),Gr.byteLength);try{const cs=ht(On,ss,ls,Zr),wl=cs.attributes.map(ep=>ep.array.buffer);cs.index&&wl.push(cs.index.array.buffer),self.postMessage({type:"decode",id:cr.id,geometry:cs},wl)}catch(cs){console.error(cs),self.postMessage({type:"error",id:cr.id,error:cs.message})}finally{On.destroy(ls),On.destroy(ss)}});break}};function ht(Zt,cr,Gr,Zr){const xn=Zr.attributeIDs,On=Zr.attributeTypes;let ss,ls;const cs=cr.GetEncodedGeometryType(Gr);if(cs===Zt.TRIANGULAR_MESH)ss=new Zt.Mesh,ls=cr.DecodeBufferToMesh(Gr,ss);else if(cs===Zt.POINT_CLOUD)ss=new Zt.PointCloud,ls=cr.DecodeBufferToPointCloud(Gr,ss);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!ls.ok()||ss.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+ls.error_msg());const wl={index:null,attributes:[]};for(const ep in xn){const Al=self[On[ep]];let np,cp;if(Zr.useUniqueIDs)cp=xn[ep],np=cr.GetAttributeByUniqueId(ss,cp);else{if(cp=cr.GetAttributeId(ss,Zt[xn[ep]]),cp===-1)continue;np=cr.GetAttribute(ss,cp)}wl.attributes.push(At(Zt,cr,ss,ep,Al,np))}return cs===Zt.TRIANGULAR_MESH&&(wl.index=_t(Zt,cr,ss)),Zt.destroy(ss),wl}function _t(Zt,cr,Gr){const xn=Gr.num_faces()*3,On=xn*4,ss=Zt._malloc(On);cr.GetTrianglesUInt32Array(Gr,On,ss);const ls=new Uint32Array(Zt.HEAPF32.buffer,ss,xn).slice();return Zt._free(ss),{array:ls,itemSize:1}}function At(Zt,cr,Gr,Zr,xn,On){const ss=On.num_components(),cs=Gr.num_points()*ss,wl=cs*xn.BYTES_PER_ELEMENT,ep=qt(Zt,xn),Al=Zt._malloc(wl);cr.GetAttributeDataArrayForAllPoints(Gr,On,ep,wl,Al);const np=new xn(Zt.HEAPF32.buffer,Al,cs).slice();return Zt._free(Al),{name:Zr,array:np,itemSize:ss}}function qt(Zt,cr){switch(cr){case Float32Array:return Zt.DT_FLOAT32;case Int8Array:return Zt.DT_INT8;case Int16Array:return Zt.DT_INT16;case Int32Array:return Zt.DT_INT32;case Uint8Array:return Zt.DT_UINT8;case Uint16Array:return Zt.DT_UINT16;case Uint32Array:return Zt.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const ut="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",lt="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",ht=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),_t=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let At=ut;WebAssembly.validate(ht)&&(At=lt);let qt;const Zt=WebAssembly.instantiate(cr(At),{}).then(On=>{qt=On.instance,qt.exports.__wasm_call_ctors()});function cr(On){const ss=new Uint8Array(On.length);for(let cs=0;cs<On.length;++cs){const wl=On.charCodeAt(cs);ss[cs]=wl>96?wl-71:wl>64?wl-65:wl>47?wl+4:wl>46?63:62}let ls=0;for(let cs=0;cs<On.length;++cs)ss[ls++]=ss[cs]<60?_t[ss[cs]]:(ss[cs]-60)*64+ss[++cs];return ss.buffer.slice(0,ls)}function Gr(On,ss,ls,cs,wl,ep){const Al=qt.exports.sbrk,np=ls+3&-4,cp=Al(np*cs),Cp=Al(wl.length),Lp=new Uint8Array(qt.exports.memory.buffer);Lp.set(wl,Cp);const jp=On(cp,ls,cs,Cp,wl.length);if(jp===0&&ep&&ep(cp,np,cs),ss.set(Lp.subarray(cp,cp+ls*cs)),Al(cp-Al(0)),jp!==0)throw new Error(`Malformed buffer data: ${jp}`)}const Zr={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},xn={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:Zt,supported:!0,decodeVertexBuffer(On,ss,ls,cs,wl){Gr(qt.exports.meshopt_decodeVertexBuffer,On,ss,ls,cs,qt.exports[Zr[wl]])},decodeIndexBuffer(On,ss,ls,cs){Gr(qt.exports.meshopt_decodeIndexBuffer,On,ss,ls,cs)},decodeIndexSequence(On,ss,ls,cs){Gr(qt.exports.meshopt_decodeIndexSequence,On,ss,ls,cs)},decodeGltfBuffer(On,ss,ls,cs,wl,ep){Gr(qt.exports[xn[wl]],On,ss,ls,cs,qt.exports[Zr[ep]])}},generated};function workerBootstrap(){var ut=Object.create(null);function lt(At,qt){var Zt=At.id,cr=At.name,Gr=At.dependencies;Gr===void 0&&(Gr=[]);var Zr=At.init;Zr===void 0&&(Zr=function(){});var xn=At.getTransferables;if(xn===void 0&&(xn=null),!ut[Zt])try{Gr=Gr.map(function(ss){return ss&&ss.isWorkerModule&&(lt(ss,function(ls){if(ls instanceof Error)throw ls}),ss=ut[ss.id].value),ss}),Zr=_t("<"+cr+">.init",Zr),xn&&(xn=_t("<"+cr+">.getTransferables",xn));var On=null;typeof Zr=="function"?On=Zr.apply(void 0,Gr):console.error("worker module init function failed to rehydrate"),ut[Zt]={id:Zt,value:On,getTransferables:xn},qt(On)}catch(ss){ss&&ss.noLog||console.error(ss),qt(ss)}}function ht(At,qt){var Zt,cr=At.id,Gr=At.args;(!ut[cr]||typeof ut[cr].value!="function")&&qt(new Error("Worker module "+cr+": not found or its 'init' did not return a function"));try{var Zr=(Zt=ut[cr]).value.apply(Zt,Gr);Zr&&typeof Zr.then=="function"?Zr.then(xn,function(On){return qt(On instanceof Error?On:new Error(""+On))}):xn(Zr)}catch(On){qt(On)}function xn(On){try{var ss=ut[cr].getTransferables&&ut[cr].getTransferables(On);(!ss||!Array.isArray(ss)||!ss.length)&&(ss=void 0),qt(On,ss)}catch(ls){console.error(ls),qt(ls)}}}function _t(At,qt){var Zt=void 0;self.troikaDefine=function(Gr){return Zt=Gr};var cr=URL.createObjectURL(new Blob(["/** "+At.replace(/\*/g,"")+` **/

troikaDefine(
`+qt+`
)`],{type:"application/javascript"}));try{importScripts(cr)}catch(Gr){console.error(Gr)}return URL.revokeObjectURL(cr),delete self.troikaDefine,Zt}self.addEventListener("message",function(At){var qt=At.data,Zt=qt.messageId,cr=qt.action,Gr=qt.data;try{cr==="registerModule"&&lt(Gr,function(Zr){Zr instanceof Error?postMessage({messageId:Zt,success:!1,error:Zr.message}):postMessage({messageId:Zt,success:!0,result:{isCallable:typeof Zr=="function"}})}),cr==="callModule"&&ht(Gr,function(Zr,xn){Zr instanceof Error?postMessage({messageId:Zt,success:!1,error:Zr.message}):postMessage({messageId:Zt,success:!0,result:Zr},xn||void 0)})}catch(Zr){postMessage({messageId:Zt,success:!1,error:Zr.stack})}})}function defineMainThreadModule(ut){var lt=function(){for(var ht=[],_t=arguments.length;_t--;)ht[_t]=arguments[_t];return lt._getInitResult().then(function(At){if(typeof At=="function")return At.apply(void 0,ht);throw new Error("Worker module function was called but `init` did not return a callable function")})};return lt._getInitResult=function(){var ht=ut.dependencies,_t=ut.init;ht=Array.isArray(ht)?ht.map(function(qt){return qt&&qt._getInitResult?qt._getInitResult():qt}):[];var At=Promise.all(ht).then(function(qt){return _t.apply(null,qt)});return lt._getInitResult=function(){return At},At},lt}var supportsWorkers=function(){var ut=!1;if(typeof window<"u"&&typeof window.document<"u")try{var lt=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));lt.terminate(),ut=!0}catch(ht){typeof api$2<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+ht.message+"]")}return supportsWorkers=function(){return ut},ut},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(ut){if((!ut||typeof ut.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var lt=ut.dependencies,ht=ut.init,_t=ut.getTransferables,At=ut.workerId;if(!supportsWorkers())return defineMainThreadModule(ut);At==null&&(At="#default");var qt="workerModule"+ ++_workerModuleId,Zt=ut.name||qt,cr=null;lt=lt&&lt.map(function(Zr){return typeof Zr=="function"&&!Zr.workerModuleData&&(_allowInitAsString=!0,Zr=defineWorkerModule({workerId:At,name:"<"+Zt+"> function dependency: "+Zr.name,init:`function(){return (
`+stringifyFunction(Zr)+`
)}`}),_allowInitAsString=!1),Zr&&Zr.workerModuleData&&(Zr=Zr.workerModuleData),Zr});function Gr(){for(var Zr=[],xn=arguments.length;xn--;)Zr[xn]=arguments[xn];if(!cr){cr=callWorker(At,"registerModule",Gr.workerModuleData);var On=function(){cr=null,registeredModules[At].delete(On)};(registeredModules[At]||(registeredModules[At]=new Set)).add(On)}return cr.then(function(ss){var ls=ss.isCallable;if(ls)return callWorker(At,"callModule",{id:qt,args:Zr});throw new Error("Worker module function was called but `init` did not return a callable function")})}return Gr.workerModuleData={isWorkerModule:!0,id:qt,name:Zt,dependencies:lt,init:stringifyFunction(ht),getTransferables:_t&&stringifyFunction(_t)},Gr}function terminateWorker(ut){registeredModules[ut]&&registeredModules[ut].forEach(function(lt){lt()}),workers[ut]&&(workers[ut].terminate(),delete workers[ut])}function stringifyFunction(ut){var lt=ut.toString();return!/^function/.test(lt)&&/^\w+\s*\(/.test(lt)&&(lt="function "+lt),lt}function getWorker(ut){var lt=workers[ut];if(!lt){var ht=stringifyFunction(workerBootstrap);lt=workers[ut]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+ut.replace(/\*/g,"")+` **/

;(`+ht+")()"],{type:"application/javascript"}))),lt.onmessage=function(_t){var At=_t.data,qt=At.messageId,Zt=openRequests[qt];if(!Zt)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[qt],Zt(At)}}return lt}function callWorker(ut,lt,ht){return new Promise(function(_t,At){var qt=++_messageId;openRequests[qt]=function(Zt){Zt.success?_t(Zt.result):At(new Error("Error in worker "+lt+" call: "+Zt.error))},getWorker(ut).postMessage({messageId:qt,action:lt,data:ht})})}function SDFGenerator(){var ut=function(lt){function ht(pu,go,h0,kp,cm,b3,L_,Ym){var Xm=1-L_;Ym.x=Xm*Xm*pu+2*Xm*L_*h0+L_*L_*cm,Ym.y=Xm*Xm*go+2*Xm*L_*kp+L_*L_*b3}function _t(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm){var $_=1-Xm;Jm.x=$_*$_*$_*pu+3*$_*$_*Xm*h0+3*$_*Xm*Xm*cm+Xm*Xm*Xm*L_,Jm.y=$_*$_*$_*go+3*$_*$_*Xm*kp+3*$_*Xm*Xm*b3+Xm*Xm*Xm*Ym}function At(pu,go){for(var h0=/([MLQCZ])([^MLQCZ]*)/g,kp,cm,b3,L_,Ym;kp=h0.exec(pu);){var Xm=kp[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Jm){return parseFloat(Jm)});switch(kp[1]){case"M":L_=cm=Xm[0],Ym=b3=Xm[1];break;case"L":(Xm[0]!==L_||Xm[1]!==Ym)&&go("L",L_,Ym,L_=Xm[0],Ym=Xm[1]);break;case"Q":{go("Q",L_,Ym,L_=Xm[2],Ym=Xm[3],Xm[0],Xm[1]);break}case"C":{go("C",L_,Ym,L_=Xm[4],Ym=Xm[5],Xm[0],Xm[1],Xm[2],Xm[3]);break}case"Z":(L_!==cm||Ym!==b3)&&go("L",L_,Ym,cm,b3);break}}}function qt(pu,go,h0){h0===void 0&&(h0=16);var kp={x:0,y:0};At(pu,function(cm,b3,L_,Ym,Xm,Jm,$_,j_,h3){switch(cm){case"L":go(b3,L_,Ym,Xm);break;case"Q":{for(var Fp=b3,W_=L_,t4=1;t4<h0;t4++)ht(b3,L_,Jm,$_,Ym,Xm,t4/(h0-1),kp),go(Fp,W_,kp.x,kp.y),Fp=kp.x,W_=kp.y;break}case"C":{for(var Nw=b3,Dp=L_,a1=1;a1<h0;a1++)_t(b3,L_,Jm,$_,j_,h3,Ym,Xm,a1/(h0-1),kp),go(Nw,Dp,kp.x,kp.y),Nw=kp.x,Dp=kp.y;break}}})}var Zt="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",cr="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",Gr=new WeakMap,Zr={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function xn(pu,go){var h0=pu.getContext?pu.getContext("webgl",Zr):pu,kp=Gr.get(h0);if(!kp){let $_=function(Nw){var Dp=b3[Nw];if(!Dp&&(Dp=b3[Nw]=h0.getExtension(Nw),!Dp))throw new Error(Nw+" not supported");return Dp},j_=function(Nw,Dp){var a1=h0.createShader(Dp);return h0.shaderSource(a1,Nw),h0.compileShader(a1),a1},h3=function(Nw,Dp,a1,zp){if(!L_[Nw]){var v3={},Mw={},nw=h0.createProgram();h0.attachShader(nw,j_(Dp,h0.VERTEX_SHADER)),h0.attachShader(nw,j_(a1,h0.FRAGMENT_SHADER)),h0.linkProgram(nw),L_[Nw]={program:nw,transaction:function(Ww){h0.useProgram(nw),Ww({setUniform:function(qx,nM){for(var Hm=[],y3=arguments.length-2;y3-- >0;)Hm[y3]=arguments[y3+2];var Q_=Mw[nM]||(Mw[nM]=h0.getUniformLocation(nw,nM));h0["uniform"+qx].apply(h0,[Q_].concat(Hm))},setAttribute:function(qx,nM,Hm,y3,Q_){var Uw=v3[qx];Uw||(Uw=v3[qx]={buf:h0.createBuffer(),loc:h0.getAttribLocation(nw,qx),data:null}),h0.bindBuffer(h0.ARRAY_BUFFER,Uw.buf),h0.vertexAttribPointer(Uw.loc,nM,h0.FLOAT,!1,0,0),h0.enableVertexAttribArray(Uw.loc),cm?h0.vertexAttribDivisor(Uw.loc,y3):$_("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Uw.loc,y3),Q_!==Uw.data&&(h0.bufferData(h0.ARRAY_BUFFER,Q_,Hm),Uw.data=Q_)}})}}}L_[Nw].transaction(zp)},Fp=function(Nw,Dp){Xm++;try{h0.activeTexture(h0.TEXTURE0+Xm);var a1=Ym[Nw];a1||(a1=Ym[Nw]=h0.createTexture(),h0.bindTexture(h0.TEXTURE_2D,a1),h0.texParameteri(h0.TEXTURE_2D,h0.TEXTURE_MIN_FILTER,h0.NEAREST),h0.texParameteri(h0.TEXTURE_2D,h0.TEXTURE_MAG_FILTER,h0.NEAREST)),h0.bindTexture(h0.TEXTURE_2D,a1),Dp(a1,Xm)}finally{Xm--}},W_=function(Nw,Dp,a1){var zp=h0.createFramebuffer();Jm.push(zp),h0.bindFramebuffer(h0.FRAMEBUFFER,zp),h0.activeTexture(h0.TEXTURE0+Dp),h0.bindTexture(h0.TEXTURE_2D,Nw),h0.framebufferTexture2D(h0.FRAMEBUFFER,h0.COLOR_ATTACHMENT0,h0.TEXTURE_2D,Nw,0);try{a1(zp)}finally{h0.deleteFramebuffer(zp),h0.bindFramebuffer(h0.FRAMEBUFFER,Jm[--Jm.length-1]||null)}},t4=function(){b3={},L_={},Ym={},Xm=-1,Jm.length=0};var cm=typeof WebGL2RenderingContext<"u"&&h0 instanceof WebGL2RenderingContext,b3={},L_={},Ym={},Xm=-1,Jm=[];h0.canvas.addEventListener("webglcontextlost",function(Nw){t4(),Nw.preventDefault()},!1),Gr.set(h0,kp={gl:h0,isWebGL2:cm,getExtension:$_,withProgram:h3,withTexture:Fp,withTextureFramebuffer:W_,handleContextLoss:t4})}go(kp)}function On(pu,go,h0,kp,cm,b3,L_,Ym){L_===void 0&&(L_=15),Ym===void 0&&(Ym=null),xn(pu,function(Xm){var Jm=Xm.gl,$_=Xm.withProgram,j_=Xm.withTexture;j_("copy",function(h3,Fp){Jm.texImage2D(Jm.TEXTURE_2D,0,Jm.RGBA,cm,b3,0,Jm.RGBA,Jm.UNSIGNED_BYTE,go),$_("copy",Zt,cr,function(W_){var t4=W_.setUniform,Nw=W_.setAttribute;Nw("aUV",2,Jm.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t4("1i","image",Fp),Jm.bindFramebuffer(Jm.FRAMEBUFFER,Ym||null),Jm.disable(Jm.BLEND),Jm.colorMask(L_&8,L_&4,L_&2,L_&1),Jm.viewport(h0,kp,cm,b3),Jm.scissor(h0,kp,cm,b3),Jm.drawArrays(Jm.TRIANGLES,0,3)})})})}function ss(pu,go,h0){var kp=pu.width,cm=pu.height;xn(pu,function(b3){var L_=b3.gl,Ym=new Uint8Array(kp*cm*4);L_.readPixels(0,0,kp,cm,L_.RGBA,L_.UNSIGNED_BYTE,Ym),pu.width=go,pu.height=h0,On(L_,Ym,0,0,kp,cm)})}var ls=Object.freeze({__proto__:null,withWebGLContext:xn,renderImageData:On,resizeWebGLCanvasWithoutClearing:ss});function cs(pu,go,h0,kp,cm,b3){b3===void 0&&(b3=1);var L_=new Uint8Array(pu*go),Ym=kp[2]-kp[0],Xm=kp[3]-kp[1],Jm=[];qt(h0,function(Nw,Dp,a1,zp){Jm.push({x1:Nw,y1:Dp,x2:a1,y2:zp,minX:Math.min(Nw,a1),minY:Math.min(Dp,zp),maxX:Math.max(Nw,a1),maxY:Math.max(Dp,zp)})}),Jm.sort(function(Nw,Dp){return Nw.maxX-Dp.maxX});for(var $_=0;$_<pu;$_++)for(var j_=0;j_<go;j_++){var h3=W_(kp[0]+Ym*($_+.5)/pu,kp[1]+Xm*(j_+.5)/go),Fp=Math.pow(1-Math.abs(h3)/cm,b3)/2;h3<0&&(Fp=1-Fp),Fp=Math.max(0,Math.min(255,Math.round(Fp*255))),L_[j_*pu+$_]=Fp}return L_;function W_(Nw,Dp){for(var a1=1/0,zp=1/0,v3=Jm.length;v3--;){var Mw=Jm[v3];if(Mw.maxX+zp<=Nw)break;if(Nw+zp>Mw.minX&&Dp-zp<Mw.maxY&&Dp+zp>Mw.minY){var nw=Al(Nw,Dp,Mw.x1,Mw.y1,Mw.x2,Mw.y2);nw<a1&&(a1=nw,zp=Math.sqrt(a1))}}return t4(Nw,Dp)&&(zp=-zp),zp}function t4(Nw,Dp){for(var a1=0,zp=Jm.length;zp--;){var v3=Jm[zp];if(v3.maxX<=Nw)break;var Mw=v3.y1>Dp!=v3.y2>Dp&&Nw<(v3.x2-v3.x1)*(Dp-v3.y1)/(v3.y2-v3.y1)+v3.x1;Mw&&(a1+=v3.y1<v3.y2?1:-1)}return a1!==0}}function wl(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm){b3===void 0&&(b3=1),Ym===void 0&&(Ym=0),Xm===void 0&&(Xm=0),Jm===void 0&&(Jm=0),ep(pu,go,h0,kp,cm,b3,L_,null,Ym,Xm,Jm)}function ep(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm,$_){b3===void 0&&(b3=1),Xm===void 0&&(Xm=0),Jm===void 0&&(Jm=0),$_===void 0&&($_=0);for(var j_=cs(pu,go,h0,kp,cm,b3),h3=new Uint8Array(j_.length*4),Fp=0;Fp<j_.length;Fp++)h3[Fp*4+$_]=j_[Fp];On(L_,h3,Xm,Jm,pu,go,1<<3-$_,Ym)}function Al(pu,go,h0,kp,cm,b3){var L_=cm-h0,Ym=b3-kp,Xm=L_*L_+Ym*Ym,Jm=Xm?Math.max(0,Math.min(1,((pu-h0)*L_+(go-kp)*Ym)/Xm)):0,$_=pu-(h0+Jm*L_),j_=go-(kp+Jm*Ym);return $_*$_+j_*j_}var np=Object.freeze({__proto__:null,generate:cs,generateIntoCanvas:wl,generateIntoFramebuffer:ep}),cp="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",Cp="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",Lp="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",jp=new Float32Array([0,0,2,0,0,2]),nm=null,zm=!1,i1={},d3=new WeakMap;function op(pu){if(!zm&&!us(pu))throw new Error("WebGL generation not supported")}function Sn(pu,go,h0,kp,cm,b3,L_){if(b3===void 0&&(b3=1),L_===void 0&&(L_=null),!L_&&(L_=nm,!L_)){var Ym=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!Ym)throw new Error("OffscreenCanvas or DOM canvas not supported");L_=nm=Ym.getContext("webgl",{depth:!1})}op(L_);var Xm=new Uint8Array(pu*go*4);xn(L_,function(h3){var Fp=h3.gl,W_=h3.withTexture,t4=h3.withTextureFramebuffer;W_("readable",function(Nw,Dp){Fp.texImage2D(Fp.TEXTURE_2D,0,Fp.RGBA,pu,go,0,Fp.RGBA,Fp.UNSIGNED_BYTE,null),t4(Nw,Dp,function(a1){as(pu,go,h0,kp,cm,b3,Fp,a1,0,0,0),Fp.readPixels(0,0,pu,go,Fp.RGBA,Fp.UNSIGNED_BYTE,Xm)})})});for(var Jm=new Uint8Array(pu*go),$_=0,j_=0;$_<Xm.length;$_+=4)Jm[j_++]=Xm[$_];return Jm}function Fo(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm){b3===void 0&&(b3=1),Ym===void 0&&(Ym=0),Xm===void 0&&(Xm=0),Jm===void 0&&(Jm=0),as(pu,go,h0,kp,cm,b3,L_,null,Ym,Xm,Jm)}function as(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm,$_){b3===void 0&&(b3=1),Xm===void 0&&(Xm=0),Jm===void 0&&(Jm=0),$_===void 0&&($_=0),op(L_);var j_=[];qt(h0,function(h3,Fp,W_,t4){j_.push(h3,Fp,W_,t4)}),j_=new Float32Array(j_),xn(L_,function(h3){var Fp=h3.gl,W_=h3.isWebGL2,t4=h3.getExtension,Nw=h3.withProgram,Dp=h3.withTexture,a1=h3.withTextureFramebuffer,zp=h3.handleContextLoss;if(Dp("rawDistances",function(v3,Mw){(pu!==v3._lastWidth||go!==v3._lastHeight)&&Fp.texImage2D(Fp.TEXTURE_2D,0,Fp.RGBA,v3._lastWidth=pu,v3._lastHeight=go,0,Fp.RGBA,Fp.UNSIGNED_BYTE,null),Nw("main",cp,Cp,function(nw){var n4=nw.setAttribute,Ww=nw.setUniform,F_=!W_&&t4("ANGLE_instanced_arrays"),qx=!W_&&t4("EXT_blend_minmax");n4("aUV",2,Fp.STATIC_DRAW,0,jp),n4("aLineSegment",4,Fp.DYNAMIC_DRAW,1,j_),Ww.apply(void 0,["4f","uGlyphBounds"].concat(kp)),Ww("1f","uMaxDistance",cm),Ww("1f","uExponent",b3),a1(v3,Mw,function(nM){Fp.enable(Fp.BLEND),Fp.colorMask(!0,!0,!0,!0),Fp.viewport(0,0,pu,go),Fp.scissor(0,0,pu,go),Fp.blendFunc(Fp.ONE,Fp.ONE),Fp.blendEquationSeparate(Fp.FUNC_ADD,W_?Fp.MAX:qx.MAX_EXT),Fp.clear(Fp.COLOR_BUFFER_BIT),W_?Fp.drawArraysInstanced(Fp.TRIANGLES,0,3,j_.length/4):F_.drawArraysInstancedANGLE(Fp.TRIANGLES,0,3,j_.length/4)})}),Nw("post",Zt,Lp,function(nw){nw.setAttribute("aUV",2,Fp.STATIC_DRAW,0,jp),nw.setUniform("1i","tex",Mw),Fp.bindFramebuffer(Fp.FRAMEBUFFER,Ym),Fp.disable(Fp.BLEND),Fp.colorMask($_===0,$_===1,$_===2,$_===3),Fp.viewport(Xm,Jm,pu,go),Fp.scissor(Xm,Jm,pu,go),Fp.drawArrays(Fp.TRIANGLES,0,3)})}),Fp.isContextLost())throw zp(),new Error("webgl context lost")})}function us(pu){var go=!pu||pu===nm?i1:pu.canvas||pu,h0=d3.get(go);if(h0===void 0){zm=!0;var kp=null;try{var cm=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],b3=Sn(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,pu);h0=b3&&cm.length===b3.length&&b3.every(function(L_,Ym){return L_===cm[Ym]}),h0||(kp="bad trial run results",console.info(cm,b3))}catch(L_){h0=!1,kp=L_.message}kp&&console.warn("WebGL SDF generation not supported:",kp),zm=!1,d3.set(go,h0)}return h0}var xl=Object.freeze({__proto__:null,generate:Sn,generateIntoCanvas:Fo,generateIntoFramebuffer:as,isSupported:us});function ip(pu,go,h0,kp,cm,b3){cm===void 0&&(cm=Math.max(kp[2]-kp[0],kp[3]-kp[1])/2),b3===void 0&&(b3=1);try{return Sn.apply(xl,arguments)}catch(L_){return console.info("WebGL SDF generation failed, falling back to JS",L_),cs.apply(np,arguments)}}function lp(pu,go,h0,kp,cm,b3,L_,Ym,Xm,Jm){cm===void 0&&(cm=Math.max(kp[2]-kp[0],kp[3]-kp[1])/2),b3===void 0&&(b3=1),Ym===void 0&&(Ym=0),Xm===void 0&&(Xm=0),Jm===void 0&&(Jm=0);try{return Fo.apply(xl,arguments)}catch($_){return console.info("WebGL SDF generation failed, falling back to JS",$_),wl.apply(np,arguments)}}return lt.forEachPathCommand=At,lt.generate=ip,lt.generateIntoCanvas=lp,lt.javascript=np,lt.pathToLineSegments=qt,lt.webgl=xl,lt.webglUtils=ls,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return ut}function bidiFactory(){var ut=function(lt){var ht={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},_t={},At={};_t.L=1,At[1]="L",Object.keys(ht).forEach(function(zp,v3){_t[zp]=1<<v3+1,At[_t[zp]]=zp}),Object.freeze(_t);var qt=_t.LRI|_t.RLI|_t.FSI,Zt=_t.L|_t.R|_t.AL,cr=_t.B|_t.S|_t.WS|_t.ON|_t.FSI|_t.LRI|_t.RLI|_t.PDI,Gr=_t.BN|_t.RLE|_t.LRE|_t.RLO|_t.LRO|_t.PDF,Zr=_t.S|_t.WS|_t.B|qt|_t.PDI|Gr,xn=null;function On(){if(!xn){xn=new Map;var zp=function(Mw){if(ht.hasOwnProperty(Mw)){var nw=0;ht[Mw].split(",").forEach(function(n4){var Ww=n4.split("+"),F_=Ww[0],qx=Ww[1];F_=parseInt(F_,36),qx=qx?parseInt(qx,36):0,xn.set(nw+=F_,_t[Mw]);for(var nM=0;nM<qx;nM++)xn.set(++nw,_t[Mw])})}};for(var v3 in ht)zp(v3)}}function ss(zp){return On(),xn.get(zp.codePointAt(0))||_t.L}function ls(zp){return At[ss(zp)]}var cs={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function wl(zp,v3){var Mw=36,nw=0,n4=new Map,Ww=v3&&new Map,F_;return zp.split(",").forEach(function qx(nM){if(nM.indexOf("+")!==-1)for(var Hm=+nM;Hm--;)qx(F_);else{F_=nM;var y3=nM.split(">"),Q_=y3[0],Uw=y3[1];Q_=String.fromCodePoint(nw+=parseInt(Q_,Mw)),Uw=String.fromCodePoint(nw+=parseInt(Uw,Mw)),n4.set(Q_,Uw),v3&&Ww.set(Uw,Q_)}}),{map:n4,reverseMap:Ww}}var ep,Al,np;function cp(){if(!ep){var zp=wl(cs.pairs,!0),v3=zp.map,Mw=zp.reverseMap;ep=v3,Al=Mw,np=wl(cs.canonical,!1).map}}function Cp(zp){return cp(),ep.get(zp)||null}function Lp(zp){return cp(),Al.get(zp)||null}function jp(zp){return cp(),np.get(zp)||null}var nm=_t.L,zm=_t.R,i1=_t.EN,d3=_t.ES,op=_t.ET,Sn=_t.AN,Fo=_t.CS,as=_t.B,us=_t.S,xl=_t.ON,ip=_t.BN,lp=_t.NSM,pu=_t.AL,go=_t.LRO,h0=_t.RLO,kp=_t.LRE,cm=_t.RLE,b3=_t.PDF,L_=_t.LRI,Ym=_t.RLI,Xm=_t.FSI,Jm=_t.PDI;function $_(zp,v3){for(var Mw=125,nw=new Uint32Array(zp.length),n4=0;n4<zp.length;n4++)nw[n4]=ss(zp[n4]);var Ww=new Map;function F_(NE,KE){var BE=nw[NE];nw[NE]=KE,Ww.set(BE,Ww.get(BE)-1),BE&cr&&Ww.set(cr,Ww.get(cr)-1),Ww.set(KE,(Ww.get(KE)||0)+1),KE&cr&&Ww.set(cr,(Ww.get(cr)||0)+1)}for(var qx=new Uint8Array(zp.length),nM=new Map,Hm=[],y3=null,Q_=0;Q_<zp.length;Q_++)y3||Hm.push(y3={start:Q_,end:zp.length-1,level:v3==="rtl"?1:v3==="ltr"?0:e9(Q_,!1)}),nw[Q_]&as&&(y3.end=Q_,y3=null);for(var Uw=cm|kp|h0|go|qt|Jm|b3|as,s4=function(NE){return NE+(NE&1?1:2)},rM=function(NE){return NE+(NE&1?2:1)},c4=0;c4<Hm.length;c4++){y3=Hm[c4];var tM=[{_level:y3.level,_override:0,_isolate:0}],R5=void 0,r4=0,a4=0,cM=0;Ww.clear();for(var Yx=y3.start;Yx<=y3.end;Yx++){var D5=nw[Yx];if(R5=tM[tM.length-1],Ww.set(D5,(Ww.get(D5)||0)+1),D5&cr&&Ww.set(cr,(Ww.get(cr)||0)+1),D5&Uw)if(D5&(cm|kp)){qx[Yx]=R5._level;var wM=(D5===cm?rM:s4)(R5._level);wM<=Mw&&!r4&&!a4?tM.push({_level:wM,_override:0,_isolate:0}):r4||a4++}else if(D5&(h0|go)){qx[Yx]=R5._level;var uM=(D5===h0?rM:s4)(R5._level);uM<=Mw&&!r4&&!a4?tM.push({_level:uM,_override:D5&h0?zm:nm,_isolate:0}):r4||a4++}else if(D5&qt){D5&Xm&&(D5=e9(Yx+1,!0)===1?Ym:L_),qx[Yx]=R5._level,R5._override&&F_(Yx,R5._override);var fM=(D5===Ym?rM:s4)(R5._level);fM<=Mw&&r4===0&&a4===0?(cM++,tM.push({_level:fM,_override:0,_isolate:1,_isolInitIndex:Yx})):r4++}else if(D5&Jm){if(r4>0)r4--;else if(cM>0){for(a4=0;!tM[tM.length-1]._isolate;)tM.pop();var AM=tM[tM.length-1]._isolInitIndex;AM!=null&&(nM.set(AM,Yx),nM.set(Yx,AM)),tM.pop(),cM--}R5=tM[tM.length-1],qx[Yx]=R5._level,R5._override&&F_(Yx,R5._override)}else D5&b3?(r4===0&&(a4>0?a4--:!R5._isolate&&tM.length>1&&(tM.pop(),R5=tM[tM.length-1])),qx[Yx]=R5._level):D5&as&&(qx[Yx]=y3.level);else qx[Yx]=R5._level,R5._override&&D5!==ip&&F_(Yx,R5._override)}for(var lM=[],vM=null,HM=y3.start;HM<=y3.end;HM++){var xM=nw[HM];if(!(xM&Gr)){var RM=qx[HM],VM=xM&qt,SM=xM===Jm;vM&&RM===vM._level?(vM._end=HM,vM._endsWithIsolInit=VM):lM.push(vM={_start:HM,_end:HM,_level:RM,_startsWithPDI:SM,_endsWithIsolInit:VM})}}for(var gM=[],Z_=0;Z_<lM.length;Z_++){var Bw=lM[Z_];if(!Bw._startsWithPDI||Bw._startsWithPDI&&!nM.has(Bw._start)){for(var Fw=[vM=Bw],B_=void 0;vM&&vM._endsWithIsolInit&&(B_=nM.get(vM._end))!=null;)for(var Lw=Z_+1;Lw<lM.length;Lw++)if(lM[Lw]._start===B_){Fw.push(vM=lM[Lw]);break}for(var eM=[],mM=0;mM<Fw.length;mM++)for(var G_=Fw[mM],r_=G_._start;r_<=G_._end;r_++)eM.push(r_);for(var Vx=qx[eM[0]],l4=y3.level,R4=eM[0]-1;R4>=0;R4--)if(!(nw[R4]&Gr)){l4=qx[R4];break}var u4=eM[eM.length-1],iM=qx[u4],hM=y3.level;if(!(nw[u4]&qt)){for(var bM=u4+1;bM<=y3.end;bM++)if(!(nw[bM]&Gr)){hM=qx[bM];break}}gM.push({_seqIndices:eM,_sosType:Math.max(l4,Vx)%2?zm:nm,_eosType:Math.max(hM,iM)%2?zm:nm})}}for(var yM=0;yM<gM.length;yM++){var _M=gM[yM],oM=_M._seqIndices,LM=_M._sosType,EM=_M._eosType,BM=qx[oM[0]]&1?zm:nm;if(Ww.get(lp))for(var IM=0;IM<oM.length;IM++){var $M=oM[IM];if(nw[$M]&lp){for(var NM=LM,CM=IM-1;CM>=0;CM--)if(!(nw[oM[CM]]&Gr)){NM=nw[oM[CM]];break}F_($M,NM&(qt|Jm)?xl:NM)}}if(Ww.get(i1))for(var pM=0;pM<oM.length;pM++){var dM=oM[pM];if(nw[dM]&i1)for(var PM=pM-1;PM>=-1;PM--){var DM=PM===-1?LM:nw[oM[PM]];if(DM&Zt){DM===pu&&F_(dM,Sn);break}}}if(Ww.get(pu))for(var kM=0;kM<oM.length;kM++){var UM=oM[kM];nw[UM]&pu&&F_(UM,zm)}if(Ww.get(d3)||Ww.get(Fo))for(var WM=1;WM<oM.length-1;WM++){var KM=oM[WM];if(nw[KM]&(d3|Fo)){for(var QM=0,GM=0,sM=WM-1;sM>=0&&(QM=nw[oM[sM]],!!(QM&Gr));sM--);for(var XM=WM+1;XM<oM.length&&(GM=nw[oM[XM]],!!(GM&Gr));XM++);QM===GM&&(nw[KM]===d3?QM===i1:QM&(i1|Sn))&&F_(KM,QM)}}if(Ww.get(i1))for(var jM=0;jM<oM.length;jM++){var eE=oM[jM];if(nw[eE]&i1){for(var iE=jM-1;iE>=0&&nw[oM[iE]]&(op|Gr);iE--)F_(oM[iE],i1);for(jM++;jM<oM.length&&nw[oM[jM]]&(op|Gr|i1);jM++)nw[oM[jM]]!==i1&&F_(oM[jM],i1)}}if(Ww.get(op)||Ww.get(d3)||Ww.get(Fo))for(var nE=0;nE<oM.length;nE++){var sE=oM[nE];if(nw[sE]&(op|d3|Fo)){F_(sE,xl);for(var vE=nE-1;vE>=0&&nw[oM[vE]]&Gr;vE--)F_(oM[vE],xl);for(var cE=nE+1;cE<oM.length&&nw[oM[cE]]&Gr;cE++)F_(oM[cE],xl)}}if(Ww.get(i1))for(var pE=0,yE=LM;pE<oM.length;pE++){var bE=oM[pE],AE=nw[bE];AE&i1?yE===nm&&F_(bE,nm):AE&Zt&&(yE=AE)}if(Ww.get(cr)){var xE=zm|i1|Sn,ME=xE|nm,_E=[];{for(var TC=[],vC=0;vC<oM.length;vC++)if(nw[oM[vC]]&cr){var dE=zp[oM[vC]],oT=void 0;if(Cp(dE)!==null)if(TC.length<63)TC.push({char:dE,seqIndex:vC});else break;else if((oT=Lp(dE))!==null)for(var xC=TC.length-1;xC>=0;xC--){var QC=TC[xC].char;if(QC===oT||QC===Lp(jp(dE))||Cp(jp(QC))===dE){_E.push([TC[xC].seqIndex,vC]),TC.length=xC;break}}}_E.sort(function(NE,KE){return NE[0]-KE[0]})}for(var sT=0;sT<_E.length;sT++){for(var RT=_E[sT],EE=RT[0],$C=RT[1],BT=!1,qE=0,aT=EE+1;aT<$C;aT++){var FC=oM[aT];if(nw[FC]&ME){BT=!0;var eC=nw[FC]&xE?zm:nm;if(eC===BM){qE=eC;break}}}if(BT&&!qE){qE=LM;for(var lT=EE-1;lT>=0;lT--){var kT=oM[lT];if(nw[kT]&ME){var tC=nw[kT]&xE?zm:nm;tC!==BM?qE=tC:qE=BM;break}}}if(qE){if(nw[oM[EE]]=nw[oM[$C]]=qE,qE!==BM){for(var VE=EE+1;VE<oM.length;VE++)if(!(nw[oM[VE]]&Gr)){ss(zp[oM[VE]])&lp&&(nw[oM[VE]]=qE);break}}if(qE!==BM){for(var yC=$C+1;yC<oM.length;yC++)if(!(nw[oM[yC]]&Gr)){ss(zp[oM[yC]])&lp&&(nw[oM[yC]]=qE);break}}}}for(var aC=0;aC<oM.length;aC++)if(nw[oM[aC]]&cr){for(var uT=aC,cT=aC,JE=LM,UC=aC-1;UC>=0;UC--)if(nw[oM[UC]]&Gr)uT=UC;else{JE=nw[oM[UC]]&xE?zm:nm;break}for(var zC=EM,HC=aC+1;HC<oM.length;HC++)if(nw[oM[HC]]&(cr|Gr))cT=HC;else{zC=nw[oM[HC]]&xE?zm:nm;break}for(var jE=uT;jE<=cT;jE++)nw[oM[jE]]=JE===zC?JE:BM;aC=cT}}}for(var OE=y3.start;OE<=y3.end;OE++){var ZC=qx[OE],mC=nw[OE];if(ZC&1?mC&(nm|i1|Sn)&&qx[OE]++:mC&zm?qx[OE]++:mC&(Sn|i1)&&(qx[OE]+=2),mC&Gr&&(qx[OE]=OE===0?y3.level:qx[OE-1]),OE===y3.end||ss(zp[OE])&(us|as))for(var RC=OE;RC>=0&&ss(zp[RC])&Zr;RC--)qx[RC]=y3.level}}return{levels:qx,paragraphs:Hm};function e9(NE,KE){for(var BE=NE;BE<zp.length;BE++){var kE=nw[BE];if(kE&(zm|pu))return 1;if(kE&(as|nm)||KE&&kE===Jm)return 0;if(kE&qt){var rC=IT(BE);BE=rC===-1?zp.length:rC}}return 0}function IT(NE){for(var KE=1,BE=NE+1;BE<zp.length;BE++){var kE=nw[BE];if(kE&as)break;if(kE&Jm){if(--KE===0)return BE}else kE&qt&&KE++}return-1}}var j_="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",h3;function Fp(){if(!h3){var zp=wl(j_,!0),v3=zp.map,Mw=zp.reverseMap;Mw.forEach(function(nw,n4){v3.set(n4,nw)}),h3=v3}}function W_(zp){return Fp(),h3.get(zp)||null}function t4(zp,v3,Mw,nw){var n4=zp.length;Mw=Math.max(0,Mw==null?0:+Mw),nw=Math.min(n4-1,nw==null?n4-1:+nw);for(var Ww=new Map,F_=Mw;F_<=nw;F_++)if(v3[F_]&1){var qx=W_(zp[F_]);qx!==null&&Ww.set(F_,qx)}return Ww}function Nw(zp,v3,Mw,nw){var n4=zp.length;Mw=Math.max(0,Mw==null?0:+Mw),nw=Math.min(n4-1,nw==null?n4-1:+nw);var Ww=[];return v3.paragraphs.forEach(function(F_){var qx=Math.max(Mw,F_.start),nM=Math.min(nw,F_.end);if(qx<nM){for(var Hm=v3.levels.slice(qx,nM+1),y3=nM;y3>=qx&&ss(zp[y3])&Zr;y3--)Hm[y3]=F_.level;for(var Q_=F_.level,Uw=1/0,s4=0;s4<Hm.length;s4++){var rM=Hm[s4];rM>Q_&&(Q_=rM),rM<Uw&&(Uw=rM|1)}for(var c4=Q_;c4>=Uw;c4--)for(var tM=0;tM<Hm.length;tM++)if(Hm[tM]>=c4){for(var R5=tM;tM+1<Hm.length&&Hm[tM+1]>=c4;)tM++;tM>R5&&Ww.push([R5+qx,tM+qx])}}}),Ww}function Dp(zp,v3,Mw,nw){var n4=a1(zp,v3,Mw,nw),Ww=[].concat(zp);return n4.forEach(function(F_,qx){Ww[qx]=(v3.levels[F_]&1?W_(zp[F_]):null)||zp[F_]}),Ww.join("")}function a1(zp,v3,Mw,nw){for(var n4=Nw(zp,v3,Mw,nw),Ww=[],F_=0;F_<zp.length;F_++)Ww[F_]=F_;return n4.forEach(function(qx){for(var nM=qx[0],Hm=qx[1],y3=Ww.slice(nM,Hm+1),Q_=y3.length;Q_--;)Ww[Hm-Q_]=y3[Q_]}),Ww}return lt.closingToOpeningBracket=Lp,lt.getBidiCharType=ss,lt.getBidiCharTypeName=ls,lt.getCanonicalBracket=jp,lt.getEmbeddingLevels=$_,lt.getMirroredCharacter=W_,lt.getMirroredCharactersMap=t4,lt.getReorderSegments=Nw,lt.getReorderedIndices=a1,lt.getReorderedString=Dp,lt.openingToClosingBracket=Cp,Object.defineProperty(lt,"__esModule",{value:!0}),lt}({});return ut}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(ut){const lt=/^[ \t]*#include +<([\w\d./]+)>/gm;function ht(_t,At){let qt=ShaderChunk[At];return qt?expandShaderIncludes(qt):_t}return ut.replace(lt,ht)}const _lut=[];for(let ut=0;ut<256;ut++)_lut[ut]=(ut<16?"0":"")+ut.toString(16);function generateUUID(){const ut=Math.random()*4294967295|0,lt=Math.random()*4294967295|0,ht=Math.random()*4294967295|0,_t=Math.random()*4294967295|0;return(_lut[ut&255]+_lut[ut>>8&255]+_lut[ut>>16&255]+_lut[ut>>24&255]+"-"+_lut[lt&255]+_lut[lt>>8&255]+"-"+_lut[lt>>16&15|64]+_lut[lt>>24&255]+"-"+_lut[ht&63|128]+_lut[ht>>8&255]+"-"+_lut[ht>>16&255]+_lut[ht>>24&255]+_lut[_t&255]+_lut[_t>>8&255]+_lut[_t>>16&255]+_lut[_t>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let ut=arguments[0];for(let lt=1,ht=arguments.length;lt<ht;lt++){let _t=arguments[lt];if(_t)for(let At in _t)Object.prototype.hasOwnProperty.call(_t,At)&&(ut[At]=_t[At])}return ut},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(ut,lt){const ht=getKeyForOptions(lt);let _t=CONSTRUCTOR_CACHE.get(ut);if(_t||CONSTRUCTOR_CACHE.set(ut,_t=Object.create(null)),_t[ht])return new _t[ht];const At=`_onBeforeCompile${ht}`,qt=function(Zr,xn){ut.onBeforeCompile.call(this,Zr,xn);const On=this.customProgramCacheKey()+"|"+Zr.vertexShader+"|"+Zr.fragmentShader;let ss=SHADER_UPGRADE_CACHE[On];if(!ss){const ls=upgradeShaders(this,Zr,lt,ht);ss=SHADER_UPGRADE_CACHE[On]=ls}Zr.vertexShader=ss.vertexShader,Zr.fragmentShader=ss.fragmentShader,assign$1(Zr.uniforms,this.uniforms),lt.timeUniform&&(Zr.uniforms[lt.timeUniform]={get value(){return Date.now()-epoch}}),this[At]&&this[At](Zr)},Zt=function(){return cr(lt.chained?ut:ut.clone())},cr=function(Zr){const xn=Object.create(Zr,Gr);return Object.defineProperty(xn,"baseMaterial",{value:ut}),Object.defineProperty(xn,"id",{value:materialInstanceId++}),xn.uuid=generateUUID(),xn.uniforms=assign$1({},Zr.uniforms,lt.uniforms),xn.defines=assign$1({},Zr.defines,lt.defines),xn.defines[`TROIKA_DERIVED_MATERIAL_${ht}`]="",xn.extensions=assign$1({},Zr.extensions,lt.extensions),xn._listeners=void 0,xn},Gr={constructor:{value:Zt},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return ut.customProgramCacheKey()+"|"+ht}},onBeforeCompile:{get(){return qt},set(Zr){this[At]=Zr}},copy:{writable:!0,configurable:!0,value:function(Zr){return ut.copy.call(this,Zr),!ut.isShaderMaterial&&!ut.isDerivedMaterial&&(assign$1(this.extensions,Zr.extensions),assign$1(this.defines,Zr.defines),assign$1(this.uniforms,UniformsUtils.clone(Zr.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const Zr=new ut.constructor;return cr(Zr).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let Zr=this._depthMaterial;return Zr||(Zr=this._depthMaterial=createDerivedMaterial(ut.isDerivedMaterial?ut.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt),Zr.defines.IS_DEPTH_MATERIAL="",Zr.uniforms=this.uniforms),Zr}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let Zr=this._distanceMaterial;return Zr||(Zr=this._distanceMaterial=createDerivedMaterial(ut.isDerivedMaterial?ut.getDistanceMaterial():new MeshDistanceMaterial,lt),Zr.defines.IS_DISTANCE_MATERIAL="",Zr.uniforms=this.uniforms),Zr}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:Zr,_distanceMaterial:xn}=this;Zr&&Zr.dispose(),xn&&xn.dispose(),ut.dispose.call(this)}}};return _t[ht]=Zt,new Zt}function upgradeShaders(ut,{vertexShader:lt,fragmentShader:ht},_t,At){let{vertexDefs:qt,vertexMainIntro:Zt,vertexMainOutro:cr,vertexTransform:Gr,fragmentDefs:Zr,fragmentMainIntro:xn,fragmentMainOutro:On,fragmentColorTransform:ss,customRewriter:ls,timeUniform:cs}=_t;if(qt=qt||"",Zt=Zt||"",cr=cr||"",Zr=Zr||"",xn=xn||"",On=On||"",(Gr||ls)&&(lt=expandShaderIncludes(lt)),(ss||ls)&&(ht=ht.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),ht=expandShaderIncludes(ht)),ls){let wl=ls({vertexShader:lt,fragmentShader:ht});lt=wl.vertexShader,ht=wl.fragmentShader}if(ss){let wl=[];ht=ht.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,ep=>(wl.push(ep),"")),On=`${ss}
${wl.join(`
`)}
${On}`}if(cs){const wl=`
uniform float ${cs};
`;qt=wl+qt,Zr=wl+Zr}return Gr&&(lt=`vec3 troika_position_${At};
vec3 troika_normal_${At};
vec2 troika_uv_${At};
${lt}
`,qt=`${qt}
void troikaVertexTransform${At}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${Gr}
}
`,Zt=`
troika_position_${At} = vec3(position);
troika_normal_${At} = vec3(normal);
troika_uv_${At} = vec2(uv);
troikaVertexTransform${At}(troika_position_${At}, troika_normal_${At}, troika_uv_${At});
${Zt}
`,lt=lt.replace(/\b(position|normal|uv)\b/g,(wl,ep,Al,np)=>/\battribute\s+vec[23]\s+$/.test(np.substr(0,Al))?ep:`troika_${ep}_${At}`),ut.map&&ut.map.channel>0||(lt=lt.replace(/\bMAP_UV\b/g,`troika_uv_${At}`))),lt=injectIntoShaderCode(lt,At,qt,Zt,cr),ht=injectIntoShaderCode(ht,At,Zr,xn,On),{vertexShader:lt,fragmentShader:ht}}function injectIntoShaderCode(ut,lt,ht,_t,At){return(_t||At||ht)&&(ut=ut.replace(voidMainRegExp,`
${ht}
void troikaOrigMain${lt}() {`),ut+=`
void main() {
  ${_t}
  troikaOrigMain${lt}();
  ${At}
}`),ut}function optionsJsonReplacer(ut,lt){return ut==="uniforms"?void 0:typeof lt=="function"?lt.toString():lt}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(ut){const lt=JSON.stringify(ut,optionsJsonReplacer);let ht=optionsHashesToIds.get(lt);return ht==null&&optionsHashesToIds.set(lt,ht=++_idCtr),ht}function createTypesetter(ut,lt,ht){const{defaultFontURL:_t}=ht,At=Object.create(null),qt=1/0,Zt=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,cr="[^\\S\\u00A0]",Gr=new RegExp(`${cr}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function Zr(np,cp){function Cp(){const Lp=jp=>{console.error(`Failure loading font ${np}${np===_t?"":"; trying fallback"}`,jp),np!==_t&&(np=_t,Cp())};try{const jp=new XMLHttpRequest;jp.open("get",np,!0),jp.responseType="arraybuffer",jp.onload=function(){if(jp.status>=400)Lp(new Error(jp.statusText));else if(jp.status>0)try{const nm=ut(jp.response);cp(nm)}catch(nm){Lp(nm)}},jp.onerror=Lp,jp.send()}catch(jp){Lp(jp)}}Cp()}function xn(np,cp){np||(np=_t);let Cp=At[np];Cp?Cp.pending?Cp.pending.push(cp):cp(Cp):(At[np]={pending:[cp]},Zr(np,Lp=>{let jp=At[np].pending;At[np]=Lp,jp.forEach(nm=>nm(Lp))}))}function On({text:np="",font:cp=_t,sdfGlyphSize:Cp=64,fontSize:Lp=1,letterSpacing:jp=0,lineHeight:nm="normal",maxWidth:zm=qt,direction:i1,textAlign:d3="left",textIndent:op=0,whiteSpace:Sn="normal",overflowWrap:Fo="normal",anchorX:as=0,anchorY:us=0,includeCaretPositions:xl=!1,chunkedBoundsSize:ip=8192,colorRanges:lp=null},pu,go=!1){const h0=wl(),kp={fontLoad:0,typesetting:0};np.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),np=np.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),Lp=+Lp,jp=+jp,zm=+zm,nm=nm||"normal",op=+op,xn(cp,cm=>{const b3=isFinite(zm);let L_=null,Ym=null,Xm=null,Jm=null,$_=null,j_=null,h3=null,Fp=0,W_=0,t4=Sn!=="nowrap";const{ascender:Nw,descender:Dp,unitsPerEm:a1,lineGap:zp,capHeight:v3,xHeight:Mw}=cm;kp.fontLoad=wl()-h0;const nw=wl(),n4=Lp/a1;nm==="normal"&&(nm=(Nw-Dp+zp)/a1),nm=nm*Lp;const Ww=(nm-(Nw-Dp)*n4)/2,F_=-(Nw*n4+Ww),qx=Math.min(nm,(Nw-Dp)*n4),nM=(Nw+Dp)/2*n4-qx/2;let Hm=op,y3=new ep;const Q_=[y3];cm.forEachGlyph(np,Lp,jp,(rM,c4,tM)=>{const R5=np.charAt(tM),r4=rM.advanceWidth*n4,a4=y3.count;let cM;if("isEmpty"in rM||(rM.isWhitespace=!!R5&&new RegExp(cr).test(R5),rM.canBreakAfter=!!R5&&Gr.test(R5),rM.isEmpty=rM.xMin===rM.xMax||rM.yMin===rM.yMax||Zt.test(R5)),!rM.isWhitespace&&!rM.isEmpty&&W_++,t4&&b3&&!rM.isWhitespace&&c4+r4+Hm>zm&&a4){if(y3.glyphAt(a4-1).glyphObj.canBreakAfter)cM=new ep,Hm=-c4;else for(let D5=a4;D5--;)if(D5===0&&Fo==="break-word"){cM=new ep,Hm=-c4;break}else if(y3.glyphAt(D5).glyphObj.canBreakAfter){cM=y3.splitAt(D5+1);const wM=cM.glyphAt(0).x;Hm-=wM;for(let uM=cM.count;uM--;)cM.glyphAt(uM).x-=wM;break}cM&&(y3.isSoftWrapped=!0,y3=cM,Q_.push(y3),Fp=zm)}let Yx=y3.glyphAt(y3.count);Yx.glyphObj=rM,Yx.x=c4+Hm,Yx.width=r4,Yx.charIndex=tM,R5===`
`&&(y3=new ep,Q_.push(y3),Hm=-(c4+r4+jp*Lp)+op)}),Q_.forEach(rM=>{for(let c4=rM.count;c4--;){let{glyphObj:tM,x:R5,width:r4}=rM.glyphAt(c4);if(!tM.isWhitespace){rM.width=R5+r4,rM.width>Fp&&(Fp=rM.width);return}}});let Uw=0,s4=0;if(as&&(typeof as=="number"?Uw=-as:typeof as=="string"&&(Uw=-Fp*(as==="left"?0:as==="center"?.5:as==="right"?1:ls(as)))),us){if(typeof us=="number")s4=-us;else if(typeof us=="string"){let rM=Q_.length*nm;s4=us==="top"?0:us==="top-baseline"?-F_:us==="top-cap"?-F_-v3*n4:us==="top-ex"?-F_-Mw*n4:us==="middle"?rM/2:us==="bottom"?rM:us==="bottom-baseline"?rM-Ww+Dp*n4:ls(us)*rM}}if(!go){const rM=lt.getEmbeddingLevels(np,i1);L_=new Uint16Array(W_),Ym=new Float32Array(W_*2),Xm={},j_=[qt,qt,-qt,-qt],h3=[];let c4=F_;xl&&($_=new Float32Array(np.length*3)),lp&&(Jm=new Uint8Array(W_*3));let tM=0,R5=-1,r4=-1,a4,cM;if(Q_.forEach((Yx,D5)=>{let{count:wM,width:uM}=Yx;if(wM>0){let fM=0;for(let RM=wM;RM--&&Yx.glyphAt(RM).glyphObj.isWhitespace;)fM++;let AM=0,lM=0;if(d3==="center")AM=(Fp-uM)/2;else if(d3==="right")AM=Fp-uM;else if(d3==="justify"&&Yx.isSoftWrapped){let RM=0;for(let VM=wM-fM;VM--;)Yx.glyphAt(VM).glyphObj.isWhitespace&&RM++;lM=(Fp-uM)/RM}if(lM||AM){let RM=0;for(let VM=0;VM<wM;VM++){let SM=Yx.glyphAt(VM);const gM=SM.glyphObj;SM.x+=AM+RM,lM!==0&&gM.isWhitespace&&VM<wM-fM&&(RM+=lM,SM.width+=lM)}}const vM=lt.getReorderSegments(np,rM,Yx.glyphAt(0).charIndex,Yx.glyphAt(Yx.count-1).charIndex);for(let RM=0;RM<vM.length;RM++){const[VM,SM]=vM[RM];let gM=1/0,Z_=-1/0;for(let Bw=0;Bw<wM;Bw++)if(Yx.glyphAt(Bw).charIndex>=VM){let Fw=Bw,B_=Bw;for(;B_<wM;B_++){let Lw=Yx.glyphAt(B_);if(Lw.charIndex>SM)break;B_<wM-fM&&(gM=Math.min(gM,Lw.x),Z_=Math.max(Z_,Lw.x+Lw.width))}for(let Lw=Fw;Lw<B_;Lw++){const eM=Yx.glyphAt(Lw);eM.x=Z_-(eM.x+eM.width-gM)}break}}let HM;const xM=RM=>HM=RM;for(let RM=0;RM<wM;RM++){let VM=Yx.glyphAt(RM);HM=VM.glyphObj;const SM=HM.index,gM=rM.levels[VM.charIndex]&1;if(gM){const Z_=lt.getMirroredCharacter(np[VM.charIndex]);Z_&&cm.forEachGlyph(Z_,0,0,xM)}if(xl){const{charIndex:Z_}=VM,Bw=VM.x+Uw,Fw=VM.x+VM.width+Uw;$_[Z_*3]=gM?Fw:Bw,$_[Z_*3+1]=gM?Bw:Fw,$_[Z_*3+2]=c4+nM+s4;const B_=Z_-R5;B_>1&&cs($_,R5,B_),R5=Z_}if(lp){const{charIndex:Z_}=VM;for(;Z_>r4;)r4++,lp.hasOwnProperty(r4)&&(cM=lp[r4])}if(!HM.isWhitespace&&!HM.isEmpty){const Z_=tM++;Xm[SM]||(Xm[SM]={path:HM.path,pathBounds:[HM.xMin,HM.yMin,HM.xMax,HM.yMax]});const Bw=VM.x+Uw,Fw=c4+s4;Ym[Z_*2]=Bw,Ym[Z_*2+1]=Fw;const B_=Bw+HM.xMin*n4,Lw=Fw+HM.yMin*n4,eM=Bw+HM.xMax*n4,mM=Fw+HM.yMax*n4;B_<j_[0]&&(j_[0]=B_),Lw<j_[1]&&(j_[1]=Lw),eM>j_[2]&&(j_[2]=eM),mM>j_[3]&&(j_[3]=mM),Z_%ip===0&&(a4={start:Z_,end:Z_,rect:[qt,qt,-qt,-qt]},h3.push(a4)),a4.end++;const G_=a4.rect;if(B_<G_[0]&&(G_[0]=B_),Lw<G_[1]&&(G_[1]=Lw),eM>G_[2]&&(G_[2]=eM),mM>G_[3]&&(G_[3]=mM),L_[Z_]=SM,lp){const r_=Z_*3;Jm[r_]=cM>>16&255,Jm[r_+1]=cM>>8&255,Jm[r_+2]=cM&255}}}}c4-=nm}),$_){const Yx=np.length-R5;Yx>1&&cs($_,R5,Yx)}}kp.typesetting=wl()-nw,pu({glyphIds:L_,glyphPositions:Ym,glyphData:Xm,caretPositions:$_,caretHeight:qx,glyphColors:Jm,chunkedBounds:h3,fontSize:Lp,unitsPerEm:a1,ascender:Nw*n4,descender:Dp*n4,capHeight:v3*n4,xHeight:Mw*n4,lineHeight:nm,topBaseline:F_,blockBounds:[Uw,s4-Q_.length*nm,Uw+Fp,s4],visibleBounds:j_,timings:kp})})}function ss(np,cp){On(np,Cp=>{const[Lp,jp,nm,zm]=Cp.blockBounds;cp({width:nm-Lp,height:zm-jp})},{metricsOnly:!0})}function ls(np){let cp=np.match(/^([\d.]+)%$/),Cp=cp?parseFloat(cp[1]):NaN;return isNaN(Cp)?0:Cp/100}function cs(np,cp,Cp){const Lp=np[cp*3],jp=np[cp*3+1],nm=np[cp*3+2],zm=(jp-Lp)/Cp;for(let i1=0;i1<Cp;i1++){const d3=(cp+i1)*3;np[d3]=Lp+zm*i1,np[d3+1]=Lp+zm*(i1+1),np[d3+2]=nm}}function wl(){return(self.performance||Date).now()}function ep(){this.data=[]}const Al=["glyphObj","x","width","charIndex"];return ep.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/Al.length)},glyphAt(np){let cp=ep.flyweight;return cp.data=this.data,cp.index=np,cp},splitAt(np){let cp=new ep;return cp.data=this.data.splice(np*Al.length),cp}},ep.flyweight=Al.reduce((np,cp,Cp,Lp)=>(Object.defineProperty(np,cp,{get(){return this.data[this.index*Al.length+Cp]},set(jp){this.data[this.index*Al.length+Cp]=jp}}),np),{data:null,index:0}),{typeset:On,measure:ss,loadFont:xn}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr,xn=!0){return xn?generateSDF_GL(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr).then(null,On=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",On),warned=!0),generateSDF_JS_Worker(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr))):generateSDF_JS_Worker(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr)}const queue=[],chunkTimeBudget=5;let timer=0;function nextChunk(){const ut=now();for(;queue.length&&now()-ut<chunkTimeBudget;)queue.shift()();timer=queue.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...ut)=>new Promise((lt,ht)=>{queue.push(()=>{const _t=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...ut),lt({timing:now()-_t})}catch(At){ht(At)}}),timer||(timer=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(ut,lt,ht,_t,At,qt,Zt,cr,Gr,Zr){const xn="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let On=threads[xn];return On||(On=threads[xn]={workerModule:defineWorkerModule({name:xn,workerId:xn,dependencies:[SDFGenerator,now],init(ss,ls){const cs=ss().javascript.generate;return function(...wl){const ep=ls();return{textureData:cs(...wl),timing:ls()-ep}}},getTransferables(ss){return[ss.textureData.buffer]}}),requests:0,idleTimer:null}),On.requests++,clearTimeout(On.idleTimer),On.workerModule(ut,lt,ht,_t,At,qt).then(({textureData:ss,timing:ls})=>{const cs=now(),wl=new Uint8Array(ss.length*4);for(let ep=0;ep<ss.length;ep++)wl[ep*4+Zr]=ss[ep];return mainThreadGenerator.webglUtils.renderImageData(Zt,wl,cr,Gr,ut,lt,1<<3-Zr),ls+=now()-cs,--On.requests===0&&(On.idleTimer=setTimeout(()=>{terminateWorker(xn)},idleTimeout)),{timing:ls}})}function warmUpSDFCanvas(ut){ut._warm||(mainThreadGenerator.webgl.isSupported(ut),ut._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(ut){var lt={parse:function(At){var qt=lt._bin,Zt=new Uint8Array(At);if(qt.readASCII(Zt,0,4)=="ttcf"){var cr=4;qt.readUshort(Zt,cr),cr+=2,qt.readUshort(Zt,cr),cr+=2;var Gr=qt.readUint(Zt,cr);cr+=4;for(var Zr=[],xn=0;xn<Gr;xn++){var On=qt.readUint(Zt,cr);cr+=4,Zr.push(lt._readFont(Zt,On))}return Zr}return[lt._readFont(Zt,0)]},_readFont:function(At,qt){var Zt=lt._bin,cr=qt;Zt.readFixed(At,qt),qt+=4;var Gr=Zt.readUshort(At,qt);qt+=2,Zt.readUshort(At,qt),qt+=2,Zt.readUshort(At,qt),qt+=2,Zt.readUshort(At,qt),qt+=2;for(var Zr=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],xn={_data:At,_offset:cr},On={},ss=0;ss<Gr;ss++){var ls=Zt.readASCII(At,qt,4);qt+=4,Zt.readUint(At,qt),qt+=4;var cs=Zt.readUint(At,qt);qt+=4;var wl=Zt.readUint(At,qt);qt+=4,On[ls]={offset:cs,length:wl}}for(ss=0;ss<Zr.length;ss++){var ep=Zr[ss];On[ep]&&(xn[ep.trim()]=lt[ep.trim()].parse(At,On[ep].offset,On[ep].length,xn))}return xn},_tabOffset:function(At,qt,Zt){for(var cr=lt._bin,Gr=cr.readUshort(At,Zt+4),Zr=Zt+12,xn=0;xn<Gr;xn++){var On=cr.readASCII(At,Zr,4);Zr+=4,cr.readUint(At,Zr),Zr+=4;var ss=cr.readUint(At,Zr);if(Zr+=4,cr.readUint(At,Zr),Zr+=4,On==qt)return ss}return 0}};lt._bin={readFixed:function(At,qt){return(At[qt]<<8|At[qt+1])+(At[qt+2]<<8|At[qt+3])/65540},readF2dot14:function(At,qt){return lt._bin.readShort(At,qt)/16384},readInt:function(At,qt){return lt._bin._view(At).getInt32(qt)},readInt8:function(At,qt){return lt._bin._view(At).getInt8(qt)},readShort:function(At,qt){return lt._bin._view(At).getInt16(qt)},readUshort:function(At,qt){return lt._bin._view(At).getUint16(qt)},readUshorts:function(At,qt,Zt){for(var cr=[],Gr=0;Gr<Zt;Gr++)cr.push(lt._bin.readUshort(At,qt+2*Gr));return cr},readUint:function(At,qt){return lt._bin._view(At).getUint32(qt)},readUint64:function(At,qt){return 4294967296*lt._bin.readUint(At,qt)+lt._bin.readUint(At,qt+4)},readASCII:function(At,qt,Zt){for(var cr="",Gr=0;Gr<Zt;Gr++)cr+=String.fromCharCode(At[qt+Gr]);return cr},readUnicode:function(At,qt,Zt){for(var cr="",Gr=0;Gr<Zt;Gr++){var Zr=At[qt++]<<8|At[qt++];cr+=String.fromCharCode(Zr)}return cr},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(At,qt,Zt){var cr=lt._bin._tdec;return cr&&qt==0&&Zt==At.length?cr.decode(At):lt._bin.readASCII(At,qt,Zt)},readBytes:function(At,qt,Zt){for(var cr=[],Gr=0;Gr<Zt;Gr++)cr.push(At[qt+Gr]);return cr},readASCIIArray:function(At,qt,Zt){for(var cr=[],Gr=0;Gr<Zt;Gr++)cr.push(String.fromCharCode(At[qt+Gr]));return cr},_view:function(At){return At._dataView||(At._dataView=At.buffer?new DataView(At.buffer,At.byteOffset,At.byteLength):new DataView(new Uint8Array(At).buffer))}},lt._lctf={},lt._lctf.parse=function(At,qt,Zt,cr,Gr){var Zr=lt._bin,xn={},On=qt;Zr.readFixed(At,qt),qt+=4;var ss=Zr.readUshort(At,qt);qt+=2;var ls=Zr.readUshort(At,qt);qt+=2;var cs=Zr.readUshort(At,qt);return qt+=2,xn.scriptList=lt._lctf.readScriptList(At,On+ss),xn.featureList=lt._lctf.readFeatureList(At,On+ls),xn.lookupList=lt._lctf.readLookupList(At,On+cs,Gr),xn},lt._lctf.readLookupList=function(At,qt,Zt){var cr=lt._bin,Gr=qt,Zr=[],xn=cr.readUshort(At,qt);qt+=2;for(var On=0;On<xn;On++){var ss=cr.readUshort(At,qt);qt+=2;var ls=lt._lctf.readLookupTable(At,Gr+ss,Zt);Zr.push(ls)}return Zr},lt._lctf.readLookupTable=function(At,qt,Zt){var cr=lt._bin,Gr=qt,Zr={tabs:[]};Zr.ltype=cr.readUshort(At,qt),qt+=2,Zr.flag=cr.readUshort(At,qt),qt+=2;var xn=cr.readUshort(At,qt);qt+=2;for(var On=Zr.ltype,ss=0;ss<xn;ss++){var ls=cr.readUshort(At,qt);qt+=2;var cs=Zt(At,On,Gr+ls,Zr);Zr.tabs.push(cs)}return Zr},lt._lctf.numOfOnes=function(At){for(var qt=0,Zt=0;Zt<32;Zt++)At>>>Zt&1&&qt++;return qt},lt._lctf.readClassDef=function(At,qt){var Zt=lt._bin,cr=[],Gr=Zt.readUshort(At,qt);if(qt+=2,Gr==1){var Zr=Zt.readUshort(At,qt);qt+=2;var xn=Zt.readUshort(At,qt);qt+=2;for(var On=0;On<xn;On++)cr.push(Zr+On),cr.push(Zr+On),cr.push(Zt.readUshort(At,qt)),qt+=2}if(Gr==2){var ss=Zt.readUshort(At,qt);for(qt+=2,On=0;On<ss;On++)cr.push(Zt.readUshort(At,qt)),qt+=2,cr.push(Zt.readUshort(At,qt)),qt+=2,cr.push(Zt.readUshort(At,qt)),qt+=2}return cr},lt._lctf.getInterval=function(At,qt){for(var Zt=0;Zt<At.length;Zt+=3){var cr=At[Zt],Gr=At[Zt+1];if(At[Zt+2],cr<=qt&&qt<=Gr)return Zt}return-1},lt._lctf.readCoverage=function(At,qt){var Zt=lt._bin,cr={};cr.fmt=Zt.readUshort(At,qt),qt+=2;var Gr=Zt.readUshort(At,qt);return qt+=2,cr.fmt==1&&(cr.tab=Zt.readUshorts(At,qt,Gr)),cr.fmt==2&&(cr.tab=Zt.readUshorts(At,qt,3*Gr)),cr},lt._lctf.coverageIndex=function(At,qt){var Zt=At.tab;if(At.fmt==1)return Zt.indexOf(qt);if(At.fmt==2){var cr=lt._lctf.getInterval(Zt,qt);if(cr!=-1)return Zt[cr+2]+(qt-Zt[cr])}return-1},lt._lctf.readFeatureList=function(At,qt){var Zt=lt._bin,cr=qt,Gr=[],Zr=Zt.readUshort(At,qt);qt+=2;for(var xn=0;xn<Zr;xn++){var On=Zt.readASCII(At,qt,4);qt+=4;var ss=Zt.readUshort(At,qt);qt+=2;var ls=lt._lctf.readFeatureTable(At,cr+ss);ls.tag=On.trim(),Gr.push(ls)}return Gr},lt._lctf.readFeatureTable=function(At,qt){var Zt=lt._bin,cr=qt,Gr={},Zr=Zt.readUshort(At,qt);qt+=2,Zr>0&&(Gr.featureParams=cr+Zr);var xn=Zt.readUshort(At,qt);qt+=2,Gr.tab=[];for(var On=0;On<xn;On++)Gr.tab.push(Zt.readUshort(At,qt+2*On));return Gr},lt._lctf.readScriptList=function(At,qt){var Zt=lt._bin,cr=qt,Gr={},Zr=Zt.readUshort(At,qt);qt+=2;for(var xn=0;xn<Zr;xn++){var On=Zt.readASCII(At,qt,4);qt+=4;var ss=Zt.readUshort(At,qt);qt+=2,Gr[On.trim()]=lt._lctf.readScriptTable(At,cr+ss)}return Gr},lt._lctf.readScriptTable=function(At,qt){var Zt=lt._bin,cr=qt,Gr={},Zr=Zt.readUshort(At,qt);qt+=2,Gr.default=lt._lctf.readLangSysTable(At,cr+Zr);var xn=Zt.readUshort(At,qt);qt+=2;for(var On=0;On<xn;On++){var ss=Zt.readASCII(At,qt,4);qt+=4;var ls=Zt.readUshort(At,qt);qt+=2,Gr[ss.trim()]=lt._lctf.readLangSysTable(At,cr+ls)}return Gr},lt._lctf.readLangSysTable=function(At,qt){var Zt=lt._bin,cr={};Zt.readUshort(At,qt),qt+=2,cr.reqFeature=Zt.readUshort(At,qt),qt+=2;var Gr=Zt.readUshort(At,qt);return qt+=2,cr.features=Zt.readUshorts(At,qt,Gr),cr},lt.CFF={},lt.CFF.parse=function(At,qt,Zt){var cr=lt._bin;(At=new Uint8Array(At.buffer,qt,Zt))[qt=0],At[++qt],At[++qt],At[++qt],qt++;var Gr=[];qt=lt.CFF.readIndex(At,qt,Gr);for(var Zr=[],xn=0;xn<Gr.length-1;xn++)Zr.push(cr.readASCII(At,qt+Gr[xn],Gr[xn+1]-Gr[xn]));qt+=Gr[Gr.length-1];var On=[];qt=lt.CFF.readIndex(At,qt,On);var ss=[];for(xn=0;xn<On.length-1;xn++)ss.push(lt.CFF.readDict(At,qt+On[xn],qt+On[xn+1]));qt+=On[On.length-1];var ls=ss[0],cs=[];qt=lt.CFF.readIndex(At,qt,cs);var wl=[];for(xn=0;xn<cs.length-1;xn++)wl.push(cr.readASCII(At,qt+cs[xn],cs[xn+1]-cs[xn]));if(qt+=cs[cs.length-1],lt.CFF.readSubrs(At,qt,ls),ls.CharStrings){qt=ls.CharStrings,cs=[],qt=lt.CFF.readIndex(At,qt,cs);var ep=[];for(xn=0;xn<cs.length-1;xn++)ep.push(cr.readBytes(At,qt+cs[xn],cs[xn+1]-cs[xn]));ls.CharStrings=ep}if(ls.ROS){qt=ls.FDArray;var Al=[];for(qt=lt.CFF.readIndex(At,qt,Al),ls.FDArray=[],xn=0;xn<Al.length-1;xn++){var np=lt.CFF.readDict(At,qt+Al[xn],qt+Al[xn+1]);lt.CFF._readFDict(At,np,wl),ls.FDArray.push(np)}qt+=Al[Al.length-1],qt=ls.FDSelect,ls.FDSelect=[];var cp=At[qt];if(qt++,cp!=3)throw cp;var Cp=cr.readUshort(At,qt);for(qt+=2,xn=0;xn<Cp+1;xn++)ls.FDSelect.push(cr.readUshort(At,qt),At[qt+2]),qt+=3}return ls.Encoding&&(ls.Encoding=lt.CFF.readEncoding(At,ls.Encoding,ls.CharStrings.length)),ls.charset&&(ls.charset=lt.CFF.readCharset(At,ls.charset,ls.CharStrings.length)),lt.CFF._readFDict(At,ls,wl),ls},lt.CFF._readFDict=function(At,qt,Zt){var cr;for(var Gr in qt.Private&&(cr=qt.Private[1],qt.Private=lt.CFF.readDict(At,cr,cr+qt.Private[0]),qt.Private.Subrs&&lt.CFF.readSubrs(At,cr+qt.Private.Subrs,qt.Private)),qt)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(Gr)!=-1&&(qt[Gr]=Zt[qt[Gr]-426+35])},lt.CFF.readSubrs=function(At,qt,Zt){var cr=lt._bin,Gr=[];qt=lt.CFF.readIndex(At,qt,Gr);var Zr,xn=Gr.length;Zr=xn<1240?107:xn<33900?1131:32768,Zt.Bias=Zr,Zt.Subrs=[];for(var On=0;On<Gr.length-1;On++)Zt.Subrs.push(cr.readBytes(At,qt+Gr[On],Gr[On+1]-Gr[On]))},lt.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],lt.CFF.glyphByUnicode=function(At,qt){for(var Zt=0;Zt<At.charset.length;Zt++)if(At.charset[Zt]==qt)return Zt;return-1},lt.CFF.glyphBySE=function(At,qt){return qt<0||qt>255?-1:lt.CFF.glyphByUnicode(At,lt.CFF.tableSE[qt])},lt.CFF.readEncoding=function(At,qt,Zt){lt._bin;var cr=[".notdef"],Gr=At[qt];if(qt++,Gr!=0)throw"error: unknown encoding format: "+Gr;var Zr=At[qt];qt++;for(var xn=0;xn<Zr;xn++)cr.push(At[qt+xn]);return cr},lt.CFF.readCharset=function(At,qt,Zt){var cr=lt._bin,Gr=[".notdef"],Zr=At[qt];if(qt++,Zr==0)for(var xn=0;xn<Zt;xn++){var On=cr.readUshort(At,qt);qt+=2,Gr.push(On)}else{if(Zr!=1&&Zr!=2)throw"error: format: "+Zr;for(;Gr.length<Zt;){On=cr.readUshort(At,qt),qt+=2;var ss=0;for(Zr==1?(ss=At[qt],qt++):(ss=cr.readUshort(At,qt),qt+=2),xn=0;xn<=ss;xn++)Gr.push(On),On++}}return Gr},lt.CFF.readIndex=function(At,qt,Zt){var cr=lt._bin,Gr=cr.readUshort(At,qt)+1,Zr=At[qt+=2];if(qt++,Zr==1)for(var xn=0;xn<Gr;xn++)Zt.push(At[qt+xn]);else if(Zr==2)for(xn=0;xn<Gr;xn++)Zt.push(cr.readUshort(At,qt+2*xn));else if(Zr==3)for(xn=0;xn<Gr;xn++)Zt.push(16777215&cr.readUint(At,qt+3*xn-1));else if(Gr!=1)throw"unsupported offset size: "+Zr+", count: "+Gr;return(qt+=Gr*Zr)-1},lt.CFF.getCharString=function(At,qt,Zt){var cr=lt._bin,Gr=At[qt],Zr=At[qt+1];At[qt+2],At[qt+3],At[qt+4];var xn=1,On=null,ss=null;Gr<=20&&(On=Gr,xn=1),Gr==12&&(On=100*Gr+Zr,xn=2),21<=Gr&&Gr<=27&&(On=Gr,xn=1),Gr==28&&(ss=cr.readShort(At,qt+1),xn=3),29<=Gr&&Gr<=31&&(On=Gr,xn=1),32<=Gr&&Gr<=246&&(ss=Gr-139,xn=1),247<=Gr&&Gr<=250&&(ss=256*(Gr-247)+Zr+108,xn=2),251<=Gr&&Gr<=254&&(ss=256*-(Gr-251)-Zr-108,xn=2),Gr==255&&(ss=cr.readInt(At,qt+1)/65535,xn=5),Zt.val=ss??"o"+On,Zt.size=xn},lt.CFF.readCharString=function(At,qt,Zt){for(var cr=qt+Zt,Gr=lt._bin,Zr=[];qt<cr;){var xn=At[qt],On=At[qt+1];At[qt+2],At[qt+3],At[qt+4];var ss=1,ls=null,cs=null;xn<=20&&(ls=xn,ss=1),xn==12&&(ls=100*xn+On,ss=2),xn!=19&&xn!=20||(ls=xn,ss=2),21<=xn&&xn<=27&&(ls=xn,ss=1),xn==28&&(cs=Gr.readShort(At,qt+1),ss=3),29<=xn&&xn<=31&&(ls=xn,ss=1),32<=xn&&xn<=246&&(cs=xn-139,ss=1),247<=xn&&xn<=250&&(cs=256*(xn-247)+On+108,ss=2),251<=xn&&xn<=254&&(cs=256*-(xn-251)-On-108,ss=2),xn==255&&(cs=Gr.readInt(At,qt+1)/65535,ss=5),Zr.push(cs??"o"+ls),qt+=ss}return Zr},lt.CFF.readDict=function(At,qt,Zt){for(var cr=lt._bin,Gr={},Zr=[];qt<Zt;){var xn=At[qt],On=At[qt+1];At[qt+2],At[qt+3],At[qt+4];var ss=1,ls=null,cs=null;if(xn==28&&(cs=cr.readShort(At,qt+1),ss=3),xn==29&&(cs=cr.readInt(At,qt+1),ss=5),32<=xn&&xn<=246&&(cs=xn-139,ss=1),247<=xn&&xn<=250&&(cs=256*(xn-247)+On+108,ss=2),251<=xn&&xn<=254&&(cs=256*-(xn-251)-On-108,ss=2),xn==255)throw cs=cr.readInt(At,qt+1)/65535,ss=5,"unknown number";if(xn==30){var wl=[];for(ss=1;;){var ep=At[qt+ss];ss++;var Al=ep>>4,np=15&ep;if(Al!=15&&wl.push(Al),np!=15&&wl.push(np),np==15)break}for(var cp="",Cp=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],Lp=0;Lp<wl.length;Lp++)cp+=Cp[wl[Lp]];cs=parseFloat(cp)}xn<=21&&(ls=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][xn],ss=1,xn==12&&(ls=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][On],ss=2)),ls!=null?(Gr[ls]=Zr.length==1?Zr[0]:Zr,Zr=[]):Zr.push(cs),qt+=ss}return Gr},lt.cmap={},lt.cmap.parse=function(At,qt,Zt){At=new Uint8Array(At.buffer,qt,Zt),qt=0;var cr=lt._bin,Gr={};cr.readUshort(At,qt),qt+=2;var Zr=cr.readUshort(At,qt);qt+=2;var xn=[];Gr.tables=[];for(var On=0;On<Zr;On++){var ss=cr.readUshort(At,qt);qt+=2;var ls=cr.readUshort(At,qt);qt+=2;var cs=cr.readUint(At,qt);qt+=4;var wl="p"+ss+"e"+ls,ep=xn.indexOf(cs);if(ep==-1){var Al;ep=Gr.tables.length,xn.push(cs);var np=cr.readUshort(At,cs);np==0?Al=lt.cmap.parse0(At,cs):np==4?Al=lt.cmap.parse4(At,cs):np==6?Al=lt.cmap.parse6(At,cs):np==12?Al=lt.cmap.parse12(At,cs):console.debug("unknown format: "+np,ss,ls,cs),Gr.tables.push(Al)}if(Gr[wl]!=null)throw"multiple tables for one platform+encoding";Gr[wl]=ep}return Gr},lt.cmap.parse0=function(At,qt){var Zt=lt._bin,cr={};cr.format=Zt.readUshort(At,qt),qt+=2;var Gr=Zt.readUshort(At,qt);qt+=2,Zt.readUshort(At,qt),qt+=2,cr.map=[];for(var Zr=0;Zr<Gr-6;Zr++)cr.map.push(At[qt+Zr]);return cr},lt.cmap.parse4=function(At,qt){var Zt=lt._bin,cr=qt,Gr={};Gr.format=Zt.readUshort(At,qt),qt+=2;var Zr=Zt.readUshort(At,qt);qt+=2,Zt.readUshort(At,qt),qt+=2;var xn=Zt.readUshort(At,qt);qt+=2;var On=xn/2;Gr.searchRange=Zt.readUshort(At,qt),qt+=2,Gr.entrySelector=Zt.readUshort(At,qt),qt+=2,Gr.rangeShift=Zt.readUshort(At,qt),qt+=2,Gr.endCount=Zt.readUshorts(At,qt,On),qt+=2*On,qt+=2,Gr.startCount=Zt.readUshorts(At,qt,On),qt+=2*On,Gr.idDelta=[];for(var ss=0;ss<On;ss++)Gr.idDelta.push(Zt.readShort(At,qt)),qt+=2;for(Gr.idRangeOffset=Zt.readUshorts(At,qt,On),qt+=2*On,Gr.glyphIdArray=[];qt<cr+Zr;)Gr.glyphIdArray.push(Zt.readUshort(At,qt)),qt+=2;return Gr},lt.cmap.parse6=function(At,qt){var Zt=lt._bin,cr={};cr.format=Zt.readUshort(At,qt),qt+=2,Zt.readUshort(At,qt),qt+=2,Zt.readUshort(At,qt),qt+=2,cr.firstCode=Zt.readUshort(At,qt),qt+=2;var Gr=Zt.readUshort(At,qt);qt+=2,cr.glyphIdArray=[];for(var Zr=0;Zr<Gr;Zr++)cr.glyphIdArray.push(Zt.readUshort(At,qt)),qt+=2;return cr},lt.cmap.parse12=function(At,qt){var Zt=lt._bin,cr={};cr.format=Zt.readUshort(At,qt),qt+=2,qt+=2,Zt.readUint(At,qt),qt+=4,Zt.readUint(At,qt),qt+=4;var Gr=Zt.readUint(At,qt);qt+=4,cr.groups=[];for(var Zr=0;Zr<Gr;Zr++){var xn=qt+12*Zr,On=Zt.readUint(At,xn+0),ss=Zt.readUint(At,xn+4),ls=Zt.readUint(At,xn+8);cr.groups.push([On,ss,ls])}return cr},lt.glyf={},lt.glyf.parse=function(At,qt,Zt,cr){for(var Gr=[],Zr=0;Zr<cr.maxp.numGlyphs;Zr++)Gr.push(null);return Gr},lt.glyf._parseGlyf=function(At,qt){var Zt=lt._bin,cr=At._data,Gr=lt._tabOffset(cr,"glyf",At._offset)+At.loca[qt];if(At.loca[qt]==At.loca[qt+1])return null;var Zr={};if(Zr.noc=Zt.readShort(cr,Gr),Gr+=2,Zr.xMin=Zt.readShort(cr,Gr),Gr+=2,Zr.yMin=Zt.readShort(cr,Gr),Gr+=2,Zr.xMax=Zt.readShort(cr,Gr),Gr+=2,Zr.yMax=Zt.readShort(cr,Gr),Gr+=2,Zr.xMin>=Zr.xMax||Zr.yMin>=Zr.yMax)return null;if(Zr.noc>0){Zr.endPts=[];for(var xn=0;xn<Zr.noc;xn++)Zr.endPts.push(Zt.readUshort(cr,Gr)),Gr+=2;var On=Zt.readUshort(cr,Gr);if(Gr+=2,cr.length-Gr<On)return null;Zr.instructions=Zt.readBytes(cr,Gr,On),Gr+=On;var ss=Zr.endPts[Zr.noc-1]+1;for(Zr.flags=[],xn=0;xn<ss;xn++){var ls=cr[Gr];if(Gr++,Zr.flags.push(ls),(8&ls)!=0){var cs=cr[Gr];Gr++;for(var wl=0;wl<cs;wl++)Zr.flags.push(ls),xn++}}for(Zr.xs=[],xn=0;xn<ss;xn++){var ep=(2&Zr.flags[xn])!=0,Al=(16&Zr.flags[xn])!=0;ep?(Zr.xs.push(Al?cr[Gr]:-cr[Gr]),Gr++):Al?Zr.xs.push(0):(Zr.xs.push(Zt.readShort(cr,Gr)),Gr+=2)}for(Zr.ys=[],xn=0;xn<ss;xn++)ep=(4&Zr.flags[xn])!=0,Al=(32&Zr.flags[xn])!=0,ep?(Zr.ys.push(Al?cr[Gr]:-cr[Gr]),Gr++):Al?Zr.ys.push(0):(Zr.ys.push(Zt.readShort(cr,Gr)),Gr+=2);var np=0,cp=0;for(xn=0;xn<ss;xn++)np+=Zr.xs[xn],cp+=Zr.ys[xn],Zr.xs[xn]=np,Zr.ys[xn]=cp}else{var Cp;Zr.parts=[];do{Cp=Zt.readUshort(cr,Gr),Gr+=2;var Lp={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(Zr.parts.push(Lp),Lp.glyphIndex=Zt.readUshort(cr,Gr),Gr+=2,1&Cp){var jp=Zt.readShort(cr,Gr);Gr+=2;var nm=Zt.readShort(cr,Gr);Gr+=2}else jp=Zt.readInt8(cr,Gr),Gr++,nm=Zt.readInt8(cr,Gr),Gr++;2&Cp?(Lp.m.tx=jp,Lp.m.ty=nm):(Lp.p1=jp,Lp.p2=nm),8&Cp?(Lp.m.a=Lp.m.d=Zt.readF2dot14(cr,Gr),Gr+=2):64&Cp?(Lp.m.a=Zt.readF2dot14(cr,Gr),Gr+=2,Lp.m.d=Zt.readF2dot14(cr,Gr),Gr+=2):128&Cp&&(Lp.m.a=Zt.readF2dot14(cr,Gr),Gr+=2,Lp.m.b=Zt.readF2dot14(cr,Gr),Gr+=2,Lp.m.c=Zt.readF2dot14(cr,Gr),Gr+=2,Lp.m.d=Zt.readF2dot14(cr,Gr),Gr+=2)}while(32&Cp);if(256&Cp){var zm=Zt.readUshort(cr,Gr);for(Gr+=2,Zr.instr=[],xn=0;xn<zm;xn++)Zr.instr.push(cr[Gr]),Gr++}}return Zr},lt.GPOS={},lt.GPOS.parse=function(At,qt,Zt,cr){return lt._lctf.parse(At,qt,Zt,cr,lt.GPOS.subt)},lt.GPOS.subt=function(At,qt,Zt,cr){var Gr=lt._bin,Zr=Zt,xn={};if(xn.fmt=Gr.readUshort(At,Zt),Zt+=2,qt==1||qt==2||qt==3||qt==7||qt==8&&xn.fmt<=2){var On=Gr.readUshort(At,Zt);Zt+=2,xn.coverage=lt._lctf.readCoverage(At,On+Zr)}if(qt==1&&xn.fmt==1){var ss=Gr.readUshort(At,Zt);Zt+=2;var ls=lt._lctf.numOfOnes(ss);ss!=0&&(xn.pos=lt.GPOS.readValueRecord(At,Zt,ss))}else if(qt==2&&xn.fmt>=1&&xn.fmt<=2){ss=Gr.readUshort(At,Zt),Zt+=2;var cs=Gr.readUshort(At,Zt);Zt+=2,ls=lt._lctf.numOfOnes(ss);var wl=lt._lctf.numOfOnes(cs);if(xn.fmt==1){xn.pairsets=[];var ep=Gr.readUshort(At,Zt);Zt+=2;for(var Al=0;Al<ep;Al++){var np=Zr+Gr.readUshort(At,Zt);Zt+=2;var cp=Gr.readUshort(At,np);np+=2;for(var Cp=[],Lp=0;Lp<cp;Lp++){var jp=Gr.readUshort(At,np);np+=2,ss!=0&&(Sn=lt.GPOS.readValueRecord(At,np,ss),np+=2*ls),cs!=0&&(Fo=lt.GPOS.readValueRecord(At,np,cs),np+=2*wl),Cp.push({gid2:jp,val1:Sn,val2:Fo})}xn.pairsets.push(Cp)}}if(xn.fmt==2){var nm=Gr.readUshort(At,Zt);Zt+=2;var zm=Gr.readUshort(At,Zt);Zt+=2;var i1=Gr.readUshort(At,Zt);Zt+=2;var d3=Gr.readUshort(At,Zt);for(Zt+=2,xn.classDef1=lt._lctf.readClassDef(At,Zr+nm),xn.classDef2=lt._lctf.readClassDef(At,Zr+zm),xn.matrix=[],Al=0;Al<i1;Al++){var op=[];for(Lp=0;Lp<d3;Lp++){var Sn=null,Fo=null;ss!=0&&(Sn=lt.GPOS.readValueRecord(At,Zt,ss),Zt+=2*ls),cs!=0&&(Fo=lt.GPOS.readValueRecord(At,Zt,cs),Zt+=2*wl),op.push({val1:Sn,val2:Fo})}xn.matrix.push(op)}}}else{if(qt==9&&xn.fmt==1){var as=Gr.readUshort(At,Zt);Zt+=2;var us=Gr.readUint(At,Zt);if(Zt+=4,cr.ltype==9)cr.ltype=as;else if(cr.ltype!=as)throw"invalid extension substitution";return lt.GPOS.subt(At,cr.ltype,Zr+us)}console.debug("unsupported GPOS table LookupType",qt,"format",xn.fmt)}return xn},lt.GPOS.readValueRecord=function(At,qt,Zt){var cr=lt._bin,Gr=[];return Gr.push(1&Zt?cr.readShort(At,qt):0),qt+=1&Zt?2:0,Gr.push(2&Zt?cr.readShort(At,qt):0),qt+=2&Zt?2:0,Gr.push(4&Zt?cr.readShort(At,qt):0),qt+=4&Zt?2:0,Gr.push(8&Zt?cr.readShort(At,qt):0),qt+=8&Zt?2:0,Gr},lt.GSUB={},lt.GSUB.parse=function(At,qt,Zt,cr){return lt._lctf.parse(At,qt,Zt,cr,lt.GSUB.subt)},lt.GSUB.subt=function(At,qt,Zt,cr){var Gr=lt._bin,Zr=Zt,xn={};if(xn.fmt=Gr.readUshort(At,Zt),Zt+=2,qt!=1&&qt!=4&&qt!=5&&qt!=6)return null;if(qt==1||qt==4||qt==5&&xn.fmt<=2||qt==6&&xn.fmt<=2){var On=Gr.readUshort(At,Zt);Zt+=2,xn.coverage=lt._lctf.readCoverage(At,Zr+On)}if(qt==1&&xn.fmt>=1&&xn.fmt<=2){if(xn.fmt==1)xn.delta=Gr.readShort(At,Zt),Zt+=2;else if(xn.fmt==2){var ss=Gr.readUshort(At,Zt);Zt+=2,xn.newg=Gr.readUshorts(At,Zt,ss),Zt+=2*xn.newg.length}}else if(qt==4){xn.vals=[],ss=Gr.readUshort(At,Zt),Zt+=2;for(var ls=0;ls<ss;ls++){var cs=Gr.readUshort(At,Zt);Zt+=2,xn.vals.push(lt.GSUB.readLigatureSet(At,Zr+cs))}}else if(qt==5&&xn.fmt==2){if(xn.fmt==2){var wl=Gr.readUshort(At,Zt);Zt+=2,xn.cDef=lt._lctf.readClassDef(At,Zr+wl),xn.scset=[];var ep=Gr.readUshort(At,Zt);for(Zt+=2,ls=0;ls<ep;ls++){var Al=Gr.readUshort(At,Zt);Zt+=2,xn.scset.push(Al==0?null:lt.GSUB.readSubClassSet(At,Zr+Al))}}}else if(qt==6&&xn.fmt==3){if(xn.fmt==3){for(ls=0;ls<3;ls++){ss=Gr.readUshort(At,Zt),Zt+=2;for(var np=[],cp=0;cp<ss;cp++)np.push(lt._lctf.readCoverage(At,Zr+Gr.readUshort(At,Zt+2*cp)));Zt+=2*ss,ls==0&&(xn.backCvg=np),ls==1&&(xn.inptCvg=np),ls==2&&(xn.ahedCvg=np)}ss=Gr.readUshort(At,Zt),Zt+=2,xn.lookupRec=lt.GSUB.readSubstLookupRecords(At,Zt,ss)}}else{if(qt==7&&xn.fmt==1){var Cp=Gr.readUshort(At,Zt);Zt+=2;var Lp=Gr.readUint(At,Zt);if(Zt+=4,cr.ltype==9)cr.ltype=Cp;else if(cr.ltype!=Cp)throw"invalid extension substitution";return lt.GSUB.subt(At,cr.ltype,Zr+Lp)}console.debug("unsupported GSUB table LookupType",qt,"format",xn.fmt)}return xn},lt.GSUB.readSubClassSet=function(At,qt){var Zt=lt._bin.readUshort,cr=qt,Gr=[],Zr=Zt(At,qt);qt+=2;for(var xn=0;xn<Zr;xn++){var On=Zt(At,qt);qt+=2,Gr.push(lt.GSUB.readSubClassRule(At,cr+On))}return Gr},lt.GSUB.readSubClassRule=function(At,qt){var Zt=lt._bin.readUshort,cr={},Gr=Zt(At,qt),Zr=Zt(At,qt+=2);qt+=2,cr.input=[];for(var xn=0;xn<Gr-1;xn++)cr.input.push(Zt(At,qt)),qt+=2;return cr.substLookupRecords=lt.GSUB.readSubstLookupRecords(At,qt,Zr),cr},lt.GSUB.readSubstLookupRecords=function(At,qt,Zt){for(var cr=lt._bin.readUshort,Gr=[],Zr=0;Zr<Zt;Zr++)Gr.push(cr(At,qt),cr(At,qt+2)),qt+=4;return Gr},lt.GSUB.readChainSubClassSet=function(At,qt){var Zt=lt._bin,cr=qt,Gr=[],Zr=Zt.readUshort(At,qt);qt+=2;for(var xn=0;xn<Zr;xn++){var On=Zt.readUshort(At,qt);qt+=2,Gr.push(lt.GSUB.readChainSubClassRule(At,cr+On))}return Gr},lt.GSUB.readChainSubClassRule=function(At,qt){for(var Zt=lt._bin,cr={},Gr=["backtrack","input","lookahead"],Zr=0;Zr<Gr.length;Zr++){var xn=Zt.readUshort(At,qt);qt+=2,Zr==1&&xn--,cr[Gr[Zr]]=Zt.readUshorts(At,qt,xn),qt+=2*cr[Gr[Zr]].length}return xn=Zt.readUshort(At,qt),qt+=2,cr.subst=Zt.readUshorts(At,qt,2*xn),qt+=2*cr.subst.length,cr},lt.GSUB.readLigatureSet=function(At,qt){var Zt=lt._bin,cr=qt,Gr=[],Zr=Zt.readUshort(At,qt);qt+=2;for(var xn=0;xn<Zr;xn++){var On=Zt.readUshort(At,qt);qt+=2,Gr.push(lt.GSUB.readLigature(At,cr+On))}return Gr},lt.GSUB.readLigature=function(At,qt){var Zt=lt._bin,cr={chain:[]};cr.nglyph=Zt.readUshort(At,qt),qt+=2;var Gr=Zt.readUshort(At,qt);qt+=2;for(var Zr=0;Zr<Gr-1;Zr++)cr.chain.push(Zt.readUshort(At,qt)),qt+=2;return cr},lt.head={},lt.head.parse=function(At,qt,Zt){var cr=lt._bin,Gr={};return cr.readFixed(At,qt),qt+=4,Gr.fontRevision=cr.readFixed(At,qt),qt+=4,cr.readUint(At,qt),qt+=4,cr.readUint(At,qt),qt+=4,Gr.flags=cr.readUshort(At,qt),qt+=2,Gr.unitsPerEm=cr.readUshort(At,qt),qt+=2,Gr.created=cr.readUint64(At,qt),qt+=8,Gr.modified=cr.readUint64(At,qt),qt+=8,Gr.xMin=cr.readShort(At,qt),qt+=2,Gr.yMin=cr.readShort(At,qt),qt+=2,Gr.xMax=cr.readShort(At,qt),qt+=2,Gr.yMax=cr.readShort(At,qt),qt+=2,Gr.macStyle=cr.readUshort(At,qt),qt+=2,Gr.lowestRecPPEM=cr.readUshort(At,qt),qt+=2,Gr.fontDirectionHint=cr.readShort(At,qt),qt+=2,Gr.indexToLocFormat=cr.readShort(At,qt),qt+=2,Gr.glyphDataFormat=cr.readShort(At,qt),qt+=2,Gr},lt.hhea={},lt.hhea.parse=function(At,qt,Zt){var cr=lt._bin,Gr={};return cr.readFixed(At,qt),qt+=4,Gr.ascender=cr.readShort(At,qt),qt+=2,Gr.descender=cr.readShort(At,qt),qt+=2,Gr.lineGap=cr.readShort(At,qt),qt+=2,Gr.advanceWidthMax=cr.readUshort(At,qt),qt+=2,Gr.minLeftSideBearing=cr.readShort(At,qt),qt+=2,Gr.minRightSideBearing=cr.readShort(At,qt),qt+=2,Gr.xMaxExtent=cr.readShort(At,qt),qt+=2,Gr.caretSlopeRise=cr.readShort(At,qt),qt+=2,Gr.caretSlopeRun=cr.readShort(At,qt),qt+=2,Gr.caretOffset=cr.readShort(At,qt),qt+=2,qt+=8,Gr.metricDataFormat=cr.readShort(At,qt),qt+=2,Gr.numberOfHMetrics=cr.readUshort(At,qt),qt+=2,Gr},lt.hmtx={},lt.hmtx.parse=function(At,qt,Zt,cr){for(var Gr=lt._bin,Zr={aWidth:[],lsBearing:[]},xn=0,On=0,ss=0;ss<cr.maxp.numGlyphs;ss++)ss<cr.hhea.numberOfHMetrics&&(xn=Gr.readUshort(At,qt),qt+=2,On=Gr.readShort(At,qt),qt+=2),Zr.aWidth.push(xn),Zr.lsBearing.push(On);return Zr},lt.kern={},lt.kern.parse=function(At,qt,Zt,cr){var Gr=lt._bin,Zr=Gr.readUshort(At,qt);if(qt+=2,Zr==1)return lt.kern.parseV1(At,qt-2,Zt,cr);var xn=Gr.readUshort(At,qt);qt+=2;for(var On={glyph1:[],rval:[]},ss=0;ss<xn;ss++){qt+=2,Zt=Gr.readUshort(At,qt),qt+=2;var ls=Gr.readUshort(At,qt);qt+=2;var cs=ls>>>8;if((cs&=15)!=0)throw"unknown kern table format: "+cs;qt=lt.kern.readFormat0(At,qt,On)}return On},lt.kern.parseV1=function(At,qt,Zt,cr){var Gr=lt._bin;Gr.readFixed(At,qt),qt+=4;var Zr=Gr.readUint(At,qt);qt+=4;for(var xn={glyph1:[],rval:[]},On=0;On<Zr;On++){Gr.readUint(At,qt),qt+=4;var ss=Gr.readUshort(At,qt);qt+=2,Gr.readUshort(At,qt),qt+=2;var ls=ss>>>8;if((ls&=15)!=0)throw"unknown kern table format: "+ls;qt=lt.kern.readFormat0(At,qt,xn)}return xn},lt.kern.readFormat0=function(At,qt,Zt){var cr=lt._bin,Gr=-1,Zr=cr.readUshort(At,qt);qt+=2,cr.readUshort(At,qt),qt+=2,cr.readUshort(At,qt),qt+=2,cr.readUshort(At,qt),qt+=2;for(var xn=0;xn<Zr;xn++){var On=cr.readUshort(At,qt);qt+=2;var ss=cr.readUshort(At,qt);qt+=2;var ls=cr.readShort(At,qt);qt+=2,On!=Gr&&(Zt.glyph1.push(On),Zt.rval.push({glyph2:[],vals:[]}));var cs=Zt.rval[Zt.rval.length-1];cs.glyph2.push(ss),cs.vals.push(ls),Gr=On}return qt},lt.loca={},lt.loca.parse=function(At,qt,Zt,cr){var Gr=lt._bin,Zr=[],xn=cr.head.indexToLocFormat,On=cr.maxp.numGlyphs+1;if(xn==0)for(var ss=0;ss<On;ss++)Zr.push(Gr.readUshort(At,qt+(ss<<1))<<1);if(xn==1)for(ss=0;ss<On;ss++)Zr.push(Gr.readUint(At,qt+(ss<<2)));return Zr},lt.maxp={},lt.maxp.parse=function(At,qt,Zt){var cr=lt._bin,Gr={},Zr=cr.readUint(At,qt);return qt+=4,Gr.numGlyphs=cr.readUshort(At,qt),qt+=2,Zr==65536&&(Gr.maxPoints=cr.readUshort(At,qt),qt+=2,Gr.maxContours=cr.readUshort(At,qt),qt+=2,Gr.maxCompositePoints=cr.readUshort(At,qt),qt+=2,Gr.maxCompositeContours=cr.readUshort(At,qt),qt+=2,Gr.maxZones=cr.readUshort(At,qt),qt+=2,Gr.maxTwilightPoints=cr.readUshort(At,qt),qt+=2,Gr.maxStorage=cr.readUshort(At,qt),qt+=2,Gr.maxFunctionDefs=cr.readUshort(At,qt),qt+=2,Gr.maxInstructionDefs=cr.readUshort(At,qt),qt+=2,Gr.maxStackElements=cr.readUshort(At,qt),qt+=2,Gr.maxSizeOfInstructions=cr.readUshort(At,qt),qt+=2,Gr.maxComponentElements=cr.readUshort(At,qt),qt+=2,Gr.maxComponentDepth=cr.readUshort(At,qt),qt+=2),Gr},lt.name={},lt.name.parse=function(At,qt,Zt){var cr=lt._bin,Gr={};cr.readUshort(At,qt),qt+=2;var Zr=cr.readUshort(At,qt);qt+=2,cr.readUshort(At,qt);for(var xn,On=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],ss=qt+=2,ls=0;ls<Zr;ls++){var cs=cr.readUshort(At,qt);qt+=2;var wl=cr.readUshort(At,qt);qt+=2;var ep=cr.readUshort(At,qt);qt+=2;var Al=cr.readUshort(At,qt);qt+=2;var np=cr.readUshort(At,qt);qt+=2;var cp=cr.readUshort(At,qt);qt+=2;var Cp,Lp=On[Al],jp=ss+12*Zr+cp;if(cs==0)Cp=cr.readUnicode(At,jp,np/2);else if(cs==3&&wl==0)Cp=cr.readUnicode(At,jp,np/2);else if(wl==0)Cp=cr.readASCII(At,jp,np);else if(wl==1)Cp=cr.readUnicode(At,jp,np/2);else if(wl==3)Cp=cr.readUnicode(At,jp,np/2);else{if(cs!=1)throw"unknown encoding "+wl+", platformID: "+cs;Cp=cr.readASCII(At,jp,np),console.debug("reading unknown MAC encoding "+wl+" as ASCII")}var nm="p"+cs+","+ep.toString(16);Gr[nm]==null&&(Gr[nm]={}),Gr[nm][Lp!==void 0?Lp:Al]=Cp,Gr[nm]._lang=ep}for(var zm in Gr)if(Gr[zm].postScriptName!=null&&Gr[zm]._lang==1033)return Gr[zm];for(var zm in Gr)if(Gr[zm].postScriptName!=null&&Gr[zm]._lang==0)return Gr[zm];for(var zm in Gr)if(Gr[zm].postScriptName!=null&&Gr[zm]._lang==3084)return Gr[zm];for(var zm in Gr)if(Gr[zm].postScriptName!=null)return Gr[zm];for(var zm in Gr){xn=zm;break}return console.debug("returning name table with languageID "+Gr[xn]._lang),Gr[xn]},lt["OS/2"]={},lt["OS/2"].parse=function(At,qt,Zt){var cr=lt._bin.readUshort(At,qt);qt+=2;var Gr={};if(cr==0)lt["OS/2"].version0(At,qt,Gr);else if(cr==1)lt["OS/2"].version1(At,qt,Gr);else if(cr==2||cr==3||cr==4)lt["OS/2"].version2(At,qt,Gr);else{if(cr!=5)throw"unknown OS/2 table version: "+cr;lt["OS/2"].version5(At,qt,Gr)}return Gr},lt["OS/2"].version0=function(At,qt,Zt){var cr=lt._bin;return Zt.xAvgCharWidth=cr.readShort(At,qt),qt+=2,Zt.usWeightClass=cr.readUshort(At,qt),qt+=2,Zt.usWidthClass=cr.readUshort(At,qt),qt+=2,Zt.fsType=cr.readUshort(At,qt),qt+=2,Zt.ySubscriptXSize=cr.readShort(At,qt),qt+=2,Zt.ySubscriptYSize=cr.readShort(At,qt),qt+=2,Zt.ySubscriptXOffset=cr.readShort(At,qt),qt+=2,Zt.ySubscriptYOffset=cr.readShort(At,qt),qt+=2,Zt.ySuperscriptXSize=cr.readShort(At,qt),qt+=2,Zt.ySuperscriptYSize=cr.readShort(At,qt),qt+=2,Zt.ySuperscriptXOffset=cr.readShort(At,qt),qt+=2,Zt.ySuperscriptYOffset=cr.readShort(At,qt),qt+=2,Zt.yStrikeoutSize=cr.readShort(At,qt),qt+=2,Zt.yStrikeoutPosition=cr.readShort(At,qt),qt+=2,Zt.sFamilyClass=cr.readShort(At,qt),qt+=2,Zt.panose=cr.readBytes(At,qt,10),qt+=10,Zt.ulUnicodeRange1=cr.readUint(At,qt),qt+=4,Zt.ulUnicodeRange2=cr.readUint(At,qt),qt+=4,Zt.ulUnicodeRange3=cr.readUint(At,qt),qt+=4,Zt.ulUnicodeRange4=cr.readUint(At,qt),qt+=4,Zt.achVendID=[cr.readInt8(At,qt),cr.readInt8(At,qt+1),cr.readInt8(At,qt+2),cr.readInt8(At,qt+3)],qt+=4,Zt.fsSelection=cr.readUshort(At,qt),qt+=2,Zt.usFirstCharIndex=cr.readUshort(At,qt),qt+=2,Zt.usLastCharIndex=cr.readUshort(At,qt),qt+=2,Zt.sTypoAscender=cr.readShort(At,qt),qt+=2,Zt.sTypoDescender=cr.readShort(At,qt),qt+=2,Zt.sTypoLineGap=cr.readShort(At,qt),qt+=2,Zt.usWinAscent=cr.readUshort(At,qt),qt+=2,Zt.usWinDescent=cr.readUshort(At,qt),qt+=2},lt["OS/2"].version1=function(At,qt,Zt){var cr=lt._bin;return qt=lt["OS/2"].version0(At,qt,Zt),Zt.ulCodePageRange1=cr.readUint(At,qt),qt+=4,Zt.ulCodePageRange2=cr.readUint(At,qt),qt+=4},lt["OS/2"].version2=function(At,qt,Zt){var cr=lt._bin;return qt=lt["OS/2"].version1(At,qt,Zt),Zt.sxHeight=cr.readShort(At,qt),qt+=2,Zt.sCapHeight=cr.readShort(At,qt),qt+=2,Zt.usDefault=cr.readUshort(At,qt),qt+=2,Zt.usBreak=cr.readUshort(At,qt),qt+=2,Zt.usMaxContext=cr.readUshort(At,qt),qt+=2},lt["OS/2"].version5=function(At,qt,Zt){var cr=lt._bin;return qt=lt["OS/2"].version2(At,qt,Zt),Zt.usLowerOpticalPointSize=cr.readUshort(At,qt),qt+=2,Zt.usUpperOpticalPointSize=cr.readUshort(At,qt),qt+=2},lt.post={},lt.post.parse=function(At,qt,Zt){var cr=lt._bin,Gr={};return Gr.version=cr.readFixed(At,qt),qt+=4,Gr.italicAngle=cr.readFixed(At,qt),qt+=4,Gr.underlinePosition=cr.readShort(At,qt),qt+=2,Gr.underlineThickness=cr.readShort(At,qt),qt+=2,Gr},lt==null&&(lt={}),lt.U==null&&(lt.U={}),lt.U.codeToGlyph=function(At,qt){var Zt=At.cmap,cr=-1;if(Zt.p0e4!=null?cr=Zt.p0e4:Zt.p3e1!=null?cr=Zt.p3e1:Zt.p1e0!=null?cr=Zt.p1e0:Zt.p0e3!=null&&(cr=Zt.p0e3),cr==-1)throw"no familiar platform and encoding!";var Gr=Zt.tables[cr];if(Gr.format==0)return qt>=Gr.map.length?0:Gr.map[qt];if(Gr.format==4){for(var Zr=-1,xn=0;xn<Gr.endCount.length;xn++)if(qt<=Gr.endCount[xn]){Zr=xn;break}return Zr==-1||Gr.startCount[Zr]>qt?0:65535&(Gr.idRangeOffset[Zr]!=0?Gr.glyphIdArray[qt-Gr.startCount[Zr]+(Gr.idRangeOffset[Zr]>>1)-(Gr.idRangeOffset.length-Zr)]:qt+Gr.idDelta[Zr])}if(Gr.format==12){if(qt>Gr.groups[Gr.groups.length-1][1])return 0;for(xn=0;xn<Gr.groups.length;xn++){var On=Gr.groups[xn];if(On[0]<=qt&&qt<=On[1])return On[2]+(qt-On[0])}return 0}throw"unknown cmap table format "+Gr.format},lt.U.glyphToPath=function(At,qt){var Zt={cmds:[],crds:[]};if(At.SVG&&At.SVG.entries[qt]){var cr=At.SVG.entries[qt];return cr==null?Zt:(typeof cr=="string"&&(cr=lt.SVG.toPath(cr),At.SVG.entries[qt]=cr),cr)}if(At.CFF){var Gr={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:At.CFF.Private?At.CFF.Private.defaultWidthX:0,open:!1},Zr=At.CFF,xn=At.CFF.Private;if(Zr.ROS){for(var On=0;Zr.FDSelect[On+2]<=qt;)On+=2;xn=Zr.FDArray[Zr.FDSelect[On+1]].Private}lt.U._drawCFF(At.CFF.CharStrings[qt],Gr,Zr,xn,Zt)}else At.glyf&&lt.U._drawGlyf(qt,At,Zt);return Zt},lt.U._drawGlyf=function(At,qt,Zt){var cr=qt.glyf[At];cr==null&&(cr=qt.glyf[At]=lt.glyf._parseGlyf(qt,At)),cr!=null&&(cr.noc>-1?lt.U._simpleGlyph(cr,Zt):lt.U._compoGlyph(cr,qt,Zt))},lt.U._simpleGlyph=function(At,qt){for(var Zt=0;Zt<At.noc;Zt++){for(var cr=Zt==0?0:At.endPts[Zt-1]+1,Gr=At.endPts[Zt],Zr=cr;Zr<=Gr;Zr++){var xn=Zr==cr?Gr:Zr-1,On=Zr==Gr?cr:Zr+1,ss=1&At.flags[Zr],ls=1&At.flags[xn],cs=1&At.flags[On],wl=At.xs[Zr],ep=At.ys[Zr];if(Zr==cr)if(ss){if(!ls){lt.U.P.moveTo(qt,wl,ep);continue}lt.U.P.moveTo(qt,At.xs[xn],At.ys[xn])}else ls?lt.U.P.moveTo(qt,At.xs[xn],At.ys[xn]):lt.U.P.moveTo(qt,(At.xs[xn]+wl)/2,(At.ys[xn]+ep)/2);ss?ls&&lt.U.P.lineTo(qt,wl,ep):cs?lt.U.P.qcurveTo(qt,wl,ep,At.xs[On],At.ys[On]):lt.U.P.qcurveTo(qt,wl,ep,(wl+At.xs[On])/2,(ep+At.ys[On])/2)}lt.U.P.closePath(qt)}},lt.U._compoGlyph=function(At,qt,Zt){for(var cr=0;cr<At.parts.length;cr++){var Gr={cmds:[],crds:[]},Zr=At.parts[cr];lt.U._drawGlyf(Zr.glyphIndex,qt,Gr);for(var xn=Zr.m,On=0;On<Gr.crds.length;On+=2){var ss=Gr.crds[On],ls=Gr.crds[On+1];Zt.crds.push(ss*xn.a+ls*xn.b+xn.tx),Zt.crds.push(ss*xn.c+ls*xn.d+xn.ty)}for(On=0;On<Gr.cmds.length;On++)Zt.cmds.push(Gr.cmds[On])}},lt.U._getGlyphClass=function(At,qt){var Zt=lt._lctf.getInterval(qt,At);return Zt==-1?0:qt[Zt+2]},lt.U.getPairAdjustment=function(At,qt,Zt){var cr=!1;if(At.GPOS)for(var Gr=At.GPOS,Zr=Gr.lookupList,xn=Gr.featureList,On=[],ss=0;ss<xn.length;ss++){var ls=xn[ss];if(ls.tag=="kern"){cr=!0;for(var cs=0;cs<ls.tab.length;cs++)if(!On[ls.tab[cs]]){On[ls.tab[cs]]=!0;for(var wl=Zr[ls.tab[cs]],ep=0;ep<wl.tabs.length;ep++)if(wl.tabs[ep]!=null){var Al,np=wl.tabs[ep];if((!np.coverage||(Al=lt._lctf.coverageIndex(np.coverage,qt))!=-1)&&wl.ltype!=1){if(wl.ltype==2){var cp=null;if(np.fmt==1){var Cp=np.pairsets[Al];for(ss=0;ss<Cp.length;ss++)Cp[ss].gid2==Zt&&(cp=Cp[ss])}else if(np.fmt==2){var Lp=lt.U._getGlyphClass(qt,np.classDef1),jp=lt.U._getGlyphClass(Zt,np.classDef2);cp=np.matrix[Lp][jp]}if(cp){var nm=0;return cp.val1&&cp.val1[2]&&(nm+=cp.val1[2]),cp.val2&&cp.val2[0]&&(nm+=cp.val2[0]),nm}}}}}}}if(At.kern&&!cr){var zm=At.kern.glyph1.indexOf(qt);if(zm!=-1){var i1=At.kern.rval[zm].glyph2.indexOf(Zt);if(i1!=-1)return At.kern.rval[zm].vals[i1]}}return 0},lt.U._applySubs=function(At,qt,Zt,cr){for(var Gr=At.length-qt-1,Zr=0;Zr<Zt.tabs.length;Zr++)if(Zt.tabs[Zr]!=null){var xn,On=Zt.tabs[Zr];if(!On.coverage||(xn=lt._lctf.coverageIndex(On.coverage,At[qt]))!=-1){if(Zt.ltype==1)At[qt],On.fmt==1?At[qt]=At[qt]+On.delta:At[qt]=On.newg[xn];else if(Zt.ltype==4)for(var ss=On.vals[xn],ls=0;ls<ss.length;ls++){var cs=ss[ls],wl=cs.chain.length;if(!(wl>Gr)){for(var ep=!0,Al=0,np=0;np<wl;np++){for(;At[qt+Al+(1+np)]==-1;)Al++;cs.chain[np]!=At[qt+Al+(1+np)]&&(ep=!1)}if(ep){for(At[qt]=cs.nglyph,np=0;np<wl+Al;np++)At[qt+np+1]=-1;break}}}else if(Zt.ltype==5&&On.fmt==2)for(var cp=lt._lctf.getInterval(On.cDef,At[qt]),Cp=On.cDef[cp+2],Lp=On.scset[Cp],jp=0;jp<Lp.length;jp++){var nm=Lp[jp],zm=nm.input;if(!(zm.length>Gr)){for(ep=!0,np=0;np<zm.length;np++){var i1=lt._lctf.getInterval(On.cDef,At[qt+1+np]);if(cp==-1&&On.cDef[i1+2]!=zm[np]){ep=!1;break}}if(ep){var d3=nm.substLookupRecords;for(ls=0;ls<d3.length;ls+=2)d3[ls],d3[ls+1]}}}else if(Zt.ltype==6&&On.fmt==3){if(!lt.U._glsCovered(At,On.backCvg,qt-On.backCvg.length)||!lt.U._glsCovered(At,On.inptCvg,qt)||!lt.U._glsCovered(At,On.ahedCvg,qt+On.inptCvg.length))continue;var op=On.lookupRec;for(jp=0;jp<op.length;jp+=2){cp=op[jp];var Sn=cr[op[jp+1]];lt.U._applySubs(At,qt+cp,Sn,cr)}}}}},lt.U._glsCovered=function(At,qt,Zt){for(var cr=0;cr<qt.length;cr++)if(lt._lctf.coverageIndex(qt[cr],At[Zt+cr])==-1)return!1;return!0},lt.U.glyphsToPath=function(At,qt,Zt){for(var cr={cmds:[],crds:[]},Gr=0,Zr=0;Zr<qt.length;Zr++){var xn=qt[Zr];if(xn!=-1){for(var On=Zr<qt.length-1&&qt[Zr+1]!=-1?qt[Zr+1]:0,ss=lt.U.glyphToPath(At,xn),ls=0;ls<ss.crds.length;ls+=2)cr.crds.push(ss.crds[ls]+Gr),cr.crds.push(ss.crds[ls+1]);for(Zt&&cr.cmds.push(Zt),ls=0;ls<ss.cmds.length;ls++)cr.cmds.push(ss.cmds[ls]);Zt&&cr.cmds.push("X"),Gr+=At.hmtx.aWidth[xn],Zr<qt.length-1&&(Gr+=lt.U.getPairAdjustment(At,xn,On))}}return cr},lt.U.P={},lt.U.P.moveTo=function(At,qt,Zt){At.cmds.push("M"),At.crds.push(qt,Zt)},lt.U.P.lineTo=function(At,qt,Zt){At.cmds.push("L"),At.crds.push(qt,Zt)},lt.U.P.curveTo=function(At,qt,Zt,cr,Gr,Zr,xn){At.cmds.push("C"),At.crds.push(qt,Zt,cr,Gr,Zr,xn)},lt.U.P.qcurveTo=function(At,qt,Zt,cr,Gr){At.cmds.push("Q"),At.crds.push(qt,Zt,cr,Gr)},lt.U.P.closePath=function(At){At.cmds.push("Z")},lt.U._drawCFF=function(At,qt,Zt,cr,Gr){for(var Zr=qt.stack,xn=qt.nStems,On=qt.haveWidth,ss=qt.width,ls=qt.open,cs=0,wl=qt.x,ep=qt.y,Al=0,np=0,cp=0,Cp=0,Lp=0,jp=0,nm=0,zm=0,i1=0,d3=0,op={val:0,size:0};cs<At.length;){lt.CFF.getCharString(At,cs,op);var Sn=op.val;if(cs+=op.size,Sn=="o1"||Sn=="o18")Zr.length%2!=0&&!On&&(ss=Zr.shift()+cr.nominalWidthX),xn+=Zr.length>>1,Zr.length=0,On=!0;else if(Sn=="o3"||Sn=="o23")Zr.length%2!=0&&!On&&(ss=Zr.shift()+cr.nominalWidthX),xn+=Zr.length>>1,Zr.length=0,On=!0;else if(Sn=="o4")Zr.length>1&&!On&&(ss=Zr.shift()+cr.nominalWidthX,On=!0),ls&&lt.U.P.closePath(Gr),ep+=Zr.pop(),lt.U.P.moveTo(Gr,wl,ep),ls=!0;else if(Sn=="o5")for(;Zr.length>0;)wl+=Zr.shift(),ep+=Zr.shift(),lt.U.P.lineTo(Gr,wl,ep);else if(Sn=="o6"||Sn=="o7")for(var Fo=Zr.length,as=Sn=="o6",us=0;us<Fo;us++){var xl=Zr.shift();as?wl+=xl:ep+=xl,as=!as,lt.U.P.lineTo(Gr,wl,ep)}else if(Sn=="o8"||Sn=="o24"){Fo=Zr.length;for(var ip=0;ip+6<=Fo;)Al=wl+Zr.shift(),np=ep+Zr.shift(),cp=Al+Zr.shift(),Cp=np+Zr.shift(),wl=cp+Zr.shift(),ep=Cp+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,wl,ep),ip+=6;Sn=="o24"&&(wl+=Zr.shift(),ep+=Zr.shift(),lt.U.P.lineTo(Gr,wl,ep))}else{if(Sn=="o11")break;if(Sn=="o1234"||Sn=="o1235"||Sn=="o1236"||Sn=="o1237")Sn=="o1234"&&(np=ep,cp=(Al=wl+Zr.shift())+Zr.shift(),d3=Cp=np+Zr.shift(),jp=Cp,zm=ep,wl=(nm=(Lp=(i1=cp+Zr.shift())+Zr.shift())+Zr.shift())+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,i1,d3),lt.U.P.curveTo(Gr,Lp,jp,nm,zm,wl,ep)),Sn=="o1235"&&(Al=wl+Zr.shift(),np=ep+Zr.shift(),cp=Al+Zr.shift(),Cp=np+Zr.shift(),i1=cp+Zr.shift(),d3=Cp+Zr.shift(),Lp=i1+Zr.shift(),jp=d3+Zr.shift(),nm=Lp+Zr.shift(),zm=jp+Zr.shift(),wl=nm+Zr.shift(),ep=zm+Zr.shift(),Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,i1,d3),lt.U.P.curveTo(Gr,Lp,jp,nm,zm,wl,ep)),Sn=="o1236"&&(Al=wl+Zr.shift(),np=ep+Zr.shift(),cp=Al+Zr.shift(),d3=Cp=np+Zr.shift(),jp=Cp,nm=(Lp=(i1=cp+Zr.shift())+Zr.shift())+Zr.shift(),zm=jp+Zr.shift(),wl=nm+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,i1,d3),lt.U.P.curveTo(Gr,Lp,jp,nm,zm,wl,ep)),Sn=="o1237"&&(Al=wl+Zr.shift(),np=ep+Zr.shift(),cp=Al+Zr.shift(),Cp=np+Zr.shift(),i1=cp+Zr.shift(),d3=Cp+Zr.shift(),Lp=i1+Zr.shift(),jp=d3+Zr.shift(),nm=Lp+Zr.shift(),zm=jp+Zr.shift(),Math.abs(nm-wl)>Math.abs(zm-ep)?wl=nm+Zr.shift():ep=zm+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,i1,d3),lt.U.P.curveTo(Gr,Lp,jp,nm,zm,wl,ep));else if(Sn=="o14"){if(Zr.length>0&&!On&&(ss=Zr.shift()+Zt.nominalWidthX,On=!0),Zr.length==4){var lp=Zr.shift(),pu=Zr.shift(),go=Zr.shift(),h0=Zr.shift(),kp=lt.CFF.glyphBySE(Zt,go),cm=lt.CFF.glyphBySE(Zt,h0);lt.U._drawCFF(Zt.CharStrings[kp],qt,Zt,cr,Gr),qt.x=lp,qt.y=pu,lt.U._drawCFF(Zt.CharStrings[cm],qt,Zt,cr,Gr)}ls&&(lt.U.P.closePath(Gr),ls=!1)}else if(Sn=="o19"||Sn=="o20")Zr.length%2!=0&&!On&&(ss=Zr.shift()+cr.nominalWidthX),xn+=Zr.length>>1,Zr.length=0,On=!0,cs+=xn+7>>3;else if(Sn=="o21")Zr.length>2&&!On&&(ss=Zr.shift()+cr.nominalWidthX,On=!0),ep+=Zr.pop(),wl+=Zr.pop(),ls&&lt.U.P.closePath(Gr),lt.U.P.moveTo(Gr,wl,ep),ls=!0;else if(Sn=="o22")Zr.length>1&&!On&&(ss=Zr.shift()+cr.nominalWidthX,On=!0),wl+=Zr.pop(),ls&&lt.U.P.closePath(Gr),lt.U.P.moveTo(Gr,wl,ep),ls=!0;else if(Sn=="o25"){for(;Zr.length>6;)wl+=Zr.shift(),ep+=Zr.shift(),lt.U.P.lineTo(Gr,wl,ep);Al=wl+Zr.shift(),np=ep+Zr.shift(),cp=Al+Zr.shift(),Cp=np+Zr.shift(),wl=cp+Zr.shift(),ep=Cp+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,wl,ep)}else if(Sn=="o26")for(Zr.length%2&&(wl+=Zr.shift());Zr.length>0;)Al=wl,np=ep+Zr.shift(),wl=cp=Al+Zr.shift(),ep=(Cp=np+Zr.shift())+Zr.shift(),lt.U.P.curveTo(Gr,Al,np,cp,Cp,wl,ep);else if(Sn=="o27")for(Zr.length%2&&(ep+=Zr.shift());Zr.length>0;)np=ep,cp=(Al=wl+Zr.shift())+Zr.shift(),Cp=np+Zr.shift(),wl=cp+Zr.shift(),ep=Cp,lt.U.P.curveTo(Gr,Al,np,cp,Cp,wl,ep);else if(Sn=="o10"||Sn=="o29"){var b3=Sn=="o10"?cr:Zt;if(Zr.length==0)console.debug("error: empty stack");else{var L_=Zr.pop(),Ym=b3.Subrs[L_+b3.Bias];qt.x=wl,qt.y=ep,qt.nStems=xn,qt.haveWidth=On,qt.width=ss,qt.open=ls,lt.U._drawCFF(Ym,qt,Zt,cr,Gr),wl=qt.x,ep=qt.y,xn=qt.nStems,On=qt.haveWidth,ss=qt.width,ls=qt.open}}else if(Sn=="o30"||Sn=="o31"){var Xm=Zr.length,Jm=(ip=0,Sn=="o31");for(ip+=Xm-(Fo=-3&Xm);ip<Fo;)Jm?(np=ep,cp=(Al=wl+Zr.shift())+Zr.shift(),ep=(Cp=np+Zr.shift())+Zr.shift(),Fo-ip==5?(wl=cp+Zr.shift(),ip++):wl=cp,Jm=!1):(Al=wl,np=ep+Zr.shift(),cp=Al+Zr.shift(),Cp=np+Zr.shift(),wl=cp+Zr.shift(),Fo-ip==5?(ep=Cp+Zr.shift(),ip++):ep=Cp,Jm=!0),lt.U.P.curveTo(Gr,Al,np,cp,Cp,wl,ep),ip+=4}else{if((Sn+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Sn,At),Sn;Zr.push(Sn)}}}qt.x=wl,qt.y=ep,qt.nStems=xn,qt.haveWidth=On,qt.width=ss,qt.open=ls};var ht=lt,_t={Typr:ht};return ut.Typr=ht,ut.default=_t,Object.defineProperty(ut,"__esModule",{value:!0}),ut}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(ut){var lt=Uint8Array,ht=Uint16Array,_t=Uint32Array,At=new lt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qt=new lt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Zt=new lt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cr=function(Sn,Fo){for(var as=new ht(31),us=0;us<31;++us)as[us]=Fo+=1<<Sn[us-1];var xl=new _t(as[30]);for(us=1;us<30;++us)for(var ip=as[us];ip<as[us+1];++ip)xl[ip]=ip-as[us]<<5|us;return[as,xl]},Gr=cr(At,2),Zr=Gr[0],xn=Gr[1];Zr[28]=258,xn[258]=28;for(var On=cr(qt,0)[0],ss=new ht(32768),ls=0;ls<32768;++ls){var cs=(43690&ls)>>>1|(21845&ls)<<1;cs=(61680&(cs=(52428&cs)>>>2|(13107&cs)<<2))>>>4|(3855&cs)<<4,ss[ls]=((65280&cs)>>>8|(255&cs)<<8)>>>1}var wl=function(Sn,Fo,as){for(var us=Sn.length,xl=0,ip=new ht(Fo);xl<us;++xl)++ip[Sn[xl]-1];var lp,pu=new ht(Fo);for(xl=0;xl<Fo;++xl)pu[xl]=pu[xl-1]+ip[xl-1]<<1;if(as){lp=new ht(1<<Fo);var go=15-Fo;for(xl=0;xl<us;++xl)if(Sn[xl])for(var h0=xl<<4|Sn[xl],kp=Fo-Sn[xl],cm=pu[Sn[xl]-1]++<<kp,b3=cm|(1<<kp)-1;cm<=b3;++cm)lp[ss[cm]>>>go]=h0}else for(lp=new ht(us),xl=0;xl<us;++xl)Sn[xl]&&(lp[xl]=ss[pu[Sn[xl]-1]++]>>>15-Sn[xl]);return lp},ep=new lt(288);for(ls=0;ls<144;++ls)ep[ls]=8;for(ls=144;ls<256;++ls)ep[ls]=9;for(ls=256;ls<280;++ls)ep[ls]=7;for(ls=280;ls<288;++ls)ep[ls]=8;var Al=new lt(32);for(ls=0;ls<32;++ls)Al[ls]=5;var np=wl(ep,9,1),cp=wl(Al,5,1),Cp=function(Sn){for(var Fo=Sn[0],as=1;as<Sn.length;++as)Sn[as]>Fo&&(Fo=Sn[as]);return Fo},Lp=function(Sn,Fo,as){var us=Fo/8|0;return(Sn[us]|Sn[us+1]<<8)>>(7&Fo)&as},jp=function(Sn,Fo){var as=Fo/8|0;return(Sn[as]|Sn[as+1]<<8|Sn[as+2]<<16)>>(7&Fo)},nm=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zm=function(Sn,Fo,as){var us=new Error(Fo||nm[Sn]);if(us.code=Sn,Error.captureStackTrace&&Error.captureStackTrace(us,zm),!as)throw us;return us},i1=function(Sn,Fo,as){var us=Sn.length;if(!us||as&&!as.l&&us<5)return Fo||new lt(0);var xl=!Fo||as,ip=!as||as.i;as||(as={}),Fo||(Fo=new lt(3*us));var lp,pu=function(R5){var r4=Fo.length;if(R5>r4){var a4=new lt(Math.max(2*r4,R5));a4.set(Fo),Fo=a4}},go=as.f||0,h0=as.p||0,kp=as.b||0,cm=as.l,b3=as.d,L_=as.m,Ym=as.n,Xm=8*us;do{if(!cm){as.f=go=Lp(Sn,h0,1);var Jm=Lp(Sn,h0+1,3);if(h0+=3,!Jm){var $_=Sn[(Mw=((lp=h0)/8|0)+(7&lp&&1)+4)-4]|Sn[Mw-3]<<8,j_=Mw+$_;if(j_>us){ip&&zm(0);break}xl&&pu(kp+$_),Fo.set(Sn.subarray(Mw,j_),kp),as.b=kp+=$_,as.p=h0=8*j_;continue}if(Jm==1)cm=np,b3=cp,L_=9,Ym=5;else if(Jm==2){var h3=Lp(Sn,h0,31)+257,Fp=Lp(Sn,h0+10,15)+4,W_=h3+Lp(Sn,h0+5,31)+1;h0+=14;for(var t4=new lt(W_),Nw=new lt(19),Dp=0;Dp<Fp;++Dp)Nw[Zt[Dp]]=Lp(Sn,h0+3*Dp,7);h0+=3*Fp;var a1=Cp(Nw),zp=(1<<a1)-1,v3=wl(Nw,a1,1);for(Dp=0;Dp<W_;){var Mw,nw=v3[Lp(Sn,h0,zp)];if(h0+=15&nw,(Mw=nw>>>4)<16)t4[Dp++]=Mw;else{var n4=0,Ww=0;for(Mw==16?(Ww=3+Lp(Sn,h0,3),h0+=2,n4=t4[Dp-1]):Mw==17?(Ww=3+Lp(Sn,h0,7),h0+=3):Mw==18&&(Ww=11+Lp(Sn,h0,127),h0+=7);Ww--;)t4[Dp++]=n4}}var F_=t4.subarray(0,h3),qx=t4.subarray(h3);L_=Cp(F_),Ym=Cp(qx),cm=wl(F_,L_,1),b3=wl(qx,Ym,1)}else zm(1);if(h0>Xm){ip&&zm(0);break}}xl&&pu(kp+131072);for(var nM=(1<<L_)-1,Hm=(1<<Ym)-1,y3=h0;;y3=h0){var Q_=(n4=cm[jp(Sn,h0)&nM])>>>4;if((h0+=15&n4)>Xm){ip&&zm(0);break}if(n4||zm(2),Q_<256)Fo[kp++]=Q_;else{if(Q_==256){y3=h0,cm=null;break}var Uw=Q_-254;if(Q_>264){var s4=At[Dp=Q_-257];Uw=Lp(Sn,h0,(1<<s4)-1)+Zr[Dp],h0+=s4}var rM=b3[jp(Sn,h0)&Hm],c4=rM>>>4;if(rM||zm(3),h0+=15&rM,qx=On[c4],c4>3&&(s4=qt[c4],qx+=jp(Sn,h0)&(1<<s4)-1,h0+=s4),h0>Xm){ip&&zm(0);break}xl&&pu(kp+131072);for(var tM=kp+Uw;kp<tM;kp+=4)Fo[kp]=Fo[kp-qx],Fo[kp+1]=Fo[kp+1-qx],Fo[kp+2]=Fo[kp+2-qx],Fo[kp+3]=Fo[kp+3-qx];kp=tM}}as.l=cm,as.p=y3,as.b=kp,cm&&(go=1,as.m=L_,as.d=b3,as.n=Ym)}while(!go);return kp==Fo.length?Fo:function(R5,r4,a4){(r4==null||r4<0)&&(r4=0),(a4==null||a4>R5.length)&&(a4=R5.length);var cM=new(R5 instanceof ht?ht:R5 instanceof _t?_t:lt)(a4-r4);return cM.set(R5.subarray(r4,a4)),cM}(Fo,0,kp)},d3=new lt(0),op=typeof TextDecoder<"u"&&new TextDecoder;try{op.decode(d3,{stream:!0})}catch{}return ut.convert_streams=function(Sn){var Fo=new DataView(Sn),as=0;function us(){var h3=Fo.getUint16(as);return as+=2,h3}function xl(){var h3=Fo.getUint32(as);return as+=4,h3}function ip(h3){$_.setUint16(j_,h3),j_+=2}function lp(h3){$_.setUint32(j_,h3),j_+=4}for(var pu={signature:xl(),flavor:xl(),length:xl(),numTables:us(),reserved:us(),totalSfntSize:xl(),majorVersion:us(),minorVersion:us(),metaOffset:xl(),metaLength:xl(),metaOrigLength:xl(),privOffset:xl(),privLength:xl()},go=0;Math.pow(2,go)<=pu.numTables;)go++;go--;for(var h0=16*Math.pow(2,go),kp=16*pu.numTables-h0,cm=12,b3=[],L_=0;L_<pu.numTables;L_++)b3.push({tag:xl(),offset:xl(),compLength:xl(),origLength:xl(),origChecksum:xl()}),cm+=16;var Ym,Xm=new Uint8Array(12+16*b3.length+b3.reduce(function(h3,Fp){return h3+Fp.origLength+4},0)),Jm=Xm.buffer,$_=new DataView(Jm),j_=0;return lp(pu.flavor),ip(pu.numTables),ip(h0),ip(go),ip(kp),b3.forEach(function(h3){lp(h3.tag),lp(h3.origChecksum),lp(cm),lp(h3.origLength),h3.outOffset=cm,(cm+=h3.origLength)%4!=0&&(cm+=4-cm%4)}),b3.forEach(function(h3){var Fp,W_=Sn.slice(h3.offset,h3.offset+h3.compLength);if(h3.compLength!=h3.origLength){var t4=new Uint8Array(h3.origLength);Fp=new Uint8Array(W_,2),i1(Fp,t4)}else t4=new Uint8Array(W_);Xm.set(t4,h3.outOffset);var Nw=0;(cm=h3.outOffset+h3.origLength)%4!=0&&(Nw=4-cm%4),Xm.set(new Uint8Array(Nw).buffer,h3.outOffset+h3.origLength),Ym=cm+Nw}),Jm.slice(0,Ym)},Object.defineProperty(ut,"__esModule",{value:!0}),ut}({}).convert_streams}function parserFactory(ut,lt){const ht={M:2,L:2,Q:4,C:6,Z:0},_t={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},At=1,qt=2,Zt=4,cr=8,Gr=16,Zr=32;let xn;function On(Lp){if(!xn){const jp={R:qt,L:At,D:Zt,C:Gr,U:Zr,T:cr};xn=new Map;for(let nm in _t){let zm=0;_t[nm].split(",").forEach(i1=>{let[d3,op]=i1.split("+");d3=parseInt(d3,36),op=op?parseInt(op,36):0,xn.set(zm+=d3,jp[nm]);for(let Sn=op;Sn--;)xn.set(++zm,jp[nm])})}}return xn.get(Lp)||Zr}const ss=1,ls=2,cs=3,wl=4,ep=[null,"isol","init","fina","medi"];function Al(Lp){const jp=new Uint8Array(Lp.length);let nm=Zr,zm=ss,i1=-1;for(let d3=0;d3<Lp.length;d3++){const op=Lp.codePointAt(d3);let Sn=On(op)|0,Fo=ss;Sn&cr||(nm&(At|Zt|Gr)?Sn&(qt|Zt|Gr)?(Fo=cs,(zm===ss||zm===cs)&&jp[i1]++):Sn&(At|Zr)&&(zm===ls||zm===wl)&&jp[i1]--:nm&(qt|Zr)&&(zm===ls||zm===wl)&&jp[i1]--,zm=jp[d3]=Fo,nm=Sn,i1=d3,op>65535&&d3++)}return jp}function np(Lp,jp){const nm=[];for(let i1=0;i1<jp.length;i1++){const d3=jp.codePointAt(i1);d3>65535&&i1++,nm.push(ut.U.codeToGlyph(Lp,d3))}const zm=Lp.GSUB;if(zm){const{lookupList:i1,featureList:d3}=zm;let op;const Sn=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,Fo=[];d3.forEach(as=>{if(Sn.test(as.tag))for(let us=0;us<as.tab.length;us++){if(Fo[as.tab[us]])continue;Fo[as.tab[us]]=!0;const xl=i1[as.tab[us]],ip=/^(isol|init|fina|medi)$/.test(as.tag);ip&&!op&&(op=Al(jp));for(let lp=0;lp<nm.length;lp++)(!op||!ip||ep[op[lp]]===as.tag)&&ut.U._applySubs(nm,lp,xl,i1)}})}return nm}function cp(...Lp){for(let jp=0;jp<Lp.length;jp++)if(typeof Lp[jp]=="number")return Lp[jp]}function Cp(Lp){const jp=Object.create(null),nm=Lp["OS/2"],zm=Lp.hhea,i1=Lp.head.unitsPerEm,d3=cp(nm&&nm.sTypoAscender,zm&&zm.ascender,i1),op={unitsPerEm:i1,ascender:d3,descender:cp(nm&&nm.sTypoDescender,zm&&zm.descender,0),capHeight:cp(nm&&nm.sCapHeight,d3),xHeight:cp(nm&&nm.sxHeight,d3),lineGap:cp(nm&&nm.sTypoLineGap,zm&&zm.lineGap),forEachGlyph(Sn,Fo,as,us){let xl=0;const ip=1/op.unitsPerEm*Fo,lp=np(Lp,Sn);let pu=0,go=-1;return lp.forEach((h0,kp)=>{if(h0!==-1){let cm=jp[h0];if(!cm){const{cmds:b3,crds:L_}=ut.U.glyphToPath(Lp,h0);let Ym="",Xm=0;for(let Fp=0,W_=b3.length;Fp<W_;Fp++){const t4=ht[b3[Fp]];Ym+=b3[Fp];for(let Nw=1;Nw<=t4;Nw++)Ym+=(Nw>1?",":"")+L_[Xm++]}let Jm,$_,j_,h3;if(L_.length){Jm=$_=1/0,j_=h3=-1/0;for(let Fp=0,W_=L_.length;Fp<W_;Fp+=2){let t4=L_[Fp],Nw=L_[Fp+1];t4<Jm&&(Jm=t4),Nw<$_&&($_=Nw),t4>j_&&(j_=t4),Nw>h3&&(h3=Nw)}}else Jm=j_=$_=h3=0;cm=jp[h0]={index:h0,advanceWidth:Lp.hmtx.aWidth[h0],xMin:Jm,yMin:$_,xMax:j_,yMax:h3,path:Ym,pathCommandCount:b3.length}}go!==-1&&(xl+=ut.U.getPairAdjustment(Lp,go,h0)*ip),us.call(null,cm,xl,pu),cm.advanceWidth&&(xl+=cm.advanceWidth*ip),as&&(xl+=as*Fo),go=h0}pu+=Sn.codePointAt(pu)>65535?2:1}),xl}};return op}return function(jp){const nm=new Uint8Array(jp,0,4),zm=ut._bin.readASCII(nm,0,4);if(zm==="wOFF")jp=lt(jp);else if(zm==="wOF2")throw new Error("woff2 fonts not supported");return Cp(ut.parse(jp)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(ut,lt,ht){const _t=ut(),At=lt();return ht(_t,At)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(ut,lt){ut=assign({},ut);const ht=now$1();if(ut.font=toAbsoluteURL(ut.font||CONFIG.defaultFontURL),ut.text=""+ut.text,ut.sdfGlyphSize=ut.sdfGlyphSize||CONFIG.sdfGlyphSize,ut.colorRanges!=null){let On={};for(let ss in ut.colorRanges)if(ut.colorRanges.hasOwnProperty(ss)){let ls=ut.colorRanges[ss];typeof ls!="number"&&(ls=tempColor.set(ls).getHex()),On[ss]=ls}ut.colorRanges=On}Object.freeze(ut);const{textureWidth:_t,sdfExponent:At}=CONFIG,{sdfGlyphSize:qt}=ut,Zt=_t/qt*4;let cr=atlases[qt];if(!cr){const On=document.createElement("canvas");On.width=_t,On.height=qt*256/Zt,cr=atlases[qt]={glyphCount:0,sdfGlyphSize:qt,sdfCanvas:On,sdfTexture:new Texture(On,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},cr.sdfTexture.generateMipmaps=!1,initContextLossHandling(cr)}const{sdfTexture:Gr,sdfCanvas:Zr}=cr;let xn=cr.glyphsByFont.get(ut.font);xn||cr.glyphsByFont.set(ut.font,xn=new Map),typesetInWorker(ut).then(On=>{const{glyphIds:ss,glyphPositions:ls,fontSize:cs,unitsPerEm:wl,timings:ep}=On,Al=[],np=new Float32Array(ss.length*4),cp=cs/wl;let Cp=0,Lp=0;const jp=now$1();ss.forEach((op,Sn)=>{let Fo=xn.get(op);if(!Fo){const{path:ip,pathBounds:lp}=On.glyphData[op],pu=Math.max(lp[2]-lp[0],lp[3]-lp[1])/qt*(CONFIG.sdfMargin*qt+.5),go=cr.glyphCount++,h0=[lp[0]-pu,lp[1]-pu,lp[2]+pu,lp[3]+pu];xn.set(op,Fo={path:ip,atlasIndex:go,sdfViewBox:h0}),Al.push(Fo)}const{sdfViewBox:as}=Fo,us=ls[Lp++],xl=ls[Lp++];np[Cp++]=us+as[0]*cp,np[Cp++]=xl+as[1]*cp,np[Cp++]=us+as[2]*cp,np[Cp++]=xl+as[3]*cp,ss[Sn]=Fo.atlasIndex}),ep.quads=(ep.quads||0)+(now$1()-jp);const nm=now$1();ep.sdf={};const zm=Zr.height,i1=Math.ceil(cr.glyphCount/Zt),d3=Math.pow(2,Math.ceil(Math.log2(i1*qt)));d3>zm&&(console.info(`Increasing SDF texture size ${zm}->${d3}`),resizeWebGLCanvasWithoutClearing(Zr,_t,d3),Gr.dispose()),Promise.all(Al.map(op=>generateGlyphSDF(op,cr,ut.gpuAccelerateSDF).then(({timing:Sn})=>{ep.sdf[op.atlasIndex]=Sn}))).then(()=>{Al.length&&!cr.contextLost&&(safariPre15Workaround(cr),Gr.needsUpdate=!0),ep.sdfTotal=now$1()-nm,ep.total=now$1()-ht,lt(Object.freeze({parameters:ut,sdfTexture:Gr,sdfGlyphSize:qt,sdfExponent:At,glyphBounds:np,glyphAtlasIndices:ss,glyphColors:On.glyphColors,caretPositions:On.caretPositions,caretHeight:On.caretHeight,chunkedBounds:On.chunkedBounds,ascender:On.ascender,descender:On.descender,lineHeight:On.lineHeight,capHeight:On.capHeight,xHeight:On.xHeight,topBaseline:On.topBaseline,blockBounds:On.blockBounds,visibleBounds:On.visibleBounds,timings:On.timings}))})}),Promise.resolve().then(()=>{cr.contextLost||warmUpSDFCanvas(Zr)})}function generateGlyphSDF({path:ut,atlasIndex:lt,sdfViewBox:ht},{sdfGlyphSize:_t,sdfCanvas:At,contextLost:qt},Zt){if(qt)return Promise.resolve({timing:-1});const{textureWidth:cr,sdfExponent:Gr}=CONFIG,Zr=Math.max(ht[2]-ht[0],ht[3]-ht[1]),xn=Math.floor(lt/4),On=xn%(cr/_t)*_t,ss=Math.floor(xn/(cr/_t))*_t,ls=lt%4;return generateSDF(_t,_t,ut,ht,Zr,Gr,At,On,ss,ls,Zt)}function initContextLossHandling(ut){const lt=ut.sdfCanvas;lt.addEventListener("webglcontextlost",ht=>{console.log("Context Lost",ht),ht.preventDefault(),ut.contextLost=!0}),lt.addEventListener("webglcontextrestored",ht=>{console.log("Context Restored",ht),ut.contextLost=!1;const _t=[];ut.glyphsByFont.forEach(At=>{At.forEach(qt=>{_t.push(generateGlyphSDF(qt,ut,!0))})}),Promise.all(_t).then(()=>{safariPre15Workaround(ut),ut.sdfTexture.needsUpdate=!0})})}function preloadFont({font:ut,characters:lt,sdfGlyphSize:ht},_t){let At=Array.isArray(lt)?lt.join(`
`):""+lt;getTextRenderInfo({font:ut,sdfGlyphSize:ht,text:At},_t)}function assign(ut,lt){for(let ht in lt)lt.hasOwnProperty(ht)&&(ut[ht]=lt[ht]);return ut}let linkEl;function toAbsoluteURL(ut){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=ut,linkEl.href}function safariPre15Workaround(ut){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:lt,sdfTexture:ht}=ut,{width:_t,height:At}=lt,qt=ut.sdfCanvas.getContext("webgl");let Zt=ht.image.data;(!Zt||Zt.length!==_t*At*4)&&(Zt=new Uint8Array(_t*At*4),ht.image={width:_t,height:At,data:Zt},ht.flipY=!1,ht.isDataTexture=!0),qt.readPixels(0,0,_t,At,qt.RGBA,qt.UNSIGNED_BYTE,Zt)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(ut,lt,ht,_t){const{defaultFontURL:At}=ut;return ht(lt,_t(),{defaultFontURL:At})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(ut){return function(lt){return new Promise(ht=>{ut.typeset(lt,ht)})}},getTransferables(ut){const lt=[ut.glyphPositions.buffer,ut.glyphIds.buffer];return ut.caretPositions&&lt.push(ut.caretPositions.buffer),ut.glyphColors&&lt.push(ut.glyphColors.buffer),lt}}),templateGeometries={};function getTemplateGeometry(ut){let lt=templateGeometries[ut];if(!lt){const ht=new PlaneGeometry(1,1,ut,ut),_t=ht.clone(),At=ht.attributes,qt=_t.attributes,Zt=new BufferGeometry,cr=At.uv.count;for(let Gr=0;Gr<cr;Gr++)qt.position.array[Gr*3]*=-1,qt.normal.array[Gr*3+2]*=-1;["position","normal","uv"].forEach(Gr=>{Zt.setAttribute(Gr,new Float32BufferAttribute([...At[Gr].array,...qt[Gr].array],At[Gr].itemSize))}),Zt.setIndex([...ht.index.array,..._t.index.array.map(Gr=>Gr+cr)]),Zt.translate(.5,.5,0),lt=templateGeometries[ut]=Zt}return lt}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(lt){const ht=this.getIndex().count;this.setDrawRange(lt===BackSide?ht/2:0,lt===DoubleSide?ht:ht/2)}set detail(lt){if(lt!==this._detail){this._detail=lt,(typeof lt!="number"||lt<1)&&(lt=1);let ht=getTemplateGeometry(lt);["position","normal","uv"].forEach(_t=>{this.attributes[_t]=ht.attributes[_t].clone()}),this.setIndex(ht.getIndex().clone())}}get detail(){return this._detail}set curveRadius(lt){lt!==this._curveRadius&&(this._curveRadius=lt,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(lt,ht,_t,At,qt){updateBufferAttr(this,glyphBoundsAttrName,lt,4),updateBufferAttr(this,glyphIndexAttrName,ht,1),updateBufferAttr(this,glyphColorAttrName,qt,3),this._blockBounds=_t,this._chunkedBounds=At,this.instanceCount=ht.length,this._updateBounds()}_updateBounds(){const lt=this._blockBounds;if(lt){const{curveRadius:ht,boundingBox:_t}=this;if(ht){const{PI:At,floor:qt,min:Zt,max:cr,sin:Gr,cos:Zr}=Math,xn=At/2,On=At*2,ss=Math.abs(ht),ls=lt[0]/ss,cs=lt[2]/ss,wl=qt((ls+xn)/On)!==qt((cs+xn)/On)?-ss:Zt(Gr(ls)*ss,Gr(cs)*ss),ep=qt((ls-xn)/On)!==qt((cs-xn)/On)?ss:cr(Gr(ls)*ss,Gr(cs)*ss),Al=qt((ls+At)/On)!==qt((cs+At)/On)?ss*2:cr(ss-Zr(ls)*ss,ss-Zr(cs)*ss);_t.min.set(wl,lt[1],ht<0?-Al:0),_t.max.set(ep,lt[3],ht<0?0:Al)}else _t.min.set(lt[0],lt[1],0),_t.max.set(lt[2],lt[3],0);_t.getBoundingSphere(this.boundingSphere)}}applyClipRect(lt){let ht=this.getAttribute(glyphIndexAttrName).count,_t=this._chunkedBounds;if(_t)for(let At=_t.length;At--;){ht=_t[At].end;let qt=_t[At].rect;if(qt[1]<lt.w&&qt[3]>lt.y&&qt[0]<lt.z&&qt[2]>lt.x)break}this.instanceCount=ht}}function updateBufferAttr(ut,lt,ht,_t){const At=ut.getAttribute(lt);ht?At&&At.array.length===ht.length?(At.array.set(ht),At.needsUpdate=!0):(ut.setAttribute(lt,new InstancedBufferAttribute(ht,_t)),delete ut._maxInstanceCount,ut.dispose()):At&&ut.deleteAttribute(lt)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(ut){const lt=createDerivedMaterial(ut,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:ht,fragmentShader:_t}){let At=/\buniform\s+vec3\s+diffuse\b/;return At.test(_t)&&(_t=_t.replace(At,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),At.test(ht)||(ht=ht.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:ht,fragmentShader:_t}}});return lt.transparent=!0,Object.defineProperties(lt,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),lt}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(ut){return Array.isArray(ut)?ut[0]:ut}let getFlatRaycastMesh=()=>{const ut=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>ut,ut},getCurvedRaycastMesh=()=>{const ut=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>ut,ut};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const lt=new GlyphsGeometry;super(lt,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(lt){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(lt):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},ht=>{this._isSyncing=!1,this._textRenderInfo=ht,this.geometry.updateGlyphs(ht.glyphBounds,ht.glyphAtlasIndices,ht.blockBounds,ht.chunkedBounds,ht.glyphColors);const _t=this._queuedSyncs;_t&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{_t.forEach(At=>At&&At())})),this.dispatchEvent(syncCompleteEvent),lt&&lt()})))}onBeforeRender(lt,ht,_t,At,qt,Zt){this.sync(),qt.isTroikaTextMaterial&&this._prepareForRender(qt),qt._hadOwnSide=qt.hasOwnProperty("side"),this.geometry.setSide(qt._actualSide=qt.side),qt.side=FrontSide}onAfterRender(lt,ht,_t,At,qt,Zt){qt._hadOwnSide?qt.side=qt._actualSide:delete qt.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let lt=this._derivedMaterial;const ht=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!lt||lt.baseMaterial!==ht)&&(lt=this._derivedMaterial=createTextDerivedMaterial(ht),ht.addEventListener("dispose",function _t(){ht.removeEventListener("dispose",_t),lt.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let _t=lt._outlineMtl;return _t||(_t=lt._outlineMtl=Object.create(lt,{id:{value:lt.id+.1}}),_t.isTextOutlineMaterial=!0,_t.depthWrite=!1,_t.map=null,lt.addEventListener("dispose",function At(){lt.removeEventListener("dispose",At),_t.dispose()})),[_t,lt]}else return lt}set material(lt){lt&&lt.isTroikaTextMaterial?(this._derivedMaterial=lt,this._baseMaterial=lt.baseMaterial):this._baseMaterial=lt}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(lt){this.geometry.detail=lt}get curveRadius(){return this.geometry.curveRadius}set curveRadius(lt){this.geometry.curveRadius=lt}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(lt){const ht=lt.isTextOutlineMaterial,_t=lt.uniforms,At=this.textRenderInfo;if(At){const{sdfTexture:cr,blockBounds:Gr}=At;_t.uTroikaSDFTexture.value=cr,_t.uTroikaSDFTextureSize.value.set(cr.image.width,cr.image.height),_t.uTroikaSDFGlyphSize.value=At.sdfGlyphSize,_t.uTroikaSDFExponent.value=At.sdfExponent,_t.uTroikaTotalBounds.value.fromArray(Gr),_t.uTroikaUseGlyphColors.value=!ht&&!!At.glyphColors;let Zr=0,xn=0,On=0,ss,ls,cs,wl=0,ep=0;if(ht){let{outlineWidth:np,outlineOffsetX:cp,outlineOffsetY:Cp,outlineBlur:Lp,outlineOpacity:jp}=this;Zr=this._parsePercent(np)||0,xn=Math.max(0,this._parsePercent(Lp)||0),ss=jp,wl=this._parsePercent(cp)||0,ep=this._parsePercent(Cp)||0}else On=Math.max(0,this._parsePercent(this.strokeWidth)||0),On&&(cs=this.strokeColor,_t.uTroikaStrokeColor.value.set(cs??defaultStrokeColor),ls=this.strokeOpacity,ls==null&&(ls=1)),ss=this.fillOpacity;_t.uTroikaDistanceOffset.value=Zr,_t.uTroikaPositionOffset.value.set(wl,ep),_t.uTroikaBlurRadius.value=xn,_t.uTroikaStrokeWidth.value=On,_t.uTroikaStrokeOpacity.value=ls,_t.uTroikaFillOpacity.value=ss??1,_t.uTroikaCurveRadius.value=this.curveRadius||0;let Al=this.clipRect;if(Al&&Array.isArray(Al)&&Al.length===4)_t.uTroikaClipRect.value.fromArray(Al);else{const np=(this.fontSize||.1)*100;_t.uTroikaClipRect.value.set(Gr[0]-np,Gr[1]-np,Gr[2]+np,Gr[3]+np)}this.geometry.applyClipRect(_t.uTroikaClipRect.value)}_t.uTroikaSDFDebug.value=!!this.debugSDF,lt.polygonOffset=!!this.depthOffset,lt.polygonOffsetFactor=lt.polygonOffsetUnits=this.depthOffset||0;const qt=ht?this.outlineColor||0:this.color;if(qt==null)delete lt.color;else{const cr=lt.hasOwnProperty("color")?lt.color:lt.color=new Color;(qt!==cr._input||typeof qt=="object")&&cr.set(cr._input=qt)}let Zt=this.orientation||defaultOrient;if(Zt!==lt._orientation){let cr=_t.uTroikaOrient.value;Zt=Zt.replace(/[^-+xyz]/g,"");let Gr=Zt!==defaultOrient&&Zt.match(/^([-+])([xyz])([-+])([xyz])$/);if(Gr){let[,Zr,xn,On,ss]=Gr;tempVec3a.set(0,0,0)[xn]=Zr==="-"?1:-1,tempVec3b.set(0,0,0)[ss]=On==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),cr.setFromMatrix4(tempMat4)}else cr.identity();lt._orientation=Zt}}_parsePercent(lt){if(typeof lt=="string"){let ht=lt.match(/^(-?[\d.]+)%$/),_t=ht?parseFloat(ht[1]):NaN;lt=(isNaN(_t)?0:_t/100)*this.fontSize}return lt}localPositionToTextCoords(lt,ht=new Vector2){ht.copy(lt);const _t=this.curveRadius;return _t&&(ht.x=Math.atan2(lt.x,Math.abs(_t)-Math.abs(lt.z))*Math.abs(_t)),ht}worldPositionToTextCoords(lt,ht=new Vector2){return tempVec3a.copy(lt),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),ht)}raycast(lt,ht){const{textRenderInfo:_t,curveRadius:At}=this;if(_t){const qt=_t.blockBounds,Zt=At?getCurvedRaycastMesh():getFlatRaycastMesh(),cr=Zt.geometry,{position:Gr,uv:Zr}=cr.attributes;for(let xn=0;xn<Zr.count;xn++){let On=qt[0]+Zr.getX(xn)*(qt[2]-qt[0]);const ss=qt[1]+Zr.getY(xn)*(qt[3]-qt[1]);let ls=0;At&&(ls=At-Math.cos(On/At)*At,On=Math.sin(On/At)*At),Gr.setXYZ(xn,On,ss,ls)}cr.boundingSphere=this.geometry.boundingSphere,cr.boundingBox=this.geometry.boundingBox,Zt.matrixWorld=this.matrixWorld,Zt.material.side=this.material.side,tempArray.length=0,Zt.raycast(lt,tempArray);for(let xn=0;xn<tempArray.length;xn++)tempArray[xn].object=this,ht.push(tempArray[xn])}}copy(lt){const ht=this.geometry;return super.copy(lt),this.geometry=ht,COPYABLE_PROPS.forEach(_t=>{this[_t]=lt[_t]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(ut=>{const lt="_private_"+ut;Object.defineProperty(Text$1.prototype,ut,{get(){return this[lt]},set(ht){ht!==this[lt]&&(this[lt]=ht,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({sdfGlyphSize:ut=64,anchorX:lt="center",anchorY:ht="middle",font:_t,fontSize:At=1,children:qt,characters:Zt,onSync:cr,...Gr},Zr)=>{const xn=useThree(({invalidate:cs})=>cs),[On]=reactExports.useState(()=>new Text$1),[ss,ls]=reactExports.useMemo(()=>{const cs=[];let wl="";return reactExports.Children.forEach(qt,ep=>{typeof ep=="string"||typeof ep=="number"?wl+=ep:cs.push(ep)}),[cs,wl]},[qt]);return suspend(()=>new Promise(cs=>preloadFont({font:_t,characters:Zt},cs)),["troika-text",_t,Zt]),reactExports.useLayoutEffect(()=>void On.sync(()=>{xn(),cr&&cr(On)})),reactExports.useEffect(()=>()=>On.dispose(),[On]),reactExports.createElement("primitive",_extends({object:On,ref:Zr,font:_t,text:ls,anchorX:lt,anchorY:ht,fontSize:At,sdfGlyphSize:ut},Gr),ss)});let dracoLoader=null,decoderPath="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function extensions(ut,lt,ht){return _t=>{ht&&ht(_t),ut&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof ut=="string"?ut:decoderPath),_t.setDRACOLoader(dracoLoader)),lt&&_t.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(ut,lt=!0,ht=!0,_t){return useLoader(GLTFLoader,ut,extensions(lt,ht,_t))}useGLTF.preload=(ut,lt=!0,ht=!0,_t)=>useLoader.preload(GLTFLoader,ut,extensions(lt,ht,_t));useGLTF.clear=ut=>useLoader.clear(GLTFLoader,ut);useGLTF.setDecoderPath=ut=>{decoderPath=ut};function useAnimations(ut,lt){const ht=reactExports.useRef(),[_t]=reactExports.useState(()=>lt?lt instanceof Object3D?{current:lt}:lt:ht),[At]=reactExports.useState(()=>new AnimationMixer(void 0));reactExports.useLayoutEffect(()=>{lt&&(_t.current=lt instanceof Object3D?lt:lt.current),At._root=_t.current});const qt=reactExports.useRef({}),Zt=reactExports.useMemo(()=>{const cr={};return ut.forEach(Gr=>Object.defineProperty(cr,Gr.name,{enumerable:!0,get(){if(_t.current)return qt.current[Gr.name]||(qt.current[Gr.name]=At.clipAction(Gr,_t.current))},configurable:!0})),{ref:_t,clips:ut,actions:cr,names:ut.map(Gr=>Gr.name),mixer:At}},[ut]);return useFrame((cr,Gr)=>At.update(Gr)),reactExports.useEffect(()=>{const cr=_t.current;return()=>{qt.current={},At.stopAllAction(),Object.values(Zt.actions).forEach(Gr=>{cr&&At.uncacheAction(Gr,cr)})}},[ut]),Zt}const presetsObj={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},CUBEMAP_ROOT="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",isArray=ut=>Array.isArray(ut);function useEnvironment({files:ut=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:lt="",preset:ht=void 0,encoding:_t=void 0,extensions:At}={}){var qt;let Zt=null,cr=!1,Gr;if(ht){if(!(ht in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));ut=presetsObj[ht],lt=CUBEMAP_ROOT}if(cr=isArray(ut),Gr=isArray(ut)?"cube":ut.startsWith("data:application/exr")?"exr":ut.startsWith("data:application/hdr")?"hdr":(qt=ut.split(".").pop())==null||(qt=qt.split("?"))==null||(qt=qt.shift())==null?void 0:qt.toLowerCase(),Zt=cr?CubeTextureLoader:Gr==="hdr"?RGBELoader:Gr==="exr"?EXRLoader:null,!Zt)throw new Error("useEnvironment: Unrecognized file extension: "+ut);const Zr=useLoader(Zt,cr?[ut]:ut,ls=>{ls.setPath==null||ls.setPath(lt),At&&At(ls)}),xn=cr?Zr[0]:Zr;xn.mapping=cr?CubeReflectionMapping:EquirectangularReflectionMapping;const On=3001,ss=3e3;return"colorSpace"in xn?xn.colorSpace=_t??cr?"srgb":"srgb-linear":xn.encoding=_t??cr?On:ss,xn}const isRef=ut=>ut.current&&ut.current.isScene,resolveScene=ut=>isRef(ut)?ut.current:ut;function setEnvProps(ut,lt,ht,_t,At=0){const qt=resolveScene(lt||ht),Zt=qt.background,cr=qt.environment,Gr=qt.backgroundBlurriness||0;return ut!=="only"&&(qt.environment=_t),ut&&(qt.background=_t),ut&&qt.backgroundBlurriness!==void 0&&(qt.backgroundBlurriness=At),()=>{ut!=="only"&&(qt.environment=cr),ut&&(qt.background=Zt),ut&&qt.backgroundBlurriness!==void 0&&(qt.backgroundBlurriness=Gr)}}function EnvironmentMap({scene:ut,background:lt=!1,blur:ht,map:_t}){const At=useThree(qt=>qt.scene);return reactExports.useLayoutEffect(()=>{if(_t)return setEnvProps(lt,ut,At,_t,ht)},[At,ut,_t,lt,ht]),null}function EnvironmentCube({background:ut=!1,scene:lt,blur:ht,..._t}){const At=useEnvironment(_t),qt=useThree(Zt=>Zt.scene);return reactExports.useLayoutEffect(()=>setEnvProps(ut,lt,qt,At,ht),[At,ut,lt,qt,ht]),null}function EnvironmentPortal({children:ut,near:lt=1,far:ht=1e3,resolution:_t=256,frames:At=1,map:qt,background:Zt=!1,blur:cr,scene:Gr,files:Zr,path:xn,preset:On=void 0,extensions:ss}){const ls=useThree(cp=>cp.gl),cs=useThree(cp=>cp.scene),wl=reactExports.useRef(null),[ep]=reactExports.useState(()=>new Scene),Al=reactExports.useMemo(()=>{const cp=new WebGLCubeRenderTarget(_t);return cp.texture.type=HalfFloatType,cp},[_t]);reactExports.useLayoutEffect(()=>(At===1&&wl.current.update(ls,ep),setEnvProps(Zt,Gr,cs,Al.texture,cr)),[ut,ep,Al.texture,Gr,cs,Zt,At,ls]);let np=1;return useFrame(()=>{(At===1/0||np<At)&&(wl.current.update(ls,ep),np++)}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,ut,reactExports.createElement("cubeCamera",{ref:wl,args:[lt,ht,Al]}),Zr||On?reactExports.createElement(EnvironmentCube,{background:!0,files:Zr,preset:On,path:xn,extensions:ss}):qt?reactExports.createElement(EnvironmentMap,{background:!0,map:qt,extensions:ss}):null),ep))}function EnvironmentGround(ut){var lt,ht,_t,At;const qt=useEnvironment(ut),Zt=ut.map||qt;reactExports.useMemo(()=>extend({GroundProjectedEnvImpl:GroundProjectedEnv}),[]);const cr=reactExports.useMemo(()=>[Zt],[Zt]),Gr=(lt=ut.ground)==null?void 0:lt.height,Zr=(ht=ut.ground)==null?void 0:ht.radius,xn=(_t=(At=ut.ground)==null?void 0:At.scale)!==null&&_t!==void 0?_t:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends({},ut,{map:Zt})),reactExports.createElement("groundProjectedEnvImpl",{args:cr,scale:xn,height:Gr,radius:Zr}))}function Environment(ut){return ut.ground?reactExports.createElement(EnvironmentGround,ut):ut.map?reactExports.createElement(EnvironmentMap,ut):ut.children?reactExports.createElement(EnvironmentPortal,ut):reactExports.createElement(EnvironmentCube,ut)}function handlePlayerHit(){const ut=store.getState(),{player:lt,enemies:ht,updateEnemyHealth:_t,removeEnemy:At}=ut;if(!lt.targetId)return;const qt=ht.find(Gr=>Gr.id===lt.targetId);if(!(qt!=null&&qt.id))return;const Zt=calculateBasePlayerDamage(lt),cr=qt.health-Zt;cr<=0?At(qt.id):_t(qt.id,cr)}function calculateBasePlayerDamage(ut){return ut.baseDamage}function lerpAngle(ut,lt,ht){const _t=(lt-ut+Math.PI)%(2*Math.PI)-Math.PI;return ut+_t*ht}function useLookAtTarget({selfRef:ut,targetPosition:lt,enabled:ht=!0,smooth:_t=!0,instantLookAt:At=!1,rotationSpeed:qt=5,fallbackMovement:Zt}){const cr=reactExports.useRef(new Vector3),Gr=reactExports.useRef(0),Zr=reactExports.useRef(ht);reactExports.useEffect(()=>{if(ut!=null&&ut.current){if(Zr.current&&!ht&&Zt){const{x:xn,z:On}=Zt;if(xn*xn+On*On>1e-4){const ls=Math.atan2(xn,On);ut.current.rotation.y=ls,Gr.current=ls}}Zr.current=ht}},[ht,Zt]),reactExports.useEffect(()=>{!ht||!(ut!=null&&ut.current)||!lt||At&&(cr.current.set(lt.x,lt.y??0,lt.z),ut.current.lookAt(cr.current))},[ht,At,lt==null?void 0:lt.x,lt==null?void 0:lt.z]),useFrame((xn,On)=>{if(!ht||!(ut!=null&&ut.current)||!lt||At)return;const ss=ut.current;cr.current.set(lt.x,ss.position.y,lt.z);const ls=cr.current.clone().sub(ss.position);if(ls.y=0,ls.lengthSq()<1e-4)return;const cs=Math.atan2(ls.x,ls.z);_t?(Gr.current=lerpAngle(Gr.current,cs,qt*On),ss.rotation.y=Gr.current):(ss.rotation.y=cs,Gr.current=cs)})}function useAttackBehavior({isAttacking:ut,attackAction:lt,hitTime:ht=.5,onHit:_t,onAttackComplete:At,selfRef:qt,targetPosition:Zt}){const cr=reactExports.useRef(0),Gr=reactExports.useRef(0),Zr=reactExports.useRef(!1);useLookAtTarget({selfRef:qt,targetPosition:Zt,enabled:ut,smooth:!0}),reactExports.useEffect(()=>{if(!ut||!lt)return;const xn=lt.getMixer(),On=lt.getClip();cr.current=On.duration/(lt.timeScale||1),Gr.current=performance.now(),Zr.current=!1,lt.clampWhenFinished=!0,lt.reset().setLoop(LoopOnce,1).play();const ss=ls=>{ls.action===lt&&(At==null||At(ls),ut&&(lt.reset().play(),Gr.current=performance.now(),Zr.current=!1))};return xn.addEventListener("finished",ss),()=>{xn.removeEventListener("finished",ss),lt.stop()}},[ut,lt]),useFrame(()=>{if(!ut||!lt||Zr.current)return;const xn=(performance.now()-Gr.current)/1e3,On=cr.current*ht;xn>=On&&(_t==null||_t(),Zr.current=!0)})}function useMovementDirectionTracker({isMoving:ut,movementVec:lt,selfRef:ht}){const _t=reactExports.useRef(new Vector3(0,0,1));reactExports.useEffect(()=>{ut&&(lt.x!==0||lt.z!==0)&&_t.current.set(lt.x,0,lt.z).normalize()},[ut,lt.x,lt.z]),reactExports.useEffect(()=>{if(!ut&&(ht!=null&&ht.current)){const At=_t.current,qt=Math.atan2(At.x,At.z);ht.current.rotation.y=qt}},[ut])}function useMovementBehavior({isMoving:ut,isAttacking:lt,runAction:ht,combatMoveAction:_t,idleAction:At,selfRef:qt,targetPosition:Zt}){const cr=useGameStore(Gr=>Gr.input.movement);useLookAtTarget({selfRef:qt,targetPosition:Zt,enabled:lt,smooth:!0,fallbackMovement:cr}),useMovementDirectionTracker({isMoving:ut,movementVec:cr,selfRef:qt}),reactExports.useEffect(()=>{const Gr=[ht,_t,At];let Zr;ut?Zr=lt?_t:ht:Zr=At,Gr.forEach(xn=>{xn&&xn!==Zr&&xn.fadeOut(.2)}),Zr==null||Zr.reset().fadeIn(.2).play()},[ut,lt,ht,_t,At])}function useEnableShadows(ut,lt){reactExports.useEffect(()=>{if(!ut)return;const{castShadow:ht=!0,receiveShadow:_t=!1}=lt||{};ut.traverse(At=>{At instanceof Mesh&&(At.castShadow=ht,At.receiveShadow=_t)})},[ut,lt])}function Player({position:ut,isMoving:lt,isAttacking:ht,health:_t,maxHealth:At,rotation:qt,enemies:Zt,playerId:cr,playerName:Gr}){const Zr=useGameStore(selectEnemies),xn=useGameStore(selectPlayerTarget),On=Zt||Zr,ss=reactExports.useRef(null),{scene:ls,animations:cs}=useGLTF("models/player.glb"),{actions:wl}=useAnimations(cs,ss),ep=reactExports.useMemo(()=>On.find(jp=>jp.id===xn),[On,xn]),Al=reactExports.useCallback(()=>{console.log(" ")},[]),np=wl.Attack,cp=wl.Run,Cp=wl.Idle,Lp=wl.Combat;return useAttackBehavior({isAttacking:ht,attackAction:np,hitTime:.4,onHit:handlePlayerHit,onAttackComplete:Al,selfRef:ss,targetPosition:ep==null?void 0:ep.position}),useMovementBehavior({isMoving:lt,isAttacking:ht,runAction:cp,combatMoveAction:Lp,idleAction:Cp,selfRef:ss,targetPosition:ep==null?void 0:ep.position}),useEnableShadows(ls),jsxs("group",{children:[jsx("primitive",{ref:ss,object:ls,position:[ut.x,.5,ut.z],rotation:[0,qt,0]}),jsx(Text,{position:[ut.x,2.5,ut.z],fontSize:.3,color:"red",anchorX:"center",anchorY:"middle",children:`${_t}/${At}`}),Gr&&jsx(Text,{position:[ut.x,3,ut.z],fontSize:.25,color:"white",anchorX:"center",anchorY:"middle",children:Gr})]})}function useEnemyAI$1({enemy:ut,playerPosition:lt,selfRef:ht,onAttack:_t}){useFrame((At,qt)=>{if(!ht.current)return;const Zt=Math.hypot(lt.x-ut.position.x,lt.z-ut.position.z);if(Zt<=ut.attackRange)Date.now()-ut.lastAttackTime>1e3&&!ut.isAttacking&&_t(ut.id);else if(Zt>ut.attackRange){const Zr=lt.x-ut.position.x,xn=lt.z-ut.position.z,On=Math.hypot(Zr,xn);On>.1&&(ut.position.x+=Zr/On*ut.speed*qt,ut.position.z+=xn/On*ut.speed*qt)}const cr=Math.atan2(lt.x-ut.position.x,lt.z-ut.position.z);ht.current.rotation.y=cr;const Gr=At.clock.elapsedTime;ht.current.position.y=ut.isAttacking?.5+Math.sin(Gr*15)*.2:.5+Math.sin(Gr*4)*.08}),reactExports.useEffect(()=>{ht.current&&(ht.current.position.x=ut.position.x,ht.current.position.z=ut.position.z)},[ut.position.x,ut.position.z])}class ModelCache{constructor(){uB(this,"cache",new Map);uB(this,"maxCacheSize",10)}getClone(lt,ht){let _t=this.cache.get(ht);_t||(_t=[],this.cache.set(ht,_t));const At=_t.find(qt=>!qt.userData.inUse);if(At)return At.userData.inUse=!0,At;if(_t.length<this.maxCacheSize){const qt=SkeletonUtils.clone(lt);return qt.userData.inUse=!0,_t.push(qt),qt}return SkeletonUtils.clone(lt)}returnClone(lt,ht){const _t=this.cache.get(ht);_t&&_t.includes(lt)&&(lt.userData.inUse=!1,lt.position.set(0,0,0),lt.rotation.set(0,0,0),lt.scale.set(1,1,1))}clear(){this.cache.clear()}getStats(){const lt={};return this.cache.forEach((ht,_t)=>{lt[_t]={total:ht.length,inUse:ht.filter(At=>At.userData.inUse).length}}),lt}}const modelCache=new ModelCache;function Enemy({enemy:ut,playerPosition:lt,onAttack:ht}){const _t=reactExports.useRef(null),{scene:At,animations:qt}=useGLTF("models/monster.glb"),Zt=reactExports.useMemo(()=>modelCache.getClone(At,"monster"),[At]),{actions:cr}=useAnimations(qt,_t),Gr=reactExports.useCallback(On=>{ht(On)},[ht]),Zr=cr.Attack,xn=cr.Run;return useMovementBehavior({isMoving:!0,isAttacking:ut.isAttacking,runAction:xn,selfRef:_t,targetPosition:lt}),useAttackBehavior({isAttacking:ut.isAttacking,attackAction:Zr,hitTime:.4,onHit:()=>{},onAttackComplete:()=>console.log(" "),selfRef:_t,targetPosition:lt}),useEnemyAI$1({enemy:ut,playerPosition:lt,selfRef:_t,onAttack:Gr}),reactExports.useEffect(()=>()=>{Zt&&modelCache.returnClone(Zt,"monster")},[Zt]),jsxs("group",{children:[jsx("primitive",{ref:_t,object:Zt,position:[ut.position.x,.5,ut.position.z]}),jsx(Text,{position:[ut.position.x,2.2,ut.position.z],fontSize:.25,color:"darkred",anchorX:"center",anchorY:"middle",children:`${ut.health}/${ut.maxHealth}`})]})}function Terrain(){const ut=reactExports.useMemo(()=>Array.from({length:8}).map((ht,_t)=>({id:_t,position:[(Math.random()-.5)*40,Math.random()*.5,(Math.random()-.5)*40],geometry:[Math.random()*3+1,Math.random()*4+2,Math.random()*2+1,8]})),[]),lt=reactExports.useMemo(()=>Array.from({length:15}).map((ht,_t)=>({id:_t,position:[(Math.random()-.5)*45,Math.random()*.3,(Math.random()-.5)*45],size:Math.random()*.8+.3})),[]);return jsxs("group",{children:[jsxs("mesh",{receiveShadow:!0,rotation:[-Math.PI/2,0,0],position:[0,-.1,0],children:[jsx("planeGeometry",{args:[50,50]}),jsx("meshStandardMaterial",{color:"#4a5d23"})]}),ut.map(ht=>jsxs("mesh",{castShadow:!0,receiveShadow:!0,position:ht.position,children:[jsx("cylinderGeometry",{args:ht.geometry}),jsx("meshStandardMaterial",{color:"#3a4d1a"})]},ht.id)),lt.map(ht=>jsxs("mesh",{castShadow:!0,receiveShadow:!0,position:ht.position,children:[jsx("dodecahedronGeometry",{args:[ht.size]}),jsx("meshStandardMaterial",{color:"#6b7280"})]},`rock-${ht.id}`))]})}function IsometricCamera({target:ut}){const{camera:lt}=useThree();return useFrame(()=>{const ht={x:8,y:12,z:8};lt.position.set(ut.x+ht.x,ht.y,ut.z+ht.z),lt.lookAt(ut.x,0,ut.z)}),null}function GameUI({playerPosition:ut,playerHealth:lt,enemyCount:ht}){return jsxs(Fragment,{children:[lt<=0&&jsx(Text,{position:[ut.x,5,ut.z],fontSize:1,color:"red",anchorX:"center",anchorY:"middle",children:"GAME OVER"}),ht===0&&lt>0&&jsx(Text,{position:[ut.x,5,ut.z],fontSize:1,color:"green",anchorX:"center",anchorY:"middle",children:"VICTORY!"})]})}function GameControls(){return jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",color:"white",fontSize:"14px",background:"rgba(0,0,0,0.7)",padding:"10px",borderRadius:"5px"},children:jsx("div",{children:"WASD/ - "})})}function MobileControls({onMove:ut,onAttack:lt,onStopMove:ht}){const _t=reactExports.useRef(null),At=reactExports.useRef(null),[qt,Zt]=reactExports.useState({isDragging:!1,startPos:{x:0,y:0},currentPos:{x:0,y:0},touchId:null}),cr=50,Gr=reactExports.useCallback((ep,Al,np)=>{if(!_t.current)return;const cp=_t.current.getBoundingClientRect(),Cp=cp.left+cp.width/2,Lp=cp.top+cp.height/2;Zt({isDragging:!0,startPos:{x:Cp,y:Lp},currentPos:{x:ep,y:Al},touchId:np??null})},[]),Zr=reactExports.useCallback((ep,Al)=>{if(!qt.isDragging)return;const np=ep-qt.startPos.x,cp=Al-qt.startPos.y,Cp=Math.sqrt(np*np+cp*cp);let Lp=np,jp=cp;Cp>cr&&(Lp=np/Cp*cr,jp=cp/Cp*cr),Zt(i1=>({...i1,currentPos:{x:qt.startPos.x+Lp,y:qt.startPos.y+jp}}));const nm=Lp/cr,zm=jp/cr;(Math.abs(nm)>.1||Math.abs(zm)>.1)&&ut({x:nm,z:zm})},[qt,ut,cr]),xn=reactExports.useCallback(()=>{Zt({isDragging:!1,startPos:{x:0,y:0},currentPos:{x:0,y:0},touchId:null}),ht()},[ht]),On=ep=>{ep.preventDefault(),ep.stopPropagation();const Al=ep.touches[0];Gr(Al.clientX,Al.clientY,Al.identifier)},ss=ep=>{if(ep.preventDefault(),ep.stopPropagation(),!qt.isDragging||qt.touchId===null)return;const Al=Array.from(ep.touches).find(np=>np.identifier===qt.touchId);Al&&Zr(Al.clientX,Al.clientY)},ls=ep=>{ep.preventDefault(),ep.stopPropagation(),Array.from(ep.changedTouches).some(np=>np.identifier===qt.touchId)&&xn()},cs=ep=>{ep.preventDefault(),Gr(ep.clientX,ep.clientY)};reactExports.useEffect(()=>{const ep=Cp=>{Zr(Cp.clientX,Cp.clientY)},Al=()=>{xn()},np=Cp=>{if(qt.isDragging&&qt.touchId!==null){const Lp=Array.from(Cp.touches).find(jp=>jp.identifier===qt.touchId);Lp&&Zr(Lp.clientX,Lp.clientY)}},cp=Cp=>{qt.isDragging&&qt.touchId!==null&&Array.from(Cp.changedTouches).some(jp=>jp.identifier===qt.touchId)&&xn()};return qt.isDragging&&(document.addEventListener("mousemove",ep),document.addEventListener("mouseup",Al),document.addEventListener("touchmove",np,{passive:!1}),document.addEventListener("touchend",cp),document.addEventListener("touchcancel",cp)),()=>{document.removeEventListener("mousemove",ep),document.removeEventListener("mouseup",Al),document.removeEventListener("touchmove",np),document.removeEventListener("touchend",cp),document.removeEventListener("touchcancel",cp)}},[qt.isDragging,Zr,xn]);const wl=qt.isDragging&&_t.current?{transform:`translate(${qt.currentPos.x-qt.startPos.x}px, ${qt.currentPos.y-qt.startPos.y}px)`}:{};return jsxs("div",{"data-game-control":!0,style:{position:"absolute",bottom:"20px",left:"20px",right:"20px",display:"flex",justifyContent:"space-between",alignItems:"flex-end",pointerEvents:"none",zIndex:1e3},children:[jsxs("div",{ref:_t,"data-game-control":!0,style:{width:"120px",height:"120px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)",border:"3px solid rgba(255, 255, 255, 0.3)",position:"relative",pointerEvents:"auto",touchAction:"none",WebkitUserSelect:"none",WebkitTouchCallout:"none"},onTouchStart:On,onTouchMove:ss,onTouchEnd:ls,onMouseDown:cs,children:[jsx("div",{ref:At,style:{width:"50px",height:"50px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.8)",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",transition:qt.isDragging?"none":"transform 0.2s ease",...wl}}),jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"24px",color:"rgba(255, 255, 255, 0.7)",pointerEvents:"none"},children:""})]}),jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"15px",alignItems:"center"},children:[jsx("button",{"data-game-control":!0,style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"rgba(255, 0, 0, 0.7)",border:"3px solid rgba(255, 255, 255, 0.3)",color:"white",fontSize:"18px",fontWeight:"bold",cursor:"pointer",pointerEvents:"auto",touchAction:"manipulation",display:"flex",alignItems:"center",justifyContent:"center"},onTouchStart:ep=>{ep.preventDefault(),ep.stopPropagation(),lt()},onTouchEnd:ep=>{ep.preventDefault(),ep.stopPropagation()},onMouseDown:ep=>{ep.preventDefault(),ep.stopPropagation(),lt()},children:""}),jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"rgba(100, 100, 100, 0.3)",border:"2px dashed rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",color:"rgba(255, 255, 255, 0.4)",fontSize:"12px"},children:"SKILL"})]})]})}function isInRange(ut,lt,ht){const _t=lt.x-ut.x,At=lt.z-ut.z,qt=_t*_t+At*At;return{inRange:qt<=ht*ht,distance:qt}}function useAutoTarget({selfPosition:ut,currentTargetId:lt,range:ht,targets:_t,setTarget:At,onTargetChanged:qt}){const Zt=reactExports.useMemo(()=>_t.map(cr=>`${cr.id}:${cr.position.x},${cr.position.z}`).join("|"),[_t]);reactExports.useEffect(()=>{if(!_t.length){lt!==null&&(At(null),qt==null||qt(!1));return}if(lt!==null){_t.some(On=>On.id===lt&&isInRange(ut,On.position,ht).inRange)||(At(null),qt==null||qt(!1));return}let cr=null,Gr=1/0,Zr=!1;for(const xn of _t){const{distance:On,inRange:ss}=isInRange(ut,xn.position,ht);On<Gr&&(Gr=On,cr=xn.id),ss&&(Zr=!0)}if(!Zr){lt!==null&&(At(null),qt==null||qt(!1));return}cr!==lt&&(At(cr),qt==null||qt(!0))},[ut.x,ut.z,lt,ht,Zt])}function usePlayerMovement(){const ut=useGameStore(selectInput),lt=useGameStore(selectPlayer),ht=useGameStore(selectUpdatePlayerPosition);useFrame((_t,At)=>{if(!ut.isMoving)return;const qt=lt.isAttacking?lt.speed/1.4:lt.speed,Zt={x:lt.position.x+ut.movement.x*qt*At,z:lt.position.z+ut.movement.z*qt*At};ht(Zt)})}function usePlayerAttack(){const ut=useGameStore(Zt=>Zt.input),lt=useGameStore(Zt=>Zt.player),ht=useGameStore(Zt=>Zt.enemies),_t=useGameStore(Zt=>Zt.setPlayerAttacking),At=useGameStore(Zt=>Zt.updateEnemyHealth),qt=useGameStore(Zt=>Zt.removeEnemy);useFrame(()=>{if(!ut.attackPressed||Date.now()-lt.lastAttackTime<800)return;let cr=!1;ht.forEach(Gr=>{const Zr=Gr.position.x-lt.position.x,xn=Gr.position.z-lt.position.z;if(Math.sqrt(Zr*Zr+xn*xn)<=lt.attackRange){const ss=Gr.health-20;ss<=0?qt(Gr.id):At(Gr.id,ss),cr=!0}}),_t(!0)})}function useEnemyAI(){const ut=useGameStore(qt=>qt.enemies),lt=useGameStore(qt=>qt.player),ht=useGameStore(qt=>qt.updateEnemyPosition),_t=useGameStore(qt=>qt.setEnemyAttacking),At=useGameStore(qt=>qt.updatePlayerHealth);useFrame((qt,Zt)=>{ut.forEach(cr=>{const Gr=lt.position.x-cr.position.x,Zr=lt.position.z-cr.position.z,xn=Math.sqrt(Gr*Gr+Zr*Zr),On=Date.now();if(xn<=cr.attackRange)On-cr.lastAttackTime>1200&&(_t(cr.id,!0),At(lt.health-cr.baseDamage));else if(xn<10){const ss={x:Gr/xn,z:Zr/xn},ls={x:cr.position.x+ss.x*cr.speed*Zt,z:cr.position.z+ss.z*cr.speed*Zt};ht(cr.id,ls)}})})}function useGameLogic({enemies:ut,useStoreMovement:lt=!0,useStoreAttack:ht=!0,useEnemyAI:_t=!0}){const At=useGameStore(selectGameRunning),qt=useGameStore(selectPlayer),Zt=useGameStore(selectInput),cr=useGameStore(selectSetPlayerTarget),Gr=useGameStore(selectSetPlayerAttacking);return lt&&usePlayerMovement(),ht&&usePlayerAttack(),_t&&useEnemyAI(),useAutoTarget({selfPosition:qt.position,currentTargetId:qt.targetId,range:qt.attackRange,targets:ut,setTarget:cr,onTargetChanged:Gr}),useFrame((Zr,xn)=>{}),{player:qt,enemies:ut,gameRunning:At,playerRotation:Zt.isMoving?Math.atan2(Zt.movement.x,Zt.movement.z):0,isMoving:Zt.isMoving}}function PvPDuelLogic(){const lt=useGameStore(selectPlayersFromRoom("RUARH")).map(cr=>cr.state.getState("player")),ht=lt.filter(cr=>{var Gr;return cr.id===((Gr=Hn())==null?void 0:Gr.id)});console.log("roomPlayers",lt,ht);const{player:_t,enemies:At,playerRotation:qt,isMoving:Zt}=useGameLogic({enemies:ht,useStoreMovement:!0,useStoreAttack:!0,useEnemyAI:!0});return console.log("GameLogic",_t,At,qt,Zt),jsxs(Fragment,{children:[jsx(IsometricCamera,{target:_t.position}),jsx(Terrain,{}),jsx(Player,{position:_t.position,isMoving:Zt,isAttacking:_t.isAttacking,health:_t.health,maxHealth:_t.maxHealth,rotation:qt,enemies:At}),ht.map(cr=>jsx(Player,{position:cr.position,isMoving:!0,isAttacking:cr.isAttacking,health:cr.health,maxHealth:cr.maxHealth,rotation:0,enemies:[_t,...ht.filter(Gr=>Gr.id!=cr.id)]})),jsx(GameUI,{playerPosition:_t.position,playerHealth:_t.health,enemyCount:At.length})]})}function useKeyboardInput(){const ut=reactExports.useRef(new Set),lt=useGameStore(_t=>_t.setPlayerMovement),ht=useGameStore(_t=>_t.stopPlayerMovement);return reactExports.useEffect(()=>{const _t=Zt=>{const cr=Zt.key.toLowerCase();ut.current.add(cr),qt()},At=Zt=>{const cr=Zt.key.toLowerCase();ut.current.delete(cr),qt()},qt=()=>{let Zt=0,cr=0;if((ut.current.has("w")||ut.current.has(""))&&(cr-=1,Zt-=1),(ut.current.has("s")||ut.current.has(""))&&(cr+=1,Zt+=1),(ut.current.has("a")||ut.current.has(""))&&(Zt-=1,cr+=1),(ut.current.has("d")||ut.current.has(""))&&(Zt+=1,cr-=1),Zt!==0||cr!==0){const Gr=Math.sqrt(Zt*Zt+cr*cr);Gr>0&&(Zt/=Gr,cr/=Gr),lt(Zt,cr)}else ht()};return window.addEventListener("keydown",_t),window.addEventListener("keyup",At),()=>{window.removeEventListener("keydown",_t),window.removeEventListener("keyup",At)}},[lt,ht]),{keysPressed:ut.current}}function useMobileInput(){const ut=useGameStore(Zt=>Zt.setPlayerMovement),lt=useGameStore(Zt=>Zt.stopPlayerMovement),ht=useGameStore(Zt=>Zt.triggerPlayerAttack);return{handleMove:Zt=>{const cr=Math.sqrt(Zt.x*Zt.x+Zt.z*Zt.z);if(cr>0){const Gr=Zt.x/cr,Zr=Zt.z/cr;ut(Gr,Zr)}},handleStopMove:()=>{lt()},handleAttack:()=>{ht()}}}var c=function(ut){var lt,ht;function _t(qt){var Zt;return(Zt=ut.call(this,qt)||this).state={hasError:!1,error:null},Zt}ht=ut,(lt=_t).prototype=Object.create(ht.prototype),lt.prototype.constructor=lt,lt.__proto__=ht,_t.getDerivedStateFromError=function(qt){return{hasError:!0,error:qt}};var At=_t.prototype;return At.componentDidCatch=function(qt,Zt){return this.props.onDidCatch(qt,Zt)},At.render=function(){var qt=this.state,Zt=this.props,cr=Zt.render,Gr=Zt.children,Zr=Zt.renderError;return qt.hasError?Zr?Zr({error:qt.error}):null:cr?cr():Gr||null},_t}(reactExports.PureComponent),u=function(ut,lt){switch(lt.type){case"catch":return{didCatch:!0,error:lt.error};case"reset":return{didCatch:!1,error:null};default:return ut}};function a(ut){var lt=reactExports.useReducer(u,{didCatch:!1,error:null}),ht=lt[0],_t=lt[1],At=reactExports.useRef(null);function qt(){return Gr=function(Zr,xn){_t({type:"catch",error:Zr}),ut&&ut.onDidCatch&&ut.onDidCatch(Zr,xn)},function(Zr){return r$1.createElement(c,{onDidCatch:Gr,children:Zr.children,render:Zr.render,renderError:Zr.renderError})};var Gr}var Zt,cr=reactExports.useCallback(function(){At.current=qt(),_t({type:"reset"})},[]);return{ErrorBoundary:(Zt=At.current,Zt!==null?Zt:(At.current=qt(),At.current)),didCatch:ht.didCatch,error:ht.error,reset:cr}}function PvEGameLogic(){const ut=useGameStore(selectEnemies),{player:lt,enemies:ht,playerRotation:_t,isMoving:At}=useGameLogic({enemies:ut,useStoreMovement:!0,useStoreAttack:!0,useEnemyAI:!0});return jsxs(Fragment,{children:[jsx(IsometricCamera,{target:lt.position}),jsx(Terrain,{}),jsx(Player,{position:lt.position,isMoving:At,isAttacking:lt.isAttacking,health:lt.health,maxHealth:lt.maxHealth,rotation:_t,enemies:ht}),ht.map(qt=>jsx(Enemy,{enemy:qt,playerPosition:lt.position,onAttack:()=>{}},qt.id)),jsx(GameUI,{playerPosition:lt.position,playerHealth:lt.health,enemyCount:ht.length})]})}function GameCanvas({mode:ut="pve"}){const{didCatch:lt,error:ht}=a();useKeyboardInput();const _t=useMobileInput(),At="ontouchstart"in window;return lt?jsx("div",{children:ht.message}):jsxs("div",{style:{position:"relative",width:"100%",height:"500px"},children:[jsxs(Canvas,{shadows:!0,camera:{position:[8,12,8],fov:40},children:[jsx("directionalLight",{position:[10,10,5],intensity:.5,castShadow:!0,"shadow-mapSize-width":4096,"shadow-mapSize-height":4096,"shadow-camera-far":80,"shadow-camera-left":-30,"shadow-camera-right":30,"shadow-camera-top":25,"shadow-camera-bottom":-25,"shadow-bias":-1e-4}),jsx(Environment,{preset:"sunset"}),jsx(ut==="pvp"?PvPDuelLogic:PvEGameLogic,{})]}),At?jsx(MobileControls,{onMove:_t.handleMove,onAttack:_t.handleAttack,onStopMove:_t.handleStopMove}):jsx(GameControls,{})]})}const TAG="[activities]";async function fetchActivities(){const ut=await api.get("/activities");return console.info(`${TAG}: fetch activities response.data`,ut.data),ut.data}async function reward(ut,lt){const ht=await api.post("/activities/reward",{id:ut,args:lt});console.info(`${TAG} response`,ht)}function useActivities(){const[ut,lt]=reactExports.useState([]),[ht,_t]=reactExports.useState(!0),[At,qt]=reactExports.useState(null);return reactExports.useEffect(()=>{let Zt=!0;async function cr(){try{const Gr=await fetchActivities();Zt&&lt(Gr)}catch(Gr){Zt&&qt(Gr)}finally{Zt&&_t(!1)}}return cr(),()=>{Zt=!1}},[]),{activities:ut,loading:ht,error:At,reward}}const ActivitiesContext=reactExports.createContext(void 0);function ActivitiesProvider({children:ut}){const{activities:lt,loading:ht,error:_t}=useActivities(),At=reactExports.useMemo(()=>{const Gr={};return(lt??[]).forEach(Zr=>{Gr[Zr.id]=Zr}),Gr},[lt]),qt=Gr=>At[Gr],Zt=Gr=>{var Zr;return(Zr=At[Gr])==null?void 0:Zr.token},cr=reactExports.useMemo(()=>Object.keys(At),[At]);return jsx(ActivitiesContext.Provider,{value:{activities:lt,loading:ht,error:_t,getActivityById:qt,getTokenById:Zt,activityIds:cr},children:ut})}function App(){const ut=useGameStore(selectGameRunning),lt=useGameStore(selectGameMode);return jsx(UserProvider,{children:jsx(ActivitiesProvider,{children:jsxs(StyledApp,{children:[jsx(Loader,{}),jsx(AppContainer,{children:jsxs(FlexBoxCol,{children:[jsx(AppHeader,{}),ut&&jsx(GameCanvas,{mode:lt})]})})]})})})}function tgConfig(){var ut;(ut=window.Telegram)!=null&&ut.WebApp&&window.addEventListener("load",()=>{if(window.Telegram&&window.Telegram.WebApp){const lt=window.Telegram.WebApp;lt.expand(),lt.disableVerticalSwipes&&lt.disableVerticalSwipes(),lt.setHeaderColor("#000000"),lt.ready()}document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.body.style.overscrollBehavior="none",document.documentElement.style.overscrollBehavior="none"})}const index="";tgConfig();const manifestUrl="https://clayzenx.github.io/twa-gta/tonconnect-manifest.json",queryClient=new QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});client.createRoot(document.getElementById("root")).render(jsx(TonConnectUIProvider$1,{manifestUrl,children:jsx(QueryClientProvider,{client:queryClient,children:jsx(App,{})})}));export{_global$1 as _};
